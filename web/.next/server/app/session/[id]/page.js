/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/session/[id]/page";
exports.ids = ["app/session/[id]/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?d1cc":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?7f96":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsession%2F%5Bid%5D%2Fpage&page=%2Fsession%2F%5Bid%5D%2Fpage&appPaths=%2Fsession%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fsession%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsession%2F%5Bid%5D%2Fpage&page=%2Fsession%2F%5Bid%5D%2Fpage&appPaths=%2Fsession%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fsession%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?41d8\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/../node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/../node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'session',\n        {\n        children: [\n        '[id]',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/session/[id]/page.tsx */ \"(rsc)/./src/app/session/[id]/page.tsx\")), \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"/Users/marukaneko/omegle-game/web/src/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/../node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/session/[id]/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/session/[id]/page\",\n        pathname: \"/session/[id]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGc2Vzc2lvbiUyRiU1QmlkJTVEJTJGcGFnZSZwYWdlPSUyRnNlc3Npb24lMkYlNUJpZCU1RCUyRnBhZ2UmYXBwUGF0aHM9JTJGc2Vzc2lvbiUyRiU1QmlkJTVEJTJGcGFnZSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRnNlc3Npb24lMkYlNUJpZCU1RCUyRnBhZ2UudHN4JmFwcERpcj0lMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRndlYiUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZtYXJ1a2FuZWtvJTJGb21lZ2xlLWdhbWUlMkZ3ZWImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxhQUFhLHNCQUFzQjtBQUNpRTtBQUNyQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsdUJBQXVCLDBLQUFvRztBQUMzSDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLG9KQUF5RjtBQUNsSCxvQkFBb0IsMk5BQWdGO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUN1QjtBQUM2RDtBQUNwRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUN1RDtBQUN2RDtBQUNPLHdCQUF3Qiw4R0FBa0I7QUFDakQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9tZWdsZS1nYW1lL3dlYi8/YTk2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcIlRVUkJPUEFDSyB7IHRyYW5zaXRpb246IG5leHQtc3NyIH1cIjtcbmltcG9ydCB7IEFwcFBhZ2VSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIFdlIGluamVjdCB0aGUgdHJlZSBhbmQgcGFnZXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IHRyZWUgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICcnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdzZXNzaW9uJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnW2lkXScsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9tYXJ1a2FuZWtvL29tZWdsZS1nYW1lL3dlYi9zcmMvYXBwL3Nlc3Npb24vW2lkXS9wYWdlLnRzeFwiKSwgXCIvVXNlcnMvbWFydWthbmVrby9vbWVnbGUtZ2FtZS93ZWIvc3JjL2FwcC9zZXNzaW9uL1tpZF0vcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL21hcnVrYW5la28vb21lZ2xlLWdhbWUvd2ViL3NyYy9hcHAvbGF5b3V0LnRzeFwiKSwgXCIvVXNlcnMvbWFydWthbmVrby9vbWVnbGUtZ2FtZS93ZWIvc3JjL2FwcC9sYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCIvVXNlcnMvbWFydWthbmVrby9vbWVnbGUtZ2FtZS93ZWIvc3JjL2FwcC9zZXNzaW9uL1tpZF0vcGFnZS50c3hcIl07XG5leHBvcnQgeyB0cmVlLCBwYWdlcyB9O1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHbG9iYWxFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnlcIjtcbmNvbnN0IF9fbmV4dF9hcHBfcmVxdWlyZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfX1xuY29uc3QgX19uZXh0X2FwcF9sb2FkX2NodW5rX18gPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKVxuZXhwb3J0IGNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9zZXNzaW9uL1tpZF0vcGFnZVwiO1xuZXhwb3J0IGNvbnN0IF9fbmV4dF9hcHBfXyA9IHtcbiAgICByZXF1aXJlOiBfX25leHRfYXBwX3JlcXVpcmVfXyxcbiAgICBsb2FkQ2h1bms6IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fXG59O1xuZXhwb3J0ICogZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCI7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBQYWdlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICBwYWdlOiBcIi9zZXNzaW9uL1tpZF0vcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvc2Vzc2lvbi9baWRdXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCIsXG4gICAgICAgIGFwcFBhdGhzOiBbXVxuICAgIH0sXG4gICAgdXNlcmxhbmQ6IHtcbiAgICAgICAgbG9hZGVyVHJlZTogdHJlZVxuICAgIH1cbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcGFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsession%2F%5Bid%5D%2Fpage&page=%2Fsession%2F%5Bid%5D%2Fpage&appPaths=%2Fsession%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fsession%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/app-router.js */ \"(ssr)/../node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/client-page.js */ \"(ssr)/../node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/../node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/../node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/../node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/../node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmFwcC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZtYXJ1a2FuZWtvJTJGb21lZ2xlLWdhbWUlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmVycm9yLWJvdW5kYXJ5LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGbWFydWthbmVrbyUyRm9tZWdsZS1nYW1lJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbGF5b3V0LXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRnJlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLG9PQUF5SDtBQUN6SDtBQUNBLHNPQUEwSDtBQUMxSDtBQUNBLDRPQUE2SDtBQUM3SDtBQUNBLDBPQUE0SDtBQUM1SDtBQUNBLG9QQUFpSTtBQUNqSTtBQUNBLHdRQUEySSIsInNvdXJjZXMiOlsid2VicGFjazovL0BvbWVnbGUtZ2FtZS93ZWIvP2NjMzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvbWFydWthbmVrby9vbWVnbGUtZ2FtZS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2FwcC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9tYXJ1a2FuZWtvL29tZWdsZS1nYW1lL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9tYXJ1a2FuZWtvL29tZWdsZS1nYW1lL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9tYXJ1a2FuZWtvL29tZWdsZS1nYW1lL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL21hcnVrYW5la28vb21lZ2xlLWdhbWUvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9tYXJ1a2FuZWtvL29tZWdsZS1nYW1lL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp%2Fsession%2F%5Bid%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp%2Fsession%2F%5Bid%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/session/[id]/page.tsx */ \"(ssr)/./src/app/session/[id]/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRndlYiUyRnNyYyUyRmFwcCUyRnNlc3Npb24lMkYlNUJpZCU1RCUyRnBhZ2UudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSwwS0FBb0ciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab21lZ2xlLWdhbWUvd2ViLz85MzJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL21hcnVrYW5la28vb21lZ2xlLWdhbWUvd2ViL3NyYy9hcHAvc2Vzc2lvbi9baWRdL3BhZ2UudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp%2Fsession%2F%5Bid%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/session/[id]/page.tsx":
/*!***************************************!*\
  !*** ./src/app/session/[id]/page.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SessionPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/../node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! socket.io-client */ \"(ssr)/../node_modules/socket.io-client/build/esm-debug/index.js\");\n/* harmony import */ var agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! agora-rtc-sdk-ng */ \"(ssr)/../node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js\");\n/* harmony import */ var agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/api */ \"(ssr)/./src/lib/api.ts\");\n/* harmony import */ var _components_games_TicTacToeGame__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/games/TicTacToeGame */ \"(ssr)/./src/components/games/TicTacToeGame.tsx\");\n/* harmony import */ var _components_games_ChessGame__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/games/ChessGame */ \"(ssr)/./src/components/games/ChessGame.tsx\");\n/* harmony import */ var _components_games_TriviaGame__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/games/TriviaGame */ \"(ssr)/./src/components/games/TriviaGame.tsx\");\n/* harmony import */ var _components_games_TruthsAndLieGame__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/games/TruthsAndLieGame */ \"(ssr)/./src/components/games/TruthsAndLieGame.tsx\");\n/* harmony import */ var _components_games_BilliardsGameV2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/games/BilliardsGameV2 */ \"(ssr)/./src/components/games/BilliardsGameV2.tsx\");\n/* harmony import */ var _components_BackButton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/BackButton */ \"(ssr)/./src/components/BackButton.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n\n// Configurable WebSocket URL\nconst WS_URL = process.env.NEXT_PUBLIC_WS_URL || \"http://localhost:3001\";\nfunction SessionPage() {\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const sessionId = params.id;\n    const [sessionData, setSessionData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [socket, setSocket] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [connected, setConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [gameType, setGameType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [gameId, setGameId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [gamePlayers, setGamePlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videoReady, setVideoReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [localVideoActive, setLocalVideoActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [remoteVideoActive, setRemoteVideoActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [videosSwapped, setVideosSwapped] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // New state for audio/video controls\n    const [isMuted, setIsMuted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isCameraOff, setIsCameraOff] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // New state for remote user info (fixes ref not triggering re-render)\n    const [remoteUserInfo, setRemoteUserInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // New state for network quality\n    const [networkQuality, setNetworkQuality] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        uplink: 0,\n        downlink: 0\n    });\n    // New state for session duration\n    const [sessionDuration, setSessionDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [sessionStartTime, setSessionStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // New state for connection status\n    const [connectionState, setConnectionState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"DISCONNECTED\");\n    // Wallet balance state\n    const [walletBalance, setWalletBalance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Gift notification state\n    const [giftNotification, setGiftNotification] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const giftNotificationTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const mainVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const overlayVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const clientRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const localTrackRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const remoteTrackRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const remoteUserRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoCheckIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sessionTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const tokenRenewalTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Use refs to track latest state values (fixes stale closure issue)\n    const remoteVideoActiveRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const localVideoActiveRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [userId, setUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Keep refs in sync with state (fixes stale closure issue in intervals)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        remoteVideoActiveRef.current = remoteVideoActive;\n    }, [\n        remoteVideoActive\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        localVideoActiveRef.current = localVideoActive;\n    }, [\n        localVideoActive\n    ]);\n    // Audio mute/unmute toggle\n    const toggleMute = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (localTrackRef.current?.audioTrack) {\n            const newMuted = !isMuted;\n            localTrackRef.current.audioTrack.setEnabled(!newMuted);\n            setIsMuted(newMuted);\n            console.log(newMuted ? \"\\uD83D\\uDD07 Audio muted\" : \"\\uD83D\\uDD0A Audio unmuted\");\n        }\n    }, [\n        isMuted\n    ]);\n    // Camera on/off toggle\n    const toggleCamera = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (localTrackRef.current?.videoTrack) {\n            const newCameraOff = !isCameraOff;\n            localTrackRef.current.videoTrack.setEnabled(!newCameraOff);\n            setIsCameraOff(newCameraOff);\n            console.log(newCameraOff ? \"\\uD83D\\uDCF7 Camera off\" : \"\\uD83D\\uDCF9 Camera on\");\n        }\n    }, [\n        isCameraOff\n    ]);\n    // Session duration timer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (sessionStartTime) {\n            sessionTimerRef.current = setInterval(()=>{\n                setSessionDuration(Math.floor((Date.now() - sessionStartTime) / 1000));\n            }, 1000);\n            return ()=>{\n                if (sessionTimerRef.current) {\n                    clearInterval(sessionTimerRef.current);\n                }\n            };\n        }\n    }, [\n        sessionStartTime\n    ]);\n    // Format duration as mm:ss\n    const formatDuration = (seconds)=>{\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n    };\n    // Network quality label\n    const getNetworkQualityLabel = (quality)=>{\n        switch(quality){\n            case 1:\n                return {\n                    label: \"Excellent\",\n                    color: \"text-green-400\"\n                };\n            case 2:\n                return {\n                    label: \"Good\",\n                    color: \"text-green-300\"\n                };\n            case 3:\n                return {\n                    label: \"Poor\",\n                    color: \"text-yellow-400\"\n                };\n            case 4:\n                return {\n                    label: \"Bad\",\n                    color: \"text-orange-400\"\n                };\n            case 5:\n                return {\n                    label: \"Very Bad\",\n                    color: \"text-red-400\"\n                };\n            case 6:\n                return {\n                    label: \"Down\",\n                    color: \"text-red-600\"\n                };\n            default:\n                return {\n                    label: \"Unknown\",\n                    color: \"text-gray-400\"\n                };\n        }\n    };\n    // Get user ID and wallet balance on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadUserData = async ()=>{\n            try {\n                const [user, wallet] = await Promise.all([\n                    _lib_api__WEBPACK_IMPORTED_MODULE_5__.usersApi.getMe(),\n                    _lib_api__WEBPACK_IMPORTED_MODULE_5__.walletApi.getMyWallet()\n                ]);\n                setUserId(user.id);\n                setWalletBalance(wallet?.balanceTokens || 0);\n            } catch (err) {\n                console.error(\"Failed to load user data:\", err);\n            }\n        };\n        loadUserData();\n    }, []);\n    // Show gift notification with auto-dismiss\n    const showGiftNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((from, amount, isReceived)=>{\n        // Clear any existing timer\n        if (giftNotificationTimerRef.current) {\n            clearTimeout(giftNotificationTimerRef.current);\n        }\n        setGiftNotification({\n            from,\n            amount,\n            isReceived\n        });\n        // Auto-dismiss after 5 seconds\n        giftNotificationTimerRef.current = setTimeout(()=>{\n            setGiftNotification(null);\n        }, 5000);\n    }, []);\n    // Track the channel we're connected to to prevent reinitializing for the same session\n    const connectedChannelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Initialize Agora video when session data is ready\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!sessionData?.video || !userId) {\n            // Only log once when missing data, not on every render\n            if (!sessionData?.video && !userId) {\n            // Silently wait - will initialize once both are available\n            }\n            return;\n        }\n        // Prevent multiple initializations for the same channel\n        // This handles WebSocket reconnections that resend session.ready\n        if (clientRef.current && connectedChannelRef.current === sessionData.video.channelName) {\n            console.log(\"Video already initialized for this channel, skipping\");\n            return;\n        }\n        // If we're connected to a different channel, clean up first\n        if (clientRef.current && connectedChannelRef.current !== sessionData.video.channelName) {\n            console.log(\"Channel changed, cleaning up old connection\");\n        // This will be handled by the cleanup function\n        }\n        let isMounted = true;\n        let retryCount = 0;\n        const MAX_RETRIES = 50; // Max 5 seconds of retries (50 * 100ms)\n        let retryTimer = null;\n        // Wait for refs to be available (they might not be immediately after render)\n        const checkAndInit = ()=>{\n            if (!isMounted) {\n                if (retryTimer) clearTimeout(retryTimer);\n                return;\n            }\n            if (!mainVideoRef.current || !overlayVideoRef.current) {\n                retryCount++;\n                if (retryCount >= MAX_RETRIES) {\n                    console.error(\"Video refs never became available after\", MAX_RETRIES, \"retries\");\n                    setError(\"Video containers failed to initialize. Please refresh the page.\");\n                    retryTimer = null;\n                    return;\n                }\n                if (retryCount % 10 === 0) {\n                    console.log(`Waiting for video refs... (attempt ${retryCount}/${MAX_RETRIES})`);\n                }\n                retryTimer = setTimeout(checkAndInit, 100);\n                return;\n            }\n            console.log(\"All conditions met, initializing video\");\n            retryTimer = null; // Clear timer since we're proceeding\n            initVideo();\n        };\n        const initVideo = async ()=>{\n            let appId = \"\";\n            try {\n                console.log(\"Starting video initialization...\");\n                setError(\"\");\n                // Get Agora App ID\n                const appIdResponse = await _lib_api__WEBPACK_IMPORTED_MODULE_5__.videoApi.getAppId();\n                appId = appIdResponse.appId;\n                if (!appId) {\n                    console.error(\"Agora App ID not found\");\n                    setError(\"Agora App ID not configured\");\n                    return;\n                }\n                console.log(\"Agora App ID:\", appId);\n                // Create Agora client\n                const client = agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4___default().createClient({\n                    mode: \"rtc\",\n                    codec: \"vp8\"\n                });\n                clientRef.current = client;\n                console.log(\"Joining channel:\", sessionData.video.channelName);\n                console.log(\"Using userId (account):\", userId);\n                console.log(\"App ID:\", appId);\n                // Token loaded successfully (not logging for security)\n                // Join channel - when using buildTokenWithAccount, pass the account string as uid\n                // The token contains the account info, so we pass the same userId\n                await client.join(appId, sessionData.video.channelName, sessionData.video.token, userId);\n                connectedChannelRef.current = sessionData.video.channelName;\n                console.log(\"Successfully joined Agora channel\");\n                // Check for existing remote users immediately after joining\n                const remoteUsers = client.remoteUsers;\n                console.log(\"\\uD83D\\uDC65 Existing remote users in channel:\", remoteUsers.length);\n                if (remoteUsers.length > 0) {\n                    for (const remoteUser of remoteUsers){\n                        console.log(\"\\uD83D\\uDC64 Found existing remote user:\", remoteUser.uid);\n                        // Subscribe to existing remote user's tracks\n                        try {\n                            // Subscribe to both video and audio (handle errors gracefully if one isn't available)\n                            try {\n                                await client.subscribe(remoteUser, \"video\");\n                                console.log(\"✅ Subscribed to existing remote user video\");\n                            } catch (videoError) {\n                                console.log(\"ℹ️ Video not available for existing user:\", videoError?.message || \"Unknown error\");\n                            }\n                            try {\n                                await client.subscribe(remoteUser, \"audio\");\n                                console.log(\"✅ Subscribed to existing remote user audio\");\n                            } catch (audioError) {\n                                console.log(\"ℹ️ Audio not available for existing user:\", audioError?.message || \"Unknown error\");\n                            }\n                            console.log(\"✅ Finished subscribing to existing remote user tracks\");\n                            remoteUserRef.current = remoteUser;\n                            // Update state for UI (refs don't trigger re-renders)\n                            setRemoteUserInfo({\n                                uid: remoteUser.uid,\n                                hasVideo: !!remoteUser.videoTrack,\n                                hasAudio: !!remoteUser.audioTrack\n                            });\n                            // Play audio immediately\n                            if (remoteUser.audioTrack) {\n                                remoteUser.audioTrack.play();\n                                console.log(\"\\uD83D\\uDD0A Playing existing remote user's audio\");\n                            }\n                            // Helper function to verify video is actually playing\n                            const verifyVideoPlaying = (videoElement)=>{\n                                if (!videoElement) return false;\n                                // Check if video element exists, is not paused, and has video data\n                                const isPlaying = !videoElement.paused && videoElement.readyState >= 2 && // HAVE_CURRENT_DATA or higher\n                                videoElement.videoWidth > 0 && videoElement.videoHeight > 0;\n                                return isPlaying;\n                            };\n                            // Multiple retries for video track to ensure it's ready\n                            const tryPlayRemoteVideo = (attempt = 0)=>{\n                                if (!isMounted) {\n                                    console.log(\"⚠️ Component unmounted, stopping remote video retry\");\n                                    return;\n                                }\n                                console.log(`🔄 Attempt ${attempt} to play existing remote video. Track:`, !!remoteUser.videoTrack, \"Container:\", !!mainVideoRef.current);\n                                if (remoteUser.videoTrack && mainVideoRef.current) {\n                                    try {\n                                        // Stop any existing playback\n                                        try {\n                                            remoteUser.videoTrack.stop();\n                                        } catch (e) {\n                                        // Ignore\n                                        }\n                                        // @ts-ignore\n                                        remoteUser.videoTrack.play(mainVideoRef.current);\n                                        // Verify video element was created and is actually playing\n                                        setTimeout(()=>{\n                                            const videoElement = mainVideoRef.current?.querySelector(\"video\");\n                                            if (videoElement && verifyVideoPlaying(videoElement)) {\n                                                console.log(\"✅ Existing remote video element created and playing. Dimensions:\", videoElement.videoWidth, \"x\", videoElement.videoHeight);\n                                                setRemoteVideoActive(true);\n                                            } else if (videoElement) {\n                                                // Element exists but not playing - try to fix it\n                                                console.warn(\"⚠️ Video element exists but not playing properly. Attempting fix...\");\n                                                try {\n                                                    videoElement.play().catch(()=>{\n                                                        // If play() fails, retry\n                                                        if (attempt < 8) {\n                                                            setTimeout(()=>tryPlayRemoteVideo(attempt + 1), 300);\n                                                        }\n                                                    });\n                                                    // Check again after a moment\n                                                    setTimeout(()=>{\n                                                        if (verifyVideoPlaying(videoElement)) {\n                                                            setRemoteVideoActive(true);\n                                                        } else if (attempt < 8) {\n                                                            setTimeout(()=>tryPlayRemoteVideo(attempt + 1), 300);\n                                                        }\n                                                    }, 500);\n                                                } catch (e) {\n                                                    if (attempt < 8) {\n                                                        setTimeout(()=>tryPlayRemoteVideo(attempt + 1), 300);\n                                                    }\n                                                }\n                                            } else {\n                                                console.error(\"❌ Video element not found after play()\");\n                                                if (attempt < 8) {\n                                                    setTimeout(()=>tryPlayRemoteVideo(attempt + 1), 500);\n                                                }\n                                            }\n                                        }, 300);\n                                        console.log(\"✅ Playing existing remote user's video in main container (attempt\", attempt + \")\");\n                                    } catch (playError) {\n                                        console.error(`❌ Error playing existing remote video (attempt ${attempt}):`, playError?.message || playError);\n                                        if (attempt < 12) {\n                                            setTimeout(()=>tryPlayRemoteVideo(attempt + 1), Math.min(300 * (attempt + 1), 2000));\n                                        }\n                                    }\n                                } else if (attempt < 20) {\n                                    console.log(`⏳ Video track or container not ready (track: ${!!remoteUser.videoTrack}, container: ${!!mainVideoRef.current})`);\n                                    setTimeout(()=>tryPlayRemoteVideo(attempt + 1), Math.min(150 * (attempt + 1), 1000));\n                                } else {\n                                    console.error(\"❌ Remote video track never became available\");\n                                }\n                            };\n                            // Start trying to play video immediately and with retries\n                            setTimeout(()=>tryPlayRemoteVideo(), 100);\n                            // Also set up a one-time check after a longer delay to catch missed cases\n                            setTimeout(()=>{\n                                if (isMounted && remoteUser.videoTrack && mainVideoRef.current && !remoteVideoActiveRef.current) {\n                                    console.log(\"\\uD83D\\uDD04 Delayed check: Attempting to play existing remote video\");\n                                    tryPlayRemoteVideo(0);\n                                }\n                            }, 2000);\n                        } catch (subError) {\n                            console.error(\"❌ Error subscribing to existing remote user:\", subError?.message || subError);\n                        }\n                    }\n                } else {\n                    console.log(\"⏳ No existing remote users, waiting for user-published event\");\n                }\n                // Create and publish local video/audio tracks\n                console.log(\"Requesting camera and microphone access...\");\n                try {\n                    const [micTrack, camTrack] = await agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4___default().createMicrophoneAndCameraTracks({}, {\n                        encoderConfig: {\n                            width: {\n                                min: 640,\n                                ideal: 1280,\n                                max: 1920\n                            },\n                            height: {\n                                min: 480,\n                                ideal: 720,\n                                max: 1080\n                            },\n                            frameRate: {\n                                min: 15,\n                                ideal: 30,\n                                max: 30\n                            }\n                        }\n                    });\n                    // Note: createMicrophoneAndCameraTracks returns [IMicrophoneAudioTrack, ICameraVideoTrack]\n                    const audioTrack = micTrack;\n                    const videoTrack = camTrack;\n                    localTrackRef.current = {\n                        videoTrack,\n                        audioTrack\n                    };\n                    console.log(\"Tracks created successfully\");\n                    await client.publish([\n                        micTrack,\n                        camTrack\n                    ]);\n                    console.log(\"Tracks published to channel\");\n                    // Display local video in overlay container (small corner by default)\n                    // Retry multiple times to ensure the ref is ready\n                    const tryPlayLocalVideo = (attempt = 0)=>{\n                        if (!isMounted || !videoTrack) return;\n                        if (overlayVideoRef.current) {\n                            try {\n                                // @ts-ignore - Agora SDK play() accepts HTMLElement but types may be outdated\n                                videoTrack.play(overlayVideoRef.current);\n                                console.log(\"Local video playing in overlay container\");\n                                setLocalVideoActive(true);\n                            } catch (playError) {\n                                console.error(`Error playing local video (attempt ${attempt}):`, playError);\n                                if (attempt < 5) {\n                                    setTimeout(()=>tryPlayLocalVideo(attempt + 1), 100 * (attempt + 1));\n                                }\n                            }\n                        } else if (attempt < 10) {\n                            // Ref not ready yet, retry\n                            setTimeout(()=>tryPlayLocalVideo(attempt + 1), 50 * (attempt + 1));\n                        } else {\n                            console.error(\"Local video ref never became available\");\n                        }\n                    };\n                    tryPlayLocalVideo();\n                } catch (trackError) {\n                    console.error(\"Failed to create/publish local tracks:\", trackError);\n                    if (trackError.message?.includes(\"permission\") || trackError.name === \"NotAllowedError\") {\n                        setError(\"Camera or microphone permission denied. Please allow access in your browser settings and refresh the page.\");\n                    } else if (trackError.name === \"NotFoundError\" || trackError.name === \"NotReadableError\") {\n                        setError(\"Camera or microphone not found or already in use. Please check your devices.\");\n                    } else {\n                        setError(`Failed to access camera/microphone: ${trackError.message || trackError.name}`);\n                    }\n                    // Continue even if local video fails - user can still see remote video\n                    localTrackRef.current = {\n                        videoTrack: null,\n                        audioTrack: null\n                    };\n                }\n                // Handle remote user joining after we've joined\n                client.on(\"user-published\", async (user, mediaType)=>{\n                    console.log(\"\\uD83D\\uDD14 Remote user published:\", mediaType, \"User ID:\", user.uid);\n                    try {\n                        // Subscribe to the specific media type that was published\n                        await client.subscribe(user, mediaType);\n                        console.log(\"✅ Subscribed to\", mediaType, \"for user\", user.uid);\n                        // Also try to subscribe to the other media type if it might be available\n                        // This handles cases where video and audio are published separately\n                        const otherMediaType = mediaType === \"video\" ? \"audio\" : \"video\";\n                        try {\n                            await client.subscribe(user, otherMediaType);\n                            console.log(\"✅ Also subscribed to\", otherMediaType, \"for user\", user.uid);\n                        } catch (e) {\n                            // It's okay if the other media type isn't available yet\n                            // It will be subscribed when it's published\n                            console.log(\"ℹ️\", otherMediaType, \"not available yet for user\", user.uid, \"- will subscribe when published\");\n                        }\n                        remoteUserRef.current = user;\n                        // Update state for UI (refs don't trigger re-renders)\n                        setRemoteUserInfo((prev)=>({\n                                uid: user.uid,\n                                hasVideo: mediaType === \"video\" ? true : prev?.hasVideo || !!user.videoTrack,\n                                hasAudio: mediaType === \"audio\" ? true : prev?.hasAudio || !!user.audioTrack\n                            }));\n                        // Play audio immediately if available\n                        if (user.audioTrack) {\n                            user.audioTrack.play();\n                            console.log(\"\\uD83D\\uDD0A Remote audio playing for user:\", user.uid);\n                        }\n                        // For video, try multiple times with exponential backoff\n                        if (user.videoTrack) {\n                            console.log(\"\\uD83D\\uDCF9 Video track available:\", !!user.videoTrack, \"Main container:\", !!mainVideoRef.current);\n                            // Helper function to verify video is actually playing\n                            const verifyVideoPlaying = (videoElement)=>{\n                                if (!videoElement) return false;\n                                // Check if video element exists, is not paused, and has video data\n                                const isPlaying = !videoElement.paused && videoElement.readyState >= 2 && // HAVE_CURRENT_DATA or higher\n                                videoElement.videoWidth > 0 && videoElement.videoHeight > 0;\n                                return isPlaying;\n                            };\n                            const tryPlayVideo = (attempt = 0)=>{\n                                if (!isMounted) {\n                                    console.log(\"⚠️ Component unmounted, stopping video retry\");\n                                    return;\n                                }\n                                console.log(`🔄 Attempt ${attempt} to play remote video. Track:`, !!user.videoTrack, \"Container:\", !!mainVideoRef.current);\n                                if (user.videoTrack && mainVideoRef.current) {\n                                    try {\n                                        // Stop any existing video first\n                                        try {\n                                            user.videoTrack.stop();\n                                        } catch (e) {\n                                        // Ignore if not playing\n                                        }\n                                        // @ts-ignore\n                                        user.videoTrack.play(mainVideoRef.current);\n                                        // Verify video element was created and is actually playing\n                                        setTimeout(()=>{\n                                            const videoElement = mainVideoRef.current?.querySelector(\"video\");\n                                            if (videoElement && verifyVideoPlaying(videoElement)) {\n                                                console.log(\"✅ Remote video element created and playing. Video dimensions:\", videoElement.videoWidth, \"x\", videoElement.videoHeight);\n                                                setRemoteVideoActive(true);\n                                            } else if (videoElement) {\n                                                // Element exists but not playing - try to fix it\n                                                console.warn(\"⚠️ Video element exists but not playing properly. Attempting fix...\");\n                                                try {\n                                                    videoElement.play().catch(()=>{\n                                                        // If play() fails, retry\n                                                        if (attempt < 8) {\n                                                            setTimeout(()=>tryPlayVideo(attempt + 1), 300);\n                                                        }\n                                                    });\n                                                    // Check again after a moment\n                                                    setTimeout(()=>{\n                                                        if (verifyVideoPlaying(videoElement)) {\n                                                            setRemoteVideoActive(true);\n                                                        } else if (attempt < 8) {\n                                                            setTimeout(()=>tryPlayVideo(attempt + 1), 300);\n                                                        }\n                                                    }, 500);\n                                                } catch (e) {\n                                                    if (attempt < 8) {\n                                                        setTimeout(()=>tryPlayVideo(attempt + 1), 300);\n                                                    }\n                                                }\n                                            } else {\n                                                console.error(\"❌ Video element not found in container after play()\");\n                                                if (attempt < 8) {\n                                                    setTimeout(()=>tryPlayVideo(attempt + 1), 500);\n                                                }\n                                            }\n                                        }, 300);\n                                        console.log(\"✅ Remote video play() called for user:\", user.uid, \"in main container (attempt\", attempt + \")\");\n                                    } catch (playError) {\n                                        console.error(`❌ Error playing remote video (attempt ${attempt}):`, playError?.message || playError);\n                                        if (attempt < 12) {\n                                            setTimeout(()=>tryPlayVideo(attempt + 1), Math.min(300 * (attempt + 1), 2000));\n                                        } else {\n                                            console.error(\"❌ Failed to play remote video after\", attempt, \"attempts\");\n                                        }\n                                    }\n                                } else {\n                                    console.log(`⏳ Video track or container not ready (track: ${!!user.videoTrack}, container: ${!!mainVideoRef.current})`);\n                                    if (attempt < 20) {\n                                        setTimeout(()=>tryPlayVideo(attempt + 1), Math.min(150 * (attempt + 1), 1000));\n                                    } else {\n                                        console.error(\"❌ Remote video track or container never became available after\", attempt, \"attempts\");\n                                    }\n                                }\n                            };\n                            // Start trying immediately and with retries\n                            setTimeout(()=>tryPlayVideo(), 100);\n                            // Also set up a one-time check after a longer delay to catch missed cases\n                            setTimeout(()=>{\n                                if (isMounted && user.videoTrack && mainVideoRef.current && !remoteVideoActiveRef.current) {\n                                    console.log(\"\\uD83D\\uDD04 Delayed check: Attempting to play remote video\");\n                                    tryPlayVideo(0);\n                                }\n                            }, 2000);\n                        }\n                    } catch (subError) {\n                        console.error(\"❌ Error subscribing to remote user:\", subError?.message || subError);\n                        // Retry subscription after a short delay\n                        setTimeout(async ()=>{\n                            try {\n                                await client.subscribe(user, mediaType);\n                                console.log(\"✅ Retry: Subscribed to\", mediaType, \"for user\", user.uid);\n                                // Try to play the track if it's now available\n                                if (mediaType === \"video\" && user.videoTrack && mainVideoRef.current) {\n                                    user.videoTrack.play(mainVideoRef.current);\n                                } else if (mediaType === \"audio\" && user.audioTrack) {\n                                    user.audioTrack.play();\n                                }\n                            } catch (retryError) {\n                                console.error(\"❌ Retry subscription also failed:\", retryError);\n                            }\n                        }, 1000);\n                    }\n                });\n                client.on(\"user-unpublished\", (user)=>{\n                    console.log(\"Remote user unpublished:\", user.uid);\n                    setRemoteVideoActive(false);\n                    if (user.videoTrack) {\n                        user.videoTrack.stop();\n                    }\n                    if (user.audioTrack) {\n                        user.audioTrack.stop();\n                    }\n                });\n                // Also listen for track-ended events\n                client.on(\"user-left\", (user)=>{\n                    console.log(\"Remote user left:\", user.uid);\n                    setRemoteVideoActive(false);\n                });\n                // Periodic check to ensure videos are playing (fallback for edge cases)\n                videoCheckIntervalRef.current = setInterval(()=>{\n                    if (!isMounted || !clientRef.current) {\n                        if (videoCheckIntervalRef.current) {\n                            clearInterval(videoCheckIntervalRef.current);\n                            videoCheckIntervalRef.current = null;\n                        }\n                        return;\n                    }\n                    // Check for remote users we might have missed subscribing to\n                    const remoteUsers = clientRef.current.remoteUsers;\n                    for (const remoteUser of remoteUsers){\n                        // If we don't have a reference to this user, or if tracks are missing, try to subscribe\n                        if (!remoteUserRef.current || remoteUserRef.current.uid !== remoteUser.uid) {\n                            // New user detected, try to subscribe to both tracks\n                            if (!remoteUser.videoTrack) {\n                                clientRef.current.subscribe(remoteUser, \"video\").catch((e)=>{\n                                    console.log(\"ℹ️ Periodic check: Video not available for user\", remoteUser.uid);\n                                });\n                            }\n                            if (!remoteUser.audioTrack) {\n                                clientRef.current.subscribe(remoteUser, \"audio\").catch((e)=>{\n                                    console.log(\"ℹ️ Periodic check: Audio not available for user\", remoteUser.uid);\n                                });\n                            }\n                            remoteUserRef.current = remoteUser;\n                            setRemoteUserInfo({\n                                uid: remoteUser.uid,\n                                hasVideo: !!remoteUser.videoTrack,\n                                hasAudio: !!remoteUser.audioTrack\n                            });\n                        } else {\n                            // User is known, but check if we're missing tracks\n                            if (remoteUser.videoTrack && !remoteUserRef.current.videoTrack) {\n                                console.log(\"\\uD83D\\uDD04 Periodic check: Found video track for known user, subscribing...\");\n                                clientRef.current.subscribe(remoteUser, \"video\").catch((e)=>{\n                                    console.log(\"ℹ️ Periodic check: Could not subscribe to video\", e?.message);\n                                });\n                            }\n                            if (remoteUser.audioTrack && !remoteUserRef.current.audioTrack) {\n                                console.log(\"\\uD83D\\uDD04 Periodic check: Found audio track for known user, subscribing...\");\n                                clientRef.current.subscribe(remoteUser, \"audio\").catch((e)=>{\n                                    console.log(\"ℹ️ Periodic check: Could not subscribe to audio\", e?.message);\n                                });\n                            }\n                        }\n                    }\n                    // Check local video - try to attach if track exists and container is available\n                    if (localTrackRef.current?.videoTrack && overlayVideoRef.current) {\n                        // Check if video is actually playing by checking the element\n                        const hasVideoElement = overlayVideoRef.current.querySelector(\"video\");\n                        if (!hasVideoElement || hasVideoElement.paused) {\n                            try {\n                                // @ts-ignore\n                                localTrackRef.current.videoTrack.play(overlayVideoRef.current);\n                                console.log(\"Re-attached local video (periodic check)\");\n                                setLocalVideoActive(true);\n                            } catch (e) {\n                            // Video might already be attached\n                            }\n                        }\n                    }\n                    // Check remote video - try to attach if track exists and container is available\n                    if (remoteUserRef.current?.videoTrack && mainVideoRef.current) {\n                        // Check if video is actually playing by checking the element\n                        const videoElement = mainVideoRef.current.querySelector(\"video\");\n                        const isVideoActuallyPlaying = videoElement && !videoElement.paused && videoElement.readyState >= 2 && // HAVE_CURRENT_DATA or higher\n                        videoElement.videoWidth > 0 && videoElement.videoHeight > 0;\n                        if (!isVideoActuallyPlaying) {\n                            try {\n                                // Stop first to ensure clean state\n                                try {\n                                    remoteUserRef.current.videoTrack.stop();\n                                } catch (e) {\n                                // Ignore\n                                }\n                                // @ts-ignore\n                                remoteUserRef.current.videoTrack.play(mainVideoRef.current);\n                                console.log(\"\\uD83D\\uDD04 Re-attached remote video (periodic check)\");\n                                // Verify it worked - check multiple times\n                                let verifyAttempts = 0;\n                                const verifyInterval = setInterval(()=>{\n                                    verifyAttempts++;\n                                    const newVideoElement = mainVideoRef.current?.querySelector(\"video\");\n                                    const isNowPlaying = newVideoElement && !newVideoElement.paused && newVideoElement.readyState >= 2 && newVideoElement.videoWidth > 0 && newVideoElement.videoHeight > 0;\n                                    if (isNowPlaying) {\n                                        setRemoteVideoActive(true);\n                                        console.log(\"✅ Remote video verified playing (periodic check)\");\n                                        clearInterval(verifyInterval);\n                                    } else if (verifyAttempts >= 5) {\n                                        // Try to force play if it's not working\n                                        if (newVideoElement) {\n                                            newVideoElement.play().catch(()=>{\n                                                console.warn(\"Could not play video element\");\n                                            });\n                                        }\n                                        clearInterval(verifyInterval);\n                                    }\n                                }, 200);\n                            } catch (e) {\n                                console.error(\"❌ Error re-attaching remote video:\", e?.message);\n                            }\n                        } else {\n                            // Video is playing, ensure state is correct (use ref to avoid stale closure)\n                            if (!remoteVideoActiveRef.current) {\n                                setRemoteVideoActive(true);\n                            }\n                        }\n                    } else {\n                    // Log why we're not trying to attach (only once every few checks)\n                    // Silence periodic logs to reduce noise\n                    }\n                }, 2000); // Check every 2 seconds\n                // Network quality monitoring\n                client.on(\"network-quality\", (stats)=>{\n                    setNetworkQuality({\n                        uplink: stats.uplinkNetworkQuality,\n                        downlink: stats.downlinkNetworkQuality\n                    });\n                });\n                // Connection state tracking\n                client.on(\"connection-state-change\", (curState, prevState)=>{\n                    console.log(`📡 Connection state: ${prevState} -> ${curState}`);\n                    setConnectionState(curState);\n                    if (curState === \"CONNECTED\") {\n                        // Start session timer when connected\n                        if (!sessionStartTime) {\n                            setSessionStartTime(Date.now());\n                        }\n                    }\n                    if (curState === \"DISCONNECTED\" || curState === \"DISCONNECTING\" || curState === \"FAILED\") {\n                        if (videoCheckIntervalRef.current) {\n                            clearInterval(videoCheckIntervalRef.current);\n                            videoCheckIntervalRef.current = null;\n                        }\n                        // Attempt reconnection if disconnected unexpectedly\n                        if (curState === \"DISCONNECTED\" && prevState === \"CONNECTED\") {\n                            console.log(\"\\uD83D\\uDD04 Connection lost, attempting to reconnect...\");\n                            setError(\"Connection lost. Attempting to reconnect...\");\n                        // Agora SDK will attempt to reconnect automatically\n                        }\n                    }\n                });\n                // Token renewal setup (5 minutes before expiry)\n                if (sessionData.video.expiresAt) {\n                    const expiresAt = new Date(sessionData.video.expiresAt).getTime();\n                    const now = Date.now();\n                    const renewIn = expiresAt - now - 5 * 60 * 1000; // 5 min before expiry\n                    if (renewIn > 0) {\n                        console.log(`⏰ Token renewal scheduled in ${Math.floor(renewIn / 1000 / 60)} minutes`);\n                        tokenRenewalTimerRef.current = setTimeout(async ()=>{\n                            try {\n                                console.log(\"\\uD83D\\uDD04 Renewing Agora token...\");\n                                const response = await _lib_api__WEBPACK_IMPORTED_MODULE_5__.videoApi.getToken(sessionId);\n                                if (response.token && clientRef.current) {\n                                    await clientRef.current.renewToken(response.token);\n                                    console.log(\"✅ Token renewed successfully\");\n                                    setError(\"\");\n                                }\n                            } catch (renewError) {\n                                console.error(\"❌ Failed to renew token:\", renewError);\n                                setError(\"Video session may expire soon. Please refresh if issues occur.\");\n                            }\n                        }, renewIn);\n                    }\n                }\n                if (isMounted) {\n                    setVideoReady(true);\n                    console.log(\"Video initialization complete!\");\n                }\n            } catch (error) {\n                console.error(\"❌ Failed to initialize video:\", error);\n                let errorMsg = error.message || error.toString() || \"Failed to start video call\";\n                // Provide more helpful error messages\n                if (errorMsg.includes(\"invalid vendor key\") || errorMsg.includes(\"can not find appid\")) {\n                    errorMsg = \"Invalid Agora App ID or Certificate. Please verify your Agora credentials match in the Agora console. Check AGORA_APP_ID and AGORA_APP_CERTIFICATE in api/.env\";\n                } else if (errorMsg.includes(\"permission\") || errorMsg.includes(\"Permission\")) {\n                    errorMsg = \"Camera or microphone permission denied. Please allow access in your browser settings.\";\n                } else if (errorMsg.includes(\"NotFoundError\") || errorMsg.includes(\"NotReadableError\")) {\n                    errorMsg = \"Camera or microphone not found or already in use.\";\n                }\n                setError(`Video error: ${errorMsg}`);\n                console.error(\"Full error details:\", error);\n                if (appId) {\n                    console.error(\"App ID used:\", appId);\n                }\n                if (sessionData?.video?.channelName) {\n                    console.error(\"Channel:\", sessionData.video.channelName);\n                }\n                alert(`Failed to start video call: ${errorMsg}\\n\\nPlease check:\\n1. Agora credentials are correct and match your Agora console\\n2. Camera and microphone permissions\\n3. Browser console for details`);\n            }\n        };\n        // Start the initialization check after a short delay to ensure refs are attached\n        const timer = setTimeout(()=>{\n            checkAndInit();\n        }, 300);\n        return ()=>{\n            isMounted = false;\n            clearTimeout(timer);\n            if (retryTimer) {\n                clearTimeout(retryTimer);\n                retryTimer = null;\n            }\n            // Cleanup on unmount\n            if (localTrackRef.current) {\n                localTrackRef.current.videoTrack?.stop();\n                localTrackRef.current.videoTrack?.close();\n                localTrackRef.current.audioTrack?.stop();\n                localTrackRef.current.audioTrack?.close();\n                localTrackRef.current = null;\n            }\n            if (clientRef.current) {\n                clientRef.current.leave();\n                clientRef.current = null;\n            }\n            connectedChannelRef.current = null;\n            if (videoCheckIntervalRef.current) {\n                clearInterval(videoCheckIntervalRef.current);\n                videoCheckIntervalRef.current = null;\n            }\n            if (tokenRenewalTimerRef.current) {\n                clearTimeout(tokenRenewalTimerRef.current);\n                tokenRenewalTimerRef.current = null;\n            }\n        };\n    }, [\n        sessionData,\n        userId,\n        sessionId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const token = localStorage.getItem(\"accessToken\");\n        if (!token) {\n            router.push(\"/auth/login\");\n            return;\n        }\n        // Connect to WebSocket (using configurable URL)\n        const ws = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_3__.io)(`${WS_URL}/ws`, {\n            auth: {\n                token\n            },\n            transports: [\n                \"websocket\"\n            ]\n        });\n        // Track if we've already joined the session\n        let hasJoinedSession = false;\n        ws.on(\"connect\", ()=>{\n            console.log(\"WebSocket connected\");\n            setConnected(true);\n            setError(\"\");\n            // Only join session if we haven't already (prevents rejoining on reconnect)\n            if (!hasJoinedSession) {\n                console.log(\"Joining session:\", sessionId);\n                // Wait a bit for connection to stabilize\n                setTimeout(()=>{\n                    ws.emit(\"session.join\", {\n                        sessionId\n                    });\n                    hasJoinedSession = true;\n                }, 100);\n            } else {\n                console.log(\"Already joined session, skipping rejoin on reconnect\");\n            }\n        });\n        ws.on(\"connect_error\", (err)=>{\n            console.error(\"Connection error:\", err);\n            setError(`Connection failed: ${err.message}`);\n        });\n        ws.on(\"disconnect\", (reason)=>{\n            console.log(\"WebSocket disconnected:\", reason);\n            setConnected(false);\n            // Only show error for unexpected disconnects\n            if (reason !== \"io client disconnect\") {\n                setError(\"Disconnected from server\");\n            }\n        });\n        ws.on(\"session.ready\", (data)=>{\n            console.log(\"Session ready:\", data);\n            setSessionData(data);\n        });\n        ws.on(\"session.startGame\", (data)=>{\n            console.log(\"Game started (legacy):\", data);\n            setGameType(data.gameType);\n            if (data.gameId) {\n                setGameId(data.gameId);\n            }\n        });\n        ws.on(\"session.gameCreated\", (data)=>{\n            console.log(\"Game created:\", data);\n            setGameType(data.gameType);\n            setGameId(data.gameId);\n        });\n        // Handle game.started event with full game data\n        ws.on(\"game.started\", (data)=>{\n            console.log(\"Game started with state:\", data);\n            console.log(\"Game type:\", data.gameType, \"Game ID:\", data.gameId);\n            setGameType(data.gameType);\n            setGameId(data.gameId);\n            setGameState(data.state);\n            setGamePlayers(data.players);\n        });\n        // Handle game state updates (for chess and other games)\n        ws.on(\"game.stateUpdate\", (data)=>{\n            console.log(\"Game state updated:\", data);\n            setGameState(data.state);\n        });\n        // Handle game end\n        ws.on(\"game.end\", (data)=>{\n            console.log(\"Game ended:\", data);\n            // Update the game state to reflect the end\n            if (data.winnerId || data.isDraw) {\n                setGameState((prev)=>({\n                        ...prev,\n                        gameOver: true,\n                        winner: data.winnerId,\n                        isDraw: data.isDraw\n                    }));\n            }\n            // Allow starting a new game after a delay\n            setTimeout(()=>{\n                setGameType(null);\n                setGameId(null);\n                setGameState(null);\n                setGamePlayers([]);\n            }, 5000);\n        });\n        // Handle game cancellation (when other user exits)\n        ws.on(\"game.cancelled\", (data)=>{\n            console.log(\"Game cancelled by other user:\", data);\n            setGameType(null);\n            setGameId(null);\n            setGameState(null);\n            setGamePlayers([]);\n        });\n        ws.on(\"session.end\", (data)=>{\n            alert(\"Session ended\");\n            router.push(\"/play\");\n        });\n        ws.on(\"error\", (err)=>{\n            console.error(\"Session error:\", err);\n            setError(err.message || \"Connection error occurred\");\n            if (err.message) {\n                alert(`Error: ${err.message}`);\n            }\n        });\n        // Listen for wallet balance updates\n        ws.on(\"wallet.updated\", (data)=>{\n            console.log(\"Wallet updated:\", data);\n            setWalletBalance(data.balance);\n        });\n        // Listen for gift notifications (both sent and received)\n        ws.on(\"session.giftReceived\", (data)=>{\n            console.log(\"Gift received event:\", data);\n            if (data.success) {\n                // Determine if we're the sender or receiver\n                const token = localStorage.getItem(\"accessToken\");\n                if (token) {\n                    try {\n                        const payload = JSON.parse(atob(token.split(\".\")[1]));\n                        const currentUserId = payload.sub;\n                        const isReceived = data.to === currentUserId;\n                        const otherUser = isReceived ? data.from : data.to;\n                        showGiftNotification(otherUser, data.amount, isReceived);\n                    } catch (e) {\n                        console.error(\"Failed to parse token for gift notification:\", e);\n                    }\n                }\n            }\n        });\n        setSocket(ws);\n        return ()=>{\n            ws.disconnect();\n        };\n    }, [\n        sessionId,\n        router\n    ]);\n    const handleStartGame = (type)=>{\n        if (socket) {\n            socket.emit(\"session.startGame\", {\n                sessionId,\n                gameType: type\n            });\n        }\n    };\n    const handleCancelGame = ()=>{\n        // Reset game state to allow starting a new game\n        console.log(\"Cancelling game, resetting state\");\n        setGameType(null);\n        setGameId(null);\n        setGameState(null);\n        setGamePlayers([]);\n        // Optionally emit a cancel event to the server\n        if (socket) {\n            socket.emit(\"session.cancelGame\", {\n                sessionId\n            });\n        }\n        console.log(\"Game cancelled\");\n    };\n    const handleEndSession = async ()=>{\n        // Prevent ending session during an active game\n        if (gameType === \"trivia\" && gameState) {\n            const triviaPhase = gameState.phase;\n            if (triviaPhase && triviaPhase !== \"gameEnd\" && triviaPhase !== \"themeSelection\") {\n                alert(\"Cannot end session while trivia game is in progress! Please finish the game first.\");\n                return;\n            }\n        }\n        // Cleanup Agora\n        if (localTrackRef.current) {\n            localTrackRef.current.videoTrack?.stop();\n            localTrackRef.current.videoTrack?.close();\n            localTrackRef.current.audioTrack?.stop();\n            localTrackRef.current.audioTrack?.close();\n        }\n        if (clientRef.current) {\n            await clientRef.current.leave();\n        }\n        if (socket) {\n            socket.emit(\"session.end\", {\n                sessionId\n            });\n        }\n        router.push(\"/play\");\n    };\n    const handleSwapVideos = ()=>{\n        // Swap the video tracks between containers\n        if (localTrackRef.current?.videoTrack && remoteUserRef.current?.videoTrack) {\n            // Stop current playback\n            localTrackRef.current.videoTrack.stop();\n            remoteUserRef.current.videoTrack.stop();\n            // Swap and re-play based on current state\n            if (videosSwapped) {\n                // Currently swapped: local in main, remote in overlay\n                // After swap: remote in main, local in overlay (default)\n                if (mainVideoRef.current) {\n                    // @ts-ignore\n                    remoteUserRef.current.videoTrack.play(mainVideoRef.current);\n                }\n                if (overlayVideoRef.current) {\n                    // @ts-ignore\n                    localTrackRef.current.videoTrack.play(overlayVideoRef.current);\n                }\n            } else {\n                // Currently default: remote in main, local in overlay\n                // After swap: local in main, remote in overlay (swapped)\n                if (mainVideoRef.current) {\n                    // @ts-ignore\n                    localTrackRef.current.videoTrack.play(mainVideoRef.current);\n                }\n                if (overlayVideoRef.current) {\n                    // @ts-ignore\n                    remoteUserRef.current.videoTrack.play(overlayVideoRef.current);\n                }\n            }\n        } else if (localTrackRef.current?.videoTrack) {\n            // Only local video available - just move it\n            localTrackRef.current.videoTrack.stop();\n            const targetContainer = videosSwapped ? mainVideoRef.current : overlayVideoRef.current;\n            if (targetContainer) {\n                // @ts-ignore\n                localTrackRef.current.videoTrack.play(targetContainer);\n            }\n        } else if (remoteUserRef.current?.videoTrack) {\n            // Only remote video available - just move it\n            remoteUserRef.current.videoTrack.stop();\n            const targetContainer = videosSwapped ? overlayVideoRef.current : mainVideoRef.current;\n            if (targetContainer) {\n                // @ts-ignore\n                remoteUserRef.current.videoTrack.play(targetContainer);\n            }\n        }\n        setVideosSwapped(!videosSwapped);\n    };\n    const handleFullscreen = (element)=>{\n        if (!document.fullscreenElement) {\n            element.requestFullscreen().catch((err)=>{\n                alert(`Error attempting to enable full-screen mode: ${err.message} (${err.name})`);\n            });\n            setIsFullscreen(true);\n        } else {\n            document.exitFullscreen();\n            setIsFullscreen(false);\n        }\n    };\n    const handleSendGift = ()=>{\n        if (walletBalance <= 0) {\n            alert(\"You don't have any tokens to send. Please purchase tokens first.\");\n            return;\n        }\n        const amount = prompt(`Enter token amount to send as gift (you have ${walletBalance} tokens):`);\n        if (amount && socket) {\n            const amountNum = parseInt(amount);\n            if (isNaN(amountNum) || amountNum <= 0) {\n                alert(\"Please enter a valid positive number\");\n                return;\n            }\n            if (amountNum > walletBalance) {\n                alert(`Insufficient tokens. You have ${walletBalance} tokens.`);\n                return;\n            }\n            socket.emit(\"session.sendGift\", {\n                sessionId,\n                amountTokens: amountNum\n            });\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"space-y-4 relative\",\n        children: [\n            giftNotification && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg border-2 animate-pulse ${giftNotification.isReceived ? \"bg-green-900 border-green-500\" : \"bg-blue-900 border-blue-500\"}`,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-3xl\",\n                                children: giftNotification.isReceived ? \"\\uD83C\\uDF81\" : \"\\uD83D\\uDC9D\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1215,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"font-bold text-white\",\n                                        children: giftNotification.isReceived ? \"Gift Received!\" : \"Gift Sent!\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1217,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-200\",\n                                        children: giftNotification.isReceived ? `You received ${giftNotification.amount} tokens` : `You sent ${giftNotification.amount} tokens`\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1220,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1216,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1214,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setGiftNotification(null),\n                        className: \"absolute top-1 right-2 text-gray-400 hover:text-white text-sm\",\n                        children: \"✕\"\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1228,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                lineNumber: 1209,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BackButton__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                href: \"/play\",\n                                label: \"← Back\",\n                                disabled: gameType === \"trivia\" && gameState && gameState.phase && gameState.phase !== \"gameEnd\" && gameState.phase !== \"themeSelection\",\n                                disabledMessage: \"Cannot exit while trivia game is in progress!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1239,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm uppercase tracking-[0.25em] text-gray-400\",\n                                        children: \"Session\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1252,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-3xl font-semibold text-white\",\n                                        children: \"Video Call\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1253,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1251,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1238,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gradient-to-r from-yellow-900 to-yellow-700 px-4 py-2 border-2 border-yellow-500 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xl\",\n                                        children: \"\\uD83D\\uDCB0\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1259,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-yellow-300 uppercase tracking-wide\",\n                                                children: \"Balance\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1261,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-bold text-white\",\n                                                children: [\n                                                    walletBalance.toLocaleString(),\n                                                    \" tokens\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1262,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1260,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1258,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleEndSession,\n                                disabled: gameType === \"trivia\" && gameState && gameState.phase && gameState.phase !== \"gameEnd\" && gameState.phase !== \"themeSelection\",\n                                className: `bg-gray-800 px-4 py-2 font-semibold text-white border-2 border-white/30 ${gameType === \"trivia\" && gameState && gameState.phase && gameState.phase !== \"gameEnd\" && gameState.phase !== \"themeSelection\" ? \"opacity-50 cursor-not-allowed\" : \"hover:bg-gray-700\"}`,\n                                title: gameType === \"trivia\" && gameState && gameState.phase && gameState.phase !== \"gameEnd\" && gameState.phase !== \"themeSelection\" ? \"Cannot end session while trivia game is in progress!\" : \"\",\n                                children: \"End Session\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1265,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1256,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                lineNumber: 1237,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between flex-wrap gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-400\",\n                                children: [\n                                    connected ? \"Connected\" : \"Connecting...\",\n                                    \" | Session ID: \",\n                                    sessionId.slice(0, 8),\n                                    \"...\",\n                                    sessionStartTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-2 text-green-400\",\n                                        children: [\n                                            \"⏱ \",\n                                            formatDuration(sessionDuration)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1302,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1299,\n                                columnNumber: 11\n                            }, this),\n                            videoReady && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-gray-500 mt-1\",\n                                children: [\n                                    \"Video: \",\n                                    localVideoActive ? \"✓ Local\" : \"✗ Local\",\n                                    \" | \",\n                                    remoteVideoActive ? \"✓ Remote\" : \"✗ Remote\",\n                                    remoteUserInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-2\",\n                                        children: [\n                                            \"| Remote: \",\n                                            String(remoteUserInfo.uid).slice(0, 8),\n                                            \"...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1309,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1306,\n                                columnNumber: 13\n                            }, this),\n                            networkQuality.downlink > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs mt-1\",\n                                children: [\n                                    \"Network: \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: getNetworkQualityLabel(networkQuality.downlink).color,\n                                        children: getNetworkQualityLabel(networkQuality.downlink).label\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1315,\n                                        columnNumber: 24\n                                    }, this),\n                                    connectionState !== \"CONNECTED\" && connectionState !== \"DISCONNECTED\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-2 text-yellow-400\",\n                                        children: [\n                                            \"(\",\n                                            connectionState,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1319,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1314,\n                                columnNumber: 13\n                            }, this),\n                            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-red-400 mt-1\",\n                                children: [\n                                    \"Error: \",\n                                    error\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1324,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1298,\n                        columnNumber: 9\n                    }, this),\n                    videoReady && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: toggleMute,\n                                className: `px-3 py-1 text-sm border-2 transition-colors ${isMuted ? \"bg-red-600 border-red-500 text-white\" : \"bg-gray-800 border-white/30 text-white hover:bg-gray-700\"}`,\n                                title: isMuted ? \"Unmute\" : \"Mute\",\n                                children: isMuted ? \"\\uD83D\\uDD07 Muted\" : \"\\uD83D\\uDD0A Audio\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1330,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: toggleCamera,\n                                className: `px-3 py-1 text-sm border-2 transition-colors ${isCameraOff ? \"bg-red-600 border-red-500 text-white\" : \"bg-gray-800 border-white/30 text-white hover:bg-gray-700\"}`,\n                                title: isCameraOff ? \"Turn Camera On\" : \"Turn Camera Off\",\n                                children: isCameraOff ? \"\\uD83D\\uDCF7 Off\" : \"\\uD83D\\uDCF9 Video\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1341,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1329,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                lineNumber: 1297,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid gap-4 md:grid-cols-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-900 p-6 border border-white/20 md:col-span-2 space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: videoContainerRef,\n                                className: \"aspect-video bg-black border border-white/20 relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        ref: mainVideoRef,\n                                        className: \"absolute inset-0 w-full h-full bg-black\",\n                                        style: {\n                                            minWidth: \"100%\",\n                                            minHeight: \"100%\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1364,\n                                        columnNumber: 13\n                                    }, this),\n                                    !remoteVideoActive && !videosSwapped && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center text-gray-500 z-10 pointer-events-none\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm\",\n                                                    children: \"Waiting for remote video...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1372,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs mt-1 text-gray-600\",\n                                                    children: \"The other user's video will appear here\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1373,\n                                                    columnNumber: 19\n                                                }, this),\n                                                remoteUserInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs mt-2 text-gray-400\",\n                                                    children: [\n                                                        \"Remote user connected: \",\n                                                        String(remoteUserInfo.uid).slice(0, 8),\n                                                        \"...\",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                            fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                            lineNumber: 1377,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \"Video track: \",\n                                                        remoteUserInfo.hasVideo ? \"✓\" : \"✗\",\n                                                        \" | Audio: \",\n                                                        remoteUserInfo.hasAudio ? \"✓\" : \"✗\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1375,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                            lineNumber: 1371,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1370,\n                                        columnNumber: 15\n                                    }, this),\n                                    !localVideoActive && videosSwapped && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center text-gray-500 z-5\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm\",\n                                                children: \"Waiting for local video...\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1387,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                            lineNumber: 1386,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1385,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        ref: overlayVideoRef,\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            // Show context menu: swap or fullscreen\n                                            const choice = confirm(\"Click OK to swap videos, or Cancel to fullscreen\");\n                                            if (choice) {\n                                                handleSwapVideos();\n                                            } else {\n                                                handleFullscreen(videoContainerRef.current);\n                                            }\n                                        },\n                                        onDoubleClick: ()=>handleFullscreen(videoContainerRef.current),\n                                        className: \"absolute bottom-4 right-4 w-48 h-36 border-2 border-white bg-black z-10 cursor-pointer hover:border-gray-400 transition-all\",\n                                        style: {\n                                            minWidth: \"192px\",\n                                            minHeight: \"144px\"\n                                        },\n                                        title: \"Click to swap, double-click to fullscreen\",\n                                        children: [\n                                            !localVideoActive && !videosSwapped && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute inset-0 flex items-center justify-center text-gray-500 text-xs\",\n                                                children: \"Your video\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1411,\n                                                columnNumber: 17\n                                            }, this),\n                                            !remoteVideoActive && videosSwapped && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute inset-0 flex items-center justify-center text-gray-500 text-xs\",\n                                                children: \"Other user\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1416,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1393,\n                                        columnNumber: 13\n                                    }, this),\n                                    !videoReady && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center text-gray-400 z-20 bg-black bg-opacity-75\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: sessionData?.video ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"mb-2\",\n                                                        children: \"Initializing video call...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                        lineNumber: 1428,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs\",\n                                                        children: \"Please allow camera and microphone access\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                        lineNumber: 1429,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-red-400 mt-2 max-w-md\",\n                                                        children: error\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                        lineNumber: 1431,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs mt-2 text-gray-500\",\n                                                        children: \"Check browser console for details\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                        lineNumber: 1433,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-gray-500\",\n                                                children: connected ? \"Loading session data...\" : \"Connecting to server...\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1436,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                            lineNumber: 1425,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1424,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1359,\n                                columnNumber: 11\n                            }, this),\n                            gameType && gameId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-2 flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-lg font-semibold text-white\",\n                                        children: [\n                                            \"Playing: \",\n                                            gameType\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1448,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleCancelGame,\n                                        className: \"text-sm bg-gray-700 hover:bg-gray-600 px-3 py-1 text-white border border-white/30\",\n                                        children: \"Exit Game\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1449,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1447,\n                                columnNumber: 13\n                            }, this),\n                            gameType && gameId && gameType === \"TICTACTOE\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_games_TicTacToeGame__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                gameId: gameId,\n                                socket: socket,\n                                userId: userId,\n                                initialState: gameState,\n                                initialPlayers: gamePlayers,\n                                onGameEnd: (result)=>{\n                                    console.log(\"Game ended:\", result);\n                                    // Allow starting a new game after a short delay\n                                    setTimeout(()=>{\n                                        setGameType(null);\n                                        setGameId(null);\n                                        setGameState(null);\n                                        setGamePlayers([]);\n                                    }, 5000); // 5 second delay before allowing new game\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1458,\n                                columnNumber: 13\n                            }, this) : gameType && gameId && gameType === \"TRIVIA\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_games_TriviaGame__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                gameId: gameId,\n                                socket: socket,\n                                odUserId: userId,\n                                initialState: gameState || undefined,\n                                initialPlayers: gamePlayers,\n                                onGameEnd: (result)=>{\n                                    console.log(\"Trivia game ended:\", result);\n                                    setTimeout(()=>{\n                                        setGameType(null);\n                                        setGameId(null);\n                                        setGameState(null);\n                                        setGamePlayers([]);\n                                    }, 5000);\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1476,\n                                columnNumber: 13\n                            }, this) : gameType && gameId && gameType === \"CHESS\" && gameState ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_games_ChessGame__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                gameState: gameState,\n                                odUserId: userId,\n                                onMove: (from, to, promotionPiece)=>{\n                                    if (socket) {\n                                        socket.emit(\"game.move\", {\n                                            gameId,\n                                            from,\n                                            to,\n                                            promotionPiece\n                                        });\n                                    }\n                                },\n                                onForfeit: ()=>{\n                                    if (socket) {\n                                        socket.emit(\"game.forfeit\", {\n                                            gameId\n                                        });\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1493,\n                                columnNumber: 13\n                            }, this) : gameType && gameId && (gameType === \"TRUTHS_AND_LIE\" || gameType?.toUpperCase() === \"TRUTHS_AND_LIE\" || gameType?.includes(\"TRUTH\")) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_games_TruthsAndLieGame__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                gameId: gameId,\n                                socket: socket,\n                                odUserId: userId,\n                                initialState: gameState || undefined,\n                                initialPlayers: gamePlayers,\n                                onGameEnd: (result)=>{\n                                    console.log(\"Truths and Lie game ended:\", result);\n                                    setTimeout(()=>{\n                                        setGameType(null);\n                                        setGameId(null);\n                                        setGameState(null);\n                                        setGamePlayers([]);\n                                    }, 5000);\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1508,\n                                columnNumber: 13\n                            }, this) : gameType && gameId && (gameType === \"BILLIARDS\" || gameType?.toUpperCase() === \"BILLIARDS\") ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_games_BilliardsGameV2__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                gameId: gameId,\n                                socket: socket,\n                                odUserId: userId,\n                                initialState: gameState || undefined,\n                                initialPlayers: gamePlayers,\n                                onGameEnd: (result)=>{\n                                    console.log(\"Billiards game ended:\", result);\n                                    setTimeout(()=>{\n                                        setGameType(null);\n                                        setGameId(null);\n                                        setGameState(null);\n                                        setGamePlayers([]);\n                                    }, 5000);\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1525,\n                                columnNumber: 13\n                            }, this) : gameType && !gameId ? // Game is pending/starting - show cancel option\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-800 p-4 border border-white/20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between mb-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-300\",\n                                                children: [\n                                                    \"Starting game: \",\n                                                    gameType\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1545,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleCancelGame,\n                                                className: \"text-xs bg-gray-700 hover:bg-gray-600 px-3 py-1 text-white border border-white/30\",\n                                                children: \"Cancel\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1546,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1544,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-black p-8 text-center text-gray-400 min-h-[200px] flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-lg mb-2\",\n                                                    children: [\n                                                        \"Starting \",\n                                                        gameType,\n                                                        \"...\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1555,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs\",\n                                                    children: \"Please wait while the game initializes\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1556,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                            lineNumber: 1554,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1553,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1543,\n                                columnNumber: 13\n                            }, this) : gameType && gameId && gameType !== \"TICTACTOE\" && gameType !== \"TRIVIA\" && gameType !== \"CHESS\" && gameType !== \"TRUTHS_AND_LIE\" && gameType?.toUpperCase() !== \"TRUTHS_AND_LIE\" && gameType !== \"BILLIARDS\" && gameType?.toUpperCase() !== \"BILLIARDS\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-800 p-4 border border-white/20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-300 mb-2\",\n                                        children: [\n                                            \"Active game: \",\n                                            gameType,\n                                            \" (ID: \",\n                                            gameId,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1562,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-black p-8 text-center text-gray-400 min-h-[200px] flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-lg mb-2\",\n                                                    children: [\n                                                        \"Game UI for \",\n                                                        gameType\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1565,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs\",\n                                                    children: \"Game implementation coming soon or state not loaded\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1566,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs mt-2\",\n                                                    children: [\n                                                        \"Game State: \",\n                                                        gameState ? \"Loaded\" : \"Not loaded\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1567,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs mt-1\",\n                                                    children: [\n                                                        \"Debug: gameType=\",\n                                                        gameType,\n                                                        \", gameId=\",\n                                                        gameId\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1568,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                            lineNumber: 1564,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1563,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1561,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-800 p-4 border border-white/20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-400 mb-3\",\n                                        children: \"Start a game\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1574,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-2 gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleStartGame(\"CHESS\"),\n                                                className: \"bg-white px-3 py-2 text-black text-sm hover:bg-gray-200 border-2 border-white\",\n                                                children: \"Chess\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1576,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleStartGame(\"TRIVIA\"),\n                                                className: \"bg-white px-3 py-2 text-black text-sm hover:bg-gray-200 border-2 border-white\",\n                                                children: \"Trivia\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1582,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleStartGame(\"TICTACTOE\"),\n                                                className: \"bg-white px-3 py-2 text-black text-sm hover:bg-gray-200 border-2 border-white\",\n                                                children: \"Tic-Tac-Toe\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1588,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    console.log(\"Starting Truths & Lie game\");\n                                                    handleStartGame(\"TRUTHS_AND_LIE\");\n                                                },\n                                                className: \"bg-white px-3 py-2 text-black text-sm hover:bg-gray-200 border-2 border-white\",\n                                                children: \"Truths & Lie\"\n                                            }, \"truths-and-lie-button\", false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1594,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleStartGame(\"BILLIARDS\"),\n                                                className: \"bg-white px-3 py-2 text-black text-sm hover:bg-gray-200 border-2 border-white\",\n                                                children: \"Billiards\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1604,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1575,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1573,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1357,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-900 p-4 border border-white/20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-400 mb-3\",\n                                        children: \"Actions\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1617,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleSendGift,\n                                                className: \"w-full bg-gray-800 px-4 py-2 text-white border-2 border-white/30 hover:bg-gray-700\",\n                                                children: \"Send Gift\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1619,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    const reason = prompt(\"Report reason:\");\n                                                    if (reason && socket) {\n                                                        socket.emit(\"session.report\", {\n                                                            sessionId,\n                                                            reason\n                                                        });\n                                                        alert(\"Report submitted\");\n                                                    }\n                                                },\n                                                className: \"w-full bg-gray-800 px-4 py-2 text-white border-2 border-white/30 hover:bg-gray-700\",\n                                                children: \"Report User\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1625,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1618,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1616,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-900 p-4 border border-white/20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-400 mb-2\",\n                                        children: \"Session Info\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1641,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-gray-500 space-y-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    \"Peer: \",\n                                                    sessionData?.peer.id || \"Loading...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1643,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    \"Channel: \",\n                                                    sessionData?.video.channelName || \"Loading...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1644,\n                                                columnNumber: 15\n                                            }, this),\n                                            sessionData?.video.expiresAt && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    \"Token expires: \",\n                                                    new Date(sessionData.video.expiresAt).toLocaleTimeString()\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1646,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1642,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1640,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1615,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                lineNumber: 1356,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n        lineNumber: 1206,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUlELFdBQVU7OzBEQUNiLDhEQUFDRzs7b0RBQUU7b0RBQU9uUCxhQUFha1IsS0FBS25SLE1BQU07Ozs7Ozs7MERBQ2xDLDhEQUFDb1A7O29EQUFFO29EQUFVblAsYUFBYXVHLE1BQU1DLGVBQWU7Ozs7Ozs7NENBQzlDeEcsYUFBYXVHLE1BQU00RSwyQkFDbEIsOERBQUNnRTs7b0RBQUU7b0RBQWdCLElBQUl6SyxLQUFLMUUsWUFBWXVHLEtBQUssQ0FBQzRFLFNBQVMsRUFBRWdHLGtCQUFrQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVEzRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BvbWVnbGUtZ2FtZS93ZWIvLi9zcmMvYXBwL3Nlc3Npb24vW2lkXS9wYWdlLnRzeD8wODYxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCB7IGlvLCBTb2NrZXQgfSBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xuaW1wb3J0IEFnb3JhUlRDLCB7IElDYW1lcmFWaWRlb1RyYWNrLCBJTWljcm9waG9uZUF1ZGlvVHJhY2ssIElBZ29yYVJUQ0NsaWVudCwgSUFnb3JhUlRDUmVtb3RlVXNlciwgTmV0d29ya1F1YWxpdHkgfSBmcm9tIFwiYWdvcmEtcnRjLXNkay1uZ1wiO1xuaW1wb3J0IHsgdmlkZW9BcGksIHVzZXJzQXBpLCB3YWxsZXRBcGkgfSBmcm9tIFwiQC9saWIvYXBpXCI7XG5pbXBvcnQgVGljVGFjVG9lR2FtZSBmcm9tIFwiQC9jb21wb25lbnRzL2dhbWVzL1RpY1RhY1RvZUdhbWVcIjtcbmltcG9ydCBDaGVzc0dhbWUgZnJvbSBcIkAvY29tcG9uZW50cy9nYW1lcy9DaGVzc0dhbWVcIjtcbmltcG9ydCBUcml2aWFHYW1lIGZyb20gXCJAL2NvbXBvbmVudHMvZ2FtZXMvVHJpdmlhR2FtZVwiO1xuaW1wb3J0IFRydXRoc0FuZExpZUdhbWUgZnJvbSBcIkAvY29tcG9uZW50cy9nYW1lcy9UcnV0aHNBbmRMaWVHYW1lXCI7XG5pbXBvcnQgQmlsbGlhcmRzR2FtZSBmcm9tIFwiQC9jb21wb25lbnRzL2dhbWVzL0JpbGxpYXJkc0dhbWVcIjtcbmltcG9ydCBCaWxsaWFyZHNHYW1lVjIgZnJvbSBcIkAvY29tcG9uZW50cy9nYW1lcy9CaWxsaWFyZHNHYW1lVjJcIjtcbmltcG9ydCBCYWNrQnV0dG9uIGZyb20gXCJAL2NvbXBvbmVudHMvQmFja0J1dHRvblwiO1xuXG4vLyBDb25maWd1cmFibGUgV2ViU29ja2V0IFVSTFxuY29uc3QgV1NfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfV1NfVVJMIHx8IFwiaHR0cDovL2xvY2FsaG9zdDozMDAxXCI7XG5cbmludGVyZmFjZSBTZXNzaW9uRGF0YSB7XG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICBwZWVyOiB7IGlkOiBzdHJpbmcgfTtcbiAgdmlkZW86IHsgY2hhbm5lbE5hbWU6IHN0cmluZzsgdG9rZW46IHN0cmluZzsgZXhwaXJlc0F0Pzogc3RyaW5nIH07XG59XG5cbmludGVyZmFjZSBSZW1vdGVVc2VySW5mbyB7XG4gIHVpZDogc3RyaW5nIHwgbnVtYmVyO1xuICBoYXNWaWRlbzogYm9vbGVhbjtcbiAgaGFzQXVkaW86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBOZXR3b3JrUXVhbGl0eVN0YXRlIHtcbiAgdXBsaW5rOiBudW1iZXI7IC8vIDAtNjogdW5rbm93biwgZXhjZWxsZW50LCBnb29kLCBwb29yLCBiYWQsIHZlcnkgYmFkLCBkb3duXG4gIGRvd25saW5rOiBudW1iZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlc3Npb25QYWdlKCkge1xuICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHBhcmFtcy5pZCBhcyBzdHJpbmc7XG4gIGNvbnN0IFtzZXNzaW9uRGF0YSwgc2V0U2Vzc2lvbkRhdGFdID0gdXNlU3RhdGU8U2Vzc2lvbkRhdGEgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NvY2tldCwgc2V0U29ja2V0XSA9IHVzZVN0YXRlPFNvY2tldCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY29ubmVjdGVkLCBzZXRDb25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZ2FtZVR5cGUsIHNldEdhbWVUeXBlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZ2FtZUlkLCBzZXRHYW1lSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtnYW1lU3RhdGUsIHNldEdhbWVTdGF0ZV0gPSB1c2VTdGF0ZTxhbnk+KG51bGwpO1xuICBjb25zdCBbZ2FtZVBsYXllcnMsIHNldEdhbWVQbGF5ZXJzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFt2aWRlb1JlYWR5LCBzZXRWaWRlb1JlYWR5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbbG9jYWxWaWRlb0FjdGl2ZSwgc2V0TG9jYWxWaWRlb0FjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtyZW1vdGVWaWRlb0FjdGl2ZSwgc2V0UmVtb3RlVmlkZW9BY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmlkZW9zU3dhcHBlZCwgc2V0VmlkZW9zU3dhcHBlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0Z1bGxzY3JlZW4sIHNldElzRnVsbHNjcmVlbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBOZXcgc3RhdGUgZm9yIGF1ZGlvL3ZpZGVvIGNvbnRyb2xzXG4gIGNvbnN0IFtpc011dGVkLCBzZXRJc011dGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzQ2FtZXJhT2ZmLCBzZXRJc0NhbWVyYU9mZl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBOZXcgc3RhdGUgZm9yIHJlbW90ZSB1c2VyIGluZm8gKGZpeGVzIHJlZiBub3QgdHJpZ2dlcmluZyByZS1yZW5kZXIpXG4gIGNvbnN0IFtyZW1vdGVVc2VySW5mbywgc2V0UmVtb3RlVXNlckluZm9dID0gdXNlU3RhdGU8UmVtb3RlVXNlckluZm8gfCBudWxsPihudWxsKTtcbiAgXG4gIC8vIE5ldyBzdGF0ZSBmb3IgbmV0d29yayBxdWFsaXR5XG4gIGNvbnN0IFtuZXR3b3JrUXVhbGl0eSwgc2V0TmV0d29ya1F1YWxpdHldID0gdXNlU3RhdGU8TmV0d29ya1F1YWxpdHlTdGF0ZT4oeyB1cGxpbms6IDAsIGRvd25saW5rOiAwIH0pO1xuICBcbiAgLy8gTmV3IHN0YXRlIGZvciBzZXNzaW9uIGR1cmF0aW9uXG4gIGNvbnN0IFtzZXNzaW9uRHVyYXRpb24sIHNldFNlc3Npb25EdXJhdGlvbl0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3Nlc3Npb25TdGFydFRpbWUsIHNldFNlc3Npb25TdGFydFRpbWVdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBOZXcgc3RhdGUgZm9yIGNvbm5lY3Rpb24gc3RhdHVzXG4gIGNvbnN0IFtjb25uZWN0aW9uU3RhdGUsIHNldENvbm5lY3Rpb25TdGF0ZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiRElTQ09OTkVDVEVEXCIpO1xuICBcbiAgLy8gV2FsbGV0IGJhbGFuY2Ugc3RhdGVcbiAgY29uc3QgW3dhbGxldEJhbGFuY2UsIHNldFdhbGxldEJhbGFuY2VdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgXG4gIC8vIEdpZnQgbm90aWZpY2F0aW9uIHN0YXRlXG4gIGNvbnN0IFtnaWZ0Tm90aWZpY2F0aW9uLCBzZXRHaWZ0Tm90aWZpY2F0aW9uXSA9IHVzZVN0YXRlPHsgZnJvbTogc3RyaW5nOyBhbW91bnQ6IG51bWJlcjsgaXNSZWNlaXZlZDogYm9vbGVhbiB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGdpZnROb3RpZmljYXRpb25UaW1lclJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICBcbiAgY29uc3QgbWFpblZpZGVvUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3Qgb3ZlcmxheVZpZGVvUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgdmlkZW9Db250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBjbGllbnRSZWYgPSB1c2VSZWY8SUFnb3JhUlRDQ2xpZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGxvY2FsVHJhY2tSZWYgPSB1c2VSZWY8eyB2aWRlb1RyYWNrOiBJQ2FtZXJhVmlkZW9UcmFjayB8IG51bGw7IGF1ZGlvVHJhY2s6IElNaWNyb3Bob25lQXVkaW9UcmFjayB8IG51bGwgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCByZW1vdGVUcmFja1JlZiA9IHVzZVJlZjxJQWdvcmFSVENSZW1vdGVVc2VyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHJlbW90ZVVzZXJSZWYgPSB1c2VSZWY8SUFnb3JhUlRDUmVtb3RlVXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCB2aWRlb0NoZWNrSW50ZXJ2YWxSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgY29uc3Qgc2Vzc2lvblRpbWVyUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHRva2VuUmVuZXdhbFRpbWVyUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBVc2UgcmVmcyB0byB0cmFjayBsYXRlc3Qgc3RhdGUgdmFsdWVzIChmaXhlcyBzdGFsZSBjbG9zdXJlIGlzc3VlKVxuICBjb25zdCByZW1vdGVWaWRlb0FjdGl2ZVJlZiA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGxvY2FsVmlkZW9BY3RpdmVSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICBcbiAgY29uc3QgW3VzZXJJZCwgc2V0VXNlcklkXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG5cbiAgLy8gS2VlcCByZWZzIGluIHN5bmMgd2l0aCBzdGF0ZSAoZml4ZXMgc3RhbGUgY2xvc3VyZSBpc3N1ZSBpbiBpbnRlcnZhbHMpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVtb3RlVmlkZW9BY3RpdmVSZWYuY3VycmVudCA9IHJlbW90ZVZpZGVvQWN0aXZlO1xuICB9LCBbcmVtb3RlVmlkZW9BY3RpdmVdKTtcbiAgXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9jYWxWaWRlb0FjdGl2ZVJlZi5jdXJyZW50ID0gbG9jYWxWaWRlb0FjdGl2ZTtcbiAgfSwgW2xvY2FsVmlkZW9BY3RpdmVdKTtcblxuICAvLyBBdWRpbyBtdXRlL3VubXV0ZSB0b2dnbGVcbiAgY29uc3QgdG9nZ2xlTXV0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAobG9jYWxUcmFja1JlZi5jdXJyZW50Py5hdWRpb1RyYWNrKSB7XG4gICAgICBjb25zdCBuZXdNdXRlZCA9ICFpc011dGVkO1xuICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LmF1ZGlvVHJhY2suc2V0RW5hYmxlZCghbmV3TXV0ZWQpO1xuICAgICAgc2V0SXNNdXRlZChuZXdNdXRlZCk7XG4gICAgICBjb25zb2xlLmxvZyhuZXdNdXRlZCA/IFwi8J+UhyBBdWRpbyBtdXRlZFwiIDogXCLwn5SKIEF1ZGlvIHVubXV0ZWRcIik7XG4gICAgfVxuICB9LCBbaXNNdXRlZF0pO1xuXG4gIC8vIENhbWVyYSBvbi9vZmYgdG9nZ2xlXG4gIGNvbnN0IHRvZ2dsZUNhbWVyYSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAobG9jYWxUcmFja1JlZi5jdXJyZW50Py52aWRlb1RyYWNrKSB7XG4gICAgICBjb25zdCBuZXdDYW1lcmFPZmYgPSAhaXNDYW1lcmFPZmY7XG4gICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjay5zZXRFbmFibGVkKCFuZXdDYW1lcmFPZmYpO1xuICAgICAgc2V0SXNDYW1lcmFPZmYobmV3Q2FtZXJhT2ZmKTtcbiAgICAgIGNvbnNvbGUubG9nKG5ld0NhbWVyYU9mZiA/IFwi8J+TtyBDYW1lcmEgb2ZmXCIgOiBcIvCfk7kgQ2FtZXJhIG9uXCIpO1xuICAgIH1cbiAgfSwgW2lzQ2FtZXJhT2ZmXSk7XG5cbiAgLy8gU2Vzc2lvbiBkdXJhdGlvbiB0aW1lclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZXNzaW9uU3RhcnRUaW1lKSB7XG4gICAgICBzZXNzaW9uVGltZXJSZWYuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgc2V0U2Vzc2lvbkR1cmF0aW9uKE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBzZXNzaW9uU3RhcnRUaW1lKSAvIDEwMDApKTtcbiAgICAgIH0sIDEwMDApO1xuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoc2Vzc2lvblRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKHNlc3Npb25UaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sIFtzZXNzaW9uU3RhcnRUaW1lXSk7XG5cbiAgLy8gRm9ybWF0IGR1cmF0aW9uIGFzIG1tOnNzXG4gIGNvbnN0IGZvcm1hdER1cmF0aW9uID0gKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgbWlucyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBjb25zdCBzZWNzID0gc2Vjb25kcyAlIDYwO1xuICAgIHJldHVybiBgJHttaW5zLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzZWNzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICB9O1xuXG4gIC8vIE5ldHdvcmsgcXVhbGl0eSBsYWJlbFxuICBjb25zdCBnZXROZXR3b3JrUXVhbGl0eUxhYmVsID0gKHF1YWxpdHk6IG51bWJlcik6IHsgbGFiZWw6IHN0cmluZzsgY29sb3I6IHN0cmluZyB9ID0+IHtcbiAgICBzd2l0Y2ggKHF1YWxpdHkpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIHsgbGFiZWw6IFwiRXhjZWxsZW50XCIsIGNvbG9yOiBcInRleHQtZ3JlZW4tNDAwXCIgfTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIHsgbGFiZWw6IFwiR29vZFwiLCBjb2xvcjogXCJ0ZXh0LWdyZWVuLTMwMFwiIH07XG4gICAgICBjYXNlIDM6IHJldHVybiB7IGxhYmVsOiBcIlBvb3JcIiwgY29sb3I6IFwidGV4dC15ZWxsb3ctNDAwXCIgfTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIHsgbGFiZWw6IFwiQmFkXCIsIGNvbG9yOiBcInRleHQtb3JhbmdlLTQwMFwiIH07XG4gICAgICBjYXNlIDU6IHJldHVybiB7IGxhYmVsOiBcIlZlcnkgQmFkXCIsIGNvbG9yOiBcInRleHQtcmVkLTQwMFwiIH07XG4gICAgICBjYXNlIDY6IHJldHVybiB7IGxhYmVsOiBcIkRvd25cIiwgY29sb3I6IFwidGV4dC1yZWQtNjAwXCIgfTtcbiAgICAgIGRlZmF1bHQ6IHJldHVybiB7IGxhYmVsOiBcIlVua25vd25cIiwgY29sb3I6IFwidGV4dC1ncmF5LTQwMFwiIH07XG4gICAgfVxuICB9O1xuXG4gIC8vIEdldCB1c2VyIElEIGFuZCB3YWxsZXQgYmFsYW5jZSBvbiBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvYWRVc2VyRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFt1c2VyLCB3YWxsZXRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIHVzZXJzQXBpLmdldE1lKCksXG4gICAgICAgICAgd2FsbGV0QXBpLmdldE15V2FsbGV0KClcbiAgICAgICAgXSk7XG4gICAgICAgIHNldFVzZXJJZCh1c2VyLmlkKTtcbiAgICAgICAgc2V0V2FsbGV0QmFsYW5jZSh3YWxsZXQ/LmJhbGFuY2VUb2tlbnMgfHwgMCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIHVzZXIgZGF0YTpcIiwgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGxvYWRVc2VyRGF0YSgpO1xuICB9LCBbXSk7XG4gIFxuICAvLyBTaG93IGdpZnQgbm90aWZpY2F0aW9uIHdpdGggYXV0by1kaXNtaXNzXG4gIGNvbnN0IHNob3dHaWZ0Tm90aWZpY2F0aW9uID0gdXNlQ2FsbGJhY2soKGZyb206IHN0cmluZywgYW1vdW50OiBudW1iZXIsIGlzUmVjZWl2ZWQ6IGJvb2xlYW4pID0+IHtcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgdGltZXJcbiAgICBpZiAoZ2lmdE5vdGlmaWNhdGlvblRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dChnaWZ0Tm90aWZpY2F0aW9uVGltZXJSZWYuY3VycmVudCk7XG4gICAgfVxuICAgIFxuICAgIHNldEdpZnROb3RpZmljYXRpb24oeyBmcm9tLCBhbW91bnQsIGlzUmVjZWl2ZWQgfSk7XG4gICAgXG4gICAgLy8gQXV0by1kaXNtaXNzIGFmdGVyIDUgc2Vjb25kc1xuICAgIGdpZnROb3RpZmljYXRpb25UaW1lclJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRHaWZ0Tm90aWZpY2F0aW9uKG51bGwpO1xuICAgIH0sIDUwMDApO1xuICB9LCBbXSk7XG5cbiAgLy8gVHJhY2sgdGhlIGNoYW5uZWwgd2UncmUgY29ubmVjdGVkIHRvIHRvIHByZXZlbnQgcmVpbml0aWFsaXppbmcgZm9yIHRoZSBzYW1lIHNlc3Npb25cbiAgY29uc3QgY29ubmVjdGVkQ2hhbm5lbFJlZiA9IHVzZVJlZjxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBJbml0aWFsaXplIEFnb3JhIHZpZGVvIHdoZW4gc2Vzc2lvbiBkYXRhIGlzIHJlYWR5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uRGF0YT8udmlkZW8gfHwgIXVzZXJJZCkge1xuICAgICAgLy8gT25seSBsb2cgb25jZSB3aGVuIG1pc3NpbmcgZGF0YSwgbm90IG9uIGV2ZXJ5IHJlbmRlclxuICAgICAgaWYgKCFzZXNzaW9uRGF0YT8udmlkZW8gJiYgIXVzZXJJZCkge1xuICAgICAgICAvLyBTaWxlbnRseSB3YWl0IC0gd2lsbCBpbml0aWFsaXplIG9uY2UgYm90aCBhcmUgYXZhaWxhYmxlXG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUHJldmVudCBtdWx0aXBsZSBpbml0aWFsaXphdGlvbnMgZm9yIHRoZSBzYW1lIGNoYW5uZWxcbiAgICAvLyBUaGlzIGhhbmRsZXMgV2ViU29ja2V0IHJlY29ubmVjdGlvbnMgdGhhdCByZXNlbmQgc2Vzc2lvbi5yZWFkeVxuICAgIGlmIChjbGllbnRSZWYuY3VycmVudCAmJiBjb25uZWN0ZWRDaGFubmVsUmVmLmN1cnJlbnQgPT09IHNlc3Npb25EYXRhLnZpZGVvLmNoYW5uZWxOYW1lKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlZpZGVvIGFscmVhZHkgaW5pdGlhbGl6ZWQgZm9yIHRoaXMgY2hhbm5lbCwgc2tpcHBpbmdcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIElmIHdlJ3JlIGNvbm5lY3RlZCB0byBhIGRpZmZlcmVudCBjaGFubmVsLCBjbGVhbiB1cCBmaXJzdFxuICAgIGlmIChjbGllbnRSZWYuY3VycmVudCAmJiBjb25uZWN0ZWRDaGFubmVsUmVmLmN1cnJlbnQgIT09IHNlc3Npb25EYXRhLnZpZGVvLmNoYW5uZWxOYW1lKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkNoYW5uZWwgY2hhbmdlZCwgY2xlYW5pbmcgdXAgb2xkIGNvbm5lY3Rpb25cIik7XG4gICAgICAvLyBUaGlzIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgY2xlYW51cCBmdW5jdGlvblxuICAgIH1cblxuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xuICAgIGxldCByZXRyeUNvdW50ID0gMDtcbiAgICBjb25zdCBNQVhfUkVUUklFUyA9IDUwOyAvLyBNYXggNSBzZWNvbmRzIG9mIHJldHJpZXMgKDUwICogMTAwbXMpXG4gICAgbGV0IHJldHJ5VGltZXI6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG5cbiAgICAvLyBXYWl0IGZvciByZWZzIHRvIGJlIGF2YWlsYWJsZSAodGhleSBtaWdodCBub3QgYmUgaW1tZWRpYXRlbHkgYWZ0ZXIgcmVuZGVyKVxuICAgIGNvbnN0IGNoZWNrQW5kSW5pdCA9ICgpID0+IHtcbiAgICAgIGlmICghaXNNb3VudGVkKSB7XG4gICAgICAgIGlmIChyZXRyeVRpbWVyKSBjbGVhclRpbWVvdXQocmV0cnlUaW1lcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFtYWluVmlkZW9SZWYuY3VycmVudCB8fCAhb3ZlcmxheVZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0cnlDb3VudCsrO1xuICAgICAgICBpZiAocmV0cnlDb3VudCA+PSBNQVhfUkVUUklFUykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWaWRlbyByZWZzIG5ldmVyIGJlY2FtZSBhdmFpbGFibGUgYWZ0ZXJcIiwgTUFYX1JFVFJJRVMsIFwicmV0cmllc1wiKTtcbiAgICAgICAgICBzZXRFcnJvcihcIlZpZGVvIGNvbnRhaW5lcnMgZmFpbGVkIHRvIGluaXRpYWxpemUuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlLlwiKTtcbiAgICAgICAgICByZXRyeVRpbWVyID0gbnVsbDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJldHJ5Q291bnQgJSAxMCA9PT0gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBXYWl0aW5nIGZvciB2aWRlbyByZWZzLi4uIChhdHRlbXB0ICR7cmV0cnlDb3VudH0vJHtNQVhfUkVUUklFU30pYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0cnlUaW1lciA9IHNldFRpbWVvdXQoY2hlY2tBbmRJbml0LCAxMDApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiQWxsIGNvbmRpdGlvbnMgbWV0LCBpbml0aWFsaXppbmcgdmlkZW9cIik7XG4gICAgICByZXRyeVRpbWVyID0gbnVsbDsgLy8gQ2xlYXIgdGltZXIgc2luY2Ugd2UncmUgcHJvY2VlZGluZ1xuICAgICAgaW5pdFZpZGVvKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGluaXRWaWRlbyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBhcHBJZDogc3RyaW5nID0gXCJcIjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTdGFydGluZyB2aWRlbyBpbml0aWFsaXphdGlvbi4uLlwiKTtcbiAgICAgICAgc2V0RXJyb3IoXCJcIik7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgQWdvcmEgQXBwIElEXG4gICAgICAgIGNvbnN0IGFwcElkUmVzcG9uc2UgPSBhd2FpdCB2aWRlb0FwaS5nZXRBcHBJZCgpO1xuICAgICAgICBhcHBJZCA9IGFwcElkUmVzcG9uc2UuYXBwSWQ7XG4gICAgICAgIGlmICghYXBwSWQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQWdvcmEgQXBwIElEIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICBzZXRFcnJvcihcIkFnb3JhIEFwcCBJRCBub3QgY29uZmlndXJlZFwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcIkFnb3JhIEFwcCBJRDpcIiwgYXBwSWQpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBBZ29yYSBjbGllbnRcbiAgICAgICAgY29uc3QgY2xpZW50ID0gQWdvcmFSVEMuY3JlYXRlQ2xpZW50KHsgbW9kZTogXCJydGNcIiwgY29kZWM6IFwidnA4XCIgfSk7XG4gICAgICAgIGNsaWVudFJlZi5jdXJyZW50ID0gY2xpZW50O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSm9pbmluZyBjaGFubmVsOlwiLCBzZXNzaW9uRGF0YS52aWRlby5jaGFubmVsTmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXNpbmcgdXNlcklkIChhY2NvdW50KTpcIiwgdXNlcklkKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJBcHAgSUQ6XCIsIGFwcElkKTtcbiAgICAgICAgLy8gVG9rZW4gbG9hZGVkIHN1Y2Nlc3NmdWxseSAobm90IGxvZ2dpbmcgZm9yIHNlY3VyaXR5KVxuICAgICAgICBcbiAgICAgICAgLy8gSm9pbiBjaGFubmVsIC0gd2hlbiB1c2luZyBidWlsZFRva2VuV2l0aEFjY291bnQsIHBhc3MgdGhlIGFjY291bnQgc3RyaW5nIGFzIHVpZFxuICAgICAgICAvLyBUaGUgdG9rZW4gY29udGFpbnMgdGhlIGFjY291bnQgaW5mbywgc28gd2UgcGFzcyB0aGUgc2FtZSB1c2VySWRcbiAgICAgICAgYXdhaXQgY2xpZW50LmpvaW4oYXBwSWQsIHNlc3Npb25EYXRhLnZpZGVvLmNoYW5uZWxOYW1lLCBzZXNzaW9uRGF0YS52aWRlby50b2tlbiwgdXNlcklkKTtcbiAgICAgICAgY29ubmVjdGVkQ2hhbm5lbFJlZi5jdXJyZW50ID0gc2Vzc2lvbkRhdGEudmlkZW8uY2hhbm5lbE5hbWU7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3VjY2Vzc2Z1bGx5IGpvaW5lZCBBZ29yYSBjaGFubmVsXCIpO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBleGlzdGluZyByZW1vdGUgdXNlcnMgaW1tZWRpYXRlbHkgYWZ0ZXIgam9pbmluZ1xuICAgICAgICBjb25zdCByZW1vdGVVc2VycyA9IGNsaWVudC5yZW1vdGVVc2VycztcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5GlIEV4aXN0aW5nIHJlbW90ZSB1c2VycyBpbiBjaGFubmVsOlwiLCByZW1vdGVVc2Vycy5sZW5ndGgpO1xuICAgICAgICBpZiAocmVtb3RlVXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAoY29uc3QgcmVtb3RlVXNlciBvZiByZW1vdGVVc2Vycykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5GkIEZvdW5kIGV4aXN0aW5nIHJlbW90ZSB1c2VyOlwiLCByZW1vdGVVc2VyLnVpZCk7XG4gICAgICAgICAgICAvLyBTdWJzY3JpYmUgdG8gZXhpc3RpbmcgcmVtb3RlIHVzZXIncyB0cmFja3NcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIFN1YnNjcmliZSB0byBib3RoIHZpZGVvIGFuZCBhdWRpbyAoaGFuZGxlIGVycm9ycyBncmFjZWZ1bGx5IGlmIG9uZSBpc24ndCBhdmFpbGFibGUpXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2xpZW50LnN1YnNjcmliZShyZW1vdGVVc2VyLCBcInZpZGVvXCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFN1YnNjcmliZWQgdG8gZXhpc3RpbmcgcmVtb3RlIHVzZXIgdmlkZW9cIik7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKHZpZGVvRXJyb3I6IGFueSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4oS577iPIFZpZGVvIG5vdCBhdmFpbGFibGUgZm9yIGV4aXN0aW5nIHVzZXI6XCIsIHZpZGVvRXJyb3I/Lm1lc3NhZ2UgfHwgXCJVbmtub3duIGVycm9yXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5zdWJzY3JpYmUocmVtb3RlVXNlciwgXCJhdWRpb1wiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBTdWJzY3JpYmVkIHRvIGV4aXN0aW5nIHJlbW90ZSB1c2VyIGF1ZGlvXCIpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChhdWRpb0Vycm9yOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKEue+4jyBBdWRpbyBub3QgYXZhaWxhYmxlIGZvciBleGlzdGluZyB1c2VyOlwiLCBhdWRpb0Vycm9yPy5tZXNzYWdlIHx8IFwiVW5rbm93biBlcnJvclwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLinIUgRmluaXNoZWQgc3Vic2NyaWJpbmcgdG8gZXhpc3RpbmcgcmVtb3RlIHVzZXIgdHJhY2tzXCIpO1xuICAgICAgICAgICAgICByZW1vdGVVc2VyUmVmLmN1cnJlbnQgPSByZW1vdGVVc2VyO1xuICAgICAgICAgICAgICAvLyBVcGRhdGUgc3RhdGUgZm9yIFVJIChyZWZzIGRvbid0IHRyaWdnZXIgcmUtcmVuZGVycylcbiAgICAgICAgICAgICAgc2V0UmVtb3RlVXNlckluZm8oe1xuICAgICAgICAgICAgICAgIHVpZDogcmVtb3RlVXNlci51aWQsXG4gICAgICAgICAgICAgICAgaGFzVmlkZW86ICEhcmVtb3RlVXNlci52aWRlb1RyYWNrLFxuICAgICAgICAgICAgICAgIGhhc0F1ZGlvOiAhIXJlbW90ZVVzZXIuYXVkaW9UcmFja1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFBsYXkgYXVkaW8gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgaWYgKHJlbW90ZVVzZXIuYXVkaW9UcmFjaykge1xuICAgICAgICAgICAgICAgIHJlbW90ZVVzZXIuYXVkaW9UcmFjay5wbGF5KCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SKIFBsYXlpbmcgZXhpc3RpbmcgcmVtb3RlIHVzZXIncyBhdWRpb1wiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHZlcmlmeSB2aWRlbyBpcyBhY3R1YWxseSBwbGF5aW5nXG4gICAgICAgICAgICAgIGNvbnN0IHZlcmlmeVZpZGVvUGxheWluZyA9ICh2aWRlb0VsZW1lbnQ6IEhUTUxWaWRlb0VsZW1lbnQgfCBudWxsKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF2aWRlb0VsZW1lbnQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB2aWRlbyBlbGVtZW50IGV4aXN0cywgaXMgbm90IHBhdXNlZCwgYW5kIGhhcyB2aWRlbyBkYXRhXG4gICAgICAgICAgICAgICAgY29uc3QgaXNQbGF5aW5nID0gIXZpZGVvRWxlbWVudC5wYXVzZWQgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVhZHlTdGF0ZSA+PSAyICYmIC8vIEhBVkVfQ1VSUkVOVF9EQVRBIG9yIGhpZ2hlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LnZpZGVvV2lkdGggPiAwICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0ID4gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNQbGF5aW5nO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gTXVsdGlwbGUgcmV0cmllcyBmb3IgdmlkZW8gdHJhY2sgdG8gZW5zdXJlIGl0J3MgcmVhZHlcbiAgICAgICAgICAgICAgY29uc3QgdHJ5UGxheVJlbW90ZVZpZGVvID0gKGF0dGVtcHQgPSAwKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pqg77iPIENvbXBvbmVudCB1bm1vdW50ZWQsIHN0b3BwaW5nIHJlbW90ZSB2aWRlbyByZXRyeVwiKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCflIQgQXR0ZW1wdCAke2F0dGVtcHR9IHRvIHBsYXkgZXhpc3RpbmcgcmVtb3RlIHZpZGVvLiBUcmFjazpgLCAhIXJlbW90ZVVzZXIudmlkZW9UcmFjaywgXCJDb250YWluZXI6XCIsICEhbWFpblZpZGVvUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChyZW1vdGVVc2VyLnZpZGVvVHJhY2sgJiYgbWFpblZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0b3AgYW55IGV4aXN0aW5nIHBsYXliYWNrXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVtb3RlVXNlci52aWRlb1RyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVVzZXIudmlkZW9UcmFjay5wbGF5KG1haW5WaWRlb1JlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIFZlcmlmeSB2aWRlbyBlbGVtZW50IHdhcyBjcmVhdGVkIGFuZCBpcyBhY3R1YWxseSBwbGF5aW5nXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IG1haW5WaWRlb1JlZi5jdXJyZW50Py5xdWVyeVNlbGVjdG9yKCd2aWRlbycpIGFzIEhUTUxWaWRlb0VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvRWxlbWVudCAmJiB2ZXJpZnlWaWRlb1BsYXlpbmcodmlkZW9FbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLinIUgRXhpc3RpbmcgcmVtb3RlIHZpZGVvIGVsZW1lbnQgY3JlYXRlZCBhbmQgcGxheWluZy4gRGltZW5zaW9uczpcIiwgdmlkZW9FbGVtZW50LnZpZGVvV2lkdGgsIFwieFwiLCB2aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVtb3RlVmlkZW9BY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2aWRlb0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVsZW1lbnQgZXhpc3RzIGJ1dCBub3QgcGxheWluZyAtIHRyeSB0byBmaXggaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIuKaoO+4jyBWaWRlbyBlbGVtZW50IGV4aXN0cyBidXQgbm90IHBsYXlpbmcgcHJvcGVybHkuIEF0dGVtcHRpbmcgZml4Li4uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBsYXkoKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcGxheSgpIGZhaWxzLCByZXRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0IDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0cnlQbGF5UmVtb3RlVmlkZW8oYXR0ZW1wdCArIDEpLCAzMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGFnYWluIGFmdGVyIGEgbW9tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ZXJpZnlWaWRlb1BsYXlpbmcodmlkZW9FbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVtb3RlVmlkZW9BY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRlbXB0IDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0cnlQbGF5UmVtb3RlVmlkZW8oYXR0ZW1wdCArIDEpLCAzMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQgPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0cnlQbGF5UmVtb3RlVmlkZW8oYXR0ZW1wdCArIDEpLCAzMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgVmlkZW8gZWxlbWVudCBub3QgZm91bmQgYWZ0ZXIgcGxheSgpXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQgPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdHJ5UGxheVJlbW90ZVZpZGVvKGF0dGVtcHQgKyAxKSwgNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBQbGF5aW5nIGV4aXN0aW5nIHJlbW90ZSB1c2VyJ3MgdmlkZW8gaW4gbWFpbiBjb250YWluZXIgKGF0dGVtcHRcIiwgYXR0ZW1wdCArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHBsYXlFcnJvcjogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBwbGF5aW5nIGV4aXN0aW5nIHJlbW90ZSB2aWRlbyAoYXR0ZW1wdCAke2F0dGVtcHR9KTpgLCBwbGF5RXJyb3I/Lm1lc3NhZ2UgfHwgcGxheUVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQgPCAxMikge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdHJ5UGxheVJlbW90ZVZpZGVvKGF0dGVtcHQgKyAxKSwgTWF0aC5taW4oMzAwICogKGF0dGVtcHQgKyAxKSwgMjAwMCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRlbXB0IDwgMjApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDij7MgVmlkZW8gdHJhY2sgb3IgY29udGFpbmVyIG5vdCByZWFkeSAodHJhY2s6ICR7ISFyZW1vdGVVc2VyLnZpZGVvVHJhY2t9LCBjb250YWluZXI6ICR7ISFtYWluVmlkZW9SZWYuY3VycmVudH0pYCk7XG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRyeVBsYXlSZW1vdGVWaWRlbyhhdHRlbXB0ICsgMSksIE1hdGgubWluKDE1MCAqIChhdHRlbXB0ICsgMSksIDEwMDApKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBSZW1vdGUgdmlkZW8gdHJhY2sgbmV2ZXIgYmVjYW1lIGF2YWlsYWJsZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBTdGFydCB0cnlpbmcgdG8gcGxheSB2aWRlbyBpbW1lZGlhdGVseSBhbmQgd2l0aCByZXRyaWVzXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdHJ5UGxheVJlbW90ZVZpZGVvKCksIDEwMCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBBbHNvIHNldCB1cCBhIG9uZS10aW1lIGNoZWNrIGFmdGVyIGEgbG9uZ2VyIGRlbGF5IHRvIGNhdGNoIG1pc3NlZCBjYXNlc1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkICYmIHJlbW90ZVVzZXIudmlkZW9UcmFjayAmJiBtYWluVmlkZW9SZWYuY3VycmVudCAmJiAhcmVtb3RlVmlkZW9BY3RpdmVSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SEIERlbGF5ZWQgY2hlY2s6IEF0dGVtcHRpbmcgdG8gcGxheSBleGlzdGluZyByZW1vdGUgdmlkZW9cIik7XG4gICAgICAgICAgICAgICAgICB0cnlQbGF5UmVtb3RlVmlkZW8oMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IGNhdGNoIChzdWJFcnJvcjogYW55KSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRXJyb3Igc3Vic2NyaWJpbmcgdG8gZXhpc3RpbmcgcmVtb3RlIHVzZXI6XCIsIHN1YkVycm9yPy5tZXNzYWdlIHx8IHN1YkVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCLij7MgTm8gZXhpc3RpbmcgcmVtb3RlIHVzZXJzLCB3YWl0aW5nIGZvciB1c2VyLXB1Ymxpc2hlZCBldmVudFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBhbmQgcHVibGlzaCBsb2NhbCB2aWRlby9hdWRpbyB0cmFja3NcbiAgICAgICAgY29uc29sZS5sb2coXCJSZXF1ZXN0aW5nIGNhbWVyYSBhbmQgbWljcm9waG9uZSBhY2Nlc3MuLi5cIik7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IFttaWNUcmFjaywgY2FtVHJhY2tdID0gYXdhaXQgQWdvcmFSVEMuY3JlYXRlTWljcm9waG9uZUFuZENhbWVyYVRyYWNrcyhcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBlbmNvZGVyQ29uZmlnOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHsgbWluOiA2NDAsIGlkZWFsOiAxMjgwLCBtYXg6IDE5MjAgfSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHsgbWluOiA0ODAsIGlkZWFsOiA3MjAsIG1heDogMTA4MCB9LFxuICAgICAgICAgICAgICAgIGZyYW1lUmF0ZTogeyBtaW46IDE1LCBpZGVhbDogMzAsIG1heDogMzAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBOb3RlOiBjcmVhdGVNaWNyb3Bob25lQW5kQ2FtZXJhVHJhY2tzIHJldHVybnMgW0lNaWNyb3Bob25lQXVkaW9UcmFjaywgSUNhbWVyYVZpZGVvVHJhY2tdXG4gICAgICAgICAgY29uc3QgYXVkaW9UcmFjayA9IG1pY1RyYWNrO1xuICAgICAgICAgIGNvbnN0IHZpZGVvVHJhY2sgPSBjYW1UcmFjaztcbiAgICAgICAgICBcbiAgICAgICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQgPSB7IHZpZGVvVHJhY2ssIGF1ZGlvVHJhY2sgfTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyYWNrcyBjcmVhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgICBcbiAgICAgICAgICBhd2FpdCBjbGllbnQucHVibGlzaChbbWljVHJhY2ssIGNhbVRyYWNrXSk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJUcmFja3MgcHVibGlzaGVkIHRvIGNoYW5uZWxcIik7XG5cbiAgICAgICAgICAvLyBEaXNwbGF5IGxvY2FsIHZpZGVvIGluIG92ZXJsYXkgY29udGFpbmVyIChzbWFsbCBjb3JuZXIgYnkgZGVmYXVsdClcbiAgICAgICAgICAvLyBSZXRyeSBtdWx0aXBsZSB0aW1lcyB0byBlbnN1cmUgdGhlIHJlZiBpcyByZWFkeVxuICAgICAgICAgIGNvbnN0IHRyeVBsYXlMb2NhbFZpZGVvID0gKGF0dGVtcHQgPSAwKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzTW91bnRlZCB8fCAhdmlkZW9UcmFjaykgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAob3ZlcmxheVZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gQWdvcmEgU0RLIHBsYXkoKSBhY2NlcHRzIEhUTUxFbGVtZW50IGJ1dCB0eXBlcyBtYXkgYmUgb3V0ZGF0ZWRcbiAgICAgICAgICAgICAgICB2aWRlb1RyYWNrLnBsYXkob3ZlcmxheVZpZGVvUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9jYWwgdmlkZW8gcGxheWluZyBpbiBvdmVybGF5IGNvbnRhaW5lclwiKTtcbiAgICAgICAgICAgICAgICBzZXRMb2NhbFZpZGVvQWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChwbGF5RXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBwbGF5aW5nIGxvY2FsIHZpZGVvIChhdHRlbXB0ICR7YXR0ZW1wdH0pOmAsIHBsYXlFcnJvcik7XG4gICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQgPCA1KSB7XG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRyeVBsYXlMb2NhbFZpZGVvKGF0dGVtcHQgKyAxKSwgMTAwICogKGF0dGVtcHQgKyAxKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF0dGVtcHQgPCAxMCkge1xuICAgICAgICAgICAgICAvLyBSZWYgbm90IHJlYWR5IHlldCwgcmV0cnlcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0cnlQbGF5TG9jYWxWaWRlbyhhdHRlbXB0ICsgMSksIDUwICogKGF0dGVtcHQgKyAxKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTG9jYWwgdmlkZW8gcmVmIG5ldmVyIGJlY2FtZSBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnlQbGF5TG9jYWxWaWRlbygpO1xuICAgICAgICB9IGNhdGNoICh0cmFja0Vycm9yOiBhbnkpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZS9wdWJsaXNoIGxvY2FsIHRyYWNrczpcIiwgdHJhY2tFcnJvcik7XG4gICAgICAgICAgaWYgKHRyYWNrRXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoXCJwZXJtaXNzaW9uXCIpIHx8IHRyYWNrRXJyb3IubmFtZSA9PT0gXCJOb3RBbGxvd2VkRXJyb3JcIikge1xuICAgICAgICAgICAgc2V0RXJyb3IoXCJDYW1lcmEgb3IgbWljcm9waG9uZSBwZXJtaXNzaW9uIGRlbmllZC4gUGxlYXNlIGFsbG93IGFjY2VzcyBpbiB5b3VyIGJyb3dzZXIgc2V0dGluZ3MgYW5kIHJlZnJlc2ggdGhlIHBhZ2UuXCIpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHJhY2tFcnJvci5uYW1lID09PSBcIk5vdEZvdW5kRXJyb3JcIiB8fCB0cmFja0Vycm9yLm5hbWUgPT09IFwiTm90UmVhZGFibGVFcnJvclwiKSB7XG4gICAgICAgICAgICBzZXRFcnJvcihcIkNhbWVyYSBvciBtaWNyb3Bob25lIG5vdCBmb3VuZCBvciBhbHJlYWR5IGluIHVzZS4gUGxlYXNlIGNoZWNrIHlvdXIgZGV2aWNlcy5cIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldEVycm9yKGBGYWlsZWQgdG8gYWNjZXNzIGNhbWVyYS9taWNyb3Bob25lOiAke3RyYWNrRXJyb3IubWVzc2FnZSB8fCB0cmFja0Vycm9yLm5hbWV9YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIENvbnRpbnVlIGV2ZW4gaWYgbG9jYWwgdmlkZW8gZmFpbHMgLSB1c2VyIGNhbiBzdGlsbCBzZWUgcmVtb3RlIHZpZGVvXG4gICAgICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50ID0geyB2aWRlb1RyYWNrOiBudWxsLCBhdWRpb1RyYWNrOiBudWxsIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgcmVtb3RlIHVzZXIgam9pbmluZyBhZnRlciB3ZSd2ZSBqb2luZWRcbiAgICAgICAgY2xpZW50Lm9uKFwidXNlci1wdWJsaXNoZWRcIiwgYXN5bmMgKHVzZXIsIG1lZGlhVHlwZSkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UlCBSZW1vdGUgdXNlciBwdWJsaXNoZWQ6XCIsIG1lZGlhVHlwZSwgXCJVc2VyIElEOlwiLCB1c2VyLnVpZCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgc3BlY2lmaWMgbWVkaWEgdHlwZSB0aGF0IHdhcyBwdWJsaXNoZWRcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudC5zdWJzY3JpYmUodXNlciwgbWVkaWFUeXBlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFN1YnNjcmliZWQgdG9cIiwgbWVkaWFUeXBlLCBcImZvciB1c2VyXCIsIHVzZXIudWlkKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWxzbyB0cnkgdG8gc3Vic2NyaWJlIHRvIHRoZSBvdGhlciBtZWRpYSB0eXBlIGlmIGl0IG1pZ2h0IGJlIGF2YWlsYWJsZVxuICAgICAgICAgICAgLy8gVGhpcyBoYW5kbGVzIGNhc2VzIHdoZXJlIHZpZGVvIGFuZCBhdWRpbyBhcmUgcHVibGlzaGVkIHNlcGFyYXRlbHlcbiAgICAgICAgICAgIGNvbnN0IG90aGVyTWVkaWFUeXBlID0gbWVkaWFUeXBlID09PSBcInZpZGVvXCIgPyBcImF1ZGlvXCIgOiBcInZpZGVvXCI7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBhd2FpdCBjbGllbnQuc3Vic2NyaWJlKHVzZXIsIG90aGVyTWVkaWFUeXBlKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLinIUgQWxzbyBzdWJzY3JpYmVkIHRvXCIsIG90aGVyTWVkaWFUeXBlLCBcImZvciB1c2VyXCIsIHVzZXIudWlkKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgICAvLyBJdCdzIG9rYXkgaWYgdGhlIG90aGVyIG1lZGlhIHR5cGUgaXNuJ3QgYXZhaWxhYmxlIHlldFxuICAgICAgICAgICAgICAvLyBJdCB3aWxsIGJlIHN1YnNjcmliZWQgd2hlbiBpdCdzIHB1Ymxpc2hlZFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKEue+4j1wiLCBvdGhlck1lZGlhVHlwZSwgXCJub3QgYXZhaWxhYmxlIHlldCBmb3IgdXNlclwiLCB1c2VyLnVpZCwgXCItIHdpbGwgc3Vic2NyaWJlIHdoZW4gcHVibGlzaGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZW1vdGVVc2VyUmVmLmN1cnJlbnQgPSB1c2VyO1xuICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGZvciBVSSAocmVmcyBkb24ndCB0cmlnZ2VyIHJlLXJlbmRlcnMpXG4gICAgICAgICAgICBzZXRSZW1vdGVVc2VySW5mbyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgIHVpZDogdXNlci51aWQsXG4gICAgICAgICAgICAgIGhhc1ZpZGVvOiBtZWRpYVR5cGUgPT09IFwidmlkZW9cIiA/IHRydWUgOiAocHJldj8uaGFzVmlkZW8gfHwgISF1c2VyLnZpZGVvVHJhY2spLFxuICAgICAgICAgICAgICBoYXNBdWRpbzogbWVkaWFUeXBlID09PSBcImF1ZGlvXCIgPyB0cnVlIDogKHByZXY/Lmhhc0F1ZGlvIHx8ICEhdXNlci5hdWRpb1RyYWNrKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBQbGF5IGF1ZGlvIGltbWVkaWF0ZWx5IGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKHVzZXIuYXVkaW9UcmFjaykge1xuICAgICAgICAgICAgICB1c2VyLmF1ZGlvVHJhY2sucGxheSgpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIogUmVtb3RlIGF1ZGlvIHBsYXlpbmcgZm9yIHVzZXI6XCIsIHVzZXIudWlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRm9yIHZpZGVvLCB0cnkgbXVsdGlwbGUgdGltZXMgd2l0aCBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgICAgICBpZiAodXNlci52aWRlb1RyYWNrKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+TuSBWaWRlbyB0cmFjayBhdmFpbGFibGU6XCIsICEhdXNlci52aWRlb1RyYWNrLCBcIk1haW4gY29udGFpbmVyOlwiLCAhIW1haW5WaWRlb1JlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byB2ZXJpZnkgdmlkZW8gaXMgYWN0dWFsbHkgcGxheWluZ1xuICAgICAgICAgICAgICBjb25zdCB2ZXJpZnlWaWRlb1BsYXlpbmcgPSAodmlkZW9FbGVtZW50OiBIVE1MVmlkZW9FbGVtZW50IHwgbnVsbCk6IGJvb2xlYW4gPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdmlkZW9FbGVtZW50KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdmlkZW8gZWxlbWVudCBleGlzdHMsIGlzIG5vdCBwYXVzZWQsIGFuZCBoYXMgdmlkZW8gZGF0YVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzUGxheWluZyA9ICF2aWRlb0VsZW1lbnQucGF1c2VkICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LnJlYWR5U3RhdGUgPj0gMiAmJiAvLyBIQVZFX0NVUlJFTlRfREFUQSBvciBoaWdoZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC52aWRlb1dpZHRoID4gMCAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC52aWRlb0hlaWdodCA+IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzUGxheWluZztcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IHRyeVBsYXlWaWRlbyA9IChhdHRlbXB0ID0gMCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKaoO+4jyBDb21wb25lbnQgdW5tb3VudGVkLCBzdG9wcGluZyB2aWRlbyByZXRyeVwiKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCflIQgQXR0ZW1wdCAke2F0dGVtcHR9IHRvIHBsYXkgcmVtb3RlIHZpZGVvLiBUcmFjazpgLCAhIXVzZXIudmlkZW9UcmFjaywgXCJDb250YWluZXI6XCIsICEhbWFpblZpZGVvUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh1c2VyLnZpZGVvVHJhY2sgJiYgbWFpblZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0b3AgYW55IGV4aXN0aW5nIHZpZGVvIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgdXNlci52aWRlb1RyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBpZiBub3QgcGxheWluZ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHVzZXIudmlkZW9UcmFjay5wbGF5KG1haW5WaWRlb1JlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIFZlcmlmeSB2aWRlbyBlbGVtZW50IHdhcyBjcmVhdGVkIGFuZCBpcyBhY3R1YWxseSBwbGF5aW5nXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IG1haW5WaWRlb1JlZi5jdXJyZW50Py5xdWVyeVNlbGVjdG9yKCd2aWRlbycpIGFzIEhUTUxWaWRlb0VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvRWxlbWVudCAmJiB2ZXJpZnlWaWRlb1BsYXlpbmcodmlkZW9FbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLinIUgUmVtb3RlIHZpZGVvIGVsZW1lbnQgY3JlYXRlZCBhbmQgcGxheWluZy4gVmlkZW8gZGltZW5zaW9uczpcIiwgdmlkZW9FbGVtZW50LnZpZGVvV2lkdGgsIFwieFwiLCB2aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVtb3RlVmlkZW9BY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2aWRlb0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVsZW1lbnQgZXhpc3RzIGJ1dCBub3QgcGxheWluZyAtIHRyeSB0byBmaXggaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIuKaoO+4jyBWaWRlbyBlbGVtZW50IGV4aXN0cyBidXQgbm90IHBsYXlpbmcgcHJvcGVybHkuIEF0dGVtcHRpbmcgZml4Li4uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBsYXkoKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcGxheSgpIGZhaWxzLCByZXRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0IDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0cnlQbGF5VmlkZW8oYXR0ZW1wdCArIDEpLCAzMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGFnYWluIGFmdGVyIGEgbW9tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ZXJpZnlWaWRlb1BsYXlpbmcodmlkZW9FbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVtb3RlVmlkZW9BY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRlbXB0IDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0cnlQbGF5VmlkZW8oYXR0ZW1wdCArIDEpLCAzMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQgPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0cnlQbGF5VmlkZW8oYXR0ZW1wdCArIDEpLCAzMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgVmlkZW8gZWxlbWVudCBub3QgZm91bmQgaW4gY29udGFpbmVyIGFmdGVyIHBsYXkoKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0IDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRyeVBsYXlWaWRlbyhhdHRlbXB0ICsgMSksIDUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLinIUgUmVtb3RlIHZpZGVvIHBsYXkoKSBjYWxsZWQgZm9yIHVzZXI6XCIsIHVzZXIudWlkLCBcImluIG1haW4gY29udGFpbmVyIChhdHRlbXB0XCIsIGF0dGVtcHQgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChwbGF5RXJyb3I6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgcGxheWluZyByZW1vdGUgdmlkZW8gKGF0dGVtcHQgJHthdHRlbXB0fSk6YCwgcGxheUVycm9yPy5tZXNzYWdlIHx8IHBsYXlFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0IDwgMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRyeVBsYXlWaWRlbyhhdHRlbXB0ICsgMSksIE1hdGgubWluKDMwMCAqIChhdHRlbXB0ICsgMSksIDIwMDApKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEZhaWxlZCB0byBwbGF5IHJlbW90ZSB2aWRlbyBhZnRlclwiLCBhdHRlbXB0LCBcImF0dGVtcHRzXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDij7MgVmlkZW8gdHJhY2sgb3IgY29udGFpbmVyIG5vdCByZWFkeSAodHJhY2s6ICR7ISF1c2VyLnZpZGVvVHJhY2t9LCBjb250YWluZXI6ICR7ISFtYWluVmlkZW9SZWYuY3VycmVudH0pYCk7XG4gICAgICAgICAgICAgICAgICBpZiAoYXR0ZW1wdCA8IDIwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdHJ5UGxheVZpZGVvKGF0dGVtcHQgKyAxKSwgTWF0aC5taW4oMTUwICogKGF0dGVtcHQgKyAxKSwgMTAwMCkpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBSZW1vdGUgdmlkZW8gdHJhY2sgb3IgY29udGFpbmVyIG5ldmVyIGJlY2FtZSBhdmFpbGFibGUgYWZ0ZXJcIiwgYXR0ZW1wdCwgXCJhdHRlbXB0c1wiKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBTdGFydCB0cnlpbmcgaW1tZWRpYXRlbHkgYW5kIHdpdGggcmV0cmllc1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRyeVBsYXlWaWRlbygpLCAxMDApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQWxzbyBzZXQgdXAgYSBvbmUtdGltZSBjaGVjayBhZnRlciBhIGxvbmdlciBkZWxheSB0byBjYXRjaCBtaXNzZWQgY2FzZXNcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZCAmJiB1c2VyLnZpZGVvVHJhY2sgJiYgbWFpblZpZGVvUmVmLmN1cnJlbnQgJiYgIXJlbW90ZVZpZGVvQWN0aXZlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UhCBEZWxheWVkIGNoZWNrOiBBdHRlbXB0aW5nIHRvIHBsYXkgcmVtb3RlIHZpZGVvXCIpO1xuICAgICAgICAgICAgICAgICAgdHJ5UGxheVZpZGVvKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoc3ViRXJyb3I6IGFueSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBFcnJvciBzdWJzY3JpYmluZyB0byByZW1vdGUgdXNlcjpcIiwgc3ViRXJyb3I/Lm1lc3NhZ2UgfHwgc3ViRXJyb3IpO1xuICAgICAgICAgICAgLy8gUmV0cnkgc3Vic2NyaXB0aW9uIGFmdGVyIGEgc2hvcnQgZGVsYXlcbiAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5zdWJzY3JpYmUodXNlciwgbWVkaWFUeXBlKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBSZXRyeTogU3Vic2NyaWJlZCB0b1wiLCBtZWRpYVR5cGUsIFwiZm9yIHVzZXJcIiwgdXNlci51aWQpO1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBwbGF5IHRoZSB0cmFjayBpZiBpdCdzIG5vdyBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICBpZiAobWVkaWFUeXBlID09PSBcInZpZGVvXCIgJiYgdXNlci52aWRlb1RyYWNrICYmIG1haW5WaWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICB1c2VyLnZpZGVvVHJhY2sucGxheShtYWluVmlkZW9SZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtZWRpYVR5cGUgPT09IFwiYXVkaW9cIiAmJiB1c2VyLmF1ZGlvVHJhY2spIHtcbiAgICAgICAgICAgICAgICAgIHVzZXIuYXVkaW9UcmFjay5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChyZXRyeUVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBSZXRyeSBzdWJzY3JpcHRpb24gYWxzbyBmYWlsZWQ6XCIsIHJldHJ5RXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNsaWVudC5vbihcInVzZXItdW5wdWJsaXNoZWRcIiwgKHVzZXIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlbW90ZSB1c2VyIHVucHVibGlzaGVkOlwiLCB1c2VyLnVpZCk7XG4gICAgICAgICAgc2V0UmVtb3RlVmlkZW9BY3RpdmUoZmFsc2UpO1xuICAgICAgICAgIGlmICh1c2VyLnZpZGVvVHJhY2spIHtcbiAgICAgICAgICAgIHVzZXIudmlkZW9UcmFjay5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh1c2VyLmF1ZGlvVHJhY2spIHtcbiAgICAgICAgICAgIHVzZXIuYXVkaW9UcmFjay5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFsc28gbGlzdGVuIGZvciB0cmFjay1lbmRlZCBldmVudHNcbiAgICAgICAgY2xpZW50Lm9uKFwidXNlci1sZWZ0XCIsICh1c2VyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJSZW1vdGUgdXNlciBsZWZ0OlwiLCB1c2VyLnVpZCk7XG4gICAgICAgICAgc2V0UmVtb3RlVmlkZW9BY3RpdmUoZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQZXJpb2RpYyBjaGVjayB0byBlbnN1cmUgdmlkZW9zIGFyZSBwbGF5aW5nIChmYWxsYmFjayBmb3IgZWRnZSBjYXNlcylcbiAgICAgICAgdmlkZW9DaGVja0ludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc01vdW50ZWQgfHwgIWNsaWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAodmlkZW9DaGVja0ludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh2aWRlb0NoZWNrSW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgIHZpZGVvQ2hlY2tJbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHJlbW90ZSB1c2VycyB3ZSBtaWdodCBoYXZlIG1pc3NlZCBzdWJzY3JpYmluZyB0b1xuICAgICAgICAgIGNvbnN0IHJlbW90ZVVzZXJzID0gY2xpZW50UmVmLmN1cnJlbnQucmVtb3RlVXNlcnM7XG4gICAgICAgICAgZm9yIChjb25zdCByZW1vdGVVc2VyIG9mIHJlbW90ZVVzZXJzKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoaXMgdXNlciwgb3IgaWYgdHJhY2tzIGFyZSBtaXNzaW5nLCB0cnkgdG8gc3Vic2NyaWJlXG4gICAgICAgICAgICBpZiAoIXJlbW90ZVVzZXJSZWYuY3VycmVudCB8fCByZW1vdGVVc2VyUmVmLmN1cnJlbnQudWlkICE9PSByZW1vdGVVc2VyLnVpZCkge1xuICAgICAgICAgICAgICAvLyBOZXcgdXNlciBkZXRlY3RlZCwgdHJ5IHRvIHN1YnNjcmliZSB0byBib3RoIHRyYWNrc1xuICAgICAgICAgICAgICBpZiAoIXJlbW90ZVVzZXIudmlkZW9UcmFjaykge1xuICAgICAgICAgICAgICAgIGNsaWVudFJlZi5jdXJyZW50LnN1YnNjcmliZShyZW1vdGVVc2VyLCBcInZpZGVvXCIpLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4oS577iPIFBlcmlvZGljIGNoZWNrOiBWaWRlbyBub3QgYXZhaWxhYmxlIGZvciB1c2VyXCIsIHJlbW90ZVVzZXIudWlkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIXJlbW90ZVVzZXIuYXVkaW9UcmFjaykge1xuICAgICAgICAgICAgICAgIGNsaWVudFJlZi5jdXJyZW50LnN1YnNjcmliZShyZW1vdGVVc2VyLCBcImF1ZGlvXCIpLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4oS577iPIFBlcmlvZGljIGNoZWNrOiBBdWRpbyBub3QgYXZhaWxhYmxlIGZvciB1c2VyXCIsIHJlbW90ZVVzZXIudWlkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZW1vdGVVc2VyUmVmLmN1cnJlbnQgPSByZW1vdGVVc2VyO1xuICAgICAgICAgICAgICBzZXRSZW1vdGVVc2VySW5mbyh7XG4gICAgICAgICAgICAgICAgdWlkOiByZW1vdGVVc2VyLnVpZCxcbiAgICAgICAgICAgICAgICBoYXNWaWRlbzogISFyZW1vdGVVc2VyLnZpZGVvVHJhY2ssXG4gICAgICAgICAgICAgICAgaGFzQXVkaW86ICEhcmVtb3RlVXNlci5hdWRpb1RyYWNrXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVXNlciBpcyBrbm93biwgYnV0IGNoZWNrIGlmIHdlJ3JlIG1pc3NpbmcgdHJhY2tzXG4gICAgICAgICAgICAgIGlmIChyZW1vdGVVc2VyLnZpZGVvVHJhY2sgJiYgIXJlbW90ZVVzZXJSZWYuY3VycmVudC52aWRlb1RyYWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SEIFBlcmlvZGljIGNoZWNrOiBGb3VuZCB2aWRlbyB0cmFjayBmb3Iga25vd24gdXNlciwgc3Vic2NyaWJpbmcuLi5cIik7XG4gICAgICAgICAgICAgICAgY2xpZW50UmVmLmN1cnJlbnQuc3Vic2NyaWJlKHJlbW90ZVVzZXIsIFwidmlkZW9cIikuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLihLnvuI8gUGVyaW9kaWMgY2hlY2s6IENvdWxkIG5vdCBzdWJzY3JpYmUgdG8gdmlkZW9cIiwgZT8ubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJlbW90ZVVzZXIuYXVkaW9UcmFjayAmJiAhcmVtb3RlVXNlclJlZi5jdXJyZW50LmF1ZGlvVHJhY2spIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgUGVyaW9kaWMgY2hlY2s6IEZvdW5kIGF1ZGlvIHRyYWNrIGZvciBrbm93biB1c2VyLCBzdWJzY3JpYmluZy4uLlwiKTtcbiAgICAgICAgICAgICAgICBjbGllbnRSZWYuY3VycmVudC5zdWJzY3JpYmUocmVtb3RlVXNlciwgXCJhdWRpb1wiKS5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKEue+4jyBQZXJpb2RpYyBjaGVjazogQ291bGQgbm90IHN1YnNjcmliZSB0byBhdWRpb1wiLCBlPy5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBsb2NhbCB2aWRlbyAtIHRyeSB0byBhdHRhY2ggaWYgdHJhY2sgZXhpc3RzIGFuZCBjb250YWluZXIgaXMgYXZhaWxhYmxlXG4gICAgICAgICAgaWYgKGxvY2FsVHJhY2tSZWYuY3VycmVudD8udmlkZW9UcmFjayAmJiBvdmVybGF5VmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdmlkZW8gaXMgYWN0dWFsbHkgcGxheWluZyBieSBjaGVja2luZyB0aGUgZWxlbWVudFxuICAgICAgICAgICAgY29uc3QgaGFzVmlkZW9FbGVtZW50ID0gb3ZlcmxheVZpZGVvUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvcigndmlkZW8nKTtcbiAgICAgICAgICAgIGlmICghaGFzVmlkZW9FbGVtZW50IHx8IGhhc1ZpZGVvRWxlbWVudC5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LnZpZGVvVHJhY2sucGxheShvdmVybGF5VmlkZW9SZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZS1hdHRhY2hlZCBsb2NhbCB2aWRlbyAocGVyaW9kaWMgY2hlY2spXCIpO1xuICAgICAgICAgICAgICAgIHNldExvY2FsVmlkZW9BY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBWaWRlbyBtaWdodCBhbHJlYWR5IGJlIGF0dGFjaGVkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgcmVtb3RlIHZpZGVvIC0gdHJ5IHRvIGF0dGFjaCBpZiB0cmFjayBleGlzdHMgYW5kIGNvbnRhaW5lciBpcyBhdmFpbGFibGVcbiAgICAgICAgICBpZiAocmVtb3RlVXNlclJlZi5jdXJyZW50Py52aWRlb1RyYWNrICYmIG1haW5WaWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB2aWRlbyBpcyBhY3R1YWxseSBwbGF5aW5nIGJ5IGNoZWNraW5nIHRoZSBlbGVtZW50XG4gICAgICAgICAgICBjb25zdCB2aWRlb0VsZW1lbnQgPSBtYWluVmlkZW9SZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yKCd2aWRlbycpIGFzIEhUTUxWaWRlb0VsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBpc1ZpZGVvQWN0dWFsbHlQbGF5aW5nID0gdmlkZW9FbGVtZW50ICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdmlkZW9FbGVtZW50LnBhdXNlZCAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LnJlYWR5U3RhdGUgPj0gMiAmJiAvLyBIQVZFX0NVUlJFTlRfREFUQSBvciBoaWdoZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LnZpZGVvV2lkdGggPiAwICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQgPiAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIWlzVmlkZW9BY3R1YWxseVBsYXlpbmcpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBTdG9wIGZpcnN0IHRvIGVuc3VyZSBjbGVhbiBzdGF0ZVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICByZW1vdGVVc2VyUmVmLmN1cnJlbnQudmlkZW9UcmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgLy8gSWdub3JlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICByZW1vdGVVc2VyUmVmLmN1cnJlbnQudmlkZW9UcmFjay5wbGF5KG1haW5WaWRlb1JlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgUmUtYXR0YWNoZWQgcmVtb3RlIHZpZGVvIChwZXJpb2RpYyBjaGVjaylcIik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZ5IGl0IHdvcmtlZCAtIGNoZWNrIG11bHRpcGxlIHRpbWVzXG4gICAgICAgICAgICAgICAgbGV0IHZlcmlmeUF0dGVtcHRzID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJpZnlJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHZlcmlmeUF0dGVtcHRzKys7XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXdWaWRlb0VsZW1lbnQgPSBtYWluVmlkZW9SZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvcigndmlkZW8nKSBhcyBIVE1MVmlkZW9FbGVtZW50O1xuICAgICAgICAgICAgICAgICAgY29uc3QgaXNOb3dQbGF5aW5nID0gbmV3VmlkZW9FbGVtZW50ICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhbmV3VmlkZW9FbGVtZW50LnBhdXNlZCAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmlkZW9FbGVtZW50LnJlYWR5U3RhdGUgPj0gMiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWaWRlb0VsZW1lbnQudmlkZW9XaWR0aCA+IDAgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZpZGVvRWxlbWVudC52aWRlb0hlaWdodCA+IDA7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGlmIChpc05vd1BsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVtb3RlVmlkZW9BY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFJlbW90ZSB2aWRlbyB2ZXJpZmllZCBwbGF5aW5nIChwZXJpb2RpYyBjaGVjaylcIik7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodmVyaWZ5SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2ZXJpZnlBdHRlbXB0cyA+PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBmb3JjZSBwbGF5IGlmIGl0J3Mgbm90IHdvcmtpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZpZGVvRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIG5ld1ZpZGVvRWxlbWVudC5wbGF5KCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ291bGQgbm90IHBsYXkgdmlkZW8gZWxlbWVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHZlcmlmeUludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVycm9yIHJlLWF0dGFjaGluZyByZW1vdGUgdmlkZW86XCIsIGU/Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBWaWRlbyBpcyBwbGF5aW5nLCBlbnN1cmUgc3RhdGUgaXMgY29ycmVjdCAodXNlIHJlZiB0byBhdm9pZCBzdGFsZSBjbG9zdXJlKVxuICAgICAgICAgICAgICBpZiAoIXJlbW90ZVZpZGVvQWN0aXZlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBzZXRSZW1vdGVWaWRlb0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBMb2cgd2h5IHdlJ3JlIG5vdCB0cnlpbmcgdG8gYXR0YWNoIChvbmx5IG9uY2UgZXZlcnkgZmV3IGNoZWNrcylcbiAgICAgICAgICAgIC8vIFNpbGVuY2UgcGVyaW9kaWMgbG9ncyB0byByZWR1Y2Ugbm9pc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDIwMDApOyAvLyBDaGVjayBldmVyeSAyIHNlY29uZHNcbiAgICAgICAgXG4gICAgICAgIC8vIE5ldHdvcmsgcXVhbGl0eSBtb25pdG9yaW5nXG4gICAgICAgIGNsaWVudC5vbihcIm5ldHdvcmstcXVhbGl0eVwiLCAoc3RhdHMpID0+IHtcbiAgICAgICAgICBzZXROZXR3b3JrUXVhbGl0eSh7XG4gICAgICAgICAgICB1cGxpbms6IHN0YXRzLnVwbGlua05ldHdvcmtRdWFsaXR5LFxuICAgICAgICAgICAgZG93bmxpbms6IHN0YXRzLmRvd25saW5rTmV0d29ya1F1YWxpdHlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb25uZWN0aW9uIHN0YXRlIHRyYWNraW5nXG4gICAgICAgIGNsaWVudC5vbihcImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsIChjdXJTdGF0ZSwgcHJldlN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfk6EgQ29ubmVjdGlvbiBzdGF0ZTogJHtwcmV2U3RhdGV9IC0+ICR7Y3VyU3RhdGV9YCk7XG4gICAgICAgICAgc2V0Q29ubmVjdGlvblN0YXRlKGN1clN0YXRlKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY3VyU3RhdGUgPT09IFwiQ09OTkVDVEVEXCIpIHtcbiAgICAgICAgICAgIC8vIFN0YXJ0IHNlc3Npb24gdGltZXIgd2hlbiBjb25uZWN0ZWRcbiAgICAgICAgICAgIGlmICghc2Vzc2lvblN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICBzZXRTZXNzaW9uU3RhcnRUaW1lKERhdGUubm93KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY3VyU3RhdGUgPT09IFwiRElTQ09OTkVDVEVEXCIgfHwgY3VyU3RhdGUgPT09IFwiRElTQ09OTkVDVElOR1wiIHx8IChjdXJTdGF0ZSBhcyBzdHJpbmcpID09PSBcIkZBSUxFRFwiKSB7XG4gICAgICAgICAgICBpZiAodmlkZW9DaGVja0ludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh2aWRlb0NoZWNrSW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgIHZpZGVvQ2hlY2tJbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQXR0ZW1wdCByZWNvbm5lY3Rpb24gaWYgZGlzY29ubmVjdGVkIHVuZXhwZWN0ZWRseVxuICAgICAgICAgICAgaWYgKGN1clN0YXRlID09PSBcIkRJU0NPTk5FQ1RFRFwiICYmIHByZXZTdGF0ZSA9PT0gXCJDT05ORUNURURcIikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgQ29ubmVjdGlvbiBsb3N0LCBhdHRlbXB0aW5nIHRvIHJlY29ubmVjdC4uLlwiKTtcbiAgICAgICAgICAgICAgc2V0RXJyb3IoXCJDb25uZWN0aW9uIGxvc3QuIEF0dGVtcHRpbmcgdG8gcmVjb25uZWN0Li4uXCIpO1xuICAgICAgICAgICAgICAvLyBBZ29yYSBTREsgd2lsbCBhdHRlbXB0IHRvIHJlY29ubmVjdCBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRva2VuIHJlbmV3YWwgc2V0dXAgKDUgbWludXRlcyBiZWZvcmUgZXhwaXJ5KVxuICAgICAgICBpZiAoc2Vzc2lvbkRhdGEudmlkZW8uZXhwaXJlc0F0KSB7XG4gICAgICAgICAgY29uc3QgZXhwaXJlc0F0ID0gbmV3IERhdGUoc2Vzc2lvbkRhdGEudmlkZW8uZXhwaXJlc0F0KS5nZXRUaW1lKCk7XG4gICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICBjb25zdCByZW5ld0luID0gZXhwaXJlc0F0IC0gbm93IC0gKDUgKiA2MCAqIDEwMDApOyAvLyA1IG1pbiBiZWZvcmUgZXhwaXJ5XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHJlbmV3SW4gPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg4o+wIFRva2VuIHJlbmV3YWwgc2NoZWR1bGVkIGluICR7TWF0aC5mbG9vcihyZW5ld0luIC8gMTAwMCAvIDYwKX0gbWludXRlc2ApO1xuICAgICAgICAgICAgdG9rZW5SZW5ld2FsVGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UhCBSZW5ld2luZyBBZ29yYSB0b2tlbi4uLlwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHZpZGVvQXBpLmdldFRva2VuKHNlc3Npb25JZCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnRva2VuICYmIGNsaWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnRSZWYuY3VycmVudC5yZW5ld1Rva2VuKHJlc3BvbnNlLnRva2VuKTtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFRva2VuIHJlbmV3ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChyZW5ld0Vycm9yOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEZhaWxlZCB0byByZW5ldyB0b2tlbjpcIiwgcmVuZXdFcnJvcik7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoXCJWaWRlbyBzZXNzaW9uIG1heSBleHBpcmUgc29vbi4gUGxlYXNlIHJlZnJlc2ggaWYgaXNzdWVzIG9jY3VyLlwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVuZXdJbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIHNldFZpZGVvUmVhZHkodHJ1ZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJWaWRlbyBpbml0aWFsaXphdGlvbiBjb21wbGV0ZSFcIik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBGYWlsZWQgdG8gaW5pdGlhbGl6ZSB2aWRlbzpcIiwgZXJyb3IpO1xuICAgICAgICBsZXQgZXJyb3JNc2cgPSBlcnJvci5tZXNzYWdlIHx8IGVycm9yLnRvU3RyaW5nKCkgfHwgXCJGYWlsZWQgdG8gc3RhcnQgdmlkZW8gY2FsbFwiO1xuICAgICAgICBcbiAgICAgICAgLy8gUHJvdmlkZSBtb3JlIGhlbHBmdWwgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgaWYgKGVycm9yTXNnLmluY2x1ZGVzKFwiaW52YWxpZCB2ZW5kb3Iga2V5XCIpIHx8IGVycm9yTXNnLmluY2x1ZGVzKFwiY2FuIG5vdCBmaW5kIGFwcGlkXCIpKSB7XG4gICAgICAgICAgZXJyb3JNc2cgPSBcIkludmFsaWQgQWdvcmEgQXBwIElEIG9yIENlcnRpZmljYXRlLiBQbGVhc2UgdmVyaWZ5IHlvdXIgQWdvcmEgY3JlZGVudGlhbHMgbWF0Y2ggaW4gdGhlIEFnb3JhIGNvbnNvbGUuIENoZWNrIEFHT1JBX0FQUF9JRCBhbmQgQUdPUkFfQVBQX0NFUlRJRklDQVRFIGluIGFwaS8uZW52XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3JNc2cuaW5jbHVkZXMoXCJwZXJtaXNzaW9uXCIpIHx8IGVycm9yTXNnLmluY2x1ZGVzKFwiUGVybWlzc2lvblwiKSkge1xuICAgICAgICAgIGVycm9yTXNnID0gXCJDYW1lcmEgb3IgbWljcm9waG9uZSBwZXJtaXNzaW9uIGRlbmllZC4gUGxlYXNlIGFsbG93IGFjY2VzcyBpbiB5b3VyIGJyb3dzZXIgc2V0dGluZ3MuXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3JNc2cuaW5jbHVkZXMoXCJOb3RGb3VuZEVycm9yXCIpIHx8IGVycm9yTXNnLmluY2x1ZGVzKFwiTm90UmVhZGFibGVFcnJvclwiKSkge1xuICAgICAgICAgIGVycm9yTXNnID0gXCJDYW1lcmEgb3IgbWljcm9waG9uZSBub3QgZm91bmQgb3IgYWxyZWFkeSBpbiB1c2UuXCI7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldEVycm9yKGBWaWRlbyBlcnJvcjogJHtlcnJvck1zZ31gKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZ1bGwgZXJyb3IgZGV0YWlsczpcIiwgZXJyb3IpO1xuICAgICAgICBpZiAoYXBwSWQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBwIElEIHVzZWQ6XCIsIGFwcElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Vzc2lvbkRhdGE/LnZpZGVvPy5jaGFubmVsTmFtZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDaGFubmVsOlwiLCBzZXNzaW9uRGF0YS52aWRlby5jaGFubmVsTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgYWxlcnQoYEZhaWxlZCB0byBzdGFydCB2aWRlbyBjYWxsOiAke2Vycm9yTXNnfVxcblxcblBsZWFzZSBjaGVjazpcXG4xLiBBZ29yYSBjcmVkZW50aWFscyBhcmUgY29ycmVjdCBhbmQgbWF0Y2ggeW91ciBBZ29yYSBjb25zb2xlXFxuMi4gQ2FtZXJhIGFuZCBtaWNyb3Bob25lIHBlcm1pc3Npb25zXFxuMy4gQnJvd3NlciBjb25zb2xlIGZvciBkZXRhaWxzYCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFN0YXJ0IHRoZSBpbml0aWFsaXphdGlvbiBjaGVjayBhZnRlciBhIHNob3J0IGRlbGF5IHRvIGVuc3VyZSByZWZzIGFyZSBhdHRhY2hlZFxuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjaGVja0FuZEluaXQoKTtcbiAgICB9LCAzMDApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIGlmIChyZXRyeVRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChyZXRyeVRpbWVyKTtcbiAgICAgICAgcmV0cnlUaW1lciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFudXAgb24gdW5tb3VudFxuICAgICAgaWYgKGxvY2FsVHJhY2tSZWYuY3VycmVudCkge1xuICAgICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjaz8uc3RvcCgpO1xuICAgICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjaz8uY2xvc2UoKTtcbiAgICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LmF1ZGlvVHJhY2s/LnN0b3AoKTtcbiAgICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LmF1ZGlvVHJhY2s/LmNsb3NlKCk7XG4gICAgICAgIGxvY2FsVHJhY2tSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoY2xpZW50UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xpZW50UmVmLmN1cnJlbnQubGVhdmUoKTtcbiAgICAgICAgY2xpZW50UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgY29ubmVjdGVkQ2hhbm5lbFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIGlmICh2aWRlb0NoZWNrSW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKHZpZGVvQ2hlY2tJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgICAgdmlkZW9DaGVja0ludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRva2VuUmVuZXdhbFRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRva2VuUmVuZXdhbFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICB0b2tlblJlbmV3YWxUaW1lclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbc2Vzc2lvbkRhdGEsIHVzZXJJZCwgc2Vzc2lvbklkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYWNjZXNzVG9rZW5cIik7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcm91dGVyLnB1c2goXCIvYXV0aC9sb2dpblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCAodXNpbmcgY29uZmlndXJhYmxlIFVSTClcbiAgICBjb25zdCB3cyA9IGlvKGAke1dTX1VSTH0vd3NgLCB7XG4gICAgICBhdXRoOiB7IHRva2VuIH0sXG4gICAgICB0cmFuc3BvcnRzOiBbXCJ3ZWJzb2NrZXRcIl1cbiAgICB9KTtcblxuICAgIC8vIFRyYWNrIGlmIHdlJ3ZlIGFscmVhZHkgam9pbmVkIHRoZSBzZXNzaW9uXG4gICAgbGV0IGhhc0pvaW5lZFNlc3Npb24gPSBmYWxzZTtcbiAgICBcbiAgICB3cy5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJXZWJTb2NrZXQgY29ubmVjdGVkXCIpO1xuICAgICAgc2V0Q29ubmVjdGVkKHRydWUpO1xuICAgICAgc2V0RXJyb3IoXCJcIik7XG4gICAgICAvLyBPbmx5IGpvaW4gc2Vzc2lvbiBpZiB3ZSBoYXZlbid0IGFscmVhZHkgKHByZXZlbnRzIHJlam9pbmluZyBvbiByZWNvbm5lY3QpXG4gICAgICBpZiAoIWhhc0pvaW5lZFNlc3Npb24pIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJKb2luaW5nIHNlc3Npb246XCIsIHNlc3Npb25JZCk7XG4gICAgICAgIC8vIFdhaXQgYSBiaXQgZm9yIGNvbm5lY3Rpb24gdG8gc3RhYmlsaXplXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHdzLmVtaXQoXCJzZXNzaW9uLmpvaW5cIiwgeyBzZXNzaW9uSWQgfSk7XG4gICAgICAgICAgaGFzSm9pbmVkU2Vzc2lvbiA9IHRydWU7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFscmVhZHkgam9pbmVkIHNlc3Npb24sIHNraXBwaW5nIHJlam9pbiBvbiByZWNvbm5lY3RcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB3cy5vbihcImNvbm5lY3RfZXJyb3JcIiwgKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkNvbm5lY3Rpb24gZXJyb3I6XCIsIGVycik7XG4gICAgICBzZXRFcnJvcihgQ29ubmVjdGlvbiBmYWlsZWQ6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfSk7XG5cbiAgICB3cy5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJXZWJTb2NrZXQgZGlzY29ubmVjdGVkOlwiLCByZWFzb24pO1xuICAgICAgc2V0Q29ubmVjdGVkKGZhbHNlKTtcbiAgICAgIC8vIE9ubHkgc2hvdyBlcnJvciBmb3IgdW5leHBlY3RlZCBkaXNjb25uZWN0c1xuICAgICAgaWYgKHJlYXNvbiAhPT0gXCJpbyBjbGllbnQgZGlzY29ubmVjdFwiKSB7XG4gICAgICAgIHNldEVycm9yKFwiRGlzY29ubmVjdGVkIGZyb20gc2VydmVyXCIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgd3Mub24oXCJzZXNzaW9uLnJlYWR5XCIsIChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiU2Vzc2lvbiByZWFkeTpcIiwgZGF0YSk7XG4gICAgICBzZXRTZXNzaW9uRGF0YShkYXRhKTtcbiAgICB9KTtcblxuICAgIHdzLm9uKFwic2Vzc2lvbi5zdGFydEdhbWVcIiwgKGRhdGE6IHsgZ2FtZVR5cGU6IHN0cmluZzsgZ2FtZUlkPzogc3RyaW5nIH0pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiR2FtZSBzdGFydGVkIChsZWdhY3kpOlwiLCBkYXRhKTtcbiAgICAgIHNldEdhbWVUeXBlKGRhdGEuZ2FtZVR5cGUpO1xuICAgICAgaWYgKGRhdGEuZ2FtZUlkKSB7XG4gICAgICAgIHNldEdhbWVJZChkYXRhLmdhbWVJZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB3cy5vbihcInNlc3Npb24uZ2FtZUNyZWF0ZWRcIiwgKGRhdGE6IHsgZ2FtZUlkOiBzdHJpbmc7IGdhbWVUeXBlOiBzdHJpbmcgfSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJHYW1lIGNyZWF0ZWQ6XCIsIGRhdGEpO1xuICAgICAgc2V0R2FtZVR5cGUoZGF0YS5nYW1lVHlwZSk7XG4gICAgICBzZXRHYW1lSWQoZGF0YS5nYW1lSWQpO1xuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIGdhbWUuc3RhcnRlZCBldmVudCB3aXRoIGZ1bGwgZ2FtZSBkYXRhXG4gICAgd3Mub24oXCJnYW1lLnN0YXJ0ZWRcIiwgKGRhdGE6IHsgZ2FtZUlkOiBzdHJpbmc7IGdhbWVUeXBlOiBzdHJpbmc7IHN0YXRlOiBhbnk7IHBsYXllcnM6IGFueVtdIH0pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiR2FtZSBzdGFydGVkIHdpdGggc3RhdGU6XCIsIGRhdGEpO1xuICAgICAgY29uc29sZS5sb2coXCJHYW1lIHR5cGU6XCIsIGRhdGEuZ2FtZVR5cGUsIFwiR2FtZSBJRDpcIiwgZGF0YS5nYW1lSWQpO1xuICAgICAgc2V0R2FtZVR5cGUoZGF0YS5nYW1lVHlwZSk7XG4gICAgICBzZXRHYW1lSWQoZGF0YS5nYW1lSWQpO1xuICAgICAgc2V0R2FtZVN0YXRlKGRhdGEuc3RhdGUpO1xuICAgICAgc2V0R2FtZVBsYXllcnMoZGF0YS5wbGF5ZXJzKTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBnYW1lIHN0YXRlIHVwZGF0ZXMgKGZvciBjaGVzcyBhbmQgb3RoZXIgZ2FtZXMpXG4gICAgd3Mub24oXCJnYW1lLnN0YXRlVXBkYXRlXCIsIChkYXRhOiB7IGdhbWVJZDogc3RyaW5nOyBzdGF0ZTogYW55OyBsYXN0TW92ZT86IGFueSB9KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIkdhbWUgc3RhdGUgdXBkYXRlZDpcIiwgZGF0YSk7XG4gICAgICBzZXRHYW1lU3RhdGUoZGF0YS5zdGF0ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgZ2FtZSBlbmRcbiAgICB3cy5vbihcImdhbWUuZW5kXCIsIChkYXRhOiB7IGdhbWVJZDogc3RyaW5nOyB3aW5uZXJJZDogc3RyaW5nIHwgbnVsbDsgaXNEcmF3OiBib29sZWFuOyByZWFzb246IHN0cmluZyB9KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIkdhbWUgZW5kZWQ6XCIsIGRhdGEpO1xuICAgICAgLy8gVXBkYXRlIHRoZSBnYW1lIHN0YXRlIHRvIHJlZmxlY3QgdGhlIGVuZFxuICAgICAgaWYgKGRhdGEud2lubmVySWQgfHwgZGF0YS5pc0RyYXcpIHtcbiAgICAgICAgc2V0R2FtZVN0YXRlKChwcmV2OiBhbnkpID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBnYW1lT3ZlcjogdHJ1ZSxcbiAgICAgICAgICB3aW5uZXI6IGRhdGEud2lubmVySWQsXG4gICAgICAgICAgaXNEcmF3OiBkYXRhLmlzRHJhd1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICAvLyBBbGxvdyBzdGFydGluZyBhIG5ldyBnYW1lIGFmdGVyIGEgZGVsYXlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRHYW1lVHlwZShudWxsKTtcbiAgICAgICAgc2V0R2FtZUlkKG51bGwpO1xuICAgICAgICBzZXRHYW1lU3RhdGUobnVsbCk7XG4gICAgICAgIHNldEdhbWVQbGF5ZXJzKFtdKTtcbiAgICAgIH0sIDUwMDApO1xuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIGdhbWUgY2FuY2VsbGF0aW9uICh3aGVuIG90aGVyIHVzZXIgZXhpdHMpXG4gICAgd3Mub24oXCJnYW1lLmNhbmNlbGxlZFwiLCAoZGF0YTogeyBnYW1lSWQ6IHN0cmluZyB9KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIkdhbWUgY2FuY2VsbGVkIGJ5IG90aGVyIHVzZXI6XCIsIGRhdGEpO1xuICAgICAgc2V0R2FtZVR5cGUobnVsbCk7XG4gICAgICBzZXRHYW1lSWQobnVsbCk7XG4gICAgICBzZXRHYW1lU3RhdGUobnVsbCk7XG4gICAgICBzZXRHYW1lUGxheWVycyhbXSk7XG4gICAgfSk7XG5cbiAgICB3cy5vbihcInNlc3Npb24uZW5kXCIsIChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGFsZXJ0KFwiU2Vzc2lvbiBlbmRlZFwiKTtcbiAgICAgIHJvdXRlci5wdXNoKFwiL3BsYXlcIik7XG4gICAgfSk7XG5cbiAgICB3cy5vbihcImVycm9yXCIsIChlcnI6IGFueSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIlNlc3Npb24gZXJyb3I6XCIsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCBcIkNvbm5lY3Rpb24gZXJyb3Igb2NjdXJyZWRcIik7XG4gICAgICBpZiAoZXJyLm1lc3NhZ2UpIHtcbiAgICAgICAgYWxlcnQoYEVycm9yOiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTGlzdGVuIGZvciB3YWxsZXQgYmFsYW5jZSB1cGRhdGVzXG4gICAgd3Mub24oXCJ3YWxsZXQudXBkYXRlZFwiLCAoZGF0YTogeyBiYWxhbmNlOiBudW1iZXIgfSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJXYWxsZXQgdXBkYXRlZDpcIiwgZGF0YSk7XG4gICAgICBzZXRXYWxsZXRCYWxhbmNlKGRhdGEuYmFsYW5jZSk7XG4gICAgfSk7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIGdpZnQgbm90aWZpY2F0aW9ucyAoYm90aCBzZW50IGFuZCByZWNlaXZlZClcbiAgICB3cy5vbihcInNlc3Npb24uZ2lmdFJlY2VpdmVkXCIsIChkYXRhOiB7IGZyb206IHN0cmluZzsgdG86IHN0cmluZzsgYW1vdW50OiBudW1iZXI7IHN1Y2Nlc3M6IGJvb2xlYW4gfSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJHaWZ0IHJlY2VpdmVkIGV2ZW50OlwiLCBkYXRhKTtcbiAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHdlJ3JlIHRoZSBzZW5kZXIgb3IgcmVjZWl2ZXJcbiAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImFjY2Vzc1Rva2VuXCIpO1xuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoYXRvYih0b2tlbi5zcGxpdCgnLicpWzFdKSk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VXNlcklkID0gcGF5bG9hZC5zdWI7XG4gICAgICAgICAgICBjb25zdCBpc1JlY2VpdmVkID0gZGF0YS50byA9PT0gY3VycmVudFVzZXJJZDtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyVXNlciA9IGlzUmVjZWl2ZWQgPyBkYXRhLmZyb20gOiBkYXRhLnRvO1xuICAgICAgICAgICAgc2hvd0dpZnROb3RpZmljYXRpb24ob3RoZXJVc2VyLCBkYXRhLmFtb3VudCwgaXNSZWNlaXZlZCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwYXJzZSB0b2tlbiBmb3IgZ2lmdCBub3RpZmljYXRpb246XCIsIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2V0U29ja2V0KHdzKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3cy5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW3Nlc3Npb25JZCwgcm91dGVyXSk7XG5cbiAgY29uc3QgaGFuZGxlU3RhcnRHYW1lID0gKHR5cGU6IHN0cmluZykgPT4ge1xuICAgIGlmIChzb2NrZXQpIHtcbiAgICAgIHNvY2tldC5lbWl0KFwic2Vzc2lvbi5zdGFydEdhbWVcIiwgeyBzZXNzaW9uSWQsIGdhbWVUeXBlOiB0eXBlIH0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVDYW5jZWxHYW1lID0gKCkgPT4ge1xuICAgIC8vIFJlc2V0IGdhbWUgc3RhdGUgdG8gYWxsb3cgc3RhcnRpbmcgYSBuZXcgZ2FtZVxuICAgIGNvbnNvbGUubG9nKFwiQ2FuY2VsbGluZyBnYW1lLCByZXNldHRpbmcgc3RhdGVcIik7XG4gICAgc2V0R2FtZVR5cGUobnVsbCk7XG4gICAgc2V0R2FtZUlkKG51bGwpO1xuICAgIHNldEdhbWVTdGF0ZShudWxsKTtcbiAgICBzZXRHYW1lUGxheWVycyhbXSk7XG4gICAgXG4gICAgLy8gT3B0aW9uYWxseSBlbWl0IGEgY2FuY2VsIGV2ZW50IHRvIHRoZSBzZXJ2ZXJcbiAgICBpZiAoc29ja2V0KSB7XG4gICAgICBzb2NrZXQuZW1pdChcInNlc3Npb24uY2FuY2VsR2FtZVwiLCB7IHNlc3Npb25JZCB9KTtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJHYW1lIGNhbmNlbGxlZFwiKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFbmRTZXNzaW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIFByZXZlbnQgZW5kaW5nIHNlc3Npb24gZHVyaW5nIGFuIGFjdGl2ZSBnYW1lXG4gICAgaWYgKGdhbWVUeXBlID09PSBcInRyaXZpYVwiICYmIGdhbWVTdGF0ZSkge1xuICAgICAgY29uc3QgdHJpdmlhUGhhc2UgPSBnYW1lU3RhdGUucGhhc2U7XG4gICAgICBpZiAodHJpdmlhUGhhc2UgJiYgdHJpdmlhUGhhc2UgIT09IFwiZ2FtZUVuZFwiICYmIHRyaXZpYVBoYXNlICE9PSBcInRoZW1lU2VsZWN0aW9uXCIpIHtcbiAgICAgICAgYWxlcnQoXCJDYW5ub3QgZW5kIHNlc3Npb24gd2hpbGUgdHJpdmlhIGdhbWUgaXMgaW4gcHJvZ3Jlc3MhIFBsZWFzZSBmaW5pc2ggdGhlIGdhbWUgZmlyc3QuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2xlYW51cCBBZ29yYVxuICAgIGlmIChsb2NhbFRyYWNrUmVmLmN1cnJlbnQpIHtcbiAgICAgIGxvY2FsVHJhY2tSZWYuY3VycmVudC52aWRlb1RyYWNrPy5zdG9wKCk7XG4gICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjaz8uY2xvc2UoKTtcbiAgICAgIGxvY2FsVHJhY2tSZWYuY3VycmVudC5hdWRpb1RyYWNrPy5zdG9wKCk7XG4gICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQuYXVkaW9UcmFjaz8uY2xvc2UoKTtcbiAgICB9XG4gICAgaWYgKGNsaWVudFJlZi5jdXJyZW50KSB7XG4gICAgICBhd2FpdCBjbGllbnRSZWYuY3VycmVudC5sZWF2ZSgpO1xuICAgIH1cblxuICAgIGlmIChzb2NrZXQpIHtcbiAgICAgIHNvY2tldC5lbWl0KFwic2Vzc2lvbi5lbmRcIiwgeyBzZXNzaW9uSWQgfSk7XG4gICAgfVxuICAgIHJvdXRlci5wdXNoKFwiL3BsYXlcIik7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3dhcFZpZGVvcyA9ICgpID0+IHtcbiAgICAvLyBTd2FwIHRoZSB2aWRlbyB0cmFja3MgYmV0d2VlbiBjb250YWluZXJzXG4gICAgaWYgKGxvY2FsVHJhY2tSZWYuY3VycmVudD8udmlkZW9UcmFjayAmJiByZW1vdGVVc2VyUmVmLmN1cnJlbnQ/LnZpZGVvVHJhY2spIHtcbiAgICAgIC8vIFN0b3AgY3VycmVudCBwbGF5YmFja1xuICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LnZpZGVvVHJhY2suc3RvcCgpO1xuICAgICAgcmVtb3RlVXNlclJlZi5jdXJyZW50LnZpZGVvVHJhY2suc3RvcCgpO1xuICAgICAgXG4gICAgICAvLyBTd2FwIGFuZCByZS1wbGF5IGJhc2VkIG9uIGN1cnJlbnQgc3RhdGVcbiAgICAgIGlmICh2aWRlb3NTd2FwcGVkKSB7XG4gICAgICAgIC8vIEN1cnJlbnRseSBzd2FwcGVkOiBsb2NhbCBpbiBtYWluLCByZW1vdGUgaW4gb3ZlcmxheVxuICAgICAgICAvLyBBZnRlciBzd2FwOiByZW1vdGUgaW4gbWFpbiwgbG9jYWwgaW4gb3ZlcmxheSAoZGVmYXVsdClcbiAgICAgICAgaWYgKG1haW5WaWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIHJlbW90ZVVzZXJSZWYuY3VycmVudC52aWRlb1RyYWNrLnBsYXkobWFpblZpZGVvUmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdmVybGF5VmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjay5wbGF5KG92ZXJsYXlWaWRlb1JlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ3VycmVudGx5IGRlZmF1bHQ6IHJlbW90ZSBpbiBtYWluLCBsb2NhbCBpbiBvdmVybGF5XG4gICAgICAgIC8vIEFmdGVyIHN3YXA6IGxvY2FsIGluIG1haW4sIHJlbW90ZSBpbiBvdmVybGF5IChzd2FwcGVkKVxuICAgICAgICBpZiAobWFpblZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LnZpZGVvVHJhY2sucGxheShtYWluVmlkZW9SZWYuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG92ZXJsYXlWaWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIHJlbW90ZVVzZXJSZWYuY3VycmVudC52aWRlb1RyYWNrLnBsYXkob3ZlcmxheVZpZGVvUmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsb2NhbFRyYWNrUmVmLmN1cnJlbnQ/LnZpZGVvVHJhY2spIHtcbiAgICAgIC8vIE9ubHkgbG9jYWwgdmlkZW8gYXZhaWxhYmxlIC0ganVzdCBtb3ZlIGl0XG4gICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjay5zdG9wKCk7XG4gICAgICBjb25zdCB0YXJnZXRDb250YWluZXIgPSB2aWRlb3NTd2FwcGVkID8gbWFpblZpZGVvUmVmLmN1cnJlbnQgOiBvdmVybGF5VmlkZW9SZWYuY3VycmVudDtcbiAgICAgIGlmICh0YXJnZXRDb250YWluZXIpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjay5wbGF5KHRhcmdldENvbnRhaW5lcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZW1vdGVVc2VyUmVmLmN1cnJlbnQ/LnZpZGVvVHJhY2spIHtcbiAgICAgIC8vIE9ubHkgcmVtb3RlIHZpZGVvIGF2YWlsYWJsZSAtIGp1c3QgbW92ZSBpdFxuICAgICAgcmVtb3RlVXNlclJlZi5jdXJyZW50LnZpZGVvVHJhY2suc3RvcCgpO1xuICAgICAgY29uc3QgdGFyZ2V0Q29udGFpbmVyID0gdmlkZW9zU3dhcHBlZCA/IG92ZXJsYXlWaWRlb1JlZi5jdXJyZW50IDogbWFpblZpZGVvUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAodGFyZ2V0Q29udGFpbmVyKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmVtb3RlVXNlclJlZi5jdXJyZW50LnZpZGVvVHJhY2sucGxheSh0YXJnZXRDb250YWluZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRWaWRlb3NTd2FwcGVkKCF2aWRlb3NTd2FwcGVkKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVGdWxsc2NyZWVuID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgaWYgKCFkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCkge1xuICAgICAgZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgYWxlcnQoYEVycm9yIGF0dGVtcHRpbmcgdG8gZW5hYmxlIGZ1bGwtc2NyZWVuIG1vZGU6ICR7ZXJyLm1lc3NhZ2V9ICgke2Vyci5uYW1lfSlgKTtcbiAgICAgIH0pO1xuICAgICAgc2V0SXNGdWxsc2NyZWVuKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgc2V0SXNGdWxsc2NyZWVuKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VuZEdpZnQgPSAoKSA9PiB7XG4gICAgaWYgKHdhbGxldEJhbGFuY2UgPD0gMCkge1xuICAgICAgYWxlcnQoXCJZb3UgZG9uJ3QgaGF2ZSBhbnkgdG9rZW5zIHRvIHNlbmQuIFBsZWFzZSBwdXJjaGFzZSB0b2tlbnMgZmlyc3QuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBhbW91bnQgPSBwcm9tcHQoYEVudGVyIHRva2VuIGFtb3VudCB0byBzZW5kIGFzIGdpZnQgKHlvdSBoYXZlICR7d2FsbGV0QmFsYW5jZX0gdG9rZW5zKTpgKTtcbiAgICBpZiAoYW1vdW50ICYmIHNvY2tldCkge1xuICAgICAgY29uc3QgYW1vdW50TnVtID0gcGFyc2VJbnQoYW1vdW50KTtcbiAgICAgIGlmIChpc05hTihhbW91bnROdW0pIHx8IGFtb3VudE51bSA8PSAwKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgcG9zaXRpdmUgbnVtYmVyXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYW1vdW50TnVtID4gd2FsbGV0QmFsYW5jZSkge1xuICAgICAgICBhbGVydChgSW5zdWZmaWNpZW50IHRva2Vucy4gWW91IGhhdmUgJHt3YWxsZXRCYWxhbmNlfSB0b2tlbnMuYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNvY2tldC5lbWl0KFwic2Vzc2lvbi5zZW5kR2lmdFwiLCB7IHNlc3Npb25JZCwgYW1vdW50VG9rZW5zOiBhbW91bnROdW0gfSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPG1haW4gY2xhc3NOYW1lPVwic3BhY2UteS00IHJlbGF0aXZlXCI+XG4gICAgICB7LyogR2lmdCBOb3RpZmljYXRpb24gUG9wdXAgKi99XG4gICAgICB7Z2lmdE5vdGlmaWNhdGlvbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZml4ZWQgdG9wLTQgcmlnaHQtNCB6LTUwIHAtNCByb3VuZGVkLWxnIHNoYWRvdy1sZyBib3JkZXItMiBhbmltYXRlLXB1bHNlICR7XG4gICAgICAgICAgZ2lmdE5vdGlmaWNhdGlvbi5pc1JlY2VpdmVkIFxuICAgICAgICAgICAgPyBcImJnLWdyZWVuLTkwMCBib3JkZXItZ3JlZW4tNTAwXCIgXG4gICAgICAgICAgICA6IFwiYmctYmx1ZS05MDAgYm9yZGVyLWJsdWUtNTAwXCJcbiAgICAgICAgfWB9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtM3hsXCI+e2dpZnROb3RpZmljYXRpb24uaXNSZWNlaXZlZCA/IFwi8J+OgVwiIDogXCLwn5KdXCJ9PC9zcGFuPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICB7Z2lmdE5vdGlmaWNhdGlvbi5pc1JlY2VpdmVkID8gXCJHaWZ0IFJlY2VpdmVkIVwiIDogXCJHaWZ0IFNlbnQhXCJ9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgICAge2dpZnROb3RpZmljYXRpb24uaXNSZWNlaXZlZCBcbiAgICAgICAgICAgICAgICAgID8gYFlvdSByZWNlaXZlZCAke2dpZnROb3RpZmljYXRpb24uYW1vdW50fSB0b2tlbnNgXG4gICAgICAgICAgICAgICAgICA6IGBZb3Ugc2VudCAke2dpZnROb3RpZmljYXRpb24uYW1vdW50fSB0b2tlbnNgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0R2lmdE5vdGlmaWNhdGlvbihudWxsKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0xIHJpZ2h0LTIgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtc21cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIOKclVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICA8QmFja0J1dHRvbiBcbiAgICAgICAgICAgIGhyZWY9XCIvcGxheVwiIFxuICAgICAgICAgICAgbGFiZWw9XCLihpAgQmFja1wiIFxuICAgICAgICAgICAgZGlzYWJsZWQ9e1xuICAgICAgICAgICAgICBnYW1lVHlwZSA9PT0gXCJ0cml2aWFcIiAmJiBcbiAgICAgICAgICAgICAgZ2FtZVN0YXRlICYmIFxuICAgICAgICAgICAgICBnYW1lU3RhdGUucGhhc2UgJiYgXG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS5waGFzZSAhPT0gXCJnYW1lRW5kXCIgJiYgXG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS5waGFzZSAhPT0gXCJ0aGVtZVNlbGVjdGlvblwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNhYmxlZE1lc3NhZ2U9XCJDYW5ub3QgZXhpdCB3aGlsZSB0cml2aWEgZ2FtZSBpcyBpbiBwcm9ncmVzcyFcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdXBwZXJjYXNlIHRyYWNraW5nLVswLjI1ZW1dIHRleHQtZ3JheS00MDBcIj5TZXNzaW9uPC9wPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlZpZGVvIENhbGw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgIHsvKiBXYWxsZXQgQmFsYW5jZSBEaXNwbGF5ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLXllbGxvdy05MDAgdG8teWVsbG93LTcwMCBweC00IHB5LTIgYm9yZGVyLTIgYm9yZGVyLXllbGxvdy01MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGxcIj7wn5KwPC9zcGFuPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXllbGxvdy0zMDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5CYWxhbmNlPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC13aGl0ZVwiPnt3YWxsZXRCYWxhbmNlLnRvTG9jYWxlU3RyaW5nKCl9IHRva2VuczwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUVuZFNlc3Npb259XG4gICAgICAgICAgICBkaXNhYmxlZD17XG4gICAgICAgICAgICAgIGdhbWVUeXBlID09PSBcInRyaXZpYVwiICYmIFxuICAgICAgICAgICAgICBnYW1lU3RhdGUgJiYgXG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS5waGFzZSAmJiBcbiAgICAgICAgICAgICAgZ2FtZVN0YXRlLnBoYXNlICE9PSBcImdhbWVFbmRcIiAmJiBcbiAgICAgICAgICAgICAgZ2FtZVN0YXRlLnBoYXNlICE9PSBcInRoZW1lU2VsZWN0aW9uXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGJnLWdyYXktODAwIHB4LTQgcHktMiBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgYm9yZGVyLTIgYm9yZGVyLXdoaXRlLzMwICR7XG4gICAgICAgICAgICAgIGdhbWVUeXBlID09PSBcInRyaXZpYVwiICYmIFxuICAgICAgICAgICAgICBnYW1lU3RhdGUgJiYgXG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS5waGFzZSAmJiBcbiAgICAgICAgICAgICAgZ2FtZVN0YXRlLnBoYXNlICE9PSBcImdhbWVFbmRcIiAmJiBcbiAgICAgICAgICAgICAgZ2FtZVN0YXRlLnBoYXNlICE9PSBcInRoZW1lU2VsZWN0aW9uXCJcbiAgICAgICAgICAgICAgICA/IFwib3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICAgIDogXCJob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIHRpdGxlPXtcbiAgICAgICAgICAgICAgZ2FtZVR5cGUgPT09IFwidHJpdmlhXCIgJiYgXG4gICAgICAgICAgICAgIGdhbWVTdGF0ZSAmJiBcbiAgICAgICAgICAgICAgZ2FtZVN0YXRlLnBoYXNlICYmIFxuICAgICAgICAgICAgICBnYW1lU3RhdGUucGhhc2UgIT09IFwiZ2FtZUVuZFwiICYmIFxuICAgICAgICAgICAgICBnYW1lU3RhdGUucGhhc2UgIT09IFwidGhlbWVTZWxlY3Rpb25cIlxuICAgICAgICAgICAgICAgID8gXCJDYW5ub3QgZW5kIHNlc3Npb24gd2hpbGUgdHJpdmlhIGdhbWUgaXMgaW4gcHJvZ3Jlc3MhXCJcbiAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBFbmQgU2Vzc2lvblxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICB7Y29ubmVjdGVkID8gXCJDb25uZWN0ZWRcIiA6IFwiQ29ubmVjdGluZy4uLlwifSB8IFNlc3Npb24gSUQ6IHtzZXNzaW9uSWQuc2xpY2UoMCwgOCl9Li4uXG4gICAgICAgICAgICB7c2Vzc2lvblN0YXJ0VGltZSAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC1ncmVlbi00MDBcIj7ij7Ege2Zvcm1hdER1cmF0aW9uKHNlc3Npb25EdXJhdGlvbil9PC9zcGFuPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAge3ZpZGVvUmVhZHkgJiYgKFxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIG10LTFcIj5cbiAgICAgICAgICAgICAgVmlkZW86IHtsb2NhbFZpZGVvQWN0aXZlID8gXCLinJMgTG9jYWxcIiA6IFwi4pyXIExvY2FsXCJ9IHwge3JlbW90ZVZpZGVvQWN0aXZlID8gXCLinJMgUmVtb3RlXCIgOiBcIuKclyBSZW1vdGVcIn1cbiAgICAgICAgICAgICAge3JlbW90ZVVzZXJJbmZvICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yXCI+fCBSZW1vdGU6IHtTdHJpbmcocmVtb3RlVXNlckluZm8udWlkKS5zbGljZSgwLCA4KX0uLi48L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7bmV0d29ya1F1YWxpdHkuZG93bmxpbmsgPiAwICYmIChcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMVwiPlxuICAgICAgICAgICAgICBOZXR3b3JrOiA8c3BhbiBjbGFzc05hbWU9e2dldE5ldHdvcmtRdWFsaXR5TGFiZWwobmV0d29ya1F1YWxpdHkuZG93bmxpbmspLmNvbG9yfT5cbiAgICAgICAgICAgICAgICB7Z2V0TmV0d29ya1F1YWxpdHlMYWJlbChuZXR3b3JrUXVhbGl0eS5kb3dubGluaykubGFiZWx9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAge2Nvbm5lY3Rpb25TdGF0ZSAhPT0gXCJDT05ORUNURURcIiAmJiBjb25uZWN0aW9uU3RhdGUgIT09IFwiRElTQ09OTkVDVEVEXCIgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC15ZWxsb3ctNDAwXCI+KHtjb25uZWN0aW9uU3RhdGV9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTQwMCBtdC0xXCI+RXJyb3I6IHtlcnJvcn08L3A+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvKiBBdWRpby9WaWRlbyBDb250cm9scyAqL31cbiAgICAgICAge3ZpZGVvUmVhZHkgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVNdXRlfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0zIHB5LTEgdGV4dC1zbSBib3JkZXItMiB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICAgIGlzTXV0ZWQgXG4gICAgICAgICAgICAgICAgICA/IFwiYmctcmVkLTYwMCBib3JkZXItcmVkLTUwMCB0ZXh0LXdoaXRlXCIgXG4gICAgICAgICAgICAgICAgICA6IFwiYmctZ3JheS04MDAgYm9yZGVyLXdoaXRlLzMwIHRleHQtd2hpdGUgaG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgdGl0bGU9e2lzTXV0ZWQgPyBcIlVubXV0ZVwiIDogXCJNdXRlXCJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc011dGVkID8gXCLwn5SHIE11dGVkXCIgOiBcIvCflIogQXVkaW9cIn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVDYW1lcmF9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgcHktMSB0ZXh0LXNtIGJvcmRlci0yIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgaXNDYW1lcmFPZmYgXG4gICAgICAgICAgICAgICAgICA/IFwiYmctcmVkLTYwMCBib3JkZXItcmVkLTUwMCB0ZXh0LXdoaXRlXCIgXG4gICAgICAgICAgICAgICAgICA6IFwiYmctZ3JheS04MDAgYm9yZGVyLXdoaXRlLzMwIHRleHQtd2hpdGUgaG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgdGl0bGU9e2lzQ2FtZXJhT2ZmID8gXCJUdXJuIENhbWVyYSBPblwiIDogXCJUdXJuIENhbWVyYSBPZmZcIn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzQ2FtZXJhT2ZmID8gXCLwn5O3IE9mZlwiIDogXCLwn5O5IFZpZGVvXCJ9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTQgbWQ6Z3JpZC1jb2xzLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCBwLTYgYm9yZGVyIGJvcmRlci13aGl0ZS8yMCBtZDpjb2wtc3Bhbi0yIHNwYWNlLXktNFwiPlxuICAgICAgICAgIHsvKiBWaWRlbyBTZWN0aW9uICovfVxuICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICByZWY9e3ZpZGVvQ29udGFpbmVyUmVmfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXNwZWN0LXZpZGVvIGJnLWJsYWNrIGJvcmRlciBib3JkZXItd2hpdGUvMjAgcmVsYXRpdmVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsvKiBNYWluIHZpZGVvIGNvbnRhaW5lciAoc2hvd3MgcmVtb3RlIGJ5IGRlZmF1bHQsIGxvY2FsIHdoZW4gc3dhcHBlZCkgKi99XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHJlZj17bWFpblZpZGVvUmVmfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGwgYmctYmxhY2tcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBtaW5XaWR0aDogJzEwMCUnLCBtaW5IZWlnaHQ6ICcxMDAlJyB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHshcmVtb3RlVmlkZW9BY3RpdmUgJiYgIXZpZGVvc1N3YXBwZWQgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1ncmF5LTUwMCB6LTEwIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+V2FpdGluZyBmb3IgcmVtb3RlIHZpZGVvLi4uPC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0xIHRleHQtZ3JheS02MDBcIj5UaGUgb3RoZXIgdXNlcidzIHZpZGVvIHdpbGwgYXBwZWFyIGhlcmU8L3A+XG4gICAgICAgICAgICAgICAgICB7cmVtb3RlVXNlckluZm8gJiYgKFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTIgdGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIFJlbW90ZSB1c2VyIGNvbm5lY3RlZDoge1N0cmluZyhyZW1vdGVVc2VySW5mby51aWQpLnNsaWNlKDAsIDgpfS4uLlxuICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgICAgICAgICAgIFZpZGVvIHRyYWNrOiB7cmVtb3RlVXNlckluZm8uaGFzVmlkZW8gPyBcIuKck1wiIDogXCLinJdcIn0gfCBBdWRpbzoge3JlbW90ZVVzZXJJbmZvLmhhc0F1ZGlvID8gXCLinJNcIiA6IFwi4pyXXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHshbG9jYWxWaWRlb0FjdGl2ZSAmJiB2aWRlb3NTd2FwcGVkICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtZ3JheS01MDAgei01XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbVwiPldhaXRpbmcgZm9yIGxvY2FsIHZpZGVvLi4uPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBTbWFsbCBvdmVybGF5IHZpZGVvIGNvbnRhaW5lciAoc2hvd3MgbG9jYWwgYnkgZGVmYXVsdCwgcmVtb3RlIHdoZW4gc3dhcHBlZCkgKi99XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHJlZj17b3ZlcmxheVZpZGVvUmVmfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgLy8gU2hvdyBjb250ZXh0IG1lbnU6IHN3YXAgb3IgZnVsbHNjcmVlblxuICAgICAgICAgICAgICAgIGNvbnN0IGNob2ljZSA9IGNvbmZpcm0oXCJDbGljayBPSyB0byBzd2FwIHZpZGVvcywgb3IgQ2FuY2VsIHRvIGZ1bGxzY3JlZW5cIik7XG4gICAgICAgICAgICAgICAgaWYgKGNob2ljZSkge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlU3dhcFZpZGVvcygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVGdWxsc2NyZWVuKHZpZGVvQ29udGFpbmVyUmVmLmN1cnJlbnQhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uRG91YmxlQ2xpY2s9eygpID0+IGhhbmRsZUZ1bGxzY3JlZW4odmlkZW9Db250YWluZXJSZWYuY3VycmVudCEpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tNCByaWdodC00IHctNDggaC0zNiBib3JkZXItMiBib3JkZXItd2hpdGUgYmctYmxhY2sgei0xMCBjdXJzb3ItcG9pbnRlciBob3Zlcjpib3JkZXItZ3JheS00MDAgdHJhbnNpdGlvbi1hbGxcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBtaW5XaWR0aDogJzE5MnB4JywgbWluSGVpZ2h0OiAnMTQ0cHgnIH19XG4gICAgICAgICAgICAgIHRpdGxlPVwiQ2xpY2sgdG8gc3dhcCwgZG91YmxlLWNsaWNrIHRvIGZ1bGxzY3JlZW5cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7IWxvY2FsVmlkZW9BY3RpdmUgJiYgIXZpZGVvc1N3YXBwZWQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWdyYXktNTAwIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgIFlvdXIgdmlkZW9cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgeyFyZW1vdGVWaWRlb0FjdGl2ZSAmJiB2aWRlb3NTd2FwcGVkICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1ncmF5LTUwMCB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICBPdGhlciB1c2VyXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIFNob3cgbG9hZGluZy9zdGF0dXMgb3ZlcmxheSB3aGVuIHZpZGVvIGlzIG5vdCByZWFkeSAqL31cbiAgICAgICAgICAgIHshdmlkZW9SZWFkeSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWdyYXktNDAwIHotMjAgYmctYmxhY2sgYmctb3BhY2l0eS03NVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIHtzZXNzaW9uRGF0YT8udmlkZW8gPyAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMlwiPkluaXRpYWxpemluZyB2aWRlbyBjYWxsLi4uPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHNcIj5QbGVhc2UgYWxsb3cgY2FtZXJhIGFuZCBtaWNyb3Bob25lIGFjY2VzczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXJlZC00MDAgbXQtMiBtYXgtdy1tZFwiPntlcnJvcn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTIgdGV4dC1ncmF5LTUwMFwiPkNoZWNrIGJyb3dzZXIgY29uc29sZSBmb3IgZGV0YWlsczwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2Nvbm5lY3RlZCA/IFwiTG9hZGluZyBzZXNzaW9uIGRhdGEuLi5cIiA6IFwiQ29ubmVjdGluZyB0byBzZXJ2ZXIuLi5cIn1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEdhbWUgU2VjdGlvbiAtIEFsd2F5cyB2aXNpYmxlIGFsb25nc2lkZSB2aWRlbyAqL31cbiAgICAgICAgICB7Z2FtZVR5cGUgJiYgZ2FtZUlkICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+UGxheWluZzoge2dhbWVUeXBlfTwvaDI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDYW5jZWxHYW1lfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gYmctZ3JheS03MDAgaG92ZXI6YmctZ3JheS02MDAgcHgtMyBweS0xIHRleHQtd2hpdGUgYm9yZGVyIGJvcmRlci13aGl0ZS8zMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBFeGl0IEdhbWVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtnYW1lVHlwZSAmJiBnYW1lSWQgJiYgZ2FtZVR5cGUgPT09IFwiVElDVEFDVE9FXCIgPyAoXG4gICAgICAgICAgICA8VGljVGFjVG9lR2FtZVxuICAgICAgICAgICAgICBnYW1lSWQ9e2dhbWVJZH1cbiAgICAgICAgICAgICAgc29ja2V0PXtzb2NrZXQhfVxuICAgICAgICAgICAgICB1c2VySWQ9e3VzZXJJZH1cbiAgICAgICAgICAgICAgaW5pdGlhbFN0YXRlPXtnYW1lU3RhdGV9XG4gICAgICAgICAgICAgIGluaXRpYWxQbGF5ZXJzPXtnYW1lUGxheWVyc31cbiAgICAgICAgICAgICAgb25HYW1lRW5kPXsocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJHYW1lIGVuZGVkOlwiLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIC8vIEFsbG93IHN0YXJ0aW5nIGEgbmV3IGdhbWUgYWZ0ZXIgYSBzaG9ydCBkZWxheVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0R2FtZVR5cGUobnVsbCk7XG4gICAgICAgICAgICAgICAgICBzZXRHYW1lSWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICBzZXRHYW1lU3RhdGUobnVsbCk7XG4gICAgICAgICAgICAgICAgICBzZXRHYW1lUGxheWVycyhbXSk7XG4gICAgICAgICAgICAgICAgfSwgNTAwMCk7IC8vIDUgc2Vjb25kIGRlbGF5IGJlZm9yZSBhbGxvd2luZyBuZXcgZ2FtZVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogZ2FtZVR5cGUgJiYgZ2FtZUlkICYmIGdhbWVUeXBlID09PSBcIlRSSVZJQVwiID8gKFxuICAgICAgICAgICAgPFRyaXZpYUdhbWVcbiAgICAgICAgICAgICAgZ2FtZUlkPXtnYW1lSWR9XG4gICAgICAgICAgICAgIHNvY2tldD17c29ja2V0IX1cbiAgICAgICAgICAgICAgb2RVc2VySWQ9e3VzZXJJZH1cbiAgICAgICAgICAgICAgaW5pdGlhbFN0YXRlPXtnYW1lU3RhdGUgfHwgdW5kZWZpbmVkfVxuICAgICAgICAgICAgICBpbml0aWFsUGxheWVycz17Z2FtZVBsYXllcnN9XG4gICAgICAgICAgICAgIG9uR2FtZUVuZD17KHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJpdmlhIGdhbWUgZW5kZWQ6XCIsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRHYW1lVHlwZShudWxsKTtcbiAgICAgICAgICAgICAgICAgIHNldEdhbWVJZChudWxsKTtcbiAgICAgICAgICAgICAgICAgIHNldEdhbWVTdGF0ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgIHNldEdhbWVQbGF5ZXJzKFtdKTtcbiAgICAgICAgICAgICAgICB9LCA1MDAwKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IGdhbWVUeXBlICYmIGdhbWVJZCAmJiBnYW1lVHlwZSA9PT0gXCJDSEVTU1wiICYmIGdhbWVTdGF0ZSA/IChcbiAgICAgICAgICAgIDxDaGVzc0dhbWVcbiAgICAgICAgICAgICAgZ2FtZVN0YXRlPXtnYW1lU3RhdGV9XG4gICAgICAgICAgICAgIG9kVXNlcklkPXt1c2VySWR9XG4gICAgICAgICAgICAgIG9uTW92ZT17KGZyb20sIHRvLCBwcm9tb3Rpb25QaWVjZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzb2NrZXQpIHtcbiAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiZ2FtZS5tb3ZlXCIsIHsgZ2FtZUlkLCBmcm9tLCB0bywgcHJvbW90aW9uUGllY2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkZvcmZlaXQ9eygpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc29ja2V0KSB7XG4gICAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdChcImdhbWUuZm9yZmVpdFwiLCB7IGdhbWVJZCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiBnYW1lVHlwZSAmJiBnYW1lSWQgJiYgKGdhbWVUeXBlID09PSBcIlRSVVRIU19BTkRfTElFXCIgfHwgZ2FtZVR5cGU/LnRvVXBwZXJDYXNlKCkgPT09IFwiVFJVVEhTX0FORF9MSUVcIiB8fCBnYW1lVHlwZT8uaW5jbHVkZXMoXCJUUlVUSFwiKSkgPyAoXG4gICAgICAgICAgICA8VHJ1dGhzQW5kTGllR2FtZVxuICAgICAgICAgICAgICBnYW1lSWQ9e2dhbWVJZH1cbiAgICAgICAgICAgICAgc29ja2V0PXtzb2NrZXQhfVxuICAgICAgICAgICAgICBvZFVzZXJJZD17dXNlcklkfVxuICAgICAgICAgICAgICBpbml0aWFsU3RhdGU9e2dhbWVTdGF0ZSB8fCB1bmRlZmluZWR9XG4gICAgICAgICAgICAgIGluaXRpYWxQbGF5ZXJzPXtnYW1lUGxheWVyc31cbiAgICAgICAgICAgICAgb25HYW1lRW5kPXsocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnV0aHMgYW5kIExpZSBnYW1lIGVuZGVkOlwiLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0R2FtZVR5cGUobnVsbCk7XG4gICAgICAgICAgICAgICAgICBzZXRHYW1lSWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICBzZXRHYW1lU3RhdGUobnVsbCk7XG4gICAgICAgICAgICAgICAgICBzZXRHYW1lUGxheWVycyhbXSk7XG4gICAgICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiBnYW1lVHlwZSAmJiBnYW1lSWQgJiYgKGdhbWVUeXBlID09PSBcIkJJTExJQVJEU1wiIHx8IGdhbWVUeXBlPy50b1VwcGVyQ2FzZSgpID09PSBcIkJJTExJQVJEU1wiKSA/IChcbiAgICAgICAgICAgIDxCaWxsaWFyZHNHYW1lVjJcbiAgICAgICAgICAgICAgZ2FtZUlkPXtnYW1lSWR9XG4gICAgICAgICAgICAgIHNvY2tldD17c29ja2V0IX1cbiAgICAgICAgICAgICAgb2RVc2VySWQ9e3VzZXJJZH1cbiAgICAgICAgICAgICAgaW5pdGlhbFN0YXRlPXtnYW1lU3RhdGUgfHwgdW5kZWZpbmVkfVxuICAgICAgICAgICAgICBpbml0aWFsUGxheWVycz17Z2FtZVBsYXllcnN9XG4gICAgICAgICAgICAgIG9uR2FtZUVuZD17KHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQmlsbGlhcmRzIGdhbWUgZW5kZWQ6XCIsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRHYW1lVHlwZShudWxsKTtcbiAgICAgICAgICAgICAgICAgIHNldEdhbWVJZChudWxsKTtcbiAgICAgICAgICAgICAgICAgIHNldEdhbWVTdGF0ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgIHNldEdhbWVQbGF5ZXJzKFtdKTtcbiAgICAgICAgICAgICAgICB9LCA1MDAwKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IGdhbWVUeXBlICYmICFnYW1lSWQgPyAoXG4gICAgICAgICAgICAvLyBHYW1lIGlzIHBlbmRpbmcvc3RhcnRpbmcgLSBzaG93IGNhbmNlbCBvcHRpb25cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC00IGJvcmRlciBib3JkZXItd2hpdGUvMjBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTMwMFwiPlN0YXJ0aW5nIGdhbWU6IHtnYW1lVHlwZX08L3A+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2FuY2VsR2FtZX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgYmctZ3JheS03MDAgaG92ZXI6YmctZ3JheS02MDAgcHgtMyBweS0xIHRleHQtd2hpdGUgYm9yZGVyIGJvcmRlci13aGl0ZS8zMFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJsYWNrIHAtOCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNDAwIG1pbi1oLVsyMDBweF0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyBtYi0yXCI+U3RhcnRpbmcge2dhbWVUeXBlfS4uLjwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHNcIj5QbGVhc2Ugd2FpdCB3aGlsZSB0aGUgZ2FtZSBpbml0aWFsaXplczwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogZ2FtZVR5cGUgJiYgZ2FtZUlkICYmIGdhbWVUeXBlICE9PSBcIlRJQ1RBQ1RPRVwiICYmIGdhbWVUeXBlICE9PSBcIlRSSVZJQVwiICYmIGdhbWVUeXBlICE9PSBcIkNIRVNTXCIgJiYgZ2FtZVR5cGUgIT09IFwiVFJVVEhTX0FORF9MSUVcIiAmJiBnYW1lVHlwZT8udG9VcHBlckNhc2UoKSAhPT0gXCJUUlVUSFNfQU5EX0xJRVwiICYmIGdhbWVUeXBlICE9PSBcIkJJTExJQVJEU1wiICYmIGdhbWVUeXBlPy50b1VwcGVyQ2FzZSgpICE9PSBcIkJJTExJQVJEU1wiID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBwLTQgYm9yZGVyIGJvcmRlci13aGl0ZS8yMFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS0zMDAgbWItMlwiPkFjdGl2ZSBnYW1lOiB7Z2FtZVR5cGV9IChJRDoge2dhbWVJZH0pPC9wPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJsYWNrIHAtOCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNDAwIG1pbi1oLVsyMDBweF0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyBtYi0yXCI+R2FtZSBVSSBmb3Ige2dhbWVUeXBlfTwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHNcIj5HYW1lIGltcGxlbWVudGF0aW9uIGNvbWluZyBzb29uIG9yIHN0YXRlIG5vdCBsb2FkZWQ8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTJcIj5HYW1lIFN0YXRlOiB7Z2FtZVN0YXRlID8gXCJMb2FkZWRcIiA6IFwiTm90IGxvYWRlZFwifTwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMVwiPkRlYnVnOiBnYW1lVHlwZT17Z2FtZVR5cGV9LCBnYW1lSWQ9e2dhbWVJZH08L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC00IGJvcmRlciBib3JkZXItd2hpdGUvMjBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwIG1iLTNcIj5TdGFydCBhIGdhbWU8L3A+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN0YXJ0R2FtZShcIkNIRVNTXCIpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUgcHgtMyBweS0yIHRleHQtYmxhY2sgdGV4dC1zbSBob3ZlcjpiZy1ncmF5LTIwMCBib3JkZXItMiBib3JkZXItd2hpdGVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIENoZXNzXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhcnRHYW1lKFwiVFJJVklBXCIpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUgcHgtMyBweS0yIHRleHQtYmxhY2sgdGV4dC1zbSBob3ZlcjpiZy1ncmF5LTIwMCBib3JkZXItMiBib3JkZXItd2hpdGVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFRyaXZpYVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN0YXJ0R2FtZShcIlRJQ1RBQ1RPRVwiKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXdoaXRlIHB4LTMgcHktMiB0ZXh0LWJsYWNrIHRleHQtc20gaG92ZXI6YmctZ3JheS0yMDAgYm9yZGVyLTIgYm9yZGVyLXdoaXRlXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBUaWMtVGFjLVRvZVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGtleT1cInRydXRocy1hbmQtbGllLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgVHJ1dGhzICYgTGllIGdhbWVcIik7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVN0YXJ0R2FtZShcIlRSVVRIU19BTkRfTElFXCIpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXdoaXRlIHB4LTMgcHktMiB0ZXh0LWJsYWNrIHRleHQtc20gaG92ZXI6YmctZ3JheS0yMDAgYm9yZGVyLTIgYm9yZGVyLXdoaXRlXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBUcnV0aHMgJiBMaWVcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTdGFydEdhbWUoXCJCSUxMSUFSRFNcIil9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy13aGl0ZSBweC0zIHB5LTIgdGV4dC1ibGFjayB0ZXh0LXNtIGhvdmVyOmJnLWdyYXktMjAwIGJvcmRlci0yIGJvcmRlci13aGl0ZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQmlsbGlhcmRzXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktOTAwIHAtNCBib3JkZXIgYm9yZGVyLXdoaXRlLzIwXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDAgbWItM1wiPkFjdGlvbnM8L3A+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VuZEdpZnR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktODAwIHB4LTQgcHktMiB0ZXh0LXdoaXRlIGJvcmRlci0yIGJvcmRlci13aGl0ZS8zMCBob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTZW5kIEdpZnRcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCByZWFzb24gPSBwcm9tcHQoXCJSZXBvcnQgcmVhc29uOlwiKTtcbiAgICAgICAgICAgICAgICAgIGlmIChyZWFzb24gJiYgc29ja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KFwic2Vzc2lvbi5yZXBvcnRcIiwgeyBzZXNzaW9uSWQsIHJlYXNvbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJSZXBvcnQgc3VibWl0dGVkXCIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktODAwIHB4LTQgcHktMiB0ZXh0LXdoaXRlIGJvcmRlci0yIGJvcmRlci13aGl0ZS8zMCBob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBSZXBvcnQgVXNlclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCBwLTQgYm9yZGVyIGJvcmRlci13aGl0ZS8yMFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwIG1iLTJcIj5TZXNzaW9uIEluZm88L3A+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPHA+UGVlcjoge3Nlc3Npb25EYXRhPy5wZWVyLmlkIHx8IFwiTG9hZGluZy4uLlwifTwvcD5cbiAgICAgICAgICAgICAgPHA+Q2hhbm5lbDoge3Nlc3Npb25EYXRhPy52aWRlby5jaGFubmVsTmFtZSB8fCBcIkxvYWRpbmcuLi5cIn08L3A+XG4gICAgICAgICAgICAgIHtzZXNzaW9uRGF0YT8udmlkZW8uZXhwaXJlc0F0ICYmIChcbiAgICAgICAgICAgICAgICA8cD5Ub2tlbiBleHBpcmVzOiB7bmV3IERhdGUoc2Vzc2lvbkRhdGEudmlkZW8uZXhwaXJlc0F0KS50b0xvY2FsZVRpbWVTdHJpbmcoKX08L3A+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L21haW4+XG4gICk7XG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwidXNlUm91dGVyIiwidXNlUGFyYW1zIiwiaW8iLCJBZ29yYVJUQyIsInZpZGVvQXBpIiwidXNlcnNBcGkiLCJ3YWxsZXRBcGkiLCJUaWNUYWNUb2VHYW1lIiwiQ2hlc3NHYW1lIiwiVHJpdmlhR2FtZSIsIlRydXRoc0FuZExpZUdhbWUiLCJCaWxsaWFyZHNHYW1lVjIiLCJCYWNrQnV0dG9uIiwiV1NfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1dTX1VSTCIsIlNlc3Npb25QYWdlIiwicGFyYW1zIiwicm91dGVyIiwic2Vzc2lvbklkIiwiaWQiLCJzZXNzaW9uRGF0YSIsInNldFNlc3Npb25EYXRhIiwic29ja2V0Iiwic2V0U29ja2V0IiwiY29ubmVjdGVkIiwic2V0Q29ubmVjdGVkIiwiZ2FtZVR5cGUiLCJzZXRHYW1lVHlwZSIsImdhbWVJZCIsInNldEdhbWVJZCIsImdhbWVTdGF0ZSIsInNldEdhbWVTdGF0ZSIsImdhbWVQbGF5ZXJzIiwic2V0R2FtZVBsYXllcnMiLCJ2aWRlb1JlYWR5Iiwic2V0VmlkZW9SZWFkeSIsImVycm9yIiwic2V0RXJyb3IiLCJsb2NhbFZpZGVvQWN0aXZlIiwic2V0TG9jYWxWaWRlb0FjdGl2ZSIsInJlbW90ZVZpZGVvQWN0aXZlIiwic2V0UmVtb3RlVmlkZW9BY3RpdmUiLCJ2aWRlb3NTd2FwcGVkIiwic2V0VmlkZW9zU3dhcHBlZCIsImlzRnVsbHNjcmVlbiIsInNldElzRnVsbHNjcmVlbiIsImlzTXV0ZWQiLCJzZXRJc011dGVkIiwiaXNDYW1lcmFPZmYiLCJzZXRJc0NhbWVyYU9mZiIsInJlbW90ZVVzZXJJbmZvIiwic2V0UmVtb3RlVXNlckluZm8iLCJuZXR3b3JrUXVhbGl0eSIsInNldE5ldHdvcmtRdWFsaXR5IiwidXBsaW5rIiwiZG93bmxpbmsiLCJzZXNzaW9uRHVyYXRpb24iLCJzZXRTZXNzaW9uRHVyYXRpb24iLCJzZXNzaW9uU3RhcnRUaW1lIiwic2V0U2Vzc2lvblN0YXJ0VGltZSIsImNvbm5lY3Rpb25TdGF0ZSIsInNldENvbm5lY3Rpb25TdGF0ZSIsIndhbGxldEJhbGFuY2UiLCJzZXRXYWxsZXRCYWxhbmNlIiwiZ2lmdE5vdGlmaWNhdGlvbiIsInNldEdpZnROb3RpZmljYXRpb24iLCJnaWZ0Tm90aWZpY2F0aW9uVGltZXJSZWYiLCJtYWluVmlkZW9SZWYiLCJvdmVybGF5VmlkZW9SZWYiLCJ2aWRlb0NvbnRhaW5lclJlZiIsImNsaWVudFJlZiIsImxvY2FsVHJhY2tSZWYiLCJyZW1vdGVUcmFja1JlZiIsInJlbW90ZVVzZXJSZWYiLCJ2aWRlb0NoZWNrSW50ZXJ2YWxSZWYiLCJzZXNzaW9uVGltZXJSZWYiLCJ0b2tlblJlbmV3YWxUaW1lclJlZiIsInJlbW90ZVZpZGVvQWN0aXZlUmVmIiwibG9jYWxWaWRlb0FjdGl2ZVJlZiIsInVzZXJJZCIsInNldFVzZXJJZCIsImN1cnJlbnQiLCJ0b2dnbGVNdXRlIiwiYXVkaW9UcmFjayIsIm5ld011dGVkIiwic2V0RW5hYmxlZCIsImNvbnNvbGUiLCJsb2ciLCJ0b2dnbGVDYW1lcmEiLCJ2aWRlb1RyYWNrIiwibmV3Q2FtZXJhT2ZmIiwic2V0SW50ZXJ2YWwiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiY2xlYXJJbnRlcnZhbCIsImZvcm1hdER1cmF0aW9uIiwic2Vjb25kcyIsIm1pbnMiLCJzZWNzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImdldE5ldHdvcmtRdWFsaXR5TGFiZWwiLCJxdWFsaXR5IiwibGFiZWwiLCJjb2xvciIsImxvYWRVc2VyRGF0YSIsInVzZXIiLCJ3YWxsZXQiLCJQcm9taXNlIiwiYWxsIiwiZ2V0TWUiLCJnZXRNeVdhbGxldCIsImJhbGFuY2VUb2tlbnMiLCJlcnIiLCJzaG93R2lmdE5vdGlmaWNhdGlvbiIsImZyb20iLCJhbW91bnQiLCJpc1JlY2VpdmVkIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImNvbm5lY3RlZENoYW5uZWxSZWYiLCJ2aWRlbyIsImNoYW5uZWxOYW1lIiwiaXNNb3VudGVkIiwicmV0cnlDb3VudCIsIk1BWF9SRVRSSUVTIiwicmV0cnlUaW1lciIsImNoZWNrQW5kSW5pdCIsImluaXRWaWRlbyIsImFwcElkIiwiYXBwSWRSZXNwb25zZSIsImdldEFwcElkIiwiY2xpZW50IiwiY3JlYXRlQ2xpZW50IiwibW9kZSIsImNvZGVjIiwiam9pbiIsInRva2VuIiwicmVtb3RlVXNlcnMiLCJsZW5ndGgiLCJyZW1vdGVVc2VyIiwidWlkIiwic3Vic2NyaWJlIiwidmlkZW9FcnJvciIsIm1lc3NhZ2UiLCJhdWRpb0Vycm9yIiwiaGFzVmlkZW8iLCJoYXNBdWRpbyIsInBsYXkiLCJ2ZXJpZnlWaWRlb1BsYXlpbmciLCJ2aWRlb0VsZW1lbnQiLCJpc1BsYXlpbmciLCJwYXVzZWQiLCJyZWFkeVN0YXRlIiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwidHJ5UGxheVJlbW90ZVZpZGVvIiwiYXR0ZW1wdCIsInN0b3AiLCJlIiwicXVlcnlTZWxlY3RvciIsIndhcm4iLCJjYXRjaCIsInBsYXlFcnJvciIsIm1pbiIsInN1YkVycm9yIiwibWljVHJhY2siLCJjYW1UcmFjayIsImNyZWF0ZU1pY3JvcGhvbmVBbmRDYW1lcmFUcmFja3MiLCJlbmNvZGVyQ29uZmlnIiwid2lkdGgiLCJpZGVhbCIsIm1heCIsImhlaWdodCIsImZyYW1lUmF0ZSIsInB1Ymxpc2giLCJ0cnlQbGF5TG9jYWxWaWRlbyIsInRyYWNrRXJyb3IiLCJpbmNsdWRlcyIsIm5hbWUiLCJvbiIsIm1lZGlhVHlwZSIsIm90aGVyTWVkaWFUeXBlIiwicHJldiIsInRyeVBsYXlWaWRlbyIsInJldHJ5RXJyb3IiLCJoYXNWaWRlb0VsZW1lbnQiLCJpc1ZpZGVvQWN0dWFsbHlQbGF5aW5nIiwidmVyaWZ5QXR0ZW1wdHMiLCJ2ZXJpZnlJbnRlcnZhbCIsIm5ld1ZpZGVvRWxlbWVudCIsImlzTm93UGxheWluZyIsInN0YXRzIiwidXBsaW5rTmV0d29ya1F1YWxpdHkiLCJkb3dubGlua05ldHdvcmtRdWFsaXR5IiwiY3VyU3RhdGUiLCJwcmV2U3RhdGUiLCJleHBpcmVzQXQiLCJnZXRUaW1lIiwicmVuZXdJbiIsInJlc3BvbnNlIiwiZ2V0VG9rZW4iLCJyZW5ld1Rva2VuIiwicmVuZXdFcnJvciIsImVycm9yTXNnIiwiYWxlcnQiLCJ0aW1lciIsImNsb3NlIiwibGVhdmUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicHVzaCIsIndzIiwiYXV0aCIsInRyYW5zcG9ydHMiLCJoYXNKb2luZWRTZXNzaW9uIiwiZW1pdCIsInJlYXNvbiIsImRhdGEiLCJzdGF0ZSIsInBsYXllcnMiLCJ3aW5uZXJJZCIsImlzRHJhdyIsImdhbWVPdmVyIiwid2lubmVyIiwiYmFsYW5jZSIsInN1Y2Nlc3MiLCJwYXlsb2FkIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsInNwbGl0IiwiY3VycmVudFVzZXJJZCIsInN1YiIsInRvIiwib3RoZXJVc2VyIiwiZGlzY29ubmVjdCIsImhhbmRsZVN0YXJ0R2FtZSIsInR5cGUiLCJoYW5kbGVDYW5jZWxHYW1lIiwiaGFuZGxlRW5kU2Vzc2lvbiIsInRyaXZpYVBoYXNlIiwicGhhc2UiLCJoYW5kbGVTd2FwVmlkZW9zIiwidGFyZ2V0Q29udGFpbmVyIiwiaGFuZGxlRnVsbHNjcmVlbiIsImVsZW1lbnQiLCJkb2N1bWVudCIsImZ1bGxzY3JlZW5FbGVtZW50IiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJleGl0RnVsbHNjcmVlbiIsImhhbmRsZVNlbmRHaWZ0IiwicHJvbXB0IiwiYW1vdW50TnVtIiwicGFyc2VJbnQiLCJpc05hTiIsImFtb3VudFRva2VucyIsIm1haW4iLCJjbGFzc05hbWUiLCJkaXYiLCJzcGFuIiwicCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJocmVmIiwiZGlzYWJsZWQiLCJkaXNhYmxlZE1lc3NhZ2UiLCJoMSIsInRvTG9jYWxlU3RyaW5nIiwidGl0bGUiLCJzbGljZSIsIlN0cmluZyIsInJlZiIsInN0eWxlIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJiciIsInN0b3BQcm9wYWdhdGlvbiIsImNob2ljZSIsImNvbmZpcm0iLCJvbkRvdWJsZUNsaWNrIiwiaDIiLCJpbml0aWFsU3RhdGUiLCJpbml0aWFsUGxheWVycyIsIm9uR2FtZUVuZCIsInJlc3VsdCIsIm9kVXNlcklkIiwidW5kZWZpbmVkIiwib25Nb3ZlIiwicHJvbW90aW9uUGllY2UiLCJvbkZvcmZlaXQiLCJ0b1VwcGVyQ2FzZSIsInBlZXIiLCJ0b0xvY2FsZVRpbWVTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/app/session/[id]/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/BackButton.tsx":
/*!***************************************!*\
  !*** ./src/components/BackButton.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BackButton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(ssr)/../node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction BackButton({ href, label = \"← Back\", className = \"\", disabled = false, disabledMessage = \"Cannot exit during game\" }) {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const handleClick = ()=>{\n        if (disabled) {\n            alert(disabledMessage);\n            return;\n        }\n        if (href) {\n            router.push(href);\n        } else {\n            router.back();\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        onClick: handleClick,\n        disabled: disabled,\n        className: `bg-gray-800 px-4 py-2 text-white border border-white/30 ${disabled ? \"opacity-50 cursor-not-allowed\" : \"hover:bg-gray-700\"} ${className}`,\n        title: disabled ? disabledMessage : \"\",\n        children: label\n    }, void 0, false, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/components/BackButton.tsx\",\n        lineNumber: 35,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9CYWNrQnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUU0QztBQVU3QixTQUFTQyxXQUFXLEVBQ2pDQyxJQUFJLEVBQ0pDLFFBQVEsUUFBUSxFQUNoQkMsWUFBWSxFQUFFLEVBQ2RDLFdBQVcsS0FBSyxFQUNoQkMsa0JBQWtCLHlCQUF5QixFQUMzQjtJQUNoQixNQUFNQyxTQUFTUCwwREFBU0E7SUFFeEIsTUFBTVEsY0FBYztRQUNsQixJQUFJSCxVQUFVO1lBQ1pJLE1BQU1IO1lBQ047UUFDRjtRQUNBLElBQUlKLE1BQU07WUFDUkssT0FBT0csSUFBSSxDQUFDUjtRQUNkLE9BQU87WUFDTEssT0FBT0ksSUFBSTtRQUNiO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ0M7UUFDQ0MsU0FBU0w7UUFDVEgsVUFBVUE7UUFDVkQsV0FBVyxDQUFDLHdEQUF3RCxFQUNsRUMsV0FDSSxrQ0FDQSxvQkFDTCxDQUFDLEVBQUVELFVBQVUsQ0FBQztRQUNmVSxPQUFPVCxXQUFXQyxrQkFBa0I7a0JBRW5DSDs7Ozs7O0FBR1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab21lZ2xlLWdhbWUvd2ViLy4vc3JjL2NvbXBvbmVudHMvQmFja0J1dHRvbi50c3g/NGUxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuXG5pbnRlcmZhY2UgQmFja0J1dHRvblByb3BzIHtcbiAgaHJlZj86IHN0cmluZztcbiAgbGFiZWw/OiBzdHJpbmc7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICBkaXNhYmxlZE1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJhY2tCdXR0b24oeyBcbiAgaHJlZiwgXG4gIGxhYmVsID0gXCLihpAgQmFja1wiLCBcbiAgY2xhc3NOYW1lID0gXCJcIixcbiAgZGlzYWJsZWQgPSBmYWxzZSxcbiAgZGlzYWJsZWRNZXNzYWdlID0gXCJDYW5ub3QgZXhpdCBkdXJpbmcgZ2FtZVwiXG59OiBCYWNrQnV0dG9uUHJvcHMpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG5cbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICBhbGVydChkaXNhYmxlZE1lc3NhZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaHJlZikge1xuICAgICAgcm91dGVyLnB1c2goaHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvdXRlci5iYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2t9XG4gICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICBjbGFzc05hbWU9e2BiZy1ncmF5LTgwMCBweC00IHB5LTIgdGV4dC13aGl0ZSBib3JkZXIgYm9yZGVyLXdoaXRlLzMwICR7XG4gICAgICAgIGRpc2FibGVkIFxuICAgICAgICAgID8gXCJvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZFwiIFxuICAgICAgICAgIDogXCJob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICB9ICR7Y2xhc3NOYW1lfWB9XG4gICAgICB0aXRsZT17ZGlzYWJsZWQgPyBkaXNhYmxlZE1lc3NhZ2UgOiBcIlwifVxuICAgID5cbiAgICAgIHtsYWJlbH1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cblxuIl0sIm5hbWVzIjpbInVzZVJvdXRlciIsIkJhY2tCdXR0b24iLCJocmVmIiwibGFiZWwiLCJjbGFzc05hbWUiLCJkaXNhYmxlZCIsImRpc2FibGVkTWVzc2FnZSIsInJvdXRlciIsImhhbmRsZUNsaWNrIiwiYWxlcnQiLCJwdXNoIiwiYmFjayIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ0aXRsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/BackButton.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/games/BilliardsGameV2.tsx":
/*!**************************************************!*\
  !*** ./src/components/games/BilliardsGameV2.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BilliardsGameV2)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction BilliardsGameV2({ gameId, socket, odUserId, initialState, initialPlayers, onGameEnd }) {\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const assetsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!canvasRef.current || \"undefined\" === \"undefined\") return;\n        let container = null;\n        let animationFrameId = null;\n        const init = async ()=>{\n            try {\n                setIsLoading(true);\n                setError(null);\n                // Dynamically import billiards modules (client-side only)\n                const { Container } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/three\"), __webpack_require__.e(\"vendor-chunks/jsoncrush\"), __webpack_require__.e(\"_ssr_src_lib_billiards_container_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/billiards/container */ \"(ssr)/./src/lib/billiards/container.ts\"));\n                const { Assets } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/three\"), __webpack_require__.e(\"_ssr_src_lib_billiards_view_assets_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/billiards/view/assets */ \"(ssr)/./src/lib/billiards/view/assets.ts\"));\n                const { Keyboard } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/interactjs\"), __webpack_require__.e(\"_ssr_src_lib_billiards_events_keyboard_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/billiards/events/keyboard */ \"(ssr)/./src/lib/billiards/events/keyboard.ts\"));\n                const { BeginEvent } = await __webpack_require__.e(/*! import() */ \"_ssr_src_lib_billiards_events_beginevent_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/lib/billiards/events/beginevent */ \"(ssr)/./src/lib/billiards/events/beginevent.ts\"));\n                // Create assets loader with local assets (no GLTF loading needed)\n                const assets = Assets.localAssets(\"eightball\");\n                assetsRef.current = assets;\n                // Create keyboard handler\n                const keyboard = new Keyboard(canvasRef.current);\n                // Create container\n                container = new Container(canvasRef.current, console.log, assets, \"eightball\", keyboard, odUserId);\n                containerRef.current = container;\n                // Set to multiplayer mode\n                container.isSinglePlayer = false;\n                // Set up WebSocket integration\n                container.broadcast = (event)=>{\n                    if (socket && socket.connected) {\n                        // Serialize event for transmission\n                        const eventData = {\n                            type: event.type,\n                            ...event\n                        };\n                        socket.emit(\"billiards.event\", {\n                            gameId,\n                            event: eventData\n                        });\n                    }\n                };\n                // Listen for remote events\n                const handleRemoteEvent = (data)=>{\n                    if (data.gameId === gameId && container) {\n                        container.eventQueue.push(data.event);\n                    }\n                };\n                socket.on(\"billiards.event\", handleRemoteEvent);\n                // Start the game\n                container.eventQueue.push(new BeginEvent());\n                container.animate(performance.now());\n                setIsLoading(false);\n            } catch (err) {\n                console.error(\"Failed to initialize billiards:\", err);\n                setError(err.message || \"Failed to initialize game\");\n                setIsLoading(false);\n            }\n        };\n        init();\n        return ()=>{\n            socket.off(\"billiards.event\");\n            if (container && container.frame) {\n                // Cancel animation frame\n                cancelAnimationFrame(animationFrameId);\n                container.frame = null;\n            }\n            container = null;\n        };\n    }, [\n        gameId,\n        socket,\n        odUserId\n    ]);\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-red-400\",\n                children: [\n                    \"Error: \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/BilliardsGameV2.tsx\",\n                lineNumber: 121,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/BilliardsGameV2.tsx\",\n            lineNumber: 120,\n            columnNumber: 7\n        }, this);\n    }\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-gray-400\",\n                children: \"Loading billiards game...\"\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/BilliardsGameV2.tsx\",\n                lineNumber: 129,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/BilliardsGameV2.tsx\",\n            lineNumber: 128,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-2\",\n                    children: \"8-Ball Pool\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/BilliardsGameV2.tsx\",\n                    lineNumber: 137,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/BilliardsGameV2.tsx\",\n                lineNumber: 136,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative w-full\",\n                style: {\n                    aspectRatio: \"2/1\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                    ref: canvasRef,\n                    className: \"w-full h-full\",\n                    style: {\n                        display: \"block\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/BilliardsGameV2.tsx\",\n                    lineNumber: 140,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/BilliardsGameV2.tsx\",\n                lineNumber: 139,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/BilliardsGameV2.tsx\",\n        lineNumber: 135,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9nYW1lcy9CaWxsaWFyZHNHYW1lVjIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUVvRDtBQWNyQyxTQUFTRyxnQkFBZ0IsRUFDdENDLE1BQU0sRUFDTkMsTUFBTSxFQUNOQyxRQUFRLEVBQ1JDLFlBQVksRUFDWkMsY0FBYyxFQUNkQyxTQUFTLEVBQ1k7SUFDckIsTUFBTUMsWUFBWVQsNkNBQU1BLENBQW9CO0lBQzVDLE1BQU1VLGVBQWVWLDZDQUFNQSxDQUFNO0lBQ2pDLE1BQU1XLFlBQVlYLDZDQUFNQSxDQUFNO0lBQzlCLE1BQU0sQ0FBQ1ksV0FBV0MsYUFBYSxHQUFHWiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNhLE9BQU9DLFNBQVMsR0FBR2QsK0NBQVFBLENBQWdCO0lBRWxERixnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQ1UsVUFBVU8sT0FBTyxJQUFJLGdCQUFrQixhQUFhO1FBRXpELElBQUlDLFlBQWlCO1FBQ3JCLElBQUlDLG1CQUFrQztRQUV0QyxNQUFNQyxPQUFPO1lBQ1gsSUFBSTtnQkFDRk4sYUFBYTtnQkFDYkUsU0FBUztnQkFFVCwwREFBMEQ7Z0JBQzFELE1BQU0sRUFBRUssU0FBUyxFQUFFLEdBQUcsTUFBTSx5VEFBbUM7Z0JBQy9ELE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUcsTUFBTSw2UUFBcUM7Z0JBQzlELE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUcsTUFBTSw4UkFBeUM7Z0JBQ3BFLE1BQU0sRUFBRUMsVUFBVSxFQUFFLEdBQUcsTUFBTSxtT0FBMkM7Z0JBRXhFLGtFQUFrRTtnQkFDbEUsTUFBTUMsU0FBU0gsT0FBT0ksV0FBVyxDQUFDO2dCQUNsQ2QsVUFBVUssT0FBTyxHQUFHUTtnQkFFcEIsMEJBQTBCO2dCQUMxQixNQUFNRSxXQUFXLElBQUlKLFNBQVNiLFVBQVVPLE9BQU87Z0JBRS9DLG1CQUFtQjtnQkFDbkJDLFlBQVksSUFBSUcsVUFDZFgsVUFBVU8sT0FBTyxFQUNqQlcsUUFBUUMsR0FBRyxFQUNYSixRQUNBLGFBQ0FFLFVBQ0FyQjtnQkFFRkssYUFBYU0sT0FBTyxHQUFHQztnQkFFdkIsMEJBQTBCO2dCQUMxQkEsVUFBVVksY0FBYyxHQUFHO2dCQUUzQiwrQkFBK0I7Z0JBQy9CWixVQUFVYSxTQUFTLEdBQUcsQ0FBQ0M7b0JBQ3JCLElBQUkzQixVQUFVQSxPQUFPNEIsU0FBUyxFQUFFO3dCQUM5QixtQ0FBbUM7d0JBQ25DLE1BQU1DLFlBQVk7NEJBQ2hCQyxNQUFNSCxNQUFNRyxJQUFJOzRCQUNoQixHQUFHSCxLQUFLO3dCQUNWO3dCQUNBM0IsT0FBTytCLElBQUksQ0FBQyxtQkFBbUI7NEJBQzdCaEM7NEJBQ0E0QixPQUFPRTt3QkFDVDtvQkFDRjtnQkFDRjtnQkFFQSwyQkFBMkI7Z0JBQzNCLE1BQU1HLG9CQUFvQixDQUFDQztvQkFDekIsSUFBSUEsS0FBS2xDLE1BQU0sS0FBS0EsVUFBVWMsV0FBVzt3QkFDdkNBLFVBQVVxQixVQUFVLENBQUNDLElBQUksQ0FBQ0YsS0FBS04sS0FBSztvQkFDdEM7Z0JBQ0Y7Z0JBRUEzQixPQUFPb0MsRUFBRSxDQUFDLG1CQUFtQko7Z0JBRTdCLGlCQUFpQjtnQkFDakJuQixVQUFVcUIsVUFBVSxDQUFDQyxJQUFJLENBQUMsSUFBSWhCO2dCQUM5Qk4sVUFBVXdCLE9BQU8sQ0FBQ0MsWUFBWUMsR0FBRztnQkFFakM5QixhQUFhO1lBQ2YsRUFBRSxPQUFPK0IsS0FBVTtnQkFDakJqQixRQUFRYixLQUFLLENBQUMsbUNBQW1DOEI7Z0JBQ2pEN0IsU0FBUzZCLElBQUlDLE9BQU8sSUFBSTtnQkFDeEJoQyxhQUFhO1lBQ2Y7UUFDRjtRQUVBTTtRQUVBLE9BQU87WUFDTGYsT0FBTzBDLEdBQUcsQ0FBQztZQUNYLElBQUk3QixhQUFhQSxVQUFVOEIsS0FBSyxFQUFFO2dCQUNoQyx5QkFBeUI7Z0JBQ3pCQyxxQkFBcUI5QjtnQkFDckJELFVBQVU4QixLQUFLLEdBQUc7WUFDcEI7WUFDQTlCLFlBQVk7UUFDZDtJQUNGLEdBQUc7UUFBQ2Q7UUFBUUM7UUFBUUM7S0FBUztJQUU3QixJQUFJUyxPQUFPO1FBQ1QscUJBQ0UsOERBQUNtQztZQUFJQyxXQUFVO3NCQUNiLDRFQUFDQztnQkFBRUQsV0FBVTs7b0JBQWU7b0JBQVFwQzs7Ozs7Ozs7Ozs7O0lBRzFDO0lBRUEsSUFBSUYsV0FBVztRQUNiLHFCQUNFLDhEQUFDcUM7WUFBSUMsV0FBVTtzQkFDYiw0RUFBQ0M7Z0JBQUVELFdBQVU7MEJBQWdCOzs7Ozs7Ozs7OztJQUduQztJQUVBLHFCQUNFLDhEQUFDRDtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNFO29CQUFHRixXQUFVOzhCQUFxQzs7Ozs7Ozs7Ozs7MEJBRXJELDhEQUFDRDtnQkFBSUMsV0FBVTtnQkFBa0JHLE9BQU87b0JBQUVDLGFBQWE7Z0JBQU07MEJBQzNELDRFQUFDQztvQkFDQ0MsS0FBSy9DO29CQUNMeUMsV0FBVTtvQkFDVkcsT0FBTzt3QkFBRUksU0FBUztvQkFBUTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab21lZ2xlLWdhbWUvd2ViLy4vc3JjL2NvbXBvbmVudHMvZ2FtZXMvQmlsbGlhcmRzR2FtZVYyLnRzeD9kYjgxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNvY2tldCB9IGZyb20gXCJzb2NrZXQuaW8tY2xpZW50XCI7XG5pbXBvcnQgZHluYW1pYyBmcm9tIFwibmV4dC9keW5hbWljXCI7XG5pbXBvcnQgeyBCZWdpbkV2ZW50IH0gZnJvbSBcIkAvbGliL2JpbGxpYXJkcy9ldmVudHMvYmVnaW5ldmVudFwiO1xuXG5pbnRlcmZhY2UgQmlsbGlhcmRzR2FtZVYyUHJvcHMge1xuICBnYW1lSWQ6IHN0cmluZztcbiAgc29ja2V0OiBTb2NrZXQ7XG4gIG9kVXNlcklkOiBzdHJpbmc7XG4gIGluaXRpYWxTdGF0ZT86IGFueTtcbiAgaW5pdGlhbFBsYXllcnM/OiBBcnJheTx7IG9kVXNlcklkOiBzdHJpbmc7IHNpZGU6IHN0cmluZzsgZGlzcGxheU5hbWU6IHN0cmluZyB9PjtcbiAgb25HYW1lRW5kPzogKHJlc3VsdDogYW55KSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCaWxsaWFyZHNHYW1lVjIoe1xuICBnYW1lSWQsXG4gIHNvY2tldCxcbiAgb2RVc2VySWQsXG4gIGluaXRpYWxTdGF0ZSxcbiAgaW5pdGlhbFBsYXllcnMsXG4gIG9uR2FtZUVuZFxufTogQmlsbGlhcmRzR2FtZVYyUHJvcHMpIHtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPGFueT4obnVsbCk7XG4gIGNvbnN0IGFzc2V0c1JlZiA9IHVzZVJlZjxhbnk+KG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNhbnZhc1JlZi5jdXJyZW50IHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcblxuICAgIGxldCBjb250YWluZXI6IGFueSA9IG51bGw7XG4gICAgbGV0IGFuaW1hdGlvbkZyYW1lSWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gICAgY29uc3QgaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgICAgLy8gRHluYW1pY2FsbHkgaW1wb3J0IGJpbGxpYXJkcyBtb2R1bGVzIChjbGllbnQtc2lkZSBvbmx5KVxuICAgICAgICBjb25zdCB7IENvbnRhaW5lciB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYmlsbGlhcmRzL2NvbnRhaW5lclwiKTtcbiAgICAgICAgY29uc3QgeyBBc3NldHMgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2JpbGxpYXJkcy92aWV3L2Fzc2V0c1wiKTtcbiAgICAgICAgY29uc3QgeyBLZXlib2FyZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYmlsbGlhcmRzL2V2ZW50cy9rZXlib2FyZFwiKTtcbiAgICAgICAgY29uc3QgeyBCZWdpbkV2ZW50IH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9iaWxsaWFyZHMvZXZlbnRzL2JlZ2luZXZlbnRcIik7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFzc2V0cyBsb2FkZXIgd2l0aCBsb2NhbCBhc3NldHMgKG5vIEdMVEYgbG9hZGluZyBuZWVkZWQpXG4gICAgICAgIGNvbnN0IGFzc2V0cyA9IEFzc2V0cy5sb2NhbEFzc2V0cyhcImVpZ2h0YmFsbFwiKTtcbiAgICAgICAgYXNzZXRzUmVmLmN1cnJlbnQgPSBhc3NldHM7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGtleWJvYXJkIGhhbmRsZXJcbiAgICAgICAgY29uc3Qga2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmQoY2FudmFzUmVmLmN1cnJlbnQhKTtcblxuICAgICAgICAvLyBDcmVhdGUgY29udGFpbmVyXG4gICAgICAgIGNvbnRhaW5lciA9IG5ldyBDb250YWluZXIoXG4gICAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQhLFxuICAgICAgICAgIGNvbnNvbGUubG9nLFxuICAgICAgICAgIGFzc2V0cyxcbiAgICAgICAgICBcImVpZ2h0YmFsbFwiLFxuICAgICAgICAgIGtleWJvYXJkLFxuICAgICAgICAgIG9kVXNlcklkXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50ID0gY29udGFpbmVyO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IHRvIG11bHRpcGxheWVyIG1vZGVcbiAgICAgICAgY29udGFpbmVyLmlzU2luZ2xlUGxheWVyID0gZmFsc2U7XG5cbiAgICAgICAgLy8gU2V0IHVwIFdlYlNvY2tldCBpbnRlZ3JhdGlvblxuICAgICAgICBjb250YWluZXIuYnJvYWRjYXN0ID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgICBpZiAoc29ja2V0ICYmIHNvY2tldC5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIC8vIFNlcmlhbGl6ZSBldmVudCBmb3IgdHJhbnNtaXNzaW9uXG4gICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XG4gICAgICAgICAgICAgIHR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgICAgICAgIC4uLmV2ZW50XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc29ja2V0LmVtaXQoXCJiaWxsaWFyZHMuZXZlbnRcIiwge1xuICAgICAgICAgICAgICBnYW1lSWQsXG4gICAgICAgICAgICAgIGV2ZW50OiBldmVudERhdGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBMaXN0ZW4gZm9yIHJlbW90ZSBldmVudHNcbiAgICAgICAgY29uc3QgaGFuZGxlUmVtb3RlRXZlbnQgPSAoZGF0YTogeyBnYW1lSWQ6IHN0cmluZzsgZXZlbnQ6IGFueSB9KSA9PiB7XG4gICAgICAgICAgaWYgKGRhdGEuZ2FtZUlkID09PSBnYW1lSWQgJiYgY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIuZXZlbnRRdWV1ZS5wdXNoKGRhdGEuZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzb2NrZXQub24oXCJiaWxsaWFyZHMuZXZlbnRcIiwgaGFuZGxlUmVtb3RlRXZlbnQpO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBnYW1lXG4gICAgICAgIGNvbnRhaW5lci5ldmVudFF1ZXVlLnB1c2gobmV3IEJlZ2luRXZlbnQoKSk7XG4gICAgICAgIGNvbnRhaW5lci5hbmltYXRlKHBlcmZvcm1hbmNlLm5vdygpKTtcblxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIGJpbGxpYXJkczpcIiwgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBnYW1lXCIpO1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpbml0KCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc29ja2V0Lm9mZihcImJpbGxpYXJkcy5ldmVudFwiKTtcbiAgICAgIGlmIChjb250YWluZXIgJiYgY29udGFpbmVyLmZyYW1lKSB7XG4gICAgICAgIC8vIENhbmNlbCBhbmltYXRpb24gZnJhbWVcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVJZCEpO1xuICAgICAgICBjb250YWluZXIuZnJhbWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgY29udGFpbmVyID0gbnVsbDtcbiAgICB9O1xuICB9LCBbZ2FtZUlkLCBzb2NrZXQsIG9kVXNlcklkXSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtNlwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC00MDBcIj5FcnJvcjoge2Vycm9yfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtNlwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+TG9hZGluZyBiaWxsaWFyZHMgZ2FtZS4uLjwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtNlwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi0yXCI+OC1CYWxsIFBvb2w8L2gyPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbFwiIHN0eWxlPXt7IGFzcGVjdFJhdGlvOiAnMi8xJyB9fT5cbiAgICAgICAgPGNhbnZhc1xuICAgICAgICAgIHJlZj17Y2FudmFzUmVmfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGxcIlxuICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJCaWxsaWFyZHNHYW1lVjIiLCJnYW1lSWQiLCJzb2NrZXQiLCJvZFVzZXJJZCIsImluaXRpYWxTdGF0ZSIsImluaXRpYWxQbGF5ZXJzIiwib25HYW1lRW5kIiwiY2FudmFzUmVmIiwiY29udGFpbmVyUmVmIiwiYXNzZXRzUmVmIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImN1cnJlbnQiLCJjb250YWluZXIiLCJhbmltYXRpb25GcmFtZUlkIiwiaW5pdCIsIkNvbnRhaW5lciIsIkFzc2V0cyIsIktleWJvYXJkIiwiQmVnaW5FdmVudCIsImFzc2V0cyIsImxvY2FsQXNzZXRzIiwia2V5Ym9hcmQiLCJjb25zb2xlIiwibG9nIiwiaXNTaW5nbGVQbGF5ZXIiLCJicm9hZGNhc3QiLCJldmVudCIsImNvbm5lY3RlZCIsImV2ZW50RGF0YSIsInR5cGUiLCJlbWl0IiwiaGFuZGxlUmVtb3RlRXZlbnQiLCJkYXRhIiwiZXZlbnRRdWV1ZSIsInB1c2giLCJvbiIsImFuaW1hdGUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImVyciIsIm1lc3NhZ2UiLCJvZmYiLCJmcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsImgyIiwic3R5bGUiLCJhc3BlY3RSYXRpbyIsImNhbnZhcyIsInJlZiIsImRpc3BsYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/games/BilliardsGameV2.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/games/ChessGame.tsx":
/*!********************************************!*\
  !*** ./src/components/games/ChessGame.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChessGame)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n// Unicode chess pieces\nconst PIECE_UNICODE = {\n    white: {\n        K: \"♔\",\n        Q: \"♕\",\n        R: \"♖\",\n        B: \"♗\",\n        N: \"♘\",\n        P: \"♙\"\n    },\n    black: {\n        K: \"♚\",\n        Q: \"♛\",\n        R: \"♜\",\n        B: \"♝\",\n        N: \"♞\",\n        P: \"♟\"\n    }\n};\nconst FILES = [\n    \"a\",\n    \"b\",\n    \"c\",\n    \"d\",\n    \"e\",\n    \"f\",\n    \"g\",\n    \"h\"\n];\nfunction ChessGame({ gameState, odUserId, onMove, onForfeit }) {\n    const [selectedSquare, setSelectedSquare] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [validMoves, setValidMoves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showPromotionDialog, setShowPromotionDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [pendingPromotion, setPendingPromotion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showForfeitConfirm, setShowForfeitConfirm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Determine player color and turn\n    const myColor = gameState.playerWhite === odUserId ? \"white\" : \"black\";\n    const isMyTurn = gameState.currentTurn === myColor && !gameState.gameOver;\n    const shouldFlipBoard = myColor === \"black\";\n    // Get last move for highlighting\n    const lastMove = gameState.moveHistory.length > 0 ? gameState.moveHistory[gameState.moveHistory.length - 1] : null;\n    // Calculate captured pieces\n    const capturedPieces = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const captured = {\n            white: [],\n            black: []\n        };\n        for (const move of gameState.moveHistory){\n            if (move.capturedPiece) {\n                if (move.capturedPiece.color === \"white\") {\n                    captured.white.push(move.capturedPiece);\n                } else {\n                    captured.black.push(move.capturedPiece);\n                }\n            }\n        }\n        return captured;\n    }, [\n        gameState.moveHistory\n    ]);\n    // Simple valid move calculation (frontend validation)\n    const calculateValidMoves = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((pos)=>{\n        const piece = gameState.board[pos.row][pos.col];\n        if (!piece || piece.color !== myColor) return [];\n        const moves = [];\n        const directions = {\n            rook: [\n                [\n                    -1,\n                    0\n                ],\n                [\n                    1,\n                    0\n                ],\n                [\n                    0,\n                    -1\n                ],\n                [\n                    0,\n                    1\n                ]\n            ],\n            bishop: [\n                [\n                    -1,\n                    -1\n                ],\n                [\n                    -1,\n                    1\n                ],\n                [\n                    1,\n                    -1\n                ],\n                [\n                    1,\n                    1\n                ]\n            ],\n            knight: [\n                [\n                    -2,\n                    -1\n                ],\n                [\n                    -2,\n                    1\n                ],\n                [\n                    -1,\n                    -2\n                ],\n                [\n                    -1,\n                    2\n                ],\n                [\n                    1,\n                    -2\n                ],\n                [\n                    1,\n                    2\n                ],\n                [\n                    2,\n                    -1\n                ],\n                [\n                    2,\n                    1\n                ]\n            ],\n            king: [\n                [\n                    -1,\n                    -1\n                ],\n                [\n                    -1,\n                    0\n                ],\n                [\n                    -1,\n                    1\n                ],\n                [\n                    0,\n                    -1\n                ],\n                [\n                    0,\n                    1\n                ],\n                [\n                    1,\n                    -1\n                ],\n                [\n                    1,\n                    0\n                ],\n                [\n                    1,\n                    1\n                ]\n            ]\n        };\n        const addSlidingMoves = (dirs)=>{\n            for (const [dr, dc] of dirs){\n                let r = pos.row + dr;\n                let c = pos.col + dc;\n                while(r >= 0 && r < 8 && c >= 0 && c < 8){\n                    const target = gameState.board[r][c];\n                    if (!target) {\n                        moves.push({\n                            row: r,\n                            col: c\n                        });\n                    } else {\n                        if (target.color !== piece.color) {\n                            moves.push({\n                                row: r,\n                                col: c\n                            });\n                        }\n                        break;\n                    }\n                    r += dr;\n                    c += dc;\n                }\n            }\n        };\n        const addSingleMoves = (dirs)=>{\n            for (const [dr, dc] of dirs){\n                const r = pos.row + dr;\n                const c = pos.col + dc;\n                if (r >= 0 && r < 8 && c >= 0 && c < 8) {\n                    const target = gameState.board[r][c];\n                    if (!target || target.color !== piece.color) {\n                        moves.push({\n                            row: r,\n                            col: c\n                        });\n                    }\n                }\n            }\n        };\n        switch(piece.type){\n            case \"P\":\n                {\n                    const direction = piece.color === \"white\" ? -1 : 1;\n                    const startRow = piece.color === \"white\" ? 6 : 1;\n                    // Forward\n                    const oneForward = {\n                        row: pos.row + direction,\n                        col: pos.col\n                    };\n                    if (oneForward.row >= 0 && oneForward.row < 8 && !gameState.board[oneForward.row][oneForward.col]) {\n                        moves.push(oneForward);\n                        // Two forward from start\n                        if (pos.row === startRow) {\n                            const twoForward = {\n                                row: pos.row + 2 * direction,\n                                col: pos.col\n                            };\n                            if (!gameState.board[twoForward.row][twoForward.col]) {\n                                moves.push(twoForward);\n                            }\n                        }\n                    }\n                    // Captures\n                    for (const dc of [\n                        -1,\n                        1\n                    ]){\n                        const r = pos.row + direction;\n                        const c = pos.col + dc;\n                        if (r >= 0 && r < 8 && c >= 0 && c < 8) {\n                            const target = gameState.board[r][c];\n                            if (target && target.color !== piece.color) {\n                                moves.push({\n                                    row: r,\n                                    col: c\n                                });\n                            }\n                        }\n                    }\n                    break;\n                }\n            case \"N\":\n                addSingleMoves(directions.knight);\n                break;\n            case \"B\":\n                addSlidingMoves(directions.bishop);\n                break;\n            case \"R\":\n                addSlidingMoves(directions.rook);\n                break;\n            case \"Q\":\n                addSlidingMoves([\n                    ...directions.rook,\n                    ...directions.bishop\n                ]);\n                break;\n            case \"K\":\n                addSingleMoves(directions.king);\n                // Castling (simplified check)\n                if (!piece.hasMoved) {\n                    // Kingside\n                    if (!gameState.board[pos.row][5] && !gameState.board[pos.row][6]) {\n                        const rook = gameState.board[pos.row][7];\n                        if (rook && rook.type === \"R\" && !rook.hasMoved) {\n                            moves.push({\n                                row: pos.row,\n                                col: 6\n                            });\n                        }\n                    }\n                    // Queenside\n                    if (!gameState.board[pos.row][1] && !gameState.board[pos.row][2] && !gameState.board[pos.row][3]) {\n                        const rook = gameState.board[pos.row][0];\n                        if (rook && rook.type === \"R\" && !rook.hasMoved) {\n                            moves.push({\n                                row: pos.row,\n                                col: 2\n                            });\n                        }\n                    }\n                }\n                break;\n        }\n        return moves;\n    }, [\n        gameState.board,\n        myColor\n    ]);\n    // Handle square click\n    const handleSquareClick = (row, col)=>{\n        if (gameState.gameOver) return;\n        if (!isMyTurn) return;\n        const clickedPiece = gameState.board[row][col];\n        if (selectedSquare) {\n            // Check if clicking on a valid move destination\n            const isValidMove = validMoves.some((m)=>m.row === row && m.col === col);\n            if (isValidMove) {\n                const piece = gameState.board[selectedSquare.row][selectedSquare.col];\n                // Check for pawn promotion\n                if (piece?.type === \"P\" && (myColor === \"white\" && row === 0 || myColor === \"black\" && row === 7)) {\n                    setPendingPromotion({\n                        from: selectedSquare,\n                        to: {\n                            row,\n                            col\n                        }\n                    });\n                    setShowPromotionDialog(true);\n                } else {\n                    onMove(selectedSquare, {\n                        row,\n                        col\n                    });\n                }\n                setSelectedSquare(null);\n                setValidMoves([]);\n            } else if (clickedPiece && clickedPiece.color === myColor) {\n                // Select a different piece\n                setSelectedSquare({\n                    row,\n                    col\n                });\n                setValidMoves(calculateValidMoves({\n                    row,\n                    col\n                }));\n            } else {\n                // Deselect\n                setSelectedSquare(null);\n                setValidMoves([]);\n            }\n        } else {\n            // Select a piece\n            if (clickedPiece && clickedPiece.color === myColor) {\n                setSelectedSquare({\n                    row,\n                    col\n                });\n                setValidMoves(calculateValidMoves({\n                    row,\n                    col\n                }));\n            }\n        }\n    };\n    // Handle promotion selection\n    const handlePromotion = (pieceType)=>{\n        if (pendingPromotion) {\n            onMove(pendingPromotion.from, pendingPromotion.to, pieceType);\n        }\n        setShowPromotionDialog(false);\n        setPendingPromotion(null);\n        setSelectedSquare(null);\n        setValidMoves([]);\n    };\n    // Format move history\n    const formatMoveHistory = ()=>{\n        const moves = [];\n        for(let i = 0; i < gameState.moveHistory.length; i += 2){\n            const moveNum = Math.floor(i / 2) + 1;\n            const whiteMove = gameState.moveHistory[i]?.notation || \"\";\n            const blackMove = gameState.moveHistory[i + 1]?.notation || \"\";\n            moves.push(`${moveNum}. ${whiteMove} ${blackMove}`);\n        }\n        return moves.join(\"  \");\n    };\n    // Render a square\n    const renderSquare = (displayRow, displayCol)=>{\n        // Convert display coordinates to actual board coordinates\n        // When flipped (black player), row 0-7 maps to actual row 7-0, and col 0-7 maps to actual col 7-0\n        const actualRow = shouldFlipBoard ? 7 - displayRow : displayRow;\n        const actualCol = shouldFlipBoard ? 7 - displayCol : displayCol;\n        const piece = gameState.board[actualRow][actualCol];\n        const isLight = (displayRow + displayCol) % 2 === 0;\n        const isSelected = selectedSquare?.row === actualRow && selectedSquare?.col === actualCol;\n        const isValidMove = validMoves.some((m)=>m.row === actualRow && m.col === actualCol);\n        const isLastMoveFrom = lastMove?.from.row === actualRow && lastMove?.from.col === actualCol;\n        const isLastMoveTo = lastMove?.to.row === actualRow && lastMove?.to.col === actualCol;\n        const isKingInCheck = gameState.isCheck && piece?.type === \"K\" && piece?.color === gameState.currentTurn;\n        let bgColor = isLight ? \"bg-amber-100\" : \"bg-amber-700\";\n        if (isSelected) bgColor = \"bg-yellow-400\";\n        else if (isLastMoveFrom || isLastMoveTo) bgColor = isLight ? \"bg-yellow-200\" : \"bg-yellow-600\";\n        else if (isKingInCheck) bgColor = \"bg-red-500\";\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `relative w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 flex items-center justify-center cursor-pointer ${bgColor} transition-colors`,\n            onClick: ()=>handleSquareClick(actualRow, actualCol),\n            children: [\n                piece && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: `text-2xl sm:text-3xl md:text-4xl select-none ${piece.color === \"white\" ? \"text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)]\" : \"text-gray-900\"}`,\n                    children: PIECE_UNICODE[piece.color][piece.type]\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 298,\n                    columnNumber: 11\n                }, this),\n                isValidMove && !piece && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute w-3 h-3 rounded-full bg-green-500 opacity-60\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 309,\n                    columnNumber: 11\n                }, this),\n                isValidMove && piece && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute inset-0 border-4 border-red-500 opacity-60 rounded-sm\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 312,\n                    columnNumber: 11\n                }, this),\n                displayCol === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"absolute left-0.5 top-0.5 text-[10px] font-bold text-gray-600\",\n                    children: 8 - displayRow\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 317,\n                    columnNumber: 11\n                }, this),\n                displayRow === 7 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"absolute right-0.5 bottom-0 text-[10px] font-bold text-gray-600\",\n                    children: FILES[displayCol]\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 322,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, `${displayRow}-${displayCol}`, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n            lineNumber: 291,\n            columnNumber: 7\n        }, this);\n    };\n    // Render captured pieces\n    const renderCapturedPieces = (pieces)=>{\n        return pieces.map((p, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-lg\",\n                children: PIECE_UNICODE[p.color][p.type]\n            }, i, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 333,\n                columnNumber: 7\n            }, this));\n    };\n    // Get game status text\n    const getStatusText = ()=>{\n        if (gameState.isCheckmate) {\n            const winner = gameState.winner === odUserId ? \"You win\" : \"You lose\";\n            return `Checkmate! ${winner}`;\n        }\n        if (gameState.isStalemate) return \"Stalemate - Draw!\";\n        if (gameState.isDraw) return `Draw - ${gameState.drawReason}`;\n        if (gameState.gameOver) {\n            if (gameState.winner === odUserId) return \"You win!\";\n            return \"You lose!\";\n        }\n        if (gameState.isCheck) return `${gameState.currentTurn === myColor ? \"You are\" : \"Opponent is\"} in check!`;\n        return isMyTurn ? \"Your turn\" : \"Opponent's turn\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col items-center gap-4 p-4 bg-gray-900 rounded-lg border border-white/20\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between w-full max-w-md\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-white\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"font-bold\",\n                                children: \"Chess\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 360,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-2 text-sm text-gray-400\",\n                                children: [\n                                    \"Playing as \",\n                                    myColor\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 361,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 359,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `px-3 py-1 rounded text-sm font-medium ${gameState.gameOver ? \"bg-gray-600 text-white\" : isMyTurn ? \"bg-green-600 text-white\" : \"bg-yellow-600 text-black\"}`,\n                        children: getStatusText()\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 365,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 358,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between w-full max-w-md bg-gray-800 px-3 py-2 rounded\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `w-3 h-3 rounded-full ${myColor === \"white\" ? \"bg-gray-900\" : \"bg-white\"}`\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 379,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-white text-sm\",\n                                children: \"Opponent\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 380,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 378,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-1\",\n                        children: renderCapturedPieces(capturedPieces[myColor])\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 382,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 377,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-4 border-amber-900 rounded shadow-2xl\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-8\",\n                    children: Array(8).fill(null).map((_, row)=>Array(8).fill(null).map((_, col)=>renderSquare(row, col)))\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 389,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 388,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between w-full max-w-md bg-gray-800 px-3 py-2 rounded\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `w-3 h-3 rounded-full ${myColor === \"white\" ? \"bg-white\" : \"bg-gray-900\"}`\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 399,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-white text-sm\",\n                                children: \"You\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 400,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 398,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-1\",\n                        children: renderCapturedPieces(capturedPieces[myColor === \"white\" ? \"black\" : \"white\"])\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 402,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 397,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full max-w-md bg-gray-800 p-2 rounded max-h-20 overflow-y-auto\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-xs text-gray-400 font-mono\",\n                    children: formatMoveHistory() || \"Game started\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 409,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 408,\n                columnNumber: 7\n            }, this),\n            !gameState.gameOver && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex gap-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>setShowForfeitConfirm(true),\n                    className: \"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm\",\n                    children: \"Resign\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 417,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 416,\n                columnNumber: 9\n            }, this),\n            showPromotionDialog && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/70 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gray-800 p-6 rounded-lg border border-white/30\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-white text-lg font-bold mb-4\",\n                            children: \"Choose promotion piece\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                            lineNumber: 430,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4\",\n                            children: [\n                                \"Q\",\n                                \"R\",\n                                \"B\",\n                                \"N\"\n                            ].map((type)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handlePromotion(type),\n                                    className: \"w-16 h-16 bg-amber-100 rounded flex items-center justify-center text-4xl hover:bg-amber-200 transition-colors\",\n                                    children: PIECE_UNICODE[myColor][type]\n                                }, type, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                    lineNumber: 433,\n                                    columnNumber: 17\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                            lineNumber: 431,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 429,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 428,\n                columnNumber: 9\n            }, this),\n            showForfeitConfirm && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/70 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gray-800 p-6 rounded-lg border border-white/30\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-white text-lg font-bold mb-4\",\n                            children: \"Resign game?\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                            lineNumber: 450,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-400 mb-4\",\n                            children: \"This will count as a loss.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                            lineNumber: 451,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        onForfeit();\n                                        setShowForfeitConfirm(false);\n                                    },\n                                    className: \"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\",\n                                    children: \"Resign\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                    lineNumber: 453,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowForfeitConfirm(false),\n                                    className: \"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\",\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                    lineNumber: 462,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                            lineNumber: 452,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 449,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 448,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n        lineNumber: 356,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TixXQUFVOzhCQUNWdEIsdUJBQXVCOzs7Ozs7Ozs7OztZQUszQixDQUFDaEUsVUFBVWtCLFFBQVEsa0JBQ2xCLDhEQUFDbUU7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNnQjtvQkFDQ2YsU0FBUyxJQUFNMUUsc0JBQXNCO29CQUNyQ3lFLFdBQVU7OEJBQ1g7Ozs7Ozs7Ozs7O1lBT0o5RSxxQ0FDQyw4REFBQzZFO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNpQjs0QkFBR2pCLFdBQVU7c0NBQW9DOzs7Ozs7c0NBQ2xELDhEQUFDRDs0QkFBSUMsV0FBVTtzQ0FDWjtnQ0FBRTtnQ0FBSztnQ0FBSztnQ0FBSzs2QkFBSSxDQUFpQkssR0FBRyxDQUFDMUMsQ0FBQUEscUJBQ3pDLDhEQUFDcUQ7b0NBRUNmLFNBQVMsSUFBTXpCLGdCQUFnQmI7b0NBQy9CcUMsV0FBVTs4Q0FFVGpHLGFBQWEsQ0FBQ3lCLFFBQVEsQ0FBQ21DLEtBQUs7bUNBSnhCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBYWhCckMsb0NBQ0MsOERBQUN5RTtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDaUI7NEJBQUdqQixXQUFVO3NDQUFvQzs7Ozs7O3NDQUNsRCw4REFBQ007NEJBQUVOLFdBQVU7c0NBQXFCOzs7Ozs7c0NBQ2xDLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNnQjtvQ0FDQ2YsU0FBUzt3Q0FDUHBGO3dDQUNBVSxzQkFBc0I7b0NBQ3hCO29DQUNBeUUsV0FBVTs4Q0FDWDs7Ozs7OzhDQUdELDhEQUFDZ0I7b0NBQ0NmLFNBQVMsSUFBTTFFLHNCQUFzQjtvQ0FDckN5RSxXQUFVOzhDQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9tZWdsZS1nYW1lL3dlYi8uL3NyYy9jb21wb25lbnRzL2dhbWVzL0NoZXNzR2FtZS50c3g/N2QxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIFR5cGVzIG1hdGNoaW5nIHRoZSBiYWNrZW5kXG50eXBlIFBpZWNlVHlwZSA9ICdLJyB8ICdRJyB8ICdSJyB8ICdCJyB8ICdOJyB8ICdQJztcbnR5cGUgUGllY2VDb2xvciA9ICd3aGl0ZScgfCAnYmxhY2snO1xuXG5pbnRlcmZhY2UgUGllY2Uge1xuICB0eXBlOiBQaWVjZVR5cGU7XG4gIGNvbG9yOiBQaWVjZUNvbG9yO1xuICBoYXNNb3ZlZDogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFBvc2l0aW9uIHtcbiAgcm93OiBudW1iZXI7XG4gIGNvbDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQ2hlc3NNb3ZlIHtcbiAgZnJvbTogUG9zaXRpb247XG4gIHRvOiBQb3NpdGlvbjtcbiAgcGllY2U6IFBpZWNlO1xuICBjYXB0dXJlZFBpZWNlPzogUGllY2U7XG4gIGlzQ2hlY2s/OiBib29sZWFuO1xuICBpc0NoZWNrbWF0ZT86IGJvb2xlYW47XG4gIGlzQ2FzdGxpbmc/OiAna2luZ3NpZGUnIHwgJ3F1ZWVuc2lkZSc7XG4gIGlzRW5QYXNzYW50PzogYm9vbGVhbjtcbiAgcHJvbW90aW9uUGllY2U/OiBQaWVjZVR5cGU7XG4gIG5vdGF0aW9uOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBDaGVzc1N0YXRlIHtcbiAgYm9hcmQ6IChQaWVjZSB8IG51bGwpW11bXTtcbiAgY3VycmVudFR1cm46IFBpZWNlQ29sb3I7XG4gIHBsYXllcldoaXRlOiBzdHJpbmc7XG4gIHBsYXllckJsYWNrOiBzdHJpbmc7XG4gIG1vdmVIaXN0b3J5OiBDaGVzc01vdmVbXTtcbiAgaXNDaGVjazogYm9vbGVhbjtcbiAgaXNDaGVja21hdGU6IGJvb2xlYW47XG4gIGlzU3RhbGVtYXRlOiBib29sZWFuO1xuICBpc0RyYXc6IGJvb2xlYW47XG4gIGRyYXdSZWFzb24/OiBzdHJpbmc7XG4gIHdpbm5lcj86IHN0cmluZyB8IG51bGw7XG4gIGdhbWVPdmVyOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgQ2hlc3NHYW1lUHJvcHMge1xuICBnYW1lU3RhdGU6IENoZXNzU3RhdGU7XG4gIG9kVXNlcklkOiBzdHJpbmc7XG4gIG9uTW92ZTogKGZyb206IFBvc2l0aW9uLCB0bzogUG9zaXRpb24sIHByb21vdGlvblBpZWNlPzogUGllY2VUeXBlKSA9PiB2b2lkO1xuICBvbkZvcmZlaXQ6ICgpID0+IHZvaWQ7XG59XG5cbi8vIFVuaWNvZGUgY2hlc3MgcGllY2VzXG5jb25zdCBQSUVDRV9VTklDT0RFOiBSZWNvcmQ8UGllY2VDb2xvciwgUmVjb3JkPFBpZWNlVHlwZSwgc3RyaW5nPj4gPSB7XG4gIHdoaXRlOiB7IEs6ICfimZQnLCBROiAn4pmVJywgUjogJ+KZlicsIEI6ICfimZcnLCBOOiAn4pmYJywgUDogJ+KZmScgfSxcbiAgYmxhY2s6IHsgSzogJ+KZmicsIFE6ICfimZsnLCBSOiAn4pmcJywgQjogJ+KZnScsIE46ICfimZ4nLCBQOiAn4pmfJyB9LFxufTtcblxuY29uc3QgRklMRVMgPSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJywgJ2cnLCAnaCddO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGVzc0dhbWUoeyBnYW1lU3RhdGUsIG9kVXNlcklkLCBvbk1vdmUsIG9uRm9yZmVpdCB9OiBDaGVzc0dhbWVQcm9wcykge1xuICBjb25zdCBbc2VsZWN0ZWRTcXVhcmUsIHNldFNlbGVjdGVkU3F1YXJlXSA9IHVzZVN0YXRlPFBvc2l0aW9uIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt2YWxpZE1vdmVzLCBzZXRWYWxpZE1vdmVzXSA9IHVzZVN0YXRlPFBvc2l0aW9uW10+KFtdKTtcbiAgY29uc3QgW3Nob3dQcm9tb3Rpb25EaWFsb2csIHNldFNob3dQcm9tb3Rpb25EaWFsb2ddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGVuZGluZ1Byb21vdGlvbiwgc2V0UGVuZGluZ1Byb21vdGlvbl0gPSB1c2VTdGF0ZTx7IGZyb206IFBvc2l0aW9uOyB0bzogUG9zaXRpb24gfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd0ZvcmZlaXRDb25maXJtLCBzZXRTaG93Rm9yZmVpdENvbmZpcm1dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIERldGVybWluZSBwbGF5ZXIgY29sb3IgYW5kIHR1cm5cbiAgY29uc3QgbXlDb2xvcjogUGllY2VDb2xvciA9IGdhbWVTdGF0ZS5wbGF5ZXJXaGl0ZSA9PT0gb2RVc2VySWQgPyAnd2hpdGUnIDogJ2JsYWNrJztcbiAgY29uc3QgaXNNeVR1cm4gPSBnYW1lU3RhdGUuY3VycmVudFR1cm4gPT09IG15Q29sb3IgJiYgIWdhbWVTdGF0ZS5nYW1lT3ZlcjtcbiAgY29uc3Qgc2hvdWxkRmxpcEJvYXJkID0gbXlDb2xvciA9PT0gJ2JsYWNrJztcblxuICAvLyBHZXQgbGFzdCBtb3ZlIGZvciBoaWdobGlnaHRpbmdcbiAgY29uc3QgbGFzdE1vdmUgPSBnYW1lU3RhdGUubW92ZUhpc3RvcnkubGVuZ3RoID4gMCBcbiAgICA/IGdhbWVTdGF0ZS5tb3ZlSGlzdG9yeVtnYW1lU3RhdGUubW92ZUhpc3RvcnkubGVuZ3RoIC0gMV0gXG4gICAgOiBudWxsO1xuXG4gIC8vIENhbGN1bGF0ZSBjYXB0dXJlZCBwaWVjZXNcbiAgY29uc3QgY2FwdHVyZWRQaWVjZXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBjYXB0dXJlZDogeyB3aGl0ZTogUGllY2VbXTsgYmxhY2s6IFBpZWNlW10gfSA9IHsgd2hpdGU6IFtdLCBibGFjazogW10gfTtcbiAgICBmb3IgKGNvbnN0IG1vdmUgb2YgZ2FtZVN0YXRlLm1vdmVIaXN0b3J5KSB7XG4gICAgICBpZiAobW92ZS5jYXB0dXJlZFBpZWNlKSB7XG4gICAgICAgIGlmIChtb3ZlLmNhcHR1cmVkUGllY2UuY29sb3IgPT09ICd3aGl0ZScpIHtcbiAgICAgICAgICBjYXB0dXJlZC53aGl0ZS5wdXNoKG1vdmUuY2FwdHVyZWRQaWVjZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FwdHVyZWQuYmxhY2sucHVzaChtb3ZlLmNhcHR1cmVkUGllY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYXB0dXJlZDtcbiAgfSwgW2dhbWVTdGF0ZS5tb3ZlSGlzdG9yeV0pO1xuXG4gIC8vIFNpbXBsZSB2YWxpZCBtb3ZlIGNhbGN1bGF0aW9uIChmcm9udGVuZCB2YWxpZGF0aW9uKVxuICBjb25zdCBjYWxjdWxhdGVWYWxpZE1vdmVzID0gdXNlQ2FsbGJhY2soKHBvczogUG9zaXRpb24pOiBQb3NpdGlvbltdID0+IHtcbiAgICBjb25zdCBwaWVjZSA9IGdhbWVTdGF0ZS5ib2FyZFtwb3Mucm93XVtwb3MuY29sXTtcbiAgICBpZiAoIXBpZWNlIHx8IHBpZWNlLmNvbG9yICE9PSBteUNvbG9yKSByZXR1cm4gW107XG4gICAgXG4gICAgY29uc3QgbW92ZXM6IFBvc2l0aW9uW10gPSBbXTtcbiAgICBjb25zdCBkaXJlY3Rpb25zID0ge1xuICAgICAgcm9vazogW1stMSwgMF0sIFsxLCAwXSwgWzAsIC0xXSwgWzAsIDFdXSxcbiAgICAgIGJpc2hvcDogW1stMSwgLTFdLCBbLTEsIDFdLCBbMSwgLTFdLCBbMSwgMV1dLFxuICAgICAga25pZ2h0OiBbWy0yLCAtMV0sIFstMiwgMV0sIFstMSwgLTJdLCBbLTEsIDJdLCBbMSwgLTJdLCBbMSwgMl0sIFsyLCAtMV0sIFsyLCAxXV0sXG4gICAgICBraW5nOiBbWy0xLCAtMV0sIFstMSwgMF0sIFstMSwgMV0sIFswLCAtMV0sIFswLCAxXSwgWzEsIC0xXSwgWzEsIDBdLCBbMSwgMV1dLFxuICAgIH07XG5cbiAgICBjb25zdCBhZGRTbGlkaW5nTW92ZXMgPSAoZGlyczogbnVtYmVyW11bXSkgPT4ge1xuICAgICAgZm9yIChjb25zdCBbZHIsIGRjXSBvZiBkaXJzKSB7XG4gICAgICAgIGxldCByID0gcG9zLnJvdyArIGRyO1xuICAgICAgICBsZXQgYyA9IHBvcy5jb2wgKyBkYztcbiAgICAgICAgd2hpbGUgKHIgPj0gMCAmJiByIDwgOCAmJiBjID49IDAgJiYgYyA8IDgpIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBnYW1lU3RhdGUuYm9hcmRbcl1bY107XG4gICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIG1vdmVzLnB1c2goeyByb3c6IHIsIGNvbDogYyB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRhcmdldC5jb2xvciAhPT0gcGllY2UuY29sb3IpIHtcbiAgICAgICAgICAgICAgbW92ZXMucHVzaCh7IHJvdzogciwgY29sOiBjIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHIgKz0gZHI7XG4gICAgICAgICAgYyArPSBkYztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhZGRTaW5nbGVNb3ZlcyA9IChkaXJzOiBudW1iZXJbXVtdKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtkciwgZGNdIG9mIGRpcnMpIHtcbiAgICAgICAgY29uc3QgciA9IHBvcy5yb3cgKyBkcjtcbiAgICAgICAgY29uc3QgYyA9IHBvcy5jb2wgKyBkYztcbiAgICAgICAgaWYgKHIgPj0gMCAmJiByIDwgOCAmJiBjID49IDAgJiYgYyA8IDgpIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBnYW1lU3RhdGUuYm9hcmRbcl1bY107XG4gICAgICAgICAgaWYgKCF0YXJnZXQgfHwgdGFyZ2V0LmNvbG9yICE9PSBwaWVjZS5jb2xvcikge1xuICAgICAgICAgICAgbW92ZXMucHVzaCh7IHJvdzogciwgY29sOiBjIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBzd2l0Y2ggKHBpZWNlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ1AnOiB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHBpZWNlLmNvbG9yID09PSAnd2hpdGUnID8gLTEgOiAxO1xuICAgICAgICBjb25zdCBzdGFydFJvdyA9IHBpZWNlLmNvbG9yID09PSAnd2hpdGUnID8gNiA6IDE7XG4gICAgICAgIC8vIEZvcndhcmRcbiAgICAgICAgY29uc3Qgb25lRm9yd2FyZCA9IHsgcm93OiBwb3Mucm93ICsgZGlyZWN0aW9uLCBjb2w6IHBvcy5jb2wgfTtcbiAgICAgICAgaWYgKG9uZUZvcndhcmQucm93ID49IDAgJiYgb25lRm9yd2FyZC5yb3cgPCA4ICYmICFnYW1lU3RhdGUuYm9hcmRbb25lRm9yd2FyZC5yb3ddW29uZUZvcndhcmQuY29sXSkge1xuICAgICAgICAgIG1vdmVzLnB1c2gob25lRm9yd2FyZCk7XG4gICAgICAgICAgLy8gVHdvIGZvcndhcmQgZnJvbSBzdGFydFxuICAgICAgICAgIGlmIChwb3Mucm93ID09PSBzdGFydFJvdykge1xuICAgICAgICAgICAgY29uc3QgdHdvRm9yd2FyZCA9IHsgcm93OiBwb3Mucm93ICsgMiAqIGRpcmVjdGlvbiwgY29sOiBwb3MuY29sIH07XG4gICAgICAgICAgICBpZiAoIWdhbWVTdGF0ZS5ib2FyZFt0d29Gb3J3YXJkLnJvd11bdHdvRm9yd2FyZC5jb2xdKSB7XG4gICAgICAgICAgICAgIG1vdmVzLnB1c2godHdvRm9yd2FyZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENhcHR1cmVzXG4gICAgICAgIGZvciAoY29uc3QgZGMgb2YgWy0xLCAxXSkge1xuICAgICAgICAgIGNvbnN0IHIgPSBwb3Mucm93ICsgZGlyZWN0aW9uO1xuICAgICAgICAgIGNvbnN0IGMgPSBwb3MuY29sICsgZGM7XG4gICAgICAgICAgaWYgKHIgPj0gMCAmJiByIDwgOCAmJiBjID49IDAgJiYgYyA8IDgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGdhbWVTdGF0ZS5ib2FyZFtyXVtjXTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmNvbG9yICE9PSBwaWVjZS5jb2xvcikge1xuICAgICAgICAgICAgICBtb3Zlcy5wdXNoKHsgcm93OiByLCBjb2w6IGMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnTic6XG4gICAgICAgIGFkZFNpbmdsZU1vdmVzKGRpcmVjdGlvbnMua25pZ2h0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdCJzpcbiAgICAgICAgYWRkU2xpZGluZ01vdmVzKGRpcmVjdGlvbnMuYmlzaG9wKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdSJzpcbiAgICAgICAgYWRkU2xpZGluZ01vdmVzKGRpcmVjdGlvbnMucm9vayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnUSc6XG4gICAgICAgIGFkZFNsaWRpbmdNb3ZlcyhbLi4uZGlyZWN0aW9ucy5yb29rLCAuLi5kaXJlY3Rpb25zLmJpc2hvcF0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0snOlxuICAgICAgICBhZGRTaW5nbGVNb3ZlcyhkaXJlY3Rpb25zLmtpbmcpO1xuICAgICAgICAvLyBDYXN0bGluZyAoc2ltcGxpZmllZCBjaGVjaylcbiAgICAgICAgaWYgKCFwaWVjZS5oYXNNb3ZlZCkge1xuICAgICAgICAgIC8vIEtpbmdzaWRlXG4gICAgICAgICAgaWYgKCFnYW1lU3RhdGUuYm9hcmRbcG9zLnJvd11bNV0gJiYgIWdhbWVTdGF0ZS5ib2FyZFtwb3Mucm93XVs2XSkge1xuICAgICAgICAgICAgY29uc3Qgcm9vayA9IGdhbWVTdGF0ZS5ib2FyZFtwb3Mucm93XVs3XTtcbiAgICAgICAgICAgIGlmIChyb29rICYmIHJvb2sudHlwZSA9PT0gJ1InICYmICFyb29rLmhhc01vdmVkKSB7XG4gICAgICAgICAgICAgIG1vdmVzLnB1c2goeyByb3c6IHBvcy5yb3csIGNvbDogNiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUXVlZW5zaWRlXG4gICAgICAgICAgaWYgKCFnYW1lU3RhdGUuYm9hcmRbcG9zLnJvd11bMV0gJiYgIWdhbWVTdGF0ZS5ib2FyZFtwb3Mucm93XVsyXSAmJiAhZ2FtZVN0YXRlLmJvYXJkW3Bvcy5yb3ddWzNdKSB7XG4gICAgICAgICAgICBjb25zdCByb29rID0gZ2FtZVN0YXRlLmJvYXJkW3Bvcy5yb3ddWzBdO1xuICAgICAgICAgICAgaWYgKHJvb2sgJiYgcm9vay50eXBlID09PSAnUicgJiYgIXJvb2suaGFzTW92ZWQpIHtcbiAgICAgICAgICAgICAgbW92ZXMucHVzaCh7IHJvdzogcG9zLnJvdywgY29sOiAyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gbW92ZXM7XG4gIH0sIFtnYW1lU3RhdGUuYm9hcmQsIG15Q29sb3JdKTtcblxuICAvLyBIYW5kbGUgc3F1YXJlIGNsaWNrXG4gIGNvbnN0IGhhbmRsZVNxdWFyZUNsaWNrID0gKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcikgPT4ge1xuICAgIGlmIChnYW1lU3RhdGUuZ2FtZU92ZXIpIHJldHVybjtcbiAgICBpZiAoIWlzTXlUdXJuKSByZXR1cm47XG5cbiAgICBjb25zdCBjbGlja2VkUGllY2UgPSBnYW1lU3RhdGUuYm9hcmRbcm93XVtjb2xdO1xuXG4gICAgaWYgKHNlbGVjdGVkU3F1YXJlKSB7XG4gICAgICAvLyBDaGVjayBpZiBjbGlja2luZyBvbiBhIHZhbGlkIG1vdmUgZGVzdGluYXRpb25cbiAgICAgIGNvbnN0IGlzVmFsaWRNb3ZlID0gdmFsaWRNb3Zlcy5zb21lKG0gPT4gbS5yb3cgPT09IHJvdyAmJiBtLmNvbCA9PT0gY29sKTtcbiAgICAgIFxuICAgICAgaWYgKGlzVmFsaWRNb3ZlKSB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gZ2FtZVN0YXRlLmJvYXJkW3NlbGVjdGVkU3F1YXJlLnJvd11bc2VsZWN0ZWRTcXVhcmUuY29sXTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHBhd24gcHJvbW90aW9uXG4gICAgICAgIGlmIChwaWVjZT8udHlwZSA9PT0gJ1AnICYmICgobXlDb2xvciA9PT0gJ3doaXRlJyAmJiByb3cgPT09IDApIHx8IChteUNvbG9yID09PSAnYmxhY2snICYmIHJvdyA9PT0gNykpKSB7XG4gICAgICAgICAgc2V0UGVuZGluZ1Byb21vdGlvbih7IGZyb206IHNlbGVjdGVkU3F1YXJlLCB0bzogeyByb3csIGNvbCB9IH0pO1xuICAgICAgICAgIHNldFNob3dQcm9tb3Rpb25EaWFsb2codHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25Nb3ZlKHNlbGVjdGVkU3F1YXJlLCB7IHJvdywgY29sIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNldFNlbGVjdGVkU3F1YXJlKG51bGwpO1xuICAgICAgICBzZXRWYWxpZE1vdmVzKFtdKTtcbiAgICAgIH0gZWxzZSBpZiAoY2xpY2tlZFBpZWNlICYmIGNsaWNrZWRQaWVjZS5jb2xvciA9PT0gbXlDb2xvcikge1xuICAgICAgICAvLyBTZWxlY3QgYSBkaWZmZXJlbnQgcGllY2VcbiAgICAgICAgc2V0U2VsZWN0ZWRTcXVhcmUoeyByb3csIGNvbCB9KTtcbiAgICAgICAgc2V0VmFsaWRNb3ZlcyhjYWxjdWxhdGVWYWxpZE1vdmVzKHsgcm93LCBjb2wgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGVzZWxlY3RcbiAgICAgICAgc2V0U2VsZWN0ZWRTcXVhcmUobnVsbCk7XG4gICAgICAgIHNldFZhbGlkTW92ZXMoW10pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTZWxlY3QgYSBwaWVjZVxuICAgICAgaWYgKGNsaWNrZWRQaWVjZSAmJiBjbGlja2VkUGllY2UuY29sb3IgPT09IG15Q29sb3IpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRTcXVhcmUoeyByb3csIGNvbCB9KTtcbiAgICAgICAgc2V0VmFsaWRNb3ZlcyhjYWxjdWxhdGVWYWxpZE1vdmVzKHsgcm93LCBjb2wgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBIYW5kbGUgcHJvbW90aW9uIHNlbGVjdGlvblxuICBjb25zdCBoYW5kbGVQcm9tb3Rpb24gPSAocGllY2VUeXBlOiBQaWVjZVR5cGUpID0+IHtcbiAgICBpZiAocGVuZGluZ1Byb21vdGlvbikge1xuICAgICAgb25Nb3ZlKHBlbmRpbmdQcm9tb3Rpb24uZnJvbSwgcGVuZGluZ1Byb21vdGlvbi50bywgcGllY2VUeXBlKTtcbiAgICB9XG4gICAgc2V0U2hvd1Byb21vdGlvbkRpYWxvZyhmYWxzZSk7XG4gICAgc2V0UGVuZGluZ1Byb21vdGlvbihudWxsKTtcbiAgICBzZXRTZWxlY3RlZFNxdWFyZShudWxsKTtcbiAgICBzZXRWYWxpZE1vdmVzKFtdKTtcbiAgfTtcblxuICAvLyBGb3JtYXQgbW92ZSBoaXN0b3J5XG4gIGNvbnN0IGZvcm1hdE1vdmVIaXN0b3J5ID0gKCkgPT4ge1xuICAgIGNvbnN0IG1vdmVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZVN0YXRlLm1vdmVIaXN0b3J5Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBjb25zdCBtb3ZlTnVtID0gTWF0aC5mbG9vcihpIC8gMikgKyAxO1xuICAgICAgY29uc3Qgd2hpdGVNb3ZlID0gZ2FtZVN0YXRlLm1vdmVIaXN0b3J5W2ldPy5ub3RhdGlvbiB8fCAnJztcbiAgICAgIGNvbnN0IGJsYWNrTW92ZSA9IGdhbWVTdGF0ZS5tb3ZlSGlzdG9yeVtpICsgMV0/Lm5vdGF0aW9uIHx8ICcnO1xuICAgICAgbW92ZXMucHVzaChgJHttb3ZlTnVtfS4gJHt3aGl0ZU1vdmV9ICR7YmxhY2tNb3ZlfWApO1xuICAgIH1cbiAgICByZXR1cm4gbW92ZXMuam9pbignICAnKTtcbiAgfTtcblxuICAvLyBSZW5kZXIgYSBzcXVhcmVcbiAgY29uc3QgcmVuZGVyU3F1YXJlID0gKGRpc3BsYXlSb3c6IG51bWJlciwgZGlzcGxheUNvbDogbnVtYmVyKSA9PiB7XG4gICAgLy8gQ29udmVydCBkaXNwbGF5IGNvb3JkaW5hdGVzIHRvIGFjdHVhbCBib2FyZCBjb29yZGluYXRlc1xuICAgIC8vIFdoZW4gZmxpcHBlZCAoYmxhY2sgcGxheWVyKSwgcm93IDAtNyBtYXBzIHRvIGFjdHVhbCByb3cgNy0wLCBhbmQgY29sIDAtNyBtYXBzIHRvIGFjdHVhbCBjb2wgNy0wXG4gICAgY29uc3QgYWN0dWFsUm93ID0gc2hvdWxkRmxpcEJvYXJkID8gNyAtIGRpc3BsYXlSb3cgOiBkaXNwbGF5Um93O1xuICAgIGNvbnN0IGFjdHVhbENvbCA9IHNob3VsZEZsaXBCb2FyZCA/IDcgLSBkaXNwbGF5Q29sIDogZGlzcGxheUNvbDtcblxuICAgIGNvbnN0IHBpZWNlID0gZ2FtZVN0YXRlLmJvYXJkW2FjdHVhbFJvd11bYWN0dWFsQ29sXTtcbiAgICBjb25zdCBpc0xpZ2h0ID0gKGRpc3BsYXlSb3cgKyBkaXNwbGF5Q29sKSAlIDIgPT09IDA7XG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkU3F1YXJlPy5yb3cgPT09IGFjdHVhbFJvdyAmJiBzZWxlY3RlZFNxdWFyZT8uY29sID09PSBhY3R1YWxDb2w7XG4gICAgY29uc3QgaXNWYWxpZE1vdmUgPSB2YWxpZE1vdmVzLnNvbWUobSA9PiBtLnJvdyA9PT0gYWN0dWFsUm93ICYmIG0uY29sID09PSBhY3R1YWxDb2wpO1xuICAgIGNvbnN0IGlzTGFzdE1vdmVGcm9tID0gbGFzdE1vdmU/LmZyb20ucm93ID09PSBhY3R1YWxSb3cgJiYgbGFzdE1vdmU/LmZyb20uY29sID09PSBhY3R1YWxDb2w7XG4gICAgY29uc3QgaXNMYXN0TW92ZVRvID0gbGFzdE1vdmU/LnRvLnJvdyA9PT0gYWN0dWFsUm93ICYmIGxhc3RNb3ZlPy50by5jb2wgPT09IGFjdHVhbENvbDtcbiAgICBjb25zdCBpc0tpbmdJbkNoZWNrID0gZ2FtZVN0YXRlLmlzQ2hlY2sgJiYgcGllY2U/LnR5cGUgPT09ICdLJyAmJiBwaWVjZT8uY29sb3IgPT09IGdhbWVTdGF0ZS5jdXJyZW50VHVybjtcblxuICAgIGxldCBiZ0NvbG9yID0gaXNMaWdodCA/ICdiZy1hbWJlci0xMDAnIDogJ2JnLWFtYmVyLTcwMCc7XG4gICAgaWYgKGlzU2VsZWN0ZWQpIGJnQ29sb3IgPSAnYmcteWVsbG93LTQwMCc7XG4gICAgZWxzZSBpZiAoaXNMYXN0TW92ZUZyb20gfHwgaXNMYXN0TW92ZVRvKSBiZ0NvbG9yID0gaXNMaWdodCA/ICdiZy15ZWxsb3ctMjAwJyA6ICdiZy15ZWxsb3ctNjAwJztcbiAgICBlbHNlIGlmIChpc0tpbmdJbkNoZWNrKSBiZ0NvbG9yID0gJ2JnLXJlZC01MDAnO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAga2V5PXtgJHtkaXNwbGF5Um93fS0ke2Rpc3BsYXlDb2x9YH1cbiAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgdy0xMCBoLTEwIHNtOnctMTIgc206aC0xMiBtZDp3LTE0IG1kOmgtMTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLXBvaW50ZXIgJHtiZ0NvbG9yfSB0cmFuc2l0aW9uLWNvbG9yc2B9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNxdWFyZUNsaWNrKGFjdHVhbFJvdywgYWN0dWFsQ29sKX1cbiAgICAgID5cbiAgICAgICAgey8qIFBpZWNlICovfVxuICAgICAgICB7cGllY2UgJiYgKFxuICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC0yeGwgc206dGV4dC0zeGwgbWQ6dGV4dC00eGwgc2VsZWN0LW5vbmUgJHtcbiAgICAgICAgICAgICAgcGllY2UuY29sb3IgPT09ICd3aGl0ZScgPyAndGV4dC13aGl0ZSBkcm9wLXNoYWRvdy1bMF8xcHhfMnB4X3JnYmEoMCwwLDAsMC44KV0nIDogJ3RleHQtZ3JheS05MDAnXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7UElFQ0VfVU5JQ09ERVtwaWVjZS5jb2xvcl1bcGllY2UudHlwZV19XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBWYWxpZCBtb3ZlIGluZGljYXRvciAqL31cbiAgICAgICAge2lzVmFsaWRNb3ZlICYmICFwaWVjZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LTMgaC0zIHJvdW5kZWQtZnVsbCBiZy1ncmVlbi01MDAgb3BhY2l0eS02MFwiIC8+XG4gICAgICAgICl9XG4gICAgICAgIHtpc1ZhbGlkTW92ZSAmJiBwaWVjZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJvcmRlci00IGJvcmRlci1yZWQtNTAwIG9wYWNpdHktNjAgcm91bmRlZC1zbVwiIC8+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIENvb3JkaW5hdGVzICovfVxuICAgICAgICB7ZGlzcGxheUNvbCA9PT0gMCAmJiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0wLjUgdG9wLTAuNSB0ZXh0LVsxMHB4XSBmb250LWJvbGQgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgezggLSBkaXNwbGF5Um93fVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgICAge2Rpc3BsYXlSb3cgPT09IDcgJiYgKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTAuNSBib3R0b20tMCB0ZXh0LVsxMHB4XSBmb250LWJvbGQgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAge0ZJTEVTW2Rpc3BsYXlDb2xdfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgLy8gUmVuZGVyIGNhcHR1cmVkIHBpZWNlc1xuICBjb25zdCByZW5kZXJDYXB0dXJlZFBpZWNlcyA9IChwaWVjZXM6IFBpZWNlW10pID0+IHtcbiAgICByZXR1cm4gcGllY2VzLm1hcCgocCwgaSkgPT4gKFxuICAgICAgPHNwYW4ga2V5PXtpfSBjbGFzc05hbWU9XCJ0ZXh0LWxnXCI+XG4gICAgICAgIHtQSUVDRV9VTklDT0RFW3AuY29sb3JdW3AudHlwZV19XG4gICAgICA8L3NwYW4+XG4gICAgKSk7XG4gIH07XG5cbiAgLy8gR2V0IGdhbWUgc3RhdHVzIHRleHRcbiAgY29uc3QgZ2V0U3RhdHVzVGV4dCA9ICgpID0+IHtcbiAgICBpZiAoZ2FtZVN0YXRlLmlzQ2hlY2ttYXRlKSB7XG4gICAgICBjb25zdCB3aW5uZXIgPSBnYW1lU3RhdGUud2lubmVyID09PSBvZFVzZXJJZCA/ICdZb3Ugd2luJyA6ICdZb3UgbG9zZSc7XG4gICAgICByZXR1cm4gYENoZWNrbWF0ZSEgJHt3aW5uZXJ9YDtcbiAgICB9XG4gICAgaWYgKGdhbWVTdGF0ZS5pc1N0YWxlbWF0ZSkgcmV0dXJuICdTdGFsZW1hdGUgLSBEcmF3ISc7XG4gICAgaWYgKGdhbWVTdGF0ZS5pc0RyYXcpIHJldHVybiBgRHJhdyAtICR7Z2FtZVN0YXRlLmRyYXdSZWFzb259YDtcbiAgICBpZiAoZ2FtZVN0YXRlLmdhbWVPdmVyKSB7XG4gICAgICBpZiAoZ2FtZVN0YXRlLndpbm5lciA9PT0gb2RVc2VySWQpIHJldHVybiAnWW91IHdpbiEnO1xuICAgICAgcmV0dXJuICdZb3UgbG9zZSEnO1xuICAgIH1cbiAgICBpZiAoZ2FtZVN0YXRlLmlzQ2hlY2spIHJldHVybiBgJHtnYW1lU3RhdGUuY3VycmVudFR1cm4gPT09IG15Q29sb3IgPyAnWW91IGFyZScgOiAnT3Bwb25lbnQgaXMnfSBpbiBjaGVjayFgO1xuICAgIHJldHVybiBpc015VHVybiA/ICdZb3VyIHR1cm4nIDogXCJPcHBvbmVudCdzIHR1cm5cIjtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTQgcC00IGJnLWdyYXktOTAwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci13aGl0ZS8yMFwiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBtYXgtdy1tZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGRcIj5DaGVzczwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtc20gdGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgUGxheWluZyBhcyB7bXlDb2xvcn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHB4LTMgcHktMSByb3VuZGVkIHRleHQtc20gZm9udC1tZWRpdW0gJHtcbiAgICAgICAgICBnYW1lU3RhdGUuZ2FtZU92ZXIgXG4gICAgICAgICAgICA/ICdiZy1ncmF5LTYwMCB0ZXh0LXdoaXRlJyBcbiAgICAgICAgICAgIDogaXNNeVR1cm4gXG4gICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlJyBcbiAgICAgICAgICAgICAgOiAnYmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrJ1xuICAgICAgICB9YH0+XG4gICAgICAgICAge2dldFN0YXR1c1RleHQoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIE9wcG9uZW50IGluZm8gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgbWF4LXctbWQgYmctZ3JheS04MDAgcHgtMyBweS0yIHJvdW5kZWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0zIGgtMyByb3VuZGVkLWZ1bGwgJHtteUNvbG9yID09PSAnd2hpdGUnID8gJ2JnLWdyYXktOTAwJyA6ICdiZy13aGl0ZSd9YH0gLz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc21cIj5PcHBvbmVudDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMVwiPlxuICAgICAgICAgIHtyZW5kZXJDYXB0dXJlZFBpZWNlcyhjYXB0dXJlZFBpZWNlc1tteUNvbG9yXSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBDaGVzcyBCb2FyZCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLTQgYm9yZGVyLWFtYmVyLTkwMCByb3VuZGVkIHNoYWRvdy0yeGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy04XCI+XG4gICAgICAgICAge0FycmF5KDgpLmZpbGwobnVsbCkubWFwKChfLCByb3cpID0+XG4gICAgICAgICAgICBBcnJheSg4KS5maWxsKG51bGwpLm1hcCgoXywgY29sKSA9PiByZW5kZXJTcXVhcmUocm93LCBjb2wpKVxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBQbGF5ZXIgaW5mbyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBtYXgtdy1tZCBiZy1ncmF5LTgwMCBweC0zIHB5LTIgcm91bmRlZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTMgaC0zIHJvdW5kZWQtZnVsbCAke215Q29sb3IgPT09ICd3aGl0ZScgPyAnYmctd2hpdGUnIDogJ2JnLWdyYXktOTAwJ31gfSAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1zbVwiPllvdTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMVwiPlxuICAgICAgICAgIHtyZW5kZXJDYXB0dXJlZFBpZWNlcyhjYXB0dXJlZFBpZWNlc1tteUNvbG9yID09PSAnd2hpdGUnID8gJ2JsYWNrJyA6ICd3aGl0ZSddKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIE1vdmUgaGlzdG9yeSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LW1kIGJnLWdyYXktODAwIHAtMiByb3VuZGVkIG1heC1oLTIwIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgZm9udC1tb25vXCI+XG4gICAgICAgICAge2Zvcm1hdE1vdmVIaXN0b3J5KCkgfHwgJ0dhbWUgc3RhcnRlZCd9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQ29udHJvbHMgKi99XG4gICAgICB7IWdhbWVTdGF0ZS5nYW1lT3ZlciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dGb3JmZWl0Q29uZmlybSh0cnVlKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1yZWQtNjAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1yZWQtNzAwIHRleHQtc21cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFJlc2lnblxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBQcm9tb3Rpb24gRGlhbG9nICovfVxuICAgICAge3Nob3dQcm9tb3Rpb25EaWFsb2cgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svNzAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC02IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci13aGl0ZS8zMFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1sZyBmb250LWJvbGQgbWItNFwiPkNob29zZSBwcm9tb3Rpb24gcGllY2U8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC00XCI+XG4gICAgICAgICAgICAgIHsoWydRJywgJ1InLCAnQicsICdOJ10gYXMgUGllY2VUeXBlW10pLm1hcCh0eXBlID0+IChcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBrZXk9e3R5cGV9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVQcm9tb3Rpb24odHlwZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgYmctYW1iZXItMTAwIHJvdW5kZWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC00eGwgaG92ZXI6YmctYW1iZXItMjAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7UElFQ0VfVU5JQ09ERVtteUNvbG9yXVt0eXBlXX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogRm9yZmVpdCBDb25maXJtYXRpb24gKi99XG4gICAgICB7c2hvd0ZvcmZlaXRDb25maXJtICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrLzcwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotNTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHAtNiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMzBcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtbGcgZm9udC1ib2xkIG1iLTRcIj5SZXNpZ24gZ2FtZT88L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCBtYi00XCI+VGhpcyB3aWxsIGNvdW50IGFzIGEgbG9zcy48L3A+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTRcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIG9uRm9yZmVpdCgpO1xuICAgICAgICAgICAgICAgICAgc2V0U2hvd0ZvcmZlaXRDb25maXJtKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1yZWQtNjAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1yZWQtNzAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJlc2lnblxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dGb3JmZWl0Q29uZmlybShmYWxzZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWdyYXktNjAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VNZW1vIiwidXNlQ2FsbGJhY2siLCJQSUVDRV9VTklDT0RFIiwid2hpdGUiLCJLIiwiUSIsIlIiLCJCIiwiTiIsIlAiLCJibGFjayIsIkZJTEVTIiwiQ2hlc3NHYW1lIiwiZ2FtZVN0YXRlIiwib2RVc2VySWQiLCJvbk1vdmUiLCJvbkZvcmZlaXQiLCJzZWxlY3RlZFNxdWFyZSIsInNldFNlbGVjdGVkU3F1YXJlIiwidmFsaWRNb3ZlcyIsInNldFZhbGlkTW92ZXMiLCJzaG93UHJvbW90aW9uRGlhbG9nIiwic2V0U2hvd1Byb21vdGlvbkRpYWxvZyIsInBlbmRpbmdQcm9tb3Rpb24iLCJzZXRQZW5kaW5nUHJvbW90aW9uIiwic2hvd0ZvcmZlaXRDb25maXJtIiwic2V0U2hvd0ZvcmZlaXRDb25maXJtIiwibXlDb2xvciIsInBsYXllcldoaXRlIiwiaXNNeVR1cm4iLCJjdXJyZW50VHVybiIsImdhbWVPdmVyIiwic2hvdWxkRmxpcEJvYXJkIiwibGFzdE1vdmUiLCJtb3ZlSGlzdG9yeSIsImxlbmd0aCIsImNhcHR1cmVkUGllY2VzIiwiY2FwdHVyZWQiLCJtb3ZlIiwiY2FwdHVyZWRQaWVjZSIsImNvbG9yIiwicHVzaCIsImNhbGN1bGF0ZVZhbGlkTW92ZXMiLCJwb3MiLCJwaWVjZSIsImJvYXJkIiwicm93IiwiY29sIiwibW92ZXMiLCJkaXJlY3Rpb25zIiwicm9vayIsImJpc2hvcCIsImtuaWdodCIsImtpbmciLCJhZGRTbGlkaW5nTW92ZXMiLCJkaXJzIiwiZHIiLCJkYyIsInIiLCJjIiwidGFyZ2V0IiwiYWRkU2luZ2xlTW92ZXMiLCJ0eXBlIiwiZGlyZWN0aW9uIiwic3RhcnRSb3ciLCJvbmVGb3J3YXJkIiwidHdvRm9yd2FyZCIsImhhc01vdmVkIiwiaGFuZGxlU3F1YXJlQ2xpY2siLCJjbGlja2VkUGllY2UiLCJpc1ZhbGlkTW92ZSIsInNvbWUiLCJtIiwiZnJvbSIsInRvIiwiaGFuZGxlUHJvbW90aW9uIiwicGllY2VUeXBlIiwiZm9ybWF0TW92ZUhpc3RvcnkiLCJpIiwibW92ZU51bSIsIk1hdGgiLCJmbG9vciIsIndoaXRlTW92ZSIsIm5vdGF0aW9uIiwiYmxhY2tNb3ZlIiwiam9pbiIsInJlbmRlclNxdWFyZSIsImRpc3BsYXlSb3ciLCJkaXNwbGF5Q29sIiwiYWN0dWFsUm93IiwiYWN0dWFsQ29sIiwiaXNMaWdodCIsImlzU2VsZWN0ZWQiLCJpc0xhc3RNb3ZlRnJvbSIsImlzTGFzdE1vdmVUbyIsImlzS2luZ0luQ2hlY2siLCJpc0NoZWNrIiwiYmdDb2xvciIsImRpdiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJzcGFuIiwicmVuZGVyQ2FwdHVyZWRQaWVjZXMiLCJwaWVjZXMiLCJtYXAiLCJwIiwiZ2V0U3RhdHVzVGV4dCIsImlzQ2hlY2ttYXRlIiwid2lubmVyIiwiaXNTdGFsZW1hdGUiLCJpc0RyYXciLCJkcmF3UmVhc29uIiwiQXJyYXkiLCJmaWxsIiwiXyIsImJ1dHRvbiIsImgzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/games/ChessGame.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/games/TicTacToeGame.tsx":
/*!************************************************!*\
  !*** ./src/components/games/TicTacToeGame.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TicTacToeGame)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst WINNING_COMBINATIONS = [\n    [\n        0,\n        1,\n        2\n    ],\n    [\n        3,\n        4,\n        5\n    ],\n    [\n        6,\n        7,\n        8\n    ],\n    [\n        0,\n        3,\n        6\n    ],\n    [\n        1,\n        4,\n        7\n    ],\n    [\n        2,\n        5,\n        8\n    ],\n    [\n        0,\n        4,\n        8\n    ],\n    [\n        2,\n        4,\n        6\n    ] // Diagonals\n];\nfunction TicTacToeGame({ gameId, socket, userId, initialState, initialPlayers, onGameEnd }) {\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialState || null);\n    const [players, setPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialPlayers || []);\n    const [gameEnded, setGameEnded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [endResult, setEndResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lastMove, setLastMove] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Get my symbol (X or O)\n    const mySymbol = gameState?.playerX === userId ? \"X\" : gameState?.playerO === userId ? \"O\" : null;\n    const isMyTurn = gameState?.currentTurn === mySymbol;\n    // Get opponent info\n    const opponent = players.find((p)=>p.odUserId !== userId);\n    const me = players.find((p)=>p.odUserId === userId);\n    // Setup socket listeners\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!socket) return;\n        // Join game room\n        socket.emit(\"game.join\", {\n            gameId\n        });\n        // Listen for game state updates\n        const handleStateUpdate = (data)=>{\n            if (data.gameId === gameId) {\n                setGameState(data.state);\n                if (data.lastMove !== undefined) {\n                    setLastMove(data.lastMove.cell);\n                }\n                setError(\"\");\n            }\n        };\n        // Listen for game state (initial)\n        const handleGameState = (data)=>{\n            if (data.gameId === gameId) {\n                setGameState(data.state);\n                setPlayers(data.players);\n            }\n        };\n        // Listen for game end\n        const handleGameEnd = (data)=>{\n            if (data.gameId === gameId) {\n                setGameEnded(true);\n                setEndResult({\n                    winnerId: data.winnerId,\n                    winnerName: data.winnerName,\n                    isDraw: data.isDraw,\n                    reason: data.reason,\n                    winningLine: data.winningLine\n                });\n                onGameEnd?.(data);\n            }\n        };\n        // Listen for errors\n        const handleError = (data)=>{\n            setError(data.message);\n            // Clear error after 3 seconds\n            setTimeout(()=>setError(\"\"), 3000);\n        };\n        socket.on(\"game.stateUpdate\", handleStateUpdate);\n        socket.on(\"game.state\", handleGameState);\n        socket.on(\"game.end\", handleGameEnd);\n        socket.on(\"game.error\", handleError);\n        return ()=>{\n            socket.off(\"game.stateUpdate\", handleStateUpdate);\n            socket.off(\"game.state\", handleGameState);\n            socket.off(\"game.end\", handleGameEnd);\n            socket.off(\"game.error\", handleError);\n        };\n    }, [\n        socket,\n        gameId,\n        onGameEnd\n    ]);\n    // Handle cell click\n    const handleCellClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((cellIndex)=>{\n        if (!socket || !gameState || gameEnded) return;\n        if (!isMyTurn) return;\n        if (gameState.board[cellIndex] !== null) return;\n        socket.emit(\"game.move\", {\n            gameId,\n            cellIndex\n        });\n    }, [\n        socket,\n        gameId,\n        gameState,\n        gameEnded,\n        isMyTurn\n    ]);\n    // Handle forfeit\n    const handleForfeit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!socket || gameEnded) return;\n        if (confirm(\"Are you sure you want to forfeit? Your opponent will win.\")) {\n            socket.emit(\"game.forfeit\", {\n                gameId\n            });\n        }\n    }, [\n        socket,\n        gameId,\n        gameEnded\n    ]);\n    // Determine if a cell is part of the winning line\n    const isWinningCell = (index)=>{\n        return endResult?.winningLine?.includes(index) || false;\n    };\n    // Render game result message\n    const getResultMessage = ()=>{\n        if (!endResult) return {\n            text: \"\",\n            color: \"\",\n            emoji: \"\"\n        };\n        if (endResult.isDraw) {\n            return {\n                text: \"It's a Draw!\",\n                color: \"text-yellow-400\",\n                emoji: \"\\uD83E\\uDD1D\"\n            };\n        }\n        const iWon = endResult.winnerId === userId;\n        if (endResult.reason === \"forfeit\") {\n            return iWon ? {\n                text: \"You Win! (Opponent Forfeited)\",\n                color: \"text-green-400\",\n                emoji: \"\\uD83C\\uDFC6\"\n            } : {\n                text: \"You Forfeited\",\n                color: \"text-red-400\",\n                emoji: \"\\uD83C\\uDFF3️\"\n            };\n        }\n        return iWon ? {\n            text: \"You Win!\",\n            color: \"text-green-400\",\n            emoji: \"\\uD83C\\uDF89\"\n        } : {\n            text: \"You Lose!\",\n            color: \"text-red-400\",\n            emoji: \"\\uD83D\\uDE22\"\n        };\n    };\n    if (!gameState) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-800 p-6 border border-white/20 text-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-gray-400\",\n                children: \"Loading game...\"\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 181,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n            lineNumber: 180,\n            columnNumber: 7\n        }, this);\n    }\n    const resultMessage = getResultMessage();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-gray-800 p-4 border border-white/20\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-center mb-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-xl font-bold text-white\",\n                                children: \"Tic Tac Toe\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 193,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-400\",\n                                children: [\n                                    \"You are: \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: mySymbol === \"X\" ? \"text-blue-400 font-bold\" : \"text-red-400 font-bold\",\n                                        children: mySymbol\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                        lineNumber: 195,\n                                        columnNumber: 22\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 194,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 192,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-right\",\n                        children: !gameEnded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: `text-sm font-semibold ${isMyTurn ? \"text-green-400\" : \"text-yellow-400\"}`,\n                            children: isMyTurn ? \"Your Turn!\" : `${opponent?.displayName || \"Opponent\"}'s Turn`\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                            lineNumber: 200,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 198,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 191,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 p-2 bg-red-900/50 border border-red-500 text-red-300 text-sm text-center\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 209,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center mb-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `grid grid-cols-3 gap-2 p-3 rounded-lg ${gameEnded ? \"bg-gray-700\" : isMyTurn ? \"bg-green-900/30 ring-2 ring-green-500\" : \"bg-gray-700\"}`,\n                    children: gameState.board.map((cell, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>handleCellClick(index),\n                            disabled: gameEnded || !isMyTurn || cell !== null,\n                            className: `\n                w-20 h-20 text-4xl font-bold\n                flex items-center justify-center\n                transition-all duration-200\n                ${cell === null && !gameEnded && isMyTurn ? \"bg-gray-600 hover:bg-gray-500 cursor-pointer\" : \"bg-gray-700 cursor-not-allowed\"}\n                ${isWinningCell(index) ? \"bg-green-600 ring-2 ring-green-400 animate-pulse\" : \"\"}\n                ${lastMove === index && !isWinningCell(index) ? \"ring-2 ring-yellow-400\" : \"\"}\n                ${cell === \"X\" ? \"text-blue-400\" : \"text-red-400\"}\n                border border-gray-500\n              `,\n                            children: cell && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: `${lastMove === index ? \"animate-bounce\" : \"\"}`,\n                                children: cell\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 247,\n                                columnNumber: 17\n                            }, this)\n                        }, index, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                            lineNumber: 222,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                    lineNumber: 216,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 215,\n                columnNumber: 7\n            }, this),\n            gameEnded && endResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center mb-4 p-4 bg-gray-900 border border-white/20 rounded\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-4xl mb-2\",\n                        children: resultMessage.emoji\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 259,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: `text-2xl font-bold ${resultMessage.color}`,\n                        children: resultMessage.text\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 260,\n                        columnNumber: 11\n                    }, this),\n                    endResult.winnerName && !endResult.isDraw && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-gray-400 mt-1\",\n                        children: [\n                            \"Winner: \",\n                            endResult.winnerName\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 264,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 258,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-2 gap-4 mb-4 text-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `p-2 rounded ${me?.side === gameState.currentTurn && !gameEnded ? \"bg-green-900/50 border border-green-500\" : \"bg-gray-700\"}`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-400\",\n                                children: [\n                                    \"You (\",\n                                    me?.side,\n                                    \")\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 274,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-white font-semibold\",\n                                children: me?.displayName || \"Player\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 275,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 273,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `p-2 rounded ${opponent?.side === gameState.currentTurn && !gameEnded ? \"bg-yellow-900/50 border border-yellow-500\" : \"bg-gray-700\"}`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-400\",\n                                children: [\n                                    \"Opponent (\",\n                                    opponent?.side,\n                                    \")\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 278,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-white font-semibold\",\n                                children: opponent?.displayName || \"Opponent\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 277,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 272,\n                columnNumber: 7\n            }, this),\n            !gameEnded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleForfeit,\n                    className: \"px-4 py-2 bg-red-600 hover:bg-red-500 text-white text-sm font-semibold border border-red-500 transition-colors\",\n                    children: \"Forfeit Game\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                    lineNumber: 286,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 285,\n                columnNumber: 9\n            }, this),\n            gameState.moveHistory.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 text-xs text-gray-500\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: [\n                        \"Moves: \",\n                        gameState.moveHistory.length\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                    lineNumber: 298,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 297,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n        lineNumber: 189,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9nYW1lcy9UaWNUYWNUb2VHYW1lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFeUQ7QUFvQ3pELE1BQU1HLHVCQUF1QjtJQUMzQjtRQUFDO1FBQUc7UUFBRztLQUFFO0lBQUU7UUFBQztRQUFHO1FBQUc7S0FBRTtJQUFFO1FBQUM7UUFBRztRQUFHO0tBQUU7SUFDL0I7UUFBQztRQUFHO1FBQUc7S0FBRTtJQUFFO1FBQUM7UUFBRztRQUFHO0tBQUU7SUFBRTtRQUFDO1FBQUc7UUFBRztLQUFFO0lBQy9CO1FBQUM7UUFBRztRQUFHO0tBQUU7SUFBRTtRQUFDO1FBQUc7UUFBRztLQUFFLENBQWEsWUFBWTtDQUM5QztBQUVjLFNBQVNDLGNBQWMsRUFDcENDLE1BQU0sRUFDTkMsTUFBTSxFQUNOQyxNQUFNLEVBQ05DLFlBQVksRUFDWkMsY0FBYyxFQUNkQyxTQUFTLEVBQ1U7SUFDbkIsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUdYLCtDQUFRQSxDQUF3Qk8sZ0JBQWdCO0lBQ2xGLE1BQU0sQ0FBQ0ssU0FBU0MsV0FBVyxHQUFHYiwrQ0FBUUEsQ0FBZVEsa0JBQWtCLEVBQUU7SUFDekUsTUFBTSxDQUFDTSxXQUFXQyxhQUFhLEdBQUdmLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ2dCLFdBQVdDLGFBQWEsR0FBR2pCLCtDQUFRQSxDQUF1QjtJQUNqRSxNQUFNLENBQUNrQixPQUFPQyxTQUFTLEdBQUduQiwrQ0FBUUEsQ0FBUztJQUMzQyxNQUFNLENBQUNvQixVQUFVQyxZQUFZLEdBQUdyQiwrQ0FBUUEsQ0FBZ0I7SUFFeEQseUJBQXlCO0lBQ3pCLE1BQU1zQixXQUFXWixXQUFXYSxZQUFZakIsU0FBUyxNQUFNSSxXQUFXYyxZQUFZbEIsU0FBUyxNQUFNO0lBQzdGLE1BQU1tQixXQUFXZixXQUFXZ0IsZ0JBQWdCSjtJQUU1QyxvQkFBb0I7SUFDcEIsTUFBTUssV0FBV2YsUUFBUWdCLElBQUksQ0FBQ0MsQ0FBQUEsSUFB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VXlCLFVBQVU7Ozs7Ozs7Ozs7Ozs7MEJBT3JDLDhEQUFDc0I7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVyxDQUFDLFlBQVksRUFBRWpDLElBQUkwQyxTQUFTL0QsVUFBVWdCLFdBQVcsSUFBSSxDQUFDWixZQUFZLDRDQUE0QyxjQUFjLENBQUM7OzBDQUMzSSw4REFBQ2U7Z0NBQUVtQyxXQUFVOztvQ0FBZ0I7b0NBQU1qQyxJQUFJMEM7b0NBQUs7Ozs7Ozs7MENBQzVDLDhEQUFDNUM7Z0NBQUVtQyxXQUFVOzBDQUE0QmpDLElBQUlxQyxlQUFlOzs7Ozs7Ozs7Ozs7a0NBRTlELDhEQUFDTDt3QkFBSUMsV0FBVyxDQUFDLFlBQVksRUFBRXJDLFVBQVU4QyxTQUFTL0QsVUFBVWdCLFdBQVcsSUFBSSxDQUFDWixZQUFZLDhDQUE4QyxjQUFjLENBQUM7OzBDQUNuSiw4REFBQ2U7Z0NBQUVtQyxXQUFVOztvQ0FBZ0I7b0NBQVdyQyxVQUFVOEM7b0NBQUs7Ozs7Ozs7MENBQ3ZELDhEQUFDNUM7Z0NBQUVtQyxXQUFVOzBDQUE0QnJDLFVBQVV5QyxlQUFlOzs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFLckUsQ0FBQ3RELDJCQUNBLDhEQUFDaUQ7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNNO29CQUNDQyxTQUFTbEI7b0JBQ1RXLFdBQVU7OEJBQ1g7Ozs7Ozs7Ozs7O1lBT0p0RCxVQUFVZ0UsV0FBVyxDQUFDQyxNQUFNLEdBQUcsbUJBQzlCLDhEQUFDWjtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ25DOzt3QkFBRTt3QkFBUW5CLFVBQVVnRSxXQUFXLENBQUNDLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtqRCIsInNvdXJjZXMiOlsid2VicGFjazovL0BvbWVnbGUtZ2FtZS93ZWIvLi9zcmMvY29tcG9uZW50cy9nYW1lcy9UaWNUYWNUb2VHYW1lLnRzeD8xZjE2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSBcInNvY2tldC5pby1jbGllbnRcIjtcblxuLy8gVHlwZXMgbWF0Y2hpbmcgYmFja2VuZFxuaW50ZXJmYWNlIFRpY1RhY1RvZVN0YXRlIHtcbiAgYm9hcmQ6IChzdHJpbmcgfCBudWxsKVtdO1xuICBjdXJyZW50VHVybjogXCJYXCIgfCBcIk9cIjtcbiAgbW92ZUhpc3Rvcnk6IHsgY2VsbDogbnVtYmVyOyBwbGF5ZXI6IHN0cmluZzsgdGltZXN0YW1wOiBudW1iZXIgfVtdO1xuICBwbGF5ZXJYOiBzdHJpbmc7XG4gIHBsYXllck86IHN0cmluZztcbiAgc3RhcnRlZEF0OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBHYW1lUGxheWVyIHtcbiAgb2RVc2VySWQ6IHN0cmluZztcbiAgc2lkZTogc3RyaW5nO1xuICBkaXNwbGF5TmFtZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVGljVGFjVG9lR2FtZVByb3BzIHtcbiAgZ2FtZUlkOiBzdHJpbmc7XG4gIHNvY2tldDogU29ja2V0O1xuICB1c2VySWQ6IHN0cmluZztcbiAgaW5pdGlhbFN0YXRlPzogVGljVGFjVG9lU3RhdGU7XG4gIGluaXRpYWxQbGF5ZXJzPzogR2FtZVBsYXllcltdO1xuICBvbkdhbWVFbmQ/OiAocmVzdWx0OiBHYW1lRW5kUmVzdWx0KSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgR2FtZUVuZFJlc3VsdCB7XG4gIHdpbm5lcklkOiBzdHJpbmcgfCBudWxsO1xuICB3aW5uZXJOYW1lOiBzdHJpbmcgfCBudWxsO1xuICBpc0RyYXc6IGJvb2xlYW47XG4gIHJlYXNvbjogXCJ3aW5cIiB8IFwiZHJhd1wiIHwgXCJmb3JmZWl0XCI7XG4gIHdpbm5pbmdMaW5lPzogbnVtYmVyW107XG59XG5cbmNvbnN0IFdJTk5JTkdfQ09NQklOQVRJT05TID0gW1xuICBbMCwgMSwgMl0sIFszLCA0LCA1XSwgWzYsIDcsIDhdLCAvLyBSb3dzXG4gIFswLCAzLCA2XSwgWzEsIDQsIDddLCBbMiwgNSwgOF0sIC8vIENvbHVtbnNcbiAgWzAsIDQsIDhdLCBbMiwgNCwgNl0gICAgICAgICAgICAgLy8gRGlhZ29uYWxzXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUaWNUYWNUb2VHYW1lKHtcbiAgZ2FtZUlkLFxuICBzb2NrZXQsXG4gIHVzZXJJZCxcbiAgaW5pdGlhbFN0YXRlLFxuICBpbml0aWFsUGxheWVycyxcbiAgb25HYW1lRW5kXG59OiBUaWNUYWNUb2VHYW1lUHJvcHMpIHtcbiAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPFRpY1RhY1RvZVN0YXRlIHwgbnVsbD4oaW5pdGlhbFN0YXRlIHx8IG51bGwpO1xuICBjb25zdCBbcGxheWVycywgc2V0UGxheWVyc10gPSB1c2VTdGF0ZTxHYW1lUGxheWVyW10+KGluaXRpYWxQbGF5ZXJzIHx8IFtdKTtcbiAgY29uc3QgW2dhbWVFbmRlZCwgc2V0R2FtZUVuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VuZFJlc3VsdCwgc2V0RW5kUmVzdWx0XSA9IHVzZVN0YXRlPEdhbWVFbmRSZXN1bHQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbbGFzdE1vdmUsIHNldExhc3RNb3ZlXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuXG4gIC8vIEdldCBteSBzeW1ib2wgKFggb3IgTylcbiAgY29uc3QgbXlTeW1ib2wgPSBnYW1lU3RhdGU/LnBsYXllclggPT09IHVzZXJJZCA/IFwiWFwiIDogZ2FtZVN0YXRlPy5wbGF5ZXJPID09PSB1c2VySWQgPyBcIk9cIiA6IG51bGw7XG4gIGNvbnN0IGlzTXlUdXJuID0gZ2FtZVN0YXRlPy5jdXJyZW50VHVybiA9PT0gbXlTeW1ib2w7XG5cbiAgLy8gR2V0IG9wcG9uZW50IGluZm9cbiAgY29uc3Qgb3Bwb25lbnQgPSBwbGF5ZXJzLmZpbmQocCA9PiBwLm9kVXNlcklkICE9PSB1c2VySWQpO1xuICBjb25zdCBtZSA9IHBsYXllcnMuZmluZChwID0+IHAub2RVc2VySWQgPT09IHVzZXJJZCk7XG5cbiAgLy8gU2V0dXAgc29ja2V0IGxpc3RlbmVyc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc29ja2V0KSByZXR1cm47XG5cbiAgICAvLyBKb2luIGdhbWUgcm9vbVxuICAgIHNvY2tldC5lbWl0KFwiZ2FtZS5qb2luXCIsIHsgZ2FtZUlkIH0pO1xuXG4gICAgLy8gTGlzdGVuIGZvciBnYW1lIHN0YXRlIHVwZGF0ZXNcbiAgICBjb25zdCBoYW5kbGVTdGF0ZVVwZGF0ZSA9IChkYXRhOiB7IGdhbWVJZDogc3RyaW5nOyBzdGF0ZTogVGljVGFjVG9lU3RhdGU7IGxhc3RNb3ZlPzogeyBjZWxsOiBudW1iZXIgfSB9KSA9PiB7XG4gICAgICBpZiAoZGF0YS5nYW1lSWQgPT09IGdhbWVJZCkge1xuICAgICAgICBzZXRHYW1lU3RhdGUoZGF0YS5zdGF0ZSk7XG4gICAgICAgIGlmIChkYXRhLmxhc3RNb3ZlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMYXN0TW92ZShkYXRhLmxhc3RNb3ZlLmNlbGwpO1xuICAgICAgICB9XG4gICAgICAgIHNldEVycm9yKFwiXCIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBMaXN0ZW4gZm9yIGdhbWUgc3RhdGUgKGluaXRpYWwpXG4gICAgY29uc3QgaGFuZGxlR2FtZVN0YXRlID0gKGRhdGE6IHsgZ2FtZUlkOiBzdHJpbmc7IHN0YXRlOiBUaWNUYWNUb2VTdGF0ZTsgcGxheWVyczogR2FtZVBsYXllcltdIH0pID0+IHtcbiAgICAgIGlmIChkYXRhLmdhbWVJZCA9PT0gZ2FtZUlkKSB7XG4gICAgICAgIHNldEdhbWVTdGF0ZShkYXRhLnN0YXRlKTtcbiAgICAgICAgc2V0UGxheWVycyhkYXRhLnBsYXllcnMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBMaXN0ZW4gZm9yIGdhbWUgZW5kXG4gICAgY29uc3QgaGFuZGxlR2FtZUVuZCA9IChkYXRhOiB7XG4gICAgICBnYW1lSWQ6IHN0cmluZztcbiAgICAgIHdpbm5lcklkOiBzdHJpbmcgfCBudWxsO1xuICAgICAgd2lubmVyTmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgICAgIGlzRHJhdzogYm9vbGVhbjtcbiAgICAgIHJlYXNvbjogXCJ3aW5cIiB8IFwiZHJhd1wiIHwgXCJmb3JmZWl0XCI7XG4gICAgICB3aW5uaW5nTGluZT86IG51bWJlcltdO1xuICAgIH0pID0+IHtcbiAgICAgIGlmIChkYXRhLmdhbWVJZCA9PT0gZ2FtZUlkKSB7XG4gICAgICAgIHNldEdhbWVFbmRlZCh0cnVlKTtcbiAgICAgICAgc2V0RW5kUmVzdWx0KHtcbiAgICAgICAgICB3aW5uZXJJZDogZGF0YS53aW5uZXJJZCxcbiAgICAgICAgICB3aW5uZXJOYW1lOiBkYXRhLndpbm5lck5hbWUsXG4gICAgICAgICAgaXNEcmF3OiBkYXRhLmlzRHJhdyxcbiAgICAgICAgICByZWFzb246IGRhdGEucmVhc29uLFxuICAgICAgICAgIHdpbm5pbmdMaW5lOiBkYXRhLndpbm5pbmdMaW5lXG4gICAgICAgIH0pO1xuICAgICAgICBvbkdhbWVFbmQ/LihkYXRhKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gTGlzdGVuIGZvciBlcnJvcnNcbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IChkYXRhOiB7IG1lc3NhZ2U6IHN0cmluZyB9KSA9PiB7XG4gICAgICBzZXRFcnJvcihkYXRhLm1lc3NhZ2UpO1xuICAgICAgLy8gQ2xlYXIgZXJyb3IgYWZ0ZXIgMyBzZWNvbmRzXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yKFwiXCIpLCAzMDAwKTtcbiAgICB9O1xuXG4gICAgc29ja2V0Lm9uKFwiZ2FtZS5zdGF0ZVVwZGF0ZVwiLCBoYW5kbGVTdGF0ZVVwZGF0ZSk7XG4gICAgc29ja2V0Lm9uKFwiZ2FtZS5zdGF0ZVwiLCBoYW5kbGVHYW1lU3RhdGUpO1xuICAgIHNvY2tldC5vbihcImdhbWUuZW5kXCIsIGhhbmRsZUdhbWVFbmQpO1xuICAgIHNvY2tldC5vbihcImdhbWUuZXJyb3JcIiwgaGFuZGxlRXJyb3IpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNvY2tldC5vZmYoXCJnYW1lLnN0YXRlVXBkYXRlXCIsIGhhbmRsZVN0YXRlVXBkYXRlKTtcbiAgICAgIHNvY2tldC5vZmYoXCJnYW1lLnN0YXRlXCIsIGhhbmRsZUdhbWVTdGF0ZSk7XG4gICAgICBzb2NrZXQub2ZmKFwiZ2FtZS5lbmRcIiwgaGFuZGxlR2FtZUVuZCk7XG4gICAgICBzb2NrZXQub2ZmKFwiZ2FtZS5lcnJvclwiLCBoYW5kbGVFcnJvcik7XG4gICAgfTtcbiAgfSwgW3NvY2tldCwgZ2FtZUlkLCBvbkdhbWVFbmRdKTtcblxuICAvLyBIYW5kbGUgY2VsbCBjbGlja1xuICBjb25zdCBoYW5kbGVDZWxsQ2xpY2sgPSB1c2VDYWxsYmFjaygoY2VsbEluZGV4OiBudW1iZXIpID0+IHtcbiAgICBpZiAoIXNvY2tldCB8fCAhZ2FtZVN0YXRlIHx8IGdhbWVFbmRlZCkgcmV0dXJuO1xuICAgIGlmICghaXNNeVR1cm4pIHJldHVybjtcbiAgICBpZiAoZ2FtZVN0YXRlLmJvYXJkW2NlbGxJbmRleF0gIT09IG51bGwpIHJldHVybjtcblxuICAgIHNvY2tldC5lbWl0KFwiZ2FtZS5tb3ZlXCIsIHsgZ2FtZUlkLCBjZWxsSW5kZXggfSk7XG4gIH0sIFtzb2NrZXQsIGdhbWVJZCwgZ2FtZVN0YXRlLCBnYW1lRW5kZWQsIGlzTXlUdXJuXSk7XG5cbiAgLy8gSGFuZGxlIGZvcmZlaXRcbiAgY29uc3QgaGFuZGxlRm9yZmVpdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXNvY2tldCB8fCBnYW1lRW5kZWQpIHJldHVybjtcbiAgICBpZiAoY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBmb3JmZWl0PyBZb3VyIG9wcG9uZW50IHdpbGwgd2luLlwiKSkge1xuICAgICAgc29ja2V0LmVtaXQoXCJnYW1lLmZvcmZlaXRcIiwgeyBnYW1lSWQgfSk7XG4gICAgfVxuICB9LCBbc29ja2V0LCBnYW1lSWQsIGdhbWVFbmRlZF0pO1xuXG4gIC8vIERldGVybWluZSBpZiBhIGNlbGwgaXMgcGFydCBvZiB0aGUgd2lubmluZyBsaW5lXG4gIGNvbnN0IGlzV2lubmluZ0NlbGwgPSAoaW5kZXg6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBlbmRSZXN1bHQ/Lndpbm5pbmdMaW5lPy5pbmNsdWRlcyhpbmRleCkgfHwgZmFsc2U7XG4gIH07XG5cbiAgLy8gUmVuZGVyIGdhbWUgcmVzdWx0IG1lc3NhZ2VcbiAgY29uc3QgZ2V0UmVzdWx0TWVzc2FnZSA9ICgpOiB7IHRleHQ6IHN0cmluZzsgY29sb3I6IHN0cmluZzsgZW1vamk6IHN0cmluZyB9ID0+IHtcbiAgICBpZiAoIWVuZFJlc3VsdCkgcmV0dXJuIHsgdGV4dDogXCJcIiwgY29sb3I6IFwiXCIsIGVtb2ppOiBcIlwiIH07XG5cbiAgICBpZiAoZW5kUmVzdWx0LmlzRHJhdykge1xuICAgICAgcmV0dXJuIHsgdGV4dDogXCJJdCdzIGEgRHJhdyFcIiwgY29sb3I6IFwidGV4dC15ZWxsb3ctNDAwXCIsIGVtb2ppOiBcIvCfpJ1cIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IGlXb24gPSBlbmRSZXN1bHQud2lubmVySWQgPT09IHVzZXJJZDtcbiAgICBpZiAoZW5kUmVzdWx0LnJlYXNvbiA9PT0gXCJmb3JmZWl0XCIpIHtcbiAgICAgIHJldHVybiBpV29uXG4gICAgICAgID8geyB0ZXh0OiBcIllvdSBXaW4hIChPcHBvbmVudCBGb3JmZWl0ZWQpXCIsIGNvbG9yOiBcInRleHQtZ3JlZW4tNDAwXCIsIGVtb2ppOiBcIvCfj4ZcIiB9XG4gICAgICAgIDogeyB0ZXh0OiBcIllvdSBGb3JmZWl0ZWRcIiwgY29sb3I6IFwidGV4dC1yZWQtNDAwXCIsIGVtb2ppOiBcIvCfj7PvuI9cIiB9O1xuICAgIH1cblxuICAgIHJldHVybiBpV29uXG4gICAgICA/IHsgdGV4dDogXCJZb3UgV2luIVwiLCBjb2xvcjogXCJ0ZXh0LWdyZWVuLTQwMFwiLCBlbW9qaTogXCLwn46JXCIgfVxuICAgICAgOiB7IHRleHQ6IFwiWW91IExvc2UhXCIsIGNvbG9yOiBcInRleHQtcmVkLTQwMFwiLCBlbW9qaTogXCLwn5iiXCIgfTtcbiAgfTtcblxuICBpZiAoIWdhbWVTdGF0ZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHAtNiBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHRleHQtY2VudGVyXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5Mb2FkaW5nIGdhbWUuLi48L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0TWVzc2FnZSA9IGdldFJlc3VsdE1lc3NhZ2UoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC00IGJvcmRlciBib3JkZXItd2hpdGUvMjBcIj5cbiAgICAgIHsvKiBHYW1lIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTRcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC13aGl0ZVwiPlRpYyBUYWMgVG9lPC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgIFlvdSBhcmU6IDxzcGFuIGNsYXNzTmFtZT17bXlTeW1ib2wgPT09IFwiWFwiID8gXCJ0ZXh0LWJsdWUtNDAwIGZvbnQtYm9sZFwiIDogXCJ0ZXh0LXJlZC00MDAgZm9udC1ib2xkXCJ9PntteVN5bWJvbH08L3NwYW4+XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgeyFnYW1lRW5kZWQgJiYgKFxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC1zbSBmb250LXNlbWlib2xkICR7aXNNeVR1cm4gPyBcInRleHQtZ3JlZW4tNDAwXCIgOiBcInRleHQteWVsbG93LTQwMFwifWB9PlxuICAgICAgICAgICAgICB7aXNNeVR1cm4gPyBcIllvdXIgVHVybiFcIiA6IGAke29wcG9uZW50Py5kaXNwbGF5TmFtZSB8fCBcIk9wcG9uZW50XCJ9J3MgVHVybmB9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEVycm9yIE1lc3NhZ2UgKi99XG4gICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC0yIGJnLXJlZC05MDAvNTAgYm9yZGVyIGJvcmRlci1yZWQtNTAwIHRleHQtcmVkLTMwMCB0ZXh0LXNtIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAge2Vycm9yfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBHYW1lIEJvYXJkICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIG1iLTRcIj5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9e2BncmlkIGdyaWQtY29scy0zIGdhcC0yIHAtMyByb3VuZGVkLWxnICR7XG4gICAgICAgICAgICBnYW1lRW5kZWQgPyBcImJnLWdyYXktNzAwXCIgOiBpc015VHVybiA/IFwiYmctZ3JlZW4tOTAwLzMwIHJpbmctMiByaW5nLWdyZWVuLTUwMFwiIDogXCJiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgfWB9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2FtZVN0YXRlLmJvYXJkLm1hcCgoY2VsbCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ2VsbENsaWNrKGluZGV4KX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2dhbWVFbmRlZCB8fCAhaXNNeVR1cm4gfHwgY2VsbCAhPT0gbnVsbH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgICAgICAgdy0yMCBoLTIwIHRleHQtNHhsIGZvbnQtYm9sZFxuICAgICAgICAgICAgICAgIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwXG4gICAgICAgICAgICAgICAgJHtjZWxsID09PSBudWxsICYmICFnYW1lRW5kZWQgJiYgaXNNeVR1cm5cbiAgICAgICAgICAgICAgICAgID8gXCJiZy1ncmF5LTYwMCBob3ZlcjpiZy1ncmF5LTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICA6IFwiYmctZ3JheS03MDAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHtpc1dpbm5pbmdDZWxsKGluZGV4KVxuICAgICAgICAgICAgICAgICAgPyBcImJnLWdyZWVuLTYwMCByaW5nLTIgcmluZy1ncmVlbi00MDAgYW5pbWF0ZS1wdWxzZVwiXG4gICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHtsYXN0TW92ZSA9PT0gaW5kZXggJiYgIWlzV2lubmluZ0NlbGwoaW5kZXgpXG4gICAgICAgICAgICAgICAgICA/IFwicmluZy0yIHJpbmcteWVsbG93LTQwMFwiXG4gICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHtjZWxsID09PSBcIlhcIiA/IFwidGV4dC1ibHVlLTQwMFwiIDogXCJ0ZXh0LXJlZC00MDBcIn1cbiAgICAgICAgICAgICAgICBib3JkZXIgYm9yZGVyLWdyYXktNTAwXG4gICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtjZWxsICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake2xhc3RNb3ZlID09PSBpbmRleCA/IFwiYW5pbWF0ZS1ib3VuY2VcIiA6IFwiXCJ9YH0+XG4gICAgICAgICAgICAgICAgICB7Y2VsbH1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEdhbWUgUmVzdWx0ICovfVxuICAgICAge2dhbWVFbmRlZCAmJiBlbmRSZXN1bHQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLTQgcC00IGJnLWdyYXktOTAwIGJvcmRlciBib3JkZXItd2hpdGUvMjAgcm91bmRlZFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtNHhsIG1iLTJcIj57cmVzdWx0TWVzc2FnZS5lbW9qaX08L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC0yeGwgZm9udC1ib2xkICR7cmVzdWx0TWVzc2FnZS5jb2xvcn1gfT5cbiAgICAgICAgICAgIHtyZXN1bHRNZXNzYWdlLnRleHR9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIHtlbmRSZXN1bHQud2lubmVyTmFtZSAmJiAhZW5kUmVzdWx0LmlzRHJhdyAmJiAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICBXaW5uZXI6IHtlbmRSZXN1bHQud2lubmVyTmFtZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBQbGF5ZXJzIEluZm8gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTQgbWItNCB0ZXh0LXNtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcC0yIHJvdW5kZWQgJHttZT8uc2lkZSA9PT0gZ2FtZVN0YXRlLmN1cnJlbnRUdXJuICYmICFnYW1lRW5kZWQgPyBcImJnLWdyZWVuLTkwMC81MCBib3JkZXIgYm9yZGVyLWdyZWVuLTUwMFwiIDogXCJiZy1ncmF5LTcwMFwifWB9PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5Zb3UgKHttZT8uc2lkZX0pPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1zZW1pYm9sZFwiPnttZT8uZGlzcGxheU5hbWUgfHwgXCJQbGF5ZXJcIn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHAtMiByb3VuZGVkICR7b3Bwb25lbnQ/LnNpZGUgPT09IGdhbWVTdGF0ZS5jdXJyZW50VHVybiAmJiAhZ2FtZUVuZGVkID8gXCJiZy15ZWxsb3ctOTAwLzUwIGJvcmRlciBib3JkZXIteWVsbG93LTUwMFwiIDogXCJiZy1ncmF5LTcwMFwifWB9PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5PcHBvbmVudCAoe29wcG9uZW50Py5zaWRlfSk8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LXNlbWlib2xkXCI+e29wcG9uZW50Py5kaXNwbGF5TmFtZSB8fCBcIk9wcG9uZW50XCJ9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQWN0aW9ucyAqL31cbiAgICAgIHshZ2FtZUVuZGVkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRm9yZmVpdH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1yZWQtNjAwIGhvdmVyOmJnLXJlZC01MDAgdGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgYm9yZGVyIGJvcmRlci1yZWQtNTAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBGb3JmZWl0IEdhbWVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogTW92ZSBIaXN0b3J5ICovfVxuICAgICAge2dhbWVTdGF0ZS5tb3ZlSGlzdG9yeS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgIDxwPk1vdmVzOiB7Z2FtZVN0YXRlLm1vdmVIaXN0b3J5Lmxlbmd0aH08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJXSU5OSU5HX0NPTUJJTkFUSU9OUyIsIlRpY1RhY1RvZUdhbWUiLCJnYW1lSWQiLCJzb2NrZXQiLCJ1c2VySWQiLCJpbml0aWFsU3RhdGUiLCJpbml0aWFsUGxheWVycyIsIm9uR2FtZUVuZCIsImdhbWVTdGF0ZSIsInNldEdhbWVTdGF0ZSIsInBsYXllcnMiLCJzZXRQbGF5ZXJzIiwiZ2FtZUVuZGVkIiwic2V0R2FtZUVuZGVkIiwiZW5kUmVzdWx0Iiwic2V0RW5kUmVzdWx0IiwiZXJyb3IiLCJzZXRFcnJvciIsImxhc3RNb3ZlIiwic2V0TGFzdE1vdmUiLCJteVN5bWJvbCIsInBsYXllclgiLCJwbGF5ZXJPIiwiaXNNeVR1cm4iLCJjdXJyZW50VHVybiIsIm9wcG9uZW50IiwiZmluZCIsInAiLCJvZFVzZXJJZCIsIm1lIiwiZW1pdCIsImhhbmRsZVN0YXRlVXBkYXRlIiwiZGF0YSIsInN0YXRlIiwidW5kZWZpbmVkIiwiY2VsbCIsImhhbmRsZUdhbWVTdGF0ZSIsImhhbmRsZUdhbWVFbmQiLCJ3aW5uZXJJZCIsIndpbm5lck5hbWUiLCJpc0RyYXciLCJyZWFzb24iLCJ3aW5uaW5nTGluZSIsImhhbmRsZUVycm9yIiwibWVzc2FnZSIsInNldFRpbWVvdXQiLCJvbiIsIm9mZiIsImhhbmRsZUNlbGxDbGljayIsImNlbGxJbmRleCIsImJvYXJkIiwiaGFuZGxlRm9yZmVpdCIsImNvbmZpcm0iLCJpc1dpbm5pbmdDZWxsIiwiaW5kZXgiLCJpbmNsdWRlcyIsImdldFJlc3VsdE1lc3NhZ2UiLCJ0ZXh0IiwiY29sb3IiLCJlbW9qaSIsImlXb24iLCJkaXYiLCJjbGFzc05hbWUiLCJyZXN1bHRNZXNzYWdlIiwiaDMiLCJzcGFuIiwiZGlzcGxheU5hbWUiLCJtYXAiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzaWRlIiwibW92ZUhpc3RvcnkiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/games/TicTacToeGame.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/games/TriviaGame.tsx":
/*!*********************************************!*\
  !*** ./src/components/games/TriviaGame.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TriviaGame)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst THEMES = [\n    {\n        value: \"geography\",\n        label: \"Geography\",\n        emoji: \"\\uD83C\\uDF0D\"\n    },\n    {\n        value: \"science\",\n        label: \"Science\",\n        emoji: \"\\uD83D\\uDD2C\"\n    },\n    {\n        value: \"history\",\n        label: \"History\",\n        emoji: \"\\uD83D\\uDCDC\"\n    },\n    {\n        value: \"sports\",\n        label: \"Sports\",\n        emoji: \"⚽\"\n    },\n    {\n        value: \"entertainment\",\n        label: \"Entertainment\",\n        emoji: \"\\uD83C\\uDFAC\"\n    },\n    {\n        value: \"mixed\",\n        label: \"Mixed\",\n        emoji: \"\\uD83C\\uDFB2\"\n    }\n];\nfunction TriviaGame({ gameId, socket, odUserId, initialState, initialPlayers, onGameEnd }) {\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialState || null);\n    const [selectedTheme, setSelectedTheme] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [themeSelectionStatus, setThemeSelectionStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [selectedAnswer, setSelectedAnswer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasAnswered, setHasAnswered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [timeRemaining, setTimeRemaining] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playersAnsweredCount, setPlayersAnsweredCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [questionStartTime, setQuestionStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showWinnerAnimation, setShowWinnerAnimation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [winnerData, setWinnerData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isTabVisible, setIsTabVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [gameStarted, setGameStarted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (initialState) {\n            setGameState(initialState);\n        }\n    }, [\n        initialState\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!socket) return;\n        // Listen for game state updates\n        const handleGameStateUpdate = (data)=>{\n            if (data.gameId === gameId) {\n                setGameState(data.state);\n                // Reset answer state when moving to a new question\n                if (data.state.phase === \"question\") {\n                    setSelectedAnswer(null);\n                    setHasAnswered(false);\n                    setPlayersAnsweredCount(0);\n                    setTimeRemaining(null);\n                }\n            }\n        };\n        // Listen for theme selection\n        const handleThemeSelected = (data)=>{\n            if (data.gameId === gameId) {\n                setThemeSelectionStatus((prev)=>({\n                        ...prev,\n                        [data.userId]: data.theme\n                    }));\n                if (data.allPlayersSelected && data.selectedTheme) {\n                    setGameState((prev)=>prev ? {\n                            ...prev,\n                            selectedTheme: data.selectedTheme,\n                            phase: \"countdown\"\n                        } : null);\n                }\n            }\n        };\n        // Listen for question start\n        const handleQuestionStart = (data)=>{\n            if (data.gameId === gameId) {\n                setSelectedAnswer(null);\n                setHasAnswered(false);\n                setTimeRemaining(data.timeLimit);\n                setPlayersAnsweredCount(0);\n                setQuestionStartTime(Date.now());\n            }\n        };\n        // Listen for player answered event\n        const handlePlayerAnswered = (data)=>{\n            setPlayersAnsweredCount((prev)=>prev + 1);\n        };\n        // Listen for question result\n        const handleQuestionResult = (data)=>{\n            if (data.gameId === gameId) {\n                setGameState((prev)=>{\n                    if (!prev) return prev;\n                    return {\n                        ...prev,\n                        phase: \"result\",\n                        currentAnswers: data.results,\n                        players: data.scores\n                    };\n                });\n                setHasAnswered(true);\n            }\n        };\n        // Listen for game end\n        const handleGameEnd = (data)=>{\n            if (data.gameId === gameId) {\n                const winner = data.finalScores.find((p)=>p.odUserId === data.winnerId);\n                const winnerName = winner?.displayName || (data.isDraw ? null : \"Unknown\");\n                setWinnerData({\n                    name: winnerName || \"\",\n                    score: winner?.score || 0,\n                    isDraw: data.isDraw\n                });\n                setShowWinnerAnimation(true);\n                if (onGameEnd) {\n                    onGameEnd({\n                        winnerId: data.winnerId,\n                        winnerName,\n                        isDraw: data.isDraw,\n                        finalScores: data.finalScores\n                    });\n                }\n                setGameState((prev)=>{\n                    if (!prev) return prev;\n                    return {\n                        ...prev,\n                        phase: \"gameEnd\"\n                    };\n                });\n            }\n        };\n        // Listen for game errors\n        const handleGameError = (data)=>{\n            console.error(\"Game error:\", data.message);\n            // If error is about answer submission, allow user to try again\n            if (data.message.includes(\"answer\") || data.message.includes(\"Question\")) {\n                setHasAnswered(false);\n            }\n        };\n        socket.on(\"game.stateUpdate\", handleGameStateUpdate);\n        socket.on(\"trivia.themeSelected\", handleThemeSelected);\n        socket.on(\"trivia.questionStart\", handleQuestionStart);\n        socket.on(\"trivia.playerAnswered\", handlePlayerAnswered);\n        socket.on(\"trivia.questionResult\", handleQuestionResult);\n        socket.on(\"trivia.gameEnd\", handleGameEnd);\n        socket.on(\"game.error\", handleGameError);\n        // Timer countdown\n        let timerInterval = null;\n        if (timeRemaining !== null && timeRemaining > 0) {\n            timerInterval = setInterval(()=>{\n                setTimeRemaining((prev)=>{\n                    if (prev === null || prev <= 1) {\n                        if (timerInterval) clearInterval(timerInterval);\n                        return 0;\n                    }\n                    return prev - 1;\n                });\n            }, 1000);\n        }\n        return ()=>{\n            socket.off(\"game.stateUpdate\", handleGameStateUpdate);\n            socket.off(\"trivia.themeSelected\", handleThemeSelected);\n            socket.off(\"trivia.questionStart\", handleQuestionStart);\n            socket.off(\"trivia.playerAnswered\", handlePlayerAnswered);\n            socket.off(\"trivia.questionResult\", handleQuestionResult);\n            socket.off(\"trivia.gameEnd\", handleGameEnd);\n            socket.off(\"game.error\", handleGameError);\n            if (timerInterval) clearInterval(timerInterval);\n        };\n    }, [\n        socket,\n        gameId,\n        timeRemaining,\n        onGameEnd\n    ]);\n    // Track if game has started (after theme selection)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState && gameState.phase !== \"themeSelection\" && !gameStarted) {\n            setGameStarted(true);\n        }\n    }, [\n        gameState?.phase,\n        gameStarted\n    ]);\n    // Prevent page exit/navigation once game starts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!gameStarted) return;\n        const handleBeforeUnload = (e)=>{\n            e.preventDefault();\n            e.returnValue = \"Are you sure you want to leave? The game is in progress!\";\n            return e.returnValue;\n        };\n        const handlePopState = (e)=>{\n            if (gameState && gameState.phase !== \"gameEnd\" && gameState.phase !== \"themeSelection\") {\n                window.history.pushState(null, \"\", window.location.href);\n                alert(\"Cannot exit the game while it's in progress!\");\n            }\n        };\n        window.addEventListener(\"beforeunload\", handleBeforeUnload);\n        window.history.pushState(null, \"\", window.location.href);\n        window.addEventListener(\"popstate\", handlePopState);\n        return ()=>{\n            window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n            window.removeEventListener(\"popstate\", handlePopState);\n        };\n    }, [\n        gameStarted,\n        gameState?.phase\n    ]);\n    // Tab visibility detection - auto-submit wrong answer if tab is switched\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!gameState || gameState.phase !== \"question\" || hasAnswered || !socket) return;\n        const handleVisibilityChange = ()=>{\n            const isVisible = !document.hidden;\n            setIsTabVisible(isVisible);\n            // If tab becomes hidden during a question, auto-submit wrong answer\n            if (!isVisible && !hasAnswered && gameState.phase === \"question\") {\n                // Submit a wrong answer (index -1 or first wrong answer)\n                const currentQuestion = gameState.questions[gameState.currentQuestionIndex];\n                if (currentQuestion) {\n                    // Find the first wrong answer index\n                    let wrongAnswerIndex = 0;\n                    for(let i = 0; i < currentQuestion.allAnswers.length; i++){\n                        if (currentQuestion.allAnswers[i] !== currentQuestion.correctAnswer) {\n                            wrongAnswerIndex = i;\n                            break;\n                        }\n                    }\n                    // Auto-submit wrong answer\n                    socket.emit(\"trivia.answer\", {\n                        gameId,\n                        questionIndex: gameState.currentQuestionIndex,\n                        answerIndex: wrongAnswerIndex\n                    });\n                    setHasAnswered(true);\n                    setSelectedAnswer(wrongAnswerIndex);\n                }\n            }\n        };\n        document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n        return ()=>{\n            document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n        };\n    }, [\n        gameState?.phase,\n        gameState?.currentQuestionIndex,\n        hasAnswered,\n        socket,\n        gameId\n    ]);\n    // Reset answer state when new question starts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState?.phase === \"question\") {\n            setSelectedAnswer(null);\n            setHasAnswered(false);\n            setPlayersAnsweredCount(0);\n            setIsTabVisible(true); // Reset visibility state for new question\n        }\n    }, [\n        gameState?.currentQuestionIndex,\n        gameState?.phase\n    ]);\n    const handleThemeSelect = (theme)=>{\n        if (selectedTheme || !socket) return;\n        setSelectedTheme(theme);\n        socket.emit(\"trivia.selectTheme\", {\n            gameId,\n            theme\n        });\n    };\n    const handleAnswerSelect = (answerIndex)=>{\n        if (hasAnswered || !gameState || gameState.phase !== \"question\") return;\n        setSelectedAnswer(answerIndex);\n    };\n    const handleSubmitAnswer = ()=>{\n        if (selectedAnswer === null || hasAnswered || !gameState || !socket) return;\n        // Set hasAnswered immediately to prevent double-clicks, but we'll handle errors\n        setHasAnswered(true);\n        socket.emit(\"trivia.answer\", {\n            gameId,\n            questionIndex: gameState.currentQuestionIndex,\n            answerIndex: selectedAnswer\n        });\n    };\n    if (!gameState) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-gray-400\",\n                children: \"Loading trivia game...\"\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                lineNumber: 367,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 366,\n            columnNumber: 7\n        }, this);\n    }\n    // Theme Selection Phase\n    if (gameState.phase === \"themeSelection\") {\n        const opponent = gameState.players.find((p)=>p.odUserId !== odUserId);\n        const opponentSelected = opponent && themeSelectionStatus[opponent.odUserId];\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-4 text-center\",\n                    children: \"Choose a Theme\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 379,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-400 text-center mb-6\",\n                    children: \"Both players will select a theme. If you choose the same, that theme will be used. Otherwise, one will be randomly selected.\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 380,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6\",\n                    children: THEMES.map((theme)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>handleThemeSelect(theme.value),\n                            disabled: !!selectedTheme,\n                            className: `p-4 rounded-lg border-2 transition-all ${selectedTheme === theme.value ? \"bg-yellow-600 border-yellow-400 text-white\" : selectedTheme ? \"bg-gray-800 border-gray-700 text-gray-500 cursor-not-allowed\" : \"bg-gray-800 border-gray-600 text-white hover:bg-gray-700 hover:border-gray-500\"}`,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-3xl mb-2\",\n                                    children: theme.emoji\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 398,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"font-semibold\",\n                                    children: theme.label\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 399,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, theme.value, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 386,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 384,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center space-y-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-400\",\n                            children: selectedTheme ? \"✓ You selected: \" + THEMES.find((t)=>t.value === selectedTheme)?.label : \"Select a theme above\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 405,\n                            columnNumber: 11\n                        }, this),\n                        opponentSelected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-400\",\n                            children: [\n                                \"Opponent selected: \",\n                                THEMES.find((t)=>t.value === opponentSelected)?.label\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 409,\n                            columnNumber: 13\n                        }, this),\n                        selectedTheme && !gameState.selectedTheme && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-yellow-400\",\n                            children: \"Waiting for opponent to select...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 414,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 404,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 378,\n            columnNumber: 7\n        }, this);\n    }\n    // Countdown Phase\n    if (gameState.phase === \"countdown\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-2xl font-bold text-white mb-2\",\n                        children: \"Get Ready!\"\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                        lineNumber: 426,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-400 mb-4\",\n                        children: [\n                            \"Theme: \",\n                            THEMES.find((t)=>t.value === gameState.selectedTheme)?.emoji,\n                            \" \",\n                            THEMES.find((t)=>t.value === gameState.selectedTheme)?.label\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                        lineNumber: 427,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-400\",\n                        children: \"Trivia game starting soon...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                        lineNumber: 428,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                lineNumber: 425,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 424,\n            columnNumber: 7\n        }, this);\n    }\n    // Validate game state structure\n    if (!gameState.questions || !Array.isArray(gameState.questions) || gameState.questions.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-gray-400\",\n                children: \"Waiting for trivia questions...\"\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                lineNumber: 438,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 437,\n            columnNumber: 7\n        }, this);\n    }\n    const currentQuestion = gameState.questions[gameState.currentQuestionIndex];\n    const playerScore = gameState.players.find((p)=>p.odUserId === odUserId)?.score || 0;\n    const opponent = gameState.players.find((p)=>p.odUserId !== odUserId);\n    // Game End with Winner Animation\n    if (gameState.phase === \"gameEnd\" || showWinnerAnimation) {\n        const winner = gameState.players.reduce((max, p)=>p.score > (max?.score || 0) ? p : max);\n        const isDraw = gameState.players[0].score === gameState.players[1].score;\n        const isWinner = winner.odUserId === odUserId && !isDraw;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6 relative overflow-hidden\",\n            children: [\n                showWinnerAnimation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute inset-0 flex items-center justify-center bg-black/80 z-50 animate-fade-in\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center animate-bounce\",\n                        children: isDraw ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-6xl mb-4\",\n                                    children: \"\\uD83E\\uDD1D\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 463,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-4xl font-bold text-yellow-400 mb-2\",\n                                    children: \"It's a Tie!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 464,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xl text-white\",\n                                    children: [\n                                        \"Both players scored \",\n                                        winner.score,\n                                        \" points!\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 465,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-8xl mb-4 animate-pulse\",\n                                    children: \"\\uD83C\\uDFC6\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 469,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-5xl font-bold text-yellow-400 mb-2\",\n                                    children: isWinner ? \"You Win!\" : `${winner.displayName} Wins!`\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 470,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-2xl text-white mb-4\",\n                                    children: isWinner ? \"Congratulations!\" : \"Better luck next time!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 473,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xl text-gray-300\",\n                                    children: [\n                                        \"Final Score: \",\n                                        winner.score,\n                                        \" points\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 476,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                        lineNumber: 460,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 459,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: showWinnerAnimation ? \"opacity-30\" : \"\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white mb-4 text-center\",\n                            children: \"Game Over!\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 487,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center mb-6\",\n                                    children: isDraw ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xl text-yellow-400\",\n                                        children: \"It's a tie!\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                        lineNumber: 491,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-center gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-4xl\",\n                                                children: \"\\uD83C\\uDFC6\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                                lineNumber: 494,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xl text-green-400\",\n                                                children: [\n                                                    winner.displayName,\n                                                    \" wins with \",\n                                                    winner.score,\n                                                    \" points!\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                                lineNumber: 495,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                        lineNumber: 493,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 489,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: gameState.players.map((player)=>{\n                                        const isPlayerWinner = player.odUserId === winner.odUserId && !isDraw;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `p-4 rounded flex items-center justify-between ${isPlayerWinner ? \"bg-green-900/30 border-2 border-green-500\" : \"bg-gray-800 border border-gray-700\"}`,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-3\",\n                                                    children: [\n                                                        isPlayerWinner && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-2xl\",\n                                                            children: \"\\uD83C\\uDFC6\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                                            lineNumber: 514,\n                                                            columnNumber: 42\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: `text-lg font-semibold ${isPlayerWinner ? \"text-green-400\" : \"text-white\"}`,\n                                                            children: player.displayName\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                                            lineNumber: 515,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                                    lineNumber: 513,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: `text-lg font-bold ${isPlayerWinner ? \"text-green-400\" : \"text-gray-300\"}`,\n                                                    children: [\n                                                        player.score,\n                                                        \" points\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                                    lineNumber: 519,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, player.odUserId, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                            lineNumber: 505,\n                                            columnNumber: 19\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 501,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 488,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 486,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 456,\n            columnNumber: 7\n        }, this);\n    }\n    // Result Phase\n    if (gameState.phase === \"result\") {\n        const userResult = gameState.currentAnswers.find((a)=>a.odUserId === odUserId);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-xl font-bold text-white mb-4\",\n                    children: [\n                        \"Question \",\n                        gameState.currentQuestionIndex + 1,\n                        \" of \",\n                        gameState.questions.length\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 538,\n                    columnNumber: 9\n                }, this),\n                userResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `p-4 rounded mb-4 ${userResult.isCorrect ? \"bg-green-900/30 border border-green-500\" : \"bg-red-900/30 border border-red-500\"}`,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-white font-semibold mb-2\",\n                            children: userResult.isCorrect ? \"✓ Correct!\" : \"✗ Incorrect\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 546,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-300\",\n                            children: [\n                                \"Your answer: \",\n                                userResult.selectedAnswer\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 549,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-300\",\n                            children: [\n                                \"Correct answer: \",\n                                currentQuestion.correctAnswer\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 550,\n                            columnNumber: 13\n                        }, this),\n                        userResult.pointsEarned > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-green-400 font-bold text-lg\",\n                            children: [\n                                \"+\",\n                                userResult.pointsEarned,\n                                \" points\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 552,\n                            columnNumber: 15\n                        }, this),\n                        !userResult.isCorrect && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-red-400\",\n                            children: \"+0 points (wrong answer)\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 555,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 543,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-semibold text-white\",\n                            children: \"Scores:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 561,\n                            columnNumber: 11\n                        }, this),\n                        gameState.players.map((player)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between bg-gray-800 p-2 rounded\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-white\",\n                                        children: player.displayName\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                        lineNumber: 564,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-gray-300\",\n                                        children: [\n                                            player.score,\n                                            \" points\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                        lineNumber: 565,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, player.odUserId, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                lineNumber: 563,\n                                columnNumber: 13\n                            }, this))\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 560,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 537,\n            columnNumber: 7\n        }, this);\n    }\n    // Question Phase\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-center mb-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-bold text-white\",\n                        children: [\n                            \"Question \",\n                            gameState.currentQuestionIndex + 1,\n                            \" of \",\n                            gameState.questions.length\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                        lineNumber: 577,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-right\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-gray-400\",\n                                children: \"Your Score\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                lineNumber: 581,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-2xl font-bold text-white\",\n                                children: playerScore\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                lineNumber: 582,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                        lineNumber: 580,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                lineNumber: 576,\n                columnNumber: 7\n            }, this),\n            timeRemaining !== null && timeRemaining > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center mb-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `text-lg font-semibold ${!isTabVisible ? \"text-red-500\" : \"text-yellow-400\"}`,\n                    children: [\n                        \"Time remaining: \",\n                        timeRemaining,\n                        \"s\",\n                        !isTabVisible && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"ml-2 text-red-500 text-sm\",\n                            children: \"⚠️ Tab switched - answer will be marked wrong!\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 591,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 588,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                lineNumber: 587,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-lg font-semibold text-white mb-4\",\n                        children: currentQuestion.question\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                        lineNumber: 598,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: currentQuestion.allAnswers.map((answer, index)=>{\n                            const isSelected = selectedAnswer === index;\n                            const isDisabled = hasAnswered;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>handleAnswerSelect(index),\n                                disabled: isDisabled,\n                                className: `w-full text-left p-4 rounded border-2 transition-all ${isSelected ? \"bg-yellow-600 border-yellow-400 text-white\" : isDisabled ? \"bg-gray-800 border-gray-700 text-gray-500 cursor-not-allowed\" : \"bg-gray-800 border-gray-600 text-white hover:bg-gray-700 hover:border-gray-500\"}`,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-semibold mr-2\",\n                                        children: [\n                                            String.fromCharCode(65 + index),\n                                            \".\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                        lineNumber: 618,\n                                        columnNumber: 17\n                                    }, this),\n                                    answer\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                lineNumber: 606,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                        lineNumber: 600,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                lineNumber: 597,\n                columnNumber: 7\n            }, this),\n            !hasAnswered && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center mb-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleSubmitAnswer,\n                    disabled: selectedAnswer === null,\n                    className: \"bg-white px-6 py-2 text-black font-semibold hover:bg-gray-200 border-2 border-white disabled:opacity-50 disabled:cursor-not-allowed\",\n                    children: \"Submit Answer\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 628,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                lineNumber: 627,\n                columnNumber: 9\n            }, this),\n            hasAnswered && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center text-gray-400 mb-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"✓ Answer submitted! Waiting for other players...\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 640,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                lineNumber: 639,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 text-center text-sm text-gray-400\",\n                children: [\n                    playersAnsweredCount,\n                    \" / \",\n                    gameState.playerCount,\n                    \" players answered\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                lineNumber: 644,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n        lineNumber: 575,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9nYW1lcy9Ucml2aWFHYW1lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFNEM7QUFxRDVDLE1BQU1FLFNBQWlFO0lBQ3JFO1FBQUVDLE9BQU87UUFBYUMsT0FBTztRQUFhQyxPQUFPO0lBQUs7SUFDdEQ7UUFBRUYsT0FBTztRQUFXQyxPQUFPO1FBQVdDLE9BQU87SUFBSztJQUNsRDtRQUFFRixPQUFPO1FBQVdDLE9BQU87UUFBV0MsT0FBTztJQUFLO0lBQ2xEO1FBQUVGLE9BQU87UUFBVUMsT0FBTztRQUFVQyxPQUFPO0lBQUk7SUFDL0M7UUFBRUYsT0FBTztRQUFpQkMsT0FBTztRQUFpQkMsT0FBTztJQUFLO0lBQzlEO1FBQUVGLE9BQU87UUFBU0MsT0FBTztRQUFTQyxPQUFPO0lBQUs7Q0FDL0M7QUFFYyxTQUFTQyxXQUFXLEVBQ2pDQyxNQUFNLEVBQ05DLE1BQU0sRUFDTkMsUUFBUSxFQUNSQyxZQUFZLEVBQ1pDLGNBQWMsRUFDZEMsU0FBUyxFQUNPO0lBQ2hCLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHYiwrQ0FBUUEsQ0FBcUJTLGdCQUFnQjtJQUMvRSxNQUFNLENBQUNLLGVBQWVDLGlCQUFpQixHQUFHZiwrQ0FBUUEsQ0FBcUI7SUFDdkUsTUFBTSxDQUFDZ0Isc0JBQXNCQyx3QkFBd0IsR0FBR2pCLCtDQUFRQSxDQUE0QixDQUFDO0lBQzdGLE1BQU0sQ0FBQ2tCLGdCQUFnQkMsa0JBQWtCLEdBQUduQiwrQ0FBUUEsQ0FBZ0I7SUFDcEUsTUFBTSxDQUFDb0IsYUFBYUMsZUFBZSxHQUFHckIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDc0IsZUFBZUMsaUJBQWlCLEdBQUd2QiwrQ0FBUUEsQ0FBZ0I7SUFDbEUsTUFBTSxDQUFDd0Isc0JBQXNCQyx3QkFBd0IsR0FBR3pCLCtDQUFRQSxDQUFDO0lBQ2pFLE1BQU0sQ0FBQzBCLG1CQUFtQkMscUJBQXFCLEdBQUczQiwrQ0FBUUEsQ0FBZ0I7SUFDMUUsTUFB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RjtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ2pEOzhCQUFFOzs7Ozs7Ozs7OzswQkFJUCw4REFBQ2dEO2dCQUFJQyxXQUFVOztvQkFDWnBGO29CQUFxQjtvQkFBSVosVUFBVThILFdBQVc7b0JBQUM7Ozs7Ozs7Ozs7Ozs7QUFJeEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab21lZ2xlLWdhbWUvd2ViLy4vc3JjL2NvbXBvbmVudHMvZ2FtZXMvVHJpdmlhR2FtZS50c3g/ZWY3NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSBcInNvY2tldC5pby1jbGllbnRcIjtcblxudHlwZSBUcml2aWFUaGVtZSA9IFwiZ2VvZ3JhcGh5XCIgfCBcInNjaWVuY2VcIiB8IFwiaGlzdG9yeVwiIHwgXCJzcG9ydHNcIiB8IFwiZW50ZXJ0YWlubWVudFwiIHwgXCJtaXhlZFwiO1xuXG5pbnRlcmZhY2UgVHJpdmlhU3RhdGUge1xuICBwaGFzZTogXCJ0aGVtZVNlbGVjdGlvblwiIHwgXCJjb3VudGRvd25cIiB8IFwicXVlc3Rpb25cIiB8IFwicmVzdWx0XCIgfCBcImdhbWVFbmRcIjtcbiAgY3VycmVudFF1ZXN0aW9uSW5kZXg6IG51bWJlcjtcbiAgcXVlc3Rpb25zOiBBcnJheTx7XG4gICAgcXVlc3Rpb246IHN0cmluZztcbiAgICBhbGxBbnN3ZXJzOiBzdHJpbmdbXTtcbiAgICBjb3JyZWN0QW5zd2VyOiBzdHJpbmc7XG4gICAgY2F0ZWdvcnk/OiBzdHJpbmc7XG4gIH0+O1xuICBwbGF5ZXJzOiBBcnJheTx7XG4gICAgb2RVc2VySWQ6IHN0cmluZztcbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nO1xuICAgIHNjb3JlOiBudW1iZXI7XG4gIH0+O1xuICBjdXJyZW50QW5zd2VyczogQXJyYXk8e1xuICAgIG9kVXNlcklkOiBzdHJpbmc7XG4gICAgc2VsZWN0ZWRBbnN3ZXI6IHN0cmluZztcbiAgICBzZWxlY3RlZEFuc3dlckluZGV4OiBudW1iZXI7XG4gICAgaXNDb3JyZWN0OiBib29sZWFuO1xuICAgIHBvaW50c0Vhcm5lZDogbnVtYmVyO1xuICAgIHRpbWVUb0Fuc3dlcjogbnVtYmVyO1xuICB9PjtcbiAgcGxheWVyQ291bnQ6IG51bWJlcjtcbiAgc2VsZWN0ZWRUaGVtZT86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEdhbWVQbGF5ZXIge1xuICBvZFVzZXJJZDogc3RyaW5nO1xuICBzaWRlOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBUcml2aWFHYW1lUHJvcHMge1xuICBnYW1lSWQ6IHN0cmluZztcbiAgc29ja2V0OiBTb2NrZXQ7XG4gIG9kVXNlcklkOiBzdHJpbmc7XG4gIGluaXRpYWxTdGF0ZT86IFRyaXZpYVN0YXRlO1xuICBpbml0aWFsUGxheWVycz86IEdhbWVQbGF5ZXJbXTtcbiAgb25HYW1lRW5kPzogKHJlc3VsdDogR2FtZUVuZFJlc3VsdCkgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIEdhbWVFbmRSZXN1bHQge1xuICB3aW5uZXJJZDogc3RyaW5nIHwgbnVsbDtcbiAgd2lubmVyTmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgaXNEcmF3OiBib29sZWFuO1xuICBmaW5hbFNjb3JlczogQXJyYXk8eyBvZFVzZXJJZDogc3RyaW5nOyBkaXNwbGF5TmFtZTogc3RyaW5nOyBzY29yZTogbnVtYmVyIH0+O1xufVxuXG5jb25zdCBUSEVNRVM6IHsgdmFsdWU6IFRyaXZpYVRoZW1lOyBsYWJlbDogc3RyaW5nOyBlbW9qaTogc3RyaW5nIH1bXSA9IFtcbiAgeyB2YWx1ZTogXCJnZW9ncmFwaHlcIiwgbGFiZWw6IFwiR2VvZ3JhcGh5XCIsIGVtb2ppOiBcIvCfjI1cIiB9LFxuICB7IHZhbHVlOiBcInNjaWVuY2VcIiwgbGFiZWw6IFwiU2NpZW5jZVwiLCBlbW9qaTogXCLwn5SsXCIgfSxcbiAgeyB2YWx1ZTogXCJoaXN0b3J5XCIsIGxhYmVsOiBcIkhpc3RvcnlcIiwgZW1vamk6IFwi8J+TnFwiIH0sXG4gIHsgdmFsdWU6IFwic3BvcnRzXCIsIGxhYmVsOiBcIlNwb3J0c1wiLCBlbW9qaTogXCLimr1cIiB9LFxuICB7IHZhbHVlOiBcImVudGVydGFpbm1lbnRcIiwgbGFiZWw6IFwiRW50ZXJ0YWlubWVudFwiLCBlbW9qaTogXCLwn46sXCIgfSxcbiAgeyB2YWx1ZTogXCJtaXhlZFwiLCBsYWJlbDogXCJNaXhlZFwiLCBlbW9qaTogXCLwn46yXCIgfVxuXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVHJpdmlhR2FtZSh7XG4gIGdhbWVJZCxcbiAgc29ja2V0LFxuICBvZFVzZXJJZCxcbiAgaW5pdGlhbFN0YXRlLFxuICBpbml0aWFsUGxheWVycyxcbiAgb25HYW1lRW5kXG59OiBUcml2aWFHYW1lUHJvcHMpIHtcbiAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPFRyaXZpYVN0YXRlIHwgbnVsbD4oaW5pdGlhbFN0YXRlIHx8IG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWRUaGVtZSwgc2V0U2VsZWN0ZWRUaGVtZV0gPSB1c2VTdGF0ZTxUcml2aWFUaGVtZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdGhlbWVTZWxlY3Rpb25TdGF0dXMsIHNldFRoZW1lU2VsZWN0aW9uU3RhdHVzXSA9IHVzZVN0YXRlPHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0+KHt9KTtcbiAgY29uc3QgW3NlbGVjdGVkQW5zd2VyLCBzZXRTZWxlY3RlZEFuc3dlcl0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2hhc0Fuc3dlcmVkLCBzZXRIYXNBbnN3ZXJlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt0aW1lUmVtYWluaW5nLCBzZXRUaW1lUmVtYWluaW5nXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcGxheWVyc0Fuc3dlcmVkQ291bnQsIHNldFBsYXllcnNBbnN3ZXJlZENvdW50XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbcXVlc3Rpb25TdGFydFRpbWUsIHNldFF1ZXN0aW9uU3RhcnRUaW1lXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd1dpbm5lckFuaW1hdGlvbiwgc2V0U2hvd1dpbm5lckFuaW1hdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt3aW5uZXJEYXRhLCBzZXRXaW5uZXJEYXRhXSA9IHVzZVN0YXRlPHsgbmFtZTogc3RyaW5nOyBzY29yZTogbnVtYmVyOyBpc0RyYXc6IGJvb2xlYW4gfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNUYWJWaXNpYmxlLCBzZXRJc1RhYlZpc2libGVdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtnYW1lU3RhcnRlZCwgc2V0R2FtZVN0YXJ0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxTdGF0ZSkge1xuICAgICAgc2V0R2FtZVN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgfVxuICB9LCBbaW5pdGlhbFN0YXRlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNvY2tldCkgcmV0dXJuO1xuXG4gICAgLy8gTGlzdGVuIGZvciBnYW1lIHN0YXRlIHVwZGF0ZXNcbiAgICBjb25zdCBoYW5kbGVHYW1lU3RhdGVVcGRhdGUgPSAoZGF0YTogeyBnYW1lSWQ6IHN0cmluZzsgc3RhdGU6IFRyaXZpYVN0YXRlIH0pID0+IHtcbiAgICAgIGlmIChkYXRhLmdhbWVJZCA9PT0gZ2FtZUlkKSB7XG4gICAgICAgIHNldEdhbWVTdGF0ZShkYXRhLnN0YXRlKTtcbiAgICAgICAgLy8gUmVzZXQgYW5zd2VyIHN0YXRlIHdoZW4gbW92aW5nIHRvIGEgbmV3IHF1ZXN0aW9uXG4gICAgICAgIGlmIChkYXRhLnN0YXRlLnBoYXNlID09PSBcInF1ZXN0aW9uXCIpIHtcbiAgICAgICAgICBzZXRTZWxlY3RlZEFuc3dlcihudWxsKTtcbiAgICAgICAgICBzZXRIYXNBbnN3ZXJlZChmYWxzZSk7XG4gICAgICAgICAgc2V0UGxheWVyc0Fuc3dlcmVkQ291bnQoMCk7XG4gICAgICAgICAgc2V0VGltZVJlbWFpbmluZyhudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHRoZW1lIHNlbGVjdGlvblxuICAgIGNvbnN0IGhhbmRsZVRoZW1lU2VsZWN0ZWQgPSAoZGF0YToge1xuICAgICAgZ2FtZUlkOiBzdHJpbmc7XG4gICAgICB1c2VySWQ6IHN0cmluZztcbiAgICAgIHRoZW1lOiBzdHJpbmc7XG4gICAgICBhbGxQbGF5ZXJzU2VsZWN0ZWQ6IGJvb2xlYW47XG4gICAgICBzZWxlY3RlZFRoZW1lPzogc3RyaW5nO1xuICAgIH0pID0+IHtcbiAgICAgIGlmIChkYXRhLmdhbWVJZCA9PT0gZ2FtZUlkKSB7XG4gICAgICAgIHNldFRoZW1lU2VsZWN0aW9uU3RhdHVzKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFtkYXRhLnVzZXJJZF06IGRhdGEudGhlbWVcbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAoZGF0YS5hbGxQbGF5ZXJzU2VsZWN0ZWQgJiYgZGF0YS5zZWxlY3RlZFRoZW1lKSB7XG4gICAgICAgICAgc2V0R2FtZVN0YXRlKHByZXYgPT4gcHJldiA/IHsgLi4ucHJldiwgc2VsZWN0ZWRUaGVtZTogZGF0YS5zZWxlY3RlZFRoZW1lLCBwaGFzZTogXCJjb3VudGRvd25cIiB9IDogbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gTGlzdGVuIGZvciBxdWVzdGlvbiBzdGFydFxuICAgIGNvbnN0IGhhbmRsZVF1ZXN0aW9uU3RhcnQgPSAoZGF0YTogeyBnYW1lSWQ6IHN0cmluZzsgcXVlc3Rpb25JbmRleDogbnVtYmVyOyB0aW1lTGltaXQ6IG51bWJlciB9KSA9PiB7XG4gICAgICBpZiAoZGF0YS5nYW1lSWQgPT09IGdhbWVJZCkge1xuICAgICAgICBzZXRTZWxlY3RlZEFuc3dlcihudWxsKTtcbiAgICAgICAgc2V0SGFzQW5zd2VyZWQoZmFsc2UpO1xuICAgICAgICBzZXRUaW1lUmVtYWluaW5nKGRhdGEudGltZUxpbWl0KTtcbiAgICAgICAgc2V0UGxheWVyc0Fuc3dlcmVkQ291bnQoMCk7XG4gICAgICAgIHNldFF1ZXN0aW9uU3RhcnRUaW1lKERhdGUubm93KCkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHBsYXllciBhbnN3ZXJlZCBldmVudFxuICAgIGNvbnN0IGhhbmRsZVBsYXllckFuc3dlcmVkID0gKGRhdGE6IHsgb2RVc2VySWQ6IHN0cmluZyB9KSA9PiB7XG4gICAgICBzZXRQbGF5ZXJzQW5zd2VyZWRDb3VudCgocHJldikgPT4gcHJldiArIDEpO1xuICAgIH07XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHF1ZXN0aW9uIHJlc3VsdFxuICAgIGNvbnN0IGhhbmRsZVF1ZXN0aW9uUmVzdWx0ID0gKGRhdGE6IHtcbiAgICAgIGdhbWVJZDogc3RyaW5nO1xuICAgICAgY29ycmVjdEFuc3dlcjogc3RyaW5nO1xuICAgICAgY29ycmVjdEFuc3dlckluZGV4OiBudW1iZXI7XG4gICAgICByZXN1bHRzOiBBcnJheTx7XG4gICAgICAgIG9kVXNlcklkOiBzdHJpbmc7XG4gICAgICAgIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gICAgICAgIHNlbGVjdGVkQW5zd2VyOiBzdHJpbmc7XG4gICAgICAgIHNlbGVjdGVkQW5zd2VySW5kZXg6IG51bWJlcjtcbiAgICAgICAgaXNDb3JyZWN0OiBib29sZWFuO1xuICAgICAgICBwb2ludHNFYXJuZWQ6IG51bWJlcjtcbiAgICAgICAgdGltZVRvQW5zd2VyOiBudW1iZXI7XG4gICAgICB9PjtcbiAgICAgIHNjb3JlczogQXJyYXk8eyBvZFVzZXJJZDogc3RyaW5nOyBkaXNwbGF5TmFtZTogc3RyaW5nOyBzY29yZTogbnVtYmVyIH0+O1xuICAgIH0pID0+IHtcbiAgICAgIGlmIChkYXRhLmdhbWVJZCA9PT0gZ2FtZUlkKSB7XG4gICAgICAgIHNldEdhbWVTdGF0ZSgocHJldikgPT4ge1xuICAgICAgICAgIGlmICghcHJldikgcmV0dXJuIHByZXY7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICBwaGFzZTogXCJyZXN1bHRcIixcbiAgICAgICAgICAgIGN1cnJlbnRBbnN3ZXJzOiBkYXRhLnJlc3VsdHMsXG4gICAgICAgICAgICBwbGF5ZXJzOiBkYXRhLnNjb3Jlc1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRIYXNBbnN3ZXJlZCh0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gTGlzdGVuIGZvciBnYW1lIGVuZFxuICAgIGNvbnN0IGhhbmRsZUdhbWVFbmQgPSAoZGF0YToge1xuICAgICAgZ2FtZUlkOiBzdHJpbmc7XG4gICAgICBmaW5hbFNjb3JlczogQXJyYXk8eyBvZFVzZXJJZDogc3RyaW5nOyBkaXNwbGF5TmFtZTogc3RyaW5nOyBzY29yZTogbnVtYmVyIH0+O1xuICAgICAgd2lubmVySWQ6IHN0cmluZyB8IG51bGw7XG4gICAgICB3aW5uZXJJZHM/OiBzdHJpbmdbXTtcbiAgICAgIGlzRHJhdzogYm9vbGVhbjtcbiAgICB9KSA9PiB7XG4gICAgICBpZiAoZGF0YS5nYW1lSWQgPT09IGdhbWVJZCkge1xuICAgICAgICBjb25zdCB3aW5uZXIgPSBkYXRhLmZpbmFsU2NvcmVzLmZpbmQoKHApID0+IHAub2RVc2VySWQgPT09IGRhdGEud2lubmVySWQpO1xuICAgICAgICBjb25zdCB3aW5uZXJOYW1lID0gd2lubmVyPy5kaXNwbGF5TmFtZSB8fCAoZGF0YS5pc0RyYXcgPyBudWxsIDogXCJVbmtub3duXCIpO1xuICAgICAgICBcbiAgICAgICAgc2V0V2lubmVyRGF0YSh7XG4gICAgICAgICAgbmFtZTogd2lubmVyTmFtZSB8fCBcIlwiLFxuICAgICAgICAgIHNjb3JlOiB3aW5uZXI/LnNjb3JlIHx8IDAsXG4gICAgICAgICAgaXNEcmF3OiBkYXRhLmlzRHJhd1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0U2hvd1dpbm5lckFuaW1hdGlvbih0cnVlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChvbkdhbWVFbmQpIHtcbiAgICAgICAgICBvbkdhbWVFbmQoe1xuICAgICAgICAgICAgd2lubmVySWQ6IGRhdGEud2lubmVySWQsXG4gICAgICAgICAgICB3aW5uZXJOYW1lLFxuICAgICAgICAgICAgaXNEcmF3OiBkYXRhLmlzRHJhdyxcbiAgICAgICAgICAgIGZpbmFsU2NvcmVzOiBkYXRhLmZpbmFsU2NvcmVzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0R2FtZVN0YXRlKChwcmV2KSA9PiB7XG4gICAgICAgICAgaWYgKCFwcmV2KSByZXR1cm4gcHJldjtcbiAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCBwaGFzZTogXCJnYW1lRW5kXCIgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIExpc3RlbiBmb3IgZ2FtZSBlcnJvcnNcbiAgICBjb25zdCBoYW5kbGVHYW1lRXJyb3IgPSAoZGF0YTogeyBtZXNzYWdlOiBzdHJpbmcgfSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkdhbWUgZXJyb3I6XCIsIGRhdGEubWVzc2FnZSk7XG4gICAgICAvLyBJZiBlcnJvciBpcyBhYm91dCBhbnN3ZXIgc3VibWlzc2lvbiwgYWxsb3cgdXNlciB0byB0cnkgYWdhaW5cbiAgICAgIGlmIChkYXRhLm1lc3NhZ2UuaW5jbHVkZXMoXCJhbnN3ZXJcIikgfHwgZGF0YS5tZXNzYWdlLmluY2x1ZGVzKFwiUXVlc3Rpb25cIikpIHtcbiAgICAgICAgc2V0SGFzQW5zd2VyZWQoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzb2NrZXQub24oXCJnYW1lLnN0YXRlVXBkYXRlXCIsIGhhbmRsZUdhbWVTdGF0ZVVwZGF0ZSk7XG4gICAgc29ja2V0Lm9uKFwidHJpdmlhLnRoZW1lU2VsZWN0ZWRcIiwgaGFuZGxlVGhlbWVTZWxlY3RlZCk7XG4gICAgc29ja2V0Lm9uKFwidHJpdmlhLnF1ZXN0aW9uU3RhcnRcIiwgaGFuZGxlUXVlc3Rpb25TdGFydCk7XG4gICAgc29ja2V0Lm9uKFwidHJpdmlhLnBsYXllckFuc3dlcmVkXCIsIGhhbmRsZVBsYXllckFuc3dlcmVkKTtcbiAgICBzb2NrZXQub24oXCJ0cml2aWEucXVlc3Rpb25SZXN1bHRcIiwgaGFuZGxlUXVlc3Rpb25SZXN1bHQpO1xuICAgIHNvY2tldC5vbihcInRyaXZpYS5nYW1lRW5kXCIsIGhhbmRsZUdhbWVFbmQpO1xuICAgIHNvY2tldC5vbihcImdhbWUuZXJyb3JcIiwgaGFuZGxlR2FtZUVycm9yKTtcblxuICAgIC8vIFRpbWVyIGNvdW50ZG93blxuICAgIGxldCB0aW1lckludGVydmFsOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuICAgIGlmICh0aW1lUmVtYWluaW5nICE9PSBudWxsICYmIHRpbWVSZW1haW5pbmcgPiAwKSB7XG4gICAgICB0aW1lckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBzZXRUaW1lUmVtYWluaW5nKChwcmV2KSA9PiB7XG4gICAgICAgICAgaWYgKHByZXYgPT09IG51bGwgfHwgcHJldiA8PSAxKSB7XG4gICAgICAgICAgICBpZiAodGltZXJJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbCh0aW1lckludGVydmFsKTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJldiAtIDE7XG4gICAgICAgIH0pO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNvY2tldC5vZmYoXCJnYW1lLnN0YXRlVXBkYXRlXCIsIGhhbmRsZUdhbWVTdGF0ZVVwZGF0ZSk7XG4gICAgICBzb2NrZXQub2ZmKFwidHJpdmlhLnRoZW1lU2VsZWN0ZWRcIiwgaGFuZGxlVGhlbWVTZWxlY3RlZCk7XG4gICAgICBzb2NrZXQub2ZmKFwidHJpdmlhLnF1ZXN0aW9uU3RhcnRcIiwgaGFuZGxlUXVlc3Rpb25TdGFydCk7XG4gICAgICBzb2NrZXQub2ZmKFwidHJpdmlhLnBsYXllckFuc3dlcmVkXCIsIGhhbmRsZVBsYXllckFuc3dlcmVkKTtcbiAgICAgIHNvY2tldC5vZmYoXCJ0cml2aWEucXVlc3Rpb25SZXN1bHRcIiwgaGFuZGxlUXVlc3Rpb25SZXN1bHQpO1xuICAgICAgc29ja2V0Lm9mZihcInRyaXZpYS5nYW1lRW5kXCIsIGhhbmRsZUdhbWVFbmQpO1xuICAgICAgc29ja2V0Lm9mZihcImdhbWUuZXJyb3JcIiwgaGFuZGxlR2FtZUVycm9yKTtcbiAgICAgIGlmICh0aW1lckludGVydmFsKSBjbGVhckludGVydmFsKHRpbWVySW50ZXJ2YWwpO1xuICAgIH07XG4gIH0sIFtzb2NrZXQsIGdhbWVJZCwgdGltZVJlbWFpbmluZywgb25HYW1lRW5kXSk7XG5cbiAgLy8gVHJhY2sgaWYgZ2FtZSBoYXMgc3RhcnRlZCAoYWZ0ZXIgdGhlbWUgc2VsZWN0aW9uKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnYW1lU3RhdGUgJiYgZ2FtZVN0YXRlLnBoYXNlICE9PSBcInRoZW1lU2VsZWN0aW9uXCIgJiYgIWdhbWVTdGFydGVkKSB7XG4gICAgICBzZXRHYW1lU3RhcnRlZCh0cnVlKTtcbiAgICB9XG4gIH0sIFtnYW1lU3RhdGU/LnBoYXNlLCBnYW1lU3RhcnRlZF0pO1xuXG4gIC8vIFByZXZlbnQgcGFnZSBleGl0L25hdmlnYXRpb24gb25jZSBnYW1lIHN0YXJ0c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZ2FtZVN0YXJ0ZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGhhbmRsZUJlZm9yZVVubG9hZCA9IChlOiBCZWZvcmVVbmxvYWRFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5yZXR1cm5WYWx1ZSA9IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlPyBUaGUgZ2FtZSBpcyBpbiBwcm9ncmVzcyFcIjtcbiAgICAgIHJldHVybiBlLnJldHVyblZhbHVlO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVQb3BTdGF0ZSA9IChlOiBQb3BTdGF0ZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoZ2FtZVN0YXRlICYmIGdhbWVTdGF0ZS5waGFzZSAhPT0gXCJnYW1lRW5kXCIgJiYgZ2FtZVN0YXRlLnBoYXNlICE9PSBcInRoZW1lU2VsZWN0aW9uXCIpIHtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsIFwiXCIsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgYWxlcnQoXCJDYW5ub3QgZXhpdCB0aGUgZ2FtZSB3aGlsZSBpdCdzIGluIHByb2dyZXNzIVwiKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgaGFuZGxlQmVmb3JlVW5sb2FkKTtcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgXCJcIiwgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgaGFuZGxlUG9wU3RhdGUpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIGhhbmRsZUJlZm9yZVVubG9hZCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIGhhbmRsZVBvcFN0YXRlKTtcbiAgICB9O1xuICB9LCBbZ2FtZVN0YXJ0ZWQsIGdhbWVTdGF0ZT8ucGhhc2VdKTtcblxuICAvLyBUYWIgdmlzaWJpbGl0eSBkZXRlY3Rpb24gLSBhdXRvLXN1Ym1pdCB3cm9uZyBhbnN3ZXIgaWYgdGFiIGlzIHN3aXRjaGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFnYW1lU3RhdGUgfHwgZ2FtZVN0YXRlLnBoYXNlICE9PSBcInF1ZXN0aW9uXCIgfHwgaGFzQW5zd2VyZWQgfHwgIXNvY2tldCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9ICFkb2N1bWVudC5oaWRkZW47XG4gICAgICBzZXRJc1RhYlZpc2libGUoaXNWaXNpYmxlKTtcblxuICAgICAgLy8gSWYgdGFiIGJlY29tZXMgaGlkZGVuIGR1cmluZyBhIHF1ZXN0aW9uLCBhdXRvLXN1Ym1pdCB3cm9uZyBhbnN3ZXJcbiAgICAgIGlmICghaXNWaXNpYmxlICYmICFoYXNBbnN3ZXJlZCAmJiBnYW1lU3RhdGUucGhhc2UgPT09IFwicXVlc3Rpb25cIikge1xuICAgICAgICAvLyBTdWJtaXQgYSB3cm9uZyBhbnN3ZXIgKGluZGV4IC0xIG9yIGZpcnN0IHdyb25nIGFuc3dlcilcbiAgICAgICAgY29uc3QgY3VycmVudFF1ZXN0aW9uID0gZ2FtZVN0YXRlLnF1ZXN0aW9uc1tnYW1lU3RhdGUuY3VycmVudFF1ZXN0aW9uSW5kZXhdO1xuICAgICAgICBpZiAoY3VycmVudFF1ZXN0aW9uKSB7XG4gICAgICAgICAgLy8gRmluZCB0aGUgZmlyc3Qgd3JvbmcgYW5zd2VyIGluZGV4XG4gICAgICAgICAgbGV0IHdyb25nQW5zd2VySW5kZXggPSAwO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudFF1ZXN0aW9uLmFsbEFuc3dlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVlc3Rpb24uYWxsQW5zd2Vyc1tpXSAhPT0gY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXIpIHtcbiAgICAgICAgICAgICAgd3JvbmdBbnN3ZXJJbmRleCA9IGk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEF1dG8tc3VibWl0IHdyb25nIGFuc3dlclxuICAgICAgICAgIHNvY2tldC5lbWl0KFwidHJpdmlhLmFuc3dlclwiLCB7XG4gICAgICAgICAgICBnYW1lSWQsXG4gICAgICAgICAgICBxdWVzdGlvbkluZGV4OiBnYW1lU3RhdGUuY3VycmVudFF1ZXN0aW9uSW5kZXgsXG4gICAgICAgICAgICBhbnN3ZXJJbmRleDogd3JvbmdBbnN3ZXJJbmRleFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2V0SGFzQW5zd2VyZWQodHJ1ZSk7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRBbnN3ZXIod3JvbmdBbnN3ZXJJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgfTtcbiAgfSwgW2dhbWVTdGF0ZT8ucGhhc2UsIGdhbWVTdGF0ZT8uY3VycmVudFF1ZXN0aW9uSW5kZXgsIGhhc0Fuc3dlcmVkLCBzb2NrZXQsIGdhbWVJZF0pO1xuXG4gIC8vIFJlc2V0IGFuc3dlciBzdGF0ZSB3aGVuIG5ldyBxdWVzdGlvbiBzdGFydHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2FtZVN0YXRlPy5waGFzZSA9PT0gXCJxdWVzdGlvblwiKSB7XG4gICAgICBzZXRTZWxlY3RlZEFuc3dlcihudWxsKTtcbiAgICAgIHNldEhhc0Fuc3dlcmVkKGZhbHNlKTtcbiAgICAgIHNldFBsYXllcnNBbnN3ZXJlZENvdW50KDApO1xuICAgICAgc2V0SXNUYWJWaXNpYmxlKHRydWUpOyAvLyBSZXNldCB2aXNpYmlsaXR5IHN0YXRlIGZvciBuZXcgcXVlc3Rpb25cbiAgICB9XG4gIH0sIFtnYW1lU3RhdGU/LmN1cnJlbnRRdWVzdGlvbkluZGV4LCBnYW1lU3RhdGU/LnBoYXNlXSk7XG5cbiAgY29uc3QgaGFuZGxlVGhlbWVTZWxlY3QgPSAodGhlbWU6IFRyaXZpYVRoZW1lKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkVGhlbWUgfHwgIXNvY2tldCkgcmV0dXJuO1xuICAgIHNldFNlbGVjdGVkVGhlbWUodGhlbWUpO1xuICAgIHNvY2tldC5lbWl0KFwidHJpdmlhLnNlbGVjdFRoZW1lXCIsIHtcbiAgICAgIGdhbWVJZCxcbiAgICAgIHRoZW1lXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQW5zd2VyU2VsZWN0ID0gKGFuc3dlckluZGV4OiBudW1iZXIpID0+IHtcbiAgICBpZiAoaGFzQW5zd2VyZWQgfHwgIWdhbWVTdGF0ZSB8fCBnYW1lU3RhdGUucGhhc2UgIT09IFwicXVlc3Rpb25cIikgcmV0dXJuO1xuICAgIHNldFNlbGVjdGVkQW5zd2VyKGFuc3dlckluZGV4KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXRBbnN3ZXIgPSAoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkQW5zd2VyID09PSBudWxsIHx8IGhhc0Fuc3dlcmVkIHx8ICFnYW1lU3RhdGUgfHwgIXNvY2tldCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFNldCBoYXNBbnN3ZXJlZCBpbW1lZGlhdGVseSB0byBwcmV2ZW50IGRvdWJsZS1jbGlja3MsIGJ1dCB3ZSdsbCBoYW5kbGUgZXJyb3JzXG4gICAgc2V0SGFzQW5zd2VyZWQodHJ1ZSk7XG4gICAgXG4gICAgc29ja2V0LmVtaXQoXCJ0cml2aWEuYW5zd2VyXCIsIHtcbiAgICAgIGdhbWVJZCxcbiAgICAgIHF1ZXN0aW9uSW5kZXg6IGdhbWVTdGF0ZS5jdXJyZW50UXVlc3Rpb25JbmRleCxcbiAgICAgIGFuc3dlckluZGV4OiBzZWxlY3RlZEFuc3dlclxuICAgIH0pO1xuICB9O1xuXG4gIGlmICghZ2FtZVN0YXRlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtNlwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+TG9hZGluZyB0cml2aWEgZ2FtZS4uLjwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBUaGVtZSBTZWxlY3Rpb24gUGhhc2VcbiAgaWYgKGdhbWVTdGF0ZS5waGFzZSA9PT0gXCJ0aGVtZVNlbGVjdGlvblwiKSB7XG4gICAgY29uc3Qgb3Bwb25lbnQgPSBnYW1lU3RhdGUucGxheWVycy5maW5kKHAgPT4gcC5vZFVzZXJJZCAhPT0gb2RVc2VySWQpO1xuICAgIGNvbnN0IG9wcG9uZW50U2VsZWN0ZWQgPSBvcHBvbmVudCAmJiB0aGVtZVNlbGVjdGlvblN0YXR1c1tvcHBvbmVudC5vZFVzZXJJZF07XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtNlwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItNCB0ZXh0LWNlbnRlclwiPkNob29zZSBhIFRoZW1lPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgQm90aCBwbGF5ZXJzIHdpbGwgc2VsZWN0IGEgdGhlbWUuIElmIHlvdSBjaG9vc2UgdGhlIHNhbWUsIHRoYXQgdGhlbWUgd2lsbCBiZSB1c2VkLiBPdGhlcndpc2UsIG9uZSB3aWxsIGJlIHJhbmRvbWx5IHNlbGVjdGVkLlxuICAgICAgICA8L3A+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTMgZ2FwLTQgbWItNlwiPlxuICAgICAgICAgIHtUSEVNRVMubWFwKCh0aGVtZSkgPT4gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBrZXk9e3RoZW1lLnZhbHVlfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVUaGVtZVNlbGVjdCh0aGVtZS52YWx1ZSl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshIXNlbGVjdGVkVGhlbWV9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtNCByb3VuZGVkLWxnIGJvcmRlci0yIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUaGVtZSA9PT0gdGhlbWUudmFsdWVcbiAgICAgICAgICAgICAgICAgID8gXCJiZy15ZWxsb3ctNjAwIGJvcmRlci15ZWxsb3ctNDAwIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZFRoZW1lXG4gICAgICAgICAgICAgICAgICA/IFwiYmctZ3JheS04MDAgYm9yZGVyLWdyYXktNzAwIHRleHQtZ3JheS01MDAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICAgIDogXCJiZy1ncmF5LTgwMCBib3JkZXItZ3JheS02MDAgdGV4dC13aGl0ZSBob3ZlcjpiZy1ncmF5LTcwMCBob3Zlcjpib3JkZXItZ3JheS01MDBcIlxuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBtYi0yXCI+e3RoZW1lLmVtb2ppfTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj57dGhlbWUubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICB7c2VsZWN0ZWRUaGVtZSA/IFwi4pyTIFlvdSBzZWxlY3RlZDogXCIgKyBUSEVNRVMuZmluZCh0ID0+IHQudmFsdWUgPT09IHNlbGVjdGVkVGhlbWUpPy5sYWJlbCA6IFwiU2VsZWN0IGEgdGhlbWUgYWJvdmVcIn1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAge29wcG9uZW50U2VsZWN0ZWQgJiYgKFxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICBPcHBvbmVudCBzZWxlY3RlZDoge1RIRU1FUy5maW5kKHQgPT4gdC52YWx1ZSA9PT0gb3Bwb25lbnRTZWxlY3RlZCk/LmxhYmVsfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICl9XG4gICAgICAgICAge3NlbGVjdGVkVGhlbWUgJiYgIWdhbWVTdGF0ZS5zZWxlY3RlZFRoZW1lICYmIChcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTQwMFwiPldhaXRpbmcgZm9yIG9wcG9uZW50IHRvIHNlbGVjdC4uLjwvcD5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBDb3VudGRvd24gUGhhc2VcbiAgaWYgKGdhbWVTdGF0ZS5waGFzZSA9PT0gXCJjb3VudGRvd25cIikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktOTAwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci13aGl0ZS8yMCBwLTZcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTJcIj5HZXQgUmVhZHkhPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgbWItNFwiPlRoZW1lOiB7VEhFTUVTLmZpbmQodCA9PiB0LnZhbHVlID09PSBnYW1lU3RhdGUuc2VsZWN0ZWRUaGVtZSk/LmVtb2ppfSB7VEhFTUVTLmZpbmQodCA9PiB0LnZhbHVlID09PSBnYW1lU3RhdGUuc2VsZWN0ZWRUaGVtZSk/LmxhYmVsfTwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+VHJpdmlhIGdhbWUgc3RhcnRpbmcgc29vbi4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gVmFsaWRhdGUgZ2FtZSBzdGF0ZSBzdHJ1Y3R1cmVcbiAgaWYgKCFnYW1lU3RhdGUucXVlc3Rpb25zIHx8ICFBcnJheS5pc0FycmF5KGdhbWVTdGF0ZS5xdWVzdGlvbnMpIHx8IGdhbWVTdGF0ZS5xdWVzdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtNlwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+V2FpdGluZyBmb3IgdHJpdmlhIHF1ZXN0aW9ucy4uLjwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCBjdXJyZW50UXVlc3Rpb24gPSBnYW1lU3RhdGUucXVlc3Rpb25zW2dhbWVTdGF0ZS5jdXJyZW50UXVlc3Rpb25JbmRleF07XG4gIGNvbnN0IHBsYXllclNjb3JlID0gZ2FtZVN0YXRlLnBsYXllcnMuZmluZCgocCkgPT4gcC5vZFVzZXJJZCA9PT0gb2RVc2VySWQpPy5zY29yZSB8fCAwO1xuICBjb25zdCBvcHBvbmVudCA9IGdhbWVTdGF0ZS5wbGF5ZXJzLmZpbmQoKHApID0+IHAub2RVc2VySWQgIT09IG9kVXNlcklkKTtcblxuICAvLyBHYW1lIEVuZCB3aXRoIFdpbm5lciBBbmltYXRpb25cbiAgaWYgKGdhbWVTdGF0ZS5waGFzZSA9PT0gXCJnYW1lRW5kXCIgfHwgc2hvd1dpbm5lckFuaW1hdGlvbikge1xuICAgIGNvbnN0IHdpbm5lciA9IGdhbWVTdGF0ZS5wbGF5ZXJzLnJlZHVjZSgobWF4LCBwKSA9PiBcbiAgICAgIHAuc2NvcmUgPiAobWF4Py5zY29yZSB8fCAwKSA/IHAgOiBtYXhcbiAgICApO1xuICAgIGNvbnN0IGlzRHJhdyA9IGdhbWVTdGF0ZS5wbGF5ZXJzWzBdLnNjb3JlID09PSBnYW1lU3RhdGUucGxheWVyc1sxXS5zY29yZTtcbiAgICBjb25zdCBpc1dpbm5lciA9IHdpbm5lci5vZFVzZXJJZCA9PT0gb2RVc2VySWQgJiYgIWlzRHJhdztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktOTAwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci13aGl0ZS8yMCBwLTYgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgIHsvKiBXaW5uZXIgQW5pbWF0aW9uICovfVxuICAgICAgICB7c2hvd1dpbm5lckFuaW1hdGlvbiAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrLzgwIHotNTAgYW5pbWF0ZS1mYWRlLWluXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIGFuaW1hdGUtYm91bmNlXCI+XG4gICAgICAgICAgICAgIHtpc0RyYXcgPyAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC02eGwgbWItNFwiPvCfpJ08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBmb250LWJvbGQgdGV4dC15ZWxsb3ctNDAwIG1iLTJcIj5JdCdzIGEgVGllITwvaDI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhsIHRleHQtd2hpdGVcIj5Cb3RoIHBsYXllcnMgc2NvcmVkIHt3aW5uZXIuc2NvcmV9IHBvaW50cyE8L3A+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC04eGwgbWItNCBhbmltYXRlLXB1bHNlXCI+8J+PhjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtNXhsIGZvbnQtYm9sZCB0ZXh0LXllbGxvdy00MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICB7aXNXaW5uZXIgPyBcIllvdSBXaW4hXCIgOiBgJHt3aW5uZXIuZGlzcGxheU5hbWV9IFdpbnMhYH1cbiAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCB0ZXh0LXdoaXRlIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAge2lzV2lubmVyID8gXCJDb25ncmF0dWxhdGlvbnMhXCIgOiBcIkJldHRlciBsdWNrIG5leHQgdGltZSFcIn1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14bCB0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgIEZpbmFsIFNjb3JlOiB7d2lubmVyLnNjb3JlfSBwb2ludHNcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIEZpbmFsIFNjb3JlcyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3Nob3dXaW5uZXJBbmltYXRpb24gPyBcIm9wYWNpdHktMzBcIiA6IFwiXCJ9PlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi00IHRleHQtY2VudGVyXCI+R2FtZSBPdmVyITwvaDI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItNlwiPlxuICAgICAgICAgICAgICB7aXNEcmF3ID8gKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteGwgdGV4dC15ZWxsb3ctNDAwXCI+SXQncyBhIHRpZSE8L3A+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC00eGxcIj7wn4+GPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14bCB0ZXh0LWdyZWVuLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICB7d2lubmVyLmRpc3BsYXlOYW1lfSB3aW5zIHdpdGgge3dpbm5lci5zY29yZX0gcG9pbnRzIVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICB7Z2FtZVN0YXRlLnBsYXllcnMubWFwKChwbGF5ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1BsYXllcldpbm5lciA9IHBsYXllci5vZFVzZXJJZCA9PT0gd2lubmVyLm9kVXNlcklkICYmICFpc0RyYXc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtwbGF5ZXIub2RVc2VySWR9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtNCByb3VuZGVkIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiAke1xuICAgICAgICAgICAgICAgICAgICAgIGlzUGxheWVyV2lubmVyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZ3JlZW4tOTAwLzMwIGJvcmRlci0yIGJvcmRlci1ncmVlbi01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS03MDBcIlxuICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtpc1BsYXllcldpbm5lciAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bFwiPvCfj4Y8L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtbGcgZm9udC1zZW1pYm9sZCAke2lzUGxheWVyV2lubmVyID8gXCJ0ZXh0LWdyZWVuLTQwMFwiIDogXCJ0ZXh0LXdoaXRlXCJ9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cGxheWVyLmRpc3BsYXlOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtbGcgZm9udC1ib2xkICR7aXNQbGF5ZXJXaW5uZXIgPyBcInRleHQtZ3JlZW4tNDAwXCIgOiBcInRleHQtZ3JheS0zMDBcIn1gfT5cbiAgICAgICAgICAgICAgICAgICAgICB7cGxheWVyLnNjb3JlfSBwb2ludHNcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gUmVzdWx0IFBoYXNlXG4gIGlmIChnYW1lU3RhdGUucGhhc2UgPT09IFwicmVzdWx0XCIpIHtcbiAgICBjb25zdCB1c2VyUmVzdWx0ID0gZ2FtZVN0YXRlLmN1cnJlbnRBbnN3ZXJzLmZpbmQoKGEpID0+IGEub2RVc2VySWQgPT09IG9kVXNlcklkKTtcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMjAgcC02XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTRcIj5cbiAgICAgICAgICBRdWVzdGlvbiB7Z2FtZVN0YXRlLmN1cnJlbnRRdWVzdGlvbkluZGV4ICsgMX0gb2Yge2dhbWVTdGF0ZS5xdWVzdGlvbnMubGVuZ3RofVxuICAgICAgICA8L2gyPlxuICAgICAgICBcbiAgICAgICAge3VzZXJSZXN1bHQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcC00IHJvdW5kZWQgbWItNCAke1xuICAgICAgICAgICAgdXNlclJlc3VsdC5pc0NvcnJlY3QgPyBcImJnLWdyZWVuLTkwMC8zMCBib3JkZXIgYm9yZGVyLWdyZWVuLTUwMFwiIDogXCJiZy1yZWQtOTAwLzMwIGJvcmRlciBib3JkZXItcmVkLTUwMFwiXG4gICAgICAgICAgfWB9PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAge3VzZXJSZXN1bHQuaXNDb3JyZWN0ID8gXCLinJMgQ29ycmVjdCFcIiA6IFwi4pyXIEluY29ycmVjdFwifVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTMwMFwiPllvdXIgYW5zd2VyOiB7dXNlclJlc3VsdC5zZWxlY3RlZEFuc3dlcn08L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMzAwXCI+Q29ycmVjdCBhbnN3ZXI6IHtjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcn08L3A+XG4gICAgICAgICAgICB7dXNlclJlc3VsdC5wb2ludHNFYXJuZWQgPiAwICYmIChcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi00MDAgZm9udC1ib2xkIHRleHQtbGdcIj4re3VzZXJSZXN1bHQucG9pbnRzRWFybmVkfSBwb2ludHM8L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgeyF1c2VyUmVzdWx0LmlzQ29ycmVjdCAmJiAoXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTQwMFwiPiswIHBvaW50cyAod3JvbmcgYW5zd2VyKTwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgbWItNFwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlNjb3Jlczo8L2gzPlxuICAgICAgICAgIHtnYW1lU3RhdGUucGxheWVycy5tYXAoKHBsYXllcikgPT4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e3BsYXllci5vZFVzZXJJZH0gY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gYmctZ3JheS04MDAgcC0yIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPntwbGF5ZXIuZGlzcGxheU5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMzAwXCI+e3BsYXllci5zY29yZX0gcG9pbnRzPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFF1ZXN0aW9uIFBoYXNlXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMjAgcC02XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgUXVlc3Rpb24ge2dhbWVTdGF0ZS5jdXJyZW50UXVlc3Rpb25JbmRleCArIDF9IG9mIHtnYW1lU3RhdGUucXVlc3Rpb25zLmxlbmd0aH1cbiAgICAgICAgPC9oMj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5Zb3VyIFNjb3JlPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZVwiPntwbGF5ZXJTY29yZX08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3RpbWVSZW1haW5pbmcgIT09IG51bGwgJiYgdGltZVJlbWFpbmluZyA+IDAgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtbGcgZm9udC1zZW1pYm9sZCAkeyFpc1RhYlZpc2libGUgPyBcInRleHQtcmVkLTUwMFwiIDogXCJ0ZXh0LXllbGxvdy00MDBcIn1gfT5cbiAgICAgICAgICAgIFRpbWUgcmVtYWluaW5nOiB7dGltZVJlbWFpbmluZ31zXG4gICAgICAgICAgICB7IWlzVGFiVmlzaWJsZSAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC1yZWQtNTAwIHRleHQtc21cIj7imqDvuI8gVGFiIHN3aXRjaGVkIC0gYW5zd2VyIHdpbGwgYmUgbWFya2VkIHdyb25nITwvc3Bhbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBtYi00XCI+e2N1cnJlbnRRdWVzdGlvbi5xdWVzdGlvbn08L2gzPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICB7Y3VycmVudFF1ZXN0aW9uLmFsbEFuc3dlcnMubWFwKChhbnN3ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWRBbnN3ZXIgPT09IGluZGV4O1xuICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IGhhc0Fuc3dlcmVkO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBbnN3ZXJTZWxlY3QoaW5kZXgpfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0Rpc2FibGVkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCB0ZXh0LWxlZnQgcC00IHJvdW5kZWQgYm9yZGVyLTIgdHJhbnNpdGlvbi1hbGwgJHtcbiAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgPyBcImJnLXllbGxvdy02MDAgYm9yZGVyLXllbGxvdy00MDAgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgIDogaXNEaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICA/IFwiYmctZ3JheS04MDAgYm9yZGVyLWdyYXktNzAwIHRleHQtZ3JheS01MDAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcImJnLWdyYXktODAwIGJvcmRlci1ncmF5LTYwMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyYXktNzAwIGhvdmVyOmJvcmRlci1ncmF5LTUwMFwiXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1yLTJcIj57U3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGluZGV4KX0uPC9zcGFuPlxuICAgICAgICAgICAgICAgIHthbnN3ZXJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgeyFoYXNBbnN3ZXJlZCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0QW5zd2VyfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3NlbGVjdGVkQW5zd2VyID09PSBudWxsfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUgcHgtNiBweS0yIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBob3ZlcjpiZy1ncmF5LTIwMCBib3JkZXItMiBib3JkZXItd2hpdGUgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFN1Ym1pdCBBbnN3ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7aGFzQW5zd2VyZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS00MDAgbWItNFwiPlxuICAgICAgICAgIDxwPuKckyBBbnN3ZXIgc3VibWl0dGVkISBXYWl0aW5nIGZvciBvdGhlciBwbGF5ZXJzLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAge3BsYXllcnNBbnN3ZXJlZENvdW50fSAvIHtnYW1lU3RhdGUucGxheWVyQ291bnR9IHBsYXllcnMgYW5zd2VyZWRcbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiVEhFTUVTIiwidmFsdWUiLCJsYWJlbCIsImVtb2ppIiwiVHJpdmlhR2FtZSIsImdhbWVJZCIsInNvY2tldCIsIm9kVXNlcklkIiwiaW5pdGlhbFN0YXRlIiwiaW5pdGlhbFBsYXllcnMiLCJvbkdhbWVFbmQiLCJnYW1lU3RhdGUiLCJzZXRHYW1lU3RhdGUiLCJzZWxlY3RlZFRoZW1lIiwic2V0U2VsZWN0ZWRUaGVtZSIsInRoZW1lU2VsZWN0aW9uU3RhdHVzIiwic2V0VGhlbWVTZWxlY3Rpb25TdGF0dXMiLCJzZWxlY3RlZEFuc3dlciIsInNldFNlbGVjdGVkQW5zd2VyIiwiaGFzQW5zd2VyZWQiLCJzZXRIYXNBbnN3ZXJlZCIsInRpbWVSZW1haW5pbmciLCJzZXRUaW1lUmVtYWluaW5nIiwicGxheWVyc0Fuc3dlcmVkQ291bnQiLCJzZXRQbGF5ZXJzQW5zd2VyZWRDb3VudCIsInF1ZXN0aW9uU3RhcnRUaW1lIiwic2V0UXVlc3Rpb25TdGFydFRpbWUiLCJzaG93V2lubmVyQW5pbWF0aW9uIiwic2V0U2hvd1dpbm5lckFuaW1hdGlvbiIsIndpbm5lckRhdGEiLCJzZXRXaW5uZXJEYXRhIiwiaXNUYWJWaXNpYmxlIiwic2V0SXNUYWJWaXNpYmxlIiwiZ2FtZVN0YXJ0ZWQiLCJzZXRHYW1lU3RhcnRlZCIsImhhbmRsZUdhbWVTdGF0ZVVwZGF0ZSIsImRhdGEiLCJzdGF0ZSIsInBoYXNlIiwiaGFuZGxlVGhlbWVTZWxlY3RlZCIsInByZXYiLCJ1c2VySWQiLCJ0aGVtZSIsImFsbFBsYXllcnNTZWxlY3RlZCIsImhhbmRsZVF1ZXN0aW9uU3RhcnQiLCJ0aW1lTGltaXQiLCJEYXRlIiwibm93IiwiaGFuZGxlUGxheWVyQW5zd2VyZWQiLCJoYW5kbGVRdWVzdGlvblJlc3VsdCIsImN1cnJlbnRBbnN3ZXJzIiwicmVzdWx0cyIsInBsYXllcnMiLCJzY29yZXMiLCJoYW5kbGVHYW1lRW5kIiwid2lubmVyIiwiZmluYWxTY29yZXMiLCJmaW5kIiwicCIsIndpbm5lcklkIiwid2lubmVyTmFtZSIsImRpc3BsYXlOYW1lIiwiaXNEcmF3IiwibmFtZSIsInNjb3JlIiwiaGFuZGxlR2FtZUVycm9yIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwib24iLCJ0aW1lckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwib2ZmIiwiaGFuZGxlQmVmb3JlVW5sb2FkIiwiZSIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJoYW5kbGVQb3BTdGF0ZSIsIndpbmRvdyIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJsb2NhdGlvbiIsImhyZWYiLCJhbGVydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSIsImlzVmlzaWJsZSIsImRvY3VtZW50IiwiaGlkZGVuIiwiY3VycmVudFF1ZXN0aW9uIiwicXVlc3Rpb25zIiwiY3VycmVudFF1ZXN0aW9uSW5kZXgiLCJ3cm9uZ0Fuc3dlckluZGV4IiwiaSIsImFsbEFuc3dlcnMiLCJsZW5ndGgiLCJjb3JyZWN0QW5zd2VyIiwiZW1pdCIsInF1ZXN0aW9uSW5kZXgiLCJhbnN3ZXJJbmRleCIsImhhbmRsZVRoZW1lU2VsZWN0IiwiaGFuZGxlQW5zd2VyU2VsZWN0IiwiaGFuZGxlU3VibWl0QW5zd2VyIiwiZGl2IiwiY2xhc3NOYW1lIiwib3Bwb25lbnQiLCJvcHBvbmVudFNlbGVjdGVkIiwiaDIiLCJtYXAiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJ0IiwiQXJyYXkiLCJpc0FycmF5IiwicGxheWVyU2NvcmUiLCJyZWR1Y2UiLCJtYXgiLCJpc1dpbm5lciIsInNwYW4iLCJwbGF5ZXIiLCJpc1BsYXllcldpbm5lciIsInVzZXJSZXN1bHQiLCJhIiwiaXNDb3JyZWN0IiwicG9pbnRzRWFybmVkIiwiaDMiLCJxdWVzdGlvbiIsImFuc3dlciIsImluZGV4IiwiaXNTZWxlY3RlZCIsImlzRGlzYWJsZWQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJwbGF5ZXJDb3VudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/games/TriviaGame.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/games/TruthsAndLieGame.tsx":
/*!***************************************************!*\
  !*** ./src/components/games/TruthsAndLieGame.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TruthsAndLieGame)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction TruthsAndLieGame({ gameId, socket, odUserId, initialState, initialPlayers, onGameEnd }) {\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialState || null);\n    const [statements, setStatements] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        \"\",\n        \"\",\n        \"\"\n    ]);\n    const [lieIndex, setLieIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedIndex, setSelectedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [timeRemaining, setTimeRemaining] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasSubmitted, setHasSubmitted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const isChooser = gameState?.chooserId === odUserId;\n    const isGuesser = gameState?.guesserId === odUserId;\n    const opponent = initialPlayers?.find((p)=>p.odUserId !== odUserId);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (initialState) {\n            setGameState(initialState);\n        } else {\n            // If no initial state, try to get it from socket events\n            console.log(\"TruthsAndLieGame: No initial state, waiting for game.started event\");\n        }\n    }, [\n        initialState\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!socket) return;\n        // Listen for game.started event in case state comes later\n        const handleGameStarted = (data)=>{\n            if (data.gameId === gameId && (data.gameType === \"TRUTHS_AND_LIE\" || data.gameType?.toUpperCase() === \"TRUTHS_AND_LIE\")) {\n                console.log(\"TruthsAndLieGame: Received game.started event\", data);\n                if (data.state) {\n                    setGameState(data.state);\n                }\n            }\n        };\n        const handleGameStateUpdate = (data)=>{\n            if (data.gameId === gameId) {\n                console.log(\"TruthsAndLieGame: State updated\", data);\n                // If we're the guesser and statements are being sent, make sure we update them\n                if (data.state.statements && data.state.statements.length > 0) {\n                    setGameState(data.state);\n                } else {\n                    setGameState(data.state);\n                }\n            }\n        };\n        const handleStatementsSubmitted = (data)=>{\n            if (data.gameId === gameId) {\n                console.log(\"TruthsAndLieGame: Statements submitted\", data);\n                // Update state with statements (without revealing which is the lie)\n                setGameState((prev)=>prev ? {\n                        ...prev,\n                        phase: data.phase,\n                        statements: data.statements.map((text, index)=>({\n                                text,\n                                isLie: false,\n                                index\n                            }))\n                    } : null);\n                setTimeRemaining(20);\n                setHasSubmitted(false);\n                setSelectedIndex(null);\n            }\n        };\n        const handleGuessingStarted = (data)=>{\n            if (data.gameId === gameId) {\n                setTimeRemaining(data.timeLimit);\n                setHasSubmitted(false);\n            }\n        };\n        const handleResult = (data)=>{\n            if (data.gameId === gameId) {\n                console.log(\"TruthsAndLieGame: Result received\", data);\n                // Update state with result and reveal which statement is the lie\n                setGameState((prev)=>{\n                    if (!prev) return null;\n                    // Update statements to reveal which one is the lie\n                    const updatedStatements = prev.statements.map((s, index)=>({\n                            ...s,\n                            isLie: index === data.lieIndex\n                        }));\n                    return {\n                        ...prev,\n                        phase: data.phase,\n                        selectedStatementIndex: data.selectedIndex,\n                        isCorrect: data.isCorrect,\n                        winnerId: data.winnerId,\n                        statements: updatedStatements\n                    };\n                });\n                setTimeRemaining(null);\n            }\n        };\n        const handleGameEnd = (data)=>{\n            if (data.gameId === gameId) {\n                setGameState(data.state);\n                if (onGameEnd) {\n                    const winner = initialPlayers?.find((p)=>p.odUserId === data.winnerId);\n                    onGameEnd({\n                        winnerId: data.winnerId,\n                        winnerName: winner?.displayName || null,\n                        isDraw: false\n                    });\n                }\n            }\n        };\n        socket.on(\"game.started\", handleGameStarted);\n        socket.on(\"game.stateUpdate\", handleGameStateUpdate);\n        socket.on(\"truthsAndLie.statementsSubmitted\", handleStatementsSubmitted);\n        socket.on(\"truthsAndLie.guessingStarted\", handleGuessingStarted);\n        socket.on(\"truthsAndLie.result\", handleResult);\n        socket.on(\"truthsAndLie.gameEnd\", handleGameEnd);\n        // Timer countdown\n        let timerInterval = null;\n        if (timeRemaining !== null && timeRemaining > 0 && gameState?.phase === \"guessing\") {\n            timerInterval = setInterval(()=>{\n                setTimeRemaining((prev)=>{\n                    if (prev === null || prev <= 1) {\n                        if (timerInterval) clearInterval(timerInterval);\n                        return 0;\n                    }\n                    return prev - 1;\n                });\n            }, 1000);\n        }\n        return ()=>{\n            socket.off(\"game.started\", handleGameStarted);\n            socket.off(\"game.stateUpdate\", handleGameStateUpdate);\n            socket.off(\"truthsAndLie.statementsSubmitted\", handleStatementsSubmitted);\n            socket.off(\"truthsAndLie.guessingStarted\", handleGuessingStarted);\n            socket.off(\"truthsAndLie.result\", handleResult);\n            socket.off(\"truthsAndLie.gameEnd\", handleGameEnd);\n            if (timerInterval) clearInterval(timerInterval);\n        };\n    }, [\n        socket,\n        gameId,\n        timeRemaining,\n        gameState?.phase,\n        onGameEnd,\n        initialPlayers\n    ]);\n    const handleStatementChange = (index, value)=>{\n        const newStatements = [\n            ...statements\n        ];\n        newStatements[index] = value;\n        setStatements(newStatements);\n    };\n    const handleSubmitStatements = ()=>{\n        if (statements.some((s)=>!s.trim()) || lieIndex === null) {\n            alert(\"Please fill in all 3 statements and select which one is the lie\");\n            return;\n        }\n        socket.emit(\"truthsAndLie.submitStatements\", {\n            gameId,\n            statements: statements.map((s)=>s.trim()),\n            lieIndex\n        });\n        setHasSubmitted(true);\n    };\n    const handleSelectStatement = (index)=>{\n        if (hasSubmitted || gameState?.phase !== \"guessing\") return;\n        setSelectedIndex(index);\n    };\n    const handleSubmitGuess = ()=>{\n        if (selectedIndex === null || hasSubmitted || !socket) return;\n        socket.emit(\"truthsAndLie.submitGuess\", {\n            gameId,\n            selectedIndex\n        });\n        setHasSubmitted(true);\n    };\n    if (!gameState) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-gray-400\",\n                children: \"Loading game...\"\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                lineNumber: 248,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n            lineNumber: 247,\n            columnNumber: 7\n        }, this);\n    }\n    // Waiting for statements phase (chooser)\n    if (gameState.phase === \"waitingForStatements\" && isChooser) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-4 text-center\",\n                    children: \"Two Truths and a Lie\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 257,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-400 text-center mb-6\",\n                    children: \"Create 3 statements about yourself. Two must be true, one must be a lie. Your opponent will try to guess which is the lie.\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 258,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 mb-6\",\n                    children: [\n                        0,\n                        1,\n                        2\n                    ].map((index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-semibold text-gray-300 mb-2\",\n                                    children: [\n                                        \"Statement \",\n                                        index + 1\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                                    lineNumber: 265,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    value: statements[index],\n                                    onChange: (e)=>handleStatementChange(index, e.target.value),\n                                    placeholder: `Enter statement ${index + 1}...`,\n                                    className: \"w-full p-3 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 focus:outline-none focus:border-yellow-500\",\n                                    rows: 2,\n                                    disabled: hasSubmitted\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                                    lineNumber: 268,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 264,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 262,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"block text-sm font-semibold text-gray-300 mb-2\",\n                            children: \"Which statement is the lie?\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 281,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-3 gap-3\",\n                            children: [\n                                0,\n                                1,\n                                2\n                            ].map((index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setLieIndex(index),\n                                    disabled: hasSubmitted,\n                                    className: `p-3 rounded border-2 transition-all ${lieIndex === index ? \"bg-yellow-600 border-yellow-400 text-white\" : \"bg-gray-800 border-gray-700 text-white hover:bg-gray-700\"} ${hasSubmitted ? \"opacity-50 cursor-not-allowed\" : \"\"}`,\n                                    children: [\n                                        \"Statement \",\n                                        index + 1\n                                    ]\n                                }, index, true, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                                    lineNumber: 286,\n                                    columnNumber: 15\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 284,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 280,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleSubmitStatements,\n                    disabled: hasSubmitted || statements.some((s)=>!s.trim()) || lieIndex === null,\n                    className: \"w-full bg-white px-6 py-3 text-black font-semibold hover:bg-gray-200 border-2 border-white disabled:opacity-50 disabled:cursor-not-allowed\",\n                    children: hasSubmitted ? \"Submitted!\" : \"Submit Statements\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 302,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n            lineNumber: 256,\n            columnNumber: 7\n        }, this);\n    }\n    // Waiting for statements phase (guesser)\n    if (gameState.phase === \"waitingForStatements\" && isGuesser) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-4 text-center\",\n                    children: \"Two Truths and a Lie\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 317,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-400 text-center\",\n                    children: [\n                        \"Waiting for \",\n                        opponent?.displayName || \"opponent\",\n                        \" to create their statements...\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 318,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n            lineNumber: 316,\n            columnNumber: 7\n        }, this);\n    }\n    // Guessing phase (guesser)\n    if (gameState.phase === \"guessing\" && isGuesser) {\n        // Check if statements exist, if not show loading\n        if (!gameState.statements || gameState.statements.length === 0) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-white mb-4 text-center\",\n                        children: \"Two Truths and a Lie\"\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                        lineNumber: 331,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-400 text-center\",\n                        children: \"Loading statements...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                        lineNumber: 332,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                lineNumber: 330,\n                columnNumber: 9\n            }, this);\n        }\n        const displayStatements = gameState.statements.map((s)=>s.text);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-4 text-center\",\n                    children: \"Which is the Lie?\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 341,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-400 text-center mb-2\",\n                    children: [\n                        opponent?.displayName || \"Your opponent\",\n                        \" has created 3 statements. Two are true, one is a lie.\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 342,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-yellow-400 text-center mb-6 font-semibold\",\n                    children: [\n                        \"You have \",\n                        timeRemaining !== null ? `${timeRemaining}s` : \"20s\",\n                        \" to choose!\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 345,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3 mb-6\",\n                    children: displayStatements.map((statement, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>handleSelectStatement(index),\n                            disabled: hasSubmitted,\n                            className: `w-full text-left p-4 rounded border-2 transition-all ${selectedIndex === index ? \"bg-yellow-600 border-yellow-400 text-white\" : hasSubmitted ? \"bg-gray-800 border-gray-700 text-gray-500 cursor-not-allowed\" : \"bg-gray-800 border-gray-600 text-white hover:bg-gray-700 hover:border-gray-500\"}`,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"font-semibold mr-2\",\n                                    children: [\n                                        index + 1,\n                                        \".\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                                    lineNumber: 363,\n                                    columnNumber: 15\n                                }, this),\n                                statement\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 351,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 349,\n                    columnNumber: 9\n                }, this),\n                !hasSubmitted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleSubmitGuess,\n                    disabled: selectedIndex === null,\n                    className: \"w-full bg-white px-6 py-3 text-black font-semibold hover:bg-gray-200 border-2 border-white disabled:opacity-50 disabled:cursor-not-allowed\",\n                    children: \"Submit Guess\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 370,\n                    columnNumber: 11\n                }, this),\n                hasSubmitted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-center text-gray-400\",\n                    children: \"Guess submitted! Waiting for result...\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 380,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n            lineNumber: 340,\n            columnNumber: 7\n        }, this);\n    }\n    // Guessing phase (chooser - waiting)\n    if (gameState.phase === \"guessing\" && isChooser) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-4 text-center\",\n                    children: \"Two Truths and a Lie\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 390,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-400 text-center\",\n                    children: [\n                        opponent?.displayName || \"Your opponent\",\n                        \" is guessing which statement is the lie...\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 391,\n                    columnNumber: 9\n                }, this),\n                timeRemaining !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-yellow-400 text-center mt-2 font-semibold\",\n                    children: [\n                        timeRemaining,\n                        \"s remaining\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 395,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n            lineNumber: 389,\n            columnNumber: 7\n        }, this);\n    }\n    // Result phase\n    if (gameState.phase === \"result\") {\n        const isWinner = gameState.winnerId === odUserId;\n        const displayStatements = gameState.statements.map((s)=>s.text);\n        // Find which statement is the lie - check the statements array\n        let lieIndex = gameState.statements.findIndex((s)=>s.isLie);\n        // If lieIndex not found (shouldn't happen if handleResult worked), log warning\n        if (lieIndex === -1) {\n            console.warn(\"Lie index not found in statements array\");\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-4 text-center\",\n                    children: \"Result\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 417,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `p-4 rounded mb-4 ${isWinner ? \"bg-green-900/30 border border-green-500\" : \"bg-red-900/30 border border-red-500\"}`,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: `text-center font-semibold text-lg ${isWinner ? \"text-green-400\" : \"text-red-400\"}`,\n                            children: isWinner ? \"✓ You Win!\" : \"✗ You Lost\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 422,\n                            columnNumber: 11\n                        }, this),\n                        isGuesser && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-center text-gray-300 mt-2\",\n                            children: gameState.isCorrect ? \"You correctly identified the lie!\" : \"You guessed wrong. The lie was statement \" + (lieIndex + 1)\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 428,\n                            columnNumber: 13\n                        }, this),\n                        isChooser && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-center text-gray-300 mt-2\",\n                            children: gameState.isCorrect ? \"Your opponent guessed correctly!\" : \"Your opponent guessed wrong!\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 435,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 419,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-semibold text-white\",\n                            children: \"Statements:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 444,\n                            columnNumber: 11\n                        }, this),\n                        displayStatements.map((statement, index)=>{\n                            // Check if this statement is the lie from the statements array\n                            const isLie = gameState.statements[index]?.isLie || false;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `p-3 rounded ${isLie ? \"bg-red-900/20 border border-red-500\" : \"bg-gray-800 border border-gray-700\"}`,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-semibold mr-2\",\n                                        children: [\n                                            index + 1,\n                                            \".\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                                        lineNumber: 457,\n                                        columnNumber: 17\n                                    }, this),\n                                    statement,\n                                    isLie ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-2 text-red-400 font-semibold\",\n                                        children: \"(LIE)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                                        lineNumber: 460,\n                                        columnNumber: 19\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-2 text-green-400 font-semibold\",\n                                        children: \"(TRUE)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                                        lineNumber: 462,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                                lineNumber: 449,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                    lineNumber: 443,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n            lineNumber: 416,\n            columnNumber: 7\n        }, this);\n    }\n    // Game end\n    if (gameState.phase === \"gameEnd\") {\n        const isWinner = gameState.winnerId === odUserId;\n        const winner = initialPlayers?.find((p)=>p.odUserId === gameState.winnerId);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: isWinner ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-6xl mb-4\",\n                            children: \"\\uD83C\\uDFC6\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 482,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-3xl font-bold text-yellow-400 mb-2\",\n                            children: \"You Win!\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 483,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-3xl font-bold text-white mb-2\",\n                            children: \"Game Over\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 487,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xl text-gray-300\",\n                            children: [\n                                winner?.displayName || \"Opponent\",\n                                \" wins!\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                            lineNumber: 488,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n                lineNumber: 479,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TruthsAndLieGame.tsx\",\n            lineNumber: 478,\n            columnNumber: 7\n        }, this);\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9nYW1lcy9UcnV0aHNBbmRMaWVHYW1lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFNEM7QUF3QzdCLFNBQVNFLGlCQUFpQixFQUN2Q0MsTUFBTSxFQUNOQyxNQUFNLEVBQ05DLFFBQVEsRUFDUkMsWUFBWSxFQUNaQyxjQUFjLEVBQ2RDLFNBQVMsRUFDYTtJQUN0QixNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR1QsK0NBQVFBLENBQTJCSyxnQkFBZ0I7SUFDckYsTUFBTSxDQUFDSyxZQUFZQyxjQUFjLEdBQUdYLCtDQUFRQSxDQUFXO1FBQUM7UUFBSTtRQUFJO0tBQUc7SUFDbkUsTUFBTSxDQUFDWSxVQUFVQyxZQUFZLEdBQUdiLCtDQUFRQSxDQUFnQjtJQUN4RCxNQUFNLENBQUNjLGVBQWVDLGlCQUFpQixHQUFHZiwrQ0FBUUEsQ0FBZ0I7SUFDbEUsTUFBTSxDQUFDZ0IsZUFBZUMsaUJBQWlCLEdBQUdqQiwrQ0FBUUEsQ0FBZ0I7SUFDbEUsTUFBTSxDQUFDa0IsY0FBY0MsZ0JBQWdCLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUVqRCxNQUFNb0IsWUFBWVosV0FBV2EsY0FBY2pCO0lBQzNDLE1BQU1rQixZQUFZZCxXQUFXZSxjQUFjbkI7SUFDM0MsTUFBTW9CLFdBQVdsQixnQkFBZ0JtQixLQUFLQyxDQUFBQSxJQUFLQSxFQUFFdEIsUUFBUSxLQUFLQTtJQUUxREwsZ0RBQVNBLENBQUM7UUFDUixJQUFJTSxjQUFjO1lBQ2hCSSxhQUFhSjtRQUNmLE9BQU87WUFDTCx3REFBd0Q7WUFDeERzQixRQUFRQyxHQUFHLENBQUM7UUFDZDtJQUNGLEdBQUc7UUFBQ3ZCO0tBQWE7SUFFakJOLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDSSxRQUFRO1FBRWIsMERBQTBEO1FBQzFELE1BQU0wQixvQkFBb0IsQ0FBQ0M7WUFDekIsSUFBSUEsS0FBSzVCLE1BQU0sS0FBS0EsVUFBVzRCLENBQUFBLEtBQUtDLFFBQVEsS0FBSyxvQkFB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b25lbnRzL2dhbWVzL1RydXRoc0FuZExpZUdhbWUudHN4P2RkN2MiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNvY2tldCB9IGZyb20gXCJzb2NrZXQuaW8tY2xpZW50XCI7XG5cbmludGVyZmFjZSBUcnV0aHNBbmRMaWVTdGF0ZSB7XG4gIHBoYXNlOiBcIndhaXRpbmdGb3JTdGF0ZW1lbnRzXCIgfCBcImd1ZXNzaW5nXCIgfCBcInJlc3VsdFwiIHwgXCJnYW1lRW5kXCI7XG4gIGNob29zZXJJZDogc3RyaW5nO1xuICBndWVzc2VySWQ6IHN0cmluZztcbiAgc3RhdGVtZW50czogQXJyYXk8e1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBpc0xpZTogYm9vbGVhbjtcbiAgICBpbmRleDogbnVtYmVyO1xuICB9PjtcbiAgc2VsZWN0ZWRTdGF0ZW1lbnRJbmRleDogbnVtYmVyIHwgbnVsbDtcbiAgaXNDb3JyZWN0OiBib29sZWFuIHwgbnVsbDtcbiAgd2lubmVySWQ6IHN0cmluZyB8IG51bGw7XG4gIHRpbWVSZW1haW5pbmc6IG51bWJlcjtcbiAgc3RhcnRlZEF0OiBudW1iZXIgfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgR2FtZVBsYXllciB7XG4gIG9kVXNlcklkOiBzdHJpbmc7XG4gIHNpZGU6IHN0cmluZztcbiAgZGlzcGxheU5hbWU6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFRydXRoc0FuZExpZUdhbWVQcm9wcyB7XG4gIGdhbWVJZDogc3RyaW5nO1xuICBzb2NrZXQ6IFNvY2tldDtcbiAgb2RVc2VySWQ6IHN0cmluZztcbiAgaW5pdGlhbFN0YXRlPzogVHJ1dGhzQW5kTGllU3RhdGU7XG4gIGluaXRpYWxQbGF5ZXJzPzogR2FtZVBsYXllcltdO1xuICBvbkdhbWVFbmQ/OiAocmVzdWx0OiBHYW1lRW5kUmVzdWx0KSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgR2FtZUVuZFJlc3VsdCB7XG4gIHdpbm5lcklkOiBzdHJpbmcgfCBudWxsO1xuICB3aW5uZXJOYW1lOiBzdHJpbmcgfCBudWxsO1xuICBpc0RyYXc6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRydXRoc0FuZExpZUdhbWUoe1xuICBnYW1lSWQsXG4gIHNvY2tldCxcbiAgb2RVc2VySWQsXG4gIGluaXRpYWxTdGF0ZSxcbiAgaW5pdGlhbFBsYXllcnMsXG4gIG9uR2FtZUVuZFxufTogVHJ1dGhzQW5kTGllR2FtZVByb3BzKSB7XG4gIGNvbnN0IFtnYW1lU3RhdGUsIHNldEdhbWVTdGF0ZV0gPSB1c2VTdGF0ZTxUcnV0aHNBbmRMaWVTdGF0ZSB8IG51bGw+KGluaXRpYWxTdGF0ZSB8fCBudWxsKTtcbiAgY29uc3QgW3N0YXRlbWVudHMsIHNldFN0YXRlbWVudHNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtcIlwiLCBcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtsaWVJbmRleCwgc2V0TGllSW5kZXhdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzZWxlY3RlZEluZGV4LCBzZXRTZWxlY3RlZEluZGV4XSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdGltZVJlbWFpbmluZywgc2V0VGltZVJlbWFpbmluZ10gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2hhc1N1Ym1pdHRlZCwgc2V0SGFzU3VibWl0dGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBpc0Nob29zZXIgPSBnYW1lU3RhdGU/LmNob29zZXJJZCA9PT0gb2RVc2VySWQ7XG4gIGNvbnN0IGlzR3Vlc3NlciA9IGdhbWVTdGF0ZT8uZ3Vlc3NlcklkID09PSBvZFVzZXJJZDtcbiAgY29uc3Qgb3Bwb25lbnQgPSBpbml0aWFsUGxheWVycz8uZmluZChwID0+IHAub2RVc2VySWQgIT09IG9kVXNlcklkKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpbml0aWFsU3RhdGUpIHtcbiAgICAgIHNldEdhbWVTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBubyBpbml0aWFsIHN0YXRlLCB0cnkgdG8gZ2V0IGl0IGZyb20gc29ja2V0IGV2ZW50c1xuICAgICAgY29uc29sZS5sb2coXCJUcnV0aHNBbmRMaWVHYW1lOiBObyBpbml0aWFsIHN0YXRlLCB3YWl0aW5nIGZvciBnYW1lLnN0YXJ0ZWQgZXZlbnRcIik7XG4gICAgfVxuICB9LCBbaW5pdGlhbFN0YXRlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNvY2tldCkgcmV0dXJuO1xuXG4gICAgLy8gTGlzdGVuIGZvciBnYW1lLnN0YXJ0ZWQgZXZlbnQgaW4gY2FzZSBzdGF0ZSBjb21lcyBsYXRlclxuICAgIGNvbnN0IGhhbmRsZUdhbWVTdGFydGVkID0gKGRhdGE6IHsgZ2FtZUlkOiBzdHJpbmc7IGdhbWVUeXBlOiBzdHJpbmc7IHN0YXRlOiBhbnk7IHBsYXllcnM6IGFueVtdIH0pID0+IHtcbiAgICAgIGlmIChkYXRhLmdhbWVJZCA9PT0gZ2FtZUlkICYmIChkYXRhLmdhbWVUeXBlID09PSBcIlRSVVRIU19BTkRfTElFXCIgfHwgZGF0YS5nYW1lVHlwZT8udG9VcHBlckNhc2UoKSA9PT0gXCJUUlVUSFNfQU5EX0xJRVwiKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRydXRoc0FuZExpZUdhbWU6IFJlY2VpdmVkIGdhbWUuc3RhcnRlZCBldmVudFwiLCBkYXRhKTtcbiAgICAgICAgaWYgKGRhdGEuc3RhdGUpIHtcbiAgICAgICAgICBzZXRHYW1lU3RhdGUoZGF0YS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlR2FtZVN0YXRlVXBkYXRlID0gKGRhdGE6IHsgZ2FtZUlkOiBzdHJpbmc7IHN0YXRlOiBUcnV0aHNBbmRMaWVTdGF0ZSB9KSA9PiB7XG4gICAgICBpZiAoZGF0YS5nYW1lSWQgPT09IGdhbWVJZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRydXRoc0FuZExpZUdhbWU6IFN0YXRlIHVwZGF0ZWRcIiwgZGF0YSk7XG4gICAgICAgIC8vIElmIHdlJ3JlIHRoZSBndWVzc2VyIGFuZCBzdGF0ZW1lbnRzIGFyZSBiZWluZyBzZW50LCBtYWtlIHN1cmUgd2UgdXBkYXRlIHRoZW1cbiAgICAgICAgaWYgKGRhdGEuc3RhdGUuc3RhdGVtZW50cyAmJiBkYXRhLnN0YXRlLnN0YXRlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNldEdhbWVTdGF0ZShkYXRhLnN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRHYW1lU3RhdGUoZGF0YS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlU3RhdGVtZW50c1N1Ym1pdHRlZCA9IChkYXRhOiB7XG4gICAgICBnYW1lSWQ6IHN0cmluZztcbiAgICAgIHN0YXRlbWVudHM6IHN0cmluZ1tdO1xuICAgICAgcGhhc2U6IHN0cmluZztcbiAgICB9KSA9PiB7XG4gICAgICBpZiAoZGF0YS5nYW1lSWQgPT09IGdhbWVJZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRydXRoc0FuZExpZUdhbWU6IFN0YXRlbWVudHMgc3VibWl0dGVkXCIsIGRhdGEpO1xuICAgICAgICAvLyBVcGRhdGUgc3RhdGUgd2l0aCBzdGF0ZW1lbnRzICh3aXRob3V0IHJldmVhbGluZyB3aGljaCBpcyB0aGUgbGllKVxuICAgICAgICBzZXRHYW1lU3RhdGUocHJldiA9PiBwcmV2ID8ge1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgcGhhc2U6IGRhdGEucGhhc2UgYXMgYW55LFxuICAgICAgICAgIHN0YXRlbWVudHM6IGRhdGEuc3RhdGVtZW50cy5tYXAoKHRleHQsIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIGlzTGllOiBmYWxzZSwgLy8gRG9uJ3QgcmV2ZWFsIHdoaWNoIGlzIHRoZSBsaWVcbiAgICAgICAgICAgIGluZGV4XG4gICAgICAgICAgfSkpXG4gICAgICAgIH0gOiBudWxsKTtcbiAgICAgICAgc2V0VGltZVJlbWFpbmluZygyMCk7XG4gICAgICAgIHNldEhhc1N1Ym1pdHRlZChmYWxzZSk7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgobnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUd1ZXNzaW5nU3RhcnRlZCA9IChkYXRhOiB7IGdhbWVJZDogc3RyaW5nOyB0aW1lTGltaXQ6IG51bWJlciB9KSA9PiB7XG4gICAgICBpZiAoZGF0YS5nYW1lSWQgPT09IGdhbWVJZCkge1xuICAgICAgICBzZXRUaW1lUmVtYWluaW5nKGRhdGEudGltZUxpbWl0KTtcbiAgICAgICAgc2V0SGFzU3VibWl0dGVkKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUmVzdWx0ID0gKGRhdGE6IHtcbiAgICAgIGdhbWVJZDogc3RyaW5nO1xuICAgICAgc2VsZWN0ZWRJbmRleDogbnVtYmVyO1xuICAgICAgaXNDb3JyZWN0OiBib29sZWFuO1xuICAgICAgd2lubmVySWQ6IHN0cmluZztcbiAgICAgIGxpZUluZGV4OiBudW1iZXI7XG4gICAgICBwaGFzZTogc3RyaW5nO1xuICAgICAgdGltZWRPdXQ/OiBib29sZWFuO1xuICAgIH0pID0+IHtcbiAgICAgIGlmIChkYXRhLmdhbWVJZCA9PT0gZ2FtZUlkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVHJ1dGhzQW5kTGllR2FtZTogUmVzdWx0IHJlY2VpdmVkXCIsIGRhdGEpO1xuICAgICAgICAvLyBVcGRhdGUgc3RhdGUgd2l0aCByZXN1bHQgYW5kIHJldmVhbCB3aGljaCBzdGF0ZW1lbnQgaXMgdGhlIGxpZVxuICAgICAgICBzZXRHYW1lU3RhdGUocHJldiA9PiB7XG4gICAgICAgICAgaWYgKCFwcmV2KSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAvLyBVcGRhdGUgc3RhdGVtZW50cyB0byByZXZlYWwgd2hpY2ggb25lIGlzIHRoZSBsaWVcbiAgICAgICAgICBjb25zdCB1cGRhdGVkU3RhdGVtZW50cyA9IHByZXYuc3RhdGVtZW50cy5tYXAoKHMsIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgLi4ucyxcbiAgICAgICAgICAgIGlzTGllOiBpbmRleCA9PT0gZGF0YS5saWVJbmRleFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgIHBoYXNlOiBkYXRhLnBoYXNlIGFzIGFueSxcbiAgICAgICAgICAgIHNlbGVjdGVkU3RhdGVtZW50SW5kZXg6IGRhdGEuc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgICAgIGlzQ29ycmVjdDogZGF0YS5pc0NvcnJlY3QsXG4gICAgICAgICAgICB3aW5uZXJJZDogZGF0YS53aW5uZXJJZCxcbiAgICAgICAgICAgIHN0YXRlbWVudHM6IHVwZGF0ZWRTdGF0ZW1lbnRzXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFRpbWVSZW1haW5pbmcobnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUdhbWVFbmQgPSAoZGF0YToge1xuICAgICAgZ2FtZUlkOiBzdHJpbmc7XG4gICAgICB3aW5uZXJJZDogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHN0YXRlOiBUcnV0aHNBbmRMaWVTdGF0ZTtcbiAgICB9KSA9PiB7XG4gICAgICBpZiAoZGF0YS5nYW1lSWQgPT09IGdhbWVJZCkge1xuICAgICAgICBzZXRHYW1lU3RhdGUoZGF0YS5zdGF0ZSk7XG4gICAgICAgIGlmIChvbkdhbWVFbmQpIHtcbiAgICAgICAgICBjb25zdCB3aW5uZXIgPSBpbml0aWFsUGxheWVycz8uZmluZChwID0+IHAub2RVc2VySWQgPT09IGRhdGEud2lubmVySWQpO1xuICAgICAgICAgIG9uR2FtZUVuZCh7XG4gICAgICAgICAgICB3aW5uZXJJZDogZGF0YS53aW5uZXJJZCxcbiAgICAgICAgICAgIHdpbm5lck5hbWU6IHdpbm5lcj8uZGlzcGxheU5hbWUgfHwgbnVsbCxcbiAgICAgICAgICAgIGlzRHJhdzogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBzb2NrZXQub24oXCJnYW1lLnN0YXJ0ZWRcIiwgaGFuZGxlR2FtZVN0YXJ0ZWQpO1xuICAgIHNvY2tldC5vbihcImdhbWUuc3RhdGVVcGRhdGVcIiwgaGFuZGxlR2FtZVN0YXRlVXBkYXRlKTtcbiAgICBzb2NrZXQub24oXCJ0cnV0aHNBbmRMaWUuc3RhdGVtZW50c1N1Ym1pdHRlZFwiLCBoYW5kbGVTdGF0ZW1lbnRzU3VibWl0dGVkKTtcbiAgICBzb2NrZXQub24oXCJ0cnV0aHNBbmRMaWUuZ3Vlc3NpbmdTdGFydGVkXCIsIGhhbmRsZUd1ZXNzaW5nU3RhcnRlZCk7XG4gICAgc29ja2V0Lm9uKFwidHJ1dGhzQW5kTGllLnJlc3VsdFwiLCBoYW5kbGVSZXN1bHQpO1xuICAgIHNvY2tldC5vbihcInRydXRoc0FuZExpZS5nYW1lRW5kXCIsIGhhbmRsZUdhbWVFbmQpO1xuXG4gICAgLy8gVGltZXIgY291bnRkb3duXG4gICAgbGV0IHRpbWVySW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKHRpbWVSZW1haW5pbmcgIT09IG51bGwgJiYgdGltZVJlbWFpbmluZyA+IDAgJiYgZ2FtZVN0YXRlPy5waGFzZSA9PT0gXCJndWVzc2luZ1wiKSB7XG4gICAgICB0aW1lckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBzZXRUaW1lUmVtYWluaW5nKChwcmV2KSA9PiB7XG4gICAgICAgICAgaWYgKHByZXYgPT09IG51bGwgfHwgcHJldiA8PSAxKSB7XG4gICAgICAgICAgICBpZiAodGltZXJJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbCh0aW1lckludGVydmFsKTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJldiAtIDE7XG4gICAgICAgIH0pO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNvY2tldC5vZmYoXCJnYW1lLnN0YXJ0ZWRcIiwgaGFuZGxlR2FtZVN0YXJ0ZWQpO1xuICAgICAgc29ja2V0Lm9mZihcImdhbWUuc3RhdGVVcGRhdGVcIiwgaGFuZGxlR2FtZVN0YXRlVXBkYXRlKTtcbiAgICAgIHNvY2tldC5vZmYoXCJ0cnV0aHNBbmRMaWUuc3RhdGVtZW50c1N1Ym1pdHRlZFwiLCBoYW5kbGVTdGF0ZW1lbnRzU3VibWl0dGVkKTtcbiAgICAgIHNvY2tldC5vZmYoXCJ0cnV0aHNBbmRMaWUuZ3Vlc3NpbmdTdGFydGVkXCIsIGhhbmRsZUd1ZXNzaW5nU3RhcnRlZCk7XG4gICAgICBzb2NrZXQub2ZmKFwidHJ1dGhzQW5kTGllLnJlc3VsdFwiLCBoYW5kbGVSZXN1bHQpO1xuICAgICAgc29ja2V0Lm9mZihcInRydXRoc0FuZExpZS5nYW1lRW5kXCIsIGhhbmRsZUdhbWVFbmQpO1xuICAgICAgaWYgKHRpbWVySW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwodGltZXJJbnRlcnZhbCk7XG4gICAgfTtcbiAgfSwgW3NvY2tldCwgZ2FtZUlkLCB0aW1lUmVtYWluaW5nLCBnYW1lU3RhdGU/LnBoYXNlLCBvbkdhbWVFbmQsIGluaXRpYWxQbGF5ZXJzXSk7XG5cbiAgY29uc3QgaGFuZGxlU3RhdGVtZW50Q2hhbmdlID0gKGluZGV4OiBudW1iZXIsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBuZXdTdGF0ZW1lbnRzID0gWy4uLnN0YXRlbWVudHNdO1xuICAgIG5ld1N0YXRlbWVudHNbaW5kZXhdID0gdmFsdWU7XG4gICAgc2V0U3RhdGVtZW50cyhuZXdTdGF0ZW1lbnRzKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXRTdGF0ZW1lbnRzID0gKCkgPT4ge1xuICAgIGlmIChzdGF0ZW1lbnRzLnNvbWUocyA9PiAhcy50cmltKCkpIHx8IGxpZUluZGV4ID09PSBudWxsKSB7XG4gICAgICBhbGVydChcIlBsZWFzZSBmaWxsIGluIGFsbCAzIHN0YXRlbWVudHMgYW5kIHNlbGVjdCB3aGljaCBvbmUgaXMgdGhlIGxpZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzb2NrZXQuZW1pdChcInRydXRoc0FuZExpZS5zdWJtaXRTdGF0ZW1lbnRzXCIsIHtcbiAgICAgIGdhbWVJZCxcbiAgICAgIHN0YXRlbWVudHM6IHN0YXRlbWVudHMubWFwKHMgPT4gcy50cmltKCkpLFxuICAgICAgbGllSW5kZXhcbiAgICB9KTtcblxuICAgIHNldEhhc1N1Ym1pdHRlZCh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZWxlY3RTdGF0ZW1lbnQgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGlmIChoYXNTdWJtaXR0ZWQgfHwgZ2FtZVN0YXRlPy5waGFzZSAhPT0gXCJndWVzc2luZ1wiKSByZXR1cm47XG4gICAgc2V0U2VsZWN0ZWRJbmRleChpbmRleCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0R3Vlc3MgPSAoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkSW5kZXggPT09IG51bGwgfHwgaGFzU3VibWl0dGVkIHx8ICFzb2NrZXQpIHJldHVybjtcblxuICAgIHNvY2tldC5lbWl0KFwidHJ1dGhzQW5kTGllLnN1Ym1pdEd1ZXNzXCIsIHtcbiAgICAgIGdhbWVJZCxcbiAgICAgIHNlbGVjdGVkSW5kZXhcbiAgICB9KTtcblxuICAgIHNldEhhc1N1Ym1pdHRlZCh0cnVlKTtcbiAgfTtcblxuICBpZiAoIWdhbWVTdGF0ZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktOTAwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci13aGl0ZS8yMCBwLTZcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPkxvYWRpbmcgZ2FtZS4uLjwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBXYWl0aW5nIGZvciBzdGF0ZW1lbnRzIHBoYXNlIChjaG9vc2VyKVxuICBpZiAoZ2FtZVN0YXRlLnBoYXNlID09PSBcIndhaXRpbmdGb3JTdGF0ZW1lbnRzXCIgJiYgaXNDaG9vc2VyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtNlwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItNCB0ZXh0LWNlbnRlclwiPlR3byBUcnV0aHMgYW5kIGEgTGllPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgQ3JlYXRlIDMgc3RhdGVtZW50cyBhYm91dCB5b3Vyc2VsZi4gVHdvIG11c3QgYmUgdHJ1ZSwgb25lIG11c3QgYmUgYSBsaWUuIFlvdXIgb3Bwb25lbnQgd2lsbCB0cnkgdG8gZ3Vlc3Mgd2hpY2ggaXMgdGhlIGxpZS5cbiAgICAgICAgPC9wPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IG1iLTZcIj5cbiAgICAgICAgICB7WzAsIDEsIDJdLm1hcCgoaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTMwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgU3RhdGVtZW50IHtpbmRleCArIDF9XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgIHZhbHVlPXtzdGF0ZW1lbnRzW2luZGV4XX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZVN0YXRlbWVudENoYW5nZShpbmRleCwgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgRW50ZXIgc3RhdGVtZW50ICR7aW5kZXggKyAxfS4uLmB9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyBiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQgdGV4dC13aGl0ZSBwbGFjZWhvbGRlci1ncmF5LTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLXllbGxvdy01MDBcIlxuICAgICAgICAgICAgICAgIHJvd3M9ezJ9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2hhc1N1Ym1pdHRlZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZ3JheS0zMDAgbWItMlwiPlxuICAgICAgICAgICAgV2hpY2ggc3RhdGVtZW50IGlzIHRoZSBsaWU/XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTNcIj5cbiAgICAgICAgICAgIHtbMCwgMSwgMl0ubWFwKChpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRMaWVJbmRleChpbmRleCl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2hhc1N1Ym1pdHRlZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTMgcm91bmRlZCBib3JkZXItMiB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgICAgbGllSW5kZXggPT09IGluZGV4XG4gICAgICAgICAgICAgICAgICAgID8gXCJiZy15ZWxsb3ctNjAwIGJvcmRlci15ZWxsb3ctNDAwIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiYmctZ3JheS04MDAgYm9yZGVyLWdyYXktNzAwIHRleHQtd2hpdGUgaG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICAgICAgICAgIH0gJHtoYXNTdWJtaXR0ZWQgPyBcIm9wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkXCIgOiBcIlwifWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTdGF0ZW1lbnQge2luZGV4ICsgMX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN1Ym1pdFN0YXRlbWVudHN9XG4gICAgICAgICAgZGlzYWJsZWQ9e2hhc1N1Ym1pdHRlZCB8fCBzdGF0ZW1lbnRzLnNvbWUocyA9PiAhcy50cmltKCkpIHx8IGxpZUluZGV4ID09PSBudWxsfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy13aGl0ZSBweC02IHB5LTMgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIGhvdmVyOmJnLWdyYXktMjAwIGJvcmRlci0yIGJvcmRlci13aGl0ZSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgID5cbiAgICAgICAgICB7aGFzU3VibWl0dGVkID8gXCJTdWJtaXR0ZWQhXCIgOiBcIlN1Ym1pdCBTdGF0ZW1lbnRzXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFdhaXRpbmcgZm9yIHN0YXRlbWVudHMgcGhhc2UgKGd1ZXNzZXIpXG4gIGlmIChnYW1lU3RhdGUucGhhc2UgPT09IFwid2FpdGluZ0ZvclN0YXRlbWVudHNcIiAmJiBpc0d1ZXNzZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMjAgcC02XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi00IHRleHQtY2VudGVyXCI+VHdvIFRydXRocyBhbmQgYSBMaWU8L2gyPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgV2FpdGluZyBmb3Ige29wcG9uZW50Py5kaXNwbGF5TmFtZSB8fCBcIm9wcG9uZW50XCJ9IHRvIGNyZWF0ZSB0aGVpciBzdGF0ZW1lbnRzLi4uXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBHdWVzc2luZyBwaGFzZSAoZ3Vlc3NlcilcbiAgaWYgKGdhbWVTdGF0ZS5waGFzZSA9PT0gXCJndWVzc2luZ1wiICYmIGlzR3Vlc3Nlcikge1xuICAgIC8vIENoZWNrIGlmIHN0YXRlbWVudHMgZXhpc3QsIGlmIG5vdCBzaG93IGxvYWRpbmdcbiAgICBpZiAoIWdhbWVTdGF0ZS5zdGF0ZW1lbnRzIHx8IGdhbWVTdGF0ZS5zdGF0ZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMjAgcC02XCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTQgdGV4dC1jZW50ZXJcIj5Ud28gVHJ1dGhzIGFuZCBhIExpZTwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LWNlbnRlclwiPkxvYWRpbmcgc3RhdGVtZW50cy4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBkaXNwbGF5U3RhdGVtZW50cyA9IGdhbWVTdGF0ZS5zdGF0ZW1lbnRzLm1hcChzID0+IHMudGV4dCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMjAgcC02XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi00IHRleHQtY2VudGVyXCI+V2hpY2ggaXMgdGhlIExpZT88L2gyPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICB7b3Bwb25lbnQ/LmRpc3BsYXlOYW1lIHx8IFwiWW91ciBvcHBvbmVudFwifSBoYXMgY3JlYXRlZCAzIHN0YXRlbWVudHMuIFR3byBhcmUgdHJ1ZSwgb25lIGlzIGEgbGllLlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTQwMCB0ZXh0LWNlbnRlciBtYi02IGZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICBZb3UgaGF2ZSB7dGltZVJlbWFpbmluZyAhPT0gbnVsbCA/IGAke3RpbWVSZW1haW5pbmd9c2AgOiBcIjIwc1wifSB0byBjaG9vc2UhXG4gICAgICAgIDwvcD5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMyBtYi02XCI+XG4gICAgICAgICAge2Rpc3BsYXlTdGF0ZW1lbnRzLm1hcCgoc3RhdGVtZW50LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTZWxlY3RTdGF0ZW1lbnQoaW5kZXgpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aGFzU3VibWl0dGVkfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgdGV4dC1sZWZ0IHAtNCByb3VuZGVkIGJvcmRlci0yIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbmRleCA9PT0gaW5kZXhcbiAgICAgICAgICAgICAgICAgID8gXCJiZy15ZWxsb3ctNjAwIGJvcmRlci15ZWxsb3ctNDAwIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgOiBoYXNTdWJtaXR0ZWRcbiAgICAgICAgICAgICAgICAgID8gXCJiZy1ncmF5LTgwMCBib3JkZXItZ3JheS03MDAgdGV4dC1ncmF5LTUwMCBjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICAgICAgOiBcImJnLWdyYXktODAwIGJvcmRlci1ncmF5LTYwMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyYXktNzAwIGhvdmVyOmJvcmRlci1ncmF5LTUwMFwiXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1yLTJcIj57aW5kZXggKyAxfS48L3NwYW4+XG4gICAgICAgICAgICAgIHtzdGF0ZW1lbnR9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgeyFoYXNTdWJtaXR0ZWQgJiYgKFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN1Ym1pdEd1ZXNzfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3NlbGVjdGVkSW5kZXggPT09IG51bGx9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctd2hpdGUgcHgtNiBweS0zIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBob3ZlcjpiZy1ncmF5LTIwMCBib3JkZXItMiBib3JkZXItd2hpdGUgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFN1Ym1pdCBHdWVzc1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuXG4gICAgICAgIHtoYXNTdWJtaXR0ZWQgJiYgKFxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS00MDBcIj5HdWVzcyBzdWJtaXR0ZWQhIFdhaXRpbmcgZm9yIHJlc3VsdC4uLjwvcD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBHdWVzc2luZyBwaGFzZSAoY2hvb3NlciAtIHdhaXRpbmcpXG4gIGlmIChnYW1lU3RhdGUucGhhc2UgPT09IFwiZ3Vlc3NpbmdcIiAmJiBpc0Nob29zZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMjAgcC02XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi00IHRleHQtY2VudGVyXCI+VHdvIFRydXRocyBhbmQgYSBMaWU8L2gyPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAge29wcG9uZW50Py5kaXNwbGF5TmFtZSB8fCBcIllvdXIgb3Bwb25lbnRcIn0gaXMgZ3Vlc3Npbmcgd2hpY2ggc3RhdGVtZW50IGlzIHRoZSBsaWUuLi5cbiAgICAgICAgPC9wPlxuICAgICAgICB7dGltZVJlbWFpbmluZyAhPT0gbnVsbCAmJiAoXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNDAwIHRleHQtY2VudGVyIG10LTIgZm9udC1zZW1pYm9sZFwiPlxuICAgICAgICAgICAge3RpbWVSZW1haW5pbmd9cyByZW1haW5pbmdcbiAgICAgICAgICA8L3A+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gUmVzdWx0IHBoYXNlXG4gIGlmIChnYW1lU3RhdGUucGhhc2UgPT09IFwicmVzdWx0XCIpIHtcbiAgICBjb25zdCBpc1dpbm5lciA9IGdhbWVTdGF0ZS53aW5uZXJJZCA9PT0gb2RVc2VySWQ7XG4gICAgY29uc3QgZGlzcGxheVN0YXRlbWVudHMgPSBnYW1lU3RhdGUuc3RhdGVtZW50cy5tYXAocyA9PiBzLnRleHQpO1xuICAgIC8vIEZpbmQgd2hpY2ggc3RhdGVtZW50IGlzIHRoZSBsaWUgLSBjaGVjayB0aGUgc3RhdGVtZW50cyBhcnJheVxuICAgIGxldCBsaWVJbmRleCA9IGdhbWVTdGF0ZS5zdGF0ZW1lbnRzLmZpbmRJbmRleChzID0+IHMuaXNMaWUpO1xuICAgIFxuICAgIC8vIElmIGxpZUluZGV4IG5vdCBmb3VuZCAoc2hvdWxkbid0IGhhcHBlbiBpZiBoYW5kbGVSZXN1bHQgd29ya2VkKSwgbG9nIHdhcm5pbmdcbiAgICBpZiAobGllSW5kZXggPT09IC0xKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJMaWUgaW5kZXggbm90IGZvdW5kIGluIHN0YXRlbWVudHMgYXJyYXlcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtNlwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItNCB0ZXh0LWNlbnRlclwiPlJlc3VsdDwvaDI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BwLTQgcm91bmRlZCBtYi00ICR7XG4gICAgICAgICAgaXNXaW5uZXIgPyBcImJnLWdyZWVuLTkwMC8zMCBib3JkZXIgYm9yZGVyLWdyZWVuLTUwMFwiIDogXCJiZy1yZWQtOTAwLzMwIGJvcmRlciBib3JkZXItcmVkLTUwMFwiXG4gICAgICAgIH1gfT5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9e2B0ZXh0LWNlbnRlciBmb250LXNlbWlib2xkIHRleHQtbGcgJHtcbiAgICAgICAgICAgIGlzV2lubmVyID8gXCJ0ZXh0LWdyZWVuLTQwMFwiIDogXCJ0ZXh0LXJlZC00MDBcIlxuICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgIHtpc1dpbm5lciA/IFwi4pyTIFlvdSBXaW4hXCIgOiBcIuKclyBZb3UgTG9zdFwifVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICB7aXNHdWVzc2VyICYmIChcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS0zMDAgbXQtMlwiPlxuICAgICAgICAgICAgICB7Z2FtZVN0YXRlLmlzQ29ycmVjdFxuICAgICAgICAgICAgICAgID8gXCJZb3UgY29ycmVjdGx5IGlkZW50aWZpZWQgdGhlIGxpZSFcIlxuICAgICAgICAgICAgICAgIDogXCJZb3UgZ3Vlc3NlZCB3cm9uZy4gVGhlIGxpZSB3YXMgc3RhdGVtZW50IFwiICsgKGxpZUluZGV4ICsgMSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7aXNDaG9vc2VyICYmIChcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS0zMDAgbXQtMlwiPlxuICAgICAgICAgICAgICB7Z2FtZVN0YXRlLmlzQ29ycmVjdFxuICAgICAgICAgICAgICAgID8gXCJZb3VyIG9wcG9uZW50IGd1ZXNzZWQgY29ycmVjdGx5IVwiXG4gICAgICAgICAgICAgICAgOiBcIllvdXIgb3Bwb25lbnQgZ3Vlc3NlZCB3cm9uZyFcIn1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYi00XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+U3RhdGVtZW50czo8L2gzPlxuICAgICAgICAgIHtkaXNwbGF5U3RhdGVtZW50cy5tYXAoKHN0YXRlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgc3RhdGVtZW50IGlzIHRoZSBsaWUgZnJvbSB0aGUgc3RhdGVtZW50cyBhcnJheVxuICAgICAgICAgICAgY29uc3QgaXNMaWUgPSBnYW1lU3RhdGUuc3RhdGVtZW50c1tpbmRleF0/LmlzTGllIHx8IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0zIHJvdW5kZWQgJHtcbiAgICAgICAgICAgICAgICAgIGlzTGllXG4gICAgICAgICAgICAgICAgICAgID8gXCJiZy1yZWQtOTAwLzIwIGJvcmRlciBib3JkZXItcmVkLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbXItMlwiPntpbmRleCArIDF9Ljwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7c3RhdGVtZW50fVxuICAgICAgICAgICAgICAgIHtpc0xpZSA/IChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC1yZWQtNDAwIGZvbnQtc2VtaWJvbGRcIj4oTElFKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMiB0ZXh0LWdyZWVuLTQwMCBmb250LXNlbWlib2xkXCI+KFRSVUUpPC9zcGFuPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gR2FtZSBlbmRcbiAgaWYgKGdhbWVTdGF0ZS5waGFzZSA9PT0gXCJnYW1lRW5kXCIpIHtcbiAgICBjb25zdCBpc1dpbm5lciA9IGdhbWVTdGF0ZS53aW5uZXJJZCA9PT0gb2RVc2VySWQ7XG4gICAgY29uc3Qgd2lubmVyID0gaW5pdGlhbFBsYXllcnM/LmZpbmQocCA9PiBwLm9kVXNlcklkID09PSBnYW1lU3RhdGUud2lubmVySWQpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAge2lzV2lubmVyID8gKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTZ4bCBtYi00XCI+8J+PhjwvZGl2PlxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQteWVsbG93LTQwMCBtYi0yXCI+WW91IFdpbiE8L2gyPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi0yXCI+R2FtZSBPdmVyPC9oMj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14bCB0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAge3dpbm5lcj8uZGlzcGxheU5hbWUgfHwgXCJPcHBvbmVudFwifSB3aW5zIVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiVHJ1dGhzQW5kTGllR2FtZSIsImdhbWVJZCIsInNvY2tldCIsIm9kVXNlcklkIiwiaW5pdGlhbFN0YXRlIiwiaW5pdGlhbFBsYXllcnMiLCJvbkdhbWVFbmQiLCJnYW1lU3RhdGUiLCJzZXRHYW1lU3RhdGUiLCJzdGF0ZW1lbnRzIiwic2V0U3RhdGVtZW50cyIsImxpZUluZGV4Iiwic2V0TGllSW5kZXgiLCJzZWxlY3RlZEluZGV4Iiwic2V0U2VsZWN0ZWRJbmRleCIsInRpbWVSZW1haW5pbmciLCJzZXRUaW1lUmVtYWluaW5nIiwiaGFzU3VibWl0dGVkIiwic2V0SGFzU3VibWl0dGVkIiwiaXNDaG9vc2VyIiwiY2hvb3NlcklkIiwiaXNHdWVzc2VyIiwiZ3Vlc3NlcklkIiwib3Bwb25lbnQiLCJmaW5kIiwicCIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVHYW1lU3RhcnRlZCIsImRhdGEiLCJnYW1lVHlwZSIsInRvVXBwZXJDYXNlIiwic3RhdGUiLCJoYW5kbGVHYW1lU3RhdGVVcGRhdGUiLCJsZW5ndGgiLCJoYW5kbGVTdGF0ZW1lbnRzU3VibWl0dGVkIiwicHJldiIsInBoYXNlIiwibWFwIiwidGV4dCIsImluZGV4IiwiaXNMaWUiLCJoYW5kbGVHdWVzc2luZ1N0YXJ0ZWQiLCJ0aW1lTGltaXQiLCJoYW5kbGVSZXN1bHQiLCJ1cGRhdGVkU3RhdGVtZW50cyIsInMiLCJzZWxlY3RlZFN0YXRlbWVudEluZGV4IiwiaXNDb3JyZWN0Iiwid2lubmVySWQiLCJoYW5kbGVHYW1lRW5kIiwid2lubmVyIiwid2lubmVyTmFtZSIsImRpc3BsYXlOYW1lIiwiaXNEcmF3Iiwib24iLCJ0aW1lckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwib2ZmIiwiaGFuZGxlU3RhdGVtZW50Q2hhbmdlIiwidmFsdWUiLCJuZXdTdGF0ZW1lbnRzIiwiaGFuZGxlU3VibWl0U3RhdGVtZW50cyIsInNvbWUiLCJ0cmltIiwiYWxlcnQiLCJlbWl0IiwiaGFuZGxlU2VsZWN0U3RhdGVtZW50IiwiaGFuZGxlU3VibWl0R3Vlc3MiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsImxhYmVsIiwidGV4dGFyZWEiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsInJvd3MiLCJkaXNhYmxlZCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNwbGF5U3RhdGVtZW50cyIsInN0YXRlbWVudCIsInNwYW4iLCJpc1dpbm5lciIsImZpbmRJbmRleCIsIndhcm4iLCJoMyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/games/TruthsAndLieGame.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   api: () => (/* binding */ api),\n/* harmony export */   authApi: () => (/* binding */ authApi),\n/* harmony export */   roomsApi: () => (/* binding */ roomsApi),\n/* harmony export */   subscriptionsApi: () => (/* binding */ subscriptionsApi),\n/* harmony export */   usersApi: () => (/* binding */ usersApi),\n/* harmony export */   videoApi: () => (/* binding */ videoApi),\n/* harmony export */   walletApi: () => (/* binding */ walletApi)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(ssr)/../node_modules/axios/lib/axios.js\");\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3001\";\nconst api = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: `${API_BASE_URL}/api`,\n    withCredentials: true,\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n});\n// Add token to requests if available\napi.interceptors.request.use((config)=>{\n    if (false) {}\n    return config;\n});\nconst authApi = {\n    login: async (email, password)=>{\n        const response = await api.post(\"/auth/login\", {\n            email,\n            password\n        });\n        if (response.data.accessToken) {\n            localStorage.setItem(\"accessToken\", response.data.accessToken);\n        }\n        return response.data;\n    },\n    register: async (email, password, displayName, username, dateOfBirth)=>{\n        const response = await api.post(\"/auth/register\", {\n            email,\n            password,\n            displayName,\n            username,\n            dateOfBirth\n        });\n        if (response.data.accessToken) {\n            localStorage.setItem(\"accessToken\", response.data.accessToken);\n        }\n        return response.data;\n    },\n    logout: async ()=>{\n        await api.post(\"/auth/logout\");\n        localStorage.removeItem(\"accessToken\");\n    }\n};\nconst subscriptionsApi = {\n    getMySubscription: async ()=>{\n        const response = await api.get(\"/subscriptions/me\");\n        return response.data;\n    },\n    createBasicCheckout: async ()=>{\n        const response = await api.post(\"/subscriptions/basic/create-checkout-session\");\n        return response.data;\n    }\n};\nconst walletApi = {\n    getMyWallet: async ()=>{\n        const response = await api.get(\"/wallet/me\");\n        return response.data;\n    },\n    createTokenPackCheckout: async (packId)=>{\n        const response = await api.post(\"/wallet/token-pack\", {\n            packId\n        });\n        return response.data;\n    }\n};\nconst usersApi = {\n    getMe: async ()=>{\n        const response = await api.get(\"/users/me\");\n        return response.data;\n    }\n};\nconst videoApi = {\n    getAppId: async ()=>{\n        const response = await api.get(\"/video/app-id\");\n        return response.data;\n    },\n    getToken: async (sessionId)=>{\n        const response = await api.get(`/video/token?sessionId=${sessionId}`);\n        return response.data;\n    }\n};\nconst roomsApi = {\n    getPublicRooms: async (region)=>{\n        const query = region ? `?region=${region}` : \"\";\n        const response = await api.get(`/rooms${query}`);\n        return response.data;\n    },\n    getRoomDetails: async (roomId)=>{\n        const response = await api.get(`/rooms/${roomId}`);\n        return response.data;\n    },\n    createRoom: async (data)=>{\n        const response = await api.post(\"/rooms\", data);\n        return response.data;\n    },\n    joinRoom: async (roomId, password)=>{\n        const response = await api.post(`/rooms/${roomId}/join`, {\n            password\n        });\n        return response.data;\n    },\n    leaveRoom: async (roomId)=>{\n        const response = await api.post(`/rooms/${roomId}/leave`);\n        return response.data;\n    },\n    endRoom: async (roomId)=>{\n        const response = await api.post(`/rooms/${roomId}/end`);\n        return response.data;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQWlCLENBQUMsTUFBTSxFQUFFZSxNQUFNLENBQUM7UUFDL0QsT0FBTzVCLFNBQVNFLElBQUk7SUFDdEI7SUFDQTJCLGdCQUFnQixPQUFPQztRQUNyQixNQUFNOUIsV0FBVyxNQUFNakIsSUFBSThCLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRWlCLE9BQU8sQ0FBQztRQUNqRCxPQUFPOUIsU0FBU0UsSUFBSTtJQUN0QjtJQUNBNkIsWUFBWSxPQUFPN0I7UUFDakIsTUFBTUYsV0FBVyxNQUFNakIsSUFBSWtCLElBQUksQ0FBQyxVQUFVQztRQUMxQyxPQUFPRixTQUFTRSxJQUFJO0lBQ3RCO0lBQ0E4QixVQUFVLE9BQU9GLFFBQWdCL0I7UUFDL0IsTUFBTUMsV0FBVyxNQUFNakIsSUFBSWtCLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRTZCLE9BQU8sS0FBSyxDQUFDLEVBQUU7WUFBRS9CO1FBQVM7UUFDcEUsT0FBT0MsU0FBU0UsSUFBSTtJQUN0QjtJQUNBK0IsV0FBVyxPQUFPSDtRQUNoQixNQUFNOUIsV0FBVyxNQUFNakIsSUFBSWtCLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRTZCLE9BQU8sTUFBTSxDQUFDO1FBQ3hELE9BQU85QixTQUFTRSxJQUFJO0lBQ3RCO0lBQ0FnQyxTQUFTLE9BQU9KO1FBQ2QsTUFBTTlCLFdBQVcsTUFBTWpCLElBQUlrQixJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUU2QixPQUFPLElBQUksQ0FBQztRQUN0RCxPQUFPOUIsU0FBU0UsSUFBSTtJQUN0QjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab21lZ2xlLWdhbWUvd2ViLy4vc3JjL2xpYi9hcGkudHM/MmZhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5cbmNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjMwMDFcIjtcblxuZXhwb3J0IGNvbnN0IGFwaSA9IGF4aW9zLmNyZWF0ZSh7XG4gIGJhc2VVUkw6IGAke0FQSV9CQVNFX1VSTH0vYXBpYCxcbiAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICBoZWFkZXJzOiB7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfVxufSk7XG5cbi8vIEFkZCB0b2tlbiB0byByZXF1ZXN0cyBpZiBhdmFpbGFibGVcbmFwaS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoKGNvbmZpZykgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhY2Nlc3NUb2tlblwiKTtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmZpZztcbn0pO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvZ2luUmVzcG9uc2Uge1xuICBhY2Nlc3NUb2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlZ2lzdGVyUmVzcG9uc2Uge1xuICBhY2Nlc3NUb2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoZWNrb3V0UmVzcG9uc2Uge1xuICBjaGVja291dFVybDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmlwdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nO1xuICBzdGFydGVkQXQ/OiBzdHJpbmc7XG4gIGN1cnJlbnRQZXJpb2RFbmQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2FsbGV0IHtcbiAgaWQ6IHN0cmluZztcbiAgYmFsYW5jZVRva2VuczogbnVtYmVyO1xuICB0cmFuc2FjdGlvbnM6IEFycmF5PHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBhbW91bnRUb2tlbnM6IG51bWJlcjtcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgfT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XG4gIGlkOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIGlzMThQbHVzVmVyaWZpZWQ6IGJvb2xlYW47XG4gIHN1YnNjcmlwdGlvbj86IFN1YnNjcmlwdGlvbjtcbiAgd2FsbGV0PzogV2FsbGV0O1xufVxuXG5leHBvcnQgY29uc3QgYXV0aEFwaSA9IHtcbiAgbG9naW46IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxMb2dpblJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdDxMb2dpblJlc3BvbnNlPihcIi9hdXRoL2xvZ2luXCIsIHsgZW1haWwsIHBhc3N3b3JkIH0pO1xuICAgIGlmIChyZXNwb25zZS5kYXRhLmFjY2Vzc1Rva2VuKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImFjY2Vzc1Rva2VuXCIsIHJlc3BvbnNlLmRhdGEuYWNjZXNzVG9rZW4pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcbiAgcmVnaXN0ZXI6IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCBkaXNwbGF5TmFtZTogc3RyaW5nLCB1c2VybmFtZTogc3RyaW5nLCBkYXRlT2ZCaXJ0aDogc3RyaW5nKTogUHJvbWlzZTxSZWdpc3RlclJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdDxSZWdpc3RlclJlc3BvbnNlPihcIi9hdXRoL3JlZ2lzdGVyXCIsIHtcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBkaXNwbGF5TmFtZSxcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgZGF0ZU9mQmlydGhcbiAgICB9KTtcbiAgICBpZiAocmVzcG9uc2UuZGF0YS5hY2Nlc3NUb2tlbikge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJhY2Nlc3NUb2tlblwiLCByZXNwb25zZS5kYXRhLmFjY2Vzc1Rva2VuKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIGxvZ291dDogYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGF3YWl0IGFwaS5wb3N0KFwiL2F1dGgvbG9nb3V0XCIpO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiYWNjZXNzVG9rZW5cIik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpcHRpb25zQXBpID0ge1xuICBnZXRNeVN1YnNjcmlwdGlvbjogYXN5bmMgKCk6IFByb21pc2U8U3Vic2NyaXB0aW9uIHwgbnVsbD4gPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldDxTdWJzY3JpcHRpb24gfCBudWxsPihcIi9zdWJzY3JpcHRpb25zL21lXCIpO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9LFxuICBjcmVhdGVCYXNpY0NoZWNrb3V0OiBhc3luYyAoKTogUHJvbWlzZTxDaGVja291dFJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdDxDaGVja291dFJlc3BvbnNlPihcIi9zdWJzY3JpcHRpb25zL2Jhc2ljL2NyZWF0ZS1jaGVja291dC1zZXNzaW9uXCIpO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgd2FsbGV0QXBpID0ge1xuICBnZXRNeVdhbGxldDogYXN5bmMgKCk6IFByb21pc2U8V2FsbGV0IHwgbnVsbD4gPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldDxXYWxsZXQgfCBudWxsPihcIi93YWxsZXQvbWVcIik7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIGNyZWF0ZVRva2VuUGFja0NoZWNrb3V0OiBhc3luYyAocGFja0lkOiBzdHJpbmcpOiBQcm9taXNlPENoZWNrb3V0UmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5wb3N0PENoZWNrb3V0UmVzcG9uc2U+KFwiL3dhbGxldC90b2tlbi1wYWNrXCIsIHsgcGFja0lkIH0pO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdXNlcnNBcGkgPSB7XG4gIGdldE1lOiBhc3luYyAoKTogUHJvbWlzZTxVc2VyPiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0PFVzZXI+KFwiL3VzZXJzL21lXCIpO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdmlkZW9BcGkgPSB7XG4gIGdldEFwcElkOiBhc3luYyAoKTogUHJvbWlzZTx7IGFwcElkOiBzdHJpbmcgfT4gPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldDx7IGFwcElkOiBzdHJpbmcgfT4oXCIvdmlkZW8vYXBwLWlkXCIpO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9LFxuICBnZXRUb2tlbjogYXN5bmMgKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx7IHRva2VuOiBzdHJpbmc7IGNoYW5uZWxOYW1lOiBzdHJpbmc7IGV4cGlyZXNBdDogc3RyaW5nIH0+ID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQ8eyB0b2tlbjogc3RyaW5nOyBjaGFubmVsTmFtZTogc3RyaW5nOyBleHBpcmVzQXQ6IHN0cmluZyB9PihgL3ZpZGVvL3Rva2VuP3Nlc3Npb25JZD0ke3Nlc3Npb25JZH1gKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfVxufTtcblxuLy8gUm9vbSB0eXBlc1xuZXhwb3J0IGludGVyZmFjZSBSb29tTGlzdEl0ZW0ge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgaG9zdE5hbWU6IHN0cmluZztcbiAgcmVnaW9uOiBzdHJpbmc7XG4gIGVudHJ5RmVlVG9rZW5zOiBudW1iZXI7XG4gIGhhc1Bhc3N3b3JkOiBib29sZWFuO1xuICBwYXJ0aWNpcGFudENvdW50OiBudW1iZXI7XG4gIG1heE1lbWJlcnM6IG51bWJlcjtcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIGN1cnJlbnRSb3VuZDogYW55IHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVSb29tRGF0YSB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBwYXNzd29yZD86IHN0cmluZztcbiAgbWF4TWVtYmVycz86IG51bWJlcjtcbiAgcmVnaW9uPzogc3RyaW5nO1xuICBlbnRyeUZlZVRva2Vucz86IG51bWJlcjtcbiAgaXNQdWJsaWM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3Qgcm9vbXNBcGkgPSB7XG4gIGdldFB1YmxpY1Jvb21zOiBhc3luYyAocmVnaW9uPzogc3RyaW5nKTogUHJvbWlzZTxSb29tTGlzdEl0ZW1bXT4gPT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gcmVnaW9uID8gYD9yZWdpb249JHtyZWdpb259YCA6IFwiXCI7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0PFJvb21MaXN0SXRlbVtdPihgL3Jvb21zJHtxdWVyeX1gKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcbiAgZ2V0Um9vbURldGFpbHM6IGFzeW5jIChyb29tSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0KGAvcm9vbXMvJHtyb29tSWR9YCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIGNyZWF0ZVJvb206IGFzeW5jIChkYXRhOiBDcmVhdGVSb29tRGF0YSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdChcIi9yb29tc1wiLCBkYXRhKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcbiAgam9pblJvb206IGFzeW5jIChyb29tSWQ6IHN0cmluZywgcGFzc3dvcmQ/OiBzdHJpbmcpOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLnBvc3QoYC9yb29tcy8ke3Jvb21JZH0vam9pbmAsIHsgcGFzc3dvcmQgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIGxlYXZlUm9vbTogYXN5bmMgKHJvb21JZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5wb3N0KGAvcm9vbXMvJHtyb29tSWR9L2xlYXZlYCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIGVuZFJvb206IGFzeW5jIChyb29tSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdChgL3Jvb21zLyR7cm9vbUlkfS9lbmRgKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfVxufTtcblxuIl0sIm5hbWVzIjpbImF4aW9zIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJhcGkiLCJjcmVhdGUiLCJiYXNlVVJMIiwid2l0aENyZWRlbnRpYWxzIiwiaGVhZGVycyIsImludGVyY2VwdG9ycyIsInJlcXVlc3QiLCJ1c2UiLCJjb25maWciLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJBdXRob3JpemF0aW9uIiwiYXV0aEFwaSIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsInJlc3BvbnNlIiwicG9zdCIsImRhdGEiLCJhY2Nlc3NUb2tlbiIsInNldEl0ZW0iLCJyZWdpc3RlciIsImRpc3BsYXlOYW1lIiwidXNlcm5hbWUiLCJkYXRlT2ZCaXJ0aCIsImxvZ291dCIsInJlbW92ZUl0ZW0iLCJzdWJzY3JpcHRpb25zQXBpIiwiZ2V0TXlTdWJzY3JpcHRpb24iLCJnZXQiLCJjcmVhdGVCYXNpY0NoZWNrb3V0Iiwid2FsbGV0QXBpIiwiZ2V0TXlXYWxsZXQiLCJjcmVhdGVUb2tlblBhY2tDaGVja291dCIsInBhY2tJZCIsInVzZXJzQXBpIiwiZ2V0TWUiLCJ2aWRlb0FwaSIsImdldEFwcElkIiwiZ2V0VG9rZW4iLCJzZXNzaW9uSWQiLCJyb29tc0FwaSIsImdldFB1YmxpY1Jvb21zIiwicmVnaW9uIiwicXVlcnkiLCJnZXRSb29tRGV0YWlscyIsInJvb21JZCIsImNyZWF0ZVJvb20iLCJqb2luUm9vbSIsImxlYXZlUm9vbSIsImVuZFJvb20iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/api.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"be5127c5a531\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9tZWdsZS1nYW1lL3dlYi8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/ZjI4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImJlNTEyN2M1YTUzMVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n\n\nconst metadata = {\n    title: \"US-Only Social Play | 18+ Verified\",\n    description: \"Verified 18+ video matchmaking with games, tokens, and rooms. US-only.\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: \"min-h-screen bg-black text-white\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mx-auto max-w-6xl px-6 py-8\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/app/layout.tsx\",\n                lineNumber: 13,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/app/layout.tsx\",\n            lineNumber: 12,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/app/layout.tsx\",\n        lineNumber: 11,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ3VCO0FBRWhCLE1BQU1BLFdBQXFCO0lBQ2hDQyxPQUFPO0lBQ1BDLGFBQWE7QUFDZixFQUFFO0FBRWEsU0FBU0MsV0FBVyxFQUFFQyxRQUFRLEVBQWlDO0lBQzVFLHFCQUNFLDhEQUFDQztRQUFLQyxNQUFLO2tCQUNULDRFQUFDQztZQUFLQyxXQUFVO3NCQUNkLDRFQUFDQztnQkFBSUQsV0FBVTswQkFBK0JKOzs7Ozs7Ozs7Ozs7Ozs7O0FBSXREIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9tZWdsZS1nYW1lL3dlYi8uL3NyYy9hcHAvbGF5b3V0LnRzeD81N2E5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTWV0YWRhdGEgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IFwiLi9nbG9iYWxzLmNzc1wiO1xuXG5leHBvcnQgY29uc3QgbWV0YWRhdGE6IE1ldGFkYXRhID0ge1xuICB0aXRsZTogXCJVUy1Pbmx5IFNvY2lhbCBQbGF5IHwgMTgrIFZlcmlmaWVkXCIsXG4gIGRlc2NyaXB0aW9uOiBcIlZlcmlmaWVkIDE4KyB2aWRlbyBtYXRjaG1ha2luZyB3aXRoIGdhbWVzLCB0b2tlbnMsIGFuZCByb29tcy4gVVMtb25seS5cIlxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGh0bWwgbGFuZz1cImVuXCI+XG4gICAgICA8Ym9keSBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctYmxhY2sgdGV4dC13aGl0ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbWF4LXctNnhsIHB4LTYgcHktOFwiPntjaGlsZHJlbn08L2Rpdj5cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gICk7XG59XG5cblxuIl0sIm5hbWVzIjpbIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSIsImNsYXNzTmFtZSIsImRpdiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/session/[id]/page.tsx":
/*!***************************************!*\
  !*** ./src/app/session/[id]/page.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/../node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx#default`));


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc","vendor-chunks/axios","vendor-chunks/mime-db","vendor-chunks/follow-redirects","vendor-chunks/debug","vendor-chunks/form-data","vendor-chunks/get-intrinsic","vendor-chunks/asynckit","vendor-chunks/combined-stream","vendor-chunks/mime-types","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/ws","vendor-chunks/engine.io-client","vendor-chunks/socket.io-client","vendor-chunks/socket.io-parser","vendor-chunks/xmlhttprequest-ssl","vendor-chunks/engine.io-parser","vendor-chunks/@socket.io","vendor-chunks/supports-color","vendor-chunks/has-flag","vendor-chunks/agora-rtc-sdk-ng"], () => (__webpack_exec__("(rsc)/../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsession%2F%5Bid%5D%2Fpage&page=%2Fsession%2F%5Bid%5D%2Fpage&appPaths=%2Fsession%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fsession%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();