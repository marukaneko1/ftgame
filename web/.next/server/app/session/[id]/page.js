/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/session/[id]/page";
exports.ids = ["app/session/[id]/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?d1cc":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?7f96":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsession%2F%5Bid%5D%2Fpage&page=%2Fsession%2F%5Bid%5D%2Fpage&appPaths=%2Fsession%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fsession%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsession%2F%5Bid%5D%2Fpage&page=%2Fsession%2F%5Bid%5D%2Fpage&appPaths=%2Fsession%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fsession%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?41d8\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/../node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/../node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'session',\n        {\n        children: [\n        '[id]',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/session/[id]/page.tsx */ \"(rsc)/./src/app/session/[id]/page.tsx\")), \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"/Users/marukaneko/omegle-game/web/src/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/../node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/session/[id]/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/session/[id]/page\",\n        pathname: \"/session/[id]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGc2Vzc2lvbiUyRiU1QmlkJTVEJTJGcGFnZSZwYWdlPSUyRnNlc3Npb24lMkYlNUJpZCU1RCUyRnBhZ2UmYXBwUGF0aHM9JTJGc2Vzc2lvbiUyRiU1QmlkJTVEJTJGcGFnZSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRnNlc3Npb24lMkYlNUJpZCU1RCUyRnBhZ2UudHN4JmFwcERpcj0lMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRndlYiUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZtYXJ1a2FuZWtvJTJGb21lZ2xlLWdhbWUlMkZ3ZWImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxhQUFhLHNCQUFzQjtBQUNpRTtBQUNyQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsdUJBQXVCLDBLQUFvRztBQUMzSDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLG9KQUF5RjtBQUNsSCxvQkFBb0IsMk5BQWdGO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUN1QjtBQUM2RDtBQUNwRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUN1RDtBQUN2RDtBQUNPLHdCQUF3Qiw4R0FBa0I7QUFDakQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9tZWdsZS1nYW1lL3dlYi8/YTk2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcIlRVUkJPUEFDSyB7IHRyYW5zaXRpb246IG5leHQtc3NyIH1cIjtcbmltcG9ydCB7IEFwcFBhZ2VSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIFdlIGluamVjdCB0aGUgdHJlZSBhbmQgcGFnZXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IHRyZWUgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICcnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdzZXNzaW9uJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnW2lkXScsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9tYXJ1a2FuZWtvL29tZWdsZS1nYW1lL3dlYi9zcmMvYXBwL3Nlc3Npb24vW2lkXS9wYWdlLnRzeFwiKSwgXCIvVXNlcnMvbWFydWthbmVrby9vbWVnbGUtZ2FtZS93ZWIvc3JjL2FwcC9zZXNzaW9uL1tpZF0vcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL21hcnVrYW5la28vb21lZ2xlLWdhbWUvd2ViL3NyYy9hcHAvbGF5b3V0LnRzeFwiKSwgXCIvVXNlcnMvbWFydWthbmVrby9vbWVnbGUtZ2FtZS93ZWIvc3JjL2FwcC9sYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCIvVXNlcnMvbWFydWthbmVrby9vbWVnbGUtZ2FtZS93ZWIvc3JjL2FwcC9zZXNzaW9uL1tpZF0vcGFnZS50c3hcIl07XG5leHBvcnQgeyB0cmVlLCBwYWdlcyB9O1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHbG9iYWxFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnlcIjtcbmNvbnN0IF9fbmV4dF9hcHBfcmVxdWlyZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfX1xuY29uc3QgX19uZXh0X2FwcF9sb2FkX2NodW5rX18gPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKVxuZXhwb3J0IGNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9zZXNzaW9uL1tpZF0vcGFnZVwiO1xuZXhwb3J0IGNvbnN0IF9fbmV4dF9hcHBfXyA9IHtcbiAgICByZXF1aXJlOiBfX25leHRfYXBwX3JlcXVpcmVfXyxcbiAgICBsb2FkQ2h1bms6IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fXG59O1xuZXhwb3J0ICogZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCI7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBQYWdlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICBwYWdlOiBcIi9zZXNzaW9uL1tpZF0vcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvc2Vzc2lvbi9baWRdXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCIsXG4gICAgICAgIGFwcFBhdGhzOiBbXVxuICAgIH0sXG4gICAgdXNlcmxhbmQ6IHtcbiAgICAgICAgbG9hZGVyVHJlZTogdHJlZVxuICAgIH1cbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcGFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsession%2F%5Bid%5D%2Fpage&page=%2Fsession%2F%5Bid%5D%2Fpage&appPaths=%2Fsession%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fsession%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/app-router.js */ \"(ssr)/../node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/client-page.js */ \"(ssr)/../node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/../node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/../node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/../node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/../node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmFwcC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZtYXJ1a2FuZWtvJTJGb21lZ2xlLWdhbWUlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmVycm9yLWJvdW5kYXJ5LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGbWFydWthbmVrbyUyRm9tZWdsZS1nYW1lJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbGF5b3V0LXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRnJlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLG9PQUF5SDtBQUN6SDtBQUNBLHNPQUEwSDtBQUMxSDtBQUNBLDRPQUE2SDtBQUM3SDtBQUNBLDBPQUE0SDtBQUM1SDtBQUNBLG9QQUFpSTtBQUNqSTtBQUNBLHdRQUEySSIsInNvdXJjZXMiOlsid2VicGFjazovL0BvbWVnbGUtZ2FtZS93ZWIvP2NjMzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvbWFydWthbmVrby9vbWVnbGUtZ2FtZS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2FwcC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9tYXJ1a2FuZWtvL29tZWdsZS1nYW1lL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9tYXJ1a2FuZWtvL29tZWdsZS1nYW1lL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9tYXJ1a2FuZWtvL29tZWdsZS1nYW1lL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL21hcnVrYW5la28vb21lZ2xlLWdhbWUvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9tYXJ1a2FuZWtvL29tZWdsZS1nYW1lL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp%2Fsession%2F%5Bid%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp%2Fsession%2F%5Bid%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/session/[id]/page.tsx */ \"(ssr)/./src/app/session/[id]/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRm1hcnVrYW5la28lMkZvbWVnbGUtZ2FtZSUyRndlYiUyRnNyYyUyRmFwcCUyRnNlc3Npb24lMkYlNUJpZCU1RCUyRnBhZ2UudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSwwS0FBb0ciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab21lZ2xlLWdhbWUvd2ViLz85MzJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL21hcnVrYW5la28vb21lZ2xlLWdhbWUvd2ViL3NyYy9hcHAvc2Vzc2lvbi9baWRdL3BhZ2UudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp%2Fsession%2F%5Bid%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/session/[id]/page.tsx":
/*!***************************************!*\
  !*** ./src/app/session/[id]/page.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SessionPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/../node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! socket.io-client */ \"(ssr)/../node_modules/socket.io-client/build/esm-debug/index.js\");\n/* harmony import */ var agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! agora-rtc-sdk-ng */ \"(ssr)/../node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js\");\n/* harmony import */ var agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/api */ \"(ssr)/./src/lib/api.ts\");\n/* harmony import */ var _components_games_TicTacToeGame__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/games/TicTacToeGame */ \"(ssr)/./src/components/games/TicTacToeGame.tsx\");\n/* harmony import */ var _components_games_ChessGame__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/games/ChessGame */ \"(ssr)/./src/components/games/ChessGame.tsx\");\n/* harmony import */ var _components_games_TriviaGame__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/games/TriviaGame */ \"(ssr)/./src/components/games/TriviaGame.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n// Configurable WebSocket URL\nconst WS_URL = process.env.NEXT_PUBLIC_WS_URL || \"http://localhost:3001\";\nfunction SessionPage() {\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const sessionId = params.id;\n    const [sessionData, setSessionData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [socket, setSocket] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [connected, setConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [gameType, setGameType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [gameId, setGameId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [gamePlayers, setGamePlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videoReady, setVideoReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [localVideoActive, setLocalVideoActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [remoteVideoActive, setRemoteVideoActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [videosSwapped, setVideosSwapped] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // New state for audio/video controls\n    const [isMuted, setIsMuted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isCameraOff, setIsCameraOff] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // New state for remote user info (fixes ref not triggering re-render)\n    const [remoteUserInfo, setRemoteUserInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // New state for network quality\n    const [networkQuality, setNetworkQuality] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        uplink: 0,\n        downlink: 0\n    });\n    // New state for session duration\n    const [sessionDuration, setSessionDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [sessionStartTime, setSessionStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // New state for connection status\n    const [connectionState, setConnectionState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"DISCONNECTED\");\n    // Wallet balance state\n    const [walletBalance, setWalletBalance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Gift notification state\n    const [giftNotification, setGiftNotification] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const giftNotificationTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const mainVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const overlayVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const clientRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const localTrackRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const remoteTrackRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const remoteUserRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoCheckIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sessionTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const tokenRenewalTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Use refs to track latest state values (fixes stale closure issue)\n    const remoteVideoActiveRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const localVideoActiveRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [userId, setUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Keep refs in sync with state (fixes stale closure issue in intervals)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        remoteVideoActiveRef.current = remoteVideoActive;\n    }, [\n        remoteVideoActive\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        localVideoActiveRef.current = localVideoActive;\n    }, [\n        localVideoActive\n    ]);\n    // Audio mute/unmute toggle\n    const toggleMute = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (localTrackRef.current?.audioTrack) {\n            const newMuted = !isMuted;\n            localTrackRef.current.audioTrack.setEnabled(!newMuted);\n            setIsMuted(newMuted);\n            console.log(newMuted ? \"\\uD83D\\uDD07 Audio muted\" : \"\\uD83D\\uDD0A Audio unmuted\");\n        }\n    }, [\n        isMuted\n    ]);\n    // Camera on/off toggle\n    const toggleCamera = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (localTrackRef.current?.videoTrack) {\n            const newCameraOff = !isCameraOff;\n            localTrackRef.current.videoTrack.setEnabled(!newCameraOff);\n            setIsCameraOff(newCameraOff);\n            console.log(newCameraOff ? \"\\uD83D\\uDCF7 Camera off\" : \"\\uD83D\\uDCF9 Camera on\");\n        }\n    }, [\n        isCameraOff\n    ]);\n    // Session duration timer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (sessionStartTime) {\n            sessionTimerRef.current = setInterval(()=>{\n                setSessionDuration(Math.floor((Date.now() - sessionStartTime) / 1000));\n            }, 1000);\n            return ()=>{\n                if (sessionTimerRef.current) {\n                    clearInterval(sessionTimerRef.current);\n                }\n            };\n        }\n    }, [\n        sessionStartTime\n    ]);\n    // Format duration as mm:ss\n    const formatDuration = (seconds)=>{\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n    };\n    // Network quality label\n    const getNetworkQualityLabel = (quality)=>{\n        switch(quality){\n            case 1:\n                return {\n                    label: \"Excellent\",\n                    color: \"text-green-400\"\n                };\n            case 2:\n                return {\n                    label: \"Good\",\n                    color: \"text-green-300\"\n                };\n            case 3:\n                return {\n                    label: \"Poor\",\n                    color: \"text-yellow-400\"\n                };\n            case 4:\n                return {\n                    label: \"Bad\",\n                    color: \"text-orange-400\"\n                };\n            case 5:\n                return {\n                    label: \"Very Bad\",\n                    color: \"text-red-400\"\n                };\n            case 6:\n                return {\n                    label: \"Down\",\n                    color: \"text-red-600\"\n                };\n            default:\n                return {\n                    label: \"Unknown\",\n                    color: \"text-gray-400\"\n                };\n        }\n    };\n    // Get user ID and wallet balance on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadUserData = async ()=>{\n            try {\n                const [user, wallet] = await Promise.all([\n                    _lib_api__WEBPACK_IMPORTED_MODULE_5__.usersApi.getMe(),\n                    _lib_api__WEBPACK_IMPORTED_MODULE_5__.walletApi.getMyWallet()\n                ]);\n                setUserId(user.id);\n                setWalletBalance(wallet?.balanceTokens || 0);\n            } catch (err) {\n                console.error(\"Failed to load user data:\", err);\n            }\n        };\n        loadUserData();\n    }, []);\n    // Show gift notification with auto-dismiss\n    const showGiftNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((from, amount, isReceived)=>{\n        // Clear any existing timer\n        if (giftNotificationTimerRef.current) {\n            clearTimeout(giftNotificationTimerRef.current);\n        }\n        setGiftNotification({\n            from,\n            amount,\n            isReceived\n        });\n        // Auto-dismiss after 5 seconds\n        giftNotificationTimerRef.current = setTimeout(()=>{\n            setGiftNotification(null);\n        }, 5000);\n    }, []);\n    // Track the channel we're connected to to prevent reinitializing for the same session\n    const connectedChannelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Initialize Agora video when session data is ready\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!sessionData?.video || !userId) {\n            // Only log once when missing data, not on every render\n            if (!sessionData?.video && !userId) {\n            // Silently wait - will initialize once both are available\n            }\n            return;\n        }\n        // Prevent multiple initializations for the same channel\n        // This handles WebSocket reconnections that resend session.ready\n        if (clientRef.current && connectedChannelRef.current === sessionData.video.channelName) {\n            console.log(\"Video already initialized for this channel, skipping\");\n            return;\n        }\n        // If we're connected to a different channel, clean up first\n        if (clientRef.current && connectedChannelRef.current !== sessionData.video.channelName) {\n            console.log(\"Channel changed, cleaning up old connection\");\n        // This will be handled by the cleanup function\n        }\n        let isMounted = true;\n        let retryCount = 0;\n        const MAX_RETRIES = 50; // Max 5 seconds of retries (50 * 100ms)\n        let retryTimer = null;\n        // Wait for refs to be available (they might not be immediately after render)\n        const checkAndInit = ()=>{\n            if (!isMounted) {\n                if (retryTimer) clearTimeout(retryTimer);\n                return;\n            }\n            if (!mainVideoRef.current || !overlayVideoRef.current) {\n                retryCount++;\n                if (retryCount >= MAX_RETRIES) {\n                    console.error(\"Video refs never became available after\", MAX_RETRIES, \"retries\");\n                    setError(\"Video containers failed to initialize. Please refresh the page.\");\n                    retryTimer = null;\n                    return;\n                }\n                if (retryCount % 10 === 0) {\n                    console.log(`Waiting for video refs... (attempt ${retryCount}/${MAX_RETRIES})`);\n                }\n                retryTimer = setTimeout(checkAndInit, 100);\n                return;\n            }\n            console.log(\"All conditions met, initializing video\");\n            retryTimer = null; // Clear timer since we're proceeding\n            initVideo();\n        };\n        const initVideo = async ()=>{\n            let appId = \"\";\n            try {\n                console.log(\"Starting video initialization...\");\n                setError(\"\");\n                // Get Agora App ID\n                const appIdResponse = await _lib_api__WEBPACK_IMPORTED_MODULE_5__.videoApi.getAppId();\n                appId = appIdResponse.appId;\n                if (!appId) {\n                    console.error(\"Agora App ID not found\");\n                    setError(\"Agora App ID not configured\");\n                    return;\n                }\n                console.log(\"Agora App ID:\", appId);\n                // Create Agora client\n                const client = agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4___default().createClient({\n                    mode: \"rtc\",\n                    codec: \"vp8\"\n                });\n                clientRef.current = client;\n                console.log(\"Joining channel:\", sessionData.video.channelName);\n                console.log(\"Using userId (account):\", userId);\n                console.log(\"App ID:\", appId);\n                console.log(\"Token preview:\", sessionData.video.token.substring(0, 50) + \"...\");\n                // Join channel - when using buildTokenWithAccount, pass the account string as uid\n                // The token contains the account info, so we pass the same userId\n                await client.join(appId, sessionData.video.channelName, sessionData.video.token, userId);\n                connectedChannelRef.current = sessionData.video.channelName;\n                console.log(\"Successfully joined Agora channel\");\n                // Check for existing remote users immediately after joining\n                const remoteUsers = client.remoteUsers;\n                console.log(\"\\uD83D\\uDC65 Existing remote users in channel:\", remoteUsers.length);\n                if (remoteUsers.length > 0) {\n                    for (const remoteUser of remoteUsers){\n                        console.log(\"\\uD83D\\uDC64 Found existing remote user:\", remoteUser.uid);\n                        // Subscribe to existing remote user's tracks\n                        try {\n                            // Subscribe to both video and audio\n                            await client.subscribe(remoteUser, \"video\");\n                            await client.subscribe(remoteUser, \"audio\");\n                            console.log(\"✅ Subscribed to existing remote user tracks\");\n                            remoteUserRef.current = remoteUser;\n                            // Update state for UI (refs don't trigger re-renders)\n                            setRemoteUserInfo({\n                                uid: remoteUser.uid,\n                                hasVideo: !!remoteUser.videoTrack,\n                                hasAudio: !!remoteUser.audioTrack\n                            });\n                            // Play audio immediately\n                            if (remoteUser.audioTrack) {\n                                remoteUser.audioTrack.play();\n                                console.log(\"\\uD83D\\uDD0A Playing existing remote user's audio\");\n                            }\n                            // Multiple retries for video track to ensure it's ready\n                            const tryPlayRemoteVideo = (attempt = 0)=>{\n                                if (!isMounted) {\n                                    console.log(\"⚠️ Component unmounted, stopping remote video retry\");\n                                    return;\n                                }\n                                console.log(`🔄 Attempt ${attempt} to play existing remote video. Track:`, !!remoteUser.videoTrack, \"Container:\", !!mainVideoRef.current);\n                                if (remoteUser.videoTrack && mainVideoRef.current) {\n                                    try {\n                                        // Stop any existing playback\n                                        try {\n                                            remoteUser.videoTrack.stop();\n                                        } catch (e) {\n                                        // Ignore\n                                        }\n                                        // @ts-ignore\n                                        remoteUser.videoTrack.play(mainVideoRef.current);\n                                        // Verify video element was created\n                                        setTimeout(()=>{\n                                            const videoElement = mainVideoRef.current?.querySelector(\"video\");\n                                            if (videoElement) {\n                                                console.log(\"✅ Existing remote video element created. Dimensions:\", videoElement.videoWidth, \"x\", videoElement.videoHeight);\n                                                setRemoteVideoActive(true);\n                                            } else {\n                                                console.error(\"❌ Video element not found after play()\");\n                                                if (attempt < 5) {\n                                                    setTimeout(()=>tryPlayRemoteVideo(attempt + 1), 500);\n                                                }\n                                            }\n                                        }, 200);\n                                        console.log(\"✅ Playing existing remote user's video in main container\");\n                                        setRemoteVideoActive(true);\n                                    } catch (playError) {\n                                        console.error(`❌ Error playing existing remote video (attempt ${attempt}):`, playError?.message || playError);\n                                        if (attempt < 10) {\n                                            setTimeout(()=>tryPlayRemoteVideo(attempt + 1), 300 * (attempt + 1));\n                                        }\n                                    }\n                                } else if (attempt < 15) {\n                                    console.log(`⏳ Video track or container not ready (track: ${!!remoteUser.videoTrack}, container: ${!!mainVideoRef.current})`);\n                                    setTimeout(()=>tryPlayRemoteVideo(attempt + 1), 150 * (attempt + 1));\n                                } else {\n                                    console.error(\"❌ Remote video track never became available\");\n                                }\n                            };\n                            // Start trying to play video immediately and with retries\n                            setTimeout(()=>tryPlayRemoteVideo(), 100);\n                        } catch (subError) {\n                            console.error(\"❌ Error subscribing to existing remote user:\", subError?.message || subError);\n                        }\n                    }\n                } else {\n                    console.log(\"⏳ No existing remote users, waiting for user-published event\");\n                }\n                // Create and publish local video/audio tracks\n                console.log(\"Requesting camera and microphone access...\");\n                try {\n                    const [micTrack, camTrack] = await agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4___default().createMicrophoneAndCameraTracks({}, {\n                        encoderConfig: {\n                            width: {\n                                min: 640,\n                                ideal: 1280,\n                                max: 1920\n                            },\n                            height: {\n                                min: 480,\n                                ideal: 720,\n                                max: 1080\n                            },\n                            frameRate: {\n                                min: 15,\n                                ideal: 30,\n                                max: 30\n                            }\n                        }\n                    });\n                    // Note: createMicrophoneAndCameraTracks returns [IMicrophoneAudioTrack, ICameraVideoTrack]\n                    const audioTrack = micTrack;\n                    const videoTrack = camTrack;\n                    localTrackRef.current = {\n                        videoTrack,\n                        audioTrack\n                    };\n                    console.log(\"Tracks created successfully\");\n                    await client.publish([\n                        micTrack,\n                        camTrack\n                    ]);\n                    console.log(\"Tracks published to channel\");\n                    // Display local video in overlay container (small corner by default)\n                    // Retry multiple times to ensure the ref is ready\n                    const tryPlayLocalVideo = (attempt = 0)=>{\n                        if (!isMounted || !videoTrack) return;\n                        if (overlayVideoRef.current) {\n                            try {\n                                // @ts-ignore - Agora SDK play() accepts HTMLElement but types may be outdated\n                                videoTrack.play(overlayVideoRef.current);\n                                console.log(\"Local video playing in overlay container\");\n                                setLocalVideoActive(true);\n                            } catch (playError) {\n                                console.error(`Error playing local video (attempt ${attempt}):`, playError);\n                                if (attempt < 5) {\n                                    setTimeout(()=>tryPlayLocalVideo(attempt + 1), 100 * (attempt + 1));\n                                }\n                            }\n                        } else if (attempt < 10) {\n                            // Ref not ready yet, retry\n                            setTimeout(()=>tryPlayLocalVideo(attempt + 1), 50 * (attempt + 1));\n                        } else {\n                            console.error(\"Local video ref never became available\");\n                        }\n                    };\n                    tryPlayLocalVideo();\n                } catch (trackError) {\n                    console.error(\"Failed to create/publish local tracks:\", trackError);\n                    if (trackError.message?.includes(\"permission\") || trackError.name === \"NotAllowedError\") {\n                        setError(\"Camera or microphone permission denied. Please allow access in your browser settings and refresh the page.\");\n                    } else if (trackError.name === \"NotFoundError\" || trackError.name === \"NotReadableError\") {\n                        setError(\"Camera or microphone not found or already in use. Please check your devices.\");\n                    } else {\n                        setError(`Failed to access camera/microphone: ${trackError.message || trackError.name}`);\n                    }\n                    // Continue even if local video fails - user can still see remote video\n                    localTrackRef.current = {\n                        videoTrack: null,\n                        audioTrack: null\n                    };\n                }\n                // Handle remote user joining after we've joined\n                client.on(\"user-published\", async (user, mediaType)=>{\n                    console.log(\"\\uD83D\\uDD14 Remote user published:\", mediaType, \"User ID:\", user.uid);\n                    try {\n                        await client.subscribe(user, mediaType);\n                        console.log(\"✅ Subscribed to\", mediaType, \"for user\", user.uid);\n                        remoteUserRef.current = user;\n                        // Update state for UI (refs don't trigger re-renders)\n                        setRemoteUserInfo((prev)=>({\n                                uid: user.uid,\n                                hasVideo: mediaType === \"video\" ? true : prev?.hasVideo || false,\n                                hasAudio: mediaType === \"audio\" ? true : prev?.hasAudio || false\n                            }));\n                        // Play audio immediately if available\n                        if (mediaType === \"audio\" && user.audioTrack) {\n                            user.audioTrack.play();\n                            console.log(\"\\uD83D\\uDD0A Remote audio playing for user:\", user.uid);\n                        }\n                        // For video, try multiple times with exponential backoff\n                        if (mediaType === \"video\") {\n                            console.log(\"\\uD83D\\uDCF9 Video track available:\", !!user.videoTrack, \"Main container:\", !!mainVideoRef.current);\n                            const tryPlayVideo = (attempt = 0)=>{\n                                if (!isMounted) {\n                                    console.log(\"⚠️ Component unmounted, stopping video retry\");\n                                    return;\n                                }\n                                console.log(`🔄 Attempt ${attempt} to play remote video. Track:`, !!user.videoTrack, \"Container:\", !!mainVideoRef.current);\n                                if (user.videoTrack && mainVideoRef.current) {\n                                    try {\n                                        // Stop any existing video first\n                                        try {\n                                            user.videoTrack.stop();\n                                        } catch (e) {\n                                        // Ignore if not playing\n                                        }\n                                        // @ts-ignore\n                                        user.videoTrack.play(mainVideoRef.current);\n                                        // Verify video element was created\n                                        setTimeout(()=>{\n                                            const videoElement = mainVideoRef.current?.querySelector(\"video\");\n                                            if (videoElement) {\n                                                console.log(\"✅ Remote video element created successfully. Video dimensions:\", videoElement.videoWidth, \"x\", videoElement.videoHeight);\n                                                console.log(\"Video element:\", videoElement);\n                                                setRemoteVideoActive(true);\n                                            } else {\n                                                console.error(\"❌ Video element not found in container after play()\");\n                                                if (attempt < 5) {\n                                                    setTimeout(()=>tryPlayVideo(attempt + 1), 500);\n                                                }\n                                            }\n                                        }, 200);\n                                        console.log(\"✅ Remote video playing for user:\", user.uid, \"in main container (attempt\", attempt + \")\");\n                                        setRemoteVideoActive(true);\n                                    } catch (playError) {\n                                        console.error(`❌ Error playing remote video (attempt ${attempt}):`, playError?.message || playError);\n                                        if (attempt < 10) {\n                                            setTimeout(()=>tryPlayVideo(attempt + 1), 300 * (attempt + 1));\n                                        } else {\n                                            console.error(\"❌ Failed to play remote video after\", attempt, \"attempts\");\n                                        }\n                                    }\n                                } else {\n                                    console.log(`⏳ Video track or container not ready (track: ${!!user.videoTrack}, container: ${!!mainVideoRef.current})`);\n                                    if (attempt < 15) {\n                                        setTimeout(()=>tryPlayVideo(attempt + 1), 150 * (attempt + 1));\n                                    } else {\n                                        console.error(\"❌ Remote video track or container never became available after\", attempt, \"attempts\");\n                                    }\n                                }\n                            };\n                            // Start trying immediately and with retries\n                            setTimeout(()=>tryPlayVideo(), 100);\n                        }\n                    } catch (subError) {\n                        console.error(\"❌ Error subscribing to remote user:\", subError?.message || subError);\n                    }\n                });\n                client.on(\"user-unpublished\", (user)=>{\n                    console.log(\"Remote user unpublished:\", user.uid);\n                    setRemoteVideoActive(false);\n                    if (user.videoTrack) {\n                        user.videoTrack.stop();\n                    }\n                    if (user.audioTrack) {\n                        user.audioTrack.stop();\n                    }\n                });\n                // Also listen for track-ended events\n                client.on(\"user-left\", (user)=>{\n                    console.log(\"Remote user left:\", user.uid);\n                    setRemoteVideoActive(false);\n                });\n                // Periodic check to ensure videos are playing (fallback for edge cases)\n                videoCheckIntervalRef.current = setInterval(()=>{\n                    if (!isMounted) {\n                        if (videoCheckIntervalRef.current) {\n                            clearInterval(videoCheckIntervalRef.current);\n                            videoCheckIntervalRef.current = null;\n                        }\n                        return;\n                    }\n                    // Check local video - try to attach if track exists and container is available\n                    if (localTrackRef.current?.videoTrack && overlayVideoRef.current) {\n                        // Check if video is actually playing by checking the element\n                        const hasVideoElement = overlayVideoRef.current.querySelector(\"video\");\n                        if (!hasVideoElement || hasVideoElement.paused) {\n                            try {\n                                // @ts-ignore\n                                localTrackRef.current.videoTrack.play(overlayVideoRef.current);\n                                console.log(\"Re-attached local video (periodic check)\");\n                                setLocalVideoActive(true);\n                            } catch (e) {\n                            // Video might already be attached\n                            }\n                        }\n                    }\n                    // Check remote video - try to attach if track exists and container is available\n                    if (remoteUserRef.current?.videoTrack && mainVideoRef.current) {\n                        // Check if video is actually playing by checking the element\n                        const videoElement = mainVideoRef.current.querySelector(\"video\");\n                        if (!videoElement || videoElement.paused || videoElement.readyState === 0) {\n                            try {\n                                // Stop first to ensure clean state\n                                try {\n                                    remoteUserRef.current.videoTrack.stop();\n                                } catch (e) {\n                                // Ignore\n                                }\n                                // @ts-ignore\n                                remoteUserRef.current.videoTrack.play(mainVideoRef.current);\n                                console.log(\"\\uD83D\\uDD04 Re-attached remote video (periodic check)\");\n                                // Verify it worked\n                                setTimeout(()=>{\n                                    const newVideoElement = mainVideoRef.current?.querySelector(\"video\");\n                                    if (newVideoElement && !newVideoElement.paused) {\n                                        setRemoteVideoActive(true);\n                                        console.log(\"✅ Remote video verified playing\");\n                                    }\n                                }, 300);\n                            } catch (e) {\n                                console.error(\"❌ Error re-attaching remote video:\", e?.message);\n                            }\n                        } else {\n                            // Video is playing, ensure state is correct (use ref to avoid stale closure)\n                            if (!remoteVideoActiveRef.current) {\n                                setRemoteVideoActive(true);\n                            }\n                        }\n                    } else {\n                    // Log why we're not trying to attach (only once every few checks)\n                    // Silence periodic logs to reduce noise\n                    }\n                }, 2000); // Check every 2 seconds\n                // Network quality monitoring\n                client.on(\"network-quality\", (stats)=>{\n                    setNetworkQuality({\n                        uplink: stats.uplinkNetworkQuality,\n                        downlink: stats.downlinkNetworkQuality\n                    });\n                });\n                // Connection state tracking\n                client.on(\"connection-state-change\", (curState, prevState)=>{\n                    console.log(`📡 Connection state: ${prevState} -> ${curState}`);\n                    setConnectionState(curState);\n                    if (curState === \"CONNECTED\") {\n                        // Start session timer when connected\n                        if (!sessionStartTime) {\n                            setSessionStartTime(Date.now());\n                        }\n                    }\n                    if (curState === \"DISCONNECTED\" || curState === \"DISCONNECTING\" || curState === \"FAILED\") {\n                        if (videoCheckIntervalRef.current) {\n                            clearInterval(videoCheckIntervalRef.current);\n                            videoCheckIntervalRef.current = null;\n                        }\n                        // Attempt reconnection if disconnected unexpectedly\n                        if (curState === \"DISCONNECTED\" && prevState === \"CONNECTED\") {\n                            console.log(\"\\uD83D\\uDD04 Connection lost, attempting to reconnect...\");\n                            setError(\"Connection lost. Attempting to reconnect...\");\n                        // Agora SDK will attempt to reconnect automatically\n                        }\n                    }\n                });\n                // Token renewal setup (5 minutes before expiry)\n                if (sessionData.video.expiresAt) {\n                    const expiresAt = new Date(sessionData.video.expiresAt).getTime();\n                    const now = Date.now();\n                    const renewIn = expiresAt - now - 5 * 60 * 1000; // 5 min before expiry\n                    if (renewIn > 0) {\n                        console.log(`⏰ Token renewal scheduled in ${Math.floor(renewIn / 1000 / 60)} minutes`);\n                        tokenRenewalTimerRef.current = setTimeout(async ()=>{\n                            try {\n                                console.log(\"\\uD83D\\uDD04 Renewing Agora token...\");\n                                const response = await _lib_api__WEBPACK_IMPORTED_MODULE_5__.videoApi.getToken(sessionId);\n                                if (response.token && clientRef.current) {\n                                    await clientRef.current.renewToken(response.token);\n                                    console.log(\"✅ Token renewed successfully\");\n                                    setError(\"\");\n                                }\n                            } catch (renewError) {\n                                console.error(\"❌ Failed to renew token:\", renewError);\n                                setError(\"Video session may expire soon. Please refresh if issues occur.\");\n                            }\n                        }, renewIn);\n                    }\n                }\n                if (isMounted) {\n                    setVideoReady(true);\n                    console.log(\"Video initialization complete!\");\n                }\n            } catch (error) {\n                console.error(\"❌ Failed to initialize video:\", error);\n                let errorMsg = error.message || error.toString() || \"Failed to start video call\";\n                // Provide more helpful error messages\n                if (errorMsg.includes(\"invalid vendor key\") || errorMsg.includes(\"can not find appid\")) {\n                    errorMsg = \"Invalid Agora App ID or Certificate. Please verify your Agora credentials match in the Agora console. Check AGORA_APP_ID and AGORA_APP_CERTIFICATE in api/.env\";\n                } else if (errorMsg.includes(\"permission\") || errorMsg.includes(\"Permission\")) {\n                    errorMsg = \"Camera or microphone permission denied. Please allow access in your browser settings.\";\n                } else if (errorMsg.includes(\"NotFoundError\") || errorMsg.includes(\"NotReadableError\")) {\n                    errorMsg = \"Camera or microphone not found or already in use.\";\n                }\n                setError(`Video error: ${errorMsg}`);\n                console.error(\"Full error details:\", error);\n                if (appId) {\n                    console.error(\"App ID used:\", appId);\n                }\n                if (sessionData?.video?.channelName) {\n                    console.error(\"Channel:\", sessionData.video.channelName);\n                }\n                alert(`Failed to start video call: ${errorMsg}\\n\\nPlease check:\\n1. Agora credentials are correct and match your Agora console\\n2. Camera and microphone permissions\\n3. Browser console for details`);\n            }\n        };\n        // Start the initialization check after a short delay to ensure refs are attached\n        const timer = setTimeout(()=>{\n            checkAndInit();\n        }, 300);\n        return ()=>{\n            isMounted = false;\n            clearTimeout(timer);\n            if (retryTimer) {\n                clearTimeout(retryTimer);\n                retryTimer = null;\n            }\n            // Cleanup on unmount\n            if (localTrackRef.current) {\n                localTrackRef.current.videoTrack?.stop();\n                localTrackRef.current.videoTrack?.close();\n                localTrackRef.current.audioTrack?.stop();\n                localTrackRef.current.audioTrack?.close();\n                localTrackRef.current = null;\n            }\n            if (clientRef.current) {\n                clientRef.current.leave();\n                clientRef.current = null;\n            }\n            connectedChannelRef.current = null;\n            if (videoCheckIntervalRef.current) {\n                clearInterval(videoCheckIntervalRef.current);\n                videoCheckIntervalRef.current = null;\n            }\n            if (tokenRenewalTimerRef.current) {\n                clearTimeout(tokenRenewalTimerRef.current);\n                tokenRenewalTimerRef.current = null;\n            }\n        };\n    }, [\n        sessionData,\n        userId,\n        sessionId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const token = localStorage.getItem(\"accessToken\");\n        if (!token) {\n            router.push(\"/auth/login\");\n            return;\n        }\n        // Connect to WebSocket (using configurable URL)\n        const ws = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_3__.io)(`${WS_URL}/ws`, {\n            auth: {\n                token\n            },\n            transports: [\n                \"websocket\"\n            ]\n        });\n        // Track if we've already joined the session\n        let hasJoinedSession = false;\n        ws.on(\"connect\", ()=>{\n            console.log(\"WebSocket connected\");\n            setConnected(true);\n            setError(\"\");\n            // Only join session if we haven't already (prevents rejoining on reconnect)\n            if (!hasJoinedSession) {\n                console.log(\"Joining session:\", sessionId);\n                // Wait a bit for connection to stabilize\n                setTimeout(()=>{\n                    ws.emit(\"session.join\", {\n                        sessionId\n                    });\n                    hasJoinedSession = true;\n                }, 100);\n            } else {\n                console.log(\"Already joined session, skipping rejoin on reconnect\");\n            }\n        });\n        ws.on(\"connect_error\", (err)=>{\n            console.error(\"Connection error:\", err);\n            setError(`Connection failed: ${err.message}`);\n        });\n        ws.on(\"disconnect\", (reason)=>{\n            console.log(\"WebSocket disconnected:\", reason);\n            setConnected(false);\n            // Only show error for unexpected disconnects\n            if (reason !== \"io client disconnect\") {\n                setError(\"Disconnected from server\");\n            }\n        });\n        ws.on(\"session.ready\", (data)=>{\n            console.log(\"Session ready:\", data);\n            setSessionData(data);\n        });\n        ws.on(\"session.startGame\", (data)=>{\n            console.log(\"Game started (legacy):\", data);\n            setGameType(data.gameType);\n            if (data.gameId) {\n                setGameId(data.gameId);\n            }\n        });\n        ws.on(\"session.gameCreated\", (data)=>{\n            console.log(\"Game created:\", data);\n            setGameType(data.gameType);\n            setGameId(data.gameId);\n        });\n        // Handle game.started event with full game data\n        ws.on(\"game.started\", (data)=>{\n            console.log(\"Game started with state:\", data);\n            setGameType(data.gameType);\n            setGameId(data.gameId);\n            setGameState(data.state);\n            setGamePlayers(data.players);\n        });\n        // Handle game state updates (for chess and other games)\n        ws.on(\"game.stateUpdate\", (data)=>{\n            console.log(\"Game state updated:\", data);\n            setGameState(data.state);\n        });\n        // Handle game end\n        ws.on(\"game.end\", (data)=>{\n            console.log(\"Game ended:\", data);\n            // Update the game state to reflect the end\n            if (data.winnerId || data.isDraw) {\n                setGameState((prev)=>({\n                        ...prev,\n                        gameOver: true,\n                        winner: data.winnerId,\n                        isDraw: data.isDraw\n                    }));\n            }\n            // Allow starting a new game after a delay\n            setTimeout(()=>{\n                setGameType(null);\n                setGameId(null);\n                setGameState(null);\n                setGamePlayers([]);\n            }, 5000);\n        });\n        // Trivia events\n        ws.on(\"trivia.countdown\", (data)=>{\n            setGameState((prev)=>({\n                    ...prev,\n                    phase: \"countdown\",\n                    timeRemaining: data.secondsRemaining\n                }));\n        });\n        ws.on(\"trivia.question\", (data)=>{\n            setGameState((prev)=>({\n                    ...prev,\n                    phase: \"question\",\n                    timeRemaining: data.timeLimit,\n                    questionStartedAt: Date.now()\n                }));\n        });\n        ws.on(\"trivia.tick\", (data)=>{\n            setGameState((prev)=>({\n                    ...prev,\n                    timeRemaining: data.timeRemaining\n                }));\n        });\n        ws.on(\"trivia.questionResult\", (data)=>{\n            setGameState((prev)=>({\n                    ...prev,\n                    phase: \"reveal\",\n                    currentAnswers: data.results,\n                    players: data.scores\n                }));\n        });\n        ws.on(\"trivia.gameEnd\", (data)=>{\n            setGameState((prev)=>({\n                    ...prev,\n                    phase: \"finished\",\n                    isFinished: true,\n                    players: data.finalScores,\n                    winnerId: data.winnerId,\n                    winnerIds: data.winnerIds\n                }));\n            setTimeout(()=>{\n                setGameType(null);\n                setGameId(null);\n                setGameState(null);\n                setGamePlayers([]);\n            }, 10000);\n        });\n        ws.on(\"session.end\", (data)=>{\n            alert(\"Session ended\");\n            router.push(\"/play\");\n        });\n        ws.on(\"error\", (err)=>{\n            console.error(\"Session error:\", err);\n            setError(err.message || \"Connection error occurred\");\n            if (err.message) {\n                alert(`Error: ${err.message}`);\n            }\n        });\n        // Listen for wallet balance updates\n        ws.on(\"wallet.updated\", (data)=>{\n            console.log(\"Wallet updated:\", data);\n            setWalletBalance(data.balance);\n        });\n        // Listen for gift notifications (both sent and received)\n        ws.on(\"session.giftReceived\", (data)=>{\n            console.log(\"Gift received event:\", data);\n            if (data.success) {\n                // Determine if we're the sender or receiver\n                const token = localStorage.getItem(\"accessToken\");\n                if (token) {\n                    try {\n                        const payload = JSON.parse(atob(token.split(\".\")[1]));\n                        const currentUserId = payload.sub;\n                        const isReceived = data.to === currentUserId;\n                        const otherUser = isReceived ? data.from : data.to;\n                        showGiftNotification(otherUser, data.amount, isReceived);\n                    } catch (e) {\n                        console.error(\"Failed to parse token for gift notification:\", e);\n                    }\n                }\n            }\n        });\n        setSocket(ws);\n        return ()=>{\n            ws.disconnect();\n        };\n    }, [\n        sessionId,\n        router\n    ]);\n    const handleStartGame = (type)=>{\n        if (socket) {\n            socket.emit(\"session.startGame\", {\n                sessionId,\n                gameType: type\n            });\n        }\n    };\n    const handleEndSession = async ()=>{\n        // Cleanup Agora\n        if (localTrackRef.current) {\n            localTrackRef.current.videoTrack?.stop();\n            localTrackRef.current.videoTrack?.close();\n            localTrackRef.current.audioTrack?.stop();\n            localTrackRef.current.audioTrack?.close();\n        }\n        if (clientRef.current) {\n            await clientRef.current.leave();\n        }\n        if (socket) {\n            socket.emit(\"session.end\", {\n                sessionId\n            });\n        }\n        router.push(\"/play\");\n    };\n    const handleSwapVideos = ()=>{\n        // Swap the video tracks between containers\n        if (localTrackRef.current?.videoTrack && remoteUserRef.current?.videoTrack) {\n            // Stop current playback\n            localTrackRef.current.videoTrack.stop();\n            remoteUserRef.current.videoTrack.stop();\n            // Swap and re-play based on current state\n            if (videosSwapped) {\n                // Currently swapped: local in main, remote in overlay\n                // After swap: remote in main, local in overlay (default)\n                if (mainVideoRef.current) {\n                    // @ts-ignore\n                    remoteUserRef.current.videoTrack.play(mainVideoRef.current);\n                }\n                if (overlayVideoRef.current) {\n                    // @ts-ignore\n                    localTrackRef.current.videoTrack.play(overlayVideoRef.current);\n                }\n            } else {\n                // Currently default: remote in main, local in overlay\n                // After swap: local in main, remote in overlay (swapped)\n                if (mainVideoRef.current) {\n                    // @ts-ignore\n                    localTrackRef.current.videoTrack.play(mainVideoRef.current);\n                }\n                if (overlayVideoRef.current) {\n                    // @ts-ignore\n                    remoteUserRef.current.videoTrack.play(overlayVideoRef.current);\n                }\n            }\n        } else if (localTrackRef.current?.videoTrack) {\n            // Only local video available - just move it\n            localTrackRef.current.videoTrack.stop();\n            const targetContainer = videosSwapped ? mainVideoRef.current : overlayVideoRef.current;\n            if (targetContainer) {\n                // @ts-ignore\n                localTrackRef.current.videoTrack.play(targetContainer);\n            }\n        } else if (remoteUserRef.current?.videoTrack) {\n            // Only remote video available - just move it\n            remoteUserRef.current.videoTrack.stop();\n            const targetContainer = videosSwapped ? overlayVideoRef.current : mainVideoRef.current;\n            if (targetContainer) {\n                // @ts-ignore\n                remoteUserRef.current.videoTrack.play(targetContainer);\n            }\n        }\n        setVideosSwapped(!videosSwapped);\n    };\n    const handleFullscreen = (element)=>{\n        if (!document.fullscreenElement) {\n            element.requestFullscreen().catch((err)=>{\n                alert(`Error attempting to enable full-screen mode: ${err.message} (${err.name})`);\n            });\n            setIsFullscreen(true);\n        } else {\n            document.exitFullscreen();\n            setIsFullscreen(false);\n        }\n    };\n    const handleSendGift = ()=>{\n        if (walletBalance <= 0) {\n            alert(\"You don't have any tokens to send. Please purchase tokens first.\");\n            return;\n        }\n        const amount = prompt(`Enter token amount to send as gift (you have ${walletBalance} tokens):`);\n        if (amount && socket) {\n            const amountNum = parseInt(amount);\n            if (isNaN(amountNum) || amountNum <= 0) {\n                alert(\"Please enter a valid positive number\");\n                return;\n            }\n            if (amountNum > walletBalance) {\n                alert(`Insufficient tokens. You have ${walletBalance} tokens.`);\n                return;\n            }\n            socket.emit(\"session.sendGift\", {\n                sessionId,\n                amountTokens: amountNum\n            });\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"space-y-4 relative\",\n        children: [\n            giftNotification && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg border-2 animate-pulse ${giftNotification.isReceived ? \"bg-green-900 border-green-500\" : \"bg-blue-900 border-blue-500\"}`,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-3xl\",\n                                children: giftNotification.isReceived ? \"\\uD83C\\uDF81\" : \"\\uD83D\\uDC9D\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1043,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"font-bold text-white\",\n                                        children: giftNotification.isReceived ? \"Gift Received!\" : \"Gift Sent!\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1045,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-200\",\n                                        children: giftNotification.isReceived ? `You received ${giftNotification.amount} tokens` : `You sent ${giftNotification.amount} tokens`\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1048,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1044,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1042,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setGiftNotification(null),\n                        className: \"absolute top-1 right-2 text-gray-400 hover:text-white text-sm\",\n                        children: \"✕\"\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1056,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                lineNumber: 1037,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm uppercase tracking-[0.25em] text-gray-400\",\n                                children: \"Session\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1067,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-3xl font-semibold text-white\",\n                                children: \"Video Call\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1068,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1066,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gradient-to-r from-yellow-900 to-yellow-700 px-4 py-2 border-2 border-yellow-500 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xl\",\n                                        children: \"\\uD83D\\uDCB0\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1073,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-yellow-300 uppercase tracking-wide\",\n                                                children: \"Balance\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1075,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-bold text-white\",\n                                                children: [\n                                                    walletBalance.toLocaleString(),\n                                                    \" tokens\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1076,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1074,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1072,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleEndSession,\n                                className: \"bg-gray-800 px-4 py-2 font-semibold text-white border-2 border-white/30 hover:bg-gray-700\",\n                                children: \"End Session\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1079,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1070,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                lineNumber: 1065,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between flex-wrap gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-400\",\n                                children: [\n                                    connected ? \"Connected\" : \"Connecting...\",\n                                    \" | Session ID: \",\n                                    sessionId.slice(0, 8),\n                                    \"...\",\n                                    sessionStartTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-2 text-green-400\",\n                                        children: [\n                                            \"⏱ \",\n                                            formatDuration(sessionDuration)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1092,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1089,\n                                columnNumber: 11\n                            }, this),\n                            videoReady && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-gray-500 mt-1\",\n                                children: [\n                                    \"Video: \",\n                                    localVideoActive ? \"✓ Local\" : \"✗ Local\",\n                                    \" | \",\n                                    remoteVideoActive ? \"✓ Remote\" : \"✗ Remote\",\n                                    remoteUserInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-2\",\n                                        children: [\n                                            \"| Remote: \",\n                                            String(remoteUserInfo.uid).slice(0, 8),\n                                            \"...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1099,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1096,\n                                columnNumber: 13\n                            }, this),\n                            networkQuality.downlink > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs mt-1\",\n                                children: [\n                                    \"Network: \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: getNetworkQualityLabel(networkQuality.downlink).color,\n                                        children: getNetworkQualityLabel(networkQuality.downlink).label\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1105,\n                                        columnNumber: 24\n                                    }, this),\n                                    connectionState !== \"CONNECTED\" && connectionState !== \"DISCONNECTED\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-2 text-yellow-400\",\n                                        children: [\n                                            \"(\",\n                                            connectionState,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1109,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1104,\n                                columnNumber: 13\n                            }, this),\n                            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-red-400 mt-1\",\n                                children: [\n                                    \"Error: \",\n                                    error\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1114,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1088,\n                        columnNumber: 9\n                    }, this),\n                    videoReady && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: toggleMute,\n                                className: `px-3 py-1 text-sm border-2 transition-colors ${isMuted ? \"bg-red-600 border-red-500 text-white\" : \"bg-gray-800 border-white/30 text-white hover:bg-gray-700\"}`,\n                                title: isMuted ? \"Unmute\" : \"Mute\",\n                                children: isMuted ? \"\\uD83D\\uDD07 Muted\" : \"\\uD83D\\uDD0A Audio\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1120,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: toggleCamera,\n                                className: `px-3 py-1 text-sm border-2 transition-colors ${isCameraOff ? \"bg-red-600 border-red-500 text-white\" : \"bg-gray-800 border-white/30 text-white hover:bg-gray-700\"}`,\n                                title: isCameraOff ? \"Turn Camera On\" : \"Turn Camera Off\",\n                                children: isCameraOff ? \"\\uD83D\\uDCF7 Off\" : \"\\uD83D\\uDCF9 Video\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1131,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1119,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                lineNumber: 1087,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid gap-4 md:grid-cols-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-900 p-6 border border-white/20 md:col-span-2 space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: videoContainerRef,\n                                className: \"aspect-video bg-black border border-white/20 relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        ref: mainVideoRef,\n                                        className: \"absolute inset-0 w-full h-full bg-black\",\n                                        style: {\n                                            minWidth: \"100%\",\n                                            minHeight: \"100%\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1154,\n                                        columnNumber: 13\n                                    }, this),\n                                    !remoteVideoActive && !videosSwapped && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center text-gray-500 z-10 pointer-events-none\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm\",\n                                                    children: \"Waiting for remote video...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1162,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs mt-1 text-gray-600\",\n                                                    children: \"The other user's video will appear here\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1163,\n                                                    columnNumber: 19\n                                                }, this),\n                                                remoteUserInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs mt-2 text-gray-400\",\n                                                    children: [\n                                                        \"Remote user connected: \",\n                                                        String(remoteUserInfo.uid).slice(0, 8),\n                                                        \"...\",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                            fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                            lineNumber: 1167,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \"Video track: \",\n                                                        remoteUserInfo.hasVideo ? \"✓\" : \"✗\",\n                                                        \" | Audio: \",\n                                                        remoteUserInfo.hasAudio ? \"✓\" : \"✗\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1165,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                            lineNumber: 1161,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1160,\n                                        columnNumber: 15\n                                    }, this),\n                                    !localVideoActive && videosSwapped && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center text-gray-500 z-5\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm\",\n                                                children: \"Waiting for local video...\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1177,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                            lineNumber: 1176,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1175,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        ref: overlayVideoRef,\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            // Show context menu: swap or fullscreen\n                                            const choice = confirm(\"Click OK to swap videos, or Cancel to fullscreen\");\n                                            if (choice) {\n                                                handleSwapVideos();\n                                            } else {\n                                                handleFullscreen(videoContainerRef.current);\n                                            }\n                                        },\n                                        onDoubleClick: ()=>handleFullscreen(videoContainerRef.current),\n                                        className: \"absolute bottom-4 right-4 w-48 h-36 border-2 border-white bg-black z-10 cursor-pointer hover:border-gray-400 transition-all\",\n                                        style: {\n                                            minWidth: \"192px\",\n                                            minHeight: \"144px\"\n                                        },\n                                        title: \"Click to swap, double-click to fullscreen\",\n                                        children: [\n                                            !localVideoActive && !videosSwapped && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute inset-0 flex items-center justify-center text-gray-500 text-xs\",\n                                                children: \"Your video\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1201,\n                                                columnNumber: 17\n                                            }, this),\n                                            !remoteVideoActive && videosSwapped && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute inset-0 flex items-center justify-center text-gray-500 text-xs\",\n                                                children: \"Other user\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1206,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1183,\n                                        columnNumber: 13\n                                    }, this),\n                                    !videoReady && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center text-gray-400 z-20 bg-black bg-opacity-75\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: sessionData?.video ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"mb-2\",\n                                                        children: \"Initializing video call...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                        lineNumber: 1218,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs\",\n                                                        children: \"Please allow camera and microphone access\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                        lineNumber: 1219,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-red-400 mt-2 max-w-md\",\n                                                        children: error\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                        lineNumber: 1221,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs mt-2 text-gray-500\",\n                                                        children: \"Check browser console for details\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                        lineNumber: 1223,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-gray-500\",\n                                                children: connected ? \"Loading session data...\" : \"Connecting to server...\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1226,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                            lineNumber: 1215,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1214,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1149,\n                                columnNumber: 11\n                            }, this),\n                            gameType && gameId && gameType === \"TICTACTOE\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_games_TicTacToeGame__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                gameId: gameId,\n                                socket: socket,\n                                userId: userId,\n                                initialState: gameState,\n                                initialPlayers: gamePlayers,\n                                onGameEnd: (result)=>{\n                                    console.log(\"Game ended:\", result);\n                                    // Allow starting a new game after a short delay\n                                    setTimeout(()=>{\n                                        setGameType(null);\n                                        setGameId(null);\n                                        setGameState(null);\n                                        setGamePlayers([]);\n                                    }, 5000); // 5 second delay before allowing new game\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1237,\n                                columnNumber: 13\n                            }, this) : gameType && gameId && gameType === \"CHESS\" && gameState ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_games_ChessGame__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                gameState: gameState,\n                                odUserId: userId,\n                                onMove: (from, to, promotionPiece)=>{\n                                    if (socket) {\n                                        socket.emit(\"game.move\", {\n                                            gameId,\n                                            from,\n                                            to,\n                                            promotionPiece\n                                        });\n                                    }\n                                },\n                                onForfeit: ()=>{\n                                    if (socket) {\n                                        socket.emit(\"game.forfeit\", {\n                                            gameId\n                                        });\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1255,\n                                columnNumber: 13\n                            }, this) : gameType && gameId && gameType === \"TRIVIA\" && gameState ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_games_TriviaGame__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                gameState: gameState,\n                                odUserId: userId,\n                                socket: socket,\n                                onAnswer: (questionIndex, answerIndex)=>{\n                                    if (socket) {\n                                        socket.emit(\"trivia.answer\", {\n                                            gameId,\n                                            questionIndex,\n                                            answerIndex\n                                        });\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1270,\n                                columnNumber: 13\n                            }, this) : gameType ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-800 p-4 border border-white/20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-300 mb-2\",\n                                        children: [\n                                            \"Active game: \",\n                                            gameType\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1282,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-black p-8 text-center text-gray-400 min-h-[200px] flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-lg mb-2\",\n                                                    children: [\n                                                        \"Game UI for \",\n                                                        gameType\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1285,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs\",\n                                                    children: \"Game implementation coming soon\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                    lineNumber: 1286,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                            lineNumber: 1284,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1283,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1281,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-800 p-4 border border-white/20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-400 mb-3\",\n                                        children: \"Start a game\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1292,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-3 gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleStartGame(\"CHESS\"),\n                                                className: \"bg-white px-3 py-2 text-black text-sm hover:bg-gray-200 border-2 border-white\",\n                                                children: \"Chess\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1294,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleStartGame(\"TRIVIA\"),\n                                                className: \"bg-white px-3 py-2 text-black text-sm hover:bg-gray-200 border-2 border-white\",\n                                                children: \"Trivia\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1300,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleStartGame(\"TICTACTOE\"),\n                                                className: \"bg-white px-3 py-2 text-black text-sm hover:bg-gray-200 border-2 border-white\",\n                                                children: \"Tic-Tac-Toe\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1306,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1293,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1291,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1147,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-900 p-4 border border-white/20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-400 mb-3\",\n                                        children: \"Actions\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1319,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleSendGift,\n                                                className: \"w-full bg-gray-800 px-4 py-2 text-white border-2 border-white/30 hover:bg-gray-700\",\n                                                children: \"Send Gift\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1321,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    const reason = prompt(\"Report reason:\");\n                                                    if (reason && socket) {\n                                                        socket.emit(\"session.report\", {\n                                                            sessionId,\n                                                            reason\n                                                        });\n                                                        alert(\"Report submitted\");\n                                                    }\n                                                },\n                                                className: \"w-full bg-gray-800 px-4 py-2 text-white border-2 border-white/30 hover:bg-gray-700\",\n                                                children: \"Report User\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1327,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1320,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1318,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-900 p-4 border border-white/20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-400 mb-2\",\n                                        children: \"Session Info\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1343,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-gray-500 space-y-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    \"Peer: \",\n                                                    sessionData?.peer.id || \"Loading...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1345,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    \"Channel: \",\n                                                    sessionData?.video.channelName || \"Loading...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1346,\n                                                columnNumber: 15\n                                            }, this),\n                                            sessionData?.video.expiresAt && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    \"Token expires: \",\n                                                    new Date(sessionData.video.expiresAt).toLocaleTimeString()\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                                lineNumber: 1348,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                        lineNumber: 1344,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                                lineNumber: 1342,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                        lineNumber: 1317,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n                lineNumber: 1146,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx\",\n        lineNumber: 1034,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0QsOERBQUNJO2dEQUNDQyxTQUFTO29EQUNQLE1BQU12RCxTQUFTNEMsT0FBTztvREFDdEIsSUFBSTVDLFVBQVUxTCxRQUFRO3dEQUNwQkEsT0FBT3lMLElBQUksQ0FBQyxrQkFBa0I7NERBQUU3TDs0REFBVzhMO3dEQUFPO3dEQUNsRFosTUFBTTtvREFDUjtnREFDRjtnREFDQThELFdBQVU7MERBQ1g7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQ0FNTCw4REFBQ0M7Z0NBQUlELFdBQVU7O2tEQUNiLDhEQUFDRzt3Q0FBRUgsV0FBVTtrREFBNkI7Ozs7OztrREFDMUMsOERBQUNDO3dDQUFJRCxXQUFVOzswREFDYiw4REFBQ0c7O29EQUFFO29EQUFPalAsYUFBYTZRLEtBQUs5USxNQUFNOzs7Ozs7OzBEQUNsQyw4REFBQ2tQOztvREFBRTtvREFBVWpQLGFBQWF1RyxNQUFNQyxlQUFlOzs7Ozs7OzRDQUM5Q3hHLGFBQWF1RyxNQUFNaUUsMkJBQ2xCLDhEQUFDeUU7O29EQUFFO29EQUFnQixJQUFJdkssS0FBSzFFLFlBQVl1RyxLQUFLLENBQUNpRSxTQUFTLEVBQUVzRyxrQkFBa0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRM0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab21lZ2xlLWdhbWUvd2ViLy4vc3JjL2FwcC9zZXNzaW9uL1tpZF0vcGFnZS50c3g/MDg2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgeyBpbywgU29ja2V0IH0gZnJvbSBcInNvY2tldC5pby1jbGllbnRcIjtcbmltcG9ydCBBZ29yYVJUQywgeyBJQ2FtZXJhVmlkZW9UcmFjaywgSU1pY3JvcGhvbmVBdWRpb1RyYWNrLCBJQWdvcmFSVENDbGllbnQsIElBZ29yYVJUQ1JlbW90ZVVzZXIsIE5ldHdvcmtRdWFsaXR5IH0gZnJvbSBcImFnb3JhLXJ0Yy1zZGstbmdcIjtcbmltcG9ydCB7IHZpZGVvQXBpLCB1c2Vyc0FwaSwgd2FsbGV0QXBpIH0gZnJvbSBcIkAvbGliL2FwaVwiO1xuaW1wb3J0IFRpY1RhY1RvZUdhbWUgZnJvbSBcIkAvY29tcG9uZW50cy9nYW1lcy9UaWNUYWNUb2VHYW1lXCI7XG5pbXBvcnQgQ2hlc3NHYW1lIGZyb20gXCJAL2NvbXBvbmVudHMvZ2FtZXMvQ2hlc3NHYW1lXCI7XG5pbXBvcnQgVHJpdmlhR2FtZSBmcm9tIFwiQC9jb21wb25lbnRzL2dhbWVzL1RyaXZpYUdhbWVcIjtcblxuLy8gQ29uZmlndXJhYmxlIFdlYlNvY2tldCBVUkxcbmNvbnN0IFdTX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dTX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMVwiO1xuXG5pbnRlcmZhY2UgU2Vzc2lvbkRhdGEge1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgcGVlcjogeyBpZDogc3RyaW5nIH07XG4gIHZpZGVvOiB7IGNoYW5uZWxOYW1lOiBzdHJpbmc7IHRva2VuOiBzdHJpbmc7IGV4cGlyZXNBdD86IHN0cmluZyB9O1xufVxuXG5pbnRlcmZhY2UgUmVtb3RlVXNlckluZm8ge1xuICB1aWQ6IHN0cmluZyB8IG51bWJlcjtcbiAgaGFzVmlkZW86IGJvb2xlYW47XG4gIGhhc0F1ZGlvOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgTmV0d29ya1F1YWxpdHlTdGF0ZSB7XG4gIHVwbGluazogbnVtYmVyOyAvLyAwLTY6IHVua25vd24sIGV4Y2VsbGVudCwgZ29vZCwgcG9vciwgYmFkLCB2ZXJ5IGJhZCwgZG93blxuICBkb3dubGluazogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTZXNzaW9uUGFnZSgpIHtcbiAgY29uc3QgcGFyYW1zID0gdXNlUGFyYW1zKCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBzZXNzaW9uSWQgPSBwYXJhbXMuaWQgYXMgc3RyaW5nO1xuICBjb25zdCBbc2Vzc2lvbkRhdGEsIHNldFNlc3Npb25EYXRhXSA9IHVzZVN0YXRlPFNlc3Npb25EYXRhIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzb2NrZXQsIHNldFNvY2tldF0gPSB1c2VTdGF0ZTxTb2NrZXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Nvbm5lY3RlZCwgc2V0Q29ubmVjdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2dhbWVUeXBlLCBzZXRHYW1lVHlwZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2dhbWVJZCwgc2V0R2FtZUlkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZ2FtZVN0YXRlLCBzZXRHYW1lU3RhdGVdID0gdXNlU3RhdGU8YW55PihudWxsKTtcbiAgY29uc3QgW2dhbWVQbGF5ZXJzLCBzZXRHYW1lUGxheWVyc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbdmlkZW9SZWFkeSwgc2V0VmlkZW9SZWFkeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW2xvY2FsVmlkZW9BY3RpdmUsIHNldExvY2FsVmlkZW9BY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVtb3RlVmlkZW9BY3RpdmUsIHNldFJlbW90ZVZpZGVvQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZpZGVvc1N3YXBwZWQsIHNldFZpZGVvc1N3YXBwZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNGdWxsc2NyZWVuLCBzZXRJc0Z1bGxzY3JlZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gTmV3IHN0YXRlIGZvciBhdWRpby92aWRlbyBjb250cm9sc1xuICBjb25zdCBbaXNNdXRlZCwgc2V0SXNNdXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0NhbWVyYU9mZiwgc2V0SXNDYW1lcmFPZmZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gTmV3IHN0YXRlIGZvciByZW1vdGUgdXNlciBpbmZvIChmaXhlcyByZWYgbm90IHRyaWdnZXJpbmcgcmUtcmVuZGVyKVxuICBjb25zdCBbcmVtb3RlVXNlckluZm8sIHNldFJlbW90ZVVzZXJJbmZvXSA9IHVzZVN0YXRlPFJlbW90ZVVzZXJJbmZvIHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBOZXcgc3RhdGUgZm9yIG5ldHdvcmsgcXVhbGl0eVxuICBjb25zdCBbbmV0d29ya1F1YWxpdHksIHNldE5ldHdvcmtRdWFsaXR5XSA9IHVzZVN0YXRlPE5ldHdvcmtRdWFsaXR5U3RhdGU+KHsgdXBsaW5rOiAwLCBkb3dubGluazogMCB9KTtcbiAgXG4gIC8vIE5ldyBzdGF0ZSBmb3Igc2Vzc2lvbiBkdXJhdGlvblxuICBjb25zdCBbc2Vzc2lvbkR1cmF0aW9uLCBzZXRTZXNzaW9uRHVyYXRpb25dID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtzZXNzaW9uU3RhcnRUaW1lLCBzZXRTZXNzaW9uU3RhcnRUaW1lXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBcbiAgLy8gTmV3IHN0YXRlIGZvciBjb25uZWN0aW9uIHN0YXR1c1xuICBjb25zdCBbY29ubmVjdGlvblN0YXRlLCBzZXRDb25uZWN0aW9uU3RhdGVdID0gdXNlU3RhdGU8c3RyaW5nPihcIkRJU0NPTk5FQ1RFRFwiKTtcbiAgXG4gIC8vIFdhbGxldCBiYWxhbmNlIHN0YXRlXG4gIGNvbnN0IFt3YWxsZXRCYWxhbmNlLCBzZXRXYWxsZXRCYWxhbmNlXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIFxuICAvLyBHaWZ0IG5vdGlmaWNhdGlvbiBzdGF0ZVxuICBjb25zdCBbZ2lmdE5vdGlmaWNhdGlvbiwgc2V0R2lmdE5vdGlmaWNhdGlvbl0gPSB1c2VTdGF0ZTx7IGZyb206IHN0cmluZzsgYW1vdW50OiBudW1iZXI7IGlzUmVjZWl2ZWQ6IGJvb2xlYW4gfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBnaWZ0Tm90aWZpY2F0aW9uVGltZXJSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgXG4gIGNvbnN0IG1haW5WaWRlb1JlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IG92ZXJsYXlWaWRlb1JlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHZpZGVvQ29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgY2xpZW50UmVmID0gdXNlUmVmPElBZ29yYVJUQ0NsaWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBsb2NhbFRyYWNrUmVmID0gdXNlUmVmPHsgdmlkZW9UcmFjazogSUNhbWVyYVZpZGVvVHJhY2sgfCBudWxsOyBhdWRpb1RyYWNrOiBJTWljcm9waG9uZUF1ZGlvVHJhY2sgfCBudWxsIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgcmVtb3RlVHJhY2tSZWYgPSB1c2VSZWY8SUFnb3JhUlRDUmVtb3RlVXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCByZW1vdGVVc2VyUmVmID0gdXNlUmVmPElBZ29yYVJUQ1JlbW90ZVVzZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgdmlkZW9DaGVja0ludGVydmFsUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHNlc3Npb25UaW1lclJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICBjb25zdCB0b2tlblJlbmV3YWxUaW1lclJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICBcbiAgLy8gVXNlIHJlZnMgdG8gdHJhY2sgbGF0ZXN0IHN0YXRlIHZhbHVlcyAoZml4ZXMgc3RhbGUgY2xvc3VyZSBpc3N1ZSlcbiAgY29uc3QgcmVtb3RlVmlkZW9BY3RpdmVSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBsb2NhbFZpZGVvQWN0aXZlUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgXG4gIGNvbnN0IFt1c2VySWQsIHNldFVzZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuXG4gIC8vIEtlZXAgcmVmcyBpbiBzeW5jIHdpdGggc3RhdGUgKGZpeGVzIHN0YWxlIGNsb3N1cmUgaXNzdWUgaW4gaW50ZXJ2YWxzKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlbW90ZVZpZGVvQWN0aXZlUmVmLmN1cnJlbnQgPSByZW1vdGVWaWRlb0FjdGl2ZTtcbiAgfSwgW3JlbW90ZVZpZGVvQWN0aXZlXSk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvY2FsVmlkZW9BY3RpdmVSZWYuY3VycmVudCA9IGxvY2FsVmlkZW9BY3RpdmU7XG4gIH0sIFtsb2NhbFZpZGVvQWN0aXZlXSk7XG5cbiAgLy8gQXVkaW8gbXV0ZS91bm11dGUgdG9nZ2xlXG4gIGNvbnN0IHRvZ2dsZU11dGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGxvY2FsVHJhY2tSZWYuY3VycmVudD8uYXVkaW9UcmFjaykge1xuICAgICAgY29uc3QgbmV3TXV0ZWQgPSAhaXNNdXRlZDtcbiAgICAgIGxvY2FsVHJhY2tSZWYuY3VycmVudC5hdWRpb1RyYWNrLnNldEVuYWJsZWQoIW5ld011dGVkKTtcbiAgICAgIHNldElzTXV0ZWQobmV3TXV0ZWQpO1xuICAgICAgY29uc29sZS5sb2cobmV3TXV0ZWQgPyBcIvCflIcgQXVkaW8gbXV0ZWRcIiA6IFwi8J+UiiBBdWRpbyB1bm11dGVkXCIpO1xuICAgIH1cbiAgfSwgW2lzTXV0ZWRdKTtcblxuICAvLyBDYW1lcmEgb24vb2ZmIHRvZ2dsZVxuICBjb25zdCB0b2dnbGVDYW1lcmEgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGxvY2FsVHJhY2tSZWYuY3VycmVudD8udmlkZW9UcmFjaykge1xuICAgICAgY29uc3QgbmV3Q2FtZXJhT2ZmID0gIWlzQ2FtZXJhT2ZmO1xuICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LnZpZGVvVHJhY2suc2V0RW5hYmxlZCghbmV3Q2FtZXJhT2ZmKTtcbiAgICAgIHNldElzQ2FtZXJhT2ZmKG5ld0NhbWVyYU9mZik7XG4gICAgICBjb25zb2xlLmxvZyhuZXdDYW1lcmFPZmYgPyBcIvCfk7cgQ2FtZXJhIG9mZlwiIDogXCLwn5O5IENhbWVyYSBvblwiKTtcbiAgICB9XG4gIH0sIFtpc0NhbWVyYU9mZl0pO1xuXG4gIC8vIFNlc3Npb24gZHVyYXRpb24gdGltZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2Vzc2lvblN0YXJ0VGltZSkge1xuICAgICAgc2Vzc2lvblRpbWVyUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHNldFNlc3Npb25EdXJhdGlvbihNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gc2Vzc2lvblN0YXJ0VGltZSkgLyAxMDAwKSk7XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKHNlc3Npb25UaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChzZXNzaW9uVGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LCBbc2Vzc2lvblN0YXJ0VGltZV0pO1xuXG4gIC8vIEZvcm1hdCBkdXJhdGlvbiBhcyBtbTpzc1xuICBjb25zdCBmb3JtYXREdXJhdGlvbiA9IChzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgY29uc3Qgc2VjcyA9IHNlY29uZHMgJSA2MDtcbiAgICByZXR1cm4gYCR7bWlucy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgfTtcblxuICAvLyBOZXR3b3JrIHF1YWxpdHkgbGFiZWxcbiAgY29uc3QgZ2V0TmV0d29ya1F1YWxpdHlMYWJlbCA9IChxdWFsaXR5OiBudW1iZXIpOiB7IGxhYmVsOiBzdHJpbmc7IGNvbG9yOiBzdHJpbmcgfSA9PiB7XG4gICAgc3dpdGNoIChxdWFsaXR5KSB7XG4gICAgICBjYXNlIDE6IHJldHVybiB7IGxhYmVsOiBcIkV4Y2VsbGVudFwiLCBjb2xvcjogXCJ0ZXh0LWdyZWVuLTQwMFwiIH07XG4gICAgICBjYXNlIDI6IHJldHVybiB7IGxhYmVsOiBcIkdvb2RcIiwgY29sb3I6IFwidGV4dC1ncmVlbi0zMDBcIiB9O1xuICAgICAgY2FzZSAzOiByZXR1cm4geyBsYWJlbDogXCJQb29yXCIsIGNvbG9yOiBcInRleHQteWVsbG93LTQwMFwiIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiB7IGxhYmVsOiBcIkJhZFwiLCBjb2xvcjogXCJ0ZXh0LW9yYW5nZS00MDBcIiB9O1xuICAgICAgY2FzZSA1OiByZXR1cm4geyBsYWJlbDogXCJWZXJ5IEJhZFwiLCBjb2xvcjogXCJ0ZXh0LXJlZC00MDBcIiB9O1xuICAgICAgY2FzZSA2OiByZXR1cm4geyBsYWJlbDogXCJEb3duXCIsIGNvbG9yOiBcInRleHQtcmVkLTYwMFwiIH07XG4gICAgICBkZWZhdWx0OiByZXR1cm4geyBsYWJlbDogXCJVbmtub3duXCIsIGNvbG9yOiBcInRleHQtZ3JheS00MDBcIiB9O1xuICAgIH1cbiAgfTtcblxuICAvLyBHZXQgdXNlciBJRCBhbmQgd2FsbGV0IGJhbGFuY2Ugb24gbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkVXNlckRhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBbdXNlciwgd2FsbGV0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICB1c2Vyc0FwaS5nZXRNZSgpLFxuICAgICAgICAgIHdhbGxldEFwaS5nZXRNeVdhbGxldCgpXG4gICAgICAgIF0pO1xuICAgICAgICBzZXRVc2VySWQodXNlci5pZCk7XG4gICAgICAgIHNldFdhbGxldEJhbGFuY2Uod2FsbGV0Py5iYWxhbmNlVG9rZW5zIHx8IDApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCB1c2VyIGRhdGE6XCIsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICBsb2FkVXNlckRhdGEoKTtcbiAgfSwgW10pO1xuICBcbiAgLy8gU2hvdyBnaWZ0IG5vdGlmaWNhdGlvbiB3aXRoIGF1dG8tZGlzbWlzc1xuICBjb25zdCBzaG93R2lmdE5vdGlmaWNhdGlvbiA9IHVzZUNhbGxiYWNrKChmcm9tOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyLCBpc1JlY2VpdmVkOiBib29sZWFuKSA9PiB7XG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHRpbWVyXG4gICAgaWYgKGdpZnROb3RpZmljYXRpb25UaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoZ2lmdE5vdGlmaWNhdGlvblRpbWVyUmVmLmN1cnJlbnQpO1xuICAgIH1cbiAgICBcbiAgICBzZXRHaWZ0Tm90aWZpY2F0aW9uKHsgZnJvbSwgYW1vdW50LCBpc1JlY2VpdmVkIH0pO1xuICAgIFxuICAgIC8vIEF1dG8tZGlzbWlzcyBhZnRlciA1IHNlY29uZHNcbiAgICBnaWZ0Tm90aWZpY2F0aW9uVGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0R2lmdE5vdGlmaWNhdGlvbihudWxsKTtcbiAgICB9LCA1MDAwKTtcbiAgfSwgW10pO1xuXG4gIC8vIFRyYWNrIHRoZSBjaGFubmVsIHdlJ3JlIGNvbm5lY3RlZCB0byB0byBwcmV2ZW50IHJlaW5pdGlhbGl6aW5nIGZvciB0aGUgc2FtZSBzZXNzaW9uXG4gIGNvbnN0IGNvbm5lY3RlZENoYW5uZWxSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBBZ29yYSB2aWRlbyB3aGVuIHNlc3Npb24gZGF0YSBpcyByZWFkeVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc2Vzc2lvbkRhdGE/LnZpZGVvIHx8ICF1c2VySWQpIHtcbiAgICAgIC8vIE9ubHkgbG9nIG9uY2Ugd2hlbiBtaXNzaW5nIGRhdGEsIG5vdCBvbiBldmVyeSByZW5kZXJcbiAgICAgIGlmICghc2Vzc2lvbkRhdGE/LnZpZGVvICYmICF1c2VySWQpIHtcbiAgICAgICAgLy8gU2lsZW50bHkgd2FpdCAtIHdpbGwgaW5pdGlhbGl6ZSBvbmNlIGJvdGggYXJlIGF2YWlsYWJsZVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFByZXZlbnQgbXVsdGlwbGUgaW5pdGlhbGl6YXRpb25zIGZvciB0aGUgc2FtZSBjaGFubmVsXG4gICAgLy8gVGhpcyBoYW5kbGVzIFdlYlNvY2tldCByZWNvbm5lY3Rpb25zIHRoYXQgcmVzZW5kIHNlc3Npb24ucmVhZHlcbiAgICBpZiAoY2xpZW50UmVmLmN1cnJlbnQgJiYgY29ubmVjdGVkQ2hhbm5lbFJlZi5jdXJyZW50ID09PSBzZXNzaW9uRGF0YS52aWRlby5jaGFubmVsTmFtZSkge1xuICAgICAgY29uc29sZS5sb2coXCJWaWRlbyBhbHJlYWR5IGluaXRpYWxpemVkIGZvciB0aGlzIGNoYW5uZWwsIHNraXBwaW5nXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBJZiB3ZSdyZSBjb25uZWN0ZWQgdG8gYSBkaWZmZXJlbnQgY2hhbm5lbCwgY2xlYW4gdXAgZmlyc3RcbiAgICBpZiAoY2xpZW50UmVmLmN1cnJlbnQgJiYgY29ubmVjdGVkQ2hhbm5lbFJlZi5jdXJyZW50ICE9PSBzZXNzaW9uRGF0YS52aWRlby5jaGFubmVsTmFtZSkge1xuICAgICAgY29uc29sZS5sb2coXCJDaGFubmVsIGNoYW5nZWQsIGNsZWFuaW5nIHVwIG9sZCBjb25uZWN0aW9uXCIpO1xuICAgICAgLy8gVGhpcyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIGNsZWFudXAgZnVuY3Rpb25cbiAgICB9XG5cbiAgICBsZXQgaXNNb3VudGVkID0gdHJ1ZTtcbiAgICBsZXQgcmV0cnlDb3VudCA9IDA7XG4gICAgY29uc3QgTUFYX1JFVFJJRVMgPSA1MDsgLy8gTWF4IDUgc2Vjb25kcyBvZiByZXRyaWVzICg1MCAqIDEwMG1zKVxuICAgIGxldCByZXRyeVRpbWVyOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuXG4gICAgLy8gV2FpdCBmb3IgcmVmcyB0byBiZSBhdmFpbGFibGUgKHRoZXkgbWlnaHQgbm90IGJlIGltbWVkaWF0ZWx5IGFmdGVyIHJlbmRlcilcbiAgICBjb25zdCBjaGVja0FuZEluaXQgPSAoKSA9PiB7XG4gICAgICBpZiAoIWlzTW91bnRlZCkge1xuICAgICAgICBpZiAocmV0cnlUaW1lcikgY2xlYXJUaW1lb3V0KHJldHJ5VGltZXIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghbWFpblZpZGVvUmVmLmN1cnJlbnQgfHwgIW92ZXJsYXlWaWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgaWYgKHJldHJ5Q291bnQgPj0gTUFYX1JFVFJJRVMpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmlkZW8gcmVmcyBuZXZlciBiZWNhbWUgYXZhaWxhYmxlIGFmdGVyXCIsIE1BWF9SRVRSSUVTLCBcInJldHJpZXNcIik7XG4gICAgICAgICAgc2V0RXJyb3IoXCJWaWRlbyBjb250YWluZXJzIGZhaWxlZCB0byBpbml0aWFsaXplLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZS5cIik7XG4gICAgICAgICAgcmV0cnlUaW1lciA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXRyeUNvdW50ICUgMTAgPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgV2FpdGluZyBmb3IgdmlkZW8gcmVmcy4uLiAoYXR0ZW1wdCAke3JldHJ5Q291bnR9LyR7TUFYX1JFVFJJRVN9KWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHJ5VGltZXIgPSBzZXRUaW1lb3V0KGNoZWNrQW5kSW5pdCwgMTAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcIkFsbCBjb25kaXRpb25zIG1ldCwgaW5pdGlhbGl6aW5nIHZpZGVvXCIpO1xuICAgICAgcmV0cnlUaW1lciA9IG51bGw7IC8vIENsZWFyIHRpbWVyIHNpbmNlIHdlJ3JlIHByb2NlZWRpbmdcbiAgICAgIGluaXRWaWRlbygpO1xuICAgIH07XG5cbiAgICBjb25zdCBpbml0VmlkZW8gPSBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgYXBwSWQ6IHN0cmluZyA9IFwiXCI7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgdmlkZW8gaW5pdGlhbGl6YXRpb24uLi5cIik7XG4gICAgICAgIHNldEVycm9yKFwiXCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IEFnb3JhIEFwcCBJRFxuICAgICAgICBjb25zdCBhcHBJZFJlc3BvbnNlID0gYXdhaXQgdmlkZW9BcGkuZ2V0QXBwSWQoKTtcbiAgICAgICAgYXBwSWQgPSBhcHBJZFJlc3BvbnNlLmFwcElkO1xuICAgICAgICBpZiAoIWFwcElkKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkFnb3JhIEFwcCBJRCBub3QgZm91bmRcIik7XG4gICAgICAgICAgc2V0RXJyb3IoXCJBZ29yYSBBcHAgSUQgbm90IGNvbmZpZ3VyZWRcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJBZ29yYSBBcHAgSUQ6XCIsIGFwcElkKTtcblxuICAgICAgICAvLyBDcmVhdGUgQWdvcmEgY2xpZW50XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IEFnb3JhUlRDLmNyZWF0ZUNsaWVudCh7IG1vZGU6IFwicnRjXCIsIGNvZGVjOiBcInZwOFwiIH0pO1xuICAgICAgICBjbGllbnRSZWYuY3VycmVudCA9IGNsaWVudDtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIkpvaW5pbmcgY2hhbm5lbDpcIiwgc2Vzc2lvbkRhdGEudmlkZW8uY2hhbm5lbE5hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVzaW5nIHVzZXJJZCAoYWNjb3VudCk6XCIsIHVzZXJJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXBwIElEOlwiLCBhcHBJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVG9rZW4gcHJldmlldzpcIiwgc2Vzc2lvbkRhdGEudmlkZW8udG9rZW4uc3Vic3RyaW5nKDAsIDUwKSArIFwiLi4uXCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gSm9pbiBjaGFubmVsIC0gd2hlbiB1c2luZyBidWlsZFRva2VuV2l0aEFjY291bnQsIHBhc3MgdGhlIGFjY291bnQgc3RyaW5nIGFzIHVpZFxuICAgICAgICAvLyBUaGUgdG9rZW4gY29udGFpbnMgdGhlIGFjY291bnQgaW5mbywgc28gd2UgcGFzcyB0aGUgc2FtZSB1c2VySWRcbiAgICAgICAgYXdhaXQgY2xpZW50LmpvaW4oYXBwSWQsIHNlc3Npb25EYXRhLnZpZGVvLmNoYW5uZWxOYW1lLCBzZXNzaW9uRGF0YS52aWRlby50b2tlbiwgdXNlcklkKTtcbiAgICAgICAgY29ubmVjdGVkQ2hhbm5lbFJlZi5jdXJyZW50ID0gc2Vzc2lvbkRhdGEudmlkZW8uY2hhbm5lbE5hbWU7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3VjY2Vzc2Z1bGx5IGpvaW5lZCBBZ29yYSBjaGFubmVsXCIpO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBleGlzdGluZyByZW1vdGUgdXNlcnMgaW1tZWRpYXRlbHkgYWZ0ZXIgam9pbmluZ1xuICAgICAgICBjb25zdCByZW1vdGVVc2VycyA9IGNsaWVudC5yZW1vdGVVc2VycztcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5GlIEV4aXN0aW5nIHJlbW90ZSB1c2VycyBpbiBjaGFubmVsOlwiLCByZW1vdGVVc2Vycy5sZW5ndGgpO1xuICAgICAgICBpZiAocmVtb3RlVXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAoY29uc3QgcmVtb3RlVXNlciBvZiByZW1vdGVVc2Vycykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5GkIEZvdW5kIGV4aXN0aW5nIHJlbW90ZSB1c2VyOlwiLCByZW1vdGVVc2VyLnVpZCk7XG4gICAgICAgICAgICAvLyBTdWJzY3JpYmUgdG8gZXhpc3RpbmcgcmVtb3RlIHVzZXIncyB0cmFja3NcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIFN1YnNjcmliZSB0byBib3RoIHZpZGVvIGFuZCBhdWRpb1xuICAgICAgICAgICAgICBhd2FpdCBjbGllbnQuc3Vic2NyaWJlKHJlbW90ZVVzZXIsIFwidmlkZW9cIik7XG4gICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5zdWJzY3JpYmUocmVtb3RlVXNlciwgXCJhdWRpb1wiKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLinIUgU3Vic2NyaWJlZCB0byBleGlzdGluZyByZW1vdGUgdXNlciB0cmFja3NcIik7XG4gICAgICAgICAgICAgIHJlbW90ZVVzZXJSZWYuY3VycmVudCA9IHJlbW90ZVVzZXI7XG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBmb3IgVUkgKHJlZnMgZG9uJ3QgdHJpZ2dlciByZS1yZW5kZXJzKVxuICAgICAgICAgICAgICBzZXRSZW1vdGVVc2VySW5mbyh7XG4gICAgICAgICAgICAgICAgdWlkOiByZW1vdGVVc2VyLnVpZCxcbiAgICAgICAgICAgICAgICBoYXNWaWRlbzogISFyZW1vdGVVc2VyLnZpZGVvVHJhY2ssXG4gICAgICAgICAgICAgICAgaGFzQXVkaW86ICEhcmVtb3RlVXNlci5hdWRpb1RyYWNrXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUGxheSBhdWRpbyBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICBpZiAocmVtb3RlVXNlci5hdWRpb1RyYWNrKSB7XG4gICAgICAgICAgICAgICAgcmVtb3RlVXNlci5hdWRpb1RyYWNrLnBsYXkoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIogUGxheWluZyBleGlzdGluZyByZW1vdGUgdXNlcidzIGF1ZGlvXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBNdWx0aXBsZSByZXRyaWVzIGZvciB2aWRlbyB0cmFjayB0byBlbnN1cmUgaXQncyByZWFkeVxuICAgICAgICAgICAgICBjb25zdCB0cnlQbGF5UmVtb3RlVmlkZW8gPSAoYXR0ZW1wdCA9IDApID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLimqDvuI8gQ29tcG9uZW50IHVubW91bnRlZCwgc3RvcHBpbmcgcmVtb3RlIHZpZGVvIHJldHJ5XCIpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBBdHRlbXB0ICR7YXR0ZW1wdH0gdG8gcGxheSBleGlzdGluZyByZW1vdGUgdmlkZW8uIFRyYWNrOmAsICEhcmVtb3RlVXNlci52aWRlb1RyYWNrLCBcIkNvbnRhaW5lcjpcIiwgISFtYWluVmlkZW9SZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHJlbW90ZVVzZXIudmlkZW9UcmFjayAmJiBtYWluVmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvcCBhbnkgZXhpc3RpbmcgcGxheWJhY2tcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICByZW1vdGVVc2VyLnZpZGVvVHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlVXNlci52aWRlb1RyYWNrLnBsYXkobWFpblZpZGVvUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IHZpZGVvIGVsZW1lbnQgd2FzIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9FbGVtZW50ID0gbWFpblZpZGVvUmVmLmN1cnJlbnQ/LnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLinIUgRXhpc3RpbmcgcmVtb3RlIHZpZGVvIGVsZW1lbnQgY3JlYXRlZC4gRGltZW5zaW9uczpcIiwgdmlkZW9FbGVtZW50LnZpZGVvV2lkdGgsIFwieFwiLCB2aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVtb3RlVmlkZW9BY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgVmlkZW8gZWxlbWVudCBub3QgZm91bmQgYWZ0ZXIgcGxheSgpXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQgPCA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdHJ5UGxheVJlbW90ZVZpZGVvKGF0dGVtcHQgKyAxKSwgNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBQbGF5aW5nIGV4aXN0aW5nIHJlbW90ZSB1c2VyJ3MgdmlkZW8gaW4gbWFpbiBjb250YWluZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlbW90ZVZpZGVvQWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAocGxheUVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIHBsYXlpbmcgZXhpc3RpbmcgcmVtb3RlIHZpZGVvIChhdHRlbXB0ICR7YXR0ZW1wdH0pOmAsIHBsYXlFcnJvcj8ubWVzc2FnZSB8fCBwbGF5RXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ZW1wdCA8IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0cnlQbGF5UmVtb3RlVmlkZW8oYXR0ZW1wdCArIDEpLCAzMDAgKiAoYXR0ZW1wdCArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0ZW1wdCA8IDE1KSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg4o+zIFZpZGVvIHRyYWNrIG9yIGNvbnRhaW5lciBub3QgcmVhZHkgKHRyYWNrOiAkeyEhcmVtb3RlVXNlci52aWRlb1RyYWNrfSwgY29udGFpbmVyOiAkeyEhbWFpblZpZGVvUmVmLmN1cnJlbnR9KWApO1xuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0cnlQbGF5UmVtb3RlVmlkZW8oYXR0ZW1wdCArIDEpLCAxNTAgKiAoYXR0ZW1wdCArIDEpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBSZW1vdGUgdmlkZW8gdHJhY2sgbmV2ZXIgYmVjYW1lIGF2YWlsYWJsZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBTdGFydCB0cnlpbmcgdG8gcGxheSB2aWRlbyBpbW1lZGlhdGVseSBhbmQgd2l0aCByZXRyaWVzXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdHJ5UGxheVJlbW90ZVZpZGVvKCksIDEwMCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBjYXRjaCAoc3ViRXJyb3I6IGFueSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVycm9yIHN1YnNjcmliaW5nIHRvIGV4aXN0aW5nIHJlbW90ZSB1c2VyOlwiLCBzdWJFcnJvcj8ubWVzc2FnZSB8fCBzdWJFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwi4o+zIE5vIGV4aXN0aW5nIHJlbW90ZSB1c2Vycywgd2FpdGluZyBmb3IgdXNlci1wdWJsaXNoZWQgZXZlbnRcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgYW5kIHB1Ymxpc2ggbG9jYWwgdmlkZW8vYXVkaW8gdHJhY2tzXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVxdWVzdGluZyBjYW1lcmEgYW5kIG1pY3JvcGhvbmUgYWNjZXNzLi4uXCIpO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBbbWljVHJhY2ssIGNhbVRyYWNrXSA9IGF3YWl0IEFnb3JhUlRDLmNyZWF0ZU1pY3JvcGhvbmVBbmRDYW1lcmFUcmFja3MoXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZW5jb2RlckNvbmZpZzoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB7IG1pbjogNjQwLCBpZGVhbDogMTI4MCwgbWF4OiAxOTIwIH0sXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB7IG1pbjogNDgwLCBpZGVhbDogNzIwLCBtYXg6IDEwODAgfSxcbiAgICAgICAgICAgICAgICBmcmFtZVJhdGU6IHsgbWluOiAxNSwgaWRlYWw6IDMwLCBtYXg6IDMwIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTm90ZTogY3JlYXRlTWljcm9waG9uZUFuZENhbWVyYVRyYWNrcyByZXR1cm5zIFtJTWljcm9waG9uZUF1ZGlvVHJhY2ssIElDYW1lcmFWaWRlb1RyYWNrXVxuICAgICAgICAgIGNvbnN0IGF1ZGlvVHJhY2sgPSBtaWNUcmFjaztcbiAgICAgICAgICBjb25zdCB2aWRlb1RyYWNrID0gY2FtVHJhY2s7XG4gICAgICAgICAgXG4gICAgICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50ID0geyB2aWRlb1RyYWNrLCBhdWRpb1RyYWNrIH07XG4gICAgICAgICAgY29uc29sZS5sb2coXCJUcmFja3MgY3JlYXRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgY2xpZW50LnB1Ymxpc2goW21pY1RyYWNrLCBjYW1UcmFja10pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJhY2tzIHB1Ymxpc2hlZCB0byBjaGFubmVsXCIpO1xuXG4gICAgICAgICAgLy8gRGlzcGxheSBsb2NhbCB2aWRlbyBpbiBvdmVybGF5IGNvbnRhaW5lciAoc21hbGwgY29ybmVyIGJ5IGRlZmF1bHQpXG4gICAgICAgICAgLy8gUmV0cnkgbXVsdGlwbGUgdGltZXMgdG8gZW5zdXJlIHRoZSByZWYgaXMgcmVhZHlcbiAgICAgICAgICBjb25zdCB0cnlQbGF5TG9jYWxWaWRlbyA9IChhdHRlbXB0ID0gMCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpc01vdW50ZWQgfHwgIXZpZGVvVHJhY2spIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKG92ZXJsYXlWaWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSAtIEFnb3JhIFNESyBwbGF5KCkgYWNjZXB0cyBIVE1MRWxlbWVudCBidXQgdHlwZXMgbWF5IGJlIG91dGRhdGVkXG4gICAgICAgICAgICAgICAgdmlkZW9UcmFjay5wbGF5KG92ZXJsYXlWaWRlb1JlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvY2FsIHZpZGVvIHBsYXlpbmcgaW4gb3ZlcmxheSBjb250YWluZXJcIik7XG4gICAgICAgICAgICAgICAgc2V0TG9jYWxWaWRlb0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAocGxheUVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgcGxheWluZyBsb2NhbCB2aWRlbyAoYXR0ZW1wdCAke2F0dGVtcHR9KTpgLCBwbGF5RXJyb3IpO1xuICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0IDwgNSkge1xuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0cnlQbGF5TG9jYWxWaWRlbyhhdHRlbXB0ICsgMSksIDEwMCAqIChhdHRlbXB0ICsgMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRlbXB0IDwgMTApIHtcbiAgICAgICAgICAgICAgLy8gUmVmIG5vdCByZWFkeSB5ZXQsIHJldHJ5XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdHJ5UGxheUxvY2FsVmlkZW8oYXR0ZW1wdCArIDEpLCA1MCAqIChhdHRlbXB0ICsgMSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkxvY2FsIHZpZGVvIHJlZiBuZXZlciBiZWNhbWUgYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5UGxheUxvY2FsVmlkZW8oKTtcbiAgICAgICAgfSBjYXRjaCAodHJhY2tFcnJvcjogYW55KSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjcmVhdGUvcHVibGlzaCBsb2NhbCB0cmFja3M6XCIsIHRyYWNrRXJyb3IpO1xuICAgICAgICAgIGlmICh0cmFja0Vycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKFwicGVybWlzc2lvblwiKSB8fCB0cmFja0Vycm9yLm5hbWUgPT09IFwiTm90QWxsb3dlZEVycm9yXCIpIHtcbiAgICAgICAgICAgIHNldEVycm9yKFwiQ2FtZXJhIG9yIG1pY3JvcGhvbmUgcGVybWlzc2lvbiBkZW5pZWQuIFBsZWFzZSBhbGxvdyBhY2Nlc3MgaW4geW91ciBicm93c2VyIHNldHRpbmdzIGFuZCByZWZyZXNoIHRoZSBwYWdlLlwiKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRyYWNrRXJyb3IubmFtZSA9PT0gXCJOb3RGb3VuZEVycm9yXCIgfHwgdHJhY2tFcnJvci5uYW1lID09PSBcIk5vdFJlYWRhYmxlRXJyb3JcIikge1xuICAgICAgICAgICAgc2V0RXJyb3IoXCJDYW1lcmEgb3IgbWljcm9waG9uZSBub3QgZm91bmQgb3IgYWxyZWFkeSBpbiB1c2UuIFBsZWFzZSBjaGVjayB5b3VyIGRldmljZXMuXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRFcnJvcihgRmFpbGVkIHRvIGFjY2VzcyBjYW1lcmEvbWljcm9waG9uZTogJHt0cmFja0Vycm9yLm1lc3NhZ2UgfHwgdHJhY2tFcnJvci5uYW1lfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBDb250aW51ZSBldmVuIGlmIGxvY2FsIHZpZGVvIGZhaWxzIC0gdXNlciBjYW4gc3RpbGwgc2VlIHJlbW90ZSB2aWRlb1xuICAgICAgICAgIGxvY2FsVHJhY2tSZWYuY3VycmVudCA9IHsgdmlkZW9UcmFjazogbnVsbCwgYXVkaW9UcmFjazogbnVsbCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIHJlbW90ZSB1c2VyIGpvaW5pbmcgYWZ0ZXIgd2UndmUgam9pbmVkXG4gICAgICAgIGNsaWVudC5vbihcInVzZXItcHVibGlzaGVkXCIsIGFzeW5jICh1c2VyLCBtZWRpYVR5cGUpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflJQgUmVtb3RlIHVzZXIgcHVibGlzaGVkOlwiLCBtZWRpYVR5cGUsIFwiVXNlciBJRDpcIiwgdXNlci51aWQpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBjbGllbnQuc3Vic2NyaWJlKHVzZXIsIG1lZGlhVHlwZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBTdWJzY3JpYmVkIHRvXCIsIG1lZGlhVHlwZSwgXCJmb3IgdXNlclwiLCB1c2VyLnVpZCk7XG4gICAgICAgICAgICByZW1vdGVVc2VyUmVmLmN1cnJlbnQgPSB1c2VyO1xuICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGZvciBVSSAocmVmcyBkb24ndCB0cmlnZ2VyIHJlLXJlbmRlcnMpXG4gICAgICAgICAgICBzZXRSZW1vdGVVc2VySW5mbyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgIHVpZDogdXNlci51aWQsXG4gICAgICAgICAgICAgIGhhc1ZpZGVvOiBtZWRpYVR5cGUgPT09IFwidmlkZW9cIiA/IHRydWUgOiAocHJldj8uaGFzVmlkZW8gfHwgZmFsc2UpLFxuICAgICAgICAgICAgICBoYXNBdWRpbzogbWVkaWFUeXBlID09PSBcImF1ZGlvXCIgPyB0cnVlIDogKHByZXY/Lmhhc0F1ZGlvIHx8IGZhbHNlKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBQbGF5IGF1ZGlvIGltbWVkaWF0ZWx5IGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKG1lZGlhVHlwZSA9PT0gXCJhdWRpb1wiICYmIHVzZXIuYXVkaW9UcmFjaykge1xuICAgICAgICAgICAgICB1c2VyLmF1ZGlvVHJhY2sucGxheSgpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIogUmVtb3RlIGF1ZGlvIHBsYXlpbmcgZm9yIHVzZXI6XCIsIHVzZXIudWlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRm9yIHZpZGVvLCB0cnkgbXVsdGlwbGUgdGltZXMgd2l0aCBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgICAgICBpZiAobWVkaWFUeXBlID09PSBcInZpZGVvXCIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5O5IFZpZGVvIHRyYWNrIGF2YWlsYWJsZTpcIiwgISF1c2VyLnZpZGVvVHJhY2ssIFwiTWFpbiBjb250YWluZXI6XCIsICEhbWFpblZpZGVvUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgdHJ5UGxheVZpZGVvID0gKGF0dGVtcHQgPSAwKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pqg77iPIENvbXBvbmVudCB1bm1vdW50ZWQsIHN0b3BwaW5nIHZpZGVvIHJldHJ5XCIpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBBdHRlbXB0ICR7YXR0ZW1wdH0gdG8gcGxheSByZW1vdGUgdmlkZW8uIFRyYWNrOmAsICEhdXNlci52aWRlb1RyYWNrLCBcIkNvbnRhaW5lcjpcIiwgISFtYWluVmlkZW9SZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHVzZXIudmlkZW9UcmFjayAmJiBtYWluVmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvcCBhbnkgZXhpc3RpbmcgdmlkZW8gZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICB1c2VyLnZpZGVvVHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGlmIG5vdCBwbGF5aW5nXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgdXNlci52aWRlb1RyYWNrLnBsYXkobWFpblZpZGVvUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IHZpZGVvIGVsZW1lbnQgd2FzIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9FbGVtZW50ID0gbWFpblZpZGVvUmVmLmN1cnJlbnQ/LnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLinIUgUmVtb3RlIHZpZGVvIGVsZW1lbnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkuIFZpZGVvIGRpbWVuc2lvbnM6XCIsIHZpZGVvRWxlbWVudC52aWRlb1dpZHRoLCBcInhcIiwgdmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVmlkZW8gZWxlbWVudDpcIiwgdmlkZW9FbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlbW90ZVZpZGVvQWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIFZpZGVvIGVsZW1lbnQgbm90IGZvdW5kIGluIGNvbnRhaW5lciBhZnRlciBwbGF5KClcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ZW1wdCA8IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0cnlQbGF5VmlkZW8oYXR0ZW1wdCArIDEpLCA1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFJlbW90ZSB2aWRlbyBwbGF5aW5nIGZvciB1c2VyOlwiLCB1c2VyLnVpZCwgXCJpbiBtYWluIGNvbnRhaW5lciAoYXR0ZW1wdFwiLCBhdHRlbXB0ICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZXRSZW1vdGVWaWRlb0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHBsYXlFcnJvcjogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBwbGF5aW5nIHJlbW90ZSB2aWRlbyAoYXR0ZW1wdCAke2F0dGVtcHR9KTpgLCBwbGF5RXJyb3I/Lm1lc3NhZ2UgfHwgcGxheUVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQgPCAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdHJ5UGxheVZpZGVvKGF0dGVtcHQgKyAxKSwgMzAwICogKGF0dGVtcHQgKyAxKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBGYWlsZWQgdG8gcGxheSByZW1vdGUgdmlkZW8gYWZ0ZXJcIiwgYXR0ZW1wdCwgXCJhdHRlbXB0c1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg4o+zIFZpZGVvIHRyYWNrIG9yIGNvbnRhaW5lciBub3QgcmVhZHkgKHRyYWNrOiAkeyEhdXNlci52aWRlb1RyYWNrfSwgY29udGFpbmVyOiAkeyEhbWFpblZpZGVvUmVmLmN1cnJlbnR9KWApO1xuICAgICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQgPCAxNSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRyeVBsYXlWaWRlbyhhdHRlbXB0ICsgMSksIDE1MCAqIChhdHRlbXB0ICsgMSkpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBSZW1vdGUgdmlkZW8gdHJhY2sgb3IgY29udGFpbmVyIG5ldmVyIGJlY2FtZSBhdmFpbGFibGUgYWZ0ZXJcIiwgYXR0ZW1wdCwgXCJhdHRlbXB0c1wiKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBTdGFydCB0cnlpbmcgaW1tZWRpYXRlbHkgYW5kIHdpdGggcmV0cmllc1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRyeVBsYXlWaWRlbygpLCAxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKHN1YkVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRXJyb3Igc3Vic2NyaWJpbmcgdG8gcmVtb3RlIHVzZXI6XCIsIHN1YkVycm9yPy5tZXNzYWdlIHx8IHN1YkVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNsaWVudC5vbihcInVzZXItdW5wdWJsaXNoZWRcIiwgKHVzZXIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlbW90ZSB1c2VyIHVucHVibGlzaGVkOlwiLCB1c2VyLnVpZCk7XG4gICAgICAgICAgc2V0UmVtb3RlVmlkZW9BY3RpdmUoZmFsc2UpO1xuICAgICAgICAgIGlmICh1c2VyLnZpZGVvVHJhY2spIHtcbiAgICAgICAgICAgIHVzZXIudmlkZW9UcmFjay5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh1c2VyLmF1ZGlvVHJhY2spIHtcbiAgICAgICAgICAgIHVzZXIuYXVkaW9UcmFjay5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFsc28gbGlzdGVuIGZvciB0cmFjay1lbmRlZCBldmVudHNcbiAgICAgICAgY2xpZW50Lm9uKFwidXNlci1sZWZ0XCIsICh1c2VyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJSZW1vdGUgdXNlciBsZWZ0OlwiLCB1c2VyLnVpZCk7XG4gICAgICAgICAgc2V0UmVtb3RlVmlkZW9BY3RpdmUoZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQZXJpb2RpYyBjaGVjayB0byBlbnN1cmUgdmlkZW9zIGFyZSBwbGF5aW5nIChmYWxsYmFjayBmb3IgZWRnZSBjYXNlcylcbiAgICAgICAgdmlkZW9DaGVja0ludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc01vdW50ZWQpIHtcbiAgICAgICAgICAgIGlmICh2aWRlb0NoZWNrSW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKHZpZGVvQ2hlY2tJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgdmlkZW9DaGVja0ludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBsb2NhbCB2aWRlbyAtIHRyeSB0byBhdHRhY2ggaWYgdHJhY2sgZXhpc3RzIGFuZCBjb250YWluZXIgaXMgYXZhaWxhYmxlXG4gICAgICAgICAgaWYgKGxvY2FsVHJhY2tSZWYuY3VycmVudD8udmlkZW9UcmFjayAmJiBvdmVybGF5VmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdmlkZW8gaXMgYWN0dWFsbHkgcGxheWluZyBieSBjaGVja2luZyB0aGUgZWxlbWVudFxuICAgICAgICAgICAgY29uc3QgaGFzVmlkZW9FbGVtZW50ID0gb3ZlcmxheVZpZGVvUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvcigndmlkZW8nKTtcbiAgICAgICAgICAgIGlmICghaGFzVmlkZW9FbGVtZW50IHx8IGhhc1ZpZGVvRWxlbWVudC5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LnZpZGVvVHJhY2sucGxheShvdmVybGF5VmlkZW9SZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZS1hdHRhY2hlZCBsb2NhbCB2aWRlbyAocGVyaW9kaWMgY2hlY2spXCIpO1xuICAgICAgICAgICAgICAgIHNldExvY2FsVmlkZW9BY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBWaWRlbyBtaWdodCBhbHJlYWR5IGJlIGF0dGFjaGVkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgcmVtb3RlIHZpZGVvIC0gdHJ5IHRvIGF0dGFjaCBpZiB0cmFjayBleGlzdHMgYW5kIGNvbnRhaW5lciBpcyBhdmFpbGFibGVcbiAgICAgICAgICBpZiAocmVtb3RlVXNlclJlZi5jdXJyZW50Py52aWRlb1RyYWNrICYmIG1haW5WaWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB2aWRlbyBpcyBhY3R1YWxseSBwbGF5aW5nIGJ5IGNoZWNraW5nIHRoZSBlbGVtZW50XG4gICAgICAgICAgICBjb25zdCB2aWRlb0VsZW1lbnQgPSBtYWluVmlkZW9SZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yKCd2aWRlbycpIGFzIEhUTUxWaWRlb0VsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXZpZGVvRWxlbWVudCB8fCB2aWRlb0VsZW1lbnQucGF1c2VkIHx8IHZpZGVvRWxlbWVudC5yZWFkeVN0YXRlID09PSAwKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gU3RvcCBmaXJzdCB0byBlbnN1cmUgY2xlYW4gc3RhdGVcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgcmVtb3RlVXNlclJlZi5jdXJyZW50LnZpZGVvVHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIElnbm9yZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgcmVtb3RlVXNlclJlZi5jdXJyZW50LnZpZGVvVHJhY2sucGxheShtYWluVmlkZW9SZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SEIFJlLWF0dGFjaGVkIHJlbW90ZSB2aWRlbyAocGVyaW9kaWMgY2hlY2spXCIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBpdCB3b3JrZWRcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZpZGVvRWxlbWVudCA9IG1haW5WaWRlb1JlZi5jdXJyZW50Py5xdWVyeVNlbGVjdG9yKCd2aWRlbycpIGFzIEhUTUxWaWRlb0VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICBpZiAobmV3VmlkZW9FbGVtZW50ICYmICFuZXdWaWRlb0VsZW1lbnQucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlbW90ZVZpZGVvQWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBSZW1vdGUgdmlkZW8gdmVyaWZpZWQgcGxheWluZ1wiKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVycm9yIHJlLWF0dGFjaGluZyByZW1vdGUgdmlkZW86XCIsIGU/Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBWaWRlbyBpcyBwbGF5aW5nLCBlbnN1cmUgc3RhdGUgaXMgY29ycmVjdCAodXNlIHJlZiB0byBhdm9pZCBzdGFsZSBjbG9zdXJlKVxuICAgICAgICAgICAgICBpZiAoIXJlbW90ZVZpZGVvQWN0aXZlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBzZXRSZW1vdGVWaWRlb0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBMb2cgd2h5IHdlJ3JlIG5vdCB0cnlpbmcgdG8gYXR0YWNoIChvbmx5IG9uY2UgZXZlcnkgZmV3IGNoZWNrcylcbiAgICAgICAgICAgIC8vIFNpbGVuY2UgcGVyaW9kaWMgbG9ncyB0byByZWR1Y2Ugbm9pc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDIwMDApOyAvLyBDaGVjayBldmVyeSAyIHNlY29uZHNcbiAgICAgICAgXG4gICAgICAgIC8vIE5ldHdvcmsgcXVhbGl0eSBtb25pdG9yaW5nXG4gICAgICAgIGNsaWVudC5vbihcIm5ldHdvcmstcXVhbGl0eVwiLCAoc3RhdHMpID0+IHtcbiAgICAgICAgICBzZXROZXR3b3JrUXVhbGl0eSh7XG4gICAgICAgICAgICB1cGxpbms6IHN0YXRzLnVwbGlua05ldHdvcmtRdWFsaXR5LFxuICAgICAgICAgICAgZG93bmxpbms6IHN0YXRzLmRvd25saW5rTmV0d29ya1F1YWxpdHlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb25uZWN0aW9uIHN0YXRlIHRyYWNraW5nXG4gICAgICAgIGNsaWVudC5vbihcImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsIChjdXJTdGF0ZSwgcHJldlN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfk6EgQ29ubmVjdGlvbiBzdGF0ZTogJHtwcmV2U3RhdGV9IC0+ICR7Y3VyU3RhdGV9YCk7XG4gICAgICAgICAgc2V0Q29ubmVjdGlvblN0YXRlKGN1clN0YXRlKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY3VyU3RhdGUgPT09IFwiQ09OTkVDVEVEXCIpIHtcbiAgICAgICAgICAgIC8vIFN0YXJ0IHNlc3Npb24gdGltZXIgd2hlbiBjb25uZWN0ZWRcbiAgICAgICAgICAgIGlmICghc2Vzc2lvblN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICBzZXRTZXNzaW9uU3RhcnRUaW1lKERhdGUubm93KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY3VyU3RhdGUgPT09IFwiRElTQ09OTkVDVEVEXCIgfHwgY3VyU3RhdGUgPT09IFwiRElTQ09OTkVDVElOR1wiIHx8IChjdXJTdGF0ZSBhcyBzdHJpbmcpID09PSBcIkZBSUxFRFwiKSB7XG4gICAgICAgICAgICBpZiAodmlkZW9DaGVja0ludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh2aWRlb0NoZWNrSW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgIHZpZGVvQ2hlY2tJbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQXR0ZW1wdCByZWNvbm5lY3Rpb24gaWYgZGlzY29ubmVjdGVkIHVuZXhwZWN0ZWRseVxuICAgICAgICAgICAgaWYgKGN1clN0YXRlID09PSBcIkRJU0NPTk5FQ1RFRFwiICYmIHByZXZTdGF0ZSA9PT0gXCJDT05ORUNURURcIikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgQ29ubmVjdGlvbiBsb3N0LCBhdHRlbXB0aW5nIHRvIHJlY29ubmVjdC4uLlwiKTtcbiAgICAgICAgICAgICAgc2V0RXJyb3IoXCJDb25uZWN0aW9uIGxvc3QuIEF0dGVtcHRpbmcgdG8gcmVjb25uZWN0Li4uXCIpO1xuICAgICAgICAgICAgICAvLyBBZ29yYSBTREsgd2lsbCBhdHRlbXB0IHRvIHJlY29ubmVjdCBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRva2VuIHJlbmV3YWwgc2V0dXAgKDUgbWludXRlcyBiZWZvcmUgZXhwaXJ5KVxuICAgICAgICBpZiAoc2Vzc2lvbkRhdGEudmlkZW8uZXhwaXJlc0F0KSB7XG4gICAgICAgICAgY29uc3QgZXhwaXJlc0F0ID0gbmV3IERhdGUoc2Vzc2lvbkRhdGEudmlkZW8uZXhwaXJlc0F0KS5nZXRUaW1lKCk7XG4gICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICBjb25zdCByZW5ld0luID0gZXhwaXJlc0F0IC0gbm93IC0gKDUgKiA2MCAqIDEwMDApOyAvLyA1IG1pbiBiZWZvcmUgZXhwaXJ5XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHJlbmV3SW4gPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg4o+wIFRva2VuIHJlbmV3YWwgc2NoZWR1bGVkIGluICR7TWF0aC5mbG9vcihyZW5ld0luIC8gMTAwMCAvIDYwKX0gbWludXRlc2ApO1xuICAgICAgICAgICAgdG9rZW5SZW5ld2FsVGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UhCBSZW5ld2luZyBBZ29yYSB0b2tlbi4uLlwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHZpZGVvQXBpLmdldFRva2VuKHNlc3Npb25JZCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnRva2VuICYmIGNsaWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnRSZWYuY3VycmVudC5yZW5ld1Rva2VuKHJlc3BvbnNlLnRva2VuKTtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFRva2VuIHJlbmV3ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChyZW5ld0Vycm9yOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEZhaWxlZCB0byByZW5ldyB0b2tlbjpcIiwgcmVuZXdFcnJvcik7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoXCJWaWRlbyBzZXNzaW9uIG1heSBleHBpcmUgc29vbi4gUGxlYXNlIHJlZnJlc2ggaWYgaXNzdWVzIG9jY3VyLlwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVuZXdJbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIHNldFZpZGVvUmVhZHkodHJ1ZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJWaWRlbyBpbml0aWFsaXphdGlvbiBjb21wbGV0ZSFcIik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBGYWlsZWQgdG8gaW5pdGlhbGl6ZSB2aWRlbzpcIiwgZXJyb3IpO1xuICAgICAgICBsZXQgZXJyb3JNc2cgPSBlcnJvci5tZXNzYWdlIHx8IGVycm9yLnRvU3RyaW5nKCkgfHwgXCJGYWlsZWQgdG8gc3RhcnQgdmlkZW8gY2FsbFwiO1xuICAgICAgICBcbiAgICAgICAgLy8gUHJvdmlkZSBtb3JlIGhlbHBmdWwgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgaWYgKGVycm9yTXNnLmluY2x1ZGVzKFwiaW52YWxpZCB2ZW5kb3Iga2V5XCIpIHx8IGVycm9yTXNnLmluY2x1ZGVzKFwiY2FuIG5vdCBmaW5kIGFwcGlkXCIpKSB7XG4gICAgICAgICAgZXJyb3JNc2cgPSBcIkludmFsaWQgQWdvcmEgQXBwIElEIG9yIENlcnRpZmljYXRlLiBQbGVhc2UgdmVyaWZ5IHlvdXIgQWdvcmEgY3JlZGVudGlhbHMgbWF0Y2ggaW4gdGhlIEFnb3JhIGNvbnNvbGUuIENoZWNrIEFHT1JBX0FQUF9JRCBhbmQgQUdPUkFfQVBQX0NFUlRJRklDQVRFIGluIGFwaS8uZW52XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3JNc2cuaW5jbHVkZXMoXCJwZXJtaXNzaW9uXCIpIHx8IGVycm9yTXNnLmluY2x1ZGVzKFwiUGVybWlzc2lvblwiKSkge1xuICAgICAgICAgIGVycm9yTXNnID0gXCJDYW1lcmEgb3IgbWljcm9waG9uZSBwZXJtaXNzaW9uIGRlbmllZC4gUGxlYXNlIGFsbG93IGFjY2VzcyBpbiB5b3VyIGJyb3dzZXIgc2V0dGluZ3MuXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3JNc2cuaW5jbHVkZXMoXCJOb3RGb3VuZEVycm9yXCIpIHx8IGVycm9yTXNnLmluY2x1ZGVzKFwiTm90UmVhZGFibGVFcnJvclwiKSkge1xuICAgICAgICAgIGVycm9yTXNnID0gXCJDYW1lcmEgb3IgbWljcm9waG9uZSBub3QgZm91bmQgb3IgYWxyZWFkeSBpbiB1c2UuXCI7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldEVycm9yKGBWaWRlbyBlcnJvcjogJHtlcnJvck1zZ31gKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZ1bGwgZXJyb3IgZGV0YWlsczpcIiwgZXJyb3IpO1xuICAgICAgICBpZiAoYXBwSWQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBwIElEIHVzZWQ6XCIsIGFwcElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Vzc2lvbkRhdGE/LnZpZGVvPy5jaGFubmVsTmFtZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDaGFubmVsOlwiLCBzZXNzaW9uRGF0YS52aWRlby5jaGFubmVsTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgYWxlcnQoYEZhaWxlZCB0byBzdGFydCB2aWRlbyBjYWxsOiAke2Vycm9yTXNnfVxcblxcblBsZWFzZSBjaGVjazpcXG4xLiBBZ29yYSBjcmVkZW50aWFscyBhcmUgY29ycmVjdCBhbmQgbWF0Y2ggeW91ciBBZ29yYSBjb25zb2xlXFxuMi4gQ2FtZXJhIGFuZCBtaWNyb3Bob25lIHBlcm1pc3Npb25zXFxuMy4gQnJvd3NlciBjb25zb2xlIGZvciBkZXRhaWxzYCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFN0YXJ0IHRoZSBpbml0aWFsaXphdGlvbiBjaGVjayBhZnRlciBhIHNob3J0IGRlbGF5IHRvIGVuc3VyZSByZWZzIGFyZSBhdHRhY2hlZFxuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjaGVja0FuZEluaXQoKTtcbiAgICB9LCAzMDApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIGlmIChyZXRyeVRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChyZXRyeVRpbWVyKTtcbiAgICAgICAgcmV0cnlUaW1lciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFudXAgb24gdW5tb3VudFxuICAgICAgaWYgKGxvY2FsVHJhY2tSZWYuY3VycmVudCkge1xuICAgICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjaz8uc3RvcCgpO1xuICAgICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjaz8uY2xvc2UoKTtcbiAgICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LmF1ZGlvVHJhY2s/LnN0b3AoKTtcbiAgICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LmF1ZGlvVHJhY2s/LmNsb3NlKCk7XG4gICAgICAgIGxvY2FsVHJhY2tSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoY2xpZW50UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xpZW50UmVmLmN1cnJlbnQubGVhdmUoKTtcbiAgICAgICAgY2xpZW50UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgY29ubmVjdGVkQ2hhbm5lbFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIGlmICh2aWRlb0NoZWNrSW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKHZpZGVvQ2hlY2tJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgICAgdmlkZW9DaGVja0ludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRva2VuUmVuZXdhbFRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRva2VuUmVuZXdhbFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICB0b2tlblJlbmV3YWxUaW1lclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbc2Vzc2lvbkRhdGEsIHVzZXJJZCwgc2Vzc2lvbklkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYWNjZXNzVG9rZW5cIik7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcm91dGVyLnB1c2goXCIvYXV0aC9sb2dpblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCAodXNpbmcgY29uZmlndXJhYmxlIFVSTClcbiAgICBjb25zdCB3cyA9IGlvKGAke1dTX1VSTH0vd3NgLCB7XG4gICAgICBhdXRoOiB7IHRva2VuIH0sXG4gICAgICB0cmFuc3BvcnRzOiBbXCJ3ZWJzb2NrZXRcIl1cbiAgICB9KTtcblxuICAgIC8vIFRyYWNrIGlmIHdlJ3ZlIGFscmVhZHkgam9pbmVkIHRoZSBzZXNzaW9uXG4gICAgbGV0IGhhc0pvaW5lZFNlc3Npb24gPSBmYWxzZTtcbiAgICBcbiAgICB3cy5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJXZWJTb2NrZXQgY29ubmVjdGVkXCIpO1xuICAgICAgc2V0Q29ubmVjdGVkKHRydWUpO1xuICAgICAgc2V0RXJyb3IoXCJcIik7XG4gICAgICAvLyBPbmx5IGpvaW4gc2Vzc2lvbiBpZiB3ZSBoYXZlbid0IGFscmVhZHkgKHByZXZlbnRzIHJlam9pbmluZyBvbiByZWNvbm5lY3QpXG4gICAgICBpZiAoIWhhc0pvaW5lZFNlc3Npb24pIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJKb2luaW5nIHNlc3Npb246XCIsIHNlc3Npb25JZCk7XG4gICAgICAgIC8vIFdhaXQgYSBiaXQgZm9yIGNvbm5lY3Rpb24gdG8gc3RhYmlsaXplXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHdzLmVtaXQoXCJzZXNzaW9uLmpvaW5cIiwgeyBzZXNzaW9uSWQgfSk7XG4gICAgICAgICAgaGFzSm9pbmVkU2Vzc2lvbiA9IHRydWU7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFscmVhZHkgam9pbmVkIHNlc3Npb24sIHNraXBwaW5nIHJlam9pbiBvbiByZWNvbm5lY3RcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB3cy5vbihcImNvbm5lY3RfZXJyb3JcIiwgKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkNvbm5lY3Rpb24gZXJyb3I6XCIsIGVycik7XG4gICAgICBzZXRFcnJvcihgQ29ubmVjdGlvbiBmYWlsZWQ6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfSk7XG5cbiAgICB3cy5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJXZWJTb2NrZXQgZGlzY29ubmVjdGVkOlwiLCByZWFzb24pO1xuICAgICAgc2V0Q29ubmVjdGVkKGZhbHNlKTtcbiAgICAgIC8vIE9ubHkgc2hvdyBlcnJvciBmb3IgdW5leHBlY3RlZCBkaXNjb25uZWN0c1xuICAgICAgaWYgKHJlYXNvbiAhPT0gXCJpbyBjbGllbnQgZGlzY29ubmVjdFwiKSB7XG4gICAgICAgIHNldEVycm9yKFwiRGlzY29ubmVjdGVkIGZyb20gc2VydmVyXCIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgd3Mub24oXCJzZXNzaW9uLnJlYWR5XCIsIChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiU2Vzc2lvbiByZWFkeTpcIiwgZGF0YSk7XG4gICAgICBzZXRTZXNzaW9uRGF0YShkYXRhKTtcbiAgICB9KTtcblxuICAgIHdzLm9uKFwic2Vzc2lvbi5zdGFydEdhbWVcIiwgKGRhdGE6IHsgZ2FtZVR5cGU6IHN0cmluZzsgZ2FtZUlkPzogc3RyaW5nIH0pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiR2FtZSBzdGFydGVkIChsZWdhY3kpOlwiLCBkYXRhKTtcbiAgICAgIHNldEdhbWVUeXBlKGRhdGEuZ2FtZVR5cGUpO1xuICAgICAgaWYgKGRhdGEuZ2FtZUlkKSB7XG4gICAgICAgIHNldEdhbWVJZChkYXRhLmdhbWVJZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB3cy5vbihcInNlc3Npb24uZ2FtZUNyZWF0ZWRcIiwgKGRhdGE6IHsgZ2FtZUlkOiBzdHJpbmc7IGdhbWVUeXBlOiBzdHJpbmcgfSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJHYW1lIGNyZWF0ZWQ6XCIsIGRhdGEpO1xuICAgICAgc2V0R2FtZVR5cGUoZGF0YS5nYW1lVHlwZSk7XG4gICAgICBzZXRHYW1lSWQoZGF0YS5nYW1lSWQpO1xuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIGdhbWUuc3RhcnRlZCBldmVudCB3aXRoIGZ1bGwgZ2FtZSBkYXRhXG4gICAgd3Mub24oXCJnYW1lLnN0YXJ0ZWRcIiwgKGRhdGE6IHsgZ2FtZUlkOiBzdHJpbmc7IGdhbWVUeXBlOiBzdHJpbmc7IHN0YXRlOiBhbnk7IHBsYXllcnM6IGFueVtdIH0pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiR2FtZSBzdGFydGVkIHdpdGggc3RhdGU6XCIsIGRhdGEpO1xuICAgICAgc2V0R2FtZVR5cGUoZGF0YS5nYW1lVHlwZSk7XG4gICAgICBzZXRHYW1lSWQoZGF0YS5nYW1lSWQpO1xuICAgICAgc2V0R2FtZVN0YXRlKGRhdGEuc3RhdGUpO1xuICAgICAgc2V0R2FtZVBsYXllcnMoZGF0YS5wbGF5ZXJzKTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBnYW1lIHN0YXRlIHVwZGF0ZXMgKGZvciBjaGVzcyBhbmQgb3RoZXIgZ2FtZXMpXG4gICAgd3Mub24oXCJnYW1lLnN0YXRlVXBkYXRlXCIsIChkYXRhOiB7IGdhbWVJZDogc3RyaW5nOyBzdGF0ZTogYW55OyBsYXN0TW92ZT86IGFueSB9KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIkdhbWUgc3RhdGUgdXBkYXRlZDpcIiwgZGF0YSk7XG4gICAgICBzZXRHYW1lU3RhdGUoZGF0YS5zdGF0ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgZ2FtZSBlbmRcbiAgICB3cy5vbihcImdhbWUuZW5kXCIsIChkYXRhOiB7IGdhbWVJZDogc3RyaW5nOyB3aW5uZXJJZDogc3RyaW5nIHwgbnVsbDsgaXNEcmF3OiBib29sZWFuOyByZWFzb246IHN0cmluZyB9KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIkdhbWUgZW5kZWQ6XCIsIGRhdGEpO1xuICAgICAgLy8gVXBkYXRlIHRoZSBnYW1lIHN0YXRlIHRvIHJlZmxlY3QgdGhlIGVuZFxuICAgICAgaWYgKGRhdGEud2lubmVySWQgfHwgZGF0YS5pc0RyYXcpIHtcbiAgICAgICAgc2V0R2FtZVN0YXRlKChwcmV2OiBhbnkpID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBnYW1lT3ZlcjogdHJ1ZSxcbiAgICAgICAgICB3aW5uZXI6IGRhdGEud2lubmVySWQsXG4gICAgICAgICAgaXNEcmF3OiBkYXRhLmlzRHJhd1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICAvLyBBbGxvdyBzdGFydGluZyBhIG5ldyBnYW1lIGFmdGVyIGEgZGVsYXlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRHYW1lVHlwZShudWxsKTtcbiAgICAgICAgc2V0R2FtZUlkKG51bGwpO1xuICAgICAgICBzZXRHYW1lU3RhdGUobnVsbCk7XG4gICAgICAgIHNldEdhbWVQbGF5ZXJzKFtdKTtcbiAgICAgIH0sIDUwMDApO1xuICAgIH0pO1xuXG4gICAgLy8gVHJpdmlhIGV2ZW50c1xuICAgIHdzLm9uKFwidHJpdmlhLmNvdW50ZG93blwiLCAoZGF0YTogeyBzZWNvbmRzUmVtYWluaW5nOiBudW1iZXIgfSkgPT4ge1xuICAgICAgc2V0R2FtZVN0YXRlKChwcmV2OiBhbnkpID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIHBoYXNlOiAnY291bnRkb3duJyxcbiAgICAgICAgdGltZVJlbWFpbmluZzogZGF0YS5zZWNvbmRzUmVtYWluaW5nXG4gICAgICB9KSk7XG4gICAgfSk7XG5cbiAgICB3cy5vbihcInRyaXZpYS5xdWVzdGlvblwiLCAoZGF0YTogeyBxdWVzdGlvbk51bWJlcjogbnVtYmVyOyB0b3RhbFF1ZXN0aW9uczogbnVtYmVyOyBxdWVzdGlvbjogc3RyaW5nOyBhbnN3ZXJzOiBzdHJpbmdbXTsgY2F0ZWdvcnk6IHN0cmluZzsgZGlmZmljdWx0eTogc3RyaW5nOyB0aW1lTGltaXQ6IG51bWJlciB9KSA9PiB7XG4gICAgICBzZXRHYW1lU3RhdGUoKHByZXY6IGFueSkgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgcGhhc2U6ICdxdWVzdGlvbicsXG4gICAgICAgIHRpbWVSZW1haW5pbmc6IGRhdGEudGltZUxpbWl0LFxuICAgICAgICBxdWVzdGlvblN0YXJ0ZWRBdDogRGF0ZS5ub3coKVxuICAgICAgfSkpO1xuICAgIH0pO1xuXG4gICAgd3Mub24oXCJ0cml2aWEudGlja1wiLCAoZGF0YTogeyB0aW1lUmVtYWluaW5nOiBudW1iZXIgfSkgPT4ge1xuICAgICAgc2V0R2FtZVN0YXRlKChwcmV2OiBhbnkpID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIHRpbWVSZW1haW5pbmc6IGRhdGEudGltZVJlbWFpbmluZ1xuICAgICAgfSkpO1xuICAgIH0pO1xuXG4gICAgd3Mub24oXCJ0cml2aWEucXVlc3Rpb25SZXN1bHRcIiwgKGRhdGE6IHsgY29ycmVjdEFuc3dlcjogc3RyaW5nOyBjb3JyZWN0QW5zd2VySW5kZXg6IG51bWJlcjsgcmVzdWx0czogYW55W107IHNjb3JlczogYW55W10gfSkgPT4ge1xuICAgICAgc2V0R2FtZVN0YXRlKChwcmV2OiBhbnkpID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIHBoYXNlOiAncmV2ZWFsJyxcbiAgICAgICAgY3VycmVudEFuc3dlcnM6IGRhdGEucmVzdWx0cyxcbiAgICAgICAgcGxheWVyczogZGF0YS5zY29yZXNcbiAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIHdzLm9uKFwidHJpdmlhLmdhbWVFbmRcIiwgKGRhdGE6IHsgZmluYWxTY29yZXM6IGFueVtdOyB3aW5uZXJJZDogc3RyaW5nIHwgbnVsbDsgd2lubmVySWRzOiBzdHJpbmdbXTsgaXNEcmF3OiBib29sZWFuIH0pID0+IHtcbiAgICAgIHNldEdhbWVTdGF0ZSgocHJldjogYW55KSA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBwaGFzZTogJ2ZpbmlzaGVkJyxcbiAgICAgICAgaXNGaW5pc2hlZDogdHJ1ZSxcbiAgICAgICAgcGxheWVyczogZGF0YS5maW5hbFNjb3JlcyxcbiAgICAgICAgd2lubmVySWQ6IGRhdGEud2lubmVySWQsXG4gICAgICAgIHdpbm5lcklkczogZGF0YS53aW5uZXJJZHNcbiAgICAgIH0pKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRHYW1lVHlwZShudWxsKTtcbiAgICAgICAgc2V0R2FtZUlkKG51bGwpO1xuICAgICAgICBzZXRHYW1lU3RhdGUobnVsbCk7XG4gICAgICAgIHNldEdhbWVQbGF5ZXJzKFtdKTtcbiAgICAgIH0sIDEwMDAwKTtcbiAgICB9KTtcblxuICAgIHdzLm9uKFwic2Vzc2lvbi5lbmRcIiwgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgYWxlcnQoXCJTZXNzaW9uIGVuZGVkXCIpO1xuICAgICAgcm91dGVyLnB1c2goXCIvcGxheVwiKTtcbiAgICB9KTtcblxuICAgIHdzLm9uKFwiZXJyb3JcIiwgKGVycjogYW55KSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiU2Vzc2lvbiBlcnJvcjpcIiwgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8IFwiQ29ubmVjdGlvbiBlcnJvciBvY2N1cnJlZFwiKTtcbiAgICAgIGlmIChlcnIubWVzc2FnZSkge1xuICAgICAgICBhbGVydChgRXJyb3I6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHdhbGxldCBiYWxhbmNlIHVwZGF0ZXNcbiAgICB3cy5vbihcIndhbGxldC51cGRhdGVkXCIsIChkYXRhOiB7IGJhbGFuY2U6IG51bWJlciB9KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIldhbGxldCB1cGRhdGVkOlwiLCBkYXRhKTtcbiAgICAgIHNldFdhbGxldEJhbGFuY2UoZGF0YS5iYWxhbmNlKTtcbiAgICB9KTtcblxuICAgIC8vIExpc3RlbiBmb3IgZ2lmdCBub3RpZmljYXRpb25zIChib3RoIHNlbnQgYW5kIHJlY2VpdmVkKVxuICAgIHdzLm9uKFwic2Vzc2lvbi5naWZ0UmVjZWl2ZWRcIiwgKGRhdGE6IHsgZnJvbTogc3RyaW5nOyB0bzogc3RyaW5nOyBhbW91bnQ6IG51bWJlcjsgc3VjY2VzczogYm9vbGVhbiB9KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIkdpZnQgcmVjZWl2ZWQgZXZlbnQ6XCIsIGRhdGEpO1xuICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAvLyBEZXRlcm1pbmUgaWYgd2UncmUgdGhlIHNlbmRlciBvciByZWNlaXZlclxuICAgICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYWNjZXNzVG9rZW5cIik7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gSlNPTi5wYXJzZShhdG9iKHRva2VuLnNwbGl0KCcuJylbMV0pKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBwYXlsb2FkLnN1YjtcbiAgICAgICAgICAgIGNvbnN0IGlzUmVjZWl2ZWQgPSBkYXRhLnRvID09PSBjdXJyZW50VXNlcklkO1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJVc2VyID0gaXNSZWNlaXZlZCA/IGRhdGEuZnJvbSA6IGRhdGEudG87XG4gICAgICAgICAgICBzaG93R2lmdE5vdGlmaWNhdGlvbihvdGhlclVzZXIsIGRhdGEuYW1vdW50LCBpc1JlY2VpdmVkKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHRva2VuIGZvciBnaWZ0IG5vdGlmaWNhdGlvbjpcIiwgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzZXRTb2NrZXQod3MpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdzLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICB9LCBbc2Vzc2lvbklkLCByb3V0ZXJdKTtcblxuICBjb25zdCBoYW5kbGVTdGFydEdhbWUgPSAodHlwZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHNvY2tldCkge1xuICAgICAgc29ja2V0LmVtaXQoXCJzZXNzaW9uLnN0YXJ0R2FtZVwiLCB7IHNlc3Npb25JZCwgZ2FtZVR5cGU6IHR5cGUgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUVuZFNlc3Npb24gPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gQ2xlYW51cCBBZ29yYVxuICAgIGlmIChsb2NhbFRyYWNrUmVmLmN1cnJlbnQpIHtcbiAgICAgIGxvY2FsVHJhY2tSZWYuY3VycmVudC52aWRlb1RyYWNrPy5zdG9wKCk7XG4gICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjaz8uY2xvc2UoKTtcbiAgICAgIGxvY2FsVHJhY2tSZWYuY3VycmVudC5hdWRpb1RyYWNrPy5zdG9wKCk7XG4gICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQuYXVkaW9UcmFjaz8uY2xvc2UoKTtcbiAgICB9XG4gICAgaWYgKGNsaWVudFJlZi5jdXJyZW50KSB7XG4gICAgICBhd2FpdCBjbGllbnRSZWYuY3VycmVudC5sZWF2ZSgpO1xuICAgIH1cblxuICAgIGlmIChzb2NrZXQpIHtcbiAgICAgIHNvY2tldC5lbWl0KFwic2Vzc2lvbi5lbmRcIiwgeyBzZXNzaW9uSWQgfSk7XG4gICAgfVxuICAgIHJvdXRlci5wdXNoKFwiL3BsYXlcIik7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3dhcFZpZGVvcyA9ICgpID0+IHtcbiAgICAvLyBTd2FwIHRoZSB2aWRlbyB0cmFja3MgYmV0d2VlbiBjb250YWluZXJzXG4gICAgaWYgKGxvY2FsVHJhY2tSZWYuY3VycmVudD8udmlkZW9UcmFjayAmJiByZW1vdGVVc2VyUmVmLmN1cnJlbnQ/LnZpZGVvVHJhY2spIHtcbiAgICAgIC8vIFN0b3AgY3VycmVudCBwbGF5YmFja1xuICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LnZpZGVvVHJhY2suc3RvcCgpO1xuICAgICAgcmVtb3RlVXNlclJlZi5jdXJyZW50LnZpZGVvVHJhY2suc3RvcCgpO1xuICAgICAgXG4gICAgICAvLyBTd2FwIGFuZCByZS1wbGF5IGJhc2VkIG9uIGN1cnJlbnQgc3RhdGVcbiAgICAgIGlmICh2aWRlb3NTd2FwcGVkKSB7XG4gICAgICAgIC8vIEN1cnJlbnRseSBzd2FwcGVkOiBsb2NhbCBpbiBtYWluLCByZW1vdGUgaW4gb3ZlcmxheVxuICAgICAgICAvLyBBZnRlciBzd2FwOiByZW1vdGUgaW4gbWFpbiwgbG9jYWwgaW4gb3ZlcmxheSAoZGVmYXVsdClcbiAgICAgICAgaWYgKG1haW5WaWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIHJlbW90ZVVzZXJSZWYuY3VycmVudC52aWRlb1RyYWNrLnBsYXkobWFpblZpZGVvUmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdmVybGF5VmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjay5wbGF5KG92ZXJsYXlWaWRlb1JlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ3VycmVudGx5IGRlZmF1bHQ6IHJlbW90ZSBpbiBtYWluLCBsb2NhbCBpbiBvdmVybGF5XG4gICAgICAgIC8vIEFmdGVyIHN3YXA6IGxvY2FsIGluIG1haW4sIHJlbW90ZSBpbiBvdmVybGF5IChzd2FwcGVkKVxuICAgICAgICBpZiAobWFpblZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgbG9jYWxUcmFja1JlZi5jdXJyZW50LnZpZGVvVHJhY2sucGxheShtYWluVmlkZW9SZWYuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG92ZXJsYXlWaWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIHJlbW90ZVVzZXJSZWYuY3VycmVudC52aWRlb1RyYWNrLnBsYXkob3ZlcmxheVZpZGVvUmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsb2NhbFRyYWNrUmVmLmN1cnJlbnQ/LnZpZGVvVHJhY2spIHtcbiAgICAgIC8vIE9ubHkgbG9jYWwgdmlkZW8gYXZhaWxhYmxlIC0ganVzdCBtb3ZlIGl0XG4gICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjay5zdG9wKCk7XG4gICAgICBjb25zdCB0YXJnZXRDb250YWluZXIgPSB2aWRlb3NTd2FwcGVkID8gbWFpblZpZGVvUmVmLmN1cnJlbnQgOiBvdmVybGF5VmlkZW9SZWYuY3VycmVudDtcbiAgICAgIGlmICh0YXJnZXRDb250YWluZXIpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBsb2NhbFRyYWNrUmVmLmN1cnJlbnQudmlkZW9UcmFjay5wbGF5KHRhcmdldENvbnRhaW5lcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZW1vdGVVc2VyUmVmLmN1cnJlbnQ/LnZpZGVvVHJhY2spIHtcbiAgICAgIC8vIE9ubHkgcmVtb3RlIHZpZGVvIGF2YWlsYWJsZSAtIGp1c3QgbW92ZSBpdFxuICAgICAgcmVtb3RlVXNlclJlZi5jdXJyZW50LnZpZGVvVHJhY2suc3RvcCgpO1xuICAgICAgY29uc3QgdGFyZ2V0Q29udGFpbmVyID0gdmlkZW9zU3dhcHBlZCA/IG92ZXJsYXlWaWRlb1JlZi5jdXJyZW50IDogbWFpblZpZGVvUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAodGFyZ2V0Q29udGFpbmVyKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmVtb3RlVXNlclJlZi5jdXJyZW50LnZpZGVvVHJhY2sucGxheSh0YXJnZXRDb250YWluZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRWaWRlb3NTd2FwcGVkKCF2aWRlb3NTd2FwcGVkKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVGdWxsc2NyZWVuID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgaWYgKCFkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCkge1xuICAgICAgZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgYWxlcnQoYEVycm9yIGF0dGVtcHRpbmcgdG8gZW5hYmxlIGZ1bGwtc2NyZWVuIG1vZGU6ICR7ZXJyLm1lc3NhZ2V9ICgke2Vyci5uYW1lfSlgKTtcbiAgICAgIH0pO1xuICAgICAgc2V0SXNGdWxsc2NyZWVuKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgc2V0SXNGdWxsc2NyZWVuKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VuZEdpZnQgPSAoKSA9PiB7XG4gICAgaWYgKHdhbGxldEJhbGFuY2UgPD0gMCkge1xuICAgICAgYWxlcnQoXCJZb3UgZG9uJ3QgaGF2ZSBhbnkgdG9rZW5zIHRvIHNlbmQuIFBsZWFzZSBwdXJjaGFzZSB0b2tlbnMgZmlyc3QuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBhbW91bnQgPSBwcm9tcHQoYEVudGVyIHRva2VuIGFtb3VudCB0byBzZW5kIGFzIGdpZnQgKHlvdSBoYXZlICR7d2FsbGV0QmFsYW5jZX0gdG9rZW5zKTpgKTtcbiAgICBpZiAoYW1vdW50ICYmIHNvY2tldCkge1xuICAgICAgY29uc3QgYW1vdW50TnVtID0gcGFyc2VJbnQoYW1vdW50KTtcbiAgICAgIGlmIChpc05hTihhbW91bnROdW0pIHx8IGFtb3VudE51bSA8PSAwKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgcG9zaXRpdmUgbnVtYmVyXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYW1vdW50TnVtID4gd2FsbGV0QmFsYW5jZSkge1xuICAgICAgICBhbGVydChgSW5zdWZmaWNpZW50IHRva2Vucy4gWW91IGhhdmUgJHt3YWxsZXRCYWxhbmNlfSB0b2tlbnMuYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNvY2tldC5lbWl0KFwic2Vzc2lvbi5zZW5kR2lmdFwiLCB7IHNlc3Npb25JZCwgYW1vdW50VG9rZW5zOiBhbW91bnROdW0gfSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPG1haW4gY2xhc3NOYW1lPVwic3BhY2UteS00IHJlbGF0aXZlXCI+XG4gICAgICB7LyogR2lmdCBOb3RpZmljYXRpb24gUG9wdXAgKi99XG4gICAgICB7Z2lmdE5vdGlmaWNhdGlvbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZml4ZWQgdG9wLTQgcmlnaHQtNCB6LTUwIHAtNCByb3VuZGVkLWxnIHNoYWRvdy1sZyBib3JkZXItMiBhbmltYXRlLXB1bHNlICR7XG4gICAgICAgICAgZ2lmdE5vdGlmaWNhdGlvbi5pc1JlY2VpdmVkIFxuICAgICAgICAgICAgPyBcImJnLWdyZWVuLTkwMCBib3JkZXItZ3JlZW4tNTAwXCIgXG4gICAgICAgICAgICA6IFwiYmctYmx1ZS05MDAgYm9yZGVyLWJsdWUtNTAwXCJcbiAgICAgICAgfWB9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtM3hsXCI+e2dpZnROb3RpZmljYXRpb24uaXNSZWNlaXZlZCA/IFwi8J+OgVwiIDogXCLwn5KdXCJ9PC9zcGFuPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICB7Z2lmdE5vdGlmaWNhdGlvbi5pc1JlY2VpdmVkID8gXCJHaWZ0IFJlY2VpdmVkIVwiIDogXCJHaWZ0IFNlbnQhXCJ9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgICAge2dpZnROb3RpZmljYXRpb24uaXNSZWNlaXZlZCBcbiAgICAgICAgICAgICAgICAgID8gYFlvdSByZWNlaXZlZCAke2dpZnROb3RpZmljYXRpb24uYW1vdW50fSB0b2tlbnNgXG4gICAgICAgICAgICAgICAgICA6IGBZb3Ugc2VudCAke2dpZnROb3RpZmljYXRpb24uYW1vdW50fSB0b2tlbnNgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0R2lmdE5vdGlmaWNhdGlvbihudWxsKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0xIHJpZ2h0LTIgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtc21cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIOKclVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMjVlbV0gdGV4dC1ncmF5LTQwMFwiPlNlc3Npb248L3A+XG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlZpZGVvIENhbGw8L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgIHsvKiBXYWxsZXQgQmFsYW5jZSBEaXNwbGF5ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLXllbGxvdy05MDAgdG8teWVsbG93LTcwMCBweC00IHB5LTIgYm9yZGVyLTIgYm9yZGVyLXllbGxvdy01MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGxcIj7wn5KwPC9zcGFuPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXllbGxvdy0zMDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5CYWxhbmNlPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC13aGl0ZVwiPnt3YWxsZXRCYWxhbmNlLnRvTG9jYWxlU3RyaW5nKCl9IHRva2VuczwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUVuZFNlc3Npb259XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBweC00IHB5LTIgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIGJvcmRlci0yIGJvcmRlci13aGl0ZS8zMCBob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgRW5kIFNlc3Npb25cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAge2Nvbm5lY3RlZCA/IFwiQ29ubmVjdGVkXCIgOiBcIkNvbm5lY3RpbmcuLi5cIn0gfCBTZXNzaW9uIElEOiB7c2Vzc2lvbklkLnNsaWNlKDAsIDgpfS4uLlxuICAgICAgICAgICAge3Nlc3Npb25TdGFydFRpbWUgJiYgKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtZ3JlZW4tNDAwXCI+4o+xIHtmb3JtYXREdXJhdGlvbihzZXNzaW9uRHVyYXRpb24pfTwvc3Bhbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIHt2aWRlb1JlYWR5ICYmIChcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0xXCI+XG4gICAgICAgICAgICAgIFZpZGVvOiB7bG9jYWxWaWRlb0FjdGl2ZSA/IFwi4pyTIExvY2FsXCIgOiBcIuKclyBMb2NhbFwifSB8IHtyZW1vdGVWaWRlb0FjdGl2ZSA/IFwi4pyTIFJlbW90ZVwiIDogXCLinJcgUmVtb3RlXCJ9XG4gICAgICAgICAgICAgIHtyZW1vdGVVc2VySW5mbyAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMlwiPnwgUmVtb3RlOiB7U3RyaW5nKHJlbW90ZVVzZXJJbmZvLnVpZCkuc2xpY2UoMCwgOCl9Li4uPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICl9XG4gICAgICAgICAge25ldHdvcmtRdWFsaXR5LmRvd25saW5rID4gMCAmJiAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTFcIj5cbiAgICAgICAgICAgICAgTmV0d29yazogPHNwYW4gY2xhc3NOYW1lPXtnZXROZXR3b3JrUXVhbGl0eUxhYmVsKG5ldHdvcmtRdWFsaXR5LmRvd25saW5rKS5jb2xvcn0+XG4gICAgICAgICAgICAgICAge2dldE5ldHdvcmtRdWFsaXR5TGFiZWwobmV0d29ya1F1YWxpdHkuZG93bmxpbmspLmxhYmVsfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHtjb25uZWN0aW9uU3RhdGUgIT09IFwiQ09OTkVDVEVEXCIgJiYgY29ubmVjdGlvblN0YXRlICE9PSBcIkRJU0NPTk5FQ1RFRFwiICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQteWVsbG93LTQwMFwiPih7Y29ubmVjdGlvblN0YXRlfSk8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC00MDAgbXQtMVwiPkVycm9yOiB7ZXJyb3J9PC9wPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7LyogQXVkaW8vVmlkZW8gQ29udHJvbHMgKi99XG4gICAgICAgIHt2aWRlb1JlYWR5ICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlTXV0ZX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0xIHRleHQtc20gYm9yZGVyLTIgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICBpc011dGVkIFxuICAgICAgICAgICAgICAgICAgPyBcImJnLXJlZC02MDAgYm9yZGVyLXJlZC01MDAgdGV4dC13aGl0ZVwiIFxuICAgICAgICAgICAgICAgICAgOiBcImJnLWdyYXktODAwIGJvcmRlci13aGl0ZS8zMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgIHRpdGxlPXtpc011dGVkID8gXCJVbm11dGVcIiA6IFwiTXV0ZVwifVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXNNdXRlZCA/IFwi8J+UhyBNdXRlZFwiIDogXCLwn5SKIEF1ZGlvXCJ9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlQ2FtZXJhfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0zIHB5LTEgdGV4dC1zbSBib3JkZXItMiB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICAgIGlzQ2FtZXJhT2ZmIFxuICAgICAgICAgICAgICAgICAgPyBcImJnLXJlZC02MDAgYm9yZGVyLXJlZC01MDAgdGV4dC13aGl0ZVwiIFxuICAgICAgICAgICAgICAgICAgOiBcImJnLWdyYXktODAwIGJvcmRlci13aGl0ZS8zMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgIHRpdGxlPXtpc0NhbWVyYU9mZiA/IFwiVHVybiBDYW1lcmEgT25cIiA6IFwiVHVybiBDYW1lcmEgT2ZmXCJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc0NhbWVyYU9mZiA/IFwi8J+TtyBPZmZcIiA6IFwi8J+TuSBWaWRlb1wifVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdhcC00IG1kOmdyaWQtY29scy0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcC02IGJvcmRlciBib3JkZXItd2hpdGUvMjAgbWQ6Y29sLXNwYW4tMiBzcGFjZS15LTRcIj5cbiAgICAgICAgICB7LyogVmlkZW8gU2VjdGlvbiAqL31cbiAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgcmVmPXt2aWRlb0NvbnRhaW5lclJlZn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFzcGVjdC12aWRlbyBiZy1ibGFjayBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHJlbGF0aXZlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7LyogTWFpbiB2aWRlbyBjb250YWluZXIgKHNob3dzIHJlbW90ZSBieSBkZWZhdWx0LCBsb2NhbCB3aGVuIHN3YXBwZWQpICovfVxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICByZWY9e21haW5WaWRlb1JlZn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCB3LWZ1bGwgaC1mdWxsIGJnLWJsYWNrXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgbWluV2lkdGg6ICcxMDAlJywgbWluSGVpZ2h0OiAnMTAwJScgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7IXJlbW90ZVZpZGVvQWN0aXZlICYmICF2aWRlb3NTd2FwcGVkICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtZ3JheS01MDAgei0xMCBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbVwiPldhaXRpbmcgZm9yIHJlbW90ZSB2aWRlby4uLjwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMSB0ZXh0LWdyYXktNjAwXCI+VGhlIG90aGVyIHVzZXIncyB2aWRlbyB3aWxsIGFwcGVhciBoZXJlPC9wPlxuICAgICAgICAgICAgICAgICAge3JlbW90ZVVzZXJJbmZvICYmIChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0yIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBSZW1vdGUgdXNlciBjb25uZWN0ZWQ6IHtTdHJpbmcocmVtb3RlVXNlckluZm8udWlkKS5zbGljZSgwLCA4KX0uLi5cbiAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBWaWRlbyB0cmFjazoge3JlbW90ZVVzZXJJbmZvLmhhc1ZpZGVvID8gXCLinJNcIiA6IFwi4pyXXCJ9IHwgQXVkaW86IHtyZW1vdGVVc2VySW5mby5oYXNBdWRpbyA/IFwi4pyTXCIgOiBcIuKcl1wifVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7IWxvY2FsVmlkZW9BY3RpdmUgJiYgdmlkZW9zU3dhcHBlZCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWdyYXktNTAwIHotNVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21cIj5XYWl0aW5nIGZvciBsb2NhbCB2aWRlby4uLjwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogU21hbGwgb3ZlcmxheSB2aWRlbyBjb250YWluZXIgKHNob3dzIGxvY2FsIGJ5IGRlZmF1bHQsIHJlbW90ZSB3aGVuIHN3YXBwZWQpICovfVxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICByZWY9e292ZXJsYXlWaWRlb1JlZn1cbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIC8vIFNob3cgY29udGV4dCBtZW51OiBzd2FwIG9yIGZ1bGxzY3JlZW5cbiAgICAgICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBjb25maXJtKFwiQ2xpY2sgT0sgdG8gc3dhcCB2aWRlb3MsIG9yIENhbmNlbCB0byBmdWxsc2NyZWVuXCIpO1xuICAgICAgICAgICAgICAgIGlmIChjaG9pY2UpIHtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZVN3YXBWaWRlb3MoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlRnVsbHNjcmVlbih2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50ISk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkRvdWJsZUNsaWNrPXsoKSA9PiBoYW5kbGVGdWxsc2NyZWVuKHZpZGVvQ29udGFpbmVyUmVmLmN1cnJlbnQhKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgcmlnaHQtNCB3LTQ4IGgtMzYgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGJnLWJsYWNrIHotMTAgY3Vyc29yLXBvaW50ZXIgaG92ZXI6Ym9yZGVyLWdyYXktNDAwIHRyYW5zaXRpb24tYWxsXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgbWluV2lkdGg6ICcxOTJweCcsIG1pbkhlaWdodDogJzE0NHB4JyB9fVxuICAgICAgICAgICAgICB0aXRsZT1cIkNsaWNrIHRvIHN3YXAsIGRvdWJsZS1jbGljayB0byBmdWxsc2NyZWVuXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgeyFsb2NhbFZpZGVvQWN0aXZlICYmICF2aWRlb3NTd2FwcGVkICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1ncmF5LTUwMCB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICBZb3VyIHZpZGVvXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHshcmVtb3RlVmlkZW9BY3RpdmUgJiYgdmlkZW9zU3dhcHBlZCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtZ3JheS01MDAgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgT3RoZXIgdXNlclxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBTaG93IGxvYWRpbmcvc3RhdHVzIG92ZXJsYXkgd2hlbiB2aWRlbyBpcyBub3QgcmVhZHkgKi99XG4gICAgICAgICAgICB7IXZpZGVvUmVhZHkgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1ncmF5LTQwMCB6LTIwIGJnLWJsYWNrIGJnLW9wYWNpdHktNzVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICB7c2Vzc2lvbkRhdGE/LnZpZGVvID8gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5Jbml0aWFsaXppbmcgdmlkZW8gY2FsbC4uLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+UGxlYXNlIGFsbG93IGNhbWVyYSBhbmQgbWljcm9waG9uZSBhY2Nlc3M8L3A+XG4gICAgICAgICAgICAgICAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNDAwIG10LTIgbWF4LXctbWRcIj57ZXJyb3J9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0yIHRleHQtZ3JheS01MDBcIj5DaGVjayBicm93c2VyIGNvbnNvbGUgZm9yIGRldGFpbHM8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtjb25uZWN0ZWQgPyBcIkxvYWRpbmcgc2Vzc2lvbiBkYXRhLi4uXCIgOiBcIkNvbm5lY3RpbmcgdG8gc2VydmVyLi4uXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBHYW1lIFNlY3Rpb24gLSBBbHdheXMgdmlzaWJsZSBhbG9uZ3NpZGUgdmlkZW8gKi99XG4gICAgICAgICAge2dhbWVUeXBlICYmIGdhbWVJZCAmJiBnYW1lVHlwZSA9PT0gXCJUSUNUQUNUT0VcIiA/IChcbiAgICAgICAgICAgIDxUaWNUYWNUb2VHYW1lXG4gICAgICAgICAgICAgIGdhbWVJZD17Z2FtZUlkfVxuICAgICAgICAgICAgICBzb2NrZXQ9e3NvY2tldCF9XG4gICAgICAgICAgICAgIHVzZXJJZD17dXNlcklkfVxuICAgICAgICAgICAgICBpbml0aWFsU3RhdGU9e2dhbWVTdGF0ZX1cbiAgICAgICAgICAgICAgaW5pdGlhbFBsYXllcnM9e2dhbWVQbGF5ZXJzfVxuICAgICAgICAgICAgICBvbkdhbWVFbmQ9eyhyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdhbWUgZW5kZWQ6XCIsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgLy8gQWxsb3cgc3RhcnRpbmcgYSBuZXcgZ2FtZSBhZnRlciBhIHNob3J0IGRlbGF5XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRHYW1lVHlwZShudWxsKTtcbiAgICAgICAgICAgICAgICAgIHNldEdhbWVJZChudWxsKTtcbiAgICAgICAgICAgICAgICAgIHNldEdhbWVTdGF0ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgIHNldEdhbWVQbGF5ZXJzKFtdKTtcbiAgICAgICAgICAgICAgICB9LCA1MDAwKTsgLy8gNSBzZWNvbmQgZGVsYXkgYmVmb3JlIGFsbG93aW5nIG5ldyBnYW1lXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiBnYW1lVHlwZSAmJiBnYW1lSWQgJiYgZ2FtZVR5cGUgPT09IFwiQ0hFU1NcIiAmJiBnYW1lU3RhdGUgPyAoXG4gICAgICAgICAgICA8Q2hlc3NHYW1lXG4gICAgICAgICAgICAgIGdhbWVTdGF0ZT17Z2FtZVN0YXRlfVxuICAgICAgICAgICAgICBvZFVzZXJJZD17dXNlcklkfVxuICAgICAgICAgICAgICBvbk1vdmU9eyhmcm9tLCB0bywgcHJvbW90aW9uUGllY2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc29ja2V0KSB7XG4gICAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdChcImdhbWUubW92ZVwiLCB7IGdhbWVJZCwgZnJvbSwgdG8sIHByb21vdGlvblBpZWNlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25Gb3JmZWl0PXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoXCJnYW1lLmZvcmZlaXRcIiwgeyBnYW1lSWQgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogZ2FtZVR5cGUgJiYgZ2FtZUlkICYmIGdhbWVUeXBlID09PSBcIlRSSVZJQVwiICYmIGdhbWVTdGF0ZSA/IChcbiAgICAgICAgICAgIDxUcml2aWFHYW1lXG4gICAgICAgICAgICAgIGdhbWVTdGF0ZT17Z2FtZVN0YXRlfVxuICAgICAgICAgICAgICBvZFVzZXJJZD17dXNlcklkfVxuICAgICAgICAgICAgICBzb2NrZXQ9e3NvY2tldH1cbiAgICAgICAgICAgICAgb25BbnN3ZXI9eyhxdWVzdGlvbkluZGV4LCBhbnN3ZXJJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzb2NrZXQpIHtcbiAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KFwidHJpdmlhLmFuc3dlclwiLCB7IGdhbWVJZCwgcXVlc3Rpb25JbmRleCwgYW5zd2VySW5kZXggfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogZ2FtZVR5cGUgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHAtNCBib3JkZXIgYm9yZGVyLXdoaXRlLzIwXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTMwMCBtYi0yXCI+QWN0aXZlIGdhbWU6IHtnYW1lVHlwZX08L3A+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmxhY2sgcC04IHRleHQtY2VudGVyIHRleHQtZ3JheS00MDAgbWluLWgtWzIwMHB4XSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIG1iLTJcIj5HYW1lIFVJIGZvciB7Z2FtZVR5cGV9PC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14c1wiPkdhbWUgaW1wbGVtZW50YXRpb24gY29taW5nIHNvb248L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC00IGJvcmRlciBib3JkZXItd2hpdGUvMjBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwIG1iLTNcIj5TdGFydCBhIGdhbWU8L3A+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMyBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN0YXJ0R2FtZShcIkNIRVNTXCIpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUgcHgtMyBweS0yIHRleHQtYmxhY2sgdGV4dC1zbSBob3ZlcjpiZy1ncmF5LTIwMCBib3JkZXItMiBib3JkZXItd2hpdGVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIENoZXNzXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhcnRHYW1lKFwiVFJJVklBXCIpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUgcHgtMyBweS0yIHRleHQtYmxhY2sgdGV4dC1zbSBob3ZlcjpiZy1ncmF5LTIwMCBib3JkZXItMiBib3JkZXItd2hpdGVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFRyaXZpYVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN0YXJ0R2FtZShcIlRJQ1RBQ1RPRVwiKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXdoaXRlIHB4LTMgcHktMiB0ZXh0LWJsYWNrIHRleHQtc20gaG92ZXI6YmctZ3JheS0yMDAgYm9yZGVyLTIgYm9yZGVyLXdoaXRlXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBUaWMtVGFjLVRvZVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCBwLTQgYm9yZGVyIGJvcmRlci13aGl0ZS8yMFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwIG1iLTNcIj5BY3Rpb25zPC9wPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlbmRHaWZ0fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTgwMCBweC00IHB5LTIgdGV4dC13aGl0ZSBib3JkZXItMiBib3JkZXItd2hpdGUvMzAgaG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2VuZCBHaWZ0XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcmVhc29uID0gcHJvbXB0KFwiUmVwb3J0IHJlYXNvbjpcIik7XG4gICAgICAgICAgICAgICAgICBpZiAocmVhc29uICYmIHNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdChcInNlc3Npb24ucmVwb3J0XCIsIHsgc2Vzc2lvbklkLCByZWFzb24gfSk7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiUmVwb3J0IHN1Ym1pdHRlZFwiKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTgwMCBweC00IHB5LTIgdGV4dC13aGl0ZSBib3JkZXItMiBib3JkZXItd2hpdGUvMzAgaG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgUmVwb3J0IFVzZXJcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcC00IGJvcmRlciBib3JkZXItd2hpdGUvMjBcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTQwMCBtYi0yXCI+U2Vzc2lvbiBJbmZvPC9wPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIDxwPlBlZXI6IHtzZXNzaW9uRGF0YT8ucGVlci5pZCB8fCBcIkxvYWRpbmcuLi5cIn08L3A+XG4gICAgICAgICAgICAgIDxwPkNoYW5uZWw6IHtzZXNzaW9uRGF0YT8udmlkZW8uY2hhbm5lbE5hbWUgfHwgXCJMb2FkaW5nLi4uXCJ9PC9wPlxuICAgICAgICAgICAgICB7c2Vzc2lvbkRhdGE/LnZpZGVvLmV4cGlyZXNBdCAmJiAoXG4gICAgICAgICAgICAgICAgPHA+VG9rZW4gZXhwaXJlczoge25ldyBEYXRlKHNlc3Npb25EYXRhLnZpZGVvLmV4cGlyZXNBdCkudG9Mb2NhbGVUaW1lU3RyaW5nKCl9PC9wPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9tYWluPlxuICApO1xufVxuXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZVJvdXRlciIsInVzZVBhcmFtcyIsImlvIiwiQWdvcmFSVEMiLCJ2aWRlb0FwaSIsInVzZXJzQXBpIiwid2FsbGV0QXBpIiwiVGljVGFjVG9lR2FtZSIsIkNoZXNzR2FtZSIsIlRyaXZpYUdhbWUiLCJXU19VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfV1NfVVJMIiwiU2Vzc2lvblBhZ2UiLCJwYXJhbXMiLCJyb3V0ZXIiLCJzZXNzaW9uSWQiLCJpZCIsInNlc3Npb25EYXRhIiwic2V0U2Vzc2lvbkRhdGEiLCJzb2NrZXQiLCJzZXRTb2NrZXQiLCJjb25uZWN0ZWQiLCJzZXRDb25uZWN0ZWQiLCJnYW1lVHlwZSIsInNldEdhbWVUeXBlIiwiZ2FtZUlkIiwic2V0R2FtZUlkIiwiZ2FtZVN0YXRlIiwic2V0R2FtZVN0YXRlIiwiZ2FtZVBsYXllcnMiLCJzZXRHYW1lUGxheWVycyIsInZpZGVvUmVhZHkiLCJzZXRWaWRlb1JlYWR5IiwiZXJyb3IiLCJzZXRFcnJvciIsImxvY2FsVmlkZW9BY3RpdmUiLCJzZXRMb2NhbFZpZGVvQWN0aXZlIiwicmVtb3RlVmlkZW9BY3RpdmUiLCJzZXRSZW1vdGVWaWRlb0FjdGl2ZSIsInZpZGVvc1N3YXBwZWQiLCJzZXRWaWRlb3NTd2FwcGVkIiwiaXNGdWxsc2NyZWVuIiwic2V0SXNGdWxsc2NyZWVuIiwiaXNNdXRlZCIsInNldElzTXV0ZWQiLCJpc0NhbWVyYU9mZiIsInNldElzQ2FtZXJhT2ZmIiwicmVtb3RlVXNlckluZm8iLCJzZXRSZW1vdGVVc2VySW5mbyIsIm5ldHdvcmtRdWFsaXR5Iiwic2V0TmV0d29ya1F1YWxpdHkiLCJ1cGxpbmsiLCJkb3dubGluayIsInNlc3Npb25EdXJhdGlvbiIsInNldFNlc3Npb25EdXJhdGlvbiIsInNlc3Npb25TdGFydFRpbWUiLCJzZXRTZXNzaW9uU3RhcnRUaW1lIiwiY29ubmVjdGlvblN0YXRlIiwic2V0Q29ubmVjdGlvblN0YXRlIiwid2FsbGV0QmFsYW5jZSIsInNldFdhbGxldEJhbGFuY2UiLCJnaWZ0Tm90aWZpY2F0aW9uIiwic2V0R2lmdE5vdGlmaWNhdGlvbiIsImdpZnROb3RpZmljYXRpb25UaW1lclJlZiIsIm1haW5WaWRlb1JlZiIsIm92ZXJsYXlWaWRlb1JlZiIsInZpZGVvQ29udGFpbmVyUmVmIiwiY2xpZW50UmVmIiwibG9jYWxUcmFja1JlZiIsInJlbW90ZVRyYWNrUmVmIiwicmVtb3RlVXNlclJlZiIsInZpZGVvQ2hlY2tJbnRlcnZhbFJlZiIsInNlc3Npb25UaW1lclJlZiIsInRva2VuUmVuZXdhbFRpbWVyUmVmIiwicmVtb3RlVmlkZW9BY3RpdmVSZWYiLCJsb2NhbFZpZGVvQWN0aXZlUmVmIiwidXNlcklkIiwic2V0VXNlcklkIiwiY3VycmVudCIsInRvZ2dsZU11dGUiLCJhdWRpb1RyYWNrIiwibmV3TXV0ZWQiLCJzZXRFbmFibGVkIiwiY29uc29sZSIsImxvZyIsInRvZ2dsZUNhbWVyYSIsInZpZGVvVHJhY2siLCJuZXdDYW1lcmFPZmYiLCJzZXRJbnRlcnZhbCIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJjbGVhckludGVydmFsIiwiZm9ybWF0RHVyYXRpb24iLCJzZWNvbmRzIiwibWlucyIsInNlY3MiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiZ2V0TmV0d29ya1F1YWxpdHlMYWJlbCIsInF1YWxpdHkiLCJsYWJlbCIsImNvbG9yIiwibG9hZFVzZXJEYXRhIiwidXNlciIsIndhbGxldCIsIlByb21pc2UiLCJhbGwiLCJnZXRNZSIsImdldE15V2FsbGV0IiwiYmFsYW5jZVRva2VucyIsImVyciIsInNob3dHaWZ0Tm90aWZpY2F0aW9uIiwiZnJvbSIsImFtb3VudCIsImlzUmVjZWl2ZWQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY29ubmVjdGVkQ2hhbm5lbFJlZiIsInZpZGVvIiwiY2hhbm5lbE5hbWUiLCJpc01vdW50ZWQiLCJyZXRyeUNvdW50IiwiTUFYX1JFVFJJRVMiLCJyZXRyeVRpbWVyIiwiY2hlY2tBbmRJbml0IiwiaW5pdFZpZGVvIiwiYXBwSWQiLCJhcHBJZFJlc3BvbnNlIiwiZ2V0QXBwSWQiLCJjbGllbnQiLCJjcmVhdGVDbGllbnQiLCJtb2RlIiwiY29kZWMiLCJ0b2tlbiIsInN1YnN0cmluZyIsImpvaW4iLCJyZW1vdGVVc2VycyIsImxlbmd0aCIsInJlbW90ZVVzZXIiLCJ1aWQiLCJzdWJzY3JpYmUiLCJoYXNWaWRlbyIsImhhc0F1ZGlvIiwicGxheSIsInRyeVBsYXlSZW1vdGVWaWRlbyIsImF0dGVtcHQiLCJzdG9wIiwiZSIsInZpZGVvRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ2aWRlb1dpZHRoIiwidmlkZW9IZWlnaHQiLCJwbGF5RXJyb3IiLCJtZXNzYWdlIiwic3ViRXJyb3IiLCJtaWNUcmFjayIsImNhbVRyYWNrIiwiY3JlYXRlTWljcm9waG9uZUFuZENhbWVyYVRyYWNrcyIsImVuY29kZXJDb25maWciLCJ3aWR0aCIsIm1pbiIsImlkZWFsIiwibWF4IiwiaGVpZ2h0IiwiZnJhbWVSYXRlIiwicHVibGlzaCIsInRyeVBsYXlMb2NhbFZpZGVvIiwidHJhY2tFcnJvciIsImluY2x1ZGVzIiwibmFtZSIsIm9uIiwibWVkaWFUeXBlIiwicHJldiIsInRyeVBsYXlWaWRlbyIsImhhc1ZpZGVvRWxlbWVudCIsInBhdXNlZCIsInJlYWR5U3RhdGUiLCJuZXdWaWRlb0VsZW1lbnQiLCJzdGF0cyIsInVwbGlua05ldHdvcmtRdWFsaXR5IiwiZG93bmxpbmtOZXR3b3JrUXVhbGl0eSIsImN1clN0YXRlIiwicHJldlN0YXRlIiwiZXhwaXJlc0F0IiwiZ2V0VGltZSIsInJlbmV3SW4iLCJyZXNwb25zZSIsImdldFRva2VuIiwicmVuZXdUb2tlbiIsInJlbmV3RXJyb3IiLCJlcnJvck1zZyIsImFsZXJ0IiwidGltZXIiLCJjbG9zZSIsImxlYXZlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInB1c2giLCJ3cyIsImF1dGgiLCJ0cmFuc3BvcnRzIiwiaGFzSm9pbmVkU2Vzc2lvbiIsImVtaXQiLCJyZWFzb24iLCJkYXRhIiwic3RhdGUiLCJwbGF5ZXJzIiwid2lubmVySWQiLCJpc0RyYXciLCJnYW1lT3ZlciIsIndpbm5lciIsInBoYXNlIiwidGltZVJlbWFpbmluZyIsInNlY29uZHNSZW1haW5pbmciLCJ0aW1lTGltaXQiLCJxdWVzdGlvblN0YXJ0ZWRBdCIsImN1cnJlbnRBbnN3ZXJzIiwicmVzdWx0cyIsInNjb3JlcyIsImlzRmluaXNoZWQiLCJmaW5hbFNjb3JlcyIsIndpbm5lcklkcyIsImJhbGFuY2UiLCJzdWNjZXNzIiwicGF5bG9hZCIsIkpTT04iLCJwYXJzZSIsImF0b2IiLCJzcGxpdCIsImN1cnJlbnRVc2VySWQiLCJzdWIiLCJ0byIsIm90aGVyVXNlciIsImRpc2Nvbm5lY3QiLCJoYW5kbGVTdGFydEdhbWUiLCJ0eXBlIiwiaGFuZGxlRW5kU2Vzc2lvbiIsImhhbmRsZVN3YXBWaWRlb3MiLCJ0YXJnZXRDb250YWluZXIiLCJoYW5kbGVGdWxsc2NyZWVuIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJyZXF1ZXN0RnVsbHNjcmVlbiIsImNhdGNoIiwiZXhpdEZ1bGxzY3JlZW4iLCJoYW5kbGVTZW5kR2lmdCIsInByb21wdCIsImFtb3VudE51bSIsInBhcnNlSW50IiwiaXNOYU4iLCJhbW91bnRUb2tlbnMiLCJtYWluIiwiY2xhc3NOYW1lIiwiZGl2Iiwic3BhbiIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwiaDEiLCJ0b0xvY2FsZVN0cmluZyIsInNsaWNlIiwiU3RyaW5nIiwidGl0bGUiLCJyZWYiLCJzdHlsZSIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiYnIiLCJzdG9wUHJvcGFnYXRpb24iLCJjaG9pY2UiLCJjb25maXJtIiwib25Eb3VibGVDbGljayIsImluaXRpYWxTdGF0ZSIsImluaXRpYWxQbGF5ZXJzIiwib25HYW1lRW5kIiwicmVzdWx0Iiwib2RVc2VySWQiLCJvbk1vdmUiLCJwcm9tb3Rpb25QaWVjZSIsIm9uRm9yZmVpdCIsIm9uQW5zd2VyIiwicXVlc3Rpb25JbmRleCIsImFuc3dlckluZGV4IiwicGVlciIsInRvTG9jYWxlVGltZVN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/app/session/[id]/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/games/ChessGame.tsx":
/*!********************************************!*\
  !*** ./src/components/games/ChessGame.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChessGame)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n// Unicode chess pieces\nconst PIECE_UNICODE = {\n    white: {\n        K: \"♔\",\n        Q: \"♕\",\n        R: \"♖\",\n        B: \"♗\",\n        N: \"♘\",\n        P: \"♙\"\n    },\n    black: {\n        K: \"♚\",\n        Q: \"♛\",\n        R: \"♜\",\n        B: \"♝\",\n        N: \"♞\",\n        P: \"♟\"\n    }\n};\nconst FILES = [\n    \"a\",\n    \"b\",\n    \"c\",\n    \"d\",\n    \"e\",\n    \"f\",\n    \"g\",\n    \"h\"\n];\nfunction ChessGame({ gameState, odUserId, onMove, onForfeit }) {\n    const [selectedSquare, setSelectedSquare] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [validMoves, setValidMoves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showPromotionDialog, setShowPromotionDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [pendingPromotion, setPendingPromotion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showForfeitConfirm, setShowForfeitConfirm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Determine player color and turn\n    const myColor = gameState.playerWhite === odUserId ? \"white\" : \"black\";\n    const isMyTurn = gameState.currentTurn === myColor && !gameState.gameOver;\n    const shouldFlipBoard = myColor === \"black\";\n    // Get last move for highlighting\n    const lastMove = gameState.moveHistory.length > 0 ? gameState.moveHistory[gameState.moveHistory.length - 1] : null;\n    // Calculate captured pieces\n    const capturedPieces = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const captured = {\n            white: [],\n            black: []\n        };\n        for (const move of gameState.moveHistory){\n            if (move.capturedPiece) {\n                if (move.capturedPiece.color === \"white\") {\n                    captured.white.push(move.capturedPiece);\n                } else {\n                    captured.black.push(move.capturedPiece);\n                }\n            }\n        }\n        return captured;\n    }, [\n        gameState.moveHistory\n    ]);\n    // Simple valid move calculation (frontend validation)\n    const calculateValidMoves = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((pos)=>{\n        const piece = gameState.board[pos.row][pos.col];\n        if (!piece || piece.color !== myColor) return [];\n        const moves = [];\n        const directions = {\n            rook: [\n                [\n                    -1,\n                    0\n                ],\n                [\n                    1,\n                    0\n                ],\n                [\n                    0,\n                    -1\n                ],\n                [\n                    0,\n                    1\n                ]\n            ],\n            bishop: [\n                [\n                    -1,\n                    -1\n                ],\n                [\n                    -1,\n                    1\n                ],\n                [\n                    1,\n                    -1\n                ],\n                [\n                    1,\n                    1\n                ]\n            ],\n            knight: [\n                [\n                    -2,\n                    -1\n                ],\n                [\n                    -2,\n                    1\n                ],\n                [\n                    -1,\n                    -2\n                ],\n                [\n                    -1,\n                    2\n                ],\n                [\n                    1,\n                    -2\n                ],\n                [\n                    1,\n                    2\n                ],\n                [\n                    2,\n                    -1\n                ],\n                [\n                    2,\n                    1\n                ]\n            ],\n            king: [\n                [\n                    -1,\n                    -1\n                ],\n                [\n                    -1,\n                    0\n                ],\n                [\n                    -1,\n                    1\n                ],\n                [\n                    0,\n                    -1\n                ],\n                [\n                    0,\n                    1\n                ],\n                [\n                    1,\n                    -1\n                ],\n                [\n                    1,\n                    0\n                ],\n                [\n                    1,\n                    1\n                ]\n            ]\n        };\n        const addSlidingMoves = (dirs)=>{\n            for (const [dr, dc] of dirs){\n                let r = pos.row + dr;\n                let c = pos.col + dc;\n                while(r >= 0 && r < 8 && c >= 0 && c < 8){\n                    const target = gameState.board[r][c];\n                    if (!target) {\n                        moves.push({\n                            row: r,\n                            col: c\n                        });\n                    } else {\n                        if (target.color !== piece.color) {\n                            moves.push({\n                                row: r,\n                                col: c\n                            });\n                        }\n                        break;\n                    }\n                    r += dr;\n                    c += dc;\n                }\n            }\n        };\n        const addSingleMoves = (dirs)=>{\n            for (const [dr, dc] of dirs){\n                const r = pos.row + dr;\n                const c = pos.col + dc;\n                if (r >= 0 && r < 8 && c >= 0 && c < 8) {\n                    const target = gameState.board[r][c];\n                    if (!target || target.color !== piece.color) {\n                        moves.push({\n                            row: r,\n                            col: c\n                        });\n                    }\n                }\n            }\n        };\n        switch(piece.type){\n            case \"P\":\n                {\n                    const direction = piece.color === \"white\" ? -1 : 1;\n                    const startRow = piece.color === \"white\" ? 6 : 1;\n                    // Forward\n                    const oneForward = {\n                        row: pos.row + direction,\n                        col: pos.col\n                    };\n                    if (oneForward.row >= 0 && oneForward.row < 8 && !gameState.board[oneForward.row][oneForward.col]) {\n                        moves.push(oneForward);\n                        // Two forward from start\n                        if (pos.row === startRow) {\n                            const twoForward = {\n                                row: pos.row + 2 * direction,\n                                col: pos.col\n                            };\n                            if (!gameState.board[twoForward.row][twoForward.col]) {\n                                moves.push(twoForward);\n                            }\n                        }\n                    }\n                    // Captures\n                    for (const dc of [\n                        -1,\n                        1\n                    ]){\n                        const r = pos.row + direction;\n                        const c = pos.col + dc;\n                        if (r >= 0 && r < 8 && c >= 0 && c < 8) {\n                            const target = gameState.board[r][c];\n                            if (target && target.color !== piece.color) {\n                                moves.push({\n                                    row: r,\n                                    col: c\n                                });\n                            }\n                        }\n                    }\n                    break;\n                }\n            case \"N\":\n                addSingleMoves(directions.knight);\n                break;\n            case \"B\":\n                addSlidingMoves(directions.bishop);\n                break;\n            case \"R\":\n                addSlidingMoves(directions.rook);\n                break;\n            case \"Q\":\n                addSlidingMoves([\n                    ...directions.rook,\n                    ...directions.bishop\n                ]);\n                break;\n            case \"K\":\n                addSingleMoves(directions.king);\n                // Castling (simplified check)\n                if (!piece.hasMoved) {\n                    // Kingside\n                    if (!gameState.board[pos.row][5] && !gameState.board[pos.row][6]) {\n                        const rook = gameState.board[pos.row][7];\n                        if (rook && rook.type === \"R\" && !rook.hasMoved) {\n                            moves.push({\n                                row: pos.row,\n                                col: 6\n                            });\n                        }\n                    }\n                    // Queenside\n                    if (!gameState.board[pos.row][1] && !gameState.board[pos.row][2] && !gameState.board[pos.row][3]) {\n                        const rook = gameState.board[pos.row][0];\n                        if (rook && rook.type === \"R\" && !rook.hasMoved) {\n                            moves.push({\n                                row: pos.row,\n                                col: 2\n                            });\n                        }\n                    }\n                }\n                break;\n        }\n        return moves;\n    }, [\n        gameState.board,\n        myColor\n    ]);\n    // Handle square click\n    const handleSquareClick = (row, col)=>{\n        if (gameState.gameOver) return;\n        if (!isMyTurn) return;\n        const clickedPiece = gameState.board[row][col];\n        if (selectedSquare) {\n            // Check if clicking on a valid move destination\n            const isValidMove = validMoves.some((m)=>m.row === row && m.col === col);\n            if (isValidMove) {\n                const piece = gameState.board[selectedSquare.row][selectedSquare.col];\n                // Check for pawn promotion\n                if (piece?.type === \"P\" && (myColor === \"white\" && row === 0 || myColor === \"black\" && row === 7)) {\n                    setPendingPromotion({\n                        from: selectedSquare,\n                        to: {\n                            row,\n                            col\n                        }\n                    });\n                    setShowPromotionDialog(true);\n                } else {\n                    onMove(selectedSquare, {\n                        row,\n                        col\n                    });\n                }\n                setSelectedSquare(null);\n                setValidMoves([]);\n            } else if (clickedPiece && clickedPiece.color === myColor) {\n                // Select a different piece\n                setSelectedSquare({\n                    row,\n                    col\n                });\n                setValidMoves(calculateValidMoves({\n                    row,\n                    col\n                }));\n            } else {\n                // Deselect\n                setSelectedSquare(null);\n                setValidMoves([]);\n            }\n        } else {\n            // Select a piece\n            if (clickedPiece && clickedPiece.color === myColor) {\n                setSelectedSquare({\n                    row,\n                    col\n                });\n                setValidMoves(calculateValidMoves({\n                    row,\n                    col\n                }));\n            }\n        }\n    };\n    // Handle promotion selection\n    const handlePromotion = (pieceType)=>{\n        if (pendingPromotion) {\n            onMove(pendingPromotion.from, pendingPromotion.to, pieceType);\n        }\n        setShowPromotionDialog(false);\n        setPendingPromotion(null);\n        setSelectedSquare(null);\n        setValidMoves([]);\n    };\n    // Format move history\n    const formatMoveHistory = ()=>{\n        const moves = [];\n        for(let i = 0; i < gameState.moveHistory.length; i += 2){\n            const moveNum = Math.floor(i / 2) + 1;\n            const whiteMove = gameState.moveHistory[i]?.notation || \"\";\n            const blackMove = gameState.moveHistory[i + 1]?.notation || \"\";\n            moves.push(`${moveNum}. ${whiteMove} ${blackMove}`);\n        }\n        return moves.join(\"  \");\n    };\n    // Render a square\n    // visualRow/visualCol: position on screen (0 = top-left)\n    // boardRow/boardCol: actual position in the game state array\n    const renderSquare = (visualRow, visualCol)=>{\n        // Convert visual position to board position\n        // For white: visual top (row 0) = board row 0 (black's back rank)\n        // For black: visual top (row 0) = board row 7 (white's back rank) - need to flip\n        const boardRow = shouldFlipBoard ? 7 - visualRow : visualRow;\n        const boardCol = shouldFlipBoard ? 7 - visualCol : visualCol;\n        const piece = gameState.board[boardRow][boardCol];\n        // Square color is based on visual position for consistent look\n        const isLight = (visualRow + visualCol) % 2 === 0;\n        const isSelected = selectedSquare?.row === boardRow && selectedSquare?.col === boardCol;\n        const isValidMove = validMoves.some((m)=>m.row === boardRow && m.col === boardCol);\n        const isLastMoveFrom = lastMove?.from.row === boardRow && lastMove?.from.col === boardCol;\n        const isLastMoveTo = lastMove?.to.row === boardRow && lastMove?.to.col === boardCol;\n        const isKingInCheck = gameState.isCheck && piece?.type === \"K\" && piece?.color === gameState.currentTurn;\n        let bgColor = isLight ? \"bg-amber-100\" : \"bg-amber-700\";\n        if (isSelected) bgColor = \"bg-yellow-400\";\n        else if (isLastMoveFrom || isLastMoveTo) bgColor = isLight ? \"bg-yellow-200\" : \"bg-yellow-600\";\n        else if (isKingInCheck) bgColor = \"bg-red-500\";\n        // Calculate rank/file labels based on board orientation\n        const rankLabel = shouldFlipBoard ? boardRow + 1 : 8 - boardRow;\n        const fileLabel = FILES[boardCol];\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `relative w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 flex items-center justify-center cursor-pointer ${bgColor} transition-colors`,\n            onClick: ()=>handleSquareClick(boardRow, boardCol),\n            children: [\n                piece && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: `text-2xl sm:text-3xl md:text-4xl select-none ${piece.color === \"white\" ? \"text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)]\" : \"text-gray-900\"}`,\n                    children: PIECE_UNICODE[piece.color][piece.type]\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 307,\n                    columnNumber: 11\n                }, this),\n                isValidMove && !piece && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute w-3 h-3 rounded-full bg-green-500 opacity-60\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 318,\n                    columnNumber: 11\n                }, this),\n                isValidMove && piece && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute inset-0 border-4 border-red-500 opacity-60 rounded-sm\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 321,\n                    columnNumber: 11\n                }, this),\n                visualCol === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"absolute left-0.5 top-0.5 text-[10px] font-bold text-gray-600\",\n                    children: rankLabel\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 326,\n                    columnNumber: 11\n                }, this),\n                visualRow === 7 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"absolute right-0.5 bottom-0 text-[10px] font-bold text-gray-600\",\n                    children: fileLabel\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 331,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, `${visualRow}-${visualCol}`, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n            lineNumber: 300,\n            columnNumber: 7\n        }, this);\n    };\n    // Render captured pieces\n    const renderCapturedPieces = (pieces)=>{\n        return pieces.map((p, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-lg\",\n                children: PIECE_UNICODE[p.color][p.type]\n            }, i, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 342,\n                columnNumber: 7\n            }, this));\n    };\n    // Get game status text\n    const getStatusText = ()=>{\n        if (gameState.isCheckmate) {\n            const winner = gameState.winner === odUserId ? \"You win\" : \"You lose\";\n            return `Checkmate! ${winner}`;\n        }\n        if (gameState.isStalemate) return \"Stalemate - Draw!\";\n        if (gameState.isDraw) return `Draw - ${gameState.drawReason}`;\n        if (gameState.gameOver) {\n            if (gameState.winner === odUserId) return \"You win!\";\n            return \"You lose!\";\n        }\n        if (gameState.isCheck) return `${gameState.currentTurn === myColor ? \"You are\" : \"Opponent is\"} in check!`;\n        return isMyTurn ? \"Your turn\" : \"Opponent's turn\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col items-center gap-4 p-4 bg-gray-900 rounded-lg border border-white/20\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between w-full max-w-md\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-white\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"font-bold\",\n                                children: \"Chess\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 369,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-2 text-sm text-gray-400\",\n                                children: [\n                                    \"Playing as \",\n                                    myColor\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 370,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 368,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `px-3 py-1 rounded text-sm font-medium ${gameState.gameOver ? \"bg-gray-600 text-white\" : isMyTurn ? \"bg-green-600 text-white\" : \"bg-yellow-600 text-black\"}`,\n                        children: getStatusText()\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 374,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 367,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between w-full max-w-md bg-gray-800 px-3 py-2 rounded\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `w-3 h-3 rounded-full ${myColor === \"white\" ? \"bg-gray-900\" : \"bg-white\"}`\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 388,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-white text-sm\",\n                                children: \"Opponent\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 389,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 387,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-1\",\n                        children: renderCapturedPieces(capturedPieces[myColor])\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 391,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 386,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-4 border-amber-900 rounded shadow-2xl\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-8\",\n                    children: Array(8).fill(null).map((_, row)=>Array(8).fill(null).map((_, col)=>renderSquare(row, col)))\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 398,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 397,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between w-full max-w-md bg-gray-800 px-3 py-2 rounded\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `w-3 h-3 rounded-full ${myColor === \"white\" ? \"bg-white\" : \"bg-gray-900\"}`\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 408,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-white text-sm\",\n                                children: \"You\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                lineNumber: 409,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 407,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-1\",\n                        children: renderCapturedPieces(capturedPieces[myColor === \"white\" ? \"black\" : \"white\"])\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                        lineNumber: 411,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 406,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full max-w-md bg-gray-800 p-2 rounded max-h-20 overflow-y-auto\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-xs text-gray-400 font-mono\",\n                    children: formatMoveHistory() || \"Game started\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 418,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 417,\n                columnNumber: 7\n            }, this),\n            !gameState.gameOver && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex gap-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>setShowForfeitConfirm(true),\n                    className: \"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm\",\n                    children: \"Resign\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 426,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 425,\n                columnNumber: 9\n            }, this),\n            showPromotionDialog && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/70 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gray-800 p-6 rounded-lg border border-white/30\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-white text-lg font-bold mb-4\",\n                            children: \"Choose promotion piece\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                            lineNumber: 439,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4\",\n                            children: [\n                                \"Q\",\n                                \"R\",\n                                \"B\",\n                                \"N\"\n                            ].map((type)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handlePromotion(type),\n                                    className: \"w-16 h-16 bg-amber-100 rounded flex items-center justify-center text-4xl hover:bg-amber-200 transition-colors\",\n                                    children: PIECE_UNICODE[myColor][type]\n                                }, type, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                    lineNumber: 442,\n                                    columnNumber: 17\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                            lineNumber: 440,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 438,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 437,\n                columnNumber: 9\n            }, this),\n            showForfeitConfirm && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/70 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gray-800 p-6 rounded-lg border border-white/30\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-white text-lg font-bold mb-4\",\n                            children: \"Resign game?\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                            lineNumber: 459,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-400 mb-4\",\n                            children: \"This will count as a loss.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                            lineNumber: 460,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        onForfeit();\n                                        setShowForfeitConfirm(false);\n                                    },\n                                    className: \"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\",\n                                    children: \"Resign\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                    lineNumber: 462,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowForfeitConfirm(false),\n                                    className: \"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\",\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                                    lineNumber: 471,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                            lineNumber: 461,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                    lineNumber: 458,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n                lineNumber: 457,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/ChessGame.tsx\",\n        lineNumber: 365,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9nYW1lcy9DaGVzc0dhbWUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUV1RDtBQW9EdkQsdUJBQXVCO0FBQ3ZCLE1BQU1HLGdCQUErRDtJQUNuRUMsT0FBTztRQUFFQyxHQUFHO1FBQUtDLEdBQUc7UUFBS0MsR0FBRztRQUFLQyxHQUFHO1FBQUtDLEdBQUc7UUFBS0MsR0FBRztJQUFJO0lBQ3hEQyxPQUFPO1FBQUVOLEdBQUc7UUFBS0MsR0FBRztRQUFLQyxHQUFHO1FBQUtDLEdBQUc7UUFBS0MsR0FBRztRQUFLQyxHQUFHO0lBQUk7QUFDMUQ7QUFFQSxNQUFNRSxRQUFRO0lBQUM7SUFBSztJQUFLO0lBQUs7SUFBSztJQUFLO0lBQUs7SUFBSztDQUFJO0FBRXZDLFNBQVNDLFVBQVUsRUFBRUMsU0FBUyxFQUFFQyxRQUFRLEVBQUVDLE1BQU0sRUFBRUMsU0FBUyxFQUFrQjtJQUMxRixNQUFNLENBQUNDLGdCQUFnQkMsa0JBQWtCLEdBQUduQiwrQ0FBUUEsQ0FBa0I7SUFDdEUsTUFBTSxDQUFDb0IsWUFBWUMsY0FBYyxHQUFHckIsK0NBQVFBLENBQWEsRUFBRTtJQUMzRCxNQUFNLENBQUNzQixxQkFBcUJDLHVCQUF1QixHQUFHdkIsK0NBQVFBLENBQUM7SUFDL0QsTUFBTSxDQUFDd0Isa0JBQWtCQyxvQkFBb0IsR0FBR3pCLCtDQUFRQSxDQUEwQztJQUNsRyxNQUFNLENBQUMwQixvQkFBb0JDLHNCQUFzQixHQUFHM0IsK0NBQVFBLENBQUM7SUFFN0Qsa0NBQWtDO0lBQ2xDLE1BQU00QixVQUFzQmQsVUFBVWUsV0FBVyxLQUFLZCxXQUFXLFVBQVU7SUFDM0UsTUFBTWUsV0FBV2hCLFVBQVVpQixXQUFXLEtBQUtILFdBQVcsQ0FBQ2QsVUFBVWtCLFFBQVE7SUFDekUsTUFBTUMsa0JBQWtCTCxZQUFZO0lBRXBDLGlDQUFpQztJQUNqQyxNQUFNTSxXQUFXcEIsVUFBVXFCLFdBQVcsQ0FBQ0MsTUFBTSxHQUFHLElBQzVDdEIsVUFBVXFCLFdBQVcsQ0FBQ3JCLFVBQVVxQixXQUFXLENBQUNDLE1BQU0sR0FBRyxFQUFFLEdBQ3ZEO0lBRUosNEJBQTRCO0lBQzVCLE1BQU1DLGlCQUFpQnBDLDhDQUFPQSxDQUFDO1FBQzdCLE1BQU1xQyxXQUErQztZQUFFbEMsT0FBTyxFQUFFO1lBQUVPLE9BQU8sRUFBRTtRQUFDO1FBQzVFLEtBQUssTUFBTTRCLFFBQVF6QixVQUFVcUIsV0FBVyxDQUFFO1lBQ3hDLElBQUlJLEtBQUtDLGFBQWEsRUFBRTtnQkFDdEIsSUFBSUQsS0FBS0MsYUFBYSxDQUFDQyxLQUFLLEtBQUssU0FBUztvQkFDeENILFNBQVNsQyxLQUFLLENBQUNzQyxJQUFJLENBQUNILEtBQUtDLGFBQWE7Z0JBQ3hDLE9BQU87b0JBQ0xGLFNBQVMzQixLQUFLLENBQUMrQixJQUFJLENBQUNILEtBQUtDLGFBQWE7Z0JBQ3hDO1lBQ0Y7UUFDRjtRQUNBLE9BQU9GO0lBQ1QsR0FBRztRQUFDeEIsVUFBVXFCLFdBQVc7S0FBQztJQUUxQixzREFBc0Q7SUFDdEQsTUFBTVEsc0JBQXNCekMsa0RBQVdBLENBQUMsQ0FBQzBDO1FBQ3ZDLE1BQU1DLFFBQVEvQixVQUFVZ0MsS0FBSyxDQUFDRixJQUFJRyxHQUFHLENBQUMsQ0FBQ0gsSUFBSUksR0FBRyxDQUFDO1FBQy9DLElBQUksQ0FBQ0gsU0FBU0EsTUFBTUosS0FBSyxLQUFLYixTQUFTLE9BQU8sRUFBRTtRQUVoRCxNQUFNcUIsUUFBb0IsRUFBRTtRQUM1QixNQUFNQyxhQUFhO1lBQ2pCQyxNQUFNO2dCQUFDO29CQUFDLENBQUM7b0JBQUc7aUJBQUU7Z0JBQUU7b0JBQUM7b0JBQUc7aUJBQUU7Z0JBQUU7b0JBQUM7b0JBQUcsQ0FBQztpQkFBRTtnQkFBRTtvQkFBQztvQkFBRztpQkFBRTthQUFDO1lBQ3hDQyxRQUFRO2dCQUFDO29CQUFDLENBQUM7b0JBQUcsQ0FBQztpQkFBRTtnQkFBRTtvQkFBQyxDQUFDO29CQUFHO2lCQUFFO2dCQUFFO29CQUFDO29CQUFHLENBQUM7aUJBQUU7Z0JBQUU7b0JBQUM7b0JBQUc7aUJBQUU7YUFBQztZQUM1Q0MsUUFBUTtnQkFBQztvQkFBQyxDQUFDO29CQUFHLENBQUM7aUJBQUU7Z0JBQUU7b0JBQUMsQ0FBQztvQkFBRztpQkFBRTtnQkFBRTtvQkFBQyxDQUFDO29CQUFHLENBQUM7aUJBQUU7Z0JBQUU7b0JBQUMsQ0FBQztvQkFBRztpQkFBRTtnQkFBRTtvQkFBQztvQkFBRyxDQUFDO2lCQUFFO2dCQUFFO29CQUFDO29CQUFHO2lCQUFFO2dCQUFFO29CQUFDO29CQUFHLENBQUM7aUJBQUU7Z0JBQUU7b0JBQUM7b0JBQUc7aUJBQUU7YUFBQztZQUNoRkMsTUFBTTtnQkFBQztvQkFBQyxDQUFDO29CQUFHLENBQUM7aUJBQUU7Z0JBQUU7b0JBQUMsQ0FBQztvQkFBRztpQkFBRTtnQkFBRTtvQkFBQyxDQUFDO29CQUFHO2lCQUFFO2dCQUFFO29CQUFDO29CQUFHLENBQUM7aUJBQUU7Z0JBQUU7b0JBQUM7b0JBQUc7aUJBQUU7Z0JBQUU7b0JBQUM7b0JBQUcsQ0FBQztpQkFBRTtnQkFBRTtvQkFBQztvQkFBRztpQkFBRTtnQkFBRTtvQkFBQztvQkFBRztpQkFBRTthQUFDO1FBQzlFO1FBRUEsTUFBTUMsa0JBQWtCLENBQUNDO1lBQ3ZCLEtBQUssTUFBTSxDQUFDQyxJQUFJQyxHQUFHLElBQUlGLEtBQU07Z0JBQzNCLElBQUlHLElBQUlmLElBQUlHLEdBQUcsR0FBR1U7Z0JBQ2xCLElBQUlHLElBQUloQixJQUFJSSxHQUFHLEdBQUdVO2dCQUNsQixNQUFPQyxLQUFLLEtBQUtBLElBQUksS0FBS0MsS0FBSyxLQUFLQSxJQUFJLEVBQUc7b0JBQ3pDLE1BQU1DLFNBQVMvQyxVQUFVZ0MsS0FBSyxDQUFDYSxFQUFFLENBQUNDLEVBQUU7b0JBQ3BDLElBQUksQ0FBQ0MsUUFBUTt3QkFDWFosTUFBTVAsSUFBSSxDQUFDOzRCQUFFSyxLQUFLWTs0QkFBR1gsS0FBS1k7d0JBQUU7b0JBQzlCLE9BQU87d0JBQ0wsSUFBSUMsT0FBT3BCLEtBQUssS0FBS0ksTUFBTUosS0FBSyxFQUFFOzRCQUNoQ1EsTUFBTVAsSUFBSSxDQUFDO2dDQUFFSyxLQUFLWTtnQ0FBR1gsS0FBS1k7NEJBQUU7d0JBQzlCO3dCQUNBO29CQUNGO29CQUNBRCxLQUFLRjtvQkFDTEcsS0FBS0Y7Z0JBQ1A7WUFDRjtRQUNGO1FBRUEsTUFBTUksaUJBQWlCLENBQUNOO1lBQ3RCLEtBQUssTUFBTSxDQUFDQyxJQUFJQyxHQUFHLElBQUlGLEtBQU07Z0JBQzNCLE1BQU1HLElBQUlmLElBQUlHLEdBQUcsR0FBR1U7Z0JBQ3BCLE1BQU1HLElBQUloQixJQUFJSSxHQUFHLEdBQUdVO2dCQUNwQixJQUFJQyxLQUFLLEtBQUtBLElBQUksS0FBS0MsS0FBSyxLQUFLQSxJQUFJLEdBQUc7b0JBQ3RDLE1BQU1DLFNBQVMvQyxVQUFVZ0MsS0FBSyxDQUFDYSxFQUFFLENBQUNDLEVBQUU7b0JBQ3BDLElBQUksQ0FBQ0MsVUFBVUEsT0FBT3BCLEtBQUssS0FBS0ksTUFBTUosS0FBSyxFQUFFO3dCQUMzQ1EsTUFBTVAsSUFBSSxDQUFDOzRCQUFFSyxLQUFLWTs0QkFBR1gsS0FBS1k7d0JBQUU7b0JBQzlCO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBLE9BQVFmLE1BQU1rQixJQUFJO1lBQ2hCLEtBQUs7Z0JBQUs7b0JBQ1IsTUFBTUMsWUFBWW5CLE1BQU1KLEtBQUssS0FBSyxVQUFVLENBQUMsSUFBSTtvQkFDakQsTUFBTXdCLFdBQVdwQixNQUFNSixLQUFLLEtBQUssVUFBVSxJQUFJO29CQUMvQyxVQUFVO29CQUNWLE1BQU15QixhQUFhO3dCQUFFbkIsS0FBS0gsSUFBSUcsR0FBRyxHQUFHaUI7d0JBQVdoQixLQUFLSixJQUFJSSxHQUFHO29CQUFDO29CQUM1RCxJQUFJa0IsV0FBV25CLEdBQUcsSUFBSSxLQUFLbUIsV0FBV25CLEdBQUcsR0FBRyxLQUFLLENBQUNqQyxVQUFVZ0MsS0FBSyxDQUFDb0IsV0FBV25CLEdBQUcsQ0FBQyxDQUFDbUIsV0FBV2xCLEdBQUcsQ0FBQyxFQUFFO3dCQUNqR0MsTUFBTVAsSUFBSSxDQUFDd0I7d0JBQ1gseUJBQXlCO3dCQUN6QixJQUFJdEIsSUFBSUcsR0FBRyxLQUFLa0IsVUFBVTs0QkFDeEIsTUFBTUUsYUFBYTtnQ0FBRXBCLEtBQUtILElBQUlHLEdBQUcsR0FBRyxJQUFJaUI7Z0NBQVdoQixLQUFLSixJQUFJSSxHQUFHOzRCQUFDOzRCQUNoRSxJQUFJLENBQUNsQyxVQUFVZ0MsS0FBSyxDQUFDcUIsV0FBV3BCLEdBQUcsQ0FBQyxDQUFDb0IsV0FBV25CLEdBQUcsQ0FBQyxFQUFFO2dDQUNwREMsTUFBTVAsSUFBSSxDQUFDeUI7NEJBQ2I7d0JBQ0Y7b0JBQ0Y7b0JBQ0EsV0FBVztvQkFDWCxLQUFLLE1BQU1ULE1BQU07d0JBQUMsQ0FBQzt3QkFBRztxQkFBRSxDQUFFO3dCQUN4QixNQUFNQyxJQUFJZixJQUFJRyxHQUFHLEdBQUdpQjt3QkFDcEIsTUFBTUosSUFBSWhCLElBQUlJLEdBQUcsR0FBR1U7d0JBQ3BCLElBQUlDLEtBQUssS0FBS0EsSUFBSSxLQUFLQyxLQUFLLEtBQUtBLElBQUksR0FBRzs0QkFDdEMsTUFBTUMsU0FBUy9DLFVBQVVnQyxLQUFLLENBQUNhLEVBQUUsQ0FBQ0MsRUFBRTs0QkFDcEMsSUFBSUMsVUFBVUEsT0FBT3BCLEtBQUssS0FBS0ksTUFBTUosS0FBSyxFQUFFO2dDQUMxQ1EsTUFBTVAsSUFBSSxDQUFDO29DQUFFSyxLQUFLWTtvQ0FBR1gsS0FBS1k7Z0NBQUU7NEJBQzlCO3dCQUNGO29CQUNGO29CQUNBO2dCQUNGO1lBQ0EsS0FBSztnQkFDSEUsZUFBZVosV0FBV0csTUFBTTtnQkFDaEM7WUFDRixLQUFLO2dCQUNIRSxnQkFBZ0JMLFdBQVdFLE1BQU07Z0JBQ2pDO1lBQ0YsS0FBSztnQkFDSEcsZ0JBQWdCTCxXQUFXQyxJQUFJO2dCQUMvQjtZQUNGLEtBQUs7Z0JBQ0hJLGdCQUFnQjt1QkFBSUwsV0FBV0MsSUFBSTt1QkFBS0QsV0FBV0UsTUFBTTtpQkFBQztnQkFDMUQ7WUFDRixLQUFLO2dCQUNIVSxlQUFlWixXQUFXSSxJQUFJO2dCQUM5Qiw4QkFBOEI7Z0JBQzlCLElBQUksQ0FBQ1QsTUFBTXVCLFFBQVEsRUFBRTtvQkFDbkIsV0FBVztvQkFDWCxJQUFJLENBQUN0RCxVQUFVZ0MsS0FBSyxDQUFDRixJQUFJRyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQ2pDLFVBQVVnQyxLQUFLLENBQUNGLElBQUlHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRTt3QkFDaEUsTUFBTUksT0FBT3JDLFVBQVVnQyxLQUFLLENBQUNGLElBQUlHLEdBQUcsQ0FBQyxDQUFDLEVBQUU7d0JBQ3hDLElBQUlJLFFBQVFBLEtBQUtZLElBQUksS0FBSyxPQUFPLENBQUNaLEtBQUtpQixRQUFRLEVBQUU7NEJBQy9DbkIsTUFBTVAsSUFBSSxDQUFDO2dDQUFFSyxLQUFLSCxJQUFJRyxHQUFHO2dDQUFFQyxLQUFLOzRCQUFFO3dCQUNwQztvQkFDRjtvQkFDQSxZQUFZO29CQUNaLElBQUksQ0FBQ2xDLFVBQVVnQyxLQUFLLENBQUNGLElBQUlHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDakMsVUFBVWdDLEtBQUssQ0FBQ0YsSUFBSUcsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUNqQyxVQUFVZ0MsS0FBSyxDQUFDRixJQUFJRyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUU7d0JBQ2hHLE1BQU1JLE9BQU9yQyxVQUFVZ0MsS0FBSyxDQUFDRixJQUFJRyxHQUFHLENBQUMsQ0FBQyxFQUFFO3dCQUN4QyxJQUFJSSxRQUFRQSxLQUFLWSxJQUFJLEtBQUssT0FBTyxDQUFDWixLQUFLaUIsUUFBUSxFQUFFOzRCQUMvQ25CLE1BQU1QLElBQUksQ0FBQztnQ0FBRUssS0FBS0gsSUFBSUcsR0FBRztnQ0FBRUMsS0FBSzs0QkFBRTt3QkFDcEM7b0JBQ0Y7Z0JBQ0Y7Z0JBQ0E7UUFDSjtRQUVBLE9BQU9DO0lBQ1QsR0FBRztRQUFDbkMsVUFBVWdDLEtBQUs7UUFBRWxCO0tBQVE7SUFFN0Isc0JBQXNCO0lBQ3RCLE1BQU15QyxvQkFBb0IsQ0FBQ3RCLEtBQWFDO1FBQ3RDLElBQUlsQyxVQUFVa0IsUUFBUSxFQUFFO1FBQ3hCLElBQUksQ0FBQ0YsVUFBVTtRQUVmLE1BQU13QyxlQUFleEQsVUFBVWdDLEtBQUssQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJO1FBRTlDLElBQUk5QixnQkFBZ0I7WUFDbEIsZ0RBQWdEO1lBQ2hELE1BQU1xRCxjQUFjbkQsV0FBV29ELElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRTFCLEdBQUcsS0FBS0EsT0FBTzBCLEVBQUV6QixHQUFHLEtBQUtBO1lBRXBFLElBQUl1QixhQUFhO2dCQUNmLE1BQU0xQixRQUFRL0IsVUFBVWdDLEtBQUssQ0FBQzVCLGVBQWU2QixHQUFHLENBQUMsQ0FBQzdCLGVBQWU4QixHQUFHLENBQUM7Z0JBQ3JFLDJCQUEyQjtnQkFDM0IsSUFBSUgsT0FBT2tCLFNBQVMsT0FBUSxhQUFhLFdBQVdoQixRQUFRLEtBQU9uQixZQUFZLFdBQVdtQixRQUFRLENBQUMsR0FBSTtvQkFDckd0QixvQkFBb0I7d0JBQUVpRCxNQUFNeEQ7d0JBQWdCeUQsSUFBSTs0QkFBRTVCOzRCQUFLQzt3QkFBSTtvQkFBRTtvQkFDN0R6Qix1QkFBdUI7Z0JBQ3pCLE9BQU87b0JBQ0xQLE9BQU9FLGdCQUFnQjt3QkFBRTZCO3dCQUFLQztvQkFBSTtnQkFDcEM7Z0JBQ0E3QixrQkFBa0I7Z0JBQ2xCRSxjQUFjLEVBQUU7WUFDbEIsT0FBTyxJQUFJaUQsZ0JBQWdCQSxhQUFhN0IsS0FBSyxLQUFLYixTQUFTO2dCQUN6RCwyQkFBMkI7Z0JBQzNCVCxrQkFBa0I7b0JBQUU0QjtvQkFBS0M7Z0JBQUk7Z0JBQzdCM0IsY0FBY3NCLG9CQUFvQjtvQkFBRUk7b0JBQUtDO2dCQUFJO1lBQy9DLE9BQU87Z0JBQ0wsV0FBVztnQkFDWDdCLGtCQUFrQjtnQkFDbEJFLGNBQWMsRUFBRTtZQUNsQjtRQUNGLE9BQU87WUFDTCxpQkFBaUI7WUFDakIsSUFBSWlELGdCQUFnQkEsYUFBYTdCLEtBQUssS0FBS2IsU0FBUztnQkFDbERULGtCQUFrQjtvQkFBRTRCO29CQUFLQztnQkFBSTtnQkFDN0IzQixjQUFjc0Isb0JBQW9CO29CQUFFSTtvQkFBS0M7Z0JBQUk7WUFDL0M7UUFDRjtJQUNGO0lBRUEsNkJBQTZCO0lBQzdCLE1BQU00QixrQkFBa0IsQ0FBQ0M7UUFDdkIsSUFBSXJELGtCQUFrQjtZQUNwQlIsT0FBT1EsaUJBQWlCa0QsSUFBSSxFQUFFbEQsaUJBQWlCbUQsRUFBRSxFQUFFRTtRQUNyRDtRQUNBdEQsdUJBQXVCO1FBQ3ZCRSxvQkFBb0I7UUFDcEJOLGtCQUFrQjtRQUNsQkUsY0FBYyxFQUFFO0lBQ2xCO0lBRUEsc0JBQXNCO0lBQ3RCLE1BQU15RCxvQkFBb0I7UUFDeEIsTUFBTTdCLFFBQWtCLEVBQUU7UUFDMUIsSUFBSyxJQUFJOEIsSUFBSSxHQUFHQSxJQUFJakUsVUFBVXFCLFdBQVcsQ0FBQ0MsTUFBTSxFQUFFMkMsS0FBSyxFQUFHO1lBQ3hELE1BQU1DLFVBQVVDLEtBQUtDLEtBQUssQ0FBQ0gsSUFBSSxLQUFLO1lBQ3BDLE1BQU1JLFlBQVlyRSxVQUFVcUIsV0FBVyxDQUFDNEMsRUFBRSxFQUFFSyxZQUFZO1lBQ3hELE1BQU1DLFlBQVl2RSxVQUFVcUIsV0FBVyxDQUFDNEMsSUFBSSxFQUFFLEVBQUVLLFlBQVk7WUFDNURuQyxNQUFNUCxJQUFJLENBQUMsQ0FBQyxFQUFFc0MsUUFBUSxFQUFFLEVBQUVHLFVBQVUsQ0FBQyxFQUFFRSxVQUFVLENBQUM7UUFDcEQ7UUFDQSxPQUFPcEMsTUFBTXFDLElBQUksQ0FBQztJQUNwQjtJQUVBLGtCQUFrQjtJQUNsQix5REFBeUQ7SUFDekQsNkRBQTZEO0lBQzdELE1BQU1DLGVBQWUsQ0FBQ0MsV0FBbUJDO1FBQ3ZDLDRDQUE0QztRQUM1QyxrRUFBa0U7UUFDbEUsaUZBQWlGO1FBQ2pGLE1BQU1DLFdBQVd6RCxrQkFBa0IsSUFBSXVELFlBQVlBO1FBQ25ELE1BQU1HLFdBQVcxRCxrQkFBa0IsSUFBSXdELFlBQVlBO1FBRW5ELE1BQU01QyxRQUFRL0IsVUFBVWdDLEtBQUssQ0FBQzRDLFNBQVMsQ0FBQ0MsU0FBUztRQUVqRCwrREFBK0Q7UUFDL0QsTUFBTUMsVUFBVSxDQUFDSixZQUFZQyxTQUFRLElBQUssTUFBTTtRQUNoRCxNQUFNSSxhQUFhM0UsZ0JBQWdCNkIsUUFBUTJDLFlBQVl4RSxnQkFBZ0I4QixRQUFRMkM7UUFDL0UsTUFBTXBCLGNBQWNuRCxXQUFXb0QsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFMUIsR0FBRyxLQUFLMkMsWUFBWWpCLEVBQUV6QixHQUFHLEtBQUsyQztRQUN6RSxNQUFNRyxpQkFBaUI1RCxVQUFVd0MsS0FBSzNCLFFBQVEyQyxZQUFZeEQsVUFBVXdDLEtBQUsxQixRQUFRMkM7UUFDakYsTUFBTUksZUFBZTdELFVBQVV5QyxHQUFHNUIsUUFBUTJDLFlBQVl4RCxVQUFVeUMsR0FBRzNCLFFBQVEyQztRQUMzRSxNQUFNSyxnQkFBZ0JsRixVQUFVbUYsT0FBTyxJQUFJcEQsT0FBT2tCLFNBQVMsT0FBT2xCLE9BQU9KLFVBQVUzQixVQUFVaUIsV0FBVztRQUV4RyxJQUFJbUUsVUFBVU4sVUFBVSxpQkFBaUI7UUFDekMsSUFBSUMsWUFBWUssVUFBVTthQUNyQixJQUFJSixrQkFBa0JDLGNBQWNHLFVBQVVOLFVBQVUsa0JBQWtCO2FBQzFFLElBQUlJLGVBQWVFLFVBQVU7UUFFbEMsd0RBQXdEO1FBQ3hELE1BQU1DLFlBQVlsRSxrQkFBa0J5RCxXQUFXLElBQUksSUFBSUE7UUFDdkQsTUFBTVUsWUFBWXhGLEtBQUssQ0FBQytFLFNBQVM7UUFFakMscUJBQ0UsOERBQUNVO1lBRUNDLFdBQVcsQ0FBQyxtR0FBbUcsRUFBRUosUUFBUSxrQkFBa0IsQ0FBQztZQUM1SUssU0FBUyxJQUFNbEMsa0JBQWtCcUIsVUFBVUM7O2dCQUcxQzlDLHVCQUNDLDhEQUFDMkQ7b0JBQ0NGLFdBQVcsQ0FBQyw2Q0FBNkMsRUFDdkR6RCxNQUFNSixLQUFLLEtBQUssVUFBVSx1REFBdUQsZ0JBQ2xGLENBQUM7OEJBRUR0QyxhQUFhLENBQUMwQyxNQUFNSixLQUFLLENBQUMsQ0FBQ0ksTUFBTWtCLElBQUksQ0FBQzs7Ozs7O2dCQUsxQ1EsZUFBZSxDQUFDMUIsdUJBQ2YsOERBQUN3RDtvQkFBSUMsV0FBVTs7Ozs7O2dCQUVoQi9CLGVBQWUxQix1QkFDZCw4REFBQ3dEO29CQUFJQyxXQUFVOzs7Ozs7Z0JBSWhCYixjQUFjLG1CQUNiLDhEQUFDZTtvQkFBS0YsV0FBVTs4QkFDYkg7Ozs7OztnQkFHSlgsY0FBYyxtQkFDYiw4REFBQ2dCO29CQUFLRixXQUFVOzhCQUNiRjs7Ozs7OztXQS9CQSxDQUFDLEVBQUVaLFVBQVUsQ0FBQyxFQUFFQyxVQUFVLENBQUM7Ozs7O0lBb0N0QztJQUVBLHlCQUF5QjtJQUN6QixNQUFNZ0IsdUJBQXVCLENBQUNDO1FBQzVCLE9BQU9BLE9BQU9DLEdBQUcsQ0FBQyxDQUFDQyxHQUFHN0Isa0JBQ3BCLDhEQUFDeUI7Z0JBQWFGLFdBQVU7MEJBQ3JCbkcsYUFBYSxDQUFDeUcsRUFBRW5FLEtBQUssQ0FBQyxDQUFDbUUsRUFBRTdDLElBQUksQ0FBQztlQUR0QmdCOzs7OztJQUlmO0lBRUEsdUJBQXVCO0lBQ3ZCLE1BQU04QixnQkFBZ0I7UUFDcEIsSUFBSS9GLFVBQVVnRyxXQUFXLEVBQUU7WUFDekIsTUFBTUMsU0FBU2pHLFVBQVVpRyxNQUFNLEtBQUtoRyxXQUFXLFlBQVk7WUFDM0QsT0FBTyxDQUFDLFdBQVcsRUFBRWdHLE9BQU8sQ0FBQztRQUMvQjtRQUNBLElBQUlqRyxVQUFVa0csV0FBVyxFQUFFLE9BQU87UUFDbEMsSUFBSWxHLFVBQVVtRyxNQUFNLEVBQUUsT0FBTyxDQUFDLE9BQU8sRUFBRW5HLFVBQVVvRyxVQUFVLENBQUMsQ0FBQztRQUM3RCxJQUFJcEcsVUFBVWtCLFFBQVEsRUFBRTtZQUN0QixJQUFJbEIsVUFBVWlHLE1BQU0sS0FBS2hHLFVBQVUsT0FBTztZQUMxQyxPQUFPO1FBQ1Q7UUFDQSxJQUFJRCxVQUFVbUYsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFFbkYsVUFBVWlCLFdBQVcsS0FBS0gsVUFBVSxZQUFZLGNBQWMsVUFBVSxDQUFDO1FBQzFHLE9BQU9FLFdBQVcsY0FBYztJQUNsQztJQUVBLHFCQUNFLDhEQUFDdUU7UUFBSUMsV0FBVTs7MEJBRWIsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRTtnQ0FBS0YsV0FBVTswQ0FBWTs7Ozs7OzBDQUM1Qiw4REFBQ0U7Z0NBQUtGLFdBQVU7O29DQUE2QjtvQ0FDL0IxRTs7Ozs7Ozs7Ozs7OztrQ0FHaEIsOERBQUN5RTt3QkFBSUMsV0FBVyxDQUFDLHNDQUFzQyxFQUNyRHhGLFVBQVVrQixRQUFRLEdBQ2QsMkJBQ0FGLFdBQ0UsNEJBQ0EsMkJBQ1AsQ0FBQztrQ0FDQytFOzs7Ozs7Ozs7Ozs7MEJBS0wsOERBQUNSO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDtnQ0FBSUMsV0FBVyxDQUFDLHFCQUFxQixFQUFFMUUsWUFBWSxVQUFVLGdCQUFnQixXQUFXLENBQUM7Ozs7OzswQ0FDMUYsOERBQUM0RTtnQ0FBS0YsV0FBVTswQ0FBcUI7Ozs7Ozs7Ozs7OztrQ0FFdkMsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUNaRyxxQkFBcUJwRSxjQUFjLENBQUNULFFBQVE7Ozs7Ozs7Ozs7OzswQkFLakQsOERBQUN5RTtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ1phLE1BQU0sR0FBR0MsSUFBSSxDQUFDLE1BQU1ULEdBQUcsQ0FBQyxDQUFDVSxHQUFHdEUsTUFDM0JvRSxNQUFNLEdBQUdDLElBQUksQ0FBQyxNQUFNVCxHQUFHLENBQUMsQ0FBQ1UsR0FBR3JFLE1BQVF1QyxhQUFheEMsS0FBS0M7Ozs7Ozs7Ozs7OzBCQU01RCw4REFBQ3FEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDtnQ0FBSUMsV0FBVyxDQUFDLHFCQUFxQixFQUFFMUUsWUFBWSxVQUFVLGFBQWEsY0FBYyxDQUFDOzs7Ozs7MENBQzFGLDhEQUFDNEU7Z0NBQUtGLFdBQVU7MENBQXFCOzs7Ozs7Ozs7Ozs7a0NBRXZDLDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FDWkcscUJBQXFCcEUsY0FBYyxDQUFDVCxZQUFZLFVBQVUsVUFBVSxRQUFROzs7Ozs7Ozs7Ozs7MEJBS2pGLDhEQUFDeUU7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNNO29CQUFFTixXQUFVOzhCQUNWeEIsdUJBQXVCOzs7Ozs7Ozs7OztZQUszQixDQUFDaEUsVUFBVWtCLFFBQVEsa0JBQ2xCLDhEQUFDcUU7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNnQjtvQkFDQ2YsU0FBUyxJQUFNNUUsc0JBQXNCO29CQUNyQzJFLFdBQVU7OEJBQ1g7Ozs7Ozs7Ozs7O1lBT0poRixxQ0FDQyw4REFBQytFO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNpQjs0QkFBR2pCLFdBQVU7c0NBQW9DOzs7Ozs7c0NBQ2xELDhEQUFDRDs0QkFBSUMsV0FBVTtzQ0FDWjtnQ0FBRTtnQ0FBSztnQ0FBSztnQ0FBSzs2QkFBSSxDQUFpQkssR0FBRyxDQUFDNUMsQ0FBQUEscUJBQ3pDLDhEQUFDdUQ7b0NBRUNmLFNBQVMsSUFBTTNCLGdCQUFnQmI7b0NBQy9CdUMsV0FBVTs4Q0FFVG5HLGFBQWEsQ0FBQ3lCLFFBQVEsQ0FBQ21DLEtBQUs7bUNBSnhCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBYWhCckMsb0NBQ0MsOERBQUMyRTtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDaUI7NEJBQUdqQixXQUFVO3NDQUFvQzs7Ozs7O3NDQUNsRCw4REFBQ007NEJBQUVOLFdBQVU7c0NBQXFCOzs7Ozs7c0NBQ2xDLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNnQjtvQ0FDQ2YsU0FBUzt3Q0FDUHRGO3dDQUNBVSxzQkFBc0I7b0NBQ3hCO29DQUNBMkUsV0FBVTs4Q0FDWDs7Ozs7OzhDQUdELDhEQUFDZ0I7b0NBQ0NmLFNBQVMsSUFBTTVFLHNCQUFzQjtvQ0FDckMyRSxXQUFVOzhDQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9tZWdsZS1nYW1lL3dlYi8uL3NyYy9jb21wb25lbnRzL2dhbWVzL0NoZXNzR2FtZS50c3g/N2QxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIFR5cGVzIG1hdGNoaW5nIHRoZSBiYWNrZW5kXG50eXBlIFBpZWNlVHlwZSA9ICdLJyB8ICdRJyB8ICdSJyB8ICdCJyB8ICdOJyB8ICdQJztcbnR5cGUgUGllY2VDb2xvciA9ICd3aGl0ZScgfCAnYmxhY2snO1xuXG5pbnRlcmZhY2UgUGllY2Uge1xuICB0eXBlOiBQaWVjZVR5cGU7XG4gIGNvbG9yOiBQaWVjZUNvbG9yO1xuICBoYXNNb3ZlZDogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFBvc2l0aW9uIHtcbiAgcm93OiBudW1iZXI7XG4gIGNvbDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQ2hlc3NNb3ZlIHtcbiAgZnJvbTogUG9zaXRpb247XG4gIHRvOiBQb3NpdGlvbjtcbiAgcGllY2U6IFBpZWNlO1xuICBjYXB0dXJlZFBpZWNlPzogUGllY2U7XG4gIGlzQ2hlY2s/OiBib29sZWFuO1xuICBpc0NoZWNrbWF0ZT86IGJvb2xlYW47XG4gIGlzQ2FzdGxpbmc/OiAna2luZ3NpZGUnIHwgJ3F1ZWVuc2lkZSc7XG4gIGlzRW5QYXNzYW50PzogYm9vbGVhbjtcbiAgcHJvbW90aW9uUGllY2U/OiBQaWVjZVR5cGU7XG4gIG5vdGF0aW9uOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBDaGVzc1N0YXRlIHtcbiAgYm9hcmQ6IChQaWVjZSB8IG51bGwpW11bXTtcbiAgY3VycmVudFR1cm46IFBpZWNlQ29sb3I7XG4gIHBsYXllcldoaXRlOiBzdHJpbmc7XG4gIHBsYXllckJsYWNrOiBzdHJpbmc7XG4gIG1vdmVIaXN0b3J5OiBDaGVzc01vdmVbXTtcbiAgaXNDaGVjazogYm9vbGVhbjtcbiAgaXNDaGVja21hdGU6IGJvb2xlYW47XG4gIGlzU3RhbGVtYXRlOiBib29sZWFuO1xuICBpc0RyYXc6IGJvb2xlYW47XG4gIGRyYXdSZWFzb24/OiBzdHJpbmc7XG4gIHdpbm5lcj86IHN0cmluZyB8IG51bGw7XG4gIGdhbWVPdmVyOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgQ2hlc3NHYW1lUHJvcHMge1xuICBnYW1lU3RhdGU6IENoZXNzU3RhdGU7XG4gIG9kVXNlcklkOiBzdHJpbmc7XG4gIG9uTW92ZTogKGZyb206IFBvc2l0aW9uLCB0bzogUG9zaXRpb24sIHByb21vdGlvblBpZWNlPzogUGllY2VUeXBlKSA9PiB2b2lkO1xuICBvbkZvcmZlaXQ6ICgpID0+IHZvaWQ7XG59XG5cbi8vIFVuaWNvZGUgY2hlc3MgcGllY2VzXG5jb25zdCBQSUVDRV9VTklDT0RFOiBSZWNvcmQ8UGllY2VDb2xvciwgUmVjb3JkPFBpZWNlVHlwZSwgc3RyaW5nPj4gPSB7XG4gIHdoaXRlOiB7IEs6ICfimZQnLCBROiAn4pmVJywgUjogJ+KZlicsIEI6ICfimZcnLCBOOiAn4pmYJywgUDogJ+KZmScgfSxcbiAgYmxhY2s6IHsgSzogJ+KZmicsIFE6ICfimZsnLCBSOiAn4pmcJywgQjogJ+KZnScsIE46ICfimZ4nLCBQOiAn4pmfJyB9LFxufTtcblxuY29uc3QgRklMRVMgPSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJywgJ2cnLCAnaCddO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGVzc0dhbWUoeyBnYW1lU3RhdGUsIG9kVXNlcklkLCBvbk1vdmUsIG9uRm9yZmVpdCB9OiBDaGVzc0dhbWVQcm9wcykge1xuICBjb25zdCBbc2VsZWN0ZWRTcXVhcmUsIHNldFNlbGVjdGVkU3F1YXJlXSA9IHVzZVN0YXRlPFBvc2l0aW9uIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt2YWxpZE1vdmVzLCBzZXRWYWxpZE1vdmVzXSA9IHVzZVN0YXRlPFBvc2l0aW9uW10+KFtdKTtcbiAgY29uc3QgW3Nob3dQcm9tb3Rpb25EaWFsb2csIHNldFNob3dQcm9tb3Rpb25EaWFsb2ddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGVuZGluZ1Byb21vdGlvbiwgc2V0UGVuZGluZ1Byb21vdGlvbl0gPSB1c2VTdGF0ZTx7IGZyb206IFBvc2l0aW9uOyB0bzogUG9zaXRpb24gfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd0ZvcmZlaXRDb25maXJtLCBzZXRTaG93Rm9yZmVpdENvbmZpcm1dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIERldGVybWluZSBwbGF5ZXIgY29sb3IgYW5kIHR1cm5cbiAgY29uc3QgbXlDb2xvcjogUGllY2VDb2xvciA9IGdhbWVTdGF0ZS5wbGF5ZXJXaGl0ZSA9PT0gb2RVc2VySWQgPyAnd2hpdGUnIDogJ2JsYWNrJztcbiAgY29uc3QgaXNNeVR1cm4gPSBnYW1lU3RhdGUuY3VycmVudFR1cm4gPT09IG15Q29sb3IgJiYgIWdhbWVTdGF0ZS5nYW1lT3ZlcjtcbiAgY29uc3Qgc2hvdWxkRmxpcEJvYXJkID0gbXlDb2xvciA9PT0gJ2JsYWNrJztcblxuICAvLyBHZXQgbGFzdCBtb3ZlIGZvciBoaWdobGlnaHRpbmdcbiAgY29uc3QgbGFzdE1vdmUgPSBnYW1lU3RhdGUubW92ZUhpc3RvcnkubGVuZ3RoID4gMCBcbiAgICA/IGdhbWVTdGF0ZS5tb3ZlSGlzdG9yeVtnYW1lU3RhdGUubW92ZUhpc3RvcnkubGVuZ3RoIC0gMV0gXG4gICAgOiBudWxsO1xuXG4gIC8vIENhbGN1bGF0ZSBjYXB0dXJlZCBwaWVjZXNcbiAgY29uc3QgY2FwdHVyZWRQaWVjZXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBjYXB0dXJlZDogeyB3aGl0ZTogUGllY2VbXTsgYmxhY2s6IFBpZWNlW10gfSA9IHsgd2hpdGU6IFtdLCBibGFjazogW10gfTtcbiAgICBmb3IgKGNvbnN0IG1vdmUgb2YgZ2FtZVN0YXRlLm1vdmVIaXN0b3J5KSB7XG4gICAgICBpZiAobW92ZS5jYXB0dXJlZFBpZWNlKSB7XG4gICAgICAgIGlmIChtb3ZlLmNhcHR1cmVkUGllY2UuY29sb3IgPT09ICd3aGl0ZScpIHtcbiAgICAgICAgICBjYXB0dXJlZC53aGl0ZS5wdXNoKG1vdmUuY2FwdHVyZWRQaWVjZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FwdHVyZWQuYmxhY2sucHVzaChtb3ZlLmNhcHR1cmVkUGllY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYXB0dXJlZDtcbiAgfSwgW2dhbWVTdGF0ZS5tb3ZlSGlzdG9yeV0pO1xuXG4gIC8vIFNpbXBsZSB2YWxpZCBtb3ZlIGNhbGN1bGF0aW9uIChmcm9udGVuZCB2YWxpZGF0aW9uKVxuICBjb25zdCBjYWxjdWxhdGVWYWxpZE1vdmVzID0gdXNlQ2FsbGJhY2soKHBvczogUG9zaXRpb24pOiBQb3NpdGlvbltdID0+IHtcbiAgICBjb25zdCBwaWVjZSA9IGdhbWVTdGF0ZS5ib2FyZFtwb3Mucm93XVtwb3MuY29sXTtcbiAgICBpZiAoIXBpZWNlIHx8IHBpZWNlLmNvbG9yICE9PSBteUNvbG9yKSByZXR1cm4gW107XG4gICAgXG4gICAgY29uc3QgbW92ZXM6IFBvc2l0aW9uW10gPSBbXTtcbiAgICBjb25zdCBkaXJlY3Rpb25zID0ge1xuICAgICAgcm9vazogW1stMSwgMF0sIFsxLCAwXSwgWzAsIC0xXSwgWzAsIDFdXSxcbiAgICAgIGJpc2hvcDogW1stMSwgLTFdLCBbLTEsIDFdLCBbMSwgLTFdLCBbMSwgMV1dLFxuICAgICAga25pZ2h0OiBbWy0yLCAtMV0sIFstMiwgMV0sIFstMSwgLTJdLCBbLTEsIDJdLCBbMSwgLTJdLCBbMSwgMl0sIFsyLCAtMV0sIFsyLCAxXV0sXG4gICAgICBraW5nOiBbWy0xLCAtMV0sIFstMSwgMF0sIFstMSwgMV0sIFswLCAtMV0sIFswLCAxXSwgWzEsIC0xXSwgWzEsIDBdLCBbMSwgMV1dLFxuICAgIH07XG5cbiAgICBjb25zdCBhZGRTbGlkaW5nTW92ZXMgPSAoZGlyczogbnVtYmVyW11bXSkgPT4ge1xuICAgICAgZm9yIChjb25zdCBbZHIsIGRjXSBvZiBkaXJzKSB7XG4gICAgICAgIGxldCByID0gcG9zLnJvdyArIGRyO1xuICAgICAgICBsZXQgYyA9IHBvcy5jb2wgKyBkYztcbiAgICAgICAgd2hpbGUgKHIgPj0gMCAmJiByIDwgOCAmJiBjID49IDAgJiYgYyA8IDgpIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBnYW1lU3RhdGUuYm9hcmRbcl1bY107XG4gICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIG1vdmVzLnB1c2goeyByb3c6IHIsIGNvbDogYyB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRhcmdldC5jb2xvciAhPT0gcGllY2UuY29sb3IpIHtcbiAgICAgICAgICAgICAgbW92ZXMucHVzaCh7IHJvdzogciwgY29sOiBjIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHIgKz0gZHI7XG4gICAgICAgICAgYyArPSBkYztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhZGRTaW5nbGVNb3ZlcyA9IChkaXJzOiBudW1iZXJbXVtdKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtkciwgZGNdIG9mIGRpcnMpIHtcbiAgICAgICAgY29uc3QgciA9IHBvcy5yb3cgKyBkcjtcbiAgICAgICAgY29uc3QgYyA9IHBvcy5jb2wgKyBkYztcbiAgICAgICAgaWYgKHIgPj0gMCAmJiByIDwgOCAmJiBjID49IDAgJiYgYyA8IDgpIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBnYW1lU3RhdGUuYm9hcmRbcl1bY107XG4gICAgICAgICAgaWYgKCF0YXJnZXQgfHwgdGFyZ2V0LmNvbG9yICE9PSBwaWVjZS5jb2xvcikge1xuICAgICAgICAgICAgbW92ZXMucHVzaCh7IHJvdzogciwgY29sOiBjIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBzd2l0Y2ggKHBpZWNlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ1AnOiB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHBpZWNlLmNvbG9yID09PSAnd2hpdGUnID8gLTEgOiAxO1xuICAgICAgICBjb25zdCBzdGFydFJvdyA9IHBpZWNlLmNvbG9yID09PSAnd2hpdGUnID8gNiA6IDE7XG4gICAgICAgIC8vIEZvcndhcmRcbiAgICAgICAgY29uc3Qgb25lRm9yd2FyZCA9IHsgcm93OiBwb3Mucm93ICsgZGlyZWN0aW9uLCBjb2w6IHBvcy5jb2wgfTtcbiAgICAgICAgaWYgKG9uZUZvcndhcmQucm93ID49IDAgJiYgb25lRm9yd2FyZC5yb3cgPCA4ICYmICFnYW1lU3RhdGUuYm9hcmRbb25lRm9yd2FyZC5yb3ddW29uZUZvcndhcmQuY29sXSkge1xuICAgICAgICAgIG1vdmVzLnB1c2gob25lRm9yd2FyZCk7XG4gICAgICAgICAgLy8gVHdvIGZvcndhcmQgZnJvbSBzdGFydFxuICAgICAgICAgIGlmIChwb3Mucm93ID09PSBzdGFydFJvdykge1xuICAgICAgICAgICAgY29uc3QgdHdvRm9yd2FyZCA9IHsgcm93OiBwb3Mucm93ICsgMiAqIGRpcmVjdGlvbiwgY29sOiBwb3MuY29sIH07XG4gICAgICAgICAgICBpZiAoIWdhbWVTdGF0ZS5ib2FyZFt0d29Gb3J3YXJkLnJvd11bdHdvRm9yd2FyZC5jb2xdKSB7XG4gICAgICAgICAgICAgIG1vdmVzLnB1c2godHdvRm9yd2FyZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENhcHR1cmVzXG4gICAgICAgIGZvciAoY29uc3QgZGMgb2YgWy0xLCAxXSkge1xuICAgICAgICAgIGNvbnN0IHIgPSBwb3Mucm93ICsgZGlyZWN0aW9uO1xuICAgICAgICAgIGNvbnN0IGMgPSBwb3MuY29sICsgZGM7XG4gICAgICAgICAgaWYgKHIgPj0gMCAmJiByIDwgOCAmJiBjID49IDAgJiYgYyA8IDgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGdhbWVTdGF0ZS5ib2FyZFtyXVtjXTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmNvbG9yICE9PSBwaWVjZS5jb2xvcikge1xuICAgICAgICAgICAgICBtb3Zlcy5wdXNoKHsgcm93OiByLCBjb2w6IGMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnTic6XG4gICAgICAgIGFkZFNpbmdsZU1vdmVzKGRpcmVjdGlvbnMua25pZ2h0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdCJzpcbiAgICAgICAgYWRkU2xpZGluZ01vdmVzKGRpcmVjdGlvbnMuYmlzaG9wKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdSJzpcbiAgICAgICAgYWRkU2xpZGluZ01vdmVzKGRpcmVjdGlvbnMucm9vayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnUSc6XG4gICAgICAgIGFkZFNsaWRpbmdNb3ZlcyhbLi4uZGlyZWN0aW9ucy5yb29rLCAuLi5kaXJlY3Rpb25zLmJpc2hvcF0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0snOlxuICAgICAgICBhZGRTaW5nbGVNb3ZlcyhkaXJlY3Rpb25zLmtpbmcpO1xuICAgICAgICAvLyBDYXN0bGluZyAoc2ltcGxpZmllZCBjaGVjaylcbiAgICAgICAgaWYgKCFwaWVjZS5oYXNNb3ZlZCkge1xuICAgICAgICAgIC8vIEtpbmdzaWRlXG4gICAgICAgICAgaWYgKCFnYW1lU3RhdGUuYm9hcmRbcG9zLnJvd11bNV0gJiYgIWdhbWVTdGF0ZS5ib2FyZFtwb3Mucm93XVs2XSkge1xuICAgICAgICAgICAgY29uc3Qgcm9vayA9IGdhbWVTdGF0ZS5ib2FyZFtwb3Mucm93XVs3XTtcbiAgICAgICAgICAgIGlmIChyb29rICYmIHJvb2sudHlwZSA9PT0gJ1InICYmICFyb29rLmhhc01vdmVkKSB7XG4gICAgICAgICAgICAgIG1vdmVzLnB1c2goeyByb3c6IHBvcy5yb3csIGNvbDogNiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUXVlZW5zaWRlXG4gICAgICAgICAgaWYgKCFnYW1lU3RhdGUuYm9hcmRbcG9zLnJvd11bMV0gJiYgIWdhbWVTdGF0ZS5ib2FyZFtwb3Mucm93XVsyXSAmJiAhZ2FtZVN0YXRlLmJvYXJkW3Bvcy5yb3ddWzNdKSB7XG4gICAgICAgICAgICBjb25zdCByb29rID0gZ2FtZVN0YXRlLmJvYXJkW3Bvcy5yb3ddWzBdO1xuICAgICAgICAgICAgaWYgKHJvb2sgJiYgcm9vay50eXBlID09PSAnUicgJiYgIXJvb2suaGFzTW92ZWQpIHtcbiAgICAgICAgICAgICAgbW92ZXMucHVzaCh7IHJvdzogcG9zLnJvdywgY29sOiAyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gbW92ZXM7XG4gIH0sIFtnYW1lU3RhdGUuYm9hcmQsIG15Q29sb3JdKTtcblxuICAvLyBIYW5kbGUgc3F1YXJlIGNsaWNrXG4gIGNvbnN0IGhhbmRsZVNxdWFyZUNsaWNrID0gKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcikgPT4ge1xuICAgIGlmIChnYW1lU3RhdGUuZ2FtZU92ZXIpIHJldHVybjtcbiAgICBpZiAoIWlzTXlUdXJuKSByZXR1cm47XG5cbiAgICBjb25zdCBjbGlja2VkUGllY2UgPSBnYW1lU3RhdGUuYm9hcmRbcm93XVtjb2xdO1xuXG4gICAgaWYgKHNlbGVjdGVkU3F1YXJlKSB7XG4gICAgICAvLyBDaGVjayBpZiBjbGlja2luZyBvbiBhIHZhbGlkIG1vdmUgZGVzdGluYXRpb25cbiAgICAgIGNvbnN0IGlzVmFsaWRNb3ZlID0gdmFsaWRNb3Zlcy5zb21lKG0gPT4gbS5yb3cgPT09IHJvdyAmJiBtLmNvbCA9PT0gY29sKTtcbiAgICAgIFxuICAgICAgaWYgKGlzVmFsaWRNb3ZlKSB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gZ2FtZVN0YXRlLmJvYXJkW3NlbGVjdGVkU3F1YXJlLnJvd11bc2VsZWN0ZWRTcXVhcmUuY29sXTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHBhd24gcHJvbW90aW9uXG4gICAgICAgIGlmIChwaWVjZT8udHlwZSA9PT0gJ1AnICYmICgobXlDb2xvciA9PT0gJ3doaXRlJyAmJiByb3cgPT09IDApIHx8IChteUNvbG9yID09PSAnYmxhY2snICYmIHJvdyA9PT0gNykpKSB7XG4gICAgICAgICAgc2V0UGVuZGluZ1Byb21vdGlvbih7IGZyb206IHNlbGVjdGVkU3F1YXJlLCB0bzogeyByb3csIGNvbCB9IH0pO1xuICAgICAgICAgIHNldFNob3dQcm9tb3Rpb25EaWFsb2codHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25Nb3ZlKHNlbGVjdGVkU3F1YXJlLCB7IHJvdywgY29sIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNldFNlbGVjdGVkU3F1YXJlKG51bGwpO1xuICAgICAgICBzZXRWYWxpZE1vdmVzKFtdKTtcbiAgICAgIH0gZWxzZSBpZiAoY2xpY2tlZFBpZWNlICYmIGNsaWNrZWRQaWVjZS5jb2xvciA9PT0gbXlDb2xvcikge1xuICAgICAgICAvLyBTZWxlY3QgYSBkaWZmZXJlbnQgcGllY2VcbiAgICAgICAgc2V0U2VsZWN0ZWRTcXVhcmUoeyByb3csIGNvbCB9KTtcbiAgICAgICAgc2V0VmFsaWRNb3ZlcyhjYWxjdWxhdGVWYWxpZE1vdmVzKHsgcm93LCBjb2wgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGVzZWxlY3RcbiAgICAgICAgc2V0U2VsZWN0ZWRTcXVhcmUobnVsbCk7XG4gICAgICAgIHNldFZhbGlkTW92ZXMoW10pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTZWxlY3QgYSBwaWVjZVxuICAgICAgaWYgKGNsaWNrZWRQaWVjZSAmJiBjbGlja2VkUGllY2UuY29sb3IgPT09IG15Q29sb3IpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRTcXVhcmUoeyByb3csIGNvbCB9KTtcbiAgICAgICAgc2V0VmFsaWRNb3ZlcyhjYWxjdWxhdGVWYWxpZE1vdmVzKHsgcm93LCBjb2wgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBIYW5kbGUgcHJvbW90aW9uIHNlbGVjdGlvblxuICBjb25zdCBoYW5kbGVQcm9tb3Rpb24gPSAocGllY2VUeXBlOiBQaWVjZVR5cGUpID0+IHtcbiAgICBpZiAocGVuZGluZ1Byb21vdGlvbikge1xuICAgICAgb25Nb3ZlKHBlbmRpbmdQcm9tb3Rpb24uZnJvbSwgcGVuZGluZ1Byb21vdGlvbi50bywgcGllY2VUeXBlKTtcbiAgICB9XG4gICAgc2V0U2hvd1Byb21vdGlvbkRpYWxvZyhmYWxzZSk7XG4gICAgc2V0UGVuZGluZ1Byb21vdGlvbihudWxsKTtcbiAgICBzZXRTZWxlY3RlZFNxdWFyZShudWxsKTtcbiAgICBzZXRWYWxpZE1vdmVzKFtdKTtcbiAgfTtcblxuICAvLyBGb3JtYXQgbW92ZSBoaXN0b3J5XG4gIGNvbnN0IGZvcm1hdE1vdmVIaXN0b3J5ID0gKCkgPT4ge1xuICAgIGNvbnN0IG1vdmVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZVN0YXRlLm1vdmVIaXN0b3J5Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBjb25zdCBtb3ZlTnVtID0gTWF0aC5mbG9vcihpIC8gMikgKyAxO1xuICAgICAgY29uc3Qgd2hpdGVNb3ZlID0gZ2FtZVN0YXRlLm1vdmVIaXN0b3J5W2ldPy5ub3RhdGlvbiB8fCAnJztcbiAgICAgIGNvbnN0IGJsYWNrTW92ZSA9IGdhbWVTdGF0ZS5tb3ZlSGlzdG9yeVtpICsgMV0/Lm5vdGF0aW9uIHx8ICcnO1xuICAgICAgbW92ZXMucHVzaChgJHttb3ZlTnVtfS4gJHt3aGl0ZU1vdmV9ICR7YmxhY2tNb3ZlfWApO1xuICAgIH1cbiAgICByZXR1cm4gbW92ZXMuam9pbignICAnKTtcbiAgfTtcblxuICAvLyBSZW5kZXIgYSBzcXVhcmVcbiAgLy8gdmlzdWFsUm93L3Zpc3VhbENvbDogcG9zaXRpb24gb24gc2NyZWVuICgwID0gdG9wLWxlZnQpXG4gIC8vIGJvYXJkUm93L2JvYXJkQ29sOiBhY3R1YWwgcG9zaXRpb24gaW4gdGhlIGdhbWUgc3RhdGUgYXJyYXlcbiAgY29uc3QgcmVuZGVyU3F1YXJlID0gKHZpc3VhbFJvdzogbnVtYmVyLCB2aXN1YWxDb2w6IG51bWJlcikgPT4ge1xuICAgIC8vIENvbnZlcnQgdmlzdWFsIHBvc2l0aW9uIHRvIGJvYXJkIHBvc2l0aW9uXG4gICAgLy8gRm9yIHdoaXRlOiB2aXN1YWwgdG9wIChyb3cgMCkgPSBib2FyZCByb3cgMCAoYmxhY2sncyBiYWNrIHJhbmspXG4gICAgLy8gRm9yIGJsYWNrOiB2aXN1YWwgdG9wIChyb3cgMCkgPSBib2FyZCByb3cgNyAod2hpdGUncyBiYWNrIHJhbmspIC0gbmVlZCB0byBmbGlwXG4gICAgY29uc3QgYm9hcmRSb3cgPSBzaG91bGRGbGlwQm9hcmQgPyA3IC0gdmlzdWFsUm93IDogdmlzdWFsUm93O1xuICAgIGNvbnN0IGJvYXJkQ29sID0gc2hvdWxkRmxpcEJvYXJkID8gNyAtIHZpc3VhbENvbCA6IHZpc3VhbENvbDtcblxuICAgIGNvbnN0IHBpZWNlID0gZ2FtZVN0YXRlLmJvYXJkW2JvYXJkUm93XVtib2FyZENvbF07XG4gICAgXG4gICAgLy8gU3F1YXJlIGNvbG9yIGlzIGJhc2VkIG9uIHZpc3VhbCBwb3NpdGlvbiBmb3IgY29uc2lzdGVudCBsb29rXG4gICAgY29uc3QgaXNMaWdodCA9ICh2aXN1YWxSb3cgKyB2aXN1YWxDb2wpICUgMiA9PT0gMDtcbiAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWRTcXVhcmU/LnJvdyA9PT0gYm9hcmRSb3cgJiYgc2VsZWN0ZWRTcXVhcmU/LmNvbCA9PT0gYm9hcmRDb2w7XG4gICAgY29uc3QgaXNWYWxpZE1vdmUgPSB2YWxpZE1vdmVzLnNvbWUobSA9PiBtLnJvdyA9PT0gYm9hcmRSb3cgJiYgbS5jb2wgPT09IGJvYXJkQ29sKTtcbiAgICBjb25zdCBpc0xhc3RNb3ZlRnJvbSA9IGxhc3RNb3ZlPy5mcm9tLnJvdyA9PT0gYm9hcmRSb3cgJiYgbGFzdE1vdmU/LmZyb20uY29sID09PSBib2FyZENvbDtcbiAgICBjb25zdCBpc0xhc3RNb3ZlVG8gPSBsYXN0TW92ZT8udG8ucm93ID09PSBib2FyZFJvdyAmJiBsYXN0TW92ZT8udG8uY29sID09PSBib2FyZENvbDtcbiAgICBjb25zdCBpc0tpbmdJbkNoZWNrID0gZ2FtZVN0YXRlLmlzQ2hlY2sgJiYgcGllY2U/LnR5cGUgPT09ICdLJyAmJiBwaWVjZT8uY29sb3IgPT09IGdhbWVTdGF0ZS5jdXJyZW50VHVybjtcblxuICAgIGxldCBiZ0NvbG9yID0gaXNMaWdodCA/ICdiZy1hbWJlci0xMDAnIDogJ2JnLWFtYmVyLTcwMCc7XG4gICAgaWYgKGlzU2VsZWN0ZWQpIGJnQ29sb3IgPSAnYmcteWVsbG93LTQwMCc7XG4gICAgZWxzZSBpZiAoaXNMYXN0TW92ZUZyb20gfHwgaXNMYXN0TW92ZVRvKSBiZ0NvbG9yID0gaXNMaWdodCA/ICdiZy15ZWxsb3ctMjAwJyA6ICdiZy15ZWxsb3ctNjAwJztcbiAgICBlbHNlIGlmIChpc0tpbmdJbkNoZWNrKSBiZ0NvbG9yID0gJ2JnLXJlZC01MDAnO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHJhbmsvZmlsZSBsYWJlbHMgYmFzZWQgb24gYm9hcmQgb3JpZW50YXRpb25cbiAgICBjb25zdCByYW5rTGFiZWwgPSBzaG91bGRGbGlwQm9hcmQgPyBib2FyZFJvdyArIDEgOiA4IC0gYm9hcmRSb3c7XG4gICAgY29uc3QgZmlsZUxhYmVsID0gRklMRVNbYm9hcmRDb2xdO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAga2V5PXtgJHt2aXN1YWxSb3d9LSR7dmlzdWFsQ29sfWB9XG4gICAgICAgIGNsYXNzTmFtZT17YHJlbGF0aXZlIHctMTAgaC0xMCBzbTp3LTEyIHNtOmgtMTIgbWQ6dy0xNCBtZDpoLTE0IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGN1cnNvci1wb2ludGVyICR7YmdDb2xvcn0gdHJhbnNpdGlvbi1jb2xvcnNgfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTcXVhcmVDbGljayhib2FyZFJvdywgYm9hcmRDb2wpfVxuICAgICAgPlxuICAgICAgICB7LyogUGllY2UgKi99XG4gICAgICAgIHtwaWVjZSAmJiAoXG4gICAgICAgICAgPHNwYW4gXG4gICAgICAgICAgICBjbGFzc05hbWU9e2B0ZXh0LTJ4bCBzbTp0ZXh0LTN4bCBtZDp0ZXh0LTR4bCBzZWxlY3Qtbm9uZSAke1xuICAgICAgICAgICAgICBwaWVjZS5jb2xvciA9PT0gJ3doaXRlJyA/ICd0ZXh0LXdoaXRlIGRyb3Atc2hhZG93LVswXzFweF8ycHhfcmdiYSgwLDAsMCwwLjgpXScgOiAndGV4dC1ncmF5LTkwMCdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtQSUVDRV9VTklDT0RFW3BpZWNlLmNvbG9yXVtwaWVjZS50eXBlXX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFZhbGlkIG1vdmUgaW5kaWNhdG9yICovfVxuICAgICAgICB7aXNWYWxpZE1vdmUgJiYgIXBpZWNlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHctMyBoLTMgcm91bmRlZC1mdWxsIGJnLWdyZWVuLTUwMCBvcGFjaXR5LTYwXCIgLz5cbiAgICAgICAgKX1cbiAgICAgICAge2lzVmFsaWRNb3ZlICYmIHBpZWNlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYm9yZGVyLTQgYm9yZGVyLXJlZC01MDAgb3BhY2l0eS02MCByb3VuZGVkLXNtXCIgLz5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogQ29vcmRpbmF0ZXMgLSBzaG93IHJhbmsgb24gbGVmdCBlZGdlLCBmaWxlIG9uIGJvdHRvbSBlZGdlICovfVxuICAgICAgICB7dmlzdWFsQ29sID09PSAwICYmIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTAuNSB0b3AtMC41IHRleHQtWzEwcHhdIGZvbnQtYm9sZCB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICB7cmFua0xhYmVsfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgICAge3Zpc3VhbFJvdyA9PT0gNyAmJiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMC41IGJvdHRvbS0wIHRleHQtWzEwcHhdIGZvbnQtYm9sZCB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICB7ZmlsZUxhYmVsfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgLy8gUmVuZGVyIGNhcHR1cmVkIHBpZWNlc1xuICBjb25zdCByZW5kZXJDYXB0dXJlZFBpZWNlcyA9IChwaWVjZXM6IFBpZWNlW10pID0+IHtcbiAgICByZXR1cm4gcGllY2VzLm1hcCgocCwgaSkgPT4gKFxuICAgICAgPHNwYW4ga2V5PXtpfSBjbGFzc05hbWU9XCJ0ZXh0LWxnXCI+XG4gICAgICAgIHtQSUVDRV9VTklDT0RFW3AuY29sb3JdW3AudHlwZV19XG4gICAgICA8L3NwYW4+XG4gICAgKSk7XG4gIH07XG5cbiAgLy8gR2V0IGdhbWUgc3RhdHVzIHRleHRcbiAgY29uc3QgZ2V0U3RhdHVzVGV4dCA9ICgpID0+IHtcbiAgICBpZiAoZ2FtZVN0YXRlLmlzQ2hlY2ttYXRlKSB7XG4gICAgICBjb25zdCB3aW5uZXIgPSBnYW1lU3RhdGUud2lubmVyID09PSBvZFVzZXJJZCA/ICdZb3Ugd2luJyA6ICdZb3UgbG9zZSc7XG4gICAgICByZXR1cm4gYENoZWNrbWF0ZSEgJHt3aW5uZXJ9YDtcbiAgICB9XG4gICAgaWYgKGdhbWVTdGF0ZS5pc1N0YWxlbWF0ZSkgcmV0dXJuICdTdGFsZW1hdGUgLSBEcmF3ISc7XG4gICAgaWYgKGdhbWVTdGF0ZS5pc0RyYXcpIHJldHVybiBgRHJhdyAtICR7Z2FtZVN0YXRlLmRyYXdSZWFzb259YDtcbiAgICBpZiAoZ2FtZVN0YXRlLmdhbWVPdmVyKSB7XG4gICAgICBpZiAoZ2FtZVN0YXRlLndpbm5lciA9PT0gb2RVc2VySWQpIHJldHVybiAnWW91IHdpbiEnO1xuICAgICAgcmV0dXJuICdZb3UgbG9zZSEnO1xuICAgIH1cbiAgICBpZiAoZ2FtZVN0YXRlLmlzQ2hlY2spIHJldHVybiBgJHtnYW1lU3RhdGUuY3VycmVudFR1cm4gPT09IG15Q29sb3IgPyAnWW91IGFyZScgOiAnT3Bwb25lbnQgaXMnfSBpbiBjaGVjayFgO1xuICAgIHJldHVybiBpc015VHVybiA/ICdZb3VyIHR1cm4nIDogXCJPcHBvbmVudCdzIHR1cm5cIjtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTQgcC00IGJnLWdyYXktOTAwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci13aGl0ZS8yMFwiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBtYXgtdy1tZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGRcIj5DaGVzczwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtc20gdGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgUGxheWluZyBhcyB7bXlDb2xvcn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHB4LTMgcHktMSByb3VuZGVkIHRleHQtc20gZm9udC1tZWRpdW0gJHtcbiAgICAgICAgICBnYW1lU3RhdGUuZ2FtZU92ZXIgXG4gICAgICAgICAgICA/ICdiZy1ncmF5LTYwMCB0ZXh0LXdoaXRlJyBcbiAgICAgICAgICAgIDogaXNNeVR1cm4gXG4gICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlJyBcbiAgICAgICAgICAgICAgOiAnYmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrJ1xuICAgICAgICB9YH0+XG4gICAgICAgICAge2dldFN0YXR1c1RleHQoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIE9wcG9uZW50IGluZm8gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgbWF4LXctbWQgYmctZ3JheS04MDAgcHgtMyBweS0yIHJvdW5kZWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0zIGgtMyByb3VuZGVkLWZ1bGwgJHtteUNvbG9yID09PSAnd2hpdGUnID8gJ2JnLWdyYXktOTAwJyA6ICdiZy13aGl0ZSd9YH0gLz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc21cIj5PcHBvbmVudDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMVwiPlxuICAgICAgICAgIHtyZW5kZXJDYXB0dXJlZFBpZWNlcyhjYXB0dXJlZFBpZWNlc1tteUNvbG9yXSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBDaGVzcyBCb2FyZCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLTQgYm9yZGVyLWFtYmVyLTkwMCByb3VuZGVkIHNoYWRvdy0yeGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy04XCI+XG4gICAgICAgICAge0FycmF5KDgpLmZpbGwobnVsbCkubWFwKChfLCByb3cpID0+XG4gICAgICAgICAgICBBcnJheSg4KS5maWxsKG51bGwpLm1hcCgoXywgY29sKSA9PiByZW5kZXJTcXVhcmUocm93LCBjb2wpKVxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBQbGF5ZXIgaW5mbyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBtYXgtdy1tZCBiZy1ncmF5LTgwMCBweC0zIHB5LTIgcm91bmRlZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTMgaC0zIHJvdW5kZWQtZnVsbCAke215Q29sb3IgPT09ICd3aGl0ZScgPyAnYmctd2hpdGUnIDogJ2JnLWdyYXktOTAwJ31gfSAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1zbVwiPllvdTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMVwiPlxuICAgICAgICAgIHtyZW5kZXJDYXB0dXJlZFBpZWNlcyhjYXB0dXJlZFBpZWNlc1tteUNvbG9yID09PSAnd2hpdGUnID8gJ2JsYWNrJyA6ICd3aGl0ZSddKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIE1vdmUgaGlzdG9yeSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LW1kIGJnLWdyYXktODAwIHAtMiByb3VuZGVkIG1heC1oLTIwIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgZm9udC1tb25vXCI+XG4gICAgICAgICAge2Zvcm1hdE1vdmVIaXN0b3J5KCkgfHwgJ0dhbWUgc3RhcnRlZCd9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQ29udHJvbHMgKi99XG4gICAgICB7IWdhbWVTdGF0ZS5nYW1lT3ZlciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dGb3JmZWl0Q29uZmlybSh0cnVlKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1yZWQtNjAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1yZWQtNzAwIHRleHQtc21cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFJlc2lnblxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBQcm9tb3Rpb24gRGlhbG9nICovfVxuICAgICAge3Nob3dQcm9tb3Rpb25EaWFsb2cgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svNzAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC02IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci13aGl0ZS8zMFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1sZyBmb250LWJvbGQgbWItNFwiPkNob29zZSBwcm9tb3Rpb24gcGllY2U8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC00XCI+XG4gICAgICAgICAgICAgIHsoWydRJywgJ1InLCAnQicsICdOJ10gYXMgUGllY2VUeXBlW10pLm1hcCh0eXBlID0+IChcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBrZXk9e3R5cGV9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVQcm9tb3Rpb24odHlwZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgYmctYW1iZXItMTAwIHJvdW5kZWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC00eGwgaG92ZXI6YmctYW1iZXItMjAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7UElFQ0VfVU5JQ09ERVtteUNvbG9yXVt0eXBlXX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogRm9yZmVpdCBDb25maXJtYXRpb24gKi99XG4gICAgICB7c2hvd0ZvcmZlaXRDb25maXJtICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrLzcwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotNTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHAtNiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMzBcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtbGcgZm9udC1ib2xkIG1iLTRcIj5SZXNpZ24gZ2FtZT88L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCBtYi00XCI+VGhpcyB3aWxsIGNvdW50IGFzIGEgbG9zcy48L3A+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTRcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIG9uRm9yZmVpdCgpO1xuICAgICAgICAgICAgICAgICAgc2V0U2hvd0ZvcmZlaXRDb25maXJtKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1yZWQtNjAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1yZWQtNzAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJlc2lnblxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dGb3JmZWl0Q29uZmlybShmYWxzZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWdyYXktNjAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VNZW1vIiwidXNlQ2FsbGJhY2siLCJQSUVDRV9VTklDT0RFIiwid2hpdGUiLCJLIiwiUSIsIlIiLCJCIiwiTiIsIlAiLCJibGFjayIsIkZJTEVTIiwiQ2hlc3NHYW1lIiwiZ2FtZVN0YXRlIiwib2RVc2VySWQiLCJvbk1vdmUiLCJvbkZvcmZlaXQiLCJzZWxlY3RlZFNxdWFyZSIsInNldFNlbGVjdGVkU3F1YXJlIiwidmFsaWRNb3ZlcyIsInNldFZhbGlkTW92ZXMiLCJzaG93UHJvbW90aW9uRGlhbG9nIiwic2V0U2hvd1Byb21vdGlvbkRpYWxvZyIsInBlbmRpbmdQcm9tb3Rpb24iLCJzZXRQZW5kaW5nUHJvbW90aW9uIiwic2hvd0ZvcmZlaXRDb25maXJtIiwic2V0U2hvd0ZvcmZlaXRDb25maXJtIiwibXlDb2xvciIsInBsYXllcldoaXRlIiwiaXNNeVR1cm4iLCJjdXJyZW50VHVybiIsImdhbWVPdmVyIiwic2hvdWxkRmxpcEJvYXJkIiwibGFzdE1vdmUiLCJtb3ZlSGlzdG9yeSIsImxlbmd0aCIsImNhcHR1cmVkUGllY2VzIiwiY2FwdHVyZWQiLCJtb3ZlIiwiY2FwdHVyZWRQaWVjZSIsImNvbG9yIiwicHVzaCIsImNhbGN1bGF0ZVZhbGlkTW92ZXMiLCJwb3MiLCJwaWVjZSIsImJvYXJkIiwicm93IiwiY29sIiwibW92ZXMiLCJkaXJlY3Rpb25zIiwicm9vayIsImJpc2hvcCIsImtuaWdodCIsImtpbmciLCJhZGRTbGlkaW5nTW92ZXMiLCJkaXJzIiwiZHIiLCJkYyIsInIiLCJjIiwidGFyZ2V0IiwiYWRkU2luZ2xlTW92ZXMiLCJ0eXBlIiwiZGlyZWN0aW9uIiwic3RhcnRSb3ciLCJvbmVGb3J3YXJkIiwidHdvRm9yd2FyZCIsImhhc01vdmVkIiwiaGFuZGxlU3F1YXJlQ2xpY2siLCJjbGlja2VkUGllY2UiLCJpc1ZhbGlkTW92ZSIsInNvbWUiLCJtIiwiZnJvbSIsInRvIiwiaGFuZGxlUHJvbW90aW9uIiwicGllY2VUeXBlIiwiZm9ybWF0TW92ZUhpc3RvcnkiLCJpIiwibW92ZU51bSIsIk1hdGgiLCJmbG9vciIsIndoaXRlTW92ZSIsIm5vdGF0aW9uIiwiYmxhY2tNb3ZlIiwiam9pbiIsInJlbmRlclNxdWFyZSIsInZpc3VhbFJvdyIsInZpc3VhbENvbCIsImJvYXJkUm93IiwiYm9hcmRDb2wiLCJpc0xpZ2h0IiwiaXNTZWxlY3RlZCIsImlzTGFzdE1vdmVGcm9tIiwiaXNMYXN0TW92ZVRvIiwiaXNLaW5nSW5DaGVjayIsImlzQ2hlY2siLCJiZ0NvbG9yIiwicmFua0xhYmVsIiwiZmlsZUxhYmVsIiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsInNwYW4iLCJyZW5kZXJDYXB0dXJlZFBpZWNlcyIsInBpZWNlcyIsIm1hcCIsInAiLCJnZXRTdGF0dXNUZXh0IiwiaXNDaGVja21hdGUiLCJ3aW5uZXIiLCJpc1N0YWxlbWF0ZSIsImlzRHJhdyIsImRyYXdSZWFzb24iLCJBcnJheSIsImZpbGwiLCJfIiwiYnV0dG9uIiwiaDMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/games/ChessGame.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/games/TicTacToeGame.tsx":
/*!************************************************!*\
  !*** ./src/components/games/TicTacToeGame.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TicTacToeGame)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst WINNING_COMBINATIONS = [\n    [\n        0,\n        1,\n        2\n    ],\n    [\n        3,\n        4,\n        5\n    ],\n    [\n        6,\n        7,\n        8\n    ],\n    [\n        0,\n        3,\n        6\n    ],\n    [\n        1,\n        4,\n        7\n    ],\n    [\n        2,\n        5,\n        8\n    ],\n    [\n        0,\n        4,\n        8\n    ],\n    [\n        2,\n        4,\n        6\n    ] // Diagonals\n];\nfunction TicTacToeGame({ gameId, socket, userId, initialState, initialPlayers, onGameEnd }) {\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialState || null);\n    const [players, setPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialPlayers || []);\n    const [gameEnded, setGameEnded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [endResult, setEndResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lastMove, setLastMove] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Get my symbol (X or O)\n    const mySymbol = gameState?.playerX === userId ? \"X\" : gameState?.playerO === userId ? \"O\" : null;\n    const isMyTurn = gameState?.currentTurn === mySymbol;\n    // Get opponent info\n    const opponent = players.find((p)=>p.odUserId !== userId);\n    const me = players.find((p)=>p.odUserId === userId);\n    // Setup socket listeners\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!socket) return;\n        // Join game room\n        socket.emit(\"game.join\", {\n            gameId\n        });\n        // Listen for game state updates\n        const handleStateUpdate = (data)=>{\n            if (data.gameId === gameId) {\n                setGameState(data.state);\n                if (data.lastMove !== undefined) {\n                    setLastMove(data.lastMove.cell);\n                }\n                setError(\"\");\n            }\n        };\n        // Listen for game state (initial)\n        const handleGameState = (data)=>{\n            if (data.gameId === gameId) {\n                setGameState(data.state);\n                setPlayers(data.players);\n            }\n        };\n        // Listen for game end\n        const handleGameEnd = (data)=>{\n            if (data.gameId === gameId) {\n                setGameEnded(true);\n                setEndResult({\n                    winnerId: data.winnerId,\n                    winnerName: data.winnerName,\n                    isDraw: data.isDraw,\n                    reason: data.reason,\n                    winningLine: data.winningLine\n                });\n                onGameEnd?.(data);\n            }\n        };\n        // Listen for errors\n        const handleError = (data)=>{\n            setError(data.message);\n            // Clear error after 3 seconds\n            setTimeout(()=>setError(\"\"), 3000);\n        };\n        socket.on(\"game.stateUpdate\", handleStateUpdate);\n        socket.on(\"game.state\", handleGameState);\n        socket.on(\"game.end\", handleGameEnd);\n        socket.on(\"game.error\", handleError);\n        return ()=>{\n            socket.off(\"game.stateUpdate\", handleStateUpdate);\n            socket.off(\"game.state\", handleGameState);\n            socket.off(\"game.end\", handleGameEnd);\n            socket.off(\"game.error\", handleError);\n        };\n    }, [\n        socket,\n        gameId,\n        onGameEnd\n    ]);\n    // Handle cell click\n    const handleCellClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((cellIndex)=>{\n        if (!socket || !gameState || gameEnded) return;\n        if (!isMyTurn) return;\n        if (gameState.board[cellIndex] !== null) return;\n        socket.emit(\"game.move\", {\n            gameId,\n            cellIndex\n        });\n    }, [\n        socket,\n        gameId,\n        gameState,\n        gameEnded,\n        isMyTurn\n    ]);\n    // Handle forfeit\n    const handleForfeit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!socket || gameEnded) return;\n        if (confirm(\"Are you sure you want to forfeit? Your opponent will win.\")) {\n            socket.emit(\"game.forfeit\", {\n                gameId\n            });\n        }\n    }, [\n        socket,\n        gameId,\n        gameEnded\n    ]);\n    // Determine if a cell is part of the winning line\n    const isWinningCell = (index)=>{\n        return endResult?.winningLine?.includes(index) || false;\n    };\n    // Render game result message\n    const getResultMessage = ()=>{\n        if (!endResult) return {\n            text: \"\",\n            color: \"\",\n            emoji: \"\"\n        };\n        if (endResult.isDraw) {\n            return {\n                text: \"It's a Draw!\",\n                color: \"text-yellow-400\",\n                emoji: \"\\uD83E\\uDD1D\"\n            };\n        }\n        const iWon = endResult.winnerId === userId;\n        if (endResult.reason === \"forfeit\") {\n            return iWon ? {\n                text: \"You Win! (Opponent Forfeited)\",\n                color: \"text-green-400\",\n                emoji: \"\\uD83C\\uDFC6\"\n            } : {\n                text: \"You Forfeited\",\n                color: \"text-red-400\",\n                emoji: \"\\uD83C\\uDFF3️\"\n            };\n        }\n        return iWon ? {\n            text: \"You Win!\",\n            color: \"text-green-400\",\n            emoji: \"\\uD83C\\uDF89\"\n        } : {\n            text: \"You Lose!\",\n            color: \"text-red-400\",\n            emoji: \"\\uD83D\\uDE22\"\n        };\n    };\n    if (!gameState) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-800 p-6 border border-white/20 text-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-gray-400\",\n                children: \"Loading game...\"\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 181,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n            lineNumber: 180,\n            columnNumber: 7\n        }, this);\n    }\n    const resultMessage = getResultMessage();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-gray-800 p-4 border border-white/20\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-center mb-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-xl font-bold text-white\",\n                                children: \"Tic Tac Toe\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 193,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-400\",\n                                children: [\n                                    \"You are: \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: mySymbol === \"X\" ? \"text-blue-400 font-bold\" : \"text-red-400 font-bold\",\n                                        children: mySymbol\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                        lineNumber: 195,\n                                        columnNumber: 22\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 194,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 192,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-right\",\n                        children: !gameEnded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: `text-sm font-semibold ${isMyTurn ? \"text-green-400\" : \"text-yellow-400\"}`,\n                            children: isMyTurn ? \"Your Turn!\" : `${opponent?.displayName || \"Opponent\"}'s Turn`\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                            lineNumber: 200,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 198,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 191,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 p-2 bg-red-900/50 border border-red-500 text-red-300 text-sm text-center\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 209,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center mb-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `grid grid-cols-3 gap-2 p-3 rounded-lg ${gameEnded ? \"bg-gray-700\" : isMyTurn ? \"bg-green-900/30 ring-2 ring-green-500\" : \"bg-gray-700\"}`,\n                    children: gameState.board.map((cell, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>handleCellClick(index),\n                            disabled: gameEnded || !isMyTurn || cell !== null,\n                            className: `\n                w-20 h-20 text-4xl font-bold\n                flex items-center justify-center\n                transition-all duration-200\n                ${cell === null && !gameEnded && isMyTurn ? \"bg-gray-600 hover:bg-gray-500 cursor-pointer\" : \"bg-gray-700 cursor-not-allowed\"}\n                ${isWinningCell(index) ? \"bg-green-600 ring-2 ring-green-400 animate-pulse\" : \"\"}\n                ${lastMove === index && !isWinningCell(index) ? \"ring-2 ring-yellow-400\" : \"\"}\n                ${cell === \"X\" ? \"text-blue-400\" : \"text-red-400\"}\n                border border-gray-500\n              `,\n                            children: cell && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: `${lastMove === index ? \"animate-bounce\" : \"\"}`,\n                                children: cell\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 247,\n                                columnNumber: 17\n                            }, this)\n                        }, index, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                            lineNumber: 222,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                    lineNumber: 216,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 215,\n                columnNumber: 7\n            }, this),\n            gameEnded && endResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center mb-4 p-4 bg-gray-900 border border-white/20 rounded\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-4xl mb-2\",\n                        children: resultMessage.emoji\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 259,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: `text-2xl font-bold ${resultMessage.color}`,\n                        children: resultMessage.text\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 260,\n                        columnNumber: 11\n                    }, this),\n                    endResult.winnerName && !endResult.isDraw && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-gray-400 mt-1\",\n                        children: [\n                            \"Winner: \",\n                            endResult.winnerName\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 264,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 258,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-2 gap-4 mb-4 text-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `p-2 rounded ${me?.side === gameState.currentTurn && !gameEnded ? \"bg-green-900/50 border border-green-500\" : \"bg-gray-700\"}`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-400\",\n                                children: [\n                                    \"You (\",\n                                    me?.side,\n                                    \")\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 274,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-white font-semibold\",\n                                children: me?.displayName || \"Player\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 275,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 273,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `p-2 rounded ${opponent?.side === gameState.currentTurn && !gameEnded ? \"bg-yellow-900/50 border border-yellow-500\" : \"bg-gray-700\"}`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-400\",\n                                children: [\n                                    \"Opponent (\",\n                                    opponent?.side,\n                                    \")\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 278,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-white font-semibold\",\n                                children: opponent?.displayName || \"Opponent\"\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                        lineNumber: 277,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 272,\n                columnNumber: 7\n            }, this),\n            !gameEnded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleForfeit,\n                    className: \"px-4 py-2 bg-red-600 hover:bg-red-500 text-white text-sm font-semibold border border-red-500 transition-colors\",\n                    children: \"Forfeit Game\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                    lineNumber: 286,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 285,\n                columnNumber: 9\n            }, this),\n            gameState.moveHistory.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 text-xs text-gray-500\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: [\n                        \"Moves: \",\n                        gameState.moveHistory.length\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                    lineNumber: 298,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n                lineNumber: 297,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TicTacToeGame.tsx\",\n        lineNumber: 189,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9nYW1lcy9UaWNUYWNUb2VHYW1lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFeUQ7QUFvQ3pELE1BQU1HLHVCQUF1QjtJQUMzQjtRQUFDO1FBQUc7UUFBRztLQUFFO0lBQUU7UUFBQztRQUFHO1FBQUc7S0FBRTtJQUFFO1FBQUM7UUFBRztRQUFHO0tBQUU7SUFDL0I7UUFBQztRQUFHO1FBQUc7S0FBRTtJQUFFO1FBQUM7UUFBRztRQUFHO0tBQUU7SUFBRTtRQUFDO1FBQUc7UUFBRztLQUFFO0lBQy9CO1FBQUM7UUFBRztRQUFHO0tBQUU7SUFBRTtRQUFDO1FBQUc7UUFBRztLQUFFLENBQWEsWUFBWTtDQUM5QztBQUVjLFNBQVNDLGNBQWMsRUFDcENDLE1BQU0sRUFDTkMsTUFBTSxFQUNOQyxNQUFNLEVBQ05DLFlBQVksRUFDWkMsY0FBYyxFQUNkQyxTQUFTLEVBQ1U7SUFDbkIsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUdYLCtDQUFRQSxDQUF3Qk8sZ0JBQWdCO0lBQ2xGLE1BQU0sQ0FBQ0ssU0FBU0MsV0FBVyxHQUFHYiwrQ0FBUUEsQ0FBZVEsa0JBQWtCLEVBQUU7SUFDekUsTUFBTSxDQUFDTSxXQUFXQyxhQUFhLEdBQUdmLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ2dCLFdBQVdDLGFBQWEsR0FBR2pCLCtDQUFRQSxDQUF1QjtJQUNqRSxNQUFNLENBQUNrQixPQUFPQyxTQUFTLEdBQUduQiwrQ0FBUUEsQ0FBUztJQUMzQyxNQUFNLENBQUNvQixVQUFVQyxZQUFZLEdBQUdyQiwrQ0FBUUEsQ0FBZ0I7SUFFeEQseUJBQXlCO0lBQ3pCLE1BQU1zQixXQUFXWixXQUFXYSxZQUFZakIsU0FBUyxNQUFNSSxXQUFXYyxZQUFZbEIsU0FBUyxNQUFNO0lBQzdGLE1BQU1tQixXQUFXZixXQUFXZ0IsZ0JBQWdCSjtJQUU1QyxvQkFBb0I7SUFDcEIsTUFBTUssV0FBV2YsUUFBUWdCLElBQUksQ0FBQ0MsQ0FBQUEsSUFB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VXlCLFVBQVU7Ozs7Ozs7Ozs7Ozs7MEJBT3JDLDhEQUFDc0I7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVyxDQUFDLFlBQVksRUFBRWpDLElBQUkwQyxTQUFTL0QsVUFBVWdCLFdBQVcsSUFBSSxDQUFDWixZQUFZLDRDQUE0QyxjQUFjLENBQUM7OzBDQUMzSSw4REFBQ2U7Z0NBQUVtQyxXQUFVOztvQ0FBZ0I7b0NBQU1qQyxJQUFJMEM7b0NBQUs7Ozs7Ozs7MENBQzVDLDhEQUFDNUM7Z0NBQUVtQyxXQUFVOzBDQUE0QmpDLElBQUlxQyxlQUFlOzs7Ozs7Ozs7Ozs7a0NBRTlELDhEQUFDTDt3QkFBSUMsV0FBVyxDQUFDLFlBQVksRUFBRXJDLFVBQVU4QyxTQUFTL0QsVUFBVWdCLFdBQVcsSUFBSSxDQUFDWixZQUFZLDhDQUE4QyxjQUFjLENBQUM7OzBDQUNuSiw4REFBQ2U7Z0NBQUVtQyxXQUFVOztvQ0FBZ0I7b0NBQVdyQyxVQUFVOEM7b0NBQUs7Ozs7Ozs7MENBQ3ZELDhEQUFDNUM7Z0NBQUVtQyxXQUFVOzBDQUE0QnJDLFVBQVV5QyxlQUFlOzs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFLckUsQ0FBQ3RELDJCQUNBLDhEQUFDaUQ7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNNO29CQUNDQyxTQUFTbEI7b0JBQ1RXLFdBQVU7OEJBQ1g7Ozs7Ozs7Ozs7O1lBT0p0RCxVQUFVZ0UsV0FBVyxDQUFDQyxNQUFNLEdBQUcsbUJBQzlCLDhEQUFDWjtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ25DOzt3QkFBRTt3QkFBUW5CLFVBQVVnRSxXQUFXLENBQUNDLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtqRCIsInNvdXJjZXMiOlsid2VicGFjazovL0BvbWVnbGUtZ2FtZS93ZWIvLi9zcmMvY29tcG9uZW50cy9nYW1lcy9UaWNUYWNUb2VHYW1lLnRzeD8xZjE2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSBcInNvY2tldC5pby1jbGllbnRcIjtcblxuLy8gVHlwZXMgbWF0Y2hpbmcgYmFja2VuZFxuaW50ZXJmYWNlIFRpY1RhY1RvZVN0YXRlIHtcbiAgYm9hcmQ6IChzdHJpbmcgfCBudWxsKVtdO1xuICBjdXJyZW50VHVybjogXCJYXCIgfCBcIk9cIjtcbiAgbW92ZUhpc3Rvcnk6IHsgY2VsbDogbnVtYmVyOyBwbGF5ZXI6IHN0cmluZzsgdGltZXN0YW1wOiBudW1iZXIgfVtdO1xuICBwbGF5ZXJYOiBzdHJpbmc7XG4gIHBsYXllck86IHN0cmluZztcbiAgc3RhcnRlZEF0OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBHYW1lUGxheWVyIHtcbiAgb2RVc2VySWQ6IHN0cmluZztcbiAgc2lkZTogc3RyaW5nO1xuICBkaXNwbGF5TmFtZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVGljVGFjVG9lR2FtZVByb3BzIHtcbiAgZ2FtZUlkOiBzdHJpbmc7XG4gIHNvY2tldDogU29ja2V0O1xuICB1c2VySWQ6IHN0cmluZztcbiAgaW5pdGlhbFN0YXRlPzogVGljVGFjVG9lU3RhdGU7XG4gIGluaXRpYWxQbGF5ZXJzPzogR2FtZVBsYXllcltdO1xuICBvbkdhbWVFbmQ/OiAocmVzdWx0OiBHYW1lRW5kUmVzdWx0KSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgR2FtZUVuZFJlc3VsdCB7XG4gIHdpbm5lcklkOiBzdHJpbmcgfCBudWxsO1xuICB3aW5uZXJOYW1lOiBzdHJpbmcgfCBudWxsO1xuICBpc0RyYXc6IGJvb2xlYW47XG4gIHJlYXNvbjogXCJ3aW5cIiB8IFwiZHJhd1wiIHwgXCJmb3JmZWl0XCI7XG4gIHdpbm5pbmdMaW5lPzogbnVtYmVyW107XG59XG5cbmNvbnN0IFdJTk5JTkdfQ09NQklOQVRJT05TID0gW1xuICBbMCwgMSwgMl0sIFszLCA0LCA1XSwgWzYsIDcsIDhdLCAvLyBSb3dzXG4gIFswLCAzLCA2XSwgWzEsIDQsIDddLCBbMiwgNSwgOF0sIC8vIENvbHVtbnNcbiAgWzAsIDQsIDhdLCBbMiwgNCwgNl0gICAgICAgICAgICAgLy8gRGlhZ29uYWxzXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUaWNUYWNUb2VHYW1lKHtcbiAgZ2FtZUlkLFxuICBzb2NrZXQsXG4gIHVzZXJJZCxcbiAgaW5pdGlhbFN0YXRlLFxuICBpbml0aWFsUGxheWVycyxcbiAgb25HYW1lRW5kXG59OiBUaWNUYWNUb2VHYW1lUHJvcHMpIHtcbiAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPFRpY1RhY1RvZVN0YXRlIHwgbnVsbD4oaW5pdGlhbFN0YXRlIHx8IG51bGwpO1xuICBjb25zdCBbcGxheWVycywgc2V0UGxheWVyc10gPSB1c2VTdGF0ZTxHYW1lUGxheWVyW10+KGluaXRpYWxQbGF5ZXJzIHx8IFtdKTtcbiAgY29uc3QgW2dhbWVFbmRlZCwgc2V0R2FtZUVuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VuZFJlc3VsdCwgc2V0RW5kUmVzdWx0XSA9IHVzZVN0YXRlPEdhbWVFbmRSZXN1bHQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbbGFzdE1vdmUsIHNldExhc3RNb3ZlXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuXG4gIC8vIEdldCBteSBzeW1ib2wgKFggb3IgTylcbiAgY29uc3QgbXlTeW1ib2wgPSBnYW1lU3RhdGU/LnBsYXllclggPT09IHVzZXJJZCA/IFwiWFwiIDogZ2FtZVN0YXRlPy5wbGF5ZXJPID09PSB1c2VySWQgPyBcIk9cIiA6IG51bGw7XG4gIGNvbnN0IGlzTXlUdXJuID0gZ2FtZVN0YXRlPy5jdXJyZW50VHVybiA9PT0gbXlTeW1ib2w7XG5cbiAgLy8gR2V0IG9wcG9uZW50IGluZm9cbiAgY29uc3Qgb3Bwb25lbnQgPSBwbGF5ZXJzLmZpbmQocCA9PiBwLm9kVXNlcklkICE9PSB1c2VySWQpO1xuICBjb25zdCBtZSA9IHBsYXllcnMuZmluZChwID0+IHAub2RVc2VySWQgPT09IHVzZXJJZCk7XG5cbiAgLy8gU2V0dXAgc29ja2V0IGxpc3RlbmVyc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc29ja2V0KSByZXR1cm47XG5cbiAgICAvLyBKb2luIGdhbWUgcm9vbVxuICAgIHNvY2tldC5lbWl0KFwiZ2FtZS5qb2luXCIsIHsgZ2FtZUlkIH0pO1xuXG4gICAgLy8gTGlzdGVuIGZvciBnYW1lIHN0YXRlIHVwZGF0ZXNcbiAgICBjb25zdCBoYW5kbGVTdGF0ZVVwZGF0ZSA9IChkYXRhOiB7IGdhbWVJZDogc3RyaW5nOyBzdGF0ZTogVGljVGFjVG9lU3RhdGU7IGxhc3RNb3ZlPzogeyBjZWxsOiBudW1iZXIgfSB9KSA9PiB7XG4gICAgICBpZiAoZGF0YS5nYW1lSWQgPT09IGdhbWVJZCkge1xuICAgICAgICBzZXRHYW1lU3RhdGUoZGF0YS5zdGF0ZSk7XG4gICAgICAgIGlmIChkYXRhLmxhc3RNb3ZlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMYXN0TW92ZShkYXRhLmxhc3RNb3ZlLmNlbGwpO1xuICAgICAgICB9XG4gICAgICAgIHNldEVycm9yKFwiXCIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBMaXN0ZW4gZm9yIGdhbWUgc3RhdGUgKGluaXRpYWwpXG4gICAgY29uc3QgaGFuZGxlR2FtZVN0YXRlID0gKGRhdGE6IHsgZ2FtZUlkOiBzdHJpbmc7IHN0YXRlOiBUaWNUYWNUb2VTdGF0ZTsgcGxheWVyczogR2FtZVBsYXllcltdIH0pID0+IHtcbiAgICAgIGlmIChkYXRhLmdhbWVJZCA9PT0gZ2FtZUlkKSB7XG4gICAgICAgIHNldEdhbWVTdGF0ZShkYXRhLnN0YXRlKTtcbiAgICAgICAgc2V0UGxheWVycyhkYXRhLnBsYXllcnMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBMaXN0ZW4gZm9yIGdhbWUgZW5kXG4gICAgY29uc3QgaGFuZGxlR2FtZUVuZCA9IChkYXRhOiB7XG4gICAgICBnYW1lSWQ6IHN0cmluZztcbiAgICAgIHdpbm5lcklkOiBzdHJpbmcgfCBudWxsO1xuICAgICAgd2lubmVyTmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgICAgIGlzRHJhdzogYm9vbGVhbjtcbiAgICAgIHJlYXNvbjogXCJ3aW5cIiB8IFwiZHJhd1wiIHwgXCJmb3JmZWl0XCI7XG4gICAgICB3aW5uaW5nTGluZT86IG51bWJlcltdO1xuICAgIH0pID0+IHtcbiAgICAgIGlmIChkYXRhLmdhbWVJZCA9PT0gZ2FtZUlkKSB7XG4gICAgICAgIHNldEdhbWVFbmRlZCh0cnVlKTtcbiAgICAgICAgc2V0RW5kUmVzdWx0KHtcbiAgICAgICAgICB3aW5uZXJJZDogZGF0YS53aW5uZXJJZCxcbiAgICAgICAgICB3aW5uZXJOYW1lOiBkYXRhLndpbm5lck5hbWUsXG4gICAgICAgICAgaXNEcmF3OiBkYXRhLmlzRHJhdyxcbiAgICAgICAgICByZWFzb246IGRhdGEucmVhc29uLFxuICAgICAgICAgIHdpbm5pbmdMaW5lOiBkYXRhLndpbm5pbmdMaW5lXG4gICAgICAgIH0pO1xuICAgICAgICBvbkdhbWVFbmQ/LihkYXRhKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gTGlzdGVuIGZvciBlcnJvcnNcbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IChkYXRhOiB7IG1lc3NhZ2U6IHN0cmluZyB9KSA9PiB7XG4gICAgICBzZXRFcnJvcihkYXRhLm1lc3NhZ2UpO1xuICAgICAgLy8gQ2xlYXIgZXJyb3IgYWZ0ZXIgMyBzZWNvbmRzXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yKFwiXCIpLCAzMDAwKTtcbiAgICB9O1xuXG4gICAgc29ja2V0Lm9uKFwiZ2FtZS5zdGF0ZVVwZGF0ZVwiLCBoYW5kbGVTdGF0ZVVwZGF0ZSk7XG4gICAgc29ja2V0Lm9uKFwiZ2FtZS5zdGF0ZVwiLCBoYW5kbGVHYW1lU3RhdGUpO1xuICAgIHNvY2tldC5vbihcImdhbWUuZW5kXCIsIGhhbmRsZUdhbWVFbmQpO1xuICAgIHNvY2tldC5vbihcImdhbWUuZXJyb3JcIiwgaGFuZGxlRXJyb3IpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNvY2tldC5vZmYoXCJnYW1lLnN0YXRlVXBkYXRlXCIsIGhhbmRsZVN0YXRlVXBkYXRlKTtcbiAgICAgIHNvY2tldC5vZmYoXCJnYW1lLnN0YXRlXCIsIGhhbmRsZUdhbWVTdGF0ZSk7XG4gICAgICBzb2NrZXQub2ZmKFwiZ2FtZS5lbmRcIiwgaGFuZGxlR2FtZUVuZCk7XG4gICAgICBzb2NrZXQub2ZmKFwiZ2FtZS5lcnJvclwiLCBoYW5kbGVFcnJvcik7XG4gICAgfTtcbiAgfSwgW3NvY2tldCwgZ2FtZUlkLCBvbkdhbWVFbmRdKTtcblxuICAvLyBIYW5kbGUgY2VsbCBjbGlja1xuICBjb25zdCBoYW5kbGVDZWxsQ2xpY2sgPSB1c2VDYWxsYmFjaygoY2VsbEluZGV4OiBudW1iZXIpID0+IHtcbiAgICBpZiAoIXNvY2tldCB8fCAhZ2FtZVN0YXRlIHx8IGdhbWVFbmRlZCkgcmV0dXJuO1xuICAgIGlmICghaXNNeVR1cm4pIHJldHVybjtcbiAgICBpZiAoZ2FtZVN0YXRlLmJvYXJkW2NlbGxJbmRleF0gIT09IG51bGwpIHJldHVybjtcblxuICAgIHNvY2tldC5lbWl0KFwiZ2FtZS5tb3ZlXCIsIHsgZ2FtZUlkLCBjZWxsSW5kZXggfSk7XG4gIH0sIFtzb2NrZXQsIGdhbWVJZCwgZ2FtZVN0YXRlLCBnYW1lRW5kZWQsIGlzTXlUdXJuXSk7XG5cbiAgLy8gSGFuZGxlIGZvcmZlaXRcbiAgY29uc3QgaGFuZGxlRm9yZmVpdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXNvY2tldCB8fCBnYW1lRW5kZWQpIHJldHVybjtcbiAgICBpZiAoY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBmb3JmZWl0PyBZb3VyIG9wcG9uZW50IHdpbGwgd2luLlwiKSkge1xuICAgICAgc29ja2V0LmVtaXQoXCJnYW1lLmZvcmZlaXRcIiwgeyBnYW1lSWQgfSk7XG4gICAgfVxuICB9LCBbc29ja2V0LCBnYW1lSWQsIGdhbWVFbmRlZF0pO1xuXG4gIC8vIERldGVybWluZSBpZiBhIGNlbGwgaXMgcGFydCBvZiB0aGUgd2lubmluZyBsaW5lXG4gIGNvbnN0IGlzV2lubmluZ0NlbGwgPSAoaW5kZXg6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBlbmRSZXN1bHQ/Lndpbm5pbmdMaW5lPy5pbmNsdWRlcyhpbmRleCkgfHwgZmFsc2U7XG4gIH07XG5cbiAgLy8gUmVuZGVyIGdhbWUgcmVzdWx0IG1lc3NhZ2VcbiAgY29uc3QgZ2V0UmVzdWx0TWVzc2FnZSA9ICgpOiB7IHRleHQ6IHN0cmluZzsgY29sb3I6IHN0cmluZzsgZW1vamk6IHN0cmluZyB9ID0+IHtcbiAgICBpZiAoIWVuZFJlc3VsdCkgcmV0dXJuIHsgdGV4dDogXCJcIiwgY29sb3I6IFwiXCIsIGVtb2ppOiBcIlwiIH07XG5cbiAgICBpZiAoZW5kUmVzdWx0LmlzRHJhdykge1xuICAgICAgcmV0dXJuIHsgdGV4dDogXCJJdCdzIGEgRHJhdyFcIiwgY29sb3I6IFwidGV4dC15ZWxsb3ctNDAwXCIsIGVtb2ppOiBcIvCfpJ1cIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IGlXb24gPSBlbmRSZXN1bHQud2lubmVySWQgPT09IHVzZXJJZDtcbiAgICBpZiAoZW5kUmVzdWx0LnJlYXNvbiA9PT0gXCJmb3JmZWl0XCIpIHtcbiAgICAgIHJldHVybiBpV29uXG4gICAgICAgID8geyB0ZXh0OiBcIllvdSBXaW4hIChPcHBvbmVudCBGb3JmZWl0ZWQpXCIsIGNvbG9yOiBcInRleHQtZ3JlZW4tNDAwXCIsIGVtb2ppOiBcIvCfj4ZcIiB9XG4gICAgICAgIDogeyB0ZXh0OiBcIllvdSBGb3JmZWl0ZWRcIiwgY29sb3I6IFwidGV4dC1yZWQtNDAwXCIsIGVtb2ppOiBcIvCfj7PvuI9cIiB9O1xuICAgIH1cblxuICAgIHJldHVybiBpV29uXG4gICAgICA/IHsgdGV4dDogXCJZb3UgV2luIVwiLCBjb2xvcjogXCJ0ZXh0LWdyZWVuLTQwMFwiLCBlbW9qaTogXCLwn46JXCIgfVxuICAgICAgOiB7IHRleHQ6IFwiWW91IExvc2UhXCIsIGNvbG9yOiBcInRleHQtcmVkLTQwMFwiLCBlbW9qaTogXCLwn5iiXCIgfTtcbiAgfTtcblxuICBpZiAoIWdhbWVTdGF0ZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHAtNiBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHRleHQtY2VudGVyXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5Mb2FkaW5nIGdhbWUuLi48L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0TWVzc2FnZSA9IGdldFJlc3VsdE1lc3NhZ2UoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC00IGJvcmRlciBib3JkZXItd2hpdGUvMjBcIj5cbiAgICAgIHsvKiBHYW1lIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTRcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC13aGl0ZVwiPlRpYyBUYWMgVG9lPC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgIFlvdSBhcmU6IDxzcGFuIGNsYXNzTmFtZT17bXlTeW1ib2wgPT09IFwiWFwiID8gXCJ0ZXh0LWJsdWUtNDAwIGZvbnQtYm9sZFwiIDogXCJ0ZXh0LXJlZC00MDAgZm9udC1ib2xkXCJ9PntteVN5bWJvbH08L3NwYW4+XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgeyFnYW1lRW5kZWQgJiYgKFxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC1zbSBmb250LXNlbWlib2xkICR7aXNNeVR1cm4gPyBcInRleHQtZ3JlZW4tNDAwXCIgOiBcInRleHQteWVsbG93LTQwMFwifWB9PlxuICAgICAgICAgICAgICB7aXNNeVR1cm4gPyBcIllvdXIgVHVybiFcIiA6IGAke29wcG9uZW50Py5kaXNwbGF5TmFtZSB8fCBcIk9wcG9uZW50XCJ9J3MgVHVybmB9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEVycm9yIE1lc3NhZ2UgKi99XG4gICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC0yIGJnLXJlZC05MDAvNTAgYm9yZGVyIGJvcmRlci1yZWQtNTAwIHRleHQtcmVkLTMwMCB0ZXh0LXNtIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAge2Vycm9yfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBHYW1lIEJvYXJkICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIG1iLTRcIj5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9e2BncmlkIGdyaWQtY29scy0zIGdhcC0yIHAtMyByb3VuZGVkLWxnICR7XG4gICAgICAgICAgICBnYW1lRW5kZWQgPyBcImJnLWdyYXktNzAwXCIgOiBpc015VHVybiA/IFwiYmctZ3JlZW4tOTAwLzMwIHJpbmctMiByaW5nLWdyZWVuLTUwMFwiIDogXCJiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgfWB9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2FtZVN0YXRlLmJvYXJkLm1hcCgoY2VsbCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ2VsbENsaWNrKGluZGV4KX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2dhbWVFbmRlZCB8fCAhaXNNeVR1cm4gfHwgY2VsbCAhPT0gbnVsbH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgICAgICAgdy0yMCBoLTIwIHRleHQtNHhsIGZvbnQtYm9sZFxuICAgICAgICAgICAgICAgIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwXG4gICAgICAgICAgICAgICAgJHtjZWxsID09PSBudWxsICYmICFnYW1lRW5kZWQgJiYgaXNNeVR1cm5cbiAgICAgICAgICAgICAgICAgID8gXCJiZy1ncmF5LTYwMCBob3ZlcjpiZy1ncmF5LTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICA6IFwiYmctZ3JheS03MDAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHtpc1dpbm5pbmdDZWxsKGluZGV4KVxuICAgICAgICAgICAgICAgICAgPyBcImJnLWdyZWVuLTYwMCByaW5nLTIgcmluZy1ncmVlbi00MDAgYW5pbWF0ZS1wdWxzZVwiXG4gICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHtsYXN0TW92ZSA9PT0gaW5kZXggJiYgIWlzV2lubmluZ0NlbGwoaW5kZXgpXG4gICAgICAgICAgICAgICAgICA/IFwicmluZy0yIHJpbmcteWVsbG93LTQwMFwiXG4gICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHtjZWxsID09PSBcIlhcIiA/IFwidGV4dC1ibHVlLTQwMFwiIDogXCJ0ZXh0LXJlZC00MDBcIn1cbiAgICAgICAgICAgICAgICBib3JkZXIgYm9yZGVyLWdyYXktNTAwXG4gICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtjZWxsICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake2xhc3RNb3ZlID09PSBpbmRleCA/IFwiYW5pbWF0ZS1ib3VuY2VcIiA6IFwiXCJ9YH0+XG4gICAgICAgICAgICAgICAgICB7Y2VsbH1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEdhbWUgUmVzdWx0ICovfVxuICAgICAge2dhbWVFbmRlZCAmJiBlbmRSZXN1bHQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLTQgcC00IGJnLWdyYXktOTAwIGJvcmRlciBib3JkZXItd2hpdGUvMjAgcm91bmRlZFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtNHhsIG1iLTJcIj57cmVzdWx0TWVzc2FnZS5lbW9qaX08L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC0yeGwgZm9udC1ib2xkICR7cmVzdWx0TWVzc2FnZS5jb2xvcn1gfT5cbiAgICAgICAgICAgIHtyZXN1bHRNZXNzYWdlLnRleHR9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIHtlbmRSZXN1bHQud2lubmVyTmFtZSAmJiAhZW5kUmVzdWx0LmlzRHJhdyAmJiAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICBXaW5uZXI6IHtlbmRSZXN1bHQud2lubmVyTmFtZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBQbGF5ZXJzIEluZm8gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTQgbWItNCB0ZXh0LXNtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcC0yIHJvdW5kZWQgJHttZT8uc2lkZSA9PT0gZ2FtZVN0YXRlLmN1cnJlbnRUdXJuICYmICFnYW1lRW5kZWQgPyBcImJnLWdyZWVuLTkwMC81MCBib3JkZXIgYm9yZGVyLWdyZWVuLTUwMFwiIDogXCJiZy1ncmF5LTcwMFwifWB9PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5Zb3UgKHttZT8uc2lkZX0pPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1zZW1pYm9sZFwiPnttZT8uZGlzcGxheU5hbWUgfHwgXCJQbGF5ZXJcIn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHAtMiByb3VuZGVkICR7b3Bwb25lbnQ/LnNpZGUgPT09IGdhbWVTdGF0ZS5jdXJyZW50VHVybiAmJiAhZ2FtZUVuZGVkID8gXCJiZy15ZWxsb3ctOTAwLzUwIGJvcmRlciBib3JkZXIteWVsbG93LTUwMFwiIDogXCJiZy1ncmF5LTcwMFwifWB9PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5PcHBvbmVudCAoe29wcG9uZW50Py5zaWRlfSk8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LXNlbWlib2xkXCI+e29wcG9uZW50Py5kaXNwbGF5TmFtZSB8fCBcIk9wcG9uZW50XCJ9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQWN0aW9ucyAqL31cbiAgICAgIHshZ2FtZUVuZGVkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRm9yZmVpdH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1yZWQtNjAwIGhvdmVyOmJnLXJlZC01MDAgdGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgYm9yZGVyIGJvcmRlci1yZWQtNTAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBGb3JmZWl0IEdhbWVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogTW92ZSBIaXN0b3J5ICovfVxuICAgICAge2dhbWVTdGF0ZS5tb3ZlSGlzdG9yeS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgIDxwPk1vdmVzOiB7Z2FtZVN0YXRlLm1vdmVIaXN0b3J5Lmxlbmd0aH08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJXSU5OSU5HX0NPTUJJTkFUSU9OUyIsIlRpY1RhY1RvZUdhbWUiLCJnYW1lSWQiLCJzb2NrZXQiLCJ1c2VySWQiLCJpbml0aWFsU3RhdGUiLCJpbml0aWFsUGxheWVycyIsIm9uR2FtZUVuZCIsImdhbWVTdGF0ZSIsInNldEdhbWVTdGF0ZSIsInBsYXllcnMiLCJzZXRQbGF5ZXJzIiwiZ2FtZUVuZGVkIiwic2V0R2FtZUVuZGVkIiwiZW5kUmVzdWx0Iiwic2V0RW5kUmVzdWx0IiwiZXJyb3IiLCJzZXRFcnJvciIsImxhc3RNb3ZlIiwic2V0TGFzdE1vdmUiLCJteVN5bWJvbCIsInBsYXllclgiLCJwbGF5ZXJPIiwiaXNNeVR1cm4iLCJjdXJyZW50VHVybiIsIm9wcG9uZW50IiwiZmluZCIsInAiLCJvZFVzZXJJZCIsIm1lIiwiZW1pdCIsImhhbmRsZVN0YXRlVXBkYXRlIiwiZGF0YSIsInN0YXRlIiwidW5kZWZpbmVkIiwiY2VsbCIsImhhbmRsZUdhbWVTdGF0ZSIsImhhbmRsZUdhbWVFbmQiLCJ3aW5uZXJJZCIsIndpbm5lck5hbWUiLCJpc0RyYXciLCJyZWFzb24iLCJ3aW5uaW5nTGluZSIsImhhbmRsZUVycm9yIiwibWVzc2FnZSIsInNldFRpbWVvdXQiLCJvbiIsIm9mZiIsImhhbmRsZUNlbGxDbGljayIsImNlbGxJbmRleCIsImJvYXJkIiwiaGFuZGxlRm9yZmVpdCIsImNvbmZpcm0iLCJpc1dpbm5pbmdDZWxsIiwiaW5kZXgiLCJpbmNsdWRlcyIsImdldFJlc3VsdE1lc3NhZ2UiLCJ0ZXh0IiwiY29sb3IiLCJlbW9qaSIsImlXb24iLCJkaXYiLCJjbGFzc05hbWUiLCJyZXN1bHRNZXNzYWdlIiwiaDMiLCJzcGFuIiwiZGlzcGxheU5hbWUiLCJtYXAiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzaWRlIiwibW92ZUhpc3RvcnkiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/games/TicTacToeGame.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/games/TriviaGame.tsx":
/*!*********************************************!*\
  !*** ./src/components/games/TriviaGame.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TriviaGame)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst DIFFICULTY_STARS = {\n    easy: \"★☆☆\",\n    medium: \"★★☆\",\n    hard: \"★★★\"\n};\nconst CATEGORY_NAMES = {\n    general: \"General Knowledge\",\n    science: \"Science & Nature\",\n    history: \"History\",\n    geography: \"Geography\",\n    entertainment: \"Entertainment\",\n    sports: \"Sports\",\n    art: \"Art\",\n    music: \"Music\",\n    movies: \"Film\",\n    technology: \"Computers\"\n};\nfunction TriviaGame({ gameState, odUserId, onAnswer, onReady, socket }) {\n    const [selectedAnswer, setSelectedAnswer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasAnswered, setHasAnswered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [localTimeRemaining, setLocalTimeRemaining] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [currentQuestionData, setCurrentQuestionData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Use currentQuestionData if available (from socket), otherwise use gameState\n    const currentQuestion = currentQuestionData || gameState.questions[gameState.currentQuestionIndex];\n    const myScore = gameState.players.find((p)=>p.odUserId === odUserId);\n    const sortedPlayers = [\n        ...gameState.players\n    ].sort((a, b)=>b.totalPoints - a.totalPoints);\n    // Listen for trivia.question event to get question data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!socket) return;\n        const handleQuestion = (data)=>{\n            setCurrentQuestionData({\n                question: data.question,\n                allAnswers: data.answers,\n                category: data.category,\n                difficulty: data.difficulty,\n                timeLimit: data.timeLimit\n            });\n            setLocalTimeRemaining(data.timeLimit);\n            setSelectedAnswer(null);\n            setHasAnswered(false);\n        };\n        socket.on(\"trivia.question\", handleQuestion);\n        return ()=>{\n            socket.off(\"trivia.question\", handleQuestion);\n        };\n    }, [\n        socket\n    ]);\n    // Update local timer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState.phase === \"question\" && gameState.timeRemaining > 0) {\n            setLocalTimeRemaining(gameState.timeRemaining);\n            const interval = setInterval(()=>{\n                setLocalTimeRemaining((prev)=>{\n                    const newTime = Math.max(0, prev - 1);\n                    if (newTime === 0) {\n                        clearInterval(interval);\n                    }\n                    return newTime;\n                });\n            }, 1000);\n            return ()=>clearInterval(interval);\n        }\n    }, [\n        gameState.phase,\n        gameState.timeRemaining\n    ]);\n    // Reset answer state when new question starts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState.phase === \"question\") {\n            setSelectedAnswer(null);\n            setHasAnswered(false);\n        }\n    }, [\n        gameState.currentQuestionIndex,\n        gameState.phase\n    ]);\n    const handleAnswerSelect = (answerIndex)=>{\n        if (hasAnswered || gameState.phase !== \"question\") return;\n        setSelectedAnswer(answerIndex);\n    };\n    const handleSubmitAnswer = ()=>{\n        if (selectedAnswer === null || hasAnswered) return;\n        setHasAnswered(true);\n        onAnswer(gameState.currentQuestionIndex, selectedAnswer);\n    };\n    // Countdown screen\n    if (gameState.phase === \"countdown\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col items-center justify-center min-h-[400px] bg-gray-900 rounded-lg border border-white/20 p-8\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-8xl font-bold text-white mb-4\",\n                    children: gameState.timeRemaining > 0 ? gameState.timeRemaining : \"GO!\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 152,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-400 text-lg\",\n                    children: \"Get ready for the first question!\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 155,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 151,\n            columnNumber: 7\n        }, this);\n    }\n    // Question screen\n    if (gameState.phase === \"question\" && currentQuestion) {\n        const progressPercent = (currentQuestion.timeLimit - localTimeRemaining) / currentQuestion.timeLimit * 100;\n        const answeredCount = gameState.currentAnswers.length;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm text-gray-400\",\n                                    children: \"Question\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 170,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-lg font-bold text-white\",\n                                    children: [\n                                        gameState.currentQuestionIndex + 1,\n                                        \" / \",\n                                        gameState.questions.length\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 171,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 169,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-gray-400\",\n                                    children: CATEGORY_NAMES[currentQuestion.category] || currentQuestion.category\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 176,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-yellow-400\",\n                                    children: DIFFICULTY_STARS[currentQuestion.difficulty] || \"★☆☆\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 177,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 175,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 168,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between mb-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm text-gray-400\",\n                                    children: \"Time remaining\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 184,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: `text-lg font-bold ${localTimeRemaining <= 5 ? \"text-red-400\" : \"text-green-400\"}`,\n                                    children: [\n                                        localTimeRemaining,\n                                        \"s\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 185,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 183,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full bg-gray-700 rounded-full h-2\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `h-2 rounded-full transition-all ${localTimeRemaining <= 5 ? \"bg-red-500\" : \"bg-green-500\"}`,\n                                style: {\n                                    width: `${100 - progressPercent}%`\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                lineNumber: 190,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 189,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 182,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gray-800 p-6 rounded-lg mb-6\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-semibold text-white text-center\",\n                        children: currentQuestion.question\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                        lineNumber: 199,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 198,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-2 gap-4 mb-6\",\n                    children: currentQuestion.allAnswers.map((answer, index)=>{\n                        const isSelected = selectedAnswer === index;\n                        const letters = [\n                            \"A\",\n                            \"B\",\n                            \"C\",\n                            \"D\"\n                        ];\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>handleAnswerSelect(index),\n                            disabled: hasAnswered,\n                            className: `p-4 rounded-lg border-2 text-left transition-all ${isSelected ? \"bg-yellow-600 border-yellow-400 text-white\" : hasAnswered ? \"bg-gray-800 border-gray-600 text-gray-400 cursor-not-allowed\" : \"bg-gray-800 border-gray-600 text-white hover:border-gray-400 hover:bg-gray-700\"}`,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-lg font-bold\",\n                                        children: [\n                                            letters[index],\n                                            \".\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                        lineNumber: 224,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: answer\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                        lineNumber: 225,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                lineNumber: 223,\n                                columnNumber: 17\n                            }, this)\n                        }, index, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 211,\n                            columnNumber: 15\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 205,\n                    columnNumber: 9\n                }, this),\n                selectedAnswer !== null && !hasAnswered && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleSubmitAnswer,\n                        className: \"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-semibold text-lg\",\n                        children: \"Submit Answer\"\n                    }, void 0, false, {\n                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                        lineNumber: 235,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 234,\n                    columnNumber: 11\n                }, this),\n                hasAnswered && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center text-green-400 font-semibold\",\n                    children: \"✓ Answer submitted! Waiting for other players...\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 245,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-4 text-center text-sm text-gray-400\",\n                    children: [\n                        answeredCount,\n                        \" / \",\n                        gameState.playerCount,\n                        \" players answered\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 251,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 166,\n            columnNumber: 7\n        }, this);\n    }\n    // Reveal screen\n    if (gameState.phase === \"reveal\" && currentQuestion) {\n        const correctIndex = currentQuestion.allAnswers.findIndex((a)=>a === currentQuestion.correctAnswer);\n        const myAnswer = gameState.currentAnswers.find((a)=>a.odUserId === odUserId);\n        const letters = [\n            \"A\",\n            \"B\",\n            \"C\",\n            \"D\"\n        ];\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white mb-2\",\n                            children: myAnswer?.isCorrect ? \"✓ Correct!\" : \"✗ Incorrect\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 269,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-400\",\n                            children: [\n                                \"The correct answer was: \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-green-400 font-bold\",\n                                    children: currentQuestion.correctAnswer\n                                }, void 0, false, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 273,\n                                    columnNumber: 37\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 272,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 268,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-2 gap-4 mb-6\",\n                    children: currentQuestion.allAnswers.map((answer, index)=>{\n                        const isCorrect = index === correctIndex;\n                        const isMyAnswer = myAnswer?.selectedAnswerIndex === index;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `p-4 rounded-lg border-2 ${isCorrect ? \"bg-green-900 border-green-500\" : isMyAnswer ? \"bg-red-900 border-red-500\" : \"bg-gray-800 border-gray-600\"}`,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-lg font-bold\",\n                                        children: [\n                                            letters[index],\n                                            \".\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                        lineNumber: 295,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: isCorrect ? \"text-green-300 font-semibold\" : isMyAnswer ? \"text-red-300\" : \"text-gray-300\",\n                                        children: answer\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                        lineNumber: 296,\n                                        columnNumber: 19\n                                    }, this),\n                                    isCorrect && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-auto text-green-400\",\n                                        children: \"✓\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                        lineNumber: 299,\n                                        columnNumber: 33\n                                    }, this),\n                                    isMyAnswer && !isCorrect && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-auto text-red-400\",\n                                        children: \"✗\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                        lineNumber: 300,\n                                        columnNumber: 48\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                lineNumber: 294,\n                                columnNumber: 17\n                            }, this)\n                        }, index, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 284,\n                            columnNumber: 15\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 278,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gray-800 p-4 rounded-lg mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-white font-semibold mb-2\",\n                            children: \"Results:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 309,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: gameState.currentAnswers.map((answer)=>{\n                                const player = gameState.players.find((p)=>p.odUserId === answer.odUserId);\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between text-sm\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: answer.odUserId === odUserId ? \"text-yellow-400 font-semibold\" : \"text-gray-300\",\n                                            children: [\n                                                player?.displayName || answer.odUserDisplayName || \"Player\",\n                                                \":\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                            lineNumber: 315,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: answer.isCorrect ? \"text-green-400\" : \"text-red-400\",\n                                            children: [\n                                                answer.isCorrect ? `✓ +${answer.pointsEarned} pts` : \"✗ 0 pts\",\n                                                answer.isCorrect && ` (${(answer.timeToAnswer / 1000).toFixed(1)}s)`\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                            lineNumber: 318,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, answer.odUserId, true, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 314,\n                                    columnNumber: 17\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 310,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 308,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center text-gray-400 text-sm\",\n                    children: \"Next question starting soon...\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 328,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 267,\n            columnNumber: 7\n        }, this);\n    }\n    // Scores screen\n    if (gameState.phase === \"scores\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-4 text-center\",\n                    children: \"Current Scores\"\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 339,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2\",\n                    children: sortedPlayers.map((player, index)=>{\n                        const medals = [\n                            \"\\uD83E\\uDD47\",\n                            \"\\uD83E\\uDD48\",\n                            \"\\uD83E\\uDD49\"\n                        ];\n                        const isMe = player.odUserId === odUserId;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `p-3 rounded-lg flex items-center justify-between ${isMe ? \"bg-yellow-900 border-2 border-yellow-500\" : \"bg-gray-800\"}`,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xl\",\n                                            children: index < 3 ? medals[index] : `${index + 1}.`\n                                        }, void 0, false, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                            lineNumber: 352,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: isMe ? \"text-yellow-400 font-semibold\" : \"text-white\",\n                                            children: player.displayName || \"Player\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                            lineNumber: 353,\n                                            columnNumber: 19\n                                        }, this),\n                                        isMe && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-gray-400\",\n                                            children: \"(You)\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                            lineNumber: 356,\n                                            columnNumber: 28\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 351,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-right\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-lg font-bold text-white\",\n                                            children: [\n                                                player.totalPoints,\n                                                \" pts\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                            lineNumber: 359,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs text-gray-400\",\n                                            children: [\n                                                player.correctAnswers,\n                                                \"/\",\n                                                player.correctAnswers + player.wrongAnswers + player.unanswered,\n                                                \" correct\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                            lineNumber: 360,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 358,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, player.odUserId, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 345,\n                            columnNumber: 15\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 340,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 338,\n            columnNumber: 7\n        }, this);\n    }\n    // Game over screen\n    if (gameState.phase === \"finished\") {\n        const winner = sortedPlayers[0];\n        const isWinner = winner?.odUserId === odUserId;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900 rounded-lg border border-white/20 p-8\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-4xl font-bold text-white mb-2\",\n                            children: \"\\uD83C\\uDFC6 Game Over \\uD83C\\uDFC6\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 380,\n                            columnNumber: 11\n                        }, this),\n                        isWinner && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-2xl text-yellow-400 font-semibold\",\n                            children: \"You Won!\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 381,\n                            columnNumber: 24\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 379,\n                    columnNumber: 9\n                }, this),\n                winner && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-yellow-900 border-2 border-yellow-500 p-6 rounded-lg mb-6 text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xl font-bold text-yellow-400\",\n                            children: \"\\uD83E\\uDD47 Winner\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 387,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-2xl text-white mt-2\",\n                            children: winner.displayName || \"Player\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 388,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-lg text-yellow-300 mt-1\",\n                            children: [\n                                winner.totalPoints,\n                                \" points\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 389,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 386,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-bold text-white mb-4\",\n                            children: \"Final Standings\"\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 395,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: sortedPlayers.map((player, index)=>{\n                                const medals = [\n                                    \"\\uD83E\\uDD47\",\n                                    \"\\uD83E\\uDD48\",\n                                    \"\\uD83E\\uDD49\"\n                                ];\n                                const isMe = player.odUserId === odUserId;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `p-4 rounded-lg flex items-center justify-between ${isMe ? \"bg-yellow-900 border border-yellow-500\" : \"bg-gray-800\"}`,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xl\",\n                                                    children: index < 3 ? medals[index] : `${index + 1}.`\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                                    lineNumber: 408,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: isMe ? \"text-yellow-400 font-semibold\" : \"text-white\",\n                                                    children: player.displayName || \"Player\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                                    lineNumber: 409,\n                                                    columnNumber: 21\n                                                }, this),\n                                                isMe && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-gray-400\",\n                                                    children: \"(You)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                                    lineNumber: 412,\n                                                    columnNumber: 30\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                            lineNumber: 407,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-right\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-lg font-bold text-white\",\n                                                    children: [\n                                                        player.totalPoints,\n                                                        \" pts\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                                    lineNumber: 415,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-gray-400\",\n                                                    children: [\n                                                        player.correctAnswers,\n                                                        \"/\",\n                                                        gameState.questions.length,\n                                                        \" correct\",\n                                                        player.streak > 0 && ` • ${player.streak} streak`\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                                    lineNumber: 416,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                            lineNumber: 414,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, player.odUserId, true, {\n                                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                                    lineNumber: 401,\n                                    columnNumber: 17\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                            lineNumber: 396,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n                    lineNumber: 394,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 378,\n            columnNumber: 7\n        }, this);\n    }\n    // Waiting screen\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col items-center justify-center min-h-[400px] bg-gray-900 rounded-lg border border-white/20 p-8\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n            className: \"text-gray-400 text-lg\",\n            children: \"Waiting to start...\"\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n            lineNumber: 433,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/components/games/TriviaGame.tsx\",\n        lineNumber: 432,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9nYW1lcy9Ucml2aWFHYW1lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFeUQ7QUF3RHpELE1BQU1FLG1CQUErQztJQUNuREMsTUFBTTtJQUNOQyxRQUFRO0lBQ1JDLE1BQU07QUFDUjtBQUVBLE1BQU1DLGlCQUEyQztJQUMvQ0MsU0FBUztJQUNUQyxTQUFTO0lBQ1RDLFNBQVM7SUFDVEMsV0FBVztJQUNYQyxlQUFlO0lBQ2ZDLFFBQVE7SUFDUkMsS0FBSztJQUNMQyxPQUFPO0lBQ1BDLFFBQVE7SUFDUkMsWUFBWTtBQUNkO0FBRWUsU0FBU0MsV0FBVyxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLE1BQU0sRUFBbUI7SUFDcEcsTUFBTSxDQUFDQyxnQkFBZ0JDLGtCQUFrQixHQUFHeEIsK0NBQVFBLENBQWdCO0lBQ3BFLE1BQU0sQ0FBQ3lCLGFBQWFDLGVBQWUsR0FBRzFCLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQzJCLG9CQUFvQkMsc0JBQXNCLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUM3RCxNQUFNLENBQUM2QixxQkFBcUJDLHVCQUF1QixHQUFHOUIsK0NBQVFBLENBQU07SUFFcEUsOEVBQThFO0lBQzlFLE1BQU0rQixrQkFBa0JGLHVCQUF1QlgsVUFBVWMsU0FBUyxDQUFDZCxVQUFVZSxvQkFBb0IsQ0FBQztJQUNsRyxNQUFNQyxVQUFVaEIsVUFBVWlCLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFbEIsUUFBUSxLQUFLQTtJQUMzRCxNQUFNbUIsZ0JBQWdCO1dBQUlwQixVQUFVaUIsT0FBTztLQUFDLENBQUNJLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNQSxFQUFFQyxXQUFXLEdBQUdGLEVBQUVFLFdBQVc7SUFFekYsd0RBQXdEO0lBQ3hEekMsZ0RBQVNBLENBQUM7UUFDUixJQUFJLENBQUNxQixRQUFRO1FBRWIsTUFBTXFCLGlCQUFp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cUIsTUFBTSxDQUFDckIsTUFBTSxHQUFHLENBQUMsRUFBRUEsUUFBUSxFQUFFLENBQUMsQ0FBQzs7Ozs7OzhEQUN0RSw4REFBQ047b0RBQUtMLFdBQVdpQyxPQUFPLGtDQUFrQzs4REFDdkRQLE9BQU9DLFdBQVcsSUFBSTs7Ozs7O2dEQUV4Qk0sc0JBQVEsOERBQUM1QjtvREFBS0wsV0FBVTs4REFBd0I7Ozs7Ozs7Ozs7OztzREFFbkQsOERBQUNEOzRDQUFJQyxXQUFVOzs4REFDYiw4REFBQ0Q7b0RBQUlDLFdBQVU7O3dEQUFnQzBCLE9BQU9sRCxXQUFXO3dEQUFDOzs7Ozs7OzhEQUNsRSw4REFBQ3VCO29EQUFJQyxXQUFVOzt3REFDWjBCLE9BQU9RLGNBQWM7d0RBQUM7d0RBQUVsRixVQUFVYyxTQUFTLENBQUNzQyxNQUFNO3dEQUFDO3dEQUNuRHNCLE9BQU9jLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFZCxPQUFPYyxNQUFNLENBQUMsT0FBTyxDQUFDOzs7Ozs7Ozs7Ozs7OzttQ0FoQmpEZCxPQUFPekUsUUFBUTs7Ozs7NEJBcUIxQjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBS1Y7SUFFQSxpQkFBaUI7SUFDakIscUJBQ0UsOERBQUM4QztRQUFJQyxXQUFVO2tCQUNiLDRFQUFDN0I7WUFBRTZCLFdBQVU7c0JBQXdCOzs7Ozs7Ozs7OztBQUczQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BvbWVnbGUtZ2FtZS93ZWIvLi9zcmMvY29tcG9uZW50cy9nYW1lcy9Ucml2aWFHYW1lLnRzeD9lZjc3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBUeXBlcyBtYXRjaGluZyBiYWNrZW5kXG50eXBlIERpZmZpY3VsdHkgPSAnZWFzeScgfCAnbWVkaXVtJyB8ICdoYXJkJztcbnR5cGUgQ2F0ZWdvcnkgPSAnZ2VuZXJhbCcgfCAnc2NpZW5jZScgfCAnaGlzdG9yeScgfCAnZ2VvZ3JhcGh5JyB8ICdlbnRlcnRhaW5tZW50JyB8ICdzcG9ydHMnIHwgJ2FydCcgfCAnbXVzaWMnIHwgJ21vdmllcycgfCAndGVjaG5vbG9neSc7XG50eXBlIEdhbWVQaGFzZSA9ICd3YWl0aW5nJyB8ICdjb3VudGRvd24nIHwgJ3F1ZXN0aW9uJyB8ICdyZXZlYWwnIHwgJ3Njb3JlcycgfCAnZmluaXNoZWQnO1xuXG5pbnRlcmZhY2UgUGxheWVyU2NvcmUge1xuICBvZFVzZXJJZDogc3RyaW5nO1xuICBkaXNwbGF5TmFtZTogc3RyaW5nO1xuICB0b3RhbFBvaW50czogbnVtYmVyO1xuICBjb3JyZWN0QW5zd2VyczogbnVtYmVyO1xuICB3cm9uZ0Fuc3dlcnM6IG51bWJlcjtcbiAgdW5hbnN3ZXJlZDogbnVtYmVyO1xuICBhdmVyYWdlVGltZTogbnVtYmVyO1xuICBzdHJlYWs6IG51bWJlcjtcbiAgbWF4U3RyZWFrOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBUcml2aWFRdWVzdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiBDYXRlZ29yeTtcbiAgZGlmZmljdWx0eTogRGlmZmljdWx0eTtcbiAgcXVlc3Rpb246IHN0cmluZztcbiAgY29ycmVjdEFuc3dlcjogc3RyaW5nO1xuICBpbmNvcnJlY3RBbnN3ZXJzOiBzdHJpbmdbXTtcbiAgYWxsQW5zd2Vyczogc3RyaW5nW107XG4gIHRpbWVMaW1pdDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgVHJpdmlhU3RhdGUge1xuICBwbGF5ZXJzOiBQbGF5ZXJTY29yZVtdO1xuICBwbGF5ZXJDb3VudDogbnVtYmVyO1xuICBxdWVzdGlvbnM6IFRyaXZpYVF1ZXN0aW9uW107XG4gIGN1cnJlbnRRdWVzdGlvbkluZGV4OiBudW1iZXI7XG4gIHBoYXNlOiBHYW1lUGhhc2U7XG4gIHF1ZXN0aW9uU3RhcnRlZEF0OiBudW1iZXIgfCBudWxsO1xuICB0aW1lUmVtYWluaW5nOiBudW1iZXI7XG4gIGN1cnJlbnRBbnN3ZXJzOiBhbnlbXTtcbiAgYW5zd2VySGlzdG9yeTogYW55W11bXTtcbiAgaXNGaW5pc2hlZDogYm9vbGVhbjtcbiAgd2lubmVySWQ6IHN0cmluZyB8IG51bGw7XG4gIHdpbm5lcklkczogc3RyaW5nW107XG4gIGNyZWF0ZWRBdDogbnVtYmVyO1xuICBzdGFydGVkQXQ6IG51bWJlciB8IG51bGw7XG4gIGVuZGVkQXQ6IG51bWJlciB8IG51bGw7XG59XG5cbmludGVyZmFjZSBUcml2aWFHYW1lUHJvcHMge1xuICBnYW1lU3RhdGU6IFRyaXZpYVN0YXRlO1xuICBvZFVzZXJJZDogc3RyaW5nO1xuICBvbkFuc3dlcjogKHF1ZXN0aW9uSW5kZXg6IG51bWJlciwgYW5zd2VySW5kZXg6IG51bWJlcikgPT4gdm9pZDtcbiAgb25SZWFkeT86ICgpID0+IHZvaWQ7XG4gIHNvY2tldD86IGFueTtcbn1cblxuY29uc3QgRElGRklDVUxUWV9TVEFSUzogUmVjb3JkPERpZmZpY3VsdHksIHN0cmluZz4gPSB7XG4gIGVhc3k6ICfimIXimIbimIYnLFxuICBtZWRpdW06ICfimIXimIXimIYnLFxuICBoYXJkOiAn4piF4piF4piFJyxcbn07XG5cbmNvbnN0IENBVEVHT1JZX05BTUVTOiBSZWNvcmQ8Q2F0ZWdvcnksIHN0cmluZz4gPSB7XG4gIGdlbmVyYWw6ICdHZW5lcmFsIEtub3dsZWRnZScsXG4gIHNjaWVuY2U6ICdTY2llbmNlICYgTmF0dXJlJyxcbiAgaGlzdG9yeTogJ0hpc3RvcnknLFxuICBnZW9ncmFwaHk6ICdHZW9ncmFwaHknLFxuICBlbnRlcnRhaW5tZW50OiAnRW50ZXJ0YWlubWVudCcsXG4gIHNwb3J0czogJ1Nwb3J0cycsXG4gIGFydDogJ0FydCcsXG4gIG11c2ljOiAnTXVzaWMnLFxuICBtb3ZpZXM6ICdGaWxtJyxcbiAgdGVjaG5vbG9neTogJ0NvbXB1dGVycycsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUcml2aWFHYW1lKHsgZ2FtZVN0YXRlLCBvZFVzZXJJZCwgb25BbnN3ZXIsIG9uUmVhZHksIHNvY2tldCB9OiBUcml2aWFHYW1lUHJvcHMpIHtcbiAgY29uc3QgW3NlbGVjdGVkQW5zd2VyLCBzZXRTZWxlY3RlZEFuc3dlcl0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2hhc0Fuc3dlcmVkLCBzZXRIYXNBbnN3ZXJlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2NhbFRpbWVSZW1haW5pbmcsIHNldExvY2FsVGltZVJlbWFpbmluZ10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2N1cnJlbnRRdWVzdGlvbkRhdGEsIHNldEN1cnJlbnRRdWVzdGlvbkRhdGFdID0gdXNlU3RhdGU8YW55PihudWxsKTtcblxuICAvLyBVc2UgY3VycmVudFF1ZXN0aW9uRGF0YSBpZiBhdmFpbGFibGUgKGZyb20gc29ja2V0KSwgb3RoZXJ3aXNlIHVzZSBnYW1lU3RhdGVcbiAgY29uc3QgY3VycmVudFF1ZXN0aW9uID0gY3VycmVudFF1ZXN0aW9uRGF0YSB8fCBnYW1lU3RhdGUucXVlc3Rpb25zW2dhbWVTdGF0ZS5jdXJyZW50UXVlc3Rpb25JbmRleF07XG4gIGNvbnN0IG15U2NvcmUgPSBnYW1lU3RhdGUucGxheWVycy5maW5kKHAgPT4gcC5vZFVzZXJJZCA9PT0gb2RVc2VySWQpO1xuICBjb25zdCBzb3J0ZWRQbGF5ZXJzID0gWy4uLmdhbWVTdGF0ZS5wbGF5ZXJzXS5zb3J0KChhLCBiKSA9PiBiLnRvdGFsUG9pbnRzIC0gYS50b3RhbFBvaW50cyk7XG5cbiAgLy8gTGlzdGVuIGZvciB0cml2aWEucXVlc3Rpb24gZXZlbnQgdG8gZ2V0IHF1ZXN0aW9uIGRhdGFcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNvY2tldCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaGFuZGxlUXVlc3Rpb24gPSAoZGF0YTogeyBxdWVzdGlvbjogc3RyaW5nOyBhbnN3ZXJzOiBzdHJpbmdbXTsgY2F0ZWdvcnk6IHN0cmluZzsgZGlmZmljdWx0eTogc3RyaW5nOyB0aW1lTGltaXQ6IG51bWJlciB9KSA9PiB7XG4gICAgICBzZXRDdXJyZW50UXVlc3Rpb25EYXRhKHtcbiAgICAgICAgcXVlc3Rpb246IGRhdGEucXVlc3Rpb24sXG4gICAgICAgIGFsbEFuc3dlcnM6IGRhdGEuYW5zd2VycyxcbiAgICAgICAgY2F0ZWdvcnk6IGRhdGEuY2F0ZWdvcnksXG4gICAgICAgIGRpZmZpY3VsdHk6IGRhdGEuZGlmZmljdWx0eSxcbiAgICAgICAgdGltZUxpbWl0OiBkYXRhLnRpbWVMaW1pdFxuICAgICAgfSk7XG4gICAgICBzZXRMb2NhbFRpbWVSZW1haW5pbmcoZGF0YS50aW1lTGltaXQpO1xuICAgICAgc2V0U2VsZWN0ZWRBbnN3ZXIobnVsbCk7XG4gICAgICBzZXRIYXNBbnN3ZXJlZChmYWxzZSk7XG4gICAgfTtcblxuICAgIHNvY2tldC5vbihcInRyaXZpYS5xdWVzdGlvblwiLCBoYW5kbGVRdWVzdGlvbik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNvY2tldC5vZmYoXCJ0cml2aWEucXVlc3Rpb25cIiwgaGFuZGxlUXVlc3Rpb24pO1xuICAgIH07XG4gIH0sIFtzb2NrZXRdKTtcblxuICAvLyBVcGRhdGUgbG9jYWwgdGltZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2FtZVN0YXRlLnBoYXNlID09PSAncXVlc3Rpb24nICYmIGdhbWVTdGF0ZS50aW1lUmVtYWluaW5nID4gMCkge1xuICAgICAgc2V0TG9jYWxUaW1lUmVtYWluaW5nKGdhbWVTdGF0ZS50aW1lUmVtYWluaW5nKTtcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBzZXRMb2NhbFRpbWVSZW1haW5pbmcoKHByZXYpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdUaW1lID0gTWF0aC5tYXgoMCwgcHJldiAtIDEpO1xuICAgICAgICAgIGlmIChuZXdUaW1lID09PSAwKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ld1RpbWU7XG4gICAgICAgIH0pO1xuICAgICAgfSwgMTAwMCk7XG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgfVxuICB9LCBbZ2FtZVN0YXRlLnBoYXNlLCBnYW1lU3RhdGUudGltZVJlbWFpbmluZ10pO1xuXG4gIC8vIFJlc2V0IGFuc3dlciBzdGF0ZSB3aGVuIG5ldyBxdWVzdGlvbiBzdGFydHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2FtZVN0YXRlLnBoYXNlID09PSAncXVlc3Rpb24nKSB7XG4gICAgICBzZXRTZWxlY3RlZEFuc3dlcihudWxsKTtcbiAgICAgIHNldEhhc0Fuc3dlcmVkKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtnYW1lU3RhdGUuY3VycmVudFF1ZXN0aW9uSW5kZXgsIGdhbWVTdGF0ZS5waGFzZV0pO1xuXG4gIGNvbnN0IGhhbmRsZUFuc3dlclNlbGVjdCA9IChhbnN3ZXJJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKGhhc0Fuc3dlcmVkIHx8IGdhbWVTdGF0ZS5waGFzZSAhPT0gJ3F1ZXN0aW9uJykgcmV0dXJuO1xuICAgIHNldFNlbGVjdGVkQW5zd2VyKGFuc3dlckluZGV4KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXRBbnN3ZXIgPSAoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkQW5zd2VyID09PSBudWxsIHx8IGhhc0Fuc3dlcmVkKSByZXR1cm47XG4gICAgc2V0SGFzQW5zd2VyZWQodHJ1ZSk7XG4gICAgb25BbnN3ZXIoZ2FtZVN0YXRlLmN1cnJlbnRRdWVzdGlvbkluZGV4LCBzZWxlY3RlZEFuc3dlcik7XG4gIH07XG5cbiAgLy8gQ291bnRkb3duIHNjcmVlblxuICBpZiAoZ2FtZVN0YXRlLnBoYXNlID09PSAnY291bnRkb3duJykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLVs0MDBweF0gYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtOHhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTRcIj5cbiAgICAgICAgICB7Z2FtZVN0YXRlLnRpbWVSZW1haW5pbmcgPiAwID8gZ2FtZVN0YXRlLnRpbWVSZW1haW5pbmcgOiAnR08hJ31cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1sZ1wiPkdldCByZWFkeSBmb3IgdGhlIGZpcnN0IHF1ZXN0aW9uITwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBRdWVzdGlvbiBzY3JlZW5cbiAgaWYgKGdhbWVTdGF0ZS5waGFzZSA9PT0gJ3F1ZXN0aW9uJyAmJiBjdXJyZW50UXVlc3Rpb24pIHtcbiAgICBjb25zdCBwcm9ncmVzc1BlcmNlbnQgPSAoKGN1cnJlbnRRdWVzdGlvbi50aW1lTGltaXQgLSBsb2NhbFRpbWVSZW1haW5pbmcpIC8gY3VycmVudFF1ZXN0aW9uLnRpbWVMaW1pdCkgKiAxMDA7XG4gICAgY29uc3QgYW5zd2VyZWRDb3VudCA9IGdhbWVTdGF0ZS5jdXJyZW50QW5zd2Vycy5sZW5ndGg7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMjAgcC02XCI+XG4gICAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5RdWVzdGlvbjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAge2dhbWVTdGF0ZS5jdXJyZW50UXVlc3Rpb25JbmRleCArIDF9IC8ge2dhbWVTdGF0ZS5xdWVzdGlvbnMubGVuZ3RofVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMFwiPntDQVRFR09SWV9OQU1FU1tjdXJyZW50UXVlc3Rpb24uY2F0ZWdvcnkgYXMgQ2F0ZWdvcnldIHx8IGN1cnJlbnRRdWVzdGlvbi5jYXRlZ29yeX08L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQteWVsbG93LTQwMFwiPntESUZGSUNVTFRZX1NUQVJTW2N1cnJlbnRRdWVzdGlvbi5kaWZmaWN1bHR5IGFzIERpZmZpY3VsdHldIHx8ICfimIXimIbimIYnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFRpbWVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5UaW1lIHJlbWFpbmluZzwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtbGcgZm9udC1ib2xkICR7bG9jYWxUaW1lUmVtYWluaW5nIDw9IDUgPyAndGV4dC1yZWQtNDAwJyA6ICd0ZXh0LWdyZWVuLTQwMCd9YH0+XG4gICAgICAgICAgICAgIHtsb2NhbFRpbWVSZW1haW5pbmd9c1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktNzAwIHJvdW5kZWQtZnVsbCBoLTJcIj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaC0yIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCAke2xvY2FsVGltZVJlbWFpbmluZyA8PSA1ID8gJ2JnLXJlZC01MDAnIDogJ2JnLWdyZWVuLTUwMCd9YH1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAkezEwMCAtIHByb2dyZXNzUGVyY2VudH0lYCB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFF1ZXN0aW9uICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHAtNiByb3VuZGVkLWxnIG1iLTZcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIHtjdXJyZW50UXVlc3Rpb24ucXVlc3Rpb259XG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEFuc3dlcnMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNCBtYi02XCI+XG4gICAgICAgICAge2N1cnJlbnRRdWVzdGlvbi5hbGxBbnN3ZXJzLm1hcCgoYW5zd2VyOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3RlZEFuc3dlciA9PT0gaW5kZXg7XG4gICAgICAgICAgICBjb25zdCBsZXR0ZXJzID0gWydBJywgJ0InLCAnQycsICdEJ107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFuc3dlclNlbGVjdChpbmRleCl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2hhc0Fuc3dlcmVkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtNCByb3VuZGVkLWxnIGJvcmRlci0yIHRleHQtbGVmdCB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICA/ICdiZy15ZWxsb3ctNjAwIGJvcmRlci15ZWxsb3ctNDAwIHRleHQtd2hpdGUnXG4gICAgICAgICAgICAgICAgICAgIDogaGFzQW5zd2VyZWRcbiAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JheS04MDAgYm9yZGVyLWdyYXktNjAwIHRleHQtZ3JheS00MDAgY3Vyc29yLW5vdC1hbGxvd2VkJ1xuICAgICAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTgwMCBib3JkZXItZ3JheS02MDAgdGV4dC13aGl0ZSBob3Zlcjpib3JkZXItZ3JheS00MDAgaG92ZXI6YmctZ3JheS03MDAnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZFwiPntsZXR0ZXJzW2luZGV4XX0uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+e2Fuc3dlcn08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFN1Ym1pdCBidXR0b24gKi99XG4gICAgICAgIHtzZWxlY3RlZEFuc3dlciAhPT0gbnVsbCAmJiAhaGFzQW5zd2VyZWQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0QW5zd2VyfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmVlbi02MDAgaG92ZXI6YmctZ3JlZW4tNzAwIHRleHQtd2hpdGUgcHgtOCBweS0zIHJvdW5kZWQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWxnXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgU3VibWl0IEFuc3dlclxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge2hhc0Fuc3dlcmVkICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JlZW4tNDAwIGZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICAgIOKckyBBbnN3ZXIgc3VibWl0dGVkISBXYWl0aW5nIGZvciBvdGhlciBwbGF5ZXJzLi4uXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFBsYXllcnMgYW5zd2VyZWQgY291bnQgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICB7YW5zd2VyZWRDb3VudH0gLyB7Z2FtZVN0YXRlLnBsYXllckNvdW50fSBwbGF5ZXJzIGFuc3dlcmVkXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFJldmVhbCBzY3JlZW5cbiAgaWYgKGdhbWVTdGF0ZS5waGFzZSA9PT0gJ3JldmVhbCcgJiYgY3VycmVudFF1ZXN0aW9uKSB7XG4gICAgY29uc3QgY29ycmVjdEluZGV4ID0gY3VycmVudFF1ZXN0aW9uLmFsbEFuc3dlcnMuZmluZEluZGV4KFxuICAgICAgKGE6IHN0cmluZykgPT4gYSA9PT0gY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJcbiAgICApO1xuICAgIGNvbnN0IG15QW5zd2VyID0gZ2FtZVN0YXRlLmN1cnJlbnRBbnN3ZXJzLmZpbmQoYSA9PiBhLm9kVXNlcklkID09PSBvZFVzZXJJZCk7XG4gICAgY29uc3QgbGV0dGVycyA9IFsnQScsICdCJywgJ0MnLCAnRCddO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLTZcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItMlwiPlxuICAgICAgICAgICAge215QW5zd2VyPy5pc0NvcnJlY3QgPyAn4pyTIENvcnJlY3QhJyA6ICfinJcgSW5jb3JyZWN0J31cbiAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgIFRoZSBjb3JyZWN0IGFuc3dlciB3YXM6IDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JlZW4tNDAwIGZvbnQtYm9sZFwiPntjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcn08L3NwYW4+XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogQW5zd2VyIGdyaWQgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNCBtYi02XCI+XG4gICAgICAgICAge2N1cnJlbnRRdWVzdGlvbi5hbGxBbnN3ZXJzLm1hcCgoYW5zd2VyOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzQ29ycmVjdCA9IGluZGV4ID09PSBjb3JyZWN0SW5kZXg7XG4gICAgICAgICAgICBjb25zdCBpc015QW5zd2VyID0gbXlBbnN3ZXI/LnNlbGVjdGVkQW5zd2VySW5kZXggPT09IGluZGV4O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTQgcm91bmRlZC1sZyBib3JkZXItMiAke1xuICAgICAgICAgICAgICAgICAgaXNDb3JyZWN0XG4gICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTkwMCBib3JkZXItZ3JlZW4tNTAwJ1xuICAgICAgICAgICAgICAgICAgICA6IGlzTXlBbnN3ZXJcbiAgICAgICAgICAgICAgICAgICAgPyAnYmctcmVkLTkwMCBib3JkZXItcmVkLTUwMCdcbiAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS04MDAgYm9yZGVyLWdyYXktNjAwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGRcIj57bGV0dGVyc1tpbmRleF19Ljwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17aXNDb3JyZWN0ID8gJ3RleHQtZ3JlZW4tMzAwIGZvbnQtc2VtaWJvbGQnIDogaXNNeUFuc3dlciA/ICd0ZXh0LXJlZC0zMDAnIDogJ3RleHQtZ3JheS0zMDAnfT5cbiAgICAgICAgICAgICAgICAgICAge2Fuc3dlcn1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIHtpc0NvcnJlY3QgJiYgPHNwYW4gY2xhc3NOYW1lPVwibWwtYXV0byB0ZXh0LWdyZWVuLTQwMFwiPuKckzwvc3Bhbj59XG4gICAgICAgICAgICAgICAgICB7aXNNeUFuc3dlciAmJiAhaXNDb3JyZWN0ICYmIDxzcGFuIGNsYXNzTmFtZT1cIm1sLWF1dG8gdGV4dC1yZWQtNDAwXCI+4pyXPC9zcGFuPn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogUmVzdWx0cyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBwLTQgcm91bmRlZC1sZyBtYi00XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBtYi0yXCI+UmVzdWx0czo8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICB7Z2FtZVN0YXRlLmN1cnJlbnRBbnN3ZXJzLm1hcCgoYW5zd2VyKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IGdhbWVTdGF0ZS5wbGF5ZXJzLmZpbmQocCA9PiBwLm9kVXNlcklkID09PSBhbnN3ZXIub2RVc2VySWQpO1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXthbnN3ZXIub2RVc2VySWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Fuc3dlci5vZFVzZXJJZCA9PT0gb2RVc2VySWQgPyAndGV4dC15ZWxsb3ctNDAwIGZvbnQtc2VtaWJvbGQnIDogJ3RleHQtZ3JheS0zMDAnfT5cbiAgICAgICAgICAgICAgICAgICAge3BsYXllcj8uZGlzcGxheU5hbWUgfHwgYW5zd2VyLm9kVXNlckRpc3BsYXlOYW1lIHx8ICdQbGF5ZXInfTpcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YW5zd2VyLmlzQ29ycmVjdCA/ICd0ZXh0LWdyZWVuLTQwMCcgOiAndGV4dC1yZWQtNDAwJ30+XG4gICAgICAgICAgICAgICAgICAgIHthbnN3ZXIuaXNDb3JyZWN0ID8gYOKckyArJHthbnN3ZXIucG9pbnRzRWFybmVkfSBwdHNgIDogJ+KclyAwIHB0cyd9XG4gICAgICAgICAgICAgICAgICAgIHthbnN3ZXIuaXNDb3JyZWN0ICYmIGAgKCR7KGFuc3dlci50aW1lVG9BbnN3ZXIgLyAxMDAwKS50b0ZpeGVkKDEpfXMpYH1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgIE5leHQgcXVlc3Rpb24gc3RhcnRpbmcgc29vbi4uLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBTY29yZXMgc2NyZWVuXG4gIGlmIChnYW1lU3RhdGUucGhhc2UgPT09ICdzY29yZXMnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtNlwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItNCB0ZXh0LWNlbnRlclwiPkN1cnJlbnQgU2NvcmVzPC9oMj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICB7c29ydGVkUGxheWVycy5tYXAoKHBsYXllciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lZGFscyA9IFsn8J+lhycsICfwn6WIJywgJ/CfpYknXTtcbiAgICAgICAgICAgIGNvbnN0IGlzTWUgPSBwbGF5ZXIub2RVc2VySWQgPT09IG9kVXNlcklkO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17cGxheWVyLm9kVXNlcklkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMyByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiAke1xuICAgICAgICAgICAgICAgICAgaXNNZSA/ICdiZy15ZWxsb3ctOTAwIGJvcmRlci0yIGJvcmRlci15ZWxsb3ctNTAwJyA6ICdiZy1ncmF5LTgwMCdcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGxcIj57aW5kZXggPCAzID8gbWVkYWxzW2luZGV4XSA6IGAke2luZGV4ICsgMX0uYH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2lzTWUgPyAndGV4dC15ZWxsb3ctNDAwIGZvbnQtc2VtaWJvbGQnIDogJ3RleHQtd2hpdGUnfT5cbiAgICAgICAgICAgICAgICAgICAge3BsYXllci5kaXNwbGF5TmFtZSB8fCAnUGxheWVyJ31cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIHtpc01lICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMFwiPihZb3UpPC9zcGFuPn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGQgdGV4dC13aGl0ZVwiPntwbGF5ZXIudG90YWxQb2ludHN9IHB0czwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAge3BsYXllci5jb3JyZWN0QW5zd2Vyc30ve3BsYXllci5jb3JyZWN0QW5zd2VycyArIHBsYXllci53cm9uZ0Fuc3dlcnMgKyBwbGF5ZXIudW5hbnN3ZXJlZH0gY29ycmVjdFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gR2FtZSBvdmVyIHNjcmVlblxuICBpZiAoZ2FtZVN0YXRlLnBoYXNlID09PSAnZmluaXNoZWQnKSB7XG4gICAgY29uc3Qgd2lubmVyID0gc29ydGVkUGxheWVyc1swXTtcbiAgICBjb25zdCBpc1dpbm5lciA9IHdpbm5lcj8ub2RVc2VySWQgPT09IG9kVXNlcklkO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLTZcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC00eGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItMlwiPvCfj4YgR2FtZSBPdmVyIPCfj4Y8L2gxPlxuICAgICAgICAgIHtpc1dpbm5lciAmJiA8cCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCB0ZXh0LXllbGxvdy00MDAgZm9udC1zZW1pYm9sZFwiPllvdSBXb24hPC9wPn1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFdpbm5lciAqL31cbiAgICAgICAge3dpbm5lciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy15ZWxsb3ctOTAwIGJvcmRlci0yIGJvcmRlci15ZWxsb3ctNTAwIHAtNiByb3VuZGVkLWxnIG1iLTYgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQteWVsbG93LTQwMFwiPvCfpYcgV2lubmVyPC9wPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC0yeGwgdGV4dC13aGl0ZSBtdC0yXCI+e3dpbm5lci5kaXNwbGF5TmFtZSB8fCAnUGxheWVyJ308L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIHRleHQteWVsbG93LTMwMCBtdC0xXCI+e3dpbm5lci50b3RhbFBvaW50c30gcG9pbnRzPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBGaW5hbCBzdGFuZGluZ3MgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTRcIj5GaW5hbCBTdGFuZGluZ3M8L2gyPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICB7c29ydGVkUGxheWVycy5tYXAoKHBsYXllciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgbWVkYWxzID0gWyfwn6WHJywgJ/CfpYgnLCAn8J+liSddO1xuICAgICAgICAgICAgICBjb25zdCBpc01lID0gcGxheWVyLm9kVXNlcklkID09PSBvZFVzZXJJZDtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBrZXk9e3BsYXllci5vZFVzZXJJZH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtNCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiAke1xuICAgICAgICAgICAgICAgICAgICBpc01lID8gJ2JnLXllbGxvdy05MDAgYm9yZGVyIGJvcmRlci15ZWxsb3ctNTAwJyA6ICdiZy1ncmF5LTgwMCdcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14bFwiPntpbmRleCA8IDMgPyBtZWRhbHNbaW5kZXhdIDogYCR7aW5kZXggKyAxfS5gfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtpc01lID8gJ3RleHQteWVsbG93LTQwMCBmb250LXNlbWlib2xkJyA6ICd0ZXh0LXdoaXRlJ30+XG4gICAgICAgICAgICAgICAgICAgICAge3BsYXllci5kaXNwbGF5TmFtZSB8fCAnUGxheWVyJ31cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7aXNNZSAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDBcIj4oWW91KTwvc3Bhbj59XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtd2hpdGVcIj57cGxheWVyLnRvdGFsUG9pbnRzfSBwdHM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7cGxheWVyLmNvcnJlY3RBbnN3ZXJzfS97Z2FtZVN0YXRlLnF1ZXN0aW9ucy5sZW5ndGh9IGNvcnJlY3RcbiAgICAgICAgICAgICAgICAgICAgICB7cGxheWVyLnN0cmVhayA+IDAgJiYgYCDigKIgJHtwbGF5ZXIuc3RyZWFrfSBzdHJlYWtgfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFdhaXRpbmcgc2NyZWVuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1bNDAwcHhdIGJnLWdyYXktOTAwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci13aGl0ZS8yMCBwLThcIj5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1sZ1wiPldhaXRpbmcgdG8gc3RhcnQuLi48L3A+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkRJRkZJQ1VMVFlfU1RBUlMiLCJlYXN5IiwibWVkaXVtIiwiaGFyZCIsIkNBVEVHT1JZX05BTUVTIiwiZ2VuZXJhbCIsInNjaWVuY2UiLCJoaXN0b3J5IiwiZ2VvZ3JhcGh5IiwiZW50ZXJ0YWlubWVudCIsInNwb3J0cyIsImFydCIsIm11c2ljIiwibW92aWVzIiwidGVjaG5vbG9neSIsIlRyaXZpYUdhbWUiLCJnYW1lU3RhdGUiLCJvZFVzZXJJZCIsIm9uQW5zd2VyIiwib25SZWFkeSIsInNvY2tldCIsInNlbGVjdGVkQW5zd2VyIiwic2V0U2VsZWN0ZWRBbnN3ZXIiLCJoYXNBbnN3ZXJlZCIsInNldEhhc0Fuc3dlcmVkIiwibG9jYWxUaW1lUmVtYWluaW5nIiwic2V0TG9jYWxUaW1lUmVtYWluaW5nIiwiY3VycmVudFF1ZXN0aW9uRGF0YSIsInNldEN1cnJlbnRRdWVzdGlvbkRhdGEiLCJjdXJyZW50UXVlc3Rpb24iLCJxdWVzdGlvbnMiLCJjdXJyZW50UXVlc3Rpb25JbmRleCIsIm15U2NvcmUiLCJwbGF5ZXJzIiwiZmluZCIsInAiLCJzb3J0ZWRQbGF5ZXJzIiwic29ydCIsImEiLCJiIiwidG90YWxQb2ludHMiLCJoYW5kbGVRdWVzdGlvbiIsImRhdGEiLCJxdWVzdGlvbiIsImFsbEFuc3dlcnMiLCJhbnN3ZXJzIiwiY2F0ZWdvcnkiLCJkaWZmaWN1bHR5IiwidGltZUxpbWl0Iiwib24iLCJvZmYiLCJwaGFzZSIsInRpbWVSZW1haW5pbmciLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwicHJldiIsIm5ld1RpbWUiLCJNYXRoIiwibWF4IiwiY2xlYXJJbnRlcnZhbCIsImhhbmRsZUFuc3dlclNlbGVjdCIsImFuc3dlckluZGV4IiwiaGFuZGxlU3VibWl0QW5zd2VyIiwiZGl2IiwiY2xhc3NOYW1lIiwicHJvZ3Jlc3NQZXJjZW50IiwiYW5zd2VyZWRDb3VudCIsImN1cnJlbnRBbnN3ZXJzIiwibGVuZ3RoIiwic3BhbiIsInN0eWxlIiwid2lkdGgiLCJoMiIsIm1hcCIsImFuc3dlciIsImluZGV4IiwiaXNTZWxlY3RlZCIsImxldHRlcnMiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJwbGF5ZXJDb3VudCIsImNvcnJlY3RJbmRleCIsImZpbmRJbmRleCIsImNvcnJlY3RBbnN3ZXIiLCJteUFuc3dlciIsImlzQ29ycmVjdCIsImlzTXlBbnN3ZXIiLCJzZWxlY3RlZEFuc3dlckluZGV4IiwiaDMiLCJwbGF5ZXIiLCJkaXNwbGF5TmFtZSIsIm9kVXNlckRpc3BsYXlOYW1lIiwicG9pbnRzRWFybmVkIiwidGltZVRvQW5zd2VyIiwidG9GaXhlZCIsIm1lZGFscyIsImlzTWUiLCJjb3JyZWN0QW5zd2VycyIsIndyb25nQW5zd2VycyIsInVuYW5zd2VyZWQiLCJ3aW5uZXIiLCJpc1dpbm5lciIsImgxIiwic3RyZWFrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/games/TriviaGame.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   api: () => (/* binding */ api),\n/* harmony export */   authApi: () => (/* binding */ authApi),\n/* harmony export */   roomsApi: () => (/* binding */ roomsApi),\n/* harmony export */   subscriptionsApi: () => (/* binding */ subscriptionsApi),\n/* harmony export */   usersApi: () => (/* binding */ usersApi),\n/* harmony export */   videoApi: () => (/* binding */ videoApi),\n/* harmony export */   walletApi: () => (/* binding */ walletApi)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(ssr)/../node_modules/axios/lib/axios.js\");\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3001\";\nconst api = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: `${API_BASE_URL}/api`,\n    withCredentials: true,\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n});\n// Add token to requests if available\napi.interceptors.request.use((config)=>{\n    if (false) {}\n    return config;\n});\nconst authApi = {\n    login: async (email, password)=>{\n        const response = await api.post(\"/auth/login\", {\n            email,\n            password\n        });\n        if (response.data.accessToken) {\n            localStorage.setItem(\"accessToken\", response.data.accessToken);\n        }\n        return response.data;\n    },\n    register: async (email, password, displayName, username, dateOfBirth)=>{\n        const response = await api.post(\"/auth/register\", {\n            email,\n            password,\n            displayName,\n            username,\n            dateOfBirth\n        });\n        if (response.data.accessToken) {\n            localStorage.setItem(\"accessToken\", response.data.accessToken);\n        }\n        return response.data;\n    },\n    logout: async ()=>{\n        await api.post(\"/auth/logout\");\n        localStorage.removeItem(\"accessToken\");\n    }\n};\nconst subscriptionsApi = {\n    getMySubscription: async ()=>{\n        const response = await api.get(\"/subscriptions/me\");\n        return response.data;\n    },\n    createBasicCheckout: async ()=>{\n        const response = await api.post(\"/subscriptions/basic/create-checkout-session\");\n        return response.data;\n    }\n};\nconst walletApi = {\n    getMyWallet: async ()=>{\n        const response = await api.get(\"/wallet/me\");\n        return response.data;\n    },\n    createTokenPackCheckout: async (packId)=>{\n        const response = await api.post(\"/wallet/token-pack\", {\n            packId\n        });\n        return response.data;\n    }\n};\nconst usersApi = {\n    getMe: async ()=>{\n        const response = await api.get(\"/users/me\");\n        return response.data;\n    }\n};\nconst videoApi = {\n    getAppId: async ()=>{\n        const response = await api.get(\"/video/app-id\");\n        return response.data;\n    },\n    getToken: async (sessionId)=>{\n        const response = await api.get(`/video/token?sessionId=${sessionId}`);\n        return response.data;\n    }\n};\nconst roomsApi = {\n    getPublicRooms: async (region)=>{\n        const query = region ? `?region=${region}` : \"\";\n        const response = await api.get(`/rooms${query}`);\n        return response.data;\n    },\n    getRoomDetails: async (roomId)=>{\n        const response = await api.get(`/rooms/${roomId}`);\n        return response.data;\n    },\n    createRoom: async (data)=>{\n        const response = await api.post(\"/rooms\", data);\n        return response.data;\n    },\n    joinRoom: async (roomId, password)=>{\n        const response = await api.post(`/rooms/${roomId}/join`, {\n            password\n        });\n        return response.data;\n    },\n    leaveRoom: async (roomId)=>{\n        const response = await api.post(`/rooms/${roomId}/leave`);\n        return response.data;\n    },\n    endRoom: async (roomId)=>{\n        const response = await api.post(`/rooms/${roomId}/end`);\n        return response.data;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQWlCLENBQUMsTUFBTSxFQUFFZSxNQUFNLENBQUM7UUFDL0QsT0FBTzVCLFNBQVNFLElBQUk7SUFDdEI7SUFDQTJCLGdCQUFnQixPQUFPQztRQUNyQixNQUFNOUIsV0FBVyxNQUFNakIsSUFBSThCLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRWlCLE9BQU8sQ0FBQztRQUNqRCxPQUFPOUIsU0FBU0UsSUFBSTtJQUN0QjtJQUNBNkIsWUFBWSxPQUFPN0I7UUFDakIsTUFBTUYsV0FBVyxNQUFNakIsSUFBSWtCLElBQUksQ0FBQyxVQUFVQztRQUMxQyxPQUFPRixTQUFTRSxJQUFJO0lBQ3RCO0lBQ0E4QixVQUFVLE9BQU9GLFFBQWdCL0I7UUFDL0IsTUFBTUMsV0FBVyxNQUFNakIsSUFBSWtCLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRTZCLE9BQU8sS0FBSyxDQUFDLEVBQUU7WUFBRS9CO1FBQVM7UUFDcEUsT0FBT0MsU0FBU0UsSUFBSTtJQUN0QjtJQUNBK0IsV0FBVyxPQUFPSDtRQUNoQixNQUFNOUIsV0FBVyxNQUFNakIsSUFBSWtCLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRTZCLE9BQU8sTUFBTSxDQUFDO1FBQ3hELE9BQU85QixTQUFTRSxJQUFJO0lBQ3RCO0lBQ0FnQyxTQUFTLE9BQU9KO1FBQ2QsTUFBTTlCLFdBQVcsTUFBTWpCLElBQUlrQixJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUU2QixPQUFPLElBQUksQ0FBQztRQUN0RCxPQUFPOUIsU0FBU0UsSUFBSTtJQUN0QjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab21lZ2xlLWdhbWUvd2ViLy4vc3JjL2xpYi9hcGkudHM/MmZhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5cbmNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjMwMDFcIjtcblxuZXhwb3J0IGNvbnN0IGFwaSA9IGF4aW9zLmNyZWF0ZSh7XG4gIGJhc2VVUkw6IGAke0FQSV9CQVNFX1VSTH0vYXBpYCxcbiAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICBoZWFkZXJzOiB7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfVxufSk7XG5cbi8vIEFkZCB0b2tlbiB0byByZXF1ZXN0cyBpZiBhdmFpbGFibGVcbmFwaS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoKGNvbmZpZykgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhY2Nlc3NUb2tlblwiKTtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmZpZztcbn0pO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvZ2luUmVzcG9uc2Uge1xuICBhY2Nlc3NUb2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlZ2lzdGVyUmVzcG9uc2Uge1xuICBhY2Nlc3NUb2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoZWNrb3V0UmVzcG9uc2Uge1xuICBjaGVja291dFVybDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmlwdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nO1xuICBzdGFydGVkQXQ/OiBzdHJpbmc7XG4gIGN1cnJlbnRQZXJpb2RFbmQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2FsbGV0IHtcbiAgaWQ6IHN0cmluZztcbiAgYmFsYW5jZVRva2VuczogbnVtYmVyO1xuICB0cmFuc2FjdGlvbnM6IEFycmF5PHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBhbW91bnRUb2tlbnM6IG51bWJlcjtcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgfT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XG4gIGlkOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIGlzMThQbHVzVmVyaWZpZWQ6IGJvb2xlYW47XG4gIHN1YnNjcmlwdGlvbj86IFN1YnNjcmlwdGlvbjtcbiAgd2FsbGV0PzogV2FsbGV0O1xufVxuXG5leHBvcnQgY29uc3QgYXV0aEFwaSA9IHtcbiAgbG9naW46IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxMb2dpblJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdDxMb2dpblJlc3BvbnNlPihcIi9hdXRoL2xvZ2luXCIsIHsgZW1haWwsIHBhc3N3b3JkIH0pO1xuICAgIGlmIChyZXNwb25zZS5kYXRhLmFjY2Vzc1Rva2VuKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImFjY2Vzc1Rva2VuXCIsIHJlc3BvbnNlLmRhdGEuYWNjZXNzVG9rZW4pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcbiAgcmVnaXN0ZXI6IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCBkaXNwbGF5TmFtZTogc3RyaW5nLCB1c2VybmFtZTogc3RyaW5nLCBkYXRlT2ZCaXJ0aDogc3RyaW5nKTogUHJvbWlzZTxSZWdpc3RlclJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdDxSZWdpc3RlclJlc3BvbnNlPihcIi9hdXRoL3JlZ2lzdGVyXCIsIHtcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBkaXNwbGF5TmFtZSxcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgZGF0ZU9mQmlydGhcbiAgICB9KTtcbiAgICBpZiAocmVzcG9uc2UuZGF0YS5hY2Nlc3NUb2tlbikge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJhY2Nlc3NUb2tlblwiLCByZXNwb25zZS5kYXRhLmFjY2Vzc1Rva2VuKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIGxvZ291dDogYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGF3YWl0IGFwaS5wb3N0KFwiL2F1dGgvbG9nb3V0XCIpO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiYWNjZXNzVG9rZW5cIik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpcHRpb25zQXBpID0ge1xuICBnZXRNeVN1YnNjcmlwdGlvbjogYXN5bmMgKCk6IFByb21pc2U8U3Vic2NyaXB0aW9uIHwgbnVsbD4gPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldDxTdWJzY3JpcHRpb24gfCBudWxsPihcIi9zdWJzY3JpcHRpb25zL21lXCIpO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9LFxuICBjcmVhdGVCYXNpY0NoZWNrb3V0OiBhc3luYyAoKTogUHJvbWlzZTxDaGVja291dFJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdDxDaGVja291dFJlc3BvbnNlPihcIi9zdWJzY3JpcHRpb25zL2Jhc2ljL2NyZWF0ZS1jaGVja291dC1zZXNzaW9uXCIpO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgd2FsbGV0QXBpID0ge1xuICBnZXRNeVdhbGxldDogYXN5bmMgKCk6IFByb21pc2U8V2FsbGV0IHwgbnVsbD4gPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldDxXYWxsZXQgfCBudWxsPihcIi93YWxsZXQvbWVcIik7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIGNyZWF0ZVRva2VuUGFja0NoZWNrb3V0OiBhc3luYyAocGFja0lkOiBzdHJpbmcpOiBQcm9taXNlPENoZWNrb3V0UmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5wb3N0PENoZWNrb3V0UmVzcG9uc2U+KFwiL3dhbGxldC90b2tlbi1wYWNrXCIsIHsgcGFja0lkIH0pO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdXNlcnNBcGkgPSB7XG4gIGdldE1lOiBhc3luYyAoKTogUHJvbWlzZTxVc2VyPiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0PFVzZXI+KFwiL3VzZXJzL21lXCIpO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdmlkZW9BcGkgPSB7XG4gIGdldEFwcElkOiBhc3luYyAoKTogUHJvbWlzZTx7IGFwcElkOiBzdHJpbmcgfT4gPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldDx7IGFwcElkOiBzdHJpbmcgfT4oXCIvdmlkZW8vYXBwLWlkXCIpO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9LFxuICBnZXRUb2tlbjogYXN5bmMgKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx7IHRva2VuOiBzdHJpbmc7IGNoYW5uZWxOYW1lOiBzdHJpbmc7IGV4cGlyZXNBdDogc3RyaW5nIH0+ID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQ8eyB0b2tlbjogc3RyaW5nOyBjaGFubmVsTmFtZTogc3RyaW5nOyBleHBpcmVzQXQ6IHN0cmluZyB9PihgL3ZpZGVvL3Rva2VuP3Nlc3Npb25JZD0ke3Nlc3Npb25JZH1gKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfVxufTtcblxuLy8gUm9vbSB0eXBlc1xuZXhwb3J0IGludGVyZmFjZSBSb29tTGlzdEl0ZW0ge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgaG9zdE5hbWU6IHN0cmluZztcbiAgcmVnaW9uOiBzdHJpbmc7XG4gIGVudHJ5RmVlVG9rZW5zOiBudW1iZXI7XG4gIGhhc1Bhc3N3b3JkOiBib29sZWFuO1xuICBwYXJ0aWNpcGFudENvdW50OiBudW1iZXI7XG4gIG1heE1lbWJlcnM6IG51bWJlcjtcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIGN1cnJlbnRSb3VuZDogYW55IHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVSb29tRGF0YSB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBwYXNzd29yZD86IHN0cmluZztcbiAgbWF4TWVtYmVycz86IG51bWJlcjtcbiAgcmVnaW9uPzogc3RyaW5nO1xuICBlbnRyeUZlZVRva2Vucz86IG51bWJlcjtcbiAgaXNQdWJsaWM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3Qgcm9vbXNBcGkgPSB7XG4gIGdldFB1YmxpY1Jvb21zOiBhc3luYyAocmVnaW9uPzogc3RyaW5nKTogUHJvbWlzZTxSb29tTGlzdEl0ZW1bXT4gPT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gcmVnaW9uID8gYD9yZWdpb249JHtyZWdpb259YCA6IFwiXCI7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0PFJvb21MaXN0SXRlbVtdPihgL3Jvb21zJHtxdWVyeX1gKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcbiAgZ2V0Um9vbURldGFpbHM6IGFzeW5jIChyb29tSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0KGAvcm9vbXMvJHtyb29tSWR9YCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIGNyZWF0ZVJvb206IGFzeW5jIChkYXRhOiBDcmVhdGVSb29tRGF0YSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdChcIi9yb29tc1wiLCBkYXRhKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcbiAgam9pblJvb206IGFzeW5jIChyb29tSWQ6IHN0cmluZywgcGFzc3dvcmQ/OiBzdHJpbmcpOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLnBvc3QoYC9yb29tcy8ke3Jvb21JZH0vam9pbmAsIHsgcGFzc3dvcmQgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIGxlYXZlUm9vbTogYXN5bmMgKHJvb21JZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5wb3N0KGAvcm9vbXMvJHtyb29tSWR9L2xlYXZlYCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIGVuZFJvb206IGFzeW5jIChyb29tSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdChgL3Jvb21zLyR7cm9vbUlkfS9lbmRgKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfVxufTtcblxuIl0sIm5hbWVzIjpbImF4aW9zIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJhcGkiLCJjcmVhdGUiLCJiYXNlVVJMIiwid2l0aENyZWRlbnRpYWxzIiwiaGVhZGVycyIsImludGVyY2VwdG9ycyIsInJlcXVlc3QiLCJ1c2UiLCJjb25maWciLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJBdXRob3JpemF0aW9uIiwiYXV0aEFwaSIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsInJlc3BvbnNlIiwicG9zdCIsImRhdGEiLCJhY2Nlc3NUb2tlbiIsInNldEl0ZW0iLCJyZWdpc3RlciIsImRpc3BsYXlOYW1lIiwidXNlcm5hbWUiLCJkYXRlT2ZCaXJ0aCIsImxvZ291dCIsInJlbW92ZUl0ZW0iLCJzdWJzY3JpcHRpb25zQXBpIiwiZ2V0TXlTdWJzY3JpcHRpb24iLCJnZXQiLCJjcmVhdGVCYXNpY0NoZWNrb3V0Iiwid2FsbGV0QXBpIiwiZ2V0TXlXYWxsZXQiLCJjcmVhdGVUb2tlblBhY2tDaGVja291dCIsInBhY2tJZCIsInVzZXJzQXBpIiwiZ2V0TWUiLCJ2aWRlb0FwaSIsImdldEFwcElkIiwiZ2V0VG9rZW4iLCJzZXNzaW9uSWQiLCJyb29tc0FwaSIsImdldFB1YmxpY1Jvb21zIiwicmVnaW9uIiwicXVlcnkiLCJnZXRSb29tRGV0YWlscyIsInJvb21JZCIsImNyZWF0ZVJvb20iLCJqb2luUm9vbSIsImxlYXZlUm9vbSIsImVuZFJvb20iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/api.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"64745eb0c143\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9tZWdsZS1nYW1lL3dlYi8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/ZjI4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjY0NzQ1ZWIwYzE0M1wiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n\n\nconst metadata = {\n    title: \"US-Only Social Play | 18+ Verified\",\n    description: \"Verified 18+ video matchmaking with games, tokens, and rooms. US-only.\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: \"min-h-screen bg-black text-white\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mx-auto max-w-6xl px-6 py-8\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/marukaneko/omegle-game/web/src/app/layout.tsx\",\n                lineNumber: 13,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/marukaneko/omegle-game/web/src/app/layout.tsx\",\n            lineNumber: 12,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/marukaneko/omegle-game/web/src/app/layout.tsx\",\n        lineNumber: 11,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ3VCO0FBRWhCLE1BQU1BLFdBQXFCO0lBQ2hDQyxPQUFPO0lBQ1BDLGFBQWE7QUFDZixFQUFFO0FBRWEsU0FBU0MsV0FBVyxFQUFFQyxRQUFRLEVBQWlDO0lBQzVFLHFCQUNFLDhEQUFDQztRQUFLQyxNQUFLO2tCQUNULDRFQUFDQztZQUFLQyxXQUFVO3NCQUNkLDRFQUFDQztnQkFBSUQsV0FBVTswQkFBK0JKOzs7Ozs7Ozs7Ozs7Ozs7O0FBSXREIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9tZWdsZS1nYW1lL3dlYi8uL3NyYy9hcHAvbGF5b3V0LnRzeD81N2E5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTWV0YWRhdGEgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IFwiLi9nbG9iYWxzLmNzc1wiO1xuXG5leHBvcnQgY29uc3QgbWV0YWRhdGE6IE1ldGFkYXRhID0ge1xuICB0aXRsZTogXCJVUy1Pbmx5IFNvY2lhbCBQbGF5IHwgMTgrIFZlcmlmaWVkXCIsXG4gIGRlc2NyaXB0aW9uOiBcIlZlcmlmaWVkIDE4KyB2aWRlbyBtYXRjaG1ha2luZyB3aXRoIGdhbWVzLCB0b2tlbnMsIGFuZCByb29tcy4gVVMtb25seS5cIlxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGh0bWwgbGFuZz1cImVuXCI+XG4gICAgICA8Ym9keSBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctYmxhY2sgdGV4dC13aGl0ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbWF4LXctNnhsIHB4LTYgcHktOFwiPntjaGlsZHJlbn08L2Rpdj5cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gICk7XG59XG5cblxuIl0sIm5hbWVzIjpbIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSIsImNsYXNzTmFtZSIsImRpdiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/session/[id]/page.tsx":
/*!***************************************!*\
  !*** ./src/app/session/[id]/page.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/../node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/marukaneko/omegle-game/web/src/app/session/[id]/page.tsx#default`));


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/axios","vendor-chunks/mime-db","vendor-chunks/ws","vendor-chunks/engine.io-client","vendor-chunks/socket.io-client","vendor-chunks/socket.io-parser","vendor-chunks/follow-redirects","vendor-chunks/xmlhttprequest-ssl","vendor-chunks/debug","vendor-chunks/form-data","vendor-chunks/get-intrinsic","vendor-chunks/engine.io-parser","vendor-chunks/asynckit","vendor-chunks/combined-stream","vendor-chunks/mime-types","vendor-chunks/proxy-from-env","vendor-chunks/@socket.io","vendor-chunks/ms","vendor-chunks/supports-color","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/@swc","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/has-flag","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/agora-rtc-sdk-ng"], () => (__webpack_exec__("(rsc)/../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsession%2F%5Bid%5D%2Fpage&page=%2Fsession%2F%5Bid%5D%2Fpage&appPaths=%2Fsession%2F%5Bid%5D%2Fpage&pagePath=private-next-app-dir%2Fsession%2F%5Bid%5D%2Fpage.tsx&appDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarukaneko%2Fomegle-game%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();