/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/agora-rtc-sdk-ng";
exports.ids = ["vendor-chunks/agora-rtc-sdk-ng"];
exports.modules = {

/***/ "(ssr)/../node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js":
/*!*****************************************************************!*\
  !*** ../node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js ***!
  \*****************************************************************/
/***/ (function(module) {

eval("/**\n * AgoraWebSDK_N-v4.24.1-0-g2cff7c6c-dirty Copyright AgoraInc.\n */\n\n!function(e,t){ true?module.exports=t():0}(this,(function(){\"use strict\";function e(e,t){return t.forEach((function(t){t&&\"string\"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(i){if(\"default\"!==i&&!(i in e)){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}}))})),Object.freeze(e)}var t=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var n=function(e){try{return!!e()}catch(e){return!0}},r=!n((function(){var e=function(){}.bind();return\"function\"!=typeof e||e.hasOwnProperty(\"prototype\")})),o=r,s=Function.prototype,a=s.call,c=o&&s.bind.bind(a,a),d=o?c:function(e){return function(){return a.apply(e,arguments)}},l=d({}.isPrototypeOf),u=function(e){return e&&e.Math===Math&&e},h=u(\"object\"==typeof globalThis&&globalThis)||u(\"object\"==typeof window&&window)||u(\"object\"==typeof self&&self)||u(\"object\"==typeof t&&t)||u(\"object\"==typeof t&&t)||function(){return this}()||Function(\"return this\")(),p=r,_=Function.prototype,E=_.apply,m=_.call,f=\"object\"==typeof Reflect&&Reflect.apply||(p?m.bind(E):function(){return m.apply(E,arguments)}),S=d,g=S({}.toString),T=S(\"\".slice),R=function(e){return T(g(e),8,-1)},C=R,v=d,y=function(e){if(\"Function\"===C(e))return v(e)},I=\"object\"==typeof document&&document.all,A=void 0===I&&void 0!==I?function(e){return\"function\"==typeof e||e===I}:function(e){return\"function\"==typeof e},b={},w=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),O=r,N=Function.prototype.call,D=O?N.bind(N):function(){return N.apply(N,arguments)},P={},L={}.propertyIsEnumerable,k=Object.getOwnPropertyDescriptor,M=k&&!L.call({1:2},1);P.f=M?function(e){var t=k(this,e);return!!t&&t.enumerable}:L;var U,V,x=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},F=n,B=R,j=Object,G=d(\"\".split),W=F((function(){return!j(\"z\").propertyIsEnumerable(0)}))?function(e){return\"String\"===B(e)?G(e,\"\"):j(e)}:j,H=function(e){return null==e},K=H,Y=TypeError,z=function(e){if(K(e))throw new Y(\"Can't call method on \"+e);return e},q=W,X=z,J=function(e){return q(X(e))},Q=A,Z=function(e){return\"object\"==typeof e?null!==e:Q(e)},$={},ee=$,te=h,ie=A,ne=function(e){return ie(e)?e:void 0},re=function(e,t){return arguments.length<2?ne(ee[e])||ne(te[e]):ee[e]&&ee[e][t]||te[e]&&te[e][t]},oe=h.navigator,se=oe&&oe.userAgent,ae=se?String(se):\"\",ce=h,de=ae,le=ce.process,ue=ce.Deno,he=le&&le.versions||ue&&ue.version,pe=he&&he.v8;pe&&(V=(U=pe.split(\".\"))[0]>0&&U[0]<4?1:+(U[0]+U[1])),!V&&de&&(!(U=de.match(/Edge\\/(\\d+)/))||U[1]>=74)&&(U=de.match(/Chrome\\/(\\d+)/))&&(V=+U[1]);var _e=V,Ee=_e,me=n,fe=h.String,Se=!!Object.getOwnPropertySymbols&&!me((function(){var e=Symbol(\"symbol detection\");return!fe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ee&&Ee<41})),ge=Se&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,Te=re,Re=A,Ce=l,ve=Object,ye=ge?function(e){return\"symbol\"==typeof e}:function(e){var t=Te(\"Symbol\");return Re(t)&&Ce(t.prototype,ve(e))},Ie=String,Ae=function(e){try{return Ie(e)}catch(e){return\"Object\"}},be=A,we=Ae,Oe=TypeError,Ne=function(e){if(be(e))return e;throw new Oe(we(e)+\" is not a function\")},De=Ne,Pe=H,Le=function(e,t){var i=e[t];return Pe(i)?void 0:De(i)},ke=D,Me=A,Ue=Z,Ve=TypeError,xe={exports:{}},Fe=h,Be=Object.defineProperty,je=h,Ge=function(e,t){try{Be(Fe,e,{value:t,configurable:!0,writable:!0})}catch(i){Fe[e]=t}return t},We=\"__core-js_shared__\",He=xe.exports=je[We]||Ge(We,{});(He.versions||(He.versions=[])).push({version:\"3.46.0\",mode:\"pure\",copyright:\"© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)\",license:\"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE\",source:\"https://github.com/zloirock/core-js\"});var Ke=xe.exports,Ye=Ke,ze=function(e,t){return Ye[e]||(Ye[e]=t||{})},qe=z,Xe=Object,Je=function(e){return Xe(qe(e))},Qe=Je,Ze=d({}.hasOwnProperty),$e=Object.hasOwn||function(e,t){return Ze(Qe(e),t)},et=d,tt=0,it=Math.random(),nt=et(1.1.toString),rt=function(e){return\"Symbol(\"+(void 0===e?\"\":e)+\")_\"+nt(++tt+it,36)},ot=ze,st=$e,at=rt,ct=Se,dt=ge,lt=h.Symbol,ut=ot(\"wks\"),ht=dt?lt.for||lt:lt&&lt.withoutSetter||at,pt=function(e){return st(ut,e)||(ut[e]=ct&&st(lt,e)?lt[e]:ht(\"Symbol.\"+e)),ut[e]},_t=D,Et=Z,mt=ye,ft=Le,St=function(e,t){var i,n;if(\"string\"===t&&Me(i=e.toString)&&!Ue(n=ke(i,e)))return n;if(Me(i=e.valueOf)&&!Ue(n=ke(i,e)))return n;if(\"string\"!==t&&Me(i=e.toString)&&!Ue(n=ke(i,e)))return n;throw new Ve(\"Can't convert object to primitive value\")},gt=TypeError,Tt=pt(\"toPrimitive\"),Rt=function(e,t){if(!Et(e)||mt(e))return e;var i,n=ft(e,Tt);if(n){if(void 0===t&&(t=\"default\"),i=_t(n,e,t),!Et(i)||mt(i))return i;throw new gt(\"Can't convert object to primitive value\")}return void 0===t&&(t=\"number\"),St(e,t)},Ct=ye,vt=function(e){var t=Rt(e,\"string\");return Ct(t)?t:t+\"\"},yt=Z,It=h.document,At=yt(It)&&yt(It.createElement),bt=function(e){return At?It.createElement(e):{}},wt=bt,Ot=!w&&!n((function(){return 7!==Object.defineProperty(wt(\"div\"),\"a\",{get:function(){return 7}}).a})),Nt=w,Dt=D,Pt=P,Lt=x,kt=J,Mt=vt,Ut=$e,Vt=Ot,xt=Object.getOwnPropertyDescriptor;b.f=Nt?xt:function(e,t){if(e=kt(e),t=Mt(t),Vt)try{return xt(e,t)}catch(e){}if(Ut(e,t))return Lt(!Dt(Pt.f,e,t),e[t])};var Ft=n,Bt=A,jt=/#|\\.prototype\\./,Gt=function(e,t){var i=Ht[Wt(e)];return i===Yt||i!==Kt&&(Bt(t)?Ft(t):!!t)},Wt=Gt.normalize=function(e){return String(e).replace(jt,\".\").toLowerCase()},Ht=Gt.data={},Kt=Gt.NATIVE=\"N\",Yt=Gt.POLYFILL=\"P\",zt=Gt,qt=Ne,Xt=r,Jt=y(y.bind),Qt=function(e,t){return qt(e),void 0===t?e:Xt?Jt(e,t):function(){return e.apply(t,arguments)}},Zt={},$t=w&&n((function(){return 42!==Object.defineProperty((function(){}),\"prototype\",{value:42,writable:!1}).prototype})),ei=Z,ti=String,ii=TypeError,ni=function(e){if(ei(e))return e;throw new ii(ti(e)+\" is not an object\")},ri=w,oi=Ot,si=$t,ai=ni,ci=vt,di=TypeError,li=Object.defineProperty,ui=Object.getOwnPropertyDescriptor,hi=\"enumerable\",pi=\"configurable\",_i=\"writable\";Zt.f=ri?si?function(e,t,i){if(ai(e),t=ci(t),ai(i),\"function\"==typeof e&&\"prototype\"===t&&\"value\"in i&&_i in i&&!i[_i]){var n=ui(e,t);n&&n[_i]&&(e[t]=i.value,i={configurable:pi in i?i[pi]:n[pi],enumerable:hi in i?i[hi]:n[hi],writable:!1})}return li(e,t,i)}:li:function(e,t,i){if(ai(e),t=ci(t),ai(i),oi)try{return li(e,t,i)}catch(e){}if(\"get\"in i||\"set\"in i)throw new di(\"Accessors not supported\");return\"value\"in i&&(e[t]=i.value),e};var Ei=Zt,mi=x,fi=w?function(e,t,i){return Ei.f(e,t,mi(1,i))}:function(e,t,i){return e[t]=i,e},Si=h,gi=f,Ti=y,Ri=A,Ci=b.f,vi=zt,yi=$,Ii=Qt,Ai=fi,bi=$e,wi=function(e){var t=function(i,n,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(i);case 2:return new e(i,n)}return new e(i,n,r)}return gi(e,this,arguments)};return t.prototype=e.prototype,t},Oi=function(e,t){var i,n,r,o,s,a,c,d,l,u=e.target,h=e.global,p=e.stat,_=e.proto,E=h?Si:p?Si[u]:Si[u]&&Si[u].prototype,m=h?yi:yi[u]||Ai(yi,u,{})[u],f=m.prototype;for(o in t)n=!(i=vi(h?o:u+(p?\".\":\"#\")+o,e.forced))&&E&&bi(E,o),a=m[o],n&&(c=e.dontCallGetSet?(l=Ci(E,o))&&l.value:E[o]),s=n&&c?c:t[o],(i||_||typeof a!=typeof s)&&(d=e.bind&&n?Ii(s,Si):e.wrap&&n?wi(s):_&&Ri(s)?Ti(s):s,(e.sham||s&&s.sham||a&&a.sham)&&Ai(d,\"sham\",!0),Ai(m,o,d),_&&(bi(yi,r=u+\"Prototype\")||Ai(yi,r,{}),Ai(yi[r],o,s),e.real&&f&&(i||!f[o])&&Ai(f,o,s)))},Ni=Math.ceil,Di=Math.floor,Pi=Math.trunc||function(e){var t=+e;return(t>0?Di:Ni)(t)},Li=Pi,ki=function(e){var t=+e;return t!=t||0===t?0:Li(t)},Mi=ki,Ui=Math.max,Vi=Math.min,xi=function(e,t){var i=Mi(e);return i<0?Ui(i+t,0):Vi(i,t)},Fi=ki,Bi=Math.min,ji=function(e){var t=Fi(e);return t>0?Bi(t,9007199254740991):0},Gi=ji,Wi=function(e){return Gi(e.length)},Hi=J,Ki=xi,Yi=Wi,zi=function(e){return function(t,i,n){var r=Hi(t),o=Yi(r);if(0===o)return!e&&-1;var s,a=Ki(n,o);if(e&&i!=i){for(;o>a;)if((s=r[a++])!=s)return!0}else for(;o>a;a++)if((e||a in r)&&r[a]===i)return e||a||0;return!e&&-1}},qi={includes:zi(!0),indexOf:zi(!1)},Xi=qi.includes;Oi({target:\"Array\",proto:!0,forced:n((function(){return!Array(1).includes()}))},{includes:function(e){return Xi(this,e,arguments.length>1?arguments[1]:void 0)}});var Ji=h,Qi=$,Zi=function(e,t){var i=Qi[e+\"Prototype\"],n=i&&i[t];if(n)return n;var r=Ji[e],o=r&&r.prototype;return o&&o[t]},$i=Zi(\"Array\",\"includes\"),en=Z,tn=R,nn=pt(\"match\"),rn=function(e){var t;return en(e)&&(void 0!==(t=e[nn])?!!t:\"RegExp\"===tn(e))},on=rn,sn=TypeError,an={};an[pt(\"toStringTag\")]=\"z\";var cn=\"[object z]\"===String(an),dn=cn,ln=A,un=R,hn=pt(\"toStringTag\"),pn=Object,_n=\"Arguments\"===un(function(){return arguments}()),En=dn?un:function(e){var t,i,n;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=pn(e),hn))?i:_n?un(t):\"Object\"===(n=un(t))&&ln(t.callee)?\"Arguments\":n},mn=En,fn=String,Sn=function(e){if(\"Symbol\"===mn(e))throw new TypeError(\"Cannot convert a Symbol value to a string\");return fn(e)},gn=pt(\"match\"),Tn=Oi,Rn=function(e){if(on(e))throw new sn(\"The method doesn't accept regular expressions\");return e},Cn=z,vn=Sn,yn=function(e){var t=/./;try{\"/./\"[e](t)}catch(i){try{return t[gn]=!1,\"/./\"[e](t)}catch(e){}}return!1},In=d(\"\".indexOf);Tn({target:\"String\",proto:!0,forced:!yn(\"includes\")},{includes:function(e){return!!~In(vn(Cn(this)),vn(Rn(e)),arguments.length>1?arguments[1]:void 0)}});var An=Zi(\"String\",\"includes\"),bn=l,wn=$i,On=An,Nn=Array.prototype,Dn=String.prototype,Pn=function(e){var t=e.includes;return e===Nn||bn(Nn,e)&&t===Nn.includes?wn:\"string\"==typeof e||e===Dn||bn(Dn,e)&&t===Dn.includes?On:t},Ln=i(Pn),kn=Ne,Mn=Je,Un=W,Vn=Wi,xn=TypeError,Fn=\"Reduce of empty array with no initial value\",Bn=function(e){return function(t,i,n,r){var o=Mn(t),s=Un(o),a=Vn(o);if(kn(i),0===a&&n<2)throw new xn(Fn);var c=e?a-1:0,d=e?-1:1;if(n<2)for(;;){if(c in s){r=s[c],c+=d;break}if(c+=d,e?c<0:a<=c)throw new xn(Fn)}for(;e?c>=0:a>c;c+=d)c in s&&(r=i(r,s[c],c,o));return r}},jn={left:Bn(!1),right:Bn(!0)},Gn=n,Wn=function(e,t){var i=[][e];return!!i&&Gn((function(){i.call(null,t||function(){return 1},1)}))},Hn=h,Kn=ae,Yn=R,zn=function(e){return Kn.slice(0,e.length)===e},qn=zn(\"Bun/\")?\"BUN\":zn(\"Cloudflare-Workers\")?\"CLOUDFLARE\":zn(\"Deno/\")?\"DENO\":zn(\"Node.js/\")?\"NODE\":Hn.Bun&&\"string\"==typeof Bun.version?\"BUN\":Hn.Deno&&\"object\"==typeof Deno.version?\"DENO\":\"process\"===Yn(Hn.process)?\"NODE\":Hn.window&&Hn.document?\"BROWSER\":\"REST\",Xn=\"NODE\"===qn,Jn=jn.left;Oi({target:\"Array\",proto:!0,forced:!Xn&&_e>79&&_e<83||!Wn(\"reduce\")},{reduce:function(e){var t=arguments.length;return Jn(this,e,t,t>1?arguments[1]:void 0)}});var Qn=Zi(\"Array\",\"reduce\"),Zn=l,$n=Qn,er=Array.prototype,tr=function(e){var t=e.reduce;return e===er||Zn(er,e)&&t===er.reduce?$n:t},ir=tr,nr=i(ir),rr=R,or=Array.isArray||function(e){return\"Array\"===rr(e)},sr=Oi,ar=or,cr=d([].reverse),dr=[1,2];sr({target:\"Array\",proto:!0,forced:String(dr)===String(dr.reverse())},{reverse:function(){return ar(this)&&(this.length=this.length),cr(this)}});var lr=Zi(\"Array\",\"reverse\"),ur=l,hr=lr,pr=Array.prototype,_r=function(e){var t=e.reverse;return e===pr||ur(pr,e)&&t===pr.reverse?hr:t},Er=_r,mr=i(Er),fr=rt,Sr=ze(\"keys\"),gr=function(e){return Sr[e]||(Sr[e]=fr(e))},Tr=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Rr=$e,Cr=A,vr=Je,yr=Tr,Ir=gr(\"IE_PROTO\"),Ar=Object,br=Ar.prototype,wr=yr?Ar.getPrototypeOf:function(e){var t=vr(e);if(Rr(t,Ir))return t[Ir];var i=t.constructor;return Cr(i)&&t instanceof i?i.prototype:t instanceof Ar?br:null},Or=d,Nr=Ne,Dr=Z,Pr=function(e){return Dr(e)||null===e},Lr=String,kr=TypeError,Mr=function(e,t,i){try{return Or(Nr(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(e){}},Ur=Z,Vr=z,xr=function(e){if(Pr(e))return e;throw new kr(\"Can't set \"+Lr(e)+\" as a prototype\")},Fr=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var e,t=!1,i={};try{(e=Mr(Object.prototype,\"__proto__\",\"set\"))(i,[]),t=i instanceof Array}catch(e){}return function(i,n){return Vr(i),xr(n),Ur(i)?(t?e(i,n):i.__proto__=n,i):i}}():void 0),Br={},jr={},Gr=$e,Wr=J,Hr=qi.indexOf,Kr=jr,Yr=d([].push),zr=function(e,t){var i,n=Wr(e),r=0,o=[];for(i in n)!Gr(Kr,i)&&Gr(n,i)&&Yr(o,i);for(;t.length>r;)Gr(n,i=t[r++])&&(~Hr(o,i)||Yr(o,i));return o},qr=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],Xr=zr,Jr=qr.concat(\"length\",\"prototype\");Br.f=Object.getOwnPropertyNames||function(e){return Xr(e,Jr)};var Qr={};Qr.f=Object.getOwnPropertySymbols;var Zr=re,$r=Br,eo=Qr,to=ni,io=d([].concat),no=Zr(\"Reflect\",\"ownKeys\")||function(e){var t=$r.f(to(e)),i=eo.f;return i?io(t,i(e)):t},ro=$e,oo=no,so=b,ao=Zt,co={},lo=zr,uo=qr,ho=Object.keys||function(e){return lo(e,uo)},po=w,_o=$t,Eo=Zt,mo=ni,fo=J,So=ho;co.f=po&&!_o?Object.defineProperties:function(e,t){mo(e);for(var i,n=fo(t),r=So(t),o=r.length,s=0;o>s;)Eo.f(e,i=r[s++],n[i]);return e};var go,To=re(\"document\",\"documentElement\"),Ro=ni,Co=co,vo=qr,yo=jr,Io=To,Ao=bt,bo=\"prototype\",wo=\"script\",Oo=gr(\"IE_PROTO\"),No=function(){},Do=function(e){return\"<\"+wo+\">\"+e+\"</\"+wo+\">\"},Po=function(e){e.write(Do(\"\")),e.close();var t=e.parentWindow.Object;return e=null,t},Lo=function(){try{go=new ActiveXObject(\"htmlfile\")}catch(e){}var e,t,i;Lo=\"undefined\"!=typeof document?document.domain&&go?Po(go):(t=Ao(\"iframe\"),i=\"java\"+wo+\":\",t.style.display=\"none\",Io.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(Do(\"document.F=Object\")),e.close(),e.F):Po(go);for(var n=vo.length;n--;)delete Lo[bo][vo[n]];return Lo()};yo[Oo]=!0;var ko=Object.create||function(e,t){var i;return null!==e?(No[bo]=Ro(e),i=new No,No[bo]=null,i[Oo]=e):i=Lo(),void 0===t?i:Co.f(i,t)},Mo=Z,Uo=fi,Vo=Error,xo=d(\"\".replace),Fo=String(new Vo(\"zxcasd\").stack),Bo=/\\n\\s*at [^:]*:[^\\n]*/,jo=Bo.test(Fo),Go=x,Wo=!n((function(){var e=new Error(\"a\");return!(\"stack\"in e)||(Object.defineProperty(e,\"stack\",Go(1,7)),7!==e.stack)})),Ho=fi,Ko=function(e,t){if(jo&&\"string\"==typeof e&&!Vo.prepareStackTrace)for(;t--;)e=xo(e,Bo,\"\");return e},Yo=Wo,zo=Error.captureStackTrace,qo={},Xo=qo,Jo=pt(\"iterator\"),Qo=Array.prototype,Zo=function(e){return void 0!==e&&(Xo.Array===e||Qo[Jo]===e)},$o=En,es=Le,ts=H,is=qo,ns=pt(\"iterator\"),rs=function(e){if(!ts(e))return es(e,ns)||es(e,\"@@iterator\")||is[$o(e)]},os=D,ss=Ne,as=ni,cs=Ae,ds=rs,ls=TypeError,us=function(e,t){var i=arguments.length<2?ds(e):t;if(ss(i))return as(os(i,e));throw new ls(cs(e)+\" is not iterable\")},hs=D,ps=ni,_s=Le,Es=function(e,t,i){var n,r;ps(e);try{if(!(n=_s(e,\"return\"))){if(\"throw\"===t)throw i;return i}n=hs(n,e)}catch(e){r=!0,n=e}if(\"throw\"===t)throw i;if(r)throw n;return ps(n),i},ms=Qt,fs=D,Ss=ni,gs=Ae,Ts=Zo,Rs=Wi,Cs=l,vs=us,ys=rs,Is=Es,As=TypeError,bs=function(e,t){this.stopped=e,this.result=t},ws=bs.prototype,Os=function(e,t,i){var n,r,o,s,a,c,d,l=i&&i.that,u=!(!i||!i.AS_ENTRIES),h=!(!i||!i.IS_RECORD),p=!(!i||!i.IS_ITERATOR),_=!(!i||!i.INTERRUPTED),E=ms(t,l),m=function(e){return n&&Is(n,\"normal\"),new bs(!0,e)},f=function(e){return u?(Ss(e),_?E(e[0],e[1],m):E(e[0],e[1])):_?E(e,m):E(e)};if(h)n=e.iterator;else if(p)n=e;else{if(!(r=ys(e)))throw new As(gs(e)+\" is not iterable\");if(Ts(r)){for(o=0,s=Rs(e);s>o;o++)if((a=f(e[o]))&&Cs(ws,a))return a;return new bs(!1)}n=vs(e,r)}for(c=h?e.next:n.next;!(d=fs(c,n)).done;){try{a=f(d.value)}catch(e){Is(n,\"throw\",e)}if(\"object\"==typeof a&&a&&Cs(ws,a))return a}return new bs(!1)},Ns=Sn,Ds=Oi,Ps=l,Ls=wr,ks=Fr,Ms=function(e,t,i){for(var n=oo(t),r=ao.f,o=so.f,s=0;s<n.length;s++){var a=n[s];ro(e,a)||i&&ro(i,a)||r(e,a,o(t,a))}},Us=ko,Vs=fi,xs=x,Fs=function(e,t){Mo(t)&&\"cause\"in t&&Uo(e,\"cause\",t.cause)},Bs=function(e,t,i,n){Yo&&(zo?zo(e,t):Ho(e,\"stack\",Ko(i,n)))},js=Os,Gs=function(e,t){return void 0===e?arguments.length<2?\"\":t:Ns(e)},Ws=pt(\"toStringTag\"),Hs=Error,Ks=[].push,Ys=function(e,t){var i,n=Ps(zs,this);ks?i=ks(new Hs,n?Ls(this):zs):(i=n?this:Us(zs),Vs(i,Ws,\"Error\")),void 0!==t&&Vs(i,\"message\",Gs(t)),Bs(i,Ys,i.stack,1),arguments.length>2&&Fs(i,arguments[2]);var r=[];return js(e,Ks,{that:r}),Vs(i,\"errors\",r),i};ks?ks(Ys,Hs):Ms(Ys,Hs,{name:!0});var zs=Ys.prototype=Us(Hs.prototype,{constructor:xs(1,Ys),message:xs(1,\"\"),name:xs(1,\"AggregateError\")});Ds({global:!0,constructor:!0,arity:2},{AggregateError:Ys});var qs,Xs,Js,Qs=A,Zs=h.WeakMap,$s=Qs(Zs)&&/native code/.test(String(Zs)),ea=h,ta=Z,ia=fi,na=$e,ra=Ke,oa=gr,sa=jr,aa=\"Object already initialized\",ca=ea.TypeError,da=ea.WeakMap;if($s||ra.state){var la=ra.state||(ra.state=new da);la.get=la.get,la.has=la.has,la.set=la.set,qs=function(e,t){if(la.has(e))throw new ca(aa);return t.facade=e,la.set(e,t),t},Xs=function(e){return la.get(e)||{}},Js=function(e){return la.has(e)}}else{var ua=oa(\"state\");sa[ua]=!0,qs=function(e,t){if(na(e,ua))throw new ca(aa);return t.facade=e,ia(e,ua,t),t},Xs=function(e){return na(e,ua)?e[ua]:{}},Js=function(e){return na(e,ua)}}var ha,pa,_a,Ea={set:qs,get:Xs,has:Js,enforce:function(e){return Js(e)?Xs(e):qs(e,{})},getterFor:function(e){return function(t){var i;if(!ta(t)||(i=Xs(t)).type!==e)throw new ca(\"Incompatible receiver, \"+e+\" required\");return i}}},ma=w,fa=$e,Sa=Function.prototype,ga=ma&&Object.getOwnPropertyDescriptor,Ta=fa(Sa,\"name\"),Ra={EXISTS:Ta,PROPER:Ta&&\"something\"===function(){}.name,CONFIGURABLE:Ta&&(!ma||ma&&ga(Sa,\"name\").configurable)},Ca=fi,va=function(e,t,i,n){return n&&n.enumerable?e[t]=i:Ca(e,t,i),e},ya=n,Ia=A,Aa=Z,ba=ko,wa=wr,Oa=va,Na=pt(\"iterator\"),Da=!1;[].keys&&(\"next\"in(_a=[].keys())?(pa=wa(wa(_a)))!==Object.prototype&&(ha=pa):Da=!0);var Pa=!Aa(ha)||ya((function(){var e={};return ha[Na].call(e)!==e}));Ia((ha=Pa?{}:ba(ha))[Na])||Oa(ha,Na,(function(){return this}));var La={IteratorPrototype:ha,BUGGY_SAFARI_ITERATORS:Da},ka=En,Ma=cn?{}.toString:function(){return\"[object \"+ka(this)+\"]\"},Ua=cn,Va=Zt.f,xa=fi,Fa=$e,Ba=Ma,ja=pt(\"toStringTag\"),Ga=function(e,t,i,n){var r=i?e:e&&e.prototype;r&&(Fa(r,ja)||Va(r,ja,{configurable:!0,value:t}),n&&!Ua&&xa(r,\"toString\",Ba))},Wa=La.IteratorPrototype,Ha=ko,Ka=x,Ya=Ga,za=qo,qa=function(){return this},Xa=function(e,t,i,n){var r=t+\" Iterator\";return e.prototype=Ha(Wa,{next:Ka(+!n,i)}),Ya(e,r,!1,!0),za[r]=qa,e},Ja=Oi,Qa=D,Za=Ra,$a=Xa,ec=wr,tc=Ga,ic=va,nc=qo,rc=La,oc=Za.PROPER,sc=rc.BUGGY_SAFARI_ITERATORS,ac=pt(\"iterator\"),cc=\"keys\",dc=\"values\",lc=\"entries\",uc=function(){return this},hc=function(e,t,i,n,r,o,s){$a(i,t,n);var a,c,d,l=function(e){if(e===r&&E)return E;if(!sc&&e&&e in p)return p[e];switch(e){case cc:case dc:case lc:return function(){return new i(this,e)}}return function(){return new i(this)}},u=t+\" Iterator\",h=!1,p=e.prototype,_=p[ac]||p[\"@@iterator\"]||r&&p[r],E=!sc&&_||l(r),m=\"Array\"===t&&p.entries||_;if(m&&(a=ec(m.call(new e)))!==Object.prototype&&a.next&&(tc(a,u,!0,!0),nc[u]=uc),oc&&r===dc&&_&&_.name!==dc&&(h=!0,E=function(){return Qa(_,this)}),r)if(c={values:l(dc),keys:o?E:l(cc),entries:l(lc)},s)for(d in c)(sc||h||!(d in p))&&ic(p,d,c[d]);else Ja({target:t,proto:!0,forced:sc||h},c);return s&&p[ac]!==E&&ic(p,ac,E,{name:r}),nc[t]=E,c},pc=function(e,t){return{value:e,done:t}},_c=J,Ec=qo,mc=Ea;Zt.f;var fc=hc,Sc=pc,gc=\"Array Iterator\",Tc=mc.set,Rc=mc.getterFor(gc);fc(Array,\"Array\",(function(e,t){Tc(this,{type:gc,target:_c(e),index:0,kind:t})}),(function(){var e=Rc(this),t=e.target,i=e.index++;if(!t||i>=t.length)return e.target=null,Sc(void 0,!0);switch(e.kind){case\"keys\":return Sc(i,!1);case\"values\":return Sc(t[i],!1)}return Sc([i,t[i]],!1)}),\"values\"),Ec.Arguments=Ec.Array;var Cc=Zt,vc=function(e,t,i){return Cc.f(e,t,i)},yc=re,Ic=vc,Ac=w,bc=pt(\"species\"),wc=l,Oc=TypeError,Nc=function(e,t){if(wc(t,e))return e;throw new Oc(\"Incorrect invocation\")},Dc=A,Pc=Ke,Lc=d(Function.toString);Dc(Pc.inspectSource)||(Pc.inspectSource=function(e){return Lc(e)});var kc=Pc.inspectSource,Mc=d,Uc=n,Vc=A,xc=En,Fc=kc,Bc=function(){},jc=re(\"Reflect\",\"construct\"),Gc=/^\\s*(?:class|function)\\b/,Wc=Mc(Gc.exec),Hc=!Gc.test(Bc),Kc=function(e){if(!Vc(e))return!1;try{return jc(Bc,[],e),!0}catch(e){return!1}},Yc=function(e){if(!Vc(e))return!1;switch(xc(e)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return!1}try{return Hc||!!Wc(Gc,Fc(e))}catch(e){return!0}};Yc.sham=!0;var zc,qc,Xc,Jc,Qc=!jc||Uc((function(){var e;return Kc(Kc.call)||!Kc(Object)||!Kc((function(){e=!0}))||e}))?Yc:Kc,Zc=Qc,$c=Ae,ed=TypeError,td=ni,id=function(e){if(Zc(e))return e;throw new ed($c(e)+\" is not a constructor\")},nd=H,rd=pt(\"species\"),od=function(e,t){var i,n=td(e).constructor;return void 0===n||nd(i=td(n)[rd])?t:id(i)},sd=d([].slice),ad=TypeError,cd=function(e,t){if(e<t)throw new ad(\"Not enough arguments\");return e},dd=/(?:ipad|iphone|ipod).*applewebkit/i.test(ae),ld=h,ud=f,hd=Qt,pd=A,_d=$e,Ed=n,md=To,fd=sd,Sd=bt,gd=cd,Td=dd,Rd=Xn,Cd=ld.setImmediate,vd=ld.clearImmediate,yd=ld.process,Id=ld.Dispatch,Ad=ld.Function,bd=ld.MessageChannel,wd=ld.String,Od=0,Nd={},Dd=\"onreadystatechange\";Ed((function(){zc=ld.location}));var Pd=function(e){if(_d(Nd,e)){var t=Nd[e];delete Nd[e],t()}},Ld=function(e){return function(){Pd(e)}},kd=function(e){Pd(e.data)},Md=function(e){ld.postMessage(wd(e),zc.protocol+\"//\"+zc.host)};Cd&&vd||(Cd=function(e){gd(arguments.length,1);var t=pd(e)?e:Ad(e),i=fd(arguments,1);return Nd[++Od]=function(){ud(t,void 0,i)},qc(Od),Od},vd=function(e){delete Nd[e]},Rd?qc=function(e){yd.nextTick(Ld(e))}:Id&&Id.now?qc=function(e){Id.now(Ld(e))}:bd&&!Td?(Jc=(Xc=new bd).port2,Xc.port1.onmessage=kd,qc=hd(Jc.postMessage,Jc)):ld.addEventListener&&pd(ld.postMessage)&&!ld.importScripts&&zc&&\"file:\"!==zc.protocol&&!Ed(Md)?(qc=Md,ld.addEventListener(\"message\",kd,!1)):qc=Dd in Sd(\"script\")?function(e){md.appendChild(Sd(\"script\"))[Dd]=function(){md.removeChild(this),Pd(e)}}:function(e){setTimeout(Ld(e),0)});var Ud={set:Cd,clear:vd},Vd=h,xd=w,Fd=Object.getOwnPropertyDescriptor,Bd=function(e){if(!xd)return Vd[e];var t=Fd(Vd,e);return t&&t.value},jd=function(){this.head=null,this.tail=null};jd.prototype={add:function(e){var t={item:e,next:null},i=this.tail;i?i.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var Gd,Wd,Hd,Kd,Yd,zd=jd,qd=/ipad|iphone|ipod/i.test(ae)&&\"undefined\"!=typeof Pebble,Xd=/web0s(?!.*chrome)/i.test(ae),Jd=h,Qd=Bd,Zd=Qt,$d=Ud.set,el=zd,tl=dd,il=qd,nl=Xd,rl=Xn,ol=Jd.MutationObserver||Jd.WebKitMutationObserver,sl=Jd.document,al=Jd.process,cl=Jd.Promise,dl=Qd(\"queueMicrotask\");if(!dl){var ll=new el,ul=function(){var e,t;for(rl&&(e=al.domain)&&e.exit();t=ll.get();)try{t()}catch(e){throw ll.head&&Gd(),e}e&&e.enter()};tl||rl||nl||!ol||!sl?!il&&cl&&cl.resolve?((Kd=cl.resolve(void 0)).constructor=cl,Yd=Zd(Kd.then,Kd),Gd=function(){Yd(ul)}):rl?Gd=function(){al.nextTick(ul)}:($d=Zd($d,Jd),Gd=function(){$d(ul)}):(Wd=!0,Hd=sl.createTextNode(\"\"),new ol(ul).observe(Hd,{characterData:!0}),Gd=function(){Hd.data=Wd=!Wd}),dl=function(e){ll.head||Gd(),ll.add(e)}}var hl=dl,pl=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},_l=h.Promise,El=h,ml=_l,fl=A,Sl=zt,gl=kc,Tl=pt,Rl=qn,Cl=_e,vl=ml&&ml.prototype,yl=Tl(\"species\"),Il=!1,Al=fl(El.PromiseRejectionEvent),bl=Sl(\"Promise\",(function(){var e=gl(ml),t=e!==String(ml);if(!t&&66===Cl)return!0;if(!vl.catch||!vl.finally)return!0;if(!Cl||Cl<51||!/native code/.test(e)){var i=new ml((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((i.constructor={})[yl]=n,!(Il=i.then((function(){}))instanceof n))return!0}return!(t||\"BROWSER\"!==Rl&&\"DENO\"!==Rl||Al)})),wl={CONSTRUCTOR:bl,REJECTION_EVENT:Al,SUBCLASSING:Il},Ol={},Nl=Ne,Dl=TypeError,Pl=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw new Dl(\"Bad Promise constructor\");t=e,i=n})),this.resolve=Nl(t),this.reject=Nl(i)};Ol.f=function(e){return new Pl(e)};var Ll,kl,Ml,Ul=Oi,Vl=Xn,xl=h,Fl=$,Bl=D,jl=va,Gl=Ga,Wl=function(e){var t=yc(e);Ac&&t&&!t[bc]&&Ic(t,bc,{configurable:!0,get:function(){return this}})},Hl=Ne,Kl=A,Yl=Z,zl=Nc,ql=od,Xl=Ud.set,Jl=hl,Ql=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}},Zl=pl,$l=zd,eu=Ea,tu=_l,iu=wl,nu=Ol,ru=\"Promise\",ou=iu.CONSTRUCTOR,su=iu.REJECTION_EVENT,au=eu.getterFor(ru),cu=eu.set,du=tu&&tu.prototype,lu=tu,uu=du,hu=xl.TypeError,pu=xl.document,_u=xl.process,Eu=nu.f,mu=Eu,fu=!!(pu&&pu.createEvent&&xl.dispatchEvent),Su=\"unhandledrejection\",gu=function(e){var t;return!(!Yl(e)||!Kl(t=e.then))&&t},Tu=function(e,t){var i,n,r,o=t.value,s=1===t.state,a=s?e.ok:e.fail,c=e.resolve,d=e.reject,l=e.domain;try{a?(s||(2===t.rejection&&Iu(t),t.rejection=1),!0===a?i=o:(l&&l.enter(),i=a(o),l&&(l.exit(),r=!0)),i===e.promise?d(new hu(\"Promise-chain cycle\")):(n=gu(i))?Bl(n,i,c,d):c(i)):d(o)}catch(e){l&&!r&&l.exit(),d(e)}},Ru=function(e,t){e.notified||(e.notified=!0,Jl((function(){for(var i,n=e.reactions;i=n.get();)Tu(i,e);e.notified=!1,t&&!e.rejection&&vu(e)})))},Cu=function(e,t,i){var n,r;fu?((n=pu.createEvent(\"Event\")).promise=t,n.reason=i,n.initEvent(e,!1,!0),xl.dispatchEvent(n)):n={promise:t,reason:i},!su&&(r=xl[\"on\"+e])?r(n):e===Su&&Ql(\"Unhandled promise rejection\",i)},vu=function(e){Bl(Xl,xl,(function(){var t,i=e.facade,n=e.value;if(yu(e)&&(t=Zl((function(){Vl?_u.emit(\"unhandledRejection\",n,i):Cu(Su,i,n)})),e.rejection=Vl||yu(e)?2:1,t.error))throw t.value}))},yu=function(e){return 1!==e.rejection&&!e.parent},Iu=function(e){Bl(Xl,xl,(function(){var t=e.facade;Vl?_u.emit(\"rejectionHandled\",t):Cu(\"rejectionhandled\",t,e.value)}))},Au=function(e,t,i){return function(n){e(t,n,i)}},bu=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,Ru(e,!0))},wu=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw new hu(\"Promise can't be resolved itself\");var n=gu(t);n?Jl((function(){var i={done:!1};try{Bl(n,t,Au(wu,i,e),Au(bu,i,e))}catch(t){bu(i,t,e)}})):(e.value=t,e.state=1,Ru(e,!1))}catch(t){bu({done:!1},t,e)}}};ou&&(uu=(lu=function(e){zl(this,uu),Hl(e),Bl(Ll,this);var t=au(this);try{e(Au(wu,t),Au(bu,t))}catch(e){bu(t,e)}}).prototype,(Ll=function(e){cu(this,{type:ru,done:!1,notified:!1,parent:!1,reactions:new $l,rejection:!1,state:0,value:null})}).prototype=jl(uu,\"then\",(function(e,t){var i=au(this),n=Eu(ql(this,lu));return i.parent=!0,n.ok=!Kl(e)||e,n.fail=Kl(t)&&t,n.domain=Vl?_u.domain:void 0,0===i.state?i.reactions.add(n):Jl((function(){Tu(n,i)})),n.promise})),kl=function(){var e=new Ll,t=au(e);this.promise=e,this.resolve=Au(wu,t),this.reject=Au(bu,t)},nu.f=Eu=function(e){return e===lu||e===Ml?new kl(e):mu(e)}),Ul({global:!0,constructor:!0,wrap:!0,forced:ou},{Promise:lu}),Ml=Fl.Promise,Gl(lu,ru,!1,!0),Wl(ru);var Ou=pt(\"iterator\"),Nu=!1;try{var Du=0,Pu={next:function(){return{done:!!Du++}},return:function(){Nu=!0}};Pu[Ou]=function(){return this},Array.from(Pu,(function(){throw 2}))}catch(e){}var Lu=_l,ku=function(e,t){try{if(!t&&!Nu)return!1}catch(e){return!1}var i=!1;try{var n={};n[Ou]=function(){return{next:function(){return{done:i=!0}}}},e(n)}catch(e){}return i},Mu=wl.CONSTRUCTOR||!ku((function(e){Lu.all(e).then(void 0,(function(){}))})),Uu=D,Vu=Ne,xu=Ol,Fu=pl,Bu=Os;Oi({target:\"Promise\",stat:!0,forced:Mu},{all:function(e){var t=this,i=xu.f(t),n=i.resolve,r=i.reject,o=Fu((function(){var i=Vu(t.resolve),o=[],s=0,a=1;Bu(e,(function(e){var c=s++,d=!1;a++,Uu(i,t,e).then((function(e){d||(d=!0,o[c]=e,--a||n(o))}),r)})),--a||n(o)}));return o.error&&r(o.value),i.promise}});var ju=Oi,Gu=wl.CONSTRUCTOR;_l&&_l.prototype,ju({target:\"Promise\",proto:!0,forced:Gu,real:!0},{catch:function(e){return this.then(void 0,e)}});var Wu=D,Hu=Ne,Ku=Ol,Yu=pl,zu=Os;Oi({target:\"Promise\",stat:!0,forced:Mu},{race:function(e){var t=this,i=Ku.f(t),n=i.reject,r=Yu((function(){var r=Hu(t.resolve);zu(e,(function(e){Wu(r,t,e).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}});var qu=Ol;Oi({target:\"Promise\",stat:!0,forced:wl.CONSTRUCTOR},{reject:function(e){var t=qu.f(this);return(0,t.reject)(e),t.promise}});var Xu=ni,Ju=Z,Qu=Ol,Zu=function(e,t){if(Xu(e),Ju(t)&&t.constructor===e)return t;var i=Qu.f(e);return(0,i.resolve)(t),i.promise},$u=Oi,eh=_l,th=wl.CONSTRUCTOR,ih=Zu,nh=re(\"Promise\"),rh=!th;$u({target:\"Promise\",stat:!0,forced:true},{resolve:function(e){return ih(rh&&this===nh?eh:this,e)}});var oh=D,sh=Ne,ah=Ol,ch=pl,dh=Os;Oi({target:\"Promise\",stat:!0,forced:Mu},{allSettled:function(e){var t=this,i=ah.f(t),n=i.resolve,r=i.reject,o=ch((function(){var i=sh(t.resolve),r=[],o=0,s=1;dh(e,(function(e){var a=o++,c=!1;s++,oh(i,t,e).then((function(e){c||(c=!0,r[a]={status:\"fulfilled\",value:e},--s||n(r))}),(function(e){c||(c=!0,r[a]={status:\"rejected\",reason:e},--s||n(r))}))})),--s||n(r)}));return o.error&&r(o.value),i.promise}});var lh=D,uh=Ne,hh=re,ph=Ol,_h=pl,Eh=Os,mh=\"No one promise resolved\";Oi({target:\"Promise\",stat:!0,forced:Mu},{any:function(e){var t=this,i=hh(\"AggregateError\"),n=ph.f(t),r=n.resolve,o=n.reject,s=_h((function(){var n=uh(t.resolve),s=[],a=0,c=1,d=!1;Eh(e,(function(e){var l=a++,u=!1;c++,lh(n,t,e).then((function(e){u||d||(d=!0,r(e))}),(function(e){u||d||(u=!0,s[l]=e,--c||o(new i(s,mh)))}))})),--c||o(new i(s,mh))}));return s.error&&o(s.value),n.promise}});var fh=Oi,Sh=f,gh=sd,Th=Ol,Rh=Ne,Ch=pl,vh=h.Promise,yh=!1;fh({target:\"Promise\",stat:!0,forced:!vh||!vh.try||Ch((function(){vh.try((function(e){yh=8===e}),8)})).error||!yh},{try:function(e){var t=arguments.length>1?gh(arguments,1):[],i=Th.f(this),n=Ch((function(){return Sh(Rh(e),void 0,t)}));return(n.error?i.reject:i.resolve)(n.value),i.promise}});var Ih=Ol;Oi({target:\"Promise\",stat:!0},{withResolvers:function(){var e=Ih.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var Ah=Oi,bh=_l,wh=n,Oh=re,Nh=A,Dh=od,Ph=Zu,Lh=bh&&bh.prototype;Ah({target:\"Promise\",proto:!0,real:!0,forced:!!bh&&wh((function(){Lh.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Dh(this,Oh(\"Promise\")),i=Nh(e);return this.then(i?function(i){return Ph(t,e()).then((function(){return i}))}:e,i?function(i){return Ph(t,e()).then((function(){throw i}))}:e)}});var kh=d,Mh=ki,Uh=Sn,Vh=z,xh=kh(\"\".charAt),Fh=kh(\"\".charCodeAt),Bh=kh(\"\".slice),jh=function(e){return function(t,i){var n,r,o=Uh(Vh(t)),s=Mh(i),a=o.length;return s<0||s>=a?e?\"\":void 0:(n=Fh(o,s))<55296||n>56319||s+1===a||(r=Fh(o,s+1))<56320||r>57343?e?xh(o,s):n:e?Bh(o,s,s+2):r-56320+(n-55296<<10)+65536}},Gh={codeAt:jh(!1),charAt:jh(!0)},Wh=Gh.charAt,Hh=Sn,Kh=Ea,Yh=hc,zh=pc,qh=\"String Iterator\",Xh=Kh.set,Jh=Kh.getterFor(qh);Yh(String,\"String\",(function(e){Xh(this,{type:qh,string:Hh(e),index:0})}),(function(){var e,t=Jh(this),i=t.string,n=t.index;return n>=i.length?zh(void 0,!0):(e=Wh(i,n),t.index+=e.length,zh(e,!1))}));var Qh=$.Promise,Zh={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},$h=h,ep=Ga,tp=qo;for(var ip in Zh)ep($h[ip],ip),tp[ip]=tp.Array;var np=Qh,rp=i(np),op=Zi(\"Array\",\"values\"),sp=En,ap=$e,cp=l,dp=op,lp=Array.prototype,up={DOMTokenList:!0,NodeList:!0},hp=function(e){var t=e.values;return e===lp||cp(lp,e)&&t===lp.values||ap(up,sp(e))?dp:t},pp=i(hp),_p=Ae,Ep=TypeError,mp=sd,fp=Math.floor,Sp=function(e,t){var i=e.length;if(i<8)for(var n,r,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}else for(var s=fp(i/2),a=Sp(mp(e,0,s),t),c=Sp(mp(e,s),t),d=a.length,l=c.length,u=0,h=0;u<d||h<l;)e[u+h]=u<d&&h<l?t(a[u],c[h])<=0?a[u++]:c[h++]:u<d?a[u++]:c[h++];return e},gp=Sp,Tp=ae.match(/firefox\\/(\\d+)/i),Rp=!!Tp&&+Tp[1],Cp=/MSIE|Trident/.test(ae),vp=ae.match(/AppleWebKit\\/(\\d+)\\./),yp=!!vp&&+vp[1],Ip=Oi,Ap=d,bp=Ne,wp=Je,Op=Wi,Np=function(e,t){if(!delete e[t])throw new Ep(\"Cannot delete property \"+_p(t)+\" of \"+_p(e))},Dp=Sn,Pp=n,Lp=gp,kp=Wn,Mp=Rp,Up=Cp,Vp=_e,xp=yp,Fp=[],Bp=Ap(Fp.sort),jp=Ap(Fp.push),Gp=Pp((function(){Fp.sort(void 0)})),Wp=Pp((function(){Fp.sort(null)})),Hp=kp(\"sort\"),Kp=!Pp((function(){if(Vp)return Vp<70;if(!(Mp&&Mp>3)){if(Up)return!0;if(xp)return xp<603;var e,t,i,n,r=\"\";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)Fp.push({k:t+n,v:i})}for(Fp.sort((function(e,t){return t.v-e.v})),n=0;n<Fp.length;n++)t=Fp[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return\"DGBEFHACIJK\"!==r}}));Ip({target:\"Array\",proto:!0,forced:Gp||!Wp||!Hp||!Kp},{sort:function(e){void 0!==e&&bp(e);var t=wp(this);if(Kp)return void 0===e?Bp(t):Bp(t,e);var i,n,r=[],o=Op(t);for(n=0;n<o;n++)n in t&&jp(r,t[n]);for(Lp(r,function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:Dp(t)>Dp(i)?1:-1}}(e)),i=Op(r),n=0;n<i;)t[n]=r[n++];for(;n<o;)Np(t,n++);return t}});var Yp=Zi(\"Array\",\"sort\"),zp=l,qp=Yp,Xp=Array.prototype,Jp=function(e){var t=e.sort;return e===Xp||zp(Xp,e)&&t===Xp.sort?qp:t},Qp=i(Jp),Zp=Oi,$p=d,e_=xi,t_=RangeError,i_=String.fromCharCode,n_=String.fromCodePoint,r_=$p([].join);Zp({target:\"String\",stat:!0,arity:1,forced:!!n_&&1!==n_.length},{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,r=0;n>r;){if(t=+arguments[r++],e_(t,1114111)!==t)throw new t_(t+\" is not a valid code point\");i[r]=t<65536?i_(t):i_(55296+((t-=65536)>>10),t%1024+56320)}return r_(i,\"\")}});var o_=n,s_=pt(\"iterator\"),a_=!o_((function(){var e=new URL(\"b?a=1&b=2&c=3\",\"https://a\"),t=e.searchParams,i=new URLSearchParams(\"a=1&a=2&b=3\"),n=\"\";return e.pathname=\"c%20d\",t.forEach((function(e,i){t.delete(\"b\"),n+=i+e})),i.delete(\"a\",2),i.delete(\"b\",void 0),!e.toJSON||!i.has(\"a\",1)||i.has(\"a\",2)||!i.has(\"a\",void 0)||i.has(\"b\")||!t.size&&true||!t.sort||\"https://a/c%20d?a=1&c=3\"!==e.href||\"3\"!==t.get(\"c\")||\"a=1\"!==String(new URLSearchParams(\"?a=1\"))||!t[s_]||\"a\"!==new URL(\"https://a@b\").username||\"b\"!==new URLSearchParams(new URLSearchParams(\"a=b\")).get(\"a\")||\"xn--e1aybc\"!==new URL(\"https://тест\").host||\"#%D0%B1\"!==new URL(\"https://a#б\").hash||\"a1c3\"!==n||\"x\"!==new URL(\"https://x\",void 0).host})),c_=va,d_=Oi,l_=h,u_=Bd,h_=re,p_=D,__=d,E_=w,m_=a_,f_=va,S_=vc,g_=function(e,t,i){for(var n in t)i&&i.unsafe&&e[n]?e[n]=t[n]:c_(e,n,t[n],i);return e},T_=Ga,R_=Xa,C_=Ea,v_=Nc,y_=A,I_=$e,A_=Qt,b_=En,w_=ni,O_=Z,N_=Sn,D_=ko,P_=x,L_=us,k_=rs,M_=pc,U_=cd,V_=gp,x_=pt(\"iterator\"),F_=\"URLSearchParams\",B_=F_+\"Iterator\",j_=C_.set,G_=C_.getterFor(F_),W_=C_.getterFor(B_),H_=u_(\"fetch\"),K_=u_(\"Request\"),Y_=u_(\"Headers\"),z_=K_&&K_.prototype,q_=Y_&&Y_.prototype,X_=l_.TypeError,J_=l_.encodeURIComponent,Q_=String.fromCharCode,Z_=h_(\"String\",\"fromCodePoint\"),$_=parseInt,eE=__(\"\".charAt),tE=__([].join),iE=__([].push),nE=__(\"\".replace),rE=__([].shift),oE=__([].splice),sE=__(\"\".split),aE=__(\"\".slice),cE=__(/./.exec),dE=/\\+/g,lE=/^[0-9a-f]+$/i,uE=function(e,t){var i=aE(e,t,t+2);return cE(lE,i)?$_(i,16):NaN},hE=function(e){for(var t=0,i=128;i>0&&0!=(e&i);i>>=1)t++;return t},pE=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3]}return t>1114111?null:t},_E=function(e){for(var t=(e=nE(e,dE,\" \")).length,i=\"\",n=0;n<t;){var r=eE(e,n);if(\"%\"===r){if(\"%\"===eE(e,n+1)||n+3>t){i+=\"%\",n++;continue}var o=uE(e,n+1);if(o!=o){i+=r,n++;continue}n+=2;var s=hE(o);if(0===s)r=Q_(o);else{if(1===s||s>4){i+=\"�\",n++;continue}for(var a=[o],c=1;c<s&&!(++n+3>t||\"%\"!==eE(e,n));){var d=uE(e,n+1);if(d!=d){n+=3;break}if(d>191||d<128)break;iE(a,d),n+=2,c++}if(a.length!==s){i+=\"�\";continue}var l=pE(a);null===l?i+=\"�\":r=Z_(l)}}i+=r,n++}return i},EE=/[!'()~]|%20/g,mE={\"!\":\"%21\",\"'\":\"%27\",\"(\":\"%28\",\")\":\"%29\",\"~\":\"%7E\",\"%20\":\"+\"},fE=function(e){return mE[e]},SE=function(e){return nE(J_(e),EE,fE)},gE=R_((function(e,t){j_(this,{type:B_,target:G_(e).entries,index:0,kind:t})}),F_,(function(){var e=W_(this),t=e.target,i=e.index++;if(!t||i>=t.length)return e.target=null,M_(void 0,!0);var n=t[i];switch(e.kind){case\"keys\":return M_(n.key,!1);case\"values\":return M_(n.value,!1)}return M_([n.key,n.value],!1)}),!0),TE=function(e){this.entries=[],this.url=null,void 0!==e&&(O_(e)?this.parseObject(e):this.parseQuery(\"string\"==typeof e?\"?\"===eE(e,0)?aE(e,1):e:N_(e)))};TE.prototype={type:F_,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,i,n,r,o,s,a,c=this.entries,d=k_(e);if(d)for(i=(t=L_(e,d)).next;!(n=p_(i,t)).done;){if(o=(r=L_(w_(n.value))).next,(s=p_(o,r)).done||(a=p_(o,r)).done||!p_(o,r).done)throw new X_(\"Expected sequence with length 2\");iE(c,{key:N_(s.value),value:N_(a.value)})}else for(var l in e)I_(e,l)&&iE(c,{key:l,value:N_(e[l])})},parseQuery:function(e){if(e)for(var t,i,n=this.entries,r=sE(e,\"&\"),o=0;o<r.length;)(t=r[o++]).length&&(i=sE(t,\"=\"),iE(n,{key:_E(rE(i)),value:_E(tE(i,\"=\"))}))},serialize:function(){for(var e,t=this.entries,i=[],n=0;n<t.length;)e=t[n++],iE(i,SE(e.key)+\"=\"+SE(e.value));return tE(i,\"&\")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var RE=function(){v_(this,CE);var e=j_(this,new TE(arguments.length>0?arguments[0]:void 0));E_||(this.size=e.entries.length)},CE=RE.prototype;if(g_(CE,{append:function(e,t){var i=G_(this);U_(arguments.length,2),iE(i.entries,{key:N_(e),value:N_(t)}),E_||this.length++,i.updateURL()},delete:function(e){for(var t=G_(this),i=U_(arguments.length,1),n=t.entries,r=N_(e),o=i<2?void 0:arguments[1],s=void 0===o?o:N_(o),a=0;a<n.length;){var c=n[a];if(c.key!==r||void 0!==s&&c.value!==s)a++;else if(oE(n,a,1),void 0!==s)break}E_||(this.size=n.length),t.updateURL()},get:function(e){var t=G_(this).entries;U_(arguments.length,1);for(var i=N_(e),n=0;n<t.length;n++)if(t[n].key===i)return t[n].value;return null},getAll:function(e){var t=G_(this).entries;U_(arguments.length,1);for(var i=N_(e),n=[],r=0;r<t.length;r++)t[r].key===i&&iE(n,t[r].value);return n},has:function(e){for(var t=G_(this).entries,i=U_(arguments.length,1),n=N_(e),r=i<2?void 0:arguments[1],o=void 0===r?r:N_(r),s=0;s<t.length;){var a=t[s++];if(a.key===n&&(void 0===o||a.value===o))return!0}return!1},set:function(e,t){var i=G_(this);U_(arguments.length,1);for(var n,r=i.entries,o=!1,s=N_(e),a=N_(t),c=0;c<r.length;c++)(n=r[c]).key===s&&(o?oE(r,c--,1):(o=!0,n.value=a));o||iE(r,{key:s,value:a}),E_||(this.size=r.length),i.updateURL()},sort:function(){var e=G_(this);V_(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,i=G_(this).entries,n=A_(e,arguments.length>1?arguments[1]:void 0),r=0;r<i.length;)n((t=i[r++]).value,t.key,this)},keys:function(){return new gE(this,\"keys\")},values:function(){return new gE(this,\"values\")},entries:function(){return new gE(this,\"entries\")}},{enumerable:!0}),f_(CE,x_,CE.entries,{name:\"entries\"}),f_(CE,\"toString\",(function(){return G_(this).serialize()}),{enumerable:!0}),E_&&S_(CE,\"size\",{get:function(){return G_(this).entries.length},configurable:!0,enumerable:!0}),T_(RE,F_),d_({global:!0,constructor:!0,forced:!m_},{URLSearchParams:RE}),!m_&&y_(Y_)){var vE=__(q_.has),yE=__(q_.set),IE=function(e){if(O_(e)){var t,i=e.body;if(b_(i)===F_)return t=e.headers?new Y_(e.headers):new Y_,vE(t,\"content-type\")||yE(t,\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"),D_(e,{body:P_(0,N_(i)),headers:P_(0,t)})}return e};if(y_(H_)&&d_({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return H_(e,arguments.length>1?IE(arguments[1]):{})}}),y_(K_)){var AE=function(e){return v_(this,z_),new K_(e,arguments.length>1?IE(arguments[1]):{})};z_.constructor=AE,AE.prototype=z_,d_({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:AE})}}var bE,wE={URLSearchParams:RE,getState:G_},OE=$.URLSearchParams,NE=w,DE=d,PE=D,LE=n,kE=ho,ME=Qr,UE=P,VE=Je,xE=W,FE=Object.assign,BE=Object.defineProperty,jE=DE([].concat),GE=!FE||LE((function(){if(NE&&1!==FE({b:1},FE(BE({},\"a\",{enumerable:!0,get:function(){BE(this,\"b\",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol(\"assign detection\"),n=\"abcdefghijklmnopqrst\";return e[i]=7,n.split(\"\").forEach((function(e){t[e]=e})),7!==FE({},e)[i]||kE(FE({},t)).join(\"\")!==n}))?function(e,t){for(var i=VE(e),n=arguments.length,r=1,o=ME.f,s=UE.f;n>r;)for(var a,c=xE(arguments[r++]),d=o?jE(kE(c),o(c)):kE(c),l=d.length,u=0;l>u;)a=d[u++],NE&&!PE(s,c,a)||(i[a]=c[a]);return i}:FE,WE=ni,HE=Es,KE=w,YE=Zt,zE=x,qE=function(e,t,i){KE?YE.f(e,t,zE(0,i)):e[t]=i},XE=Qt,JE=D,QE=Je,ZE=function(e,t,i,n){try{return n?t(WE(i)[0],i[1]):t(i)}catch(t){HE(e,\"throw\",t)}},$E=Zo,em=Qc,tm=Wi,im=qE,nm=us,rm=rs,om=Array,sm=d,am=2147483647,cm=/[^\\0-\\u007E]/,dm=/[.\\u3002\\uFF0E\\uFF61]/g,lm=\"Overflow: input needs wider integers to process\",um=RangeError,hm=sm(dm.exec),pm=Math.floor,_m=String.fromCharCode,Em=sm(\"\".charCodeAt),mm=sm([].join),fm=sm([].push),Sm=sm(\"\".replace),gm=sm(\"\".split),Tm=sm(\"\".toLowerCase),Rm=function(e){return e+22+75*(e<26)},Cm=function(e,t,i){var n=0;for(e=i?pm(e/700):e>>1,e+=pm(e/t);e>455;)e=pm(e/35),n+=36;return pm(n+36*e/(e+38))},vm=function(e){var t=[];e=function(e){for(var t=[],i=0,n=e.length;i<n;){var r=Em(e,i++);if(r>=55296&&r<=56319&&i<n){var o=Em(e,i++);56320==(64512&o)?fm(t,((1023&r)<<10)+(1023&o)+65536):(fm(t,r),i--)}else fm(t,r)}return t}(e);var i,n,r=e.length,o=128,s=0,a=72;for(i=0;i<e.length;i++)(n=e[i])<128&&fm(t,_m(n));var c=t.length,d=c;for(c&&fm(t,\"-\");d<r;){var l=am;for(i=0;i<e.length;i++)(n=e[i])>=o&&n<l&&(l=n);var u=d+1;if(l-o>pm((am-s)/u))throw new um(lm);for(s+=(l-o)*u,o=l,i=0;i<e.length;i++){if((n=e[i])<o&&++s>am)throw new um(lm);if(n===o){for(var h=s,p=36;;){var _=p<=a?1:p>=a+26?26:p-a;if(h<_)break;var E=h-_,m=36-_;fm(t,_m(Rm(_+E%m))),h=pm(E/m),p+=36}fm(t,_m(Rm(h))),a=Cm(s,u,d===c),s=0,d++}}s++,o++}return mm(t,\"\")},ym=Oi,Im=w,Am=a_,bm=h,wm=Qt,Om=d,Nm=va,Dm=vc,Pm=Nc,Lm=$e,km=GE,Mm=function(e){var t=QE(e),i=em(this),n=arguments.length,r=n>1?arguments[1]:void 0,o=void 0!==r;o&&(r=XE(r,n>2?arguments[2]:void 0));var s,a,c,d,l,u,h=rm(t),p=0;if(!h||this===om&&$E(h))for(s=tm(t),a=i?new this(s):om(s);s>p;p++)u=o?r(t[p],p):t[p],im(a,p,u);else for(a=i?new this:[],l=(d=nm(t,h)).next;!(c=JE(l,d)).done;p++)u=o?ZE(d,r,[c.value,p],!0):c.value,im(a,p,u);return a.length=p,a},Um=sd,Vm=Gh.codeAt,xm=function(e){var t,i,n=[],r=gm(Sm(Tm(e),dm,\".\"),\".\");for(t=0;t<r.length;t++)i=r[t],fm(n,hm(cm,i)?\"xn--\"+vm(i):i);return mm(n,\".\")},Fm=Sn,Bm=Ga,jm=cd,Gm=wE,Wm=Ea,Hm=Wm.set,Km=Wm.getterFor(\"URL\"),Ym=Gm.URLSearchParams,zm=Gm.getState,qm=bm.URL,Xm=bm.TypeError,Jm=bm.parseInt,Qm=Math.floor,Zm=Math.pow,$m=Om(\"\".charAt),ef=Om(/./.exec),tf=Om([].join),nf=Om(1.1.toString),rf=Om([].pop),of=Om([].push),sf=Om(\"\".replace),af=Om([].shift),cf=Om(\"\".split),df=Om(\"\".slice),lf=Om(\"\".toLowerCase),uf=Om([].unshift),hf=\"Invalid scheme\",pf=\"Invalid host\",_f=\"Invalid port\",Ef=/[a-z]/i,mf=/[\\d+-.a-z]/i,ff=/\\d/,Sf=/^0x/i,gf=/^[0-7]+$/,Tf=/^\\d+$/,Rf=/^[\\da-f]+$/i,Cf=/[\\0\\t\\n\\r #%/:<>?@[\\\\\\]^|]/,vf=/[\\0\\t\\n\\r #/:<>?@[\\\\\\]^|]/,yf=/^[\\u0000-\\u0020]+/,If=/(^|[^\\u0000-\\u0020])[\\u0000-\\u0020]+$/,Af=/[\\t\\n\\r]/g,bf=function(e){var t,i,n,r;if(\"number\"==typeof e){for(t=[],i=0;i<4;i++)uf(t,e%256),e=Qm(e/256);return tf(t,\".\")}if(\"object\"==typeof e){for(t=\"\",n=function(e){for(var t=null,i=1,n=null,r=0,o=0;o<8;o++)0!==e[o]?(r>i&&(t=n,i=r),n=null,r=0):(null===n&&(n=o),++r);return r>i?n:t}(e),i=0;i<8;i++)r&&0===e[i]||(r&&(r=!1),n===i?(t+=i?\":\":\"::\",r=!0):(t+=nf(e[i],16),i<7&&(t+=\":\")));return\"[\"+t+\"]\"}return e},wf={},Of=km({},wf,{\" \":1,'\"':1,\"<\":1,\">\":1,\"`\":1}),Nf=km({},Of,{\"#\":1,\"?\":1,\"{\":1,\"}\":1}),Df=km({},Nf,{\"/\":1,\":\":1,\";\":1,\"=\":1,\"@\":1,\"[\":1,\"\\\\\":1,\"]\":1,\"^\":1,\"|\":1}),Pf=function(e,t){var i=Vm(e,0);return i>32&&i<127&&!Lm(t,e)?e:encodeURIComponent(e)},Lf={ftp:21,file:null,http:80,https:443,ws:80,wss:443},kf=function(e,t){var i;return 2===e.length&&ef(Ef,$m(e,0))&&(\":\"===(i=$m(e,1))||!t&&\"|\"===i)},Mf=function(e){var t;return e.length>1&&kf(df(e,0,2))&&(2===e.length||\"/\"===(t=$m(e,2))||\"\\\\\"===t||\"?\"===t||\"#\"===t)},Uf=function(e){return\".\"===e||\"%2e\"===lf(e)},Vf={},xf={},Ff={},Bf={},jf={},Gf={},Wf={},Hf={},Kf={},Yf={},zf={},qf={},Xf={},Jf={},Qf={},Zf={},$f={},eS={},tS={},iS={},nS={},rS=function(e,t,i){var n,r,o,s=Fm(e);if(t){if(r=this.parse(s))throw new Xm(r);this.searchParams=null}else{if(void 0!==i&&(n=new rS(i,!0)),r=this.parse(s,null,n))throw new Xm(r);(o=zm(new Ym)).bindURL(this),this.searchParams=o}};rS.prototype={type:\"URL\",parse:function(e,t,i){var n,r,o,s,a,c=this,d=t||Vf,l=0,u=\"\",h=!1,p=!1,_=!1;for(e=Fm(e),t||(c.scheme=\"\",c.username=\"\",c.password=\"\",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=sf(e,yf,\"\"),e=sf(e,If,\"$1\")),e=sf(e,Af,\"\"),n=Mm(e);l<=n.length;){switch(r=n[l],d){case Vf:if(!r||!ef(Ef,r)){if(t)return hf;d=Ff;continue}u+=lf(r),d=xf;break;case xf:if(r&&(ef(mf,r)||\"+\"===r||\"-\"===r||\".\"===r))u+=lf(r);else{if(\":\"!==r){if(t)return hf;u=\"\",d=Ff,l=0;continue}if(t&&(c.isSpecial()!==Lm(Lf,u)||\"file\"===u&&(c.includesCredentials()||null!==c.port)||\"file\"===c.scheme&&!c.host))return;if(c.scheme=u,t)return void(c.isSpecial()&&Lf[c.scheme]===c.port&&(c.port=null));u=\"\",\"file\"===c.scheme?d=Jf:c.isSpecial()&&i&&i.scheme===c.scheme?d=Bf:c.isSpecial()?d=Hf:\"/\"===n[l+1]?(d=jf,l++):(c.cannotBeABaseURL=!0,of(c.path,\"\"),d=tS)}break;case Ff:if(!i||i.cannotBeABaseURL&&\"#\"!==r)return hf;if(i.cannotBeABaseURL&&\"#\"===r){c.scheme=i.scheme,c.path=Um(i.path),c.query=i.query,c.fragment=\"\",c.cannotBeABaseURL=!0,d=nS;break}d=\"file\"===i.scheme?Jf:Gf;continue;case Bf:if(\"/\"!==r||\"/\"!==n[l+1]){d=Gf;continue}d=Kf,l++;break;case jf:if(\"/\"===r){d=Yf;break}d=eS;continue;case Gf:if(c.scheme=i.scheme,r===bE)c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=Um(i.path),c.query=i.query;else if(\"/\"===r||\"\\\\\"===r&&c.isSpecial())d=Wf;else if(\"?\"===r)c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=Um(i.path),c.query=\"\",d=iS;else{if(\"#\"!==r){c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=Um(i.path),c.path.length--,d=eS;continue}c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=Um(i.path),c.query=i.query,c.fragment=\"\",d=nS}break;case Wf:if(!c.isSpecial()||\"/\"!==r&&\"\\\\\"!==r){if(\"/\"!==r){c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,d=eS;continue}d=Yf}else d=Kf;break;case Hf:if(d=Kf,\"/\"!==r||\"/\"!==$m(u,l+1))continue;l++;break;case Kf:if(\"/\"!==r&&\"\\\\\"!==r){d=Yf;continue}break;case Yf:if(\"@\"===r){h&&(u=\"%40\"+u),h=!0,o=Mm(u);for(var E=0;E<o.length;E++){var m=o[E];if(\":\"!==m||_){var f=Pf(m,Df);_?c.password+=f:c.username+=f}else _=!0}u=\"\"}else if(r===bE||\"/\"===r||\"?\"===r||\"#\"===r||\"\\\\\"===r&&c.isSpecial()){if(h&&\"\"===u)return\"Invalid authority\";l-=Mm(u).length+1,u=\"\",d=zf}else u+=r;break;case zf:case qf:if(t&&\"file\"===c.scheme){d=Zf;continue}if(\":\"!==r||p){if(r===bE||\"/\"===r||\"?\"===r||\"#\"===r||\"\\\\\"===r&&c.isSpecial()){if(c.isSpecial()&&\"\"===u)return pf;if(t&&\"\"===u&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(u))return s;if(u=\"\",d=$f,t)return;continue}\"[\"===r?p=!0:\"]\"===r&&(p=!1),u+=r}else{if(\"\"===u)return pf;if(s=c.parseHost(u))return s;if(u=\"\",d=Xf,t===qf)return}break;case Xf:if(!ef(ff,r)){if(r===bE||\"/\"===r||\"?\"===r||\"#\"===r||\"\\\\\"===r&&c.isSpecial()||t){if(\"\"!==u){var S=Jm(u,10);if(S>65535)return _f;c.port=c.isSpecial()&&S===Lf[c.scheme]?null:S,u=\"\"}if(t)return;d=$f;continue}return _f}u+=r;break;case Jf:if(c.scheme=\"file\",\"/\"===r||\"\\\\\"===r)d=Qf;else{if(!i||\"file\"!==i.scheme){d=eS;continue}switch(r){case bE:c.host=i.host,c.path=Um(i.path),c.query=i.query;break;case\"?\":c.host=i.host,c.path=Um(i.path),c.query=\"\",d=iS;break;case\"#\":c.host=i.host,c.path=Um(i.path),c.query=i.query,c.fragment=\"\",d=nS;break;default:Mf(tf(Um(n,l),\"\"))||(c.host=i.host,c.path=Um(i.path),c.shortenPath()),d=eS;continue}}break;case Qf:if(\"/\"===r||\"\\\\\"===r){d=Zf;break}i&&\"file\"===i.scheme&&!Mf(tf(Um(n,l),\"\"))&&(kf(i.path[0],!0)?of(c.path,i.path[0]):c.host=i.host),d=eS;continue;case Zf:if(r===bE||\"/\"===r||\"\\\\\"===r||\"?\"===r||\"#\"===r){if(!t&&kf(u))d=eS;else if(\"\"===u){if(c.host=\"\",t)return;d=$f}else{if(s=c.parseHost(u))return s;if(\"localhost\"===c.host&&(c.host=\"\"),t)return;u=\"\",d=$f}continue}u+=r;break;case $f:if(c.isSpecial()){if(d=eS,\"/\"!==r&&\"\\\\\"!==r)continue}else if(t||\"?\"!==r)if(t||\"#\"!==r){if(r!==bE&&(d=eS,\"/\"!==r))continue}else c.fragment=\"\",d=nS;else c.query=\"\",d=iS;break;case eS:if(r===bE||\"/\"===r||\"\\\\\"===r&&c.isSpecial()||!t&&(\"?\"===r||\"#\"===r)){if(\"..\"===(a=lf(a=u))||\"%2e.\"===a||\".%2e\"===a||\"%2e%2e\"===a?(c.shortenPath(),\"/\"===r||\"\\\\\"===r&&c.isSpecial()||of(c.path,\"\")):Uf(u)?\"/\"===r||\"\\\\\"===r&&c.isSpecial()||of(c.path,\"\"):(\"file\"===c.scheme&&!c.path.length&&kf(u)&&(c.host&&(c.host=\"\"),u=$m(u,0)+\":\"),of(c.path,u)),u=\"\",\"file\"===c.scheme&&(r===bE||\"?\"===r||\"#\"===r))for(;c.path.length>1&&\"\"===c.path[0];)af(c.path);\"?\"===r?(c.query=\"\",d=iS):\"#\"===r&&(c.fragment=\"\",d=nS)}else u+=Pf(r,Nf);break;case tS:\"?\"===r?(c.query=\"\",d=iS):\"#\"===r?(c.fragment=\"\",d=nS):r!==bE&&(c.path[0]+=Pf(r,wf));break;case iS:t||\"#\"!==r?r!==bE&&(\"'\"===r&&c.isSpecial()?c.query+=\"%27\":c.query+=\"#\"===r?\"%23\":Pf(r,wf)):(c.fragment=\"\",d=nS);break;case nS:r!==bE&&(c.fragment+=Pf(r,Of))}l++}},parseHost:function(e){var t,i,n;if(\"[\"===$m(e,0)){if(\"]\"!==$m(e,e.length-1))return pf;if(t=function(e){var t,i,n,r,o,s,a,c=[0,0,0,0,0,0,0,0],d=0,l=null,u=0,h=function(){return $m(e,u)};if(\":\"===h()){if(\":\"!==$m(e,1))return;u+=2,l=++d}for(;h();){if(8===d)return;if(\":\"!==h()){for(t=i=0;i<4&&ef(Rf,h());)t=16*t+Jm(h(),16),u++,i++;if(\".\"===h()){if(0===i)return;if(u-=i,d>6)return;for(n=0;h();){if(r=null,n>0){if(!(\".\"===h()&&n<4))return;u++}if(!ef(ff,h()))return;for(;ef(ff,h());){if(o=Jm(h(),10),null===r)r=o;else{if(0===r)return;r=10*r+o}if(r>255)return;u++}c[d]=256*c[d]+r,2!=++n&&4!==n||d++}if(4!==n)return;break}if(\":\"===h()){if(u++,!h())return}else if(h())return;c[d++]=t}else{if(null!==l)return;u++,l=++d}}if(null!==l)for(s=d-l,d=7;0!==d&&s>0;)a=c[d],c[d--]=c[l+s-1],c[l+--s]=a;else if(8!==d)return;return c}(df(e,1,-1)),!t)return pf;this.host=t}else if(this.isSpecial()){if(e=xm(e),ef(Cf,e))return pf;if(t=function(e){var t,i,n,r,o,s,a,c=cf(e,\".\");if(c.length&&\"\"===c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(i=[],n=0;n<t;n++){if(\"\"===(r=c[n]))return e;if(o=10,r.length>1&&\"0\"===$m(r,0)&&(o=ef(Sf,r)?16:8,r=df(r,8===o?1:2)),\"\"===r)s=0;else{if(!ef(10===o?Tf:8===o?gf:Rf,r))return e;s=Jm(r,o)}of(i,s)}for(n=0;n<t;n++)if(s=i[n],n===t-1){if(s>=Zm(256,5-t))return null}else if(s>255)return null;for(a=rf(i),n=0;n<i.length;n++)a+=i[n]*Zm(256,3-n);return a}(e),null===t)return pf;this.host=t}else{if(ef(vf,e))return pf;for(t=\"\",i=Mm(e),n=0;n<i.length;n++)t+=Pf(i[n],wf);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||\"file\"===this.scheme},includesCredentials:function(){return\"\"!==this.username||\"\"!==this.password},isSpecial:function(){return Lm(Lf,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||\"file\"===this.scheme&&1===t&&kf(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,i=e.username,n=e.password,r=e.host,o=e.port,s=e.path,a=e.query,c=e.fragment,d=t+\":\";return null!==r?(d+=\"//\",e.includesCredentials()&&(d+=i+(n?\":\"+n:\"\")+\"@\"),d+=bf(r),null!==o&&(d+=\":\"+o)):\"file\"===t&&(d+=\"//\"),d+=e.cannotBeABaseURL?s[0]:s.length?\"/\"+tf(s,\"/\"):\"\",null!==a&&(d+=\"?\"+a),null!==c&&(d+=\"#\"+c),d},setHref:function(e){var t=this.parse(e);if(t)throw new Xm(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(\"blob\"===e)try{return new oS(e.path[0]).origin}catch(e){return\"null\"}return\"file\"!==e&&this.isSpecial()?e+\"://\"+bf(this.host)+(null!==t?\":\"+t:\"\"):\"null\"},getProtocol:function(){return this.scheme+\":\"},setProtocol:function(e){this.parse(Fm(e)+\":\",Vf)},getUsername:function(){return this.username},setUsername:function(e){var t=Mm(Fm(e));if(!this.cannotHaveUsernamePasswordPort()){this.username=\"\";for(var i=0;i<t.length;i++)this.username+=Pf(t[i],Df)}},getPassword:function(){return this.password},setPassword:function(e){var t=Mm(Fm(e));if(!this.cannotHaveUsernamePasswordPort()){this.password=\"\";for(var i=0;i<t.length;i++)this.password+=Pf(t[i],Df)}},getHost:function(){var e=this.host,t=this.port;return null===e?\"\":null===t?bf(e):bf(e)+\":\"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,zf)},getHostname:function(){var e=this.host;return null===e?\"\":bf(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,qf)},getPort:function(){var e=this.port;return null===e?\"\":Fm(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(\"\"===(e=Fm(e))?this.port=null:this.parse(e,Xf))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?\"/\"+tf(e,\"/\"):\"\"},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,$f))},getSearch:function(){var e=this.query;return e?\"?\"+e:\"\"},setSearch:function(e){\"\"===(e=Fm(e))?this.query=null:(\"?\"===$m(e,0)&&(e=df(e,1)),this.query=\"\",this.parse(e,iS)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?\"#\"+e:\"\"},setHash:function(e){\"\"!==(e=Fm(e))?(\"#\"===$m(e,0)&&(e=df(e,1)),this.fragment=\"\",this.parse(e,nS)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var oS=function(e){var t=Pm(this,sS),i=jm(arguments.length,1)>1?arguments[1]:void 0,n=Hm(t,new rS(e,!1,i));Im||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},sS=oS.prototype,aS=function(e,t){return{get:function(){return Km(this)[e]()},set:t&&function(e){return Km(this)[t](e)},configurable:!0,enumerable:!0}};if(Im&&(Dm(sS,\"href\",aS(\"serialize\",\"setHref\")),Dm(sS,\"origin\",aS(\"getOrigin\")),Dm(sS,\"protocol\",aS(\"getProtocol\",\"setProtocol\")),Dm(sS,\"username\",aS(\"getUsername\",\"setUsername\")),Dm(sS,\"password\",aS(\"getPassword\",\"setPassword\")),Dm(sS,\"host\",aS(\"getHost\",\"setHost\")),Dm(sS,\"hostname\",aS(\"getHostname\",\"setHostname\")),Dm(sS,\"port\",aS(\"getPort\",\"setPort\")),Dm(sS,\"pathname\",aS(\"getPathname\",\"setPathname\")),Dm(sS,\"search\",aS(\"getSearch\",\"setSearch\")),Dm(sS,\"searchParams\",aS(\"getSearchParams\")),Dm(sS,\"hash\",aS(\"getHash\",\"setHash\"))),Nm(sS,\"toJSON\",(function(){return Km(this).serialize()}),{enumerable:!0}),Nm(sS,\"toString\",(function(){return Km(this).serialize()}),{enumerable:!0}),qm){var cS=qm.createObjectURL,dS=qm.revokeObjectURL;cS&&Nm(oS,\"createObjectURL\",wm(cS,qm)),dS&&Nm(oS,\"revokeObjectURL\",wm(dS,qm))}Bm(oS,\"URL\"),ym({global:!0,constructor:!0,forced:!Am,sham:!Im},{URL:oS});var lS=Oi,uS=n,hS=cd,pS=Sn,_S=a_,ES=re(\"URL\"),mS=_S&&uS((function(){ES.canParse()})),fS=uS((function(){return 1!==ES.canParse.length}));lS({target:\"URL\",stat:!0,forced:!mS||fS},{canParse:function(e){var t=hS(arguments.length,1),i=pS(e),n=t<2||void 0===arguments[1]?void 0:pS(arguments[1]);try{return!!new ES(i,n)}catch(e){return!1}}});var SS=Oi,gS=cd,TS=Sn,RS=a_,CS=re(\"URL\");SS({target:\"URL\",stat:!0,forced:!RS},{parse:function(e){var t=gS(arguments.length,1),i=TS(e),n=t<2||void 0===arguments[1]?void 0:TS(arguments[1]);try{return new CS(i,n)}catch(e){return null}}});var vS=i($.URL);let yS=!0,IS=!0;function AS(e,t,i){const n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)}function bS(e,t,i){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return r.apply(this,arguments);const o=e=>{const t=i(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,o),r.apply(this,[e,o])};const o=n.removeEventListener;n.removeEventListener=function(e,i){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(i))return o.apply(this,arguments);const n=this._eventMap[t].get(i);return this._eventMap[t].delete(i),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,n])},Object.defineProperty(n,\"on\"+t,{get(){return this[\"_on\"+t]},set(e){this[\"_on\"+t]&&(this.removeEventListener(t,this[\"_on\"+t]),delete this[\"_on\"+t]),e&&this.addEventListener(t,this[\"_on\"+t]=e)},enumerable:!0,configurable:!0})}function wS(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(yS=e,e?\"adapter.js logging disabled\":\"adapter.js logging enabled\")}function OS(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(IS=!e,\"adapter.js deprecation warnings \"+(e?\"disabled\":\"enabled\"))}function NS(){if(\"object\"==typeof window){if(yS)return;\"undefined\"!=typeof console&&\"function\"==typeof console.log&&console.log.apply(console,arguments)}}function DS(e,t){IS&&console.warn(e+\" is deprecated, please use \"+t+\" instead.\")}function PS(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function LS(e){var t;return PS(e)?nr(t=Object.keys(e)).call(t,(function(t,i){const n=PS(e[i]),r=n?LS(e[i]):e[i],o=n&&!Object.keys(r).length;return void 0===r||o?t:Object.assign(t,{[i]:r})}),{}):e}function kS(e,t,i){t&&!i.has(t.id)&&(i.set(t.id,t),Object.keys(t).forEach((n=>{n.endsWith(\"Id\")?kS(e,e.get(t[n]),i):n.endsWith(\"Ids\")&&t[n].forEach((t=>{kS(e,e.get(t),i)}))})))}function MS(e,t,i){const n=i?\"outbound-rtp\":\"inbound-rtp\",r=new Map;if(null===t)return r;const o=[];return e.forEach((e=>{\"track\"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((i=>{i.type===n&&i.trackId===t.id&&kS(e,i,r)}))})),r}const US=NS;function VS(e,t){const i=e&&e.navigator;if(!i.mediaDevices)return;const n=function(e){if(\"object\"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((i=>{if(\"require\"===i||\"advanced\"===i||\"mediaSource\"===i)return;const n=\"object\"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==n.exact&&\"number\"==typeof n.exact&&(n.min=n.max=n.exact);const r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):\"deviceId\"===t?\"sourceId\":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};\"number\"==typeof n.ideal?(e[r(\"min\",i)]=n.ideal,t.optional.push(e),e={},e[r(\"max\",i)]=n.ideal,t.optional.push(e)):(e[r(\"\",i)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&\"number\"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[r(\"\",i)]=n.exact):[\"min\",\"max\"].forEach((e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,i)]=n[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&\"object\"==typeof e.audio){const t=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,\"autoGainControl\",\"googAutoGainControl\"),t(e.audio,\"noiseSuppression\",\"googNoiseSuppression\"),e.audio=n(e.audio)}if(e&&\"object\"==typeof e.video){let o=e.video.facingMode;o=o&&(\"object\"==typeof o?o:{ideal:o});const s=t.version<66;if(o&&(\"user\"===o.exact||\"environment\"===o.exact||\"user\"===o.ideal||\"environment\"===o.ideal)&&(!i.mediaDevices.getSupportedConstraints||!i.mediaDevices.getSupportedConstraints().facingMode||s)){let t;if(delete e.video.facingMode,\"environment\"===o.exact||\"environment\"===o.ideal?t=[\"back\",\"rear\"]:\"user\"!==o.exact&&\"user\"!==o.ideal||(t=[\"front\"]),t)return i.mediaDevices.enumerateDevices().then((i=>{i=i.filter((e=>\"videoinput\"===e.kind));let s=i.find((e=>t.some((t=>{var i;return Ln(i=e.label.toLowerCase()).call(i,t)}))));return!s&&i.length&&Ln(t).call(t,\"back\")&&(s=i[i.length-1]),s&&(e.video.deviceId=o.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=n(e.video),US(\"chrome: \"+JSON.stringify(e)),r(e)}))}e.video=n(e.video)}return US(\"chrome: \"+JSON.stringify(e)),r(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:\"NotAllowedError\",PermissionDismissedError:\"NotAllowedError\",InvalidStateError:\"NotAllowedError\",DevicesNotFoundError:\"NotFoundError\",ConstraintNotSatisfiedError:\"OverconstrainedError\",TrackStartError:\"NotReadableError\",MediaDeviceFailedDueToShutdown:\"NotAllowedError\",MediaDeviceKillSwitchOn:\"NotAllowedError\",TabCaptureError:\"AbortError\",ScreenCaptureError:\"AbortError\",DeviceCaptureError:\"AbortError\"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&\": \")+this.message}}};if(i.getUserMedia=function(e,t,n){r(e,(e=>{i.webkitGetUserMedia(e,t,(e=>{n&&n(o(e))}))}))}.bind(i),i.mediaDevices.getUserMedia){const e=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(t){return r(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException(\"\",\"NotFoundError\");return e}),(e=>rp.reject(o(e))))))}}}function xS(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function FS(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&!(\"ontrack\"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,\"ontrack\",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener(\"track\",this._ontrack),this.addEventListener(\"track\",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener(\"addtrack\",(i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===i.track.id)):{track:i.track};const r=new Event(\"track\");r.track=i.track,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)})),t.stream.getTracks().forEach((i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===i.id)):{track:i};const r=new Event(\"track\");r.track=i,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)}))},this.addEventListener(\"addstream\",this._ontrackpoly)),t.apply(this,arguments)}}else bS(e,\"track\",(e=>(e.transceiver||Object.defineProperty(e,\"transceiver\",{value:{receiver:e.receiver}}),e)))}function BS(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&!(\"getSenders\"in e.RTCPeerConnection.prototype)&&\"createDTMFSender\"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&(\"audio\"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let r=i.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if(\"object\"==typeof e&&e.RTCPeerConnection&&\"getSenders\"in e.RTCPeerConnection.prototype&&\"createDTMFSender\"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!(\"dtmf\"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,\"dtmf\",{get(){return void 0===this._dtmf&&(\"audio\"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function jS(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,n]=arguments;if(arguments.length>0&&\"function\"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||\"function\"!=typeof e))return t.apply(this,[]);const r=function(e){const t={};return e.result().forEach((e=>{const i={id:e.id,timestamp:e.timestamp,type:{localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"}[e.type]||e.type};e.names().forEach((t=>{i[t]=e.stat(t)})),t[i.id]=i})),t},o=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const n=function(e){i(o(r(e)))};return t.apply(this,[n,e])}return new rp(((e,i)=>{t.apply(this,[function(t){e(o(r(t)))},i])})).then(i,n)}}function GS(e){if(!(\"object\"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!(\"getStats\"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>MS(t,e.track,!0)))}}if(!(\"getStats\"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),bS(e,\"track\",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>MS(t,e.track,!1)))}}if(!(\"getStats\"in e.RTCRtpSender.prototype)||!(\"getStats\"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,i,n;return this.getSenders().forEach((i=>{i.track===e&&(t?n=!0:t=i)})),this.getReceivers().forEach((t=>(t.track===e&&(i?n=!0:i=t),t.track===e))),n||t&&i?rp.reject(new DOMException(\"There are more than one sender or receiver for the track.\",\"InvalidAccessError\")):t?t.getStats():i?i.getStats():rp.reject(new DOMException(\"There is no sender or receiver for the track.\",\"InvalidAccessError\"))}return t.apply(this,arguments)}}function WS(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){if(!i)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[i.id]?-1===this._shimmedLocalStreams[i.id].indexOf(n)&&this._shimmedLocalStreams[i.id].push(n):this._shimmedLocalStreams[i.id]=[i,n],n};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{const t=this.getSenders().find((t=>t.track===e));if(t)throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")}));const t=this.getSenders();i.apply(this,arguments);const n=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const i=this._shimmedLocalStreams[t].indexOf(e);-1!==i&&this._shimmedLocalStreams[t].splice(i,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),r.apply(this,arguments)}}function HS(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return WS(e);const i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=i.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{const t=this.getSenders().find((t=>t.track===e));if(t)throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")})),!this._reverseStreams[t.id]){const i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};const r=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(r.id,\"g\"),n.id)})),new RTCSessionDescription({type:t.type,sdp:i})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find((e=>e===t)))throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\",\"NotSupportedError\");const r=this.getSenders().find((e=>e.track===t));if(r)throw new DOMException(\"Track already exists.\",\"InvalidAccessError\");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[i.id];if(o)o.addTrack(t),rp.resolve().then((()=>{this.dispatchEvent(new Event(\"negotiationneeded\"))}));else{const n=new e.MediaStream([t]);this._streams[i.id]=n,this._reverseStreams[n.id]=i,this.addStream(n)}return this.getSenders().find((e=>e.track===t))},[\"createOffer\",\"createAnswer\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments;return arguments.length&&\"function\"==typeof arguments[0]?i.apply(this,[t=>{const i=o(this,t);e[0].apply(null,[i])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):i.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=n[t]}));const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(n.id,\"g\"),r.id)})),new RTCSessionDescription({type:t.type,sdp:i})}(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,\"localDescription\");Object.defineProperty(e.RTCPeerConnection.prototype,\"localDescription\",{get(){const e=a.get.apply(this);return\"\"===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");if(!e._pc)throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\",\"TypeError\");if(!(e._pc===this))throw new DOMException(\"Sender was not created by this connection.\",\"InvalidAccessError\");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((i=>{this._streams[i].getTracks().find((t=>e.track===t))&&(t=this._streams[i])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event(\"negotiationneeded\")))}}function KS(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}))}function YS(e,t){bS(e,\"negotiationneeded\",(e=>{const i=e.target;if(!(t.version<72||i.getConfiguration&&\"plan-b\"===i.getConfiguration().sdpSemantics)||\"stable\"===i.signalingState)return e}))}var zS=Object.freeze({__proto__:null,fixNegotiationNeeded:YS,shimAddTrackRemoveTrack:HS,shimAddTrackRemoveTrackWithNative:WS,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(\"function\"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(i){return t(i).then((t=>{const n=i.video&&i.video.width,r=i.video&&i.video.height,o=i.video&&i.video.frameRate;return i.video={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:t,maxFrameRate:o||3}},n&&(i.video.mandatory.maxWidth=n),r&&(i.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(i)}))}:console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\"))},shimGetSendersWithDtmf:BS,shimGetStats:jS,shimGetUserMedia:VS,shimMediaStream:xS,shimOnTrack:FS,shimPeerConnection:KS,shimSenderReceiverGetStats:GS});function qS(e,t){const i=e&&e.navigator,n=e&&e.MediaStreamTrack;if(i.getUserMedia=function(e,t,n){DS(\"navigator.getUserMedia\",\"navigator.mediaDevices.getUserMedia\"),i.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&\"autoGainControl\"in i.mediaDevices.getSupportedConstraints())){const e=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(i){return\"object\"==typeof i&&\"object\"==typeof i.audio&&(i=JSON.parse(JSON.stringify(i)),e(i.audio,\"autoGainControl\",\"mozAutoGainControl\"),e(i.audio,\"noiseSuppression\",\"mozNoiseSuppression\")),t(i)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const i=t.apply(this,arguments);return e(i,\"mozAutoGainControl\",\"autoGainControl\"),e(i,\"mozNoiseSuppression\",\"noiseSuppression\"),i}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(i){return\"audio\"===this.kind&&\"object\"==typeof i&&(i=JSON.parse(JSON.stringify(i)),e(i,\"autoGainControl\",\"mozAutoGainControl\"),e(i,\"noiseSuppression\",\"mozNoiseSuppression\")),t.apply(this,[i])}}}}function XS(e){\"object\"==typeof e&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get(){return{receiver:this.receiver}}})}function JS(e,t){if(\"object\"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}));const i={inboundrtp:\"inbound-rtp\",outboundrtp:\"outbound-rtp\",candidatepair:\"candidate-pair\",localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,o]=arguments;return n.apply(this,[e||null]).then((e=>{if(t.version<53&&!r)try{e.forEach((e=>{e.type=i[e.type]||e.type}))}catch(t){if(\"TypeError\"!==t.name)throw t;e.forEach(((t,n)=>{e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))}))}return e})).then(r,o)}}function QS(e){if(\"object\"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&\"getStats\"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):rp.resolve(new Map)}}function ZS(e){if(\"object\"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&\"getStats\"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),bS(e,\"track\",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function $S(e){e.RTCPeerConnection&&!(\"removeStream\"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){DS(\"removeStream\",\"removeTrack\"),this.getSenders().forEach((t=>{var i;t.track&&Ln(i=e.getTracks()).call(i,t.track)&&this.removeTrack(t)}))})}function eg(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function tg(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const i=e.length>0;i&&e.forEach((e=>{if(\"rid\"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError(\"Invalid RID value provided.\")}if(\"scaleResolutionDownBy\"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError(\"scale_resolution_down_by must be >= 1.0\");if(\"maxFramerate\"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError(\"max_framerate must be >= 0.0\")}));const n=t.apply(this,arguments);if(i){const{sender:t}=n,i=t.getParameters();(!(\"encodings\"in i)||1===i.encodings.length&&0===Object.keys(i.encodings[0]).length)&&(i.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(i).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return n})}function ig(e){if(\"object\"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return\"encodings\"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function ng(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?rp.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function rg(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?rp.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var og=Object.freeze({__proto__:null,shimAddTransceiver:tg,shimCreateAnswer:rg,shimCreateOffer:ng,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!i||!i.video){const e=new DOMException(\"getDisplayMedia without video constraints is undefined\");return e.name=\"NotFoundError\",e.code=8,rp.reject(e)}return!0===i.video?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)})},shimGetParameters:ig,shimGetUserMedia:qS,shimOnTrack:XS,shimPeerConnection:JS,shimRTCDataChannel:eg,shimReceiverGetStats:ZS,shimRemoveStream:$S,shimSenderGetStats:QS});function sg(e){if(\"object\"==typeof e&&e.RTCPeerConnection){if(\"getLocalStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!(\"addStream\"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var i;this._localStreams||(this._localStreams=[]),Ln(i=this._localStreams).call(i,e)||this._localStreams.push(e),e.getAudioTracks().forEach((i=>t.call(this,i,e))),e.getVideoTracks().forEach((i=>t.call(this,i,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return n&&n.forEach((e=>{var t;this._localStreams?Ln(t=this._localStreams).call(t,e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}\"removeStream\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const i=e.getTracks();this.getSenders().forEach((e=>{Ln(i).call(i,e.track)&&this.removeTrack(e)}))})}}function ag(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&(\"getRemoteStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!(\"onaddstream\"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,\"onaddstream\",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener(\"addstream\",this._onaddstream),this.removeEventListener(\"track\",this._onaddstreampoly)),this.addEventListener(\"addstream\",this._onaddstream=e),this.addEventListener(\"track\",this._onaddstreampoly=e=>{e.streams.forEach((e=>{var t;if(this._remoteStreams||(this._remoteStreams=[]),Ln(t=this._remoteStreams).call(t,e))return;this._remoteStreams.push(e);const i=new Event(\"addstream\");i.stream=e,this.dispatchEvent(i)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener(\"track\",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const i=new Event(\"addstream\");i.stream=t,e.dispatchEvent(i)}))}),t.apply(e,arguments)}}}function cg(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,i=t.createOffer,n=t.createAnswer,r=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),rp.resolve()):r},t.createAnswer=function(e,t){const i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),rp.resolve()):r};let a=function(e,t,i){const n=r.apply(this,[e]);return i?(n.then(t,i),rp.resolve()):n};t.setLocalDescription=a,a=function(e,t,i){const n=o.apply(this,[e]);return i?(n.then(t,i),rp.resolve()):n},t.setRemoteDescription=a,a=function(e,t,i){const n=s.apply(this,[e]);return i?(n.then(t,i),rp.resolve()):n},t.addIceCandidate=a}function dg(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,i=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>i(lg(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,i,n){t.mediaDevices.getUserMedia(e).then(i,n)}.bind(t))}function lg(e){return e&&void 0!==e.video?Object.assign({},e,{video:LS(e.video)}):e}function ug(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){const t=[];for(let i=0;i<e.iceServers.length;i++){let n=e.iceServers[i];!n.hasOwnProperty(\"urls\")&&n.hasOwnProperty(\"url\")?(DS(\"RTCIceServer.url\",\"RTCIceServer.urls\"),n=JSON.parse(JSON.stringify(n)),n.urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[i])}e.iceServers=t}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,\"generateCertificate\"in t&&Object.defineProperty(e.RTCPeerConnection,\"generateCertificate\",{get:()=>t.generateCertificate})}function hg(e){\"object\"==typeof e&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get(){return{receiver:this.receiver}}})}function pg(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>\"audio\"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?\"sendrecv\"===t.direction?t.setDirection?t.setDirection(\"sendonly\"):t.direction=\"sendonly\":\"recvonly\"===t.direction&&(t.setDirection?t.setDirection(\"inactive\"):t.direction=\"inactive\"):!0!==e.offerToReceiveAudio||t||this.addTransceiver(\"audio\",{direction:\"recvonly\"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const i=this.getTransceivers().find((e=>\"video\"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&i?\"sendrecv\"===i.direction?i.setDirection?i.setDirection(\"sendonly\"):i.direction=\"sendonly\":\"recvonly\"===i.direction&&(i.setDirection?i.setDirection(\"inactive\"):i.direction=\"inactive\"):!0!==e.offerToReceiveVideo||i||this.addTransceiver(\"video\",{direction:\"recvonly\"})}return t.apply(this,arguments)}}function _g(e){\"object\"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Eg=Object.freeze({__proto__:null,shimAudioContext:_g,shimCallbacksAPI:cg,shimConstraints:lg,shimCreateOfferLegacy:pg,shimGetUserMedia:dg,shimLocalStreamsAPI:sg,shimRTCIceServerUrls:ug,shimRemoteStreamsAPI:ag,shimTrackEventTransceiver:hg}),mg=\"\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff\",fg=z,Sg=Sn,gg=mg,Tg=d(\"\".replace),Rg=RegExp(\"^[\"+gg+\"]+\"),Cg=RegExp(\"(^|[^\"+gg+\"])[\"+gg+\"]+$\"),vg=function(e){return function(t){var i=Sg(fg(t));return 1&e&&(i=Tg(i,Rg,\"\")),2&e&&(i=Tg(i,Cg,\"$1\")),i}},yg={start:vg(1),end:vg(2),trim:vg(3)},Ig=Ra.PROPER,Ag=n,bg=mg,wg=yg.trim;Oi({target:\"String\",proto:!0,forced:function(e){return Ag((function(){return!!bg[e]()||\"​᠎\"!==\"​᠎\"[e]()||Ig&&bg[e].name!==e}))}(\"trim\")},{trim:function(){return wg(this)}});var Og=Zi(\"String\",\"trim\"),Ng=l,Dg=Og,Pg=String.prototype,Lg=function(e){var t=e.trim;return\"string\"==typeof e||e===Pg||Ng(Pg,e)&&t===Pg.trim?Dg:t},kg=i(Lg),Mg={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split(\"\\n\").map((e=>e.trim()))},t.splitSections=function(e){return e.split(\"\\nm=\").map(((e,t)=>(t>0?\"m=\"+e:e).trim()+\"\\r\\n\"))},t.getDescription=function(e){const i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){const i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter((e=>0===e.indexOf(i)))},t.parseCandidate=function(e){let t;t=0===e.indexOf(\"a=candidate:\")?e.substring(12).split(\" \"):e.substring(10).split(\" \");const i={foundation:t[0],component:{1:\"rtp\",2:\"rtcp\"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case\"raddr\":i.relatedAddress=t[e+1];break;case\"rport\":i.relatedPort=parseInt(t[e+1],10);break;case\"tcptype\":i.tcpType=t[e+1];break;case\"ufrag\":i.ufrag=t[e+1],i.usernameFragment=t[e+1];break;default:void 0===i[t[e]]&&(i[t[e]]=t[e+1])}return i},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const i=e.component;\"rtp\"===i?t.push(1):\"rtcp\"===i?t.push(2):t.push(i),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const n=e.type;return t.push(\"typ\"),t.push(n),\"host\"!==n&&e.relatedAddress&&e.relatedPort&&(t.push(\"raddr\"),t.push(e.relatedAddress),t.push(\"rport\"),t.push(e.relatedPort)),e.tcpType&&\"tcp\"===e.protocol.toLowerCase()&&(t.push(\"tcptype\"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push(\"ufrag\"),t.push(e.usernameFragment||e.ufrag)),\"candidate:\"+t.join(\" \")},t.parseIceOptions=function(e){return e.substring(14).split(\" \")},t.parseRtpMap=function(e){let t=e.substring(9).split(\" \");const i={payloadType:parseInt(t.shift(),10)};return t=t[0].split(\"/\"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const i=e.channels||e.numChannels||1;return\"a=rtpmap:\"+t+\" \"+e.name+\"/\"+e.clockRate+(1!==i?\"/\"+i:\"\")+\"\\r\\n\"},t.parseExtmap=function(e){const t=e.substring(9).split(\" \");return{id:parseInt(t[0],10),direction:t[0].indexOf(\"/\")>0?t[0].split(\"/\")[1]:\"sendrecv\",uri:t[1],attributes:t.slice(2).join(\" \")}},t.writeExtmap=function(e){return\"a=extmap:\"+(e.id||e.preferredId)+(e.direction&&\"sendrecv\"!==e.direction?\"/\"+e.direction:\"\")+\" \"+e.uri+(e.attributes?\" \"+e.attributes:\"\")+\"\\r\\n\"},t.parseFmtp=function(e){const t={};let i;const n=e.substring(e.indexOf(\" \")+1).split(\";\");for(let e=0;e<n.length;e++)i=n[e].trim().split(\"=\"),t[i[0].trim()]=i[1];return t},t.writeFmtp=function(e){let t=\"\",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const n=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?n.push(t+\"=\"+e.parameters[t]):n.push(t)})),t+=\"a=fmtp:\"+i+\" \"+n.join(\";\")+\"\\r\\n\"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(\" \")+1).split(\" \");return{type:t.shift(),parameter:t.join(\" \")}},t.writeRtcpFb=function(e){let t=\"\",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+=\"a=rtcp-fb:\"+i+\" \"+e.type+(e.parameter&&e.parameter.length?\" \"+e.parameter:\"\")+\"\\r\\n\"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(\" \"),i={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(\":\",t);return n>-1?(i.attribute=e.substring(t+1,n),i.value=e.substring(n+1)):i.attribute=e.substring(t+1),i},t.parseSsrcGroup=function(e){const t=e.substring(13).split(\" \");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const i=t.matchPrefix(e,\"a=mid:\")[0];if(i)return i.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(\" \");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,i){return{role:\"auto\",fingerprints:t.matchPrefix(e+i,\"a=fingerprint:\").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let i=\"a=setup:\"+t+\"\\r\\n\";return e.fingerprints.forEach((e=>{i+=\"a=fingerprint:\"+e.algorithm+\" \"+e.value+\"\\r\\n\"})),i},t.parseCryptoLine=function(e){const t=e.substring(9).split(\" \");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return\"a=crypto:\"+e.tag+\" \"+e.cryptoSuite+\" \"+(\"object\"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?\" \"+e.sessionParams.join(\" \"):\"\")+\"\\r\\n\"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf(\"inline:\"))return null;const t=e.substring(7).split(\"|\");return{keyMethod:\"inline\",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(\":\")[0]:void 0,mkiLength:t[2]?t[2].split(\":\")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+\":\"+e.keySalt+(e.lifeTime?\"|\"+e.lifeTime:\"\")+(e.mkiValue&&e.mkiLength?\"|\"+e.mkiValue+\":\"+e.mkiLength:\"\")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,\"a=crypto:\").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){const n=t.matchPrefix(e+i,\"a=ice-ufrag:\")[0],r=t.matchPrefix(e+i,\"a=ice-pwd:\")[0];return n&&r?{usernameFragment:n.substring(12),password:r.substring(10)}:null},t.writeIceParameters=function(e){let t=\"a=ice-ufrag:\"+e.usernameFragment+\"\\r\\na=ice-pwd:\"+e.password+\"\\r\\n\";return e.iceLite&&(t+=\"a=ice-lite\\r\\n\"),t},t.parseRtpParameters=function(e){const i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(\" \");i.profile=n[2];for(let r=3;r<n.length;r++){const o=n[r],s=t.matchPrefix(e,\"a=rtpmap:\"+o+\" \")[0];if(s){const n=t.parseRtpMap(s),r=t.matchPrefix(e,\"a=fmtp:\"+o+\" \");switch(n.parameters=r.length?t.parseFmtp(r[0]):{},n.rtcpFeedback=t.matchPrefix(e,\"a=rtcp-fb:\"+o+\" \").map(t.parseRtcpFb),i.codecs.push(n),n.name.toUpperCase()){case\"RED\":case\"ULPFEC\":i.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,\"a=extmap:\").forEach((e=>{i.headerExtensions.push(t.parseExtmap(e))}));const r=t.matchPrefix(e,\"a=rtcp-fb:* \").map(t.parseRtcpFb);return i.codecs.forEach((e=>{r.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),i},t.writeRtpDescription=function(e,i){let n=\"\";n+=\"m=\"+e+\" \",n+=i.codecs.length>0?\"9\":\"0\",n+=\" \"+(i.profile||\"UDP/TLS/RTP/SAVPF\")+\" \",n+=i.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(\" \")+\"\\r\\n\",n+=\"c=IN IP4 0.0.0.0\\r\\n\",n+=\"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\",i.codecs.forEach((e=>{n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));let r=0;return i.codecs.forEach((e=>{e.maxptime>r&&(r=e.maxptime)})),r>0&&(n+=\"a=maxptime:\"+r+\"\\r\\n\"),i.headerExtensions&&i.headerExtensions.forEach((e=>{n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){const i=[],n=t.parseRtpParameters(e),r=-1!==n.fecMechanisms.indexOf(\"RED\"),o=-1!==n.fecMechanisms.indexOf(\"ULPFEC\"),s=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"cname\"===e.attribute)),a=s.length>0&&s[0].ssrc;let c;const d=t.matchPrefix(e,\"a=ssrc-group:FID\").map((e=>e.substring(17).split(\" \").map((e=>parseInt(e,10)))));d.length>0&&d[0].length>1&&d[0][0]===a&&(c=d[0][1]),n.codecs.forEach((e=>{if(\"RTX\"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)};a&&c&&(t.rtx={ssrc:c}),i.push(t),r&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:a,mechanism:o?\"red+ulpfec\":\"red\"},i.push(t))}})),0===i.length&&a&&i.push({ssrc:a});let l=t.matchPrefix(e,\"b=\");return l.length&&(l=0===l[0].indexOf(\"b=TIAS:\")?parseInt(l[0].substring(7),10):0===l[0].indexOf(\"b=AS:\")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,i.forEach((e=>{e.maxBitrate=l}))),i},t.parseRtcpParameters=function(e){const i={},n=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"cname\"===e.attribute))[0];n&&(i.cname=n.value,i.ssrc=n.ssrc);const r=t.matchPrefix(e,\"a=rtcp-rsize\");i.reducedSize=r.length>0,i.compound=0===r.length;const o=t.matchPrefix(e,\"a=rtcp-mux\");return i.mux=o.length>0,i},t.writeRtcpParameters=function(e){let t=\"\";return e.reducedSize&&(t+=\"a=rtcp-rsize\\r\\n\"),e.mux&&(t+=\"a=rtcp-mux\\r\\n\"),void 0!==e.ssrc&&e.cname&&(t+=\"a=ssrc:\"+e.ssrc+\" cname:\"+e.cname+\"\\r\\n\"),t},t.parseMsid=function(e){let i;const n=t.matchPrefix(e,\"a=msid:\");if(1===n.length)return i=n[0].substring(7).split(\" \"),{stream:i[0],track:i[1]};const r=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"msid\"===e.attribute));return r.length>0?(i=r[0].value.split(\" \"),{stream:i[0],track:i[1]}):void 0},t.parseSctpDescription=function(e){const i=t.parseMLine(e),n=t.matchPrefix(e,\"a=max-message-size:\");let r;n.length>0&&(r=parseInt(n[0].substring(19),10)),isNaN(r)&&(r=65536);const o=t.matchPrefix(e,\"a=sctp-port:\");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:i.fmt,maxMessageSize:r};const s=t.matchPrefix(e,\"a=sctpmap:\");if(s.length>0){const e=s[0].substring(10).split(\" \");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){let i=[];return i=\"DTLS/SCTP\"!==e.protocol?[\"m=\"+e.kind+\" 9 \"+e.protocol+\" \"+t.protocol+\"\\r\\n\",\"c=IN IP4 0.0.0.0\\r\\n\",\"a=sctp-port:\"+t.port+\"\\r\\n\"]:[\"m=\"+e.kind+\" 9 \"+e.protocol+\" \"+t.port+\"\\r\\n\",\"c=IN IP4 0.0.0.0\\r\\n\",\"a=sctpmap:\"+t.port+\" \"+t.protocol+\" 65535\\r\\n\"],void 0!==t.maxMessageSize&&i.push(\"a=max-message-size:\"+t.maxMessageSize+\"\\r\\n\"),i.join(\"\")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,i,n){let r;const o=void 0!==i?i:2;r=e||t.generateSessionId();return\"v=0\\r\\no=\"+(n||\"thisisadapterortc\")+\" \"+r+\" \"+o+\" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\"},t.getDirection=function(e,i){const n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case\"a=sendrecv\":case\"a=sendonly\":case\"a=recvonly\":case\"a=inactive\":return n[e].substring(2)}return i?t.getDirection(i):\"sendrecv\"},t.getKind=function(e){return t.splitLines(e)[0].split(\" \")[0].substring(2)},t.isRejected=function(e){return\"0\"===e.split(\" \",2)[1]},t.parseMLine=function(e){const i=t.splitLines(e)[0].substring(2).split(\" \");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(\" \")}},t.parseOLine=function(e){const i=t.matchPrefix(e,\"o=\")[0].substring(2).split(\" \");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if(\"string\"!=typeof e||0===e.length)return!1;const i=t.splitLines(e);for(let e=0;e<i.length;e++)if(i[e].length<2||\"=\"!==i[e].charAt(1))return!1;return!0},e.exports=t}(Mg);var Ug=Mg.exports,Vg=i(Ug),xg=e({__proto__:null,default:Vg},[Ug]);function Fg(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&\"foundation\"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if(\"object\"==typeof e&&e.candidate&&0===e.candidate.indexOf(\"a=\")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const i=new t(e),n=Vg.parseCandidate(e.candidate),r=Object.assign(i,n);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,bS(e,\"icecandidate\",(t=>(t.candidate&&Object.defineProperty(t,\"candidate\",{value:new e.RTCIceCandidate(t.candidate),writable:\"false\"}),t)))}function Bg(e){!e.RTCIceCandidate||e.RTCIceCandidate&&\"relayProtocol\"in e.RTCIceCandidate.prototype||bS(e,\"icecandidate\",(e=>{if(e.candidate){const t=Vg.parseCandidate(e.candidate.candidate);\"relay\"===t.type&&(e.candidate.relayProtocol={0:\"tls\",1:\"tcp\",2:\"udp\"}[t.priority>>24])}return e}))}function jg(e,t){if(!e.RTCPeerConnection)return;\"sctp\"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,\"sctp\",{get(){return void 0===this._sctp?null:this._sctp}});const i=function(e){if(!e||!e.sdp)return!1;const t=Vg.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=Vg.parseMLine(e);return t&&\"application\"===t.kind&&-1!==t.protocol.indexOf(\"SCTP\")}))},n=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);if(null===t||t.length<2)return-1;const i=parseInt(t[1],10);return i!=i?-1:i},r=function(e){let i=65536;return\"firefox\"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i},o=function(e,i){let n=65536;\"firefox\"===t.browser&&57===t.version&&(n=65535);const r=Vg.matchPrefix(e.sdp,\"a=max-message-size:\");return r.length>0?n=parseInt(r[0].substr(19),10):\"firefox\"===t.browser&&-1!==i&&(n=2147483637),n},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,\"chrome\"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();\"plan-b\"===e&&Object.defineProperty(this,\"sctp\",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){const e=n(arguments[0]),t=r(e),i=o(arguments[0],e);let s;s=0===t&&0===i?Number.POSITIVE_INFINITY:0===t||0===i?Math.max(t,i):Math.min(t,i);const a={};Object.defineProperty(a,\"maxMessageSize\",{get:()=>s}),this._sctp=a}return s.apply(this,arguments)}}function Gg(e){if(!e.RTCPeerConnection||!(\"createDataChannel\"in e.RTCPeerConnection.prototype))return;function t(e,t){const i=e.send;e.send=function(){const n=arguments[0],r=n.length||n.size||n.byteLength;if(\"open\"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError(\"Message too large (can send a maximum of \"+t.sctp.maxMessageSize+\" bytes)\");return i.apply(e,arguments)}}const i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=i.apply(this,arguments);return t(e,this),e},bS(e,\"datachannel\",(e=>(t(e.channel,e.target),e)))}function Wg(e){if(!e.RTCPeerConnection||\"connectionState\"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,\"connectionState\",{get(){return{completed:\"connected\",checking:\"connecting\"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"onconnectionstatechange\",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener(\"connectionstatechange\",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener(\"connectionstatechange\",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),[\"setLocalDescription\",\"setRemoteDescription\"].forEach((e=>{const i=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const i=new Event(\"connectionstatechange\",e);t.dispatchEvent(i)}return e},this.addEventListener(\"iceconnectionstatechange\",this._connectionstatechangepoly)),i.apply(this,arguments)}}))}function Hg(e,t){if(!e.RTCPeerConnection)return;if(\"chrome\"===t.browser&&t.version>=71)return;if(\"safari\"===t.browser&&t.version>=605)return;const i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf(\"\\na=extmap-allow-mixed\")){const i=t.sdp.split(\"\\n\").filter((e=>\"a=extmap-allow-mixed\"!==kg(e).call(e))).join(\"\\n\");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:i}):t.sdp=i}return i.apply(this,arguments)}}function Kg(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const i=e.RTCPeerConnection.prototype.addIceCandidate;i&&0!==i.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(\"chrome\"===t.browser&&t.version<78||\"firefox\"===t.browser&&t.version<68||\"safari\"===t.browser)&&arguments[0]&&\"\"===arguments[0].candidate?rp.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),rp.resolve())})}function Yg(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const i=e.RTCPeerConnection.prototype.setLocalDescription;i&&0!==i.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if(\"object\"!=typeof e||e.type&&e.sdp)return i.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case\"stable\":case\"have-local-offer\":case\"have-remote-pranswer\":e.type=\"offer\";break;default:e.type=\"answer\"}if(e.sdp||\"offer\"!==e.type&&\"answer\"!==e.type)return i.apply(this,[e]);return(\"offer\"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>i.apply(this,[e])))})}var zg=Object.freeze({__proto__:null,removeExtmapAllowMixed:Hg,shimAddIceCandidateNullOrEmpty:Kg,shimConnectionState:Wg,shimMaxMessageSize:jg,shimParameterlessSetLocalDescription:Yg,shimRTCIceCandidate:Fg,shimRTCIceCandidateRelayProtocol:Bg,shimSendThrowTypeError:Gg});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const i=NS,n=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser=\"Not a browser.\",t;const{navigator:i}=e;if(i.mozGetUserMedia)t.browser=\"firefox\",t.version=AS(i.userAgent,/Firefox\\/(\\d+)\\./,1);else if(i.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser=\"chrome\",t.version=AS(i.userAgent,/Chrom(e|ium)\\/(\\d+)\\./,2);else{if(!e.RTCPeerConnection||!i.userAgent.match(/AppleWebKit\\/(\\d+)\\./))return t.browser=\"Not a supported browser.\",t;t.browser=\"safari\",t.version=AS(i.userAgent,/AppleWebKit\\/(\\d+)\\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&\"currentDirection\"in e.RTCRtpTransceiver.prototype}return t}(e),r={browserDetails:n,commonShim:zg,extractVersion:AS,disableLog:wS,disableWarnings:OS,sdp:xg};switch(n.browser){case\"chrome\":if(!zS||!KS||!t.shimChrome)return i(\"Chrome shim is not included in this adapter release.\"),r;if(null===n.version)return i(\"Chrome shim can not determine version, not shimming.\"),r;i(\"adapter.js shimming chrome.\"),r.browserShim=zS,Kg(e,n),Yg(e),VS(e,n),xS(e),KS(e,n),FS(e),HS(e,n),BS(e),jS(e),GS(e),YS(e,n),Fg(e),Bg(e),Wg(e),jg(e,n),Gg(e),Hg(e,n);break;case\"firefox\":if(!og||!JS||!t.shimFirefox)return i(\"Firefox shim is not included in this adapter release.\"),r;i(\"adapter.js shimming firefox.\"),r.browserShim=og,Kg(e,n),Yg(e),qS(e,n),JS(e,n),XS(e),$S(e),QS(e),ZS(e),eg(e),tg(e),ig(e),ng(e),rg(e),Fg(e),Wg(e),jg(e,n),Gg(e);break;case\"safari\":if(!Eg||!t.shimSafari)return i(\"Safari shim is not included in this adapter release.\"),r;i(\"adapter.js shimming safari.\"),r.browserShim=Eg,Kg(e,n),Yg(e),ug(e),pg(e),cg(e),sg(e),ag(e),hg(e),dg(e),_g(e),Fg(e),Bg(e),jg(e,n),Gg(e),Hg(e,n);break;default:i(\"Unsupported browser!\")}}({window:\"undefined\"==typeof window?void 0:window});var qg=n,Xg=h.RegExp,Jg=!qg((function(){var e=!0;try{Xg(\".\",\"d\")}catch(t){e=!1}var t={},i=\"\",n=e?\"dgimsy\":\"gimsy\",r=function(e,n){Object.defineProperty(t,e,{get:function(){return i+=n,!0}})},o={dotAll:\"s\",global:\"g\",ignoreCase:\"i\",multiline:\"m\",sticky:\"y\"};for(var s in e&&(o.hasIndices=\"d\"),o)r(s,o[s]);return Object.getOwnPropertyDescriptor(Xg.prototype,\"flags\").get.call(t)!==n||i!==n})),Qg=ni,Zg=D,$g=$e,eT=l,tT={correct:Jg},iT=function(){var e=Qg(this),t=\"\";return e.hasIndices&&(t+=\"d\"),e.global&&(t+=\"g\"),e.ignoreCase&&(t+=\"i\"),e.multiline&&(t+=\"m\"),e.dotAll&&(t+=\"s\"),e.unicode&&(t+=\"u\"),e.unicodeSets&&(t+=\"v\"),e.sticky&&(t+=\"y\"),t},nT=RegExp.prototype,rT=tT.correct?function(e){return e.flags}:function(e){return tT.correct||!eT(nT,e)||$g(e,\"flags\")?e.flags:Zg(iT,e)},oT=d,sT=Je,aT=Math.floor,cT=oT(\"\".charAt),dT=oT(\"\".replace),lT=oT(\"\".slice),uT=/\\$([$&'`]|\\d{1,2}|<[^>]*>)/g,hT=/\\$([$&'`]|\\d{1,2})/g,pT=Oi,_T=D,ET=d,mT=z,fT=A,ST=Z,gT=rn,TT=Sn,RT=Le,CT=rT,vT=function(e,t,i,n,r,o){var s=i+e.length,a=n.length,c=hT;return void 0!==r&&(r=sT(r),c=uT),dT(o,c,(function(o,c){var d;switch(cT(c,0)){case\"$\":return\"$\";case\"&\":return e;case\"`\":return lT(t,0,i);case\"'\":return lT(t,s);case\"<\":d=r[lT(c,1,-1)];break;default:var l=+c;if(0===l)return o;if(l>a){var u=aT(l/10);return 0===u?o:u<=a?void 0===n[u-1]?cT(c,1):n[u-1]+cT(c,1):o}d=n[l-1]}return void 0===d?\"\":d}))},yT=pt(\"replace\"),IT=TypeError,AT=ET(\"\".indexOf),bT=ET(\"\".replace),wT=ET(\"\".slice),OT=Math.max;pT({target:\"String\",proto:!0},{replaceAll:function(e,t){var i,n,r,o,s,a,c,d,l,u,h=mT(this),p=0,_=\"\";if(ST(e)){if((i=gT(e))&&(n=TT(mT(CT(e))),!~AT(n,\"g\")))throw new IT(\"`.replaceAll` does not allow non-global regexes\");if(r=RT(e,yT))return _T(r,e,h,t);if(i)return bT(TT(h),e,t)}for(o=TT(h),s=TT(e),(a=fT(t))||(t=TT(t)),c=s.length,d=OT(1,c),l=AT(o,s);-1!==l;)u=a?TT(t(s,l,o)):vT(s,o,l,[],void 0,t),_+=wT(o,p,l)+u,p=l+c,l=l+d>o.length?-1:AT(o,s,l+d);return p<o.length&&(_+=wT(o,p)),_}});var NT=Zi(\"String\",\"replaceAll\"),DT=l,PT=NT,LT=String.prototype,kT=function(e){var t=e.replaceAll;return\"string\"==typeof e||e===LT||DT(LT,e)&&t===LT.replaceAll?PT:t},MT=i(kT),UT=h;Oi({global:!0,forced:UT.globalThis!==UT},{globalThis:UT});var VT=i(h),xT={exports:{}};!function(e,i){!function(t,n){var r=\"function\",o=\"undefined\",s=\"object\",a=\"string\",c=\"major\",d=\"model\",l=\"name\",u=\"type\",h=\"vendor\",p=\"version\",_=\"architecture\",E=\"console\",m=\"mobile\",f=\"tablet\",S=\"smarttv\",g=\"wearable\",T=\"embedded\",R=\"Amazon\",C=\"Apple\",v=\"ASUS\",y=\"BlackBerry\",I=\"Browser\",A=\"Chrome\",b=\"Firefox\",w=\"Google\",O=\"Honor\",N=\"Huawei\",D=\"LG\",P=\"Microsoft\",L=\"Motorola\",k=\"Nvidia\",M=\"OnePlus\",U=\"Opera\",V=\"OPPO\",x=\"Samsung\",F=\"Sharp\",B=\"Sony\",j=\"Xiaomi\",G=\"Zebra\",W=\"Facebook\",H=\"Chromium OS\",K=\"Mac OS\",Y=\" Browser\",z=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},q=function(e,t){return typeof e===a&&-1!==X(t).indexOf(X(e))},X=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===a)return e=e.replace(/^\\s\\s*/,\"\"),typeof t===o?e:e.substring(0,500)},Q=function(e,t){for(var i,o,a,c,d,l,u=0;u<t.length&&!d;){var h=t[u],p=t[u+1];for(i=o=0;i<h.length&&!d&&h[i];)if(d=h[i++].exec(e))for(a=0;a<p.length;a++)l=d[++o],typeof(c=p[a])===s&&c.length>0?2===c.length?typeof c[1]==r?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3===c.length?typeof c[1]!==r||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):n:this[c[0]]=l?c[1].call(this,l,c[2]):n:4===c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):n):this[c]=l||n;u+=2}},Z=function(e,t){for(var i in t)if(typeof t[i]===s&&t[i].length>0){for(var r=0;r<t[i].length;r++)if(q(t[i][r],e))return\"?\"===i?n:i}else if(q(t[i],e))return\"?\"===i?n:i;return t.hasOwnProperty(\"*\")?t[\"*\"]:e},$={ME:\"4.90\",\"NT 3.11\":\"NT3.51\",\"NT 4.0\":\"NT4.0\",2e3:\"NT 5.0\",XP:[\"NT 5.1\",\"NT 5.2\"],Vista:\"NT 6.0\",7:\"NT 6.1\",8:\"NT 6.2\",8.1:\"NT 6.3\",10:[\"NT 6.4\",\"NT 10.0\"],RT:\"ARM\"},ee={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[p,[l,\"Chrome\"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[p,[l,\"Edge\"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[l,p],[/opios[\\/ ]+([\\w\\.]+)/i],[p,[l,U+\" Mini\"]],[/\\bop(?:rg)?x\\/([\\w\\.]+)/i],[p,[l,U+\" GX\"]],[/\\bopr\\/([\\w\\.]+)/i],[p,[l,U]],[/\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i],[p,[l,\"Baidu\"]],[/\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i],[p,[l,\"Maxthon\"]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\\/([-\\w\\.]+)/i,/(heytap|ovi|115)browser\\/([\\d\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[l,p],[/quark(?:pc)?\\/([-\\w\\.]+)/i],[p,[l,\"Quark\"]],[/\\bddg\\/([\\w\\.]+)/i],[p,[l,\"DuckDuckGo\"]],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[p,[l,\"UC\"+I]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i,/micromessenger\\/([\\w\\.]+)/i],[p,[l,\"WeChat\"]],[/konqueror\\/([\\w\\.]+)/i],[p,[l,\"Konqueror\"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[p,[l,\"IE\"]],[/ya(?:search)?browser\\/([\\w\\.]+)/i],[p,[l,\"Yandex\"]],[/slbrowser\\/([\\w\\.]+)/i],[p,[l,\"Smart Lenovo \"+I]],[/(avast|avg)\\/([\\w\\.]+)/i],[[l,/(.+)/,\"$1 Secure \"+I],p],[/\\bfocus\\/([\\w\\.]+)/i],[p,[l,b+\" Focus\"]],[/\\bopt\\/([\\w\\.]+)/i],[p,[l,U+\" Touch\"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[p,[l,\"Coc Coc\"]],[/dolfin\\/([\\w\\.]+)/i],[p,[l,\"Dolphin\"]],[/coast\\/([\\w\\.]+)/i],[p,[l,U+\" Coast\"]],[/miuibrowser\\/([\\w\\.]+)/i],[p,[l,\"MIUI\"+Y]],[/fxios\\/([\\w\\.-]+)/i],[p,[l,b]],[/\\bqihoobrowser\\/?([\\w\\.]*)/i],[p,[l,\"360\"]],[/\\b(qq)\\/([\\w\\.]+)/i],[[l,/(.+)/,\"$1Browser\"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i],[[l,/(.+)/,\"$1\"+Y],p],[/samsungbrowser\\/([\\w\\.]+)/i],[p,[l,x+\" Internet\"]],[/metasr[\\/ ]?([\\d\\.]+)/i],[p,[l,\"Sogou Explorer\"]],[/(sogou)mo\\w+\\/([\\d\\.]+)/i],[[l,\"Sogou Mobile\"],p],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i],[l,p],[/(lbbrowser|rekonq)/i,/\\[(linkedin)app\\]/i],[l],[/ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,/ome\\/([\\w\\.]+).+qihu (360)[es]e/i],[p,l],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[l,W],p],[/(Klarna)\\/([\\w\\.]+)/i,/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/(daum)apps[\\/ ]([\\w\\.]+)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(alipay)client\\/([\\w\\.]+)/i,/(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,/(chromium|instagram|snapchat)[\\/ ]([-\\w\\.]+)/i],[l,p],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[p,[l,\"GSA\"]],[/musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i],[p,[l,\"TikTok\"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[p,[l,A+\" Headless\"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[l,A+\" WebView\"],p],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[p,[l,\"Android \"+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[l,p],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[p,[l,\"Mobile Safari\"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[p,l],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[l,[p,Z,{\"1.0\":\"/8\",1.2:\"/1\",1.3:\"/3\",\"2.0\":\"/412\",\"2.0.2\":\"/416\",\"2.0.3\":\"/417\",\"2.0.4\":\"/419\",\"?\":\"/\"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[l,p],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[l,\"Netscape\"],p],[/(wolvic|librewolf)\\/([\\w\\.]+)/i],[l,p],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[p,[l,b+\" Reality\"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/\\b(links) \\(([\\w\\.]+)/i],[l,[p,/_/g,\".\"]],[/(cobalt)\\/([\\w\\.]+)/i],[l,[p,/master.|lts./,\"\"]]],cpu:[[/\\b((amd|x|x86[-_]?|wow|win)64)\\b/i],[[_,\"amd64\"]],[/(ia32(?=;))/i,/\\b((i[346]|x)86)(pc)?\\b/i],[[_,\"ia32\"]],[/\\b(aarch64|arm(v?[89]e?l?|_?64))\\b/i],[[_,\"arm64\"]],[/\\b(arm(v[67])?ht?n?[fl]p?)\\b/i],[[_,\"armhf\"]],[/( (ce|mobile); ppc;|\\/[\\w\\.]+arm\\b)/i],[[_,\"arm\"]],[/((ppc|powerpc)(64)?)( mac|;|\\))/i],[[_,/ower/,\"\",X]],[/ sun4\\w[;\\)]/i],[[_,\"sparc\"]],[/\\b(avr32|ia64(?=;)|68k(?=\\))|\\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\\b|pa-risc)/i],[[_,X]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[h,x],[u,f]],[/\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\\w]+)/i,/sec-(sgh\\w+)/i],[d,[h,x],[u,m]],[/(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i],[d,[h,C],[u,m]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[d,[h,C],[u,f]],[/(macintosh);/i],[d,[h,C]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[d,[h,F],[u,m]],[/\\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\\)|;)/i],[d,[h,O],[u,f]],[/honor([-\\w ]+)[;\\)]/i],[d,[h,O],[u,m]],[/\\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\\w\\. ]*(?= bui|\\)))\\b(?!.+d\\/s)/i],[d,[h,N],[u,f]],[/(?:huawei)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[d,[h,N],[u,m]],[/oid[^\\)]+; (2[\\dbc]{4}(182|283|rp\\w{2})[cgl]|m2105k81a?c)(?: bui|\\))/i,/\\b((?:red)?mi[-_ ]?pad[\\w- ]*)(?: bui|\\))/i],[[d,/_/g,\" \"],[h,j],[u,f]],[/\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\\))/i,/ ([\\w ]+) miui\\/v?\\d/i],[[d,/_/g,\" \"],[h,j],[u,m]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[d,[h,V],[u,m]],[/\\b(opd2(\\d{3}a?))(?: bui|\\))/i],[d,[h,Z,{OnePlus:[\"304\",\"403\",\"203\"],\"*\":V}],[u,f]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[d,[h,\"Vivo\"],[u,m]],[/\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i],[d,[h,\"Realme\"],[u,m]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto(?! 360)[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[d,[h,L],[u,m]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[d,[h,L],[u,f]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[h,D],[u,f]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv|watch)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[d,[h,D],[u,m]],[/(ideatab[-\\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\\d{3,4}(?:f[cu]|xu|[av])|yt\\d?-[jx]?\\d+[lfmx])( bui|;|\\)|\\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\\w- ]+?)|tb[\\w-]{6,7})( bui|;|\\)|\\/)/i],[d,[h,\"Lenovo\"],[u,f]],[/(nokia) (t[12][01])/i],[h,d,[u,f]],[/(?:maemo|nokia).*(n900|lumia \\d+|rm-\\d+)/i,/nokia[-_ ]?(([-\\w\\. ]*))/i],[[d,/_/g,\" \"],[u,m],[h,\"Nokia\"]],[/(pixel (c|tablet))\\b/i],[d,[h,w],[u,f]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[d,[h,w],[u,m]],[/droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[d,[h,B],[u,m]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[d,\"Xperia Tablet\"],[h,B],[u,f]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[d,[h,M],[u,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[d,[h,R],[u,f]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[d,/(.+)/g,\"Fire Phone $1\"],[h,R],[u,m]],[/(playbook);[-\\w\\),; ]+(rim)/i],[d,h,[u,f]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[d,[h,y],[u,m]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[d,[h,v],[u,f]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[d,[h,v],[u,m]],[/(nexus 9)/i],[d,[h,\"HTC\"],[u,f]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[h,[d,/_/g,\" \"],[u,m]],[/droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\\w*(\\)| bui)/i],[d,[h,\"TCL\"],[u,f]],[/(itel) ((\\w+))/i],[[h,X],d,[u,Z,{tablet:[\"p10001l\",\"w7001\"],\"*\":\"mobile\"}]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[d,[h,\"Acer\"],[u,f]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[d,[h,\"Meizu\"],[u,m]],[/; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i],[d,[h,\"Ulefone\"],[u,m]],[/; (energy ?\\w+)(?: bui|\\))/i,/; energizer ([\\w ]+)(?: bui|\\))/i],[d,[h,\"Energizer\"],[u,m]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i],[d,[h,\"Cat\"],[u,m]],[/((?:new )?andromax[\\w- ]+)(?: bui|\\))/i],[d,[h,\"Smartfren\"],[u,m]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[h,\"Nothing\"],[u,m]],[/; (x67 5g|tikeasy \\w+|ac[1789]\\d\\w+)( b|\\))/i,/archos ?(5|gamepad2?|([\\w ]*[t1789]|hello) ?\\d+[\\w ]*)( b|\\))/i],[d,[h,\"Archos\"],[u,f]],[/archos ([\\w ]+)( b|\\))/i,/; (ac[3-6]\\d\\w{2,8})( b|\\))/i],[d,[h,\"Archos\"],[u,m]],[/(imo) (tab \\w+)/i,/(infinix) (x1101b?)/i],[h,d,[u,f]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,/; (hmd|imo) ([\\w ]+?)(?: bui|\\))/i,/(hp) ([\\w ]+\\w)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w ]+?)(?: bui|\\)|\\/)/i,/(oppo) ?([\\w ]+) bui/i],[h,d,[u,m]],[/(kobo)\\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[h,d,[u,f]],[/(surface duo)/i],[d,[h,P],[u,f]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[d,[h,\"Fairphone\"],[u,m]],[/(u304aa)/i],[d,[h,\"AT&T\"],[u,m]],[/\\bsie-(\\w*)/i],[d,[h,\"Siemens\"],[u,m]],[/\\b(rct\\w+) b/i],[d,[h,\"RCA\"],[u,f]],[/\\b(venue[\\d ]{2,7}) b/i],[d,[h,\"Dell\"],[u,f]],[/\\b(q(?:mv|ta)\\w+) b/i],[d,[h,\"Verizon\"],[u,f]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[d,[h,\"Barnes & Noble\"],[u,f]],[/\\b(tm\\d{3}\\w+) b/i],[d,[h,\"NuVision\"],[u,f]],[/\\b(k88) b/i],[d,[h,\"ZTE\"],[u,f]],[/\\b(nx\\d{3}j) b/i],[d,[h,\"ZTE\"],[u,m]],[/\\b(gen\\d{3}) b.+49h/i],[d,[h,\"Swiss\"],[u,m]],[/\\b(zur\\d{3}) b/i],[d,[h,\"Swiss\"],[u,f]],[/\\b((zeki)?tb.*\\b) b/i],[d,[h,\"Zeki\"],[u,f]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[h,\"Dragon Touch\"],d,[u,f]],[/\\b(ns-?\\w{0,9}) b/i],[d,[h,\"Insignia\"],[u,f]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[d,[h,\"NextBook\"],[u,f]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,\"Voice\"],d,[u,m]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[h,\"LvTel\"],d,[u,m]],[/\\b(ph-1) /i],[d,[h,\"Essential\"],[u,m]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[d,[h,\"Envizen\"],[u,f]],[/\\b(trio[-\\w\\. ]+) b/i],[d,[h,\"MachSpeed\"],[u,f]],[/\\btu_(1491) b/i],[d,[h,\"Rotor\"],[u,f]],[/((?:tegranote|shield t(?!.+d tv))[\\w- ]*?)(?: b|\\))/i],[d,[h,k],[u,f]],[/(sprint) (\\w+)/i],[h,d,[u,m]],[/(kin\\.[onetw]{3})/i],[[d,/\\./g,\" \"],[h,P],[u,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[d,[h,G],[u,f]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[d,[h,G],[u,m]],[/smart-tv.+(samsung)/i],[h,[u,S]],[/hbbtv.+maple;(\\d+)/i],[[d,/^/,\"SmartTV\"],[h,x],[u,S]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[h,D],[u,S]],[/(apple) ?tv/i],[h,[d,C+\" TV\"],[u,S]],[/crkey/i],[[d,A+\"cast\"],[h,w],[u,S]],[/droid.+aft(\\w+)( bui|\\))/i],[d,[h,R],[u,S]],[/(shield \\w+ tv)/i],[d,[h,k],[u,S]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[d,[h,F],[u,S]],[/(bravia[\\w ]+)( bui|\\))/i],[d,[h,B],[u,S]],[/(mi(tv|box)-?\\w+) bui/i],[d,[h,j],[u,S]],[/Hbbtv.*(technisat) (.*);/i],[h,d,[u,S]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[h,J],[d,J],[u,S]],[/droid.+; ([\\w- ]+) (?:android tv|smart[- ]?tv)/i],[d,[u,S]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[u,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,d,[u,E]],[/droid.+; (shield)( bui|\\))/i],[d,[h,k],[u,E]],[/(playstation \\w+)/i],[d,[h,B],[u,E]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[d,[h,P],[u,E]],[/\\b(sm-[lr]\\d\\d[0156][fnuw]?s?|gear live)\\b/i],[d,[h,x],[u,g]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\\w ]*)( bui|\\))/i],[h,d,[u,g]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[d,[h,V],[u,g]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[d,[h,C],[u,g]],[/(opwwe\\d{3})/i],[d,[h,M],[u,g]],[/(moto 360)/i],[d,[h,L],[u,g]],[/(smartwatch 3)/i],[d,[h,B],[u,g]],[/(g watch r)/i],[d,[h,D],[u,g]],[/droid.+; (wt63?0{2,3})\\)/i],[d,[h,G],[u,g]],[/droid.+; (glass) \\d/i],[d,[h,w],[u,g]],[/(pico) (4|neo3(?: link|pro)?)/i],[h,d,[u,g]],[/; (quest( \\d| pro)?)/i],[d,[h,W],[u,g]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[h,[u,T]],[/(aeobc)\\b/i],[d,[h,R],[u,T]],[/(homepod).+mac os/i],[d,[h,C],[u,T]],[/windows iot/i],[[u,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+? mobile safari/i],[d,[u,m]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[d,[u,f]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[u,f]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[u,m]],[/droid .+?; ([\\w\\. -]+)( bui|\\))/i],[d,[h,\"Generic\"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[p,[l,\"EdgeHTML\"]],[/(arkweb)\\/([\\w\\.]+)/i],[l,p],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[p,[l,\"Blink\"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,/\\b(libweb)/i],[l,p],[/ladybird\\//i],[[l,\"LibWeb\"]],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[p,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,p],[/(windows (?:phone(?: os)?|mobile|iot))[\\/ ]?([\\d\\.\\w ]*)/i],[l,[p,Z,$]],[/windows nt 6\\.2; (arm)/i,/windows[\\/ ]([ntce\\d\\. ]+\\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[p,Z,$],[l,\"Windows\"]],[/[adehimnop]{4,7}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,/cfnetwork\\/.+darwin/i],[[p,/_/g,\".\"],[l,\"iOS\"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[l,K],[p,/_/g,\".\"]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[p,l],[/(ubuntu) ([\\w\\.]+) like android/i],[[l,/(.+)/,\"$1 Touch\"],p],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\\w*[-\\/; ]?([\\d\\.]*)/i],[l,p],[/\\(bb(10);/i],[p,[l,y]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\\/ ]?([\\w\\.]*)/i],[p,[l,\"Symbian\"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[p,[l,b+\" OS\"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[p,[l,\"webOS\"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[p,[l,\"watchOS\"]],[/crkey\\/([\\d\\.]+)/i],[p,[l,A+\"cast\"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[l,H],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux)(?: arm\\w*| x86\\w*| ?)([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[l,p],[/(sunos) ?([\\w\\.\\d]*)/i],[[l,\"Solaris\"],p],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\\w\\.]*)/i],[l,p]]},te=function(e,i){if(typeof e===s&&(i=e,e=n),!(this instanceof te))return new te(e,i).getResult();var E=typeof t!==o&&t.navigator?t.navigator:n,S=e||(E&&E.userAgent?E.userAgent:\"\"),g=E&&E.userAgentData?E.userAgentData:n,T=i?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(ee,i):ee,R=E&&E.userAgent==S;return this.getBrowser=function(){var e={};return e[l]=n,e[p]=n,Q.call(e,S,T.browser),e[c]=function(e){return typeof e===a?e.replace(/[^\\d\\.]/g,\"\").split(\".\")[0]:n}(e[p]),R&&E&&E.brave&&typeof E.brave.isBrave==r&&(e[l]=\"Brave\"),e},this.getCPU=function(){var e={};return e[_]=n,Q.call(e,S,T.cpu),e},this.getDevice=function(){var e={};return e[h]=n,e[d]=n,e[u]=n,Q.call(e,S,T.device),R&&!e[u]&&g&&g.mobile&&(e[u]=m),R&&\"Macintosh\"==e[d]&&E&&typeof E.standalone!==o&&E.maxTouchPoints&&E.maxTouchPoints>2&&(e[d]=\"iPad\",e[u]=f),e},this.getEngine=function(){var e={};return e[l]=n,e[p]=n,Q.call(e,S,T.engine),e},this.getOS=function(){var e={};return e[l]=n,e[p]=n,Q.call(e,S,T.os),R&&!e[l]&&g&&g.platform&&\"Unknown\"!=g.platform&&(e[l]=g.platform.replace(/chrome os/i,H).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return S},this.setUA=function(e){return S=typeof e===a&&e.length>500?J(e,500):e,this},this.setUA(S),this};te.VERSION=\"0.7.41\",te.BROWSER=z([l,p,c]),te.CPU=z([_]),te.DEVICE=z([d,h,u,E,m,S,f,g,T]),te.ENGINE=te.OS=z([l,p]),e.exports&&(i=e.exports=te),i.UAParser=te;var ie=typeof t!==o&&(t.jQuery||t.Zepto);if(ie&&!ie.ua){var ne=new te;ie.ua=ne.getResult(),ie.ua.get=function(){return ne.getUA()},ie.ua.set=function(e){ne.setUA(e);var t=ne.getResult();for(var i in t)ie.ua[i]=t[i]}}}(\"object\"==typeof window?window:t)}(xT,xT.exports);var FT=i(xT.exports),BT=Ud.clear;Oi({global:!0,bind:!0,enumerable:!0,forced:h.clearImmediate!==BT},{clearImmediate:BT});var jT=h,GT=f,WT=A,HT=qn,KT=ae,YT=sd,zT=cd,qT=jT.Function,XT=/MSIE .\\./.test(KT)||\"BUN\"===HT&&function(){var e=jT.Bun.version.split(\".\");return e.length<3||\"0\"===e[0]&&(e[1]<3||\"3\"===e[1]&&\"0\"===e[2])}(),JT=Oi,QT=h,ZT=Ud.set,$T=function(e,t){var i=t?2:1;return XT?function(n,r){var o=zT(arguments.length,1)>i,s=WT(n)?n:qT(n),a=o?YT(arguments,i):[],c=o?function(){GT(s,this,a)}:s;return t?e(c,r):e(c)}:e},eR=QT.setImmediate?$T(ZT,!1):ZT;JT({global:!0,bind:!0,enumerable:!0,forced:QT.setImmediate!==eR},{setImmediate:eR});var tR=i($.setImmediate),iR=h,nR=hl,rR=Ne,oR=cd,sR=w;Oi({global:!0,enumerable:!0,dontCallGetSet:!0,forced:n((function(){return sR&&1!==Object.getOwnPropertyDescriptor(iR,\"queueMicrotask\").value.length}))},{queueMicrotask:function(e){oR(arguments.length,1),nR(rR(e))}});var aR=i($.queueMicrotask);function cR(e,t){return function(){return e.apply(t,arguments)}}const{toString:dR}=Object.prototype,{getPrototypeOf:lR}=Object,{iterator:uR,toStringTag:hR}=Symbol,pR=(_R=Object.create(null),e=>{const t=dR.call(e);return _R[t]||(_R[t]=t.slice(8,-1).toLowerCase())});var _R;const ER=e=>(e=e.toLowerCase(),t=>pR(t)===e),mR=e=>t=>typeof t===e,{isArray:fR}=Array,SR=mR(\"undefined\");function gR(e){return null!==e&&!SR(e)&&null!==e.constructor&&!SR(e.constructor)&&CR(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const TR=ER(\"ArrayBuffer\");const RR=mR(\"string\"),CR=mR(\"function\"),vR=mR(\"number\"),yR=e=>null!==e&&\"object\"==typeof e,IR=e=>{if(\"object\"!==pR(e))return!1;const t=lR(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||hR in e||uR in e)},AR=ER(\"Date\"),bR=ER(\"File\"),wR=ER(\"Blob\"),OR=ER(\"FileList\"),NR=ER(\"URLSearchParams\"),[DR,PR,LR,kR]=[\"ReadableStream\",\"Request\",\"Response\",\"Headers\"].map(ER);function MR(e,t){let i,n,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e)if(\"object\"!=typeof e&&(e=[e]),fR(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{if(gR(e))return;const n=r?Object.getOwnPropertyNames(e):Object.keys(e),o=n.length;let s;for(i=0;i<o;i++)s=n[i],t.call(null,e[s],s,e)}}function UR(e,t){if(gR(e))return null;t=t.toLowerCase();const i=Object.keys(e);let n,r=i.length;for(;r-- >0;)if(n=i[r],t===n.toLowerCase())return n;return null}const VR=void 0!==VT?VT:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:global,xR=e=>!SR(e)&&e!==VR;const FR=(BR=\"undefined\"!=typeof Uint8Array&&lR(Uint8Array),e=>BR&&e instanceof BR);var BR;const jR=ER(\"HTMLFormElement\"),GR=(e=>{let{hasOwnProperty:t}=e;return(e,i)=>t.call(e,i)})(Object.prototype),WR=ER(\"RegExp\"),HR=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};MR(i,((i,r)=>{let o;!1!==(o=t(i,r,e))&&(n[r]=o||i)})),Object.defineProperties(e,n)};const KR=ER(\"AsyncFunction\"),YR=(zR=\"function\"==typeof tR,qR=CR(VR.postMessage),zR?tR:qR?(XR=\"axios@\".concat(Math.random()),JR=[],VR.addEventListener(\"message\",(e=>{let{source:t,data:i}=e;t===VR&&i===XR&&JR.length&&JR.shift()()}),!1),e=>{JR.push(e),VR.postMessage(XR,\"*\")}):e=>setTimeout(e));var zR,qR,XR,JR;const QR=void 0!==aR?aR.bind(VR):\"undefined\"!=typeof process&&process.nextTick||YR;var ZR={isArray:fR,isArrayBuffer:TR,isBuffer:gR,isFormData:e=>{let t;return e&&(\"function\"==typeof FormData&&e instanceof FormData||CR(e.append)&&(\"formdata\"===(t=pR(e))||\"object\"===t&&CR(e.toString)&&\"[object FormData]\"===e.toString()))},isArrayBufferView:function(e){let t;return t=\"undefined\"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&TR(e.buffer),t},isString:RR,isNumber:vR,isBoolean:e=>!0===e||!1===e,isObject:yR,isPlainObject:IR,isEmptyObject:e=>{if(!yR(e)||gR(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:DR,isRequest:PR,isResponse:LR,isHeaders:kR,isUndefined:SR,isDate:AR,isFile:bR,isBlob:wR,isRegExp:WR,isFunction:CR,isStream:e=>yR(e)&&CR(e.pipe),isURLSearchParams:NR,isTypedArray:FR,isFileList:OR,forEach:MR,merge:function e(){const{caseless:t,skipUndefined:i}=xR(this)&&this||{},n={},r=(r,o)=>{const s=t&&UR(n,o)||o;IR(n[s])&&IR(r)?n[s]=e(n[s],r):IR(r)?n[s]=e({},r):fR(r)?n[s]=r.slice():i&&SR(r)||(n[s]=r)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&MR(arguments[e],r);return n},extend:function(e,t,i){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return MR(t,((t,n)=>{i&&CR(t)?e[n]=cR(t,i):e[n]=t}),{allOwnKeys:n}),e},trim:e=>kg(e)?kg(e).call(e):e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\"),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,\"super\",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let r,o,s;const a={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)s=r[o],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==i&&lR(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:pR,kindOfTest:ER,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return-1!==n&&n===i},toArray:e=>{if(!e)return null;if(fR(e))return e;let t=e.length;if(!vR(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{const i=(e&&e[uR]).call(e);let n;for(;(n=i.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let i;const n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:jR,hasOwnProperty:GR,hasOwnProp:GR,reduceDescriptors:HR,freezeMethods:e=>{HR(e,((t,i)=>{if(CR(e)&&-1!==[\"arguments\",\"caller\",\"callee\"].indexOf(i))return!1;const n=e[i];CR(n)&&(t.enumerable=!1,\"writable\"in t?t.writable=!1:t.set||(t.set=()=>{throw Error(\"Can not rewrite read-only method '\"+i+\"'\")}))}))},toObjectSet:(e,t)=>{const i={},n=e=>{e.forEach((e=>{i[e]=!0}))};return fR(e)?n(e):n(String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,(function(e,t,i){return t.toUpperCase()+i})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:UR,global:VR,isContextDefined:xR,isSpecCompliantForm:function(e){return!!(e&&CR(e.append)&&\"FormData\"===e[hR]&&e[uR])},toJSONObject:e=>{const t=new Array(10),i=(e,n)=>{if(yR(e)){if(t.indexOf(e)>=0)return;if(gR(e))return e;if(!(\"toJSON\"in e)){t[n]=e;const r=fR(e)?[]:{};return MR(e,((e,t)=>{const o=i(e,n+1);!SR(o)&&(r[t]=o)})),t[n]=void 0,r}}return e};return i(e,0)},isAsyncFn:KR,isThenable:e=>e&&(yR(e)||CR(e))&&CR(e.then)&&CR(e.catch),setImmediate:YR,asap:QR,isIterable:e=>null!=e&&CR(e[uR])};function $R(e,t,i,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name=\"AxiosError\",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}ZR.inherits($R,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ZR.toJSONObject(this.config),code:this.code,status:this.status}}});const eC=$R.prototype,tC={};[\"ERR_BAD_OPTION_VALUE\",\"ERR_BAD_OPTION\",\"ECONNABORTED\",\"ETIMEDOUT\",\"ERR_NETWORK\",\"ERR_FR_TOO_MANY_REDIRECTS\",\"ERR_DEPRECATED\",\"ERR_BAD_RESPONSE\",\"ERR_BAD_REQUEST\",\"ERR_CANCELED\",\"ERR_NOT_SUPPORT\",\"ERR_INVALID_URL\"].forEach((e=>{tC[e]={value:e}})),Object.defineProperties($R,tC),Object.defineProperty(eC,\"isAxiosError\",{value:!0}),$R.from=(e,t,i,n,r,o)=>{const s=Object.create(eC);ZR.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>\"isAxiosError\"!==e));const a=e&&e.message?e.message:\"Error\",c=null==t&&e?e.code:t;return $R.call(s,a,c,i,n,r),e&&null==s.cause&&Object.defineProperty(s,\"cause\",{value:e,configurable:!0}),s.name=e&&e.name||\"Error\",o&&Object.assign(s,o),s};function iC(e){return ZR.isPlainObject(e)||ZR.isArray(e)}function nC(e){return ZR.endsWith(e,\"[]\")?e.slice(0,-2):e}function rC(e,t,i){return e?e.concat(t).map((function(e,t){return e=nC(e),!i&&t?\"[\"+e+\"]\":e})).join(i?\".\":\"\"):t}const oC=ZR.toFlatObject(ZR,{},null,(function(e){return/^is[A-Z]/.test(e)}));function sC(e,t,i){if(!ZR.isObject(e))throw new TypeError(\"target must be an object\");t=t||new FormData;const n=(i=ZR.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ZR.isUndefined(t[e])}))).metaTokens,r=i.visitor||d,o=i.dots,s=i.indexes,a=(i.Blob||\"undefined\"!=typeof Blob&&Blob)&&ZR.isSpecCompliantForm(t);if(!ZR.isFunction(r))throw new TypeError(\"visitor must be a function\");function c(e){if(null===e)return\"\";if(ZR.isDate(e))return e.toISOString();if(ZR.isBoolean(e))return e.toString();if(!a&&ZR.isBlob(e))throw new $R(\"Blob is not supported. Use a Buffer instead.\");return ZR.isArrayBuffer(e)||ZR.isTypedArray(e)?a&&\"function\"==typeof Blob?new Blob([e]):Buffer.from(e):e}function d(e,i,r){let a=e;if(e&&!r&&\"object\"==typeof e)if(ZR.endsWith(i,\"{}\"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else if(ZR.isArray(e)&&function(e){return ZR.isArray(e)&&!e.some(iC)}(e)||(ZR.isFileList(e)||ZR.endsWith(i,\"[]\"))&&(a=ZR.toArray(e)))return i=nC(i),a.forEach((function(e,n){!ZR.isUndefined(e)&&null!==e&&t.append(!0===s?rC([i],n,o):null===s?i:i+\"[]\",c(e))})),!1;return!!iC(e)||(t.append(rC(r,i,o),c(e)),!1)}const l=[],u=Object.assign(oC,{defaultVisitor:d,convertValue:c,isVisitable:iC});if(!ZR.isObject(e))throw new TypeError(\"data must be an object\");return function e(i,n){if(!ZR.isUndefined(i)){if(-1!==l.indexOf(i))throw Error(\"Circular reference detected in \"+n.join(\".\"));l.push(i),ZR.forEach(i,(function(i,o){!0===(!(ZR.isUndefined(i)||null===i)&&r.call(t,i,ZR.isString(o)?kg(o).call(o):o,n,u))&&e(i,n?n.concat(o):[o])})),l.pop()}}(e),t}function aC(e){const t={\"!\":\"%21\",\"'\":\"%27\",\"(\":\"%28\",\")\":\"%29\",\"~\":\"%7E\",\"%20\":\"+\",\"%00\":\"\\0\"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function cC(e,t){this._pairs=[],e&&sC(e,this,t)}const dC=cC.prototype;function lC(e){return encodeURIComponent(e).replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\")}function uC(e,t,i){if(!t)return e;const n=i&&i.encode||lC;ZR.isFunction(i)&&(i={serialize:i});const r=i&&i.serialize;let o;if(o=r?r(t,i):ZR.isURLSearchParams(t)?t.toString():new cC(t,i).toString(n),o){const t=e.indexOf(\"#\");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+o}return e}dC.append=function(e,t){this._pairs.push([e,t])},dC.toString=function(e){const t=e?function(t){return e.call(this,t,aC)}:aC;return this._pairs.map((function(e){return t(e[0])+\"=\"+t(e[1])}),\"\").join(\"&\")};var hC=class{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ZR.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},pC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_C={exports:{}},EC=Oi,mC=w,fC=Zt.f;EC({target:\"Object\",stat:!0,forced:Object.defineProperty!==fC,sham:!mC},{defineProperty:fC});var SC=$.Object,gC=_C.exports=function(e,t,i){return SC.defineProperty(e,t,i)};SC.defineProperty.sham&&(gC.sham=!0);var TC=i(_C.exports),RC=TypeError,CC=or,vC=Qc,yC=Z,IC=pt(\"species\"),AC=Array,bC=function(e){var t;return CC(e)&&(t=e.constructor,(vC(t)&&(t===AC||CC(t.prototype))||yC(t)&&null===(t=t[IC]))&&(t=void 0)),void 0===t?AC:t},wC=function(e,t){return new(bC(e))(0===t?0:t)},OC=n,NC=_e,DC=pt(\"species\"),PC=function(e){return NC>=51||!OC((function(){var t=[];return(t.constructor={})[DC]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},LC=Oi,kC=n,MC=or,UC=Z,VC=Je,xC=Wi,FC=function(e){if(e>9007199254740991)throw RC(\"Maximum allowed index exceeded\");return e},BC=qE,jC=wC,GC=PC,WC=_e,HC=pt(\"isConcatSpreadable\"),KC=WC>=51||!kC((function(){var e=[];return e[HC]=!1,e.concat()[0]!==e})),YC=function(e){if(!UC(e))return!1;var t=e[HC];return void 0!==t?!!t:MC(e)};LC({target:\"Array\",proto:!0,arity:1,forced:!KC||!GC(\"concat\")},{concat:function(e){var t,i,n,r,o,s=VC(this),a=jC(s,0),c=0;for(t=-1,n=arguments.length;t<n;t++)if(YC(o=-1===t?s:arguments[t]))for(r=xC(o),FC(c+r),i=0;i<r;i++,c++)i in o&&BC(a,c,o[i]);else FC(c+1),BC(a,c++,o);return a.length=c,a}});var zC={},qC=R,XC=J,JC=Br.f,QC=sd,ZC=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];zC.f=function(e){return ZC&&\"Window\"===qC(e)?function(e){try{return JC(e)}catch(e){return QC(ZC)}}(e):JC(XC(e))};var $C={},ev=pt;$C.f=ev;var tv=$,iv=$e,nv=$C,rv=Zt.f,ov=function(e){var t=tv.Symbol||(tv.Symbol={});iv(t,e)||rv(t,e,{value:nv.f(e)})},sv=D,av=re,cv=pt,dv=va,lv=function(){var e=av(\"Symbol\"),t=e&&e.prototype,i=t&&t.valueOf,n=cv(\"toPrimitive\");t&&!t[n]&&dv(t,n,(function(e){return sv(i,this)}),{arity:1})},uv=Qt,hv=W,pv=Je,_v=Wi,Ev=wC,mv=d([].push),fv=function(e){var t=1===e,i=2===e,n=3===e,r=4===e,o=6===e,s=7===e,a=5===e||o;return function(c,d,l,u){for(var h,p,_=pv(c),E=hv(_),m=_v(E),f=uv(d,l),S=0,g=u||Ev,T=t?g(c,m):i||s?g(c,0):void 0;m>S;S++)if((a||S in E)&&(p=f(h=E[S],S,_),e))if(t)T[S]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return S;case 2:mv(T,h)}else switch(e){case 4:return!1;case 7:mv(T,h)}return o?-1:n||r?r:T}},Sv={forEach:fv(0),map:fv(1),filter:fv(2),some:fv(3),every:fv(4),find:fv(5),findIndex:fv(6),filterReject:fv(7)},gv=Oi,Tv=h,Rv=D,Cv=d,vv=w,yv=Se,Iv=n,Av=$e,bv=l,wv=ni,Ov=J,Nv=vt,Dv=Sn,Pv=x,Lv=ko,kv=ho,Mv=Br,Uv=zC,Vv=Qr,xv=b,Fv=Zt,Bv=co,jv=P,Gv=va,Wv=vc,Hv=ze,Kv=jr,Yv=rt,zv=pt,qv=$C,Xv=ov,Jv=lv,Qv=Ga,Zv=Ea,$v=Sv.forEach,ey=gr(\"hidden\"),ty=\"Symbol\",iy=\"prototype\",ny=Zv.set,ry=Zv.getterFor(ty),oy=Object[iy],sy=Tv.Symbol,ay=sy&&sy[iy],cy=Tv.RangeError,dy=Tv.TypeError,ly=Tv.QObject,uy=xv.f,hy=Fv.f,py=Uv.f,_y=jv.f,Ey=Cv([].push),my=Hv(\"symbols\"),fy=Hv(\"op-symbols\"),Sy=Hv(\"wks\"),gy=!ly||!ly[iy]||!ly[iy].findChild,Ty=function(e,t,i){var n=uy(oy,t);n&&delete oy[t],hy(e,t,i),n&&e!==oy&&hy(oy,t,n)},Ry=vv&&Iv((function(){return 7!==Lv(hy({},\"a\",{get:function(){return hy(this,\"a\",{value:7}).a}})).a}))?Ty:hy,Cy=function(e,t){var i=my[e]=Lv(ay);return ny(i,{type:ty,tag:e,description:t}),vv||(i.description=t),i},vy=function(e,t,i){e===oy&&vy(fy,t,i),wv(e);var n=Nv(t);return wv(i),Av(my,n)?(i.enumerable?(Av(e,ey)&&e[ey][n]&&(e[ey][n]=!1),i=Lv(i,{enumerable:Pv(0,!1)})):(Av(e,ey)||hy(e,ey,Pv(1,Lv(null))),e[ey][n]=!0),Ry(e,n,i)):hy(e,n,i)},yy=function(e,t){wv(e);var i=Ov(t),n=kv(i).concat(wy(i));return $v(n,(function(t){vv&&!Rv(Iy,i,t)||vy(e,t,i[t])})),e},Iy=function(e){var t=Nv(e),i=Rv(_y,this,t);return!(this===oy&&Av(my,t)&&!Av(fy,t))&&(!(i||!Av(this,t)||!Av(my,t)||Av(this,ey)&&this[ey][t])||i)},Ay=function(e,t){var i=Ov(e),n=Nv(t);if(i!==oy||!Av(my,n)||Av(fy,n)){var r=uy(i,n);return!r||!Av(my,n)||Av(i,ey)&&i[ey][n]||(r.enumerable=!0),r}},by=function(e){var t=py(Ov(e)),i=[];return $v(t,(function(e){Av(my,e)||Av(Kv,e)||Ey(i,e)})),i},wy=function(e){var t=e===oy,i=py(t?fy:Ov(e)),n=[];return $v(i,(function(e){!Av(my,e)||t&&!Av(oy,e)||Ey(n,my[e])})),n};yv||(sy=function(){if(bv(ay,this))throw new dy(\"Symbol is not a constructor\");var e=arguments.length&&void 0!==arguments[0]?Dv(arguments[0]):void 0,t=Yv(e),i=function(e){var n=void 0===this?Tv:this;n===oy&&Rv(i,fy,e),Av(n,ey)&&Av(n[ey],t)&&(n[ey][t]=!1);var r=Pv(1,e);try{Ry(n,t,r)}catch(e){if(!(e instanceof cy))throw e;Ty(n,t,r)}};return vv&&gy&&Ry(oy,t,{configurable:!0,set:i}),Cy(t,e)},Gv(ay=sy[iy],\"toString\",(function(){return ry(this).tag})),Gv(sy,\"withoutSetter\",(function(e){return Cy(Yv(e),e)})),jv.f=Iy,Fv.f=vy,Bv.f=yy,xv.f=Ay,Mv.f=Uv.f=by,Vv.f=wy,qv.f=function(e){return Cy(zv(e),e)},vv&&Wv(ay,\"description\",{configurable:!0,get:function(){return ry(this).description}})),gv({global:!0,constructor:!0,wrap:!0,forced:!yv,sham:!yv},{Symbol:sy}),$v(kv(Sy),(function(e){Xv(e)})),gv({target:ty,stat:!0,forced:!yv},{useSetter:function(){gy=!0},useSimple:function(){gy=!1}}),gv({target:\"Object\",stat:!0,forced:!yv,sham:!vv},{create:function(e,t){return void 0===t?Lv(e):yy(Lv(e),t)},defineProperty:vy,defineProperties:yy,getOwnPropertyDescriptor:Ay}),gv({target:\"Object\",stat:!0,forced:!yv},{getOwnPropertyNames:by}),Jv(),Qv(sy,ty),Kv[ey]=!0;var Oy=Se&&!!Symbol.for&&!!Symbol.keyFor,Ny=Oi,Dy=re,Py=$e,Ly=Sn,ky=ze,My=Oy,Uy=ky(\"string-to-symbol-registry\"),Vy=ky(\"symbol-to-string-registry\");Ny({target:\"Symbol\",stat:!0,forced:!My},{for:function(e){var t=Ly(e);if(Py(Uy,t))return Uy[t];var i=Dy(\"Symbol\")(t);return Uy[t]=i,Vy[i]=t,i}});var xy=Oi,Fy=$e,By=ye,jy=Ae,Gy=Oy,Wy=ze(\"symbol-to-string-registry\");xy({target:\"Symbol\",stat:!0,forced:!Gy},{keyFor:function(e){if(!By(e))throw new TypeError(jy(e)+\" is not a symbol\");if(Fy(Wy,e))return Wy[e]}});var Hy=or,Ky=A,Yy=R,zy=Sn,qy=d([].push),Xy=Oi,Jy=re,Qy=f,Zy=D,$y=d,eI=n,tI=A,iI=ye,nI=sd,rI=function(e){if(Ky(e))return e;if(Hy(e)){for(var t=e.length,i=[],n=0;n<t;n++){var r=e[n];\"string\"==typeof r?qy(i,r):\"number\"!=typeof r&&\"Number\"!==Yy(r)&&\"String\"!==Yy(r)||qy(i,zy(r))}var o=i.length,s=!0;return function(e,t){if(s)return s=!1,t;if(Hy(this))return t;for(var n=0;n<o;n++)if(i[n]===e)return t}}},oI=Se,sI=String,aI=Jy(\"JSON\",\"stringify\"),cI=$y(/./.exec),dI=$y(\"\".charAt),lI=$y(\"\".charCodeAt),uI=$y(\"\".replace),hI=$y(1.1.toString),pI=/[\\uD800-\\uDFFF]/g,_I=/^[\\uD800-\\uDBFF]$/,EI=/^[\\uDC00-\\uDFFF]$/,mI=!oI||eI((function(){var e=Jy(\"Symbol\")(\"stringify detection\");return\"[null]\"!==aI([e])||\"{}\"!==aI({a:e})||\"{}\"!==aI(Object(e))})),fI=eI((function(){return'\"\\\\udf06\\\\ud834\"'!==aI(\"\\udf06\\ud834\")||'\"\\\\udead\"'!==aI(\"\\udead\")})),SI=function(e,t){var i=nI(arguments),n=rI(t);if(tI(n)||void 0!==e&&!iI(e))return i[1]=function(e,t){if(tI(n)&&(t=Zy(n,this,sI(e),t)),!iI(t))return t},Qy(aI,null,i)},gI=function(e,t,i){var n=dI(i,t-1),r=dI(i,t+1);return cI(_I,e)&&!cI(EI,r)||cI(EI,e)&&!cI(_I,n)?\"\\\\u\"+hI(lI(e,0),16):e};aI&&Xy({target:\"JSON\",stat:!0,arity:3,forced:mI||fI},{stringify:function(e,t,i){var n=nI(arguments),r=Qy(mI?SI:aI,null,n);return fI&&\"string\"==typeof r?uI(r,pI,gI):r}});var TI=Qr,RI=Je;Oi({target:\"Object\",stat:!0,forced:!Se||n((function(){TI.f(1)}))},{getOwnPropertySymbols:function(e){var t=TI.f;return t?t(RI(e)):[]}}),ov(\"asyncDispose\"),ov(\"asyncIterator\"),ov(\"dispose\"),ov(\"hasInstance\"),ov(\"isConcatSpreadable\"),ov(\"iterator\"),ov(\"match\"),ov(\"matchAll\"),ov(\"replace\"),ov(\"search\"),ov(\"species\"),ov(\"split\");var CI=lv;ov(\"toPrimitive\"),CI();var vI=re,yI=Ga;ov(\"toStringTag\"),yI(vI(\"Symbol\"),\"Symbol\"),ov(\"unscopables\"),Ga(h.JSON,\"JSON\",!0);var II=$.Symbol,AI=pt,bI=Zt.f,wI=AI(\"metadata\"),OI=Function.prototype;void 0===OI[wI]&&bI(OI,wI,{value:null}),ov(\"metadata\");var NI=II,DI=d,PI=re(\"Symbol\"),LI=PI.keyFor,kI=DI(PI.prototype.valueOf),MI=PI.isRegisteredSymbol||function(e){try{return void 0!==LI(kI(e))}catch(e){return!1}};Oi({target:\"Symbol\",stat:!0},{isRegisteredSymbol:MI});for(var UI=ze,VI=re,xI=d,FI=ye,BI=pt,jI=VI(\"Symbol\"),GI=jI.isWellKnownSymbol,WI=VI(\"Object\",\"getOwnPropertyNames\"),HI=xI(jI.prototype.valueOf),KI=UI(\"wks\"),YI=0,zI=WI(jI),qI=zI.length;YI<qI;YI++)try{var XI=zI[YI];FI(jI[XI])&&BI(XI)}catch(e){}var JI=function(e){if(GI&&GI(e))return!0;try{for(var t=HI(e),i=0,n=WI(KI),r=n.length;i<r;i++)if(KI[n[i]]==t)return!0}catch(e){}return!1};Oi({target:\"Symbol\",stat:!0,forced:!0},{isWellKnownSymbol:JI}),ov(\"customMatcher\"),ov(\"observable\"),Oi({target:\"Symbol\",stat:!0,name:\"isRegisteredSymbol\"},{isRegistered:MI}),Oi({target:\"Symbol\",stat:!0,name:\"isWellKnownSymbol\",forced:!0},{isWellKnown:JI}),ov(\"matcher\"),ov(\"metadataKey\"),ov(\"patternMatch\"),ov(\"replaceAll\");var QI=i(NI),ZI=i($C.f(\"iterator\"));function $I(e){return $I=\"function\"==typeof QI&&\"symbol\"==typeof ZI?function(e){return typeof e}:function(e){return e&&\"function\"==typeof QI&&e.constructor===QI&&e!==QI.prototype?\"symbol\":typeof e},$I(e)}var eA=i($C.f(\"toPrimitive\"));function tA(e){var t=function(e,t){if(\"object\"!=$I(e)||!e)return e;var i=e[eA];if(void 0!==i){var n=i.call(e,t||\"default\");if(\"object\"!=$I(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==$I(t)?t:t+\"\"}function iA(e,t,i){return(t=tA(t))in e?TC(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var nA=i(OE),rA={isBrowser:!0,classes:{URLSearchParams:void 0!==nA?nA:cC,FormData:\"undefined\"!=typeof FormData?FormData:null,Blob:\"undefined\"!=typeof Blob?Blob:null},protocols:[\"http\",\"https\",\"file\",\"blob\",\"url\",\"data\"]};const oA=\"undefined\"!=typeof window&&\"undefined\"!=typeof document,sA=\"object\"==typeof navigator&&navigator||void 0,aA=oA&&(!sA||[\"ReactNative\",\"NativeScript\",\"NS\"].indexOf(sA.product)<0),cA=\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&\"function\"==typeof self.importScripts,dA=oA&&window.location.href||\"http://localhost\";function lA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function uA(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?lA(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):lA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var hA=uA(uA({},Object.freeze({__proto__:null,hasBrowserEnv:oA,hasStandardBrowserEnv:aA,hasStandardBrowserWebWorkerEnv:cA,navigator:sA,origin:dA})),rA);function pA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function _A(e,t){return sC(e,new hA.classes.URLSearchParams,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?pA(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({visitor:function(e,t,i,n){return hA.isNode&&ZR.isBuffer(e)?(this.append(t,e.toString(\"base64\")),!1):n.defaultVisitor.apply(this,arguments)}},t))}var EA=Gh.charAt,mA=D,fA=ni,SA=A,gA=R,TA=/./.exec,RA=TypeError,CA=Oi,vA=D,yA=y,IA=Xa,AA=pc,bA=z,wA=ji,OA=Sn,NA=ni,DA=Z,PA=R,LA=rn,kA=rT,MA=Le,UA=n,VA=od,xA=function(e,t,i){return t+(i?EA(e,t).length:1)},FA=function(e,t){var i=e.exec;if(SA(i)){var n=mA(i,e,t);return null!==n&&fA(n),n}if(\"RegExp\"===gA(e))return mA(TA,e,t);throw new RA(\"RegExp#exec called on incompatible receiver\")},BA=Ea,jA=pt(\"matchAll\"),GA=\"RegExp String\",WA=GA+\" Iterator\",HA=BA.set,KA=BA.getterFor(WA),YA=TypeError,zA=yA(\"\".indexOf),qA=yA(\"\".matchAll),XA=!!qA&&!UA((function(){qA(\"a\",/./)})),JA=IA((function(e,t,i,n){HA(this,{type:WA,regexp:e,string:t,global:i,unicode:n,done:!1})}),GA,(function(){var e=KA(this);if(e.done)return AA(void 0,!0);var t=e.regexp,i=e.string,n=FA(t,i);return null===n?(e.done=!0,AA(void 0,!0)):e.global?(\"\"===OA(n[0])&&(t.lastIndex=xA(i,wA(t.lastIndex),e.unicode)),AA(n,!1)):(e.done=!0,AA(n,!1))})),QA=function(e){var t,i,n,r=NA(this),o=OA(e),s=VA(r,RegExp),a=OA(kA(r));return t=new s(s===RegExp?r.source:r,a),i=!!~zA(a,\"g\"),n=!!~zA(a,\"u\"),t.lastIndex=wA(r.lastIndex),new JA(t,o,i,n)};CA({target:\"String\",proto:!0,forced:XA},{matchAll:function(e){var t,i,n,r,o=bA(this);if(DA(e)){if(LA(e)&&(t=OA(bA(kA(e))),!~zA(t,\"g\")))throw new YA(\"`.matchAll` does not allow non-global regexes\");if(XA)return qA(o,e);if(void 0===(n=MA(e,jA))&&\"RegExp\"===PA(e)&&(n=QA),n)return vA(n,e,o)}else if(XA)return qA(o,e);return i=OA(o),r=new RegExp(e,\"g\"),vA(QA,r,i)}});var ZA=Zi(\"String\",\"matchAll\"),$A=l,eb=ZA,tb=String.prototype,ib=function(e){var t=e.matchAll;return\"string\"==typeof e||e===tb||$A(tb,e)&&t===tb.matchAll?eb:t},nb=i(ib);function rb(e){function t(e,i,n,r){let o=e[r++];if(\"__proto__\"===o)return!0;const s=Number.isFinite(+o),a=r>=e.length;if(o=!o&&ZR.isArray(n)?n.length:o,a)return ZR.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!s;n[o]&&ZR.isObject(n[o])||(n[o]=[]);return t(e,i,n[o],r)&&ZR.isArray(n[o])&&(n[o]=function(e){const t={},i=Object.keys(e);let n;const r=i.length;let o;for(n=0;n<r;n++)o=i[n],t[o]=e[o];return t}(n[o])),!s}if(ZR.isFormData(e)&&ZR.isFunction(e.entries)){const i={};return ZR.forEachEntry(e,((e,n)=>{t(function(e){return nb(ZR).call(ZR,/\\w+|\\[(\\w*)]/g,e).map((e=>\"[]\"===e[0]?\"\":e[1]||e[0]))}(e),n,i,0)})),i}return null}const ob={transitional:pC,adapter:[\"xhr\",\"http\",\"fetch\"],transformRequest:[function(e,t){const i=t.getContentType()||\"\",n=i.indexOf(\"application/json\")>-1,r=ZR.isObject(e);r&&ZR.isHTMLForm(e)&&(e=new FormData(e));if(ZR.isFormData(e))return n?JSON.stringify(rb(e)):e;if(ZR.isArrayBuffer(e)||ZR.isBuffer(e)||ZR.isStream(e)||ZR.isFile(e)||ZR.isBlob(e)||ZR.isReadableStream(e))return e;if(ZR.isArrayBufferView(e))return e.buffer;if(ZR.isURLSearchParams(e))return t.setContentType(\"application/x-www-form-urlencoded;charset=utf-8\",!1),e.toString();let o;if(r){if(i.indexOf(\"application/x-www-form-urlencoded\")>-1)return _A(e,this.formSerializer).toString();if((o=ZR.isFileList(e))||i.indexOf(\"multipart/form-data\")>-1){const t=this.env&&this.env.FormData;return sC(o?{\"files[]\":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType(\"application/json\",!1),function(e,t,i){if(ZR.isString(e))try{return(t||JSON.parse)(e),kg(ZR).call(ZR,e)}catch(e){if(\"SyntaxError\"!==e.name)throw e}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ob.transitional,i=t&&t.forcedJSONParsing,n=\"json\"===this.responseType;if(ZR.isResponse(e)||ZR.isReadableStream(e))return e;if(e&&ZR.isString(e)&&(i&&!this.responseType||n)){const i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(e){if(i){if(\"SyntaxError\"===e.name)throw $R.from(e,$R.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hA.classes.FormData,Blob:hA.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:\"application/json, text/plain, */*\",\"Content-Type\":void 0}}};ZR.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\"],(e=>{ob.headers[e]={}}));var sb=ob;const ab=ZR.toObjectSet([\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"]);const cb=Symbol(\"internals\");function db(e){var t;return e&&kg(t=String(e)).call(t).toLowerCase()}function lb(e){return!1===e||null==e?e:ZR.isArray(e)?e.map(lb):String(e)}function ub(e,t,i,n,r){return ZR.isFunction(n)?n.call(this,t,i):(r&&(t=i),ZR.isString(t)?ZR.isString(n)?-1!==t.indexOf(n):ZR.isRegExp(n)?n.test(t):void 0:void 0)}class hb{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function r(e,t,i){const r=db(t);if(!r)throw new Error(\"header name must be a non-empty string\");const o=ZR.findKey(n,r);(!o||void 0===n[o]||!0===i||void 0===i&&!1!==n[o])&&(n[o||t]=lb(e))}const o=(e,t)=>ZR.forEach(e,((e,i)=>r(e,i,t)));if(ZR.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ZR.isString(e)&&(e=kg(e).call(e))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(kg(s=e).call(s)))o((e=>{const t={};let i,n,r;return e&&e.split(\"\\n\").forEach((function(e){var o,s;r=e.indexOf(\":\"),i=kg(o=e.substring(0,r)).call(o).toLowerCase(),n=kg(s=e.substring(r+1)).call(s),!i||t[i]&&ab[i]||(\"set-cookie\"===i?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+\", \"+n:n)})),t})(e),t);else if(ZR.isObject(e)&&ZR.isIterable(e)){let i,n,r={};for(const t of e){if(!ZR.isArray(t))throw TypeError(\"Object iterator must return a key-value pair\");r[n=t[0]]=(i=r[n])?ZR.isArray(i)?[...i,t[1]]:[i,t[1]]:t[1]}o(r,t)}else null!=e&&r(t,e,i);var s;return this}get(e,t){if(e=db(e)){const i=ZR.findKey(this,e);if(i){const e=this[i];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),i=/([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}(e);if(ZR.isFunction(t))return t.call(this,e,i);if(ZR.isRegExp(t))return t.exec(e);throw new TypeError(\"parser must be boolean|regexp|function\")}}}has(e,t){if(e=db(e)){const i=ZR.findKey(this,e);return!(!i||void 0===this[i]||t&&!ub(0,this[i],i,t))}return!1}delete(e,t){const i=this;let n=!1;function r(e){if(e=db(e)){const r=ZR.findKey(i,e);!r||t&&!ub(0,i[r],r,t)||(delete i[r],n=!0)}}return ZR.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const r=t[i];e&&!ub(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,i={};return ZR.forEach(this,((n,r)=>{var o;const s=ZR.findKey(i,r);if(s)return t[s]=lb(n),void delete t[r];const a=e?function(e){return kg(e).call(e).toLowerCase().replace(/([a-z\\d])(\\w*)/g,((e,t,i)=>t.toUpperCase()+i))}(r):kg(o=String(r)).call(o);a!==r&&delete t[r],t[a]=lb(n),i[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ZR.forEach(this,((i,n)=>{null!=i&&!1!==i&&(t[n]=e&&ZR.isArray(i)?i.join(\", \"):i)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,i]=e;return t+\": \"+i})).join(\"\\n\")}getSetCookie(){return this.get(\"set-cookie\")||[]}get[Symbol.toStringTag](){return\"AxiosHeaders\"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[cb]=this[cb]={accessors:{}}).accessors,i=this.prototype;function n(e){const n=db(e);t[n]||(!function(e,t){const i=ZR.toCamelCase(\" \"+t);[\"get\",\"set\",\"has\"].forEach((n=>{Object.defineProperty(e,n+i,{value:function(e,i,r){return this[n].call(this,t,e,i,r)},configurable:!0})}))}(i,e),t[n]=!0)}return ZR.isArray(e)?e.forEach(n):n(e),this}}hb.accessor([\"Content-Type\",\"Content-Length\",\"Accept\",\"Accept-Encoding\",\"User-Agent\",\"Authorization\"]),ZR.reduceDescriptors(hb.prototype,((e,t)=>{let{value:i}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(e){this[n]=e}}})),ZR.freezeMethods(hb);var pb=hb;function _b(e,t){const i=this||sb,n=t||i,r=pb.from(n.headers);let o=n.data;return ZR.forEach(e,(function(e){o=e.call(i,o,r.normalize(),t?t.status:void 0)})),r.normalize(),o}function Eb(e){return!(!e||!e.__CANCEL__)}function mb(e,t,i){$R.call(this,null==e?\"canceled\":e,$R.ERR_CANCELED,t,i),this.name=\"CanceledError\"}function fb(e,t,i){const n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(new $R(\"Request failed with status code \"+i.status,[$R.ERR_BAD_REQUEST,$R.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):e(i)}ZR.inherits(mb,$R,{__CANCEL__:!0});const Sb=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const r=function(e,t){e=e||10;const i=new Array(e),n=new Array(e);let r,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),d=n[s];r||(r=c),i[o]=a,n[o]=c;let l=s,u=0;for(;l!==o;)u+=i[l++],l%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-r<t)return;const h=d&&c-d;return h?Math.round(1e3*u/h):void 0}}(50,250);return function(e,t){let i,n,r=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=o,i=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];t>=o?s(c,e):(i=c,n||(n=setTimeout((()=>{n=null,s(i)}),o-t)))},()=>i&&s(i)]}((i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,c=r(a);n=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:i,lengthComputable:null!=s,[t?\"download\":\"upload\"]:!0})}),i)},gb=(e,t)=>{const i=null!=e;return[n=>t[0]({lengthComputable:i,total:e,loaded:n}),t[1]]},Tb=e=>function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return ZR.asap((()=>e(...i)))};var Rb=hA.hasStandardBrowserEnv?((e,t)=>i=>(i=new vS(i,hA.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new vS(hA.origin),hA.navigator&&/(msie|trident)/i.test(hA.navigator.userAgent)):()=>!0,Cb=hA.hasStandardBrowserEnv?{write(e,t,i,n,r,o,s){if(\"undefined\"==typeof document)return;const a=[\"\".concat(e,\"=\").concat(encodeURIComponent(t))];ZR.isNumber(i)&&a.push(\"expires=\".concat(new Date(i).toUTCString())),ZR.isString(n)&&a.push(\"path=\".concat(n)),ZR.isString(r)&&a.push(\"domain=\".concat(r)),!0===o&&a.push(\"secure\"),ZR.isString(s)&&a.push(\"SameSite=\".concat(s)),document.cookie=a.join(\"; \")},read(e){if(\"undefined\"==typeof document)return null;const t=document.cookie.match(new RegExp(\"(?:^|; )\"+e+\"=([^;]*)\"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,\"\",Date.now()-864e5,\"/\")}}:{write(){},read:()=>null,remove(){}};function vb(e,t,i){let n=!function(e){return/^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(e)}(t);return e&&(n||0==i)?function(e,t){return t?e.replace(/\\/?\\/$/,\"\")+\"/\"+t.replace(/^\\/+/,\"\"):e}(e,t):t}function yb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ib(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?yb(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const Ab=e=>e instanceof pb?Ib({},e):e;function bb(e,t){t=t||{};const i={};function n(e,t,i,n){return ZR.isPlainObject(e)&&ZR.isPlainObject(t)?ZR.merge.call({caseless:n},e,t):ZR.isPlainObject(t)?ZR.merge({},t):ZR.isArray(t)?t.slice():t}function r(e,t,i,r){return ZR.isUndefined(t)?ZR.isUndefined(e)?void 0:n(void 0,e,0,r):n(e,t,0,r)}function o(e,t){if(!ZR.isUndefined(t))return n(void 0,t)}function s(e,t){return ZR.isUndefined(t)?ZR.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(i,r,o){return o in t?n(i,r):o in e?n(void 0,i):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,i)=>r(Ab(e),Ab(t),0,!0)};return ZR.forEach(Object.keys(Ib(Ib({},e),t)),(function(n){const o=c[n]||r,s=o(e[n],t[n],n);ZR.isUndefined(s)&&o!==a||(i[n]=s)})),i}var wb=e=>{const t=bb({},e);let{data:i,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:o,headers:s,auth:a}=t;if(t.headers=s=pb.from(s),t.url=uC(vb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set(\"Authorization\",\"Basic \"+btoa((a.username||\"\")+\":\"+(a.password?unescape(encodeURIComponent(a.password)):\"\"))),ZR.isFormData(i))if(hA.hasStandardBrowserEnv||hA.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(ZR.isFunction(i.getHeaders)){const e=i.getHeaders(),t=[\"content-type\",\"content-length\"];Object.entries(e).forEach((e=>{let[i,n]=e;Ln(t).call(t,i.toLowerCase())&&s.set(i,n)}))}if(hA.hasStandardBrowserEnv&&(n&&ZR.isFunction(n)&&(n=n(t)),n||!1!==n&&Rb(t.url))){const e=r&&o&&Cb.read(o);e&&s.set(r,e)}return t};var Ob=\"undefined\"!=typeof XMLHttpRequest&&function(e){return new rp((function(t,i){const n=wb(e);let r=n.data;const o=pb.from(n.headers).normalize();let s,a,c,d,l,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=n;function _(){d&&d(),l&&l(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener(\"abort\",s)}let E=new XMLHttpRequest;function m(){if(!E)return;const n=pb.from(\"getAllResponseHeaders\"in E&&E.getAllResponseHeaders());fb((function(e){t(e),_()}),(function(e){i(e),_()}),{data:u&&\"text\"!==u&&\"json\"!==u?E.response:E.responseText,status:E.status,statusText:E.statusText,headers:n,config:e,request:E}),E=null}E.open(n.method.toUpperCase(),n.url,!0),E.timeout=n.timeout,\"onloadend\"in E?E.onloadend=m:E.onreadystatechange=function(){E&&4===E.readyState&&(0!==E.status||E.responseURL&&0===E.responseURL.indexOf(\"file:\"))&&setTimeout(m)},E.onabort=function(){E&&(i(new $R(\"Request aborted\",$R.ECONNABORTED,e,E)),E=null)},E.onerror=function(t){const n=new $R(t&&t.message?t.message:\"Network Error\",$R.ERR_NETWORK,e,E);n.event=t||null,i(n),E=null},E.ontimeout=function(){let t=n.timeout?\"timeout of \"+n.timeout+\"ms exceeded\":\"timeout exceeded\";const r=n.transitional||pC;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),i(new $R(t,r.clarifyTimeoutError?$R.ETIMEDOUT:$R.ECONNABORTED,e,E)),E=null},void 0===r&&o.setContentType(null),\"setRequestHeader\"in E&&ZR.forEach(o.toJSON(),(function(e,t){E.setRequestHeader(t,e)})),ZR.isUndefined(n.withCredentials)||(E.withCredentials=!!n.withCredentials),u&&\"json\"!==u&&(E.responseType=n.responseType),p&&([c,l]=Sb(p,!0),E.addEventListener(\"progress\",c)),h&&E.upload&&([a,d]=Sb(h),E.upload.addEventListener(\"progress\",a),E.upload.addEventListener(\"loadend\",d)),(n.cancelToken||n.signal)&&(s=t=>{E&&(i(!t||t.type?new mb(null,e,E):t),E.abort(),E=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener(\"abort\",s)));const f=function(e){const t=/^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(e);return t&&t[1]||\"\"}(n.url);f&&-1===hA.protocols.indexOf(f)?i(new $R(\"Unsupported protocol \"+f+\":\",$R.ERR_BAD_REQUEST,e)):E.send(r||null)}))};var Nb=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let i,n=new AbortController;const r=function(e){if(!i){i=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof $R?t:new mb(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,r(new $R(\"timeout \".concat(t,\" of ms exceeded\"),$R.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener(\"abort\",r)})),e=null)};e.forEach((e=>e.addEventListener(\"abort\",r)));const{signal:a}=n;return a.unsubscribe=()=>ZR.asap(s),a}},Db=i(np),Pb=$C.f(\"asyncIterator\"),Lb=i(Pb);function kb(e,t){this.v=e,this.k=t}function Mb(e){return function(){return new Ub(e.apply(this,arguments))}}function Ub(e){var t,i;function n(t,i){try{var o=e[t](i),s=o.value,a=s instanceof kb;Db.resolve(a?s.v:s).then((function(i){if(a){var c=\"return\"===t?\"return\":\"next\";if(!s.k||i.done)return n(c,i);i=e[c](i).value}r(o.done?\"return\":\"normal\",i)}),(function(e){n(\"throw\",e)}))}catch(e){r(\"throw\",e)}}function r(e,r){switch(e){case\"return\":t.resolve({value:r,done:!0});break;case\"throw\":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?n(t.key,t.arg):i=null}this._invoke=function(e,r){return new Db((function(o,s){var a={key:e,arg:r,resolve:o,reject:s,next:null};i?i=i.next=a:(t=i=a,n(e,r))}))},\"function\"!=typeof e.return&&(this.return=void 0)}function Vb(e){return new kb(e,0)}function xb(e){var t={},i=!1;function n(t,n){return i=!0,n=new Db((function(i){i(e[t](n))})),{done:!1,value:new kb(n,1)}}return t[void 0!==QI&&ZI||\"@@iterator\"]=function(){return this},t.next=function(e){return i?(i=!1,e):n(\"next\",e)},\"function\"==typeof e.throw&&(t.throw=function(e){if(i)throw i=!1,e;return n(\"throw\",e)}),\"function\"==typeof e.return&&(t.return=function(e){return i?(i=!1,e):n(\"return\",e)}),t}Ub.prototype[\"function\"==typeof QI&&Lb||\"@@asyncIterator\"]=function(){return this},Ub.prototype.next=function(e){return this._invoke(\"next\",e)},Ub.prototype.throw=function(e){return this._invoke(\"throw\",e)},Ub.prototype.return=function(e){return this._invoke(\"return\",e)};var Fb=i(Pb);function Bb(e){var t,i,n,r=2;for(\"undefined\"!=typeof Symbol&&(i=Fb,n=Symbol.iterator);r--;){if(i&&null!=(t=e[i]))return t.call(e);if(n&&null!=(t=e[n]))return new jb(t.call(e));i=\"@@asyncIterator\",n=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}function jb(e){function t(e){if(Object(e)!==e)return rp.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return rp.resolve(e.value).then((function(e){return{value:e,done:t}}))}return jb=function(e){this.s=e,this.n=e.next},jb.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var i=this.s.return;return void 0===i?rp.resolve({value:e,done:!0}):t(i.apply(this.s,arguments))},throw:function(e){var i=this.s.return;return void 0===i?rp.reject(e):t(i.apply(this.s,arguments))}},new jb(e)}const Gb=function*(e,t){let i=e.byteLength;if(!t||i<t)return void(yield e);let n,r=0;for(;r<i;)n=r+t,yield e.slice(r,n),r=n},Wb=function(){var e=Mb((function*(e,t){var i,n=!1,r=!1;try{for(var o,s=Bb(Hb(e));n=!(o=yield Vb(s.next())).done;n=!1){const e=o.value;yield*xb(Bb(Gb(e,t)))}}catch(e){r=!0,i=e}finally{try{n&&null!=s.return&&(yield Vb(s.return()))}finally{if(r)throw i}}}));return function(t,i){return e.apply(this,arguments)}}(),Hb=function(){var e=Mb((function*(e){if(e[Fb])return void(yield*xb(Bb(e)));const t=e.getReader();try{for(;;){const{done:e,value:i}=yield Vb(t.read());if(e)break;yield i}}finally{yield Vb(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Kb=(e,t,i,n)=>{const r=Wb(e,t);let o,s=0,a=e=>{o||(o=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await r.next();if(t)return a(),void e.close();let o=n.byteLength;if(i){let e=s+=o;i(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),r.return())},{highWaterMark:2})};function Yb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function zb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Yb(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Yb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const{isFunction:qb}=ZR,Xb=(e=>{let{Request:t,Response:i}=e;return{Request:t,Response:i}})(ZR.global),{ReadableStream:Jb,TextEncoder:Qb}=ZR.global,Zb=function(e){try{for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return!!e(...i)}catch(e){return!1}},$b=e=>{e=ZR.merge.call({skipUndefined:!0},Xb,e);const{fetch:t,Request:i,Response:n}=e,r=t?qb(t):\"function\"==typeof fetch,o=qb(i),s=qb(n);if(!r)return!1;const a=r&&qb(Jb),c=r&&(\"function\"==typeof Qb?(d=new Qb,e=>d.encode(e)):async e=>new Uint8Array(await new i(e).arrayBuffer()));var d;const l=o&&a&&Zb((()=>{let e=!1;const t=new i(hA.origin,{body:new Jb,method:\"POST\",get duplex(){return e=!0,\"half\"}}).headers.has(\"Content-Type\");return e&&!t})),u=s&&a&&Zb((()=>ZR.isReadableStream(new n(\"\").body))),h={stream:u&&(e=>e.body)};r&&[\"text\",\"arrayBuffer\",\"blob\",\"formData\",\"stream\"].forEach((e=>{!h[e]&&(h[e]=(t,i)=>{let n=t&&t[e];if(n)return n.call(t);throw new $R(\"Response type '\".concat(e,\"' is not supported\"),$R.ERR_NOT_SUPPORT,i)})}));const p=async(e,t)=>{const n=ZR.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(ZR.isBlob(e))return e.size;if(ZR.isSpecCompliantForm(e)){const t=new i(hA.origin,{method:\"POST\",body:e});return(await t.arrayBuffer()).byteLength}return ZR.isArrayBufferView(e)||ZR.isArrayBuffer(e)?e.byteLength:(ZR.isURLSearchParams(e)&&(e+=\"\"),ZR.isString(e)?(await c(e)).byteLength:void 0)})(t):n};return async e=>{let{url:r,method:s,data:a,signal:c,cancelToken:d,timeout:_,onDownloadProgress:E,onUploadProgress:m,responseType:f,headers:S,withCredentials:g=\"same-origin\",fetchOptions:T}=wb(e),R=t||fetch;f=f?(f+\"\").toLowerCase():\"text\";let C=Nb([c,d&&d.toAbortSignal()],_),v=null;const y=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let I;try{if(m&&l&&\"get\"!==s&&\"head\"!==s&&0!==(I=await p(S,a))){let e,t=new i(r,{method:\"POST\",body:a,duplex:\"half\"});if(ZR.isFormData(a)&&(e=t.headers.get(\"content-type\"))&&S.setContentType(e),t.body){const[e,i]=gb(I,Sb(Tb(m)));a=Kb(t.body,65536,e,i)}}ZR.isString(g)||(g=g?\"include\":\"omit\");const t=o&&\"credentials\"in i.prototype,c=zb(zb({},T),{},{signal:C,method:s.toUpperCase(),headers:S.normalize().toJSON(),body:a,duplex:\"half\",credentials:t?g:void 0});v=o&&new i(r,c);let d=await(o?R(v,T):R(r,c));const _=u&&(\"stream\"===f||\"response\"===f);if(u&&(E||_&&y)){const e={};[\"status\",\"statusText\",\"headers\"].forEach((t=>{e[t]=d[t]}));const t=ZR.toFiniteNumber(d.headers.get(\"content-length\")),[i,r]=E&&gb(t,Sb(Tb(E),!0))||[];d=new n(Kb(d.body,65536,i,(()=>{r&&r(),y&&y()})),e)}f=f||\"text\";let A=await h[ZR.findKey(h,f)||\"text\"](d,e);return!_&&y&&y(),await new rp(((t,i)=>{fb(t,i,{data:A,headers:pb.from(d.headers),status:d.status,statusText:d.statusText,config:e,request:v})}))}catch(t){if(y&&y(),t&&\"TypeError\"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new $R(\"Network Error\",$R.ERR_NETWORK,e,v),{cause:t.cause||t});throw $R.from(t,t&&t.code,e,v)}}},ew=new Map,tw=e=>{let t=e&&e.env||{};const{fetch:i,Request:n,Response:r}=t,o=[n,r,i];let s,a,c=o.length,d=ew;for(;c--;)s=o[c],a=d.get(s),void 0===a&&d.set(s,a=c?new Map:$b(t)),d=a;return a};tw();const iw={http:null,xhr:Ob,fetch:{get:tw}};ZR.forEach(iw,((e,t)=>{if(e){try{Object.defineProperty(e,\"name\",{value:t})}catch(e){}Object.defineProperty(e,\"adapterName\",{value:t})}}));const nw=e=>\"- \".concat(e),rw=e=>ZR.isFunction(e)||null===e||!1===e;var ow={getAdapter:function(e,t){e=ZR.isArray(e)?e:[e];const{length:i}=e;let n,r;const o={};for(let s=0;s<i;s++){let i;if(n=e[s],r=n,!rw(n)&&(r=iw[(i=String(n)).toLowerCase()],void 0===r))throw new $R(\"Unknown adapter '\".concat(i,\"'\"));if(r&&(ZR.isFunction(r)||(r=r.get(t))))break;o[i||\"#\"+s]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,i]=e;return\"adapter \".concat(t,\" \")+(!1===i?\"is not supported by the environment\":\"is not available in the build\")}));throw new $R(\"There is no suitable adapter to dispatch the request \"+(i?e.length>1?\"since :\\n\"+e.map(nw).join(\"\\n\"):\" \"+nw(e[0]):\"as no adapter specified\"),\"ERR_NOT_SUPPORT\")}return r},adapters:iw};function sw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mb(null,e)}function aw(e){sw(e),e.headers=pb.from(e.headers),e.data=_b.call(e,e.transformRequest),-1!==[\"post\",\"put\",\"patch\"].indexOf(e.method)&&e.headers.setContentType(\"application/x-www-form-urlencoded\",!1);return ow.getAdapter(e.adapter||sb.adapter,e)(e).then((function(t){return sw(e),t.data=_b.call(e,e.transformResponse,t),t.headers=pb.from(t.headers),t}),(function(t){return Eb(t)||(sw(e),t&&t.response&&(t.response.data=_b.call(e,e.transformResponse,t.response),t.response.headers=pb.from(t.response.headers))),rp.reject(t)}))}const cw=\"1.13.2\",dw={};[\"object\",\"boolean\",\"number\",\"function\",\"string\",\"symbol\"].forEach(((e,t)=>{dw[e]=function(i){return typeof i===e||\"a\"+(t<1?\"n \":\" \")+e}}));const lw={};dw.transitional=function(e,t,i){function n(e,t){return\"[Axios v\"+cw+\"] Transitional option '\"+e+\"'\"+t+(i?\". \"+i:\"\")}return(i,r,o)=>{if(!1===e)throw new $R(n(r,\" has been removed\"+(t?\" in \"+t:\"\")),$R.ERR_DEPRECATED);return t&&!lw[r]&&(lw[r]=!0,console.warn(n(r,\" has been deprecated since v\"+t+\" and will be removed in the near future\"))),!e||e(i,r,o)}},dw.spelling=function(e){return(t,i)=>(console.warn(\"\".concat(i,\" is likely a misspelling of \").concat(e)),!0)};var uw={assertOptions:function(e,t,i){if(\"object\"!=typeof e)throw new $R(\"options must be an object\",$R.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const o=n[r],s=t[o];if(s){const t=e[o],i=void 0===t||s(t,o,e);if(!0!==i)throw new $R(\"option \"+o+\" must be \"+i,$R.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new $R(\"Unknown option \"+o,$R.ERR_BAD_OPTION)}},validators:dw};const hw=uw.validators;let pw=class{constructor(e){this.defaults=e||{},this.interceptors={request:new hC,response:new hC}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const i=t.stack?t.stack.replace(/^.+\\n/,\"\"):\"\";try{e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\\n.+\\n/,\"\"))&&(e.stack+=\"\\n\"+i):e.stack=i}catch(e){}}throw e}}_request(e,t){\"string\"==typeof e?(t=t||{}).url=e:t=e||{},t=bb(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:r}=t;void 0!==i&&uw.assertOptions(i,{silentJSONParsing:hw.transitional(hw.boolean),forcedJSONParsing:hw.transitional(hw.boolean),clarifyTimeoutError:hw.transitional(hw.boolean)},!1),null!=n&&(ZR.isFunction(n)?t.paramsSerializer={serialize:n}:uw.assertOptions(n,{encode:hw.function,serialize:hw.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),uw.assertOptions(t,{baseUrl:hw.spelling(\"baseURL\"),withXsrfToken:hw.spelling(\"withXSRFToken\")},!0),t.method=(t.method||this.defaults.method||\"get\").toLowerCase();let o=r&&ZR.merge(r.common,r[t.method]);r&&ZR.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],(e=>{delete r[e]})),t.headers=pb.concat(o,r);const s=[];let a=!0;this.interceptors.request.forEach((function(e){\"function\"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let d;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,u=0;if(!a){const e=[aw.bind(this),void 0];for(e.unshift(...s),e.push(...c),l=e.length,d=rp.resolve(t);u<l;)d=d.then(e[u++],e[u++]);return d}l=s.length;let h=t;for(;u<l;){const e=s[u++],t=s[u++];try{h=e(h)}catch(e){t.call(this,e);break}}try{d=aw.call(this,h)}catch(e){return rp.reject(e)}for(u=0,l=c.length;u<l;)d=d.then(c[u++],c[u++]);return d}getUri(e){return uC(vb((e=bb(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};ZR.forEach([\"delete\",\"get\",\"head\",\"options\"],(function(e){pw.prototype[e]=function(t,i){return this.request(bb(i||{},{method:e,url:t,data:(i||{}).data}))}})),ZR.forEach([\"post\",\"put\",\"patch\"],(function(e){function t(t){return function(i,n,r){return this.request(bb(r||{},{method:e,headers:t?{\"Content-Type\":\"multipart/form-data\"}:{},url:i,data:n}))}}pw.prototype[e]=t(),pw.prototype[e+\"Form\"]=t(!0)}));var _w=pw;class Ew{constructor(e){if(\"function\"!=typeof e)throw new TypeError(\"executor must be a function.\");let t;this.promise=new rp((function(e){t=e}));const i=this;this.promise.then((e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null})),this.promise.then=e=>{let t;const n=new rp((e=>{i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e((function(e,n,r){i.reason||(i.reason=new mb(e,n,r),t(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Ew((function(t){e=t}));return{token:t,cancel:e}}}var mw=Ew;const fw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(fw).forEach((e=>{let[t,i]=e;fw[i]=t}));var Sw=fw;const gw=function e(t){const i=new _w(t),n=cR(_w.prototype.request,i);return ZR.extend(n,_w.prototype,i,{allOwnKeys:!0}),ZR.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(bb(t,i))},n}(sb);gw.Axios=_w,gw.CanceledError=mb,gw.CancelToken=mw,gw.isCancel=Eb,gw.VERSION=cw,gw.toFormData=sC,gw.AxiosError=$R,gw.Cancel=gw.CanceledError,gw.all=function(e){return rp.all(e)},gw.spread=function(e){return function(t){return e.apply(null,t)}},gw.isAxiosError=function(e){return ZR.isObject(e)&&!0===e.isAxiosError},gw.mergeConfig=bb,gw.AxiosHeaders=pb,gw.formToJSON=e=>rb(ZR.isHTMLForm(e)?new FormData(e):e),gw.getAdapter=ow.getAdapter,gw.HttpStatusCode=Sw,gw.default=gw;var Tw=gw;const Rw=()=>{};function Cw(){const e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:Rw};return e.promise=new rp(((t,i)=>{e.resolve=i=>{e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(i),e.value=i)},e.reject=t=>{e.isFinished||(e.isRejected=!0,e.isFinished=!0,i(t))}})),e}const vw=new Map,yw=new Map,Iw=new Map;let Aw=function(e){return e.WIN_10=\"Windows 10\",e.WIN_81=\"Windows 8.1\",e.WIN_8=\"Windows 8\",e.WIN_7=\"Windows 7\",e.WIN_VISTA=\"Windows Vista\",e.WIN_SERVER_2003=\"Windows Server 2003\",e.WIN_XP=\"Windows XP\",e.WIN_2000=\"Windows 2000\",e.ANDROID=\"Android\",e.HARMONY_OS=\"HarmonyOS\",e.OPEN_BSD=\"Open BSD\",e.SUN_OS=\"Sun OS\",e.LINUX=\"Linux\",e.IOS=\"iOS\",e.MAC_OS=\"Mac OS\",e.CHROMIUM_OS=\"Chromium OS\",e.QNX=\"QNX\",e.UNIX=\"UNIX\",e.BEOS=\"BeOS\",e.OS_2=\"OS/2\",e.SEARCH_BOT=\"Search Bot\",e}({}),bw=function(e){return e.CHROME=\"Chrome\",e.SAFARI=\"Safari\",e.EDGE=\"Edge\",e.FIREFOX=\"Firefox\",e.OPERA=\"OPR\",e.QQ=\"QQBrowser\",e.WECHAT=\"MicroMessenger\",e}({});const ww=new FT;let Ow=ww.getResult(),Nw=null;function Dw(e){if(!Nw){e&&ww.setUA(e),Ow=ww.getResult();const t=function(e){if(\"Blink\"===e.engine.name&&\"WeChat\"!==e.browser.name)return bw.CHROME;switch(e.browser.name){case\"Chrome Headless\":case\"Chrome\":case\"Chromium\":return bw.CHROME;case\"Safari\":case\"Mobile Safari\":return bw.SAFARI;case\"Edge\":return bw.EDGE;case\"Firefox\":return bw.FIREFOX;case\"QQ\":case\"QQBrowser\":return bw.QQ;case\"Opera\":return bw.OPERA;case\"WeChat\":return bw.WECHAT;default:return e.browser.name||\"\"}}(Ow),i=Pw(Ow),n=function(e){return\"Windows\"===e.os.name?e.os.version?e.os.name+\" \"+e.os.version:e.os.name:e.os.name||\"\"}(Ow),r=Ow.os.version,o=Pw(Ow,!1),s=Ow.device.type;if(!(t&&i&&n&&r))return{name:t,version:i,os:n,osVersion:r,browserVersion:o,deviceType:s};Nw={name:t,version:i,os:n,osVersion:r,browserVersion:o,deviceType:s}}return Nw}function Pw(e){let t,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=\"Blink\"===e.engine.name?e.engine.version||\"\":e.browser.version||\"\",i?t.split(\".\")[0]:t}function Lw(){return Dw().os}function kw(){const e=Dw();return\"\".concat(e.os,\" \").concat(e.osVersion)}function Mw(){const e=Dw();return!!(\"WebKit\"===Ow.engine.name&&e.os===Aw.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==bw.SAFARI||jw()&&e.name!==bw.SAFARI)}function Uw(){return Dw().name===bw.CHROME}function Vw(){return Dw().name===bw.SAFARI}function xw(){const e=Dw();if(e.name!==bw.SAFARI||!e.browserVersion)return!1;const t=e.browserVersion.split(\".\");return Number(t[0])>15||15===Number(t[0])&&Number(t[1])>=4}function Fw(){return Dw().name===bw.EDGE}function Bw(){return Dw().name===bw.FIREFOX}function jw(){return Dw().os===Aw.IOS}function Gw(e){const t=Dw();return!(t.name!==bw.CHROME||!t.osVersion)&&Number(t.version)>=e}function Ww(e){const t=Dw();return!(t.name!==bw.CHROME||!t.osVersion)&&Number(t.version)<e}function Hw(e,t,i){const n=Dw();return!(n.name!==e||!n.osVersion)&&(i?Number(n.version)>=t&&Number(n.version)<=i:Number(n.version)===t)}function Kw(e){const t=Dw();return!(t.name!==bw.EDGE||!t.osVersion)&&Number(t.version)>=e}function Yw(e){const t=Dw();return!(t.name!==bw.FIREFOX||!t.osVersion)&&Number(t.version)>=e}function zw(e){const t=Dw();return!(t.name!==bw.SAFARI||!t.osVersion)&&Number(t.version)>=e}function qw(e,t,i){const n=Dw();if(n.os!==Aw.IOS||!n.osVersion)return!1;const r=n.osVersion.split(\".\");return i?t&&Number(r[0])===e&&Number(r[1])>t||Number(r[0])>e:t?Number(r[0])===e&&Number(r[1])>=t||Number(r[0])>e:Number(r[0])>=e}function Xw(e,t,i){const n=Dw();if(n.os!==Aw.IOS||!n.osVersion)return!1;const r=n.osVersion.split(\".\");return i?t&&Number(r[0])===e&&Number(r[1])<t||Number(r[0])<e:t?Number(r[0])===e&&Number(r[1])<=t||Number(r[0])<e:Number(r[0])<=e}function Jw(e,t,i){const n=Dw();if(n.name!==bw.SAFARI||!n.osVersion||!n.browserVersion)return!1;const r=n.browserVersion.split(\".\");return i?t&&Number(r[0])===e&&Number(r[1])<t||Number(r[0])<e:t?Number(r[0])===e&&Number(r[1])<=t||Number(r[0])<e:Number(r[0])<=e}function Qw(e){const t=Dw();return!(t.name!==bw.OPERA||!t.osVersion)&&Number(t.version)>=e}function Zw(){const e=Dw();if(e.os!==Aw.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return Number(t[0])<14||14===Number(t[0])&&Number(t[1])<=6}function $w(){const e=Dw();if(e.os!==Aw.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])}function eO(){const e=Dw();if(e.os!==Aw.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 16===Number(t[0])}function tO(){const e=Dw();if(e.os!==Aw.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])&&Number(t[1])>=1}function iO(){return Vw()&&navigator.maxTouchPoints>0}function nO(){return Dw().name===bw.WECHAT}function rO(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)&&window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)[1]<=35}function oO(){const e=Lw();return function(){const{deviceType:e}=Dw();return\"mobile\"===e||\"tablet\"===e}()||e===Aw.ANDROID||e===Aw.IOS||e===Aw.HARMONY_OS}function sO(){const e=Dw();return e.name!==bw.EDGE&&e.name!==bw.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]./i)}function aO(){return Lw()===Aw.ANDROID}function cO(){const e=Dw();return aO()&&(e.name===bw.CHROME||e.name===bw.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function dO(e,t,i){return(t=function(e){var t=function(e,t){if(\"object\"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,\"string\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==typeof t?t:t+\"\"}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function lO(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function uO(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?lO(Object(i),!0).forEach((function(t){dO(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):lO(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let hO=function(e){return e.UNEXPECTED_ERROR=\"UNEXPECTED_ERROR\",e.UNEXPECTED_RESPONSE=\"UNEXPECTED_RESPONSE\",e.TIMEOUT=\"TIMEOUT\",e.INVALID_PARAMS=\"INVALID_PARAMS\",e.NOT_READABLE=\"NOT_READABLE\",e.NOT_SUPPORTED=\"NOT_SUPPORTED\",e.INVALID_OPERATION=\"INVALID_OPERATION\",e.OPERATION_ABORTED=\"OPERATION_ABORTED\",e.WEB_SECURITY_RESTRICT=\"WEB_SECURITY_RESTRICT\",e.EXCHANGE_SDP_FAILED=\"EXCHANGE_SDP_FAILED\",e.ADD_CANDIDATE_FAILED=\"ADD_CANDIDATE_FAILED\",e.DATACHANNEL_FAILED=\"DATACHANNEL_FAILED\",e.NETWORK_ERROR=\"NETWORK_ERROR\",e.NETWORK_TIMEOUT=\"NETWORK_TIMEOUT\",e.NETWORK_RESPONSE_ERROR=\"NETWORK_RESPONSE_ERROR\",e.API_INVOKE_TIMEOUT=\"API_INVOKE_TIMEOUT\",e.ENUMERATE_DEVICES_FAILED=\"ENUMERATE_DEVICES_FAILED\",e.DEVICE_NOT_FOUND=\"DEVICE_NOT_FOUND\",e.ELECTRON_IS_NULL=\"ELECTRON_IS_NULL\",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR=\"ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR\",e.CHROME_PLUGIN_NO_RESPONSE=\"CHROME_PLUGIN_NO_RESPONSE\",e.CHROME_PLUGIN_NOT_INSTALL=\"CHROME_PLUGIN_NOT_INSTALL\",e.MEDIA_OPTION_INVALID=\"MEDIA_OPTION_INVALID\",e.PERMISSION_DENIED=\"PERMISSION_DENIED\",e.CONSTRAINT_NOT_SATISFIED=\"CONSTRAINT_NOT_SATISFIED\",e.TRACK_IS_DISABLED=\"TRACK_IS_DISABLED\",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR=\"GET_VIDEO_ELEMENT_VISIBLE_ERROR\",e.SHARE_AUDIO_NOT_ALLOWED=\"SHARE_AUDIO_NOT_ALLOWED\",e.LOW_STREAM_ENCODING_ERROR=\"LOW_STREAM_ENCODING_ERROR\",e.SET_ENCODING_PARAMETER_ERROR=\"SET_ENCODING_PARAMETER_ERROR\",e.TRACK_STATE_UNREACHABLE=\"TRACK_STATE_UNREACHABLE\",e.INVALID_UINT_UID_FROM_STRING_UID=\"INVALID_UINT_UID_FROM_STRING_UID\",e.CAN_NOT_GET_PROXY_SERVER=\"CAN_NOT_GET_PROXY_SERVER\",e.CAN_NOT_GET_GATEWAY_SERVER=\"CAN_NOT_GET_GATEWAY_SERVER\",e.VOID_GATEWAY_ADDRESS=\"VOID_GATEWAY_ADDRESS\",e.UID_CONFLICT=\"UID_CONFLICT\",e.MULTI_UNILBS_RESPONSE_ERROR=\"MULTI_UNILBS_RESPONSE_ERROR\",e.UPDATE_TICKET_FAILED=\"UPDATE_TICKET_FAILED\",e.TOKEN_EXPIRE=\"TOKEN_EXPIRE\",e.INVALID_LOCAL_TRACK=\"INVALID_LOCAL_TRACK\",e.INVALID_TRACK=\"INVALID_TRACK\",e.SENDER_NOT_FOUND=\"SENDER_NOT_FOUND\",e.CREATE_OFFER_FAILED=\"CREATE_OFFER_FAILED\",e.SET_ANSWER_FAILED=\"SET_ANSWER_FAILED\",e.ICE_FAILED=\"ICE_FAILED\",e.PC_CLOSED=\"PC_CLOSED\",e.SENDER_REPLACE_FAILED=\"SENDER_REPLACE_FAILED\",e.GET_LOCAL_CAPABILITIES_FAILED=\"GET_LOCAL_CAPABILITIES_FAILED\",e.GET_LOCAL_CONNECTION_PARAMS_FAILED=\"GET_LOCAL_CONNECTION_PARAMS_FAILED\",e.SUBSCRIBE_FAILED=\"SUBSCRIBE_FAILED\",e.UNSUBSCRIBE_FAILED=\"UNSUBSCRIBE_FAILED\",e.GATEWAY_P2P_LOST=\"GATEWAY_P2P_LOST\",e.NO_ICE_CANDIDATE=\"NO_ICE_CANDIDATE\",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS=\"CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS\",e.EXIST_DISABLED_VIDEO_TRACK=\"EXIST_DISABLED_VIDEO_TRACK\",e.INVALID_REMOTE_USER=\"INVALID_REMOTE_USER\",e.REMOTE_USER_IS_NOT_PUBLISHED=\"REMOTE_USER_IS_NOT_PUBLISHED\",e.CUSTOM_REPORT_SEND_FAILED=\"CUSTOM_REPORT_SEND_FAILED\",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH=\"CUSTOM_REPORT_FREQUENCY_TOO_HIGH\",e.FETCH_AUDIO_FILE_FAILED=\"FETCH_AUDIO_FILE_FAILED\",e.READ_LOCAL_AUDIO_FILE_ERROR=\"READ_LOCAL_AUDIO_FILE_ERROR\",e.DECODE_AUDIO_FILE_FAILED=\"DECODE_AUDIO_FILE_FAILED\",e.WS_ABORT=\"WS_ABORT\",e.WS_DISCONNECT=\"WS_DISCONNECT\",e.WS_ERR=\"WS_ERR\",e.EXTERNAL_SIGNAL_ABORT=\"EXTERNAL_SIGNAL_ABORT\",e.LIVE_STREAMING_TASK_CONFLICT=\"LIVE_STREAMING_TASK_CONFLICT\",e.LIVE_STREAMING_INVALID_ARGUMENT=\"LIVE_STREAMING_INVALID_ARGUMENT\",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR=\"LIVE_STREAMING_INTERNAL_SERVER_ERROR\",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED=\"LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED\",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED=\"LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED\",e.LIVE_STREAMING_CDN_ERROR=\"LIVE_STREAMING_CDN_ERROR\",e.LIVE_STREAMING_INVALID_RAW_STREAM=\"LIVE_STREAMING_INVALID_RAW_STREAM\",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT=\"LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT\",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE=\"LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE\",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST=\"LIVE_STREAMING_WARN_FREQUENT_REQUEST\",e.WEBGL_INTERNAL_ERROR=\"WEBGL_INTERNAL_ERROR\",e.BEAUTY_PROCESSOR_INTERNAL_ERROR=\"BEAUTY_PROCESSOR_INTERNAL_ERROR\",e.CROSS_CHANNEL_WAIT_STATUS_ERROR=\"CROSS_CHANNEL_WAIT_STATUS_ERROR\",e.CROSS_CHANNEL_FAILED_JOIN_SRC=\"CROSS_CHANNEL_FAILED_JOIN_SEC\",e.CROSS_CHANNEL_FAILED_JOIN_DEST=\"CROSS_CHANNEL_FAILED_JOIN_DEST\",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST=\"CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST\",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE=\"CROSS_CHANNEL_SERVER_ERROR_RESPONSE\",e.METADATA_OUT_OF_RANGE=\"METADATA_OUT_OF_RANGE\",e.LOCAL_AEC_ERROR=\"LOCAL_AEC_ERROR\",e.INVALID_PLUGIN=\"INVALID_PLUGIN\",e.DISCONNECT_P2P=\"DISCONNECT_P2P\",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED=\"CONVERTING_IMAGEDATA_TO_BLOB_FAILED\",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED=\"CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED\",e.INIT_DATACHANNEL_TIMEOUT=\"INIT_DATACHANNEL_TIMEOUT\",e.CREATE_DATACHANNEL_ERROR=\"CREATE_DATACHANNEL_ERROR\",e.DATACHANNEL_CONNECTION_TIMEOUT=\"DATACHANNEL_CONNECTION_TIMEOUT\",e.PROHIBITED_OPERATION=\"PROHIBITED_OPERATION\",e.IMAGE_MODERATION_UPLOAD_FAILED=\"IMAGE_MODERATION_UPLOAD_FAILED\",e.P2P_MESSAGE_FAILED=\"P2P_MESSAGE_FAILED\",e}({}),pO=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",i=arguments.length>2?arguments[2]:void 0;super(t),dO(this,\"code\",void 0),dO(this,\"message\",void 0),dO(this,\"data\",void 0),dO(this,\"name\",\"AgoraRTCException\"),this.code=e,this.message=\"AgoraRTCError \".concat(this.code,\": \").concat(t),this.data=i}toString(){return this.data?\"\".concat(this.message,\"\\ndata: \").concat(JSON.stringify(this.data)):this.message}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"error\",t=arguments.length>1?arguments[1]:void 0;return\"error\"===e&&(t||console).error(this.toString()),\"warning\"===e&&(t||console).warn(this.toString()),this}throw(e){throw this.print(\"error\",e),this}};function _O(e,t){if(\"boolean\"!=typeof e)throw new pO(hO.INVALID_PARAMS,\"Invalid \".concat(t,\": The value is of the boolean type.\"))}function EO(e,t,i){if(!Ln(i).call(i,e))throw new pO(hO.INVALID_PARAMS,\"\".concat(t,\" can only be set as \").concat(JSON.stringify(i)))}function mO(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<i||e>n||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(e){return\"number\"==typeof e&&e%1==0}(e))throw new pO(hO.INVALID_PARAMS,\"invalid \".concat(t,\": the value range is [\").concat(i,\", \").concat(n,\"]. integer only\"))}function fO(e,t){if(\"number\"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact))throw new pO(hO.INVALID_PARAMS,\"\".concat(t,\" is not a valid ConstrainLong\"));void 0!==e.min&&mO(e.min,\"\".concat(t,\".min\"),0,1/0),void 0!==e.max&&mO(e.max,\"\".concat(t,\".max\"),1,1/0),void 0!==e.exact&&mO(e.exact,\"\".concat(t,\".exact\"),1,1/0),void 0!==e.ideal&&mO(e.ideal,\"\".concat(t,\".ideal\"),1,1/0)}else mO(e,t,1,1/0)}function SO(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new pO(hO.INVALID_PARAMS,\"\".concat(t||\"param\",\" cannot be empty\"));if(!RO(e,i,n,r))throw new pO(hO.INVALID_PARAMS,\"Invalid \".concat(t||\"string param\",\": Length of the string: [\").concat(i,\",\").concat(n,\"].\").concat(r?\" ASCII characters only.\":\"\"))}function gO(e,t){if(!Array.isArray(e))throw new pO(hO.INVALID_PARAMS,\"\".concat(t,\" should be an array\"))}function TO(e){return null==e}function RO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return\"string\"==typeof e&&e.length<=i&&e.length>=t&&(!n||function(e){if(\"string\"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const i=e.charCodeAt(t);if(i<0||i>255)return!1}return!0}(e))}function CO(e,t,i){if(\"getBigUint64\"in DataView.prototype)return e.getBigUint64(t,i);const n=e.getUint32(t,i),r=e.getUint32(t+4,i),o=Number(!!i),s=Number(!i);return BigInt(n*s+r*o)<<BigInt(32)|BigInt(n*o+r*s)}function vO(e,t,i,n){if(\"setBigUint64\"in DataView.prototype)return e.setBigUint64(t,i,n);const r=Number(i>>BigInt(32)),o=Number(i&BigInt(4294967295));n?(e.setUint32(t+4,r,n),e.setUint32(t,o,n)):(e.setUint32(t,r,n),e.setUint32(t+4,o,n))}var yO=function(e){return e.COVERED=\"COVERED\",e.POSITION=\"POSITION\",e.SIZE=\"SIZE\",e.STYLE=\"STYLE\",e}(yO||{}),IO=function(e){return e.UNMOUNTED=\"UNMOUNTED\",e.INVALID_HTML_ELEMENT=\"INVALID_HTML_ELEMENT\",e}(IO||{});const AO=new class{constructor(){dO(this,\"_clientSize\",null),dO(this,\"getClientWidth\",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),dO(this,\"getClientHeight\",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),dO(this,\"getStyle\",(e=>window.getComputedStyle(e,null))),dO(this,\"checkCssVisibleProperty\",(e=>{var t;let i=!0;const n=this.getStyle(e),{display:r,visibility:o,opacity:s,filter:a}=n;return(\"none\"===r||Ln(t=[\"hidden\",\"collapse\"]).call(t,o)||Number(s)<.1)&&(i=!1),!!i&&(a&&a.split(\" \").filter((e=>{var t;const i=e.split(\"(\")[0];return Ln(t=[\"brightness\",\"blur\",\"opacity\"]).call(t,i)})).map((e=>{const[t,i]=e.split(/\\(|\\)/);return[t,Number(i.match(/^[0-9\\.]+/))]})).forEach((e=>{const[t,n]=e;switch(t){case\"brightness\":(n<.1||n>3)&&(i=!1);break;case\"blur\":n>3&&(i=!1);break;case\"opacity\":n<.1&&(i=!1)}})),i)})),dO(this,\"checkPropertyUpToAllParentNodes\",((e,t)=>{let i=!0,n=!0;const r=e=>t(e);let o=e;for(;o&&n;)r(o)||(i=!1,n=!1),o=o.parentElement,o||(n=!1);return i})),dO(this,\"checkActualCssVisibleIncludeInherit\",(e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty))),dO(this,\"getSizeAboutClient\",(e=>{const{width:t,height:i,left:n,right:r,top:o,bottom:s}=e.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:i,left:n,right:r,top:o,bottom:s,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}})),dO(this,\"checkActualSize\",(()=>{const{width:e,height:t,clientMin:i}=this._clientSize;return this.checkSizeIsVisible(e,t,i)})),dO(this,\"elementFromPoint\",((e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null)),dO(this,\"checkCoverForAPoint\",((e,t,i)=>{const n=this.elementFromPoint(e,t);return null!==n&&n!==i})),dO(this,\"getPointPositionList\",(()=>{const{width:e,height:t,left:i,top:n}=this._clientSize,r=e/6,o=t/6,s=[],a=10**6;for(let e=0;e<5;e++)for(let t=0;t<5;t++){const c=(i*a+(0===e?.1:4===e?(r*e*a-1e5)/a:r*e)*a)/a,d=(n*a+(0===t?.1:4===t?(o*t*a-1e5)/a:o*t)*a)/a;s.push({x:c,y:d})}return[...s]})),dO(this,\"checkElementCover\",(e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6)),dO(this,\"checkSizeIsVisible\",((e,t,i)=>(e>50||i/e<=10)&&(t>50||i/t<=10))),dO(this,\"checkSizeOfPartInClient\",(()=>{const{left:e,right:t,top:i,bottom:n,clientHeight:r,clientWidth:o,clientMin:s}=this._clientSize;let a,c,d,l;if(e<0)a=0;else{if(!(e<o))return!1;a=e}if(t<0)return!1;if(c=t<o?t:o,i<0)d=0;else{if(!(i<r))return!1;d=i}if(n<0)return!1;l=n<r?n:r;const u=c-a,h=l-d;return this.checkSizeIsVisible(u,h,s)})),dO(this,\"returnHiddenResult\",(e=>(this._clientSize=null,{visible:!1,reason:e}))),dO(this,\"checkOneElementVisible\",(e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(yO.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(yO.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(yO.SIZE)}}return this.returnHiddenResult(yO.STYLE)}return this.returnHiddenResult(IO.UNMOUNTED)}return this.returnHiddenResult(IO.INVALID_HTML_ELEMENT)})),dO(this,\"checkElementIsMountedOnDom\",(e=>this.checkPropertyUpToAllParentNodes(e,(e=>\"HTML\"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))))}};function bO(e){return(new TextEncoder).encode(e)}const wO=function(e,t){const i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i};const OO=async e=>function(e,t){let i=\"\";return new Uint8Array(e).forEach((e=>{i+=e.toString(t).padStart(2,\"0\")})),i}(await crypto.subtle.digest(\"SHA-256\",bO(e)),16);let NO=class{constructor(){dO(this,\"_events\",{}),dO(this,\"addListener\",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const i=this._events[e];-1===this._indexOfListener(i,t)&&i.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const i=this._events[e];-1===this._indexOfListener(i,t)&&i.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const i=this._events[e],n=this._indexOfListener(i,t);-1!==n&&i.splice(n,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(let i=0;i<t.length;i+=1){const r=t[i];r.once&&this.off(e,r.listener),r.listener.apply(this,n||[])}}safeEmit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];[...this._events[e]||[]].forEach((t=>{t.once&&this.off(e,t.listener);try{t.listener.apply(this,i)}catch(t){console.error(\"safeEmit event:\".concat(e,\" error \").concat(null==t?void 0:t.toString()))}}))}_indexOfListener(e,t){let i=e.length;for(;i--;)if(e[i].listener===t)return i;return-1}};let DO=null;function PO(){if(DO)return DO;if(window.electron)return DO=window.electron;if(!window.require)return null;try{return DO=window.require(\"electron\"),DO}catch(e){return null}}let LO=function(e){return e.CREATE_CLIENT=\"createClient\",e.CHECK_SYSTEM_REQUIREMENTS=\"checkSystemRequirements\",e.SET_AREA=\"setArea\",e.PRELOAD=\"PRELOAD\",e.CHECK_VIDEO_TRACK_IS_ACTIVE=\"checkVideoTrackIsActive\",e.CHECK_AUDIO_TRACK_IS_ACTIVE=\"checkAudioTrackIsActive\",e.CREATE_MIC_AUDIO_TRACK=\"createMicrophoneAudioTrack\",e.CREATE_CUSTOM_AUDIO_TRACK=\"createCustomAudioTrack\",e.CREATE_BUFFER_AUDIO_TRACK=\"createBufferSourceAudioTrack\",e.CREATE_CAM_VIDEO_TRACK=\"createCameraVideoTrack\",e.CREATE_CUSTOM_VIDEO_TRACK=\"createCustomVideoTrack\",e.CREATE_MIC_AND_CAM_TRACKS=\"createMicrophoneAndCameraTracks\",e.CREATE_SCREEN_VIDEO_TRACK=\"createScreenVideoTrack\",e.SET_ENCRYPTION_CONFIG=\"Client.setEncryptionConfig\",e.START_PROXY_SERVER=\"Client.startProxyServer\",e.STOP_PROXY_SERVER=\"Client.stopProxyServer\",e.SET_PROXY_SERVER=\"Client.setProxyServer\",e.SET_TURN_SERVER=\"Client.setTurnServer\",e.SET_CLIENT_ROLE=\"Client.setClientRole\",e.SET_LOW_STREAM_PARAMETER=\"Client.setLowStreamParameter\",e.ENABLE_DUAL_STREAM=\"Client.enableDualStream\",e.DISABLE_DUAL_STREAM=\"Client.disableDualStream\",e.JOIN=\"Client.join\",e.LEAVE=\"Client.leave\",e.PUBLISH=\"Client.publish\",e.UNPUBLISH=\"Client.unpublish\",e.SUBSCRIBE=\"Client.subscribe\",e.MASS_SUBSCRIBE=\"Client.massSubscribe\",e.MASS_UNSUBSCRIBE=\"Client.massUnsubscribe\",e.UNSUBSCRIBE=\"Client.unsubscribe\",e.RENEW_TOKEN=\"Client.renewToken\",e.SET_REMOTE_VIDEO_STREAM_TYPE=\"Client.setRemoteVideoStreamType\",e.SET_STREAM_FALLBACK_OPTION=\"Client.setStreamFallbackOption\",e.ENABLE_AUDIO_VOLUME_INDICATOR=\"Client.enableAudioVolumeIndicator\",e.SEND_CUSTOM_REPORT_MESSAGE=\"Client.sendCustomReportMessage\",e.INSPECT_VIDEO_CONTENT=\"Client.inspectVideoContent\",e.STOP_INSPECT_VIDEO_CONTENT=\"Client.stopInspectVideoContent\",e.JOIN_FALLBACK_TO_PROXY=\"Client._joinFallbackToProxy\",e.ON_LIVE_STREAM_WARNING=\"Client.onLiveStreamWarning\",e.ON_LIVE_STREAM_ERROR=\"Client.onLiveStreamingError\",e.START_LIVE_STREAMING=\"Client.startLiveStreaming\",e.SET_LIVE_TRANSCODING=\"Client.setLiveTranscoding\",e.STOP_LIVE_STREAMING=\"Client.stopLiveStreaming\",e.START_CHANNEL_MEDIA_RELAY=\"Client.startChannelMediaRelay\",e.UPDATE_CHANNEL_MEDIA_RELAY=\"Client.updateChannelMediaRelay\",e.STOP_CHANNEL_MEDIA_RELAY=\"Client.stopChannelMediaRelay\",e.REQUEST_CONFIG_DISTRIBUTE=\"_config-distribute-request\",e.SET_CONFIG_DISTRIBUTE=\"_configDistribute\",e.LOCAL_TRACK_SET_MUTED=\"LocalTrack.setMute\",e.LOCAL_AUDIO_TRACK_PLAY=\"LocalAudioTrack.play\",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT=\"LocalAudioTrack.playInElement\",e.LOCAL_AUDIO_TRACK_STOP=\"LocalAudioTrack.stop\",e.LOCAL_AUDIO_TRACK_SET_VOLUME=\"LocalAudioTrack.setVolume\",e.MIC_AUDIO_TRACK_SET_DEVICE=\"MicrophoneAudioTrack.setDevice\",e.BUFFER_AUDIO_TRACK_START=\"BufferSourceAudioTrack.startProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_STOP=\"BufferSourceAudioTrack.stopProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_PAUSE=\"BufferSourceAudioTrack.pauseProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_RESUME=\"BufferSourceAudioTrack.resumeProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_SEEK=\"BufferSourceAudioTrack.seekAudioBuffer\",e.LOCAL_VIDEO_TRACK_PLAY=\"LocalVideoTrack.play\",e.LOCAL_VIDEO_TRACK_STOP=\"LocalVideoTrack.stop\",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"LocalVideoTrack.getVideoElementVisibleStatus\",e.LOCAL_VIDEO_TRACK_BEAUTY=\"LocalVideoTrack.setBeautyEffect\",e.LOCAL_VIDEO_SEND_SEI_DATA=\"LocalVideoTrack.sendSeiData\",e.CAM_VIDEO_TRACK_SET_DEVICE=\"CameraVideoTrack.setDevice\",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG=\"CameraVideoTrack.setEncoderConfiguration\",e.REMOTE_VIDEO_TRACK_PLAY=\"RemoteVideoTrack.play\",e.REMOTE_VIDEO_TRACK_STOP=\"RemoteVideoTrack.stop\",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"RemoteVideoTrack.getVideoElementVisibleStatus\",e.REMOTE_AUDIO_TRACK_PLAY=\"RemoteAudioTrack.play\",e.REMOTE_AUDIO_TRACK_STOP=\"RemoteAudioTrack.stop\",e.REMOTE_AUDIO_SET_VOLUME=\"RemoteAudioTrack.setVolume\",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE=\"RemoteAudioTrack.setOutputDevice\",e.GET_MEDIA_STREAM_TRACK=\"Track.getMediaStreamTrack\",e.STREAM_TYPE_CHANGE=\"streamTypeChange\",e.CONNECTION_STATE_CHANGE=\"connectionStateChange\",e.LOAD_CONFIG_FROM_LOCALSTORAGE=\"loadConfigFromLocalStorage\",e.IMAGE_MODERATION_UPLOAD=\"imageModerationUpload\",e.REPUB_AFTER_PC_CONNECTED=\"repubAfterPCConnected\",e.PRELOAD_MEDIA_FAILED=\"preloadMediaFailed\",e.MISMATCH_DTLS_PARAMETERS=\"mismatchDtlsParameters\",e.VOS_FALLBACK_CN=\"vosFallbackCN\",e.DATACHANNEL_FAILBACK=\"datachannelFailback\",e}({}),kO=function(e){return e.TRACER=\"tracer\",e}({});function MO(e){return mO(e.timeout,\"config.timeout\",0,1e5),mO(e.timeoutFactor,\"config.timeoutFactor\",0,100,!1),mO(e.maxRetryCount,\"config.maxRetryConfig\",0,1/0),mO(e.maxRetryTimeout,\"config.maxRetryTimeout\",0,1/0),!0}let UO=function(e){return e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]=\"AUDIENCE_LEVEL_LOW_LATENCY\",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]=\"AUDIENCE_LEVEL_ULTRA_LOW_LATENCY\",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]=\"AUDIENCE_LEVEL_SYNC_LATENCY\",e}({}),VO=function(e){return e.LEAVE=\"LEAVE\",e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.UID_BANNED=\"UID_BANNED\",e.FALLBACK=\"FALLBACK\",e.IP_BANNED=\"IP_BANNED\",e.CHANNEL_BANNED=\"CHANNEL_BANNED\",e.LICENSE_MISSING=\"LICENSE_MISSING\",e.LICENSE_EXPIRED=\"LICENSE_EXPIRED\",e.LICENSE_MINUTES_EXCEEDED=\"LICENSE_MINUTES_EXCEEDED\",e.LICENSE_PERIOD_INVALID=\"LICENSE_PERIOD_INVALID\",e.LICENSE_MULTIPLE_SDK_SERVICE=\"LICENSE_MULTIPLE_SDK_SERVICE\",e.LICENSE_ILLEGAL=\"LICENSE_ILLEGAL\",e.TOKEN_EXPIRE=\"TOKEN_EXPIRE\",e.FALLBACK_TO_HLS=\"FALLBACK_TO_HLS\",e.UID_CONFLICT=\"UID_CONFLICT\",e}({});function xO(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function FO(e){return SO(e.turnServerURL,\"turnServerURL\"),SO(e.username,\"username\"),SO(e.password,\"password\"),e.udpport&&mO(e.udpport,\"udpport\",1,99999,!0),e.forceturn&&_O(e.forceturn,\"forceturn\"),e.security&&_O(e.security,\"security\"),e.tcpport&&mO(e.tcpport,\"tcpport\",1,99999,!0),!0}let BO=function(e){return e[e.AUTO_SIMULCAST_STREAM=-1]=\"AUTO_SIMULCAST_STREAM\",e[e.DISABLE_SIMULCAST_STREM=0]=\"DISABLE_SIMULCAST_STREM\",e[e.ENABLE_SIMULCAST_STREAM=1]=\"ENABLE_SIMULCAST_STREAM\",e}({});function jO(e){return void 0!==e.level&&EO(e.level,\"level\",[1,2,3]),void 0!==e.delay&&mO(e.delay,\"delay\",0,3e3,!0),!0}let GO=function(e){return e.PEERCONNECTION_STATE_CHANGE=\"peerconnection-state-change\",e.AUDIO_METADATA=\"audio-metadata\",e.AUDIO_PTS=\"audio-pts\",e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.MEDIA_RECONNECT_START=\"media-reconnect-start\",e.MEDIA_RECONNECT_END=\"media-reconnect-end\",e.IS_USING_CLOUD_PROXY=\"is-using-cloud-proxy\",e.USER_JOINED=\"user-joined\",e.USER_LEAVED=\"user-left\",e.USER_PUBLISHED=\"user-published\",e.USER_UNPUBLISHED=\"user-unpublished\",e.USER_INFO_UPDATED=\"user-info-updated\",e.CLIENT_BANNED=\"client-banned\",e.CHANNEL_MEDIA_RELAY_STATE=\"channel-media-relay-state\",e.CHANNEL_MEDIA_RELAY_EVENT=\"channel-media-relay-event\",e.VOLUME_INDICATOR=\"volume-indicator\",e.CRYPT_ERROR=\"crypt-error\",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"token-privilege-will-expire\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"token-privilege-did-expire\",e.NETWORK_QUALITY=\"network-quality\",e.STREAM_TYPE_CHANGED=\"stream-type-changed\",e.STREAM_FALLBACK=\"stream-fallback\",e.RECEIVE_METADATA=\"receive-metadata\",e.STREAM_MESSAGE=\"stream-message\",e.LIVE_STREAMING_ERROR=\"live-streaming-error\",e.LIVE_STREAMING_WARNING=\"live-streaming-warning\",e.EXCEPTION=\"exception\",e.ERROR=\"error\",e.P2P_LOST=\"p2p_lost\",e.JOIN_FALLBACK_TO_PROXY=\"join-fallback-to-proxy\",e.CHANNEL_FALLBACK_TO_WEBSOCKET=\"channel-fallback-to-websocket\",e.MEDIA_CONNECTION_TYPE_CHANGE=\"media-connection-type-change\",e.PUBLISHED_USER_LIST=\"published-user-list\",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE=\"content-inspect-connection-state-change\",e.CONTENT_INSPECT_ERROR=\"content-inspect-error\",e.CONTENT_INSPECT_RESULT=\"content-inspect-result\",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE=\"image-moderation-connection-state-change\",e.FALLBACK_TO_HLS=\"fallback-to-hls\",e.FIRST_VIDEO_BUFFER_READY=\"first-video-buffer-ready\",e.FIRST_VIDEO_PRE_RENDER=\"first-video-pre-render\",e.AV1_DECODABLE_RESULT=\"av1-decodable-result\",e}({}),WO=function(e){return e.CONFIG=\"config\",e.VOSERROR=\"vos_error\",e.AP_ERROR=\"ap_error\",e}({}),HO=function(e){return e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.MULTI_IP=\"MULTI_IP\",e.TIMEOUT=\"TIMEOUT\",e.OFFLINE=\"OFFLINE\",e.LEAVE=\"LEAVE\",e.P2P_FAILED=\"P2P_FAILED\",e.FALLBACK=\"FALLBACK\",e.REGIONAL_DISTRIBUTION=\"REGIONAL_DISTRIBUTION\",e}({}),KO=function(e){return e.ONLINE=\"ONLINE\",e.OFFLINE=\"OFFLINE\",e}({}),YO=function(e){return e.NETWORK_STATE_CHANGE=\"NETWORK_STATE_CHANGE\",e.ONLINE=\"ONLINE\",e.OFFLINE=\"OFFLINE\",e}({});function zO(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return 0===e.getListeners(t).length?rp.reject(new pO(hO.UNEXPECTED_ERROR,\"can not emit promise\")):new rp(((i,r)=>{e.emit(t,...n,i,r)}))}function qO(e,t){if(0===e.getListeners(t).length)return rp.resolve();for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return zO(e,t,...n)}function XO(e,t){if(0===e.getListeners(t).length)return null;for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return JO(e,t,...n)}function JO(e,t){let i=null,n=null;for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];if(e.emit(t,...o,(e=>{i=e}),(e=>{n=e})),null!==n)throw n;if(null===i)throw new pO(hO.UNEXPECTED_ERROR,\"handler is not sync\");return i}const QO=new class extends NO{set networkState(e){this.emit(YO.NETWORK_STATE_CHANGE,e,this._networkState),e===KO.ONLINE?this.emit(YO.ONLINE):e===KO.OFFLINE&&(this.onlineWaiter=new rp((e=>{this.once(YO.ONLINE,(()=>{this.onlineWaiter=void 0,e(KO.ONLINE)}))})),this.emit(YO.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}get isOnline(){return this._networkState===KO.ONLINE}constructor(){super(),dO(this,\"_moduleName\",\"network-indicator\"),dO(this,\"_networkState\",KO.ONLINE),dO(this,\"onlineWaiter\",void 0),window.addEventListener(\"online\",(()=>{this.networkState=KO.ONLINE})),window.addEventListener(\"offline\",(()=>{this.networkState=KO.OFFLINE}))}},ZO=[];for(let e=0;e<256;++e)ZO.push((e+256).toString(16).slice(1));const $O=\"undefined\"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);let eN;const tN=new Uint8Array(16);function iN(){return $O?$O():function(e,t,i){var n,r,o,s;const a=null!==(n=null!==(r=(e=e||{}).random)&&void 0!==r?r:null===(o=(s=e).rng)||void 0===o?void 0:o.call(s))&&void 0!==n?n:function(){if(!eN){if(\"undefined\"==typeof crypto||!crypto.getRandomValues)throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");eN=crypto.getRandomValues.bind(crypto)}return eN(tN)}();if(a.length<16)throw new Error(\"Random bytes length must be >= 16\");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((i=i||0)<0||i+16>t.length)throw new RangeError(\"UUID byte range \".concat(i,\":\").concat(i+15,\" is out of buffer bounds\"));for(let e=0;e<16;++e)t[i+e]=a[e];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ZO[e[t+0]]+ZO[e[t+1]]+ZO[e[t+2]]+ZO[e[t+3]]+\"-\"+ZO[e[t+4]]+ZO[e[t+5]]+\"-\"+ZO[e[t+6]]+ZO[e[t+7]]+\"-\"+ZO[e[t+8]]+ZO[e[t+9]]+\"-\"+ZO[e[t+10]]+ZO[e[t+11]]+ZO[e[t+12]]+ZO[e[t+13]]+ZO[e[t+14]]+ZO[e[t+15]]).toLowerCase()}(a)}(e,t,undefined);var e,t}function nN(e,t){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}function rN(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function oN(e){void 0!==rp?rp.resolve().then(e):setTimeout(e,0)}function sN(e){return JSON.parse(JSON.stringify(e))}function aN(e){try{return sN(e)}catch(t){return e}}const cN={};function dN(e,t){cN[t]||(cN[t]=!0,e())}function lN(e){const t=window.atob(e),i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)i[e]=t.charCodeAt(e);return i}function uN(e){let t=\"\";for(let i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return window.btoa(t)}function hN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=(new TextEncoder).encode(e);if(i.length>t)i=i.slice(0,t);else if(i.length<t){const e=new Uint8Array(t);e.set(i),i=e}return i}function pN(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=nr(t).call(t,((e,t)=>e+t.length),0),r=new Uint8Array(new ArrayBuffer(n));let o=0;return t.forEach((e=>{r.set(e,o),o+=e.length})),r}function _N(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function EN(e){let t=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+=\"string\"==typeof e?_N(e):e.size})),t+138}function mN(e){const t=new pO(hO.TIMEOUT,\"timeout\");return new rp(((i,n)=>{window.setTimeout((()=>n(t)),e)}))}function fN(e){return new rp((t=>{window.setTimeout(t,e)}))}function SN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const i=Math.random().toString(16).substr(2,e).toLowerCase();return i.length===e?\"\".concat(t).concat(i):\"\".concat(t).concat(i)+SN(e-i.length,\"\")}function gN(){let e,t=!1;try{var i;e=MT(i=iN()).call(i,\"-\",\"\")}catch(e){t=!0}return!t&&e&&32===e.length||(e=SN(32,\"\")),e.toUpperCase()}const TN=()=>{},RN=new class{constructor(){dO(this,\"fnMap\",new Map)}throttleByKey(e,t,i,n){for(var r=arguments.length,o=new Array(r>4?r-4:0),s=4;s<r;s++)o[s-4]=arguments[s];if(this.fnMap.has(t)){const r=this.fnMap.get(t);if(r.threshold!==i){r.fn(...r.args),clearTimeout(r.timer);const s=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),i);this.fnMap.set(t,{fn:e,threshold:i,timer:s,args:o,skipFn:n})}else r.skipFn&&r.skipFn(...r.args),this.fnMap.set(t,uO(uO({},r),{},{fn:e,args:o,skipFn:n}))}else{const r=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),i);this.fnMap.set(t,{fn:e,threshold:i,timer:r,args:o,skipFn:n})}}},CN=RN.throttleByKey.bind(RN);function vN(e){return\"object\"==typeof e&&null!==e&&!(e instanceof RegExp)}function yN(e,t){if(!vN(e)||!vN(t))return t;if(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return t;if(Array.isArray(t)&&Array.isArray(e)){const i=[...e];for(let n=0;n<t.length;n++)i[n]=yN(e[n],t[n]);return i}{const i=uO({},e);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)?i[n]=yN(e[n],t[n]):i[n]=t[n]);return i}}function IN(e,t){let i=[0];if(t&&(i=new Array(t).fill(0)),0===e)return i;let n=0;for(;e>0&&(i[n]=255&e,e>>=8,n++,!t||n!==t););return i}function AN(e){return\"number\"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function bN(e,t){try{return\"object\"==typeof e&&\"object\"==typeof t&&JSON.stringify(e)===JSON.stringify(t)}catch(e){return!1}}function wN(e){return nr(e).call(e,((e,t)=>e+t),0)}function ON(e){const t=\"0123456789abcdef\";function i(e){let i,n=\"\";for(i=0;i<=3;i++)n+=t.charAt(e>>8*i+4&15)+t.charAt(e>>8*i&15);return n}function n(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function r(e,t,i,r,o,s){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(r,s)),o),i)}function o(e,t,i,n,o,s,a){return r(t&i|~t&n,e,t,o,s,a)}function s(e,t,i,n,o,s,a){return r(t&n|i&~n,e,t,o,s,a)}function a(e,t,i,n,o,s,a){return r(t^i^n,e,t,o,s,a)}function c(e,t,i,n,o,s,a){return r(i^(t|~n),e,t,o,s,a)}const d=function(e){let t;const i=1+(e.length+8>>6),n=new Array(16*i);for(t=0;t<16*i;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<t%4*8;return n[t>>2]|=128<<t%4*8,n[16*i-2]=8*e.length,n}(e);let l,u,h,p,_,E=1732584193,m=-271733879,f=-1732584194,S=271733878;for(l=0;l<d.length;l+=16)u=E,h=m,p=f,_=S,E=o(E,m,f,S,d[l+0],7,-680876936),S=o(S,E,m,f,d[l+1],12,-389564586),f=o(f,S,E,m,d[l+2],17,606105819),m=o(m,f,S,E,d[l+3],22,-1044525330),E=o(E,m,f,S,d[l+4],7,-176418897),S=o(S,E,m,f,d[l+5],12,1200080426),f=o(f,S,E,m,d[l+6],17,-1473231341),m=o(m,f,S,E,d[l+7],22,-45705983),E=o(E,m,f,S,d[l+8],7,1770035416),S=o(S,E,m,f,d[l+9],12,-1958414417),f=o(f,S,E,m,d[l+10],17,-42063),m=o(m,f,S,E,d[l+11],22,-1990404162),E=o(E,m,f,S,d[l+12],7,1804603682),S=o(S,E,m,f,d[l+13],12,-40341101),f=o(f,S,E,m,d[l+14],17,-1502002290),m=o(m,f,S,E,d[l+15],22,1236535329),E=s(E,m,f,S,d[l+1],5,-165796510),S=s(S,E,m,f,d[l+6],9,-1069501632),f=s(f,S,E,m,d[l+11],14,643717713),m=s(m,f,S,E,d[l+0],20,-373897302),E=s(E,m,f,S,d[l+5],5,-701558691),S=s(S,E,m,f,d[l+10],9,38016083),f=s(f,S,E,m,d[l+15],14,-660478335),m=s(m,f,S,E,d[l+4],20,-405537848),E=s(E,m,f,S,d[l+9],5,568446438),S=s(S,E,m,f,d[l+14],9,-1019803690),f=s(f,S,E,m,d[l+3],14,-187363961),m=s(m,f,S,E,d[l+8],20,1163531501),E=s(E,m,f,S,d[l+13],5,-1444681467),S=s(S,E,m,f,d[l+2],9,-51403784),f=s(f,S,E,m,d[l+7],14,1735328473),m=s(m,f,S,E,d[l+12],20,-1926607734),E=a(E,m,f,S,d[l+5],4,-378558),S=a(S,E,m,f,d[l+8],11,-2022574463),f=a(f,S,E,m,d[l+11],16,1839030562),m=a(m,f,S,E,d[l+14],23,-35309556),E=a(E,m,f,S,d[l+1],4,-1530992060),S=a(S,E,m,f,d[l+4],11,1272893353),f=a(f,S,E,m,d[l+7],16,-155497632),m=a(m,f,S,E,d[l+10],23,-1094730640),E=a(E,m,f,S,d[l+13],4,681279174),S=a(S,E,m,f,d[l+0],11,-358537222),f=a(f,S,E,m,d[l+3],16,-722521979),m=a(m,f,S,E,d[l+6],23,76029189),E=a(E,m,f,S,d[l+9],4,-640364487),S=a(S,E,m,f,d[l+12],11,-421815835),f=a(f,S,E,m,d[l+15],16,530742520),m=a(m,f,S,E,d[l+2],23,-995338651),E=c(E,m,f,S,d[l+0],6,-198630844),S=c(S,E,m,f,d[l+7],10,1126891415),f=c(f,S,E,m,d[l+14],15,-1416354905),m=c(m,f,S,E,d[l+5],21,-57434055),E=c(E,m,f,S,d[l+12],6,1700485571),S=c(S,E,m,f,d[l+3],10,-1894986606),f=c(f,S,E,m,d[l+10],15,-1051523),m=c(m,f,S,E,d[l+1],21,-2054922799),E=c(E,m,f,S,d[l+8],6,1873313359),S=c(S,E,m,f,d[l+15],10,-30611744),f=c(f,S,E,m,d[l+6],15,-1560198380),m=c(m,f,S,E,d[l+13],21,1309151649),E=c(E,m,f,S,d[l+4],6,-145523070),S=c(S,E,m,f,d[l+11],10,-1120210379),f=c(f,S,E,m,d[l+2],15,718787259),m=c(m,f,S,E,d[l+9],21,-343485551),E=n(E,u),m=n(m,h),f=n(f,p),S=n(S,_);return i(E)+i(m)+i(f)+i(S)}let NN=1,DN=console,PN=class{static setLogger(e){DN=e}constructor(e,t){dO(this,\"id\",void 0),dO(this,\"lockingPromise\",rp.resolve()),dO(this,\"locks\",0),dO(this,\"name\",\"\"),dO(this,\"lockId\",void 0),this.lockId=NN++,e&&(this.name=e),t&&(this.id=t),this.logger(\"created\")}logger(e,t){const i=(this.id?\"[\".concat(this.id,\"]\"):\"\")+\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"]\"),n=\"created\"===e?\"is \".concat(e,\".\"):\"is \".concat(e,\", current queue \").concat(this.locks,\". \").concat(null!=t?t:\"\");DN.debug(\"\".concat(i,\" \").concat(n))}setId(e){this.id=e}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,this.logger(\"locked\",e);const i=new rp((i=>{t=()=>{this.locks-=1,this.logger(\"unlocked\",e),i()}})),n=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>i)),n}};function LN(e,t){return function(i,n,r){const o=r.value;if(\"function\"!=typeof o)throw new Error(\"Cannot use mutex on object property.\");return r.value=async function(){const i=this[t];if(!i)throw new Error(\"mutex property key \".concat(t,\" doesn't exist on \").concat(e));const r=await i.lock(\"From \".concat(e,\".\").concat(n));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await o.apply(this,a)}finally{r()}},r}}const kN={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function MN(e,t){const i=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,i)}function UN(e,t,i,n){const r=Object.assign({},kN,n);let o=r.timeout;const s=async()=>{await function(e){return new rp((t=>{window.setTimeout(t,e)}))}(o),o*=r.timeoutFactor,o=Math.min(r.maxRetryTimeout,o)};let a=!1;const c=new rp((async(n,o)=>{t=t||(()=>!1),i=i||(()=>!0);for(let c=0;c<r.maxRetryCount;c+=1){if(a)return o(new pO(hO.OPERATION_ABORTED));try{const i=await e();if(!t(i,c))return n(i);if(c+1===r.maxRetryCount)return n(i);await s()}catch(e){if(!i(e,c))return o(e);if(c+1===r.maxRetryCount)return o(e);await s()}}}));return c.cancel=()=>a=!0,c}let VN,xN=class{constructor(e){dO(this,\"input\",[]),dO(this,\"size\",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:nr(e=this.input).call(e,((e,t)=>e+t))/this.input.length}},FN=0,BN=0;function jN(e,t,i,n){return new rp(((r,o)=>{t.responseType=t.responseType||\"json\",t.data&&!i?(t.data=JSON.stringify(t.data),FN+=_N(t.data)):i&&(t.data.size?FN+=t.data.size:t.data instanceof FormData?FN+=EN(t.data):FN+=_N(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers[\"Content-Type\"]=t.headers[\"Content-Type\"]||\"application/json\",t.method=\"POST\",t.url=e,Tw.request(t).then((e=>{\"string\"==typeof e.data?BN+=_N(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?BN+=e.data.byteLength:BN+=_N(JSON.stringify(e.data)),n&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((e=>{Tw.isCancel(e)?o(new pO(hO.OPERATION_ABORTED,\"cancel token canceled\")):\"ECONNABORTED\"===e.code?o(new pO(hO.NETWORK_TIMEOUT,e.message)):e.response?o(new pO(hO.NETWORK_RESPONSE_ERROR,e.response.status)):o(new pO(hO.NETWORK_ERROR,e.message))}))}))}async function GN(e,t){const i=new Blob([t.data],{type:\"buffer\"});return await jN(e,uO(uO({},t),{},{data:i,headers:{\"Content-Type\":\"application/octet-stream\"}}),!0)}const WN=()=>void 0!==window.isSecureContext;function HN(e){if(Array.isArray(e))return e.map((e=>e));if(!KN(e))return e;const t={};for(const i in e){const n=e[i];KN(n)||Array.isArray(n)?t[i]=HN(n):t[i]=n}return t}function KN(e){return!(\"object\"!=typeof e||Array.isArray(e)||!e)}let YN=class{constructor(e){dO(this,\"input\",[]),dO(this,\"size\",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}};const zN={address:\"unknown\",candidateType:\"unknown\",id:\"unknown\",port:0,priority:0,protocol:\"unknown\",type:\"unknown\"},qN={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],transport:{bytesSent:0,bytesReceived:0,packetsSent:0,packetsReceived:0},selectedCandidatePair:{id:\"unknown\",localCandidate:zN,remoteCandidate:zN},updateInterval:0},XN={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0,packetsDiscarded:0,framesAssembledFromMultiplePackets:0,totalProcessingDelay:0,avgDecodeMs:0,avgFramesAssembledFromMultiplePacketsMs:0,avgProcessingDelayMs:0,avgInterFrameDelayMs:0,totalAssemblyTime:0},JN={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},QN={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},ZN={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0,totalSamplesReceived:0,silentConcealedSamples:0,concealmentEvents:0,freezeMs80:0,freezeMs200:0,freezeSamples80:0,freezeSamples200:0};let $N=class{constructor(e,t){dO(this,\"onFirstVideoReceived\",void 0),dO(this,\"onFirstVideoDecoded\",void 0),dO(this,\"onFirstAudioReceived\",void 0),dO(this,\"onFirstVideoDecodedTimeout\",void 0),dO(this,\"onFirstAudioDecoded\",void 0),dO(this,\"onSelectedLocalCandidateChanged\",void 0),dO(this,\"onSelectedRemoteCandidateChanged\",void 0),dO(this,\"videoIsReady\",!1),dO(this,\"videoIsReady2\",{}),dO(this,\"pc\",void 0),dO(this,\"options\",void 0),dO(this,\"intervalTimer\",void 0),dO(this,\"stats\",HN(qN)),dO(this,\"isFirstVideoReceived\",{}),dO(this,\"isFirstVideoDecoded\",{}),dO(this,\"isFirstAudioReceived\",{}),dO(this,\"isFirstAudioDecoded\",{}),dO(this,\"isFirstVideoDecodedTimeout\",{}),dO(this,\"lossRateWindowStats\",[]),this.pc=e,this.options=t,this.intervalTimer=window.setInterval((async()=>{this.updateStats()}),this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new rp((e=>{e({local:uO({},zN),remote:uO({},zN)})}))}setVideoIsReady(e){this.videoIsReady=e}setVideoIsReady2(e,t){this.videoIsReady2[e]=t}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const t=this.lossRateWindowStats.length,i=[\"videoSend\",\"audioSend\",\"videoRecv\",\"audioRecv\"];let n=0,r=0,o=0,s=0;for(const a of i)e[a].forEach(((e,i)=>{if(!this.lossRateWindowStats[t-1][a][i]||!this.lossRateWindowStats[0][a][i])return;const c=this.lossRateWindowStats[t-1][a][i].packets-this.lossRateWindowStats[0][a][i].packets,d=this.lossRateWindowStats[t-1][a][i].packetsLost-this.lossRateWindowStats[0][a][i].packetsLost;\"videoSend\"===a||\"audioSend\"===a?(n+=c,o+=d):(r+=c,s+=d),Number.isNaN(c)||Number.isNaN(c)?e.packetLostRate=0:e.packetLostRate=c<=0||d<=0?0:d/(c+d)}));e.sendPacketLossRate=n<=0||o<=0?0:o/(n+o),e.recvPacketLossRate=r<=0||s<=0?0:s/(r+s)}},eD=class extends $N{constructor(){super(...arguments),dO(this,\"_stats\",qN),dO(this,\"lastDecodeVideoReceiverStats\",new Map)}async updateStats(){const e=await this._getStats(),t=this.statsResponsesToObjects(e);this._stats=HN(qN);const i=t.filter((e=>\"ssrc\"===e.type));this.processSSRCStats(i);const n=t.find((e=>\"VideoBwe\"===e.type));n&&this.processBandwidthStats(n),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)}processSSRCStats(e){e.forEach((e=>{var t;const i=Ln(t=e.id).call(t,\"send\");switch(\"\".concat(e.mediaType,\"_\").concat(i?\"send\":\"recv\")){case\"video_send\":{const t=HN(JN);t.codec=e.googCodecName,t.adaptionChangeReason=\"none\",e.googCpuLimitedResolution&&(t.adaptionChangeReason=\"cpu\"),e.googBandwidthLimitedResolution&&(t.adaptionChangeReason=\"bandwidth\"),t.avgEncodeMs=Number(e.googAvgEncodeMs),t.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.firsCount=Number(e.googFirReceived),t.nacksCount=Number(e.googNacksReceived),t.plisCount=Number(e.googPlisReceived),t.frameCount=Number(e.framesEncoded),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.videoSend.push(t),this._stats.rtt=t.rttMs;break}case\"video_recv\":{const t=HN(XN),i=this.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(t.codec=e.googCodecName,t.targetDelayMs=Number(e.googTargetDelayMs),t.renderDelayMs=Number(e.googRenderDelayMs),t.currentDelayMs=Number(e.googCurrentDelayMs),t.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),t.decodeMs=Number(e.googDecodeMs),t.maxDecodeMs=Number(e.googMaxDecodeMs),t.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},t.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},t.decodeFrameRate=Number(e.googFrameRateDecoded),t.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},t.jitterBufferMs=Number(e.googJitterBufferMs),t.firsCount=Number(e.googFirsSent),t.nacksCount=Number(e.googNacksSent),t.plisCount=Number(e.googPlisSent),t.framesDecodeCount=Number(e.framesDecoded),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,t.decodedFrame.width,t.decodedFrame.height),this.isFirstVideoDecoded[t.ssrc]=!0),i){const n=i.stats,r=Date.now()-i.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(i.lts=Date.now(),t.framesDecodeInterval=r,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc,10))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<i.stats.framesDecodeCount&&(t.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:uO({},t),lts:Date.now()}),this._stats.videoRecv.push(t);break}case\"audio_recv\":{const t=HN(ZN);t.codec=e.googCodecName,t.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,t.decodingCNG=Number(e.googDecodingCNG),t.decodingCTN=Number(e.googDecodingCTN),t.decodingCTSG=Number(e.googDecodingCTSG),t.decodingNormal=Number(e.googDecodingNormal),t.decodingPLC=Number(e.googDecodingPLC),t.decodingPLCCNG=Number(e.googDecodingPLCCNG),t.expandRate=Number(e.googExpandRate),t.accelerateRate=Number(e.googAccelerateRate),t.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),t.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),t.speechExpandRate=Number(e.googSpeechExpandRate),t.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),t.jitterBufferMs=Number(e.googJitterBufferMs),t.jitterMs=Number(e.googJitterReceived),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),t.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.decodingNormal>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),this._stats.audioRecv.push(t);break}case\"audio_send\":{const t=HN(QN);t.codec=e.googCodecName,t.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,t.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),t.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),t.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),t.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.rtt=t.rttMs,this._stats.audioSend.push(t);break}}}))}_getStats(){return new rp(((e,t)=>{this.pc.getStats(e,t)}))}statsResponsesToObjects(e){const t=[];return e.result().forEach((e=>{const i={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((t=>{i[t]=e.stat(t)})),t.push(i)})),t}},tD=function(e){return e.BANDWIDTH=\"bandwidth\",e.CPU=\"cpu\",e.NONE=\"none\",e.OTHER=\"other\",e}({}),iD=function(e){return e.L1T1=\"L1T1\",e.L1T2=\"L1T2\",e.L1T3=\"L1T3\",e.L1T3_KEY=\"L1T3_KEY\",e.L2T1_KEY=\"L2T1_KEY\",e.L2T2_KEY=\"L2T2_KEY\",e.L2T3_KEY=\"L2T3_KEY\",e.L3T1_KEY=\"L3T1_KEY\",e.L3T2_KEY=\"L3T2_KEY\",e.L3T3_KEY=\"L3T3_KEY\",e}({}),nD=function(e){return e[e.new=0]=\"new\",e[e.connecting=1]=\"connecting\",e[e.connected=2]=\"connected\",e[e.disconnected=3]=\"disconnected\",e[e.failed=4]=\"failed\",e[e.closed=5]=\"closed\",e}({}),rD=function(e){return e.CERTIFICATE=\"certificate\",e.CODEC=\"codec\",e.CANDIDATE_PAIR=\"candidate-pair\",e.LOCAL_CANDIDATE=\"local-candidate\",e.REMOTE_CANDIDATE=\"remote-candidate\",e.INBOUND=\"inbound-rtp\",e.TRACK=\"track\",e.OUTBOUND=\"outbound-rtp\",e.PC=\"peer-connection\",e.REMOTE_INBOUND=\"remote-inbound-rtp\",e.REMOTE_OUTBOUND=\"remote-outbound-rtp\",e.TRANSPORT=\"transport\",e.CSRC=\"csrc\",e.DATA_CHANNEL=\"data-channel\",e.STREAM=\"stream\",e.SENDER=\"sender\",e.RECEIVER=\"receiver\",e}({});var oD=function(e){return e[e.kNone=1]=\"kNone\",e[e.kMillisecondsFromSeconds=1e3]=\"kMillisecondsFromSeconds\",e[e.kBytesToBits=8]=\"kBytesToBits\",e}(oD||{});function sD(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oD.kNone;if(!t)return;const o=Number(t[i]);if(\"number\"!=typeof o)return;const s=Number(t[n]);if(\"number\"!=typeof s)return;if(!e)return s?o/s*r:void 0;const a=Number(e[i]);if(\"number\"!=typeof a)return;const c=Number(e[n]);if(\"number\"!=typeof c)return;const d=s-c;return d?(o-a)/d*r:void 0}let aD=class extends $N{constructor(){super(...arguments),dO(this,\"_stats\",qN),dO(this,\"report\",void 0),dO(this,\"lastDecodeVideoReceiverStats\",new Map),dO(this,\"lastVideoFramesRecv\",new Map),dO(this,\"lastVideoFramesSent\",new Map),dO(this,\"lastVideoFramesDecode\",new Map),dO(this,\"lastVideoFramesOutput\",new Map),dO(this,\"lastVideoJBDelay\",new Map),dO(this,\"lastAudioJBDelay\",new Map),dO(this,\"mediaBytesSent\",new Map),dO(this,\"mediaBytesRetransmit\",new Map),dO(this,\"mediaBytesTargetEncode\",new Map),dO(this,\"lastDecodeAudioReceiverStats\",new Map),dO(this,\"lastAudioConcealment\",new Map),dO(this,\"lastEncoderMs\",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=HN(qN),this.report.forEach((e=>{switch(e.type){case rD.OUTBOUND:case rD.INBOUND:{const t=e.mediaType||e.kind,i=!t&&\"frameWidth\"in e,n=!t&&!(\"frameWidth\"in e);e.type===rD.OUTBOUND?\"audio\"===t||n?this.processAudioOutboundStats(e):(\"video\"===t||i)&&this.processVideoOutboundStats(e):e.type===rD.INBOUND&&(\"audio\"===t||n?this.processAudioInboundStats(e):(\"video\"===t||i)&&this.processVideoInboundStats(e));break}case rD.TRANSPORT:{this.processTransportStats(e);const t=this.report.get(e.selectedCandidatePairId);t&&this.processCandidatePairStats(t);break}case rD.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.updateInterval=Date.now()-this.stats.timestamp,this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const e=await this.pc.getStats(),t={local:uO({},zN),remote:uO({},zN)};return e.forEach((i=>{let n;if(i.type===rD.TRANSPORT&&(n=e.get(i.selectedCandidatePairId)),i.type===rD.CANDIDATE_PAIR&&i.selected&&(n=i),n){const i=(e,t)=>{e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol)};if(n.localCandidateId){const r=e.get(n.localCandidateId);r&&i(t.local,r)}if(n.remoteCandidateId){const r=e.get(n.remoteCandidateId);r&&i(t.remote,r)}}})),t}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){const t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){const t=this.report.get(e.remoteCandidateId);t&&this.processCandidateStats(t)}}processCandidateStats(e){let t;e.type===rD.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===rD.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===rD.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(uO({},t),uO({},this.stats.selectedCandidatePair.localCandidate)),e.type===rD.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(uO({},t),uO({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(e){let t=this._stats.audioRecv.find((t=>t.ssrc===e.ssrc));t||(t=HN(ZN),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.packetsDiscarded=e.packetsDiscarded,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,t.retransmittedBytesReceived=e.retransmittedBytesReceived,t.retransmittedPacketsReceived=e.retransmittedPacketsReceived,t.totalProcessingDelay=e.totalProcessingDelay,t.jitterBufferEmittedCount=e.jitterBufferEmittedCount,t.estimatedPlayoutTimestamp=e.estimatedPlayoutTimestamp;const i=this.lastDecodeAudioReceiverStats.get(t.ssrc);t.avgProcessingDelayMs=sD(i,t,\"totalProcessingDelay\",\"jitterBufferEmittedCount\",oD.kMillisecondsFromSeconds),this.processAudioTrackReceiverStats(e,e.trackId,t),this.calculateAudioFreeze(t,i,e),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),\"number\"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples),this.lastDecodeAudioReceiverStats.set(t.ssrc,uO({},t))}calculateAudioFreeze(e,t,i){const n=this.lastAudioConcealment.get(e.ssrc);if(null!=t&&null!=n){const r=n.lts,o=i.timestamp,s=o-r;if(s<=0)return;const a=e.concealedSamples-t.concealedSamples-0,c=n.nonSilent+a,d=e.totalSamplesReceived-t.totalSamplesReceived;if(d<=0)return;const l=80*d/s,u=200*d/s,h=s/d;let p=0;e.freezeSamples80=t.freezeSamples80,e.freezeMs80=t.freezeMs80,c>l&&(n.plc80>0?(e.freezeSamples80+=a,e.freezeMs80+=Math.round(a*h)):(e.freezeSamples80+=c,e.freezeMs80+=Math.round(c*h)),p=n.plc80+1);let _=0;e.freezeSamples200=t.freezeSamples200,e.freezeMs200=t.freezeMs200,c>u&&(n.plc200>0?(e.freezeSamples200+=a,e.freezeMs200+=Math.round(a*h)):(e.freezeSamples200+=c,e.freezeMs200+=Math.round(c*h)),_=n.plc200+1),this.lastAudioConcealment.set(e.ssrc,{nonSilent:a,lts:o,plc80:p,plc200:_})}else e.freezeSamples80=0,e.freezeSamples200=0,e.freezeMs80=0,e.freezeMs200=0,this.lastAudioConcealment.set(e.ssrc,{nonSilent:0,lts:i.timestamp,plc80:0,plc200:0})}processVideoInboundStats(e){let t=this._stats.videoRecv.find((t=>t.ssrc===e.ssrc));t||(t=HN(XN),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.framesDroppedCount=e.framesDropped,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay,t.totalFreezesDuration=e.totalFreezesDuration,t.totalProcessingDelay=e.totalProcessingDelay,t.packetsDiscarded=e.packetsDiscarded,t.framesAssembledFromMultiplePackets=e.framesAssembledFromMultiplePackets,t.totalAssemblyTime=e.totalAssemblyTime,t.keyFramesDecoded=e.keyFramesDecoded,t.retransmittedBytesReceived=e.retransmittedBytesReceived,t.retransmittedPacketsReceived=e.retransmittedPacketsReceived,t.estimatedPlayoutTimestamp=e.estimatedPlayoutTimestamp;const i=this.lastDecodeVideoReceiverStats.get(t.ssrc),n=this.lastVideoFramesDecode.get(t.ssrc),r=this.lastVideoFramesOutput.get(t.ssrc),o=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){const e=t.decodedFrame?t.decodedFrame.width:0,i=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,e,i),this.isFirstVideoDecoded[t.ssrc]=!0}if(i){const n=i.stats,r=o-i.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&r>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),this.isFirstVideoDecodedTimeout[t.ssrc]=!0),t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(i.lts=Date.now(),t.framesDecodeInterval=r,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<n.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(i.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-i.qpSum)/(e.framesDecoded-i.stats.framesDecodeCount))}e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime,t.avgDecodeMs=sD(null==i?void 0:i.stats,t,\"decodeMs\",\"framesDecodeCount\")),t.avgProcessingDelayMs=sD(null==i?void 0:i.stats,t,\"totalProcessingDelay\",\"framesDecodeCount\",oD.kMillisecondsFromSeconds),t.avgFramesAssembledFromMultiplePacketsMs=sD(null==i?void 0:i.stats,t,\"totalAssemblyTime\",\"framesAssembledFromMultiplePackets\",oD.kMillisecondsFromSeconds),t.avgInterFrameDelayMs=sD(null==i?void 0:i.stats,t,\"totalInterFrameDelay\",\"framesDecodeCount\",oD.kMillisecondsFromSeconds),n&&o-n.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-n.count)/((o-n.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:o,rate:t.decodeFrameRate})):n?t.decodeFrameRate=n.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:o,rate:0}),t.framesDroppedCount&&e.framesReceived&&(r&&o-r.lts>=800?(t.outputFrameRate=Math.round((e.framesReceived-t.framesDroppedCount-r.count)/((o-r.lts)/1e3)),this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:o,rate:Math.max(t.outputFrameRate,0)})):r?t.outputFrameRate=r.rate:this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:o,rate:0})),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:uO({},t),lts:i?i.lts:Date.now(),qpSum:e.qpSum})}processVideoOutboundStats(e){let t=this._stats.videoSend.find((t=>t.ssrc===e.ssrc));t||(t=HN(JN),this._stats.videoSend.push(t));const i=this.mediaBytesSent.get(e.ssrc);if(i)i.add(e.bytesSent);else{const t=new YN(10);t.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,t)}if(void 0!==e.retransmittedBytesSent){const t=this.mediaBytesRetransmit.get(e.ssrc);if(t)t.add(e.retransmittedBytesSent);else{const t=new YN(10);t.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,t)}}if(e.totalEncodedBytesTarget){const t=this.mediaBytesTargetEncode.get(e.ssrc);if(t)t.add(e.totalEncodedBytesTarget);else{const t=new YN(10);t.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,t)}}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,t.scalabilityMode=e.scalabilityMode,t.retransmittedBytesSent=e.retransmittedBytesSent,t.retransmittedPacketsSent=e.retransmittedPacketsSent,t.hugeFramesSent=e.hugeFramesSent,t.keyFramesEncoded=e.keyFramesEncoded,t.targetBitrate=e.targetBitrate,e.totalEncodeTime&&e.framesEncoded){const i=this.lastEncoderMs.get(e.ssrc);if(!i||i.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{const n=e.framesEncoded-i.lastFrameCount,r=e.totalEncodeTime-i.lastEncoderTime;t.avgEncodeMs=1e3*r/n}}if(e.framesEncoded&&e.qpSum){const i=this.lastEncoderMs.get(e.ssrc);!i||i.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-i.lastQpSum)/(e.framesEncoded-i.lastFrameCount)}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const i=this.findRemoteStatsId(e.ssrc,rD.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,t)}}processAudioOutboundStats(e){let t=this._stats.audioSend.find((t=>t.ssrc===e.ssrc));if(t||(t=HN(QN),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,t.retransmittedBytesSent=e.retransmittedBytesSent,t.retransmittedPacketsSent=e.retransmittedPacketsSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const i=this.findRemoteStatsId(e.ssrc,rD.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,t)}}processTransportStats(e){this._stats.transport.bytesReceived=e.bytesReceived||this._stats.transport.bytesReceived,this._stats.transport.bytesSent=e.bytesSent||this._stats.transport.bytesSent,this._stats.transport.packetsReceived=e.packetsReceived||this._stats.transport.packetsReceived,this._stats.transport.packetsSent=e.packetsSent||this._stats.transport.packetsSent}findRemoteStatsId(e,t){var i;const n=Array.from(pp(i=this.report).call(i)).find((i=>i.type===t&&i.ssrc===e));return n?n.id:null}processVideoMediaSource(e,t){const i=this.report.get(e);i&&i.width&&i.height&&i.framesPerSecond&&(t.inputFrame={width:i.width,height:i.height,frameRate:i.framesPerSecond})}processAudioMediaSource(e,t){const i=this.report.get(e);i&&(t.inputLevel=i.audioLevel)}processVideoTrackSenderStats(e,t,i){var n,r,o,s;const a=t?this.report.get(t):void 0,c=null!==(n=null==a?void 0:a.framesSent)&&void 0!==n?n:e.framesSent;if(\"number\"!=typeof c)return;let d=null!==(r=null==a?void 0:a.frameWidth)&&void 0!==r?r:e.frameWidth,l=null!==(o=null==a?void 0:a.frameHeight)&&void 0!==o?o:e.frameHeight,u=null!==(s=null==a?void 0:a.framesPerSecond)&&void 0!==s?s:e.framesPerSecond;if(\"number\"==typeof d&&\"number\"==typeof l||(d=0,l=0),null==u){const e=Date.now(),t=this.lastVideoFramesSent.get(i.ssrc);t&&e-t.lts>=800?(u=Math.round((c-t.count)/((e-t.lts)/1e3)),this.lastVideoFramesSent.set(i.ssrc,{count:c,lts:e,rate:u})):t?u=t.rate:this.lastVideoFramesSent.set(i.ssrc,{count:c,lts:e,rate:0})}i.sentFrame={width:d,height:l,frameRate:Math.max(0,u)}}processVideoTrackReceiverStats(e,t,i){var n,r,o,s,a;const c=t?this.report.get(t):void 0,d=null!==(n=null==c?void 0:c.framesReceived)&&void 0!==n?n:e.framesReceived,l=null!==(r=null==c?void 0:c.frameWidth)&&void 0!==r?r:e.frameWidth,u=null!==(o=null==c?void 0:c.frameHeight)&&void 0!==o?o:e.frameHeight,h=null!==(s=null==c?void 0:c.jitterBufferDelay)&&void 0!==s?s:e.jitterBufferDelay,p=null!==(a=null==c?void 0:c.jitterBufferEmittedCount)&&void 0!==a?a:e.jitterBufferEmittedCount;if(\"number\"==typeof d){const e=this.lastVideoFramesRecv.get(i.ssrc),t=Date.now();i.framesReceivedCount=d;let n=0;e&&t-e.lts>=800?(n=Math.round((d-e.count)/((t-e.lts)/1e3)),this.lastVideoFramesRecv.set(i.ssrc,{count:d,lts:t,rate:n})):e?n=e.rate:this.lastVideoFramesRecv.set(i.ssrc,{count:d,lts:t,rate:0}),i.receivedFrame={width:l||0,height:u||0,frameRate:n||0},i.decodedFrame={width:l||0,height:u||0,frameRate:i.decodeFrameRate||0},i.outputFrame={width:l||0,height:u||0,frameRate:i.outputFrameRate||i.decodeFrameRate||0}}if(h&&p){const e=this.lastVideoJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const n=p-e.jitterBufferEmittedCount;n>0&&(t=1e3*(h-e.jitterBufferDelay)/n),i.jitterBufferMs=t,i.currentDelayMs=Math.round(t),this.lastVideoJBDelay.set(i.ssrc,{jitterBufferDelay:h,jitterBufferEmittedCount:p,jitterBufferMs:i.currentDelayMs})}}processAudioTrackSenderStats(e,t,i){var n,r,o,s;const a=t?this.report.get(t):void 0,c=null!==(n=null!==(r=null==a?void 0:a.echoReturnLoss)&&void 0!==r?r:e.echoReturnLoss)&&void 0!==n?n:0,d=null!==(o=null!==(s=null==a?void 0:a.echoReturnLossEnhancement)&&void 0!==s?s:e.echoReturnLossEnhancement)&&void 0!==o?o:0;i.aecReturnLoss=c,i.aecReturnLossEnhancement=d}processAudioTrackReceiverStats(e,t,i){var n,r,o,s,a,c,d,l,u;const h=t?this.report.get(t):void 0,p=null!==(n=null==h?void 0:h.removedSamplesForAcceleration)&&void 0!==n?n:e.removedSamplesForAcceleration,_=null!==(r=null==h?void 0:h.totalSamplesReceived)&&void 0!==r?r:e.totalSamplesReceived,E=null!==(o=null==h?void 0:h.jitterBufferDelay)&&void 0!==o?o:e.jitterBufferDelay,m=null!==(s=null==h?void 0:h.jitterBufferEmittedCount)&&void 0!==s?s:e.jitterBufferEmittedCount,f=null!==(a=null==h?void 0:h.audioLevel)&&void 0!==a?a:null==e?void 0:e.audioLevel,S=null!==(c=null==h?void 0:h.totalSamplesDuration)&&void 0!==c?c:null==e?void 0:e.totalSamplesDuration,g=null!==(d=null==h?void 0:h.concealedSamples)&&void 0!==d?d:e.concealedSamples,T=null!==(l=null==h?void 0:h.silentConcealedSamples)&&void 0!==l?l:e.silentConcealedSamples,R=null!==(u=null==h?void 0:h.concealmentEvents)&&void 0!==u?u:e.concealmentEvents;if(\"number\"==typeof _&&(i.totalSamplesReceived=_),\"number\"==typeof T&&(i.silentConcealedSamples=T),\"number\"==typeof R&&(i.concealmentEvents=R),\"number\"==typeof g&&(i.concealedSamples=g),p&&_&&(i.accelerateRate=p/_),E&&m){const e=this.lastAudioJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const n=m-e.jitterBufferEmittedCount;n>0&&(t=1e3*(E-e.jitterBufferDelay)/n),i.jitterBufferMs=Math.round(t),this.lastAudioJBDelay.set(i.ssrc,{jitterBufferDelay:E,jitterBufferEmittedCount:m,jitterBufferMs:i.jitterBufferMs})}i.outputLevel=f;let C=1920;S&&_&&(C=_/S/50,i.receivedFrames=Math.round(_/C)),g&&(i.droppedFrames=Math.round(g/C))}processRemoteInboundStats(e,t){const i=this.report.get(e);i&&(t.packetsLost=i.packetsLost,i.roundTripTime&&(t.rttMs=1e3*i.roundTripTime),i.jitter&&(t.jitterMs=1e3*i.jitter),i.timestamp&&(t.timestamp=i.timestamp))}getCodecFromCodecStats(e){const t=this.report.get(e);if(!t)return\"\";const i=t.mimeType.match(/\\/(.*)$/);return i&&i[1]?i[1]:\"\"}updateSendBitrate(){let e=0,t=null,i=null;this.mediaBytesSent.forEach((t=>{e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((e=>{t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((e=>{i=null===i?e.diffMean():i+e.diffMean()}));const n=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*n/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==i&&(this._stats.bitrate.targetEncoded=8*i/(this.options.updateInterval/1e3))}},cD=class extends $N{updateStats(){return rp.resolve()}};function dD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;const o=function(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]*/i);return e&&e[0]?Number(e[0].split(\"/\")[1]):null}();return o?o<76?new eD(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):new aD(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):function(e){if(!window.RTCStatsReport)return!1;const t=e.getStats();return!!(t instanceof rp||function(e){return!!e&&(\"object\"==typeof e||\"function\"==typeof e)&&\"function\"==typeof e.then}(t))}(e)?new aD(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):new cD(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r})}const lD=\"websdk_ng_install_id\";function uD(){try{if(CD(\"INSTALL_ID\"))return CD(\"INSTALL_ID\");let e=window.localStorage.getItem(lD);return e||(e=gN(),window.localStorage.setItem(lD,e)),RD(\"INSTALL_ID\",e),e}catch(e){return}}const hD=function(e){if(e.match(/[0-9]+\\.[0-9]+\\.[0-9]+$/))return e;const t=e.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],i=t[2];return\"\".concat(e,\".\").concat(i)}return\"4.0.0.999\"}(\"4.24.1\"),pD=function(){try{return!0===JSON.parse(\"true\")}catch(e){return!0}}();let _D=function(e){return e.Default=\"default\",e.Auto=\"auto\",e.Relay=\"relay\",e.SdRtn=\"sd-rtn\",e}({});const ED=function(){const e=\"us\".concat(\"erna\",\"me\"),t=\"pa\".concat(\"sswo\",\"rd\"),i=[\"t\",\"s\",\"t\"];i.splice(1,0,\"e\");const n=i.join(\"\"),r=[];for(let e=0;e<6;e++)r.push(\"1\");const o=r.join(\"\"),s={};return s[e]=n,s[t]=o,Object.assign(s,{turnServerURL:\"\",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=ED;const mD={ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!0,FORCE_ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC_DEFAULT_CODECS:[\"H264\",\"VP8\",\"VP9\",\"AV1\"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:1,ENABLE_AUT_FEEDBACK:!0,SVC_EXTENDED:[\"VP9\"]},fD={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},SD=\"v4.24.1-0-g2cff7c6c-dirty(11/18/2025, 5:40:47 PM)\",gD={ENABLE_EVENT_REPORT:!0,UPLOAD_LOG:!1,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,ENABLE_PRELOAD:!0,NEW_ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,RESTART_SEQUENCE:[\"udp_tcp_relay\",\"relay\"],FIRST_TCP_CANDIDATE:!1,FIRST_TCP_CANDIDATE_INTERVAL:1e3,TURN_DOMAIN:\"edge.agora.io\",TURN_DOMAINS:[\"edge.agora.io\"],USE_TURN_IP:!0,NEW_TURN_MODE:4,NEW_FORCE_TURN:!1,USE_NEW_RENDER_FREEZE_TIME:!1,FLS_FALLBACK_TIMEOUT:3e4,RTE_DETAIL_REPORT_INTERVAL:6e4,ENCODE_EXCEPTION_TIMES:5,ENABLE_ENCODE_EXCEPTION:!0,ENCODE_EXCEPTION_VALIDATE_CODEC:[\"h264\"],VIDEO_ENCODER_CONFIG_LIST:[{width:240,height:180},{width:320,height:240},{width:400,height:300},{width:480,height:360},{width:560,height:420},{width:640,height:480}],DELETE_NEQ_AFTER_USER_LEAVE:!0,UPDATE_RTP_CAP_IN_HOST:!1,IOS_BG_TAG:!0,IOS_AUTO_RESTART_BG_TAG:!0,IGNORE_UID_CHECK:!1,ENABLE_UP_SPS_PPS:!1,ENABLE_DOWN_SPS_PPS:!1,NO_EDGES_RETRY:!0,BUFFER_READY_FRAMES:3,FLS_SYNC_AV_PLAY_LIMIT:0,FLS_BUFFER_WAIT_TIME:1500,VOS_CONFIGURE:void 0,ENABLE_QUALITY_FALLBACK:!1,QUALITY_FALLBACK_REHEARSAL:!0,ENABLE_FLS_AV1_FIRST:!1,ENABLE_AP_MULTI_IP:!0,FLS_ENABLE_AV1_DETECT:!0,FLS_ENABLE_AV1_DECODE_DETECT:!0},TD=uO(uO(uO(uO({},gD),{},{PROCESS_ID:\"\",ENCRYPT_AES:!0,AREAS:[\"CHINA\",\"GLOBAL\"],WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\",\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\",\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-web-2.ap.sd-rtn.com\",\"cds-ap-web-3.agora.io\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-web-2.ap.sd-rtn.com\",\"sua-ap-web-3.agora.io\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-web-2.ap.sd-rtn.com\",\"uap-ap-web-3.agora.io\",\"uap-web-4.ap.sd-rtn.com\"],LOG_UPLOAD_SERVER:\"logservice.agora.io\",EVENT_REPORT_DOMAIN:\"statscollector-1.agora.io\",EVENT_REPORT_BACKUP_DOMAIN:\"web-2.statscollector.sd-rtn.com\",GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:\"\",LIVE_STREAMING_ADDRESS:\"\",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,SHOW_REPORT_USER_INVOKER_LOG:!0,JOIN_EXTEND:\"\",PUB_EXTEND:\"\",SUB_EXTEND:\"\",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:[\"edge.agora.io\",\"edge.sd-rtn.com\"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:\"edge.agora.io\",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:\"webnginx-proxy.agora.io\",PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\",\"webrtc-cloud-proxy.agora.io\"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:\"high\",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:\"\",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:[\"agora.io\",\"sd-rtn.com\"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:\"STANDARD_BITRATE\",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,FIRST_H264_PROFILE_LEVEL_ID:\"42001f\",FIRST_PACKETIZATION_MODE:\"\",X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:[\"data-reporting.agora.io\",\"data-reporting.agora.io\"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:\"edge.agora.io\",VIDEO_INSPECT_WORKER_MANAGER_PORT:\"\",VIDEO_INSPECT_WORKER_MANAGER_WSS:\"\",VIDEO_INSPECT_WORKER_PORT:\"\",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,FINGERPRINT:null,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,ENABLE_AUDIO_TOPN:!1,ENABLE_AUDIO_METADATA:!1,ENABLE_AUDIO_PTS:!1,TOPN_SMOOTH_LEVEL:void 0,TOPN_NEW_SPEAKER_DELAY:void 0,TOPN_SWITCH_HOLD_MS:void 0,TOPN_AUDIO_GAIN:void 0,TOPN_SILENCE_THRESHOLD:250,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:\"edge.agora.io\",IMAGE_MODERATION_WORKER_WSS:\"\",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ENABLE_AUDIO_RED:!1,OPUS_PTIME:void 0,AUDIO_DUPLICATE_NUM:void 0,ENABLE_ABSSENDTIME_AS_SENTTS:!0,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,DC_JOIN_WITH_FAILBACK:4e3,DC_CONNECTION_TIMEOUT:2e3,DC_PINGPONG_INTERVAL:2e3,DC_DEBUG_LOG:!1,UNSUPPORTED_VIDEO_UPLINK_CODEC:[],UNSUPPORTED_VIDEO_DOWNLINK_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:fD,CUSTOM_ADAPTATION_DEFAULT_MODE:\"\",HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,DISABLE_SCREEN_SHARE_REMB:!1},mD),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1,AP_REQUEST_DETAIL:void 0,ENABLE_ROLE_SELECT_EDGE:!1,CLIENT_ROLE_OPTIONS:void 0,REMOTE_VIDEO_STREAM_TYPE:void 0,COMPATIBLE_SDP_EXTENSION:[\"gdpr_forbidden\"],LIMIT_BITRATE:void 0,EXPERIMENTS:{},USE_PUB_RTX:!0,USE_SUB_RTX:!0,ENABLE_DATASTREAM_2:!1,USE_XR:!0,ENABLE_PREALLOC_PC:!1,ENABLE_PRE_SUB:!1,ENABLE_SVC:!1,ENABLE_FORCE_HLS:!1,MAX_WEBAUDIO_VOLUME:300,ENABLE_VOS_FALLBACK:!1,ENABLE_FALLBACK_TO_HLS:!1,ENABLE_PRE_RENDER:!1,FORCE_DISABLE_AUTO_SUB:!1,ENABLE_PRE_SUB_WITH_PRE_PC:!0,PRE_USE_LOCAL_CODECS:!0},{INSTALL_ID:\"\"}),{},{K_MIN_RENDER_DELAY:66,USE_STANDARD_BITRATE_DEFAULT:!1,VIDEO_NEW_BITRATE_RATIO:void 0,VIDEO_STANDARD_BITRATE_VERSION:2,BASELINE_MORE_H264_BITRATE_RATIO:1.1,IGNORE_RTC_DEVICE_CHECK:!1,FLS_AUTOPLAY_EMITS:!1,ENABLE_DUAL_STREAM_FLAG:!1});function RD(e,t,i){var n,r,o;Ln(n=Object.keys(TD)).call(n,e)&&(!i&&Ln(r=Object.keys(yD)).call(r,e)||(TD[e]=t,\"ENABLE_VIDEO_SEI\"!==e&&\"ENABLE_AUDIO_TOPN\"!==e&&\"ENABLE_AUDIO_METADATA\"!==e&&\"ENABLE_AUDIO_PTS\"!==e||!0!==t||(TD.ENABLE_ENCODED_TRANSFORM=!0),\"USE_NEW_NETWORK_CONFIG\"===e&&t&&(o=!!t,TD.USE_NEW_NETWORK_CONFIG=o,o&&(TD.WEBCS_DOMAIN=[\"webrtc2-2.ap.sd-rtn.com\"],TD.WEBCS_DOMAIN_BACKUP_LIST=[\"webrtc2-4.ap.sd-rtn.com\"],TD.CDS_AP=[\"cds-web-2.ap.sd-rtn.com\",\"cds-web-4.ap.sd-rtn.com\"],TD.ACCOUNT_REGISTER=[\"sua-web-2.ap.sd-rtn.com\",\"sua-web-4.ap.sd-rtn.com\"],TD.EVENT_REPORT_DOMAIN=\"web-2.statscollector.sd-rtn.com\",TD.EVENT_REPORT_BACKUP_DOMAIN=\"statscollector-1.agora.io\",TD.GATEWAY_DOMAINS=[\"edge.sd-rtn.com\"])),\"ENABLE_PRE_SUB\"===e&&t&&(TD.ENABLE_INSTANT_VIDEO=!0,TD.ENABLE_PREALLOC_PC=!0),\"ENABLE_SVC\"===e&&t&&(TD.ENABLE_AUT_CC=!0),\"NEW_FORCE_TURN\"===e&&t&&(TD.NEW_TURN_MODE||(TD.NEW_TURN_MODE=4))))}function CD(e){if(\"TURN_DOMAINS\"===e){const e=TD.TURN_DOMAINS;return Ln(e).call(e,CD(\"TURN_DOMAIN\"))?e:[CD(\"TURN_DOMAIN\")].concat(e)}return TD[e]}pD||(TD.WEBCS_DOMAIN=[\"ap-web-1-oversea.agora.io\",\"ap-web-1-north-america.agora.io\"],TD.WEBCS_DOMAIN_BACKUP_LIST=[\"ap-web-2-oversea.agora.io\",\"ap-web-2-north-america.agora.io\"],TD.PROXY_CS=[\"proxy-ap-web-oversea.agora.io\",\"proxy-ap-web-america.agora.io\"],TD.CDS_AP=[\"cds-ap-web-oversea.agora.io\",\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],TD.ACCOUNT_REGISTER=[\"sua-ap-web-oversea.agora.io\",\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],TD.UAP_AP=[\"uap-ap-web-oversea.agora.io\",\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],TD.LOG_UPLOAD_SERVER=\"logservice-oversea.agora.io\",TD.EVENT_REPORT_DOMAIN=\"statscollector-1-oversea.agora.io\",TD.EVENT_REPORT_BACKUP_DOMAIN=\"statscollector-2-oversea.agora.io\",TD.PROXY_SERVER_TYPE3=\"webrtc-cloud-proxy.agora.io\",TD.AREAS=[\"NORTH_AMERICA\",\"OVERSEA\"]);let vD=function(e){return e[e.REALTIME=1]=\"REALTIME\",e}({});const yD={};var ID=function(e){return e.SET_SESSION_ID=\"SET_SESSION_ID\",e.SET_RTE_URL=\"SET_RTE_URL\",e.SET_RTE_SID=\"SET_RTE_SID\",e.SET_P2P_ID=\"SET_P2P_id\",e.SET_DC_ID=\"SET_DC_id\",e.SET_UID=\"SET_UID\",e.SET_INT_UID=\"SET_INT_UID\",e.SET_PUB_ID=\"SET_PUB_ID\",e.SET_CLOUD_PROXY_SERVER_MODE=\"SET_CLOUD_PROXY_SERVER_MODE\",e.KEY_METRIC_CLIENT_CREATED=\"KEY_METRIC_CLIENT_CREATED\",e.KEY_METRIC_JOIN_START=\"KEY_METRIC_JOIN_START\",e.KEY_METRIC_PRELOAD_START=\"KEY_METRIC_PRELOAD_START\",e.KEY_METRIC_PRELOAD_END=\"KEY_METRIC_PRELOAD_END\",e.KEY_METRIC_JOIN_END=\"KEY_METRIC_JOIN_END\",e.KEY_METRIC_REQUEST_AP_START=\"KEY_METRIC_REQUEST_AP_START\",e.KEY_METRIC_REQUEST_AP_END=\"KEY_METRIC_REQUEST_AP_END\",e.KEY_METRIC_REQUEST_SUA_END=\"KEY_METRIC_REQUEST_SUA_END\",e.KEY_METRIC_BEFORE_CONNECT=\"KEY_METRIC_BEFORE_CONNECT\",e.KEY_METRIC_PEER_RECEIVER=\"KEY_METRIC_PEER_RECEIVER\",e.KEY_METRIC_SIGNAL_CONNECTED=\"KEY_METRIC_SIGNAL_CONNECTED\",e.KEY_METRIC_JOIN_REQ=\"KEY_METRIC_JOIN_REQ\",e.KEY_METRIC_JOIN_REP=\"KEY_METRIC_JOIN_REP\",e.KEY_METRIC_JOIN_GATEWAY_START=\"KEY_METRIC_JOIN_GATEWAY_START\",e.KEY_METRIC_JOIN_GATEWAY_END=\"KEY_METRIC_JOIN_GATEWAY_END\",e.KEY_METRIC_PEER_CONNECTION_START=\"KEY_METRIC_PEER_CONNECTION_START\",e.KEY_METRIC_PEER_CONNECTION_END=\"KEY_METRIC_PEER_CONNECTION_END\",e.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED=\"KEY_METRIC_FIRST_VIDEO_FRAME_DECODED\",e.KEY_METRIC_DESCRIPTION_START=\"KEY_METRIC_DESCRIPTION_START\",e.KEY_METRIC_ICE_CONNECTION_END=\"KEY_METRIC_ICE_CONNECTION_END\",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN=\"KEY_METRIC_SIGNAL_CHANNEL_OPEN\",e.KEY_METRIC_PUBLISH=\"KEY_METRIC_PUBLISH\",e.KEY_METRIC_SUBSCRIBE=\"KEY_METRIC_SUBSCRIBE\",e.RECORD_JOIN_CHANNEL_SERVICE=\"RECORD_JOIN_CHANNEL_SERVICE\",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS=\"RESET_JOIN_CHANNEL_SERVICE_RECORDS\",e.RESET_KEY_METRICS=\"RESET_KEY_METRICS\",e.RESET_FIRST_VIDEO_FRAME_DECODED=\"RESET_FIRST_VIDEO_FRAME_DECODED\",e.SET_USE_P2P=\"SET_USE_P2P\",e.SET_TRANSPORT_TYPE=\"SET_TRANSPORT_TYPE\",e}(ID||{});let AD=function(e){return e.h264=\"h264\",e.h265=\"h265\",e.vp8=\"vp8\",e.vp9=\"vp9\",e.av1=\"av1\",e}({});!function(e){e.opus=\"opus\",e.pcma=\"pcma\",e.pcmu=\"pcmu\",e.g722=\"g722\"}({});const bD=128,wD=96,OD=1e3,ND=10;let DD=0;var PD=(()=>{var e={8:(e,t,i)=>{i.r(t),i.d(t,{Parser:()=>C,Printer:()=>b,parse:()=>D,print:()=>P});const n=\"\\n\",r=\"\".concat(\"\\r\").concat(n),o=\" \";let s;function a(e){return e>=\"0\"&&e<=\"9\"}function c(e){return e>=\"!\"&&e<=\"~\"}function d(e){return c(e)||e>=\"\"&&e<=\"ÿ\"}function l(e){return\"!\"===e||e>=\"#\"&&e<=\"'\"||e>=\"*\"&&e<=\"+\"||e>=\"-\"&&e<=\".\"||e>=\"0\"&&e<=\"9\"||e>=\"A\"&&e<=\"Z\"||e>=\"^\"&&e<=\"~\"}function u(e){return e>=\"1\"&&e<=\"9\"}function h(e){return e>=\"A\"&&e<=\"Z\"||e>=\"a\"&&e<=\"z\"}function p(e){return\"d\"===e||\"h\"===e||\"m\"===e||\"s\"===e}function _(e){return e>\"\u0001\"&&e<\"\\t\"||e>\"\\v\"&&e<\"\\f\"||e>\"\u000e\"&&e<\"ÿ\"}function E(e){return h(e)||a(e)||\"+\"===e||\"/\"===e}function m(e){return a(e)||h(e)||\"+\"===e||\"/\"===e||\"-\"===e||\"_\"===e}function f(e){return h(e)||a(e)||\"+\"===e||\"/\"===e}function S(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(Object(i),!0).forEach((function(t){T(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function T(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(e){e.VERSION=\"v\",e.ORIGIN=\"o\",e.SESSION_NAME=\"s\",e.INFORMATION=\"i\",e.URI=\"u\",e.EMAIL=\"e\",e.PHONE=\"p\",e.CONNECTION=\"c\",e.BANDWIDTH=\"b\",e.TIME=\"t\",e.REPEAT=\"r\",e.ZONE_ADJUSTMENTS=\"z\",e.KEY=\"k\",e.ATTRIBUTE=\"a\",e.MEDIA=\"m\"}(s||(s={}));class R{consumeText(e,t){let i=t;for(;i<e.length;){const t=e[i];if(\"\\0\"===t||\"\\r\"===t||t===n)break;i+=1}if(i-t==0)throw new Error(\"Invalid text, at \".concat(e));return i}consumeUnicastAddress(e,t,i){return this.consumeTill(e,t,o)}consumeOneOrMore(e,t,i){let n=t;for(;i(e[n]);)n++;if(n-t==0)throw new Error(\"Invalid rule at \".concat(t,\".\"));return n}consumeSpace(e,t){if(e[t]===o)return t+1;throw new Error(\"Invalid space at \".concat(t,\".\"))}consumeIP4Address(e,t){let i=t;for(let t=0;t<4;t++)if(i=this.consumeDecimalUChar(e,i),3!==t){if(\".\"!==e[i])throw new Error(\"Invalid IP4 address.\");i++}return i}consumeDecimalUChar(e,t){let i=t;for(let t=0;t<3&&a(e[i]);t++,i++);if(i-t==0)throw new Error(\"Invalid decimal uchar.\");const n=parseInt(e.slice(t,i));if(n>=0&&n<=255)return i;throw new Error(\"Invalid decimal uchar\")}consumeIP6Address(e,t){let i=this.consumeHexpart(e,t);return\":\"===e[i]?(i+=1,i=this.consumeIP4Address(e,i),i):i}consumeHexpart(e,t){let i=t;if(\":\"===e[i]&&\":\"===e[i+1]){i+=2;try{i=this.consumeHexseq(e,i)}catch(e){}return i}if(i=this.consumeHexseq(e,i),\":\"===e[i]&&\":\"===e[i+1]){i+=2;try{i=this.consumeHexseq(e,i)}catch(e){}return i}return i}consumeHexseq(e,t){let i=t;for(;i=this.consumeHex4(e,i),\":\"===e[i]&&\":\"!==e[i+1];)i+=1;return i}consumeHex4(e,t){let i=0;for(;i<4;i++)if(!((n=e[t+i])>=\"0\"&&n<=\"9\"||n>=\"a\"&&n<=\"f\"||n>=\"A\"&&n<=\"F\")){if(0===i)throw new Error(\"Invalid hex 4\");break}var n;return t+i}consumeFQDN(e,t){let i=t;for(;a(e[i])||h(e[i])||\"-\"===e[i]||\".\"===e[i];)i+=1;if(i-t<4)throw new Error(\"Invalid FQDN\");return i}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,d)}consumeMulticastAddress(e,t,i){switch(i){case\"IP4\":case\"ip4\":return this.consumeIP4MulticastAddress(e,t);case\"IP6\":case\"ip6\":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(i){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const i=this.consumeHexpart(e,t);return\"/\"===e[i]?this.consumeInteger(e,i+1):i}consumeIP4MulticastAddress(e,t){let i=t+3;const n=e.slice(t,i),r=parseInt(n);if(r<224||r>239)throw new Error(\"Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.\");for(let t=0;t<3;t++){if(\".\"!==e[i])throw new Error(\"Invalid IP4 multicast address.\");i+=1,i=this.consumeDecimalUChar(e,i)}return\"/\"===e[i]&&(i+=1),i=this.consumeTTL(e,i),\"/\"===e[i]&&(i=this.consumeInteger(e,i)),i}consumeInteger(e,t){if(!u(e[t]))throw new Error(\"Invalid integer.\");for(t+=1;a(e[t]);)t+=1;return t}consumeTTL(e,t){if(\"0\"===e[t])return t+1;if(!u(e[t]))throw new Error(\"Invalid TTL.\");t+=1;for(let i=0;i<2&&a(e[t]);i++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,l)}consumeTime(e,t){let i=t;if(\"0\"===e[i])return i+1;for(u(e[i])&&(i+=1);a(e[i]);)i++;if(i-t<10)throw new Error(\"Invalid time\");return i}consumeAddress(e,t){return this.consumeTill(e,t,o)}consumeTypedTime(e,t){let i=t;return i=this.consumeOneOrMore(e,i,a),p(e[i])?i+1:i}consumeRepeatInterval(e,t){if(!u(e[t]))throw new Error(\"Invalid repeat interval\");for(t+=1;a(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,a)}consume(e,t,i){for(let n=0;n<i.length;n++){if(t+n>=e.length)throw new Error(\"consume exceeding value length\");if(e[t+n]!==i[n])throw new Error(\"consume \".concat(i,\" failed at \").concat(n))}return t+i.length}consumeTill(e,t,i){let n=t;for(;n<e.length&&(\"string\"!=typeof i||e[n]!==i)&&(\"function\"!=typeof i||!i(e[n]));)n++;return n}}class C extends R{constructor(){super(),T(this,\"records\",[]),T(this,\"currentLine\",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter((e=>!!kg(e).call(e))).map(this.parseLine),this.currentLine=0;const i=this.parseVersion(),n=this.parseOrigin(),r=this.parseSessionName(),o=this.parseInformation(),s=this.parseUri(),a=this.parseEmail(),c=this.parsePhone(),d=this.parseConnection(),l=this.parseBandWidth(),u=this.parseTimeFields(),h=this.parseKey(),p=this.parseSessionAttribute(),_=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error(\"parsing failed, non exhaustive sdp lines.\");return{version:i,origin:n,sessionName:r,information:o,uri:s,emails:a,phones:c,connection:d,bandwidths:l,timeFields:u,key:h,attributes:p,mediaDescriptions:_}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error(\"Record doesn't exit.\");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===n)return\"\\r\"===e[t-1]?r:n;throw new Error(\"Invalid newline character.\")}parseLine(e,t){if(e.length<2)throw new Error(\"Invalid sdp line, sdp line should be of form <type>=<value>.\");const i=e[0];if(\"=\"!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an \"=\" sign.');return{type:i,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new y;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.ATTRIBUTE)break;const i={attField:this.extractOneOrMore(t,(e=>l(e)&&\":\"!==e)),_cur:0};\":\"===t.value[t.cur]&&(t.cur+=1,i.attValue=this.extractOneOrMore(t,_)),e.parse(i),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new I(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.ATTRIBUTE)break;const i={attField:this.extractOneOrMore(e,(e=>l(e)&&\":\"!==e)),_cur:0};\":\"===e.value[e.cur]&&(e.cur+=1,i.attValue=this.extractOneOrMore(e,_)),t.parse(i),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===s.KEY){if(\"prompt\"===e.value||\"clear:\"===e.value||\"base64:\"===e.value||\"uri:\"===e.value)return e.value;throw this.currentLine++,new Error(\"Invalid key.\")}}parseZone(){const e=this.getCurrentRecord();if(e.type===s.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const i=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let n=!1;\"-\"===e.value[e.cur]&&(n=!0,e.cur+=1);const r=this.extract(e,this.consumeTypedTime);t.push({time:i,typedTime:r,back:n})}catch(e){break}if(0===t.length)throw new Error(\"Invalid zone adjustments\");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.REPEAT)break;{const i=this.extract(t,this.consumeRepeatInterval),n=this.parseTypedTime(t);e.push({repeatInterval:i,typedTimes:n}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error(\"Invalid typed time.\");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const i=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:i}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.BANDWIDTH)break;{const i=this.extractOneOrMore(t,l);if(\":\"!==t.value[t.cur])throw new Error(\"Invalid bandwidth field.\");t.cur++;const n=this.extractOneOrMore(t,a);e.push({bwtype:i,bandwidth:n}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==s.VERSION)throw new Error(\"first sdp record must be version\");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,a));if(t.length!==e.value.length)throw new Error('invalid proto version, \"v='.concat(e.value,'\"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==s.ORIGIN)throw new Error(\"second line of sdp must be origin\");const t=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const o=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:i,sessVersion:n,nettype:r,addrtype:o,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===s.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==s.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===s.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===s.CONNECTION){const t=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:i,address:n}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let i=this.extract(e,this.consumePort);\"/\"===e.value[e.cur]&&(e.cur+=1,i+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const n=[];for(n.push(this.extract(e,this.consumeToken));\"/\"===e.value[e.cur];)e.cur+=1,n.push(this.extract(e,this.consumeToken));if(0===n.length)throw new Error(\"Invalid proto\");const r=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:i,protos:n,fmts:r}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===s.TIME;){const t=this.parseTime(),i=this.parseRepeat(),n=this.parseZone();e.push({time:t,repeats:i,zones:n})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.MEDIA;){const t=this.parseMedia(),i=this.parseInformation(),n=this.parseConnections(),r=this.parseBandWidth(),o=this.parseKey(),s=this.parseMediaAttributes(t);e.push({media:t,information:i,connections:n,bandwidths:r,key:o,attributes:s})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error(\"Invalid fmts\");return t}extract(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];const o=t.call(this,e.value,e.cur,...n),s=e.value.slice(e.cur,o);return e.cur=o,s}extractOneOrMore(e,t){const i=this.consumeOneOrMore(e.value,e.cur,t),n=e.value.slice(e.cur,i);return e.cur=i,n}consumeSpaceForRecord(e){if(e.value[e.cur]!==o)throw new Error(\"Invalid space at \".concat(e.cur,\".\"));e.cur+=1}}class v extends R{constructor(){super(...arguments),T(this,\"attributes\",void 0),T(this,\"digested\",!1)}extractOneOrMore(e,t,i){const n=this.consumeOneOrMore(e.attValue,e._cur,t),r=e.attValue.slice(e._cur,n),[o,s]=i||[];if(\"number\"==typeof o&&r.length<o)throw new Error(\"error in length, should be more or equal than \".concat(o,\" characters.\"));if(\"number\"==typeof s&&r.length>s)throw new Error(\"error in length, should be less or equal than \".concat(s,\" characters.\"));return e._cur=n,r}consumeAttributeSpace(e){if(e.attValue[e._cur]!==o)throw new Error(\"Invalid space at \".concat(e._cur,\".\"));e._cur+=1}extract(e,t){if(!e.attValue)throw new Error(\"Nothing to extract from attValue.\");for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];const o=t.call(this,e.attValue,e._cur,...n),s=e.attValue.slice(e._cur,o);return e._cur=o,s}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let i=0;i<t.length;i++)if(t[i]!==e.attValue[e._cur+i])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error(\"Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'\");this.attributes.iceUfrag=this.extractOneOrMore(e,E,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error(\"Invalid ice-pwd, should be only a single line if 'a=ice-pwd'\");this.attributes.icePwd=this.extractOneOrMore(e,E,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error(\"Invalid ice-options, should be only one 'ice-options' line\");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,E));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:i})}parseExtmap(e){const t=this.extractOneOrMore(e,a);let i;\"/\"===this.peekChar(e)&&(this.extract(e,this.consume,\"/\"),i=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,o),r=g(g({entry:parseInt(t,10)},i&&{direction:i}),{},{extensionName:n});this.peekChar(e)===o&&(this.consumeAttributeSpace(e),r.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(r)}parseSetup(e){if(this.attributes.setup)throw new Error(\"must only be one single 'a=setup' line.\");const t=this.extract(e,this.consumeTill);if(\"active\"!==t&&\"passive\"!==t&&\"actpass\"!==t&&\"holdconn\"!==t)throw new Error(\"role must be one of 'active', 'passive', 'actpass', 'holdconn'.\");this.attributes.setup=t}}class y extends v{constructor(){super(...arguments),T(this,\"attributes\",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error(\"already digested\");try{switch(e.attField){case\"group\":this.parseGroup(e);break;case\"ice-lite\":this.parseIceLite();break;case\"ice-ufrag\":this.parseIceUfrag(e);break;case\"ice-pwd\":this.parseIcePwd(e);break;case\"ice-options\":this.parseIceOptions(e);break;case\"fingerprint\":this.parseFingerprint(e);break;case\"setup\":this.parseSetup(e);break;case\"tls-id\":this.parseTlsId(e);break;case\"identity\":this.parseIdentity(e);break;case\"extmap\":this.parseExtmap(e);break;case\"msid-semantic\":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error(\"parsing session attribute \".concat(e.attField,' error, \"a=').concat(e.attField,\":\").concat(e.attValue,'\"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error(\"attribute parsing error\")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),i=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;)this.consumeAttributeSpace(e),i.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:i})}parseIceLite(){if(this.attributes.iceLite)throw new Error(\"Invalid ice-lite, should be only a single line of 'a=ice-lite'\");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error(\"must be only one tld-id line\");this.attributes.tlsId=this.extractOneOrMore(e,m)}parseIdentity(e){const t=this.extractOneOrMore(e,f),i=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,\"=\");const n=this.extractOneOrMore(e,(e=>e!==o&&_(e)));i.push({name:t,value:n})}this.attributes.identities.push({assertionValue:t,extensions:i})}parseMsidSemantic(e){this.peekChar(e)===o&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if(\"*\"===this.peekChar(e)){this.extract(e,this.consume,\"*\"),t.applyForAll=!0;break}{const i=this.extract(e,this.consumeTill,o);t.identifierList.push(i)}}this.attributes.msidSemantic=t}}class I extends v{constructor(e){super(),T(this,\"attributes\",void 0),-1!==e.protos.indexOf(\"RTP\")||e.protos.indexOf(\"rtp\"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error(\"already digested\");try{switch(e.attField){case\"extmap\":this.parseExtmap(e);break;case\"setup\":this.parseSetup(e);break;case\"ice-ufrag\":this.parseIceUfrag(e);break;case\"ice-pwd\":this.parseIcePwd(e);break;case\"ice-options\":this.parseIceOptions(e);break;case\"candidate\":this.parseCandidate(e);break;case\"remote-candidate\":this.parseRemoteCandidate(e);break;case\"end-of-candidates\":this.parseEndOfCandidates();break;case\"fingerprint\":this.parseFingerprint(e);break;case\"rtpmap\":this.parseRtpmap(e);break;case\"ptime\":this.parsePtime(e);break;case\"maxptime\":this.parseMaxPtime(e);break;case\"sendrecv\":case\"recvonly\":case\"sendonly\":case\"inactive\":this.parseDirection(e);break;case\"ssrc\":this.parseSSRC(e);break;case\"fmtp\":this.parseFmtp(e);break;case\"rtcp-fb\":this.parseRtcpFb(e);break;case\"rtcp-mux\":this.parseRTCPMux();break;case\"rtcp-mux-only\":this.parseRTCPMuxOnly();break;case\"rtcp-rsize\":this.parseRTCPRsize();break;case\"rtcp\":this.parseRTCP(e);break;case\"mid\":this.parseMid(e);break;case\"msid\":this.parseMsid(e);break;case\"imageattr\":this.parseImageAttr(e);break;case\"rid\":this.parseRid(e);break;case\"simulcast\":this.parseSimulcast(e);break;case\"sctp-port\":this.parseSctpPort(e);break;case\"max-message-size\":this.parseMaxMessageSize(e);break;case\"ssrc-group\":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error(\"parsing media attribute \".concat(e.attField,' error, \"a=').concat(e.attField,\":\").concat(e.attValue,'\"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error(\"attribute parsing error\")}parseCandidate(e){const t=this.extractOneOrMore(e,E,[1,32]);this.consumeAttributeSpace(e);const i=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const r=this.extractOneOrMore(e,a,[1,10]);this.consumeAttributeSpace(e);const s=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const d=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,\"typ\"),this.consumeAttributeSpace(e);const l={foundation:t,componentId:i,transport:n,priority:r,connectionAddress:s,port:d,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e,\" raddr\")&&(this.extract(e,this.consume,\" raddr\"),this.consumeAttributeSpace(e),l.relAddr=this.extract(e,this.consumeAddress)),this.peek(e,\" rport\")&&(this.extract(e,this.consume,\" rport\"),this.consumeAttributeSpace(e),l.relPort=this.extract(e,this.consumePort));this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),l.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(l)}parseRemoteCandidate(e){const t=[];for(;;){const i=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumePort);t.push({componentId:i,connectionAddress:n,port:r});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error(\"must be only one line of end-of-candidates\");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,\"/\");this.extract(e,this.consume,\"/\");const n={encodingName:i,clockRate:this.extractOneOrMore(e,a)};this.atEnd(e)||\"/\"!==this.peekChar(e)||(this.extract(e,this.consume,\"/\"),n.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const r=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));r?r.rtpMap=n:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:n,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error(\"must be only one line of ptime\");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error(\"must be only one line of ptime\");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error(\"must be only one line of direction info\");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,a);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,\":\");let n;\":\"===this.peekChar(e)&&(this.extract(e,this.consume,\":\"),n=this.extract(e,this.consumeTill));const r=this.attributes.ssrcs.find((e=>e.ssrcId===parseInt(t,10)));r?r.attributes[i]=n:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[i]:n}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,o);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill),n={};i.split(\";\").forEach((e=>{let[t,i]=e.split(\"=\");t=kg(t).call(t);const r=\"string\"==typeof i?kg(i).call(i):null;\"string\"==typeof t&&t.length>0&&(n[t]=r)}));const r=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));r?r.fmtp={parameters:n}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:n}})}parseFmtParameters(e){const t={},i=this.extract(e,this.consumeTill,\"=\");e._cur++;const n=this.extract(e,this.consumeTill,\";\");for(t[i]=n;\";\"===e.attValue[e._cur];){const i=this.extract(e,this.consumeTill,\"=\");e._cur++;const n=this.extract(e,this.consumeTill,\";\");t[i]=n}return t}parseRtcpFb(e){let t=\"\";t=\"*\"===this.peekChar(e)?this.extract(e,this.consume,\"*\"):this.extract(e,this.consumeTill,o),this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,o);let n;if(\"trr-int\"===i)n={type:i,interval:this.extract(e,this.consumeTill)};else{const t={type:i};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===o&&(t.additional=this.extract(e,this.consumeTill))),n=t}if(\"*\"===t)this.attributes.rtcpFeedbackWildcards.push(n);else{const e=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));e?e.rtcpFeedbacks.push(n):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[n]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error(\"must be single line of rtcp-mux\");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error(\"must be single line of rtcp-only\");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error(\"must be single line of rtcp-rsize\");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error(\"must be single line of rtcp\");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,l,[1,64])};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,l,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,(e=>h(e)||a(e)||\"_\"===e||\"-\"===e));this.consumeAttributeSpace(e);const i={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===o){if(this.consumeAttributeSpace(e),this.peek(e,\"pt=\")){this.extract(e,this.consume,\"pt=\");const t=[];for(;;){const i=this.extract(e,this.consumeToken);t.push(i);try{this.extract(e,this.consume,\",\")}catch(e){break}}i.payloads=t,this.peekChar(e)===o&&this.extract(e,this.consume,o)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case\"depend\":{const n={type:t,rids:this.extract(e,this.consume,\"=\").split(\",\")};i.params.push(n);break}default:{const n={type:t};\"=\"===this.peekChar(e)&&(this.extract(e,this.consume,\"=\"),n.val=this.extract(e,this.consumeTill,\";\")),i.params.push(n)}}try{this.extract(e,this.consume,\";\")}catch(e){break}}}this.attributes.rids.push(i)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error(\"must be single line of simulcast\");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,a,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,a,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),i=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);i.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:i})}}function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class b{constructor(){A(this,\"eol\",r)}print(e,t){let i=\"\";return t&&(this.eol=t),i+=this.printVersion(e.version),i+=this.printOrigin(e.origin),i+=this.printSessionName(e.sessionName),i+=this.printInformation(e.information),i+=this.printUri(e.uri),i+=this.printEmail(e.emails),i+=this.printPhone(e.phones),i+=this.printConnection(e.connection),i+=this.printBandwidth(e.bandwidths),i+=this.printTimeFields(e.timeFields),i+=this.printKey(e.key),i+=this.printSessionAttributes(e.attributes),i+=this.printMediaDescription(e.mediaDescriptions),i}printVersion(e){return\"v=\".concat(e).concat(this.eol)}printOrigin(e){return\"o=\".concat(e.username,\" \").concat(e.sessId,\" \").concat(e.sessVersion,\" \").concat(e.nettype,\" \").concat(e.addrtype,\" \").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?\"s=\".concat(e).concat(this.eol):\"\"}printInformation(e){return e?\"i=\".concat(e).concat(this.eol):\"\"}printUri(e){return e?\"u=\".concat(e).concat(this.eol):\"\"}printEmail(e){let t=\"\";for(const i of e)t+=\"e=\".concat(i).concat(this.eol);return t}printPhone(e){let t=\"\";for(const i of e)t+=\"e=\".concat(i).concat(this.eol);return t}printConnection(e){return e?\"c=\".concat(e.nettype,\" \").concat(e.addrtype,\" \").concat(e.address).concat(this.eol):\"\"}printBandwidth(e){let t=\"\";for(const i of e)t+=\"b=\".concat(i.bwtype,\":\").concat(i.bandwidth).concat(this.eol);return t}printTimeFields(e){let t=\"\";for(const i of e){t+=\"t=\".concat(i.time.startTime,\" \").concat(i.time.startTime).concat(this.eol);for(const e of i.repeats)t+=\"r=\".concat(e.repeatInterval,\" \").concat(e.typedTimes.join(\" \")).concat(this.eol);i.zoneAdjustments&&(t+=\"z=\",t+=\"z=\".concat(i.zoneAdjustments.map((e=>\"\".concat(e.time,\" \").concat(e.back?\"-\":\"\",\" \").concat(e.typedTime))).join(\" \")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?\"k=\".concat(e).concat(this.eol):\"\"}printAttributes(e){let t=\"\";for(const i of e)t+=\"a=\".concat(i.attField).concat(i.attValue?\":\".concat(i.attValue):\"\").concat(this.eol);return t}printMediaDescription(e){let t=\"\";for(const i of e)t+=this.printMedia(i.media),t+=this.printInformation(i.information),t+=this.printConnections(i.connections),t+=this.printBandwidth(i.bandwidths),t+=this.printKey(i.key),t+=this.printMediaAttributes(i);return t}printConnections(e){let t=\"\";for(const i of e)t+=this.printConnection(i);return t}printMedia(e){return\"m=\".concat(e.mediaType,\" \").concat(e.port,\" \").concat(e.protos.join(\"/\"),\" \").concat(e.fmts.join(\" \")).concat(this.eol)}printSessionAttributes(e){return new O(this.eol).print(e)}printMediaAttributes(e){return new N(this.eol).print(e)}}class w{constructor(e){A(this,\"eol\",void 0),this.eol=e}printIceUfrag(e){return void 0===e?\"\":\"a=ice-ufrag:\".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?\"\":\"a=ice-pwd:\".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?\"\":\"a=ice-options:\".concat(e.join(o)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map((e=>\"a=fingerprint:\".concat(e.hashFunction).concat(o).concat(e.fingerprint))).join(this.eol)+this.eol:\"\"}printExtmap(e){return e.map((e=>\"a=extmap:\".concat(e.entry).concat(e.direction?\"/\".concat(e.direction):\"\").concat(o).concat(e.extensionName).concat(e.extensionAttributes?\"\".concat(o).concat(e.extensionAttributes):\"\").concat(this.eol))).join(\"\")}printSetup(e){return void 0===e?\"\":\"a=setup:\".concat(e).concat(this.eol)}printUnrecognized(e){return e.map((e=>\"a=\".concat(e.attField).concat(e.attValue?\":\".concat(e.attValue):\"\").concat(this.eol))).join(\"\")}}class O extends w{print(e){let t=\"\";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t=\"\";return e.length>0&&(t+=e.map((e=>\"a=group:\".concat(e.semantic).concat(e.identificationTag.map((e=>\"\".concat(o).concat(e))).join(\"\")).concat(this.eol))).join(\"\")),t}printIceLite(e){return void 0===e?\"\":\"a=ice-lite\"+this.eol}printTlsId(e){return e?\"a=tls-id:\".concat(e).concat(this.eol):\"\"}printIdentity(e){return 0===e.length?\"\":e.map((e=>\"a=identity:\".concat(e.assertionValue).concat(e.extensions.map((e=>\"\".concat(o).concat(e.name).concat(e.value?\"=\".concat(e.value):\"\")))))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return\"\";let t=\"a=msid-semantic:\".concat(e.semantic);return e.applyForAll?t+=\"\".concat(o,\"*\"):e.identifierList.length>0&&(t+=e.identifierList.map((e=>\"\".concat(o).concat(e)))),t+this.eol}}class N extends w{print(e){const t=e.attributes;let i=\"\";return i+=this.printRTCP(t.rtcp),i+=this.printIceUfrag(t.iceUfrag),i+=this.printIcePwd(t.icePwd),i+=this.printIceOptions(t.iceOptions),i+=this.printCandidates(t.candidates),i+=this.printRemoteCandidatesList(t.remoteCandidatesList),i+=this.printEndOfCandidates(t.endOfCandidates),i+=this.printFingerprints(t.fingerprints),i+=this.printSetup(t.setup),i+=this.printMid(t.mid),i+=this.printExtmap(t.extmaps),i+=this.printRTPRelated(t),i+=this.printPtime(t.ptime),i+=this.printMaxPtime(t.maxPtime),i+=this.printDirection(t.direction),i+=this.printSSRCGroups(t.ssrcGroups),i+=this.printSSRC(t.ssrcs),i+=this.printRTCPMux(t.rtcpMux),i+=this.printRTCPMuxOnly(t.rtcpMuxOnly),i+=this.printRTCPRsize(t.rtcpRsize),i+=this.printMSId(t.msids),i+=this.printImageattr(t.imageattr),i+=this.printRid(t.rids),i+=this.printSimulcast(t.simulcast),i+=this.printSCTPPort(t.sctpPort),i+=this.printMaxMessageSize(t.maxMessageSize),i+=this.printUnrecognized(t.unrecognized),i}printCandidates(e){return e.map((e=>\"a=candidate:\".concat(e.foundation).concat(o).concat(e.componentId).concat(o).concat(e.transport).concat(o).concat(e.priority).concat(o).concat(e.connectionAddress).concat(o).concat(e.port).concat(o,\"typ\").concat(o).concat(e.type).concat(e.relAddr?\"\".concat(o,\"raddr\").concat(o).concat(e.relAddr):\"\").concat(e.relPort?\"\".concat(o,\"rport\").concat(o).concat(e.relPort):\"\").concat(Object.keys(e.extension).map((t=>\"\".concat(o).concat(t).concat(o).concat(e.extension[t]))).join(\"\")).concat(this.eol))).join(\"\")}printRemoteCandidatesList(e){return e.map((e=>\"a=remote-candidates:\".concat(e.join(o)).concat(this.eol))).join(\"\")}printEndOfCandidates(e){return void 0===e?\"\":\"a=end-of-candidates\"+this.eol}printRTPRelated(e){if(!e.payloads)return\"\";const t=e.payloads;let i=\"\";i+=e.rtcpFeedbackWildcards.map((e=>this.printRTCPFeedback(\"*\",e))).join(\"\");for(const e of t)i+=this.printRtpMap(e.payloadType,e.rtpMap),i+=this.printFmtp(e.payloadType,e.fmtp),i+=e.rtcpFeedbacks.map((t=>this.printRTCPFeedback(e.payloadType,t))).join(\"\");return i}printFmtp(e,t){if(!t)return\"\";const i=Object.keys(t.parameters);return 1===i.length&&null===t.parameters[i[0]]?\"a=fmtp:\".concat(e).concat(o).concat(i[0]).concat(this.eol):\"a=fmtp:\".concat(e).concat(o).concat(Object.keys(t.parameters).map((e=>\"\".concat(e,\"=\").concat(t.parameters[e]))).join(\";\")).concat(this.eol)}printRtpMap(e,t){return t?\"a=rtpmap:\".concat(e).concat(o).concat(t.encodingName,\"/\").concat(t.clockRate).concat(t.encodingParameters?\"/\".concat(t.encodingParameters):\"\").concat(this.eol):\"\"}printRTCPFeedback(e,t){let i=\"a=rtcp-fb:\".concat(e).concat(o),n=t;return\"trr-int\"===n.type?i+=\"ttr-int\".concat(o).concat(n.interval):(i+=\"\".concat(n.type),n.parameter&&(i+=\"\".concat(o).concat(n.parameter),n.additional&&(i+=\"\".concat(o).concat(n.additional)))),i+this.eol}printPtime(e){return void 0===e?\"\":\"a=ptime:\".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?\"\":\"a=maxptime:\".concat(e).concat(this.eol)}printDirection(e){return void 0===e?\"\":\"a=\".concat(e).concat(this.eol)}printSSRC(e){return e.map((e=>Object.keys(e.attributes).map((t=>\"a=ssrc:\".concat(e.ssrcId.toString(10)).concat(o).concat(t).concat(e.attributes[t]?\":\".concat(e.attributes[t]):\"\").concat(this.eol))).join(\"\"))).join(\"\")}printRTCPMux(e){return void 0===e?\"\":\"a=rtcp-mux\".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?\"\":\"a=rtcp-mux-only\".concat(this.eol)}printRTCPRsize(e){return void 0===e?\"\":\"a=rtcp-rsize\".concat(this.eol)}printRTCP(e){if(void 0===e)return\"\";let t=\"a=rtcp:\".concat(e.port);return e.netType&&(t+=\"\".concat(o).concat(e.netType)),e.addressType&&(t+=\"\".concat(o).concat(e.addressType)),e.address&&(t+=\"\".concat(o).concat(e.address)),t+this.eol}printMSId(e){return e.map((e=>\"a=msid:\".concat(e.id).concat(e.appdata?\"\".concat(o).concat(e.appdata):\"\").concat(this.eol))).join(\"\")}printImageattr(e){return e.map((e=>\"a=imageattr:\".concat(e).concat(this.eol))).join(\"\")}printRid(e){return e.map((e=>{let t=\"a=rid:\".concat(e.id).concat(o).concat(e.direction);return e.payloads&&(t+=\"\".concat(o,\"pt=\").concat(e.payloads.join(\",\"))),e.params.length>0&&(t+=\"\".concat(o).concat(e.params.map((e=>\"depend\"===e.type?\"depend=\".concat(e.rids.join(\",\")):\"\".concat(e.type,\"=\").concat(e.val))).join(\";\"))),t+this.eol})).join(\"\")}printSimulcast(e){return void 0===e?\"\":\"a=simulcast:\".concat(e).concat(this.eol)}printSCTPPort(e){return void 0===e?\"\":\"a=sctp-port:\".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?\"\":\"a=max-message-size:\".concat(e).concat(this.eol)}printMid(e){return void 0===e?\"\":\"a=mid:\".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map((e=>\"a=ssrc-group:\".concat(e.semantic).concat(e.ssrcIds.map((e=>\"\".concat(o).concat(e.toString(10)))).join(\"\")).concat(this.eol))).join(\"\")}}function D(e){return(new C).parse(e)}function P(e,t){return(new b).print(e,t)}}},t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}return i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i(8)})();function LD(e){return PD.parse(e)}function kD(e,t){return PD.print(e,t)}var MD=Zi(\"Array\",\"keys\"),UD=En,VD=$e,xD=l,FD=MD,BD=Array.prototype,jD={DOMTokenList:!0,NodeList:!0},GD=function(e){var t=e.keys;return e===BD||xD(BD,e)&&t===BD.keys||VD(jD,UD(e))?FD:t},WD=i(GD);function HD(e,t,i){return(t=function(e){var t=function(e,t){if(\"object\"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,\"string\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==typeof t?t:t+\"\"}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function KD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function YD(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?KD(Object(i),!0).forEach((function(t){HD(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):KD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function zD(e,t){return zD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zD(e,t)}function qD(){qD=function(e,t){return new i(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function i(e,n,r){var o=RegExp(e,n);return t.set(o,r||t.get(e)),zD(o,i.prototype)}function n(e,i){var n,r=t.get(i);return nr(n=Object.keys(r)).call(n,(function(t,i){var n=r[i];if(\"number\"==typeof n)t[i]=e[n];else{for(var o=0;void 0===e[n[o]]&&o+1<n.length;)o++;t[i]=e[n[o]]}return t}),Object.create(null))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&zD(e,t)}(i,RegExp),i.prototype.exec=function(t){var i=e.exec.call(this,t);if(i){i.groups=n(i,this);var r=i.indices;r&&(r.groups=n(r,this))}return i},i.prototype[Symbol.replace]=function(i,r){if(\"string\"==typeof r){var o=t.get(this);return e[Symbol.replace].call(this,i,r.replace(/\\$<([^>]+)(>|$)/g,(function(e,t,i){if(\"\"===i)return e;var n=o[t];return Array.isArray(n)?\"$\"+n.join(\"$\"):\"number\"==typeof n?\"$\"+n:\"\"})))}if(\"function\"==typeof r){var s=this;return e[Symbol.replace].call(this,i,(function(){var e=arguments;return\"object\"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,s)),r.apply(this,e)}))}return e[Symbol.replace].call(this,i,r)},qD.apply(this,arguments)}const XD=new class extends NO{constructor(){super(...arguments),HD(this,\"currentUploadLogID\",0)}reportLogUploadError(e){const{errorRange:t}=e;t[t.length-1]&&t[t.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=t[t.length-1],this.emit(\"REPORT_LOG_UPLOAD\",e))}};class JD{constructor(e){HD(this,\"logger\",void 0),HD(this,\"prefixLists\",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}function QD(){const e=new Date;return e.toTimeString().split(\" \")[0]+\":\"+e.getMilliseconds()}function ZD(){const e=new Date,t=/((\\d+:){2}\\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+\":\"+e.getUTCMilliseconds():e.toTimeString().split(\" \")[0]+\":\"+e.getMilliseconds()}const $D={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},eP=Date.now(),tP=e=>{for(const t in $D)if(Object.prototype.hasOwnProperty.call($D,t)&&$D[t]===e)return t;return\"DEFAULT\"};const iP=new class{constructor(){HD(this,\"proxyServerURL\",void 0),HD(this,\"logLevel\",$D.DEBUG),HD(this,\"uploadState\",\"collecting\"),HD(this,\"uploadLogWaitingList\",[]),HD(this,\"uploadLogUploadingList\",[]),HD(this,\"uploadErrorCount\",0),HD(this,\"currentLogID\",0),HD(this,\"url\",void 0),HD(this,\"extLog\",((e,t)=>{this.appendLogToWaitingList(e,...t)}))}debug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[$D.DEBUG].concat(t);this.log.apply(this,n)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[$D.INFO].concat(t);this.log.apply(this,n)}warning(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[$D.WARNING].concat(t);this.log.apply(this,n)}warn(){this.warning(...arguments)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[$D.ERROR].concat(t);this.log.apply(this,n)}upload(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[$D.DEBUG].concat(t);this.uploadLog.apply(this,n)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){RD(\"UPLOAD_LOG\",!0)}disableLogUpload(){RD(\"UPLOAD_LOG\",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new JD(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(Date.now()-eP<100)return void setTimeout((()=>{this.log(...t)}),Date.now()-eP);const n=Math.max(0,Math.min(4,t[0]));if(t[0]=QD()+\" Agora-SDK [\".concat(tP(n),\"]:\"),this.appendLogToWaitingList(n,...t),n<this.logLevel)return;const r=QD()+\" %cAgora-SDK [\".concat(tP(n),\"]:\");let o=[];if(!CD(\"USE_NEW_LOG\"))switch(n){case $D.DEBUG:o=[r,\"color: #64B5F6;\"].concat(t.slice(1)),console.log.apply(console,o);break;case $D.INFO:o=[r,\"color: #1E88E5; font-weight: bold;\"].concat(t.slice(1)),console.log.apply(console,o);break;case $D.WARNING:o=[r,\"color: #FB8C00; font-weight: bold;\"].concat(t.slice(1)),console.warn.apply(console,o);break;case $D.ERROR:o=[r,\"color: #B00020; font-weight: bold;\"].concat(t.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(Date.now()-eP<100)return void setTimeout((()=>{this.uploadLog(...t)}),Date.now()-eP);const n=Math.max(0,Math.min(4,t[0]));t[0]=QD()+\" Agora-SDK [\".concat(tP(n),\"]:\"),this.appendLogToWaitingList(n,...t)}appendLogToWaitingList(e){if(!CD(\"UPLOAD_LOG\"))return;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Array.isArray(i[0])?i[0][0]=ZD()+\" Agora-SDK [\".concat(tP(e),\"]:\"):i[0]=ZD()+\" Agora-SDK [\".concat(tP(e),\"]:\");let r=\"\";i.forEach((e=>{\"object\"==typeof e&&(e=JSON.stringify(e)),r+=\"\".concat(e,\" \")})),this.uploadLogWaitingList.push({payload_str:r,log_level:e,log_item_id:this.currentLogID++}),\"uploading\"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState=\"uploading\",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:hD,process_id:CD(\"PROCESS_ID\"),payload:JSON.stringify(e)};return UN((async()=>{const e=await Tw.post(this.url||(this.proxyServerURL?\"https://\".concat(this.proxyServerURL,\"/ls/?h=\").concat(CD(\"LOG_UPLOAD_SERVER\"),\"&p=443&d=upload/v1\"):\"https://\".concat(CD(\"LOG_UPLOAD_SERVER\"),\"/upload/v1\")),t,{responseType:\"text\"});if(\"OK\"!==e.data){const t=new Error(\"unexpected upload log response\");throw t.response=e,t}}),(()=>(this.uploadLogUploadingList=[],!1)),(t=>{const i={status:-1,message:t.message,errorRange:e.map((e=>e.log_item_id))};return t.response?(i.status=t.response.status,i.data=t.response.data,i.headers=t.response.headers):t.request&&(i.status=t.request.status),XD.reportLogUploadError(i),!0}),{timeout:CD(\"UPLOAD_LOG_REQUEST_RETRY_INTERVAL\"),maxRetryTimeout:CD(\"UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL\")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,CD(\"UPLOAD_LOG_LENGTH_EACH_TIME\"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),CD(\"UPLOAD_LOG_INTERVAL\"))})).catch((e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),CD(\"UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1\")):window.setTimeout((()=>this.uploadLogInterval()),CD(\"UPLOAD_LOG_RETRY_INTERVAL_V1\"))})))}};var nP;function rP(e){return SO(e.reportId,\"params.reportId\",0,100,!1),SO(e.category,\"params.category\",0,100,!1),SO(e.event,\"params.event\",0,100,!1),SO(e.label,\"params.label\",0,100,!1),mO(e.value,\"params.value\",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(nP={}).FREE=\"free\",nP.UPLOADING=\"uploading\",function(e){e[e.MISC=0]=\"MISC\",e[e.INTERNAL_EVENT=1]=\"INTERNAL_EVENT\",e[e.PUBLIC_EVENT=2]=\"PUBLIC_EVENT\",e[e.WEB_EVENT=3]=\"WEB_EVENT\",e[e.INTERNAL_API=4]=\"INTERNAL_API\",e[e.WEB_API=5]=\"WEB_API\",e[e.PUBLIC_API=6]=\"PUBLIC_API\"}({});const oP={sid:\"\",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let sP=function(e){return e.PUBLISH=\"publish\",e.SUBSCRIBE=\"subscribe\",e.WS_COMPRESSOR_INIT=\"ws_compressor_init\",e.SESSION_INIT=\"session_init\",e.JOIN_CHOOSE_SERVER=\"join_choose_server\",e.RTE_DETAIL=\"rte_detail_stats\",e.REQ_USER_ACCOUNT=\"req_user_account\",e.JOIN_GATEWAY=\"join_gateway\",e.REJOIN_GATEWAY=\"rejoin_gateway\",e.STREAM_SWITCH=\"stream_switch\",e.REQUEST_PROXY_WORKER_MANAGER=\"request_proxy_worker_manager\",e.REQUEST_PROXY_APPCENTER=\"request_proxy_appcenter\",e.FIRST_VIDEO_RECEIVED=\"first_video_received\",e.FIRST_AUDIO_RECEIVED=\"first_audio_received\",e.FIRST_VIDEO_DECODE=\"first_video_decode\",e.FIRST_AUDIO_DECODE=\"first_audio_decode\",e.XLA_PEER_FIRST_VIDEO_FRAME=\"xla_peer_first_video_frame\",e.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",e.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",e.ON_UPDATE_STREAM=\"on_update_stream\",e.ON_REMOVE_STREAM=\"on_remove_stream\",e.USER_ANALYTICS=\"req_user_analytics\",e.PC_STATS=\"pc_stats\",e.UPDATE_REMOTE_RTPCAPABILITIES=\"update_remote_rtpCapabilities\",e.AB_TEST=\"ab_test\",e}({}),aP=function(e){return e.SESSION=\"io.agora.pb.Wrtc.Session\",e.JOIN_CHOOSE_SERVER=\"io.agora.pb.Wrtc.JoinChooseServer\",e.RTE_DETAIL=\"io.agora.pb.Wrtc.RteDetailStats\",e.REQ_USER_ACCOUNT=\"io.agora.pb.Wrtc.ReqUserAccount\",e.JOIN_GATEWAY=\"io.agora.pb.Wrtc.JoinGateway\",e.RE_JOIN_GATEWAY=\"io.agora.pb.Wrtc.ReJoinGateway\",e.PUBLISH=\"io.agora.pb.Wrtc.Publish\",e.SUBSCRIBE=\"io.agora.pb.Wrtc.Subscribe\",e.WS_COMPRESSOR_INIT=\"io.agora.pb.Wrtc.WsCompressorInit\",e.STREAM_SWITCH=\"io.agora.pb.Wrtc.StreamSwitch\",e.AUDIO_SENDING_STOPPED=\"io.agora.pb.Wrtc.AudioSendingStopped\",e.VIDEO_SENDING_STOPPED=\"io.agora.pb.Wrtc.VideoSendingStopped\",e.REQUEST_PROXY_APPCENTER=\"io.agora.pb.Wrtc.RequestProxyAppCenter\",e.REQUEST_PROXY_WORKER_MANAGER=\"io.agora.pb.Wrtc.RequestProxyWorkerManager\",e.API_INVOKE=\"io.agora.pb.Wrtc.ApiInvoke\",e.FIRST_VIDEO_RECEIVED=\"io.agora.pb.Wrtc.FirstVideoReceived\",e.FIRST_AUDIO_RECEIVED=\"io.agora.pb.Wrtc.FirstAudioReceived\",e.FIRST_VIDEO_DECODE=\"io.agora.pb.Wrtc.FirstVideoDecode\",e.FIRST_AUDIO_DECODE=\"io.agora.pb.Wrtc.FirstAudioDecode\",e.XLA_PEER_FIRST_VIDEO_FRAME=\"io.agora.pb.Wrtc.XLAPeerFirstVideoFrame\",e.ON_ADD_AUDIO_STREAM=\"io.agora.pb.Wrtc.OnAddAudioStream\",e.ON_ADD_VIDEO_STREAM=\"io.agora.pb.Wrtc.OnAddVideoStream\",e.ON_UPDATE_STREAM=\"io.agora.pb.Wrtc.OnUpdateStream\",e.ON_REMOVE_STREAM=\"io.agora.pb.Wrtc.OnRemoveStream\",e.JOIN_CHANNEL_TIMEOUT=\"io.agora.pb.Wrtc.JoinChannelTimeout\",e.PEER_PUBLISH_STATUS=\"io.agora.pb.Wrtc.PeerPublishStatus\",e.WORKER_EVENT=\"io.agora.pb.Wrtc.WorkerEvent\",e.AP_WORKER_EVENT=\"io.agora.pb.Wrtc.APWorkerEvent\",e.JOIN_WEB_PROXY_AP=\"io.agora.pb.Wrtc.JoinWebProxyAP\",e.WEBSOCKET_QUIT=\"io.agora.pb.Wrtc.WebSocketQuit\",e.USER_ANALYTICS=\"io.agora.pb.Wrtc.UserAnalytics\",e.AUTOPLAY_FAILED=\"io.agora.pb.Wrtc.AutoplayFailed\",e.PC_STATS=\"io.agora.pb.Wrtc.PCStats\",e.UPDATE_REMOTE_RTPCAPABILITIES=\"io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities\",e.AB_TEST=\"io.agora.pb.Wrtc.ABTest\",e}({});!function(e){e[e.WORKER_EVENT=156]=\"WORKER_EVENT\",e[e.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\"}({});let cP=function(e){return e[e.SESSION=26]=\"SESSION\",e[e.JOIN_CHOOSE_SERVER=27]=\"JOIN_CHOOSE_SERVER\",e[e.REQ_USER_ACCOUNT=196]=\"REQ_USER_ACCOUNT\",e[e.JOIN_GATEWAY=28]=\"JOIN_GATEWAY\",e[e.PUBLISH=30]=\"PUBLISH\",e[e.SUBSCRIBE=29]=\"SUBSCRIBE\",e[e.WS_COMPRESSOR_INIT=9430]=\"WS_COMPRESSOR_INIT\",e[e.STREAM_SWITCH=32]=\"STREAM_SWITCH\",e[e.AUDIO_SENDING_STOPPED=33]=\"AUDIO_SENDING_STOPPED\",e[e.VIDEO_SENDING_STOPPED=34]=\"VIDEO_SENDING_STOPPED\",e[e.REQUEST_PROXY_APPCENTER=35]=\"REQUEST_PROXY_APPCENTER\",e[e.REQUEST_PROXY_WORKER_MANAGER=36]=\"REQUEST_PROXY_WORKER_MANAGER\",e[e.API_INVOKE=41]=\"API_INVOKE\",e[e.FIRST_VIDEO_RECEIVED=348]=\"FIRST_VIDEO_RECEIVED\",e[e.FIRST_AUDIO_RECEIVED=349]=\"FIRST_AUDIO_RECEIVED\",e[e.FIRST_VIDEO_DECODE=350]=\"FIRST_VIDEO_DECODE\",e[e.FIRST_AUDIO_DECODE=351]=\"FIRST_AUDIO_DECODE\",e[e.ON_ADD_AUDIO_STREAM=352]=\"ON_ADD_AUDIO_STREAM\",e[e.ON_ADD_VIDEO_STREAM=353]=\"ON_ADD_VIDEO_STREAM\",e[e.ON_UPDATE_STREAM=356]=\"ON_UPDATE_STREAM\",e[e.ON_REMOVE_STREAM=355]=\"ON_REMOVE_STREAM\",e[e.JOIN_CHANNEL_TIMEOUT=407]=\"JOIN_CHANNEL_TIMEOUT\",e[e.PEER_PUBLISH_STATUS=408]=\"PEER_PUBLISH_STATUS\",e[e.WORKER_EVENT=156]=\"WORKER_EVENT\",e[e.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\",e[e.JOIN_WEB_PROXY_AP=700]=\"JOIN_WEB_PROXY_AP\",e[e.WEBSOCKET_QUIT=671]=\"WEBSOCKET_QUIT\",e[e.USER_ANALYTICS=1e4]=\"USER_ANALYTICS\",e[e.AUTOPLAY_FAILED=9178]=\"AUTOPLAY_FAILED\",e}({});function dP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,i,n){const r=n.value;if(\"function\"==typeof r){const o=e.className||t.__className__||(\"AgoraRTCClient\"===t.constructor.name?\"Client\":t.constructor.name);n.value=function(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];let c=s;if(e.argsMap)try{c=e.argsMap(this,...s)}catch(e){iP.warning(e),c=[]}try{JSON.stringify(c)}catch(e){iP.warning(\"arguments for method \".concat(o,\".\").concat(String(i),\" not serializable for apiInvoke.\")),c=[]}const d=(e.report||lP).reportApiInvoke(this._sessionId||null,{id:this._clientId||(null===(t=this.store)||void 0===t?void 0:t.clientId)||this._ID,name:\"\".concat(o,\".\").concat(String(i)),options:c,tag:kO.TRACER,reportResult:e.reportResult},e.throttleTime);try{const t=r.apply(this,s);return t instanceof rp?t.then((t=>(d.onSuccess(e.reportResult&&t),t))).catch((e=>{throw d.onError(e),e})):(d.onSuccess(e.reportResult&&t),t)}catch(e){throw d.onError(e),e}}}return n}}const lP=new class{constructor(){HD(this,\"baseInfoMap\",new Map),HD(this,\"proxyServer\",void 0),HD(this,\"eventUploadTimer\",void 0),HD(this,\"setSessionIdTimer\",void 0),HD(this,\"url\",void 0),HD(this,\"sids\",new Set),HD(this,\"backupUrl\",void 0),HD(this,\"_appId\",void 0),HD(this,\"_aid\",0),HD(this,\"keyEventUploadPendingItems\",[]),HD(this,\"normalEventUploadPendingItems\",[]),HD(this,\"apiInvokeUploadPendingItems\",[]),HD(this,\"apiInvokeCount\",0),HD(this,\"apiInvokeLoggedCount\",0),HD(this,\"ltsList\",[]),HD(this,\"lastSendNormalEventTime\",Date.now()),HD(this,\"customReportCounterTimer\",void 0),HD(this,\"customReportCount\",0),HD(this,\"extApiInvoke\",(async e=>{for(const t of e){const e=YD(YD({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:kO.TRACER});this.sendApiInvoke(e)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),CD(\"EVENT_REPORT_SEND_INTERVAL\")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),CD(\"EVENT_REPORT_SEND_INTERVAL\"))}getBaseInfoBySessionId(e){return this.baseInfoMap.get(e)}setAppId(e){this._appId=e,this._aid=parseInt(e.replace(/[a-fA-F0-9]{8}/g,(e=>{let[t,i]=e;return t+i})),16)||0}reportApiInvoke(e,t,i){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const n=Date.now();this.apiInvokeCount+=1;const r=this.apiInvokeCount,o=!!CD(\"SHOW_REPORT_INVOKER_LOG\"),s=!!CD(\"SHOW_REPORT_USER_INVOKER_LOG\"),a=o||s&&t.id;a&&(this.apiInvokeLoggedCount+=1);const c=this.apiInvokeLoggedCount;function d(e,i){if(a){let n=\"[apiInvoke-\".concat(c,\"]\");if(t.id&&(n+=\"[\".concat(t.id,\"]\")),t.name&&(n+=\"[\".concat(t.name,\"]\"),t.name===LO.JOIN))return iP.info(\"\".concat(n,\" \").concat(e));iP.info(\"\".concat(n,\" \").concat(e),\"start\"===e?t.options:i||\"\")}}const l=()=>({tag:t.tag,invokeId:r,sid:e,name:t.name,apiInvokeTime:n,options:t.options,states:t.states||null});d(\"start\");let u=!1;fN(t.timeout).then((()=>{u||(this.sendApiInvoke(YD(YD({},l()),{},{error:hO.API_INVOKE_TIMEOUT,success:!1})),d(\"timeout\"))}));const h=new pO(hO.UNEXPECTED_ERROR,\"\".concat(t.name,\": this api invoke is end\"));return{onSuccess:e=>{const n=()=>{if(u)throw h;return u=!0,this.sendApiInvoke(YD(YD({},l()),{},{success:!0},t.reportResult&&{result:e})),d(\"onSuccess\"),e};return i?CN(n,t.name+\"Success\",i,(()=>u=!0)):n()},onError:e=>{const n=()=>{if(u)throw e;u=!0,this.sendApiInvoke(YD(YD({},l()),{},{success:!1,error:e})),d(\"onFailure\",e.toString())};return i?CN(n,t.name+\"Error\",i,(()=>u=!0)):n()}}}_send(e,t,i){this.send({type:e,data:t},i)}_sendApiInvoke(e){return this.sendApiInvoke(e)}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const i=Date.now(),n=this.createBaseInfo(e,i);n.cname=t.cname,n.rteUrl=t.rteUrl;const r=Object.assign({},{willUploadConsoleLog:CD(\"UPLOAD_LOG\"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:pD?\"global\":\"oversea\",areas:CD(\"AREAS\")&&CD(\"AREAS\").join(\",\")},t.extend),{stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:d,clientRole:l}=t,u=Date.now(),h=YD(YD({},n),{},{eventType:sP.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,buildFormat:t.buildFormat,build:SD,lts:u,elapse:u-i,extend:JSON.stringify(r),mode:t.mode,process:CD(\"PROCESS_ID\"),appType:CD(\"APP_TYPE\"),success:!0,version:hD,stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:d,clientType:Ln(p=window.navigator.userAgent).call(p,\"AgoraWebView\")?42:20,clientRole:l,serviceId:CD(\"PROCESS_ID\"),extensionID:CD(\"PLUGIN_INFO\").join(\",\")||\"\",rteUrl:t.rteUrl,rteSid:t.rteSid});var p;this.send({type:aP.SESSION,data:h},!0)}reportRteDetail(e){const t=this.baseInfoMap.get(e);if(!t)return;const i=t.info,n=Date.now(),r=YD(YD({},i),{},{eventType:sP.RTE_DETAIL,lts:n,success:!0,elapse:n-t.startTime,vid:void 0===i.vid?0:Number(i.vid),ua:navigator.userAgent});this.send({type:aP.RTE_DETAIL,data:r},!0)}joinChooseServer(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info;t.vid&&(n.vid=t.vid);const r=Date.now(),o=YD(YD({},n),{},{role:t.role,eventType:sP.JOIN_CHOOSE_SERVER,lts:r,eventElapse:t.elapse||r-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:r-i.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||\"\",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3,corssRegionTagReq:t.corssRegionTagReq||void 0,corssRegionTagRes:t.corssRegionTagRes||void 0,ua:navigator.userAgent,resourceTimingInfo:t.resourceTimingInfo||void 0});this.send({type:aP.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD({},n),{},{eventType:sP.REQ_USER_ACCOUNT,lts:r,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:t.elapse||r-i.startTime,eventElapse:r-t.lts,extend:JSON.stringify(t.extend)});this.send({type:aP.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info;t.vid&&(n.vid=t.vid),n.uid=t.uid,n.cid=t.cid;const r=Date.now(),{firstSuccess:o,addr:s,isProxy:a}=t,c=r-i.startTime,d=YD(YD({},n),{},{eventType:sP.JOIN_GATEWAY,lts:r,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,errorMsg:t.errorMsg||\"\",elapse:c,eventElapse:r-t.lts,firstSuccess:o,signalChannel:t.signalChannel,preload:t.preload?1:0,installId:uD(),isABTestSuccess:t.isABTestSuccess?1:0,gatewayIp:null,gatewayPort:null,isProxy:a?1:0}),l=d.success?1:0;if(t.succ&&(i.lastJoinSuccessTime=r),s)if(\"1\"===d.signalChannel){const e=qD(/(\\d+\\.\\d+\\.\\d+\\.\\d+):(\\d+)/,{ip:1,port:2}),t=s.match(e);d.gatewayIp=t&&t.groups?t.groups.ip:\"\",d.gatewayPort=t&&t.groups?t.groups.port:\"\"}else if(a){const e=s.match(/h=(\\d{1,3}-){3}\\d{1,3}/g),t=s.match(/p=[0-9]{1,6}/g);d.gatewayIp=e&&e.length?e[0].split(\"=\")[1].replace(/-/g,\".\"):\"\",d.gatewayPort=t&&t.length?t[0].split(\"=\")[1]:\"\"}else{const e=s.match(/wss:\\/\\/(\\d{1,3}-){3}\\d{1,3}/g),t=s.match(/(:|p=)[0-9]{1,6}/g);d.gatewayIp=e&&e.length?e[0].split(\"//\")[1].replace(/-/g,\".\"):\"\",d.gatewayPort=t&&t.length?t[0].split(/:|p=/g)[1]:\"\"}if(o)this.send({type:aP.JOIN_GATEWAY,data:d},!0);else{let e={isSuccess:l,port:d.gatewayPort};delete d.success,delete d.eventType,delete d.firstSuccess,delete d.gatewayPort,d.vid=Number(d.vid);const t=Object.assign({},d,e,{eventType:sP.REJOIN_GATEWAY});this.send({type:aP.RE_JOIN_GATEWAY,data:t},!0)}}joinChannelTimeout(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=Date.now(),r=YD(YD({},i.info),{},{lts:n,timeout:t,elapse:n-i.startTime});this.send({type:aP.JOIN_CHANNEL_TIMEOUT,data:r},!0)}publish(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD({},n),{},{eventType:sP.PUBLISH,lts:r,eventElapse:t.eventElapse,elapse:r-i.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:aP.PUBLISH,data:o},!0)}subscribe(e,t,i){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),s=YD(YD({},r),{},{eventType:sP.SUBSCRIBE,lts:o,eventElapse:t.eventElapse,elapse:o-n.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid,preSsrc:t.preSsrc?1:0},i&&{extend:JSON.stringify({isMassSubscribe:!0})});\"string\"==typeof t.peerid?s.peerSuid=t.peerid:s.peer=t.peerid,this.send({type:aP.SUBSCRIBE,data:s},!0)}wsCompressorInit(e){var t;const i=[...WD(t=this.baseInfoMap).call(t)],n=i.length?i[0]:\"UnableToGetSid\",r=this.baseInfoMap.get(n);if(!r)return;const o=r.info,s=Date.now(),a=YD(YD({},o),{},{eventType:sP.WS_COMPRESSOR_INIT,lts:s,eventElapse:e.eventElapse,elapse:s-r.startTime,status:e.status?1:2});this.send({type:aP.WS_COMPRESSOR_INIT,data:a},!0)}firstXLAPeerFirstVideoFrame(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=t.peerPubStatusMs-(i.lastJoinSuccessTime||r),s=YD(YD({},n),{},{elapse:r-i.startTime,eventType:sP.XLA_PEER_FIRST_VIDEO_FRAME,lts:r,peer:t.peer,width:t.width,height:t.height,ssrc:t.ssrc,p2pid:t.p2pid,peerPublishDuration:t.peerPublishDuration,joinChannelSuccessElapse:o,peerPubStatusMs:t.peerPubStatusMs-t.joinChannelStart,availablePublish:t.peerPublishDuration>o?1:0,preloadStart:Math.max(t.preloadStart-t.joinChannelStart,0),preloadEnd:Math.max(t.preloadEnd-t.joinChannelStart,0),encrypt:Math.max(t.apStart-t.joinChannelStart,0),ap:Math.max(t.apEnd-t.joinChannelStart,0),sua:Math.max(t.suaEnd-t.joinChannelStart,0),beforeConnect:Math.max(t.beforeConnect-t.joinChannelStart,0),peerRecevier:Math.max(t.peerReceiver-t.joinChannelStart,0),ice:Math.max(t.ice-t.joinChannelStart,0),pc:Math.max(t.pc-t.joinChannelStart,0),signalConnected:Math.max(t.signalConnected-t.joinChannelStart,0),joinReq:Math.max(t.joinReq-t.joinChannelStart,0),joinRes:Math.max(t.joinRes-t.joinChannelStart,0),userJoinNotify:Math.max(t.userJoinNotify-t.joinChannelStart,0),videoSsrcNotify:Math.max(t.videoAddNotify-t.joinChannelStart,0),subscribeDelayMs:Math.max(t.subscribeStart-t.videoAddNotify,0),subscribeStart:Math.max(t.subscribeStart-t.joinChannelStart,0),subscribeEnd:Math.max(t.subscribeEnd-t.joinChannelStart,0),firstReceived:Math.max(t.firstReceived-t.joinChannelStart,0),firstDecoded:Math.max(t.firstDecoded-t.joinChannelStart,0),firstPreRender:Math.max(t.firstPreRender-t.joinChannelStart,0),firstRender:Math.max(t.firstRender-t.joinChannelStart,0),playDelayMs:Math.max(t.playStart-t.subscribeEnd,0),playStart:Math.max(t.playStart-t.joinChannelStart,0),playEnd:Math.max(t.playEnd-t.joinChannelStart,0),isPreSub:t.isPreSub?1:0,isPrePc:t.isPrePc?1:0,isPreInstantVideo:t.isPreInstantVideo?1:0,firstReceivedEncodedFrame:t.firstReceivedEncodedFrame?Math.max(t.firstReceivedEncodedFrame-t.joinChannelStart,0):void 0,frameType:t.frameType||\"\",rtpTimestamp:t.rtpTimestamp||0,framePayloadType:t.framePayloadType||0,frameDataLength:t.frameDataLength||0,mimeType:t.mimeType||\"\"});this.send({type:aP.XLA_PEER_FIRST_VIDEO_FRAME,data:s},!0)}firstRemoteVideoDecode(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,s=Date.now(),a=YD(YD(YD({},o),n),{},{elapse:s-r.startTime,eventType:t,lts:s,firstDecodeFrame:Math.max((n.firstFrame||s)-r.startTime,0),apEnd:Math.max(n.apEnd-r.startTime,0),apStart:Math.max(n.apStart-r.startTime,0),joinGwEnd:Math.max(n.joinGwEnd-r.startTime,0),joinGwStart:Math.max(n.joinGwStart-r.startTime,0),pcEnd:Math.max(n.pcEnd-r.startTime,0),pcStart:Math.max(n.pcStart-r.startTime,0),subscriberEnd:Math.max(n.subscriberEnd-r.startTime,0),subscriberStart:Math.max(n.subscriberStart-r.startTime,0),videoAddNotify:Math.max(n.videoAddNotify-r.startTime,0)});this.send({type:i,data:a},!0)}firstRemoteFrame(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,s=Date.now(),a=YD(YD(YD({},o),n),{},{elapse:s-r.startTime,eventType:t,lts:s});this.send({type:i,data:a},!0)}abTest(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD(YD({},n),t),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:r-i.startTime,eventType:sP.AB_TEST,lts:r});this.send({type:aP.AB_TEST,data:o},!0)}pcStats(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD(YD({},n),t),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:r-i.startTime,eventType:sP.PC_STATS,lts:r,preallocation:t.preallocation?1:0});this.send({type:aP.PC_STATS,data:o},!0)}updateRemoteRTPCapabilities(e,t){if(e){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD(YD({},n),t),{},{vid:void 0===n.vid?0:Number(n.vid),eventType:sP.UPDATE_REMOTE_RTPCAPABILITIES,lts:r});this.send({type:aP.UPDATE_REMOTE_RTPCAPABILITIES,data:o},!0)}}onGatewayStream(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,s=Date.now(),a=YD(YD(YD({},o),n),{},{eventType:t,lts:s});this.send({type:i,data:a},!0)}streamSwitch(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD({},n),{},{eventType:sP.STREAM_SWITCH,lts:r,isDual:t.isdual,elapse:r-i.startTime,success:t.succ});this.send({type:aP.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD({},n),{},{eventType:sP.REQUEST_PROXY_APPCENTER,lts:r,eventElapse:r-t.lts,elapse:r-i.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:aP.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD({},n),{},{eventType:sP.REQUEST_PROXY_WORKER_MANAGER,lts:r,eventElapse:r-t.lts,elapse:r-i.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:aP.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(e){this.proxyServer=e,e?iP.debug(\"reportProxyServerurl: \".concat(e)):iP.debug(\"disable reportProxyServerurl: \".concat(e))}peerPublishStatus(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD({},n),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:r,elapse:r-i.startTime,joinChannelSuccessElapse:r-(i.lastJoinSuccessTime||r),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:aP.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now();(function(e,t,i){const n=e[t];if(!n||\"string\"!=typeof n)return[e];e[t]=\"\";const r=_N(JSON.stringify(e));let o=0;const s=[];let a=0;for(let c=0;c<n.length;c++)a+=n.charCodeAt(c)<=127?1:3,a<=i-r||(s[s.length]=uO(uO({},e),{},{[t]:n.substring(o,c)}),o=c,a=n.charCodeAt(c)<=127?1:3);return o!==n.length-1&&(s[s.length]=uO(uO({},e),{},{[t]:n.substring(o)})),s})(YD(YD(YD({},n),t),{},{elapse:r-i.startTime,lts:r,productType:\"WebRTC\"}),\"payload\",1300).forEach((e=>this.send({type:aP.WORKER_EVENT,data:e},!0)))}apworkerEvent(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD(YD({},n),t),{},{elapse:r-i.startTime,lts:r});this.send({type:aP.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD(YD({},n),t),{},{elapse:r-i.startTime,lts:r,extend:t.extend||void 0});this.send({type:aP.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=YD(YD(YD({},n),t),{},{elapse:r-i.startTime,lts:r});this.send({type:aP.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>CD(\"CUSTOM_REPORT_LIMIT\"))throw new pO(hO.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const i=Date.now(),n=t.map((t=>({type:aP.USER_ANALYTICS,data:YD(YD({sid:e},t),{},{lts:i})})));try{CD(\"NEW_REPORT_SERVER\")?await this.postDataToStatsCollector2(n):await this.postDataToStatsCollector(n)}catch(e){throw iP.error(\"send custom report message failed\",e.toString()),new pO(hO.CUSTOM_REPORT_SEND_FAILED,e.message)}}sendApiInvoke(e){const t=CD(\"NOT_REPORT_EVENT\");if(e.tag&&Ln(t)&&Ln(t).call(t,e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const i=this.baseInfoMap.get(e.sid);if(!i)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:n,uid:r,cid:o}=i.info;let s;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof pO){const{code:t,message:i}=e.error;s=t||i||e.error.toString()}else s=e.error.toString();const a={invokeId:e.invokeId,sid:e.sid,cname:n,cid:o,uid:r,lts:e.lts,success:e.success,elapse:e.lts-i.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?s:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:aP.API_INVOKE,data:a},!1),!0}addSid(e){this.sids.add(e)}removeSid(e){this.sids.delete(e)}appendSessionId(){const e=this.apiInvokeUploadPendingItems;if(0===e.length)return;const t=Array.from(this.sids).find((e=>null!==e));t&&e.forEach((e=>{e&&(e.sid=t,this.sendApiInvoke(Object.assign({},e)))})),e.length=0}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>CD(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const i=[],n=[];for(;e.length;){const t=e.shift();i.length<20?i.push(t):n.push(t)}e.push(...n);for(const e of[...i]){var r;-1!==this.ltsList.indexOf(e.data.lts)?(e.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(e.data.lts)):(this.ltsList.push(e.data.lts),Qp(r=this.ltsList).call(r,((e,t)=>e-t)))}return t||(this.lastSendNormalEventTime=Date.now()),CD(\"ENABLE_EVENT_REPORT\")?(i.length&&(CD(\"NEW_REPORT_SERVER\")?this.postDataToStatsCollector2(i):this.postDataToStatsCollector(i)).catch((e=>i=>{CD(\"EVENT_REPORT_RETRY\")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>CD(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-CD(\"NORMAL_EVENT_QUEUE_CAPACITY\")),iP.warning(\"report: drop normal events\"))))})(i)),e):e}async postDataToStatsCollector2(e){QO.networkState===KO.OFFLINE&&await rp.race([QO.onlineWaiter,fN(2*kN.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach((e=>{const i=bO(JSON.stringify(e.data)),n=new ArrayBuffer(5),r=(e=>{let t=0;return Object.entries(aP).forEach((i=>{let[n,r]=i;r===e.type&&(t=cP[n])})),t})(e),o=new DataView(n);o.setUint16(0,i.byteLength,!0),o.setUint8(2,255&r),o.setUint8(3,r>>>8&255),o.setUint8(4,r>>>16&255),t=wO(t,new Uint8Array(n)),t=wO(t,i)})),t},i=\"event\";let n=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(CD(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"&p=443&d=\").concat(i):\"https://\".concat(CD(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"/\").concat(i);for(let r=0;r<2;r+=1){1===r&&(n=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(CD(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"&p=443&d=\").concat(i):\"https://\".concat(CD(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"/\").concat(i));try{await jN(n,{timeout:1e4,data:t(e),headers:YD(YD({biz:\"webrtc\",sendts:Math.round(Date.now()/1e3),debug:\"false\"},this._appId&&{appid:this._appId}),{},{\"Content-Type\":\"application/octet-stream\"})},!0)}catch(e){if(1===r)throw e;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0]),n=i?void 0:this._aid,r={msgType:\"EventMessages\",sentTs:Math.round(Date.now()/1e3),payloads:e.map((e=>JSON.stringify(e))),vid:i,aid:n};QO.networkState===KO.OFFLINE&&await rp.race([QO.onlineWaiter,fN(2*kN.maxRetryTimeout)]);const o=t?\"/events/proto-raws\":\"/events/messages\";let s=this.url||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(CD(\"EVENT_REPORT_DOMAIN\"),\"&p=\").concat(CD(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(o):\"https://\".concat(CD(\"EVENT_REPORT_DOMAIN\"),\":\").concat(CD(\"STATS_COLLECTOR_PORT\")).concat(o));for(let e=0;e<2;e+=1){1===e&&(s=this.backupUrl||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(CD(\"EVENT_REPORT_BACKUP_DOMAIN\"),\"&p=\").concat(CD(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(o):\"https://\".concat(CD(\"EVENT_REPORT_BACKUP_DOMAIN\"),\":\").concat(CD(\"STATS_COLLECTOR_PORT\")).concat(o)));try{t?await GN(s,{timeout:1e4,data:r}):await jN(s,{timeout:1e4,data:r})}catch(t){if(1===e)throw t;continue}return}}createBaseInfo(e,t){const i=Object.assign({},oP);return i.sid=e,this.baseInfoMap.set(e,{info:i,startTime:t}),i}reportResourceTiming(e,t){const i=performance.getEntriesByName(e),n=i[i.length-1];n&&this.reportApiInvoke(t,{name:\"Client.resourceTiming\",options:n,tag:kO.TRACER}).onSuccess()}};XD.on(\"REPORT_LOG_UPLOAD\",(e=>{e.networkState=QO.networkState,lP.reportApiInvoke(null,{name:\"logUploadError\",options:e,tag:kO.TRACER}).onSuccess(\"logUploadError\")}));let uP=class extends pO{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",arguments.length>2?arguments[2]:void 0),HD(this,\"name\",\"AgoraRTCException\")}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"error\";return super.print(e,iP)}throw(){super.throw(iP)}};const hP={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1,supportSuppressLocalAudioPlayback:!1,supportRestrictOwnAudio:!1};function pP(){return hP}function _P(){return\"setSinkId\"in HTMLAudioElement.prototype&&(!CD(\"RESTRICTION_SET_PLAYBACK_DEVICE\")||(Uw()||Fw())&&!oO())}function EP(){return!hP.supportUnifiedPlan||CD(\"CHROME_FORCE_PLAN_B\")&&sO()}function mP(e){return!(Bw()||Ww(87)||EP()||!CD(\"ENABLE_PRE_SUB\")&&(null==e||!e.autoSubscribe||CD(\"FORCE_DISABLE_AUTO_SUB\")))}function fP(e){return CD(\"ENABLE_INSTANT_VIDEO\")?CD(\"ENABLE_INSTANT_VIDEO\"):!(null==e||!e.autoSubscribe||CD(\"FORCE_DISABLE_AUTO_SUB\"))}function SP(){return navigator.mediaDevices&&\"getSupportedConstraints\"in navigator.mediaDevices}function gP(){if(SP()){const e=navigator.mediaDevices.getSupportedConstraints();return!(!(\"suppressLocalAudioPlayback\"in e)||!e.suppressLocalAudioPlayback)}return Gw(141)||Kw(141)||Qw(141)}function TP(){if(SP()){const e=navigator.mediaDevices.getSupportedConstraints();return!(!(\"restrictOwnAudio\"in e)||!e.restrictOwnAudio)}return Gw(141)||Kw(141)||Qw(125)}let RP=function(e){return e.IOS_15_16_INTERRUPTION_START=\"ios15_16-interruption-start\",e.IOS_15_16_INTERRUPTION_END=\"ios15_16-interruption-end\",e.IOS_INTERRUPTION_START=\"ios-interruption-start\",e.IOS_INTERRUPTION_END=\"ios-interruption-end\",e.STATE_CHANGE=\"state-change\",e}({});function CP(e,t,i){return{sampleRate:e,stereo:t,bitrate:i}}function vP(e,t,i,n,r){return{width:e,height:t,frameRate:i,bitrateMin:n,bitrateMax:r}}function yP(e,t,i,n,r){return{width:{max:e},height:{max:t},frameRate:i,bitrateMin:n,bitrateMax:r}}function IP(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}const AP={\"90p\":vP(160,90),\"90p_1\":vP(160,90),\"120p\":vP(160,120,15,30,65),\"120p_1\":vP(160,120,15,30,65),\"120p_3\":vP(120,120,15,30,50),\"120p_4\":vP(212,120),\"180p\":vP(320,180,15,30,140),\"180p_1\":vP(320,180,15,30,140),\"180p_3\":vP(180,180,15,30,100),\"180p_4\":vP(240,180,15,30,120),\"240p\":vP(320,240,15,40,200),\"240p_1\":vP(320,240,15,40,200),\"240p_3\":vP(240,240,15,40,140),\"240p_4\":vP(424,240,15,40,220),\"360p\":vP(640,360,15,80,400),\"360p_1\":vP(640,360,15,80,400),\"360p_3\":vP(360,360,15,80,260),\"360p_4\":vP(640,360,30,80,600),\"360p_6\":vP(360,360,30,80,400),\"360p_7\":vP(480,360,15,80,320),\"360p_8\":vP(480,360,30,80,490),\"360p_9\":vP(640,360,15,80,800),\"360p_10\":vP(640,360,24,80,800),\"360p_11\":vP(640,360,24,80,1e3),\"480p\":vP(640,480,15,100,500),\"480p_1\":vP(640,480,15,100,500),\"480p_2\":vP(640,480,30,100,1e3),\"480p_3\":vP(480,480,15,100,400),\"480p_4\":vP(640,480,30,100,750),\"480p_6\":vP(480,480,30,100,600),\"480p_8\":vP(848,480,15,100,610),\"480p_9\":vP(848,480,30,100,930),\"480p_10\":vP(640,480,10,100,400),\"720p\":vP(1280,720,15,120,1130),\"720p_auto\":vP(1280,720,30,900,3e3),\"720p_1\":vP(1280,720,15,120,1130),\"720p_2\":vP(1280,720,30,120,2e3),\"720p_3\":vP(1280,720,30,120,1710),\"720p_5\":vP(960,720,15,120,910),\"720p_6\":vP(960,720,30,120,1380),\"1080p\":vP(1920,1080,15,120,2080),\"1080p_1\":vP(1920,1080,15,120,2080),\"1080p_2\":vP(1920,1080,30,120,3e3),\"1080p_3\":vP(1920,1080,30,120,3150),\"1080p_5\":vP(1920,1080,60,120,4780),\"1440p\":vP(2560,1440,30,120,4850),\"1440p_1\":vP(2560,1440,30,120,4850),\"1440p_2\":vP(2560,1440,60,120,7350),\"4k\":vP(3840,2160,30,120,8910),\"4k_1\":vP(3840,2160,30,120,8910),\"4k_3\":vP(3840,2160,60,120,13500)},bP={\"480p\":yP(640,480,5),\"480p_1\":yP(640,480,5),\"480p_2\":yP(640,480,30),\"480p_3\":yP(640,480,15),\"720p\":yP(1280,720,5),\"720p_auto\":vP(1280,720,30,900,3e3),\"720p_1\":yP(1280,720,5),\"720p_2\":yP(1280,720,30),\"720p_3\":yP(1280,720,15),\"1080p\":yP(1920,1080,5),\"1080p_1\":yP(1920,1080,5),\"1080p_2\":yP(1920,1080,30),\"1080p_3\":yP(1920,1080,15)},wP={\"1SL1TL\":IP(1,1),\"3SL3TL\":IP(3,3),\"2SL3TL\":IP(2,3)};function OP(e){return e||(e=\"480p_1\"),\"string\"==typeof e?Object.assign({},AP[e]):e}function NP(e){return\"string\"==typeof e?Object.assign({},bP[e]):e}function DP(e){return\"string\"==typeof e?Object.assign({},wP[e]):e}const PP={speech_low_quality:CP(16e3,!1),speech_standard:CP(32e3,!1,18),music_standard:CP(48e3,!1),standard_stereo:CP(48e3,!0,56),high_quality:CP(48e3,!1,128),high_quality_stereo:CP(48e3,!0,192)};function LP(e){return\"string\"==typeof e?Object.assign({},PP[e]):e}const kP=[];function MP(e){return EO(e,\"mediaSource\",[\"screen\",\"window\",\"application\"]),!0}let UP=function(e){return e.NEED_RENEGOTIATE=\"@need_renegotiate\",e.NEED_REPLACE_TRACK=\"@need_replace_track\",e.NEED_REPLACE_MIXING_TRACK=\"@need_replace_mixing_track\",e.NEED_CLOSE=\"@need_close\",e.NEED_ENABLE_TRACK=\"@need_enable_track\",e.NEED_DISABLE_TRACK=\"@need_disable_track\",e.NEED_SESSION_ID=\"@need_sid\",e.SET_OPTIMIZATION_MODE=\"@set_optimization_mode\",e.GET_STATS=\"@get_stats\",e.GET_RTC_STATS=\"@get_rtc_stats\",e.GET_LOW_VIDEO_TRACK=\"@get_low_video_track\",e.NEED_RESET_REMOTE_SDP=\"@need_reset_remote_sdp\",e.NEED_UPDATE_VIDEO_ENCODER=\"@need_update_video_encoder\",e.NEED_UPDATE_VIDEO_SEND_PARAMETERS=\"@need_update_video_send_parameters\",e.NEED_MUTE_TRACK=\"@need_mute_track\",e.NEED_UNMUTE_TRACK=\"@need_unmute_track\",e}({}),VP=function(e){return e.SCREEN_TRACK=\"screen_track\",e.CUSTOM_TRACK=\"custome_track\",e.LOW_STREAM=\"low_stream\",e.SCREEN_LOW_TRACK=\"screen_low_track\",e}({});let xP=function(e){return e[e.HIGH_STREAM=0]=\"HIGH_STREAM\",e[e.LOW_STREAM=1]=\"LOW_STREAM\",e}({}),FP=function(e){return e[e.HIGH_STREAM=0]=\"HIGH_STREAM\",e[e.LOW_STREAM=1]=\"LOW_STREAM\",e[e.HIGH_STREAM_LAYER1=4]=\"HIGH_STREAM_LAYER1\",e[e.HIGH_STREAM_LAYER2=5]=\"HIGH_STREAM_LAYER2\",e[e.HIGH_STREAM_LAYER3=6]=\"HIGH_STREAM_LAYER3\",e[e.HIGH_STREAM_LAYER4=7]=\"HIGH_STREAM_LAYER4\",e[e.HIGH_STREAM_LAYER5=8]=\"HIGH_STREAM_LAYER5\",e[e.HIGH_STREAM_LAYER6=9]=\"HIGH_STREAM_LAYER6\",e}({}),BP=function(e){return e[e.DISABLE=0]=\"DISABLE\",e[e.LOW_STREAM=1]=\"LOW_STREAM\",e[e.AUDIO_ONLY=2]=\"AUDIO_ONLY\",e[e.HIGH_STREAM_LAYER1=3]=\"HIGH_STREAM_LAYER1\",e[e.HIGH_STREAM_LAYER2=4]=\"HIGH_STREAM_LAYER2\",e[e.HIGH_STREAM_LAYER3=5]=\"HIGH_STREAM_LAYER3\",e[e.HIGH_STREAM_LAYER4=6]=\"HIGH_STREAM_LAYER4\",e[e.HIGH_STREAM_LAYER5=7]=\"HIGH_STREAM_LAYER5\",e[e.HIGH_STREAM_LAYER6=8]=\"HIGH_STREAM_LAYER6\",e}({}),jP=function(e){return e.TRANSCEIVER_UPDATED=\"transceiver-updated\",e.SEI_TO_SEND=\"sei-to-send\",e.SEI_RECEIVED=\"sei-received\",e.TRACK_UPDATED=\"track-updated\",e}({}),GP=function(e){return e.SOURCE_STATE_CHANGE=\"source-state-change\",e.TRACK_ENDED=\"track-ended\",e.BEAUTY_EFFECT_OVERLOAD=\"beauty-effect-overload\",e.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\",e.CLOSED=\"closed\",e}({}),WP=function(e){return e.FIRST_FRAME_DECODED=\"first-frame-decoded\",e.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\",e.VIDEO_STATE_CHANGED=\"video-state-changed\",e.PLAY_START=\"play-start\",e.PLAY_END=\"play-end\",e.FIRST_FRAME_RENDER=\"first-frame-render\",e}({}),HP=function(e){return e.AUDIO=\"audio\",e.VIDEO=\"video\",e.DATA=\"data\",e}({}),KP=function(e){return e.AUDIO_SOURCE_STATE_CHANGE=\"audio_source_state_change\",e.RECEIVE_TRACK_BUFFER=\"receive_track_buffer\",e.ON_AUDIO_BUFFER=\"on_audio_buffer\",e.UPDATE_SOURCE=\"update_source\",e}({});!function(e){e.UPDATE_TRACK_SOURCE=\"update-track-source\"}({});const YP={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},zP={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},qP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},XP={uplinkNetworkQuality:0,downlinkNetworkQuality:0},JP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let QP=function(e){return e.ON_TRACK=\"on_track\",e.ON_NODE=\"on_node\",e}({}),ZP=function(e){return e.REQUEST_UPDATE_CONSTRAINTS=\"request_update_constraints\",e.REQUEST_CONSTRAINTS=\"request_constraints\",e}({}),$P=function(e){return e.IDLE=\"IDLE\",e.INITING=\"INITING\",e.INITEND=\"INITEND\",e}({}),eL=function(e){return e.STATE_CHANGE=\"state_change\",e.RECORDING_DEVICE_CHANGED=\"recordingDeviceChanged\",e.PLAYOUT_DEVICE_CHANGED=\"playoutDeviceChanged\",e.CAMERA_DEVICE_CHANGED=\"cameraDeviceChanged\",e}({}),tL=function(e){return e.NONE=\"none\",e.INIT=\"init\",e.CANPLAY=\"canplay\",e.PLAYING=\"playing\",e.PAUSED=\"paused\",e.SUSPEND=\"suspend\",e.STALLED=\"stalled\",e.WAITING=\"waiting\",e.ERROR=\"error\",e.DESTROYED=\"destroyed\",e.ABORT=\"abort\",e.ENDED=\"ended\",e.EMPTIED=\"emptied\",e.LOADEDDATA=\"loadeddata\",e}({}),iL=function(e){return e[e.VideoStateStopped=0]=\"VideoStateStopped\",e[e.VideoStateStarting=1]=\"VideoStateStarting\",e[e.VideoStateDecoding=2]=\"VideoStateDecoding\",e[e.VideoStateFrozen=3]=\"VideoStateFrozen\",e}({});const nL={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};let rL=function(e){return e.OPEN=\"open\",e.MESSAGE=\"message\",e.CLOSE=\"close\",e.CLOSING=\"closing\",e.ERROR=\"error\",e}({});function oL(e,t,i,n,r){var o,s,a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=nr(o=mr(s=i.slice()).call(s)).call(o,(function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function sL(e,t,i){return(t=function(e){var t=function(e,t){if(\"object\"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,\"string\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==typeof t?t:t+\"\"}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function aL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function cL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?aL(Object(i),!0).forEach((function(t){sL(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):aL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class dL extends NO{set _mediaStreamTrack(e){e!==this.mediaStreamTrack&&(this.safeEmit(jP.TRACK_UPDATED,e),this.mediaStreamTrack=e)}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(e,t){super(),sL(this,\"trackMediaType\",void 0),sL(this,\"_ID\",void 0),sL(this,\"_rtpTransceiver\",void 0),sL(this,\"_lowRtpTransceiver\",void 0),sL(this,\"_hints\",[]),sL(this,\"_isClosed\",!1),sL(this,\"_originMediaStreamTrack\",void 0),sL(this,\"mediaStreamTrack\",void 0),sL(this,\"_external\",{}),this._ID=t||SN(8,\"track-\"),this._originMediaStreamTrack=e,this.mediaStreamTrack=e,function(e){Ln(kP).call(kP,e)||kP.push(e)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){return e||dN((()=>{var e;lP.reportApiInvoke(null,{name:LO.GET_MEDIA_STREAM_TRACK,options:[],tag:kO.TRACER}).onSuccess((null===(e=this._mediaStreamTrack)||void 0===e?void 0:e.label)||\"\")}),this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(e){return e===xP.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e){const t=kP.indexOf(e);-1!==t&&kP.splice(t,1)}(this),this.emit(GP.CLOSED),this.removeAllListeners(jP.SEI_RECEIVED)}_updateRtpTransceiver(e,t){if(t===xP.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e}else{if(this._rtpTransceiver===e)return;this._rtpTransceiver=e}this.emit(jP.TRANSCEIVER_UPDATED,e,t)}}class lL extends dL{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(e,t){super(e,t),sL(this,\"_enabled\",!0),sL(this,\"_muted\",!1),sL(this,\"_isExternalTrack\",!1),sL(this,\"_isClosed\",!1),sL(this,\"_enabledMutex\",void 0),sL(this,\"processor\",void 0),sL(this,\"_processorContext\",void 0),sL(this,\"_handleTrackEnded\",(()=>{this.onTrackEnded()})),this._enabledMutex=new PN(\"\".concat(this.getTrackId())),e.addEventListener(\"ended\",this._handleTrackEnded)}getTrackLabel(){var e,t;return null!==(e=null===(t=this._originMediaStreamTrack)||void 0===t?void 0:t.label)&&void 0!==e?e:\"\"}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,iP.debug(\"[\".concat(this.getTrackId(),\"] close\")),this.emit(UP.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isExternalTrack=i,e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await qO(this,UP.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){iP.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(GP.TRACK_ENDED)}stateCheck(e,t){if(iP.debug(\"check track state, [muted: \".concat(this._muted,\", enabled: \").concat(this._enabled,\"] to [\").concat(e,\": \").concat(t,\"]\")),_O(t,e),this._enabled&&this._muted&&\"enabled\"===e&&!1===t)throw new pO(hO.TRACK_STATE_UNREACHABLE,\"cannot set enabled while the track is muted\").print(\"error\",iP);if(!this._enabled&&!this._muted&&\"muted\"===e&&!0===t)throw new pO(hO.TRACK_STATE_UNREACHABLE,\"cannot set muted while the track is disabled\").print(\"error\",iP)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():rp.resolve([])}}const uL=window.AudioContext||window.webkitAudioContext;let hL,pL=null;const _L=new class extends NO{constructor(){super(...arguments),sL(this,\"prevState\",void 0),sL(this,\"curState\",void 0),sL(this,\"currentTime\",void 0),sL(this,\"currentTimeStuckAt\",void 0),sL(this,\"interruptDetectorTrack\",void 0),sL(this,\"onLocalAudioTrackMute\",(()=>{iP.info(\"ios15-interruption-start\"),this.emit(RP.IOS_15_16_INTERRUPTION_START)})),sL(this,\"onLocalAudioTrackUnmute\",(async()=>{iP.info(\"ios15-interruption-end\"),\"running\"!==this.curState||this.duringInterruption?iP.info(\"ios15-interruption-end-canceled\"):(pL&&await pL.suspend(),this.emit(RP.IOS_15_16_INTERRUPTION_END))}))}get duringInterruption(){return\"running\"===this.prevState&&\"interrupted\"===this.curState}bindInterruptDetectorTrack(e){iP.debug(\"webaudio bindInterruptDetectorTrack \".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){iP.debug(\"webaudio unbindInterruptDetectorTrack \".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function EL(){if(!pL){if(function(){if(!uL)return void iP.error(\"your browser is not support web audio\");iP.info(\"create audio context\");const e=cL({},CD(\"WEBAUDIO_INIT_OPTIONS\"));iP.debug(\"audio context init option:\",JSON.stringify(e)),pL=new uL(e),_L.curState=pL.state,pL.onstatechange=()=>{_L.prevState=_L.curState,_L.curState=pL?pL.state:void 0;const{prevState:e,curState:t}=_L,i=\"running\"===t,n=\"interrupted\"===t,r=\"running\"===e,o=\"suspended\"===e,s=\"interrupted\"===e,a=Dw().osVersion;(jw()||iO())&&r&&n&&(iP.info(\"ios\".concat(a,\"-interruption-start\")),_L.emit(RP.IOS_INTERRUPTION_START)),(jw()||iO())&&(o||s)&&i&&(iP.info(\"ios\".concat(a,\"-interruption-end\")),_L.emit(RP.IOS_INTERRUPTION_END)),e!==t&&_L.emit(RP.STATE_CHANGE,t,e)},setInterval((()=>{var e;const t=null===(e=pL)||void 0===e?void 0:e.currentTime;_L.currentTime!==t?(_L.currentTimeStuckAt&&(iP.debug(\"AudioContext current time resume at \".concat(t)),_L.currentTimeStuckAt=void 0),_L.currentTime=t):(t!==_L.currentTimeStuckAt&&(lP.reportApiInvoke(null,{name:\"WEB_AUDIO_CURRENT_TIME_STUCK\",options:{currentTime:t},tag:kO.TRACER}).onSuccess(),iP.warning(\"AudioContext current time stuck at \".concat(t))),_L.currentTimeStuckAt=t)}),5e3),async function(e){const t=[\"click\",\"contextmenu\",\"auxclick\",\"dblclick\",\"mousedown\",\"mouseup\",\"touchend\",\"keydown\",\"keyup\"];let i,n,r=!1,o=!1,s=!1;function a(t){\"running\"===e.state?c(!1):jw()||iO()?\"suspended\"===e.state&&(c(!0),t&&e.resume().then(d,d)):\"closed\"!==e.state&&(c(!0),t&&e.resume().then(d,d))}function c(e){if(r!==e){r=e;for(let i=0,n=t;i<n.length;i+=1){const t=n[i];e?window.addEventListener(t,l,{capture:!0,passive:!0}):window.removeEventListener(t,l,{capture:!0,passive:!0})}}}function d(){a(!1)}function l(){a(!0)}function u(){let e;try{e=i.play(),e?e.then(_,_):(i.addEventListener(\"playing\",_),i.addEventListener(\"abort\",_),i.addEventListener(\"error\",_))}catch(e){_()}}function h(e){s||(i.paused?e?(p(!1),s=!0,u()):p(!0):p(!1))}function p(e){if(o!==e){o=e;for(let i=0,n=t;i<n.length;i++){const t=n[i];e?window.addEventListener(t,E,{capture:!0,passive:!0}):window.removeEventListener(t,E,{capture:!0,passive:!0})}}}function _(){i.removeEventListener(\"playing\",_),i.removeEventListener(\"abort\",_),i.removeEventListener(\"error\",_),s=!1,h(!1)}function E(){h(!0)}if(jw()&&CD(\"IOS_BG_TAG\")){const t=e.createMediaStreamDestination(),r=document.createElement(\"div\");r.innerHTML=\"<audio x-webkit-airplay='deny'></audio>\",i=r.children.item(0),i.controls=!1,i.disableRemotePlayback=!0,i.preload=\"auto\",i.srcObject=t.stream,n=()=>{if(CD(\"IOS_AUTO_RESTART_BG_TAG\")&&i&&i.srcObject&&!s&&(!i.paused||!0!==o)){i.paused||i.pause();try{s=!0,u()}catch(e){s=!1}return!0}},h(!0)}return _L.on(RP.STATE_CHANGE,(function(){a(!0)})),a(!1),n}(pL).then((e=>{hL=e}))}(),!pL)throw new pO(hO.NOT_SUPPORTED,\"can not create audio context\");return pL}return pL}function mL(e){if(function(){if(null!==fL)return fL;const e=EL(),t=e.createBufferSource(),i=e.createGain(),n=e.createGain();t.connect(i),t.connect(n),t.disconnect(i);let r=!1;try{t.disconnect(i)}catch(e){r=!0}return t.disconnect(),fL=r,r}())return;const t=e.connect,i=e.disconnect;e.connect=(i,n,r)=>{var o;return e._inputNodes||(e._inputNodes=[]),Ln(o=e._inputNodes).call(o,i)||(i instanceof AudioNode?(e._inputNodes.push(i),t.call(e,i,n,r)):t.call(e,i,n)),e},e.disconnect=(n,r,o)=>{i.call(e),n?nN(e._inputNodes,n):e._inputNodes=[];for(const i of e._inputNodes)t.call(e,i)}}let fL=null;function SL(e,t){let i=!1;const n=1/t;if(CD(\"DISABLE_WEBAUDIO\")){const t=window.setInterval((()=>{i?window.clearInterval(t):e(performance.now()/1e3)}),1e3*n)}else{const t=EL();let r=t.createGain();r.gain.value=0,r.connect(t.destination);const o=()=>{if(i)return void(r=null);const s=t.createOscillator();s.onended=o,s.connect(r),s.start(0),s.stop(t.currentTime+n),e(t.currentTime)};o()}return()=>{i=!0}}class gL{constructor(){sL(this,\"context\",void 0),sL(this,\"analyserNode\",void 0),sL(this,\"sourceNode\",void 0),this.context=EL(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(e){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||jw()||iO()||\"running\"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{const t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(let i=0;i<e.length;++i)e[i]=t[i]/128-1}const t=nr(e).call(e,((e,t)=>e+t*t),0)/e.length;return Math.max(10*Math.log10(t)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(e){iP.warning(\"rebuild analyser node failed.\")}}destroy(){this.updateSource(void 0)}}class TL extends NO{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var i;null===(i=this.sourceNode)||void 0===i||i.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),sL(this,\"outputNode\",void 0),sL(this,\"outputTrack\",void 0),sL(this,\"isPlayed\",!1),sL(this,\"sourceNode\",void 0),sL(this,\"context\",void 0),sL(this,\"audioBufferNode\",void 0),sL(this,\"destNode\",void 0),sL(this,\"audioOutputLevel\",0),sL(this,\"volumeLevelAnalyser\",void 0),sL(this,\"_processedNode\",void 0),sL(this,\"playNode\",void 0),sL(this,\"isDestroyed\",!1),sL(this,\"onNoAudioInput\",void 0),sL(this,\"isNoAudioInput\",!1),sL(this,\"_noAudioInputCount\",0),this.context=EL(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),mL(this.outputNode),this.volumeLevelAnalyser=new gL}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit(KP.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const i=e.outputBuffer.getChannelData(t);for(let e=0;e<i.length;e+=1)i[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!pP().webAudioMediaStreamDest)throw new pO(hO.NOT_SUPPORTED,\"your browser is not support audio processor\");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){\"running\"!==this.context.state&&oN((()=>{_L.emit(\"autoplay-failed\")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;jw()||iO()?\"suspended\"===this.context.state&&this.context.resume():\"running\"!==this.context.state&&this.context.resume();const t=this.volumeLevelAnalyser.getAnalyserNode();let i;t.getFloatTimeDomainData?(i=new Float32Array(t.fftSize),t.getFloatTimeDomainData(i)):(i=new Uint8Array(t.fftSize),t.getByteTimeDomainData(i));let n=!1;for(let e=0;e<i.length;e++)0!==i[e]&&(n=!0);return n?(this.isNoAudioInput=!1,!0):(await fN(200),await this.checkHasAudioInput(e?e+1:1)&&n)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class RL extends TL{get isFreeze(){return!1}constructor(e,t,i){var n;if(super(),sL(this,\"sourceNode\",void 0),sL(this,\"track\",void 0),sL(this,\"clonedTrack\",void 0),sL(this,\"audioElement\",void 0),sL(this,\"isCurrentTrackCloned\",!1),sL(this,\"isRemoteTrack\",!1),sL(this,\"originVolumeLevelAnalyser\",void 0),sL(this,\"rebuildWebAudio\",(async()=>{if(iP.debug(\"ready to rebuild web audio, state:\",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener(\"click\",this.rebuildWebAudio,!0),void iP.debug(\"rebuild web audio success, current volume status\",this.getAccurateVolumeLevel());this.context.resume().then((()=>iP.info(\"resume success\"))),iP.debug(\"rebuild web audio because of ios 12 bugs\"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),mL(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const i=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(i,this.context.currentTime),mL(this.outputNode),this.emit(KP.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()})),\"audio\"!==e.kind)throw new pO(hO.UNEXPECTED_ERROR);this.track=e;const r=new MediaStream([this.track]);if(this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(r),mL(this.sourceNode),i){const e=i.clone();e.enabled=!0,this.clonedTrack=e,iP.debug(\"create an unmuted track \".concat(e.id,\" from the original track \").concat(i.id,\" to get the volume\"));const t=this.context.createMediaStreamSource(new MediaStream([e]));mL(t),this.originVolumeLevelAnalyser=new gL,this.originVolumeLevelAnalyser.updateSource(t)}this.connect(),this.audioElement=document.createElement(\"audio\"),this.audioElement.srcObject=r;const o=Dw();t&&o.os===Aw.IOS&&Number(null===(n=o.osVersion)||void 0===n?void 0:n.split(\".\")[0])<15&&(_L.on(RP.STATE_CHANGE,(()=>{\"suspended\"===this.context.state?document.body.addEventListener(\"click\",this.rebuildWebAudio,!0):\"running\"===this.context.state&&this.rebuildWebAudio()})),this.checkHasAudioInput().then((e=>{e||document.body.addEventListener(\"click\",this.rebuildWebAudio,!0)})))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),mL(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(KP.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),_L.off(\"state-change\",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){const t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),iP.debug(\"create an unmuted track \".concat(t.id,\" from the original track \").concat(e.id,\" to get the volume\"));const i=this.context.createMediaStreamSource(new MediaStream([t]));mL(i),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(i)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function CL(e,t,i){const n=(e,t)=>e?\"number\"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,r={audio:!!i&&{mandatory:{chromeMediaSource:\"desktop\"}},video:{mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:e,maxHeight:n(t.height,1080),maxWidth:n(t.width,1920)}}};return t.frameRate&&\"number\"!=typeof t.frameRate?(r.video.mandatory.maxFrameRate=t.frameRate.max,r.video.mandatory.minFrameRate=t.frameRate.min):\"number\"==typeof t.frameRate&&(r.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function vL(e,t){const i=await yL(e.mediaSource),{sourceId:n,audio:r}=await function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new rp(((i,n)=>{const r=document.createElement(\"div\");r.innerText=\"share screen\",r.setAttribute(\"style\",\"text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;\");const o=document.createElement(\"div\");o.setAttribute(\"style\",\"width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;\");const s=document.createElement(\"div\");s.innerText=\"Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.\",s.setAttribute(\"style\",\"height: 12%;\");const a=document.createElement(\"div\");a.setAttribute(\"style\",\"width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;\");const c=document.createElement(\"div\");c.setAttribute(\"style\",\"display: flex; justify-content: space-between; padding: 16px 0;\");const d=document.createElement(\"button\");d.innerHTML=\"cancel\",d.setAttribute(\"style\",\"width: 85px;\"),d.onclick=()=>{document.body.removeChild(h);const e=new Error(\"NotAllowedError\");e.name=\"NotAllowedError\",n(e)};let l=t;const u=document.createElement(\"div\");if(t){const e=document.createElement(\"input\");e.setAttribute(\"type\",\"checkbox\");const t=document.createElement(\"span\");e.setAttribute(\"style\",\"margin-right: 6px;\"),t.innerText=\"Share audio\",e.checked=l,e.onchange=()=>{l=e.checked},u.appendChild(e),u.appendChild(t)}c.appendChild(u),c.appendChild(d),o.appendChild(s),o.appendChild(a),o.appendChild(c);const h=document.createElement(\"div\");h.setAttribute(\"style\",\"position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);\"),h.appendChild(r),h.appendChild(o),document.body.appendChild(h),e.map((e=>{if(e.id){const t=document.createElement(\"div\");t.setAttribute(\"style\",\"width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;\");let n=e.thumbnail;try{const{width:e}=n.getSize();e>1920&&(n=n.resize({width:1920}))}catch(e){throw e&&e.message.startsWith(\"Illegal invocation\")&&console.error(\"Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)\"),e}t.innerHTML='<div style=\"height: 120px; display: table-cell; vertical-align: middle;\"><img style=\"width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);\" src='+n.toDataURL()+' /></div><span style=\"\\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">'+e.name.replace(/[\\u00A0-\\u9999<>\\&]/g,(function(e){return\"&#\"+e.charCodeAt(0)+\";\"}))+\"</span>\",t.onclick=()=>{document.body.removeChild(h),i({sourceId:e.id,audio:l})},a.appendChild(t)}}))}))}(i,t);return await CL(n,e,r)}async function yL(e){let t=[\"window\",\"screen\"];\"application\"!==e&&\"window\"!==e||(t=[\"window\"]),\"screen\"===e&&(t=[\"screen\"]);const i=PO();if(!i)throw console.error(\"failed to fetch electron, please mount it to window\"),new pO(hO.ELECTRON_IS_NULL);let n=null;try{var r;n=(null===(r=i.desktopCapturer)||void 0===r?void 0:r.getSources({types:t}))||i.ipcRenderer.invoke(\"DESKTOP_CAPTURER_GET_SOURCES\",{types:t})}catch(e){n=null}n&&n.then||(n=new rp(((e,n)=>{i.desktopCapturer.getSources({types:t},((t,i)=>{t?n(t):e(i)}))})));try{return await n}catch(e){throw new pO(hO.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.toString())}}const IL=new PN(\"safari\");let AL=!1,bL=!1;async function wL(e,t){let i=0,n=null;for(;i<2;)try{n=await OL(e,t,i>0);break}catch(e){if(e instanceof pO)throw iP.error(\"[\".concat(t,\"] \").concat(e.toString())),e;const n=NL(e.name||e.code||e,e.message);if(n.code===hO.MEDIA_OPTION_INVALID){iP.debug(\"[\".concat(t,\"] detect media option invalid, retry\")),i+=1,await fN(500);continue}throw iP.error(\"[\".concat(t,\"] \").concat(n.toString())),n}if(!n)throw new pO(hO.UNEXPECTED_ERROR,\"can not find stream after getUserMedia\");return n}async function OL(e,t,i){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new pO(hO.NOT_SUPPORTED,\"can not find getUserMedia\");i&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const n=pP(),r=new MediaStream;if(e.audioSource&&r.addTrack(e.audioSource),e.videoSource&&r.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return iP.debug(\"Using Video Source/ Audio Source\"),r;if(e.screen)if(PO())e.screen.sourceId?DL(r,await CL(e.screen.sourceId,e.screen,!!e.screenAudio)):DL(r,await vL(e.screen,!!e.screenAudio));else if(Uw()&&e.screen.extensionId&&e.screen.mandatory){if(!n.getStreamFromExtension)throw new pO(hO.NOT_SUPPORTED,\"This browser does not support screen sharing\");iP.debug(\"[\".concat(t,'] Screen access on chrome stable, looking for extension\"'));const i=await(s=e.screen.extensionId,a=t,new rp(((e,t)=>{try{chrome.runtime.sendMessage(s,{getStream:!0},(i=>{if(!i||!i.streamId)return iP.error(\"[\".concat(a,\"] No response from Chrome Plugin. Plugin not installed properly\"),i),void t(new pO(hO.CHROME_PLUGIN_NO_RESPONSE,\"No response from Chrome Plugin. Plugin not installed properly\"));e(i.streamId)}))}catch(e){iP.error(\"[\".concat(a,\"] AgoraRTC screensharing plugin is not accessible(\").concat(s,\")\"),e.toString()),t(new pO(hO.CHROME_PLUGIN_NOT_INSTALL))}})));e.screen.mandatory.chromeMediaSourceId=i,DL(r,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(n.getDisplayMedia){var o;e.screen.mediaSource&&MP(e.screen.mediaSource);const i={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:null!==(o=e.screen.displaySurface)&&void 0!==o?o:\"screen\"===e.screen.mediaSource?\"monitor\":e.screen.mediaSource},{selfBrowserSurface:n,surfaceSwitching:s,systemAudio:a,preferCurrentTab:c,windowAudio:d,monitorTypeSurfaces:l}=e.screen,u={selfBrowserSurface:n,surfaceSwitching:s,systemAudio:a,preferCurrentTab:c,windowAudio:d,monitorTypeSurfaces:l};!n&&delete u.selfBrowserSurface,!s&&delete u.surfaceSwitching,!a&&delete u.systemAudio,!c&&delete u.preferCurrentTab,!d&&delete u.windowAudio,!l&&delete u.monitorTypeSurfaces,iP.debug(\"[\".concat(t,\"] getDisplayMedia:\"),JSON.stringify({video:i,audio:e.screenAudio,controls:u})),DL(r,await navigator.mediaDevices.getDisplayMedia(cL({video:i,audio:e.screenAudio},u)))}else{if(!Bw())throw iP.error(\"[\".concat(t,\"] This browser does not support screenSharing\")),new pO(hO.NOT_SUPPORTED,\"This browser does not support screen sharing\");{e.screen.mediaSource&&MP(e.screen.mediaSource);const i={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};iP.debug(\"[\".concat(t,\"] getUserMedia: \").concat(JSON.stringify(i))),DL(r,await navigator.mediaDevices.getUserMedia(i))}}var s,a;if(!e.video&&!e.audio)return r;let c={video:e.video,audio:e.audio},d=CD(\"MEDIA_DEVICE_CONSTRAINTS\");if(d)try{\"string\"==typeof d&&(d=JSON.parse(d)),c=yN(c,d)}catch(e){}iP.debug(\"[\".concat(t,\"] GetUserMedia\"),JSON.stringify(c)),Dw();let l,u=null;(Vw()||jw()||Mw())&&(u=await IL.lock());try{l=await navigator.mediaDevices.getUserMedia(c)}catch(e){throw u&&u(),e}return c.audio&&(AL=!0),c.video&&(bL=!0),DL(r,l),u&&u(),r}function NL(e,t){switch(e){case\"Starting video failed\":case\"OverconstrainedError\":case\"TrackStartError\":return new pO(hO.MEDIA_OPTION_INVALID,\"\".concat(e,\": \").concat(t));case\"NotFoundError\":case\"DevicesNotFoundError\":return new pO(hO.DEVICE_NOT_FOUND,\"\".concat(e,\": \").concat(t));case\"NotSupportedError\":return new pO(hO.NOT_SUPPORTED,\"\".concat(e,\": \").concat(t));case\"NotReadableError\":return new pO(hO.NOT_READABLE,\"\".concat(e,\": \").concat(t));case\"InvalidStateError\":case\"NotAllowedError\":case\"PERMISSION_DENIED\":case\"PermissionDeniedError\":return new pO(hO.PERMISSION_DENIED,\"\".concat(e,\": \").concat(t));case\"ConstraintNotSatisfiedError\":return new pO(hO.CONSTRAINT_NOT_SATISFIED,\"\".concat(e,\": \").concat(t));default:return iP.error(\"getUserMedia unexpected error\",e),new pO(hO.UNEXPECTED_ERROR,\"\".concat(e,\": \").concat(t))}}function DL(e,t){const i=e.getVideoTracks()[0],n=e.getAudioTracks()[0],r=t.getVideoTracks()[0],o=t.getAudioTracks()[0];o&&(n&&e.removeTrack(n),e.addTrack(o)),r&&(i&&e.removeTrack(i),e.addTrack(r))}const PL=new class extends NO{get state(){return this._state}set state(e){e!==this._state&&(this.emit(eL.STATE_CHANGE,e),this._state=e)}constructor(){super(),sL(this,\"_state\",$P.IDLE),sL(this,\"isAccessMicrophonePermission\",!1),sL(this,\"isAccessCameraPermission\",!1),sL(this,\"lastAccessMicrophonePermission\",!1),sL(this,\"lastAccessCameraPermission\",!1),sL(this,\"checkdeviceMatched\",!1),sL(this,\"deviceInfoMap\",new Map),this.init().then((()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener(\"devicechange\",this.updateDevicesInfo.bind(this)),window.setInterval((()=>{(CD(\"ENUMERATE_DEVICES_INTERVAL\")||(aO()||Lw()===Aw.HARMONY_OS)&&sO())&&this.updateDevicesInfo()}),CD(\"ENUMERATE_DEVICES_INTERVAL_TIME\"))})).catch((e=>iP.error(e.toString())))}async enumerateDevices(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)throw new pO(hO.NOT_SUPPORTED,\"enumerateDevices() not supported.\");const n=await navigator.mediaDevices.enumerateDevices(),r=this.checkMediaDeviceInfoIsOk(n);let o=!this.isAccessMicrophonePermission&&e,s=!this.isAccessCameraPermission&&t;r.audio&&(o=!1),r.video&&(s=!1);let a=null,c=null,d=null;if(!i&&(o||s)){if(IL.isLocked&&(iP.debug(\"[device manager] wait GUM lock\"),(await IL.lock())(),iP.debug(\"[device manager] GUM unlock\")),AL&&(o=!1,this.isAccessMicrophonePermission=!0),bL&&(s=!1,this.isAccessCameraPermission=!0),iP.debug(\"[device manager] check media device permissions\",e,t,o,s),o&&s){try{d=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){const t=NL(e.name||e.code||e,e.message);if(t.code===hO.PERMISSION_DENIED)throw t;iP.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(o){try{a=await navigator.mediaDevices.getUserMedia({audio:e})}catch(e){const t=NL(e.name||e.code||e,e.message);if(t.code===hO.PERMISSION_DENIED)throw t;iP.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessMicrophonePermission=!0}else if(s){try{c=await navigator.mediaDevices.getUserMedia({video:t})}catch(e){const t=NL(e.name||e.code||e,e.message);if(t.code===hO.PERMISSION_DENIED)throw t;iP.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessCameraPermission=!0}iP.debug(\"[device manager] mic permission\",e,\"cam permission\",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return a&&a.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),d&&d.getTracks().forEach((e=>e.stop())),a=null,c=null,d=null,e}catch(e){return a&&a.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),d&&d.getTracks().forEach((e=>e.stop())),a=null,c=null,d=null,new pO(hO.ENUMERATE_DEVICES_FAILED,e.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>\"audioinput\"===e.kind))}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter((e=>\"videoinput\"===e.kind))}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>\"audiooutput\"===e.kind))}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach((i=>{i.device.label===e&&(t=i.device.deviceId)})),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find((t=>t.deviceId===e));if(!t)throw new pO(hO.DEVICE_NOT_FOUND,\"deviceId: \".concat(e));return t}async init(){this.state=$P.INITING;try{await this.updateDevicesInfo(),this.state=$P.INITEND}catch(e){if(this.state=$P.IDLE,!(\"boolean\"==typeof isSecureContext?isSecureContext:\"https:\"===location.protocol||\"file:\"===location.protocol||\"localhost\"===location.hostname||\"127.0.0.1\"===location.hostname||\"::1\"===location.hostname))throw new pO(hO.WEB_SECURITY_RESTRICT,\"Your context is limited by web security, please try using https protocol or localhost.\");throw iP.warning(\"Device Detection functionality cannot start properly.\",e.toString()),e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),i=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find((e=>\"audioinput\"===e.kind&&\"default\"===e.deviceId)),i=e.find((e=>\"audiooutput\"===e.kind&&\"default\"===e.deviceId));t&&i?i.groupId===t.groupId?iP.debug(\"[device-check] default input \".concat(t.label,\" and output \").concat(i.label,\" is the same group\")):iP.debug(\"[device-check] default input \".concat(t.label,\" and output \").concat(i.label,\" is not the same group\")):iP.debug(\"[device-check] default input or output not found\")}const n=this.checkMediaDeviceInfoIsOk(e);if(e.forEach((e=>{if(!e.deviceId)return;const n=this.deviceInfoMap.get(\"\".concat(e.kind,\"_\").concat(e.deviceId));if(\"ACTIVE\"!==(n?n.state:\"INACTIVE\")){const n={initAt:t,updateAt:t,device:e,state:\"ACTIVE\"};this.deviceInfoMap.set(\"\".concat(e.kind,\"_\").concat(e.deviceId),n),i.push(n)}n&&(n.updateAt=t)})),this.deviceInfoMap.forEach(((e,n)=>{\"ACTIVE\"===e.state&&e.updateAt!==t&&(e.state=\"INACTIVE\",i.push(e))})),this.state!==$P.INITEND)return n.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(n.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));i.forEach((e=>{switch(e.device.kind){case\"audioinput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(eL.RECORDING_DEVICE_CHANGED,e);break;case\"videoinput\":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(eL.CAMERA_DEVICE_CHANGED,e);break;case\"audiooutput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(eL.PLAYOUT_DEVICE_CHANGED,e)}})),n.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),n.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter((e=>\"audioinput\"===e.kind)),i=e.filter((e=>\"videoinput\"===e.kind)),n={audio:!1,video:!1};for(const e of t)if(e.label&&e.deviceId){n.audio=!0;break}for(const e of i)if(e.label&&e.deviceId){n.video=!0;break}return n}};let LL=!1;const kL=new class extends NO{constructor(){super(...arguments),sL(this,\"onAutoplayFailed\",void 0),sL(this,\"onAudioAutoplayFailed\",void 0)}};function ML(){if(LL)return CD(\"FLS_AUTOPLAY_EMITS\")?(kL.onAutoplayFailed&&kL.onAutoplayFailed(),kL.emit(\"autoplay-failed\")):void 0;{const e=t=>{t.preventDefault(),LL=!1,cO()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0))};LL=!0,cO()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),iP.info(\"detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web\"),kL.onAutoplayFailed?kL.onAutoplayFailed():kL.onAudioAutoplayFailed?iP.warning(\"AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\\n\\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\"):iP.warning(\"We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\\n\\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\\n\\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\"),kL.emit(\"autoplay-failed\")}}function UL(e,t,i,n){if(!e)return;const r=lP.getBaseInfoBySessionId(e);if(!r)return;const o=r.info,s=Date.now(),a=cL(cL({},o),{},{vid:void 0===o.vid?0:Number(o.vid),lts:s,elapse:s-r.startTime,cbRegistered:kL.onAutoplayFailed||kL.onAudioAutoplayFailed?1:-1,errorMsg:i,mediaType:t,trackId:n,extend:void 0});lP.send({type:aP.AUTOPLAY_FAILED,data:a},!0)}const VL=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"error\"],xL=new class{constructor(){sL(this,\"onAutoplayFailed\",void 0),sL(this,\"elementMap\",new Map),sL(this,\"elementStateMap\",new Map),sL(this,\"elementsNeedToResume\",[]),sL(this,\"sinkIdMap\",new Map),sL(this,\"autoResumeAfterInterruption\",(e=>rp.all(Array.from(this.elementMap.entries()).map((async t=>{let[i,n]=t;const r=this.elementStateMap.get(i),o=n.srcObject.getAudioTracks()[0],s=o&&o.readyState;if(iP.debug(\"resume after interrupted, ele: \".concat(r,\" audio: \").concat(s,\" \").concat(e)),\"live\"===s){if(e)return n.pause(),n.play();if(\"running\"===_L.curState)return $w()?(n.pause(),n.play()):r&&\"paused\"===r?n.play():void 0}}))))),sL(this,\"autoResumeAfterInterruptionOnIOS15_16\",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,i]=e;const n=i.srcObject.getAudioTracks()[0];n&&\"live\"===n.readyState&&(iP.debug(\"auto resume after interruption inside autoResumeAfterInterruptionOnIOS15\"),i.pause(),i.play())}))})),this.autoResumeAudioElement(),_L.on(RP.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),_L.on(RP.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),_L.on(RP.STATE_CHANGE,(()=>{jw()&&\"suspended\"===_L.prevState&&\"running\"===_L.curState&&this.autoResumeAfterInterruption()}))}async setSinkID(e,t){const i=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),i)try{await i.setSinkId(t)}catch(e){throw new pO(hO.PERMISSION_DENIED,\"can not set sink id: \"+e.toString())}}play(e,t,i,n){if(this.elementMap.has(t))return;const r=document.createElement(\"audio\");r.autoplay=!0,r.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,r),this.elementMap.set(t,r),this.elementStateMap.set(t,tL.INIT),this.setVolume(t,i);const o=this.sinkIdMap.get(t);if(o)try{r.setSinkId(o).catch((e=>{iP.warning(\"[\".concat(t,\"] set sink id failed\"),e.toString())}))}catch(e){iP.warning(\"[\".concat(t,\"] set sink id failed\"),e.toString())}const s=r.play();s&&s.then&&s.catch((e=>{n&&UL(n,\"audio\",e.message,t),iP.warning(\"audio element play warning\",e.toString()),this.elementMap.has(t)&&\"NotAllowedError\"===e.name&&(iP.warning(\"detected audio element autoplay failed\"),this.elementsNeedToResume.push(r),oN((()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),ML()})))}))}updateTrack(e,t){const i=this.elementMap.get(e);i&&(i.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)&&\"playing\"===this.elementStateMap.get(e)}setVolume(e,t){const i=this.elementMap.get(e);i&&(t=Math.max(0,Math.min(100,t)),i.volume=t/100)}getVolume(e){const t=this.elementMap.get(e);return t?t.volume:0}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const i=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(i,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){VL.forEach((i=>{t.addEventListener(i,(i=>{const n=this.elementStateMap.get(e),r=\"pause\"===i.type?\"paused\":i.type;if(iP.debug(\"[\".concat(e,\"] audio-element-status change \").concat(n,\" => \").concat(r)),\"error\"===i.type){const i=null==t?void 0:t.error;i&&iP.error(\"[\".concat(e,\"] media error, code: \").concat(i.code,\", message: \").concat(i.message))}this.elementStateMap.set(e,r)}))}))}getPlayerState(e){return this.elementStateMap.get(e)||\"uninit\"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach((e=>{e.play().then((e=>{iP.debug(\"Auto resume audio element success\")})).catch((e=>{iP.warning(\"Auto resume audio element failed!\",e)}))})),this.elementsNeedToResume=[]};new rp((e=>{document.body?e():window.addEventListener(\"load\",(()=>e()))})).then((()=>{cO()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0))}))}};function FL(){return function(e,t,i){const n=i.value;return\"function\"==typeof n&&(i.value=function(){this._isClosed&&new pO(hO.INVALID_OPERATION,\"[\".concat(this.getTrackId(),\"] cannot operate a closed track\")).print(\"warning\",iP);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const r=n.apply(this,t);return r instanceof rp?new rp(((e,t)=>{r.then(e).catch(t)})):r}),i}}class BL extends NO{constructor(e){super(),sL(this,\"name\",\"VideoProcessorDestination\"),sL(this,\"ID\",\"0\"),sL(this,\"_source\",void 0),sL(this,\"videoContext\",void 0),sL(this,\"inputTrack\",void 0),this.videoContext=e}get kind(){return\"video\"}get enabled(){return!0}pipe(){throw new pO(hO.NOT_SUPPORTED,\"VideoProcessor cannot pipe to any other Processor\")}unpipe(){throw new pO(hO.NOT_SUPPORTED,\"VideoProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error(\"ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\\nProbably you are making pipeline like this:\\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).\");e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(QP.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(QP.ON_TRACK,void 0)}}class jL extends NO{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t){super(),sL(this,\"constraintsMap\",new Map),sL(this,\"statsRegistry\",[]),sL(this,\"usageRegistry\",[]),sL(this,\"trackId\",void 0),sL(this,\"direction\",void 0),sL(this,\"_chained\",!1),this.trackId=e,this.direction=t}async getConstraints(){return await zO(this,ZP.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var i;return iP.info(\"processor \".concat(t.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(t,e),qO(this,ZP.REQUEST_UPDATE_CONSTRAINTS,Array.from(pp(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return iP.info(\"processor \".concat(e.name,\" requestRevertConstraints for \").concat(this.trackId)),this.constraintsMap.delete(e),qO(this,ZP.REQUEST_UPDATE_CONSTRAINTS,Array.from(pp(t=this.constraintsMap).call(t)))}registerStats(e,t,i){this.statsRegistry.find((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:i})}unregisterStats(e,t){const i=this.statsRegistry.findIndex((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t));-1!==i&&this.statsRegistry.splice(i,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:i,type:n,cb:r}of this.statsRegistry)try{const o=r();e.push({processorID:t,processorName:i,type:n,stats:o})}catch(e){iP.error(new pO(hO.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let i=t();i instanceof rp&&(i=await i),e.push(cL(cL({},i),{},{direction:this.direction}))}catch(e){iP.error(\"gather extension usage error\",e)}return e}getDirection(){return this.direction}}class GL extends NO{constructor(e){super(),sL(this,\"name\",\"AudioProcessorDestination\"),sL(this,\"ID\",\"0\"),sL(this,\"inputTrack\",void 0),sL(this,\"inputNode\",void 0),sL(this,\"audioProcessorContext\",void 0),sL(this,\"_source\",void 0),this.audioProcessorContext=e}get kind(){return\"audio\"}get enabled(){return!0}pipe(){throw new pO(hO.NOT_SUPPORTED,\"AudioProcessorDestination cannot pipe to any other Processor\")}unpipe(){throw new pO(hO.NOT_SUPPORTED,\"AudioProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(QP.ON_TRACK,void 0),this.emit(QP.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error(\"ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).\");e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(QP.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(QP.ON_NODE,this.inputNode))}}class WL extends NO{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t,i){super(),sL(this,\"constraintsMap\",new Map),sL(this,\"statsRegistry\",[]),sL(this,\"audioContext\",void 0),sL(this,\"trackId\",void 0),sL(this,\"direction\",void 0),sL(this,\"usageRegistry\",[]),sL(this,\"_chained\",!1),this.audioContext=e,this.trackId=t,this.direction=i}async getConstraints(){return zO(this,ZP.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var i;return iP.info(\"processor \".concat(t.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(t,e),qO(this,ZP.REQUEST_UPDATE_CONSTRAINTS,Array.from(pp(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),qO(this,ZP.REQUEST_UPDATE_CONSTRAINTS,Array.from(pp(t=this.constraintsMap).call(t)))}registerStats(e,t,i){this.statsRegistry.find((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:i})}unregisterStats(e,t){const i=this.statsRegistry.findIndex((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t));-1!==i&&this.statsRegistry.splice(i,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:i,type:n,cb:r}of this.statsRegistry)try{const o=r();e.push({processorID:t,processorName:i,type:n,stats:o})}catch(e){iP.error(new pO(hO.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let i=t();i instanceof rp&&(i=await i),e.push(cL(cL({},i),{},{direction:this.direction}))}catch(e){iP.error(\"gather extension usage error\",e)}return e}getDirection(){return this.direction}}class HL extends NO{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),sL(this,\"context\",void 0),sL(this,\"processSourceNode\",void 0),sL(this,\"outputTrack\",void 0),sL(this,\"processedNode\",void 0),sL(this,\"clonedTrack\",void 0),sL(this,\"outputNode\",void 0),this.outputNode=new KL}setVolume(){}createOutputTrack(){throw new pO(hO.NOT_SUPPORTED,\"can not create output MediaStreamTrack when WebAudio disabled\")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class KL{disconnect(){}connect(){}}function YL(e){return new rp(((t,i)=>{let n=!1;const r=document.createElement(\"video\");r.setAttribute(\"autoplay\",\"\"),r.setAttribute(\"muted\",\"\"),r.muted=!0,r.autoplay=!0,r.setAttribute(\"playsinline\",\"\"),r.setAttribute(\"style\",\"position: fixed; top: 0; left: 0; width: 1px; height: 1px\"),document.body.appendChild(r);const o=jw()?\"canplay\":\"playing\";r.addEventListener(o,(()=>{const e=r.videoWidth,i=r.videoHeight;!e&&Bw()||(n=!0,r.srcObject=null,r.remove(),t([e,i]))})),r.srcObject=new MediaStream([e]),r.play().catch(TN),setTimeout((()=>{n||(r.srcObject=null,r.remove(),t([r.videoWidth,r.videoHeight]))}),4e3)}))}function zL(e){const t={};e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId});const i=OP(e.encoderConfig);return null!=i.width&&(t.width=i.width),null!=i.height&&(t.height=i.height),!rO()&&i.frameRate&&(t.frameRate=i.frameRate),Fw()&&\"object\"==typeof t.frameRate&&(t.frameRate.max=60),Bw()&&(t.frameRate={ideal:30,max:30}),t}function qL(e){const t={};return rO()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,Uw()&&e.ANS&&(t.googHighpassFilter=e.ANS))),t}function XL(e){const t=qL(e);if(e.encoderConfig){const i=LP(e.encoderConfig);t.channelCount=i.stereo?2:1,t.sampleRate=i.sampleRate,t.sampleSize=i.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),aO()&&(t.sampleRate=void 0),t}const JL=e=>{const t=e._encoderConfig;if(!t)return;const{frameRate:i,width:n,height:r}=e.getMediaStreamTrackSettings();let{frameRate:o=i,width:s=n,height:a=r}=t;if(!o||!s||!a)return;s=AN(s),a=AN(a),o=AN(o);const{max:c,min:d}=function(e,t,i){const n=200*Math.pow(i/15,.6)*Math.pow(e*t/640/360,.75);return{min:Math.floor(n),max:Math.floor(4*n)}}(s,a,o),{bitrateMax:l,bitrateMin:u}=t||{};l||iP.debug(\"calculate bitrate: [w: \".concat(s,\", h: \").concat(a,\", fps: \").concat(o,\"] => [brMax: \").concat(l,\", brMin: \").concat(u,\"]\"));const{maxFramerate:h}=CD(\"ENCODER_CONFIG_LIMIT\");return h&&\"number\"==typeof h&&(o=Math.min(o,h)),{frameRate:o,bitrateMax:l||c,bitrateMin:u||d,scaleResolutionDownBy:1,scale:0}},QL=async(e,t,i)=>await(async(e,t,i)=>{const n=function(e){const t=[];for(let i=0;i<e.length;i+=2)t.push(parseInt(e.slice(i,i+2),16));return Uint8Array.from(t)}(ON(\"\"+t+i)).slice(0,16),r=n.slice(0,12),o=await window.crypto.subtle.importKey(\"raw\",n,\"AES-GCM\",!0,[\"encrypt\"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:r},o,e))})(e.buffer,t,i),ZL=e=>{const t=document.createElement(\"canvas\");return t.width=2,t.height=2,new rp(((i,n)=>{t.toBlob((async e=>{if(t.remove(),e){const n=await $L(e);i({buffer:n,width:t.width,height:t.height})}else n(new pO(hO.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,1)}))},$L=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};var ek,tk,ik,nk,rk,ok,sk,ak,ck,dk,lk,uk,hk,pk,_k,Ek,mk,fk,Sk,gk,Tk,Rk,Ck,vk,yk,Ik,Ak,bk,wk,Ok,Nk,Dk,Pk,Lk,kk,Mk,Uk,Vk,xk,Fk;let Bk=(ek=dP({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),tk=dP({argsMap:(e,t)=>[e.getTrackId(),t]}),ik=FL(),nk=LN(\"LocalAudioTrack\",\"_enabledMutex\"),rk=dP({argsMap:(e,t)=>[e.getTrackId(),t]}),ok=FL(),sk=LN(\"LocalAudioTrack\",\"_enabledMutex\"),ak=dP({argsMap:(e,t)=>[e.getTrackId(),t]}),ck=FL(),dk=FL(),lk=FL(),uk=dP({argsMap:e=>[e.getTrackId()]}),hk=FL(),pk=dP({argsMap:e=>[e.getTrackId()]}),_k=FL(),Ek=dP({argsMap:e=>[e.getTrackId()]}),mk=dP({argsMap:(e,t)=>[e.getTrackId(),t.name]}),fk=dP({argsMap:e=>[e.getTrackId()]}),oL((Sk=class extends lL{get _source(){return this.initWebAudio()}set _source(e){this._trackSource=e}get processorContext(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}get processorDestination(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}get isPlaying(){return this._useAudioElement?xL.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return\"LocalAudioTrack\"}constructor(e,t,i,n){super(e,i),sL(this,\"trackMediaType\",HP.AUDIO),sL(this,\"_encoderConfig\",void 0),sL(this,\"_trackSource\",void 0),sL(this,\"metadata\",[]),sL(this,\"_enabled\",!0),sL(this,\"_volume\",100),sL(this,\"_useAudioElement\",!0),sL(this,\"_bypassWebAudio\",!1),sL(this,\"processor\",void 0),sL(this,\"_processorContext\",void 0),sL(this,\"_processorDestination\",void 0),sL(this,\"_getOriginVolumeLevel\",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!n,this._trackSource=new HL,CD(\"DISABLE_WEBAUDIO\")&&(this._bypassWebAudio=!0),CD(\"LOCAL_AUDIO_TRACK_USES_WEB_AUDIO\")&&(this._useAudioElement=!1),Vw()&&!pL?setTimeout((()=>this.initWebAudio())):this.initWebAudio()}setVolume(e){mO(e,\"volume\",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&xL.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void iP.debug(\"[\".concat(this.getTrackId(),\"] setVolume returned because no pass through WebAudio.\"));const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,qO(this,UP.NEED_REPLACE_TRACK,this).then((()=>{iP.debug(\"[\".concat(this.getTrackId(),\"] replace web audio track success\"))})).catch((e=>{iP.warning(\"[\".concat(this.getTrackId(),\"] replace web audio track failed\"),e)})))}catch(e){}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){if(!this._useAudioElement||!_P())throw new pO(hO.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await xL.setSinkID(this.getTrackId(),e)}async setEnabled(e,t,i){return this._setEnabled(e,t,i)}async _setEnabled(e,t,i){if(!i){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(iP.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){this._originMediaStreamTrack.enabled=!0;try{i||(this._enabled=!0),await qO(this,UP.NEED_ENABLE_TRACK,this),iP.info(\"[\".concat(this.getTrackId(),\"] setEnabled to \").concat(e,\" success\"))}catch(e){throw i||(this._enabled=!1),iP.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),e.toString()),e}}else{this._originMediaStreamTrack.enabled=!1,i||(this._enabled=!1);try{await qO(this,UP.NEED_DISABLE_TRACK,this)}catch(e){throw i||(this._enabled=!0),iP.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}}}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,iP.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await qO(this,UP.NEED_MUTE_TRACK,this):await qO(this,UP.NEED_UNMUTE_TRACK,this))}getStats(){dN((()=>{iP.warning(\"[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead\")}),\"localAudioTrackGetStatsWarning\");return XO(this,UP.GET_STATS)||cL({},YP)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(KP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(KP.ON_AUDIO_BUFFER),this._source.on(KP.ON_AUDIO_BUFFER,(t=>e(t)))}play(){iP.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._useAudioElement?(iP.debug(\"[\".concat(this.getTrackId(),\"] start audio playback in element\")),xL.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){iP.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._useAudioElement?xL.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];iP.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&xL.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:e,context:this._processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await qO(this,UP.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return rp.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new pO(hO.INVALID_OPERATION,\"Can not process AudioTrack when bypassWebAudio set to true.\");if(this.processor===e)return e;if(e._source)throw new pO(hO.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(e){e.on(QP.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await qO(this,UP.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await qO(this,UP.NEED_REPLACE_TRACK,this))})),e.on(QP.ON_NODE,(e=>{this._source.processedNode=e}))}unbindProcessorDestinationEvents(e){e.removeAllListeners(QP.ON_TRACK),e.removeAllListeners(QP.ON_NODE)}bindProcessorContextEvents(e){e.on(ZP.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}unbindProcessorContextEvents(e){e.removeAllListeners(ZP.REQUEST_CONSTRAINTS)}initWebAudio(){return this._trackSource instanceof HL&&(this._trackSource=new RL(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){const e=new WL(this._source.context,this.getTrackId(),\"local\"),t=new GL(e);return this._processorContext=e,this._processorDestination=t,this.bindProcessorContextEvents(e),this.bindProcessorDestinationEvents(t),this._source.on(KP.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:e})})),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(xL.stop(this.getTrackId()),this._source.play()),qO(this,UP.NEED_REPLACE_MIXING_TRACK,this).then((()=>{iP.debug(\"[\".concat(this.getTrackId(),\"] replace from origin track to web audio track success\"))})).catch((e=>{iP.warning(\"[\".concat(this.getTrackId(),\"] replace from origin track to web audio track failed\"),e)}))),{processorContext:e,processorDestination:t}}}).prototype,\"setVolume\",[ek],Object.getOwnPropertyDescriptor(Sk.prototype,\"setVolume\"),Sk.prototype),oL(Sk.prototype,\"setPlaybackDevice\",[tk,ik],Object.getOwnPropertyDescriptor(Sk.prototype,\"setPlaybackDevice\"),Sk.prototype),oL(Sk.prototype,\"setEnabled\",[nk,rk,ok],Object.getOwnPropertyDescriptor(Sk.prototype,\"setEnabled\"),Sk.prototype),oL(Sk.prototype,\"setMuted\",[sk,ak,ck],Object.getOwnPropertyDescriptor(Sk.prototype,\"setMuted\"),Sk.prototype),oL(Sk.prototype,\"getStats\",[dk],Object.getOwnPropertyDescriptor(Sk.prototype,\"getStats\"),Sk.prototype),oL(Sk.prototype,\"setAudioFrameCallback\",[lk],Object.getOwnPropertyDescriptor(Sk.prototype,\"setAudioFrameCallback\"),Sk.prototype),oL(Sk.prototype,\"play\",[uk,hk],Object.getOwnPropertyDescriptor(Sk.prototype,\"play\"),Sk.prototype),oL(Sk.prototype,\"stop\",[pk,_k],Object.getOwnPropertyDescriptor(Sk.prototype,\"stop\"),Sk.prototype),oL(Sk.prototype,\"close\",[Ek],Object.getOwnPropertyDescriptor(Sk.prototype,\"close\"),Sk.prototype),oL(Sk.prototype,\"pipe\",[mk],Object.getOwnPropertyDescriptor(Sk.prototype,\"pipe\"),Sk.prototype),oL(Sk.prototype,\"unpipe\",[fk],Object.getOwnPropertyDescriptor(Sk.prototype,\"unpipe\"),Sk.prototype),Sk),jk=(gk=dP({argsMap:(e,t)=>[e.getTrackId(),t]}),Tk=FL(),Rk=LN(\"MicrophoneAudioTrack\",\"_enabledMutex\"),Ck=dP({argsMap:(e,t,i)=>[e.getTrackId(),t,i]}),vk=FL(),yk=dP({argsMap:e=>[e.getTrackId()]}),oL((Ik=class extends Bk{get __className__(){return\"MicrophoneAudioTrack\"}constructor(e,t,i,n){super(e,t.encoderConfig?LP(t.encoderConfig):{},n,CD(\"GET_VOLUME_OF_MUTED_AUDIO_TRACK\")),sL(this,\"_config\",void 0),sL(this,\"_deviceName\",\"default\"),sL(this,\"_constraints\",void 0),sL(this,\"_originalConstraints\",void 0),sL(this,\"_enabled\",!0),this._config=t,this._constraints=i,this._originalConstraints=i,this._deviceName=e.label,\"boolean\"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),($w()||eO())&&_L.bindInterruptDetectorTrack(this)}async setDevice(e){if(iP.info(\"[\".concat(this.getTrackId(),\"] start set device to \").concat(e)),this._enabled)try{const t=await PL.getDeviceById(e),i={};i.audio=cL({},this._constraints),i.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let n=null;try{n=await wL(i,this.getTrackId())}catch(e){throw iP.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),e.toString()),n=await wL({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n.getAudioTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(n.getAudioTracks()[0],!1),this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw iP.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{const t=await PL.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw iP.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}iP.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e,\" success\"))}async setEnabled(e,t,i){if(t)return iP.debug(\"[\".concat(this.getTrackId(),\"] setEnabled false (do not close microphone)\")),await super._setEnabled(e);if(!i){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(iP.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),CD(\"AUTO_RESET_AUDIO_ROUTE\")&&(jw()||iO())){const t=navigator.audioSession;t&&(e||(t.type=\"playback\"),t.type=\"auto\")}if(!e){var n;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(n=this._source.clonedTrack)||void 0===n||n.stop(),i||(this._enabled=!1);try{await qO(this,UP.NEED_DISABLE_TRACK,this)}catch(e){throw iP.error(\"[\".concat(this.getTrackId(),\"] setEnabled false failed\"),e.toString()),e}return}const r=cL({},this._constraints),o=PL.searchDeviceIdByName(this._deviceName);o&&!r.deviceId&&(r.deviceId=o);try{i||(this._enabled=!0);const e=await wL({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await qO(this,UP.NEED_ENABLE_TRACK,this)}catch(e){throw i||(this._enabled=!1),iP.error(\"[\".concat(this.getTrackId(),\"] setEnabled true failed\"),e.toString()),e}iP.info(\"[\".concat(this.getTrackId(),\"] setEnabled success\"))}close(){super.close(),($w()||eO())&&_L.unbindInterruptDetectorTrack(this),kP.some((e=>function(e){return\"__className__\"in e&&\"MicrophoneAudioTrack\"===e.__className__}(e)))||hL&&hL()&&(lP.reportApiInvoke(null,{name:\"BG_AUDIO_TAG_RESTART\",options:{},tag:kO.TRACER}).onSuccess(),iP.debug(\"restart background audio tag success\"))}onTrackEnded(){if((jw()||iO())&&this._enabled&&!this._isClosed&&_L.duringInterruption){const e=async()=>{_L.off(RP.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(iP.debug(\"[\".concat(this.getTrackId(),\"] try capture microphone media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0))};_L.on(RP.IOS_INTERRUPTION_END,e)}else iP.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(GP.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,i=PL.searchDeviceIdByName(this._deviceName);if(i&&!t.deviceId&&(t.deviceId=i),this._constraints=t,this._enabled){this._originMediaStreamTrack.stop();const e=await wL({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!0)}}bindProcessorContextEvents(e){super.bindProcessorContextEvents(e),e.on(ZP.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,i)=>{try{const i=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(i),t()}catch(e){i(e)}}))}unbindProcessorContextEvents(e){super.unbindProcessorContextEvents(e),e.removeAllListeners(ZP.REQUEST_UPDATE_CONSTRAINTS)}}).prototype,\"setDevice\",[gk,Tk],Object.getOwnPropertyDescriptor(Ik.prototype,\"setDevice\"),Ik.prototype),oL(Ik.prototype,\"setEnabled\",[Rk,Ck,vk],Object.getOwnPropertyDescriptor(Ik.prototype,\"setEnabled\"),Ik.prototype),oL(Ik.prototype,\"close\",[yk],Object.getOwnPropertyDescriptor(Ik.prototype,\"close\"),Ik.prototype),Ik),Gk=(Ak=dP({argsMap:(e,t)=>[e.getTrackId(),t,e.duration]}),bk=FL(),wk=dP({argsMap:e=>[e.getTrackId()]}),Ok=FL(),Nk=dP({argsMap:e=>[e.getTrackId()]}),Dk=FL(),Pk=dP({argsMap:e=>[e.getTrackId()]}),Lk=FL(),kk=dP({argsMap:e=>[e.getTrackId()]}),Mk=FL(),Uk=dP({argsMap:e=>[e.getTrackId()]}),Vk=dP({argsMap:e=>[e.getTrackId()]}),xk=FL(),oL((Fk=class extends Bk{get __className__(){return\"BufferSourceAudioTrack\"}constructor(e,t,i,n){super(t.createOutputTrack(),i,n),sL(this,\"source\",void 0),sL(this,\"_bufferSource\",void 0),this._useAudioElement=!1,this.source=e,this._bufferSource=t,this._bufferSource.on(KP.AUDIO_SOURCE_STATE_CHANGE,(e=>{this.safeEmit(GP.SOURCE_STATE_CHANGE,e)}));try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e){this._bufferSource.seekAudioBuffer(e)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(e){mO(e,\"speed\",0),this._bufferSource.setAudioBufferPlaybackSpeed(e)}}).prototype,\"startProcessAudioBuffer\",[Ak,bk],Object.getOwnPropertyDescriptor(Fk.prototype,\"startProcessAudioBuffer\"),Fk.prototype),oL(Fk.prototype,\"pauseProcessAudioBuffer\",[wk,Ok],Object.getOwnPropertyDescriptor(Fk.prototype,\"pauseProcessAudioBuffer\"),Fk.prototype),oL(Fk.prototype,\"seekAudioBuffer\",[Nk,Dk],Object.getOwnPropertyDescriptor(Fk.prototype,\"seekAudioBuffer\"),Fk.prototype),oL(Fk.prototype,\"resumeProcessAudioBuffer\",[Pk,Lk],Object.getOwnPropertyDescriptor(Fk.prototype,\"resumeProcessAudioBuffer\"),Fk.prototype),oL(Fk.prototype,\"stopProcessAudioBuffer\",[kk,Mk],Object.getOwnPropertyDescriptor(Fk.prototype,\"stopProcessAudioBuffer\"),Fk.prototype),oL(Fk.prototype,\"close\",[Uk],Object.getOwnPropertyDescriptor(Fk.prototype,\"close\"),Fk.prototype),oL(Fk.prototype,\"setAudioBufferPlaybackSpeed\",[Vk,xk],Object.getOwnPropertyDescriptor(Fk.prototype,\"setAudioBufferPlaybackSpeed\"),Fk.prototype),Fk);class Wk extends Bk{get __className__(){return\"MixingAudioTrack\"}get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=EL().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,SN(8,\"track-mix-\")),sL(this,\"trackList\",void 0),sL(this,\"destNode\",void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){-1===this.trackList.indexOf(e)?(iP.debug(\"add \".concat(e.getTrackId(),\" to mixing track\")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):iP.debug(\"track \".concat(e.getTrackId(),\" is already added\"))}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){iP.debug(\"remove \".concat(e.getTrackId(),\" from mixing track\"));try{e._source.outputNode.disconnect(this.destNode)}catch(e){}nN(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach((t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}_updateRtpTransceiver(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach((t=>{t instanceof Wk?t.emit(jP.TRANSCEIVER_UPDATED,e):t._updateRtpTransceiver(e)})))}}class Hk extends TL{set currentState(e){e!==this._currentState&&(this._currentState=e,this.safeEmit(KP.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),sL(this,\"audioBuffer\",void 0),sL(this,\"sourceNode\",void 0),sL(this,\"startPlayTime\",0),sL(this,\"startPlayOffset\",0),sL(this,\"pausePlayTime\",0),sL(this,\"options\",void 0),sL(this,\"currentLoopCount\",0),sL(this,\"currentPlaybackSpeed\",100),sL(this,\"_currentState\",\"stopped\"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?\"stopped\"===this.currentState?0:\"paused\"===this.currentState?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(e){\"stopped\"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):iP.warning(\"can not set audio source options\")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState=\"playing\"}pauseProcessAudioBuffer(){this.sourceNode&&\"playing\"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState=\"paused\")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,\"playing\"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),\"playing\"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):\"paused\"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){\"paused\"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState=\"playing\")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(e){this.sourceNode&&(\"playing\"===this.currentState&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState=\"stopped\",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const Kk=new Map;function Yk(e,t){if(0===e.length||0===t.length)return 1/0;const i=wN(e),n=wN(t);return Math.floor(n/i)}class zk{get rendFrameRate(){const e=Math.max(1,Yk(this._render_interframe_delays_sizes,this._render_interframe_delays));return Math.floor(1e3/e)}get videoElementStatus(){return this._isInPage?this._videoElementStatus:tL.DESTROYED}set videoElementStatus(e){e!==this._videoElementStatus&&(iP.debug(\"[\".concat(this.trackId,\"] video-element-status change \").concat(this._videoElementStatus,\" => \").concat(e)),this._videoElementStatus=e)}get videoState(){return this._videoState}set videoState(e){var t;e!==this._videoState&&(this._videoState=e,null===(t=this.onVideoStateChanged)||void 0===t||t.call(this,this.videoState))}constructor(e){sL(this,\"trackId\",void 0),sL(this,\"config\",void 0),sL(this,\"onFirstVideoFrameDecoded\",void 0),sL(this,\"onFirstVideoFrameRender\",void 0),sL(this,\"onVideoBufferReady\",void 0),sL(this,\"onVideoStateChanged\",void 0),sL(this,\"freezeTimeCounterList\",[]),sL(this,\"renderFreezeAccTime\",0),sL(this,\"renderFreezeAccTime2\",0),sL(this,\"isKeepLastFrame\",!1),sL(this,\"isDestroyed\",!1),sL(this,\"timeUpdatedCount\",0),sL(this,\"freezeTime\",0),sL(this,\"playbackTime\",0),sL(this,\"lastTimeUpdatedTime\",0),sL(this,\"autoplayFailed\",!1),sL(this,\"videoTrack\",void 0),sL(this,\"videoElement\",void 0),sL(this,\"cacheVideoElement\",void 0),sL(this,\"cancelRVFId\",void 0),sL(this,\"internal\",!1),sL(this,\"_render_interframe_delays\",[]),sL(this,\"_render_interframe_delays_sizes\",[]),sL(this,\"_videoState\",iL.VideoStateStopped),sL(this,\"videoElementCheckInterval\",void 0),sL(this,\"videoElementFreezeTimeout\",void 0),sL(this,\"_videoElementStatus\",tL.NONE),sL(this,\"_isInPage\",!0),sL(this,\"isGettingVideoDimensions\",!1),sL(this,\"startGetVideoDimensions\",(()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return iP.debug(\"[\".concat(this.trackId,\"] current video dimensions:\"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()})),sL(this,\"autoResumeAfterInterruption\",(()=>{this.videoTrack&&\"live\"===this.videoTrack.readyState&&\"running\"===_L.curState&&(iP.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(kw())),tO()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),sL(this,\"handleVideoEvents\",(e=>{switch(e.type){case\"play\":case\"playing\":\"play\"===e.type&&iP.debug(\"[\".concat(this.trackId,\"] video element status: play\")),this.startGetVideoDimensions(),this.videoElementStatus=tL.PLAYING;break;case\"loadeddata\":if(this.videoState=iL.VideoStateStarting,this.onFirstVideoFrameRender&&this.onFirstVideoFrameRender(),this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch(e){}this.cacheVideoElement=void 0}break;case\"canplay\":this.videoElementStatus=tL.CANPLAY;break;case\"stalled\":this.videoElementStatus=tL.STALLED;break;case\"suspend\":this.videoElementStatus=tL.SUSPEND;break;case\"pause\":this.videoElementStatus=tL.PAUSED,jw()||iO()||Vw()&&this.autoplayFailed||!this.videoTrack||\"live\"!==this.videoTrack.readyState||(iP.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume\")),this.videoElement.play());break;case\"waiting\":this.videoElementStatus=tL.WAITING;break;case\"abort\":this.videoElementStatus=tL.ABORT;break;case\"ended\":this.videoElementStatus=tL.ENDED;break;case\"emptied\":this.videoElementStatus=tL.EMPTIED;break;case\"error\":{const e=this.videoElement.error;e&&(this.videoElementStatus=tL.ERROR,iP.error(\"[\".concat(this.trackId,\"] media error: \").concat(e.message,\" (\").concat(e.code,\")\")));break}case\"timeupdate\":{const e=performance.now();if(this.timeUpdatedCount+=1,this.onVideoBufferReady&&this.timeUpdatedCount>CD(\"BUFFER_READY_FRAMES\")&&this.onVideoBufferReady(),this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime,i=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=e,eU.lastVisibleTime<eU.lastHiddenTime||i<eU.lastHiddenTime||i<eU.lastVisibleTime)return;if(this.isSkipCalcRenderFreezeTime())return;for(t>CD(\"VIDEO_FREEZE_DURATION\")&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;){this.playbackTime-=6e3;const e=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(e),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}})),sL(this,\"autoResumeAfterInterruptionOnIOS15_16\",(()=>{this.videoTrack&&\"live\"===this.videoTrack.readyState&&(iP.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(kw())),tO()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),this.trackId=e.trackId,this.config=e,e.element instanceof HTMLVideoElement?this.videoElement=e.element:this.videoElement=document.createElement(\"video\"),_L.on(RP.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),_L.on(RP.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var e;return null!==(e=this.videoElement.parentElement)&&void 0!==e?e:void 0}updateConfig(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement())}play(e){const t=this.videoElement.play();t&&t.catch&&t.catch((t=>{e&&UL(e,\"video\",t.message,this.trackId),\"NotAllowedError\"===t.name?(iP.warning(\"detected video element autoplay failed\",t),this.autoplayFailed=!0,this.handleAutoPlayFailed()):iP.warning(\"[\".concat(this.trackId,\"] play warning: \"),t)}));const i=Dw();if((\"Safari\"===i.name&&15===Number(i.version)||$w())&&t&&t.then){const e=()=>{this.config.mirror&&!this.config.noStyle&&(this.videoElement.style.transform=\"rotateY(180deg)\")};t.then(e).catch(e)}}getCurrentFrame(){const e=document.createElement(\"canvas\");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext(\"2d\");if(!t)return iP.error(\"create canvas context failed!\"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const i=t.getImageData(0,0,e.width,e.height);return e.remove(),i}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=document.createElement(\"canvas\");i.width=this.videoElement.videoWidth,i.height=this.videoElement.videoHeight;const n=i.getContext(\"2d\");return n?(n.drawImage(this.videoElement,0,0,i.width,i.height),new rp(((n,r)=>{i.toBlob((async e=>{if(i.remove(),e){const t=await $L(e);n({buffer:t,width:i.width,height:i.height})}else r(new pO(hO.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,t<0?.1:t>1?1:t)}))):await ZL(e)}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isDestroyed=!0,_L.off(RP.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),_L.off(RP.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),e?this.videoElement.pause():this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=iL.VideoStateStopped}initVideoElement(){if(this.videoElementStatus=tL.INIT,!this.videoElementCheckInterval&&(qk.forEach((e=>{this.videoElement.addEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((()=>{this._isInPage=function(e){return e!==document.body&&document.body.contains(e)}(this.videoElement)}),1e3),CD(\"ENABLE_VIDEO_FRAME_CALLBACK\"))){var e,t;let i;const n=()=>{\"visible\"===document.visibilityState&&(document.removeEventListener(\"visibilitychange\",n),this.videoElementFreezeTimeout=window.setTimeout(r,CD(\"VIDEO_FREEZE_DURATION\")))},r=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===iL.VideoStateDecoding&&(\"visible\"===document.visibilityState?this.videoState=iL.VideoStateFrozen:document.addEventListener(\"visibilitychange\",n))},o=(e,t)=>{if(this.videoElementStatus===tL.PLAYING){if(i){const e=t.presentationTime-i.presentationTime,n=t.presentedFrames-i.presentedFrames;this._render_interframe_delays_sizes.push(n),this._render_interframe_delays.push(e);const o=wN(this._render_interframe_delays_sizes),s=o-this._render_interframe_delays_sizes[0];if(o>30&&s>5&&(this._render_interframe_delays_sizes.shift(),this._render_interframe_delays.shift()),this.videoState===iL.VideoStateStarting&&(this.videoState=iL.VideoStateDecoding),this.videoState===iL.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(r,CD(\"VIDEO_FREEZE_DURATION\"))),e<CD(\"VIDEO_FREEZE_DURATION\")&&this.videoState===iL.VideoStateFrozen&&(this.videoState=iL.VideoStateDecoding),e>CD(\"VIDEO_FREEZE_DURATION\")&&eU.lastVisibleTime>=eU.lastHiddenTime&&i.timestamp>eU.lastVisibleTime&&i.timestamp>eU.lastHiddenTime){const t=Math.min(66,Yk(this._render_interframe_delays_sizes,this._render_interframe_delays)),i=Math.max(0,e-(n-1)*t);this.renderFreezeAccTime2+=i>t?i:0,this.renderFreezeAccTime+=e}}i=cL(cL({},t),{},{timestamp:e})}else this.isSkipCalcRenderFreezeTime()&&(i=cL(cL({},t),{},{timestamp:e}));var n,s;CD(\"ENABLE_VIDEO_FRAME_CALLBACK\")&&(this.cancelRVFId=null===(n=(s=this.videoElement).requestVideoFrameCallback)||void 0===n?void 0:n.call(s,o))};this.cancelRVFId=null===(e=(t=this.videoElement).requestVideoFrameCallback)||void 0===e?void 0:e.call(t,o)}this.videoElement.controls=!1,this.videoElement.setAttribute(\"playsinline\",\"\"),aO()&&!CD(\"HIDE_NO_POSTER\")&&(this.videoElement.poster=\"noposter\");const i=Dw();this.config.noStyle||(\"Safari\"===i.name&&15===Number(i.version)||$w()||!this.config.mirror||(this.videoElement.style.transform=\"rotateY(180deg)\"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit=\"cover\"),this.videoElement.setAttribute(\"muted\",\"\"),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Bw()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Bw()&&this.videoElement.load());const n=this.videoElement.play();void 0!==n&&n.catch((e=>{iP.debug(\"[\".concat(this.trackId,\"] playback interrupted\"),e.toString())}))}resetVideoElement(){var e,t;qk.forEach((e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.cancelRVFId&&this.videoElement&&(null===(e=(t=this.videoElement).cancelVideoFrameCallback)||void 0===e||e.call(t,this.cancelRVFId),this.cancelRVFId=void 0),this.videoElementStatus=tL.NONE}isSkipCalcRenderFreezeTime(){return this.videoElementStatus===tL.DESTROYED||this.internal}handleAutoPlayFailed(){const e=t=>{t.preventDefault(),this.videoElement.play().then((()=>{iP.debug(\"[\".concat(this.trackId,\"] Video element for trackId:\").concat(this.trackId,\" autoplay resumed.\"))})).catch((e=>{iP.error(e)})),this.autoplayFailed=!1,cO()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0))};cO()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),ML()}}const qk=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"timeupdate\",\"error\"];class Xk extends zk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(e),sL(this,\"container\",void 0),sL(this,\"slot\",void 0),this.slot=e.element,this.internal=t,this.updateConfig(e)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;var i;!this.internal||this.slot?(t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()):(this.slot=t,t&&this.container?(this.internal=!1,this.container.id=\"agora-video-player-\".concat(this.trackId),this.videoElement.id=\"video_\".concat(this.trackId),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit=\"cover\",null===(i=this.slot)||void 0===i||i.appendChild(this.container)):this.createElements())}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){var t;null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)&&super.play(e)}getCurrentFrame(){var e;return null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e,i):await ZL(e)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement(\"video\"),this.container){try{var e;this.container.remove(),null===(e=this.slot)||void 0===e||e.removeChild(this.container)}catch(e){}this.container=void 0}}createElements(){var e;this.container||(this.container=document.createElement(\"div\")),this.container.id=\"agora-video-player-\".concat(this.trackId),this.container.style.width=\"100%\",this.container.style.height=\"100%\",this.container.style.position=\"relative\",this.container.style.overflow=\"hidden\",this.videoTrack?(this.container.style.backgroundColor=\"black\",CD(\"KEEP_LAST_FRAME\")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),null===(e=this.slot)||void 0===e||e.appendChild(this.container)}mountedVideoElement(){var e;!this.container||null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id=\"video_\".concat(this.trackId),this.videoElement.className=\"agora_video_player\",this.videoElement.style.width=\"100%\",this.videoElement.style.height=\"100%\",this.videoElement.style.position=\"absolute\",this.videoElement.style.left=\"0\",this.videoElement.style.top=\"0\"}unmountedVideoElement(){var e;if(null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=document.createElement(\"video\")}}resetVideoElement(){var e;null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement(\"video\"))}getContainerElement(){return this.container}}var Jk,Qk,Zk,$k,eM,tM,iM,nM,rM,oM,sM,aM,cM,dM,lM,uM,hM,pM,_M,EM,mM,fM,SM,gM,TM,RM,CM,vM,yM,IM,AM,bM,wM,OM,NM,DM,PM,LM;let kM=(Jk=dP({argsMap:(e,t,i)=>[e.getTrackId(),\"string\"==typeof t?t:t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",i]}),Qk=FL(),Zk=dP({argsMap:e=>[e.getTrackId()]}),$k=LN(\"LocalVideoTrack\",\"_enabledMutex\"),eM=dP({argsMap:(e,t)=>[e.getTrackId(),t]}),tM=FL(),iM=LN(\"LocalVideoTrack\",\"_enabledMutex\"),nM=dP({argsMap:(e,t)=>[e.getTrackId(),t]}),rM=FL(),oM=dP({argsMap:(e,t)=>[e.getTrackId(),t,e._saveEncodeBitrateRatio]}),sM=FL(),aM=dP({argsMap:(e,t)=>[e.getTrackId(),t]}),cM=FL(),dM=FL(),lM=dP({argsMap:(e,t,i)=>[e.getTrackId(),t,i]}),uM=FL(),hM=FL(),pM=FL(),_M=dP({argsMap:e=>[e.getTrackId()]}),EM=FL(),mM=FL(),fM=FL(),SM=FL(),gM=FL(),TM=dP({argsMap:(e,t)=>[e.getTrackId(),t.name]}),RM=dP({argsMap:e=>[e.getTrackId()]}),CM=dP({argsMap:e=>[e.getTrackId()]}),vM=dP({argsMap:(e,t,i)=>[e.getTrackId(),t.label,i]}),yM=class e extends lL{get videoHeight(){if(Vw()){const{height:e}=this._mediaStreamTrack.getSettings();return this._videoHeight=e,this._videoHeight}return this._videoHeight}get videoWidth(){if(Vw()){const{width:e}=this._mediaStreamTrack.getSettings();return this._videoWidth=e,this._videoWidth}return this._videoWidth}get isPlaying(){return!(!this._player||this._player.videoElementStatus!==tL.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get __className__(){return\"LocalVideoTrack\"}constructor(e,t,i,n,r,o){if(super(e,r),sL(this,\"trackMediaType\",HP.VIDEO),sL(this,\"_player\",void 0),sL(this,\"isUseScaleResolutionDownBy\",!1),sL(this,\"_videoVisibleTimer\",null),sL(this,\"_previousVideoVisibleStatus\",void 0),sL(this,\"_clearPreviousVideoVisibleStatus\",(()=>this._previousVideoVisibleStatus=void 0)),sL(this,\"_encoderConfig\",void 0),sL(this,\"_scalabilityMode\",{numSpatialLayers:1,numTemporalLayers:1}),sL(this,\"_optimizationMode\",void 0),sL(this,\"_saveEncodeBitrateRatio\",1),sL(this,\"_videoHeight\",void 0),sL(this,\"_videoWidth\",void 0),sL(this,\"_forceBitrateLimit\",void 0),sL(this,\"_enabled\",!0),sL(this,\"_processorDestination\",void 0),sL(this,\"_processorContext\",void 0),Vw()){const{width:t,height:i}=e.getSettings();this._videoWidth=t,this._videoHeight=i}else this.updateMediaStreamTrackResolution();if(this._scalabilityMode=i,this._optimizationMode=n,this._hints=o||[],t&&-1!==this._hints.indexOf(VP.CUSTOM_TRACK)?this._encoderConfig=sN(t):this._encoderConfig=t,-1===this._hints.indexOf(VP.SCREEN_TRACK))this.updateBitrateFromProfile();else if(Hw(bw.CHROME,115)&&-1!==Lw().indexOf(\"Windows\")){const t=function(e,t){if(\"VideoFrame\"in window&&\"TransformStream\"in window&&pP().supportWebRTCInsertableStream){const i=new MediaStreamTrackProcessor(e),n=new MediaStreamTrackGenerator({kind:\"video\"});let r,o,s=Date.now();const a=()=>{c&&(clearInterval(c),c=void 0),r&&(r.close(),r=void 0),e.stop(),o=void 0,n.removeEventListener(\"ended\",a)};let c=window.setInterval((()=>{if(o&&r&&Date.now()-s>(null!=t?t:1e3))try{\"live\"===n.readyState?o.enqueue(r.clone()):a()}catch(e){a()}}),null!=t?t:1e3);const d=new TransformStream({transform:(e,t)=>{\"live\"===n.readyState?(o=t,s=Date.now(),void 0===r?(r=e,t.enqueue(e.clone())):(t.enqueue(r),r=e)):e.close()}});return n.addEventListener(\"ended\",a),i.readable.pipeThrough(d).pipeTo(n.writable),n}}(e);t&&(iP.info(\"local screen video track begin to inject frame\"),this._mediaStreamTrack=t)}t&&-1!==this._hints.indexOf(VP.CUSTOM_TRACK)&&this.setEncoderConfiguration(t),this._processorContext=new jL(this.getTrackId(),\"local\"),this._processorDestination=new BL(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"string\"==typeof e){const t=document.getElementById(e);t?e=t:(iP.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body)}iP.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(t));const i=cL(cL(cL({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(i):(e instanceof HTMLVideoElement?this._player=new zk(i):this._player=new Xk(i),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(GP.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),CD(\"CHECK_VIDEO_VISIBLE_INTERVAL\"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,iP.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(iP.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await qO(this,UP.NEED_DISABLE_TRACK,this)}catch(e){throw iP.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}return t||(this._enabled=!1),void iP.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}this._originMediaStreamTrack.enabled=!0;try{await qO(this,UP.NEED_ENABLE_TRACK,this)}catch(e){throw iP.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),e.toString()),e}iP.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,iP.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await qO(this,UP.NEED_MUTE_TRACK,this):await qO(this,UP.NEED_UNMUTE_TRACK,this))}async setSaveEncodeBitrateRatio(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._saveEncodeBitrateRatio;if(1!==this._saveEncodeBitrateRatio&&this._encoderConfig&&this._encoderConfig.bitrateMax&&this._encoderConfig.bitrateMin){this._encoderConfig.bitrateMin=Math.floor(this._encoderConfig.bitrateMin*e),this._encoderConfig.bitrateMax=Math.floor(this._encoderConfig.bitrateMax*e),iP.debug(\"[\".concat(this.getTrackId(),\"] set save encode bitrate ratio, \").concat(e)),this._saveEncodeBitrateRatio=1;try{await qO(this,UP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(iP)}}}async setEncoderConfiguration(e,t){if(!this._enabled)throw new pO(hO.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");if(e=OP(e),CD(\"USE_STANDARD_BITRATE_DEFAULT\")&&(delete e.bitrateMax,delete e.bitrateMin),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),e.width||e.height||e.frameRate){const t=zL({encoderConfig:e});(Vw()||jw()||iO())&&(t.deviceId=void 0),iP.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(t));try{await this._originMediaStreamTrack.applyConstraints(t),this.updateMediaStreamTrackResolution()}catch(e){const t=new pO(hO.UNEXPECTED_ERROR,e.toString());throw iP.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),t.toString()),t}}this._encoderConfig=e,-1===this._hints.indexOf(VP.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await qO(this,UP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(iP)}}getStats(){dN((()=>{iP.warning(\"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead\")}),\"localVideoTrackGetStatsWarning\");return XO(this,UP.GET_STATS)||cL({},zP)}async setBeautyEffect(e){iP.error(\"LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect\")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await ZL(e)}async findClosestProfile(){const{width:e,height:t,frameRate:i}=this.getMediaStreamTrackSettings(),{width:n,height:r,frameRate:o}=this._encoderConfig||{},s=AN(this._videoWidth||e||n||0),a=AN(this._videoHeight||t||r||0),c=function(e,t,i){if(!Array.isArray(CD(\"VIDEO_ENCODER_CONFIG_LIST\")))return!1;if(0===CD(\"VIDEO_ENCODER_CONFIG_LIST\").length)return!1;const n=Math.min(e,t);return!(n>=480)&&cL(cL({},CD(\"VIDEO_ENCODER_CONFIG_LIST\").find((e=>e.height>n))),{},{frameRate:i})}(s,a,AN(i||o||15));if(c)return iP.debug(\"[\".concat(this.getTrackId(),\"] find closest profile, \").concat(s,\"x\").concat(a,\" => \").concat(JSON.stringify(c))),this.setEncoderConfiguration(c)}async setBitrateLimit(e){iP.debug(\"[\".concat(this.getTrackId(),\"] set bitrate limit, \").concat(JSON.stringify(e))),e&&(this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate))}async setOptimizationMode(e){if(\"motion\"!==e&&\"detail\"!==e&&\"balanced\"!==e)return void iP.error(hO.INVALID_PARAMS,\"optimization mode must be motion, detail or balanced\");const t=this._optimizationMode;try{this._optimizationMode=e,await qO(this,UP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this)}catch(e){throw this._optimizationMode=t,iP.error(\"[\".concat(this.getTrackId(),\"] set optimization mode failed\"),e.toString()),e}iP.info(\"[\".concat(this.getTrackId(),\"] set optimization mode success (\").concat(e,\")\"))}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return iP.error(hO.INVALID_PARAMS,\"scalability mode currently not supported, no SVC.\"),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e,iP.info(\"[\".concat(this.getTrackId(),\"] set scalability mode success (\").concat(e,\")\"))}updateMediaStreamTrackResolution(){YL(this._originMediaStreamTrack).then((e=>{let[t,i]=e;this._videoHeight=i,this._videoWidth=t})).catch(TN)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:\"contain\"}}async setSenderConfiguration(e){if(!this._enabled)throw new pO(hO.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");iP.debug(\"[\".concat(this.getTrackId(),\"] setSenderConfiguration applyConstraints\"),JSON.stringify(e)),e=OP(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),this._encoderConfig=e,-1===this._hints.indexOf(VP.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await qO(this,UP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(iP)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:i}=this.getMediaStreamTrackSettings();if(!e||!t||!i)return;const{bitrateMax:n,bitrateMin:r}=this._encoderConfig;if(null==r||null==n){const{max:o,min:s}=function(e,t,i,n,r){const o=CD(\"BITRATE_ADAPTER_TYPE\");if(\"DEFAULT_BITRATE\"===o)return{min:n,max:r};if(void 0===r){const s=Math.floor(200*Math.pow(i/15,.6)*Math.pow(e*t/640/360,.75));r=\"STANDARD_BITRATE\"===o?4*s:2*s,n=null!=n?n:s}else n=null!=n?n:Math.floor(r/10);return{min:n,max:r}}(e,t,i,r,n);if(this._encoderConfig.bitrateMin=s,this._encoderConfig.bitrateMax=o,CD(\"VIDEO_STANDARD_BITRATE_VERSION\")&&null==r&&null==n){const[n,r]=function(e,t,i){const n=4*Math.floor(2e5*Math.pow(i/15,.6)*Math.pow(e*t/230400,.75)),r=e*t,o=new Map([[19200,.9],[230400,.85],[518400,.75],[921600,.7],[2073600,.6],[3686400,.5]]),s=new Map([[230400,.95],[518400,.9],[921600,.85],[2073600,.8]]);let a=pp(o).call(o).next().value,c=1;if(o.has(r))a=o.get(r);else{var d;const e=Qp(d=Array.from(o.entries())).call(d,((e,t)=>{let[i]=e,[n]=t;return i-n})),t=e.find((e=>{let[t]=e;return t>r}));if(t){const i=e.indexOf(t);if(i>0){const n=e[i-1],o=(r-n[0])/(t[0]-n[0]);a=n[1]+o*(t[1]-n[1])}else a=t[1]}else a=e[e.length-1][1]}if(s.has(r))c=s.get(r);else{var l;const e=Qp(l=Array.from(s.entries())).call(l,((e,t)=>{let[i]=e,[n]=t;return i-n})),t=e.find((e=>{let[t]=e;return t>r}));if(t){const i=e.indexOf(t);if(i>0){const n=e[i-1],o=(r-n[0])/(t[0]-n[0]);c=n[1]+o*(t[1]-n[1])}else c=t[1]}else c=e[e.length-1][1]}const u=CD(\"VIDEO_NEW_BITRATE_RATIO\");u&&u>0&&(a=u/100);const h=Math.floor(n*a),p=Math.floor(65e4*Math.pow(e*t/230400,.5)*Math.pow(i/15,.69));let _=h;const E=CD(\"VIDEO_STANDARD_BITRATE_VERSION\");return E&&E>0&&(1===E?_=n:2===E?_=h:3===E&&(_=p)),[Math.floor(_/1e3),c]}(e,t,i);this._encoderConfig.bitrateMax=n,this._encoderConfig.bitrateMin=s?Math.min(s,n):n,this._saveEncodeBitrateRatio=r,iP.debug(\"[\".concat(this.getTrackId(),\"] update new bitrate from profile, [w: \").concat(e,\", h: \").concat(t,\", fps: \").concat(i,\"] => [brMax: \").concat(this._encoderConfig.bitrateMax,\", brMin: \").concat(this._encoderConfig.bitrateMin,\", save_bitrate_ratio: \").concat(this._saveEncodeBitrateRatio,\"]\"))}else iP.debug(\"[\".concat(this.getTrackId(),\"] update bitrate from profile, [w: \").concat(e,\", h: \").concat(t,\", fps: \").concat(i,\"] => [brMax: \").concat(o,\", brMin: \").concat(s,\"]\")),this._saveEncodeBitrateRatio=1}}getVideoElementVisibleStatus(){try{var e,t;const i=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==i?void 0:i.parentElement},{element:r,slot:o}=n;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=AO.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=lP.reportApiInvoke(null,{tag:kO.TRACER,name:LO.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess(\"Video is visible\"):e.onSuccess(\"Invisible because of \".concat(t.reason))}return t}return}catch(e){throw new pO(hO.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this.processor===e)return e;if(e._source)throw new pO(hO.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._encoderConfig;t&&(n=cL(cL({},n),OP(t))),n=aN(n);const r=SN(8,\"track-video-cloned-\"),o=new e(i?this._mediaStreamTrack.clone():this._mediaStreamTrack,n,aN(this._scalabilityMode),this._optimizationMode,r,aN(this._hints));return t&&n&&o.setEncoderConfiguration(n),iP.debug(\"clone video track from \".concat(this.getTrackId(),\" to \").concat(r,\", clone \").concat(i)),o}async replaceTrack(e,t){if(!(e instanceof MediaStreamTrack))throw new pO(hO.INVALID_PARAMS,\"track should be an instance of MediaStreamTrack\");if(\"video\"!==e.kind)throw new pO(hO.INVALID_PARAMS,\"track should be a video MediaStreamTrack\");await this._updateOriginMediaStreamTrack(e,t,!0),this.updateMediaStreamTrackResolution()}sendSeiData(e){if(dN((()=>{lP.reportApiInvoke(null,{name:LO.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:kO.TRACER}).onSuccess(\"\")}),this._mediaStreamTrack.id||this.getTrackId()),!CD(\"ENABLE_VIDEO_SEI\")||!CD(\"ENABLE_ENCODED_TRANSFORM\"))return void iP.warning('To send/receive SEI, please call AgoraRTC.setParameter(\"ENABLE_VIDEO_SEI\", true) before instantiate IAgoraRtcClient');if(e instanceof Uint8Array==0)return new pO(hO.INVALID_PARAMS,\"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.\").throw();const t=this.getRTCRtpTransceiver();if(!t)return void iP.warning(\"Video track is not published, SEI can not be send\");const i=t.sender.getParameters();if(0===i.codecs.length)return;const n=i.codecs[0].mimeType.toLocaleLowerCase();\"video/h264\"===n||\"video/h265\"===n?this.safeEmit(\"sei-to-send\",e):iP.warning(\"SEI is not supported by \".concat(n))}bindProcessorDestinationEvents(){this.processorDestination.on(QP.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await qO(this,UP.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await qO(this,UP.NEED_REPLACE_TRACK,this))}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(QP.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(ZP.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(ZP.REQUEST_CONSTRAINTS)}},oL(yM.prototype,\"play\",[Jk,Qk],Object.getOwnPropertyDescriptor(yM.prototype,\"play\"),yM.prototype),oL(yM.prototype,\"stop\",[Zk],Object.getOwnPropertyDescriptor(yM.prototype,\"stop\"),yM.prototype),oL(yM.prototype,\"setEnabled\",[$k,eM,tM],Object.getOwnPropertyDescriptor(yM.prototype,\"setEnabled\"),yM.prototype),oL(yM.prototype,\"setMuted\",[iM,nM,rM],Object.getOwnPropertyDescriptor(yM.prototype,\"setMuted\"),yM.prototype),oL(yM.prototype,\"setSaveEncodeBitrateRatio\",[oM,sM],Object.getOwnPropertyDescriptor(yM.prototype,\"setSaveEncodeBitrateRatio\"),yM.prototype),oL(yM.prototype,\"setEncoderConfiguration\",[aM,cM],Object.getOwnPropertyDescriptor(yM.prototype,\"setEncoderConfiguration\"),yM.prototype),oL(yM.prototype,\"getStats\",[dM],Object.getOwnPropertyDescriptor(yM.prototype,\"getStats\"),yM.prototype),oL(yM.prototype,\"setBeautyEffect\",[lM,uM],Object.getOwnPropertyDescriptor(yM.prototype,\"setBeautyEffect\"),yM.prototype),oL(yM.prototype,\"getCurrentFrameData\",[hM],Object.getOwnPropertyDescriptor(yM.prototype,\"getCurrentFrameData\"),yM.prototype),oL(yM.prototype,\"getCurrentFrameImage\",[pM],Object.getOwnPropertyDescriptor(yM.prototype,\"getCurrentFrameImage\"),yM.prototype),oL(yM.prototype,\"findClosestProfile\",[_M,EM],Object.getOwnPropertyDescriptor(yM.prototype,\"findClosestProfile\"),yM.prototype),oL(yM.prototype,\"setBitrateLimit\",[mM],Object.getOwnPropertyDescriptor(yM.prototype,\"setBitrateLimit\"),yM.prototype),oL(yM.prototype,\"setOptimizationMode\",[fM],Object.getOwnPropertyDescriptor(yM.prototype,\"setOptimizationMode\"),yM.prototype),oL(yM.prototype,\"setScalabiltyMode\",[SM],Object.getOwnPropertyDescriptor(yM.prototype,\"setScalabiltyMode\"),yM.prototype),oL(yM.prototype,\"updateMediaStreamTrackResolution\",[gM],Object.getOwnPropertyDescriptor(yM.prototype,\"updateMediaStreamTrackResolution\"),yM.prototype),oL(yM.prototype,\"pipe\",[TM],Object.getOwnPropertyDescriptor(yM.prototype,\"pipe\"),yM.prototype),oL(yM.prototype,\"unpipe\",[RM],Object.getOwnPropertyDescriptor(yM.prototype,\"unpipe\"),yM.prototype),oL(yM.prototype,\"close\",[CM],Object.getOwnPropertyDescriptor(yM.prototype,\"close\"),yM.prototype),oL(yM.prototype,\"replaceTrack\",[vM],Object.getOwnPropertyDescriptor(yM.prototype,\"replaceTrack\"),yM.prototype),yM),MM=(IM=dP({argsMap:(e,t)=>[e.getTrackId(),t]}),AM=FL(),bM=LN(\"CameraVideoTrack\",\"_enabledMutex\"),wM=dP({argsMap:(e,t)=>[e.getTrackId(),t]}),OM=FL(),NM=dP({argsMap:(e,t)=>[e.getTrackId(),t]}),DM=FL(),PM=dP({argsMap:e=>[e.getTrackId()]}),LM=class e extends kM{get __className__(){return\"CameraVideoTrack\"}constructor(e,t,i,n,r,o){super(e,OP(t.encoderConfig),n,r,o),sL(this,\"_config\",void 0),sL(this,\"_originalConstraints\",void 0),sL(this,\"_constraints\",void 0),sL(this,\"_enabled\",!0),sL(this,\"_deviceName\",\"default\"),sL(this,\"tryResumeVideoForIOS15_16WeChat\",(async()=>{($w()||eO())&&!function(){const e=Dw();if(e.os!==Aw.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])&&Number(t[1])>=2}()&&nO()&&this._enabled&&!this._isClosed&&(iP.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS 15 device on WeChat.\")),await this.renewMediaStreamTrack())})),this._config=t,this._originalConstraints=i,this._constraints=i,this._deviceName=e.label,this._encoderConfig=OP(this._config.encoderConfig),_L.on(RP.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),_L.on(RP.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(e){return\"string\"==typeof e?this._setDeviceById(e):e.deviceId?this._setDeviceById(e.deviceId):e.facingMode?this._setDeviceByFacingModel(e.facingMode):void 0}async _setDeviceById(e){if(iP.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e)),this._enabled)try{const t=await PL.getDeviceById(e),i={};i.video=cL({},this._constraints),i.video.deviceId={exact:e},i.video.facingMode=void 0,this._originMediaStreamTrack.stop();let n=null;try{n=await wL(i,this.getTrackId())}catch(e){throw iP.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),e.toString()),n=await wL({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw iP.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{const t=await PL.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw iP.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}iP.info(\"[\".concat(this.getTrackId(),\"] setDevice success\"))}async _setDeviceByFacingModel(e){iP.info(\"[\".concat(this.getTrackId(),\"] set facingMode \").concat(e));const t={video:cL(cL({},this._constraints),{},{deviceId:void 0,facingMode:{exact:e}})};if(this._enabled){this._originMediaStreamTrack.stop();let e=null;try{e=await wL(t,this.getTrackId())}catch(t){throw iP.error(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel failed\"),t.toString()),e=await wL({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName=\"\",this._config.facingMode=e,this._config.cameraId=void 0,this._constraints=cL({},t.video),iP.info(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel success\"))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(iP.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const e=await wL({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1)}await qO(this,UP.NEED_ENABLE_TRACK,this)}catch(e){throw iP.error(\"[\".concat(this.getTrackId(),\"] setEnabled true error\"),e.toString()),e}this.updateMediaStreamTrackResolution(),iP.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),t||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),t||(this._enabled=!1);try{await qO(this,UP.NEED_DISABLE_TRACK,this)}catch(e){throw iP.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}iP.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}}async setEncoderConfiguration(e,t){if(!this._enabled)throw new pO(hO.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");e=OP(e),CD(\"USE_STANDARD_BITRATE_DEFAULT\")&&(delete e.bitrateMax,delete e.bitrateMin),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate||e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate||e.bitrateMin);const i=sN(this._config);i.encoderConfig=e;const n=zL(i);(Vw()||jw()||iO())&&(n.deviceId=void 0),iP.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(n));try{await this._originMediaStreamTrack.applyConstraints(n),this.updateMediaStreamTrackResolution()}catch(e){const t=new pO(hO.UNEXPECTED_ERROR,e.toString());throw iP.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),t.toString()),t}this._config=i,this._constraints=n,this._originalConstraints=n,this._encoderConfig=e,-1===this._hints.indexOf(VP.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await qO(this,UP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(iP)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:\"cover\"}}onTrackEnded(){if((jw()||iO())&&this._enabled&&!this._isClosed&&_L.duringInterruption){const e=async()=>{_L.off(RP.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(iP.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0))};_L.on(RP.IOS_INTERRUPTION_END,e)}else iP.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(GP.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,i=PL.searchDeviceIdByName(this._deviceName);if(i&&!t.deviceId&&(t.deviceId={exact:i}),this._enabled){const e=await wL({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),_L.off(RP.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),_L.off(RP.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._encoderConfig;t&&(n=cL(cL({},n),OP(t))),n=aN(n);const r=SN(8,\"track-cam-cloned-\"),o=new e(i?this._mediaStreamTrack.clone():this._mediaStreamTrack,aN(cL(cL({},this._config),{},{encoderConfig:n})),aN(this._constraints),aN(this._scalabilityMode),this._optimizationMode,r);return t&&n&&o.setEncoderConfiguration(n),iP.debug(\"clone track from \".concat(this.getTrackId(),\" to \").concat(r,\", clone \").concat(i)),o}bindProcessorContextEvents(){this.processorContext.on(ZP.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,i)=>{try{const i=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(i),t()}catch(e){i(e)}})),this.processorContext.on(ZP.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}},oL(LM.prototype,\"setDevice\",[IM,AM],Object.getOwnPropertyDescriptor(LM.prototype,\"setDevice\"),LM.prototype),oL(LM.prototype,\"setEnabled\",[bM,wM,OM],Object.getOwnPropertyDescriptor(LM.prototype,\"setEnabled\"),LM.prototype),oL(LM.prototype,\"setEncoderConfiguration\",[NM,DM],Object.getOwnPropertyDescriptor(LM.prototype,\"setEncoderConfiguration\"),LM.prototype),oL(LM.prototype,\"close\",[PM],Object.getOwnPropertyDescriptor(LM.prototype,\"close\"),LM.prototype),LM);function UM(e){const t=SN(8,\"track-cus-\"),i=lP.reportApiInvoke(null,{id:t,tag:kO.TRACER,name:LO.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),n=new Bk(e.mediaStreamTrack,e.encoderConfig?LP(e.encoderConfig):{},t,!1);return iP.info(\"create custom audio track success with config\",e,\"trackId\",n.getTrackId()),i.onSuccess(n.getTrackId()),n}function VM(e,t,i,n){i.optimizationMode&&(n&&n.width&&n.height?(i.encoderConfig=cL(cL({},n),{},{bitrateMin:n.bitrateMin,bitrateMax:n.bitrateMax}),\"motion\"!==i.optimizationMode&&\"detail\"!==i.optimizationMode||(t.contentHint=i.optimizationMode,t.contentHint===i.optimizationMode?iP.debug(\"[\".concat(e,\"] set content hint to\"),i.optimizationMode):iP.debug(\"[\".concat(e,\"] set content hint failed\")))):iP.warning(\"[\".concat(e,\"] can not apply optimization mode bitrate config, no encoderConfig\")))}var xM,FM,BM,jM,GM,WM,HM,KM,YM,zM,qM,XM,JM;class QM extends dL{getUserId(){return this._userId}constructor(e,t,i,n){super(e,\"track-\".concat(e.kind,\"-\").concat(t,\"-\").concat(n.clientId,\"_\").concat(SN(5,\"\"))),sL(this,\"_userId\",void 0),sL(this,\"_uintId\",void 0),sL(this,\"_isDestroyed\",!1),sL(this,\"store\",void 0),sL(this,\"processor\",void 0),sL(this,\"processorContext\",void 0),this._userId=t,this._uintId=i,this.store=n}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,iP.info(\"[\".concat(this.getTrackId(),\"] is destroyed\")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let ZM=(xM=dP({argsMap:(e,t,i)=>[e.getTrackId(),\"string\"==typeof t?t:t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",i]}),FM=dP({argsMap:e=>[e.getTrackId()]}),BM=dP({argsMap:(e,t)=>[e.getTrackId(),t.name]}),jM=dP({argsMap:e=>[e.getTrackId()]}),oL((GM=class extends QM{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==tL.PLAYING)}get __className__(){return\"RemoteVideoTrack\"}constructor(e,t,i,n,r){super(e,t,i,n),sL(this,\"_videoVisibleTimer\",null),sL(this,\"_previousVideoVisibleStatus\",void 0),sL(this,\"_clearPreviousVideoVisibleStatus\",(()=>this._previousVideoVisibleStatus=void 0)),sL(this,\"trackMediaType\",HP.VIDEO),sL(this,\"_videoWidth\",void 0),sL(this,\"_videoHeight\",void 0),sL(this,\"_player\",void 0),sL(this,\"_prePlayer\",void 0),sL(this,\"processorDestination\",void 0),sL(this,\"processorContext\",void 0),this._prePlayer=r,this.updateMediaStreamTrackResolution(),this.processorContext=new jL(this.getTrackId(),\"remote\"),this.processorDestination=new BL(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return dN((()=>{iP.warning(\"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead\")}),\"remoteVideoTrackGetStatsWarning\"),XO(this,UP.GET_STATS)||cL({},JP)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.safeEmit(WP.PLAY_START),\"string\"==typeof e){const t=document.getElementById(e);t?e=t:(iP.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body)}iP.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(t));const i=cL(cL({fit:\"cover\"},t),{},{trackId:this.getTrackId(),element:e});if(this._player)this._player.updateConfig(i);else{let t=!1,n=!1;e instanceof HTMLVideoElement?(this._player=new zk(i),this._prePlayer&&(this._prePlayer.destroy(),this._prePlayer=void 0,n=!0)):this._prePlayer&&!this._prePlayer.isDestroyed?(this._player=this._prePlayer,this._prePlayer=void 0,t=this._player.videoState>0,this._player.updateConfig(i)):this._player=new Xk(i),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),\"video\",void 0,void 0,Date.now()),this.safeEmit(WP.FIRST_FRAME_DECODED),n&&this.safeEmit(WP.FIRST_FRAME_RENDER)},this._player.onVideoStateChanged=e=>{this.safeEmit(WP.VIDEO_STATE_CHANGED,e)},t&&(this._player.onFirstVideoFrameDecoded(),this._player.onVideoStateChanged(this._player.videoState))}this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(WP.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),CD(\"CHECK_VIDEO_VISIBLE_INTERVAL\")),this.safeEmit(WP.PLAY_END)}stop(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(e),this._player=void 0,iP.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){YL(this._originMediaStreamTrack).then((e=>{let[t,i]=e;this._videoHeight=i,this._videoWidth=t})).catch(TN)}_updatePlayerSource(){iP.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const i=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==i?void 0:i.parentElement},{element:r,slot:o}=n;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=AO.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=lP.reportApiInvoke(null,{tag:kO.TRACER,name:LO.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess(\"Video is visible\"):e.onSuccess(\"Invisible because of \".concat(t.reason))}return t}return}catch(e){throw new pO(hO.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new pO(hO.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(QP.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(QP.ON_TRACK)}_destroy(){this._prePlayer&&(this._prePlayer.destroy(),this._prePlayer=void 0),super._destroy(),this.unbindProcessorDestinationEvents()}_onSei(e){this.emit(jP.SEI_RECEIVED,e)}}).prototype,\"play\",[xM],Object.getOwnPropertyDescriptor(GM.prototype,\"play\"),GM.prototype),oL(GM.prototype,\"stop\",[FM],Object.getOwnPropertyDescriptor(GM.prototype,\"stop\"),GM.prototype),oL(GM.prototype,\"pipe\",[BM],Object.getOwnPropertyDescriptor(GM.prototype,\"pipe\"),GM.prototype),oL(GM.prototype,\"unpipe\",[jM],Object.getOwnPropertyDescriptor(GM.prototype,\"unpipe\"),GM.prototype),GM),$M=(WM=dP({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),HM=dP({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),KM=dP({argsMap:(e,t)=>[e.getTrackId(),t]}),YM=dP({argsMap:e=>[e.getTrackId()]}),zM=dP({argsMap:e=>[e.getTrackId()]}),qM=dP({argsMap:(e,t)=>[e.getTrackId(),t.name]}),XM=dP({argsMap:e=>[e.getTrackId()]}),oL((JM=class extends QM{get isPlaying(){return this._useAudioElement?xL.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return\"RemoteAudioTrack\"}constructor(e,t,i,n){super(e,t,i,n),sL(this,\"trackMediaType\",HP.AUDIO),sL(this,\"_source\",void 0),sL(this,\"_useAudioElement\",!0),sL(this,\"_volume\",100),sL(this,\"processorContext\",void 0),sL(this,\"processorDestination\",void 0),sL(this,\"_played\",!1),sL(this,\"_bypassWebAudio\",!1),CD(\"DISABLE_WEBAUDIO\")?(this._source=new HL,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new RL(e,!0),CD(\"REMOTE_AUDIO_TRACK_USES_WEB_AUDIO\")&&(this._useAudioElement=!1)),this._source.once(KP.RECEIVE_TRACK_BUFFER,(()=>{this.safeEmit(WP.FIRST_FRAME_DECODED)})),this.processorContext=new WL(this._source.context,this.getTrackId(),\"remote\"),this.processorDestination=new GL(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(KP.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(KP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(KP.ON_AUDIO_BUFFER),this._source.on(KP.ON_AUDIO_BUFFER,(t=>e(t)))}setVolume(e){this._volume=e,this._useAudioElement?xL.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}setAmplifiedVolume(e){this._useAudioElement&&this._played&&(xL.stop(this.getTrackId()),this._source.play()),this._useAudioElement=!1,e=Math.min(e,CD(\"MAX_WEBAUDIO_VOLUME\")),this._volume=e,this._source.setVolume(e/100)}async setPlaybackDevice(e){if(!this._useAudioElement||!_P())throw new pO(hO.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await xL.setSinkID(this.getTrackId(),e)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getVolume(){return this._useAudioElement?xL.getVolume(this.getTrackId()):this._source instanceof RL?this._source.getAudioVolume():0}getStats(){return dN((()=>{iP.warning(\"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead\")}),\"remoteAudioTrackGetStatsWarning\"),XO(this,UP.GET_STATS)||cL({},qP)}play(){iP.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._played=!0,this._useAudioElement?(iP.debug(\"[\".concat(this.getTrackId(),\"] use audio element to play\")),xL.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):(iP.debug(\"[\".concat(this.getTrackId(),\"] use audio context to play\")),this._source.play())}stop(){iP.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._played=!1,this._useAudioElement?xL.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];iP.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&xL.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this._bypassWebAudio)throw new pO(hO.NOT_SUPPORTED,\"can not pipe extension when WebAudio disabled\");if(this.processor===e)return e;if(e._source)throw new pO(hO.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(this._bypassWebAudio)throw new pO(hO.NOT_SUPPORTED,\"can not unpipe extension when WebAudio disabled\");if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(QP.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})),this.processorDestination.on(QP.ON_NODE,(e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(QP.ON_TRACK),this.processorDestination.removeAllListeners(QP.ON_NODE)}}).prototype,\"setVolume\",[WM],Object.getOwnPropertyDescriptor(JM.prototype,\"setVolume\"),JM.prototype),oL(JM.prototype,\"setAmplifiedVolume\",[HM],Object.getOwnPropertyDescriptor(JM.prototype,\"setAmplifiedVolume\"),JM.prototype),oL(JM.prototype,\"setPlaybackDevice\",[KM],Object.getOwnPropertyDescriptor(JM.prototype,\"setPlaybackDevice\"),JM.prototype),oL(JM.prototype,\"play\",[YM],Object.getOwnPropertyDescriptor(JM.prototype,\"play\"),JM.prototype),oL(JM.prototype,\"stop\",[zM],Object.getOwnPropertyDescriptor(JM.prototype,\"stop\"),JM.prototype),oL(JM.prototype,\"pipe\",[qM],Object.getOwnPropertyDescriptor(JM.prototype,\"pipe\"),JM.prototype),oL(JM.prototype,\"unpipe\",[XM],Object.getOwnPropertyDescriptor(JM.prototype,\"unpipe\"),JM.prototype),JM);const eU=new class extends NO{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),sL(this,\"_lastHiddenTime\",0),sL(this,\"_lastVisibleTime\",0),sL(this,\"needUploadStats\",[]),sL(this,\"isCollectingStats\",!1),document.addEventListener(\"visibilitychange\",(()=>{\"hidden\"===document.visibilityState?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),this.isCollectingStats&&this.needUploadStats.push(\"visible\"===document.visibilityState?1:0),iP.debug(\"current web page is \".concat(document.visibilityState)),this.emit(\"VISIBILITY_CHANGE\",document.visibilityState)}))}startCollectStats(){this.isCollectingStats=!0,this.needUploadStats.push(\"visible\"===this.visibility?1:0)}stopCollectStats(){this.isCollectingStats=!1,this.needUploadStats.length=0}};class tU extends NO{constructor(e,t){super(),sL(this,\"trackMediaType\",HP.DATA),sL(this,\"_version\",1),sL(this,\"_type\",3),sL(this,\"_config\",void 0),sL(this,\"_originDataChannel\",void 0),sL(this,\"_dataStreamPacketHeader\",new ArrayBuffer(4)),sL(this,\"_dataStreamPacketHandler\",{serialize:e=>e,deserialize:e=>e}),sL(this,\"_datachannelEventMap\",new Map),this._config=e,t&&(this._originDataChannel=t,this._bandDataChannelEvents(t)),this._initPacketHeader()}useDataStream(e){this._dataStreamPacketHandler=e}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return CD(\"DATASTREAM_MAX_RETRANSMITS\")}get metadata(){return this._config.metadata}get readyState(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.readyState)&&void 0!==e?e:\"connecting\"}get _originDataChannelId(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.id)&&void 0!==e?e:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new rp(((e,t)=>{if(this._originDataChannel){\"open\"===this._originDataChannel.readyState&&e();const i=setTimeout((()=>{var e;t(new pO(hO.DATACHANNEL_CONNECTION_TIMEOUT,\"Cannot create datachannel, id: \".concat(null===(e=this._originDataChannel)||void 0===e?void 0:e.id)))}),1e4);this._originDataChannel.onopen=()=>{clearTimeout(i),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),e()},this._originDataChannel.onerror=()=>{throw clearTimeout(i),new pO(hO.DATACHANNEL_CONNECTION_TIMEOUT)}}else t(new pO(hO.DATACHANNEL_CONNECTION_TIMEOUT,\"cannot find dataChannel\"))}))}_updateOriginDataChannel(e){this._originDataChannel=e,this._bandDataChannelEvents(e)}_initPacketHeader(){const e=new DataView(this._dataStreamPacketHeader);e.setUint16(0,this._version),e.setUint8(2,this._type),e.setUint8(3,this._config.id)}_bandDataChannelEvents(e){this._unbindDataChannelEvents(e),[rL.OPEN,rL.CLOSE,rL.ERROR].forEach((t=>{const i=()=>{this.emit(t)};this._datachannelEventMap.set(t,i),e.addEventListener(t,i)}))}_unbindDataChannelEvents(e){Array.from(this._datachannelEventMap.entries()).forEach((t=>{let[i,n]=t;e.removeEventListener(i,n)})),this._datachannelEventMap.clear()}}class iU extends tU{constructor(e){super(e),sL(this,\"_messageListener\",void 0),this._messageListener=e=>{if(e.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error(\"invalid byteLength: the byte length must exceed \"+this._dataStreamPacketHeader.byteLength);const t=e.data.slice(0,this._dataStreamPacketHeader.byteLength),i=new DataView(t).getUint8(3);if(i!==this.id)return void(CD(\"SHOW_DATASTREAM2_LOG\")&&iP.debug(\"invalid datachannel id: \".concat(i,\" !== \").concat(this.id)));let n=e.data.slice(this._dataStreamPacketHeader.byteLength);n=this._dataStreamPacketHandler.deserialize(n),this.emit(rL.MESSAGE,n)}}_updateOriginDataChannel(e){super._updateOriginDataChannel(e),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener(\"message\",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener(\"message\",this._messageListener)}}class nU extends tU{send(e){if(this._originDataChannel){let t=e;t=this._dataStreamPacketHandler.serialize(e);const i=new Uint8Array(this._dataStreamPacketHeader.byteLength+t.byteLength);i.set(new Uint8Array(this._dataStreamPacketHeader),0),i.set(new Uint8Array(t),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(i.buffer)}}}function rU(){const e=new Blob([atob(\"Y29uc3QgdD0idmlkZW8vaDI2NCIsZT0idmlkZW8vaDI2NSI7ZnVuY3Rpb24gbih0LGUsbil7bGV0IGE9bmV3IFVpbnQ4QXJyYXkodCxlLG4pLHI9W10sbz0wO2Zvcig7ci5sZW5ndGg8bjspbyszPG4mJjA9PT1hW29dJiYwPT09YVtvKzFdJiYzPT09YVtvKzJdJiYoMD09PWFbbyszXXx8MT09PWFbbyszXXx8Mj09PWFbbyszXXx8Mz09PWFbbyszXSk/KHIucHVzaChhW29dLGFbbysxXSxhW28rM10pLG8rPTQpOihyLnB1c2goYVtvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocil9ZnVuY3Rpb24gYShhLHIpe3N3aXRjaChyKXtjYXNlIHQ6cmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IERhdGFWaWV3KHQuZGF0YSk7bGV0IGE9MDtmb3IoO2ErNDx0LmRhdGEuYnl0ZUxlbmd0aDspe2lmKDA9PT1lLmdldFVpbnQ4KGErMCkmJjA9PT1lLmdldFVpbnQ4KGErMSkmJjA9PT1lLmdldFVpbnQ4KGErMikmJjE9PT1lLmdldFVpbnQ4KGErMykmJjY9PT1lLmdldFVpbnQ4KGErNCkpe2xldCByPWErNixvPTAsaT0wO2Zvcig7MjU1PT09KGk9ZS5nZXRVaW50OChyKyspKTspbys9MjU1O28rPWk7Y29uc3Qgcz1uKHQuZGF0YSxyLG8pO3JldHVybiBuZXcgVWludDhBcnJheShzKX1hKyt9cmV0dXJuIG51bGx9KGEpO2Nhc2UgZTpyZXR1cm4gZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgRGF0YVZpZXcodC5kYXRhKTtsZXQgYT0wO2Zvcig7YSs1PHQuZGF0YS5ieXRlTGVuZ3RoOyl7aWYoMD09PWUuZ2V0VWludDgoYSswKSYmMD09PWUuZ2V0VWludDgoYSsxKSYmMD09PWUuZ2V0VWludDgoYSsyKSYmMT09PWUuZ2V0VWludDgoYSszKSYmNzg9PT1lLmdldFVpbnQ4KGErNCkmJjE9PT1lLmdldFVpbnQ4KGErNSkmJjEwMT09PWUuZ2V0VWludDgoYSs2KSl7bGV0IHI9YSs3LG89MCxpPTA7Zm9yKDsyNTU9PT0oaT1lLmdldFVpbnQ4KHIrKykpOylvKz0yNTU7bys9aTtjb25zdCBzPW4odC5kYXRhLHIsbyk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHMpfWErK31yZXR1cm4gbnVsbH0oYSk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gcih0KXtjb25zdCBlPXQubGVuZ3RoO2xldCBuPVtdLGE9MDtmb3IoO2E8ZTspYSsyPGUmJjA9PT10W2FdJiYwPT09dFthKzFdJiYoMD09PXRbYSsyXXx8MT09PXRbYSsyXXx8Mj09PXRbYSsyXXx8Mz09PXRbYSsyXSk/KG4ucHVzaCh0W2FdLHRbYSsxXSwzLHRbYSsyXSksYSs9Myk6KG4ucHVzaCh0W2FdKSxhKyspO3JldHVybiBuZXcgVWludDhBcnJheShuKX1mdW5jdGlvbiBvKG4sYSxvKXtzd2l0Y2gobyl7Y2FzZSB0OnJldHVybiBmdW5jdGlvbih0LGUpe2NvbnN0IG49cihlKSxhPW4ubGVuZ3RoLG89TWF0aC5mbG9vcihhLzI1NSksaT1hJTI1NSxzPW5ldyBVaW50OEFycmF5KDYrbysxK2ErdC5ieXRlTGVuZ3RoKTtzWzBdPTAsc1sxXT0wLHNbMl09MCxzWzNdPTEsc1s0XT02LHNbNV09MTAxO2xldCBmPTA7Zm9yKDtmPG87KXNbNitmXT0yNTUsZisrO3JldHVybiBzWzYrZl09aSxmKysscy5zZXQobiw2K2YpLHMuc2V0KG5ldyBVaW50OEFycmF5KHQpLDYrZithKSxzLmJ1ZmZlcn0obixhKTtjYXNlIGU6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1yKGUpLGE9bi5sZW5ndGgsbz1NYXRoLmZsb29yKGEvMjU1KSxpPWElMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNytvKzErYSsxK3QuYnl0ZUxlbmd0aCk7c1swXT0wLHNbMV09MCxzWzJdPTAsc1szXT0xLHNbNF09Nzgsc1s1XT0xLHNbNl09MTAxO2xldCBmPTA7Zm9yKDtmPG87KXNbNytmXT0yNTUsZisrO3JldHVybiBzWzcrZl09aSxmKysscy5zZXQobiw3K2YpLGYrPWEsc1s3K2ZdPTEyOCxmKysscy5zZXQobmV3IFVpbnQ4QXJyYXkodCksNytmKSxzLmJ1ZmZlcn0obixhKTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBpKG4pe2lmKG4ubGVuZ3RoPDUpcmV0dXJuIiI7bGV0IGE9LTE7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aC0zO3QrKyl7aWYoMD09PW5bdF0mJjA9PT1uW3QrMV0mJjE9PT1uW3QrMl0pe2E9dDticmVha31pZih0PG4ubGVuZ3RoLTQmJjA9PT1uW3RdJiYwPT09blt0KzFdJiYwPT09blt0KzJdJiYxPT09blt0KzNdKXthPXQ7YnJlYWt9fWlmKC0xPT09YSlyZXR1cm4iIjtjb25zdCByPWErKDA9PT1uW2ErMl0/NDozKTtpZihyPj1uLmxlbmd0aClyZXR1cm4iIjtjb25zdCBvPW5bcl07aWYoMTI4Jm8pcmV0dXJuIiI7aWYoKG8+PjEmNjMpPj0zMilyZXR1cm4gZTtpZihyKzE8bi5sZW5ndGgpe2lmKDA9PSgyNDgmbltyKzFdKSlyZXR1cm4gZX1yZXR1cm4oMzEmbyk8PTMxP3Q6IiJ9Y29uc3Qgcz03MSxmPTEsbD0yLHU9MSxnPTI7dmFyIGM7ZnVuY3Rpb24gZCh0LGU9ITEpe2NvbnN0IG49dC5nZXRVaW50OCgwKTtpZihuIT09cylyZXR1cm47Y29uc3QgYT10LmdldFVpbnQxNigxKSxyPWYrbCthLG89bmV3IFVpbnQ4QXJyYXkodC5ieXRlTGVuZ3RoLXIpO28uc2V0KG5ldyBVaW50OEFycmF5KHQuYnVmZmVyLHIsdC5ieXRlTGVuZ3RoLXIpKTtjb25zdCBpPXttOm4sdGx2TGVuOmEsdGx2OltdLGZyYW1lOm99O2xldCBkPWYrbDtmb3IoO2Q8cjspe2NvbnN0IG49dC5nZXRVaW50OChkKSxhPXQuZ2V0VWludDE2KGQrdSkscj11K2c7aWYobj09PWMuQVVESU9fTEVWRUwpe2xldCBvPXQuZ2V0VWludDgoZCtyKTtmb3IobGV0IGU9MTtlPGE7ZSsrKW89bzw8OHx0LmdldFVpbnQ4KGQrcitlKTtpLnRsdi5wdXNoKHt0YWc6bixsZW5ndGg6YSx2YWx1ZTplPzEyN15vPj4xOjEyNyZvfSl9ZWxzZSBpZihuPT09Yy5NRVRBREFUQXx8bj09PWMuQVVESU9fNjRfQklUX1BUUyl7Y29uc3QgZT1uZXcgVWludDhBcnJheShhKTtmb3IobGV0IG49MDtuPGE7bisrKWVbbl09dC5nZXRVaW50OChkK3Irbik7aS50bHYucHVzaCh7dGFnOm4sbGVuZ3RoOmEsdmFsdWU6ZX0pfWQrPXIrYX1yZXR1cm4gaX0hZnVuY3Rpb24odCl7dFt0LkFVRElPX0xFVkVMPTFdPSJBVURJT19MRVZFTCIsdFt0Lk1FVEFEQVRBPTJdPSJNRVRBREFUQSIsdFt0LkFVRElPXzY0X0JJVF9QVFM9M109IkFVRElPXzY0X0JJVF9QVFMifShjfHwoYz17fSkpLHNlbGYub25ydGN0cmFuc2Zvcm09dD0+e2NvbnN0IGU9dC50cmFuc2Zvcm1lcixuPVtdLHI9W107bGV0IGg9bnVsbDtlLm9wdGlvbnMucG9ydC5vbm1lc3NhZ2U9dD0+e3QuZGF0YS5zZWkmJm4ucHVzaCh0LmRhdGEuc2VpKSx0LmRhdGEubWV0YWRhdGEmJnIucHVzaCh0LmRhdGEubWV0YWRhdGEpfSxzZWxmLnBvc3RNZXNzYWdlKCJzdGFydGVkIik7Y29uc3QgcD1lLnJlYWRhYmxlLmdldFJlYWRlcigpLFU9ZS53cml0YWJsZS5nZXRXcml0ZXIoKTsic2VpLXJ4Ij09PWUub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQoZSl7cC5yZWFkKCkudGhlbigobj0+e2lmKCFuLmRvbmUpe2lmKG4udmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1pKG5ldyBVaW50OEFycmF5KG4udmFsdWUuZGF0YSkpLHI9YShuLnZhbHVlLHQpO2lmKHImJmUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHtzZWk6cn0pLCFoKXtjb25zdCB0PW4udmFsdWUuZ2V0TWV0YWRhdGEoKXx8e307aD17dHlwZTpuLnZhbHVlLnR5cGUscnRwVGltZXN0YW1wOm4udmFsdWUudGltZXN0YW1wLHBheWxvYWRUeXBlOnQucGF5bG9hZFR5cGV8fDAsc3NyYzp0LnN5bmNocm9uaXphdGlvblNvdXJjZXx8MCxsZW5ndGg6bi52YWx1ZS5kYXRhLmJ5dGVMZW5ndGgsLi4uIm1pbWVUeXBlImluIHQ/e21pbWVUeXBlOnQubWltZVR5cGV9Ont9fSxlLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7Zmlyc3RGcmFtZUluZm86aH0pfX1VLndyaXRlKG4udmFsdWUpLGUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQoZSl9fSkpfShlKToic2VpLXR4Ij09PWUub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQoZSl7cC5yZWFkKCkudGhlbigoYT0+e2lmKCFhLmRvbmUpe2lmKGEudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1pKG5ldyBVaW50OEFycmF5KGEudmFsdWUuZGF0YSkpLGU9bi5zaGlmdCgpO2lmKGUpe2NvbnN0IG49byhhLnZhbHVlLmRhdGEsZSx0KTtuJiYoYS52YWx1ZS5kYXRhPW4pfX1VLndyaXRlKGEudmFsdWUpLGUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQoZSl9fSkpfShlKToiYXVkaW8tbWV0YWRhdGEtcngiPT09ZS5vcHRpb25zLm5hbWU/ZnVuY3Rpb24gdChlKXtwLnJlYWQoKS50aGVuKChuPT57aWYoIW4uZG9uZSl7aWYobi52YWx1ZSBpbnN0YW5jZW9mIFJUQ0VuY29kZWRBdWRpb0ZyYW1lKXtjb25zdCB0PW5ldyBEYXRhVmlldyhuLnZhbHVlLmRhdGEpLGE9dC5nZXRVaW50OCgwKTtsZXQgcjtpZigwIT0oMTI4JmEpJiY3MSE9PWEpe2NvbnN0IGU9ZnVuY3Rpb24odCl7aWYodC5ieXRlTGVuZ3RoPD0wKXJldHVybltdO2NvbnN0IGU9W107bGV0IG49MDtmb3IoO248dC5ieXRlTGVuZ3RoOyl7Y29uc3QgYT0oMTI4JnQuZ2V0VWludDgobikpPj43LHI9MTI3JnQuZ2V0VWludDgobik7aWYoIShhJiZuKzQ8PXQuYnl0ZUxlbmd0aCkpe24rKzticmVha317Y29uc3QgYT10LmdldFVpbnQzMihuLCExKSxvPSgxNjc3NjE5MiZhKT4+MTAsaT0xMDIzJmE7ZS5wdXNoKHtwdDpyLHRzX29mZnNldDpvLGxlbmd0aDppLGRhdGE6bmV3IFVpbnQ4QXJyYXl9KSxuKz00fX1sZXQgYT10LmJ5dGVMZW5ndGgtbjtmb3IoY29uc3QgciBvZiBlKXtpZihyLmxlbmd0aD5hKXJldHVybiBjb25zb2xlLndhcm4oIkJyb2tlbiByZWQgcGF5bG9hZCIpLFtdO3IubGVuZ3RoPjAmJihyLmRhdGE9bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0K24sci5sZW5ndGgpLG4rPXIubGVuZ3RoLGEtPXIubGVuZ3RoKX1pZihhPjApe2NvbnN0IHI9e3B0OmUubGVuZ3RoPjA/ZVtlLmxlbmd0aC0xXS5wdDowLHRzX29mZnNldDowLGxlbmd0aDphLGRhdGE6bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0K24sYSl9O2UucHVzaChyKX1yZXR1cm4gZX0odCk7aWYoZS5sZW5ndGg+MCl7Y29uc3QgdD1mdW5jdGlvbih0KXtsZXQgZT0wO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWUrPW48dC5sZW5ndGgtMT80OjEsZSs9dFtuXS5sZW5ndGg7Y29uc3Qgbj1uZXcgVWludDhBcnJheShlKTtsZXQgYT0wO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKGU8dC5sZW5ndGgtMSl7Y29uc3Qgcj0oMjE0NzQ4MzY0OHwoMTI3JnRbZV0ucHQpPDwyNHwoMjYyMTQzJnRbZV0udHNfb2Zmc2V0KTw8MTB8MTAyMyZ0W2VdLmxlbmd0aCk+Pj4wO25bYSsrXT1yPj4yNCYyNTUsblthKytdPXI+PjE2JjI1NSxuW2ErK109cj4+OCYyNTUsblthKytdPTI1NSZyfWVsc2UgblthKytdPTEyNyZ0W2VdLnB0O2Zvcihjb25zdCBlIG9mIHQpbi5zZXQoZS5kYXRhLGEpLGErPWUubGVuZ3RoO3JldHVybiBufShlLm1hcCgodD0+e2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpO2Uuc2V0KHQuZGF0YSk7Y29uc3Qgbj1kKG5ldyBEYXRhVmlldyhlLmJ1ZmZlcikpO3JldHVybiBuPy5mcmFtZSYmKHQuZGF0YT1uPy5mcmFtZSkscj1uLHR9KSkpO24udmFsdWUuZGF0YT10LmJ1ZmZlcn19ZWxzZSByPWQodCksciYmKG4udmFsdWUuZGF0YT1yLmZyYW1lLmJ1ZmZlcik7aWYocil7bGV0IHQ9ci50bHYuZmluZCgodD0+dC50YWc9PT1jLk1FVEFEQVRBKSk7aWYodCYmdC52YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJmUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHttZXRhZGF0YTp0LnZhbHVlfSksdD1yLnRsdi5maW5kKCh0PT50LnRhZz09PWMuQVVESU9fNjRfQklUX1BUUykpLHQmJnQudmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5JiY4PT10LnZhbHVlLmxlbmd0aCl7Y29uc3Qgbj1uZXcgRGF0YVZpZXcodC52YWx1ZS5idWZmZXIpLmdldEJpZ1VpbnQ2NCgwLCEwKTt0JiZ0LnZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSYmZS5vcHRpb25zLnBvcnQucG9zdE1lc3NhZ2Uoe3B0czpufSl9fX1VLndyaXRlKG4udmFsdWUpLGUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQoZSl9fSkpfShlKToiYXVkaW8tbWV0YWRhdGEtdHgiPT09ZS5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIHQoZSl7cC5yZWFkKCkudGhlbigobj0+e2lmKCFuLmRvbmUpe2lmKGUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHtnZXRNZXRhZGF0YTohMH0pLG4udmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkQXVkaW9GcmFtZSl7Y29uc3QgdD1yLnNoaWZ0KCk7dCYmKG4udmFsdWUuZGF0YT1mdW5jdGlvbih0LGUsbil7Y29uc3QgYT1uLmJ5dGVMZW5ndGgscj1hK3UrZyxvPWYrbCtyLGk9bmV3IEFycmF5QnVmZmVyKHQuYnl0ZUxlbmd0aCtvKSxjPW5ldyBEYXRhVmlldyhpKTtjLnNldFVpbnQ4KDAscyksYy5zZXRVaW50MTYoMSxyKSxjLnNldFVpbnQ4KDMsZSksYy5zZXRVaW50MTYoNCxhKTtmb3IobGV0IHQ9MDt0PGE7dCsrKWMuc2V0VWludDgoNit0LG5bdF0pO2NvbnN0IGQ9bmV3IFVpbnQ4QXJyYXkoYy5idWZmZXIpO3JldHVybiBkLnNldChuZXcgVWludDhBcnJheSh0KSxvKSxkLmJ1ZmZlcn0obi52YWx1ZS5kYXRhLGMuQVVESU9fNjRfQklUX1BUUyx0KSl9VS53cml0ZShuLnZhbHVlKSxlLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSx0KGUpfX0pKX0oZSl9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKTsK\")],{type:\"text/javascript\"});return setTimeout((()=>vS.revokeObjectURL(e)),0),new Worker(vS.createObjectURL(e))}const oU=71,sU=1,aU=2,cU=1,dU=2;var lU=function(e){return e[e.AUDIO_LEVEL=1]=\"AUDIO_LEVEL\",e[e.METADATA=2]=\"METADATA\",e[e.AUDIO_64_BIT_PTS=3]=\"AUDIO_64_BIT_PTS\",e}(lU||{});function uU(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.getUint8(0);if(i!==oU)return;const n=e.getUint16(1),r=sU+aU+n,o=new Uint8Array(e.byteLength-r);o.set(new Uint8Array(e.buffer,r,e.byteLength-r));const s={m:i,tlvLen:n,tlv:[],frame:o};let a=sU+aU;for(;a<r;){const i=e.getUint8(a),n=e.getUint16(a+cU),r=cU+dU;if(i===lU.AUDIO_LEVEL){let o=e.getUint8(a+r);for(let t=1;t<n;t++)o=o<<8|e.getUint8(a+r+t);s.tlv.push({tag:i,length:n,value:t?127^o>>1:127&o})}else if(i===lU.METADATA||i===lU.AUDIO_64_BIT_PTS){const t=new Uint8Array(n);for(let i=0;i<n;i++)t[i]=e.getUint8(a+r+i);s.tlv.push({tag:i,length:n,value:t})}a+=r+n}return s}const hU=new Map;const pU=127,_U=1e-10,EU=139/13,mU=new Map;function fU(e,t,i){const n=\"\".concat(e,\"-\").concat(t,\"-\").concat(i);let r=0;if(mU.has(n))r=mU.get(n);else{const o=.5;r=Math.log(function(e,t){const i=e-t;t<i&&(t=i);let n=1;for(let i=e,r=1;i>t;i--,r++)n=n*i/r;return n}(t,e))+e*Math.log(o)+(t-e)*Math.log(1-o)-Math.log(i)+i*e,mU.set(n,r)}return r<_U&&(r=_U),r}function SU(e,t,i){const n=t.length,r=e.length/n;let o=!1;for(let s=0,a=0;s<n;s++){let n=0;for(let t=a+r;a<t;a++)e[a]>i&&n++;t[s]!==n&&(t[s]=n,o=!0)}return o}window.cache=mU;let gU=0;class TU{constructor(e){sL(this,\"id\",void 0),sL(this,\"immediates\",[]),sL(this,\"lastNonSilence\",-1),sL(this,\"immediateSpeechActivityScore\",_U),sL(this,\"lastLevelChangedTime\",Date.now()),sL(this,\"levels\",[]),sL(this,\"longs\",[]),sL(this,\"longSpeechActivityScore\",_U),sL(this,\"mediums\",[]),sL(this,\"mediumSpeechActivityScore\",_U),sL(this,\"minLevel\",0),sL(this,\"nextMinLevel\",0),sL(this,\"nextMinLevelWindowLength\",0),sL(this,\"energyScore\",0),this.id=e||\"\".concat(gU++),this.immediates.length=50,this.mediums.length=10,this.longs.length=1,this.levels.length=this.immediates.length}computeImmediates(){const e=this.immediates,t=this.levels,i=this.minLevel+EU;let n=!1;for(let r=0;r<e.length;++r){let o=t[r];o<i&&(o=0);const s=Math.floor(o/EU);e[r]!==s&&(e[r]=s,n=!0)}return n}computeLongs(){return SU(this.mediums,this.longs,4)}computeMediums(){return SU(this.immediates,this.mediums,7)}evaluateImmediateSpeechActivityScore(){this.immediateSpeechActivityScore=fU(this.immediates[0],13,.78)}evaluateLongSpeechActivityScore(e){this.longSpeechActivityScore=fU(this.longs[0],10,47),this.longSpeechActivityScore>_U&&(this.lastNonSilence=e)}evaluateMediumSpeechActivityScore(){this.mediumSpeechActivityScore=fU(this.mediums[0],5,24)}evaluateSpeechActivityScores(e){this.computeImmediates()&&(this.evaluateImmediateSpeechActivityScore(),this.computeMediums()&&(this.evaluateMediumSpeechActivityScore(),this.computeLongs()&&this.evaluateLongSpeechActivityScore(e)))}getLastLevelChangedTime(){return this.lastLevelChangedTime}getLevels(){var e;return\"[\".concat(mr(e=[...this.levels]).call(e).join(),\"]\")}getSpeechActivityScore(e){switch(e){case 0:return this.immediateSpeechActivityScore;case 1:return this.mediumSpeechActivityScore;case 2:return this.longSpeechActivityScore;default:throw new Error(\"interval \"+e)}}levelChanged(e,t){if(this.lastLevelChangedTime<=t){this.lastLevelChangedTime=t;let i=e;return e<0&&(i=0),e>pU&&(i=pU),this.levels.unshift(i),this.levels.length>this.immediates.length&&this.levels.pop(),this.updateMinLevel(i),i>=this.minLevel+EU?i:i/2}return-1}levelTimedOut(){this.levelChanged(0,this.lastLevelChangedTime)}updateMinLevel(e){if(0!==e){if(0===this.minLevel||this.minLevel>e)return this.minLevel=e,this.nextMinLevel=0,void(this.nextMinLevelWindowLength=0);if(0===this.nextMinLevel)return this.nextMinLevel=e,void(this.nextMinLevelWindowLength=1);if(this.nextMinLevel>e&&(this.nextMinLevel=e),this.nextMinLevelWindowLength++,this.nextMinLevelWindowLength>=750){let e=Math.sqrt(this.minLevel*this.nextMinLevel);e<0?e=0:e>pU&&(e=pU),this.minLevel=e,this.nextMinLevel=0,this.nextMinLevelWindowLength=0}}}}class RU{constructor(e){sL(this,\"algorithm\",void 0),this.algorithm=e}execute(){let e=!this.algorithm;if(!e)try{const t=this.algorithm.runInDecisionMaker(this);t<=0?e=!0:setTimeout(this.execute.bind(this),t)}catch(t){e=!0}e&&this.algorithm&&this.algorithm.decisionMakerExited(this)}}class CU{constructor(e,t,i){sL(this,\"isDominant\",void 0),sL(this,\"energyRanking\",void 0),sL(this,\"energyScore\",void 0),this.isDominant=e,this.energyRanking=t,this.energyScore=i}}class vU extends NO{constructor(e){super(),sL(this,\"dominantId\",null),sL(this,\"lastDecisionTime\",0),sL(this,\"lastLevelChangedTime\",0),sL(this,\"lastLevelIdleTime\",0),sL(this,\"relativeSpeechActivities\",[]),sL(this,\"speakers\",new Map),sL(this,\"enableSilence\",!1),sL(this,\"timeoutToSilenceInterval\",0),sL(this,\"decisionMaker\",null),sL(this,\"loudest\",[]),sL(this,\"numLoudestToTrack\",3),sL(this,\"energyExpireTimeMs\",250),sL(this,\"energyAlphaPct\",50),this.timeoutToSilenceInterval=e,this.enableSilence=e>0,this.relativeSpeechActivities.length=3}setLoudestConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.numLoudestToTrack=e,null!=t&&(this.energyExpireTimeMs=t),null!=i&&(this.energyAlphaPct=i),this.loudest.length>e&&this.loudest.splice(e)}getDominantSpeaker(){return this.dominantId}isAmongLoudest(e){return this.loudest.some((t=>t.id===e))}levelChanged(e,t){const i=Date.now(),n=this.getOrCreateSpeaker(e);this.lastLevelChangedTime<i&&(this.lastLevelChangedTime=i,this.maybeStartDecisionMaker());const r=n.levelChanged(t,i);return this.updateLoudestList(n,r,i)}runInDecisionMaker(e){return this.decisionMaker!==e||this.lastDecisionTime>0&&this.lastDecisionTime-this.lastLevelChangedTime>=15e3?-1:this._runInDecisionMaker()}decisionMakerExited(e){this.decisionMaker===e&&(this.decisionMaker=null)}destroy(){this.decisionMaker=null,this.loudest.length=0,this.speakers.clear(),this.removeAllListeners()}addSpeakers(e){e.forEach((e=>{this.speakers.has(e.id)||this.speakers.set(e.id,e)}))}removeSpeakers(e){e.forEach((e=>{this.speakers.delete(e.id)}))}getOrCreateSpeaker(e){let t=this.speakers.get(e);return t||(t=new TU(e),this.speakers.set(e,t),this.maybeStartDecisionMaker()),t}updateLoudestList(e,t,i){const n=e.id===this.dominantId;if(t<0){let t=0;for(;t<this.loudest.length&&this.loudest[t]!==e;)++t;return new CU(n,t,e.energyScore)}if(e.energyScore=Math.floor((this.energyAlphaPct*t+(100-this.energyAlphaPct)*e.energyScore+50)/100),0===this.numLoudestToTrack)return new CU(n,0,e.energyScore);const r=i-this.energyExpireTimeMs;let o=0;for(;o<this.loudest.length;){const t=this.loudest[o];if(t.getLastLevelChangedTime()<r&&this.loudest.length>=this.numLoudestToTrack)this.loudest.splice(o,1);else if(t.id!==e.id)++o;else if(this.loudest.splice(o,1),this.loudest.length<this.numLoudestToTrack)break}let s=0;for(;s<this.loudest.length&&!(this.loudest[s].energyScore<e.energyScore);)++s;return s<this.numLoudestToTrack&&(this.loudest.splice(s,0,e),this.loudest.length>this.numLoudestToTrack&&this.loudest.splice(this.numLoudestToTrack,1)),new CU(n,s,e.energyScore)}maybeStartDecisionMaker(){!this.decisionMaker&&this.speakers.size>0&&(this.decisionMaker=new RU(this),this.decisionMaker.execute())}makeDecision(e){let t=null,i=null;const n=this.speakers.size;let r=null;if(0===n)r=null;else if(1===n){var o;const t=pp(o=this.speakers).call(o).next().value;this.enableSilence&&t&&(r=t.id,t.evaluateSpeechActivityScores(e),e-t.lastNonSilence>this.timeoutToSilenceInterval&&(r=null))}else{let t=null==this.dominantId?null:this.speakers.get(this.dominantId);if(null==t){const e=this.speakers.entries().next();e.value&&(r=e.value[0],t=e.value[1])}else r=t.id;null!=t&&t.evaluateSpeechActivityScores(e);const i=this.relativeSpeechActivities;let n=2;for(const o of this.speakers.entries()){const[s,a]=o;if(a===t)continue;a.evaluateSpeechActivityScores(e);for(let e=0;e<i.length;++e){const n=null==t?_U:t.getSpeechActivityScore(e);i[e]=Math.log(a.getSpeechActivityScore(e)/n)}const c=i[0],d=i[1],l=i[2];c>3&&d>2&&l>0&&d>n&&(n=d,r=s)}this.enableSilence&&null!=t&&r===t.id&&e-t.lastNonSilence>this.timeoutToSilenceInterval&&(r=null)}null==r&&!this.enableSilence||r===this.dominantId||(t=this.dominantId,this.dominantId=r,i=this.dominantId),null==i&&!this.enableSilence||i===t||this.emit(\"ActiveSpeakerChanged\",i)}_runInDecisionMaker(){const e=Date.now(),t=300-(e-this.lastLevelIdleTime);let i=0;t<=0?(0!==this.lastLevelIdleTime&&this.timeoutIdleLevels(e),this.lastLevelIdleTime=e):i=t;let n=300-(e-this.lastDecisionTime);return n<=0&&(this.lastDecisionTime=e,this.makeDecision(e),n=300-(Date.now()-e)),n>0&&i>n&&(i=n),i}timeoutIdleLevels(e){const t=[];for(const n of pp(i=this.speakers).call(i)){var i;const r=e-n.getLastLevelChangedTime();36e5<r&&(null==this.dominantId||n.id!==this.dominantId)?t.push(n.id):300<r&&n.levelTimedOut()}t.forEach((e=>this.speakers.delete(e)))}}const yU=new Map;let IU=null,AU=null;const bU=3;let wU=[];const OU=new Map,NU=new Map;class DU{get samples(){return this.actives+this.inactives}get activeRate(){return this.actives/this.samples}constructor(e,t){sL(this,\"id\",void 0),sL(this,\"track\",void 0),sL(this,\"score\",0),sL(this,\"active\",!0),sL(this,\"muted\",!1),sL(this,\"timer\",0),sL(this,\"actives\",0),sL(this,\"inactives\",0),this.id=e,this.track=t,this.setActive(OU.size<3)}autoCheckActive(){this.autoSetActive(),this.autoAdjustActive(),this.resetTimer(),this.actives=0,this.inactives=0}autoSetActive(){const e=this.active;this.active=this.activeRate>=.8;const{actives:t,inactives:i}=function(){const e=[],t=[];return Array.from(pp(OU).call(OU)).forEach((i=>{i.active?e.push(i):t.push(i)})),{actives:e,inactives:t}}();if(t.length>3){let e;t.forEach((t=>{(!e||e.score>t.score)&&(e=t)})),e&&e.setActive(!1)}if(t.length<3&&i.length>0){let t;i.forEach((e=>{(!t||t.score<e.score)&&e.id!==this.id&&(t=e)})),t&&e&&!this.active&&(t.samples>40&&t.activeRate-this.activeRate>.4?t.setActive(!0):this.active=!0)}this.setMuted(!this.active)}setActive(e){this.active=e,this.resetTimer(),this.setMuted(!e)}autoAdjustActive(){this.active?this.autoSwitchToInactive():this.autoSwitchToActive()}autoSwitchToActive(){const e=function(e){let t;return Array.from(pp(OU).call(OU)).forEach((i=>{!i.active||i.id===e||i.samples<40||(!t||i.score<t.score)&&(t=i)})),t}(this.id);e&&this.activeRate-e.activeRate>.4&&(e.setActive(!1),this.setActive(!0))}autoSwitchToInactive(){const e=function(e){let t;return Array.from(pp(OU).call(OU)).forEach((i=>{i.active||i.id===e||i.samples<40||(!t||i.score>t.score)&&(t=i)})),t}(this.id);e&&e.activeRate-this.activeRate>.4&&(e.setActive(!0),this.setActive(!1))}addSample(e){e?this.actives+=1:this.inactives+=1,this.samples>66.66666666666667&&this.autoCheckActive()}setMuted(e){this.track&&(this.track.enabled=!e,this.muted=e)}resetTimer(){this.clearTimer(),this.timer=window.setTimeout((()=>{if(0!==this.samples)return this.samples<50?this.resetTimer():void this.autoCheckActive()}),1e3)}clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=0)}}let PU;function LU(e){const t=OU.get(e);t&&(OU.delete(e),t.clearTimer())}const kU=new Map,MU=new Map;const UU=\"video/h264\",VU=\"video/h265\";function xU(e,t,i){let n=new Uint8Array(e,t,i),r=[],o=0;for(;r.length<i;)o+3<i&&0===n[o]&&0===n[o+1]&&3===n[o+2]&&(0===n[o+3]||1===n[o+3]||2===n[o+3]||3===n[o+3])?(r.push(n[o],n[o+1],n[o+3]),o+=4):(r.push(n[o]),o++);return new Uint8Array(r)}function FU(e){const t=e.length;let i=[],n=0;for(;n<t;)n+2<t&&0===e[n]&&0===e[n+1]&&(0===e[n+2]||1===e[n+2]||2===e[n+2]||3===e[n+2])?(i.push(e[n],e[n+1],3,e[n+2]),n+=3):(i.push(e[n]),n++);return new Uint8Array(i)}function BU(e){if(e.length<5)return\"\";let t=-1;for(let i=0;i<e.length-3;i++){if(0===e[i]&&0===e[i+1]&&1===e[i+2]){t=i;break}if(i<e.length-4&&0===e[i]&&0===e[i+1]&&0===e[i+2]&&1===e[i+3]){t=i;break}}if(-1===t)return\"\";const i=t+(0===e[t+2]?4:3);if(i>=e.length)return\"\";const n=e[i];return 128&n?\"\":(n>>1&63)>=32||i+1<e.length&&0==(248&e[i+1])?VU:(31&n)<=31?UU:\"\"}const jU=new Map;const GU=new Map;!function(){const e=Dw();hP.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),hP.getStreamFromExtension=e.name===bw.CHROME&&Number(e.version)>34,hP.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!(\"currentDirection\"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver(\"audio\"),t=!0}catch(e){}return e.close(),t}(),hP.supportMinBitrate=e.name===bw.CHROME||e.name===bw.EDGE,hP.supportSetRtpSenderParameters=function(){const e=Dw();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!sO()||!(!Vw()&&!Mw())||e.name===bw.FIREFOX&&Number(e.version)>=64)}(),e.name===bw.SAFARI&&(Number(e.version)>=14?hP.supportDualStream=!0:hP.supportDualStream=!1),hP.webAudioMediaStreamDest=function(){const e=Dw();return!(e.name===bw.SAFARI&&Number(e.version)<12)}(),hP.supportReplaceTrack=!!window.RTCRtpSender&&\"function\"==typeof RTCRtpSender.prototype.replaceTrack,hP.supportWebGL=\"undefined\"!=typeof WebGLRenderingContext,hP.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,sO()||(hP.webAudioWithAEC=!0),hP.supportShareAudio=function(){const e=Dw();return(e.os===Aw.WIN_10||e.os===Aw.WIN_81||e.os===Aw.WIN_7||e.os===Aw.LINUX||e.os===Aw.MAC_OS||e.os===Aw.CHROMIUM_OS)&&e.name===bw.CHROME&&Number(e.version)>=74}(),hP.supportDataChannel=!!(Gw(76)||Yw(68)||zw(14)),hP.supportPCSetConfiguration=function(){const e=window.RTCPeerConnection;return!Bw()&&!!e&&e.prototype.setConfiguration instanceof Function}(),hP.supportWebRTCEncodedTransform=Gw(87)||xw()||Yw(117),hP.supportWebRTCInsertableStream=function(){const e=Dw();return(e.name===bw.CHROME||e.name===bw.EDGE)&&Number(e.version)>=94&&\"MediaStreamTrackGenerator\"in window&&\"MediaStreamTrackProcessor\"in window}(),hP.supportRequestVideoFrameCallback=\"requestVideoFrameCallback\"in HTMLVideoElement.prototype,hP.supportWebCrypto=\"undefined\"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.subtle,hP.supportSuppressLocalAudioPlayback=gP(),hP.supportRestrictOwnAudio=TP(),oN((()=>{hP.supportDualStreamEncoding=function(){const e=Dw();return!!CD(\"DISABLE_WEBAUDIO\")||(\"Safari\"===e.name&&Number(e.version)>=14||!!(\"Chrome\"===e.name&&/Windows/i.test(e.os||\"\")&&Number(e.version)>=100&&CD(\"CHROME_DUAL_STREAM_USE_ENCODING\")))}(),iP.debug(\"browser ua: \",navigator.userAgent),iP.info(\"browser info: \",e),iP.info(\"browser compatibility: \",hP)}))}();const WU=[\"CHINA\",\"GLOBAL\"];const HU=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],KU=[],YU=[];function zU(e,t){return!!t&&KU.some((i=>i.uid===e&&i.channelName===t))}function qU(){return YU.length>0}var XU=Sv.forEach,JU=Wn(\"forEach\")?[].forEach:function(e){return XU(this,e,arguments.length>1?arguments[1]:void 0)};Oi({target:\"Array\",proto:!0,forced:[].forEach!==JU},{forEach:JU});var QU=Zi(\"Array\",\"forEach\"),ZU=En,$U=$e,eV=l,tV=QU,iV=Array.prototype,nV={DOMTokenList:!0,NodeList:!0},rV=function(e){var t=e.forEach;return e===iV||eV(iV,e)&&t===iV.forEach||$U(nV,ZU(e))?tV:t},oV=i(rV),sV=Je,aV=ho;Oi({target:\"Object\",stat:!0,forced:n((function(){aV(1)}))},{keys:function(e){return aV(sV(e))}});var cV=i($.Object.keys),dV=i(ir),lV=i(Er),uV=Oi,hV=or,pV=Qc,_V=Z,EV=xi,mV=Wi,fV=J,SV=qE,gV=pt,TV=sd,RV=PC(\"slice\"),CV=gV(\"species\"),vV=Array,yV=Math.max;uV({target:\"Array\",proto:!0,forced:!RV},{slice:function(e,t){var i,n,r,o=fV(this),s=mV(o),a=EV(e,s),c=EV(void 0===t?s:t,s);if(hV(o)&&(i=o.constructor,(pV(i)&&(i===vV||hV(i.prototype))||_V(i)&&null===(i=i[CV]))&&(i=void 0),i===vV||void 0===i))return TV(o,a,c);for(n=new(void 0===i?vV:i)(yV(c-a,0)),r=0;a<c;a++,r++)a in o&&SV(n,r,o[a]);return n.length=r,n}});var IV=Zi(\"Array\",\"slice\"),AV=l,bV=IV,wV=Array.prototype,OV=function(e){var t=e.slice;return e===wV||AV(wV,e)&&t===wV.slice?bV:t},NV=i(OV);function DV(e,t,i,n,r){var o,s,a,c={};return oV(o=cV(n)).call(o,(function(e){c[e]=n[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,(\"value\"in c||c.initializer)&&(c.writable=!0),c=dV(s=lV(a=NV(i).call(i)).call(a)).call(s,(function(i,n){return n(e,t,i)||i}),c),r&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(r):void 0,c.initializer=void 0),void 0===c.initializer?(TC(e,t,c),null):c}let PV=function(e){return e[e.ACCESS_POINT=101]=\"ACCESS_POINT\",e[e.UNILBS=201]=\"UNILBS\",e[e.STRING_UID_ALLOCATOR=901]=\"STRING_UID_ALLOCATOR\",e}({}),LV=function(e){return e[e.IIIEGAL_APPID=1]=\"IIIEGAL_APPID\",e[e.IIIEGAL_UID=2]=\"IIIEGAL_UID\",e[e.INTERNAL_ERROR=3]=\"INTERNAL_ERROR\",e}({}),kV=function(e){return e[e.INVALID_VENDOR_KEY=5]=\"INVALID_VENDOR_KEY\",e[e.INVALID_CHANNEL_NAME=7]=\"INVALID_CHANNEL_NAME\",e[e.INTERNAL_ERROR=8]=\"INTERNAL_ERROR\",e[e.NO_AUTHORIZED=9]=\"NO_AUTHORIZED\",e[e.DYNAMIC_KEY_TIMEOUT=10]=\"DYNAMIC_KEY_TIMEOUT\",e[e.NO_ACTIVE_STATUS=11]=\"NO_ACTIVE_STATUS\",e[e.DYNAMIC_KEY_EXPIRED=13]=\"DYNAMIC_KEY_EXPIRED\",e[e.STATIC_USE_DYNAMIC_KEY=14]=\"STATIC_USE_DYNAMIC_KEY\",e[e.DYNAMIC_USE_STATIC_KEY=15]=\"DYNAMIC_USE_STATIC_KEY\",e[e.USER_OVERLOAD=16]=\"USER_OVERLOAD\",e[e.FORBIDDEN_REGION=18]=\"FORBIDDEN_REGION\",e[e.CANNOT_MEET_AREA_DEMAND=19]=\"CANNOT_MEET_AREA_DEMAND\",e[e.REQ_DOWNGRADE_FALLBACK=27]=\"REQ_DOWNGRADE_FALLBACK\",e}({}),MV=function(e){return e[e.NO_FLAG_SET=100]=\"NO_FLAG_SET\",e[e.FLAG_SET_BUT_EMPTY=101]=\"FLAG_SET_BUT_EMPTY\",e[e.INVALID_FALG_SET=102]=\"INVALID_FALG_SET\",e[e.FLAG_SET_BUT_NO_RE=103]=\"FLAG_SET_BUT_NO_RE\",e[e.INVALID_SERVICE_ID=104]=\"INVALID_SERVICE_ID\",e[e.NO_SERVICE_AVAILABLE=200]=\"NO_SERVICE_AVAILABLE\",e[e.NO_SERVICE_AVAILABLE_P2P=201]=\"NO_SERVICE_AVAILABLE_P2P\",e[e.NO_SERVICE_AVAILABLE_VOICE=202]=\"NO_SERVICE_AVAILABLE_VOICE\",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]=\"NO_SERVICE_AVAILABLE_WEBRTC\",e[e.NO_SERVICE_AVAILABLE_CDS=204]=\"NO_SERVICE_AVAILABLE_CDS\",e[e.NO_SERVICE_AVAILABLE_CDN=205]=\"NO_SERVICE_AVAILABLE_CDN\",e[e.NO_SERVICE_AVAILABLE_TDS=206]=\"NO_SERVICE_AVAILABLE_TDS\",e[e.NO_SERVICE_AVAILABLE_REPORT=207]=\"NO_SERVICE_AVAILABLE_REPORT\",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]=\"NO_SERVICE_AVAILABLE_APP_CENTER\",e[e.NO_SERVICE_AVAILABLE_ENV0=209]=\"NO_SERVICE_AVAILABLE_ENV0\",e[e.NO_SERVICE_AVAILABLE_VOET=210]=\"NO_SERVICE_AVAILABLE_VOET\",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]=\"NO_SERVICE_AVAILABLE_STRING_UID\",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]=\"NO_SERVICE_AVAILABLE_WEBRTC_UNILBS\",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]=\"NO_SERVICE_AVAILABLE_UNILBS_FLV\",e}({}),UV=function(e){return e[e.K_TIMESTAMP_EXPIRED=2]=\"K_TIMESTAMP_EXPIRED\",e[e.K_CHANNEL_PERMISSION_INVALID=3]=\"K_CHANNEL_PERMISSION_INVALID\",e[e.K_CERTIFICATE_INVALID=4]=\"K_CERTIFICATE_INVALID\",e[e.K_CHANNEL_NAME_EMPTY=5]=\"K_CHANNEL_NAME_EMPTY\",e[e.K_CHANNEL_NOT_FOUND=6]=\"K_CHANNEL_NOT_FOUND\",e[e.K_TICKET_INVALID=7]=\"K_TICKET_INVALID\",e[e.K_CHANNEL_CONFLICTED=8]=\"K_CHANNEL_CONFLICTED\",e[e.K_SERVICE_NOT_READY=9]=\"K_SERVICE_NOT_READY\",e[e.K_SERVICE_TOO_HEAVY=10]=\"K_SERVICE_TOO_HEAVY\",e[e.K_UID_BANNED=14]=\"K_UID_BANNED\",e[e.K_IP_BANNED=15]=\"K_IP_BANNED\",e[e.K_CHANNEL_BANNED=16]=\"K_CHANNEL_BANNED\",e[e.DATASTREAM2_NOT_AVAILABLE=27]=\"DATASTREAM2_NOT_AVAILABLE\",e[e.K_AUTO_REBALANCE=28]=\"K_AUTO_REBALANCE\",e[e.K_VOS_FALLBACK=30]=\"K_VOS_FALLBACK\",e[e.WARN_NO_AVAILABLE_CHANNEL=103]=\"WARN_NO_AVAILABLE_CHANNEL\",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]=\"WARN_LOOKUP_CHANNEL_TIMEOUT\",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]=\"WARN_LOOKUP_CHANNEL_REJECTED\",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]=\"WARN_OPEN_CHANNEL_TIMEOUT\",e[e.WARN_OPEN_CHANNEL_REJECTED=107]=\"WARN_OPEN_CHANNEL_REJECTED\",e[e.WARN_REQUEST_DEFERRED=108]=\"WARN_REQUEST_DEFERRED\",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]=\"ERR_DYNAMIC_KEY_TIMEOUT\",e[e.ERR_NO_AUTHORIZED=110]=\"ERR_NO_AUTHORIZED\",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]=\"ERR_VOM_SERVICE_UNAVAILABLE\",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]=\"ERR_NO_CHANNEL_AVAILABLE_CODE\",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]=\"ERR_MASTER_VOCS_UNAVAILABLE\",e[e.ERR_INTERNAL_ERROR=115]=\"ERR_INTERNAL_ERROR\",e[e.ERR_NO_ACTIVE_STATUS=116]=\"ERR_NO_ACTIVE_STATUS\",e[e.ERR_INVALID_UID=117]=\"ERR_INVALID_UID\",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]=\"ERR_DYNAMIC_KEY_EXPIRED\",e[e.ERR_STATIC_USE_DYANMIC_KE=119]=\"ERR_STATIC_USE_DYANMIC_KE\",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]=\"ERR_DYNAMIC_USE_STATIC_KE\",e[e.ERR_NO_VOCS_AVAILABLE=2e3]=\"ERR_NO_VOCS_AVAILABLE\",e[e.ERR_NO_VOS_AVAILABLE=2001]=\"ERR_NO_VOS_AVAILABLE\",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]=\"ERR_JOIN_CHANNEL_TIMEOUT\",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]=\"ERR_REPEAT_JOIN_CHANNEL\",e[e.ERR_JOIN_BY_MULTI_IP=2004]=\"ERR_JOIN_BY_MULTI_IP\",e[e.ERR_NOT_JOINED=2011]=\"ERR_NOT_JOINED\",e[e.ERR_REPEAT_JOIN_REQUEST=2012]=\"ERR_REPEAT_JOIN_REQUEST\",e[e.ERR_INVALID_VENDOR_KEY=2013]=\"ERR_INVALID_VENDOR_KEY\",e[e.ERR_INVALID_CHANNEL_NAME=2014]=\"ERR_INVALID_CHANNEL_NAME\",e[e.ERR_INVALID_STRINGUID=2015]=\"ERR_INVALID_STRINGUID\",e[e.ERR_TOO_MANY_USERS=2016]=\"ERR_TOO_MANY_USERS\",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]=\"ERR_SET_CLIENT_ROLE_TIMEOUT\",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]=\"ERR_SET_CLIENT_ROLE_NO_PERMISSION\",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]=\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]=\"ERR_PUBLISH_REQUEST_INVALID\",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]=\"ERR_SUBSCRIBE_REQUEST_INVALID\",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]=\"ERR_NOT_SUPPORTED_MESSAGE\",e[e.ERR_ILLEAGAL_PLUGIN=2023]=\"ERR_ILLEAGAL_PLUGIN\",e[e.ERR_REJOIN_TOKEN_INVALID=2024]=\"ERR_REJOIN_TOKEN_INVALID\",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]=\"ERR_REJOIN_USER_NOT_JOINED\",e[e.ERR_INVALID_OPTIONAL_INFO=2027]=\"ERR_INVALID_OPTIONAL_INFO\",e[e.ILLEGAL_AES_PASSWORD=2028]=\"ILLEGAL_AES_PASSWORD\",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]=\"ILLEGAL_CLIENT_ROLE_LEVEL\",e[e.ERR_TOO_MANY_BROADCASTERS=2031]=\"ERR_TOO_MANY_BROADCASTERS\",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]=\"ERR_TOO_MANY_SUBSCRIBERS\",e[e.ERR_LICENSE_MISSING=32769]=\"ERR_LICENSE_MISSING\",e[e.ERR_LICENSE_EXPIRED=32771]=\"ERR_LICENSE_EXPIRED\",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]=\"ERR_LICENSE_MINUTES_EXCEEDED\",e[e.ERR_LICENSE_PERIOD_INVALID=32774]=\"ERR_LICENSE_PERIOD_INVALID\",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]=\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",e[e.ERR_LICENSE_ILLEGAL=32783]=\"ERR_LICENSE_ILLEGAL\",e[e.ERR_TEST_RECOVER=9e3]=\"ERR_TEST_RECOVER\",e[e.ERR_TEST_TRYNEXT=9001]=\"ERR_TEST_TRYNEXT\",e[e.ERR_TEST_RETRY=9002]=\"ERR_TEST_RETRY\",e}({}),VV=function(e){return e.CONNECTING=\"connecting\",e.CONNECTED=\"connected\",e.RECONNECTING=\"reconnecting\",e.CLOSED=\"closed\",e}({}),xV=function(e){return e.WS_CONNECTED=\"ws_connected\",e.WS_RECONNECTING=\"ws_reconnecting\",e.WS_CLOSED=\"ws_closed\",e.WS_RECONNECT_CREATE_CONNECTION=\"ws_reconnect_create_connection\",e.ON_BINARY_DATA=\"on_binary_data\",e.REQUEST_RECOVER=\"request_recover\",e.REQUEST_JOIN_INFO=\"request_join_info\",e.REQUEST_REJOIN_INFO=\"req_rejoin_info\",e.IS_P2P_DISCONNECTED=\"is_p2p_dis\",e.DISCONNECT_P2P=\"dis_p2p\",e.ABORT_P2P_EXECUTION=\"abort_p2p_execution\",e.NEED_RENEW_SESSION=\"need-sid\",e.REPORT_JOIN_GATEWAY=\"report_join_gateway\",e.REQUEST_TIMEOUT=\"request_timeout\",e.REQUEST_SUCCESS=\"request_success\",e.JOIN_RESPONSE=\"join_response\",e.PRE_CONNECT_PC=\"pre_connect_pc\",e.DATACHANNEL_PRECONNECT=\"datachannel_preconnect\",e.DATACHANNEL_CONNECTING=\"datachannel_connecting\",e.DATACHANNEL_FAILBACK=\"datachannel_failback\",e.P2P_CONNECTION=\"p2p_connection\",e.P2P_REMOTE_CANDIDATE_UPDATE=\"p2p_remote_candidate_update\",e.P2P_SUBSCRIBE=\"p2p_subscribe\",e.P2P_UNSUBSCRIBE=\"p2p_unsubscribe\",e.P2P_EXCHANGE_SDP=\"p2p_exchange_sdp\",e.P2P_ON_ADD_VIDEO_STREAM=\"p2p_on_add_video_stream\",e.P2P_ON_ADD_AUDIO_STREAM=\"p2p_on_add_audio_stream\",e.RECOVER_NOTIFICATION=\"recover_notification\",e.VOS_FALLBACK=\"vos_fallback\",e.VOS_FALLBACK_PROMISE=\"vos_fallback_promise\",e}({}),FV=function(e){return e.PING=\"ping\",e.PING_BACK=\"ping_back\",e.JOIN=\"join_v3\",e.REJOIN=\"rejoin_v3\",e.LEAVE=\"leave\",e.SET_CLIENT_ROLE=\"set_client_role\",e.PUBLISH=\"publish\",e.PUBLISH_DATASTREAM=\"publish_datastream\",e.UNPUBLISH=\"unpublish\",e.UNPUBLISH_DATASTREAM=\"unpublish_datastream\",e.SUBSCRIBE=\"subscribe\",e.PRE_SUBSCRIBE=\"pre_subscribe\",e.SUBSCRIBE_DATASTREAM=\"subscribe_datastream\",e.SUBSCRIBE_STREAMS=\"subscribe_streams\",e.UNSUBSCRIBE=\"unsubscribe\",e.UNSUBSCRIBE_DATASTREAM=\"unsubscribe_datastream\",e.UNSUBSCRIBE_STREAMS=\"unsubscribe_streams\",e.SUBSCRIBE_CHANGE=\"subscribe_change\",e.TRAFFIC_STATS=\"traffic_stats\",e.RENEW_TOKEN=\"renew_token\",e.SET_DUAL_STREAM_MODE=\"set_dual_stream_mode\",e.SWITCH_VIDEO_STREAM=\"switch_video_stream\",e.DEFAULT_VIDEO_STREAM=\"default_video_stream\",e.SET_FALLBACK_OPTION=\"set_fallback_option\",e.CONFIGURE=\"configure\",e.GATEWAY_INFO=\"gateway_info\",e.CONTROL=\"control\",e.SEND_METADATA=\"send_metadata\",e.DATA_STREAM=\"data_stream\",e.PICK_SVC_LAYER=\"pick_svc_layer\",e.RESTART_ICE=\"restart_ice\",e.CONNECT_PC=\"connect_pc\",e.SET_VIDEO_PROFILE=\"set_video_profile\",e.SET_PARAMETER=\"set_parameter\",e.SET_RTM2_FLAG=\"set_rtm2_flag\",e.DOWNGRADE_CODEC=\"downgrade_codec\",e}({}),BV=function(e){return e.WRTC_STATS=\"wrtc_stats\",e.WS_INFLATE_DATA_LENGTH=\"ws_inflate_data_length\",e.DENOISER_STATS=\"denoiser_stats\",e.EXTENSION_USAGE_STATS=\"extension_usage_stats\",e}({}),jV=function(e){return e.ON_USER_ONLINE=\"on_user_online\",e.ON_USER_OFFLINE=\"on_user_offline\",e.ON_STREAM_FALLBACK_UPDATE=\"on_stream_fallback_update\",e.ON_PUBLISH_STREAM=\"on_publish_stream\",e.ON_UPLINK_STATS=\"on_uplink_stats\",e.ON_P2P_LOST=\"on_p2p_lost\",e.ON_REMOVE_STREAM=\"on_remove_stream\",e.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",e.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"on_token_privilege_will_expire\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"on_token_privilege_did_expire\",e.ON_USER_BANNED=\"on_user_banned\",e.ON_USER_LICENSE_BANNED=\"on_user_license_banned\",e.ON_NOTIFICATION=\"on_notification\",e.ON_CRYPT_ERROR=\"on_crypt_error\",e.MUTE_AUDIO=\"mute_audio\",e.MUTE_VIDEO=\"mute_video\",e.UNMUTE_AUDIO=\"unmute_audio\",e.UNMUTE_VIDEO=\"unmute_video\",e.ON_P2P_OK=\"on_p2p_ok\",e.RECEIVE_METADATA=\"receive_metadata\",e.ON_DATA_STREAM=\"on_data_stream\",e.ON_RTP_CAPABILITY_CHANGE=\"on_rtp_capability_change\",e.ON_REMOTE_DATASTREAM_UPDATE=\"on_remote_datastream_update\",e.ON_REMOTE_FULL_DATASTREAM_INFO=\"on_remote_full_datastream_info\",e.ENABLE_LOCAL_VIDEO=\"enable_local_video\",e.DISABLE_LOCAL_VIDEO=\"disable_local_video\",e.ENABLE_LOCAL_AUDIO=\"enable_local_audio\",e.DISABLE_LOCAL_AUDIO=\"disable_local_audio\",e.ON_PUBLISHED_USER_LIST=\"on_published_user_list\",e.ENABLE_MULTI_STREAM=\"enable_multi_stream\",e}({}),GV=function(e){return e.SEND_ONLY=\"SEND_ONLY\",e.RECEIVE_ONLY=\"RECEIVE_ONLY\",e}({}),WV=function(e){return e.CONNECTED=\"websocket:connected\",e.RECONNECTING=\"websocket:reconnecting\",e.WILL_RECONNECT=\"websocket:will_reconnect\",e.CLOSED=\"websocket:closed\",e.FAILED=\"websocket:failed\",e.ON_MESSAGE=\"websocket:on_message\",e.REQUEST_NEW_URLS=\"websocket:request_new_urls\",e.RECONNECT_CREATE_CONNECTION=\"websocket:reconnect_create_connection\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"websocket:on_token_privilege_did_expire\",e.ON_FALLBACK=\"websocket:on_fallback\",e}({});function HV(e){if(\"string\"!=typeof e||!/^[a-zA-Z0-9 \\!\\#\\$\\%\\&\\(\\)\\+\\-\\:\\;\\<\\=\\.\\>\\?\\@\\[\\]\\^\\_\\{\\}\\|\\~\\,]{1,64}$/.test(e))throw iP.error(\"Invalid Channel Name \".concat(e)),new uP(hO.INVALID_PARAMS,\"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,\")}function KV(e){if(!(t=e,\"number\"==typeof t&&Math.floor(t)===t&&0<=t&&t<=4294967295||RO(e,1,255)))throw new uP(hO.INVALID_PARAMS,\"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]\");var t;\"string\"==typeof e&&iP.warn(\"You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.\")}let YV=function(e){return e.TRANSCODE=\"mix_streaming\",e.RAW=\"raw_streaming\",e}({});const zV={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},qV={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function XV(e,t){SO(e.url,\"\".concat(t,\".url\"),1,1e3,!1),TO(e.x)||mO(e.x,\"\".concat(t,\".x\"),0,1e4),TO(e.y)||mO(e.y,\"\".concat(t,\".y\"),0,1e4),TO(e.width)||mO(e.width,\"\".concat(t,\".width\"),0,1e4),TO(e.height)||mO(e.height,\"\".concat(t,\".height\"),0,1e4),TO(e.zOrder)||mO(e.zOrder,\"\".concat(t,\".zOrder\"),0,255),TO(e.alpha)||mO(e.alpha,\"\".concat(t,\".alpha\"),0,1,!1)}const JV={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:\"\"};let QV=function(e){return e.WARNING=\"@live_uap-warning\",e.ERROR=\"@line_uap-error\",e.PUBLISH_STREAM_STATUS=\"@live_uap-publish-status\",e.WORKER_STATUS=\"@live_uap-worker-status\",e.REQUEST_NEW_ADDRESS=\"@live_uap-request-address\",e}({}),ZV=function(e){return e.REQUEST_WORKER_MANAGER_LIST=\"@live_req_worker_manager\",e}({}),$V=function(e){return e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]=\"LIVE_STREAM_RESPONSE_SUCCEED\",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]=\"LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM\",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]=\"LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR\",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]=\"LIVE_STREAM_RESPONSE_BAD_STREAM\",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]=\"LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR\",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]=\"LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST\",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]=\"LIVE_STREAM_RESPONSE_NOT_AUTHORIZED\",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]=\"LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE\",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]=\"LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN\",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]=\"LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH\",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]=\"LIVE_STREAM_RESPONSE_NOT_SUPPORTED\",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]=\"LIVE_STREAM_RESPONSE_MAX_STREAM_NUM\",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]=\"LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR\",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]=\"LIVE_STREAM_RESPONSE_WORKER_LOST\",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]=\"LIVE_STREAM_RESPONSE_RESOURCE_LIMIT\",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]=\"LIVE_STREAM_RESPONSE_WORKER_QUIT\",e[e.ERROR_FAIL_SEND_MESSAGE=504]=\"ERROR_FAIL_SEND_MESSAGE\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH\",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]=\"PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN\",e}({});function ex(e){if(!e.channelName)throw new uP(hO.INVALID_PARAMS,\"invalid channelName in info\");if(\"number\"!=typeof e.uid)throw new uP(hO.INVALID_PARAMS,\"invalid uid in info, uid must be a number\");return e.token&&SO(e.token,\"info.token\",1,2047),KV(e.uid),HV(e.channelName),!0}let tx=function(e){return e[e.SetSdkProfile=0]=\"SetSdkProfile\",e[e.SetSourceChannel=1]=\"SetSourceChannel\",e[e.SetSourceUserId=2]=\"SetSourceUserId\",e[e.SetDestChannel=3]=\"SetDestChannel\",e[e.StartPacketTransfer=4]=\"StartPacketTransfer\",e[e.StopPacketTransfer=5]=\"StopPacketTransfer\",e[e.UpdateDestChannel=6]=\"UpdateDestChannel\",e[e.Reconnect=7]=\"Reconnect\",e[e.SetVideoProfile=8]=\"SetVideoProfile\",e}({}),ix=function(e){return e.NETWORK_DISCONNECTED=\"NETWORK_DISCONNECTED\",e.NETWORK_CONNECTED=\"NETWORK_CONNECTED\",e.PACKET_JOINED_SRC_CHANNEL=\"PACKET_JOINED_SRC_CHANNEL\",e.PACKET_JOINED_DEST_CHANNEL=\"PACKET_JOINED_DEST_CHANNEL\",e.PACKET_SENT_TO_DEST_CHANNEL=\"PACKET_SENT_TO_DEST_CHANNEL\",e.PACKET_RECEIVED_VIDEO_FROM_SRC=\"PACKET_RECEIVED_VIDEO_FROM_SRC\",e.PACKET_RECEIVED_AUDIO_FROM_SRC=\"PACKET_RECEIVED_AUDIO_FROM_SRC\",e.PACKET_UPDATE_DEST_CHANNEL=\"PACKET_UPDATE_DEST_CHANNEL\",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED=\"PACKET_UPDATE_DEST_CHANNEL_REFUSED\",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=\"PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE\",e}({}),nx=function(e){return e.RELAY_STATE_IDLE=\"RELAY_STATE_IDLE\",e.RELAY_STATE_CONNECTING=\"RELAY_STATE_CONNECTING\",e.RELAY_STATE_RUNNING=\"RELAY_STATE_RUNNING\",e.RELAY_STATE_FAILURE=\"RELAY_STATE_FAILURE\",e}({}),rx=function(e){return e.RELAY_OK=\"RELAY_OK\",e.SERVER_CONNECTION_LOST=\"SERVER_CONNECTION_LOST\",e.SRC_TOKEN_EXPIRED=\"SRC_TOKEN_EXPIRED\",e.DEST_TOKEN_EXPIRED=\"DEST_TOKEN_EXPIRED\",e}({}),ox=function(e){return e.High=\"high\",e.Low=\"low\",e.Audio=\"audio\",e.Screen=\"screen\",e.ScreenLow=\"screen_low\",e}({}),sx=function(e){return e.DISCONNECT=\"disconnect\",e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.NETWORK_QUALITY=\"network-quality\",e.STREAM_TYPE_CHANGE=\"stream-type-change\",e.IS_P2P_DISCONNECTED=\"is-p2p-dis\",e.DISCONNECT_P2P=\"dis-p2p\",e.REQUEST_NEW_GATEWAY_LIST=\"req-gate-url\",e.NEED_RENEW_SESSION=\"need-sid\",e.REQUEST_P2P_CONNECTION_PARAMS=\"request-p2p-connection-params\",e.JOIN_RESPONSE=\"join-response\",e.RESET_CONNECTION_EVENTS=\"reset-connection-events\",e.PRE_CONNECT_PC=\"pre-connect_pc\",e.UPDATE_GATEWAY_CONFIG=\"update-gateway-config\",e.VOS_FALLBACK=\"vos-fallback\",e.VOS_FALLBACK_PROMISE=\"vos-fallback-promise\",e.RESET_SIGNAL=\"reset-signal\",e.DATACHANNEL_FAILBACK=\"datachannel-failback\",e}({}),ax=function(e){return e.P2P_DISCONNECTED=\"P2P_DISCONNECTED\",e.A_ROUND_WS_FAILED=\"A_ROUND_WS_FAILED\",e.TIMEOUT=\"TIMEOUT\",e.UNKNOWN_REASON=\"UNKNOWN_REASON\",e}({}),cx=function(e){return e[e.Nothing=0]=\"Nothing\",e[e.Audio=1]=\"Audio\",e[e.LwoVideo=2]=\"LwoVideo\",e[e.Video=4]=\"Video\",e[e.Data=8]=\"Data\",e[e.DataStream0=256]=\"DataStream0\",e[e.DataStream1=512]=\"DataStream1\",e[e.DataStream2=1024]=\"DataStream2\",e[e.DataStream3=2048]=\"DataStream3\",e[e.DataStream4=4096]=\"DataStream4\",e[e.DataStream5=8192]=\"DataStream5\",e[e.DataStream6=16384]=\"DataStream6\",e[e.DataStream7=32768]=\"DataStream7\",e}({}),dx=function(e){return e.CHINA=\"CHINA\",e.ASIA=\"ASIA\",e.NORTH_AMERICA=\"NORTH_AMERICA\",e.EUROPE=\"EUROPE\",e.JAPAN=\"JAPAN\",e.INDIA=\"INDIA\",e.KOREA=\"KOREA\",e.HKMC=\"HKMC\",e.US=\"US\",e.OCEANIA=\"OCEANIA\",e.SOUTH_AMERICA=\"SOUTH_AMERICA\",e.AFRICA=\"AFRICA\",e.OVERSEA=\"OVERSEA\",e.GLOBAL=\"GLOBAL\",e.EXTENSIONS=\"EXTENSIONS\",e}({});const lx=[dx.AFRICA,dx.ASIA,dx.CHINA,dx.EUROPE,dx.GLOBAL,dx.INDIA,dx.JAPAN,dx.NORTH_AMERICA,dx.OCEANIA,dx.OVERSEA,dx.SOUTH_AMERICA];let ux=function(e){return e.CHINA=\"CN\",e.ASIA=\"AS\",e.NORTH_AMERICA=\"NA\",e.EUROPE=\"EU\",e.JAPAN=\"JP\",e.INDIA=\"IN\",e.KOREA=\"KR\",e.HKMC=\"HK\",e.US=\"US\",e.OCEANIA=\"OC\",e.SOUTH_AMERICA=\"SA\",e.AFRICA=\"AF\",e.OVERSEA=\"OVERSEA\",e.GLOBAL=\"GLOBAL\",e.EXTENSIONS=\"GLOBAL\",e}({});const hx={CHINA:{},ASIA:{CODE:ux.ASIA,WEBCS_DOMAIN:[\"ap-web-1-asia.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-asia.agora.io\"],PROXY_CS:[\"proxy-ap-web-asia.agora.io\"],CDS_AP:[\"cds-ap-web-asia.agora.io\",\"cds-ap-web-asia2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-asia.agora.io\",\"sua-ap-web-asia2.agora.io\"],UAP_AP:[\"uap-ap-web-asia.agora.io\",\"uap-ap-web-asia2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-asia.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-asia.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-asia.agora.io\"],PROXY_SERVER_TYPE3:[\"southeast-asia.webrtc-cloud-proxy.sd-rtn.com\"]},NORTH_AMERICA:{CODE:ux.NORTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-north-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-north-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-america.agora.io\"],CDS_AP:[\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],UAP_AP:[\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-north-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-north-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-north-america.agora.io\"],PROXY_SERVER_TYPE3:[\"east-usa.webrtc-cloud-proxy.sd-rtn.com\"]},EUROPE:{CODE:ux.EUROPE,WEBCS_DOMAIN:[\"ap-web-1-europe.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-europe.agora.io\"],PROXY_CS:[\"proxy-ap-web-europe.agora.io\"],CDS_AP:[\"cds-ap-web-europe.agora.io\",\"cds-ap-web-europe2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-europe.agora.io\",\"sua-ap-web-europe.agora.io\"],UAP_AP:[\"uap-ap-web-europe.agora.io\",\"uap-ap-web-europe2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-europe.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-europe.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-europe.agora.io\"],PROXY_SERVER_TYPE3:[\"europe.webrtc-cloud-proxy.sd-rtn.com\"]},JAPAN:{CODE:ux.JAPAN,WEBCS_DOMAIN:[\"ap-web-1-japan.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-japan.agora.io\"],PROXY_CS:[\"proxy-ap-web-japan.agora.io\"],CDS_AP:[\"cds-ap-web-japan.agora.io\",\"cds-ap-web-japan2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-japan.agora.io\",\"sua-ap-web-japan2.agora.io\"],UAP_AP:[\"uap-ap-web-japan.agora.io\",\"uap-ap-web-japan2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-japan.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-japan.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-japan.agora.io\"],PROXY_SERVER_TYPE3:[\"japan.webrtc-cloud-proxy.sd-rtn.com\"]},INDIA:{CODE:ux.INDIA,WEBCS_DOMAIN:[\"ap-web-1-india.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-india.agora.io\"],PROXY_CS:[\"proxy-ap-web-india.agora.io\"],CDS_AP:[\"cds-ap-web-india.agora.io\",\"cds-ap-web-india2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-india.agora.io\",\"sua-ap-web-india2.agora.io\"],UAP_AP:[\"uap-ap-web-india.agora.io\",\"uap-ap-web-india2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-india.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-india.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-india.agora.io\"],PROXY_SERVER_TYPE3:[\"india.webrtc-cloud-proxy.sd-rtn.com\"]},KOREA:{CODE:ux.KOREA,WEBCS_DOMAIN:[\"ap-web-1-korea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-korea.agora.io\"],PROXY_CS:[\"proxy-ap-web-korea.agora.io\"],CDS_AP:[\"cds-ap-web-korea.agora.io\",\"cds-ap-web-korea2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-korea.agora.io\",\"sua-ap-web-korea2.agora.io\"],UAP_AP:[\"uap-ap-web-korea.agora.io\",\"uap-ap-web-korea2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-korea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-korea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-korea.agora.io\"],PROXY_SERVER_TYPE3:[\"korea.webrtc-cloud-proxy.sd-rtn.com\"]},HKMC:{CODE:ux.HKMC,WEBCS_DOMAIN:[\"ap-web-1-hkmc.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-hkmc.agora.io\"],PROXY_CS:[\"proxy-ap-web-hkmc.agora.io\"],CDS_AP:[\"cds-ap-web-hkmc.agora.io\",\"cds-ap-web-hkmc2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-hkmc.agora.io\",\"sua-ap-web-hkmc2.agora.io\"],UAP_AP:[\"uap-ap-web-hkmc.agora.io\",\"uap-ap-web-hkmc2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-hkmc.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-hkmc.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-hkmc.agora.io\"],PROXY_SERVER_TYPE3:[\"hkmc.webrtc-cloud-proxy.sd-rtn.com\"]},US:{CODE:ux.US,WEBCS_DOMAIN:[\"ap-web-1-us.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-us.agora.io\"],PROXY_CS:[\"proxy-ap-web-us.agora.io\"],CDS_AP:[\"cds-ap-web-us.agora.io\",\"cds-ap-web-us2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-us.agora.io\",\"sua-ap-web-us2.agora.io\"],UAP_AP:[\"uap-ap-web-us.agora.io\",\"uap-ap-web-us2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-us.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-us.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-us.agora.io\"],PROXY_SERVER_TYPE3:[\"us.webrtc-cloud-proxy.sd-rtn.com\"]},OVERSEA:{CODE:ux.OVERSEA,WEBCS_DOMAIN:[\"ap-web-1-oversea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oversea.agora.io\"],PROXY_CS:[\"proxy-ap-web-oversea.agora.io\"],CDS_AP:[\"cds-ap-web-oversea.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oversea.agora.io\"],UAP_AP:[\"uap-ap-web-oversea.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oversea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oversea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oversea.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.agora.io\"]},GLOBAL:{CODE:ux.GLOBAL,WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-ap-web-3.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-ap-web-3.agora.io\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-ap-web-3.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\"]},OCEANIA:{CODE:ux.OCEANIA,WEBCS_DOMAIN:[\"ap-web-1-oceania.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oceania.agora.io\"],PROXY_CS:[\"proxy-ap-web-oceania.agora.io\"],CDS_AP:[\"cds-ap-web-oceania.agora.io\",\"cds-ap-web-oceania2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oceania.agora.io\",\"sua-ap-web-oceania2.agora.io\"],UAP_AP:[\"uap-ap-web-oceania.agora.io\",\"uap-ap-web-oceania2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oceania.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oceania.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oceania.agora.io\"],PROXY_SERVER_TYPE3:[\"oceania.webrtc-cloud-proxy.sd-rtn.com\"]},SOUTH_AMERICA:{CODE:ux.SOUTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-south-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-south-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-south-america.agora.io\"],CDS_AP:[\"cds-ap-web-south-america.agora.io\",\"cds-ap-web-south-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-south-america.agora.io\",\"sua-ap-web-south-america2.agora.io\"],UAP_AP:[\"uap-ap-web-south-america.agora.io\",\"uap-ap-web-south-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-south-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-south-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-america.agora.io\"],PROXY_SERVER_TYPE3:[\"south-america.webrtc-cloud-proxy.sd-rtn.com\"]},AFRICA:{CODE:ux.AFRICA,WEBCS_DOMAIN:[\"ap-web-1-africa.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-africa.agora.io\"],PROXY_CS:[\"proxy-ap-web-africa.agora.io\"],CDS_AP:[\"cds-ap-web-africa.agora.io\",\"cds-ap-web-africa2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-africa.agora.io\",\"sua-ap-web-africa2.agora.io\"],UAP_AP:[\"uap-ap-web-africa.agora.io\",\"uap-ap-web-africa2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-africa.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-africa.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-africa.agora.io\"],PROXY_SERVER_TYPE3:[\"africa.webrtc-cloud-proxy.sd-rtn.com\"]},EXTENSIONS:{}};pD&&(hx.CHINA={CODE:ux.CHINA,WEBCS_DOMAIN:[\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"proxy-web.ap.sd-rtn.com\"],CDS_AP:[\"cds-web-2.ap.sd-rtn.com\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-web-2.ap.sd-rtn.com\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-web-2.ap.sd-rtn.com\",\"uap-web-4.ap.sd-rtn.com\"],EVENT_REPORT_DOMAIN:[\"web-3.statscollector.sd-rtn.com\"],EVENT_REPORT_BACKUP_DOMAIN:[\"web-4.statscollector.sd-rtn.com\"],LOG_UPLOAD_SERVER:[\"logservice-china.agora.io\"],PROXY_SERVER_TYPE3:[\"east-cn.webrtc-cloud-proxy.sd-rtn.com\"]});let px=function(e){return e.UPDATE_BITRATE_LIMIT=\"update_bitrate_limit\",e.UPDATE_CLIENT_ROLE_OPTIONS=\"update_client_role_options\",e.UPDATE_REMOTE_VIDEO_STREAM_TYPE=\"update_remote_video_stream_type\",e.FALLBACK_TO_HLS=\"fallback_to_hls\",e.UPDATE_VOS_CONFIGURE=\"update_vos_configure\",e}({});function _x(e){return!!e&&(!(!e.uplink||!e.id)&&(void 0!==e.uplink.max_bitrate&&void 0!==e.uplink.min_bitrate))}class Ex extends NO{constructor(e,t){super(),iA(this,\"onICEConnectionStateChange\",void 0),iA(this,\"onConnectionStateChange\",void 0),iA(this,\"onDTLSTransportStateChange\",void 0),iA(this,\"onDTLSTransportError\",void 0),iA(this,\"onICETransportStateChange\",void 0),iA(this,\"onFirstAudioReceived\",void 0),iA(this,\"onFirstVideoReceived\",void 0),iA(this,\"onFirstAudioDecoded\",void 0),iA(this,\"onFirstVideoDecoded\",void 0),iA(this,\"onFirstVideoRender\",void 0),iA(this,\"onFirstVideoBufferReady\",void 0),iA(this,\"onFirstVideoDecodedTimeout\",void 0),iA(this,\"onSelectedLocalCandidateChanged\",void 0),iA(this,\"onSelectedRemoteCandidateChanged\",void 0),iA(this,\"onICECandidateError\",void 0),iA(this,\"getLocalVideoStats\",void 0)}}class mx extends Ex{constructor(e,t){super(e,t),iA(this,\"establishPromise\",void 0)}}let fx=function(e){return e.VIDEO=\"video\",e.AUDIO=\"audio\",e}({}),Sx=function(e){return e.UDP_RELAY=\"udp_relay\",e.UDP_TCP_RELAY=\"udp_tcp_relay\",e.TCP_RELAY=\"tcp_relay\",e.RELAY=\"relay\",e}({}),gx=function(e){return e[e.FIRST_CONNECTION=0]=\"FIRST_CONNECTION\",e[e.UDP_TCP_RESTART=1]=\"UDP_TCP_RESTART\",e[e.RELAY_RESTART=2]=\"RELAY_RESTART\",e[e.TCP_RESTART=3]=\"TCP_RESTART\",e[e.OLD_FIRST_CONNECTION=10]=\"OLD_FIRST_CONNECTION\",e[e.OLD_RESTART=11]=\"OLD_RESTART\",e[e.DISCONNECTED_OR_FAILED=20]=\"DISCONNECTED_OR_FAILED\",e}({});const Tx=[\"disconnected\",\"failed\"];let Rx=function(e){return e.LocalVideoTrack=\"videoTrack\",e.LocalAudioTrack=\"audioTrack\",e.LocalVideoLowTrack=\"videoLowTrack\",e}({}),Cx=function(e){return e.New=\"new\",e.Connected=\"connected\",e.Reconnecting=\"reconnecting\",e.Disconnected=\"disconnected\",e}({}),vx=function(e){return e.AudioMetadata=\"audioMetadata\",e.AudioPts=\"audioPts\",e.StateChange=\"stateChange\",e.IceConnectionStateChange=\"iceConnectionStateChange\",e.RequestMuteLocal=\"requestMuteLocal\",e.RequestUnmuteLocal=\"requestUnmuteLocal\",e.RequestRePublish=\"requestRePublish\",e.RequestRePublishDataChannel=\"requestRePublishDataChannel\",e.RequestReSubscribe=\"requestReSubscribe\",e.RequestUploadStats=\"requestUploadStats\",e.RequestUpload=\"requestUpload\",e.MediaReconnectStart=\"MediaReconnectStart\",e.MediaReconnectEnd=\"MediaReconnectEnd\",e.NeedSignalRTT=\"NeedSignalRTT\",e.RequestRestartICE=\"RequestRestartIce\",e.PeerConnectionStateChange=\"PeerConnectionStateChange\",e.RequestReconnect=\"RequestReconnect\",e.RequestReconnectPC=\"RequestReconnectPC\",e.RequestUnpublishForReconnectPC=\"RequestUnpublishForReconnectPC\",e.P2PLost=\"P2PLost\",e.UpdateVideoEncoder=\"UpdateVideoEncoder\",e.ConnectionTypeChange=\"ConnectionTypeChange\",e.RequestLowStreamParameter=\"RequestLowStreamParameter\",e.QueryClientConnectionState=\"QueryClientConnectionState\",e.LocalCandidate=\"LocalCandidate\",e.RequestP2PMuteLocal=\"requestP2PMuteLocal\",e.RequestP2PUnPublish=\"RequestP2PUnPublish\",e.RequestP2PUnmuteRemote=\"RequestP2PUnmuteRemote\",e.RequestP2PMuteRemote=\"RequestP2PMuteRemote\",e.RequestP2PRestartICE=\"RequestP2PRestartICE\",e.FirstVideoPreRender=\"FirstVideoPreRender\",e.FirstVideoBufferReady=\"FirstVideoBufferReady\",e}({}),yx=function(e){return e.CONNECTING=\"CONNECTING\",e.RECONNECTING=\"RECONNECTING\",e.CONNECTED=\"CONNECTED\",e.CLOSED=\"CLOSED\",e}({}),Ix=function(e){return e[e.CONNECT_AP=0]=\"CONNECT_AP\",e[e.AP_CONNECTED=1]=\"AP_CONNECTED\",e[e.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",e[e.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",e[e.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",e[e.CONNECT_WORKER=5]=\"CONNECT_WORKER\",e[e.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",e[e.CLOSED=7]=\"CLOSED\",e}({}),Ax=function(e){return e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.STATE_CHANGE=\"state-change\",e.INSPECT_RESULT=\"inspect-result\",e.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",e.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\",e}({}),bx=function(e){return e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.MULTI_IP=\"MULTI_IP\",e.TIMEOUT=\"TIMEOUT\",e.OFFLINE=\"OFFLINE\",e.LEAVE=\"LEAVE\",e.P2P_FAILED=\"P2P_FAILED\",e.FALLBACK=\"FALLBACK\",e}({}),wx=function(e){return e.CONNECTED=\"transmitter:connected\",e.RECONNECTING=\"transmitter:reconnecting\",e.WILL_RECONNECT=\"transmitter:will_reconnect\",e.CLOSED=\"transmitter:closed\",e.FAILED=\"transmitter:failed\",e.ON_MESSAGE=\"transmitter:on_message\",e.REQUEST_NEW_URLS=\"transmitter:request_new_urls\",e.RECONNECT_CREATE_CONNECTION=\"transmitter:reconnect_create_connection\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"transmitter:on_token_privilege_did_expire\",e.TO_CONNECT_DATACHANNEL=\"transmitter:to_connect_datachannel\",e.FAILBACK=\"transmitter:failback\",e.PRE_CONNECT_PC=\"transmitter:pre_connect_pc\",e}({}),Ox=function(e){return e.CAMERA_CHANGED=\"camera-changed\",e.MICROPHONE_CHANGED=\"microphone-changed\",e.PLAYBACK_DEVICE_CHANGED=\"playback-device-changed\",e.AUDIO_AUTOPLAY_FAILED=\"audio-autoplay-failed\",e.AUTOPLAY_FAILED=\"autoplay-failed\",e.AUDIO_CONTEXT_STATE_CHANGED=\"audio-context-state-changed\",e.SECURITY_POLICY_VIOLATION=\"security-policy-violation\",e}({}),Nx=function(e){return e.CONNECTING=\"CONNECTING\",e.RECONNECTING=\"RECONNECTING\",e.CONNECTED=\"CONNECTED\",e.CLOSED=\"CLOSED\",e}({}),Dx=function(e){return e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.STATE_CHANGE=\"state-change\",e.INSPECT_RESULT=\"inspect-result\",e.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",e.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\",e}({}),Px=function(e){return e[e.CONNECT_AP=0]=\"CONNECT_AP\",e[e.AP_CONNECTED=1]=\"AP_CONNECTED\",e[e.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",e[e.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",e[e.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",e[e.CONNECT_WORKER=5]=\"CONNECT_WORKER\",e[e.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",e[e.CLOSED=7]=\"CLOSED\",e}({}),Lx=function(e){return e.CALL=\"call\",e.CANDIDATE=\"candidate\",e.PUBLISH=\"publish\",e.UNPUBLISH=\"unpublish\",e.CONTROL=\"control\",e.RESTART_ICE=\"restart_ice\",e.ACK=\"ack\",e.RESPONSE=\"response\",e.JOIN=\"join\",e.CHECK=\"check\",e}({}),kx=function(e){return e.ABORT=\"abort\",e}({}),Mx=function(e){return e.MUTE_LOCAL_AUDIO=\"mute_local_audio\",e.MUTE_LOCAL_VIDEO=\"mute_local_video\",e.UNMUTE_LOCAL_AUDIO=\"unmute_local_audio\",e.UNMUTE_LOCAL_VIDEO=\"unmute_local_video\",e}({}),Ux=function(e){return e.P2P_TOKEN_TIMEOUT=\"p2p_token_timeout\",e.P2P_TOKEN_CHANGED=\"p2p_token_changed\",e}({});const Vx={[PV.ACCESS_POINT]:{[MV.NO_FLAG_SET]:{desc:\"flag is zero\",retry:!1},[MV.FLAG_SET_BUT_EMPTY]:{desc:\"flag is empty\",retry:!1},[MV.INVALID_FALG_SET]:{desc:\"invalid flag\",retry:!1},[MV.FLAG_SET_BUT_NO_RE]:{desc:\"flag set unilbs but no request\",retry:!1},[MV.INVALID_SERVICE_ID]:{desc:\"invalid service id\",retry:!1},[MV.NO_SERVICE_AVAILABLE]:{desc:\"no service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_P2P]:{desc:\"no unilbs p2p service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_VOICE]:{desc:\"no unilbs voice service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:\"no unilbs webrtc service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_CDS]:{desc:\"no cds service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_CDN]:{desc:\"no cdn dispatcher service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_TDS]:{desc:\"no tds service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_REPORT]:{desc:\"no unilbs report service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:\"no app center service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_ENV0]:{desc:\"no unilbs sig env0 service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_VOET]:{desc:\"no unilbs voet service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:\"no string uid service available\",retry:!0},[MV.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:\"no webrtc unilbs service available\",retry:!0}},[PV.UNILBS]:{[kV.INVALID_VENDOR_KEY]:{desc:\"invalid vendor key, can not find appid\",retry:!1},[kV.INVALID_CHANNEL_NAME]:{desc:\"invalid channel name\",retry:!1},[kV.INTERNAL_ERROR]:{desc:\"unilbs internal error\",retry:!1},[kV.NO_AUTHORIZED]:{desc:\"invalid token, authorized failed\",retry:!1},[kV.DYNAMIC_KEY_TIMEOUT]:{desc:\"dynamic key or token timeout\",retry:!1},[kV.NO_ACTIVE_STATUS]:{desc:\"no active status\",retry:!1},[kV.DYNAMIC_KEY_EXPIRED]:{desc:\"dynamic key expired\",retry:!1},[kV.STATIC_USE_DYNAMIC_KEY]:{desc:\"static use dynamic key\",retry:!1},[kV.DYNAMIC_USE_STATIC_KEY]:{desc:\"dynamic use static key\",retry:!1},[kV.USER_OVERLOAD]:{desc:\"amount of users over load\",retry:!1},[kV.FORBIDDEN_REGION]:{desc:\"the request is forbidden in this area\",retry:!1},[kV.CANNOT_MEET_AREA_DEMAND]:{desc:\"unable to allocate services in this area\",retry:!1},[kV.REQ_DOWNGRADE_FALLBACK]:{desc:\"request downgrade fallback\",retry:!1}},[PV.STRING_UID_ALLOCATOR]:{[LV.IIIEGAL_APPID]:{desc:\"invalid appid\",retry:!1},[LV.IIIEGAL_UID]:{desc:\"invalid string uid\",retry:!1},[LV.INTERNAL_ERROR]:{desc:\"string uid allocator internal error\",retry:!0}}};function xx(e){const t=Vx[Math.floor(e/1e4)];if(!t)return{desc:\"unknown error\",retry:!1};const i=t[e%1e4];if(!i){if(Math.floor(e/1e4)===PV.ACCESS_POINT){const t=e%1e4;if(\"1\"===t.toString()[0])return{desc:e.toString(),retry:!1};if(\"2\"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:\"unknown error\",retry:!1}}return i}const Fx={[UV.K_TIMESTAMP_EXPIRED]:{desc:\"K_TIMESTAMP_EXPIRED\",action:\"failed\"},[UV.K_CHANNEL_PERMISSION_INVALID]:{desc:\"K_CHANNEL_PERMISSION_INVALID\",action:\"failed\"},[UV.K_CERTIFICATE_INVALID]:{desc:\"K_CERTIFICATE_INVALID\",action:\"failed\"},[UV.K_CHANNEL_NAME_EMPTY]:{desc:\"K_CHANNEL_NAME_EMPTY\",action:\"failed\"},[UV.K_CHANNEL_NOT_FOUND]:{desc:\"K_CHANNEL_NOT_FOUND\",action:\"failed\"},[UV.K_TICKET_INVALID]:{desc:\"K_TICKET_INVALID\",action:\"failed\"},[UV.K_CHANNEL_CONFLICTED]:{desc:\"K_CHANNEL_CONFLICTED\",action:\"failed\"},[UV.K_SERVICE_NOT_READY]:{desc:\"K_SERVICE_NOT_READY\",action:\"tryNext\"},[UV.K_SERVICE_TOO_HEAVY]:{desc:\"K_SERVICE_TOO_HEAVY\",action:\"tryNext\"},[UV.K_UID_BANNED]:{desc:\"K_UID_BANNED\",action:\"failed\"},[UV.K_IP_BANNED]:{desc:\"K_IP_BANNED\",action:\"failed\"},[UV.DATASTREAM2_NOT_AVAILABLE]:{desc:\"DATASTREAM2_NOT_AVAILABLE\",action:\"quit\"},[UV.K_AUTO_REBALANCE]:{desc:\"k_AUTO_REBALANCE\",action:\"recover\"},[UV.K_VOS_FALLBACK]:{desc:\"K_VOS_FALLBACK\",action:\"tryNext\"},[UV.ERR_INVALID_VENDOR_KEY]:{desc:\"ERR_INVALID_VENDOR_KEY\",action:\"failed\"},[UV.ERR_INVALID_CHANNEL_NAME]:{desc:\"ERR_INVALID_CHANNEL_NAME\",action:\"failed\"},[UV.WARN_NO_AVAILABLE_CHANNEL]:{desc:\"WARN_NO_AVAILABLE_CHANNEL\",action:\"failed\"},[UV.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:\"WARN_LOOKUP_CHANNEL_TIMEOUT\",action:\"tryNext\"},[UV.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:\"WARN_LOOKUP_CHANNEL_REJECTED\",action:\"failed\"},[UV.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:\"WARN_OPEN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[UV.WARN_OPEN_CHANNEL_REJECTED]:{desc:\"WARN_OPEN_CHANNEL_REJECTED\",action:\"failed\"},[UV.WARN_REQUEST_DEFERRED]:{desc:\"WARN_REQUEST_DEFERRED\",action:\"failed\"},[UV.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:\"ERR_DYNAMIC_KEY_TIMEOUT\",action:\"failed\"},[UV.ERR_NO_AUTHORIZED]:{desc:\"ERR_NO_AUTHORIZED\",action:\"failed\"},[UV.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:\"ERR_VOM_SERVICE_UNAVAILABLE\",action:\"tryNext\"},[UV.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:\"ERR_NO_CHANNEL_AVAILABLE_CODE\",action:\"failed\"},[UV.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:\"ERR_MASTER_VOCS_UNAVAILABLE\",action:\"tryNext\"},[UV.ERR_INTERNAL_ERROR]:{desc:\"ERR_INTERNAL_ERROR\",action:\"tryNext\"},[UV.ERR_NO_ACTIVE_STATUS]:{desc:\"ERR_NO_ACTIVE_STATUS\",action:\"failed\"},[UV.ERR_INVALID_UID]:{desc:\"ERR_INVALID_UID\",action:\"failed\"},[UV.ERR_DYNAMIC_KEY_EXPIRED]:{desc:\"ERR_DYNAMIC_KEY_EXPIRED\",action:\"failed\"},[UV.ERR_STATIC_USE_DYANMIC_KE]:{desc:\"ERR_STATIC_USE_DYANMIC_KE\",action:\"failed\"},[UV.ERR_DYNAMIC_USE_STATIC_KE]:{desc:\"ERR_DYNAMIC_USE_STATIC_KE\",action:\"failed\"},[UV.ERR_NO_VOCS_AVAILABLE]:{desc:\"ERR_NO_VOCS_AVAILABLE\",action:\"tryNext\"},[UV.ERR_NO_VOS_AVAILABLE]:{desc:\"ERR_NO_VOS_AVAILABLE\",action:\"tryNext\"},[UV.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:\"ERR_JOIN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[UV.ERR_JOIN_BY_MULTI_IP]:{desc:\"ERR_JOIN_BY_MULTI_IP\",action:\"recover\"},[UV.ERR_NOT_JOINED]:{desc:\"ERR_NOT_JOINED\",action:\"failed\"},[UV.ERR_REPEAT_JOIN_REQUEST]:{desc:\"ERR_REPEAT_JOIN_REQUEST\",action:\"quit\"},[UV.ERR_REPEAT_JOIN_CHANNEL]:{desc:\"ERR_REPEAT_JOIN_CHANNEL\",action:\"quit\"},[UV.ERR_INVALID_STRINGUID]:{desc:\"ERR_INVALID_STRINGUID\",action:\"failed\"},[UV.ERR_TOO_MANY_USERS]:{desc:\"ERR_TOO_MANY_USERS\",action:\"tryNext\"},[UV.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[UV.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[UV.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",action:\"success\"},[UV.ERR_PUBLISH_REQUEST_INVALID]:{desc:\"ERR_PUBLISH_REQUEST_INVALID\",action:\"failed\"},[UV.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:\"ERR_SUBSCRIBE_REQUEST_INVALID\",action:\"failed\"},[UV.ERR_NOT_SUPPORTED_MESSAGE]:{desc:\"ERR_NOT_SUPPORTED_MESSAGE\",action:\"failed\"},[UV.ERR_ILLEAGAL_PLUGIN]:{desc:\"ERR_ILLEAGAL_PLUGIN\",action:\"failed\"},[UV.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:\"ILLEGAL_CLIENT_ROLE_LEVEL\",action:\"failed\"},[UV.ERR_REJOIN_TOKEN_INVALID]:{desc:\"ERR_REJOIN_TOKEN_INVALID\",action:\"failed\"},[UV.ERR_REJOIN_USER_NOT_JOINED]:{desc:\"ERR_REJOIN_NOT_JOINED\",action:\"failed\"},[UV.ERR_INVALID_OPTIONAL_INFO]:{desc:\"ERR_INVALID_OPTIONAL_INFO\",action:\"quit\"},[UV.ERR_TEST_RECOVER]:{desc:\"ERR_TEST_RECOVER\",action:\"recover\"},[UV.ERR_TEST_TRYNEXT]:{desc:\"ERR_TEST_TRYNEXT\",action:\"recover\"},[UV.ERR_TEST_RETRY]:{desc:\"ERR_TEST_RETRY\",action:\"recover\"},[UV.ILLEGAL_AES_PASSWORD]:{desc:\"ERR_TEST_RETRY\",action:\"failed\"},[UV.ERR_TOO_MANY_BROADCASTERS]:{desc:\"ERR_TOO_MANY_BROADCASTERS\",action:\"failed\"},[UV.ERR_TOO_MANY_SUBSCRIBERS]:{desc:\"ERR_TOO_MANY_SUBSCRIBERS\",action:\"failed\"},[UV.ERR_LICENSE_ILLEGAL]:{desc:\"ERR_LICENSE_ILLEGAL\",action:\"quit\"},[UV.ERR_LICENSE_MISSING]:{desc:\"ERR_LICENSE_MISSING\",action:\"quit\"},[UV.ERR_LICENSE_EXPIRED]:{desc:\"ERR_LICENSE_EXPIRED\",action:\"quit\"},[UV.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:\"ERR_LICENSE_MINUTES_EXCEEDED\",action:\"quit\"},[UV.ERR_LICENSE_PERIOD_INVALID]:{desc:\"ERR_LICENSE_PERIOD_INVALID\",action:\"quit\"},[UV.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",action:\"quit\"}};function Bx(e){const t=Fx[e];return t||{desc:\"UNKNOWN_ERROR_\".concat(e),action:\"failed\"}}function jx(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Gx(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?jx(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):jx(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Wx(e,t){if(\"string\"==typeof e)return e;const{proxy:i,host:n,port:r}=e;if(t){const e=CD(\"JOIN_GATEWAY_FALLBACK_PORT\")||443;return 443===e?\"wss://\".concat(n,\"/ws/?p=\").concat(Number(r)+150):\"wss://\".concat(n,\":\").concat(e,\"/ws/?p=\").concat(Number(r)+150)}return i?\"wss://\".concat(i,\"/ws/?h=\").concat(n,\"&p=\").concat(r):\"wss://\".concat(n,\":\").concat(r)}const Hx=/wss:\\/\\/(.+)\\/ws\\/\\?h=(.+)&p=([0-9]+)\\/?/,Kx=/wss:\\/\\/(.+)\\/ws\\/\\?p=([0-9]+)\\/?/,Yx=/wss:\\/\\/(.+):([0-9]+)\\/?/,zx=/wss:\\/\\/(.[^\\/]+)\\/?/;let qx=0;class Xx{constructor(e,t){iA(this,\"id\",0),iA(this,\"store\",void 0),iA(this,\"recordIndex\",void 0),iA(this,\"websockets\",[]),iA(this,\"try443PortDuration\",2e3),iA(this,\"forceCloseWSDuration\",5e3),iA(this,\"try443PortTimeout\",null),iA(this,\"forceCloseTimeout\",null),iA(this,\"isTry443PortFailed\",!1),iA(this,\"isNormalPortFailed\",!1),iA(this,\"useDoubleDomain\",!1),iA(this,\"useProxy\",!1),iA(this,\"startTime\",Date.now()),this.id=++qx,this.try443PortDuration=CD(\"JOIN_GATEWAY_TRY_443PORT_DURATION\")||2e3,this.forceCloseWSDuration=e||5e3,this.store=t}closeAllWebsockets(){this.websockets.forEach((e=>{e.onopen=null,e.onclose=null,e.onmessage=null,e.close()})),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout),this.forceCloseTimeout=null,this.try443PortTimeout=null}logger(){var e;const t=Date.now()-this.startTime;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];iP.debug(\"[choose-best-ws \".concat(null===(e=this.store)||void 0===e?void 0:e.clientId,\" \").concat(this.id,\"] \").concat(t,\"ms:\"),...n)}createWebSocket(e,t,i){this.logger(\"createWebSocket:\",e,{isTry443Port:t,hasTimeoutDetection:i});const n=CD(\"GATEWAY_DOMAINS\"),r=Date.now(),o=[],s=n.find((t=>{var i;return Ln(i=e.host).call(i,t)}));s||(this.useDoubleDomain=!1);const a=[];if(this.useDoubleDomain)n.forEach((i=>{a.push(Wx(Gx(Gx({},e),{},{host:e.host.replace(s,i)}),t))}));else{const i=Gx({},e);if(t&&s){const e=n.find((e=>e!==s));e&&(i.host=i.host.replace(s,e))}a.push(Wx(i,t))}try{a.forEach((e=>{const t=new WebSocket(e);t.binaryType=\"arraybuffer\",o.push(t),this.logger(\"ws is connecting:\",t.url)}))}catch(n){if(this.logger(\"ws create failed\"),o.forEach((e=>e.close())),o.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e,t,i);if(!t&&443!==Number(e.port))return this.createWebSocket(e,!0,i);throw new uP(hO.WS_ERR,\"init websocket failed! Error: \".concat(n.toString()))}const c=Cw();this.store&&this.store.recordJoinChannelService({urls:o.map((e=>e.url)),service:\"gateway\"},this.recordIndex),o.forEach((e=>{e.onopen=()=>{this.logger(\"onopen: ws \".concat(e.url,\" open cost \").concat(Date.now()-r,\"ms\")),this.websockets.forEach((t=>{t!==e&&(t.onopen=null,t.onclose=null,t.onmessage=null,t.close(),this.logger(\"close backup websocket: \".concat(t.url)))})),this.websockets.length=0,c.resolve(e)},e.onclose=i=>{this.logger(\"onclose: ws \".concat(e.url,\" closed cost \").concat(Date.now()-r,\"ms state: \").concat(e.readyState));const n=o.every((e=>e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING));this.logger(\"\".concat(t?\"443\":\"47xx\",\" websocket closed, all failed: \").concat(n)),n&&(t||this.isTry443PortFailed||this.useProxy)?(this.logger(\"onclose: all websocket is closed, \".concat(i.reason)),c.reject({code:i.code,reason:ax.A_ROUND_WS_FAILED})):!t&&n&&!this.isNormalPortFailed&&this.try443PortTimeout&&(this.logger(\"all 47xx websocket is closed, try 443 port\"),this.clearTimeout(),l()),t?this.isTry443PortFailed=n:this.isNormalPortFailed=n},e.onmessage=t=>this.logger(\"\".concat(e.url,\" onmessage: \").concat(t.data))})),this.websockets.push(...o);const d=()=>{this.websockets.forEach((e=>e.readyState!==WebSocket.OPEN&&e.close()))},l=()=>{if(c.isResolved)return d();Dw().os===Aw.MAC_OS&&Bw()&&d(),this.createWebSocket(e,!0,!0).then((e=>{c.resolve(e)})).catch((e=>{this.isNormalPortFailed&&c.reject(e),this.logger(\"try 443 port to create ws failed\")})),this.forceCloseTimeout=window.setTimeout((()=>{this.logger(\"5s timeout close un-opens, isWebsocket created: \",c.isResolved),this.forceCloseTimeout=null,d()}),this.forceCloseWSDuration)};return i||(()=>{if(t||this.useProxy)return this.logger(\"add 5s timeout at \".concat(t?\"try-443\":\"proxy\",\" condition\")),this.forceCloseTimeout=window.setTimeout((()=>{this.forceCloseTimeout=null,d()}),this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout((()=>{this.logger(\"2s timeout, isWebsocket created: \",c.isResolved),this.try443PortTimeout=null,l()}),this.try443PortDuration)})(),c.promise}chooseBestWebsocket(e,t,i,n){return this.useDoubleDomain=!!t,\"string\"==typeof e&&(e=function(e){let t,i,n;return[,t,i,n]=e.match(Hx)||[],t||([,i,n]=e.match(Kx)||[]),i&&n||([,i,n]=e.match(Yx)||[]),i&&n||([,i]=e.match(zx)||[]),i||iP.warning(\"un-destructible url: \",e),{proxy:t,host:i,port:n||\"443\"}}(e)),this.recordIndex=n,this.useProxy=!!e.proxy,i&&this.useProxy&&(iP.warn(\"cannot use 443 only when use proxy\"),i=!1),this.createWebSocket(e,!!i,!1).finally((()=>this.clearTimeout()))}}function Jx(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class Qx extends NO{get url(){return this.websocket&&this.websocket.url||this._websocketUrl}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;Ln(t=[\"tryNext\",\"recover\"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,\"reconnecting\"===this._state?this.emit(WV.RECONNECTING,this.reconnectReason):\"connected\"===this._state?this.emit(WV.CONNECTED):\"closed\"===this._state?this.emit(WV.CLOSED):\"failed\"===this._state&&this.emit(WV.FAILED))}resetReconnectCount(e){iP.debug(\"websocket reset reconnect count, reason: \"+e),this.reconnectCount=0}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;super(),iA(this,\"_websocketUrl\",null),iA(this,\"connectionID\",0),iA(this,\"currentURLIndex\",0),iA(this,\"urls\",[]),iA(this,\"_reconnectMode\",\"tryNext\"),iA(this,\"reconnectReason\",void 0),iA(this,\"_initMutex\",void 0),iA(this,\"name\",void 0),iA(this,\"_state\",\"closed\"),iA(this,\"reconnectInterrupter\",void 0),iA(this,\"websocket\",void 0),iA(this,\"retryConfig\",void 0),iA(this,\"reconnectCount\",0),iA(this,\"forceCloseTimeout\",5e3),iA(this,\"onlineReconnectListener\",void 0),iA(this,\"useCompress\",void 0),iA(this,\"tryDoubleDomain\",!1),iA(this,\"use443PortOnly\",!1),iA(this,\"wsInflateLength\",0),iA(this,\"wsDeflateLength\",0),iA(this,\"closeEstablishingWs\",(()=>{})),iA(this,\"store\",void 0),iA(this,\"joinGatewayRecordIndex\",void 0),this.store=o,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Jx(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Jx(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t),this.useCompress=i,this.tryDoubleDomain=n,this.use443PortOnly=r,this._initMutex=new PN(\"websocket\",o?o.clientId:void 0);const{timeout:s,timeoutFactor:a}=t,c=Math.max(300,Math.floor(3*s/5)),d=Math.max(1.2,Math.floor(8*a)/10);KO.ONLINE&&(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=d),QO.on(YO.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount(\"network state change: \".concat(t,\" -> \").concat(e)),e===KO.ONLINE?(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=d):(this.retryConfig.timeout=s,this.retryConfig.timeoutFactor=a))}))}getConnection(){return this.websocket||void 0}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=await this._initMutex.lock();this._reconnectMode=\"tryNext\",this.forceCloseTimeout=t,this.urls=e,this.state=\"connecting\";try{var n;const e=Cw(),t=this.urls[this.currentURLIndex];null===(n=this.store)||void 0===n||n.beforeConnect(),function(e){return!(EP()||CD(\"USE_NEW_TOKEN\")||!CD(\"ENABLE_PREALLOC_PC\")&&(null==e||!e.autoSubscribe||CD(\"FORCE_DISABLE_AUTO_SUB\")))}(this.store)&&this.emit(wx.PRE_CONNECT_PC),this.createWebSocketConnection(t).then(e.resolve).catch(e.reject),this.once(WV.CLOSED,(()=>{e.reject(new pO(hO.WS_DISCONNECT))})),this.once(WV.CONNECTED,e.resolve),await e.promise}catch(e){}finally{i()}}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount(\"close\"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout((()=>e.close()),500):e.close(),this.websocket=void 0,this._websocketUrl=null}this.state=e?\"failed\":\"closed\",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return void iP.warning(\"[\".concat(this.name,\"] can not reconnect, no websocket\"));void 0!==e&&(this.reconnectMode=e),iP.debug(\"[\".concat(this.name,\"] reconnect is triggered initiative\")),\"number\"==typeof this.joinGatewayRecordIndex&&this.store&&this.store.recordJoinChannelService({status:\"error\",errors:[new Error(t)]},this.joinGatewayRecordIndex);const i=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),i&&i.bind(this.websocket)({code:9999,reason:t})}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new pO(hO.WS_ABORT,\"websocket is not ready\");try{t||(e=JSON.stringify(e)),this.websocket.send(e)}catch(e){throw new pO(hO.WS_ERR,\"send websocket message error\"+e.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e){var t;const i=Cw();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const n=e=>{var t;null===(t=this.store)||void 0===t||t.signalChannelOpen(),iP.debug(\"[\".concat(this.name,\"] websocket opened:\"),e),this.reconnectMode=\"retry\",this.state=\"connected\",this.resetReconnectCount(\"opened\"),i.resolve()},r=async e=>{var t;if(iP.debug(\"[\".concat(this.name,\"] websocket close \").concat(null===(t=this.websocket)||void 0===t?void 0:t.url,\", code: \").concat(e.code,\", reason: \").concat(e.reason,\", current mode: \").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)i.reject(new pO(hO.WS_DISCONNECT,\"websocket close: \".concat(e.code))),this.close();else{\"connected\"===this.state&&(this.reconnectReason=e.reason,this.state=\"reconnecting\");const t=XO(this,WV.WILL_RECONNECT,this.reconnectMode,e.reason)||this.reconnectMode,n=await this.reconnectWithAction(t);if(\"closed\"===this.state)return void iP.debug(\"[\".concat(this.connectionID,\"] ws is closed, no need to reconnect\"));if(!n)return i.reject(new pO(hO.WS_DISCONNECT,\"websocket reconnect failed: \".concat(e.code))),this.close(!0);i.resolve()}},o=e=>{this.emit(WV.ON_MESSAGE,e)},s=e=>{iP.warn(\"[\".concat(this.connectionID,\"] ws open error \").concat(e))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),CD(\"GATEWAY_WSS_ADDRESS\")&&this.name.startsWith(\"gateway\")&&(e=CD(\"GATEWAY_WSS_ADDRESS\")),iP.debug(\"[\".concat(this.name,\"] start connect, url:\"),e);const a=null===(t=this.store)||void 0===t?void 0:t.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"gateway\"});try{var c;this._websocketUrl=Wx(e);const t=await this.chooseBestWebsocketConnection(e);this.websocket=t,n&&n(this.websocket.url),this.websocket.onclose=r,this.websocket.onmessage=o,this.websocket.onerror=s,null===(c=this.store)||void 0===c||c.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),this.joinGatewayRecordIndex=a}catch(e){const t=\"closed\"===this.state,n=e instanceof pO,o=n&&e.code===hO.WS_ABORT,s=n&&e.code===hO.WS_ERR,c=n?e.message:e&&(e.reason||e.toString());iP.warning(\"[choose-best-ws] chooseBestWebsocket error: \".concat(c)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:o?\"aborted\":\"error\",errors:[e]},a),t||s?(i.reject(t?new pO(hO.WS_DISCONNECT,\"websocket is closed: \".concat(c)):new pO(hO.WS_ERR,\"init websocket failed: \".concat(c))),s&&iP.error(\"[\".concat(this.name,\"] init websocket failed: \").concat(c))):r&&r(e)}return i.promise}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(0===this.urls.length)return!1;if(\"closed\"===this.state)return!1;iP.warning(\"[choose-best-ws] action: =>\",e),this.onlineReconnectListener||QO.isOnline||!QO.onlineWaiter||(this.onlineReconnectListener=QO.onlineWaiter.then((()=>{this.onlineReconnectListener=void 0})));let i=!0;if(this.reconnectInterrupter=()=>i=!1,t){const t=MN(this.reconnectCount,this.retryConfig);iP.debug(\"[\".concat(this.name,\"] wait \").concat(t,\"ms to reconnect websocket, mode: \").concat(e)),await rp.race([fN(t),this.onlineReconnectListener||new rp((()=>{}))])}if(\"closed\"===this._state||!i)return!1;this.reconnectCount+=1;const n=async(e,t)=>{this.emit(WV.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if(\"retry\"===e)await n(this.urls[this.currentURLIndex],e);else if(\"tryNext\"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction(\"recover\",!1);iP.debug(\"[\".concat(this.name,\"] websocket url length: \").concat(this.urls.length,\" current index: \").concat(this.currentURLIndex)),await n(this.urls[this.currentURLIndex],e)}else\"recover\"===e&&(iP.debug(\"[\".concat(this.name,\"] request new urls\")),this.resetReconnectCount(\"recover mode\"),this.urls=await zO(this,WV.REQUEST_NEW_URLS),this.currentURLIndex=0,await n(this.urls[this.currentURLIndex],e))}catch(i){var r;iP.error(\"[\".concat(this.name,\"] reconnect failed \").concat(i&&i.toString()));const n=null==i||null===(r=i.data)||void 0===r?void 0:r.desc;if(Array.isArray(n)){if(Ln(n).call(n,\"dynamic key expired\"))return this.emit(WV.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1;if(Ln(n).call(n,\"request downgrade fallback\"))return this.emit(WV.ON_FALLBACK),!1}return this.reconnectWithAction(e,t)}return!0}}class Zx extends Qx{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){const i=Cw(),n=function(e,t){return new Xx(e,t)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{iP.debug(\"[choose-best-ws] close establishing websockets\"),n.closeAllWebsockets(),i.reject(new pO(hO.WS_ABORT,\"choose best websocket aborted\"))};const r=CD(\"GATEWAY_DOMAINS\");return iP.debug(\"[choose-best-ws] currentDomain: \",e,\", domains: \",r,\"total: \".concat(this.urls.length),\"current: \".concat(this.currentURLIndex+1)),n.chooseBestWebsocket(e,this.tryDoubleDomain,this.use443PortOnly,t).then(i.resolve).catch(i.reject),i.promise.finally((()=>{this.closeEstablishingWs=void 0}))}}class $x extends Qx{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){return new rp(((i,n)=>{let r=!1;const o=[];this.closeEstablishingWs=()=>{iP.debug(\"[choose-best-ws] close establishing websockets\"),o.forEach((e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),n(new pO(hO.WS_ABORT,\"choose best websocket aborted\"))};const s=CD(\"GATEWAY_DOMAINS\");let a;const c=e.indexOf(\"?h=\"),d=s.find((t=>-1!==c?Ln(e).call(e,t,c):Ln(e).call(e,t)));iP.debug(\"[choose-best-ws] currentDomain: \",d,\", domains: \",s);let l=!this.tryDoubleDomain||!d;if(!l&&d){var u;const h=Date.now();try{s.forEach((t=>{const i=-1===c?e.replace(d,t):e.substr(0,c)+e.substr(c).replace(d,t),n=new WebSocket(i);n.binaryType=\"arraybuffer\",o.push(n),iP.debug(\"[choose-best-ws] ws is connecting:\",n.url)}))}catch(e){for(iP.debug(\"[choose-best-ws] ws create failed, fallback to single url\"),o.forEach((e=>e.close()));o.length;)o.pop();l=!0}null===(u=this.store)||void 0===u||u.recordJoinChannelService({urls:o.map((e=>e.url)),service:\"gateway\"},t),o.forEach((e=>{e.onopen=()=>{if(r)return;const t=Date.now()-h;iP.debug(\"[choose-best-ws] ws open cost \".concat(t,\"ms\")),o.filter((t=>t!==e)).forEach((e=>{iP.debug(\"[choose-best-ws]close backup websocket: \".concat(e.url)),e.close()})),r=!0,i(e)},e.onclose=e=>{if(a=e,r)return;o.find((e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)))||(iP.debug(\"[choose-best-ws] all websocket is closed\"),r=!0,n(a))},e.onmessage=t=>{iP.debug(\"[choose-best-ws]\".concat(e.url,\" onmessage: \").concat(t.data))}})),fN(this.forceCloseTimeout).then((()=>{o.forEach((e=>{e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(l){var h;let r;iP.debug(\"[choose-best-ws] use single url: \",e),null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:[e],service:\"gateway\"},t);try{r=new WebSocket(e),o.push(r),r.binaryType=\"arraybuffer\"}catch(e){const t=new pO(hO.WS_ERR,\"init websocket failed! Error: \".concat(e.toString()));return iP.error(\"[\".concat(this.name,\"]\").concat(t)),void n(t)}r.onopen=()=>{i(r)},r.onclose=e=>{n(e)},r.onmessage=e=>{iP.debug(\"[choose-best-ws]\".concat(r.url,\" onmessage: \").concat(e.data))},fN(this.forceCloseTimeout).then((()=>{r&&r.readyState!==WebSocket.OPEN&&r.close()}))}})).then((e=>(this.closeEstablishingWs=void 0,e))).catch((e=>{throw this.closeEstablishingWs=void 0,e}))}}class eF extends NO{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===VV.CONNECTED?this.emit(xV.WS_CONNECTED):e===VV.RECONNECTING?this.emit(xV.WS_RECONNECTING,this._websocketReconnectReason):e===VV.CLOSED&&this.emit(xV.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),iA(this,\"__name__\",\"AgoraRTCSignal\"),iA(this,\"_disconnectedReason\",void 0),iA(this,\"_websocketReconnectReason\",void 0),iA(this,\"_connectionState\",VV.CLOSED),iA(this,\"reconnectToken\",void 0),iA(this,\"websocket\",void 0),iA(this,\"openConnectionTime\",void 0),iA(this,\"clientId\",void 0),iA(this,\"lastMsgTime\",Date.now()),iA(this,\"uploadCache\",[]),iA(this,\"uploadCacheInterval\",void 0),iA(this,\"rttRolling\",new xN(5)),iA(this,\"pingpongTimer\",void 0),iA(this,\"wsInflateDataTimer\",void 0),iA(this,\"pingpongTimeoutCount\",0),iA(this,\"ortc\",void 0),iA(this,\"joinResponse\",void 0),iA(this,\"multiIpOption\",void 0),iA(this,\"initError\",void 0),iA(this,\"spec\",void 0),iA(this,\"store\",void 0),iA(this,\"onWebsocketMessage\",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(xV.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")){if(this.emit(t._type,t._message),t._type===jV.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===jV.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(VO.UID_BANNED);break;case 15:this.close(VO.IP_BANNED);break;case 16:this.close(VO.CHANNEL_BANNED)}if(t._type===jV.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case UV.ERR_LICENSE_MISSING:this.close(VO.LICENSE_MISSING);break;case UV.ERR_LICENSE_EXPIRED:this.close(VO.LICENSE_EXPIRED);break;case UV.ERR_LICENSE_MINUTES_EXCEEDED:this.close(VO.LICENSE_MINUTES_EXCEEDED);break;case UV.ERR_LICENSE_PERIOD_INVALID:this.close(VO.LICENSE_PERIOD_INVALID);break;case UV.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(VO.LICENSE_MULTIPLE_SDK_SERVICE);break;case UV.ERR_LICENSE_ILLEGAL:this.close(VO.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new Zx(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,CD(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),CD(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",(()=>{this.connectionState===VV.CONNECTED&&this.reconnect(\"retry\",HO.OFFLINE)}))}async request(e,t,i,n){const r=SN(6,\"\"),o={_id:r,_type:e,_message:t},s=this.websocket.connectionID,a=()=>new rp(((t,i)=>{if(this.connectionState===VV.CONNECTED)return t();const n=()=>{this.off(xV.WS_CLOSED,r),t()},r=()=>{this.off(xV.WS_CONNECTED,n),i(new uP(hO.WS_ABORT))};this.once(xV.WS_CONNECTED,n),this.once(xV.WS_CLOSED,r),e!==FV.PUBLISH&&e!==FV.PUBLISH_DATASTREAM&&e!==FV.SUBSCRIBE&&e!==FV.SUBSCRIBE_DATASTREAM&&e!==FV.UNSUBSCRIBE&&e!==FV.UNSUBSCRIBE_DATASTREAM&&e!==FV.UNPUBLISH&&e!==FV.UNPUBLISH_DATASTREAM&&e!==FV.CONTROL&&e!==FV.RESTART_ICE||this.once(xV.DISCONNECT_P2P,(()=>{i(new uP(hO.DISCONNECT_P2P))})),e!==FV.PUBLISH&&e!==FV.RESTART_ICE||this.once(xV.ABORT_P2P_EXECUTION,(()=>{i(new uP(hO.DISCONNECT_P2P))}))}));if(this.connectionState!==VV.CONNECTING&&this.connectionState!==VV.RECONNECTING||e===FV.JOIN||e===FV.REJOIN||await a(),this.websocket.sendMessage(o,!0),n)return;const c=new rp(((i,n)=>{let o=!1;const a=(n,r)=>{o=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(xV.WS_CLOSED,c),this.off(xV.WS_RECONNECTING,c),this.emit(xV.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new uP(hO.WS_ABORT,\"type: \".concat(e))),this.off(xV.WS_CLOSED,c),this.off(xV.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(xV.WS_CLOSED,c),this.once(xV.WS_RECONNECTING,c),fN(CD(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{this.websocket.connectionID!==s||o||(iP.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(xV.REQUEST_TIMEOUT,e,t))}))}));let d=null;try{d=await c}catch(n){if(this.connectionState===VV.CLOSED||e===FV.LEAVE)throw new uP(hO.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===FV.JOIN||e===FV.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const l=Number(d.message.error_code||d.message.code),u=Bx(l),h=new uP(hO.UNEXPECTED_RESPONSE,\"\".concat(u.desc,\": \").concat(d.message.error_str),{code:l,data:d.message,desc:u.desc});return\"success\"===u.action?d.message:(iP.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(l,\", message: \").concat(u.desc,\", action: \").concat(u.action)),l===UV.ERR_TOO_MANY_BROADCASTERS?e===FV.JOIN||e===FV.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():\"failed\"===u.action?h.throw():\"quit\"===u.action?(this.initError=h,this.close(),h.throw()):(l===UV.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,iP.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",HO.MULTI_IP)):this.reconnect(u.action,HO.SERVER_ERROR),e===FV.JOIN||e===FV.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new rp((i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void iP.warn(\"[\".concat(this.clientId,\"] no session id when upload wrtc stats\"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(BV.WRTC_STATS,t)}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=CD(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==VV.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),CD(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}init(e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new rp(((t,i)=>{this.once(xV.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(xV.WS_CLOSED,(e=>i(this.initError||new uP(hO.WS_ABORT,e)))),this.connectionState=VV.CONNECTING,this.websocket.init(e).catch(i),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||VO.LEAVE,this.connectionState=VV.CLOSED,iP.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close()}async join(){if(!this.joinResponse){this.emit(xV.ABORT_P2P_EXECUTION),this.store.signalConnected();const e=await zO(this,xV.REQUEST_JOIN_INFO);this.store.joinReq();const t=await this.request(FV.JOIN,e);if(this.ortc=null==e?void 0:e.ortc,this.store.joinRep(),!t)return this.emit(xV.REPORT_JOIN_GATEWAY,ax.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(xV.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=VV.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new uP(hO.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");const e=JO(this,xV.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(FV.REJOIN,e);return!!t&&(this.connectionState=VV.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(jV.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(jV.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(jV.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(jV.MUTE_AUDIO,{uid:e.uid}):this.emit(jV.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(jV.MUTE_VIDEO,{uid:e.uid}):this.emit(jV.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(jV.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(jV.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(jV.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(jV.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(jV.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}async downgradeCodec(e){if(!this.ortc)return!1;const t={downgrade_codec:e,ortc:this.ortc};return!!await this.request(FV.DOWNGRADE_CODEC,t)}handleNotification(e){iP.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=Bx(e.code);if(28===e.code&&\"detail\"in e&&(iP.info(\"[\".concat(this.clientId,\"] receive recover notification: \"),e.detail),this.emit(xV.RECOVER_NOTIFICATION,e.detail)),\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?e.code===UV.ERR_REPEAT_JOIN_CHANNEL&&CD(\"IGNORE_UID_CHECK\")?void this.close(VO.UID_CONFLICT):(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(VO.UID_BANNED),void this.close()):e.code===UV.K_VOS_FALLBACK&&\"detail\"in e?(iP.info(\"[\".concat(this.clientId,\"] receive vos fallback notification: \"),e.detail),\"FALLBACKCN\"===e.detail&&CD(\"ENABLE_QUALITY_FALLBACK\")?void zO(this,xV.VOS_FALLBACK_PROMISE,e.detail).then((()=>{this.reconnect(\"recover\",t.desc)})).catch((e=>{iP.debug(\"[\".concat(this.clientId,\"] cancel vos fallback cn, error: \"),e)})):\"fallback_hls\"===e.detail&&CD(\"ENABLE_FALLBACK_TO_HLS\")?(this.emit(xV.VOS_FALLBACK,e.detail),void this.close(VO.FALLBACK_TO_HLS)):this.reconnect(t.action,t.desc)):void this.reconnect(t.action,HO.SERVER_ERROR);iP.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=CD(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(iP.warning(\"[\".concat(this.clientId,\"] PING-PONG Timeout. Last Socket Message: \").concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>CD(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",HO.TIMEOUT):this.request(FV.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),CD(\"REPORT_STATS\")&&this.send(FV.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(BV.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(WV.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(xV.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(WV.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(WV.CLOSED,(()=>{this.connectionState=VV.CLOSED})),this.websocket.on(WV.FAILED,(()=>{this._disconnectedReason=VO.NETWORK_ERROR,this.connectionState=VV.CLOSED})),this.websocket.on(WV.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===VV.CONNECTED?this.connectionState=VV.RECONNECTING:this.connectionState=VV.CONNECTING})),this.websocket.on(WV.WILL_RECONNECT,((e,t,i)=>{const n=JO(this,xV.IS_P2P_DISCONNECTED),r=n||\"retry\"!==e;n&&\"retry\"===e&&(iP.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),e=\"tryNext\",t=ax.P2P_DISCONNECTED),r&&(iP.debug(\"\".concat(this.clientId,\" will renewSession, reconnect mode: \").concat(e)),this.emit(xV.REPORT_JOIN_GATEWAY,t||ax.UNKNOWN_REASON,this.url||\"\"),this.reconnectToken=void 0,this.emit(xV.DISCONNECT_P2P)),i(e)})),this.websocket.on(WV.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{iP.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",HO.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(xV.REPORT_JOIN_GATEWAY,e,this.url||\"\"),e instanceof uP){if(e.code===hO.UNEXPECTED_RESPONSE&&e.data.code===UV.ERR_NO_AUTHORIZED)return this.initError=new uP(hO.TOKEN_EXPIRE,\"dynamic key expired\"),void this.close(VO.TOKEN_EXPIRE);iP.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",HO.SERVER_ERROR):(this.initError=e,this.close())}}))})),this.websocket.on(WV.REQUEST_NEW_URLS,((e,t)=>{zO(this,xV.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(WV.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(jV.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(wx.PRE_CONNECT_PC,(()=>{this.emit(xV.PRE_CONNECT_PC)})),this.websocket.on(WV.ON_FALLBACK,(()=>{CD(\"ENABLE_FALLBACK_TO_HLS\")&&this.emit(xV.VOS_FALLBACK,\"fallback_hls\")}))}}let tF=function(e){return e.NATIVE_RTC=\"native_rtc\",e.NATIVE_RTM=\"native_rtm\",e.WEB_RTC=\"web_rtc\",e.WEB_RTM=\"web_rtm\",e}({}),iF=function(e){return e[e.CHOOSE_SERVER=11]=\"CHOOSE_SERVER\",e[e.CLOUD_PROXY=18]=\"CLOUD_PROXY\",e[e.CLOUD_PROXY_5=20]=\"CLOUD_PROXY_5\",e[e.CLOUD_PROXY_FALLBACK=26]=\"CLOUD_PROXY_FALLBACK\",e}({});function nF(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function rF(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?nF(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nF(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let oF=0;function sF(e){const t=CD(\"TURN_DOMAINS\");oF=(oF+1)%t.length;const i=t[oF]||\"edge.agora.io\";return e.match(/^[\\.\\:\\d]+$/)?\"\".concat(e.replace(/[^\\d]/g,\"-\"),\".\").concat(i):(iP.debug(\"Cannot recognized as ip address: \".concat(e,\", use as host2\")),e)}function aF(e){try{const t=CD(\"TURN_DOMAINS\"),i=CD(\"GATEWAY_DOMAINS\").concat(t).find((t=>Ln(e).call(e,t)));if(i){return e.split(\".\".concat(i))[0].replace(/-/g,\".\")}return e}catch(t){return iP.debug(\"serverUrlToIp error, fallback to url\",e),e}}function cF(e,t){e.addresses||(e.addresses=[]);const i=function(e,t){if(CD(\"CONNECT_GATEWAY_WITHOUT_DOMAIN\"))return e.map((e=>{let{ip:t,port:i}=e;return{address:\"\".concat(t,\":\").concat(i)}}));const i=CD(\"GATEWAY_DOMAINS\");let n=i[1]&&Ln(t).call(t,i[1])?1:0;return e.map((e=>{let{domain_prefix:t,port:r,ip:o}=e;if(t)return{address:\"\".concat(t,\".\").concat(i[n++%i.length],\":\").concat(r)};const s=/^[\\.\\:\\d]+$/.test(o),a=s?\"\".concat(o.replace(/[^\\d]/g,\"-\"),\".\").concat(i[n++%i.length],\":\").concat(r):\"\".concat(o,\":\").concat(r);return s||iP.debug(\"Cannot recognized as ip address: \".concat(o,\", use as host3\")),{ip:o,port:r,address:a}}))}(e.addresses,t),n=Array.isArray(e.detail)&&e.detail[18];if(n&&\"string\"==typeof n){const e=n.split(\";\");for(let t=0;t<e.length;t++){var r;const n=kg(r=e[t]).call(r);i[t]&&n&&(i[t].ip6=n)}}const o=e.detail&&e.detail.candidate;let s;if(o){const[e,t]=o.split(\":\");e&&t&&(s={port:Number(t),ip:e,address:\"\".concat(e,\":\").concat(t)})}return{gatewayAddrs:i,apGatewayAddress:s,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function dF(e){return\"number\"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function lF(e){const t=e._encoderConfig;if(!t)return{};const i={resolution:t.width&&t.height?\"\".concat(dF(t.width),\"x\").concat(dF(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return\"number\"==typeof t.frameRate?(i.maxFrameRate=t.frameRate,i.minFrameRate=t.frameRate):t.frameRate&&(i.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,i.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),i}function uF(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function hF(e,t){let i,n,r;switch(t){case iF.CHOOSE_SERVER:n=4096,r=\"choose server\";break;case iF.CLOUD_PROXY:n=1048576,r=\"proxy\";break;case iF.CLOUD_PROXY_5:n=4194304,r=\"proxy5\";break;case iF.CLOUD_PROXY_FALLBACK:n=4194310,r=\"proxy fallback\";break;default:throw new uP(hO.UNEXPECTED_ERROR,\"multi unlibs response transformer get unknown service id\",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((t=>{t.buffer&&t.buffer.flag===n&&(i={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((e=>rF(rF({},e),{},{ticket:t.buffer.cert}))),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:rF(rF({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid,cert:t.buffer.cert})})),!i)throw new uP(hO.MULTI_UNILBS_RESPONSE_ERROR,\"cannot parse response \".concat(r,\" from multi unilbs response\"),{csIp:e.detail&&e.detail[502]});return i}async function pF(e,t){return await rp.all(e.addresses.map((async e=>({address:sF(e.ip),tcpport:e.port,udpport:e.port,username:t&&CD(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?t.toString():ED.username,password:t&&CD(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?await OO(t.toString()):ED.password}))))}function _F(e,t){const i=t.getMediaStreamTrack(!0).getSettings(),n=t.videoHeight||i.height,r=t.videoWidth||i.width;return n&&r?Math.max(Math.min(n,r)/Math.min(dF(e.height),dF(e.width)),1):(iP.warning(\"can't get ori-track's height, default scale down 4 times for low stream\"),4)}function EF(e){let{candidateType:t,relayProtocol:i,type:n,address:r,port:o,protocol:s}=e;const a={candidateType:t,relayProtocol:i,protocol:s};if(\"local-candidate\"!==n){const e=r.split(\".\");e.length>=4&&(e[1]=\"*\",e[2]=\"*\"),a.address=e.join(\".\"),a.port=o}return a}function mF(e){const t=e.split(\":\"),i=e.split(/[-.]/),n=Ln(e).call(e,\"-\")?\"-\":\".\";let r=e;return t.length>1?i.length>1?(i[1]=\"**\",r=i[0]+n+\"**:\"+t[t.length-1]):r=t.length>2?t[0]+n+\"**:\"+t[t.length-1]:\"**:\"+t[t.length-1]:i.length>1&&(r=i[0]+n+\"**\"),r}function fF(e,t){return e.getTransceivers().find((e=>e.sender.track===t||e.receiver.track===t))}function SF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CD(\"SVC_MODE\");if(CD(\"ENABLE_SVC\"))return function(e){return e in iD}(e)?e:iD.L1T3}const gF={[fx.VIDEO]:[{key:\"abs-send-time\",extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"},{key:\"video-orientation\",extensionName:\"urn:3gpp:video-orientation\"},{key:\"draft-holmer-rmcat-transport-wide-cc-extensions-01\",extensionName:\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"},{key:\"playout-delay\",extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\"},{key:\"video-content-type\",extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\"},{key:\"color-space\",extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/color-space\"},{key:\"video-timing\",extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/video-timing\"}],[fx.AUDIO]:[{key:\"ssrc-audio-level\",extensionName:\"urn:ietf:params:rtp-hdrext:ssrc-audio-level\"},{key:\"draft-holmer-rmcat-transport-wide-cc-extensions-01\",extensionName:\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"},{key:\"abs-send-time\",extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"}]};function TF(e){e.send&&(vF(fx.VIDEO,e.send.videoExtensions),vF(fx.AUDIO,e.send.audioExtensions)),e.recv&&(vF(fx.VIDEO,e.recv.videoExtensions),vF(fx.AUDIO,e.recv.audioExtensions)),e.sendrecv&&(vF(fx.VIDEO,e.sendrecv.videoExtensions),vF(fx.AUDIO,e.sendrecv.audioExtensions))}function RF(e,t){e.send&&(CF(fx.VIDEO,e.send.videoExtensions,t.send.videoExtensions),CF(fx.AUDIO,e.send.audioExtensions,t.send.audioExtensions)),e.recv&&(CF(fx.VIDEO,e.recv.videoExtensions,t.recv.videoExtensions),CF(fx.AUDIO,e.recv.audioExtensions,t.recv.audioExtensions))}function CF(e,t,i){t.forEach((t=>{var n;const r=gF[e].find((e=>{var i;let{key:n}=e;return Ln(i=t.extensionName).call(i,n)}));if(!r)return;const o=i.find((e=>{let{extensionName:t}=e;return Ln(t).call(t,r.key)}));o&&Ln(n=o.extensionName).call(n,\"gdpr_forbidden\")&&(t.extensionName=o.extensionName)}))}function vF(e,t){t.forEach((t=>{var i;const n=gF[e].find((e=>{var i;let{key:n}=e;return Ln(i=t.extensionName).call(i,n)}));Ln(i=t.extensionName).call(i,\"gdpr_forbidden\")&&n&&(t.extensionName=n.extensionName)}))}function yF(e){return\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e||Ln(e).call(e,\"abs-send-time\")}function IF(e){return\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e||Ln(e).call(e,\"draft-holmer-rmcat-transport-wide-cc-extensions-01\")}function AF(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function bF(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?AF(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):AF(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function wF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;const{filterRTX:r,filterVideoFec:o,filterAudioFec:s,filterAudioCodec:a,filterVideoCodec:c,unsupportedVideoUplinkCodec:d,unsupportedVideoDownlinkCodec:l}=t,{useXR:u}=i;let h=[],p=[],_=[],E=[],m=!1,f=!1;if(LD(e).mediaDescriptions.forEach((e=>{n&&n!==e.attributes.direction||(\"video\"!==e.media.mediaType||m||(p=e.attributes.payloads,E=e.attributes.extmaps,m=!0),\"audio\"!==e.media.mediaType||f||(h=e.attributes.payloads,_=e.attributes.extmaps,f=!0))})),!E||0===p.length)throw new Error(\"Cannot get video capabilities from SDP.\");if(!_||0===h.length)throw new Error(\"Cannot get audio capabilities from SDP.\");if(p.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),u&&e.rtcpFeedbacks.push({type:\"rrtr\"})})),h.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),u&&e.rtcpFeedbacks.push({type:\"rrtr\"})})),r&&(h=h.filter((e=>{var t;return\"rtx\"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),p=p.filter((e=>{var t;return\"rtx\"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),o){const e=p.filter((e=>{var t;return/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||\"\")})),t=zF(e,p).map((e=>e.payloadType)),i=[...e.map((e=>e.payloadType)),...t];p=p.filter((e=>!Ln(i).call(i,e.payloadType)))}if(s&&(h=h.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||\"\")}))),a&&(null==a?void 0:a.length)>0&&(h=h.filter((e=>{var t;return Ln(a).call(a,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")}))),c&&(null==c?void 0:c.length)>0){const e=p.filter((e=>{var t;return Ln(c).call(c,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")}));p=e.concat(r?[]:zF(e,p))}const S=CD(\"UNSUPPORTED_VIDEO_CODEC\");if(S&&S.length>0){const e=p.filter((e=>e.rtpMap&&Ln(S).call(S,e.rtpMap.encodingName.toLowerCase()))),t=zF(e,p),i=e.concat(t).map((e=>e.payloadType));p=p.filter((e=>!Ln(i).call(i,e.payloadType))),iP.debug(\"unsupportedVideoCodec: \".concat(S,\", toBeRemoved: \").concat(i))}if(d&&d.length>0&&\"sendonly\"===n){const e=p.filter((e=>e.rtpMap&&Ln(d).call(d,e.rtpMap.encodingName.toLowerCase()))),t=zF(e,p),i=e.concat(t).map((e=>e.payloadType));p=p.filter((e=>!Ln(i).call(i,e.payloadType))),iP.debug(\"unsupportedVideoUplinkCodec: \".concat(d,\", toBeRemoved: \").concat(i))}if(l&&l.length>0&&\"recvonly\"===n){const e=p.filter((e=>e.rtpMap&&Ln(l).call(l,e.rtpMap.encodingName.toLowerCase()))),t=zF(e,p),i=e.concat(t).map((e=>e.payloadType));p=p.filter((e=>!Ln(i).call(i,e.payloadType))),iP.debug(\"unsupportedVideoDownlinkCodec: \".concat(l,\", toBeRemoved: \").concat(i))}return{audioCodecs:h,videoCodecs:p,audioExtensions:_,videoExtensions:E}}function OF(e){const t=LD(e);let i,n;for(const e of t.mediaDescriptions){if(!i){const t=e.attributes.iceUfrag,n=e.attributes.icePwd;if(!t||!n)throw new Error(\"Cannot get iceUfrag or icePwd from SDP.\");i={iceUfrag:t,icePwd:n}}if(!n){const t=e.attributes.fingerprints;t.length>0&&(n={fingerprints:t})}}if(!n&&t.attributes.fingerprints.length>0&&(n={fingerprints:t.attributes.fingerprints}),!n||!i)throw new Error(\"Cannot get iceParameters or dtlsParameters from SDP.\");return{iceParameters:i,dtlsParameters:n}}function NF(e,t){const i=[],n=e.attributes.ssrcGroups.filter((e=>\"FID\"===e.semantic)),r=e.attributes.ssrcGroups.find((e=>\"SIM\"===e.semantic)),o=e.attributes.ssrcs;if(r)r.ssrcIds.forEach((e=>{var r;const o=null===(r=n.find((t=>t.ssrcIds[0]===e)))||void 0===r?void 0:r.ssrcIds[1];i.push({ssrcId:e,rtx:t?o:void 0})}));else if(n.length>0){const e=n[0].ssrcIds[0],r=n[0].ssrcIds[1];i.push({ssrcId:e,rtx:t?r:void 0})}else{if(0===o.length)throw new Error(\"No ssrcs found on local media description.\");i.push({ssrcId:o[0].ssrcId})}return i}function DF(e,t,i){const{cname:n}=e;let r=[];t&&(r=PF(t)),0===r.length&&(r=e.iceParameters.candidates.map((e=>({foundation:e.foundation,componentId:\"1\",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}}))),iP.debug(\"Using candidates from gateway.\"));const o={fingerprints:e.dtlsParameters.fingerprints.map((e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint})))},s={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let a;switch(e.dtlsParameters.role){case\"server\":a=\"passive\";break;case\"client\":a=\"active\";break;case\"auto\":a=\"actpass\"}const c=HF(e.rtpCapabilities),d=[];return Array.isArray(i)&&i.length>0&&i.forEach((e=>{d.push({kind:fx.VIDEO,ssrcMsg:[{ssrcId:e.v,rtx:e.v_rtx}],mslabel:\"\".concat(e.v,\"_\").concat(e.a)},{kind:fx.AUDIO,ssrcMsg:[{ssrcId:e.a}],mslabel:\"\".concat(e.v,\"_\").concat(e.a)})})),{dtlsParameters:o,iceParameters:s,candidates:r,rtpCapabilities:c,setup:a,cname:n,preSSRCs:d}}function PF(e){let t=[];return e.ip&&\"number\"==typeof e.port&&(t=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:e.ip,port:e.port.toString(),type:\"host\",extension:{}}],iP.debug(\"Using remote candidate from AP \".concat(mF(e.ip),\":\").concat(e.port)),e.ip6&&(t.push({foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:e.ip6,port:e.port.toString(),type:\"host\",extension:{}}),iP.debug(\"Using IPV6 remote candidate from AP \".concat(mF(e.ip6),\":\").concat(e.port)))),t}function LF(e,t,i){const n=[],r=[];return e.forEach((e=>{let{ssrcId:o,rtx:s}=e;const a=SN(8,\"track-\"),c={ssrcId:o,attributes:bF({label:a,mslabel:i=i||SN(10,\"\"),msid:\"\".concat(i,\" \").concat(a)},t&&{cname:t})};if(n.push(c),void 0!==s){const e={ssrcId:s,attributes:bF({label:a,mslabel:i,msid:\"\".concat(i,\" \").concat(a)},t&&{cname:t})};n.push(e),r.push({semantic:\"FID\",ssrcIds:[o,s]})}})),e.length>1&&r.push({semantic:\"SIM\",ssrcIds:e.map((e=>{let{ssrcId:t}=e;return t}))}),{ssrcs:n,ssrcGroups:r}}function kF(e,t){t instanceof Bk&&e.attributes.payloads.forEach((e=>{var i;const n=null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase();if(!n||-1===[\"opus\",\"pcmu\",\"pcma\",\"g722\"].indexOf(n))return;e.fmtp||(e.fmtp={parameters:{}}),\"opus\"===n&&\"number\"==typeof CD(\"OPUS_PTIME\")?e.fmtp.parameters.ptime=CD(\"OPUS_PTIME\"):e.fmtp.parameters.minptime=\"10\",e.fmtp.parameters.useinbandfec=\"1\";const r=t._encoderConfig;r&&(\"pcmu\"!==n&&\"pcma\"!==n&&\"g722\"!==n&&(r.bitrate&&!Bw()&&(e.fmtp.parameters.maxaveragebitrate=\"\".concat(Math.floor(1e3*r.bitrate))),r.sampleRate&&(e.fmtp.parameters.maxplaybackrate=\"\".concat(r.sampleRate),e.fmtp.parameters[\"sprop-maxcapturerate\"]=\"\".concat(r.sampleRate)),r.stereo&&(e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\")),t instanceof jk&&\"opus\"===n&&t._config.DTX&&(e.fmtp.parameters.usedtx=\"1\"))}))}function MF(e){const t=e.attributes.unrecognized.findIndex((e=>\"x-google-flag\"===e.attField&&\"conference\"===e.attValue));-1!==t&&e.attributes.unrecognized.splice(t,1)}function UF(e,t){var i;if(e.attributes.payloads.forEach((e=>{var t;\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())&&e.fmtp&&e.fmtp.parameters&&CD(\"ENABLE_UP_SPS_PPS\")&&(e.fmtp.parameters[\"sps-pps-idr-in-keyframe\"]=\"1\")})),!(t instanceof kM&&t._encoderConfig&&-1===t._hints.indexOf(VP.SCREEN_TRACK)))return;const n=t._encoderConfig;pP().supportMinBitrate&&n.bitrateMin&&e.attributes.payloads.forEach((e=>{var t,i;Ln(t=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(t,(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"x-google-min-bitrate\"]=\"\".concat(n.bitrateMin))})),pP().supportMinBitrate&&!Ln(i=t._hints).call(i,VP.LOW_STREAM)&&n.bitrateMax&&e.attributes.payloads.forEach((e=>{var t,i;Ln(t=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(t,(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"x-google-start-bitrate\"]=\"\".concat(CD(\"X_GOOGLE_START_BITRATE\")||Math.floor(n.bitrateMax)))}))}function VF(e){if(\"video\"!==e.media.mediaType)return;const t=Dw();if(t.name!==bw.SAFARI&&t.os!==Aw.IOS)return;const i=e.attributes.extmaps.findIndex((e=>/video-orientation/g.test(e.extensionName)));-1!==i&&e.attributes.extmaps.splice(i,1)}function xF(e,t,i){if(!t)return;let n,r;if(\"video\"===e.media.mediaType?(n=i.videoExtensions,r=i.videoCodecs):(n=i.audioExtensions,r=i.audioCodecs),!0===t.twcc){const t=n.find((e=>IF(e.extensionName)));if(t){const i=t.extensionName;e.attributes.extmaps.find((e=>IF(e.extensionName)))||e.attributes.extmaps.push({entry:t.entry,extensionName:i});const n=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>\"transport-cc\"===e.type))))))}(r,e.attributes.payloads);n.forEach((e=>{e.rtcpFeedbacks.find((e=>\"transport-cc\"===e.type))||e.rtcpFeedbacks.push({type:\"transport-cc\"})}))}}else if(!1===t.twcc){const t=e.attributes.extmaps.findIndex((e=>IF(e.extensionName)));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"transport-cc\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}if(!0===t.remb){const t=n.find((e=>yF(e.extensionName)));if(t){const i=t.extensionName;e.attributes.extmaps.find((e=>e.extensionName===i))||e.attributes.extmaps.push({entry:t.entry,extensionName:i});const n=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>\"goog-remb\"===e.type))))))}(r,e.attributes.payloads);n.forEach((e=>{e.rtcpFeedbacks.find((e=>\"goog-remb\"===e.type))||e.rtcpFeedbacks.push({type:\"goog-remb\"})}))}}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex((e=>yF(e.extensionName)));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"goog-remb\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}}function FF(e,t,i){if(Bw())return;if(\"video\"!==e.media.mediaType)return;if(!(t instanceof kM))return;if(\"vp9\"!==i&&\"vp8\"!==i)return;if(\"vp8\"===i&&!CD(\"SIMULCAST\"))return;if(\"vp9\"===i&&CD(\"ENABLE_SVC\"))return;if(void 0===t._scalabilityMode||t._scalabilityMode.numSpatialLayers<=1)return;const n=\"vp8\"===i?2:t._scalabilityMode.numSpatialLayers,r=e.attributes.ssrcs[0],o=e.attributes.ssrcGroups.find((e=>\"FID\"===e.semantic&&e.ssrcIds[0]===r.ssrcId)),s={semantic:\"SIM\",ssrcIds:[r.ssrcId]};for(let t=1;t<n;t++)e.attributes.ssrcs.push({ssrcId:r.ssrcId+t,attributes:sN(r.attributes)}),s.ssrcIds.push(r.ssrcId+t),o&&(e.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+t,attributes:sN(r.attributes)}),e.attributes.ssrcGroups.push({semantic:\"FID\",ssrcIds:[r.ssrcId+t,o.ssrcIds[1]+t]}));e.attributes.ssrcGroups.unshift(s)}async function BF(){try{const e=new RTCPeerConnection;e.addTransceiver(\"video\",{direction:\"sendonly\",sendEncodings:[{scalabilityMode:iD.L1T3}]});const t=await e.createOffer();if(!t.sdp)return void e.close();const i=LD(t.sdp).mediaDescriptions[0];if(!i)return;const n=i.attributes.extmaps.find((e=>\"https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\"===e.extensionName));return e.close(),n}catch(e){return}}async function jF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new RTCPeerConnection;i.addTransceiver(\"video\",{direction:\"sendonly\"}),i.addTransceiver(\"audio\",{direction:\"sendonly\"}),i.addTransceiver(\"video\",{direction:\"recvonly\"}),i.addTransceiver(\"audio\",{direction:\"recvonly\"});const n=(await i.createOffer()).sdp,{send:r,recv:o,sendrecv:s}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const n=wF(i,e,t,\"sendonly\"),r=wF(i,e,t,\"recvonly\"),o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},a={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(WF(n,r,\"videoExtensions\",o,s,a),WF(n,r,\"videoCodecs\",o,s,a),WF(n,r,\"audioExtensions\",o,s,a),WF(n,r,\"audioCodecs\",o,s,a),CD(\"RAISE_H264_BASELINE_PRIORITY\")){const e=[],t=[];if(a.videoCodecs.forEach(((i,n)=>{var r;if(\"h264\"===(null===(r=i.rtpMap)||void 0===r?void 0:r.encodingName.toLocaleLowerCase())){var o,s;const r=a.videoCodecs[n+1],c=r&&$F(i,r),d=null===(o=i.fmtp)||void 0===o?void 0:o.parameters[\"profile-level-id\"],l=null===(s=i.fmtp)||void 0===s?void 0:s.parameters[\"packetization-mode\"];!d||d!==CD(\"FIRST_H264_PROFILE_LEVEL_ID\")||CD(\"FIRST_PACKETIZATION_MODE\")&&l!==CD(\"FIRST_PACKETIZATION_MODE\")?c?t.push([i,r]):t.push([i]):c?e.push([i,r]):e.push([i])}})),e.length>0&&t.length>0){iP.debug(\"raising H264 baseline profile priority\"),a.videoCodecs.forEach(((i,n)=>{var r;if(\"h264\"===(null===(r=i.rtpMap)||void 0===r?void 0:r.encodingName.toLocaleLowerCase())){const r=$F(i,a.videoCodecs[n+1]),o=e.shift()||t.shift()||[];o.length>0&&(r?a.videoCodecs.splice(n,2,...o):a.videoCodecs.splice(n,1,...o))}}));const i=s.videoCodecs.filter((e=>{var t,i;return\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"])!==CD(\"FIRST_H264_PROFILE_LEVEL_ID\")}));if(i.length>0){const e=zF(i,s.videoCodecs).map((e=>e.payloadType)),t=[...i.map((e=>e.payloadType)),...e];s.videoCodecs=s.videoCodecs.filter((e=>!Ln(t).call(t,e.payloadType)))}CD(\"FILTER_SEND_H264_BASELINE\")&&(o.videoCodecs=o.videoCodecs.filter((e=>{var t,i;return!(\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"])!==CD(\"FIRST_H264_PROFILE_LEVEL_ID\"))})))}return{send:o,recv:s,sendrecv:a}}return{send:o,recv:s,sendrecv:a}}(e,t,n);try{i.close()}catch(e){}return{send:r,recv:o,sendrecv:s}}function GF(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=wF(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},\"recvonly\"),i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(WF(e,t,\"videoExtensions\",i,n,r),WF(e,t,\"videoCodecs\",i,n,r),WF(e,t,\"audioExtensions\",i,n,r),WF(e,t,\"audioCodecs\",i,n,r),CD(\"RAISE_H264_BASELINE_PRIORITY\")){const e=r.videoCodecs.findIndex((e=>e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&\"42001f\"===e.fmtp.parameters[\"profile-level-id\"]));if(-1!==e){const t=r.videoCodecs.findIndex((e=>e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()));if(t<e){iP.debug(\"raising H264 baseline profile priority\");const i=r.videoCodecs[e];r.videoCodecs.splice(e,1),r.videoCodecs.splice(t,0,i)}-1!==t&&(n.videoCodecs=n.videoCodecs.filter((e=>!(e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&\"42001f\"!==e.fmtp.parameters[\"profile-level-id\"]))))}}return{send:i,recv:n,sendrecv:r}}function WF(e,t,i,n,r,o){if(\"videoExtensions\"===i||\"audioExtensions\"===i){const s=[];return e[i].forEach((e=>{t[i].some(((t,i)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return s.push(i),!0}))?o[i].push(e):n[i].push(e)})),void t[i].forEach(((e,t)=>{-1===s.indexOf(t)&&r[i].push(e)}))}if(\"videoCodecs\"===i||\"audioCodecs\"===i){const s=[];return e[i].forEach((e=>{t[i].some(((t,i)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return s.push(i),!0}))?o[i].push(e):n[i].push(e)})),void t[i].forEach(((e,t)=>{-1===s.indexOf(t)&&r[i].push(e)}))}}function HF(e){const{send:t,recv:i,sendrecv:n}=e;if(!n){if(!t||!i)throw new Error(\"cannot merge rtp capabilities because one of send or recv is empty!\");return{send:t,recv:i}}let r,o;return t?(r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r.audioCodecs=[...t.audioCodecs,...n.audioCodecs],r.videoCodecs=[...t.videoCodecs,...n.videoCodecs],r.audioExtensions=[...t.audioExtensions,...n.audioExtensions],r.videoExtensions=[...t.videoExtensions,...n.videoExtensions]):r=sN(n),i?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...i.audioCodecs,...n.audioCodecs],o.videoCodecs=[...i.videoCodecs,...n.videoCodecs],o.audioExtensions=[...i.audioExtensions,...n.audioExtensions],o.videoExtensions=[...i.videoExtensions,...n.videoExtensions]):o=sN(n),{send:r,recv:o}}function KF(e){if(\"audio\"!==e.media.mediaType)return;e.attributes.payloads.filter((e=>{var t;return\"opus\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})).forEach((e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\"}))}function YF(e,t,i,n){let r=[];if(e===fx.VIDEO){if(CD(\"H264_PROFILE_LEVEL_ID\")&&\"h264\"===n&&(r=t.videoCodecs.filter((e=>{var t;return Ln(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(t,n)&&e&&e.fmtp&&e.fmtp.parameters[\"profile-level-id\"]===CD(\"H264_PROFILE_LEVEL_ID\")}))),!Array.isArray(r)||0===r.length){let e=[];const o=[],s=[],a=[];if(i.videoCodecs.forEach((t=>{const i=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||\"\";Ln(i).call(i,n)?e.push(t):Ln(i).call(i,\"vp9\")?o.push(t):Ln(i).call(i,\"vp8\")?s.push(t):Ln(i).call(i,\"h264\")&&a.push(t)})),0===e.length){let t=\"\";0!==o.length?(e=o,t=\"vp9\"):0!==s.length?(e=s,t=\"vp8\"):0!==a.length&&(e=a,t=\"h264\"),iP.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to default payloads: \").concat(t))}0!==e.length&&(r=t.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(0===r.length&&(iP.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to default payloads: \").concat(t.videoCodecs[0].rtpMap&&t.videoCodecs[0].rtpMap.encodingName)),r=t.videoCodecs),CD(\"USE_PUB_RTX\")||CD(\"USE_SUB_RTX\")){const e=zF(r,t.videoCodecs);r=[...r,...e]}}else{r=t.audioCodecs.filter((e=>{var t;return Ln(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(t,n)}));const e=t.audioCodecs.filter((e=>{var t;return Ln(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(t,\"red\")}));0===r.length&&(iP.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to opus\")),r=t.audioCodecs.filter((e=>{var t;return Ln(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(t,\"opus\")}))),CD(\"ENABLE_AUDIO_RED\")&&0!==e.length&&(r=[...e,...r])}return r}function zF(e,t){const i=e.map((e=>e.payloadType.toString()));return t.filter((e=>e.rtpMap&&\"rtx\"===e.rtpMap.encodingName&&e.fmtp&&e.fmtp.parameters.apt&&Ln(i).call(i,e.fmtp&&e.fmtp.parameters.apt)))}async function qF(e,t,i){const n=t.toString(),r=JF(n,\"offer\",\"remote\",\"exchangeSDP\");await e.setRemoteDescription({type:\"offer\",sdp:n});const o=await e.createAnswer();if(!o.sdp)throw new Error(\"cannot get answer sdp\");let s=o.sdp;s=XF(s,i||{}),null==r||r(s||\"\"),await e.setLocalDescription({type:\"answer\",sdp:s})}function XF(e,t,i){const n=LD(e),{useXR:r}=t;return n.mediaDescriptions.forEach((e=>{var t;e.attributes.mid&&(Array.isArray(i)&&!Ln(i).call(i,e.attributes.mid)||(\"audio\"===e.media.mediaType&&KF(e),\"video\"===e.media.mediaType&&function(e){if(\"video\"!==e.media.mediaType)return;if(!CD(\"ENABLE_DOWN_SPS_PPS\"))return;e.attributes.payloads.filter((e=>{var t;return\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})).forEach((e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"sps-pps-idr-in-keyframe\"]=\"1\"}))}(e),r&&Ln(t=[\"audio\",\"video\"]).call(t,e.media.mediaType)&&e.attributes.payloads.forEach((e=>{-1===e.rtcpFeedbacks.findIndex((e=>\"rrtr\"===e.type))&&e.rtcpFeedbacks.push({type:\"rrtr\"})}))))})),kD(n)}function JF(e,t,i,n){if(CD(\"SDP_LOGGING\"))return iP.upload(\"exchanging \".concat(i,\" \").concat(t,\" SDP during P2PConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{JF(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async function QF(e,t,i){try{var n;if(!pP().supportSetRtpSenderParameters)return;if(!function(e){return\"vp9\"===e||\"av1\"===e}(e)||!CD(\"ENABLE_SVC\"))return;const r={},o={},s=t.getParameters(),a=null===(n=s.encodings)||void 0===n?void 0:n[0];o.scalabilityMode=SF(i),a&&Object.assign(a,o),Object.assign(s,r),await t.setParameters(s),iP.debug(\"[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: \".concat(JSON.stringify(s.encodings)))}catch(e){iP.debug(\"[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed\",e)}}function ZF(e){const t=CD(\"COMPATIBLE_SDP_EXTENSION\");return!!(Array.isArray(t)&&t.length>0)&&t.some((t=>Ln(e).call(e,t)))}function $F(e,t){try{var i;return(null===(i=e.fmtp)||void 0===i?void 0:i.parameters.apt)===t.payloadType.toString()}catch(e){return!1}}function eB(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function tB(e,t){return typeof CD(e)===t?CD(e):void 0}function iB(){try{const e=CD(\"EXPERIMENTS\")||{};return\"string\"==typeof e||Array.isArray(e)?{}:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?eB(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eB(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e)}catch(e){return iP.debug(\"handle gateway attributes failed: \",e),{}}}const nB={};function rB(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&iP.debug(\"install service \".concat(e.name)),nB[e.name]=e}function oB(e){const t=nB[e];if(!t)throw new pO(hO.INVALID_OPERATION,\"\".concat(e,\" not found, please use AgoraRTC.use(\").concat(e,\"Service) to load it first\"));return t}function sB(e,t){return oB(\"DataStream\").create(e,t)}function aB(){return oB(\"InterceptFrame\").create()}function cB(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function dB(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?cB(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):cB(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const lB=new Map;class uB extends NO{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,\"DISCONNECTED\"===e&&this._disconnectedReason?this.emit(sx.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(sx.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){iP.debug(\"[\".concat(this.store.clientId,\"] set joinGatewayStartTime at \").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){var i,n,r;super(),iA(this,\"store\",void 0),iA(this,\"joinInfo\",void 0),iA(this,\"key\",void 0),iA(this,\"ntpOffset\",0),iA(this,\"usingProxy\",!1),iA(this,\"signal\",void 0),iA(this,\"role\",void 0),iA(this,\"isPreallocation\",void 0),iA(this,\"isPreSub\",void 0),iA(this,\"inChannelInfo\",{joinAt:null,duration:0}),iA(this,\"spec\",void 0),iA(this,\"_state\",\"DISCONNECTED\"),iA(this,\"_statsCollector\",void 0),iA(this,\"_disconnectedReason\",void 0),iA(this,\"isSignalRecover\",!1),iA(this,\"hasChangeBGPAddress\",!1),iA(this,\"trafficStatsInterval\",void 0),iA(this,\"networkQualityInterval\",void 0),iA(this,\"_joinGatewayStartTime\",0),iA(this,\"_signalTimeout\",!1),iA(this,\"_clientRoleOptions\",void 0),iA(this,\"_isProactiveJoin\",!1),this.store=e,this.spec=t,this.signal=this.store.useP2P?(i={spec:dB(dB({},t),{},{retryConfig:t.websocketRetryConfig}),store:e},null===(n=(r=oB(\"P2PChannel\")).createSubmodule)||void 0===n?void 0:n.call(r,i)):this.store.useDcSignal?function(e){return oB(\"DataChannelSignal\").create(e)}({spec:dB(dB({},t),{},{retryConfig:t.websocketRetryConfig}),store:e}):new eF(dB(dB({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||\"audience\",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}setUsingProxy(e){this.usingProxy=e}async join(e,t,i){if(this.store.useDcSignal){let t=!1;\"disabled\"!==e.cloudProxyServer?(iP.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because cloudProxyServer are not supported (\").concat(e.cloudProxyServer,\")\")),t=!0):\"\".concat(e.apResponse.cid,\"_\").concat(e.apResponse.cert).length>255||\"\".concat(e.apResponse.cid,\"_\").concat(e.apResponse.cert).length<22?(iP.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because ticket length is incorrect, it has to be between 22 and 255\")),t=!0):e.apResponse.addresses.some((e=>e.fingerprint))||CD(\"FINGERPRINT\")||(iP.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because fingerprint does not exist\")),t=!0),t&&this.resetSignal()}this.store.joinGatewayStart(),\"disabled\"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const n=Date.now();let r=lB.get(e.cname);if(r||(r=new Map,lB.set(e.cname,r)),this._isProactiveJoin=!0,r.has(e.uid)){const t=new uP(hO.UID_CONFLICT);throw lP.joinGateway(e.sid,{lts:n,succ:!1,ec:t.code,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,isProxy:!!e.proxyServer||this.usingProxy,signalChannel:this.store.useDcSignal?\"1\":\"0\",preload:e.preload}),t}r.set(e.uid,!0),this.joinInfo=e,this.key=t;let o=0;this.joinGatewayStartTime=n;const s=e.proxyServer,a=this.store.useDcSignal?\"datachannel\":\"websocket\";try{iP.debug(\"[\".concat(this.store.clientId,\"] use \").concat(a,\" join uid \").concat(o));const t=e.gatewayAddrs.map((t=>{let{address:i}=t;const[n,r]=i.split(\":\"),o={host:n,port:r};return e.proxyServer&&(o.proxy=e.proxyServer),o}));let i;i=this.store.useDcSignal?await this.signal.init(e.apResponse.addresses):await this.signal.init(t),o=i.uid,iP.debug(\"[\".concat(this.store.clientId,\"] \").concat(a,\" join uid \").concat(o,\" cost \").concat(Date.now()-this.joinGatewayStartTime))}catch(t){var c;if(t.code===hO.INIT_DATACHANNEL_TIMEOUT&&\"AgoraRTCSignal\"===this.signal.__name__);else lP.joinGateway(e.sid,{lts:n,succ:!1,ec:(null===(c=t.data)||void 0===c?void 0:c.desc)||t.code,errorMsg:t.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,isProxy:!!s||this.usingProxy,signalChannel:\"DataChannelSignal\"===this.signal.__name__?\"1\":\"0\",preload:e.preload});if(t&&t.code===hO.INIT_DATACHANNEL_TIMEOUT)throw iP.warning(\"[\".concat(this.store.clientId,\"] User join datachannel failed\"),t.toString()),this.resetSignal(),t;throw iP.error(\"[\".concat(this.store.clientId,\"] User join failed\"),t.toString()),r.delete(e.uid),this.signal.close(),t}return this.state=\"CONNECTED\",this.inChannelInfo.joinAt=Date.now(),iP.debug(\"[\".concat(this.store.clientId,\"] Connected to gateway server\")),this.trafficStatsInterval=window.setInterval((()=>{this.updateTrafficStats().catch((e=>{iP.warning(\"[\".concat(this.store.clientId,\"] get traffic stats error\"),e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(sx.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(sx.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):\"CONNECTED\"===this.state&&this._statsCollector.trafficStats?this.emit(sx.NETWORK_QUALITY,{uplinkNetworkQuality:uF(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:uF(this._statsCollector.trafficStats.B_dnq)}):this.emit(sx.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),o}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(\"DISCONNECTED\"!==this.state){t!==VO.FALLBACK&&(this.state=\"DISCONNECTING\");try{e||this.signal.connectionState!==VV.CONNECTED||await function(e,t){return t===1/0?e:rp.race([e,mN(t)])}(this.signal.request(FV.LEAVE,void 0,!0),3e3)}catch(e){iP.warning(\"[\".concat(this.store.clientId,\"] leave request failed, ignore\"),e)}this.signal.close(t),t!==VO.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset()}}async publish(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new uP(hO.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));const n={state:\"offer\",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:CD(\"PUB_EXTEND\"),twcc:!!CD(\"PUBLISH_TWCC\"),rtx:!!CD(\"USE_PUB_RTX\")};try{return(await this.signal.request(FV.PUBLISH,n,!0))._message}catch(n){if(i&&n.data&&n.data.code===UV.ERR_PUBLISH_REQUEST_INVALID)return iP.warning(\"[\".concat(this.store.clientId,\"] receive publish error code, retry\"),n.toString()),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw n}}async publishDataChannel(e,t,i){var n;if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new uP(hO.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));const r={stream_id:t.streamId,ordered:t.ordered?1:0,max_retrans_times:null!==(n=t.maxRetransmits)&&void 0!==n?n:10,channel_id:t.channelId,metadata:t.metadata};try{await this.signal.request(FV.PUBLISH_DATASTREAM,r,!0)}catch(n){if(i&&n.data&&n.data.code===UV.ERR_PUBLISH_REQUEST_INVALID)return iP.warning(\"[\".concat(this.store.clientId,\"] receive publish datachannels error code, retry\"),n.toString()),await this.tryUnpubDataChannelBeforeRepub(e,t),this.publishDataChannel(e,t,!1);throw n}}async unpublish(e,t){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new uP(hO.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await this.signal.request(FV.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(e){iP.warning(\"[\".concat(this.store.clientId,\"] unpublish warning: \"),e)}}async unpublishDataChannel(e){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new uP(hO.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await rp.all(e.map((e=>this.signal.request(FV.UNPUBLISH_DATASTREAM,{channel_id:e},!0))))}catch(e){iP.warning(\"unpublish datachannels warning: \",e)}}async presubscribe(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new uP(hO.INVALID_OPERATION,\"can not presubscribe when connection state is \".concat(this.state));const n={stream_id:e,stream_type:t,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!CD(\"SUBSCRIBE_TWCC\"),rtx:!!CD(\"USE_SUB_RTX\")||void 0,extend:CD(\"SUB_EXTEND\"),svc:Array.isArray(CD(\"SVC\"))&&0!==CD(\"SVC\").length?CD(\"SVC\"):void 0};try{return await this.signal.request(FV.PRE_SUBSCRIBE,n,!0)}catch(n){if(i&&n.data&&n.data.code===UV.ERR_SUBSCRIBE_REQUEST_INVALID)return iP.warning(\"[\".concat(this.store.clientId,\"] pre-subscribe error, retry\"),n.toString()),this.presubscribe(e,t,!1);throw n}}async subscribe(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new uP(hO.INVALID_OPERATION,\"can not subscribe when connection state is \".concat(this.state));const n={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!CD(\"SUBSCRIBE_TWCC\"),rtx:!!CD(\"USE_SUB_RTX\"),extend:CD(\"SUB_EXTEND\"),ssrcId:t.ssrcId,svc:Array.isArray(CD(\"SVC\"))&&0!==CD(\"SVC\").length?CD(\"SVC\"):void 0};try{return(await this.signal.request(FV.SUBSCRIBE,n,!0))._message}catch(n){if(i&&n.data&&n.data.code===UV.ERR_SUBSCRIBE_REQUEST_INVALID)return iP.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe error code, retry\"),n.toString()),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw n}}async subscribeDataChannel(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new uP(hO.INVALID_OPERATION,\"can not subscribe datachannel when connection state is \".concat(this.state));const n={uid:e,stream_id:t.id,channel_id:t.datachannelId};try{return void await this.signal.request(FV.SUBSCRIBE_DATASTREAM,n,!0)}catch(n){if(i&&n.data&&n.data.code===UV.ERR_SUBSCRIBE_REQUEST_INVALID)return iP.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe datachannel error code, retry\"),n.toString()),await this.tryUnsubDataChannelBeforeResub(e,t),await this.subscribeDataChannel(e,t,!1);throw n}}async subscribeAll(e,t){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new uP(hO.INVALID_OPERATION,\"can not massSubscribe when connection state is \".concat(this.state));const i={p2p_id:this.store.p2pId,users:e,dtx:!1,rtx:!!CD(\"USE_SUB_RTX\"),twcc:!!CD(\"SUBSCRIBE_TWCC\"),svc:Array.isArray(CD(\"SVC\"))&&0!==CD(\"SVC\").length?CD(\"SVC\"):void 0};try{return await this.signal.request(FV.SUBSCRIBE_STREAMS,i,!0)}catch(i){if(t&&i.data&&i.data.code===UV.ERR_SUBSCRIBE_REQUEST_INVALID)return iP.warning(\"[\".concat(this.store.clientId,\"] receiver massSubscribe error code, retry\"),i.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw i}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,i=e.width,n=e.height,r=!0;return\"number\"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(r=!1)),\"number\"!=typeof i&&(i=i.exact||i.ideal||i.max||i.min||0,i||(r=!1)),\"number\"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,t||(r=!1)),r?{stream_type:0,width:i,height:n,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);if(t)return this.signal.request(FV.SET_VIDEO_PROFILE,t);iP.debug(\"[\".concat(this.store.clientId,\"] encoder config is not complete, do not report to gateway\"))}async unsubscribe(e,t){try{await this.signal.request(FV.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(e){iP.warning(\"[\".concat(this.store.clientId,\"] unsubscribe warning: \"),e)}}async unsubscribeDataChannel(e,t){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new uP(hO.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await rp.all(e.map((e=>this.signal.request(FV.UNSUBSCRIBE_DATASTREAM,{stream_id:e,uid:t},!0))))}catch(e){iP.warning(\"unsubscribeDataChannel warning: \",e)}}async massUnsubscribe(e){try{await this.signal.request(FV.UNSUBSCRIBE_STREAMS,e,!0)}catch(e){iP.warning(\"[\".concat(this.store.clientId,\"] massUnsubscribeAll warning: \"),e)}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=e;return{gatewayEstablishParams:await this.signal.request(FV.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(FV.GATEWAY_INFO)}async renewToken(e){await this.signal.request(FV.RENEW_TOKEN,e),this.key=e.token}updateClientRole(e,t){t&&(this._clientRoleOptions=Object.assign({},t)),CD(\"CLIENT_ROLE_OPTIONS\")&&(iP.debug(\"[\".concat(this.store.clientId,\"] Set roleOptions for \").concat(JSON.stringify(CD(\"CLIENT_ROLE_OPTIONS\")),\" instead of \").concat(JSON.stringify(this._clientRoleOptions),\" \")),this._clientRoleOptions=Object.assign({},CD(\"CLIENT_ROLE_OPTIONS\"))),this.role=e}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),CD(\"CLIENT_ROLE_OPTIONS\")&&(this._clientRoleOptions=Object.assign({},CD(\"CLIENT_ROLE_OPTIONS\")),iP.debug(\"[\".concat(this.store.clientId,\"] Set roleOptions for \").concat(JSON.stringify(CD(\"CLIENT_ROLE_OPTIONS\")),\" instead of \").concat(JSON.stringify(this._clientRoleOptions),\" \"))),\"CONNECTED\"!==this.state)return void(this.role=e);let i,n=0;\"audience\"===e?this._clientRoleOptions&&this._clientRoleOptions.delay?(i=this._clientRoleOptions.delay,n=1):n=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:n=0;const r=Object.assign({},t);delete r.delay,delete r.level,await this.signal.request(FV.SET_CLIENT_ROLE,dB(dB({role:e,level:n,delay:i},r),{},{client_ts:Date.now()})),this.role=e}async setDualStreamMode(e,t,i){await this.signal.request(FV.SET_DUAL_STREAM_MODE,{mode:e},i,t)}async setRemoteVideoStreamType(e,t){await this.signal.request(FV.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(FV.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(FV.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(FV.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}async setRTM2Flag(e){await this.signal.request(FV.SET_RTM2_FLAG,{rtm2_flag:e})}async sendExtensionMessage(e,t,i){if(this.store.useP2P)return this.signal.sendExtensionMessage(e,t,i)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),dB({},this.inChannelInfo)}async setConfigure(e){if(e&&Array.isArray(e)&&0!==e.length)return this.signal.request(FV.CONFIGURE,e)}async getGatewayVersion(){return(await this.signal.request(FV.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=lB.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0),this.usingProxy=!1}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){let t;return t=e.startsWith(\"dc\")?e.match(/(dc\\:\\/\\/)?([^:]+):(\\d+)/):e.match(/(wss\\:\\/\\/)?([^:]+):(\\d+)/),t?{username:ED.username,password:ED.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}((\"disabled\"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||\"\");this.joinInfo.turnServer.serversFromGateway=[],e&&\"off\"!==this.joinInfo.turnServer.mode&&\"disabled\"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(dB(dB({},ED),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if(\"CONNECTED\"!==this.state)return;const e=await this.signal.request(FV.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),null!=e.ntp_offset&&(this.ntpOffset=e.ntp_offset),e.peer_delay.forEach((e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find((t=>t.peer_uid===e.peer_uid));t&&t.B_st!==e.B_st&&oN((()=>{this.emit(sx.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){var t,i,n,r;if(!this.joinInfo||!this.key)throw new uP(hO.UNEXPECTED_ERROR,\"can not generate join message, no join info\");const o=Object.assign({},this.joinInfo.apResponse);let s=CD(\"REPORT_APP_SCENARIO\");if(\"string\"!=typeof s)try{s=JSON.stringify(s)}catch(e){s=void 0}var a;s&&s.length>128&&(s=void 0),this.store.hasStartJoinChannel=!0,this.store.isABTestSuccess||this.emit(sx.UPDATE_GATEWAY_CONFIG),a=this.store.clientId,Ln(YU).call(YU,a)||YU.push(a);const c=mP(this.store),d=!(null===(t=this.isPreallocation)||void 0===t||!t.call(this)),l=fP(this.store),u=iB(),h=Gw(87)||xw()||Yw(117),p=(function(){const e=Dw();if(e.name!==bw.SAFARI||!e.browserVersion)return!1;const t=e.browserVersion.split(\".\");return Number(t[0])>18||18===Number(t[0])&&Number(t[1])>=4}()||qw(18,4,!1))&&Jw(18,6,!0)&&\"h264\"===this.spec.codec&&CD(\"ENABLE_ABSSENDTIME_AS_SENTTS\"),_=!(\"CN\"!==(null===(i=o.detail)||void 0===i?void 0:i[3])||!CD(\"ENABLE_QUALITY_FALLBACK\"))&&CD(\"ENABLE_QUALITY_FALLBACK\"),E=!!CD(\"ENABLE_AP_MULTI_IP\")&&\"multi-ip\"===(null===(n=o.detail)||void 0===n?void 0:n[5]),m=dB({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:hD,browser:navigator.userAgent,process_id:CD(\"PROCESS_ID\"),mode:this.store.useP2P?\"p2p\":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:E||this.hasChangeBGPAddress,ap_response:o,extend:CD(\"JOIN_EXTEND\"),details:{6:this.joinInfo.stringUid,cservice_map:\"proxy3\"===this.joinInfo.cloudProxyServer?\"1\":\"proxy5\"===this.joinInfo.cloudProxyServer?\"2\":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:s,attributes:{userAttributes:dB(dB({enableEncodedTransform:(!!CD(\"ENABLE_AUDIO_METADATA\")||!!CD(\"ENABLE_AUDIO_PTS\"))&&h||!!CD(\"ENABLE_AUDIO_TOPN\")&&Hw(bw.CHROME,87,116)||void 0,enableAudioMetadata:!!CD(\"ENABLE_AUDIO_METADATA\")&&h,enableAudioPts:!!CD(\"ENABLE_AUDIO_PTS\")&&h,topnSmoothLevel:CD(\"TOPN_SMOOTH_LEVEL\"),topnNewSpeakerDelay:CD(\"TOPN_NEW_SPEAKER_DELAY\"),topnSwitchHoldMs:CD(\"TOPN_SWITCH_HOLD_MS\"),topnAudioGain:CD(\"TOPN_AUDIO_GAIN\"),enableNetworkQualityProbe:this.store.networkQualityProbe,enablePublishedUserList:CD(\"ENABLE_PUBLISHED_USER_LIST\"),maxSubscription:CD(\"MAX_SUBSCRIPTION\"),subscribeAudioFilterTopN:tB(\"SUBSCRIBE_AUDIO_FILTER_TOPN\",\"number\"),enablePublishAudioFilter:tB(\"ENABLE_PUBLISH_AUDIO_FILTER\",\"boolean\"),enableUserLicenseCheck:tB(\"ENABLE_USER_LICENSE_CHECK\",\"boolean\"),enableRTX:!0===CD(\"USE_PUB_RTX\")||!0===CD(\"USE_SUB_RTX\")||void 0,disableFEC:CD(\"DISABLE_FEC\"),enableNTPReport:!!CD(\"ENABLE_NTP_REPORT\")||void 0,enableInstantVideo:l,enableFulllinkAvSync:!!CD(\"ENABLE_FULL_LINK_AV_SYNC\")||void 0,enableDataStream2:tB(\"ENABLE_DATASTREAM_2\",\"boolean\"),enableAutFeedback:!!CD(\"FORCE_ENABLE_AUT_CC\")||!EP()&&(!!CD(\"ENABLE_AUT_FEEDBACK\")||void 0),rtm2Flag:\"number\"==typeof this.joinInfo.rtmFlag?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!CD(\"ENABLE_USER_AUTO_REBALANCE_CHECK\"),enableXR:tB(\"USE_XR\",\"boolean\"),enableLossbasedBwe:tB(\"ENABLE_LOSSBASED_BWE\",\"boolean\"),enableAutCC:!!CD(\"FORCE_ENABLE_AUT_CC\")||!EP()&&(!!CD(\"ENABLE_AUT_CC\")||void 0),enableCCFallback:tB(\"ENABLE_CC_FALLBACK\",\"boolean\"),enablePreallocPC:d,preSubNum:c?tB(\"PRE_SUB_NUM\",\"number\"):void 0,enablePubTWCC:tB(\"PUBLISH_TWCC\",\"boolean\"),enableSubTWCC:tB(\"SUBSCRIBE_TWCC\",\"boolean\"),enablePubRTX:tB(\"USE_PUB_RTX\",\"boolean\"),enableSubRTX:tB(\"USE_SUB_RTX\",\"boolean\"),enableSubSVC:CD(\"ENABLE_SVC\")?CD(\"ENABLE_SVC_DEFAULT_CODECS\"):Array.isArray(CD(\"SVC\"))&&0!==CD(\"SVC\").length?CD(\"SVC\"):void 0,enableSvcExtended:CD(\"ENABLE_SVC\")&&Array.isArray(CD(\"SVC_EXTENDED\"))&&0!==CD(\"SVC_EXTENDED\").length?CD(\"SVC_EXTENDED\"):void 0,enableVosFallback:CD(\"ENABLE_VOS_FALLBACK\"),enableQualityFallback:_},u),{},{audioDuplicate:tB(\"ENABLE_AUDIO_RED\",\"boolean\")?null!==(r=tB(\"AUDIO_DUPLICATE_NUM\",\"number\"))&&void 0!==r?r:2:void 0,senttsUsesAbsSendTime:!!p||void 0,enableDualStreamFlag:tB(\"ENABLE_DUAL_STREAM_FLAG\",\"boolean\")})},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(m.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(m.aes_mode=this.joinInfo.aesmode,CD(\"ENCRYPT_AES\")?(m.aes_secret=this.joinInfo.aespassword,m.aes_encrypt=!0):m.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(m.aes_salt=this.joinInfo.aessalt)),o.addresses[this.signal.websocket.currentURLIndex]&&(m.ap_response.ticket=o.addresses[this.signal.websocket.currentURLIndex].ticket,delete o.addresses),void 0!==this.joinInfo.defaultVideoStream&&(m.default_video_stream=this.joinInfo.defaultVideoStream),m}getRejoinMessage(){if(!this.joinInfo)throw new uP(hO.UNEXPECTED_ERROR,\"can not generate rejoin message, no join info\");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(xV.WS_RECONNECT_CREATE_CONNECTION,(e=>{this.joinGatewayStartTime=Date.now()})),this.signal.on(xV.WS_RECONNECTING,(e=>{this.joinInfo&&lP.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||HO.NETWORK_ERROR}),this.joinInfo&&(this.state=\"RECONNECTING\",lP.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:\"live\"===this.spec.mode?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:\"audience\"===this.role?2:1,buildFormat:1}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())})),this.signal.on(xV.WS_CLOSED,(e=>{let t;switch(e){case VO.LEAVE:t=HO.LEAVE;break;case VO.UID_BANNED:case VO.IP_BANNED:case VO.CHANNEL_BANNED:case VO.SERVER_ERROR:t=HO.SERVER_ERROR;break;case VO.FALLBACK:t=HO.FALLBACK;break;case VO.LICENSE_MISSING:case VO.LICENSE_EXPIRED:case VO.LICENSE_MINUTES_EXCEEDED:case VO.LICENSE_PERIOD_INVALID:case VO.LICENSE_MULTIPLE_SDK_SERVICE:case VO.LICENSE_ILLEGAL:case VO.TOKEN_EXPIRE:t=e;break;default:t=HO.NETWORK_ERROR}iP.debug(\"[\".concat(this.store.clientId,\"] [signal] websocket closed, reason: \").concat(t||\"undefined -> \"+HO.NETWORK_ERROR)),this.joinInfo&&lP.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===VO.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==VO.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset()})),this.signal.on(xV.WS_CONNECTED,(()=>{if(this.updateTurnConfigFromSignal(),this.state=\"CONNECTED\",this.joinInfo){if(\"audience\"===this.role){const e=CD(\"CLIENT_ROLE_OPTIONS\")||this._clientRoleOptions;e&&(e.level||e.delay)&&(iP.debug(\"[\".concat(this.store.clientId,\"] patch to send set client role, role: \").concat(this.role,\", mode: \").concat(this.spec.mode,\", level: \").concat(e.level,\", delay: \").concat(e.delay)),this.setClientRole(this.role,e))}if(lP.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,isProxy:!!this.joinInfo.proxyServer||this.usingProxy,signalChannel:\"DataChannelSignal\"===this.signal.__name__?\"1\":\"0\",preload:this.joinInfo.preload,isABTestSuccess:this.store.isABTestSuccess}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&1===this.joinInfo.setLocalAPVersion){const e=this.signal.url&&this.signal.url.match(/wss\\:\\/\\/([^:]+):(\\d+)/);if(!e)return void iP.error(\"[\".concat(this.store.clientId,\"] set local access point after joined failed: \").concat(e));RD(\"EVENT_REPORT_DOMAIN\",e[1]),RD(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]),RD(\"LOG_UPLOAD_SERVER\",\"\".concat(e[1],\":6444\"))}}})),this.signal.on(jV.ON_UPLINK_STATS,(e=>{this._statsCollector.updateUplinkStats(e)})),this.signal.on(xV.REQUEST_RECOVER,((e,t,i)=>{if(!this.joinInfo)return i(new uP(hO.UNEXPECTED_ERROR,\"gateway: can not recover, no join info\"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,zO(this,sx.REQUEST_NEW_GATEWAY_LIST).then(t).catch(i)})),this.signal.on(xV.REQUEST_JOIN_INFO,(async(e,t,i)=>{var n,r,o;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void e(this.getJoinMessage({ortc:{}}));const s=sN(null===(n=this.joinInfo)||void 0===n?void 0:n.turnServer);if(CD(\"NEW_TURN_MODE\")&&s&&\"disabled\"===(null===(r=this.joinInfo)||void 0===r?void 0:r.cloudProxyServer)){var a;let e=s.servers.map((e=>\"turnServerURL\"in e&&CD(\"USE_TURN_IP\")?dB(dB({},e),{},{turnServerURL:aF(e.turnServerURL)}):e)),t=null===(a=s.serversFromGateway)||void 0===a?void 0:a.map((e=>CD(\"USE_TURN_IP\")?dB(dB({},e),{},{turnServerURL:aF(e.turnServerURL)}):e));const i=this.signal.currentURLIndex;if(e.length>0){e=[e[i%e.length]],s.servers=e}Array.isArray(t)&&t.length>0&&(t=[t[0]],s.serversFromGateway=t),iP.debug(\"[\".concat(this.store.clientId,\"] use single turn, use turn server index: \").concat(i))}const{iceParameters:c,dtlsParameters:d,rtpCapabilities:l}=await zO(this,sx.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:s,cloudProxyServer:null===(o=this.joinInfo)||void 0===o?void 0:o.cloudProxyServer});try{e(this.getJoinMessage({ortc:{iceParameters:c,dtlsParameters:d,rtpCapabilities:l,version:\"2\"}}))}catch(e){t(e)}})),this.signal.on(xV.REQUEST_REJOIN_INFO,(e=>{e(this.getRejoinMessage())})),this.signal.on(xV.REPORT_JOIN_GATEWAY,((e,t)=>{if(!this.joinInfo)return;let i,n=\"\";var r;e instanceof uP?(i=(null===(r=e.data)||void 0===r?void 0:r.desc)||e.code,n=e.message):i=e;lP.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:i,errorMsg:n,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,isProxy:!!this.joinInfo.proxyServer||this.usingProxy,signalChannel:\"DataChannelSignal\"===this.signal.__name__?\"1\":\"0\",preload:this.joinInfo.preload})})),this.signal.on(xV.IS_P2P_DISCONNECTED,(e=>{e(JO(this,sx.IS_P2P_DISCONNECTED))})),this.signal.on(xV.DISCONNECT_P2P,(()=>{this.emit(sx.DISCONNECT_P2P)})),this.signal.on(xV.REQUEST_SUCCESS,(()=>{this._signalTimeout=!1})),this.signal.on(xV.REQUEST_TIMEOUT,(()=>{this._signalTimeout=!0})),this.signal.on(xV.JOIN_RESPONSE,(e=>{const t=this.getCurrentGatewayAddress();this.emit(sx.JOIN_RESPONSE,e,t)})),this.signal.on(xV.PRE_CONNECT_PC,(async(e,t)=>{if(this.joinInfo){var i,n;this.updateTurnConfigFromSignal();const o=this.getCurrentGatewayAddress(),s=sN(null===(i=this.joinInfo)||void 0===i?void 0:i.turnServer);if(CD(\"NEW_TURN_MODE\")&&s&&\"disabled\"===(null===(n=this.joinInfo)||void 0===n?void 0:n.cloudProxyServer)){var r;let e=s.servers.map((e=>\"turnServerURL\"in e&&CD(\"USE_TURN_IP\")?dB(dB({},e),{},{turnServerURL:aF(e.turnServerURL)}):e)),t=null===(r=s.serversFromGateway)||void 0===r?void 0:r.map((e=>CD(\"USE_TURN_IP\")?dB(dB({},e),{},{turnServerURL:aF(e.turnServerURL)}):e));const i=this.signal.currentURLIndex;if(e.length>0){e=[e[i%e.length]],s.servers=e}Array.isArray(t)&&t.length>0&&(t=[t[0]],s.serversFromGateway=t),iP.debug(\"[\".concat(this.store.clientId,\"] use single turn, use turn server index: \").concat(i,\",in pre pc\"))}const a=CD(\"FINGERPRINT\")||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(o&&a){const i=PF(o);zO(this,sx.PRE_CONNECT_PC,{candidates:i,fingerprint:a,turnServer:s}).then((t=>{null==e||e(t)})).catch(t||(()=>{}))}}})),this.signal.on(xV.RECOVER_NOTIFICATION,(e=>{this.joinInfo&&\"string\"==typeof CD(\"AP_REQUEST_DETAIL\")&&(this.joinInfo.apRequestDetail=\"\".concat(CD(\"AP_REQUEST_DETAIL\"),\";\").concat(e))})),this.signal.on(xV.VOS_FALLBACK,(e=>{this.emit(sx.VOS_FALLBACK,e)})),this.signal.on(xV.DATACHANNEL_FAILBACK,(e=>{iP.warning(\"[\".concat(this.store.clientId,\"] User join datachannel failed\")),this.reset(),this.resetSignal(),this.emit(sx.DATACHANNEL_FAILBACK)}))}async tryUnsubBeforeResub(e,t){try{await this.signal.request(FV.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(e){throw iP.warning(\"[\".concat(this.store.clientId,\"] tryUnsubBeforeResub warning\"),e),e}}async tryUnsubDataChannelBeforeResub(e,t){try{await this.signal.request(FV.UNSUBSCRIBE,{stream_id:t.id},!0)}catch(e){throw iP.warning(\"unsubscribe datachannel warning\",e),e}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(FV.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(e){throw iP.warning(\"[\".concat(this.store.clientId,\"] tryUnpubBeforeRepub warning: \"),e),e}}async tryUnpubDataChannelBeforeRepub(e,t){try{await this.signal.request(FV.UNPUBLISH_DATASTREAM,{channnel_id:t.channelId},!0)}catch(e){throw iP.warning(\"unpublish datastream warning: \",e),e}}async tryMassUnsubBeforeResub(e){const t={users:e.map((e=>({stream_id:e.stream_id,stream_type:e.stream_type})))};try{await this.signal.request(FV.UNSUBSCRIBE_STREAMS,t,!0)}catch(e){throw iP.warning(\"[\".concat(this.store.clientId,\"] tryMassUnsubBeforeResub warning\"),e),e}}async muteLocal(e,t){const i={action:e.find((e=>e.stream_type===ox.Audio))?\"mute_local_audio\":\"mute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(FV.CONTROL,i,!0,!0)}catch(e){throw iP.warning(\"[\".concat(this.store.clientId,\"] gateway muteLocal warning: \"),e),e}}async unmuteLocal(e,t){const i={action:e.find((e=>e.stream_type===ox.Audio))?\"unmute_local_audio\":\"unmute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(FV.CONTROL,i,!0,!0)}catch(e){throw iP.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteLocal warning: \"),e),e}}async muteRemote(e,t){const i={action:e===fx.AUDIO?\"mute_remote_audio\":\"mute_remote_video\",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(FV.CONTROL,i,!0,!0)}catch(e){throw iP.warning(\"[\".concat(this.store.clientId,\"] gateway muteRemote warning: \"),e),e}}async unmuteRemote(e,t){const i={action:e===fx.AUDIO?\"unmute_remote_audio\":\"unmute_remote_video\",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(FV.CONTROL,i,!0,!0)}catch(e){throw iP.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteRemote warning: \"),e),e}}uploadWRTCStats(e){this.signal.uploadWRTCStats(e)}upload(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(FV.RESTART_ICE,t,!0)}catch(e){throw iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.restartICE warning: \"),e),e}}reconnect(e,t){\"CONNECTED\"===this.state&&this.signal.reconnect(e||void 0,t||HO.P2P_FAILED)}getCurrentGatewayAddress(){var e,t;if(!CD(\"GATEWAY_WSS_ADDRESS\"))return CD(\"USE_CANDIDATE_FROM_AP_DETAIL\")&&null!==(e=this.joinInfo)&&void 0!==e&&e.apGatewayAddress?(iP.debug(\"[\".concat(this.store.clientId,\"] use candidate from ap detail, \").concat(JSON.stringify(this.joinInfo.apGatewayAddress))),this.joinInfo.apGatewayAddress):null!==(t=this.joinInfo)&&void 0!==t&&t.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(FV.SET_PARAMETER,{enablePublishAudioFilter:e})}downgradeCodec(e){this.signal.downgradeCodec(e)}resetSignal(){this.signal&&(this.signal.removeAllListeners(),this.signal.close(VO.FALLBACK)),this.store.useDcSignal=!1,this.signal=new eF(dB(dB({},this.spec),{},{retryConfig:this.spec.websocketRetryConfig}),this.store),this.handleSignalEvents(),this.emit(sx.RESET_SIGNAL)}}let hB=0,pB=0;function _B(e,t,i,n){return new rp(((r,o)=>{t.timeout=t.timeout||CD(\"HTTP_CONNECT_TIMEOUT\"),t.responseType=t.responseType||\"json\",t.data&&!i?(t.data=JSON.stringify(t.data),hB+=_N(t.data)):i&&(t.data.size?hB+=t.data.size:t.data instanceof FormData?hB+=EN(t.data):hB+=_N(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers[\"Content-Type\"]=t.headers[\"Content-Type\"]||\"application/json\",t.method=\"POST\",t.url=e,Tw.request(t).then((e=>{\"string\"==typeof e.data?pB+=_N(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?pB+=e.data.byteLength:pB+=_N(JSON.stringify(e.data)),n&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((e=>{Tw.isCancel(e)?o(new uP(hO.OPERATION_ABORTED,\"cancel token canceled\")):\"ECONNABORTED\"===e.code?o(new uP(hO.NETWORK_TIMEOUT,e.message)):e.response?o(new uP(hO.NETWORK_RESPONSE_ERROR,e.response.status)):o(new uP(hO.NETWORK_ERROR,e.message))}))}))}\n/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */!function(){var e;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var n=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){return e==Array.prototype||e==Object.prototype||(e[t]=i.value),e};var r,o=function(e){e=[\"object\"==typeof globalThis&&globalThis,e,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof t&&t];for(var i=0;i<e.length;++i){var n=e[i];if(n&&n.Math==Math)return n}throw Error(\"Cannot find global object\")}(this);function s(e,t){if(t)e:{var i=o;e=e.split(\".\");for(var r=0;r<e.length-1;r++){var s=e[r];if(!(s in i))break e;i=i[s]}(t=t(r=i[e=e[e.length-1]]))!=r&&null!=t&&n(i,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t=\"undefined\"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}if(s(\"Symbol\",(function(e){function t(e,t){this.A=e,n(this,\"description\",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var i=\"jscomp_symbol_\"+(1e9*Math.random()>>>0)+\"_\",r=0;return function e(n){if(this instanceof e)throw new TypeError(\"Symbol is not a constructor\");return new t(i+(n||\"\")+\"_\"+r++,n)}})),s(\"Symbol.iterator\",(function(e){if(e)return e;e=Symbol(\"Symbol.iterator\");for(var t=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),r=0;r<t.length;r++){var s=o[t[r]];\"function\"==typeof s&&\"function\"!=typeof s.prototype[e]&&n(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(i(this))}})}return e})),\"function\"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var d;e:{var l={};try{l.__proto__={a:!0},d=l.a;break e}catch(e){}d=!1}r=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+\" is not extensible\");return e}:null}var u=r;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p(e){if(e.m)throw new TypeError(\"Generator is already running\");e.m=!0}function _(e,t){return e.h=3,{value:t}}function E(e){this.g=new h,this.G=e}function m(e,t,i,n){try{var r=t.call(e.g.j,i);if(!(r instanceof Object))throw new TypeError(\"Iterator result \"+r+\" is not an object\");if(!r.done)return e.g.m=!1,r;var o=r.value}catch(t){return e.g.j=null,e.g.s(t),f(e)}return e.g.j=null,n.call(e.g,o),f(e)}function f(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function S(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){p(e.g);var i=e.g.j;return i?m(e,\"return\"in i?i.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),f(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function g(e,t){return t=new S(new E(t)),u&&e.prototype&&u(t,e.prototype),t}if(h.prototype.o=function(e){this.v=e},h.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},h.prototype.return=function(e){this.l={return:e},this.h=this.u},E.prototype.o=function(e){return p(this.g),this.g.j?m(this,this.g.j.next,e,this.g.o):(this.g.o(e),f(this))},E.prototype.s=function(e){return p(this.g),this.g.j?m(this,this.g.j.throw,e,this.g.o):(this.g.s(e),f(this))},s(\"Array.prototype.entries\",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+=\"\");var i=0,n=!1,r={next:function(){if(!n&&i<e.length){var r=i++;return{value:t(r,e[r]),done:!1}}return n=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return[e,t]}))}})),\"undefined\"!=typeof Blob&&(\"undefined\"==typeof FormData||!FormData.prototype.keys)){var T=function(e,t){for(var i=0;i<e.length;i++)t(e[i])},R=function(e){return e.replace(/\\r?\\n|\\r/g,\"\\r\\n\")},C=function(e,t,i){return t instanceof Blob?(i=void 0!==i?String(i+\"\"):\"string\"==typeof t.name?t.name:\"blob\",t.name===i&&\"[object Blob]\"!==Object.prototype.toString.call(t)||(t=new File([t],i)),[String(e),t]):[String(e),String(t)]},v=function(e,t){if(e.length<t)throw new TypeError(t+\" argument required, but only \"+e.length+\" present.\")},y=\"object\"==typeof globalThis?globalThis:\"object\"==typeof window?window:\"object\"==typeof self?self:this,I=y.FormData,A=y.XMLHttpRequest&&y.XMLHttpRequest.prototype.send,b=y.Request&&y.fetch,w=y.navigator&&y.navigator.sendBeacon,O=y.Element&&y.Element.prototype,N=y.Symbol&&Symbol.toStringTag;N&&(Blob.prototype[N]||(Blob.prototype[N]=\"Blob\"),\"File\"in y&&!File.prototype[N]&&(File.prototype[N]=\"File\"));try{new File([],\"\")}catch(e){y.File=function(e,t,i){return e=new Blob(e,i||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(i&&void 0!==i.lastModified?new Date(i.lastModified):new Date)},toString:{value:function(){return\"[object File]\"}}}),N&&Object.defineProperty(e,N,{value:\"File\"}),e}}var D=function(e){return e.replace(/\\n/g,\"%0A\").replace(/\\r/g,\"%0D\").replace(/\"/g,\"%22\")},P=function(e){this.i=[];var t=this;e&&T(e.elements,(function(e){if(e.name&&!e.disabled&&\"submit\"!==e.type&&\"button\"!==e.type&&!e.matches(\"form fieldset[disabled] *\"))if(\"file\"===e.type){var i=e.files&&e.files.length?e.files:[new File([],\"\",{type:\"application/octet-stream\"})];T(i,(function(i){t.append(e.name,i)}))}else\"select-multiple\"===e.type||\"select-one\"===e.type?T(e.options,(function(i){!i.disabled&&i.selected&&t.append(e.name,i.value)})):\"checkbox\"===e.type||\"radio\"===e.type?e.checked&&t.append(e.name,e.value):(i=\"textarea\"===e.type?R(e.value):e.value,t.append(e.name,i))}))};if((e=P.prototype).append=function(e,t,i){v(arguments,2),this.i.push(C(e,t,i))},e.delete=function(e){v(arguments,1);var t=[];e=String(e),T(this.i,(function(i){i[0]!==e&&t.push(i)})),this.i=t},e.entries=function e(){var t,i=this;return g(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<i.i.length?e=_(e,i.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},e.forEach=function(e,t){v(arguments,1);for(var i=c(this),n=i.next();!n.done;n=i.next()){var r=c(n.value);n=r.next().value,r=r.next().value,e.call(t,r,n,this)}},e.get=function(e){v(arguments,1);var t=this.i;e=String(e);for(var i=0;i<t.length;i++)if(t[i][0]===e)return t[i][1];return null},e.getAll=function(e){v(arguments,1);var t=[];return e=String(e),T(this.i,(function(i){i[0]===e&&t.push(i[1])})),t},e.has=function(e){v(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},e.keys=function e(){var t,i,n,r,o=this;return g(e,(function(e){if(1==e.h&&(t=c(o),i=t.next()),3!=e.h)return i.done?void(e.h=0):(n=i.value,r=c(n),_(e,r.next().value));i=t.next(),e.h=2}))},e.set=function(e,t,i){v(arguments,2),e=String(e);var n=[],r=C(e,t,i),o=!0;T(this.i,(function(t){t[0]===e?o&&(o=!n.push(r)):n.push(t)})),o&&n.push(r),this.i=n},e.values=function e(){var t,i,n,r,o=this;return g(e,(function(e){if(1==e.h&&(t=c(o),i=t.next()),3!=e.h)return i.done?void(e.h=0):(n=i.value,(r=c(n)).next(),_(e,r.next().value));i=t.next(),e.h=2}))},P.prototype._asNative=function(){for(var e=new I,t=c(this),i=t.next();!i.done;i=t.next()){var n=c(i.value);i=n.next().value,n=n.next().value,e.append(i,n)}return e},P.prototype._blob=function(){var e=\"----formdata-polyfill-\"+Math.random(),t=[],i=\"--\"+e+'\\r\\nContent-Disposition: form-data; name=\"';return this.forEach((function(e,n){return\"string\"==typeof e?t.push(i+D(R(n))+'\"\\r\\n\\r\\n'+R(e)+\"\\r\\n\"):t.push(i+D(R(n))+'\"; filename=\"'+D(e.name)+'\"\\r\\nContent-Type: '+(e.type||\"application/octet-stream\")+\"\\r\\n\\r\\n\",e,\"\\r\\n\")})),t.push(\"--\"+e+\"--\"),new Blob(t,{type:\"multipart/form-data; boundary=\"+e})},P.prototype[Symbol.iterator]=function(){return this.entries()},P.prototype.toString=function(){return\"[object FormData]\"},O&&!O.matches&&(O.matches=O.matchesSelector||O.mozMatchesSelector||O.msMatchesSelector||O.oMatchesSelector||O.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),N&&(P.prototype[N]=\"FormData\"),A){var L=y.XMLHttpRequest.prototype.setRequestHeader;y.XMLHttpRequest.prototype.setRequestHeader=function(e,t){L.call(this,e,t),\"content-type\"===e.toLowerCase()&&(this.B=!0)},y.XMLHttpRequest.prototype.send=function(e){e instanceof P?(e=e._blob(),this.B||this.setRequestHeader(\"Content-Type\",e.type),A.call(this,e)):A.call(this,e)}}b&&(y.fetch=function(e,t){return t&&t.body&&t.body instanceof P&&(t.body=t.body._blob()),b.call(this,e,t)}),w&&(y.navigator.sendBeacon=function(e,t){return t instanceof P&&(t=t._asNative()),w.call(this,e,t)}),y.FormData=P}}();const EB=()=>{const e=CD(\"AREAS\");0===e.length&&e.push(dx.GLOBAL);return nr(e).call(e,((e,t,i)=>{const n=mB(t);return n?0===i?n:\"\".concat(e,\",\").concat(n):e}),\"\")},mB=e=>e===dx.OVERSEA?\"\".concat(ux.ASIA,\",\").concat(ux.EUROPE,\",\").concat(ux.AFRICA,\",\").concat(ux.NORTH_AMERICA,\",\").concat(ux.SOUTH_AMERICA,\",\").concat(ux.OCEANIA):ux[e],fB=e=>{const t={CODE:\"\",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((e=>{const i=hx[e],n=Object.keys(i);n&&n.map((e=>{\"CODE\"!==e&&(t[e]=t[e].concat(i[e]))}))})),t},SB={GLOBAL:{ASIA:[dx.CHINA,dx.JAPAN,dx.INDIA,dx.KOREA,dx.HKMC],EUROPE:[],NORTH_AMERICA:[dx.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},gB=Object.keys(SB[dx.GLOBAL]),TB=[dx.CHINA,dx.NORTH_AMERICA,dx.EUROPE,dx.ASIA,dx.JAPAN,dx.INDIA,dx.OCEANIA,dx.SOUTH_AMERICA,dx.AFRICA,dx.KOREA,dx.HKMC,dx.US],RB=function(e,t){let i=[];if(Ln(e).call(e,dx.GLOBAL)){const o=[dx.GLOBAL,dx.OVERSEA],s=Object.keys(hx);if(t===dx.GLOBAL)throw new uP(hO.INVALID_PARAMS,\"GLOBAL is an invalid excludedArea value\");if(t===dx.CHINA)i=[dx.OVERSEA];else if(r=t,Ln(gB).call(gB,r)){const e=(n=t,SB[dx.GLOBAL][n]||[]),r=[...o,t,...e];i=s.filter((e=>!Ln(r).call(r,e)))}else if(function(e){let t=!1;return gB.forEach((i=>{var n;Ln(n=SB[dx.GLOBAL][i]).call(n,e)&&(t=!0)})),t}(t)){const e=function(e){let t;return gB.forEach((i=>{var n;Ln(n=SB[dx.GLOBAL][i]).call(n,e)&&(t=i)})),t}(t),n=[...o,e,t];i=s.filter((e=>!Ln(n).call(n,e)))}else i=e;i=function(e){const t=[];return TB.forEach((i=>{Ln(e).call(e,i)&&t.push(i)})),t.concat(e.filter((e=>!Ln(TB).call(TB,e))))}(i)}else i=e;var n,r;return i};function CB(e){var t,i;if(!e&&Ln(t=CD(\"AREAS\")).call(t,dx.EXTENSIONS))return iP.debug(\"update area from ap : reset\"),void vB(WU,!0);if(!Ln(i=CD(\"AREAS\")).call(i,dx.GLOBAL)||!e)return;let n=hx.EXTENSIONS;n&&(n={CODE:mB(dx.EXTENSIONS),WEBCS_DOMAIN:[\"ap-web-1-\".concat(e,\".agora.io\")],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],PROXY_CS:[\"proxy-ap-web-\".concat(e,\".agora.io\")],CDS_AP:[\"cds-ap-web-1-\".concat(e,\".agora.io\"),\"cds-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],ACCOUNT_REGISTER:[\"sua-ap-web-1-\".concat(e,\".agora.io\"),\"sua-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],UAP_AP:[\"uap-ap-web-1-\".concat(e,\".agora.io\"),\"uap-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],EVENT_REPORT_DOMAIN:[\"statscollector-1-\".concat(e,\".agora.io\")],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-\".concat(e,\".agora.io\")],LOG_UPLOAD_SERVER:[\"logservice-\".concat(e,\".agora.io\")],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy-\".concat(e,\".agora.io\")]},iP.debug(\"update area from ap success: \".concat(e,\",config is \"),n),RD(\"AREAS\",[dx.EXTENSIONS],!0),Object.keys(n).map((e=>{if(\"LOG_UPLOAD_SERVER\"===e||\"EVENT_REPORT_DOMAIN\"===e||\"EVENT_REPORT_BACKUP_DOMAIN\"===e||\"PROXY_SERVER_TYPE3\"===e){RD(e,n[e][0])}else RD(e,n[e])})))}function vB(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=lP.reportApiInvoke(null,{name:LO.SET_AREA,options:e,tag:kO.TRACER});try{let n=[];if(\"string\"==typeof e&&(n=[e]),Array.isArray(e)&&(e.forEach((e=>{if(!Ln(lx).call(lx,e))throw new uP(hO.INVALID_PARAMS,\"invalid area code\")})),n=e),\"[object Object]\"===Object.prototype.toString.call(e)){const{areaCode:t,excludedArea:i}=e;if(!t)throw new uP(hO.INVALID_PARAMS,\"area code is needed\");let r=t;\"string\"==typeof t&&(r=[t]),n=i?RB(r,i):r}if(!t){if(yD.AREAS){const e=new uP(hO.PROHIBITED_OPERATION,\"setArea is prohibited because of config-distribute\");return i.onError(e),void iP.warning(\"setArea is prohibited because of config-distribute\")}if(Ln(n).call(n,dx.GLOBAL)&&CD(\"AREAS\")===dx.EXTENSIONS){const e=new uP(hO.PROHIBITED_OPERATION,\"setArea is prohibited because of ap extensions\");return i.onError(e),void iP.warning(\"setArea is prohibited because of ap extensions\")}}RD(\"AREAS\",n,t);const r=fB(n);Object.keys(r).map((e=>{if(\"LOG_UPLOAD_SERVER\"===e||\"EVENT_REPORT_DOMAIN\"===e||\"EVENT_REPORT_BACKUP_DOMAIN\"===e||\"PROXY_SERVER_TYPE3\"===e){RD(e,r[e][0])}else RD(e,r[e])})),iP.debug(\"set area success:\",n.join(\",\"))}catch(e){throw i.onError(e),e}i.onSuccess()}function yB(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function IB(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?yB(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yB(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let AB=1;function bB(e,t,i,n,r){AB+=1;const o={sid:i.sid,command:\"convergeAllocateEdge\",uid:\"666\",appId:i.appId,ts:Math.floor(Date.now()/1e3),seq:AB,requestId:AB,version:hD,cname:i.cname},s={service_name:t,json_body:JSON.stringify(o)};let a,c,d=e[0];return UN((async()=>{a=Date.now();const e=await _B(d,{data:s,cancelToken:n,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"}});if(c=Date.now()-a,0!==e.code){const t=new uP(hO.UNEXPECTED_RESPONSE,\"live streaming ap error, code\"+e.code,{retry:!0,responseTime:c});throw iP.error(t.toString()),t}const i=JSON.parse(e.json_body);if(200!==i.code){const e=new uP(hO.UNEXPECTED_RESPONSE,\"live streaming app center error, code: \".concat(i.code,\", reason: \").concat(i.reason),{code:i.code,responseTime:c});throw iP.error(e.toString()),e}if(!i.servers||0===i.servers.length){const e=new uP(hO.UNEXPECTED_RESPONSE,\"live streaming app center empty server\",{code:i.code,responseTime:c});throw iP.error(e.toString()),e}const r=function(e,t){return{addressList:e.servers.map((e=>\"wss://\".concat(e.address.replace(/\\./g,\"-\"),\".\").concat(CD(\"WORKER_DOMAIN\"),\":\").concat(e.wss,\"?serviceName=\").concat(encodeURIComponent(t)))),workerToken:e.workerToken,vid:e.vid}}(i,t);return CD(\"LIVE_STREAMING_ADDRESS\")&&(r.addressList=CD(\"LIVE_STREAMING_ADDRESS\")instanceof Array?CD(\"LIVE_STREAMING_ADDRESS\"):[CD(\"LIVE_STREAMING_ADDRESS\")]),IB(IB({},r),{},{responseTime:c})}),((n,r)=>(lP.apworkerEvent(i.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(n.addressList),firstSuccess:0===r,responseTime:c,serverIp:e[r%e.length]}),!1)),((n,r)=>(lP.apworkerEvent(i.sid,{success:!1,sc:n.data&&n.data.code||200,serviceName:t,responseTime:c,serverIp:e[r%e.length]}),!!(n.code!==hO.OPERATION_ABORTED&&n.code!==hO.UNEXPECTED_RESPONSE||n.data&&n.data.retry)&&(d=e[(r+1)%e.length],!0))),r)}let wB=1;function OB(e,t,i,n){let{url:r,areaCode:o}=e;const{clientId:s,sid:a}=t,c=Date.now();let d;const l=t.role,[u,h]=kB(t,o,[iF.CHOOSE_SERVER]);let p=QO.networkState;return UN((async()=>{p&&QO.networkState===KO.OFFLINE&&QO.onlineWaiter&&await rp.race([QO.onlineWaiter,fN(n&&n.maxRetryTimeout||kN.maxRetryTimeout)]),p=QO.networkState;const{data:e,headers:o}=await _B(r,{data:u,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);d=\"1\"===o.http3?1:-1,lP.reportResourceTiming(r,a),DB(e,r,t,c,[iF.CHOOSE_SERVER],d);const s=hF(e,iF.CHOOSE_SERVER);return PB(s),cF(s,r)}),(e=>(e&&lP.joinChooseServer(a,{role:l,lts:c,succ:!0,csAddr:r,opid:h,serverList:e.gatewayAddrs.map((e=>e.address)),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[iF.CHOOSE_SERVER].toString(),isHttp3:d,corssRegionTagReq:t.apRequestDetail,corssRegionTagRes:e.res.detail&&e.res.detail[38],vid:e.vid}),!1)),(e=>e.code!==hO.OPERATION_ABORTED&&(e.code===hO.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(lP.joinChooseServer(a,{role:l,lts:c,succ:!1,csAddr:r,serverList:null,opid:h,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[iF.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:p}),isHttp3:d,corssRegionTagReq:t.apRequestDetail}),iP.warning(\"[\".concat(s||\"sid-\".concat(a.slice(0,6)),\"] Choose server network error, retry\"),e),!0))),n)}function NB(e,t,i,n){let r,{url:o,areaCode:s,serviceIds:a}=e;const c=Date.now(),d=t.role,[l,u]=kB(t,s,a);let h;return UN((async()=>{h&&QO.networkState===KO.OFFLINE&&QO.onlineWaiter&&await rp.race([QO.onlineWaiter,fN(n&&n.maxRetryTimeout||kN.maxRetryTimeout)]),h=QO.networkState;const{data:e,headers:s}=await _B(o,{data:l,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);r=\"1\"===s.http3?1:-1,lP.reportResourceTiming(o,t.sid),DB(e,o,t,c,a,r);const d=hF(e,iF.CHOOSE_SERVER),u=hF(e,\"proxy5\"===t.cloudProxyServer?iF.CLOUD_PROXY_5:\"proxy3\"===t.cloudProxyServer||\"proxy4\"===t.cloudProxyServer?iF.CLOUD_PROXY:iF.CLOUD_PROXY_FALLBACK),p=performance.getEntriesByName(o),_=p[p.length-1];let E;return _&&(E={name:_.name,protocol:\"nextHopProtocol\"in _?_.nextHopProtocol:\"\",dnscost:\"domainLookupEnd\"in _&&\"domainLookupStart\"in _&&\"number\"==typeof _.domainLookupEnd&&\"number\"==typeof _.domainLookupStart?_.domainLookupEnd-_.domainLookupStart:-1,tcpTlsCost:\"connectEnd\"in _&&\"connectStart\"in _&&\"number\"==typeof _.connectEnd&&\"number\"==typeof _.connectStart?_.connectEnd-_.connectStart:-1,reqCost:\"requestStart\"in _&&\"number\"==typeof _.requestStart&&\"responseEnd\"in _&&\"number\"==typeof _.responseEnd?_.responseEnd-_.requestStart:-1,handleCost:\"leave_ts\"in e&&\"enter_ts\"in e&&\"number\"==typeof e.leave_ts&&\"number\"==typeof e.enter_ts?e.leave_ts-e.enter_ts:-1}),PB(d),{gatewayInfo:cF(d,o),proxyInfo:u,url:o,resourceTimingInfo:E}}),(e=>{var i;return e.gatewayInfo&&lP.joinChooseServer(t.sid,{role:d,lts:c,succ:!0,csAddr:o,serverList:e.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,opid:u,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:a.toString(),isHttp3:r,corssRegionTagReq:t.apRequestDetail,corssRegionTagRes:e.gatewayInfo.res.detail&&e.gatewayInfo.res.detail[38],vid:null===(i=e.gatewayInfo)||void 0===i?void 0:i.vid,resourceTimingInfo:e.resourceTimingInfo?JSON.stringify(e.resourceTimingInfo):void 0}),e.proxyInfo&&lP.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:o,turnServerAddrList:e.proxyInfo.addresses.map((e=>e.ip)).join(\",\"),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:a.toString()}),!1}),(e=>e.code!==hO.OPERATION_ABORTED&&(e.code===hO.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(lP.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:a.toString(),extend:JSON.stringify({networkState:h})}),iP.warning(\"[\".concat(t.clientId,\"] multi unilbs network error, retry\"),e),!0))),n)}const DB=(e,t,i,n,r,o)=>{const{sid:s,clientId:a,cloudProxyServer:c}=i,d=[],l=a=>{4096===a.flag?lP.joinChooseServer(s,{role:i.role,lts:n,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:a.error.message,csIp:a.error.data&&a.error.data.csIp,unilbsServerIds:r.toString(),isHttp3:o,corssRegionTagReq:i.apRequestDetail}):1048576!==a.flag&&4194304!==a.flag&&4194310!==a.flag||lP.joinWebProxyAP(s,{lts:n,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:a.error.code,eventType:c,unilbsServerIds:r.toString()})};if(e.response_body.forEach((t=>{const i=t.buffer.code;if(23===t.uri&&0===i&&!t.buffer.edges_services)if(4194310===t.buffer.flag)iP.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\"),t.buffer.edges_services=[];else{const i={error:new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,\"no edge services in ap response\",{retry:CD(\"NO_EDGES_RETRY\"),csIp:e.detail[502]}),flag:t.buffer.flag};d.push(i),l(i)}if(0!==i){const n=xx(i),r={error:new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,n.desc,{desc:n.desc,retry:n.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?iP.warning(r.error.toString()):d.push(r),l(r)}})),d.length)throw iP.warning(\"[\".concat(a||\"sid-\".concat(s.slice(0,6)),\"] multi unilbs \").concat(t,\" failed, \").concat(d.map((e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message,\", retry: \").concat(e.error.data.retry))).join(\" | \"))),new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,d.map((e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message))).join(\" | \"),{retry:!!d.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(d.map((e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((e=>!!e)))]})},PB=e=>{var t,i,n,r;if(e.addresses&&0===e.addresses.length&&0===e.code)throw new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,\"void gateway address\",{retry:!0,csIp:e.detail&&e.detail[502]});CD(\"AP_AREA\")&&(null!==(n=e.detail)&&void 0!==n&&n[23]&&\"string\"==typeof(null===(r=e.detail)||void 0===r?void 0:r[23])?CB(e.detail[23].toLowerCase()):CB());if(null!==(t=e.detail)&&void 0!==t&&t[19]&&\"string\"==typeof(null===(i=e.detail)||void 0===i?void 0:i[19])){const t=e.detail[19],i=null==t?void 0:t.split(\";\");for(let t=0;t<i.length;t++){var o;const n=kg(o=i[t]).call(o);e.addresses[t]&&i&&(e.addresses[t].fingerprint=n)}}if(CD(\"GATEWAY_ADDRESS\")&&CD(\"GATEWAY_ADDRESS\").length>0){iP.debug(\"assign gateway address to\",CD(\"GATEWAY_ADDRESS\"));const t=CD(\"GATEWAY_ADDRESS\").map((t=>{var i,n;const r=null!==(i=null===(n=e.addresses.find((e=>e.ip===t.ip&&e.port===t.port)))||void 0===n?void 0:n.fingerprint)&&void 0!==i?i:\"\";return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:t.fingerprint||r}}));e.addresses=t}},LB=(e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=xx(t.buffer.code);throw new uP(hO.UPDATE_TICKET_FAILED,\"[\".concat(t.buffer.code,\"]: \").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw iP.debug(\"update ticket request received ap response without response body:\",t),new uP(hO.UPDATE_TICKET_FAILED,\"cannot find response body from ap response\",{retry:!1})},kB=(e,t,i)=>{const n=Math.floor(Math.random()*10**12),r=\"host\"===e.role?\"1\":\"audience\"===e.role?\"2\":void 0,o={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:IB(IB(IB({6:e.stringUid,11:t,12:CD(\"USE_NEW_TOKEN\")?\"1\":void 0},r?{17:r}:{}),{},{22:t},e.apRequestDetail?{33:e.apRequestDetail}:{}),e.apRTM?{26:\"RTM2\"}:{}),key:e.token,service_ids:i,uid:e.uid||0}}]};o.request_bodies.forEach((t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))}));const s=new FormData;return s.append(\"request\",JSON.stringify(o)),[s,n]},MB=(e,t)=>{const i=Math.floor(Math.random()*10**12),n={appid:e.appId,client_ts:Date.now(),opid:i,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:\"\",6:e.stringUid,12:\"1\"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((e=>({ip:e.ip,port:e.port})))}}]},r=new FormData;return r.append(\"request\",JSON.stringify(n)),[r,i]};let UB=0;function VB(e){return rp.all(e.map((e=>e.then((e=>{throw e}),(e=>e))))).then((e=>{throw e}),(e=>e))}const xB=async e=>{let{fragementLength:t,referenceList:i,asyncMapHandler:n,allFailedhandler:r,promisesCollector:o}=e,s=0;const a=t;let c,d=0;const l=async()=>{const e=(()=>{const e=s*a,t=e+a;return i.slice(e,t).map(n)})();o&&o.push(...e);try{c=await VB(e)}catch(e){if(d+=a,s++,!(d>=i.length))return void await l();r(e)}e.forEach((e=>e.cancel()))};return await l(),c},FB=async e=>{let{referenceList:t,asyncMapHandler:i,closeFn:n}=e;const r=t.length;let o=0;const s=async()=>{const e=i(t.shift());try{return await e}catch(e){if(o++,o>=r||null!=n&&n(e))throw e;return s()}};return s()};async function BB(){if(\"undefined\"==typeof VideoDecoder)return!0;let e;const t=[18,0,10,13,0,0,0,3,180,253,144,6,136,8,8,8,32,50,85,16,66,128,2,8,32,132,0,8,0,180,90,204,169,166,242,109,241,190,143,149,160,133,4,144,43,122,168,159,120,159,205,39,82,131,57,52,87,187,68,23,248,134,204,226,97,17,49,183,55,236,219,249,221,98,208,215,190,59,179,167,213,47,1,246,150,14,194,245,159,83,35,64,103,218,38,21,82,3,135,21,185,84,248,134],i=[18,0,10,13,0,0,0,3,180,253,144,6,136,8,8,8,32,50,87,16,66,128,2,8,32,132,0,8,0,180,90,204,169,166,242,109,241,190,143,148,62,134,140,92,172,141,77,35,94,181,164,65,169,65,156,154,43,221,162,11,252,67,102,113,48,136,137,219,62,43,113,239,23,126,250,186,252,10,138,218,25,193,244,74,68,194,209,107,23,52,206,199,78,72,98,103,151,71,96,62,51,210,158,72,231,158],n=[18,0,10,13,0,0,0,3,180,253,144,6,136,8,8,8,32,50,87,16,66,128,2,8,32,132,0,8,0,180,90,204,169,166,242,109,241,190,143,143,233,163,51,196,98,95,151,224,22,134,33,240,150,248,67,18,34,196,142,81,238,173,140,80,205,232,132,144,67,12,131,157,4,171,243,86,122,35,6,166,184,243,85,126,13,206,103,152,62,168,160,187,2,241,138,52,211,72,121,128,151,63,147,128,19,42],r=[18,0,50,138,1,48,192,64,253,248,65,17,67,192,32,0,16,0,0,0,0,0,0,0,195,12,48,144,64,32,0,209,75,61,9,204,25,115,79,226,115,63,63,208,70,210,220,153,126,241,237,37,107,195,153,1,99,112,230,189,209,169,130,10,11,22,167,215,159,205,197,7,183,162,26,48,254,141,134,103,32,16,235,45,1,15,18,119,169,110,206,251,51,115,202,60,148,1,46,39,109,25,28,86,168,15,77,211,239,2,58,43,146,26,230,184,81,48,140,226,226,250,222,146,171,133,164,13,188,180,64,122,142,146,32,208,238,170,193,35,53,44,225],o=[18,0,50,107,48,0,133,125,248,65,26,195,64,62,32,31,16,0,0,0,0,0,1,4,16,64,144,64,32,0,204,24,122,65,56,165,18,52,206,218,4,187,51,97,9,29,191,90,253,106,185,31,197,155,52,205,245,185,203,131,20,226,25,124,95,113,220,113,141,15,15,104,211,144,152,237,150,157,127,51,143,24,231,218,171,255,176,241,128,229,149,150,148,66,245,228,91,27,182,228,136,61,182,237,133,45,220,24,103,214,152],s=[18,0,50,122,48,1,9,253,248,65,26,67,64,62,32,31,16,0,0,0,0,0,1,4,16,64,144,64,32,0,198,182,231,242,220,235,163,140,12,36,36,166,46,132,210,4,71,23,218,132,27,30,17,45,244,79,31,243,195,136,100,169,76,88,142,85,204,217,121,168,29,163,198,17,251,223,73,12,212,244,139,123,151,179,75,216,96,208,136,40,229,42,59,149,10,116,228,85,99,93,221,108,255,140,248,20,30,167,122,109,206,164,108,197,110,251,23,243,133,160,63,13,207,177,12,128],a=await new rp(((a,c)=>{let d;!async function(){e&&\"closed\"!==e.state||await async function(){e=new VideoDecoder({output:e=>{e.close(),clearTimeout(d),a(!0)},error:e=>{clearTimeout(d),a(!1)}}),await e.configure({codec:\"av01.0.05M.08\",width:160,height:90})}();const c=[t,i,n,r,o,s];for(let t=0;t<c.length;t++){const i=new EncodedVideoChunk({type:0==t?\"key\":\"delta\",timestamp:33333*t,duration:33333,data:new Uint8Array(c[t])});try{await e.decode(i)}catch(e){return void a(!1)}}}(),d=setTimeout((()=>{a(!1)}),5e3)}));return a}async function jB(e,t,i,n){const r=async function(e,t,i,n){let r=null;const o=[],s=async()=>{const r=CD(\"WEBCS_DOMAIN\").slice(0,CD(\"AJAX_REQUEST_CONCURRENT\")).map((t=>({url:e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),areaCode:EB()}))),s=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),a=await xB({fragementLength:CD(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(iP.debug(\"[\".concat(e.clientId,\"] Connect to choose_server:\"),n.url),OB(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},s),e[0]},promisesCollector:o});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},s),a},a=async()=>{if(await fN(1e3),null!==r)return r;const s=CD(\"WEBCS_DOMAIN_BACKUP_LIST\").map((t=>({url:e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),areaCode:EB()}))),a=n.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:s.map((e=>e.url))}),c=await xB({fragementLength:CD(\"FRAGEMENT_LENGTH\"),referenceList:s,asyncMapHandler:n=>(iP.debug(\"[\".concat(e.clientId,\"] Connect to backup choose_server:\"),n.url),OB(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},a),e[0]},promisesCollector:o});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),c};try{return r=await VB([s(),a()]),o.length&&o.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),r}catch(e){throw e[0]}}(e,t,i,n);return{gatewayInfo:await r}}async function GB(e,t,i,n,r){const o=e.cloudProxyServer;if(\"disabled\"===o){if(!n)return;if(e.useLocalAccessPoint)return await jB(e,t,i,r);if(CD(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")){const{gatewayInfo:n,proxyInfo:o}=await zB(e,t,i,r);if(e.turnServer&&\"auto\"!==e.turnServer.mode)return{gatewayInfo:n};const a=o.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||ED.tcpport,udpport:e.udpport||ED.udpport,username:e.username||ED.username,password:e.password||ED.password,forceturn:!1,security:!0})));if(r.useP2P){var s;const t=null!==(s=e.uid)&&void 0!==s?s:n.uid,i=\"glb:\".concat(t.toString()),r=await OO(i),c=o.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||ED.tcpport,udpport:e.udpport||ED.udpport,username:i,password:r,forceturn:!1,security:!0})));a.push(...c)}return e.turnServer={mode:\"manual\",servers:a},{gatewayInfo:n}}return await jB(e,t,i,r)}const{proxyInfo:a,gatewayInfo:c}=await zB(e,t,i,r),d={gatewayInfo:c},l=a.map((e=>({turnServerURL:e.address,tcpport:\"proxy3\"===o?void 0:e.tcpport?e.tcpport:ED.tcpport,udpport:\"proxy4\"===o?void 0:e.udpport?e.udpport:ED.udpport,username:e.username||ED.username,password:e.password||ED.password,forceturn:\"proxy4\"!==o,security:\"proxy5\"===o})));if(r.useP2P){var u;const t=null!==(u=e.uid)&&void 0!==u?u:c.uid,i=\"glb:\".concat(t.toString()),n=await OO(i),r=a.map((e=>({turnServerURL:e.address,tcpport:\"proxy3\"===o?void 0:e.tcpport||ED.tcpport,udpport:\"proxy4\"===o?void 0:e.udpport||ED.udpport,username:i,password:n,forceturn:\"proxy4\"!==o,security:\"proxy5\"===o})));l.push(...r)}return e.turnServer={mode:\"manual\",servers:l},iP.debug(\"[\".concat(e.clientId,\"] set proxy server: \").concat(e.proxyServer,\", mode: \").concat(o)),d}async function WB(e,t,i,n,r){const o=CD(\"ACCOUNT_REGISTER\").slice(0,CD(\"AJAX_REQUEST_CONCURRENT\"));let s=[];s=t.proxyServer?o.map((e=>\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1\"))):o.map((e=>\"https://\".concat(e,\"/api/v1\")));const a=null==r?void 0:r.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"stringUID\",urls:s});try{const o=await async function(e,t,i,n,r){const o=Date.now(),s={sid:i.sid,opid:10,appid:i.appId,string_uid:t};let a=e[0];const c=await UN((()=>_B(a+\"\".concat(-1===a.indexOf(\"?\")?\"?\":\"&\",\"action=stringuid\"),{data:s,cancelToken:n,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":72}})),((i,n)=>{if(0===i.code){if(i.uid<=0||i.uid>=Math.pow(2,32))throw iP.error(\"Invalid Uint Uid \".concat(t,\" => \").concat(i.uid),i),lP.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:i.uid,errorCode:hO.INVALID_UINT_UID_FROM_STRING_UID,extend:s}),new uP(hO.INVALID_UINT_UID_FROM_STRING_UID);return lP.reqUserAccount(s.sid,{lts:o,success:!0,serverAddr:a,stringUid:s.string_uid,uid:i.uid,errorCode:null,extend:s}),!1}const r=xx(i.code);return r.retry&&(a=e[(n+1)%e.length]),lP.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:i.uid,errorCode:r.desc,extend:s}),r.retry}),((t,i)=>t.code!==hO.OPERATION_ABORTED&&(lP.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:null,errorCode:t.code,extend:s}),a=e[(i+1)%e.length],!0)),r);if(0!==c.code){const e=xx(c.code);throw new uP(hO.UNEXPECTED_RESPONSE,e.desc)}return c}(s,e,t,i,n);return null==r||r.recordJoinChannelService({status:\"success\",endTs:Date.now()},a),o.uid}catch(e){throw null==r||r.recordJoinChannelService({status:\"error\",endTs:Date.now(),errors:[e]},a),e}}async function HB(e,t,i){const n=CD(\"ACCOUNT_REGISTER\");let r=[];r=t.proxyServer?n.map((e=>\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1\"))):n.map((e=>\"https://\".concat(e,\"/api/v1\")));try{const n=await FB({referenceList:r,asyncMapHandler:n=>async function(e,t,i,n){const r=Date.now(),o={sid:i.sid,opid:10,appid:i.appId,string_uid:t};try{const t=await _B(e+\"\".concat(-1===e.indexOf(\"?\")?\"?\":\"&\",\"action=stringuid\"),{data:o,cancelToken:n,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":72}});if(0!==t.code){const e=xx(t.code);throw new uP(hO.UNEXPECTED_RESPONSE,\"preload sua error:\".concat(e.desc),e)}if(t.uid<=0||t.uid>=Math.pow(2,32))throw new uP(hO.INVALID_UINT_UID_FROM_STRING_UID);return{requestTime:r,url:e,req:o,uid:t.uid,elapse:Date.now()-r}}catch(e){throw e}}(n,e,t,i),closeFn:e=>e.code===hO.OPERATION_ABORTED||e.code===hO.UNEXPECTED_RESPONSE&&!e.data.retry});return n}catch(e){throw e}}async function KB(e,t,i){const n=CD(\"CDS_AP\").slice(0,CD(\"AJAX_REQUEST_CONCURRENT\")).map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v1\"):\"https://\".concat(t,\"/api/v1?action=config\"))),r=n.map((n=>function(e,t,i,n){const r=Dw(),o={flag:64,cipher_method:0,features:IB(IB(IB(IB(IB({install_id:uD(),device:r.name,system:r.os,system_general:navigator.userAgent,vendor:t.appId,version:hD,cname:t.cname,session_id:t.sid,proxyServer:t.proxyServer,sdk_type:tF.WEB_RTC,browser_name:r.name,browser_version:r.version,user_agent:navigator.userAgent,channel_name:t.cname},t.stringUid&&{string_uid:t.stringUid}),t.uid&&{uid:t.uid+\"\"}),r.os&&{os_name:r.os}),r.osVersion&&{os_version:r.osVersion}),{},{detail:\"\"})};return UN((()=>_B(e,{data:o,timeout:1e3,cancelToken:i,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":54}})),void 0,(e=>e.code!==hO.OPERATION_ABORTED),n)}(n,e,t,i)));let o=null,s=null,a={};try{o=await VB(r)}catch(e){if(e.code===hO.OPERATION_ABORTED)throw e;s=e}r.forEach((e=>e.cancel()));if(lP.reportApiInvoke(e.sid,{name:LO.REQUEST_CONFIG_DISTRIBUTE,options:{error:s,res:o}}).onSuccess(),o&&o.test_tags)try{a=function(e){if(!e.test_tags)return{};const t=e.test_tags,i=Object.keys(t),n={};return i.forEach((e=>{var i;const r=kg(i=e.slice(4)).call(i),o=JSON.parse(t[e]),s=o[1];n[r]={tag:o[0]||\"\",value:s}})),n}(o)}catch(e){}return a}async function YB(e,t){const i=CD(\"WEBCS_DOMAIN\").concat(CD(\"WEBCS_DOMAIN_BACKUP_LIST\")).map((e=>({url:\"https://\".concat(e,\"/api/v2/transpond/webrtc?v=2\"),areaCode:EB(),serviceIds:[iF.CHOOSE_SERVER,iF.CLOUD_PROXY_FALLBACK]})));try{const n=await FB({referenceList:i,asyncMapHandler:i=>async function(e,t,i){let n,{url:r,areaCode:o,serviceIds:s}=e;const a=Date.now(),[c,d]=kB(t,o,s);let l=QO.networkState;try{l&&QO.networkState===KO.OFFLINE&&QO.onlineWaiter&&await rp.race([QO.onlineWaiter,fN(kN.maxRetryTimeout)]),l=QO.networkState;const{data:e,headers:t}=await _B(r,{data:c,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);n=\"1\"===t.http3?1:-1;const o=e=>{const t=[];if(e.response_body.forEach((i=>{const n=i.buffer.code;if(23===i.uri&&0===n&&!i.buffer.edges_services)if(4194310===i.buffer.flag)i.buffer.edges_services=[];else{const n={error:new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,\"no edge services in ap response\",{retry:CD(\"NO_EDGES_RETRY\"),csIp:e.detail[502]}),flag:i.buffer.flag};t.push(n)}if(0!==n){const r=xx(n),o={error:new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,r.desc,{desc:r.desc,retry:r.retry,csIp:e.detail[502]}),flag:i.buffer.flag};4194310===i.buffer.flag?iP.warning(o.error.toString()):t.push(o)}})),t.length)throw new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,t.map((e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message))).join(\" | \"),{retry:!!t.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(t.map((e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((e=>!!e)))]})};o(e);const s=hF(e,iF.CHOOSE_SERVER),u=hF(e,iF.CLOUD_PROXY_FALLBACK);return PB(s),{gatewayInfo:cF(s,r),proxyInfo:u,opid:d,requestTime:a,url:r,isHttp3:n,elapse:Date.now()-a}}catch(e){throw e}}(i,e,t),closeFn:e=>e.code===hO.OPERATION_ABORTED||e.code===hO.CAN_NOT_GET_GATEWAY_SERVER&&!e.data.retry});return n}catch(e){throw e}}async function zB(e,t,i,n){const r=CD(\"PROXY_SERVER_TYPE3\"),o=(e,t,i)=>{let n=i||r;return Array.isArray(n)&&(n=t%2==0&&r[1]||r[0]),\"https://\".concat(n,\"/ap/?url=\").concat(e)};let s=null;const a=[],c=async()=>{const r=CD(\"WEBCS_DOMAIN\").slice(0,CD(\"AJAX_REQUEST_CONCURRENT\")).map(((t,i)=>{let n;return n=\"disabled\"===e.cloudProxyServer&&e.proxyServer?o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i,e.proxyServer):\"disabled\"===e.cloudProxyServer||\"fallback\"===e.cloudProxyServer?\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"):o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i),{url:n,areaCode:EB(),serviceIds:[iF.CHOOSE_SERVER,\"proxy5\"===e.cloudProxyServer?iF.CLOUD_PROXY_5:\"proxy3\"===e.cloudProxyServer||\"proxy4\"===e.cloudProxyServer?iF.CLOUD_PROXY:iF.CLOUD_PROXY_FALLBACK]}})),s=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),c=await xB({fragementLength:CD(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(iP.debug(\"[\".concat(e.clientId,\"] Connect to choose_server:\"),n.url),NB(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},s),e[0]},promisesCollector:a});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},s),c},d=async()=>{if(await fN(1e3),null!==s)return s;const r=CD(\"WEBCS_DOMAIN_BACKUP_LIST\").map(((t,i)=>{let n;return n=\"disabled\"===e.cloudProxyServer&&e.proxyServer?o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i,e.proxyServer):\"disabled\"===e.cloudProxyServer||\"fallback\"===e.cloudProxyServer?\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"):o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i),{url:n,areaCode:EB(),serviceIds:[iF.CHOOSE_SERVER,\"proxy5\"===e.cloudProxyServer?iF.CLOUD_PROXY_5:\"proxy3\"===e.cloudProxyServer||\"proxy4\"===e.cloudProxyServer?iF.CLOUD_PROXY:iF.CLOUD_PROXY_FALLBACK]}})),c=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),d=await xB({fragementLength:CD(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(iP.debug(\"[\".concat(e.clientId,\"] Connect to backup choose_server:\"),n.url),NB(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},c),e[0]},promisesCollector:a});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},c),d};let l,u,h;try{({gatewayInfo:l,proxyInfo:u,url:h}=await VB([c(),d()]))}catch(e){throw e[0]}if(a.length&&a.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),!l||!u)throw new uP(hO.UNEXPECTED_ERROR,\"missing gateway or proxy response\").print();if(e.apUrl=h,\"disabled\"!==e.cloudProxyServer&&Array.isArray(r)&&h){const t=/^https?:\\/\\/(.+?)(\\/.*)?$/.exec(h)[1];Ln(r).call(r,t)&&(e.proxyServer=t,iP.setProxyServer(t),lP.setProxyServer(t))}return s={gatewayInfo:l,proxyInfo:await pF(u,l.uid)},s}async function qB(e,t,i){const n=CD(\"UAP_AP\").slice(0,CD(\"AJAX_REQUEST_CONCURRENT\")).map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v1?action=uap\"):\"https://\".concat(t,\"/api/v1?action=uap\"))),r=n.map((n=>function(e,t,i,n){const r={command:\"convergeAllocateEdge\",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:hD,cname:t.cname,uid:t.uid.toString(),requestId:wB,seq:wB};wB+=1;const o={service_name:\"tele_channel\",json_body:JSON.stringify(r)};return UN((async()=>{const t=await _B(e,{data:o,cancelToken:i,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":61}});if(0!==t.code){const e=new uP(hO.UNEXPECTED_RESPONSE,\"cross channel ap error, code\"+t.code,{retry:!0});throw iP.error(e.toString()),e}const n=JSON.parse(t.json_body);if(200!==n.code){const e=new uP(hO.UNEXPECTED_RESPONSE,\"cross channel app center error, code: \".concat(n.code,\", reason: \").concat(n.reason));throw iP.error(e.toString()),e}if(!n.servers||0===n.servers.length){const e=new uP(hO.UNEXPECTED_RESPONSE,\"cross channel app center empty server\");throw iP.error(e.toString()),e}return{vid:n.vid,workerToken:n.workerToken,addressList:(CD(\"CHANNEL_MEDIA_RELAY_SERVERS\")||n.servers).map((e=>\"wss://\".concat(e.address.replace(/\\./g,\"-\"),\".\").concat(CD(\"WORKER_DOMAIN\"),\":\").concat(e.wss)))}}),void 0,(e=>!!(e.code!==hO.OPERATION_ABORTED&&e.code!==hO.UNEXPECTED_RESPONSE||e.data&&e.data.retry)),n)}(n,e,t,i)));try{const e=await VB(r);return r.forEach((e=>e.cancel())),e}catch(e){throw e[0]}}async function XB(e,t,i){let n=null;const r=[],o=async o=>{const s=CD(o?\"WEBCS_DOMAIN_BACKUP_LIST\":\"WEBCS_DOMAIN\").map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\")));return o&&(await fN(1e3),null!==n)?n:await xB({fragementLength:CD(\"FRAGEMENT_LENGTH\"),referenceList:s,asyncMapHandler:n=>(iP.debug(\"[\".concat(e.clientId,\"] update ticket, Connect to \").concat(o?\"backup\":\"\",\" choose_server:\"),n),function(e,t,i,n){const[r]=MB(t,[iF.CHOOSE_SERVER]);let o=QO.networkState;return UN((async()=>{o&&QO.networkState===KO.OFFLINE&&QO.onlineWaiter&&await rp.race([QO.onlineWaiter,fN(n&&n.maxRetryTimeout||kN.maxRetryTimeout)]),o=QO.networkState;const t=await _B(e,{data:r,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0);return LB(t,e)}),(()=>!1),(e=>e.code!==hO.OPERATION_ABORTED&&(e.code===hO.UPDATE_TICKET_FAILED?e.data.retry:(iP.warning(\"[\".concat(t.clientId,\"] update ticket network error, retry\"),e),!0))),n)}(n,e,t,i)),allFailedhandler:e=>{throw e[0]},promisesCollector:r})};try{return n=await VB([o(!1),o(!0)]),r.length&&r.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),n}catch(e){throw e[0]}}function JB(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function QB(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?JB(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):JB(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class ZB extends NO{get isSuccess(){return!!this.configs}constructor(e,t){super(),iA(this,\"configs\",void 0),iA(this,\"store\",void 0),iA(this,\"joinInfo\",void 0),iA(this,\"cancelToken\",void 0),iA(this,\"retryConfig\",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),iA(this,\"interval\",void 0),iA(this,\"mutex\",void 0),iA(this,\"mutableParamsRead\",!1),iA(this,\"configCache\",{}),iA(this,\"limit_bitrate\",void 0),this.mutex=new PN(\"config-distribute\",e),this.store=t}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),CD(\"ENABLE_CONFIG_DISTRIBUTE\")&&(this.updateConfigDistribute(),this.interval=window.setInterval((()=>{this.updateConfigDistribute()}),CD(\"CONFIG_DISTRIBUTE_INTERVAL\")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0,this.configs=void 0,this.limit_bitrate=void 0}async awaitConfigDistributeComplete(){if(!this.mutex.isLocked)return;(await this.mutex.lock())()}async updateConfigDistribute(){if(!this.mutableParamsRead){this.mutableParamsRead=!0;lP.reportApiInvoke(null,{options:void 0,name:LO.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:kO.TRACER}).onSuccess(JSON.stringify(yD))}if(!this.joinInfo||!this.cancelToken||!this.retryConfig)return void iP.debug(\"[config-distribute] get config distribute interrupted have no joininfo\");let e;const t=await this.mutex.lock();try{e=await KB(this.joinInfo,this.cancelToken,this.retryConfig),iP.debug(\"[config-distribute] get config distribute\",JSON.stringify(e));const i=function(e){var t;const i=Qp(t=Object.keys(e).filter((e=>/^webrtc_ng_global_parameter/.test(e)))).call(t);for(let t=0;t<i.length;t++)for(let n=i.length-1;n>t;n--){const t=i[n],r=e[t].value;if(\"number\"==typeof r.__priority){const o=r.__priority,s=i[n-1],a=e[s].value;if(\"number\"==typeof a.__priority){if(!(o>a.__priority))continue;{const e=t;i[n]=i[n-1],i[n-1]=e}}else{const e=t;i[n]=i[n-1],i[n-1]=e}}}const n=Date.now(),r={};return i.forEach((t=>{const i=e[t].value.__expires;i&&i<=n||(r[t]=e[t])})),r}(e);this.cacheGlobalParameterConfig(i),this.store.hasStartJoinChannel||(this.store.isABTestSuccess=!0),this.configs=i}catch(e){const t=new uP(hO.NETWORK_RESPONSE_ERROR,e);iP.warning(\"[config-distribute] \".concat(t.toString()))}finally{t()}}getBitrateLimit(){return this.limit_bitrate||void 0}handleBitrateLimit(e){_x(e)&&(this.limit_bitrate?this.limit_bitrate&&this.limit_bitrate.id!==e.id&&this.emit(px.UPDATE_BITRATE_LIMIT,e):this.emit(px.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.limit_bitrate&&QB({},this.limit_bitrate.low_stream_uplink)}handleABTestConfigDistribute(e){try{const t={},i=Object.keys(e),n=[];i.forEach((i=>{const r=e[i].value;t[i]=r;const o=r.__id;if(o&&this.configCache[i]&&this.configCache[i].__id===o)return;const s=r.__type,a=e[i].value,c=e[i].tag;let d=0;s?s===vD.REALTIME&&(d=1):Object.keys(a).some((e=>Object.prototype.hasOwnProperty.call(gD,e)||!qU()&&Object.prototype.hasOwnProperty.call(mD,e)?(d=1,!0):void 0)),n.push({tag:c,isApplied:d,feature:i,params:JSON.stringify(r)})})),n.forEach((e=>{let{tag:t,feature:i,params:n,isApplied:r}=e;this.store.sessionId&&lP.abTest(this.store.sessionId,{intSucc:1,isApplied:r,tag:t,feature:i,params:n,cid:this.store.cid,uid:this.store.intUid})})),this.configCache=t}catch(e){iP.debug(\"handleABTestConfigDistribute error\",e)}}cacheGlobalParameterConfig(e){const t=function(e){const t={};return Object.keys(e).forEach((i=>{const n=e[i].value,r=n.__expires,o=n.__type;Object.keys(n).forEach((e=>{\"__id\"===e||\"__type\"===e||\"__priority\"===e||\"__expires\"===e||Object.prototype.hasOwnProperty.call(t,e)||(t[e]=QB(QB({value:n[e]},r&&{expires:r}),o&&{type:o}))}))})),t}(e);try{var i;const n=null===(i=t.LIMIT_BITRATE)||void 0===i?void 0:i.value;delete t.LIMIT_BITRATE,n&&_x(n)&&this.handleBitrateLimit(n),this.limit_bitrate=n,this.handleGlobalParameterConfig(t),this.handleABTestConfigDistribute(e),function(e){try{const t=Date.now();Object.keys(e).forEach((i=>{const{value:n,type:r,expires:o}=e[i];o&&o<=t||((r===vD.REALTIME||Object.prototype.hasOwnProperty.call(gD,i))&&(yD[i]=n,TD[i]=n,iP.debug(\"Update realtime parameters from config distribute\",i,n)),r||qU()||!Object.prototype.hasOwnProperty.call(mD,i)||(yD[i]=n,TD[i]=n,iP.debug(\"Update gateway parameters from config distribute\",i,n)))}))}catch(t){iP.error(\"Error update config immediately: \".concat(e),t.message)}}(t);const r=JSON.stringify(t),o=window.btoa(r);window.localStorage.setItem(\"websdk_ng_global_parameter\",o),iP.debug(\"Caching global parameters \".concat(r))}catch(e){iP.error(\"Error caching global parameters:\",e.message)}}handleGlobalParameterConfig(e){try{const t=Date.now();Object.keys(e).forEach((i=>{switch(i){case\"CLIENT_ROLE_OPTIONS\":if(Object.prototype.hasOwnProperty.call(TD,i)){const{value:n,expires:r}=e[i];if(r&&r<=t)return;bN(TD[i],n)||(yD[i]=n,TD[i]=n,this.emit(px.UPDATE_CLIENT_ROLE_OPTIONS,n),iP.debug(\"Updating client role options: \".concat(JSON.stringify(n))))}break;case\"REMOTE_VIDEO_STREAM_TYPE\":if(Object.prototype.hasOwnProperty.call(TD,i)){var n;const{value:r,expires:o}=e[i];if(o&&o<=t)return;\"number\"==typeof r&&Ln(n=[0,1,4,5,6,7,8,9]).call(n,r)&&(yD[i]={value:r},TD[i]=r,this.emit(px.UPDATE_REMOTE_VIDEO_STREAM_TYPE,r),iP.debug(\"Updating client remote stream type: \".concat(JSON.stringify(r))))}break;case\"ENABLE_FORCE_HLS\":if(Object.prototype.hasOwnProperty.call(TD,i)){const{value:n,expires:r}=e[i];if(r&&r<=t)return;bN(TD[i],n)||(yD[i]=n,TD[i]=n,this.emit(px.FALLBACK_TO_HLS,n),iP.debug(\"Updating enable force hls: \".concat(JSON.stringify(n))))}break;case\"VOS_CONFIGURE\":if(Object.prototype.hasOwnProperty.call(TD,i)){const{value:n,expires:r}=e[i];if(r&&r<=t)return;bN(TD[i],n)||(yD[i]=n,TD[i]=n,this.emit(px.UPDATE_VOS_CONFIGURE,n),iP.debug(\"Updating vos configure: \".concat(JSON.stringify(n))))}}}))}catch(e){iP.error(\"Error handling global parameter config:\",e.message)}}}class $B extends NO{constructor(){super(...arguments),iA(this,\"resultStorage\",new Map)}setLocalAudioStats(e,t,i){this.record(\"AUDIO_INPUT_LEVEL_TOO_LOW\",e,this.checkAudioInputLevel(i,t)),this.record(\"SEND_AUDIO_BITRATE_TOO_LOW\",e,this.checkSendAudioBitrate(i,t))}setLocalVideoStats(e,t,i){this.record(\"SEND_VIDEO_BITRATE_TOO_LOW\",e,this.checkSendVideoBitrate(i,t)),this.record(\"FRAMERATE_INPUT_TOO_LOW\",e,this.checkFramerateInput(i,t)),this.record(\"FRAMERATE_SENT_TOO_LOW\",e,this.checkFramerateSent(i)),!t.muted&&this.record(\"VIDEO_ENCODE_FAILED\",e,this.checResolutionSent(i))}setRemoteAudioStats(e,t){const i=e.getUserId();this.record(\"AUDIO_OUTPUT_LEVEL_TOO_LOW\",i,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const i=e.getUserId();this.record(\"RECV_VIDEO_DECODE_FAILED\",i,this.checkVideoDecode(t))}record(e,t,i){if(CD(\"STATS_UPDATE_INTERVAL\")>500)return;this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const n=this.resultStorage.get(e);if(!n)return;n.result.push(i);const r=\"VIDEO_ENCODE_FAILED\"===e?CD(\"ENCODE_EXCEPTION_TIMES\"):5;if(n.result.length>=r){var o;const i=Ln(o=n.result).call(o,!0);n.isPrevNormal&&!i&&this.emit(\"exception\",ej[e],e,t),!n.isPrevNormal&&i&&this.emit(\"exception\",ej[e]+2e3,e+\"_RECOVER\",t),n.isPrevNormal=i,n.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof Wk&&!t.isActive||(!!t.muted||0!==e.sendVolumeLevel)}checkFramerateInput(e,t){let i=null;t._encoderConfig&&t._encoderConfig.frameRate&&(i=dF(t._encoderConfig.frameRate));const n=e.captureFrameRate;return!i||!n||!(i>10&&n<5||i<10&&i>=5&&n<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checResolutionSent(e){var t;return!(!e.codecType||Ln(t=CD(\"ENCODE_EXCEPTION_VALIDATE_CODEC\")).call(t,e.codecType.toLocaleLowerCase()))||(!e.captureFrameRate||0!==e.sendFrameRate||0!==e.sendResolutionWidth||0!==e.sendResolutionHeight)}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof Wk&&!t.isActive||(!!t.muted||0!==e.sendBitrate)}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const ej={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003,VIDEO_ENCODE_FAILED:2004};const tj=new class{markSubscribeStart(e,t){performance.mark(\"agora-web-sdk/\".concat(e,\"/subscribe-\").concat(t))}markPublishStart(e,t){performance.mark(\"agora-web-sdk/\".concat(e,\"/publish-\").concat(t))}measureFromSubscribeStart(e,t){const i=performance.getEntriesByName(\"agora-web-sdk/\".concat(e,\"/subscribe-\").concat(t));if(i.length>0){const e=i[i.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const i=performance.getEntriesByName(\"agora-web-sdk/\".concat(e,\"/publish-\").concat(t));if(i.length>0){const e=i[i.length-1];return Math.round(performance.now()-e.startTime)}return 0}};function ij(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function nj(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ij(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ij(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class rj{constructor(e){iA(this,\"store\",void 0),iA(this,\"onStatsException\",void 0),iA(this,\"onUploadPublishDuration\",void 0),iA(this,\"onStatsChanged\",void 0),iA(this,\"onVideoCodecChanged\",void 0),iA(this,\"localStats\",new Map),iA(this,\"remoteStats\",new Map),iA(this,\"updateStatsInterval\",void 0),iA(this,\"trafficStats\",void 0),iA(this,\"trafficStatsPeerList\",[]),iA(this,\"uplinkStats\",void 0),iA(this,\"exceptionMonitor\",void 0),iA(this,\"p2pChannel\",void 0),iA(this,\"scalabilityMode\",iD.L1T1),iA(this,\"updateStats\",(()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))})),this.store=e,this.exceptionMonitor=new $B,this.exceptionMonitor.on(\"exception\",((e,t,i)=>{this.onStatsException&&this.onStatsException(e,t,i)}))}startUpdateStats(){this.updateStatsInterval||(this.updateStatsInterval=window.setInterval(this.updateStats,1e3))}stopUpdateStats(){this.updateStatsInterval&&(window.clearInterval(this.updateStatsInterval),this.updateStatsInterval=void 0)}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(Rx.LocalAudioTrack)||nj({},YP)}getLocalVideoTrackStats(){return this.localStats.get(Rx.LocalVideoTrack)||nj({},zP)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const i=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return i&&(t.publishDuration=i.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},i={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.audioStats;r&&(i[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{audioStats:r}]=e;r&&(i[n]=t(n,r))}));return i}getRemoteNetworkQualityStats(e){const t={};if(e){var i;const n=null===(i=this.remoteStats.get(e))||void 0===i?void 0:i.networkStats;n&&(t[e]=n)}else Array.from(this.remoteStats.entries()).forEach((e=>{let[i,{networkStats:n}]=e;n&&(t[i]=n)}));return t}getNetworkQuality(){let e=0,t=0;return this.trafficStats&&(e=uF(this.trafficStats.B_unq),t=uF(this.trafficStats.B_dnq)),{uplinkNetworkQuality:e,downlinkNetworkQuality:t}}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const i=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return i&&(t.publishDuration=i.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},i={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.videoStats;r&&(i[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{videoStats:r}]=e;r&&(i[n]=t(n,r))}));return i}getRTCStats(){let e=0,t=0,i=0,n=0;const r=this.localStats.get(Rx.LocalAudioTrack);r&&(e+=r.sendBytes,t+=r.sendBitrate);const o=this.localStats.get(Rx.LocalVideoTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate);const s=this.localStats.get(Rx.LocalVideoLowTrack);s&&(e+=s.sendBytes,t+=s.sendBitrate),this.remoteStats.forEach((e=>{let{audioStats:t,videoStats:r}=e;t&&(i+=t.receiveBytes,n+=t.receiveBitrate),r&&(i+=r.receiveBytes,n+=r.receiveBitrate)}));let a=1;return this.trafficStats&&(a+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:a,SendBitrate:t,SendBytes:e,RecvBytes:i,RecvBitrate:n,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter((e=>void 0!==e.B_ppad||void 0!==e.B_ppvd));e.peer_delay.filter((e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid))).forEach((e=>{var t;const i=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),n=null!=i&&i.videoSSRC?tj.measureFromSubscribeStart(this.store.clientId,i.videoSSRC):0,r=null!=i&&i.audioSSRC?tj.measureFromSubscribeStart(this.store.clientId,i.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,n>r?n:r),this.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&iP.debug(\"[\".concat(this.store.clientId,\"]: Period fir changes to \").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,i){if(!e)return!1;const n=!!i&&t.framesDecodeFreezeTime>i.framesDecodeFreezeTime,r=!i||t.framesDecodeCount>i.framesDecodeCount;return n||!r}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&(e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3)}updateLocalStats(e){Array.from(this.localStats.entries()).forEach((t=>{let[i,n]=t;switch(i){case Rx.LocalVideoTrack:case Rx.LocalVideoLowTrack:{const t=n,s=nj({},zP),a=e.getStats(),c=e.getLocalMedia(i);if(a){const i=a.videoSend.find((e=>e.ssrc===(null==c?void 0:c.ssrcs[0].ssrcId)));if(i){const n=e.getLocalVideoSize(),o=e.getEncoderConfig(Rx.LocalVideoTrack);var r;if(\"H264\"===i.codec||\"H265\"===i.codec||\"VP8\"===i.codec||\"VP9\"===i.codec||\"AV1X\"===i.codec||\"AV1\"===i.codec)if(s.codecType=i.codec,(null==t?void 0:t.codecType)!==i.codec)null===(r=this.onVideoCodecChanged)||void 0===r||r.call(this,i.codec.toLocaleLowerCase());s.sendBytes=i.bytes,s.sendBitrate=t?8*Math.max(0,s.sendBytes-t.sendBytes):0,i.inputFrame?(s.captureFrameRate=i.inputFrame.frameRate,s.captureResolutionHeight=i.inputFrame.height,s.captureResolutionWidth=i.inputFrame.width):n&&(s.captureResolutionWidth=n.width,s.captureResolutionHeight=n.height),i.sentFrame?(s.sendFrameRate=i.sentFrame.frameRate,s.sendResolutionHeight=i.sentFrame.height,s.sendResolutionWidth=i.sentFrame.width):n&&(s.sendResolutionWidth=n.width,s.sendResolutionHeight=n.height),i.avgEncodeMs&&(s.encodeDelay=i.avgEncodeMs),o&&o.bitrateMax?s.targetSendBitrate=1e3*o.bitrateMax:i.targetBitrate&&(s.targetSendBitrate=i.targetBitrate),s.sendPackets=i.packets,s.sendPacketsLost=i.packetsLost,s.sendJitterMs=i.jitterMs,s.sendRttMs=i.rttMs,s.totalDuration=t?t.totalDuration+1:1,s.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(i)&&(s.totalFreezeTime+=1),i.scalabilityMode&&this.scalabilityMode!==i.scalabilityMode&&(iP.debug(\"[\".concat(this.store.clientId,\"]: The scalabilityMode of the video sending stream is \").concat(i.scalabilityMode)),this.scalabilityMode=i.scalabilityMode)}this.trafficStats&&(s.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var o;if(this.localStats.set(i,s),(null==t?void 0:t.sendResolutionWidth)!==s.sendResolutionWidth||(null==t?void 0:t.sendResolutionHeight)!==s.sendResolutionHeight)null===(o=this.onStatsChanged)||void 0===o||o.call(this,\"resolution\",{width:s.sendResolutionWidth,height:s.sendResolutionHeight});s&&c&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,c.track,s);break}case Rx.LocalAudioTrack:{const t=n,r=nj({},YP),o=e.getStats(),s=e.getLocalMedia(i);if(o){const i=o.audioSend.find((e=>e.ssrc===(null==s?void 0:s.ssrcs[0].ssrcId)));if(i){if(\"opus\"!==i.codec&&\"aac\"!==i.codec&&\"PCMU\"!==i.codec&&\"PCMA\"!==i.codec&&\"G722\"!==i.codec||(r.codecType=i.codec),i.inputLevel)r.sendVolumeLevel=Math.round(32767*i.inputLevel);else{const t=e.getLocalAudioVolume();t&&(r.sendVolumeLevel=Math.round(32767*t))}r.sendBytes=i.bytes,r.sendPackets=i.packets,r.sendPacketsLost=i.packetsLost,r.sendJitterMs=i.jitterMs,r.sendRttMs=i.rttMs,r.sendBitrate=t?8*Math.max(0,r.sendBytes-t.sendBytes):0}}this.trafficStats&&(r.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(Rx.LocalAudioTrack,r),r&&s&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,s.track,r);break}}}))}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach((t=>{var i,n;let[r,{videoStats:o,audioStats:s,videoPcStats:a}]=t;const c=s,d=o,l=a,u=nj({},qP),h=nj({},JP),p=nj({},XP),{audioTrack:_,videoTrack:E,audioSSRC:m,videoSSRC:f}=e.getRemoteMedia(r);let S;S=this.store.useP2P?e.getStats(!0):e.getStats();const g=null===(i=S)||void 0===i?void 0:i.audioRecv.find((e=>e.ssrc===m)),T=null===(n=S)||void 0===n?void 0:n.videoRecv.find((e=>e.ssrc===f)),R=this.trafficStats&&this.trafficStats.peer_delay.find((e=>e.peer_uid===r));if(g&&(\"opus\"!==g.codec&&\"aac\"!==g.codec&&\"PCMU\"!==g.codec&&\"PCMA\"!==g.codec&&\"G722\"!==g.codec||(u.codecType=g.codec),g.outputLevel?u.receiveLevel=Math.round(32767*g.outputLevel):_&&(u.receiveLevel=Math.round(32767*_.getVolumeLevel())),u.receiveBytes=g.bytes,u.receivePackets=g.packets,u.receivePacketsLost=g.packetsLost,u.receivePacketsDiscarded=g.packetsDiscarded,u.packetLossRate=u.receivePacketsLost/(u.receivePackets+u.receivePacketsLost),u.receiveBitrate=c?8*Math.max(0,u.receiveBytes-c.receiveBytes):0,u.totalDuration=c?c.totalDuration+1:1,u.totalFreezeTime=c?c.totalFreezeTime:0,u.freezeRate=u.totalFreezeTime/u.totalDuration,u.receiveDelay=g.jitterBufferMs,u.totalDuration>10&&rj.isRemoteAudioFreeze(_)&&(u.totalFreezeTime+=1)),T){var C;\"H264\"!==T.codec&&\"H265\"!==T.codec&&\"VP8\"!==T.codec&&\"VP9\"!==T.codec&&\"AV1X\"!==T.codec&&\"AV1\"!==T.codec||(h.codecType=T.codec),h.receiveBytes=T.bytes,h.receiveBitrate=d?8*Math.max(0,h.receiveBytes-d.receiveBytes):0,h.decodeFrameRate=T.decodeFrameRate<0?0:T.decodeFrameRate,h.renderFrameRate=T.decodeFrameRate<0?0:T.decodeFrameRate,T.outputFrame&&(h.renderFrameRate=T.outputFrame.frameRate),T.receivedFrame?(h.receiveFrameRate=T.receivedFrame.frameRate,h.receiveResolutionHeight=T.receivedFrame.height,h.receiveResolutionWidth=T.receivedFrame.width):E&&(h.receiveResolutionHeight=E._videoHeight||0,h.receiveResolutionWidth=E._videoWidth||0),void 0!==T.framesRateFirefox&&(h.receiveFrameRate=Math.round(T.framesRateFirefox)),h.receivePackets=T.packets,h.receivePacketsLost=T.packetsLost,h.packetLossRate=h.receivePacketsLost/(h.receivePackets+h.receivePacketsLost);const t=d?d.totalFreezeTime:0,i=d?d.totalDuration:0;h.totalDuration=d?d.totalDuration+1:1,h.totalFreezeTime=null!==(C=T.totalFreezesDuration)&&void 0!==C?C:t||0,h.receiveDelay=T.jitterBufferMs||0;const n=!!f&&e.getRemoteVideoIsReady(f);void 0===T.totalFreezesDuration&&E&&n&&rj.isRemoteVideoFreeze(E,T,l)&&(h.totalFreezeTime+=1),h.freezeRate=Math.max(0,Math.min((h.totalFreezeTime-t)/(h.totalDuration-i),1))}R&&(u.end2EndDelay=R.B_ad,h.end2EndDelay=R.B_vd,u.transportDelay=R.B_ed,h.transportDelay=R.B_ed,u.currentPacketLossRate=R.B_ealr4/100,h.currentPacketLossRate=R.B_evlr4/100,p.uplinkNetworkQuality=R.B_punq?R.B_punq:0,p.downlinkNetworkQuality=R.B_pdnq?R.B_pdnq:0),this.remoteStats.set(r,{audioStats:u,videoStats:h,videoPcStats:T,networkStats:p}),_&&this.exceptionMonitor.setRemoteAudioStats(_,u),E&&this.exceptionMonitor.setRemoteVideoStats(E,h)}))}}class oj{constructor(){iA(this,\"destChannelMediaInfos\",new Map),iA(this,\"srcChannelMediaInfo\",void 0)}setSrcChannelInfo(e){ex(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){ex(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){HV(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function sj(e){if(!(e instanceof oj)){return new uP(hO.INVALID_PARAMS,\"Config should be instance of [ChannelMediaRelayConfiguration]\").throw()}const t=e.getSrcChannelMediaInfo(),i=e.getDestChannelMediaInfo();if(!t){return new uP(hO.INVALID_PARAMS,\"srcChannelMediaInfo should not be empty\").throw()}if(0===i.size){return new uP(hO.INVALID_PARAMS,\"destChannelMediaInfo should not be empty\").throw()}}class aj{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(e,t){iA(this,\"uid\",void 0),iA(this,\"_uintid\",void 0),iA(this,\"_trust_in_room_\",!0),iA(this,\"_trust_audio_enabled_state_\",!0),iA(this,\"_trust_video_enabled_state_\",!0),iA(this,\"_trust_audio_mute_state_\",!0),iA(this,\"_trust_video_mute_state_\",!0),iA(this,\"_audio_muted_\",!1),iA(this,\"_video_muted_\",!1),iA(this,\"_audio_enabled_\",!0),iA(this,\"_video_enabled_\",!0),iA(this,\"_audio_added_\",!1),iA(this,\"_video_added_\",!1),iA(this,\"_is_pre_created\",!1),iA(this,\"_video_pre_subscribed\",!1),iA(this,\"_audio_pre_subscribed\",!1),iA(this,\"_trust_video_stream_added_state_\",!0),iA(this,\"_trust_audio_stream_added_state_\",!0),iA(this,\"_audioTrack\",void 0),iA(this,\"_videoTrack\",void 0),iA(this,\"_dataChannels\",[]),iA(this,\"_audioSSRC\",void 0),iA(this,\"_videoSSRC\",void 0),iA(this,\"_audioOrtc\",void 0),iA(this,\"_videoOrtc\",void 0),iA(this,\"_cname\",void 0),iA(this,\"_rtxSsrcId\",void 0),iA(this,\"_videoMid\",void 0),iA(this,\"_audioMid\",void 0),this.uid=e,this._uintid=t}}function cj(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function dj(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?cj(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):cj(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const lj=e=>\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0 1 2\\na=msid-semantic: WMS\\na=ice-lite\".concat(e?\"\\na=extmap-allow-mixed\":\"\",\"\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:0\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:1\\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\\nc=IN IP4 127.0.0.1\\na=mid:2\\n\"),uj=\"9\",hj=2e4,pj=4e4;let _j=class{get localCapabilities(){return sN(this._localCapabilities)}get rtpCapabilities(){return sN(this._rtpCapabilities)}get candidates(){return sN(this._candidates)}get iceParameters(){return sN(this._iceParameters)}get dtlsParameters(){return sN(this._dtlsParameters)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];iA(this,\"sessionDesc\",void 0),iA(this,\"_localCapabilities\",void 0),iA(this,\"_rtpCapabilities\",void 0),iA(this,\"_candidates\",void 0),iA(this,\"_originCandidates\",void 0),iA(this,\"_iceParameters\",void 0),iA(this,\"_isUseExtmapAllowMixed\",void 0),iA(this,\"_isUseLocalCodecs\",void 0),iA(this,\"_isUseDataChannel\",void 0),iA(this,\"_dtlsParameters\",void 0),iA(this,\"setup\",void 0),iA(this,\"currentMidIndex\",void 0),iA(this,\"cname\",void 0),iA(this,\"useLocalCodecsMids\",[]),iA(this,\"preloadSsrcs\",[]),iA(this,\"firefoxSsrcMidMap\",new Map),this._isUseExtmapAllowMixed=t,this._isUseLocalCodecs=i,this._isUseDataChannel=n,e=sN(e);const{iceParameters:r,dtlsParameters:o,candidates:s,rtpCapabilities:a,setup:c,localCapabilities:d,cname:l}=e;this._rtpCapabilities=a,this._candidates=s,this._originCandidates=sN(s),this._iceParameters=r,this._dtlsParameters=o,this._localCapabilities=d,this.setup=c,this.cname=l,[this.sessionDesc]=this.updateRemoteRTPCapabilities(a),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1}checkPreloadSsrcs(e){return e.length===this.preloadSsrcs.length&&e.every((e=>{var t;return Ln(t=this.preloadSsrcs).call(t,e)}))}preloadRemoteMedia(e){let t=0;const i=[],n=[];for(;e>0;){const r=[dj({ssrcId:pj+t},CD(\"USE_SUB_RTX\")?{rtx:pj+t+1}:{})],o=\"\".concat(pj+t,\"_\").concat(hj+t),{ssrcs:s,ssrcGroups:a}=LF(r,this.cname,CD(\"SYNC_GROUP\")?o:void 0),c=this.preCreateOrRecycleSendMedia(\"video\",s,a,void 0),d=[{ssrcId:hj+t}],l=\"\".concat(pj+t,\"_\").concat(hj+t),{ssrcs:u,ssrcGroups:h}=LF(d,this.cname,CD(\"SYNC_GROUP\")?l:void 0),p=this.preCreateOrRecycleSendMedia(\"audio\",u,h,void 0);e--,t+=2,i.push(c,p),n.push(s[0].ssrcId,u[0].ssrcId)}return this.useLocalCodecsMids.push(...i),this.preloadSsrcs=n,{mids:i,preSSRCs:n,isAvailable:!0}}preCreateOrRecycleSendMedia(e,t,i,n){const r=this.rtpCapabilities.send.videoCodecs,o=this._isUseLocalCodecs||0===r.length?this.localCapabilities.recv:this.rtpCapabilities.send;iP.debug(\"create or recycle send media without remote rtp capabilities, ssrcs \",t[0].ssrcId);const s=e===fx.VIDEO?o.videoCodecs:o.audioCodecs,a=e===fx.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const c=\"\".concat(this.currentMidIndex);let d={media:{mediaType:e,port:uj,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:s.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(c)}};return d=this.mungSendMediaDesc(d,n),this.sessionDesc.mediaDescriptions.push(d),this.updateBundleMids(),c}toString(){return kD(this.sessionDesc)}send(e,t,i,n){const{ssrcs:r,ssrcGroups:o}=LF(t,this.cname,CD(\"SYNC_GROUP\")?i:void 0),s=this.findPreloadMediaDesc(r);if(s){if(Bw()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,s.attributes.mid),n&&(n.twcc||n.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(s);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(s,n),{mid:s.attributes.mid,needExchangeSDP:!0}}return{mid:s.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,r);let i;return-1===t||1===t&&(Vw()||function(){const e=Dw();return!(e.name!==bw.CHROME||!e.osVersion)&&Number(e.version)<=90}()||CD(\"ENABLE_ENCODED_TRANSFORM\")&&Uw())||0===t&&!function(e){const t=Dw();return!(t.name!==bw.FIREFOX||!t.osVersion)&&Number(t.version)===e}(138)&&CD(\"USE_SUB_RTX\")||Zw()?(i=this.createOrRecycleSendMedia(e,r,o,\"sendonly\",n),this.updateBundleMids()):(i=sN(this.sessionDesc.mediaDescriptions[t]),i.attributes.direction=\"sendonly\",i.attributes.ssrcs=r,i.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(i,n)),Bw()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,i.attributes.mid),{mid:i.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:e,needExchangeSDP:t}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:e.attributes.mid,needExchangeSDP:t}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:i,mslabel:n}=e;return this.send(t,i,n)})),i=[];let n=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:r}=e;r&&(n=!0),i.push(t)})),{mids:i,needExchangeSDP:n}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");t.forEach((e=>{\"0\"===e.attributes.mid||Bw()||Zw()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction=\"inactive\",e.media.port=\"0\")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Ln(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"inactive\"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Ln(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"recvonly\"}))}receive(e,t,i,n){e.forEach(((e,r)=>{this.createOrRecycleRecvMedia(e,[],\"recvonly\",t,i,n[r])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");t.forEach((e=>{e.media.port=\"0\",e.attributes.direction=\"inactive\"})),this.updateBundleMids()}updateRemoteRTPCapabilities(e){const t=this.sessionDesc||LD((i=this._isUseExtmapAllowMixed,this._isUseDataChannel?lj(i):\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0 1\\na=msid-semantic: WMS\\na=ice-lite\".concat(i?\"\\na=extmap-allow-mixed\":\"\",\"\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:0\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:1\\n\")));var i;this._rtpCapabilities=e;let n=!1;const r=this.rtpCapabilities.send,o=this.localCapabilities.send,s=this.localCapabilities.recv,a=s.videoCodecs,c=s.audioCodecs,d=s.videoExtensions,l=s.audioExtensions;for(const e of t.mediaDescriptions){var u;if(\"sendonly\"!==e.attributes.direction||\"string\"!=typeof e.attributes.mid||!Ln(u=this.useLocalCodecsMids).call(u,e.attributes.mid)){if(n=!0,e.attributes.iceUfrag=this._iceParameters.iceUfrag,e.attributes.icePwd=this._iceParameters.icePwd,e.attributes.fingerprints=this._dtlsParameters.fingerprints,e.attributes.candidates=this._candidates,e.attributes.setup=this.setup,\"application\"===e.media.mediaType&&(e.attributes.sctpPort=\"5000\"),\"video\"===e.media.mediaType)if(this._isUseLocalCodecs&&\"sendonly\"===e.attributes.direction){var h;e.media.fmts=a.map((e=>e.payloadType.toString(10))),e.attributes.payloads=a,e.attributes.extmaps=d;const t=e.attributes.mid;\"string\"!=typeof t||Ln(h=this.useLocalCodecsMids).call(h,t)||this.useLocalCodecsMids.push(t)}else if(0===r.videoCodecs.length){const t=o.videoCodecs.filter((e=>{var t,i;return null===(t=e.rtpMap)||void 0===t?void 0:Ln(i=t.encodingName.toLowerCase()).call(i,\"vp8\")}));0===t.length&&t.push(o.videoCodecs[0]),e.media.fmts=t.map((e=>e.payloadType.toString(10))),e.attributes.payloads=t,e.attributes.extmaps=[]}else e.media.fmts=r.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=r.videoCodecs,e.attributes.extmaps=r.videoExtensions;if(\"audio\"===e.media.mediaType)if(this._isUseLocalCodecs&&\"sendonly\"===e.attributes.direction){var p;e.media.fmts=c.map((e=>e.payloadType.toString(10))),e.attributes.payloads=c,e.attributes.extmaps=l;const t=e.attributes.mid;\"string\"!=typeof t||Ln(p=this.useLocalCodecsMids).call(p,t)||this.useLocalCodecsMids.push(t)}else if(0===r.audioCodecs.length){const t=o.audioCodecs.filter((e=>{var t,i;return null===(t=e.rtpMap)||void 0===t?void 0:Ln(i=t.encodingName.toLowerCase()).call(i,\"opus\")}))||[o.audioCodecs[0]];e.media.fmts=t.map((e=>e.payloadType.toString(10))),e.attributes.payloads=t,e.attributes.extmaps=[]}else e.media.fmts=r.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=r.audioCodecs,e.attributes.extmaps=r.audioExtensions,KF(e)}}return this.sessionDesc=t,this.currentMidIndex=t.mediaDescriptions.length-1,[this.sessionDesc,n]}updateCandidates(e){const t=this._originCandidates.filter((e=>\"udp\"===e.transport)),i=[];if(t.forEach((e=>{i.push(dj(dj({},e),{},{foundation:\"tcpcandidate\",priority:Number(e.priority)-1+\"\",transport:\"tcp\",port:Number(e.port)+90+\"\"}))})),0!==t.length){switch(e){case Sx.TCP_RELAY:this._candidates=i;break;case Sx.UDP_TCP_RELAY:case Sx.RELAY:this._candidates=[...t,...i];break;default:this._candidates=t}for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}}restartICE(e){e=sN(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((i=>{const n=i.media.mediaType===e&&\"0\"!==i.media.port&&(\"sendonly\"===i.attributes.direction||\"sendrecv\"===i.attributes.direction)&&0===i.attributes.ssrcs.length;if(Bw()){if(n){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||\"0\"!==i.attributes.mid&&\"1\"!==i.attributes.mid)||!(!e||e!==i.attributes.mid)}return!1}return n}))}createOrRecycleDataChannel(){for(const e of this.sessionDesc.mediaDescriptions)if(\"application\"===e.media.mediaType)return{mediaDesc:e,needExchangeSDP:!1};this.currentMidIndex+=1;const e=\"\".concat(this.currentMidIndex),t={media:{mediaType:\"application\",port:uj,protos:[\"UDP\",\"DTLS\",\"SCTP\"],fmts:[\"webrtc-datachannel\"]},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,mid:\"\".concat(e),sctpPort:\"5000\"}};return this.sessionDesc.mediaDescriptions.push(t),{mediaDesc:t,needExchangeSDP:!0}}createOrRecycleRecvMedia(e,t,i,n,r,o){const s=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,c=YF(s,a,this.localCapabilities.send,s===fx.VIDEO?n:r),d=s===fx.VIDEO?a.videoExtensions:a.audioExtensions;this.currentMidIndex+=1;const l=\"\".concat(this.currentMidIndex);let u={media:{mediaType:s,port:uj,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:c.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:d,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:c,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(l)}};u=this.mungRecvMediaDsec(u,e,o);const h=this.findFirstClosedMedia(s);if(h){const e=this.sessionDesc.mediaDescriptions.indexOf(h);this.sessionDesc.mediaDescriptions[e]=u}else this.sessionDesc.mediaDescriptions.push(u);return u}updateRemoteDtlsParameters(e){const t=new Set(this._dtlsParameters.fingerprints.map((e=>e.fingerprint))),i=new Set(e.map((e=>e.fingerprint)));let n=!1;t.size!==i.size&&(n=!0);for(const e of t)i.has(e)||(n=!0);return n}updateRemoteCodec(e,t,i){const n=[...new Set(this._rtpCapabilities.recv.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")).filter((e=>{var t;return Ln(t=Object.keys(AD)).call(t,e)})))],r=new Set(t);if(n.every((e=>r.has(e))))return iP.debug(\"codecs has not changed, no need to updateRemoteCodec, codecs: \".concat(t)),!1;const o=this._rtpCapabilities.recv.videoCodecs.filter((e=>t.some((t=>{var i;return Ln(i=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(i,t)}))));if(0===o.length)return iP.debug(\"updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: \".concat(n,\" codecs: \").concat(t)),!1;const s=[...new Set(o.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")))];let a;if(iP.debug(\"updateRemoteCodec, from \".concat(n,\" to \").concat(s)),0===e.length)a=this.sessionDesc.mediaDescriptions.filter((e=>\"video\"===e.media.mediaType&&\"recvonly\"===e.attributes.direction));else if(a=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&\"video\"===t.media.mediaType&&Ln(e).call(e,t.attributes.mid)&&\"recvonly\"===t.attributes.direction)),a.length!==e.length)return iP.debug(\"updateRemoteCodec failed, because cannot find mids, mids: \".concat(e,\", codecs: \").concat(t)),!1;if(CD(\"USE_PUB_RTX\")||CD(\"USE_SUB_RTX\")){const e=zF(o,this.rtpCapabilities.recv.videoCodecs);o.push(...e)}this._rtpCapabilities.recv.videoCodecs=o;const c=this.localCapabilities.send,d=this.rtpCapabilities.recv,l=YF(fx.VIDEO,d,c,i);return a.forEach((e=>{const t=l.map((e=>e.payloadType.toString(10)));iP.debug(\"updateRemoteCodec mid: \".concat(e.attributes.mid,\", from\"),e.attributes.payloads,\"to\",l),e.attributes.payloads=l,e.media.fmts=t})),iP.debug(\"updateRemoteCodec success, mids: \".concat(e,\", codecs: \").concat(t,\", remote recv: \").concat(this._rtpCapabilities.recv.videoCodecs.length,\", remote send: \").concat(this._rtpCapabilities.send.videoCodecs.length)),!0}createOrRecycleSendMedia(e,t,i,n,r){const o=this.rtpCapabilities.send.videoCodecs,s=this._isUseLocalCodecs||0===o.length?this.localCapabilities.recv:this.rtpCapabilities.send,a=e===fx.VIDEO?s.videoCodecs:s.audioCodecs,c=e===fx.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const d=\"\".concat(this.currentMidIndex);let l={media:{mediaType:e,port:uj,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(d)}};l=this.mungSendMediaDesc(l,r);const u=this.findFirstClosedMedia(e);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>\"0\"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,i){const n=sN(e);return MF(n),kF(n,t),UF(n,t),VF(n),xF(n,i,this.localCapabilities.send),n}mungSendMediaDesc(e,t){const i=sN(e);return i.attributes&&i.attributes.payloads&&Array.isArray(i.attributes.payloads)&&i.attributes.payloads.length>0&&i.attributes.payloads.forEach((e=>{e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()&&CD(\"ENABLE_DOWN_SPS_PPS\")&&(e.fmtp&&e.fmtp.parameters||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"sps-pps-idr-in-keyframe\"]=\"1\")})),xF(i,t,this.localCapabilities.recv),KF(i),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>Bw()?\"0\"===t.media.port&&t.media.mediaType===e:\"0\"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var i;return(null===(i=t.attributes)||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}};function Ej(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function mj(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ej(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ej(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var fj=function(e){return e[e.DOWN=0]=\"DOWN\",e[e.UP=1]=\"UP\",e}(fj||{});const Sj=new Map;function gj(e,t,i,n){let{scale:r}=e;if(0===r&&n===fj.UP||r>=t.length-1&&n===fj.DOWN)return e;let o=mj(mj({},e),{},{scale:n===fj.DOWN?++r:--r});switch(i){case\"maintain-framerate\":o=mj(mj({},o),t[r].motion);break;case\"maintain-resolution\":o=mj(mj({},o),t[r].detail);break;case\"balanced\":o=mj(mj({},o),t[r].balanced)}return o}function Tj(e,t){if(t){const i={overUse:0,underUse:0,adaptationList:Rj(t)};Sj.set(e,i)}else Sj.delete(e)}function Rj(e){const t=mj({},e),{bitrateMax:i,frameRate:n,scaleResolutionDownBy:r,bitrateMin:o}=t,{MIN_FRAME_RATE:s,MAX_THRESHOLD_FRAMERATE:a,MAX_SCALE:c,BITRATE_MIN_THRESHOLD:d,BITRATE_MAX_THRESHOLD:l,BWE_SCALE_UP_THRESHOLD:u,BWE_SCALE_DOWN_THRESHOLD:h,PERF_SCALE_DOWN_THRESHOLD:p,PERF_SCALE_UP_THRESHOLD:_,BALANCE_BITRATE_FACTOR:E,BALANCE_FRAMERATE_FACTOR:m,BALANCE_RESOLUTION_FACTOR:f,MOTION_RESOLUTION_FACTOR:S,MOTION_BITRATE_FACTOR:g,DETAIL_FRAMERATE_FACTOR:T,DETAIL_BITRATE_FACTOR:R}=fD,C=Math.min(t.frameRate,a),v=[{scale:0,threshold:{bwe_down:Math.round(Math.pow(h,1)*i),bwe_up:i,fps_down:Math.round(Math.pow(p,1)*C),fps_up:n},balanced:{scaleResolutionDownBy:1,frameRate:n,bitrateMax:i,bitrateMin:o},motion:{scaleResolutionDownBy:1,frameRate:n,bitrateMax:i,bitrateMin:o},detail:{scaleResolutionDownBy:1,frameRate:n,bitrateMax:i,bitrateMin:o}}];for(let e=1;e<=c;e++){const t={bwe_up:Math.round(Math.pow(u,e)*i),bwe_down:Math.round(Math.pow(h,e+1)*i),fps_up:Math.round(Math.pow(_,e)*C),fps_down:Math.round(Math.pow(p,e+1)*C)},a={scaleResolutionDownBy:r/Math.pow(f,e),frameRate:Math.max(Math.round(Math.pow(m,e)*n),s),bitrateMax:Math.max(Math.round(Math.pow(E,e)*i),l),bitrateMin:Math.max(Math.round(Math.pow(E,e)*o),d)},c={scaleResolutionDownBy:r/Math.pow(S,e),frameRate:n,bitrateMax:Math.max(Math.round(Math.pow(g,e)*i),l),bitrateMin:Math.max(Math.round(Math.pow(g,e)*o),d)},y={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(Math.pow(T,e)*n),s),bitrateMax:Math.max(Math.round(Math.pow(R,e)*i),l),bitrateMin:Math.max(Math.round(Math.pow(R,e)*o),d)};v.push({scale:e,threshold:t,balanced:a,motion:c,detail:y})}return v}function Cj(e,t,i,n,r,o){const s=Sj.get(e)||{overUse:0,underUse:0,adaptationList:Rj(r)},{adaptationList:a}=s;Sj.set(e,s);const{OVERUSE_TIMES_THRESHOLD:c,UNDERUSE_TIMES_THRESHOLD:d}=fD,{scale:l}=n;let u,h;return\"number\"==typeof t&&t>0&&function(e,t,i,n){if(t>=i.length)return!1;let{threshold:{fps_down:r}}=i[t];return CD(\"FORCE_AG_HIGH_FRAMERATE\")&&\"maintain-framerate\"===n&&(r=i[0].threshold.fps_down),e<r}(t,l,a,o)&&(s.overUse++,h=tD.CPU,s.overUse>c)||\"number\"==typeof i&&i>0&&function(e,t,i){if(t>=i.length)return!1;const{threshold:{bwe_down:n}}=i[t];return e<n}(i,l,a)&&(s.overUse++,h=tD.BANDWIDTH,s.overUse>c)?(s.overUse=0,s.underUse=0,u=gj(n,a,o,fj.DOWN),[u,h]):(\"number\"==typeof t&&t>0&&\"number\"==typeof i&&i>0&&function(e,t,i,n){if(0===t)return;let{threshold:{fps_up:r}}=i[t];return CD(\"FORCE_AG_HIGH_FRAMERATE\")&&\"maintain-framerate\"===n&&(r=i[1].threshold.fps_up),e>r}(t,l,a,o)&&function(e,t,i){if(0===t)return;const{threshold:{bwe_up:n}}=i[t];return e>n}(i,l,a)&&(s.underUse++,s.underUse>d&&(s.overUse=0,s.underUse=0,u=gj(n,a,o,fj.UP),0===u.scale&&(h=tD.NONE))),[u,h])}function vj(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function yj(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?vj(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):vj(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ij(e){var t;return!!CD(\"ENABLE_AG_ADAPTATION\")&&(!!(e instanceof MM||Ln(t=e._hints).call(t,VP.CUSTOM_TRACK))&&(!!CD(\"FORCE_SUPPORT_AG_ADAPTATION\")||!!(qw(14,0,!1)&&Xw(17,4,!0)||zw(14)&&Jw(17,4,!0))))}const Aj=new Map;function bj(e,t,i,n,r,o){if(wj(e,i),r(t),\"balanced\"!==n&&\"maintain-framerate\"!==n&&\"maintain-resolution\"!==n)return;let s=-1;Tj(e,t);const a=window.setInterval((()=>{const a=Aj.get(e);if(!CD(\"ENABLE_AG_ADAPTATION\")||!a)return wj(e,i),void r(t);const c=o();if(c.sendPackets>0&&c.OutgoingAvailableBandwidth>0){if(-1===s)return void(s=Date.now());if(Date.now()-s<1e3)return;const o=c.sendFrameRate,d=c.OutgoingAvailableBandwidth,[l,u]=Cj(e,o,d,a.adaptationConfig,t,n);u&&(i.qualityLimitationReason=u),l&&a.adaptationConfig.scale!==l.scale&&(iP.debug(\"[\".concat(e,\"] applyAdaptation: \").concat(i.qualityLimitationReason,\"\\n           sendFps \").concat(o,\", bwe \").concat(d,\", switch from \").concat(a.adaptationConfig.scale,\" to \").concat(l.scale,\" \")),a.adaptationConfig=yj(yj({},a.adaptationConfig),l),r(l))}}),CD(\"CHECK_LOCAL_STATS_INTERVAL\")),c=yj({},t);Aj.set(e,{timer:a,adaptationConfig:c,originConfig:t,adaptationFunc:r}),iP.debug(\"[\".concat(e,\"] start adaptation, originConfig: \").concat(JSON.stringify(t),\", degradationPreference: \").concat(n))}function wj(e,t){const i=Aj.get(e);if(i){const{timer:t}=i;window.clearTimeout(t),Aj.delete(e)}t.qualityLimitationReason=tD.NONE,Tj(e)}function Oj(e,t){var i;let n;switch(t){case Rx.LocalAudioTrack:n=ox.Audio;break;case Rx.LocalVideoTrack:n=Ln(i=e._hints).call(i,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:n=ox.Low}return n}function Nj(e){const t=pP();if(e.some((e=>e._bypassWebAudio)))throw new pO(hO.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");if(!t.webAudioMediaStreamDest)throw new pO(hO.NOT_SUPPORTED,\"cannot publish multiple tracks because your browser does not support audio mixing\")}function Dj(e,t){Nj(e);const i=t||new Wk;return e.forEach((e=>i.addAudioTrack(e))),i}const Pj=!pP().supportUnifiedPlan||CD(\"CHROME_FORCE_PLAN_B\")&&sO();function Lj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.useDcSignal)return i={spec:t,store:e},oB(\"DataChannelConnection\").create(i);var i;const n=Pj?function(e){return oB(\"PlanBConnection\").create(e)}({spec:t,store:e}):new Fj(t,e);return n}function kj(e){return e&&(\"disconnected\"===e.iceConnectionState||\"checking\"===e.iceConnectionState||\"failed\"===e.iceConnectionState)}function Mj(e){try{if(e.iceServers)return!1;if(e.turnServer&&\"off\"!==e.turnServer.mode){if(xO(e.turnServer.servers))return!1;if(CD(\"FORCE_TURN_TCP\")||e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).some((e=>e.forceturn)))return!0}return!1}catch(e){return!1}}var Uj;function Vj(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function xj(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Vj(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Vj(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let Fj=(Uj=class e extends mx{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")).filter((e=>{var t;return Ln(t=Object.keys(AD)).call(t,e)})))]}constructor(t,i){super(t,i),iA(this,\"id\",SN(5,\"connection-\")),iA(this,\"store\",void 0),iA(this,\"peerConnection\",void 0),iA(this,\"forceTurn\",!1),iA(this,\"remoteSDP\",void 0),iA(this,\"initialOffer\",void 0),iA(this,\"transportEventReceiver\",void 0),iA(this,\"statsFilter\",void 0),iA(this,\"extension\",{useXR:CD(\"USE_XR\")}),iA(this,\"localCapabilities\",void 0),iA(this,\"remoteCodecs\",void 0),iA(this,\"localCandidateCount\",0),iA(this,\"allCandidatesReceived\",!1),iA(this,\"isPreallocation\",!1),iA(this,\"isPreRender\",!1),iA(this,\"preMediaMap\",new Map),iA(this,\"dataStreamChannelMap\",new Map),iA(this,\"establishPromise\",void 0),iA(this,\"recoveredDataChannelIds\",[]),iA(this,\"currentDataChannelId\",1),iA(this,\"supportAV1RtpSpec\",!1),iA(this,\"mutex\",void 0),iA(this,\"qualityLimitationReason\",tD.NONE),iA(this,\"isFirstConnected\",!1),this.store=i,this.forceTurn=Mj(t),this.mutex=new PN(\"P2PConnection-mutex\",i.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.isFirstConnected=!1,this.statsFilter=dD(this.peerConnection,CD(\"STATS_UPDATE_INTERVAL\"),void 0,Bw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,t.isPreallocation&&(this.isPreallocation=!0),this.establishPromise=this.establish()}getPreMedia(e){return this.preMediaMap.get(e)}isPreSub(){return this.preMediaMap.size>0}async updateRemoteRTPCapabilities(e,t){if(this.remoteCodecs=t,!this.remoteSDP)return void iP.debug(\"[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: \".concat(this.localCodecs,\", codecs: \").concat(t));if(this.remoteSDP.updateRemoteCodec(e,t,this.store.codec)){const e=await this.peerConnection.createOffer(),t=this.logSDPExchange(e.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(e);const i=this.remoteSDP.toString();null==t||t(i),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:i})}else iP.debug(\"[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.\")}async establish(){try{this.peerConnection.addTransceiver(\"video\",{direction:\"recvonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"recvonly\"});const t=await this.peerConnection.createOffer();if(!t.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const i=OF(t.sdp),n=await jF({filterRTX:!CD(\"USE_PUB_RTX\")&&!CD(\"USE_SUB_RTX\"),filterVideoFec:CD(\"FILTER_VIDEO_FEC\"),filterAudioFec:CD(\"FILTER_AUDIO_FEC\"),filterVideoCodec:CD(\"FILTER_VIDEO_CODEC\"),unsupportedVideoUplinkCodec:CD(\"UNSUPPORTED_VIDEO_UPLINK_CODEC\"),unsupportedVideoDownlinkCodec:CD(\"UNSUPPORTED_VIDEO_DOWNLINK_CODEC\")},this.extension);if(this.localCapabilities=HF(n),this.initialOffer=t,CD(\"ENABLE_SVC\")&&\"av1\"==this.store.codec){const t=await BF();var e;if(t)this.supportAV1RtpSpec=!0,null===(e=n.send)||void 0===e||e.videoExtensions.push(t)}let r;return t.sdp&&ZF(t.sdp)&&(r=sN(n),TF(r)),xj(xj({},i),{},{rtpCapabilities:r||n,offerSDP:t.sdp})}catch(e){throw new pO(hO.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.initialOffer.sdp&&ZF(this.initialOffer.sdp)&&RF(e.rtpCapabilities,this.localCapabilities),this.remoteSDP=new _j(xj(xj({},e),{},{localCapabilities:this.localCapabilities}),this.supportAV1RtpSpec,!(!CD(\"ENABLE_PRE_SUB_WITH_PRE_PC\")||!CD(\"PRE_USE_LOCAL_CODECS\"))&&mP(this.store)),e.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const t=this.remoteSDP.toString(),i=XF(this.initialOffer.sdp,this.extension),n=this.logSDPExchange(i||\"\",\"offer\",\"local\",\"connect\");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:\"offer\",sdp:i}),null==n||n(t),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:t});const r=this.peerConnection.getTransceivers()[0];if(null!=r&&r.receiver&&this.tryBindTransportEvents(r.receiver),mP(this.store))if(e.preallocation&&CD(\"ENABLE_PRE_SUB_WITH_PRE_PC\")){const e=CD(\"PRE_SUB_NUM\"),{mids:t,preSSRCs:i}=this.remoteSDP.preloadRemoteMedia(e);await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] preload media, in pre pc,add preload ssrcs \").concat(i)),this.presetMedia(t,i)}else{const{preSSRCs:t=[]}=e,i=t.map((e=>e.ssrcMsg[0].ssrcId));if(0===t.length)return;const{mids:n}=this.remoteSDP.batchSend(t.map((e=>Object.assign({},e))));await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[P2PConnection.connect] preload media, after join, add preload ssrcs \".concat(i)),this.presetMedia(n,i)}}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}presetMedia(e,t){e.forEach(((e,i)=>{this.peerConnection.getTransceivers().forEach((n=>{if(null!=n.mid&&e===n.mid&&n.receiver.track){const r=n.receiver.track;let o;\"video\"===r.kind&&CD(\"ENABLE_PRE_RENDER\")&&(o=new Xk({trackId:\"track-\".concat(r.kind,\"-unknown-\").concat(this.store.clientId,\"_\").concat(SN(5,\"\"))},!0),o.updateVideoTrack(r),o.onFirstVideoFrameRender=()=>{var e;const n=this.preMediaMap.get(t[i]);n&&(n.firstVideoRender=Date.now()),null===(e=this.onFirstVideoRender)||void 0===e||e.call(this,t[i])},o.onVideoBufferReady=()=>{var e;null===(e=this.onFirstVideoBufferReady)||void 0===e||e.call(this,t[i])},o.play(this.store.sessionId||void 0),this.isPreRender=!0),this.preMediaMap.set(t[i],{mid:e,track:r,player:o,transceiver:n})}})),this.store.peerReceiver()}))}checkDtlsParameters(e){return!!this.remoteSDP&&(e.length>0&&this.remoteSDP.updateRemoteDtlsParameters(e))}async updateRemoteConnect(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateRemoteConnect before remote SDP created\");let t=!1;const{rtpCapabilities:i}=e;if([,t]=this.remoteSDP.updateRemoteRTPCapabilities(i),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0){const e=this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);t=t||e}const{preSSRCs:n=[]}=e,r=n.map((e=>e.ssrcMsg[0].ssrcId));if(!this.remoteSDP.checkPreloadSsrcs(r)){const e=[],t=[];if(Array.from(this.preMediaMap.entries()).every((i=>{let[n,{mid:r,player:o,track:s}]=i;return e.push(r),t.push(n),this.preMediaMap.delete(n),o&&o.destroy(),!0})),e.length>0&&(this.remoteSDP.stopSending(e),await qF(this.peerConnection,this.remoteSDP,this.extension),iP.warn(\"[P2PConnection.updateRemoteConnect] preload media, failed, del preload ssrcs \".concat(t)),lP.reportApiInvoke(this.store.sessionId,{name:LO.PRELOAD_MEDIA_FAILED,options:[n,t],tag:kO.TRACER}).onSuccess()),n.length>0){const{mids:e}=this.remoteSDP.batchSend(n.map((e=>Object.assign({},e))));await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[P2PConnection.updateRemoteConnect] preload media, after join, add preload ssrcs \".concat(r)),this.presetMedia(e,r)}}t?(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[P2PConnection] updateRemoteConnect by exchanging SDP.\")):iP.debug(\"[P2PConnection] updateRemoteConnect no need to exchange SDP, because no need to update remote codecs (use local codecs)\")}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.updateRemoteConnect failed; \".concat(e.toString()))}}send(e,t,i){var n=this;return Mb((function*(){const r=yield Vb(n.mutex.lock(\"From P2PConnection.send\"));try{if(!n.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const o=[],s=SF();e.forEach((e=>{const t=n.peerConnection.addTransceiver(e._mediaStreamTrack,xj({direction:\"sendonly\"},\"video\"===e.trackMediaType&&n.supportAV1RtpSpec&&s?{sendEncodings:[{scalabilityMode:s}]}:{}));o.push(t),e._updateRtpTransceiver(t)})),Bw()&&!0===CD(\"SIMULCAST\")&&(yield Vb(n.applySimulcastForFirefox(o,e)));const a=yield Vb(n.peerConnection.createOffer()),c=n.remoteSDP.predictReceivingMids(e.length),d=n.mungSendOfferSDP(a.sdp,e,c),l=LD(d),u=c.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return NF(t,CD(\"USE_PUB_RTX\"))}));let h;try{h=yield u}catch(r){h=[],n.remoteSDP.receive(e,t,i,h);const o=n.remoteSDP.toString();throw yield Vb(n.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield Vb(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})),yield Vb(n.stopSending(c,!0)),r}n.remoteSDP.receive(e,t,i,h);const p=n.remoteSDP.toString(),_=n.logSDPExchange(d,\"offer\",\"local\",\"send\");return yield Vb(n.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield Vb(n.applySimulcastEncodings(o,e)),yield Vb(n.applySendEncodings(o,e)),null==_||_(p),yield Vb(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:p})),o.map(((e,t)=>{const i=c[t];return{localSSRC:u[t],id:i,transceiver:e}}))}catch(e){throw e instanceof pO?e:new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{r()}}))()}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.createDataChannels before remote SDP created\");let i=this.dataStreamChannelMap.get(e);if(i&&\"open\"===i.readyState)iP.debug(\"[P2PConnection] Channels are already available and can be reused directly.\");else{const t=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if(\"number\"!=typeof t)throw new Error(\"create DataChannel error, because cannot get dc id\");i=this.peerConnection.createDataChannel(\"datastream-channel\",{id:t,negotiated:!0,ordered:!1,maxRetransmits:CD(\"DATASTREAM_MAX_RETRANSMITS\")}),i.binaryType=\"arraybuffer\",this.dataStreamChannelMap.set(e,i)}t.forEach((e=>{e._updateOriginDataChannel(i)}));const{needExchangeSDP:n}=this.remoteSDP.sendDataChannel();if(n){const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t),iP.debug(\"[P2PConnection] createDataChannels by exchanging SDP.\")}else iP.debug(\"[P2PConnection] createDataChannels no need to exchange SDP.\");return}catch(e){throw e instanceof pO?e:new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.createDataChannels failed; \".concat(e.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return t&&(t.id&&this.recoveredDataChannelIds.push(t.id),t.close()),void this.dataStreamChannelMap.delete(e)}catch(e){throw e instanceof pO?e:new pO(hO.DATACHANNEL_FAILED,\"P2PConnection.stopDataChannels failed; \".concat(e.toString()))}}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");t.map((e=>{var t;wj(this.id+e.mid,this),e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const o=this.remoteSDP.toString();null==r||r(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,i,n);o&&(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\")));const s=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!s)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:s.receiver.track,id:r,transceiver:s}}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");const{mids:t,needExchangeSDP:i}=this.remoteSDP.batchSend(e);return i&&(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] batchReceive by exchanging SDP.\"))),t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:t.receiver.track,id:e,transceiver:t}}))}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");e.forEach((e=>{Array.from(this.preMediaMap.entries()).some((t=>{let[i,{mid:n,player:r}]=t;if(n===e)return this.preMediaMap.delete(i),r&&r.destroy(),!0}))})),this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"stopReceiving\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"muteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.muteRemote failed; \".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"unmuteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteRemote failed; \".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((e=>{e.direction=\"inactive\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((async(e,t)=>{e.direction=\"sendonly\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec(e,this.remoteCodecs,this.store.codec);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return Mb((function*(){const i=yield Vb(t.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");const n=pP().supportPCSetConfiguration,r=CD(\"FORCE_TURN_TCP\")||t.forceTurn;if(e===Sx.RELAY&&!n)return;if(n&&!r){const i=e===Sx.RELAY?\"relay\":\"all\",n=t.peerConnection.getConfiguration();n.iceTransportPolicy!==i&&(iP.debug(\"[\".concat(t.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(n.iceTransportPolicy,\"] to [\").concat(i,\"]\")),n.iceTransportPolicy=i,t.peerConnection.setConfiguration(n))}t.remoteSDP.updateCandidates(e);const o=yield Vb(t.peerConnection.createOffer({iceRestart:!0}));if(!o.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const s=OF(o.sdp),{remoteIceParameters:a}=yield s.iceParameters;t.remoteSDP.restartICE(a);const c=t.remoteSDP.toString(),d=t.logSDPExchange(o.sdp||\"\",\"offer\",\"local\",\"restartICE\");t.store.descriptionStart(),yield Vb(t.peerConnection.setLocalDescription(o)),null==d||d(c),yield Vb(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:c}))}catch(e){iP.warning(\"[\".concat(t.store.clientId,\"] restart ICE failed, abort operation\"),e)}finally{i()}}))()}async extendCandidate(){if(!this.remoteSDP||this.isFirstConnected)return;const e=await this.mutex.lock(\"From P2PConnection.extendCandidate\");try{this.remoteSDP.updateCandidates(Sx.TCP_RELAY),await qF(this.peerConnection,this.remoteSDP,this.extension)}catch(e){iP.warning(\"[\".concat(this.store.clientId,\"] extend candidate failed, abort operation\"),e)}finally{e()}}close(){var e;this.peerConnection.getTransceivers().forEach((e=>{wj(this.id+e.mid,this)})),this.preMediaMap.forEach((e=>{let{player:t}=e;t&&t.destroy()})),this.preMediaMap.clear(),this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return xj(xj({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const i=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(i.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),o=this.logSDPExchange(n,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:n}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===i.length&&(this.isVP8Simulcast(t)?Bw()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find((e=>e.mid===t));i&&await i.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:i,remote:n}=t.getSelectedCandidatePair();return{local:xj(xj({},zN),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:xj(xj({},zN),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;\"connected\"===this.peerConnection.connectionState&&(this.isFirstConnected=!0),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidateerror=e=>{if(e&&(e.errorCode||e.errorText)){var t;const i=\"code: \".concat(e.errorCode,\", message: \").concat(e.errorText),n=e.port?\"local: \".concat(e.port):\"\",r=mF(e.url||\"\");iP.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICECandidateError(\").concat(i,\"), url: \").concat(r||\"\",\", host_candidate:\").concat(n)),null===(t=this.onICECandidateError)||void 0===t||t.call(this,i)}},this.peerConnection.onicegatheringstatechange=e=>{e&&e.target&&\"iceGatheringState\"in e.target&&iP.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] RTCPeerConnection.onicegatheringstatechange(\").concat(e.target.iceGatheringState,\")\"))},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,iP.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,iP.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),CD(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const i={iceServers:[]},n=t.cloudProxyServer||\"disabled\";return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&(xO(t.turnServer.servers)?i.iceServers=t.turnServer.servers:CD(\"NEW_TURN_MODE\")&&i.iceServers&&\"disabled\"===n?(CD(\"USE_TURN_SERVER_OF_GATEWAY\")?t.turnServer.serversFromGateway&&i.iceServers.push(...e.newTurnServerConfigToIceServers(t.turnServer.serversFromGateway)):i.iceServers.push(...e.newTurnServerConfigToIceServers(t.turnServer.servers)),CD(\"NEW_FORCE_TURN\")&&(i.iceTransportPolicy=\"relay\")):\"off\"!==t.turnServer.mode&&(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),CD(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),CD(\"FORCE_TURN_TCP\")?i.iceTransportPolicy=\"relay\":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")})))),CD(\"ENABLE_ENCODED_TRANSFORM\")&&pP().supportWebRTCEncodedTransform&&(i.encodedInsertableStreams=!0),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(sF(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!CD(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}static newTurnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{const i=CD(\"NEW_TURN_MODE\");1===i?t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":3478?transport=udp\")}):2===i?t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":3478?transport=tcp\")}):3===i?t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(sF(e.turnServerURL),\":443?transport=tcp\")}):4===i&&(t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":3478?transport=udp\")}),t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":3478?transport=tcp\")}),t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(sF(e.turnServerURL),\":443?transport=tcp\")}))})),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,\"error\"in e?e.error:e)};const i=t.iceTransport;i&&(i.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var i;e&&(null===(i=this.onICETransportStateChange)||void 0===i||i.call(this,e))},i.getSelectedCandidatePair&&(i.onselectedcandidatepairchange=()=>{if(i.getSelectedCandidatePair()){const{local:e,remote:t}=i.getSelectedCandidatePair()||{};if(e&&t){const i=e.address+\":\"+e.port,n=t.address+\":\"+t.port;iP.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify(mF(i)),\", remote \").concat(JSON.stringify(mF(n))))}}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var i,n;if(!t){const i=this.peerConnection.getSenders();t=i.find((t=>t.track===e._mediaStreamTrack))}if(!t)return iP.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return iP.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!pP().supportSetRtpSenderParameters)return iP.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");const r={},o={};switch(e._optimizationMode){case\"motion\":r.degradationPreference=\"maintain-framerate\";break;case\"detail\":r.degradationPreference=\"maintain-resolution\";break;case\"balanced\":r.degradationPreference=\"balanced\"}const s=fF(this.peerConnection,e._mediaStreamTrack),a=JL(e);if(Ij(e)&&s&&t&&a&&this.getLocalVideoStats&&Ln(i=[\"vp8\",\"vp9\"]).call(i,this.store.codec)){var c;const i=r.degradationPreference||(Ln(c=e._hints).call(c,VP.CUSTOM_TRACK)?CD(\"CUSTOM_ADAPTATION_DEFAULT_MODE\"):\"maintain-framerate\");bj(this.id+s.mid,a,this,i,(e=>{t&&this.updateAdaptation(t,e)}),this.getLocalVideoStats.bind(this))}if(e._encoderConfig){var d;const{bitrateMax:t,frameRate:i,scaleResolutionDownBy:n}=e._encoderConfig;t&&(o.maxBitrate=1e3*t),(Ln(d=e._hints).call(d,VP.LOW_STREAM)||e.isUseScaleResolutionDownBy)&&(i&&(o.maxFramerate=dF(i)),n&&n>=1&&(o.scaleResolutionDownBy=n))}const{maxFramerate:l}=CD(\"ENCODER_CONFIG_LIMIT\");if(l&&\"number\"==typeof l&&(o.maxFramerate=o.maxFramerate?Math.min(o.maxFramerate,l):l),CD(\"DSCP_TYPE\")&&sO()){var u;const e=CD(\"DSCP_TYPE\");Ln(u=[\"very-low\",\"low\",\"medium\",\"high\"]).call(u,e)&&(o.networkPriority=e)}const h=t.getParameters(),p=null===(n=h.encodings)||void 0===n?void 0:n[0];Bw()&&!p&&(r.encodings=[o]),p&&Object.assign(p,o),Object.assign(h,r),iP.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(h.encodings))),await t.setParameters(h),await QF(this.store.codec,t,CD(\"SVC_MODE\"))}async updateAdaptation(e,t){var i,n;if(!e)return iP.debug(\"[updateAdaptation] no rtpSender found\");if(!pP().supportSetRtpSenderParameters)return iP.debug(\"[updateAdaptation] Browser not support set rtp-sender parameters\");const r={},{bitrateMax:o,frameRate:s,scaleResolutionDownBy:a}=t;o&&(r.maxBitrate=1e3*o),s&&(r.maxFramerate=dF(s)),a&&a>=1&&Ln(i=[\"vp8\",\"vp9\"]).call(i,this.store.codec)&&(r.scaleResolutionDownBy=a);const c=e.getParameters(),d=null===(n=c.encodings)||void 0===n?void 0:n[0];d&&Object.assign(d,r),Object.assign(c,{});try{await e.setParameters(c),iP.debug(\"[updateAdaptation] updateRtpSenderEncodings: \".concat(JSON.stringify(c.encodings)))}catch(t){!(\"transport\"in e)||e.transport&&\"connected\"===e.transport.state?\"connected\"!==this.peerConnectionState?iP.debug(\"[updateAdaptation] peerConnection not connected}\"):iP.debug(\"[updateAdaptation] updateRtpSenderEncodings failed\",t):iP.debug(\"[updateAdaptation] rtpSender transport not connected}\")}}async applySendEncodings(e,t){try{if(!pP().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];r instanceof kM&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,n.sender)}}catch(e){iP.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t,i){const n=LD(e);return t.forEach(((e,t)=>{const r=i[t],o=n.mediaDescriptions.find((e=>e.attributes.mid===r));o&&(kF(o,e),FF(o,e,this.store.codec))})),kD(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var i,n,r,o,s;const c=e[a],d=t[a];if(d instanceof kM&&!Ln(i=d._hints).call(i,VP.LOW_STREAM)&&null!==(n=d._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=d._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=d._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(s=d._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(d._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=c.sender.getParameters();await c.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!Bw()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof kM&&this.isVP8Simulcast(n)){const t=e[i],r={},o={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:o.medium,scaleResolutionDownBy:4}];const s=t.sender.getParameters();await t.sender.setParameters(Object.assign(s,r))}}}isVP8Simulcast(e){var t,i,n,r,o;return!!(e instanceof kM&&CD(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!Ln(t=e._hints).call(t,VP.LOW_STREAM)&&null!==(i=e._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=e._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(CD(\"SDP_LOGGING\"))return iP.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(t,\" SDP during P2PConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return t&&0!==t.length?t[0].ssrcId:void 0}setConfiguration(t){if(pP().supportPCSetConfiguration){const i=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(i)}t.isPreallocation&&(this.isPreallocation=!0)}},DV(Uj.prototype,\"updateRemoteRTPCapabilities\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"updateRemoteRTPCapabilities\"),Uj.prototype),DV(Uj.prototype,\"connect\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"connect\"),Uj.prototype),DV(Uj.prototype,\"updateRemoteConnect\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"updateRemoteConnect\"),Uj.prototype),DV(Uj.prototype,\"createDataChannels\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"createDataChannels\"),Uj.prototype),DV(Uj.prototype,\"receive\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"receive\"),Uj.prototype),DV(Uj.prototype,\"batchReceive\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"batchReceive\"),Uj.prototype),DV(Uj.prototype,\"stopReceiving\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"stopReceiving\"),Uj.prototype),DV(Uj.prototype,\"muteRemote\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"muteRemote\"),Uj.prototype),DV(Uj.prototype,\"unmuteRemote\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"unmuteRemote\"),Uj.prototype),DV(Uj.prototype,\"muteLocal\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"muteLocal\"),Uj.prototype),DV(Uj.prototype,\"unmuteLocal\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"unmuteLocal\"),Uj.prototype),DV(Uj.prototype,\"close\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"close\"),Uj.prototype),DV(Uj.prototype,\"updateEncoderConfig\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"updateEncoderConfig\"),Uj.prototype),DV(Uj.prototype,\"updateSendParameters\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"updateSendParameters\"),Uj.prototype),DV(Uj.prototype,\"replaceTrack\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"replaceTrack\"),Uj.prototype),DV(Uj.prototype,\"updateAdaptation\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"updateAdaptation\"),Uj.prototype),DV(Uj.prototype,\"getRemoteSSRC\",[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,\"getRemoteSSRC\"),Uj.prototype),Uj);function Bj(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PConnection.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}function jj(e,t){let i=document.createElement(\"video\"),n=document.createElement(\"canvas\");i.setAttribute(\"style\",\"display:none\"),n.setAttribute(\"style\",\"display:none\"),i.setAttribute(\"muted\",\"\"),i.muted=!0,i.setAttribute(\"autoplay\",\"\"),i.autoplay=!0,i.setAttribute(\"playsinline\",\"\"),n.width=dF(t.width),n.height=dF(t.height);const r=dF(t.framerate||15);document.body.append(i),document.body.append(n);let o=e._mediaStreamTrack;i.srcObject=new MediaStream([o]),i.play().catch(TN);const s=n.getContext(\"2d\");if(!s)throw new uP(hO.UNEXPECTED_ERROR,\"can not get canvas context\");const a=pP(),c=n.captureStream(a.supportRequestFrame?0:r).getVideoTracks()[0];c.canvas||(c.canvas=n),n.startCapture=()=>{if(!i)return n.stopCapture&&n.stopCapture();if(i.paused&&i.play(),i.videoHeight>2&&i.videoWidth>2){const e=i.videoWidth,t=i.videoHeight/e,r=n.width*t;Math.abs(r-n.height)>=2&&(iP.debug(\"adjust low stream resolution\",\"\".concat(n.width,\"x\").concat(n.height,\" -> \").concat(n.width,\"x\").concat(r)),n.height=r)}s.drawImage(i,0,0,n.width,n.height),c.requestFrame&&c.requestFrame(),o!==e._mediaStreamTrack&&(o=e._mediaStreamTrack,i.srcObject=new MediaStream([o]))},n.stopCapture=SL((()=>n.startCapture&&n.startCapture()),r);const d=c.stop;return c.stop=()=>{d.call(c),i&&(i.remove(),i.srcObject=null,i=null),n&&(n.width=0,n.remove(),n.stopCapture&&n.stopCapture(),n.startCapture=void 0,n.stopCapture=void 0,n=null),iP.debug(\"clean low stream renderer\")},c}var Gj=function(e){return e[e.Video_Send_Type=190]=\"Video_Send_Type\",e}(Gj||{}),Wj=function(e){return e[e.Video_Send_Qp_Sum=2143]=\"Video_Send_Qp_Sum\",e[e.Video_Send_Freeze=2082]=\"Video_Send_Freeze\",e[e.Video_Recv_Qp_Sum=2144]=\"Video_Recv_Qp_Sum\",e[e.Video_Recv_Freeze=2084]=\"Video_Recv_Freeze\",e[e.Video_Render_Freeze_Time=2109]=\"Video_Render_Freeze_Time\",e[e.Video_Render_Freeze_Time_Render=2147]=\"Video_Render_Freeze_Time_Render\",e[e.Video_Render_Freeze_Time_Render2=2223]=\"Video_Render_Freeze_Time_Render2\",e[e.Audio_Recv_Freeze=2083]=\"Audio_Recv_Freeze\",e}(Wj||{}),Hj=function(e){return e[e.Video_Send_Retransmit=2062]=\"Video_Send_Retransmit\",e[e.Video_Send_Target_Encoded=2064]=\"Video_Send_Target_Encoded\",e[e.Video_Send_Actual_Encoded=2060]=\"Video_Send_Actual_Encoded\",e[e.Video_Send_Transmit=2066]=\"Video_Send_Transmit\",e[e.Video_Send_Bandwidth=2061]=\"Video_Send_Bandwidth\",e[e.Video_Capture_Height=2033]=\"Video_Capture_Height\",e[e.Video_Capture_Width=2035]=\"Video_Capture_Width\",e[e.Video_Capture_Frame_Rate=2034]=\"Video_Capture_Frame_Rate\",e[e.Video_Send_Low_Height=2073]=\"Video_Send_Low_Height\",e[e.Video_Send_Low_Frame_Rate=2075]=\"Video_Send_Low_Frame_Rate\",e[e.Video_Send_Low_Width=2077]=\"Video_Send_Low_Width\",e[e.Video_Send_Low_Bitrate=2069]=\"Video_Send_Low_Bitrate\",e[e.Video_Send_Low_Package_Lost=2070]=\"Video_Send_Low_Package_Lost\",e[e.Video_Send_Low_Package_Rate=2071]=\"Video_Send_Low_Package_Rate\",e[e.Video_Send_Frame_Rate=2002]=\"Video_Send_Frame_Rate\",e[e.Video_Send_Width=2003]=\"Video_Send_Width\",e[e.Video_Send_Height=2004]=\"Video_Send_Height\",e[e.Video_Send_Disabled=2095]=\"Video_Send_Disabled\",e[e.Video_Send_Adaptation=2032]=\"Video_Send_Adaptation\",e[e.Video_Send_Player_Status=2128]=\"Video_Send_Player_Status\",e[e.Video_Send_Nacks=2009]=\"Video_Send_Nacks\",e[e.Video_Send_Plis=2010]=\"Video_Send_Plis\",e[e.Video_Send_Firs=2011]=\"Video_Send_Firs\",e[e.Video_Send_Avg_Encode=2007]=\"Video_Send_Avg_Encode\",e[e.Video_Send_Huge_Frame_Sent=2174]=\"Video_Send_Huge_Frame_Sent\",e[e.Video_Send_Bytes_Retransmit=2173]=\"Video_Send_Bytes_Retransmit\",e[e.Video_Send_Packages_Retransmit=2172]=\"Video_Send_Packages_Retransmit\",e[e.Video_Send_Key_Frames_Encoded=2207]=\"Video_Send_Key_Frames_Encoded\",e[e.Video_Send_Bitrate=2012]=\"Video_Send_Bitrate\",e[e.Video_Send_Package_Rate=2031]=\"Video_Send_Package_Rate\",e[e.Video_Send_Package_Lost=2005]=\"Video_Send_Package_Lost\",e[e.Audio_Capture_PCM_Level=2104]=\"Audio_Capture_PCM_Level\",e[e.Audio_Send_Level=2038]=\"Audio_Send_Level\",e[e.Audio_Send_Bitrate=2039]=\"Audio_Send_Bitrate\",e[e.Audio_Send_Package_Rate=2040]=\"Audio_Send_Package_Rate\",e[e.Audio_Send_AEC_Return_Loss=2041]=\"Audio_Send_AEC_Return_Loss\",e[e.Audio_Send_AEC_Return_Loss_Enhancement=2042]=\"Audio_Send_AEC_Return_Loss_Enhancement\",e[e.Audio_Send_Freeze=2081]=\"Audio_Send_Freeze\",e[e.Audio_Send_Disabled=2096]=\"Audio_Send_Disabled\",e[e.Audio_Send_Bytes_Retransmit=2179]=\"Audio_Send_Bytes_Retransmit\",e[e.Audio_Send_Packages_Retransmit=2180]=\"Audio_Send_Packages_Retransmit\",e[e.Video_Recv_Height=2019]=\"Video_Recv_Height\",e[e.Video_Recv_Width=2018]=\"Video_Recv_Width\",e[e.Video_Recv_Frame_Rate_Output=2155]=\"Video_Recv_Frame_Rate_Output\",e[e.Video_Recv_Jitter_Buffer=2023]=\"Video_Recv_Jitter_Buffer\",e[e.Video_Recv_Current_Delay=2024]=\"Video_Recv_Current_Delay\",e[e.Video_Recv_Nacks=2026]=\"Video_Recv_Nacks\",e[e.Video_Recv_Plis=2027]=\"Video_Recv_Plis\",e[e.Video_Recv_Firs=2028]=\"Video_Recv_Firs\",e[e.Video_Recv_Disabled=2101]=\"Video_Recv_Disabled\",e[e.Video_Recv_Player_Status=2129]=\"Video_Recv_Player_Status\",e[e.Video_Recv_I_Frame_Delay=2149]=\"Video_Recv_I_Frame_Delay\",e[e.Video_Render_Frame_Rate_Render=2022]=\"Video_Render_Frame_Rate_Render\",e[e.Video_Render_Freeze_Duration=2156]=\"Video_Render_Freeze_Duration\",e[e.Audio_Render_Level=2043]=\"Audio_Render_Level\",e[e.Audio_Render_Freeze_Time_80ms=2226]=\"Audio_Render_Freeze_Time_80ms\",e[e.Audio_Render_Freeze_Time_200ms=2227]=\"Audio_Render_Freeze_Time_200ms\",e[e.Audio_Render_Freeze_Samples_80ms=2228]=\"Audio_Render_Freeze_Samples_80ms\",e[e.Audio_Render_Freeze_Samples_200ms=2229]=\"Audio_Render_Freeze_Samples_200ms\",e[e.Audio_Recv_PCM_Level=2105]=\"Audio_Recv_PCM_Level\",e[e.Audio_Recv_Disabled=2102]=\"Audio_Recv_Disabled\",e[e.Audio_Recv_Jitter_Buffer=2054]=\"Audio_Recv_Jitter_Buffer\",e[e.Audio_Recv_Current_Delay=2047]=\"Audio_Recv_Current_Delay\",e[e.Audio_Recv_Player_Status=2130]=\"Audio_Recv_Player_Status\",e[e.Audio_Recv_Bitrate=2044]=\"Audio_Recv_Bitrate\",e[e.Audio_Recv_Concealed_Samples=2148]=\"Audio_Recv_Concealed_Samples\",e[e.Audio_Recv_Total_Samples_Received=2224]=\"Audio_Recv_Total_Samples_Received\",e}(Hj||{}),Kj=function(e){return e[e.Video_Render_Frame_Rate_Decode=2021]=\"Video_Render_Frame_Rate_Decode\",e[e.Video_Recv_Frame_Rate=2020]=\"Video_Recv_Frame_Rate\",e[e.Video_Recv_Frame_Dropped=2181]=\"Video_Recv_Frame_Dropped\",e[e.Video_Recv_Bytes_Retransmit=2175]=\"Video_Recv_Bytes_Retransmit\",e[e.Video_Recv_Packages_Retransmit=2176]=\"Video_Recv_Packages_Retransmit\",e[e.Video_Recv_Packages_Discarded=2198]=\"Video_Recv_Packages_Discarded\",e[e.Video_Recv_Avg_Decode=2200]=\"Video_Recv_Avg_Decode\",e[e.Video_Recv_Avg_Processing_Delay=2202]=\"Video_Recv_Avg_Processing_Delay\",e[e.Video_Recv_Avg_Assembly_Time=2203]=\"Video_Recv_Avg_Assembly_Time\",e[e.Video_Recv_Avg_Inter_Frame_Delay=2204]=\"Video_Recv_Avg_Inter_Frame_Delay\",e[e.Video_Recv_Key_Frames_Decoded=2206]=\"Video_Recv_Key_Frames_Decoded\",e[e.Video_Recv_Package_Lost=2014]=\"Video_Recv_Package_Lost\",e[e.Video_Recv_Bitrate=2029]=\"Video_Recv_Bitrate\",e[e.Video_Recv_Package_Rate=2078]=\"Video_Recv_Package_Rate\",e[e.Audio_Recv_Jitter=2055]=\"Audio_Recv_Jitter\",e[e.Audio_Recv_Bytes_Retransmit=2178]=\"Audio_Recv_Bytes_Retransmit\",e[e.Audio_Recv_Packages_Retransmit=2177]=\"Audio_Recv_Packages_Retransmit\",e[e.Audio_Recv_Packages_Discarded=2199]=\"Audio_Recv_Packages_Discarded\",e[e.Audio_Recv_Avg_Processing_Delay=2201]=\"Audio_Recv_Avg_Processing_Delay\",e[e.Audio_Recv_Package_Rate=2046]=\"Audio_Recv_Package_Rate\",e[e.Audio_Recv_Package_Lost=2045]=\"Audio_Recv_Package_Lost\",e[e.Audio_Recv_AV_Sync_TIME=2237]=\"Audio_Recv_AV_Sync_TIME\",e}(Kj||{}),Yj=function(e){return e[e.RTT=2006]=\"RTT\",e[e.CONN_TYPE=801]=\"CONN_TYPE\",e[e.STATS_UPDATE_INTERVAL=2205]=\"STATS_UPDATE_INTERVAL\",e}(Yj||{}),zj=function(e){return e[e.RTC_PEER_CONNECTION_STATE=2219]=\"RTC_PEER_CONNECTION_STATE\",e[e.PAGE_VISIBILITY=2233]=\"PAGE_VISIBILITY\",e}(zj||{}),qj=function(e){return e[e.Transport_Send_Bitrate=2234]=\"Transport_Send_Bitrate\",e[e.Transport_Recv_Bitrate=2235]=\"Transport_Recv_Bitrate\",e}(qj||{});const Xj=1e3,Jj=6,Qj=3,Zj=Math.max(Jj,Qj,60);function $j(e,t,i){null!=i&&Number.isFinite(i)&&(e[t]=Math.round(Math.max(0,i)))}function eG(e){const t={[Yj.CONN_TYPE]:0,[Yj.RTT]:e.rtt,[Yj.STATS_UPDATE_INTERVAL]:e.updateInterval?Math.round(Math.max(0,e.updateInterval)):void 0};switch(e.selectedCandidatePair.localCandidate.candidateType){case\"relay\":{const i=e.selectedCandidatePair.localCandidate.relayProtocol;\"udp\"===i&&(t[Yj.CONN_TYPE]=1),\"tcp\"===i&&(t[Yj.CONN_TYPE]=3),\"tls\"===i&&(t[Yj.CONN_TYPE]=4);break}case\"srflx\":t[Yj.CONN_TYPE]=2;break;case\"unknown\":t[Yj.CONN_TYPE]=5;break;default:t[Yj.CONN_TYPE]=0}return t}function tG(e){let t=0;switch(e){case\"none\":t=0;break;case\"cpu\":t=1;break;case\"bandwidth\":t=2;break;case\"other\":t=3}return t}class iG extends NO{constructor(e){super(),iA(this,\"store\",void 0),iA(this,\"uploadWRTCStatsTimer\",void 0),iA(this,\"uploadOutboundDenoiserStatsTimer\",void 0),iA(this,\"uploadExtStatsTimer\",void 0),iA(this,\"uploadExtUsageStatsTimer\",void 0),iA(this,\"uploadInboundExtStatsTimer\",void 0),iA(this,\"requestStats\",void 0),iA(this,\"requestTransportStats\",void 0),iA(this,\"requestLocalMedia\",void 0),iA(this,\"requestRemoteMedia\",void 0),iA(this,\"requestAllTracks\",void 0),iA(this,\"requestVideoIsReady\",void 0),iA(this,\"requestUploadStats\",void 0),iA(this,\"requestUpload\",void 0),iA(this,\"uploadOutboundStarted\",!1),iA(this,\"uploadInboundStarted\",!1),iA(this,\"uploadTransportStarted\",!1),iA(this,\"uploadBaseStatsStarted\",!1),iA(this,\"uploadExtensionUsageStarted\",!1),iA(this,\"lastRecvStats\",void 0),iA(this,\"lastSendStats\",void 0),iA(this,\"lastRefRecvStats\",void 0),iA(this,\"lastRefSendStats\",void 0),iA(this,\"lastNormalRecvStats\",void 0),iA(this,\"lastNormalSendStats\",void 0),iA(this,\"lastExtendStats\",{}),iA(this,\"needUploadStats\",{}),iA(this,\"needUploadRenderFreezeTime\",!0),iA(this,\"lastUploadCompensateTime\",-1),iA(this,\"uploadCompensateDeltaTime\",0),this.store=e}uploadWRTCStats(e){if(!this.requestStats||!this.requestUploadStats)return;const t=e%Qj==0,i=e%Jj==0,n=e%60==0;let r,o;if(this.uploadTransportStarted&&(r=this.requestStats(),this.store.useP2P&&(o=this.requestStats(!0))),!r&&this.uploadOutboundStarted&&(r=this.requestStats()),!o&&this.uploadInboundStarted&&(o=this.requestStats(!0)),r||o){var s;const a={};if(this.uploadTransportStarted&&r){const e=this.getTransportStats(r,t?this.lastRefSendStats:void 0,o,t);e&&(a.misc=[e])}if(this.uploadOutboundStarted&&r){const e=this.getOutboundStats(r,i?this.lastNormalSendStats:void 0,t?this.lastRefSendStats:void 0,this.lastSendStats,n);e&&(a.outbound=[e])}if(this.uploadInboundStarted&&o){this.uploadCompensateStats(e);const n=this.getInboundStats(o,i?this.lastNormalRecvStats:void 0,t?this.lastRefRecvStats:void 0,this.lastRecvStats);n&&(a.inbound=n)}const c=null===(s=this.requestTransportStats)||void 0===s?void 0:s.call(this).connectState;if(c&&(Array.isArray(a.misc)?a.misc[0]&&a.misc[0].addition&&(a.misc[0].addition[zj.RTC_PEER_CONNECTION_STATE]=nD[c]):a.misc=[{addition:{[zj.RTC_PEER_CONNECTION_STATE]:nD[c]}}]),eU.needUploadStats.length>0||i){const e=eU.needUploadStats.shift()||(\"visible\"===eU.visibility?1:0);Array.isArray(a.misc)?a.misc[0]&&a.misc[0].addition&&(a.misc[0].addition[zj.PAGE_VISIBILITY]=e):a.misc=[{addition:{[zj.PAGE_VISIBILITY]:e}}]}this.needUploadStats.sendType&&(Array.isArray(a.outbound)&&a.outbound[0]&&a.outbound[0].high&&(a.outbound[0].high[Gj.Video_Send_Type]=this.needUploadStats.sendType),this.needUploadStats.sendType=void 0),this.requestUploadStats(a)}this.lastRecvStats=o,this.lastSendStats=r,i&&(this.lastNormalRecvStats=o,this.lastNormalSendStats=r),t&&(this.lastRefRecvStats=o,this.lastRefSendStats=r)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;this.uploadBaseStatsStarted=!0,eU.startCollectStats();let e=1;this.uploadWRTCStatsTimer=window.setInterval((()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted){if(this.uploadBaseStatsStarted){var t,i;const e=null===(t=this.requestTransportStats)||void 0===t?void 0:t.call(this);return void(e&&(null===(i=this.requestUploadStats)||void 0===i||i.call(this,{misc:[{addition:{[zj.RTC_PEER_CONNECTION_STATE]:nD[e.connectState]}}]})))}return this.stopUploadWRTCStats()}this.uploadWRTCStats(e),++e===Zj+1&&(e=1)}),Xj)}uploadCompensateStats(e){if(!this.requestStats||!this.requestUploadStats||!this.requestRemoteMedia)return;const t=e%Qj==0&&this.needUploadRenderFreezeTime;if(!this.uploadInboundStarted||!t)return;if(-1===this.lastUploadCompensateTime)return void(this.lastUploadCompensateTime=Date.now());const i=Math.max(-6e3,Date.now()-this.lastUploadCompensateTime-6e3);if(this.uploadCompensateDeltaTime+=i,this.lastUploadCompensateTime=Date.now(),this.uploadCompensateDeltaTime<6e3)return;const n=Math.min(Math.floor(this.uploadCompensateDeltaTime/6e3),10);this.uploadCompensateDeltaTime-=6e3*n;const r=this.requestStats(!0);new Array(n).fill(0).forEach((()=>{if(!this.requestStats||!this.requestUploadStats||!this.requestRemoteMedia)return;const e={};if(this.uploadInboundStarted&&r){const t=this.requestRemoteMedia()||[],i=[];t.forEach((e=>{let[t,n]=e;const o={peer:t.uid};if((t._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(t._videoSSRC)||!1)&&n.has(fx.VIDEO)&&t.videoTrack){const e=function(e,t,i){if(!t.videoRecv.find((t=>t.ssrc===e)))return;const n={};if(i&&i._player){const e=i._player,{renderFreezeAccTime2:t,videoElementStatus:r}=e;if(\"visible\"===eU.visibility&&r===tL.PLAYING&&pP().supportRequestVideoFrameCallback){const i=Math.min(6e3,t);e.renderFreezeAccTime2=Math.max(0,t-i),$j(n,Wj.Video_Render_Freeze_Time_Render2,i),CD(\"USE_NEW_RENDER_FREEZE_TIME\")&&$j(n,Wj.Video_Render_Freeze_Time_Render,i)}}return n}(t._videoSSRC,r,t.videoTrack);e&&(o.video=e)}o.video&&i.push(o)})),i.length>0&&(e.inbound=i,this.requestUploadStats(e))}}))}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0),this.lastRefSendStats&&(this.lastRefSendStats.videoSend=[],this.lastRefSendStats.audioSend=[],this.lastRefSendStats=void 0),this.lastRefRecvStats&&(this.lastRefRecvStats.videoRecv=[],this.lastRefRecvStats.audioRecv=[],this.lastRefRecvStats=void 0),this.lastNormalSendStats&&(this.lastNormalSendStats.videoSend=[],this.lastNormalSendStats.audioSend=[],this.lastNormalSendStats=void 0),this.lastNormalRecvStats&&(this.lastNormalRecvStats.videoRecv=[],this.lastNormalRecvStats.audioRecv=[],this.lastNormalRecvStats=void 0),this.lastExtendStats={},this.needUploadStats={},this.lastUploadCompensateTime=-1,this.uploadCompensateDeltaTime=0,this.needUploadRenderFreezeTime=!0}getTransportStats(e,t,i,n){if(!this.requestStats)return;if(!n)return null==e.rtt?void 0:{addition:{[Yj.RTT]:e.rtt,[Yj.CONN_TYPE]:void 0,[Yj.STATS_UPDATE_INTERVAL]:e.updateInterval||void 0}};const r=eG(e);if(this.store.useP2P){if(i){const e=eG(i);r[Yj.CONN_TYPE]&&e[Yj.CONN_TYPE]&&(r[Yj.CONN_TYPE]+=e[Yj.CONN_TYPE]<<3)}r[Yj.CONN_TYPE]?r[Yj.CONN_TYPE]+=110:r[Yj.CONN_TYPE]=110}else{r[Yj.CONN_TYPE]?r[Yj.CONN_TYPE]+=100:r[Yj.CONN_TYPE]=100;const i=function(e,t){if(t)return[Math.ceil(8*(e.transport.bytesSent-t.transport.bytesSent)/(e.timestamp-t.timestamp)),Math.ceil(8*(e.transport.bytesReceived-t.transport.bytesReceived)/(e.timestamp-t.timestamp))];return[0,0]}(e,t);r[qj.Transport_Send_Bitrate]=i[0],r[qj.Transport_Recv_Bitrate]=i[1]}return{addition:r}}getOutboundStats(e,t,i,n,r){if(!this.requestUploadStats||!this.requestLocalMedia)return;const o=this.requestLocalMedia();if(!o||0===o.length)return;let s,a,c;return o.forEach((n=>{let[o,{track:d,ssrcs:l}]=n;switch(o){case Rx.LocalVideoLowTrack:case Rx.LocalVideoTrack:if(o===Rx.LocalVideoTrack){var u;const n=function(e,t,i,n,r,o){const s=t.videoSend.find((t=>t.ssrc===e));if(!s)return;const a={},{sentFrame:c,inputFrame:d}=s;if(n&&($j(a,Wj.Video_Send_Qp_Sum,s.qpSumPerFrame),d&&c)){const e=d.frameRate,t=c.frameRate;a[Wj.Video_Send_Freeze]=function(e,t){let i=!0;return i=!(e<=5)&&(e<=10?t<3:e<=20?t<4:t<5),i}(e,t)?1:0}if(r){switch(c&&($j(a,Hj.Video_Send_Height,c.height),$j(a,Hj.Video_Send_Width,c.width),$j(a,Hj.Video_Send_Frame_Rate,c.frameRate)),a[Hj.Video_Send_Disabled]=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?1:0,s.adaptionChangeReason){case\"none\":a[Hj.Video_Send_Adaptation]=0;break;case\"cpu\":a[Hj.Video_Send_Adaptation]=1;break;case\"bandwidth\":a[Hj.Video_Send_Adaptation]=2;break;case\"other\":a[Hj.Video_Send_Adaptation]=3}let n=0;s.adaptionChangeReason&&(n+=tG(s.adaptionChangeReason)),t.qualityLimitationReason&&(n+=tG(t.qualityLimitationReason)<<3),a[Hj.Video_Send_Adaptation]=n,a[Hj.Video_Send_Player_Status]=nL[i._player?i._player.videoElementStatus:\"uninit\"],$j(a,Hj.Video_Send_Nacks,s.nacksCount),$j(a,Hj.Video_Send_Plis,s.plisCount),$j(a,Hj.Video_Send_Firs,s.firsCount),$j(a,Hj.Video_Send_Avg_Encode,s.avgEncodeMs),$j(a,Hj.Video_Send_Huge_Frame_Sent,s.hugeFramesSent),$j(a,Hj.Video_Send_Bytes_Retransmit,s.retransmittedBytesSent),$j(a,Hj.Video_Send_Packages_Retransmit,s.retransmittedPacketsSent),$j(a,Hj.Video_Send_Key_Frames_Encoded,s.keyFramesEncoded);const o=r.videoSend.find((t=>t.ssrc===e));if(o){let e=Xj*Qj;o.timestamp&&s.timestamp&&(e=s.timestamp-o.timestamp),null!=o.packets&&null!=s.packets&&$j(a,Hj.Video_Send_Package_Rate,1e3*(s.packets-o.packets)/e),null!=s.packetsLost&&null!=o.packetsLost&&$j(a,Hj.Video_Send_Package_Lost,s.packetsLost-o.packetsLost),null!=o.bytes&&null!=s.bytes&&$j(a,Hj.Video_Send_Bitrate,8*(s.bytes-o.bytes)/e)}}return a}(l[0].ssrcId,e,d,t,i),o=\"CameraVideoTrack\"===d.__className__?3:Ln(u=d._hints).call(u,VP.SCREEN_TRACK)?7:10;(this.lastExtendStats.sendType!==o||r)&&(this.needUploadStats={sendType:o},this.lastExtendStats.sendType=o);const s=d&&function(e,t,i,n){const r=t.videoSend.find((t=>t.ssrc===e));if(!r)return null;const o={};if(n){const e=r.inputFrame,t=e&&e.height||i.videoHeight||0,n=e&&e.width||i.videoWidth||0,s=e&&e.frameRate||0;$j(o,Hj.Video_Capture_Height,t),$j(o,Hj.Video_Capture_Width,n),$j(o,Hj.Video_Capture_Frame_Rate,s)}return o}(l[0].ssrcId,e,d,!!i),c=function(e,t){const i={};return t&&($j(i,Hj.Video_Send_Retransmit,e.bitrate.retransmit),$j(i,Hj.Video_Send_Target_Encoded,e.bitrate.targetEncoded),$j(i,Hj.Video_Send_Actual_Encoded,e.bitrate.actualEncoded),$j(i,Hj.Video_Send_Transmit,e.bitrate.transmit),$j(i,Hj.Video_Send_Bandwidth,e.sendBandwidth)),i}(e,!!i);a=Object.assign({},n,s,c)}else c=function(e,t,i,n,r){const o=t.videoSend.find((t=>t.ssrc===e));if(!o)return;const s={};if(n){const t=o.sentFrame;t&&($j(s,Hj.Video_Send_Low_Height,t.height),$j(s,Hj.Video_Send_Low_Width,t.width),$j(s,Hj.Video_Send_Low_Frame_Rate,t.frameRate));const i=n.videoSend.find((t=>t.ssrc===e));if(i){let e=Xj*Jj;i.timestamp&&o.timestamp&&(e=o.timestamp-i.timestamp),null!=i.packets&&null!=o.packets&&$j(s,Hj.Video_Send_Low_Package_Rate,1e3*(o.packets-i.packets)/e),null!=o.packetsLost&&null!=i.packetsLost&&$j(s,Hj.Video_Send_Low_Package_Lost,o.packetsLost-i.packetsLost),null!=i.bytes&&null!=o.bytes&&$j(s,Hj.Video_Send_Low_Bitrate,8*(o.bytes-i.bytes)/e)}}return s}(l[0].ssrcId,e,0,i);break;case Rx.LocalAudioTrack:s=d&&function(e,t,i,n,r,o){const s=t.audioSend.find((t=>t.ssrc===e));if(!s)return;const a={};if(r){a[Hj.Audio_Send_Disabled]=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?1:0;const t=100*i._source.getAccurateVolumeLevel(),n=s.inputLevel;if(null!=n){const e=Math.ceil(50*Math.log10(100*n+1));$j(a,Hj.Audio_Send_Level,e)}$j(a,Hj.Audio_Capture_PCM_Level,t),$j(a,Hj.Audio_Send_AEC_Return_Loss,s.aecReturnLoss),$j(a,Hj.Audio_Send_AEC_Return_Loss_Enhancement,s.aecReturnLossEnhancement),$j(a,Hj.Audio_Send_Bytes_Retransmit,s.retransmittedBytesSent),$j(a,Hj.Audio_Send_Packages_Retransmit,s.retransmittedPacketsSent),a[Hj.Audio_Send_Freeze]=0;const o=r.audioSend.find((t=>t.ssrc===e));if(o){let e=Xj*Jj;o.timestamp&&s.timestamp&&(e=s.timestamp-o.timestamp),null!=o.bytes&&null!=s.bytes&&$j(a,Hj.Audio_Send_Bitrate,8*(s.bytes-o.bytes)/e),null!=o.packets&&null!=s.packets&&$j(a,Hj.Audio_Send_Package_Rate,1e3*(s.packets-o.packets)/e)}}return a}(l[0].ssrcId,e,d,0,i)}})),{high:a,low:c,audio:s}}getInboundStats(e,t,i,n){if(!this.requestRemoteMedia)return;const r=this.requestRemoteMedia()||[],o=[];return r.forEach((r=>{let[s,a]=r;const c={peer:s.uid};let d;if(a.has(fx.VIDEO)&&s.videoTrack){const r=s._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(s._videoSSRC)||!1,o=s.videoTrack?function(e,t,i,n,r,o,s,a){const c=t.videoRecv.find((t=>t.ssrc===e));if(!c)return;const d={},{receivedFrame:l,outputFrame:u,decodeFrameRate:h}=c;$j(d,Kj.Video_Render_Frame_Rate_Decode,h),c.framesRateFirefox&&$j(d,Kj.Video_Recv_Frame_Rate,c.framesRateFirefox),l&&$j(d,Kj.Video_Recv_Frame_Rate,l.frameRate),$j(d,Kj.Video_Recv_Frame_Dropped,c.framesDroppedCount),$j(d,Kj.Video_Recv_Bytes_Retransmit,c.retransmittedBytesReceived),$j(d,Kj.Video_Recv_Packages_Retransmit,c.retransmittedPacketsReceived),$j(d,Kj.Video_Recv_Packages_Discarded,c.packetsDiscarded),$j(d,Kj.Video_Recv_Avg_Decode,c.avgDecodeMs),$j(d,Kj.Video_Recv_Avg_Processing_Delay,c.avgProcessingDelayMs),$j(d,Kj.Video_Recv_Avg_Assembly_Time,c.avgFramesAssembledFromMultiplePacketsMs),$j(d,Kj.Video_Recv_Avg_Inter_Frame_Delay,c.avgInterFrameDelayMs),$j(d,Kj.Video_Recv_Key_Frames_Decoded,c.keyFramesDecoded);const p=a&&a.videoRecv.find((t=>t.ssrc===e));if(p){const e=t.timestamp-a.timestamp||Xj;null!=c.packetsLost&&null!=p.packetsLost&&$j(d,Kj.Video_Recv_Package_Lost,c.packetsLost-p.packetsLost),null!=p.bytes&&null!=c.bytes&&$j(d,Kj.Video_Recv_Bitrate,8*(c.bytes-p.bytes)/e),null!=p.packets&&null!=c.packets&&$j(d,Kj.Video_Recv_Package_Rate,1e3*(c.packets-p.packets)/e)}const _=o&&o.videoRecv.find((t=>t.ssrc===e));if(_&&($j(d,Wj.Video_Recv_Qp_Sum,c.qpSumPerFrame),d[Wj.Video_Recv_Freeze]=n&&rj.isRemoteVideoFreeze(i,c,_)?1:0),s){var E;const t=s.videoRecv.find((t=>t.ssrc===e));l?($j(d,Hj.Video_Recv_Height,l.height),$j(d,Hj.Video_Recv_Width,l.width)):i&&($j(d,Hj.Video_Recv_Height,i._videoHeight||0),$j(d,Hj.Video_Recv_Width,i._videoWidth||0)),u&&$j(d,Hj.Video_Recv_Frame_Rate_Output,u.frameRate);const n=null===(E=i._player)||void 0===E?void 0:E.rendFrameRate.toFixed(0);if(n&&$j(d,Hj.Video_Render_Frame_Rate_Render,+n),$j(d,Hj.Video_Recv_Jitter_Buffer,c.jitterBufferMs),$j(d,Hj.Video_Recv_Current_Delay,c.currentDelayMs),$j(d,Hj.Video_Recv_Firs,c.firsCount),$j(d,Hj.Video_Recv_Nacks,c.nacksCount),$j(d,Hj.Video_Recv_Plis,c.plisCount),i){d[Hj.Video_Recv_Disabled]=i._originMediaStreamTrack.enabled&&i._mediaStreamTrack.enabled?0:1;const e=i._player;if(e){const{freezeTimeCounterList:i,renderFreezeAccTime:n,renderFreezeAccTime2:o,videoElementStatus:s}=e;if(i&&i.length>0&&$j(d,Wj.Video_Render_Freeze_Time,i.splice(0,1)[0]),r&&\"visible\"===eU.visibility&&s===tL.PLAYING&&pP().supportRequestVideoFrameCallback){const t=Math.min(6e3,o);e.renderFreezeAccTime2=Math.max(0,o-t),$j(d,Wj.Video_Render_Freeze_Time_Render2,t);const i=Math.min(6e3,n);e.renderFreezeAccTime=Math.max(0,n-i),$j(d,Wj.Video_Render_Freeze_Time_Render,CD(\"USE_NEW_RENDER_FREEZE_TIME\")?t:i)}if(\"number\"==typeof c.totalFreezesDuration){const e=t&&t.totalFreezesDuration?c.totalFreezesDuration-t.totalFreezesDuration:c.totalFreezesDuration;$j(d,Hj.Video_Render_Freeze_Duration,1e3*e)}}}if(d[Hj.Video_Recv_Player_Status]=nL[i._player?i._player.videoElementStatus:\"uninit\"],t&&void 0!==c.totalInterFrameDelay&&void 0!==c.totalSquaredInterFrameDelay&&void 0!==t.totalInterFrameDelay&&void 0!==t.totalSquaredInterFrameDelay){const e=c.totalInterFrameDelay-t.totalInterFrameDelay,i=c.totalSquaredInterFrameDelay-t.totalSquaredInterFrameDelay,n=c.framesDecodeCount-t.framesDecodeCount,r=e/n*1e3,o=Math.round(1e3*Math.sqrt((i-Math.pow(e,2)/n)/n));!isNaN(o)&&r+o>Math.max(3*r,r+150)&&(d[Hj.Video_Recv_I_Frame_Delay]=o)}}return d}(s._videoSSRC,e,s.videoTrack,!0===r,this.needUploadRenderFreezeTime,t,i,n):void 0;if(o&&(c.video=o),s.videoTrack){const t=e.videoRecv.find((e=>e.ssrc===s._videoSSRC));t&&t.estimatedPlayoutTimestamp&&(d=t.estimatedPlayoutTimestamp)}}if(a.has(fx.AUDIO)&&s.audioTrack){const r=s.audioTrack?function(e,t,i,n,r,o){const s=t.audioRecv.find((t=>t.ssrc===e));if(!s)return;const a={};$j(a,Kj.Audio_Recv_Jitter,s.jitterMs),$j(a,Kj.Audio_Recv_Bytes_Retransmit,s.retransmittedBytesReceived),$j(a,Kj.Audio_Recv_Packages_Retransmit,s.retransmittedPacketsReceived),$j(a,Kj.Audio_Recv_Packages_Discarded,s.packetsDiscarded),$j(a,Kj.Audio_Recv_Avg_Processing_Delay,s.avgProcessingDelayMs);const c=o&&o.audioRecv.find((t=>t.ssrc===e));if(c){const e=Xj;null!=s.packets&&null!=c.packets&&$j(a,Kj.Audio_Recv_Package_Rate,1e3*(s.packets-c.packets)/e),null!=s.packetsLost&&null!=c.packetsLost&&$j(a,Kj.Audio_Recv_Package_Lost,s.packetsLost-c.packetsLost)}if(n){const{receivedFrames:e,droppedFrames:t}=s;null!=e&&null!=t&&(a[Wj.Audio_Recv_Freeze]=0===(d=e)||100*t/d>20?1:0)}var d;if(r){const t=100*i._source.getAccurateVolumeLevel(),n=s.outputLevel;if(null!=n){const e=Math.ceil(50*Math.log10(100*n+1));$j(a,Hj.Audio_Render_Level,e)}$j(a,Hj.Audio_Recv_PCM_Level,t),i&&(a[Hj.Audio_Recv_Disabled]=i._originMediaStreamTrack.enabled&&i._mediaStreamTrack.enabled?0:1),$j(a,Hj.Audio_Recv_Jitter_Buffer,s.jitterBufferMs),$j(a,Hj.Audio_Recv_Current_Delay,s.jitterBufferMs),a[Hj.Audio_Recv_Player_Status]=nL[xL.getPlayerState(i.getTrackId())];const o=r.audioRecv.find((t=>t.ssrc===e));if(o){null!=o.bytes&&null!=s.bytes&&$j(a,Hj.Audio_Recv_Bitrate,8*(s.bytes-o.bytes)/(Xj*Qj));const e=s.concealedSamples-o.concealedSamples;e>0&&$j(a,Hj.Audio_Recv_Concealed_Samples,e);const t=s.totalSamplesReceived-o.totalSamplesReceived;t>0&&$j(a,Hj.Audio_Recv_Total_Samples_Received,t);const i=s.freezeSamples80-o.freezeSamples80;i>0&&$j(a,Hj.Audio_Render_Freeze_Samples_80ms,i);const n=s.freezeSamples200-o.freezeSamples200;n>0&&$j(a,Hj.Audio_Render_Freeze_Samples_200ms,n);const r=s.freezeMs80-o.freezeMs80;$j(a,Hj.Audio_Render_Freeze_Time_80ms,r<0?0:r);const c=s.freezeMs200-o.freezeMs200;$j(a,Hj.Audio_Render_Freeze_Time_200ms,c<0?0:c)}}return a}(s._audioSSRC,e,s.audioTrack,t,i,n):void 0;if(r&&(c.audio=r),s.audioTrack&&d){const t=e.audioRecv.find((e=>e.ssrc===s._audioSSRC));if(t&&t.estimatedPlayoutTimestamp){const e=t.estimatedPlayoutTimestamp-d;c.audio?c.audio[Kj.Audio_Recv_AV_Sync_TIME]=e:c.audio={[Kj.Audio_Recv_AV_Sync_TIME]:e}}}}(c.video||c.audio)&&o.push(c)})),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,o}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval((()=>{if(!this.requestAllTracks||!this.requestUpload)return;const e=(this.requestAllTracks()||[]).find((e=>e instanceof jk));if(e&&e._external.getDenoiserStats){const t=e._external.getDenoiserStats();t&&this.requestUpload(BV.DENOISER_STATS,t)}}),2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval((()=>{if(!this.requestAllTracks||!this.requestUpload)return;this.requestAllTracks().forEach((e=>{e.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}))}),2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRefSendStats&&(this.lastRefSendStats.videoSend=[],this.lastRefSendStats.audioSend=[],this.lastRefSendStats=void 0),this.lastNormalSendStats&&(this.lastNormalSendStats.videoSend=[],this.lastNormalSendStats.audioSend=[],this.lastNormalSendStats=void 0),this.lastExtendStats={},this.needUploadStats={},this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0,this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval((()=>{if(!this.requestUpload||!this.requestRemoteMedia)return;(this.requestRemoteMedia()||[]).forEach((e=>{let[t,i]=e;if(i.has(fx.VIDEO)&&t.videoTrack){t.videoTrack.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}if(i.has(fx.AUDIO)&&t.audioTrack){t.audioTrack.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}}))}),2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0),this.lastRefRecvStats&&(this.lastRefRecvStats.videoRecv=[],this.lastRefRecvStats.audioRecv=[],this.lastRefRecvStats=void 0),this.lastNormalRecvStats&&(this.lastNormalRecvStats.videoRecv=[],this.lastNormalRecvStats.audioRecv=[],this.lastNormalRecvStats=void 0),this.lastUploadCompensateTime=-1,this.uploadCompensateDeltaTime=0,this.needUploadRenderFreezeTime=!0,this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=void 0)}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);const e=new Map;this.uploadExtUsageStatsTimer=window.setInterval((async()=>{const t=Date.now(),i={connectionInterval:CD(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3,details:[],lts:t};let n=[];const r=this.requestAllTracks&&this.requestAllTracks()||[];for(const e of r)!e.muted&&e.enabled&&(n=n.concat(await e.getProcessorUsage()));const o=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(const[e,t]of o)t.has(fx.VIDEO)&&e.videoTrack&&(n=n.concat(await e.videoTrack.getProcessorUsage())),t.has(fx.AUDIO)&&e.audioTrack&&(n=n.concat(await e.audioTrack.getProcessorUsage()));if(0===n.length)return;i.details=function(e,t){const i={};for(const{id:s,value:a,level:c,direction:d}of e){var n;const e=null!==(n=t.get(s))&&void 0!==n?n:0,l=2===a?e+CD(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3:e;var r,o;t.set(s,l),i[s]?(2===a&&(i[s].value=a),c>i[s].level&&(i[s].level=c),\"remote\"===d&&(i[s].remoteUidCount+=1),i[s].totalTs=null!==(r=t.get(s))&&void 0!==r?r:0):i[s]={value:a,level:c,remoteUidCount:\"local\"===d?0:1,totalTs:null!==(o=t.get(s))&&void 0!==o?o:0}}return Object.keys(i).map((e=>{const{level:t,value:n,totalTs:r}=i[e];return{id:e,level:t,value:n,totalTs:r}}))}(n,e);const s=Date.now(),a=s>t?s:t+1;this.requestUpload&&this.requestUpload(BV.EXTENSION_USAGE_STATS,{usageStats:i,sendTs:a})}),CD(\"EXTENSION_USAGE_UPLOAD_INTERVAL\"))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}stopUploadBaseStats(){this.uploadBaseStatsStarted=!1,eU.stopCollectStats()}}const nG=CD(\"ICE_RESTART_INTERVAL\");let rG=new Map,oG=new Map,sG=[Sx.UDP_TCP_RELAY,Sx.TCP_RELAY,Sx.RELAY],aG=CD(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\")&&pP().supportPCSetConfiguration;function cG(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=rG.get(e.id);i&&(window.clearTimeout(i),rG.delete(e.id));const n=oG.get(e.id);t&&n&&n.index===sG.length-1&&(iP.debug(\"[\".concat(e.id,\"] reset ICE restart policy\")),oG.delete(e.id))}function dG(e,t,i){if(0===rG.size&&0===oG.size&&(Array.isArray(CD(\"RESTART_SEQUENCE\"))&&CD(\"RESTART_SEQUENCE\").length>0&&!function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){const n=e[i];if(e.filter((e=>e===n)).length!==t.filter((e=>e===n)).length)return!1}return!0}(sG,CD(\"RESTART_SEQUENCE\"))&&(sG=CD(\"RESTART_SEQUENCE\").filter((e=>{var t;if(Ln(t=Object.values(Sx)).call(t,e))return!0})),iP.debug(\"use reconnection policy from config distribution, queues: \".concat(sG.join(\" => \")))),aG=CD(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\")&&pP().supportPCSetConfiguration),0===sG.length)return void i();let n,{index:r=0,type:o}=oG.get(e.id)||{};if(aG&&o===Sx.RELAY)return void i();let s=o&&r>=sG.length-1;if(aG)o=Sx.RELAY;else{if(s)return void i();o?(r++,o=sG[r]):(o=sG[0],r=0)}iP.debug(\"[\".concat(e.id,\"] choose ICE restart policy: \").concat(o,\", index: \").concat(r)),t(o),oG.set(e.id,{index:r,type:o}),n=window.setTimeout((()=>dG(e,t,i)),nG),rG.set(e.id,n)}var lG;function uG(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function hG(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?uG(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):uG(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function pG(e){var t,i,n,r=2;for(\"undefined\"!=typeof Symbol&&(i=Fb,n=Symbol.iterator);r--;){if(i&&null!=(t=e[i]))return t.call(e);if(n&&null!=(t=e[n]))return new _G(t.call(e));i=\"@@asyncIterator\",n=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}function _G(e){function t(e){if(Object(e)!==e)return rp.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return rp.resolve(e.value).then((function(e){return{value:e,done:t}}))}return _G=function(e){this.s=e,this.n=e.next},_G.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var i=this.s.return;return void 0===i?rp.resolve({value:e,done:!0}):t(i.apply(this.s,arguments))},throw:function(e){var i=this.s.return;return void 0===i?rp.reject(e):t(i.apply(this.s,arguments))}},new _G(e)}let EG=(lG=class extends NO{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(vx.StateChange,t,this._state)}constructor(e,t){super(),iA(this,\"isPlanB\",void 0),iA(this,\"store\",void 0),iA(this,\"statsUploader\",void 0),iA(this,\"connection\",void 0),iA(this,\"localTrackMap\",new Map),iA(this,\"remoteUserMap\",new Map),iA(this,\"localDataChannels\",[]),iA(this,\"remoteDataChannelMap\",new Map),iA(this,\"pendingLocalTracks\",[]),iA(this,\"pendingRemoteTracks\",[]),iA(this,\"pendingLocalDataChannels\",[]),iA(this,\"pendingRemoteDataChannels\",[]),iA(this,\"statsCollector\",void 0),iA(this,\"shouldForwardP2PCreation\",void 0),iA(this,\"iceFailedCount\",0),iA(this,\"dtlsFailedCount\",0),iA(this,\"mutex\",void 0),iA(this,\"_state\",Cx.Disconnected),iA(this,\"_pcStatsUploadType\",CD(\"NEW_ICE_RESTART\")?gx.FIRST_CONNECTION:gx.OLD_FIRST_CONNECTION),iA(this,\"_isStartRestartIce\",!1),iA(this,\"_restartTimer\",void 0),iA(this,\"_isTryConnecting\",!1),iA(this,\"_iceError\",null),iA(this,\"_forceTurn\",!1),iA(this,\"_isWaitPcToRePub\",!1),iA(this,\"handleMuteLocalTrack\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleMuteLocalTrack\");try{if(!this.connection||this.state!==Cx.Connected)return void i(new pO(hO.INVALID_OPERATION,\"Cannot call P2PChannel.handleMuteLocalTrack before connection established.\"));const r=this.filterTobeMutedTracks(e);if(0===r.length)return void t();const o=r.find((e=>\"videoLowTrack\"===e[0]));if(o){const e=o[1];this.store.enableInstantMuteRestore?(e.track._originMediaStreamTrack.enabled=!1,iP.info(\"[\".concat(this.store.clientId,\"] P2PChannel muteLocalLowTrack without close sender because enableInstantMuteRestore is true\"))):e.track._originMediaStreamTrack.stop()}this.store.enableInstantMuteRestore?iP.info(\"[\".concat(this.store.clientId,\"] P2PChannel muteLocalTrack without close sender because enableInstantMuteRestore is true\")):await this.connection.muteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const s=this.createMuteMessage(r);await qO(this,vx.RequestMuteLocal,s),t()}catch(e){i(e)}finally{n()}})),iA(this,\"handleUnmuteLocalTrack\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleUnmuteLocalTrack\");try{if(!this.connection||this.state!==Cx.Connected)return void i(new pO(hO.INVALID_OPERATION,\"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established.\"));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();const o=r.find((e=>\"videoLowTrack\"===e[0]));if(o){const t=o[1];if(this.store.enableInstantMuteRestore)t.track._originMediaStreamTrack.enabled=!0,iP.info(\"[\".concat(this.store.clientId,\"] P2PChannel unmuteLocalLowTrack without close sender because enableInstantMuteRestore is true\"));else{if(t.track._originMediaStreamTrack.stop(),!CD(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&pP().supportDualStreamEncoding){const i=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i}else{const i=jj(e,JO(this,vx.RequestLowStreamParameter));t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i}await new rp(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}}this.store.enableInstantMuteRestore?iP.info(\"[\".concat(this.store.clientId,\"] P2PChannel unmuteLocalTrack without close sender because enableInstantMuteRestore is true\")):await this.connection.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const s=this.createUnmuteMessage(r);await qO(this,vx.RequestUnmuteLocal,s),t()}catch(e){i(e)}finally{n()}})),iA(this,\"handleUpdateVideoEncoder\",(async(e,t,i,n)=>{let r;n||(r=await this.mutex.lock(\"Locking from P2PChannel.handleUpdateVideoEncoder\"));try{const i=this.localTrackMap.get(Rx.LocalVideoTrack);if(!this.connection||!i||i.track!==e||this.state!==Cx.Connected)return void t();const{id:n,track:s}=i;await this.connection.updateSendParameters(n,s),await this.connection.updateEncoderConfig(n,s),this.emit(vx.UpdateVideoEncoder,s),t()}catch(e){i(e)}finally{var o;null===(o=r)||void 0===o||o()}})),iA(this,\"handleUpdateVideoSendParameters\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleUpdateVideoSendParameters\");try{const i=this.localTrackMap.get(Rx.LocalVideoTrack);if(!this.connection||!i||i.track!==e||this.state!==Cx.Connected)return void t();const{id:r,track:o}=i;await this.connection.updateSendParameters(r,o),t()}catch(e){i(e)}finally{n()}})),iA(this,\"handleReplaceMixingTrack\",(async(e,t,i,n)=>{if(!this.connection||this.state!==Cx.Connected)return void t();const r=Dj([e]);let o;iP.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will replace audioTrack [\").concat(r.getTrackId(),\"]\")),\"boolean\"==typeof n&&n||(o=await this.mutex.lock(\"From P2PChannel.handleReplaceMixingTrack\"));try{await this.replaceTrack(e,r),t()}catch(e){i(e)}finally{var s;null===(s=o)||void 0===s||s()}})),iA(this,\"handleReplaceTrack\",(async(e,t,i,n)=>{let r;iP.debug(\"[\".concat(this.store.clientId,\"] P2PChannel handleReplaceTrack for [track-id-\").concat(e.getTrackId(),\"]\")),\"boolean\"==typeof n&&n||(r=await this.mutex.lock(\"From P2PChannel.handleReplaceTrack\"));try{var o;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(!this.connection||!i||this.state!==Cx.Connected)return void t();if(await(null===(o=this.connection)||void 0===o?void 0:o.replaceTrack(e,i[1].id)),this.isPlanB){const t=i[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(i[0],t)}if(i[0]===Rx.LocalVideoTrack&&!CD(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&pP().supportDualStreamEncoding){const t=this.localTrackMap.get(Rx.LocalVideoLowTrack);if(t){const i=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i,await new rp(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}}t()}catch(e){i(e)}finally{var s;null===(s=r)||void 0===s||s()}})),iA(this,\"handleGetRTCStats\",(e=>{e(this.statsCollector.getRTCStats())})),iA(this,\"handleGetLocalVideoStats\",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),iA(this,\"handleGetLocalAudioStats\",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),iA(this,\"handleGetRemoteVideoStats\",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),iA(this,\"handleGetRemoteAudioStats\",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new iG(this.store),this.bindStatsUploaderEvents(),this.mutex=new PN(\"P2PChannel-mutex\",this.store.clientId),this.isPlanB=!pP().supportUnifiedPlan||CD(\"CHROME_FORCE_PLAN_B\")&&sO(),this.shouldForwardP2PCreation=CD(\"FORWARD_P2P_CREATION\")&&pP().supportPCSetConfiguration&&oO(),this.shouldForwardP2PCreation&&(this.connection=Lj(this.store),this.emit(vx.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection))}async startP2PConnection(e,t){var i;this.state=Cx.New,this._forceTurn=Mj(e),iP.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] forceTurn: \").concat(this._forceTurn));const n=this.shouldForwardP2PCreation&&\"closed\"===(null===(i=this.connection)||void 0===i?void 0:i.peerConnectionState);if((!this.shouldForwardP2PCreation||n||t)&&((n||t)&&this.connection&&(iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2PConnection ForwardP2P closed.\")),this.resetConnection(this.connection)),this.connection=Lj(this.store,e),this.emit(vx.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection)),!this.connection)throw new pO(hO.UNEXPECTED_ERROR,\"Cannot P2PChannel.startConnection before P2PConnection initialization .\");return this._pcStatsUploadType=CD(\"NEW_ICE_RESTART\")?gx.FIRST_CONNECTION:gx.OLD_FIRST_CONNECTION,this._isTryConnecting=!0,this._isStartRestartIce=!1,this._iceError=null,this.connection.setConfiguration(e),this.connection.establishPromise}async connect(e){if(!this.connection)throw new pO(hO.UNEXPECTED_ERROR,\"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .\");if(!this.isPreallocation()||this.state!==Cx.Connected){this.store.peerConnectionStart();const t=await this.connection.connect(e);return this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Cx.Connected,t}if(this.connection instanceof Fj){if(this.connection.checkDtlsParameters(e.dtlsParameters.fingerprints)){iP.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] dtls parameters mismatch, try next.\"));return lP.reportApiInvoke(this.store.sessionId,{name:LO.MISMATCH_DTLS_PARAMETERS,options:[e.dtlsParameters.fingerprints],tag:kO.TRACER}).onSuccess(),void setTimeout((()=>{this.emit(vx.RequestReconnect)}))}}await this.connection.updateRemoteConnect(e)}updateRemoteRTPCapabilities(e){const t=Array.from(this.localTrackMap.entries()).filter((e=>{var t;let[i]=e;return Ln(t=[Rx.LocalVideoLowTrack,Rx.LocalVideoTrack]).call(t,i)})),i=t.map((e=>{let[,{id:t}]=e;return t})),n=t.map((e=>{let[t]=e;return t}));if(this.connection instanceof Fj||this.connection&&\"name\"in this.connection&&\"DataChannelConnection\"===this.connection.name){if(lP.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(n),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(e)}),!Ln(e).call(e,this.store.codec)){const t=[\"vp9\",\"vp8\",\"h264\"].find((t=>Ln(e).call(e,t)));t&&(this.store.codec=t,iP.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\" updateRemoteRTPCapabilities] default codec is not available, hence the fallback to \").concat(t,\".\")))}this.connection.updateRemoteRTPCapabilities(i,e)}}async getEstablishParams(){var e;return this.connection&&\"name\"in this.connection&&\"DataChannelConnection\"===this.connection.name&&\"closed\"!==this.connection.peerConnectionState||this.connection instanceof Fj&&\"closed\"!==this.connection.peerConnectionState&&Ln(e=[Cx.New,Cx.Connected]).call(e,this.state)?this.connection.establishPromise:void 0}async publishDataChannel(e){if(!this.connection||this.state!==Cx.Connected){if(this.state===Cx.Disconnected)throw new pO(hO.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");return e.forEach((e=>{var t;Ln(t=this.pendingLocalDataChannels).call(t,e)||this.pendingLocalDataChannels.push(e)})),[]}const t=this.filterTobePublishedDataChannels(e);return 0===t.length?[]:(t.forEach((e=>{const t=Date.now();this.store.publish(e.id.toString(),\"datachannel\",t)})),await this.connection.createDataChannels(this.store.uid,t),t.forEach((e=>{this.localDataChannels.push(e);const t=Date.now();this.store.publish(e.id+\"\",\"datachannel\",void 0,t)})),e.map((e=>({streamId:e.id,ordered:e.ordered,maxRetransmits:e.maxRetransmits,metadata:e.metadata,channelId:e._originDataChannelId}))))}publish(e,t,i){var n=this;return Mb((function*(){const r=yield Vb(n.mutex.lock(\"From P2PChannel.publish\"));try{var o;const s=n.connection&&Ln(o=[\"disconnected\",\"failed\"]).call(o,n.connection.peerConnectionState);if(!n.connection||n.state!==Cx.Connected||s){if(n.state===Cx.Disconnected)throw new pO(hO.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");n.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===n.pendingLocalTracks.indexOf(e)));return n.pendingLocalTracks=n.pendingLocalTracks.concat(t),void(s&&(n._isWaitPcToRePub=!0))}n.store.pubId=n.store.pubId+1,tj.markPublishStart(n.store.clientId,n.store.pubId);const a=n.filterTobePublishedTracks(e,t,i);if(0===a.length)return void(yield Vb(n.tryToUnmuteAudio(e)));yield*xb(pG(n.doPublish(n.connection,a)))}finally{r()}}))()}doPublish(e,t){var i=this;return Mb((function*(){t.forEach((e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===Rx.LocalAudioTrack?\"audio\":\"video\",r)})),i.bindLocalTrackEvents(t);const n=t.map((e=>{let{track:t}=e;return t})),r=yield Vb(e.send(n,i.store.codec,i.store.audioCodec)),o=(yield Vb(r.next())).value,s=i.createGatewayPublishMessage(t,o);let a;try{a=yield s}catch(e){throw r.throw(e),(null==e?void 0:e.code)===hO.WS_ABORT&&t.forEach((e=>{let{track:t}=e;-1===i.pendingLocalTracks.indexOf(t)&&i.pendingLocalTracks.push(t)})),i.unbindLocalTrackEvents(t),e}const c=i.mapPubResToRemoteConfig(s,a,n),d=(yield Vb(r.next(c))).value;if(i.state===Cx.Disconnected)throw new pO(hO.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");CD(\"ENABLE_VIDEO_SEI\");const l=CD(\"ENABLE_ENCODED_TRANSFORM\"),u=CD(\"ENABLE_AUDIO_METADATA\");n.forEach((async e=>{const t=e.getRTCRtpTransceiver();if(!t||!l)return;const{interceptLocalVideoFrame:i,interceptLocalAudioFrame:n}=aB();e.trackMediaType===fx.VIDEO?await i(t.sender,e):e.trackMediaType===fx.AUDIO&&await n(t.sender,{metadata:u?()=>{const t=e.metadata.shift();return t&&t.value}:void 0})})),t.forEach((e=>{let{type:t}=e;i.statsCollector.addLocalStats(t)})),i.assignLocalTracks(t,d),i.statsUploader.startUploadOutboundStats(),t.forEach((e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===Rx.LocalAudioTrack?\"audio\":\"video\",void 0,r)}))}))()}async updateVideoStreamParameter(e,t){const i=this.localTrackMap.get(t);if(!i||!this.connection)return;if(!(i.track instanceof kM))return iP.warn(\"[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack\");const{track:n}=i,r=function(e,t){const i={};return e.height&&e.width&&(i.scaleResolutionDownBy=_F(e,t)),i.maxFramerate=e.framerate?dF(e.framerate):void 0,i.maxBitrate=e.bitrate?1e3*e.bitrate:void 0,i}(e,n);if(n._encoderConfig||(n._encoderConfig={}),t!==Rx.LocalVideoLowTrack||!CD(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&pP().supportDualStreamEncoding)null!=r.scaleResolutionDownBy&&(n._encoderConfig.scaleResolutionDownBy=r.scaleResolutionDownBy);else{const t=n._originMediaStreamTrack;if(!t.canvas)return iP.warn(\"[\".concat(n.getTrackId(),\"] no canvas on track\"));!function(e,t){const i=e.canvas;t.width&&(i.width=dF(t.width)),t.height&&(i.height=dF(t.height)),t.framerate&&(i.stopCapture&&i.stopCapture(),i.stopCapture=SL((()=>{!i.startCapture&&i.stopCapture&&i.stopCapture(),i.startCapture&&i.startCapture()}),dF(t.framerate)))}(t,e)}null!=r.maxBitrate&&(n._encoderConfig.bitrateMax=r.maxBitrate/1e3),null!=r.maxFramerate&&(n._encoderConfig.frameRate&&\"object\"==typeof n._encoderConfig.frameRate?n._encoderConfig.frameRate.max=r.maxFramerate:n._encoderConfig.frameRate={max:r.maxFramerate}),iP.debug(\"[\".concat(n.getTrackId(),\"] LowStreamEncoderConfig: , \").concat(JSON.stringify(n._encoderConfig))),await this.connection.updateRtpSenderEncodings(n)}publishLowStream(e){var t=this;return Mb((function*(){if(!t.connection||t.state!==Cx.Connected)return;const i=yield Vb(t.mutex.lock(\"Locking from P2PChannel.publishLowStream\"));try{const r=t.localTrackMap.get(Rx.LocalVideoTrack);if(!r)throw new pO(hO.UNEXPECTED_ERROR,\"Could not find high stream\");if(t.localTrackMap.has(Rx.LocalVideoLowTrack))throw new pO(hO.UNEXPECTED_ERROR,\"[\".concat(t.store.clientId,\"] Can't publish low stream when stream already publish\"));const o=[{track:t.getLowVideoTrack(r.track,e),type:Rx.LocalVideoLowTrack}];if(yield*xb(pG(t.doPublish(t.connection,o))),r.track.muted||!r.track.enabled){var n;const e=null===(n=t.localTrackMap.get(Rx.LocalVideoLowTrack))||void 0===n?void 0:n.id;void 0!==e&&(yield Vb(t.connection.muteLocal([e])))}}finally{i()}}))()}async republish(){this.pendingLocalTracks.length>0&&(iP.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await zO(this,vx.RequestRePublish,this.pendingLocalTracks),this.emit(vx.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(iP.debug(\"Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels.\"),await zO(this,vx.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[]),this._isWaitPcToRePub=!1}async reSubscribe(e){for(let e=this.pendingRemoteTracks.length-1;e>=0;e--){const{user:t,kind:i}=this.pendingRemoteTracks[e];(i!==fx.AUDIO||t._audio_added_&&t._audioSSRC)&&(i!==fx.VIDEO||t._video_added_&&t._videoSSRC)||this.pendingRemoteTracks.splice(e,1)}if(e)await zO(this,vx.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:e,kind:t}of this.pendingRemoteTracks)await this.subscribe(e,t,t===fx.VIDEO?e._videoSSRC:e._audioSSRC);this.pendingRemoteTracks.forEach((e=>{let{user:t}=e;this.emit(vx.MediaReconnectEnd,t.uid)})),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection||this.state!==Cx.Connected)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const i=t.find((e=>\"videoLowTrack\"===e[0]));if(i){i[1].track.close()}return this.doUnpublish(this.connection,t)}async unpublishDataChannel(e){if(!this.connection||this.state!==Cx.Connected)return void e.forEach((e=>{const t=this.pendingLocalDataChannels.indexOf(e);-1!==t&&this.pendingLocalDataChannels.splice(t,1)}));const t=this.filterTobeUnpublishedDataChannels(e);return 0!==t.length?(t.forEach((e=>{const t=this.localDataChannels.indexOf(e);-1!==t&&this.localDataChannels.splice(t,1)})),0===this.localDataChannels.length&&await this.connection.stopDataChannels(this.store.uid),t.map((e=>e.id))):void 0}async unpublishLowStream(){if(!this.connection||this.state!==Cx.Connected)return;const e=this.localTrackMap.get(Rx.LocalVideoLowTrack);if(!e)return;e.track.close();const t=[[Rx.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const i=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:i}]=e;return{type:t,track:i}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadOutboundStats(),i}async subscribeDataChannel(e,t){if(!this.connection||this.state!==Cx.Connected)throw new pO(hO.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");const i=t.filter((t=>{var i;return!(null!==(i=this.remoteDataChannelMap.get(e))&&void 0!==i&&i.get(t.id))}));if(0!==i.length)return await this.connection.createDataChannels(e.uid,i),i.forEach((t=>{var i;this.remoteDataChannelMap.has(e)?null===(i=this.remoteDataChannelMap.get(e))||void 0===i||i.set(t.id,t):this.remoteDataChannelMap.set(e,new Map([[t.id,t]]));const n=this.pendingRemoteDataChannels.findIndex((i=>{let{user:n,id:r}=i;return n.uid===e.uid&&r===t.id}));-1!==n&&this.pendingRemoteDataChannels.splice(n,1)})),i.map((e=>e.id))}async subscribe(e,t,i,n,r){var o;if(!this.connection||this.state!==Cx.Connected)throw new pO(hO.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");if(null!==(o=this.remoteUserMap.get(e))&&void 0!==o&&o.has(t))return;let s,a,c,d;const l=this.connection.getPreMedia(i);if(l)iP.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] preSSRCMap has ssrcId: \").concat(i,\", no need to send sub to gateway.\")),c=l.transceiver,s=l.track,a=l.mid,d=l.player,l.firstVideoRender&&this.store.firstVideoFrameDecoded(e.uid,{firstPreRender:l.firstVideoRender});else if(r){const i=r.find((e=>{let{stream_type:i}=e;return i===t}));if(!i)throw new pO(hO.UNEXPECTED_ERROR,\"Cannot subscribe to remote \".concat(t,\" for user: \").concat(e.uid,\" because subscribe answer from gateway does not contain stream_type: \").concat(t,\".\"));const n=await this.connection.receive(t,i.ssrcs,String(e._uintid),i.attributes);(this.connection instanceof Fj||\"name\"in this.connection&&\"DataChannelConnection\"===this.connection.name)&&(c=n.transceiver),s=n.track,a=n.id}else{const r=await this.connection.receive(t,[{ssrcId:i,rtx:n}],String(e._uintid),void 0);(this.connection instanceof Fj||\"name\"in this.connection&&\"DataChannelConnection\"===this.connection.name)&&(c=r.transceiver),s=r.track,a=r.id}if(t===fx.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(s):(e._audioTrack=new $M(s,e.uid,e._uintid,this.store),iP.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(e._audioTrack.getTrackId()))),c&&e._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(s):(e._videoTrack=new ZM(s,e.uid,e._uintid,this.store,d),iP.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(e._videoTrack.getTrackId())),e._videoTrack.once(WP.PLAY_START,(()=>{this.store.firstVideoFrameDecoded(e.uid,{playStart:Date.now()})})),e._videoTrack.once(WP.PLAY_END,(()=>{this.store.firstVideoFrameDecoded(e.uid,{playEnd:Date.now()}),this.reportVideoFirstFrameRender(e)})),d?e._videoTrack.once(WP.FIRST_FRAME_RENDER,(()=>{this.store.firstVideoFrameDecoded(e.uid,{firstRender:Date.now()}),this.reportVideoFirstFrameRender(e)})):e._videoTrack.once(WP.FIRST_FRAME_DECODED,(()=>{this.store.firstVideoFrameDecoded(e.uid,{firstRender:Date.now()}),this.reportVideoFirstFrameRender(e)}))),c&&e._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._videoTrack)),c&&CD(\"ENABLE_ENCODED_TRANSFORM\")){const{interceptRemoteVideoFrame:i,interceptRemoteAudioFrame:n}=aB();t==fx.VIDEO?await i(c.receiver,{onSei:CD(\"ENABLE_VIDEO_SEI\")&&(t=>{var i;return null===(i=e._videoTrack)||void 0===i?void 0:i._onSei(t)}),onFirstFrame:e=>{var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e.ssrc));i&&this.store.firstVideoFrameDecoded(i.uid,{firstReceivedEncodedFrame:Date.now(),frameType:e.type,rtpTimestamp:e.rtpTimestamp,framePayloadType:e.payloadType,frameDataLength:e.length,mimeType:e.mimeType})}}):t==fx.AUDIO&&await n(c.receiver,{enableTopn:!!CD(\"ENABLE_AUDIO_TOPN\"),enableMetadata:!!CD(\"ENABLE_AUDIO_METADATA\"),enablePts:!!CD(\"ENABLE_AUDIO_PTS\"),onMetadata:e=>{this.safeEmit(vx.AudioMetadata,e)},onPts:e=>{this.safeEmit(vx.AudioPts,e)}})}const u=this.remoteUserMap.get(e);u?u.set(t,a):this.remoteUserMap.set(e,new Map([[t,a]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats();const h=this.pendingRemoteTracks.findIndex((i=>{let{user:n,kind:r}=i;return n.uid===e.uid&&t===r}));-1!==h&&(this.pendingRemoteTracks.splice(h,1),this.emit(vx.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection||this.state!==Cx.Connected)throw new pO(hO.INVALID_OPERATION,\"Cannot subscribeAll remote users when peerConnection disconnected.\");e=e.filter((e=>{var t;let{user:i,mediaType:n}=e;return!(null!==(t=this.remoteUserMap.get(i))&&void 0!==t&&t.has(n))}));const t=[],i=new Map;e.forEach((e=>{if(!this.connection)return;const n=this.connection.getPreMedia(e.ssrcId);if(n){const{track:t,mid:r,transceiver:o,player:s}=n;i.set(e.ssrcId,{track:t,id:r,transceiver:o,player:s})}else t.push(e)}));const n=await this.connection.batchReceive(t.map((e=>{let{user:t,mediaType:i,ssrcId:n,rtxSsrcId:r}=e;return{kind:i,ssrcMsg:[{ssrcId:n,rtx:r}],mslabel:String(t._uintid)}})));t.forEach(((e,t)=>{i.set(e.ssrcId,n[t])}));for(const{user:t,mediaType:n,ssrcId:r}of e){const e=i.get(r);if(!e)return void iP.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] cannot find \").concat(t.uid,\" subscribe data,\").concat(n,\", \").concat(r));const{track:o,id:s,transceiver:a,player:c}=e;if(a&&CD(\"ENABLE_ENCODED_TRANSFORM\")){const{interceptRemoteVideoFrame:e,interceptRemoteAudioFrame:i}=aB();n==fx.VIDEO?await e(a.receiver,{onSei:CD(\"ENABLE_VIDEO_SEI\")&&(e=>{var i;return null===(i=t._videoTrack)||void 0===i?void 0:i._onSei(e)}),onFirstFrame:e=>{var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e.ssrc));i&&this.store.firstVideoFrameDecoded(i.uid,{firstReceivedEncodedFrame:Date.now(),frameType:e.type,rtpTimestamp:e.rtpTimestamp,framePayloadType:e.payloadType,frameDataLength:e.length,mimeType:e.mimeType})}}):n==fx.AUDIO&&await i(a.receiver,{enableTopn:!!CD(\"ENABLE_AUDIO_TOPN\"),enableMetadata:!!CD(\"ENABLE_AUDIO_METADATA\"),enablePts:!!CD(\"ENABLE_AUDIO_PTS\"),onMetadata:e=>{this.safeEmit(vx.AudioMetadata,e)},onPts:e=>{this.safeEmit(vx.AudioPts,e)}})}if(n===fx.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(o):(t._audioTrack=new $M(o,t.uid,t._uintid,this.store),iP.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(t._audioTrack.getTrackId()))),a&&t._audioTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(o):(t._videoTrack=new ZM(o,t.uid,t._uintid,this.store,c),iP.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(t._videoTrack.getTrackId()))),a&&t._videoTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(t,t._videoTrack)),CD(\"ENABLE_VIDEO_SEI\")&&a){const{interceptRemoteVideoFrame:e,interceptRemoteAudioFrame:i}=aB();n==fx.VIDEO?await e(a.receiver,{onSei:e=>{var i;null===(i=t._videoTrack)||void 0===i||i._onSei(e)},onFirstFrame:e=>{var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e.ssrc));i&&this.store.firstVideoFrameDecoded(i.uid,{firstReceivedEncodedFrame:Date.now(),frameType:e.type,rtpTimestamp:e.rtpTimestamp,framePayloadType:e.payloadType,frameDataLength:e.length,mimeType:e.mimeType})}}):n==fx.AUDIO&&await i(a.receiver)}const d=this.remoteUserMap.get(t);d?d.set(n,s):this.remoteUserMap.set(t,new Map([[n,s]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats();const l=this.pendingRemoteTracks.findIndex((e=>{let{user:i,kind:r}=e;return i.uid===t.uid&&n===r}));-1!==l&&(this.pendingRemoteTracks.splice(l,1),this.emit(vx.MediaReconnectEnd,t.uid))}}async unsubscribe(e,t,i){const n=this.pendingRemoteTracks.filter((i=>{let{user:n,kind:r}=i;return void 0!==t?n.uid===e.uid&&t===r:n.uid===e.uid}));if(n.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.connection&&this.state===Cx.Connected||i||n.forEach((t=>{let{kind:i}=t;var n;if(i===fx.AUDIO)null===(n=e._audioTrack)||void 0===n||n._destroy(),e._audioTrack=void 0;else if(i===fx.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}})),!this.connection||this.state!==Cx.Connected)return;const r=this.filterTobeUnSubscribedTracks(e,t);if(0===r.length)return;await this.connection.stopReceiving(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnsubscribeMessage(r);return this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),r.forEach((e=>{let[t,{kind:n}]=e;var r,o;n===fx.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(n===fx.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),i||(null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0);else if(n===fx.AUDIO){var s;if(this.unbindRemoteTrackEvents(t._audioTrack),!i)null===(s=t._audioTrack)||void 0===s||s._destroy(),t._audioTrack=void 0}})),o}async unsubscribeDataChannel(e,t){if(t.forEach((e=>{const t=this.pendingRemoteDataChannels.findIndex((t=>t.id===e.id));-1!==t&&this.pendingRemoteDataChannels.splice(t,1)})),!this.connection)return;const i=this.filterTobeUnSubscribedDataChannels(e,t);if(0===i.length)return;t.forEach((e=>{e._close()}));const n=this.remoteDataChannelMap.get(e);return i.forEach((e=>{n&&n.delete(e.id)})),n&&0===n.size&&(this.remoteDataChannelMap.delete(e),await this.connection.stopDataChannels(e.uid)),i.map((e=>e.id))}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:i,mediaType:n}of e){const e=this.pendingRemoteTracks.filter((e=>{let{user:t,kind:r}=e;return void 0!==n?t.uid===i.uid&&n===r:t.uid===i.uid}));e.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),t=t.concat(e)}if(!this.connection||this.state!==Cx.Connected)return void t.forEach((e=>{let{user:t,kind:i}=e;var n;if(i===fx.AUDIO)null===(n=t._audioTrack)||void 0===n||n._destroy(),t._audioTrack=void 0;else if(i===fx.VIDEO){var r;null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0}}));const i=nr(e).call(e,((e,t)=>{let{user:i,mediaType:n}=t;const r=this.filterTobeUnSubscribedTracks(i,n);return e.concat(r)}),[]);if(0===i.length)return;await this.connection.stopReceiving(i.map((e=>{let[,{id:t}]=e;return t})));const n=this.createUnsubscribeAllMessage(i);return this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),i.forEach((e=>{let[t,{kind:i}]=e;var n,r;i===fx.VIDEO&&t._videoSSRC&&(null===(n=this.connection)||void 0===n||n.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(i===fx.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0;else if(i===fx.AUDIO){var o;this.unbindRemoteTrackEvents(t._audioTrack),null===(o=t._audioTrack)||void 0===o||o._destroy(),t._audioTrack=void 0}})),n}isPreSubScribe(e){if(!this.connection||this.state!==Cx.Connected)return!1;return!!this.connection.getPreMedia(e)}async muteRemote(e,t){if(!this.connection)return;const i=this.remoteUserMap.get(e);if(!i)return void iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(e.uid,\".\"));if(!i.get(t))return void iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"));const n=t===fx.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==n&&this.connection.setStatsRemoteVideoIsReady(n,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;const i=this.remoteUserMap.get(e);if(!i)return void iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(e.uid,\".\"));i.get(t)||iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"))}addAudioMetadata(e){const t=this.localTrackMap.get(Rx.LocalAudioTrack),i=t&&t.track;i&&i.metadata.push(e)}getAllTracks(e){const t=this.localTrackMap.get(Rx.LocalAudioTrack);if((null==t?void 0:t.track)instanceof Wk){const i=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==Rx.LocalAudioTrack})).filter((t=>{let[i]=t;return!(e&&i===Rx.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(i.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[i]=t;return!(e&&i===Rx.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(e,t,i,n,r){if(e){const i=this.localTrackMap.get(Rx.LocalAudioTrack),o=n?this.localTrackMap.get(Rx.LocalVideoLowTrack):this.localTrackMap.get(Rx.LocalVideoTrack);lP.publish(this.store.sessionId,{eventElapse:tj.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==i?void 0:i.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(VP.SCREEN_TRACK)),audio:!!i,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var o;i||(i=[]);const s=i.find((e=>e instanceof Bk)),a=n?null===(o=this.localTrackMap.get(Rx.LocalVideoTrack))||void 0===o?void 0:o.track:i.find((e=>e instanceof kM));lP.publish(this.store.sessionId,{eventElapse:tj.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==s?void 0:s.getTrackLabel(),videoName:null==a?void 0:a.getTrackLabel(),screenshare:-1!==(null==a?void 0:a._hints.indexOf(VP.SCREEN_TRACK)),audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,i,n){const r=n===fx.VIDEO?i._videoSSRC:i._audioSSRC;r&&lP.subscribe(this.store.sessionId,{succ:e,ec:t,video:n===fx.VIDEO,audio:n===fx.AUDIO,peerid:i.uid,subscribeRequestid:r,p2pid:this.store.p2pId,eventElapse:tj.measureFromSubscribeStart(this.store.clientId,r),preSsrc:this.isPreSubScribe(r)})}reset(){iP.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.reset\")),this.mutex=new PN(\"P2PChannel-mutex\",this.store.clientId),this.connection&&(this.resetConnection(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=Lj(this.store),this.emit(vx.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.statsUploader.stopUploadBaseStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(Rx.LocalAudioTrack);if((null==e?void 0:e.track)instanceof Wk){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=Cx.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(Rx.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(Rx.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof kM||t&&t.track instanceof Bk?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}getRemoteMedia(e){var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return i?{audioTrack:i.audioTrack,audioSSRC:i._audioSSRC,videoTrack:i.videoTrack,videoSSRC:i._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(Rx.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=Qp(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.connection&&(iP.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.disconnectForReconnect closing P2PConnection\")),this.state=Cx.Reconnecting,CD(\"KEEP_LAST_FRAME\")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var i;t._videoTrack&&t._videoTrack._player&&(null===(i=t._videoTrack._player.getVideoElement())||void 0===i||i.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.resetConnection(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=Lj(this.store),this.emit(vx.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection)),0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[i,{track:n}]=e;switch(i){case Rx.LocalVideoTrack:Ln(t=n._hints).call(t,VP.LOW_STREAM)?n.close():this.pendingLocalTracks.push(n);break;case Rx.LocalAudioTrack:n instanceof Wk?this.pendingLocalTracks=this.pendingLocalTracks.concat(n.trackList):this.pendingLocalTracks.push(n);case Rx.LocalVideoLowTrack:}})),this.emit(vx.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;Array.from(WD(i).call(i)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(vx.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),0!==this.localDataChannels.length&&(this.localDataChannels.forEach((e=>{this.pendingLocalDataChannels.push(e)})),this.localDataChannels.length=0),0!==this.remoteDataChannelMap.size&&(Array.from(this.remoteDataChannelMap.entries()).forEach((e=>{let[t,i]=e;Array.from(WD(i).call(i)).forEach((e=>{this.setPendingRemoteDataChannel(t,e)}))})),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),iP.debug(\"[\".concat(this.store.clientId,\"] P2PChannel disconnected, waiting to reconnect.\")))}hasPendingRemoteDataChannel(e,t){for(const i of this.pendingRemoteDataChannels){const{user:n,id:r}=i;if((e instanceof aj?e.uid:e)===n.uid&&r===t)return!0}return!1}setPendingRemoteDataChannel(e,t){this.hasPendingRemoteDataChannel(e,t)||this.pendingRemoteDataChannels.push({user:e,id:t})}hasPendingRemoteMedia(e,t){for(const i of this.pendingRemoteTracks){const{user:n,kind:r}=i;if((e instanceof aj?e.uid:e)===n.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}restartICE(e){var t=this;return Mb((function*(){if(!t.connection||t.state!==Cx.Connected)return;const i=yield Vb(t.mutex.lock(\"From P2PChannel.restartICE\"));let n;try{n=yield Vb(t.connection.restartICE(e));const r=yield Vb(n.next());if(r.done)return;const o=r.value,s=yield o;switch(kj(t.connection)&&t.reportPCStats(Date.now(),!1,t._pcStatsUploadType),e){case Sx.UDP_TCP_RELAY:t._pcStatsUploadType=gx.UDP_TCP_RESTART;break;case Sx.TCP_RELAY:t._pcStatsUploadType=gx.TCP_RESTART;break;case Sx.RELAY:t._pcStatsUploadType=gx.RELAY_RESTART;break;default:t._pcStatsUploadType=gx.OLD_RESTART}t._isTryConnecting=!0,n.next(s)}catch(e){var r;null===(r=n)||void 0===r||r.throw(e)}finally{i()}}))()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(Rx.LocalVideoTrack),i=this.localTrackMap.get(Rx.LocalAudioTrack),n=e.videoSend.find((e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId))),r=e.audioSend.find((e=>e.ssrc===(null==i?void 0:i.ssrcs[0].ssrcId)));if(!n||!r)return 1;const o=XO(this,vx.NeedSignalRTT),s=n?n.rttMs:void 0,a=r?r.rttMs:void 0,c=s&&a?(s+a)/2:s||a,d=(c&&o?(c+o)/2:c||o)||0,l=100*e.sendPacketLossRate*.7/50+.3*d/1500,u=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(VP.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,i=e.bitrate.actualEncoded;if(t&&i){const e=(1e3*t-i)/(1e3*t);return HU[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((i=>{let[n]=i;const r=n._audioSSRC,o=n._videoSSRC,s=e.audioRecv.find((e=>e.ssrc===r)),a=e.videoRecv.find((e=>e.ssrc===o));if(!s&&!a)return void(t+=1);const c=XO(this,vx.NeedSignalRTT),d=e.rtt,l=(d&&c?(d+c)/2:d||c)||0,u=s?s.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*l/1500;u&&(p=.6*h*100/50+.2*l/1500+.2*u/400);t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new rp(((t,i)=>{this.handleMuteLocalTrack(e,t,i)}))}async replaceTrack(e,t){var i;if(iP.debug(\"[\".concat(this.store.clientId,\"] P2PChannel replaceTrack from [\").concat(e.getTrackId(),\"] to [\").concat(t.getTrackId(),\"]\")),!this.connection||this.state!==Cx.Connected)return;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(!n)return;const r=n[0];if(e!==t&&(this.unbindLocalTrackEvents([{track:e,type:r}]),this.bindLocalTrackEvents([{track:t,type:r}]),n[1].track=t),await(null===(i=this.connection)||void 0===i?void 0:i.replaceTrack(t,n[1].id)),this.isPlanB){const e=n[1];e.id=t._mediaStreamTrack.id,this.localTrackMap.set(r,e)}if(r===Rx.LocalVideoTrack&&!CD(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&pP().supportDualStreamEncoding){const t=this.localTrackMap.get(Rx.LocalVideoLowTrack);if(t){const i=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i,await new rp(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}}}filterTobePublishedTracks(e,t,i){const n=[],r=this.getAllTracks();e=rN(e=e.filter((e=>-1===r.indexOf(e))));let o,s=!1;const a=this.localTrackMap.get(Rx.LocalAudioTrack);for(const r of e){if(r instanceof kM&&(this.localTrackMap.has(Rx.LocalVideoTrack)||s?new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n.push({track:r,type:Rx.LocalVideoTrack}),s=!0),t)){const e=this.getLowVideoTrack(r,i);n.push({track:e,type:Rx.LocalVideoLowTrack})}if(r instanceof Bk)if(a){const e=a.track;if(e instanceof Wk)Nj([r]),e.addAudioTrack(r),this.bindLocalAudioTrackEvents(r,!0);else{const t=Dj([e,r]);iP.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will replace audioTrack [\").concat(t.getTrackId(),\"]\")),this.replaceTrack(e,t)}}else if(o instanceof Wk)Nj([r]),o.addAudioTrack(r);else if(o||!r._useAudioElement&&pP().webAudioMediaStreamDest&&!r._bypassWebAudio){o=Dj(o?[r,o]:[r])}else o=r}return o&&(iP.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will send audioTrack [\").concat(o.getTrackId(),\"]\")),n.push({track:o,type:Rx.LocalAudioTrack})),n}filterTobeUnpublishedTracks(e){const t=[],i=this.getAllTracks();e=rN(e=e.filter((e=>-1!==i.indexOf(e))));for(const i of e){if(i instanceof Bk){const e=this.localTrackMap.get(Rx.LocalAudioTrack);if(!e)continue;e.track instanceof Wk?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([Rx.LocalAudioTrack,e]),e.track.close())):t.push([Rx.LocalAudioTrack,e])}if(i instanceof kM){const e=this.localTrackMap.get(Rx.LocalVideoTrack);if(!e)continue;t.push([Rx.LocalVideoTrack,e]);const i=this.localTrackMap.get(Rx.LocalVideoLowTrack);i&&t.push([Rx.LocalVideoLowTrack,i])}}return t}filterTobePublishedDataChannels(e){return e=(e=rN(e)).filter((e=>-1===this.localDataChannels.findIndex((t=>t.id===e.id))))}filterTobeUnpublishedDataChannels(e){return e=(e=(e=rN(e)).filter((e=>-1!==this.localDataChannels.indexOf(e)))).filter((e=>e._originDataChannel))}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:i}=e;switch(i){case Rx.LocalVideoTrack:t.addListener(UP.GET_STATS,this.handleGetLocalVideoStats),t.addListener(UP.GET_RTC_STATS,this.handleGetRTCStats),t.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(UP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(UP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.addListener(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Rx.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case Rx.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof Wk?e.trackList.forEach((e=>{e.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(UP.GET_STATS,this.handleGetLocalAudioStats),e.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(UP.GET_STATS,this.handleGetLocalAudioStats),e.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||(e.addListener(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.addListener(UP.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:i}]=e;return{track:i,type:t}}))),e.forEach((e=>{let{track:t,type:i}=e;switch(i){case Rx.LocalVideoTrack:t.off(UP.GET_STATS,this.handleGetLocalVideoStats),t.off(UP.GET_RTC_STATS,this.handleGetRTCStats),t.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(UP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(UP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.off(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Rx.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case Rx.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof Wk?e.trackList.forEach((e=>{e.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(UP.GET_STATS,this.handleGetLocalAudioStats),e.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(UP.GET_STATS,this.handleGetLocalAudioStats),e.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(UP.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),e.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof ZM&&t.addListener(UP.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof $M&&t.addListener(UP.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(UP.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;i.has(fx.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),i.has(fx.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,i)=>{var n;let r,o,{track:s,type:a}=e;switch(a){case Rx.LocalAudioTrack:r=ox.Audio,o={dtx:s instanceof jk&&s._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case Rx.LocalVideoTrack:r=Ln(n=s._hints).call(n,VP.SCREEN_TRACK)?ox.Screen:ox.High,o=hG(hG({},lF(s)),{},{codec:this.store.codec,svc_mode:SF()});break;case Rx.LocalVideoLowTrack:r=ox.Low,o=hG(hG({},lF(s)),{},{codec:this.store.codec,svc_mode:SF()})}return{stream_type:r,attributes:o,ssrcs:t[i]}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Rx.LocalVideoTrack:i=Ln(t=r._hints).call(t,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalAudioTrack:i=ox.Audio;break;case Rx.LocalVideoLowTrack:i=ox.Low}return{stream_type:i,ssrcs:o,mid:s}}))}assignLocalTracks(e,t){e.forEach(((e,i)=>{let{track:n,type:r}=e;this.localTrackMap.set(r,{track:n,id:t[i].id,ssrcs:t[i].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{if(iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onConnectionStateChange(\").concat(t,\")\")),this.emit(vx.PeerConnectionStateChange,t),\"connecting\"===t&&e instanceof Fj&&!Bw()&&CD(\"FIRST_TCP_CANDIDATE\")&&window.setTimeout((()=>{\"connecting\"===t&&e.extendCandidate()}),CD(\"FIRST_TCP_CANDIDATE_INTERVAL\")),\"connected\"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),\"connected\"===t){this._restartTimer&&(window.clearTimeout(this._restartTimer),this._restartTimer=void 0),e instanceof Fj&&cG(e,!0),this._isTryConnecting&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isTryConnecting=!1,this._isStartRestartIce=!1,this._pcStatsUploadType=gx.DISCONNECTED_OR_FAILED;if(\"CONNECTED\"===XO(this,vx.QueryClientConnectionState)&&this._isWaitPcToRePub){const e=this.pendingLocalTracks.map((e=>e.getTrackId())),t=this.pendingLocalDataChannels.map((e=>\"dc_\".concat(e.id)));lP.reportApiInvoke(this.store.sessionId,{name:LO.REPUB_AFTER_PC_CONNECTED,options:e.concat(t),tag:kO.TRACER}).onSuccess(),this.republish()}}if(CD(\"NEW_ICE_RESTART\")&&e instanceof Fj&&!Bw()&&!this._forceTurn&&!this.store.useDcSignal){if(Ln(Tx).call(Tx,t)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const t=t=>{if(kj(e)){iP.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] try to restartICE, type is \").concat(t));\"CONNECTED\"===XO(this,vx.QueryClientConnectionState)&&this.emit(vx.RequestRestartICE,t)}},i=()=>{kj(e)&&(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),iP.debug(\"[\".concat(this.store.clientId,\"] P2PConnection disconnected timeout, force reconnect\")),setTimeout((()=>this.emit(vx.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())};return void(this._restartTimer=window.setTimeout((()=>{dG(e,t,i)}),800))}}else{if(\"disconnected\"===t&&\"disconnected\"===e.iceConnectionState)return setTimeout((()=>{if(\"disconnected\"===e.iceConnectionState&&CD(\"ICE_RESTART\")){\"CONNECTED\"===XO(this,vx.QueryClientConnectionState)&&this.emit(vx.RequestRestartICE)}}),800),void setTimeout((()=>{\"disconnected\"===e.peerConnectionState&&(iP.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection disconnected timeout 4000ms, force reconnect\")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isTryConnecting=!1,setTimeout((()=>this.emit(vx.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())}),4e3);\"failed\"===t&&(iP.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection state failed, force reconnect\")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),setTimeout((()=>this.emit(vx.P2PLost)),0),this.iceFailedCount+=1,await this.requestReconnect())}},e.onICEConnectionStateChange=e=>{\"connected\"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),lP.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:kO.TRACER}).onSuccess(),this.emit(vx.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportStateChange=e=>{iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportError=e=>{iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"))},e.onFirstAudioDecoded=e=>{var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var n;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),null===(n=i.audioTrack)||void 0===n||n.emit(WP.FIRST_FRAME_DECODED),lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_AUDIO_DECODE,aP.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));i&&lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_AUDIO_RECEIVED,aP.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,i)=>{var n;const r=Array.from(WD(n=this.remoteUserMap).call(n)).find((t=>t._videoSSRC===e));r&&this.store.firstVideoFrameDecoded(r.uid,{firstDecoded:Date.now()}),this.reportVideoFirstFrameDecoded(e,t,i)},e.onFirstVideoRender=e=>{var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));i&&(this.store.firstVideoFrameDecoded(i.uid,{firstPreRender:Date.now()}),this.reportVideoFirstFrameRender(i),this.emit(vx.FirstVideoPreRender,i.uid,e))},e.onFirstVideoReceived=e=>{var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));i&&(this.store.firstVideoFrameDecoded(i.uid,{firstReceived:Date.now()}),lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_VIDEO_RECEIVED,aP.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstVideoBufferReady=e=>{var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));i&&this.emit(vx.FirstVideoBufferReady,i.uid,e)},e.onSelectedLocalCandidateChanged=(e,t)=>{const i=\"relay\"===e.candidateType,n=\"relay\"===t.candidateType;\"unknown\"!==t.candidateType&&i===n||this.emit(vx.ConnectionTypeChange,i),iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(EF(t)),\" -> \").concat(JSON.stringify(EF(e)),\")\"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(EF(t)),\" -> \").concat(JSON.stringify(EF(e)),\")\"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.getLocalVideoStats=()=>{const e=this.statsCollector.getLocalVideoTrackStats(),t=this.statsCollector.getRTCStats();return hG(hG({},e),t)},e.onICECandidateError=e=>{this._iceError=e}}fallbackConnection(){iP.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] try to fallback connection\")),this.state===Cx.Connected?(iP.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] fallback to websocket but P2PChannel state still connected, disconnect first\")),this.disconnectForReconnect()):(this.connection&&this.resetConnection(this.connection),this.shouldForwardP2PCreation&&(this.connection=Lj(this.store),this.emit(vx.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection)))}resetConnection(e){e instanceof Fj&&function(e){oG.delete(e.id),cG(e)}(e),e.close(),this.emit(vx.PeerConnectionStateChange,\"closed\"),function(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.getLocalVideoStats=void 0}(e),this._isWaitPcToRePub=!1}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const i=this.localTrackMap.get(Rx.LocalAudioTrack);if(e instanceof Bk&&(null==i?void 0:i.track)instanceof Wk)return i.track.isActive||t.push([Rx.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n&&(t.push(n),n[0]===Rx.LocalVideoTrack)){const e=this.localTrackMap.get(Rx.LocalVideoLowTrack);e&&t.push([Rx.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],i=this.localTrackMap.get(Rx.LocalAudioTrack);if(e instanceof Bk&&(null==i?void 0:i.track)instanceof Wk)return i.track.isActive&&t.push([Rx.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n)if(n[0]===Rx.LocalVideoTrack){t.push(n);const e=this.localTrackMap.get(Rx.LocalVideoLowTrack);e&&t.push([Rx.LocalVideoLowTrack,e])}else t.push(n);return t}createMuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Rx.LocalAudioTrack:i=ox.Audio;break;case Rx.LocalVideoTrack:i=Ln(t=r._hints).call(t,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:i=ox.Low}return{stream_type:i,ssrcs:o,mid:s}}))}createUnmuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Rx.LocalAudioTrack:i=ox.Audio;break;case Rx.LocalVideoTrack:i=Ln(t=r._hints).call(t,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:i=ox.Low}return{stream_type:i,ssrcs:o,mid:s}}))}filterTobeUnSubscribedTracks(e,t){const i=[],n=this.remoteUserMap.get(e);if(!n)return i;if(t){const r=n.get(t);if(!r)return i;i.push([e,{kind:t,id:r}])}else Array.from(n.entries()).forEach((t=>{let[n,r]=t;i.push([e,{kind:n,id:r}])}));return i}filterTobeUnSubscribedDataChannels(e,t){const i=[];return t.forEach((t=>{var n;null!==(n=this.remoteDataChannelMap.get(e))&&void 0!==n&&n.has(t.id)&&i.push(t)})),i}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[i,{kind:n,id:r}]=e;switch(n){case fx.VIDEO:return void(i._videoSSRC&&t.push({stream_type:fx.VIDEO,ssrcId:i._videoSSRC}));case fx.AUDIO:return void(i._audioSSRC&&t.push({stream_type:fx.AUDIO,ssrcId:i._audioSSRC}))}})),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach((e=>{let[i,{kind:n}]=e;if(t.has(i)){let e=t.get(i);n===fx.VIDEO?e|=cx.Video:e|=cx.Audio,t.set(i,e)}else n===fx.VIDEO?t.set(i,cx.Video):t.set(i,cx.Audio)})),{users:Array.from(t.entries()).map((e=>{let[t,i]=e;return{stream_id:t.uid,stream_type:i}}))}}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:i}]=e;const n=this.remoteUserMap.get(t);n&&(n.delete(i),0===Array.from(n.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(Rx.LocalVideoTrack),i=this.localTrackMap.get(Rx.LocalVideoLowTrack);t&&(await t.track.setBitrateLimit(e.uplink),await new rp(((e,i)=>{this.handleUpdateVideoEncoder(t.track,e,i,!0)}))),i&&e.low_stream_uplink&&(await i.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0}),await new rp(((e,t)=>{this.handleUpdateVideoEncoder(i.track,e,t,!0)})))}isP2PDisconnected(){if(this.connection){return\"connected\"!==this.connection.peerConnectionState}return!0}isPreallocation(){return!(!this.connection||!(\"name\"in this.connection)||\"DataChannelConnection\"!==this.connection.name||\"closed\"===this.connection.peerConnectionState)||this.connection instanceof Fj&&this.connection.isPreallocation}isPreSub(){return(this.connection&&\"name\"in this.connection&&\"DataChannelConnection\"===this.connection.name&&\"closed\"!==this.connection.peerConnectionState||this.connection instanceof Fj)&&this.connection.isPreSub()}isPreRender(){return this.connection instanceof Fj&&this.connection.isPreRender}mapPubResToRemoteConfig(e,t,i){return e.map(((e,n)=>{var r;let{stream_type:o}=e;const s=null===(r=t.find((e=>{let{stream_type:t}=e;return o===t})))||void 0===r?void 0:r.attributes;if(s&&CD(\"DISABLE_SCREEN_SHARE_REMB\")){const e=i[n]._hints;(Ln(e).call(e,VP.SCREEN_TRACK)||Ln(e).call(e,VP.SCREEN_LOW_TRACK))&&(s.remb=!1,iP.debug(\"disable remb for screen share, hints:\",e))}return s}))}async tryToUnmuteAudio(e){for(let i=0;i<e.length;i++)if(e[i]instanceof Bk){var t;const n=this.filterTobeUnmutedTracks(e[i]);if(0===n.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(n.map((e=>{let[,{id:t}]=e;return t}))));const r=this.createUnmuteMessage(n);return void await qO(this,vx.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(vx.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(vx.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks(),this.statsUploader.requestTransportStats=()=>{var e;return{connectState:(null===(e=this.connection)||void 0===e?void 0:e.peerConnectionState)||\"closed\"}}}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await fN(MN(this.dtlsFailedCount,kN)),this.emit(vx.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await zO(this,vx.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(vx.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(Rx.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof kM))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof kM)).length>1)throw new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof Bk)).length>1&&(e.some((e=>e instanceof Bk&&e._bypassWebAudio))||!pP().webAudioMediaStreamDest))throw new pO(hO.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(const t of e){if(t instanceof kM&&this.pendingLocalTracks.some((e=>e instanceof kM)))throw new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof Bk&&this.pendingLocalTracks.some((e=>e instanceof Bk))&&(!pP().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof Bk&&e._bypassWebAudio))))throw new pO(hO.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(e,t){var i;const n=!CD(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&pP().supportDualStreamEncoding,r=hG(hG({},{width:160,height:120,framerate:15,bitrate:50}),t);let o;o=n?e._mediaStreamTrack.clone():jj(e,r);const s=SN(8,\"track-low-\"),a=new kM(o,hG(hG({},n&&{scaleResolutionDownBy:_F(r,e)}),{},{frameRate:r.framerate,bitrateMax:r.bitrate,bitrateMin:r.bitrate}),void 0,void 0,s);return a.on(jP.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,xP.LOW_STREAM)})),a._hints.push(VP.LOW_STREAM),Ln(i=e._hints).call(i,VP.SCREEN_TRACK)&&a._hints.push(VP.SCREEN_LOW_TRACK),e.on(\"sei-to-send\",(e=>{a.emit(\"sei-to-send\",e)})),e.addListener(UP.NEED_CLOSE,(()=>{a.close()})),a}async globalLock(){return this.mutex.lock(\"From P2PChannel.globalLock\")}async reportPCStats(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.connection&&this.connection instanceof Fj){var r,o,s,a;const c=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:d,dtlsTransportState:l,peerConnectionState:u}=this.connection,{local:h,remote:p}=await this.connection.getSelectedCandidatePair();lP.pcStats(this.store.sessionId,{startTime:c,eventElapse:e-c||0,iceconnectionsate:d,dtlsstate:l,connectionstate:u,intSucc:t?1:2,error:this._iceError||n||\"\",selectedLocalCandidateProtocol:null!==(r=null==h?void 0:h.protocol)&&void 0!==r?r:\"\",selectedLocalCandidateType:null!==(o=h.candidateType)&&void 0!==o?o:\"\",selectedLocalCandidateAddress:\"\".concat(h.address,\":\").concat(h.port),selectedRemoteCandidateProtocol:null!==(s=p.protocol)&&void 0!==s?s:\"\",selectedRemoteCandidateType:null!==(a=p.candidateType)&&void 0!==a?a:\"\",selectedRemoteCandidateAddress:\"\".concat(p.address,\":\").concat(p.port),restartCnt:i,preallocation:this.connection.isPreallocation}),this._iceError=null}}reportVideoFirstFrameRender(e){const t=this.store.keyMetrics,i=t.firstVideoFrameDecoded.find((t=>t.userId===e.uid));if(!i)return;const{isInternalUpload:n,isExternalUpload:r}=i;if(n&&r)return;const{subscribeEnd:o,firstPreRender:s,peerPublishDuration:a,peerPubStatusMs:c}=i;let{firstRender:d=0}=i;if(o&&(d||s)&&a&&c){i.isInternalUpload=!0;const{playEnd:n}=i;n&&(i.isExternalUpload=!0);const{firstPreRender:r=0}=i;d=r||d;const s=e.videoTrack,l={peer:e._uintid,width:(null==s?void 0:s._videoWidth)||0,height:(null==s?void 0:s._videoHeight)||0,ssrc:e._videoSSRC||0,p2pid:this.store.p2pId,peerPublishDuration:a,peerPubStatusMs:c,joinChannelStart:t.joinStart||0,preloadStart:t.preloadStart||0,preloadEnd:t.preloadEnd||0,apStart:t.requestAPStart||0,apEnd:t.requestAPEnd||0,suaEnd:t.requestSUAEnd||0,beforeConnect:t.beforeConnect||0,peerReceiver:t.peerReceiver||0,ice:t.iceConnectionEnd||0,pc:t.peerConnectionEnd||0,signalConnected:t.signalConnected||0,joinReq:t.joinReq||0,joinRes:t.joinRep||0,userJoinNotify:i.userJoinNotify||0,videoAddNotify:i.videoAddNotify||0,subscribeStart:i.subscribeStart||0,subscribeEnd:i.subscribeEnd||0,firstReceived:i.firstReceived||0,firstDecoded:i.firstDecoded||0,firstPreRender:r||0,firstRender:n?Math.max(d,n):Math.max(d,o),playStart:i.playStart||0,playEnd:i.playEnd||0,isPreSub:!(!e._videoSSRC||!this.isPreSubScribe(e._videoSSRC)),isPrePc:this.isPreallocation(),isPreInstantVideo:fP(this.store),firstReceivedEncodedFrame:i.firstReceivedEncodedFrame||0,frameType:i.frameType||\"\",rtpTimestamp:i.rtpTimestamp||0,framePayloadType:i.framePayloadType||0,frameDataLength:i.frameDataLength||0,mimeType:i.mimeType||\"\"};lP.firstXLAPeerFirstVideoFrame(this.store.sessionId,l)}}reportVideoFirstFrameDecoded(e,t,i,n){var r;const o=Array.from(WD(r=this.remoteUserMap).call(r)).find((t=>t._videoSSRC===e));if(o){n||this.store.subscribe(o.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,s=r.subscribe.find((e=>e.userId===o.uid&&\"video\"===e.type));lP.firstRemoteVideoDecode(this.store.sessionId,sP.FIRST_VIDEO_DECODE,aP.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:i,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==s?void 0:s.subscribeEnd)||0,subscriberStart:(null==s?void 0:s.subscribeStart)||0,videoAddNotify:(null==s?void 0:s.streamAdded)||0,state:n?1:0,firstFrame:(null==s?void 0:s.firstFrame)||0})}}async remoteMediaSsrcChanged(e,t,i){if(!this.connection)return!1;const n=this.remoteUserMap.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const o=await this.connection.getRemoteSSRC(r);return void 0!==o&&o!==i}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:i}]=e;t===Rx.LocalVideoLowTrack?i._updateRtpTransceiver(void 0,xP.LOW_STREAM):i._updateRtpTransceiver(void 0)}))}},DV(lG.prototype,\"startP2PConnection\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"startP2PConnection\"),lG.prototype),DV(lG.prototype,\"connect\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"connect\"),lG.prototype),DV(lG.prototype,\"updateRemoteRTPCapabilities\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"updateRemoteRTPCapabilities\"),lG.prototype),DV(lG.prototype,\"publishDataChannel\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"publishDataChannel\"),lG.prototype),DV(lG.prototype,\"unpublish\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"unpublish\"),lG.prototype),DV(lG.prototype,\"unpublishDataChannel\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"unpublishDataChannel\"),lG.prototype),DV(lG.prototype,\"unpublishLowStream\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"unpublishLowStream\"),lG.prototype),DV(lG.prototype,\"subscribeDataChannel\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"subscribeDataChannel\"),lG.prototype),DV(lG.prototype,\"subscribe\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"subscribe\"),lG.prototype),DV(lG.prototype,\"massSubscribe\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"massSubscribe\"),lG.prototype),DV(lG.prototype,\"unsubscribe\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"unsubscribe\"),lG.prototype),DV(lG.prototype,\"unsubscribeDataChannel\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"unsubscribeDataChannel\"),lG.prototype),DV(lG.prototype,\"massUnsubscribe\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"massUnsubscribe\"),lG.prototype),DV(lG.prototype,\"muteRemote\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"muteRemote\"),lG.prototype),DV(lG.prototype,\"unmuteRemote\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"unmuteRemote\"),lG.prototype),DV(lG.prototype,\"hasRemoteMediaWithLock\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"hasRemoteMediaWithLock\"),lG.prototype),DV(lG.prototype,\"disconnectForReconnect\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"disconnectForReconnect\"),lG.prototype),DV(lG.prototype,\"updateBitrateLimit\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"updateBitrateLimit\"),lG.prototype),DV(lG.prototype,\"remoteMediaSsrcChanged\",[mG],Object.getOwnPropertyDescriptor(lG.prototype,\"remoteMediaSsrcChanged\"),lG.prototype),lG);function mG(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PChannel.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}function fG(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function SG(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?fG(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):fG(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const gG=Date.now(),TG=20,RG=new Map,CG=new Map;async function vG(e){const t=RG.get(e),i=Array.isArray(t)&&t[t.length-1],n=CG.get(e);if(!i)return void(n.isSyncing=!1);const r={uid:i.uid,payload:i.payload};0===n.firstRecvTs&&(n.firstRecvTs=i.recvTs,n.firstSendTs=i.sendTs);const o=i.sendTs-n.firstSendTs,s=o-(Date.now()-n.firstRecvTs);s>0&&(n.firstRecvTs=Date.now()-o);let a=i.mediaDelay+s;a<=0?(t.pop(),yG(i.context,r),a=0):a=Math.min(a,TG),setTimeout((()=>t.length&&vG(e)),a)}function yG(e,t){e.safeEmit(GO.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)}function IG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(!e.syncWithAudio)return yG(i,{uid:e.uid,payload:e.payload});const n=\"\".concat(i.id,\"-\").concat(e.uid),r=RG.get(n)||[],o=r.findIndex((t=>e.sendTs>=t.sendTs)),s=SG(SG({},e),{},{context:i,mediaDelay:t,recvTs:Date.now()});-1===o?r.push(s):r.splice(o,0,s),RG.set(n,r);let a=!1;var c;CG.has(n)?a=!(null===(c=CG.get(n))||void 0===c||!c.isSyncing):CG.set(n,{isSyncing:a,firstRecvTs:0,firstSendTs:0});a||vG(n)}const AG=Dw().name;function bG(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function wG(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?bG(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bG(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const OG=\"websdk_ng_cache_parameter\",NG=CD(\"MAX_PRELOAD_ASYNC_LENGTH\"),DG=1e4,PG=new Map,LG=[];let kG=null,MG=0,UG=0;const VG=new Map,xG=new Uint8Array([241,141,127,212,103,139,200,225,251,157,127,139,143,2,22,163]),FG=function(e,t){const i=[];let n=0;const r=async()=>{const e=i.shift();e&&await e(),i.length>0&&n<t?r():n--};return async function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return new rp((async(o,a)=>{i.push((async()=>{try{const t=await e(...s);o(t)}catch(e){a(e)}})),n<t&&(n++,r())}))}}(GG,NG),BG=Tw.CancelToken.source();class jG{constructor(){iA(this,\"_audioContext\",null)}createMuteAudioTrack(){this._audioContext=new AudioContext;const e=this._audioContext.sampleRate,t=10*e,i=this._audioContext.createBuffer(2,t,e),n=this._audioContext.createBufferSource();n.buffer=i;const r=this._audioContext.createMediaStreamDestination();n.connect(r),n.start();return r.stream.getAudioTracks()[0]}close(){this._audioContext&&(this._audioContext.close(),this._audioContext=null)}}async function GG(e,t,i,n,r,o,s){try{if(!CD(\"ENABLE_PRELOAD\"))return;if(!pP().supportWebCrypto)return void dN((()=>{iP.warn(\"Your browser does not support preloading, this feature  be run in a secure environment\")}),\"preload_webcrypto_not_supported\");if(!i&&null!==i)throw new pO(hO.INVALID_PARAMS,\"Invalid token: \".concat(i,\". If you don not use token, set it to null\"));i&&SO(i,\"token\",1,2047),SO(e,\"appid\",1,2047),HV(t),n&&KV(n);const a=gN();iP.debug(\"preload channel \".concat(t,\", uid is \").concat(n));const c={appId:e,cname:t,token:i||e,uid:\"string\"!=typeof n?n:null,sid:a,proxyServer:r,role:s};let d,l;\"string\"==typeof n?(c.stringUid=n,[l,d]=await rp.all([HB(n,{sid:a,appId:e},BG.token),YB(wG(wG({},c),{},{token:i||e,uid:0}),BG.token)]),c.uid=l.uid,d.gatewayInfo.uid=c.uid,d.gatewayInfo.res.uid=c.uid):(o&&(c.stringUid=o),d=await YB(c,BG.token));const u={sid:a,appId:e,cname:t,token:i||e,uid:c.stringUid||n,intUid:c.uid||d.gatewayInfo.uid,stringUid:c.stringUid,ts:Date.now(),sua:l,ap:d};await KG(u),MG++}catch(e){throw UG++,function(e){kG||(kG=window.setTimeout((()=>{let t=\"\";VG.forEach(((e,i)=>{t+=\"\".concat(i,\": \").concat(e,\" ;\")})),lP.reportApiInvoke(null,{name:LO.PRELOAD,options:{success:MG,failed:UG,err:t}}).onError(e),MG=0,UG=0,VG.clear(),kG=null}),DG));const t=VG.get(e.code)||0;VG.set(e.code,t+1)}(e),e}}async function WG(e){try{if(CD(\"AP_REQUEST_DETAIL\")||CD(\"ENABLE_ROLE_SELECT_EDGE\"))return;const t=HG(e);if(!t||\"disabled\"!==e.cloudProxyServer)return;const i=await async function(e,t){try{const i=await window.crypto.subtle.importKey(\"raw\",hN(t),\"AES-GCM\",!1,[\"decrypt\"]),n=await window.crypto.subtle.decrypt({name:\"AES-GCM\",iv:xG},i,lN(e));return JSON.parse(window.atob(uN(new Uint8Array(n))))}catch(e){return}}(t,e.token||e.appId);if(!i)return;if(!function(e,t){const i=e.cname===t.cname&&e.appId===t.appId&&e.token===t.token;if(!i)return!1;return t.stringUid?e.stringUid===t.stringUid:\"number\"==typeof t.uid?e.uid===t.uid:e.uid==t.uid}(i,e))return;if(i&&Date.now()-i.ts<CD(\"AP_CACHE_LIFETIME\"))return i}catch(e){iP.warn(\"Error get preloadInfo\",e.message)}}function HG(e){let t;try{if(t=XG(OG),!t)return;const i=JSON.parse(t),n=QG(e),r=function(e,t){for(let i=e.length-1;i>=0;i--)if(t(e[i]))return i;return-1}(i,(e=>n in e));if(-1===r)return;const o=i.splice(r,1)[0];return JG(OG,JSON.stringify(i)),o[n]}catch(e){iP.warn(\"Error delete preload info: \".concat(t),e.message),JG(OG,\"\")}}async function KG(e){let t;try{e.uid&&HG({appId:e.appId,cname:e.cname,token:e.token,uid:e.uid,stringUid:e.stringUid});const i=QG(e),n=await async function(e,t){try{const i=await window.crypto.subtle.importKey(\"raw\",hN(t),\"AES-GCM\",!1,[\"encrypt\"]),n=await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:xG},i,lN(window.btoa(JSON.stringify(e))));return uN(new Uint8Array(n))}catch(e){return}}(e,e.token||e.appId);if(!n)return;t=XG(OG);const r=t?JSON.parse(t):[];r.push({[i]:n}),r.length>CD(\"AP_CACHE_NUM\")&&r.shift(),JG(OG,JSON.stringify(r))}catch(e){iP.warn(\"Error caching server parameters:\",e.message),JG(OG,\"\")}}function YG(e){if(e){let t=PG.get(e);t&&(window.clearTimeout(t),t=null,PG.delete(e)),Ln(LG).call(LG,e)||\"disabled\"!==e.cloudProxyServer||LG.push(e)}if(PG.size<CD(\"AP_CACHE_NUM\")&&LG.length>0){const e=LG.shift();PG.set(e,window.setTimeout((async()=>{const{appId:t,cname:i,token:n,stringUid:r,uid:o,proxyServer:s,role:a}=e;try{await FG(t,i,n,o,s,r,a),PG.has(e)&&YG(e)}catch(t){iP.warn(\"update preload failed\",t.message),zG(e)}}),CD(\"AP_UPDATE_INTERVAL\")))}}function zG(e){const t=LG.indexOf(e);-1!==t&&LG.splice(t,1);let i=PG.get(e);i&&(window.clearTimeout(i),i=null,PG.delete(e),YG())}function qG(e,t){const i=e.sua,n=e.ap;t&&i&&lP.reqUserAccount(e.sid,{lts:i.requestTime,elapse:i.elapse,success:!0,serverAddr:i.url,stringUid:t,uid:e.intUid,errorCode:null,extend:i.req}),lP.reportResourceTiming(e.ap.url,e.sid),lP.joinWebProxyAP(e.sid,{lts:n.requestTime,elapse:n.elapse,sucess:1,apServerAddr:n.url,turnServerAddrList:n.proxyInfo.addresses.map((e=>e.ip)).join(\",\"),eventType:\"disabled\",unilbsServerIds:[iF.CHOOSE_SERVER,iF.CLOUD_PROXY_FALLBACK].toString()}),lP.joinChooseServer(e.sid,{lts:n.requestTime,elapse:n.elapse,succ:!0,csAddr:n.url,opid:n.opid,serverList:n.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,cid:n.gatewayInfo.cid.toString(),uid:n.gatewayInfo.uid.toString(),csIp:n.gatewayInfo.csIp,unilbsServerIds:[iF.CHOOSE_SERVER].toString(),isHttp3:n.isHttp3})}function XG(e){return window.atob(window.localStorage.getItem(e)||\"\")}function JG(e,t){window.localStorage.setItem(e,window.btoa(t))}function QG(e){let t=\"\".concat(e.appId,\"_\").concat(e.cname);return\"string\"==typeof e.uid&&(t+=\"_s_\".concat(e.uid)),\"number\"==typeof e.uid&&(t+=\"_\".concat(e.uid)),e.token&&(t+=\"_\".concat(e.token)),ON(t)}function ZG(e){let t=function(){const e=iW.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(e,t){let i=e.appId;void 0!==i&&(pW(t,10),dW(t,i));let n=e.cid;void 0!==n&&(pW(t,16),pW(t,n));let r=e.cname;void 0!==r&&(pW(t,26),dW(t,r));let o=e.deviceId;void 0!==o&&(pW(t,34),dW(t,o));let s=e.elapse;void 0!==s&&(pW(t,40),EW(t,s));let a=e.fileSize;void 0!==a&&(pW(t,48),EW(t,tW(a)));let c=e.height;void 0!==c&&(pW(t,56),EW(t,tW(c)));let d=e.jpg;void 0!==d&&(pW(t,66),pW(t,d.length),aW(t,d));let l=e.networkType;void 0!==l&&(pW(t,72),EW(t,tW(l)));let u=e.osType;void 0!==u&&(pW(t,80),EW(t,tW(u)));let h=e.requestId;void 0!==h&&(pW(t,90),dW(t,h));let p=e.sdkVersion;void 0!==p&&(pW(t,98),dW(t,p));let _=e.sequence;void 0!==_&&(pW(t,104),EW(t,tW(_)));let E=e.sid;void 0!==E&&(pW(t,114),dW(t,E));let m=e.timestamp;void 0!==m&&(pW(t,120),EW(t,m));let f=e.uid;void 0!==f&&(pW(t,128),pW(t,f));let S=e.vid;void 0!==S&&(pW(t,136),pW(t,S));let g=e.width;void 0!==g&&(pW(t,144),EW(t,tW(g)));let T=e.service;void 0!==T&&(pW(t,152),pW(t,T));let R=e.callbackData;void 0!==R&&(pW(t,162),pW(t,R.length),aW(t,R));let C=e.ticket;void 0!==C&&(pW(t,170),dW(t,C));let v=e.vendorConfigs;void 0!==v&&(pW(t,178),dW(t,v))}(e,t),function(e){let t=e.bytes,i=e.limit;return t.length===i?t:t.subarray(0,i)}(t)}function $G(e){return function(e){let t={};e:for(;!rW(e);){let i=hW(e);switch(i>>>3){case 0:break e;case 1:t.code=hW(e);break;case 2:t.msg=cW(e,hW(e));break;case 3:t.requestId=cW(e,hW(e));break;case 4:t.timestamp=_W(e,!1);break;default:eW(e,7&i)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function eW(e,t){switch(t){case 0:for(;128&lW(e););break;case 2:nW(e,hW(e));break;case 5:nW(e,4);break;case 1:nW(e,8);break;default:throw new Error(\"Unimplemented type: \"+t)}}function tW(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let iW=[];function nW(e,t){if(e.offset+t>e.limit)throw new Error(\"Skip past limit\");e.offset+=t}function rW(e){return e.offset>=e.limit}function oW(e,t){let i=e.bytes,n=e.offset,r=e.limit,o=n+t;if(o>i.length){let t=new Uint8Array(2*o);t.set(i),e.bytes=t}return e.offset=o,o>r&&(e.limit=o),n}function sW(e,t){let i=e.offset;if(i+t>e.limit)throw new Error(\"Read past limit\");return e.offset+=t,i}function aW(e,t){let i=oW(e,t.length);e.bytes.set(t,i)}function cW(e,t){let i=sW(e,t),n=String.fromCharCode,r=e.bytes,o=\"�\",s=\"\";for(let e=0;e<t;e++){let a,c,d,l,u=r[e+i];0==(128&u)?s+=n(u):192==(224&u)?e+1>=t?s+=o:(a=r[e+i+1],128!=(192&a)?s+=o:(l=(31&u)<<6|63&a,l<128?s+=o:(s+=n(l),e++))):224==(240&u)?e+2>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],32896!=(49344&(a|c<<8))?s+=o:(l=(15&u)<<12|(63&a)<<6|63&c,l<2048||l>=55296&&l<=57343?s+=o:(s+=n(l),e+=2))):240==(248&u)?e+3>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],d=r[e+i+3],8421504!=(12632256&(a|c<<8|d<<16))?s+=o:(l=(7&u)<<18|(63&a)<<12|(63&c)<<6|63&d,l<65536||l>1114111?s+=o:(l-=65536,s+=n(55296+(l>>10),56320+(1023&l)),e+=3))):s+=o}return s}function dW(e,t){let i=t.length,n=0;for(let e=0;e<i;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<i&&(r=(r<<10)+t.charCodeAt(++e)-56613888),n+=r<128?1:r<2048?2:r<65536?3:4}pW(e,n);let r=oW(e,n),o=e.bytes;for(let e=0;e<i;e++){let n=t.charCodeAt(e);n>=55296&&n<=56319&&e+1<i&&(n=(n<<10)+t.charCodeAt(++e)-56613888),n<128?o[r++]=n:(n<2048?o[r++]=n>>6&31|192:(n<65536?o[r++]=n>>12&15|224:(o[r++]=n>>18&7|240,o[r++]=n>>12&63|128),o[r++]=n>>6&63|128),o[r++]=63&n|128)}}function lW(e){return e.bytes[sW(e,1)]}function uW(e,t){let i=oW(e,1);e.bytes[i]=t}function hW(e){let t,i=0,n=0;do{t=lW(e),i<32&&(n|=(127&t)<<i),i+=7}while(128&t);return n}function pW(e,t){for(t>>>=0;t>=128;)uW(e,127&t|128),t>>>=7;uW(e,t)}function _W(e,t){let i,n=0,r=0,o=0;return i=lW(e),n=127&i,128&i&&(i=lW(e),n|=(127&i)<<7,128&i&&(i=lW(e),n|=(127&i)<<14,128&i&&(i=lW(e),n|=(127&i)<<21,128&i&&(i=lW(e),r=127&i,128&i&&(i=lW(e),r|=(127&i)<<7,128&i&&(i=lW(e),r|=(127&i)<<14,128&i&&(i=lW(e),r|=(127&i)<<21,128&i&&(i=lW(e),o=127&i,128&i&&(i=lW(e),o|=(127&i)<<7))))))))),{low:n|r<<28,high:r>>>4|o<<24,unsigned:t}}function EW(e,t){let i=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,o=0===r?0===n?i<16384?i<128?1:2:i<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:r<128?9:10,s=oW(e,o),a=e.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=9!==o?128|r:127&r;case 8:a[s+7]=8!==o?n>>>21|128:n>>>21&127;case 7:a[s+6]=7!==o?n>>>14|128:n>>>14&127;case 6:a[s+5]=6!==o?n>>>7|128:n>>>7&127;case 5:a[s+4]=5!==o?128|n:127&n;case 4:a[s+3]=4!==o?i>>>21|128:i>>>21&127;case 3:a[s+2]=3!==o?i>>>14|128:i>>>14&127;case 2:a[s+1]=2!==o?i>>>7|128:i>>>7&127;case 1:a[s]=1!==o?128|i:127&i}}const mW={},fW={},SW=4294967296,gW=SW*SW,TW=gW/2,RW=AW(0,!0),CW=AW(0),vW=bW(0,-2147483648,!1),yW=bW(-1,2147483647,!1),IW=bW(-1,-1,!0);function AW(e,t){let i,n,r;return t?(r=0<=(e>>>=0)&&e<256)&&(n=fW[e],n)?n:(i=bW(e,0,!0),r&&(fW[e]=i),i):(r=-128<=(e|=0)&&e<128)&&(n=mW[e],n)?n:(i=bW(e,e<0?-1:0,!1),r&&(mW[e]=i),i)}function bW(e,t,i){return{low:0|e,high:0|t,unsigned:!!i}}function wW(e,t){if(isNaN(e))return t?RW:CW;if(t){if(e<0)return RW;if(e>=gW)return IW}else{if(e<=-TW)return vW;if(e+1>=TW)return yW}return e<0?t?RW:CW:bW(e%SW|0,e/SW|0,t)}function OW(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class NW extends NO{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(Dx.CONNECTION_STATE_CHANGE,e,t)}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this._qualityRatio}),6e4))}constructor(e){var t;super(),iA(this,\"name\",\"AgoraRTCImageModeration\"),iA(this,\"_connectionState\",Nx.CONNECTING),iA(this,\"_sequence\",0),iA(this,\"_moderationStartTime\",void 0),iA(this,\"_workerConnection\",void 0),iA(this,\"_workerMessageLengthLimit\",void 0),iA(this,\"_qualityRatio\",void 0),iA(this,\"_connectInfo\",void 0),iA(this,\"_cancelTokenSource\",Tw.CancelToken.source()),iA(this,\"_retryConfig\",void 0),iA(this,\"_moderationInterval\",void 0),iA(this,\"_moderationTimer\",null),iA(this,\"_moderationMode\",1),iA(this,\"_quality\",1),iA(this,\"_qualityTimer\",null),iA(this,\"_ticket\",void 0),iA(this,\"_moderationIntervalMinimum\",void 0),iA(this,\"_uploadFailedNum\",0),iA(this,\"_uploadNum\",0),iA(this,\"_uploadTimer\",null),iA(this,\"_extraInfo\",void 0),iA(this,\"_vendor\",\"\"),iA(this,\"_encoder\",new TextEncoder),iA(this,\"_moderationId\",void 0),iA(this,\"inspectImage\",(()=>{if(this.connectionState!==Nx.CONNECTED)throw new uP(hO.OPERATION_ABORTED,\"image moderation service connection status is \".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval((()=>{this.connectionState===Nx.CONNECTED?this.requestToInspectImage():iP.debug(\"[\".concat(this._moderationId,\"] Moderation State is not connected , \"),this.connectionState)}),this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()})),this._moderationId=SN(5,\"image-moderation-\"),this._workerMessageLengthLimit=CD(\"IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT\"),this._moderationIntervalMinimum=CD(\"IMAGE_MODERATION_INTERVAL_MINIMUM\"),this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),this._qualityRatio=CD(\"IMAGE_MODERATION_QUALITY_RATIO\"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new $x(\"worker-\"+this._moderationId,kN),this.on(Dx.STATE_CHANGE,((e,t)=>{iP.debug(\"[\".concat(this._moderationId,\"] Moderation operation :\").concat(Px[e],\" \").concat(t||\"\"))})),this.handleWorkerEvents()}async init(e,t){this.emit(Dx.STATE_CHANGE,Px.CONNECT_AP),this._connectInfo=e;const i=this._cancelTokenSource.token;return this._retryConfig=t,new rp(((n,r)=>{this.on(Dx.CONNECTION_STATE_CHANGE,((e,t)=>{e===Nx.CONNECTED&&n()})),this.requestAP(e,i,t).then((e=>{this.connectWorker(e)})).catch((e=>{r(e)}))}))}updateConfig(e){var t;this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),iP.debug(\"[\".concat(this._moderationId,\"] updateConfig: \").concat(JSON.stringify(e))),this.connectionState===Nx.CONNECTED&&this.inspectImage()}async requestAP(e,t,i){const n=CD(\"WEBCS_DOMAIN\").map((e=>\"https://\".concat(e,\"/api/v1\"))),r=await function(e,t,i,n){let{appId:r,areaCode:o,cname:s,sid:a,token:c,uid:d}=t;UB++;const l=\"moderation_plugin\",u={service_name:l,json_body:JSON.stringify({appId:r,areaCode:o,cname:s,command:\"allocateEdge\",requestId:UB,seq:UB,sid:a,appToken:c,ts:Date.now(),uid:d+\"\"})};let h,p,_=e[0];return UN((async()=>{h=Date.now();const e=await _B(_,{data:u,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(p=Date.now()-h,0!==e.code){const t=new uP(hO.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code\"+e.code,{retry:!0,responseTime:p});throw iP.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new uP(hO.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code: \".concat(t.code,\", reason: \").concat(t.reason),{code:t.code,responseTime:p});throw iP.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new uP(hO.UNEXPECTED_RESPONSE,\"moderation plugin ap empty server\",{code:t.code,responseTime:p});throw iP.error(e.toString()),e}if(!t.servers.some((e=>!!e.wss))){const e=new uP(hO.UNEXPECTED_RESPONSE,\"moderation plugin ap empty port\",{code:t.code,responseTime:p});throw iP.error(e.toString()),e}const n=CD(\"IMAGE_MODERATION_WORKER_WSS\");if(n)return{addressList:[n],workerToken:t.workerToken,vid:t.vid,responseTime:p};const r=CD(\"IMAGE_MODERATION_WORKER_HOST\"),o=t.servers.map((e=>{let{address:t,wss:i}=e;if(t&&i)return\"wss://\".concat(t.replace(/\\./g,\"-\"),\".\").concat(r,\":\").concat(i,\"/moderation\")})).filter((e=>!!e));return{addressList:o,workerToken:t.workerToken,vid:t.vid,ticket:t.appTicket,responseTime:p}}),((t,i)=>(lP.apworkerEvent(a,{success:!0,sc:200,serviceName:l,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===i,responseTime:p,serverIp:e[i%e.length]}),!1)),((t,i)=>(lP.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:l,responseTime:p,serverIp:e[i%e.length]}),!!(t.code!==hO.OPERATION_ABORTED&&t.code!==hO.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(_=e[(i+1)%e.length],!0))),n)}(n,e,t,i);this.emit(Dx.STATE_CHANGE,Px.AP_CONNECTED);const{addressList:o,ticket:s}=r;return this._ticket=s,o}async connectWorker(e){this.emit(Dx.STATE_CHANGE,Px.CONNECT_WORKER),await this._workerConnection.init(e,1e4)}handleWorkerEvents(){this._workerConnection.on(WV.CONNECTED,(async()=>{this.emit(Dx.STATE_CHANGE,Px.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=Nx.CONNECTED})),this._workerConnection.on(WV.CLOSED,(()=>{this.connectionState=Nx.CLOSED})),this._workerConnection.on(WV.FAILED,(()=>{this.connectionState=Nx.CLOSED})),this._workerConnection.on(WV.RECONNECTING,(()=>{this.connectionState=this.connectionState===Nx.CONNECTED?Nx.RECONNECTING:Nx.CONNECTING})),this._workerConnection.on(WV.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const t=$G(new Uint8Array(e.data));CD(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&iP.debug(\"[\".concat(this._moderationId,\"] Response message for worker of image moderation \"),JSON.stringify(t)),this._uploadNum++,void 0===t.code||0===t.code||(this._uploadFailedNum++,iP.error(\"[\".concat(this._moderationId,\"] Error response from worke, code is \").concat(t.code,\", msg is \").concat(t.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout((()=>{lP.reportApiInvoke(this._connectInfo.sid||null,{name:LO.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,t.code],tag:kO.TRACER}).onError(new uP(hO.IMAGE_MODERATION_UPLOAD_FAILED,t.msg)),this._uploadTimer=null}),CD(\"IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL\"))))}else iP.error(\"[\".concat(this._moderationId,\"] Unexpected message type from worker\"))})),this._workerConnection.on(WV.WILL_RECONNECT,((e,t,i)=>{\"recover\"===e&&i(e),i(\"tryNext\")})),this._workerConnection.on(WV.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){const e=XO(this,Dx.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void(CD(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&iP.debug(\"Only the track being played can be inspected\"));this._sequence++;const i=await this.generateRequestData(e,t);this._workerConnection.sendMessage(i,!0,!0)}else CD(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&iP.debug(\"Only the track being published can be inspected\")}async generateRequestData(e,t){let{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a}=t;const c=Date.now(),d=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),l=await QL(d,i,n),u=this._sequence+\"-\"+r+\"-\"+a+\"-\"+c+\"-\"+SN(12,\"\"),h={appId:i,cid:r,cname:n,deviceId:\"\",elapse:NW.intToLong(Number(c-this._moderationStartTime)),fileSize:d.buffer.byteLength,height:d.height,width:d.width,jpg:l,networkType:6,osType:7,requestId:u,sdkVersion:\"4.24.1\",sequence:this._sequence,sid:s,timestamp:wW(c),uid:a,vid:o,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};void 0===this._extraInfo&&delete h.callbackData;const p=ZG(h);if(p.byteLength<this._workerMessageLengthLimit){if(CD(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")){const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?OW(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):OW(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},h);delete e.jpg,iP.debug(\"[\".concat(this._moderationId,\"] Request message for worker of image moderation service: \"),JSON.stringify(e))}return p}{const t=this.quality*this._qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=Tw.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=Nx.CLOSED,this.emit(Dx.STATE_CHANGE,Px.CLOSED)}}function DW(e){if(mO(e.interval,\"interval\",1e3,1/0),e&&e.extraInfo&&e.extraInfo.length>1024)throw new uP(hO.INVALID_PARAMS,\"config.extraInfo length cannot exceed 1024 bytes\");if(e&&e.vendor&&e.vendor.length>1024)throw new uP(hO.INVALID_PARAMS,\"config.vendor length cannot exceed 1024 bytes\")}const PW={name:\"ImageModeration\",create:function(e){let{config:t}=e;return DW(t),new NW(t)}};var LW,kW,MW,UW,VW,xW,FW,BW,jW,GW,WW,HW,KW,YW,zW,qW,XW,JW,QW,ZW,$W,eH,tH,iH,nH,rH,oH,sH,aH,cH,dH,lH,uH,hH,pH,_H,EH,mH,fH,SH,gH,TH,RH;function CH(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vH(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?CH(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):CH(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}PN.setLogger(iP);let yH=(LW=dP(),kW=dP({argsMap:(e,t)=>{if(!Array.isArray(t)){if(!(t instanceof lL))return[t];t=[t]}return t.map((e=>e?Object(e).toString():\"null\"))}}),MW=dP({argsMap:(e,t)=>(t||(t=[]),Array.isArray(t)||t.trackMediaType!==HP.DATA?(Array.isArray(t)||(t=[t]),t.map((e=>e.getTrackId()))):[t.getChannelId()])}),UW=dP({argsMap:(e,t,i,n)=>[\"object\"==typeof t?t.uid:t,i,n]}),VW=dP({argsMap:(e,t,i)=>[t,i]}),xW=dP({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:i}=e;return[null==t?void 0:t.uid,i]}))}),FW=dP({argsMap:(e,t,i,n)=>[\"object\"==typeof t?t.uid:t,i,n]}),BW=dP({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:i}=e;return{uid:null==t?void 0:t.uid,mediaType:i}}))}),jW=dP(),GW=dP(),WW=dP(),HW=dP(),KW=dP(),YW=dP(),zW=dP(),qW=dP(),XW=dP(),JW=dP(),QW=dP(),ZW=dP(),$W=dP(),eH=dP(),tH=dP(),iH=dP(),nH=dP({argsMap:(e,t)=>[t]}),rH=dP(),oH=dP(),sH=dP(),aH=dP(),cH=dP(),dH=dP(),lH=dP(),uH=dP(),hH=dP({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),[JSON.stringify(t)])}),pH=dP(),_H=dP(),EH=dP(),mH=dP(),fH=dP(),SH=dP(),gH=dP({reportResult:!0}),TH=dP(),RH=class extends NO{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var e;return(null===(e=this._config)||void 0===e?void 0:e.role)||\"audience\"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||\"opus\"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return\"Client\"}constructor(e,t){let i;if(super(),iA(this,\"store\",void 0),iA(this,\"_uid\",void 0),iA(this,\"_channelName\",void 0),iA(this,\"_uintUid\",void 0),iA(this,\"_users\",[]),iA(this,\"_config\",void 0),iA(this,\"_clientId\",void 0),iA(this,\"_appId\",void 0),iA(this,\"_sessionId\",null),iA(this,\"_key\",void 0),iA(this,\"_rtmConfig\",{}),iA(this,\"_joinInfo\",void 0),iA(this,\"_gateway\",void 0),iA(this,\"_statsCollector\",void 0),iA(this,\"_configDistribute\",void 0),iA(this,\"_leaveMutex\",void 0),iA(this,\"_publishMutex\",void 0),iA(this,\"_renewTokenMutex\",void 0),iA(this,\"_subscribeMutex\",void 0),iA(this,\"_encryptionMode\",\"none\"),iA(this,\"_encryptionSecret\",null),iA(this,\"_encryptionSalt\",null),iA(this,\"_encryptDataStream\",!1),iA(this,\"_encryptDataStreamKey\",null),iA(this,\"_encryptDataStreamIv\",null),iA(this,\"_proxyServer\",void 0),iA(this,\"_turnServer\",{servers:[],mode:\"auto\"}),iA(this,\"_cloudProxyServerMode\",\"disabled\"),iA(this,\"_isDualStreamEnabled\",!1),iA(this,\"_defaultStreamFallbackType\",void 0),iA(this,\"_lowStreamParameter\",void 0),iA(this,\"_streamFallbackTypeCacheMap\",new Map),iA(this,\"_remoteStreamTypeCacheMap\",new Map),iA(this,\"_axiosCancelSource\",Tw.CancelToken.source()),iA(this,\"_audioVolumeIndicationInterval\",void 0),iA(this,\"_networkQualityInterval\",void 0),iA(this,\"_userOfflineTimeout\",void 0),iA(this,\"_streamRemovedTimeout\",void 0),iA(this,\"_rteDetailInterval\",void 0),iA(this,\"_liveTranscodeStreamingClient\",void 0),iA(this,\"_liveRawStreamingClient\",void 0),iA(this,\"_channelMediaRelayClient\",void 0),iA(this,\"_networkQualitySensitivity\",\"normal\"),iA(this,\"_p2pChannel\",void 0),iA(this,\"_useLocalAccessPoint\",!1),iA(this,\"_setLocalAPVersion\",void 0),iA(this,\"_joinAndNotLeaveYet\",!1),iA(this,\"_numberOfJoinCount\",0),iA(this,\"_joinResponse\",null),iA(this,\"_remoteDefaultVideoStreamType\",void 0),iA(this,\"_inspect\",void 0),iA(this,\"_moderation\",void 0),iA(this,\"_license\",void 0),iA(this,\"_pendingPublishedUsers\",[]),iA(this,\"ntpAlignErrorCount\",0),iA(this,\"remoteInboundOffset\",0),iA(this,\"_peerConnectionState\",void 0),iA(this,\"_pendingRtpCapabilityChange\",void 0),iA(this,\"_fallbackServerInfo\",void 0),iA(this,\"_dualStreamMode\",void 0),iA(this,\"_handleLocalTrackEnable\",((e,t,i)=>{this.publish(e,!1).then(t).catch(i)})),iA(this,\"_handleLocalTrackDisable\",((e,t,i)=>{this.unpublish(e).then(t).catch(i)})),iA(this,\"_handleUserOnline\",(e=>{if(CD(\"BLOCK_LOCAL_CLIENT\")&&zU(e.uid,this.channelName))return void iP.debug(\"[\".concat(e.uid,\"] will be ignored in local\"));this.isStringUID&&\"string\"!=typeof e.uid&&iP.error(\"[\".concat(this._clientId,\"] StringUID is Mixed with UintUID\"));const t=this._users.find((t=>t.uid===e.uid));if(t)t._trust_in_room_=!0,t._is_pre_created&&(t._is_pre_created=!1,this.safeEmit(GO.USER_JOINED,t));else{const t=new aj(e.uid,e.uint_id||e.uid);this._users.push(t),iP.debug(\"[\".concat(this._clientId,\"] user online\"),e.uid),this.store.firstVideoFrameDecoded(t.uid,{userJoinNotify:Date.now()}),this.safeEmit(GO.USER_JOINED,t)}})),iA(this,\"_handleUserOffline\",(e=>{if(CD(\"BLOCK_LOCAL_CLIENT\")&&zU(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));t&&(this._handleRemoveStream(e),this._handleRemoveDataChannels(e),t._audio_pre_subscribed||t._video_pre_subscribed?t._is_pre_created=!0:nN(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),iP.debug(\"[\".concat(this._clientId,\"] user offline\"),e.uid,\"reason:\",e.reason),this.safeEmit(GO.USER_LEAVED,t,e.reason))})),iA(this,\"_handleAddAudioOrVideoStream\",((e,t,i,n,r,o,s,a)=>{if(CD(\"BLOCK_LOCAL_CLIENT\")&&zU(t,this.channelName))return;const c=this._users.find((e=>e.uid===t));if(!c)return void iP.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));iP.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(t,\", type \").concat(e)),this.store.subscribe(c.uid,e,void 0,void 0,void 0,Date.now()),\"video\"===e&&this.store.firstVideoFrameDecoded(c.uid,{videoAddNotify:Date.now()});const d=\"audio\"===e?c.hasAudio:c.hasVideo;c._uintid||(c._uintid=o||t),\"audio\"===e?c._trust_audio_stream_added_state_=!0:c._trust_video_stream_added_state_=!0,\"audio\"===e?(c._audio_added_=!0,void 0!==i&&(c._audioSSRC=i),void 0!==n&&(c._cname=n),s&&(c._audioOrtc=s)):(c._video_added_=!0,void 0!==i&&(c._videoSSRC=i),void 0!==n&&(c._cname=n),void 0!==a&&(c._rtxSsrcId=a),s&&(c._videoOrtc=s)),(\"audio\"===e?c.hasAudio:c.hasVideo)&&!d&&(iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(c.uid,\" published \").concat(e)),this.safeEmit(GO.USER_PUBLISHED,c,e)),\"video\"===e?lP.onGatewayStream(this._sessionId,sP.ON_ADD_VIDEO_STREAM,aP.ON_ADD_VIDEO_STREAM,{peer:o||t,ssrc:c._videoSSRC}):lP.onGatewayStream(this._sessionId,sP.ON_ADD_AUDIO_STREAM,aP.ON_ADD_AUDIO_STREAM,{peer:o||t,ssrc:c._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(c,e,i).then((t=>{if(t&&(iP.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(c.uid,\" after rejoin because SSRC id changed.\")),this._p2pChannel instanceof EG))return this._p2pChannel.unsubscribe(c,e,!0).then((()=>this._subscribe(c,e,!0).catch((e=>{iP.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())}))))})),this._p2pChannel.hasPendingRemoteMedia(c,e)&&(iP.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(c.uid,\" after reconnect.\")),this._subscribe(c,e,!0).catch((e=>{iP.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())})));const l=this._getEncodingName(r);\"video\"===e&&(\"unknown\"===l?this.safeEmit(GO.AV1_DECODABLE_RESULT,!1):Vw()||jw()||(null==l?void 0:l.toLocaleLowerCase())!==AD.av1||BB().then((e=>{CD(\"FLS_ENABLE_AV1_DECODE_DETECT\")&&this.safeEmit(GO.AV1_DECODABLE_RESULT,e),e||this._gateway.downgradeCodec(l)})))})),iA(this,\"_handleRemoveStream\",(e=>{if(CD(\"BLOCK_LOCAL_CLIENT\")&&zU(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));if(!t)return void iP.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_stream)\"));iP.debug(\"[\".concat(this._clientId,\"] stream removed with uid \").concat(e.uid));let i=()=>{};t.hasAudio&&t.hasVideo?i=()=>{iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished audio track\")),this.safeEmit(GO.USER_UNPUBLISHED,t,\"audio\"),iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished video track\")),this.safeEmit(GO.USER_UNPUBLISHED,t,\"video\")}:t.hasVideo?i=()=>{iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished video track\")),this.safeEmit(GO.USER_UNPUBLISHED,t,\"video\")}:t.hasAudio&&(i=()=>{iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished audio track\")),this.safeEmit(GO.USER_UNPUBLISHED,t,\"audio\")}),t._video_pre_subscribed||t._audio_pre_subscribed||(t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,this._p2pChannel instanceof EG&&this._p2pChannel.unsubscribe(t).then((e=>{if(e)return this._gateway.unsubscribe(e,t.uid)})),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0),lP.onGatewayStream(this._sessionId,sP.ON_REMOVE_STREAM,aP.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),i()})),iA(this,\"_handleSetStreamLocalEnable\",((e,t,i)=>{if(CD(\"BLOCK_LOCAL_CLIENT\")&&zU(t,this.channelName))return;const n=this._users.find((e=>e.uid===t));if(!n)return void iP.error(\"[\".concat(this._clientId,\"] can not find target user!(disable_local)\"));iP.debug(\"[\".concat(this._clientId,\"] local \").concat(e,\" \").concat(i?\"enabled\":\"disabled\",\" with uid \").concat(t));const r=\"audio\"===e?n.hasAudio:n.hasVideo;if(\"audio\"===e){n._trust_audio_enabled_state_=!0;const e=n._audio_enabled_;if(n._audio_enabled_=i,n._audio_enabled_===e)return;{const e=n._audio_enabled_?\"enable-local-audio\":\"disable-local-audio\";iP.debug(\"[\".concat(this._clientId,\"] user-info-updated, uid: \").concat(t,\", msg: \").concat(e)),this.safeEmit(GO.USER_INFO_UPDATED,t,e)}}else{n._trust_video_enabled_state_=!0;const e=n._video_enabled_;if(n._video_enabled_=i,n._video_enabled_===e)return;{const e=n._video_enabled_?\"enable-local-video\":\"disable-local-video\";iP.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(t,\", msg: \").concat(e)),this.safeEmit(GO.USER_INFO_UPDATED,t,e)}}const o=\"audio\"===e?n.hasAudio:n.hasVideo;return r!==o?!r&&o?(iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" published \").concat(e)),void this.safeEmit(GO.USER_PUBLISHED,n,e)):(\"video\"===e&&n._videoTrack&&n._videoTrack._destroy(),\"audio\"===e&&n._audioTrack,this._p2pChannel.muteRemote(n,e),iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" unpublished \").concat(e)),void this.safeEmit(GO.USER_UNPUBLISHED,n,e)):void 0})),iA(this,\"_handleMuteStream\",((e,t,i)=>{if(CD(\"BLOCK_LOCAL_CLIENT\")&&zU(e,this.channelName))return;iP.debug(\"[\".concat(this._clientId,\"] receive mute message\"),e,t,i);const n=this._users.find((t=>t.uid===e));if(!n)return void iP.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(e));const r=\"audio\"===t?n.hasAudio:n.hasVideo;if(\"audio\"===t){n._trust_audio_mute_state_=!0;const t=n._audio_muted_;if(n._audio_muted_=i,n._audio_muted_===t)return;{const t=n._audio_muted_?\"mute-audio\":\"unmute-audio\";iP.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(e,\", msg: \").concat(t)),this.safeEmit(GO.USER_INFO_UPDATED,e,t)}}else{n._trust_video_mute_state_=!0;const t=n._video_muted_;if(n._video_muted_=i,n._video_muted_===t)return;{const t=n._video_muted_?\"mute-video\":\"unmute-video\";iP.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(e,\", msg: \").concat(t)),this.safeEmit(GO.USER_INFO_UPDATED,e,t)}}const o=\"audio\"===t?n.hasAudio:n.hasVideo;if(r!==o){if(!r&&o){return(\"audio\"===t?n._audioSSRC:n._videoSSRC)?(iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" published \").concat(t)),void this.safeEmit(GO.USER_PUBLISHED,n,t)):void iP.warning(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" receive \").concat(t,\" unmute message  before add stream message, \").concat(t,\" SSRC doesn't exist yet.\"))}\"video\"===t&&n._videoTrack&&!n._video_pre_subscribed&&n._videoTrack._destroy(),\"audio\"===t&&n._audioTrack,this._p2pChannel.muteRemote(n,t),iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" unpublished \").concat(t)),this.safeEmit(GO.USER_UNPUBLISHED,n,t)}})),iA(this,\"_handleP2PLost\",(async e=>{iP.debug(\"[\".concat(this._clientId,\"] receive p2p lost\"),e),parseInt(e.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():iP.warning(\"[\".concat(this._clientId,\"] P2PLost stream not found\"),e)})),iA(this,\"_handleTokenWillExpire\",(()=>{iP.debug(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeWillExpire\")),this.safeEmit(GO.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),iA(this,\"_handleBeforeUnload\",(e=>{\"beforeunload\"===e.type&&void 0!==e.returnValue&&\"\"!==e.returnValue||(this.leave(),iP.info(\"[\".concat(this._clientId,\"] auto leave onbeforeunload or pagehide\")))})),iA(this,\"_handleUpdateNetworkQuality\",(()=>{if(\"normal\"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.safeEmit(GO.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(GO.NETWORK_QUALITY,e)})),iA(this,\"_handleP2PAddAudioOrVideoStream\",((e,t,i,n)=>{const r=this._users.find((e=>e.uid===t));if(!r)return void iP.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));iP.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(t,\", type \").concat(e)),this.store.subscribe(r.uid,e,void 0,void 0,void 0,Date.now());const o=\"audio\"===e?r.hasAudio:r.hasVideo;\"audio\"===e?r._trust_audio_stream_added_state_=!0:r._trust_video_stream_added_state_=!0,\"audio\"===e?(r._audio_added_=!0,void 0!==i&&(r._audioSSRC=i),void 0!==n&&(r._audioMid=n)):(r._video_added_=!0,void 0!==i&&(r._videoSSRC=i),void 0!==n&&(r._videoMid=n)),(\"audio\"===e?r.hasAudio:r.hasVideo)&&!o&&(iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(r.uid,\" published \").concat(e)),this.safeEmit(GO.USER_PUBLISHED,r,e)),this._p2pChannel.hasPendingRemoteMedia(r,e)&&(iP.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(r.uid,\" after reconnect.\")),this._subscribe(r,e,!0).catch((e=>{iP.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())})))})),this._config=e,this._clientId=t||SN(5,\"client-\"),this.store=new class{constructor(e,t,i,n,r){dO(this,\"state\",void 0),this.state={codec:e,audioCodec:t,mode:i,clientId:n,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,keyMetrics:{publish:[],subscribe:[],firstVideoFrameDecoded:[]},joinChannelServiceRecords:[],cloudProxyServerMode:\"disabled\",useP2P:!1,p2pTransport:_D.Default,hasStartJoinChannel:!1,isABTestSuccess:!1,rteUrl:void 0,rteSid:void 0,autoSubscribe:!1,enableInstantMuteRestore:!1,networkQualityProbe:!1,useDcSignal:!!r}}dispatch(e){this.state=function(e,t){switch(t.type){case ID.SET_SESSION_ID:return uO(uO({},e),{},{sessionId:t.sessionId});case ID.SET_P2P_ID:return uO(uO({},e),{},{p2pId:t.p2pId});case ID.SET_UID:return uO(uO({},e),{},{uid:t.uid});case ID.SET_INT_UID:return uO(uO({},e),{},{intUid:t.intUid});case ID.SET_PUB_ID:return uO(uO({},e),{},{pubId:t.pubId});case ID.KEY_METRIC_CLIENT_CREATED:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{clientCreated:t.metric})});case ID.KEY_METRIC_JOIN_START:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{joinStart:t.metric})});case ID.KEY_METRIC_PRELOAD_START:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{preloadStart:t.metric})});case ID.KEY_METRIC_PRELOAD_END:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{preloadEnd:t.metric})});case ID.KEY_METRIC_JOIN_END:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{joinEnd:t.metric})});case ID.KEY_METRIC_REQUEST_AP_START:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{requestAPStart:t.metric})});case ID.KEY_METRIC_REQUEST_AP_END:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{requestAPEnd:t.metric})});case ID.KEY_METRIC_REQUEST_SUA_END:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{requestSUAEnd:t.metric})});case ID.KEY_METRIC_BEFORE_CONNECT:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{beforeConnect:t.metric})});case ID.KEY_METRIC_PEER_RECEIVER:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{peerReceiver:t.metric})});case ID.KEY_METRIC_SIGNAL_CONNECTED:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{signalConnected:t.metric})});case ID.KEY_METRIC_JOIN_REQ:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{joinReq:t.metric})});case ID.KEY_METRIC_JOIN_REP:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{joinRep:t.metric})});case ID.KEY_METRIC_JOIN_GATEWAY_START:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case ID.KEY_METRIC_JOIN_GATEWAY_END:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case ID.KEY_METRIC_PEER_CONNECTION_START:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case ID.KEY_METRIC_PEER_CONNECTION_END:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case ID.KEY_METRIC_DESCRIPTION_START:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{descriptionStart:t.metric})});case ID.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case ID.KEY_METRIC_ICE_CONNECTION_END:return uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case ID.KEY_METRIC_PUBLISH:{const i=e.keyMetrics.publish,n=i.findIndex((e=>e.trackId===t.metric.trackId));return-1!==n?(i[n]=uO(uO({},i[n]),t.metric),uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{publish:[...i]})})):uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case ID.KEY_METRIC_SUBSCRIBE:{const i=e.keyMetrics.subscribe,n=i.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==n?(i[n]=uO(uO({},i[n]),t.metric),uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{subscribe:[...i]})})):uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case ID.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED:{const i=e.keyMetrics.firstVideoFrameDecoded,n=i.findIndex((e=>e.userId===t.metric.userId));return-1!==n?(i[n]=uO(uO({},i[n]),t.metric),uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{firstVideoFrameDecoded:[...i]})})):uO(uO({},e),{},{keyMetrics:uO(uO({},e.keyMetrics),{},{firstVideoFrameDecoded:[...e.keyMetrics.firstVideoFrameDecoded,t.metric]})})}case ID.RESET_FIRST_VIDEO_FRAME_DECODED:return e.keyMetrics.firstVideoFrameDecoded=[],e;case ID.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case ID.RECORD_JOIN_CHANNEL_SERVICE:return\"number\"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=uO(uO({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case ID.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case ID.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[],firstVideoFrameDecoded:[]},e;case ID.SET_USE_P2P:return uO(uO({},e),{},{useP2P:t.val});case ID.SET_TRANSPORT_TYPE:return uO(uO({},e),{},{p2pTransport:t.val});case ID.SET_RTE_URL:return uO(uO({},e),{},{rteUrl:t.rteUrl});case ID.SET_RTE_SID:return uO(uO({},e),{},{rteSid:t.rteSid});default:return e}}(this.state,e)}get useDcSignal(){return this.state.useDcSignal}set useDcSignal(e){this.state.useDcSignal=e}set autoSubscribe(e){this.state.autoSubscribe=e}get autoSubscribe(){return this.state.autoSubscribe}set enableInstantMuteRestore(e){this.state.enableInstantMuteRestore=e}get enableInstantMuteRestore(){return this.state.enableInstantMuteRestore}set networkQualityProbe(e){this.state.networkQualityProbe=e}get networkQualityProbe(){return this.state.networkQualityProbe}set sessionId(e){this.dispatch({type:ID.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.state.sessionId}set rteUrl(e){this.dispatch({type:ID.SET_RTE_URL,rteUrl:e})}get rteUrl(){return this.state.rteUrl}set rteSid(e){this.dispatch({type:ID.SET_RTE_SID,rteSid:e})}get rteSid(){return this.state.rteSid}set cid(e){this.state.cid=e}get cid(){return this.state.cid}set codec(e){this.state.codec=e}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:ID.SET_P2P_ID,p2pId:e})}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:ID.SET_DC_ID,dcId:e})}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:ID.SET_UID,uid:e})}get uid(){return this.state.uid}set intUid(e){this.dispatch({type:ID.SET_INT_UID,intUid:e})}get intUid(){return this.state.intUid}set pubId(e){this.dispatch({type:ID.SET_PUB_ID,pubId:e})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:ID.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(e){this.dispatch({type:ID.SET_USE_P2P,val:e})}get useP2P(){return this.state.useP2P}set p2pTransport(e){this.dispatch({type:ID.SET_TRANSPORT_TYPE,val:e})}get p2pTransport(){return this.state.p2pTransport}set hasStartJoinChannel(e){this.state.hasStartJoinChannel=e}get hasStartJoinChannel(){return this.state.hasStartJoinChannel}set isABTestSuccess(e){this.state.isABTestSuccess=e}get isABTestSuccess(){return this.state.isABTestSuccess}clientCreated(){this.dispatch({type:ID.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:ID.KEY_METRIC_JOIN_START,metric:Date.now()})}preloadStart(){this.dispatch({type:ID.KEY_METRIC_PRELOAD_START,metric:Date.now()})}preloadEnd(){this.dispatch({type:ID.KEY_METRIC_PRELOAD_END,metric:Date.now()})}joinEnd(){this.dispatch({type:ID.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:ID.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:ID.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}requestSUAEnd(){this.dispatch({type:ID.KEY_METRIC_REQUEST_SUA_END,metric:Date.now()})}beforeConnect(){this.dispatch({type:ID.KEY_METRIC_BEFORE_CONNECT,metric:Date.now()})}peerReceiver(){this.dispatch({type:ID.KEY_METRIC_PEER_RECEIVER,metric:Date.now()})}signalConnected(){this.dispatch({type:ID.KEY_METRIC_SIGNAL_CONNECTED,metric:Date.now()})}joinReq(){this.dispatch({type:ID.KEY_METRIC_JOIN_REQ,metric:Date.now()})}joinRep(){this.dispatch({type:ID.KEY_METRIC_JOIN_REP,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:ID.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:ID.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:ID.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:ID.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}firstVideoFrameDecoded(e,t){this.dispatch({type:ID.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED,metric:uO({userId:e},t)})}descriptionStart(){this.dispatch({type:ID.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:ID.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:ID.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,i,n){this.dispatch({type:ID.KEY_METRIC_PUBLISH,metric:uO(uO({trackId:e,type:t},i&&{publishStart:i}),n&&{publishEnd:n})})}subscribe(e,t,i,n,r,o,s){this.dispatch({type:ID.KEY_METRIC_SUBSCRIBE,metric:uO(uO(uO(uO(uO({userId:e,type:t},i&&{subscribeStart:i}),n&&{subscribeEnd:n}),r&&{firstFrame:r}),o&&{streamAdded:o}),s&&{firstDecoded:s})})}massSubscribe(e,t,i,n){e.forEach((e=>{this.dispatch({type:ID.KEY_METRIC_SUBSCRIBE,metric:uO(uO(uO({userId:e.userId,type:e.type},t&&{subscribeStart:t}),i&&{subscribeEnd:i}),n&&{firstFrame:n})})}))}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,t){\"gateway\"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\\d+)-\\d+-\\d+-(\\d+)/,\"$1-*-*-$2\"))));try{return\"number\"!=typeof t?(this.dispatch({type:ID.RECORD_JOIN_CHANNEL_SERVICE,record:uO(uO({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(t<0||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:ID.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:ID.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:ID.RESET_KEY_METRICS})}resetFirstVideoFrameDecoded(){this.dispatch({type:ID.RESET_FIRST_VIDEO_FRAME_DECODED})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(e){return[]}}}(e.codec,e.audioCodec,e.mode,this._clientId,1===CD(\"SIGNAL_CHANNEL\")),this._leaveMutex=new PN(\"client-leave\",this._clientId),this._publishMutex=new PN(\"client-publish\",this._clientId),this._renewTokenMutex=new PN(\"client-renewtoken\",this._clientId),this._subscribeMutex=new PN(\"client-subscribe\",this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),iP.info(\"[\".concat(this._clientId,\"] Initializing AgoraRTC client v\").concat(hD,\" build: \").concat(SD,\", mode: \").concat(this.mode,\", codec: \").concat(this.codec)),e.clientRoleOptions)try{jO(e.clientRoleOptions),i=Object.assign({},e.clientRoleOptions)}catch(e){iP.warning(\"[\".concat(this._clientId,\"] \").concat(e.toString()))}var n;this._statsCollector=new rj(this.store),this._statsCollector.onStatsException=(e,t,i)=>{iP.warn(\"[\".concat(this._clientId,\"] receive exception msg, code: \").concat(e,\", msg: \").concat(t,\", uid: \").concat(i)),e===ej.VIDEO_ENCODE_FAILED&&this.localTracks.forEach((e=>{e instanceof MM&&CD(\"ENABLE_ENCODE_EXCEPTION\")&&e.findClosestProfile()})),this.safeEmit(GO.EXCEPTION,{code:e,msg:t,uid:i})},this._statsCollector.onUploadPublishDuration=(e,t,i,n)=>{const r=this._users.find((t=>t.uid===e));if(r){this.store.keyMetrics&&(this.store.firstVideoFrameDecoded(r.uid,{peerPublishDuration:i,peerPubStatusMs:Date.now()}),this._p2pChannel.reportVideoFirstFrameRender(r)),lP.peerPublishStatus(this._sessionId,{subscribeElapse:n,audioPublishDuration:t,videoPublishDuration:i,peer:r._uintid})}},this._statsCollector.onVideoCodecChanged=e=>{if(CD(\"VIDEO_STANDARD_BITRATE_VERSION\")&&(\"av1\"===e||\"h265\"===e||\"h264\"===e)){const t=this.localTracks.find((e=>e instanceof kM));t&&1!==t._saveEncodeBitrateRatio&&t.setSaveEncodeBitrateRatio(\"h264\"===e?CD(\"BASELINE_MORE_H264_BITRATE_RATIO\"):void 0)}},this.store.useP2P=\"p2p\"===e.mode,this._gateway=new uB(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:e.websocketRetryConfig||kN,httpRetryConfig:e.httpRetryConfig||kN,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:i}),this._configDistribute=new ZB(this._clientId,this.store),this.store.useP2P?(this._p2pChannel=(n={store:this.store,statsCollector:this._statsCollector},oB(\"P2PChannel\").create(n)),this._handleP2PEvents()):this._p2pChannel=new EG(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(e,t,i,n,r){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];RD(\"JOIN_GATEWAY_USE_443PORT_ONLY\",o),RD(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\",s);const a=this._gateway.signal.websocket;return a instanceof Zx&&(a.use443PortOnly=o,a.tryDoubleDomain=s),async function(e,t,i){vw.get(e)||vw.set(e,[]),yw.get(e)||yw.set(e,t),Iw.get(e)||Iw.set(e,0);const n=vw.get(e),r=yw.get(e);if(!n||!r)throw new Error(\"concurrent: deferQueue or maxConcurrency is null\");if(Iw.get(e)===r){const e=Cw();n.push(e),await e.promise}Iw.set(e,Iw.get(e)+1);for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];const c=await i(...s);return Iw.set(e,Iw.get(e)-1),Iw.get(e)===r-1&&n.length>0&&(n[0].resolve(),n.shift()),0===Iw.get(e)&&(vw.set(e,[]),yw.set(e,0),Iw.set(e,0)),c}(\"client.join\",CD(\"JOIN_MAX_CONCURRENCY\"),this.join.bind(this),e,t,i,n,r)}async join(e,t,i,n,r){const o=++this._numberOfJoinCount;this.store.joinStart(),n&&(this.store.uid=n);const s=\"HTTPS\"===(VN||VN||(VN=(window.location.protocol.split(\":\")[0]||\"\").toUpperCase(),VN)),a=WN()?window.isSecureContext:\"Browser Not Support\";if(!WN()&&!s||!window.isSecureContext){const e=\"The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser\";iP.warning(e)}let c;lP.setAppId(e);try{if(!i&&null!==i)throw new uP(hO.INVALID_PARAMS,\"Invalid token: \".concat(i,\". If you don not use token, set it to null\"));if(i&&SO(i,\"token\",1,2047),SO(e,\"appid\",1,2047),HV(t),n&&KV(n),r)if(\"string\"==typeof r)SO(r,\"optionalInfo\",1,256),c=r;else{if(\"object\"!=typeof r)throw new uP(hO.INVALID_PARAMS,\"Invalid options: options is not a string or object\");{const{autoSubscribe:e,enableInstantMuteRestore:t,networkQualityProbe:i}=r;e&&(_O(e,\"autoSubscribe\"),iP.info(\"[\".concat(this._clientId,\"] join: autoSubscribe: \").concat(e)),this.store.autoSubscribe=e),t&&(_O(t,\"enableInstantMuteRestore\"),iP.info(\"[\".concat(this._clientId,\"] join: enableInstantMuteRestore: \").concat(t)),this.store.enableInstantMuteRestore=t),i&&(_O(i,\"networkQualityProbe\"),iP.info(\"[\".concat(this._clientId,\"] join: networkQualityProbe: \").concat(i)),this.store.networkQualityProbe=i)}}}catch(r){throw lP.reportApiInvoke(gN(),{name:LO.JOIN,options:[e,t,i,n],states:{isHttps:s,isSecureContext:a},tag:kO.TRACER}).onError(r),r}if(this._leaveMutex.isLocked){iP.debug(\"[\".concat(this._clientId,\"] join: waiting leave operation\"));(await this._leaveMutex.lock())(),iP.debug(\"[\".concat(this._clientId,\"] join: continue\"))}if(this._joinAndNotLeaveYet=!0,\"DISCONNECTED\"!==this.connectionState){const r=new uP(hO.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already in connecting/connected state\"));throw lP.reportApiInvoke(gN(),{name:LO.JOIN,options:[e,t,i,n],states:{isHttps:s,isSecureContext:a},tag:kO.TRACER}).onError(r),r}this._gateway.state=\"CONNECTING\",this.store.preloadStart();const d=await WG({appId:e,cname:t,uid:n,stringUid:\"string\"==typeof n?n:void 0,token:i||e,cloudProxyServer:this._cloudProxyServerMode});if(this.store.preloadEnd(),!this._joinAndNotLeaveYet)throw new uP(hO.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));const l=(null==d?void 0:d.sid)||gN();iP.info(\"[\".concat(this._clientId,\"] start join channel \").concat(t,\", join number: \").concat(o)),this._sessionId||(this._sessionId=l,this.store.sessionId=this._sessionId);const u=lP.reportApiInvoke(this._sessionId,{id:this._clientId,name:LO.JOIN,options:[e,t,i,n],states:{isHttps:s,isSecureContext:a},tag:kO.TRACER}),h=vH(vH(vH({},this._rtmConfig),{},{role:this.role,clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:\"string\"!=typeof n?n:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:i||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:c,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!d},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType}),{},{apRequestDetail:CD(\"AP_REQUEST_DETAIL\")||void 0});if(this._useLocalAccessPoint&&(h.setLocalAPVersion=this._setLocalAPVersion),\"string\"==typeof n&&(h.stringUid=n,this._uintUid?(h.uid=this._uintUid,this._uintUid=void 0):h.uid=0),\"none\"!==this._encryptionMode&&this._encryptionSecret){if(h.aesmode=this._encryptionMode,h.aespassword=await(async e=>{const t=function(e){const t=window.atob(\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\\nxQiYDz3vqa6bP29adwIDAQAB\"),i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)i[e]=t.charCodeAt(e);return i}(),i=await window.crypto.subtle.importKey(\"spki\",t,{name:\"RSA-OAEP\",hash:\"SHA-256\"},!0,[\"encrypt\"]),n=bO(e),r=await window.crypto.subtle.encrypt({name:\"RSA-OAEP\"},i,n);return function(e){let t=\"\";for(let i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return window.btoa(t)}(new Uint8Array(r))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new uP(hO.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));this._encryptionSalt&&(h.aessalt=this._encryptionSalt)}if(this._encryptDataStream&&(\"aes-128-gcm2\"===this._encryptionMode||\"aes-256-gcm2\"===this._encryptionMode))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){const e=new TextEncoder,t=CD(\"USE_PURE_ENCRYPTION_MASTER_KEY\")?e.encode(h.appId+this._encryptionSecret+this._encryptionSecret):e.encode(h.appId+h.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(e,t,i){const n=await window.crypto.subtle.importKey(\"raw\",t,\"PBKDF2\",!1,[\"deriveBits\",\"deriveKey\"]),r=\"aes-128-gcm2\"===e?128:256,o=await window.crypto.subtle.deriveBits({name:\"PBKDF2\",iterations:OD,hash:\"SHA-256\",salt:i},n,r+wD);return new Uint8Array(o).subarray(r/8)}(this._encryptionMode,t,lN(this._encryptionSalt)),this._encryptDataStreamKey=await async function(e,t,i){const n=await window.crypto.subtle.importKey(\"raw\",t,\"PBKDF2\",!1,[\"deriveBits\",\"deriveKey\"]),r=\"aes-128-gcm2\"===e?128:256;return await window.crypto.subtle.deriveKey({name:\"PBKDF2\",iterations:OD,hash:\"SHA-256\",salt:i},n,{name:\"AES-GCM\",length:r},!0,[\"encrypt\",\"decrypt\"])}(this._encryptionMode,t,lN(this._encryptionSalt))}else a?iP.warning(\"[\".concat(this._clientId,\"] encrypt datastream must be running in a secure context, fallback to plain data stream\")):iP.warning(\"[\".concat(this._clientId,\"] current browser do not support WebCrypto ,fallback to plain data stream\")),this._encryptDataStream=!1;else this._encryptDataStream=!1,iP.debug(\"[\".concat(this._clientId,\"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream\"));this._startSession(this._sessionId,{channel:t,appId:e,stringUid:h.stringUid});const p=this._sessionId;setTimeout((()=>{\"CONNECTING\"===this.connectionState&&p===this._sessionId&&lP.joinChannelTimeout(this._sessionId,5)}),5e3);try{var _;let n;const r=h.cloudProxyServer;if(Ln(_=[\"proxy3\",\"proxy4\",\"proxy5\"]).call(_,r)){const e=CD(\"PROXY_SERVER_TYPE3\");Array.isArray(e)?h.proxyServer=e[0]:h.proxyServer=e}if(lP.setProxyServer(h.proxyServer),iP.setProxyServer(h.proxyServer),this.store.requestAPStart(),d){if(iP.debug(\"[\".concat(this._clientId,\"] get serverInfo Success from Preload Cache \").concat(h.stringUid?\", \".concat(h.stringUid,\" => \").concat(d.intUid):\"\",\" \")),h.stringUid&&!h.uid&&(h.uid=d.intUid),n={gatewayInfo:d.ap.gatewayInfo},CD(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")&&\"auto\"===h.turnServer.mode)if(0===d.ap.proxyInfo.addresses.length)iP.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\");else{const e=(await pF(d.ap.proxyInfo,d.ap.gatewayInfo.uid)).map((e=>({turnServerURL:e.address,tcpport:e.tcpport||ED.tcpport,udpport:e.udpport||ED.udpport,username:e.username||ED.username,password:e.password||ED.password,forceturn:!1,security:!0})));h.turnServer={mode:\"manual\",servers:e}}qG(d,h.stringUid)}else{if(h.stringUid&&!h.uid){let e;[e,n]=await rp.all([WB(h.stringUid,h,this._axiosCancelSource.token,this._config.httpRetryConfig||kN,this.store).finally((()=>{this.store.requestSUAEnd()})),GB(h,this._axiosCancelSource.token,this._config.httpRetryConfig||kN,!0,this.store).finally((()=>{this.store.requestAPEnd()}))]),iP.debug(\"[\".concat(this._clientId,\"] getUserAccount Success \").concat(h.stringUid,\" => \").concat(e)),h.uid=e,n.gatewayInfo.uid=e,n.gatewayInfo.res.uid=e}else n=await GB(h,this._axiosCancelSource.token,this._config.httpRetryConfig||kN,!0,this.store);if(!this._joinAndNotLeaveYet)throw new uP(hO.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"))}this.store.requestAPEnd(),setTimeout((()=>{this._configDistribute.startGetConfigDistribute(h,this._axiosCancelSource.token),this._configDistribute.on(px.UPDATE_BITRATE_LIMIT,(e=>{this._p2pChannel.updateBitrateLimit(e)})),this._configDistribute.on(px.UPDATE_CLIENT_ROLE_OPTIONS,(e=>{this._setClientRoleOptions(e)})),this._configDistribute.on(px.UPDATE_REMOTE_VIDEO_STREAM_TYPE,(e=>{var t;Ln(t=[0,1,4,5,6,7,8,9]).call(t,e)&&(this.remoteUsers.forEach((t=>{this._remoteStreamTypeCacheMap.get(t.uid)!==e&&this.setRemoteVideoStreamType(t.uid,e)})),this.setRemoteDefaultVideoStreamType(e))})),this._configDistribute.on(px.FALLBACK_TO_HLS,(e=>{e&&this.safeEmit(GO.FALLBACK_TO_HLS,WO.CONFIG)})),this._configDistribute.on(px.UPDATE_VOS_CONFIGURE,(e=>{this._gateway.setConfigure(e).catch((e=>{iP.debug(\"[\".concat(this._clientId,\"] auto set vos config failed\"),e)}))}))}),0),this._key=i||e;const o=n.gatewayInfo,s=h.uid?h.uid:o.uid;this._joinInfo=vH(vH({},h),{},{cid:o.cid,uid:s,vid:o.vid,apResponse:o.res,apGatewayAddress:o.apGatewayAddress,uni_lbs_ip:o.uni_lbs_ip,gatewayAddrs:o.gatewayAddrs}),this.store.intUid=s,this.store.cid=o.cid;const a=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new uP(hO.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));u.onSuccess(a),this._appId=e,this._channelName=h.cname,this._uid=a,this.store.uid=a,setTimeout((()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),!Vw()&&this.store.useDcSignal?(window.addEventListener(\"beforeunload\",this._handleBeforeUnload),window.addEventListener(\"pagehide\",this._handleBeforeUnload)):window.addEventListener(Vw()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload),this._statsCollector.startUpdateStats()}),0);const c=h.stringUid?\"string uid: \".concat(h.stringUid,\",uid: \").concat(h.uid):\"uid: \".concat(this._uid);return iP.info(\"[\".concat(this._clientId,\"] Joining channel success: channel: \").concat(t,\",\").concat(c)),setTimeout((()=>{iP.startUpload()}),5e3),this.store.joinEnd(),E=this,Ln(KU).call(KU,E)||KU.push(E),\"disabled\"===this._cloudProxyServerMode&&pP().supportWebCrypto&&CD(\"ENABLE_PRELOAD\")&&YG(this._joinInfo),this._rteDetailInterval&&(window.clearInterval(this._rteDetailInterval),this._rteDetailInterval=void 0),this._sessionId&&lP.reportRteDetail(this._sessionId),this._rteDetailInterval=window.setInterval((()=>{this._sessionId&&lP.reportRteDetail(this._sessionId)}),CD(\"RTE_DETAIL_REPORT_INTERVAL\")||6e4),a}catch(e){const t=Array.isArray(e)?e[0]:e;throw t&&t.code===hO.OPERATION_ABORTED?iP.warning(\"[\".concat(this._clientId,\"] join number: \").concat(o,\", Joining channel failed, rollback\"),t):iP.error(\"[\".concat(this._clientId,\"] join number: \").concat(o,\", Joining channel failed, rollback\"),t),t.code!==hO.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state=\"DISCONNECTED\",this._reset()),u.onError(t),t}var E}async _joinGateway(){if(!this._joinInfo||!this._key)throw new uP(hO.INVALID_OPERATION);try{return await this._gateway.join(this._joinInfo,this._key,!(\"disabled\"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!CD(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\")))}catch(e){if(e.code===hO.INIT_DATACHANNEL_TIMEOUT){if(this._gateway.leave(!0,VO.FALLBACK),iP.debug(\"[\".concat(this._clientId,\"] join by datachannel timeout, fallback to websocket\")),!this._joinInfo||!this._key)throw new uP(hO.INVALID_OPERATION);return lP.reportApiInvoke(this._sessionId,{name:LO.DATACHANNEL_FAILBACK,options:[this.store.clientId],tag:kO.TRACER}).onSuccess(),await this._joinGateway()}throw e}}async leave(){iP.info(\"[\".concat(this._clientId,\"] Leaving channel\"));const e=()=>{!Vw()&&this.store.useDcSignal?(window.addEventListener(\"beforeunload\",this._handleBeforeUnload),window.addEventListener(\"pagehide\",this._handleBeforeUnload)):window.addEventListener(Vw()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload),this._reset(),function(e){const t=KU.indexOf(e);-1!==t&&KU.splice(t,1)}(this),this._statsCollector.stopUpdateStats()};this.store.useDcSignal||e();const t=await this._leaveMutex.lock();if(\"DISCONNECTED\"===this.connectionState)return iP.info(\"[\".concat(this._clientId,\"] Leaving channel repeated, success\")),void t();await this._gateway.leave(\"CONNECTED\"!==this.connectionState,VO.LEAVE),iP.info(\"[\".concat(this._clientId,\"] Leaving channel success\")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),t(),this.store.useDcSignal&&e()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Array.isArray(e)){if(!(e instanceof lL))return this._publishDataChannel(e);e=[e]}if(0===e.length)throw new uP(hO.INVALID_PARAMS,\"param list is empty\");const i=e;if(\"audience\"===this._gateway.role)throw new uP(hO.INVALID_OPERATION,\"audience can not publish stream\");for(const e of i){if(!(e instanceof lL))throw new uP(hO.INVALID_PARAMS,\"parameter is not local track\");if(!e._enabled&&t)throw new uP(hO.TRACK_IS_DISABLED,\"can not publish a disabled track: \".concat(e.getTrackId()))}iP.info(\"[\".concat(this._clientId,\"] Publishing tracks, id \").concat(i.map((e=>\"\".concat(e.getTrackId(),\" \")))));const n=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),t&&i.forEach((e=>{const t=this._configDistribute.getBitrateLimit();e instanceof kM&&t&&e.setBitrateLimit(t.uplink)}));try{await this._publishHighStream(i),iP.info(\"[\".concat(this._clientId,\"] Publish success, id \").concat(i.map((e=>\"\".concat(e.getTrackId(),\" \")))))}catch(e){throw iP.error(\"[\".concat(this._clientId,\"] publish error\"),e.toString()),e}finally{n()}}async _publishDataChannel(e){if(null==e)throw new uP(hO.INVALID_PARAMS,\"parameter is not local track or datachannel config, config is \".concat(JSON.stringify(e)));mO(e.id,\"id\",0,65535,!0),_O(e.ordered,\"ordered\"),SO(e.metadata,\"metadata\",0,512),iP.info(\"[\".concat(this._clientId,\"] Publishing datachannels, id \").concat(e.id));const t=await this._publishMutex.lock();try{if(-1!==this._p2pChannel.getAllDataChannels().findIndex((t=>t.id===e.id)))throw new uP(hO.INVALID_PARAMS,\"Invalid id: \".concat(e.id,\". If you want to republish the datachannel, unpublish first\"));if(!this._joinInfo||void 0===this._uid)throw new uP(hO.INVALID_OPERATION,\"Can't publish datachannel, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"can not publish datachannel in \".concat(this.connectionState,\" state\"));if(\"auto\"===this._turnServer.mode&&CD(\"FORCE_TURN\")&&!CD(\"TURN_ENABLE_TCP\")&&!CD(\"TURN_ENABLE_UDP\"))throw new uP(hO.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");const i=function(e){return sB(e,!1)}(e),n=await this._p2pChannel.publishDataChannel([i]);if(n.length>0){if(\"number\"!=typeof i._originDataChannelId)throw iP.error(\"[\".concat(this._clientId,\"] can not publish with mediaType datachannel, cannot get RTCDatachannel id\")),new uP(hO.CREATE_DATACHANNEL_ERROR);try{await rp.all(n.map((e=>this._uid&&this._gateway.publishDataChannel(this._uid,e,!0)))),await i._waitTillOpen()}catch(e){if(e.code!==hO.DISCONNECT_P2P)throw e}}return iP.info(\"[\".concat(this._clientId,\"] Publish dataChannels success, id \").concat(i.id)),i}catch(e){throw iP.error(\"[\".concat(this._clientId,\"] publish datachannels error\"),e.toString()),e}finally{t()}}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new uP(hO.INVALID_OPERATION,\"Can't unpublish stream, haven't joined yet!\");let t=[];if(e)if(Array.isArray(e))t=e;else{if(!(e instanceof lL))return this._unpublishDataChannel([e]);t=[e]}else this.store.useP2P||await this._unpublishDataChannel(),t=this._p2pChannel.getAllTracks(!0);iP.info(\"[\".concat(this._clientId,\"] Unpublish tracks, tracks \").concat(t.map((e=>\"\".concat(e.getTrackId(),\" \"))),\" \"));const i=await this._publishMutex.lock();try{if(this.store.useP2P){const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.sendExtensionMessage(Lx.UNPUBLISH,{unpubMsg:e},!0)}else{const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.unpublish(e,this._uid),iP.info(\"[\".concat(this._clientId,\"] Unpublish success,tracks \").concat(t.map((e=>\"\".concat(e.getTrackId())))))}}catch(e){throw iP.error(\"[\".concat(this._clientId,\"] unpublish error\"),e.toString()),e}finally{i&&i()}}async _unpublishDataChannel(e){void 0!==e&&0!==e.length||(e=this._p2pChannel.getAllDataChannels()),iP.info(\"[\".concat(this._clientId,\"] Unpublish datachannels, datachannels \").concat(e.map((e=>\"\".concat(e.id,\" \"))),\" \"));const t=await this._publishMutex.lock();try{const i=await this._p2pChannel.unpublishDataChannel(e);i&&await this._gateway.unpublishDataChannel(i),iP.info(\"[\".concat(this._clientId,\"] Unpublish dataChannel success,dataChannel \").concat(e.map((e=>\"\".concat(e.id)))))}catch(e){throw iP.error(\"[\".concat(this._clientId,\"] unpublish dataChannel error\"),e.toString()),e}finally{t&&t()}}async subscribe(e,t,i){if(!(e instanceof aj)){const t=this.remoteUsers.find((t=>t.uid===e));if(!t)throw new uP(hO.INVALID_REMOTE_USER,\"user is not in the channel\");e=t}return\"datachannel\"===t?this._subscribeDataChannel(e,i):this._subscribe(e,t)}async presubscribe(e,t){if(EO(t,\"mediaType\",[\"audio\",\"video\"]),this.store.useP2P)throw new uP(hO.INVALID_OPERATION,\"can't presub at p2p mode\");if(!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"can't presub when not join\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"can't presub in \".concat(this.connectionState,\" state\"));const i=t===fx.AUDIO,n=t===fx.VIDEO,r=await this._subscribeMutex.lock();try{const{ssrcId:o,ortc:s,rtxSsrcId:a,cname:c,uint_id:d}=await this._gateway.presubscribe(e,t,!0);if(null==o)throw new uP(hO.UNEXPECTED_RESPONSE,\"no ssrc id\");let l=this._users.find((t=>t.uid===e));l||(l=new aj(e,d||e),l._is_pre_created=!0,this._users.push(l)),c&&(l._cname=c),l._uintid||(l._uintid=d||e),i&&(l._audioSSRC=o,l._audio_pre_subscribed=!0,s&&(l._audioOrtc=s)),n&&(l._videoSSRC=o,l._video_pre_subscribed=!0,s&&(l._videoOrtc=s),null!=a&&(l._rtxSsrcId=a)),iP.info(\"[\".concat(this._clientId,\"] presub succeed ssrc: \").concat(o)),await this._p2pChannel.subscribe(l,t,o,a,s);const u=i?l._audioTrack:l._videoTrack;if(!u)throw new uP(hO.UNEXPECTED_ERROR,\"can not find remote track in user\");return i&&(l._trust_audio_stream_added_state_=!0,l._audio_added_=!0),n&&(l._trust_video_stream_added_state_=!0,l._video_added_=!0),u}catch(t){throw iP.error(\"[\".concat(this._clientId,\"] presub user \").concat(e,\" error\"),t),t}finally{r()}}async _subscribeDataChannel(e,t){var i;if(mO(t,\"channelId\",0,65535,!0),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"Can't subscribe datachannel, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"Can't subscribe datachannel in \".concat(this.connectionState,\" state\"));const n=this._users.find((t=>t===e));if(!n)throw iP.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),new uP(hO.INVALID_REMOTE_USER,\"user is not in the channel\");if(!e.hasAudio&&!e.hasVideo&&0===e._dataChannels.length)throw iP.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),new uP(hO.INVALID_REMOTE_USER,\"user is not published\");const r=null===(i=e._dataChannels)||void 0===i?void 0:i.find((e=>e.id===t));if(!r)throw iP.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType datachannel, remote datachannel is not published\")),new uP(hO.REMOTE_USER_IS_NOT_PUBLISHED);const o=await this._subscribeMutex.lock();iP.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: datachannel\"));try{const t=await this._p2pChannel.subscribeDataChannel(e,[r]);if(t&&Ln(t).call(t,r.id))try{var s;if(\"number\"!=typeof r._originDataChannelId)throw iP.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType datachannel, cannot get RTCDatachannel\")),new uP(hO.CREATE_DATACHANNEL_ERROR);const t={id:r.id,datachannelId:r._originDataChannelId,ordered:r.ordered,maxRetransmits:r.maxRetransmits,metadata:null!==(s=r.metadata)&&void 0!==s?s:\"\"};await this._gateway.subscribeDataChannel(e.uid,t,!0),await r._waitTillOpen()}catch(t){if((null==t?void 0:t.code)!==hO.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(e,[r]),t;await this._p2pChannel.unsubscribeDataChannel(e,[r]),this._p2pChannel.setPendingRemoteDataChannel(e,r.id)}return iP.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: datachannel\")),r}finally{o()}}async _p2pSubscribe(e,t,i){if(EO(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));const n=this._users.find((t=>t===e));if(!n){const t=new uP(hO.INVALID_REMOTE_USER,\"user is not in the channel\");throw iP.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),t}if(!e.hasAudio&&!e.hasVideo){const t=new uP(hO.INVALID_REMOTE_USER,\"user is not published\");throw iP.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),t}if(!i&&(\"audio\"===t&&!e.hasAudio||\"video\"===t&&!e.hasVideo)){const i=new uP(hO.REMOTE_USER_IS_NOT_PUBLISHED);throw iP.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType \").concat(t,\", remote track is not published\")),i}const r=await this._subscribeMutex.lock();iP.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: \").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const i=\"audio\"===t?e._audioSSRC:e._videoSSRC,n=\"audio\"===t?e._audioMid:e._videoMid;this.store.subscribe(e.uid,t,Date.now()),this.store.useP2P&&await this._p2pChannel.subscribe(e,t,i,n)}catch(e){throw e}iP.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: \").concat(t)),void 0!==this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{iP.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),e)}));const i=\"audio\"===t?e._audioTrack:e._videoTrack;if(!i)throw new uP(hO.UNEXPECTED_ERROR,\"can not find remote track in user object\");return i}catch(t){throw iP.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\" error\"),t),t}finally{r()}}async _subscribe(e,t,i){if(this.store.useP2P)return this._p2pSubscribe(e,t);if(EO(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));const n=this._users.find((t=>t===e));if(!n){const t=new uP(hO.INVALID_REMOTE_USER,\"user is not in the channel\");throw iP.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),t}if(!e.hasAudio&&!e.hasVideo){const t=new uP(hO.INVALID_REMOTE_USER,\"user is not published\");throw iP.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),t}if(!(i||(\"audio\"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&(\"video\"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const i=new uP(hO.REMOTE_USER_IS_NOT_PUBLISHED);throw iP.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType \").concat(t,\", remote track is not published\")),i}let r=\"audio\"===t?e._audioSSRC:e._videoSSRC,o=\"audio\"===t?e._audioOrtc:e._videoOrtc,s=\"video\"===t?e._rtxSsrcId:void 0,a={stream_type:\"audio\"===t?fx.AUDIO:fx.VIDEO,ssrcId:r};\"video\"===t&&this.store.firstVideoFrameDecoded(e.uid,{subscribeStart:Date.now()});const c=await this._subscribeMutex.lock();iP.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: \").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const i=\"audio\"===t?e._audioSSRC:e._videoSSRC;void 0!==i&&i!==r&&(r=i,o=\"audio\"===t?e._audioOrtc:e._videoOrtc,s=\"video\"===t?e._rtxSsrcId:void 0,a={stream_type:\"audio\"===t?fx.AUDIO:fx.VIDEO,ssrcId:r}),tj.markSubscribeStart(this.store.clientId,r),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,r,s,o);try{this._p2pChannel.isPreSubScribe(r)||await this._gateway.subscribe(e.uid,a,!0)}catch(i){if((null==i?void 0:i.code)!==hO.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),i;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(i){throw this._p2pChannel.reportSubscribeEvent(!1,null==i?void 0:i.code,e,t),i}iP.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: \").concat(t)),void 0!==this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{iP.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),e)}));const i=\"audio\"===t?e._audioTrack:e._videoTrack;if(!i)throw new uP(hO.UNEXPECTED_ERROR,\"can not find remote track in user object\");return\"video\"===t&&(this.store.firstVideoFrameDecoded(e.uid,{subscribeEnd:Date.now()}),this._p2pChannel.reportVideoFirstFrameRender(e)),i}catch(t){throw iP.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\" error\"),t),t}finally{c()}}async massSubscribe(e){if(gO(e,\"subscribeList\"),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));const t=Date.now(),i=new Map,n=await this._subscribeMutex.lock();iP.info(\"[\".concat(this._clientId,\"]start massSubscribe user \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i)})).join(\"; \")));const r=(e=[...e]).map((e=>{let{user:t,mediaType:i}=e;return{user:t,mediaType:i}})),o=await this._p2pChannel.globalLock();try{var s;for(let t=e.length-1;t>=0;t--){const n=e[t],{user:o,mediaType:s}=n;if(EO(s,\"mediaType\",[\"audio\",\"video\"]),!o){const e=new uP(hO.INVALID_PARAMS,\"user property does not exist in subscribeList item\");throw iP.error(\"[\".concat(this._clientId,\"] user property does not exist in subscribeList item\")),e}const a=this._users.find((e=>e===o));if(!a){const i=new uP(hO.INVALID_REMOTE_USER,\"user is not in the channel\");iP.error(\"[\".concat(this._clientId,\"] can not massSubscribe \").concat(o.uid,\", this user is not in the channel\")),r[t].error=i,e.splice(t,1);continue}if(\"audio\"===s&&(!o.hasAudio||void 0===o._audioSSRC)||\"video\"===s&&(!o.hasVideo||void 0===o._videoSSRC)){const i=new uP(hO.REMOTE_USER_IS_NOT_PUBLISHED);iP.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(o.uid,\" with mediaType \").concat(s,\", remote user is not published\")),r[t].error=i,e.splice(t,1);continue}const c=cx.Video|cx.LwoVideo,d=i.get(o);if(d){if(\"video\"===s?d&c:d&cx.Audio){e.splice(t,1),iP.warning(\"[\".concat(this._clientId,\"] repeat massSubscribe user:\").concat(o.uid,\", mediaType:\").concat(s,\" twice\"));continue}i.set(o,d|(\"video\"===s?c:cx.Audio))}else i.set(o,\"video\"===s?c:cx.Audio)}for(let t=e.length-1;t>=0;t--){const n=e[t],{user:r,mediaType:o}=n,s=cx.Video|cx.LwoVideo;if(this._p2pChannel.hasRemoteMedia(r,o)){await this._p2pChannel.unmuteRemoteNoLock(r,o);const n=i.get(r);i.set(r,\"video\"===o?n^s:n^cx.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map((e=>({userId:e.user.uid,type:e.mediaType}))),t);let a=nr(s=Array.from(i.entries())).call(s,((e,t)=>{let[i,n]=t;if(0===n)return e;const r={stream_id:i.uid,stream_type:n};return n&cx.Audio&&(r.audio_ssrc=i._audioSSRC),n&cx.Video&&(r.video_ssrc=i._videoSSRC),e.push(r),e}),[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map((e=>{let{user:t,mediaType:i}=e;return{user:t,mediaType:i,ssrcId:i===fx.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:i===fx.VIDEO?t._rtxSsrcId:void 0}})));const i=new Map;if(a=a.filter((e=>e.video_ssrc&&!this._p2pChannel.isPreSubScribe(e.video_ssrc)||e.audio_ssrc&&!this._p2pChannel.isPreSubScribe(e.audio_ssrc)||!e.video_ssrc&&!e.audio_ssrc)),a.length>0){const e=await this._gateway.subscribeAll(a,!0);((null==e?void 0:e.users)||[]).forEach((e=>{let{stream_id:t,video_error_code:n,audio_error_code:r,error_code:o}=e;(n||r||o)&&i.set(t,{video_error_code:n,audio_error_code:r,error_code:o})}))}if(Array.from(i.entries()).length>0){const e=[];Array.from(i.entries()).forEach((t=>{let[i,n]=t;const r=this.remoteUsers.find((e=>e.uid===i));if(r){let t;n.error_code||n.video_error_code&&n.audio_error_code?t=void 0:n.video_error_code?t=fx.VIDEO:n.audio_error_code&&(t=fx.AUDIO),e.push({user:r,mediaType:t})}})),e.length>0&&await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of r){const t=i.get(e.user.uid);if(t){const i=t.error_code||\"audio\"===e.mediaType&&t.audio_error_code||\"video\"===e.mediaType&&t.video_error_code;if(i){const t=Bx(i);iP.error(\"user:\".concat(e.user.uid,\" mediaType:\").concat(e.mediaType,\" has massSubscribe error \").concat(t.desc)),e.error=new uP(hO.SUBSCRIBE_FAILED,\"code \".concat(i,\": \").concat(t.desc))}}e.error||(\"video\"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(r.filter((e=>!e.error)).map((e=>({userId:e.user.uid,type:e.mediaType}))),void 0,Date.now()),r.forEach((e=>{var i;lP.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(i=e.error)||void 0===i?void 0:i.code)||null,video:e.mediaType===fx.VIDEO,audio:e.mediaType===fx.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===fx.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t),preSsrc:this._p2pChannel.isPreSubScribe(e.user._videoSSRC)},!0)})),iP.info(\"[\".concat(this._clientId,\"] massSubscribe success \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i)})).join(\"; \"))),r}catch(t){throw await this._p2pChannel.massUnsubscribeNoLock(e),t}}finally{o(),n()}}async unsubscribe(e,t,i){if(!(e instanceof aj)){const t=this.remoteUsers.find((t=>t.uid===e));if(!t)throw new uP(hO.INVALID_REMOTE_USER,\"user is not in the channel\");e=t}if(t||this.store.useP2P){if(\"datachannel\"===t)return this._unsubscribeDataChannel(e,i)}else await this._unsubscribeDataChannel(e,i);if(t&&EO(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"Can't unsubscribe stream, haven't joined yet!\");const n=this._users.find((t=>t===e));if(!n){const t=new uP(hO.INVALID_REMOTE_USER,\"user is not in the channel\");throw iP.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\", user is not in the channel\")),t}iP.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(e.uid,\", mediaType: \").concat(t));const r=await this._subscribeMutex.lock();try{if(this.store.useP2P)await this._p2pChannel.unsubscribe(e,t);else{const i=await this._p2pChannel.unsubscribe(e,t);i&&await this._gateway.unsubscribe(i,e.uid),t&&\"audio\"!==t||(e._audio_pre_subscribed=!1),t&&\"video\"!==t||(e._video_pre_subscribed=!1),e._is_pre_created&&nN(this._users,e),iP.info(\"[\".concat(this._clientId,\"] unsubscribe success uid: \").concat(e.uid,\", mediaType: \").concat(t))}}catch(t){if(t.code===hO.DISCONNECT_P2P)return void iP.warning(\"disconnecting p2p, abort unsubscribe request.\");throw iP.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(e.uid,\" error\"),t.toString()),t}finally{r()}}async _unsubscribeDataChannel(e,t){if(t&&mO(t,\"id\",0,65535,!0),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"Can't unsubscribe datachannel, haven't joined yet!\");const i=this._users.find((t=>t===e));if(!i){const t=new uP(hO.INVALID_REMOTE_USER,\"user is not in the channel\");throw iP.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\", user is not in the channel\")),t}let n;if(\"number\"==typeof t){const i=e._dataChannels.find((e=>e.id===t));i&&(n=[i])}else n=e._dataChannels;if(void 0===n){const i=new uP(hO.REMOTE_USER_IS_NOT_PUBLISHED);throw iP.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\" with channelId \").concat(t,\", remote datachannel is not published\")),i}iP.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(e.uid,\", mediaType: datachannel, ids: \").concat(n.map((e=>e.id))));try{const t=await this._p2pChannel.unsubscribeDataChannel(e,n);t&&await this._gateway.unsubscribeDataChannel(t,e.uid),iP.info(\"[\".concat(this._clientId,\"] unsubscribe datachannel success uid: \").concat(e.uid,\", mediaType: datachannel, ids: \").concat(t))}catch(t){if(t.code===hO.DISCONNECT_P2P)return void iP.warning(\"disconnecting p2p, abort unsubscribe request.\");throw iP.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(e.uid,\" error\"),t.toString()),t}}async massUnsubscribe(e){if(gO(e,\"unsubscribeList\"),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"Can't unsubscribeAll stream, haven't joined yet!\");iP.info(\"[\".concat(this._clientId,\"] start massUnsubscribe \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i,\";\")})).join())),e=[...e];const t=new Map;for(let i=e.length-1;i>=0;i--){const{user:n,mediaType:r}=e[i];if(!n){const e=new uP(hO.INVALID_PARAMS,\"user property does not exist in unsubscribeList item\");throw iP.error(\"[\".concat(this._clientId,\"] user property does not exist in unsubscribeList item\")),e}EO(r,\"mediaType\",[\"video\",\"audio\",void 0]);const o=this._users.find((e=>e===n));if(!o){iP.warning(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(n.uid,\", user is not in the channel\")),e.splice(i,1);continue}const s=cx.Video|cx.LwoVideo;if(t.has(n)){const o=t.get(n);let a;switch(r){case\"video\":a=o&s;break;case\"audio\":a=o&cx.Audio;break;default:a=o&(cx.Audio|s)}if(a){iP.warning(\"[\".concat(this._clientId,\"] repeat massUnsubscribe user:\").concat(n.uid,\",mediaType:\").concat(r,\" twice.\")),e.splice(i,1);continue}r?\"audio\"===r?t.set(n,o|cx.Audio):\"video\"===r&&t.set(n,o|s):t.set(n,o|cx.Audio|s)}else r?\"audio\"===r?t.set(n,cx.Audio):\"video\"===r&&t.set(n,s):t.set(n,cx.Audio|s)}try{const t=await this._p2pChannel.massUnsubscribe(e);t&&await this._gateway.massUnsubscribe(t),iP.info(\"[\".concat(this._clientId,\"] massUnsubscribe success \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i,\";\")})).join()))}catch(e){if(e.code===hO.DISCONNECT_P2P)return void iP.warning(\"[\".concat(this._clientId,\"] disconnecting p2p, abort unsubscribe request.\"));throw iP.error(\"[\".concat(this._clientId,\"] massUnsubscribe error\"),e.toString()),e}}async setLowStreamParameter(e){!function(e){if(!e)throw new pO(hO.INVALID_PARAMS);TO(e.width)||fO(e.width,\"streamParameter.width\"),TO(e.height)||fO(e.height,\"streamParameter.height\"),TO(e.framerate)||fO(e.framerate,\"streamParameter.framerate\"),TO(e.bitrate)||mO(e.bitrate,\"streamParameter.bitrate\")}(e),(!e.width&&e.height||e.width&&!e.height)&&iP.warning(\"[\".concat(this._clientId,\"] The width and height parameters take effect only when both are set\")),iP.info(\"[\".concat(this._clientId,\"] set low stream parameter to\"),JSON.stringify(e));const t=this._configDistribute.getLowStreamConfigDistribute();if(t&&t.bitrate&&e.bitrate&&t.bitrate<e.bitrate&&(e.bitrate=t.bitrate),this._lowStreamParameter=e,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(e,Rx.LocalVideoLowTrack)}async setDualStreamMode(e,t){EO(e,\"mode\",[0,1,-1]);try{switch(t&&await this.setLowStreamParameter(t),this._dualStreamMode=e,this._joinInfo?this._gateway.setDualStreamMode(e).catch((e=>{iP.warning(\"[\".concat(this._clientId,\"] set dual stream mode failed\"),e.toString())})):iP.debug(\"[\".concat(this._clientId,\"] haven't joined yet, cache dual stream mode \").concat(e)),e){case BO.AUTO_SIMULCAST_STREAM:iP.info(\"[\".concat(this._clientId,\"] set dual stream mode to \").concat(e));break;case BO.DISABLE_SIMULCAST_STREM:return this.disableDualStream();case BO.ENABLE_SIMULCAST_STREAM:return this.enableDualStream()}}catch(e){throw iP.error(\"[\".concat(this._clientId,\"] set dual stream mode error\"),e.toString()),e}}async enableDualStream(){if(!pP().supportDualStream)throw lP.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new uP(hO.NOT_SUPPORTED,\"Your browser is not support dual stream\");if(this._isDualStreamEnabled)throw new uP(hO.INVALID_OPERATION,\"Dual stream is already enabled\");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(e){throw lP.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e}this._isDualStreamEnabled=!0,this._dualStreamMode=BO.ENABLE_SIMULCAST_STREAM,this._joinInfo&&this._gateway.setDualStreamMode(this._dualStreamMode,!0,!0).catch((e=>{iP.debug(\"[\".concat(this._clientId,\"] try to inform gateway to set dual stream mode to \").concat(this._dualStreamMode,\" ,but failed\"),e.toString())})),lP.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),iP.info(\"[\".concat(this._clientId,\"] enable dual stream\"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)return this._isDualStreamEnabled=!1,void iP.info(\"[\".concat(this._clientId,\"] disable dual stream before join\"));if(this._p2pChannel.getLocalMedia(Rx.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(e){throw lP.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e}this._isDualStreamEnabled=!1,this._dualStreamMode=BO.DISABLE_SIMULCAST_STREM,this._joinInfo&&this._gateway.setDualStreamMode(this._dualStreamMode,!0,!0).catch((e=>{iP.debug(\"[\".concat(this._clientId,\"] try to inform gateway to set dual stream mode to \").concat(this._dualStreamMode,\" ,but failed\"),e.toString())})),lP.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),iP.info(\"[\".concat(this._clientId,\"] disable dual stream\"))}}async setClientRole(e,t){if(function(e){EO(e,\"role\",[\"audience\",\"host\"])}(e),t&&jO(t),\"rtc\"===this.mode||\"p2p\"===this.mode)throw iP.warning(\"[\".concat(this._clientId,\"]\").concat(this.mode,\" mode can not use setClientRole\")),new uP(hO.INVALID_OPERATION,\"\".concat(this.mode,\" mode can not use setClientRole\"));if(t&&t.level&&\"host\"===e)throw new uP(hO.INVALID_OPERATION,\"host mode can not set audience latency level\");if(\"audience\"===e&&this._p2pChannel.hasLocalMedia())throw new uP(hO.INVALID_OPERATION,\"can not set client role to audience when publishing stream\");const i=this._config.role;if(this._joinInfo&&(this._joinInfo.role=e),e!==i&&CD(\"ENABLE_ROLE_SELECT_EDGE\")?(this._gateway.updateClientRole(e,t),this._config.role=e,this._gateway.reconnect(\"recover\",HO.REGIONAL_DISTRIBUTION)):(await this._gateway.setClientRole(e,t),this._config.role=e),iP.info(\"[\".concat(this._clientId,\"] set client role to \").concat(e,\", level: \").concat(t&&t.level)),\"audience\"===i&&\"audience\"!==e&&this._pendingRtpCapabilityChange&&this._p2pChannel instanceof EG){const{video_codec:e}=this._pendingRtpCapabilityChange;this._p2pChannel.updateRemoteRTPCapabilities(e.map((e=>e.toLowerCase())).filter((e=>{var t;return Ln(t=Object.keys(AD)).call(t,e)})))}}async _setClientRoleOptions(e){if(\"rtc\"===this.mode||\"p2p\"===this.mode)return;if(\"audience\"!==this._config.role||this._p2pChannel.hasLocalMedia())return;let t=!1;try{e&&jO(e),await this._gateway.setClientRole(this._config.role,e),t=!0}catch(e){}finally{iP.info(\"[\".concat(this._clientId,\"] set client role options \").concat(t?\"succeed\":\"failed\",\", options is \").concat(e))}}getRemoteInboundOffset(){var e;const t=null===(e=this._p2pChannel.getStats())||void 0===e?void 0:e.audioSend[0];if(!t||!t.timestamp)return 0;const i=t.timestamp-Date.now();return Math.abs(i)>1e3+t.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?i:0}getNtpWallTimeInMs(){return\"visible\"===document.visibilityState&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(e,t){if(SO(e,\"proxyServer\"),!t){if(\"DISCONNECTED\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"Set proxy server before join channel\");if(\"disabled\"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new uP(hO.INVALID_OPERATION,\"You have already set the proxy\")}this._proxyServer=e,lP.setProxyServer(this._proxyServer),iP.setProxyServer(this._proxyServer),iP.info(\"[\".concat(this._clientId,\"] Set proxy server \").concat(t?\"by initialize call\":\"\",\" success.\"))}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if(\"DISCONNECTED\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"Set turn server before join channel\");if(\"disabled\"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new uP(hO.INVALID_OPERATION,\"You have already set the proxy\")}if(xO(e))return this._turnServer={servers:e,mode:\"original-manual\"},void iP.info(\"[\".concat(this._clientId,\"] Set original turnserver \").concat(t?\"by initialize call\":\"\",\" success: \").concat(e.map((e=>e.urls)).join(\",\"),\".\"));e.forEach((e=>FO(e))),this._turnServer={servers:e,mode:\"manual\"},iP.info(\"[\".concat(this._clientId,\"] Set turnserver \").concat(t?\"by initialize call\":\"\",\" success.\"))}setLicense(e){if(\"DISCONNECTED\"!==this.connectionState){throw new uP(hO.INVALID_OPERATION,\"you should set license before join channel\")}if(SO(e,\"license\",32,32),!/^[A-Za-z\\d]+$/.test(e))throw new uP(hO.INVALID_PARAMS,\"license should only contains characters from A-Z a-z 0-9\");this._license=e,iP.info(\"[\".concat(this._clientId,\"] set license success\"),e)}startProxyServer(e){if(\"DISCONNECTED\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"Start proxy server before join channel\");if(this._proxyServer||\"manual\"===this._turnServer.mode||this._useLocalAccessPoint)throw new uP(hO.INVALID_OPERATION,\"You have already set the proxy\");const t=[3,4,5];let i;switch(void 0===e&&(e=3),e){case 1:case 2:throw new uP(hO.NOT_SUPPORTED,\"proxy mode 1/2 has been deprecated and not supported.\");case 3:i=\"proxy3\";break;case 4:i=\"proxy4\";break;case 5:i=\"proxy5\";break;default:throw new uP(hO.INVALID_PARAMS,\"proxy server mode must be \".concat(t.join(\"|\")))}this._cloudProxyServerMode=i,this.store.cloudProxyServerMode=i,iP.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode)}stopProxyServer(){if(\"DISCONNECTED\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"Stop proxy server after leave channel\");lP.setProxyServer(),iP.setProxyServer(),this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\",iP.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:\"auto\",servers:[]}}setLocalAccessPointsV2(e){if(!e.accessPoints)throw new uP(hO.INVALID_PARAMS,\"accessPoints is required.\");gO(e.accessPoints.serverList,\"accessPoints.serverList\"),SO(e.accessPoints.domain,\"accessPoints.domain\");const t=(e,t)=>{mO(e,t,0,65535,!0)};let i=443;if(e.accessPoints.port&&(t(e.accessPoints.port,\"accessPoints.port\"),i=e.accessPoints.port),this._proxyServer||\"disabled\"!==this._cloudProxyServerMode)throw new uP(hO.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");CD(\"CLOSE_AFB_FOR_LOCAL_AP\")&&(RD(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\",!1),RD(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\",!1));const n=/^((\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/,r=e.accessPoints.domain,o=e.accessPoints.serverList.map((e=>n.test(e)?\"\".concat(e.replace(/\\./g,\"-\"),\".\").concat(r):e)),s=o.map((e=>\"\".concat(e,\":\").concat(i)));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,RD(\"WEBCS_DOMAIN\",s),RD(\"WEBCS_DOMAIN_BACKUP_LIST\",s),RD(\"GATEWAY_DOMAINS\",[r]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(gO(e.report.hostname,\"report.hostname\"),RD(\"EVENT_REPORT_DOMAIN\",e.report.hostname[0]),RD(\"EVENT_REPORT_BACKUP_DOMAIN\",e.report.hostname[1]||e.report.hostname[0])):(RD(\"EVENT_REPORT_DOMAIN\",o[0]),RD(\"EVENT_REPORT_BACKUP_DOMAIN\",o[1]||o[0]));let a=6443;e.report&&e.report.port&&(t(e.report.port,\"report.port\"),a=e.report.port),RD(\"STATS_COLLECTOR_PORT\",a),e.report?RD(\"ENABLE_EVENT_REPORT\",!0):RD(\"ENABLE_EVENT_REPORT\",!1);let c=\"\";e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(gO(e.log.hostname,\"log.hostname\"),c=e.log.hostname[0]):c=o[0];let d=6444;e.log&&e.log.port&&(t(e.log.port,\"log.port\"),d=e.log.port),RD(\"LOG_UPLOAD_SERVER\",\"\".concat(c,\":\").concat(d));let l=[];e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(gO(e.cds.hostname,\"cds.hostname\"),l=e.cds.hostname):l=o;let u=443;e.cds&&e.cds.port&&(t(e.cds.port,\"cds.port\"),u=e.cds.port),RD(\"CDS_AP\",l.map((e=>\"\".concat(e,\":\").concat(u)))),e.cds?RD(\"ENABLE_CONFIG_DISTRIBUTE\",!0):RD(\"ENABLE_CONFIG_DISTRIBUTE\",!1),iP.info(\"set local access point v2 success\")}setLocalAccessPoints(e,t){if(gO(e,\"serverList\"),SO(t,\"domain\"),this._proxyServer||\"disabled\"!==this._cloudProxyServerMode)throw new uP(hO.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");const i=/^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;e=e.map((e=>i.test(e)?\"\".concat(e.replace(/\\./g,\"-\"),\".\").concat(t):e)),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,RD(\"WEBCS_DOMAIN\",e),RD(\"WEBCS_DOMAIN_BACKUP_LIST\",e),RD(\"GATEWAY_DOMAINS\",[t]),RD(\"EVENT_REPORT_DOMAIN\",e[0]),RD(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]||e[0]),RD(\"LOG_UPLOAD_SERVER\",\"\".concat(e[0],\":6444\")),iP.info(\"[\".concat(this._clientId,\"] set local access point success\"))}async setRemoteDefaultVideoStreamType(e){if(EO(e,\"streamType\",[0,1,4,5,6,7,8,9]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e){throw iP.error(\"[\".concat(this._clientId,\"] set default remote video stream type error\"),e.toString()),e}else iP.debug(\"[\".concat(this._clientId,\"] haven't joined yet, cache remoteDefaultVideoStreamType \").concat(e))}async setRemoteVideoStreamType(e,t){EO(t,\"streamType\",[0,1,4,5,6,7,8,9]);try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout((()=>{const t=this._users.find((t=>t.uid===e));t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()}),2e3)}catch(e){throw iP.error(\"[\".concat(this._clientId,\"] set remote video stream type error\"),e.toString()),e}iP.info(\"[\".concat(this._clientId,\"] set remote \").concat(e,\" video stream type to \").concat(t)),this._remoteStreamTypeCacheMap.set(e,t)}async setStreamFallbackOption(e,t){EO(t,\"fallbackType\",[0,1,2,3,4,5,6,7,8]);try{await this._gateway.setStreamFallbackOption(e,t)}catch(e){throw iP.error(\"[\".concat(this._clientId,\"] set stream fallback option\"),e.toString()),e}iP.info(\"[\".concat(this._clientId,\"] set remote \").concat(e,\" stream fallback type to \").concat(t)),this._streamFallbackTypeCacheMap.set(e,t)}setEncryptionConfig(e,t,i,n){!function(e){EO(e,\"encryptionMode\",[\"aes-128-xts\",\"aes-256-xts\",\"aes-128-ecb\",\"sm4-128-ecb\",\"aes-128-gcm\",\"aes-256-gcm\",\"aes-128-gcm2\",\"aes-256-gcm2\",\"none\"])}(e),SO(t,\"secret\");const r=[\"aes-128-gcm2\",\"aes-256-gcm2\"];if(Ln(r).call(r,e)){if(!i||!(i instanceof Uint8Array&&32===i.length))throw new uP(hO.INVALID_PARAMS,\"salt must be an Uint8Array and exactly equal to 32 bytes\")}else if(i)throw new uP(hO.INVALID_PARAMS,\"current encrypt mode does not need salt\");if(n){if(_O(n,\"encryptDataStream\"),!Ln(r).call(r,e))throw new uP(hO.INVALID_PARAMS,\"current encrypt mode does not support data stream\");this._encryptDataStream=!0}new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\\\"|{}\\\\[\\\\]])(?=.{8,})\").test(t)||iP.warning(\"The secret is not strong:\\n      The secret must contain at least 1 lowercase alphabetical character,\\n      The secret must contain at least 1 uppercase alphabetical character,\\n      The secret must contain at least 1 numeric character,\\n      The secret must contain at least one special character,\\n      The secret must be eight characters or longer.\\n      \"),this._encryptionMode=e,this._encryptionSecret=t,i&&(this._encryptionSalt=uN(i))}async renewToken(e){if(SO(e,\"token\",1,2047),!this._key||!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"renewToken should not be called before user join\");const t=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const i=await this._renewTokenMutex.lock();try{if(CD(\"USE_NEW_TOKEN\")){iP.debug(\"[\".concat(this._clientId,\"] start renew token with ticket from unilbs\"));const t=await XB(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||kN);iP.debug(\"[\".concat(this._clientId,\"] get ticket from unilbs success\")),await this._gateway.renewToken({token:e,ticket:t})}else iP.debug(\"[\".concat(this._clientId,\"] start renew token without ticket\")),await this._gateway.renewToken({token:e});iP.debug(\"[\".concat(this._clientId,\"] renewToken success\"))}catch(e){throw this._key=t,this._joinInfo.token=t,iP.error(\"[\".concat(this._clientId,\"] renewToken failed\"),e.toString()),e}finally{i()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?iP.warning(\"you have already enabled audio volume indicator!\"):this._audioVolumeIndicationInterval=window.setInterval((()=>{const e=this._p2pChannel.getAudioLevels();this.safeEmit(GO.VOLUME_INDICATOR,e)}),CD(\"AUDIO_VOLUME_INDICATION_INTERVAL\")||2e3)}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}async startLiveStreaming(e,t){if(!t){if(\"h264\"!==this.codec)throw new uP(hO.LIVE_STREAMING_INVALID_RAW_STREAM,\"raw streaming is only support h264\");if(!this._p2pChannel.hasLocalMedia())throw new uP(hO.LIVE_STREAMING_INVALID_RAW_STREAM,\"can not find stream to raw streaming\")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e))throw new uP(hO.LIVE_STREAMING_TASK_CONFLICT);const i=t?YV.TRANSCODE:YV.RAW;return this._createLiveStreamingClient(i).startLiveStreamingTask(e,i)}setLiveTranscoding(e){return this._createLiveStreamingClient(YV.TRANSCODE).setTranscodingConfig(e)}async stopLiveStreaming(e){const t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((t=>t&&t.hasUrl(e)));if(!t.length)throw new uP(hO.INVALID_PARAMS,\"can not find live streaming url to stop\");await rp.all(t.map((t=>t&&t.stopLiveStreamingTask(e))))}async startChannelMediaRelay(e){sj(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}async updateChannelMediaRelay(e){sj(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}async stopChannelMediaRelay(){const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}sendAudioMetadata(e){this._p2pChannel instanceof EG&&this._p2pChannel.addAudioMetadata(e)}async sendStreamMessage(e){var t;let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"can not send data stream, not joined\");if((\"string\"==typeof e||e instanceof Uint8Array)&&(e={payload:e}),\"string\"==typeof e.payload){const t=new TextEncoder;e.payload=t.encode(e.payload)}let n=!1;this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Ln(t=[\"aes-128-gcm2\",\"aes-256-gcm2\"]).call(t,this._encryptionMode)&&(n=!0,e.payload=await async function(e,t,i){var n;const r=nr(n=Array.from(i)).call(n,((e,t)=>e+t),0),o={serverTs:0,seq:DD++,length:i.length,checkSum:r},s=new Uint8Array(IN(r,2)),a=new ArrayBuffer(ND),c=new DataView(a);c.setUint32(0,o.serverTs),c.setUint16(4,o.seq),c.setUint16(6,o.length),c.setUint16(8,o.checkSum);const d=16-i.length%16;i=pN(i,new Uint8Array(d));const l=await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:e,tagLength:bD,additionalData:s},t,i);return pN(new Uint8Array(a),new Uint8Array(l))}(this._encryptDataStreamIv,this._encryptDataStreamKey,e.payload));if(new Blob([e.payload]).size>1024)throw new uP(hO.INVALID_PARAMS,n?\"encrypted stream message out of range.\":\"stream message out of range.\");return this._gateway.signal.request(FV.DATA_STREAM,{payload:uN(e.payload),syncWithAudio:e.syncWithAudio,sendTs:Date.now()-gG},!i)}sendMetadata(e){if(!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"can not send metadata, not joined\");if(new Blob([e]).size>1024)throw new uP(hO.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(FV.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:uN(e)})}async sendCustomReportMessage(e){if(Array.isArray(e)||(e=[e]),e.forEach(rP),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"can not send custom report, not joined\");await lP.sendCustomReportMessage(this._joinInfo.sid,e)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){const e=this._statsCollector.getRemoteNetworkQualityStats();if(CD(\"DELETE_NEQ_AFTER_USER_LEAVE\")){const t=this._users.map((e=>e.uid+\"\"));Object.keys(e).forEach((i=>{Ln(t).call(t,i)||delete e[i]}))}return e}getNetworkQuality(){return this._statsCollector.getNetworkQuality()}async pickSVCLayer(e,t){EO(t.spatialLayer,\"spatialLayer\",[0,1,2,3]),EO(t.temporalLayer,\"temporalLayer\",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(e){throw iP.error(\"[\".concat(this._clientId,\"] pick SVC layer failed\"),e.toString()),e}}async setRTMConfig(e){const{apRTM:t=!1,rtmFlag:i}=e;if(_O(t,\"apRTM\"),mO(i,\"rtmFlag\",0),this._rtmConfig.apRTM=t,this._rtmConfig.rtmFlag=i,iP.debug(\"[\".concat(this._clientId,\"] setRTMconfig \").concat(JSON.stringify(e),\" in \").concat(this.connectionState,\" state\")),(\"CONNECTED\"===this.connectionState||\"RECONNECTING\"===this.connectionState)&&this._joinInfo)return this._joinInfo.apRTM=t,this._joinInfo.rtmFlag=i,this._gateway.setRTM2Flag(i)}_reset(){if(iP.debug(\"[\".concat(this._clientId,\"] reset client\")),function(e){const t=YU.indexOf(e);-1!==t&&YU.splice(t,1)}(this._clientId),this.store.hasStartJoinChannel=!1,this.store.isABTestSuccess=!1,this.store.autoSubscribe=!1,this._pendingRtpCapabilityChange=void 0,this._axiosCancelSource.cancel(),this._axiosCancelSource=Tw.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&zG(this._joinInfo),this._rteDetailInterval&&(window.clearInterval(this._rteDetailInterval),this._rteDetailInterval=void 0,this._sessionId&&lP.reportRteDetail(this._sessionId)),this._fallbackServerInfo=void 0,this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId&&lP.removeSid(this._sessionId),this._sessionId=null,this.store.sessionId=null,this.store.resetFirstVideoFrameDecoded(),this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode=\"none\",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach((e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy(),e._dataChannels&&(e._dataChannels.forEach((e=>e._close())),e._dataChannels.length=0)})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),\"fallback\"===this._cloudProxyServerMode&&(this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\"),this._p2pChannel.reset(),this._publishMutex=new PN(\"client-publish\",this._clientId),this._subscribeMutex=new PN(\"client-subscribe\",this._clientId),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}if(this._moderation)try{this.setImageModeration(!1)}catch(e){}}_startSession(e,t){var i;const n=e||gN();e?iP.debug(\"[\".concat(this._clientId,\"] new Session \").concat(n)):iP.debug(\"[\".concat(this._clientId,\"] renewSession \").concat(this._sessionId,\" => \").concat(n));const r=e?\"\":this._sessionId||\"\";this._sessionId=n,this.store.sessionId=n,lP.addSid(n);const o={lts:(new Date).getTime(),mode:this.mode,buildFormat:1,stringUid:(null==t?void 0:t.stringUid)||(null===(i=this._joinInfo)||void 0===i?void 0:i.stringUid),channelProfile:\"live\"===this.mode?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:r,clientRole:\"audience\"===this.role?2:1,rteUrl:this.store.rteUrl,rteSid:this.store.rteSid};lP.sessionInit(this._sessionId,vH({cname:t.channel,appid:t.appId},o)),this._joinInfo&&(this._joinInfo.sid=n),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=n)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new uP(hO.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));if(\"auto\"===this._turnServer.mode&&CD(\"FORCE_TURN\")&&!CD(\"TURN_ENABLE_TCP\")&&!CD(\"TURN_ENABLE_UDP\"))throw new uP(hO.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");iP.debug(\"[\".concat(this._clientId,\"] publish high stream\"));try{const i=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter);if(this.store.useP2P){const e=(await i.next()).value;if(e){try{await this._gateway.sendExtensionMessage(Lx.PUBLISH,e,!0)}catch(e){throw i.throw(e),e}await i.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{const n=(await i.next()).value;if(n){var t;let e;try{e=await this._gateway.publish(this._uid,n,!0)}catch(e){if(e.code!==hO.DISCONNECT_P2P)throw i.throw(e),e}await i.next((null===(t=e)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof kM&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig).catch((e=>{iP.debug(\"[\".concat(this._clientId,\"] stop setVideoProfile, because websocket is closed\"))})),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,e),(null==t?void 0:t.code)===hO.WS_ABORT)return;throw t}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new uP(hO.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));iP.debug(\"[\".concat(this._clientId,\"] publish low stream\"));const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),i=(await e.next()).value;if(i){var t;let n;try{n=await this._gateway.publish(this._uid,i,!0)}catch(t){if(t.code!==hO.DISCONNECT_P2P)throw e.throw(t),t}e.next((null===(t=n)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,void 0,!0),(null==e?void 0:e.code)===hO.WS_ABORT)return;throw e}}_createLiveStreamingClient(e){const t=()=>{if(!this._joinInfo||!this._appId){return new uP(hO.INVALID_OPERATION,\"can not create live streaming client, please join channel first\").throw()}const e=(t={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},oB(\"LiveStreaming\").create(t));var t;return e.onLiveStreamError=(e,t)=>{lP.reportApiInvoke(this._sessionId,{name:LO.ON_LIVE_STREAM_ERROR,options:[e,t],tag:kO.TRACER}).onSuccess(),this.safeEmit(GO.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{lP.reportApiInvoke(this._sessionId,{name:LO.ON_LIVE_STREAM_WARNING,options:[e,t],tag:kO.TRACER}).onSuccess(),this.safeEmit(GO.LIVE_STREAMING_WARNING,e,t)},e.on(ZV.REQUEST_WORKER_MANAGER_LIST,((e,t,i)=>{if(!this._joinInfo)return i(new uP(hO.INVALID_OPERATION,\"can not find join info to get worker manager\"));(async function(e,t,i,n){const r=CD(\"UAP_AP\").slice(0,CD(\"AJAX_REQUEST_CONCURRENT\")).map((e=>t.proxyServer?\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1?action=uap\"):\"https://\".concat(e,\"/api/v1?action=uap\")));return await bB(r,e,t,i,n)})(e,this._joinInfo,this._axiosCancelSource.token,kN).then(t).catch(i)})),e};return e===YV.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||t(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||t(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo){return new uP(hO.INVALID_OPERATION,\"can not create channel media relay client, please join channel first\").throw()}if(!this._channelMediaRelayClient){const{sendResolutionWidth:t,sendResolutionHeight:i}=this.getLocalVideoStats(),n=(e={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:t,height:i}},oB(\"ChannelMediaRelay\").create(e));n.on(\"state\",(e=>{e===nx.RELAY_STATE_FAILURE&&n&&n.dispose(),this.safeEmit(GO.CHANNEL_MEDIA_RELAY_STATE,e)})),n.on(\"event\",(e=>{this.safeEmit(GO.CHANNEL_MEDIA_RELAY_EVENT,e)})),this._channelMediaRelayClient=n,this._statsCollector.onStatsChanged=(e,t)=>{var i;\"resolution\"===e&&(null===(i=this._channelMediaRelayClient)||void 0===i||i.setVideoProfile(t))}}var e;return this._channelMediaRelayClient}_handleUpdateDataChannel(e,t){const{added:i,deleted:n}=e,r=[];if(t){const e=[];this._users.forEach((t=>{t._dataChannels.forEach((n=>{i.every((e=>e.uid!==t._uintid||e.stream_id!==n.id))&&e.push({uid:t._uintid,stream_id:n.id,ordered:n.ordered,max_retrans_times:n.maxRetransmits,metadata:n.metadata})}))})),e.length>0&&this._handleUpdateDataChannel({added:[],deleted:e})}Array.isArray(i)&&i.length>0&&i.forEach((e=>{const{uid:i,stream_id:n,ordered:o,max_retrans_times:s,metadata:a}=e,c=this._users.find((e=>e._uintid===i));if(!c)return void iP.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_data_channel)\"));iP.debug(\"[\".concat(this._clientId,\"] data_channel added with uid \").concat(i)),Ln(r).call(r,c)||r.push(c),c._uintid||(c._uintid=i);if(!(-1!==c._dataChannels.findIndex((t=>t.id===e.stream_id)))){const e={id:n,ordered:!!o,maxRetransmits:s,metadata:a},i=function(e){return sB(e,!0)}(e);c._dataChannels.push(i),iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(c.uid,\" published datachannel\")),t||this.safeEmit(GO.USER_PUBLISHED,c,\"datachannel\",e)}this._p2pChannel.hasPendingRemoteDataChannel(c,e.stream_id)&&(iP.debug(\"[\".concat(this._clientId,\"] resubscribe datachannel for user \").concat(c.uid,\" after reconnect.\")),this._subscribeDataChannel(c,e.stream_id).catch((e=>{iP.error(\"[\".concat(this._clientId,\"] resubscribe datachannel error\"),e.toString())})))})),t&&(this.safeEmit(GO.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(n)&&n.length>0&&n.forEach((e=>{const{uid:t,stream_id:i}=e,n=this._users.find((e=>e._uintid===t));if(!n)return void iP.error(\"[\".concat(this._clientId,\"] can not find target user!(on_delete_data_channel)\"));const r=n._dataChannels.find((t=>t.id===e.stream_id));r&&(iP.debug(\"[\".concat(this._clientId,\"] data_stream delete with uid \").concat(t)),this._p2pChannel.unsubscribeDataChannel(n,[r]).then((e=>{if(n._dataChannels=n._dataChannels.filter((e=>e!==r)),e)return this._gateway.unsubscribeDataChannel(e,n.uid)})),iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" unpublished datachannel ,id:\").concat(r.id)),this.safeEmit(GO.USER_UNPUBLISHED,n,\"datachannel\",r._config))}))}_getEncodingName(e){var t,i;if(!this._joinResponse)return;const n=null===(t=this._joinResponse.ortc.rtpCapabilities.sendrecv)||void 0===t?void 0:t.videoCodecs;if(!n)return;for(const t of n){var r;if(t.payloadType===e)return null==t||null===(r=t.rtpMap)||void 0===r?void 0:r.encodingName}const o=null===(i=this._joinResponse.ortc.rtpCapabilities.recv)||void 0===i?void 0:i.videoCodecs;if(o)for(const t of o){var s;if(t.payloadType===e)return null==t||null===(s=t.rtpMap)||void 0===s?void 0:s.encodingName}return 0===e?\"unknown\":void 0}_handleRemoveDataChannels(e){const t=this._users.find((t=>t.uid===e.uid));if(t){if(void 0!==t._dataChannels&&t._dataChannels.length>0){iP.debug(\"[\".concat(this._clientId,\"] datachannel removed with uid \").concat(e.uid));const i=()=>{iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished datachannel\")),t._dataChannels.forEach((e=>{this.safeEmit(GO.USER_UNPUBLISHED,t,\"datachannel\",e._config)}))};this._p2pChannel.unsubscribeDataChannel(t,t._dataChannels).then((e=>{if(e)return this._gateway.unsubscribeDataChannel(e,t.uid)})),i()}}else iP.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_datachannel)\"))}_handleGatewayEvents(){this._gateway.on(sx.UPDATE_GATEWAY_CONFIG,(()=>{!function(){let e;try{e=window.localStorage.getItem(\"websdk_ng_global_parameter\")}catch(e){return void iP.error(\"Error loading sdk config\",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),i=Date.now();Object.keys(t).forEach((e=>{const{value:n,type:r,expires:o}=t[e];o&&o<=i||r||qU()||!Object.prototype.hasOwnProperty.call(mD,e)||(yD[e]=n,TD[e]=n,iP.debug(\"Update gateway parameters from config distribute\",e,n))}))}catch(e){iP.error(\"Error update config from local cache\",e.message)}}()})),this._gateway.on(sx.DISCONNECT_P2P,(async()=>{await this._p2pChannel.disconnectForReconnect()})),this._gateway.on(sx.CONNECTION_STATE_CHANGE,((e,t,i)=>{var n;if(i===VO.FALLBACK)return;const r=()=>{this.safeEmit(GO.CONNECTION_STATE_CHANGE,e,t,i)};if(lP.reportApiInvoke(this._sessionId||(null===(n=this._gateway.joinInfo)||void 0===n?void 0:n.sid)||null,{name:LO.CONNECTION_STATE_CHANGE,options:[e,t,i],tag:kO.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:i})),iP.info(\"[\".concat(this._clientId,\"] signal connection state change: \").concat(t,\" -> \").concat(e)),\"DISCONNECTED\"===e)return this._reset(),void r();if(\"RECONNECTING\"===e)this._users.forEach((e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._is_pre_created||(e._audio_pre_subscribed||(e._audioSSRC=void 0,e._audioOrtc=void 0),e._video_pre_subscribed||(e._videoSSRC=void 0,e._videoOrtc=void 0,e._rtxSsrcId=void 0),e._cname=void 0)})),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(\"CONNECTED\"===e){var o;this._streamFallbackTypeCacheMap.forEach(((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch((e=>{iP.warning(\"[\".concat(this._clientId,\"] auto set stream fallback option failed\"),e)}))})),this._remoteStreamTypeCacheMap.forEach(((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch((e=>{iP.warning(\"[\".concat(this._clientId,\"] auto set remote stream type failed\"),e)}))})),CD(\"VOS_CONFIGURE\")&&Array.isArray(CD(\"VOS_CONFIGURE\"))&&CD(\"VOS_CONFIGURE\").length>0&&(this._gateway.setConfigure(CD(\"VOS_CONFIGURE\")).catch((e=>{iP.debug(\"[\".concat(this._clientId,\"] auto set vos config failed\"),e)})),iP.debug(\"[\".concat(this._clientId,\"] ws connected auto set vos config\"))),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(o=this._joinInfo)||void 0===o?void 0:o.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then((()=>{iP.debug(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway connected\"))})).catch((e=>{iP.error(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway failed, \").concat(e))})),this._dualStreamMode&&this._gateway.setDualStreamMode(this._dualStreamMode).catch((e=>{iP.warning(\"[\".concat(this._clientId,\"] auto set dual stream mode failed\"),e)})),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout((()=>{if(\"CONNECTED\"!==this.connectionState)return;this._userOfflineTimeout=void 0;this._users.filter((e=>!e._trust_in_room_)).forEach((e=>{iP.debug(\"[\".concat(this._clientId,\"] user offline timeout, emit user offline \").concat(e.uid)),this._handleUserOffline({uid:e.uid})}))}),3e3),this._streamRemovedTimeout=window.setTimeout((()=>{\"CONNECTED\"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach((e=>{e._trust_audio_mute_state_||(iP.debug(\"[\".concat(this._clientId,\"] auto dispatch audio unmute event \").concat(e.uid)),this._handleMuteStream(e.uid,fx.AUDIO,!1)),e._trust_video_mute_state_||(iP.debug(\"[\".concat(this._clientId,\"] auto dispatch video unmute event \").concat(e.uid)),this._handleMuteStream(e.uid,fx.VIDEO,!1)),e._trust_audio_enabled_state_||(iP.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local audio \").concat(e.uid)),this._handleSetStreamLocalEnable(\"audio\",e.uid,!0)),e._trust_video_enabled_state_||(iP.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local video \").concat(e.uid)),this._handleSetStreamLocalEnable(\"video\",e.uid,!0)),e._trust_video_stream_added_state_||(iP.debug(\"[\".concat(this._clientId,\"] auto dispatch reset video stream added \").concat(e.uid)),this._handleResetAddStream(e,\"video\")),e._trust_audio_stream_added_state_||(iP.debug(\"[\".concat(this._clientId,\"] auto dispatch reset audio stream added \").concat(e.uid)),this._handleResetAddStream(e,\"audio\")),e._video_added_||e._audio_added_||(iP.debug(\"[\".concat(this._clientId,\"] auto dispatch stream remove \").concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))})))}),1e3))}r()})),this._gateway.on(sx.REQUEST_NEW_GATEWAY_LIST,(async(e,t)=>{if(!this._joinInfo)return t(new uP(hO.UNEXPECTED_ERROR,\"can not recover, no join info\"));try{let t;if(this._fallbackServerInfo)t=this._fallbackServerInfo,this._fallbackServerInfo=void 0,this._joinInfo.preload=!1,lP.reportApiInvoke(this._sessionId,{name:LO.VOS_FALLBACK_CN,options:{cur:t.gatewayInfo.gatewayAddrs,prev:this._joinInfo.gatewayAddrs,is_done:!0},tag:kO.TRACER}).onSuccess(),iP.info(\"[\".concat(this._clientId,\"] use fallback cn server info\"));else{const e=await WG(vH(vH({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));e?(t=e.ap,qG(e),this._joinInfo.preload=!0):(t=await jB(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||kN,this.store),this._joinInfo.preload=!1)}this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip);const i=[];t.gatewayInfo.gatewayAddrs.forEach((e=>{let{address:t}=e;const[n,r]=t.split(\":\");this._joinInfo&&this._joinInfo.proxyServer?i.push({proxy:this._joinInfo.proxyServer,host:n,port:r}):i.push({host:n,port:r})})),e(i)}catch(e){t(e)}})),this._gateway.on(sx.NETWORK_QUALITY,(e=>{\"normal\"===this._networkQualitySensitivity&&this.safeEmit(GO.NETWORK_QUALITY,e)})),this._gateway.on(sx.STREAM_TYPE_CHANGE,((e,t)=>{this.safeEmit(GO.STREAM_TYPE_CHANGED,e,t);lP.reportApiInvoke(this._sessionId,{name:LO.STREAM_TYPE_CHANGE,options:[e,t],tag:kO.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))})),this._gateway.isPreSub=()=>\"isPreSub\"in this._p2pChannel&&this._p2pChannel.isPreSub(),this._gateway.isPreallocation=()=>\"isPreallocation\"in this._p2pChannel&&this._p2pChannel.isPreallocation(),this._gateway.on(sx.IS_P2P_DISCONNECTED,(e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)})),this._gateway.on(sx.REQUEST_P2P_CONNECTION_PARAMS,(async(e,t,i)=>{try{let i=await this._p2pChannel.getEstablishParams();i&&\"isPreallocation\"in this._p2pChannel&&this._p2pChannel.isPreallocation()||(i=await this._p2pChannel.startP2PConnection(e)),t(i)}catch(e){i(e)}})),this._gateway.on(sx.JOIN_RESPONSE,((e,t)=>{if(this.store.useP2P)return;let i;this._joinResponse=e,e.attributes?i=e.attributes.userAttributes.preSubSsrcs:iP.debug(\"no attributes in joinResponse\");const n=DF(e.ortc,t,i);this._p2pChannel.connect(n)})),this._gateway.on(sx.PRE_CONNECT_PC,(async(e,t,i)=>{const{candidates:n,fingerprint:r,turnServer:o}=e;if(this._joinInfo&&n.length>0&&!this._p2pChannel.isPlanB){const{cert:e,cid:a}=this._joinInfo.apResponse,c=\"\".concat(a,\"_\").concat(e);if(c.length<4||c.length>256)return void iP.debug(\"[\".concat(this._clientId,\"] ufrag length is not valid, length: \").concat(c.length));await this._p2pChannel.startP2PConnection({turnServer:o,cloudProxyServer:this._joinInfo.cloudProxyServer,isPreallocation:!0});try{var s;t(await this._p2pChannel.connect({iceParameters:{iceUfrag:\"\".concat(a,\"_\").concat(e),icePwd:\"\".concat(a,\"_\").concat(e)},dtlsParameters:{fingerprints:[{hashFunction:\"sha-256\",fingerprint:null!==(s=CD(\"FINGERPRINT\"))&&void 0!==s?s:r}]},candidates:n,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:\"active\",cname:\"o/i14u9pJrxRKAsu\",preallocation:!0}))}catch(e){e.code&&e.code===hO.EXCHANGE_SDP_FAILED&&await this._p2pChannel.startP2PConnection({turnServer:o,cloudProxyServer:this._joinInfo.cloudProxyServer},!0),i(e)}}})),this._gateway.on(sx.VOS_FALLBACK,(e=>{\"fallback_hls\"===e&&this.safeEmit(GO.FALLBACK_TO_HLS,WO.VOSERROR)})),this._gateway.on(sx.RESET_SIGNAL,(()=>{this._p2pChannel instanceof EG&&this._p2pChannel.fallbackConnection(),this._handleGatewaySignalEvents()})),this._gateway.on(sx.DATACHANNEL_FAILBACK,(()=>{lP.reportApiInvoke(this._sessionId,{name:LO.DATACHANNEL_FAILBACK,options:{},tag:kO.TRACER}).onSuccess(),this._joinGateway()}))}_handleGatewaySignalEvents(){this._gateway.signal.on(jV.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(jV.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(jV.ON_ADD_AUDIO_STREAM,(e=>this._handleAddAudioOrVideoStream(\"audio\",e.uid,e.ssrcId,e.cname,e.pt,e.uint_id,e.ortc))),this._gateway.signal.on(jV.ON_ADD_VIDEO_STREAM,(e=>this._handleAddAudioOrVideoStream(\"video\",e.uid,e.ssrcId,e.cname,e.pt,e.uint_id,e.ortc,e.rtxSsrcId))),this._gateway.signal.on(jV.ON_REMOTE_DATASTREAM_UPDATE,(e=>{this._handleUpdateDataChannel(e)})),this._gateway.signal.on(jV.ON_REMOTE_FULL_DATASTREAM_INFO,(e=>{this._handleUpdateDataChannel({added:e.datastreams||[],deleted:[]},!0)})),this._gateway.signal.on(jV.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(jV.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(jV.MUTE_AUDIO,(e=>this._handleMuteStream(e.uid,fx.AUDIO,!0))),this._gateway.signal.on(jV.UNMUTE_AUDIO,(e=>this._handleMuteStream(e.uid,fx.AUDIO,!1))),this._gateway.signal.on(jV.MUTE_VIDEO,(e=>this._handleMuteStream(e.uid,fx.VIDEO,!0))),this._gateway.signal.on(jV.UNMUTE_VIDEO,(e=>this._handleMuteStream(e.uid,fx.VIDEO,!1))),this._gateway.signal.on(jV.RECEIVE_METADATA,(e=>{const t=lN(e.metadata);this.safeEmit(GO.RECEIVE_METADATA,e.uid,t)})),this._gateway.signal.on(jV.ON_DATA_STREAM,(async e=>{var t;if(!e)return;let i=lN(e.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Ln(t=[\"aes-128-gcm2\",\"aes-256-gcm2\"]).call(t,this._encryptionMode)){if(e.payload.length<ND)throw new uP(hO.UNEXPECTED_RESPONSE,\"payload length \".concat(e.payload.length,\" is less than header length \").concat(ND));const t=await async function(e,t,i){const n=i.subarray(0,ND),r=n.slice(8,ND),o=(r[0]<<8)+r[1],s=(n[6]<<8)+n[7],a=await window.crypto.subtle.decrypt({name:\"AES-GCM\",iv:e,tagLength:bD,additionalData:new Uint8Array(IN(o,2))},t,i.subarray(ND));return new Uint8Array(a).subarray(0,s)}(this._encryptDataStreamIv,this._encryptDataStreamKey,i);i=t}let n=0;if(e.ordered||e.syncWithAudio){const t=this._p2pChannel.getStats(),i=this.remoteUsers.find((t=>t.uid===e.uid)),r=null==t?void 0:t.audioRecv.find((e=>e.ssrc===(null==i?void 0:i._audioSSRC)));n=null==r?void 0:r.jitterBufferMs}(null==n||Number.isNaN(n))&&(n=0),IG(vH(vH({},e),{},{payload:i}),n,{id:this._clientId,onStreamMessage:\"function\"==typeof this.onStreamMessage?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})})),this._gateway.signal.on(jV.ON_CRYPT_ERROR,(()=>{dN((()=>{iP.warning(\"[\".concat(this._clientId,\"] on crypt error\")),this.safeEmit(GO.CRYPT_ERROR)}),this._sessionId)})),this._gateway.signal.on(jV.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(jV.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{iP.warning(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeDidExpire, please get new token and join again\")),this._gateway.leave(!0,VO.TOKEN_EXPIRE),this.safeEmit(GO.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()})),this._gateway.signal.on(jV.ON_STREAM_FALLBACK_UPDATE,(e=>{iP.debug(\"[\".concat(this._clientId,\"] stream fallback peerId: \").concat(e.stream_id,\", attr: \").concat(e.stream_type)),this.safeEmit(GO.STREAM_FALLBACK,e.stream_id,1===e.stream_type?\"fallback\":\"recover\")})),this._gateway.signal.on(jV.ENABLE_MULTI_STREAM,(e=>{this._dualStreamMode===BO.AUTO_SIMULCAST_STREAM&&this.enableDualStream().catch((e=>{iP.debug(\"[\".concat(this._clientId,\"] set dual stream mode error\"),e.toString())}))})),this._gateway.signal.on(jV.ON_PUBLISH_STREAM,(e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),iP.info(\"[\".concat(this._clientId,\"] on publish stream, \").concat(JSON.stringify(e))))})),this._gateway.signal.on(jV.ENABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable(\"video\",e.uid,!0)})),this._gateway.signal.on(jV.DISABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable(\"video\",e.uid,!1)})),this._gateway.signal.on(xV.REQUEST_TIMEOUT,((e,t)=>{if(this._joinInfo)switch(e){case FV.PUBLISH:{if(!t)return;const e=t.ortc;if(e){var i,n;const r=e.some((e=>{let{stream_type:t}=e;return t===ox.Audio})),o=e.some((e=>{let{stream_type:t}=e;return t!==ox.Audio})),s=e.some((e=>{let{stream_type:t}=e;return t===ox.Screen||t===ox.ScreenLow}));\"offer\"===t.state&&lP.publish(this._joinInfo.sid,{eventElapse:tj.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:hO.TIMEOUT,audio:r,video:o,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:s,audioName:r?null===(i=e.find((e=>{let{stream_type:t}=e;return t===ox.Audio})))||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId.toString():void 0,videoName:o?null===(n=e.find((e=>{let{stream_type:t}=e;return t!==ox.Audio})))||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId.toString():void 0})}break}case FV.SUBSCRIBE:t&&lP.subscribe(this._joinInfo.sid,{succ:!1,ec:hO.TIMEOUT,audio:t.stream_type===fx.AUDIO,video:t.stream_type===fx.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:tj.measureFromSubscribeStart(this.store.clientId,t.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(t.ssrcId)})}})),this._gateway.signal.on(jV.ON_P2P_OK,(e=>{this.uid,this._uid})),this._gateway.signal.on(jV.ON_PUBLISHED_USER_LIST,(e=>{if(null==e||!e.users)return;CD(\"BLOCK_LOCAL_CLIENT\")&&(e.users=e.users.filter((e=>!zU(e.string_id||e.stream_id,this.channelName))));const t=[],i=[];for(const n of e.users){let e=this._users.find((e=>e._uintid===n.stream_id));e?e._trust_in_room_=!0:(e=new aj(n.string_id||n.stream_id,n.stream_id),this._users.push(e),this.store.firstVideoFrameDecoded(e.uid,{userJoinNotify:Date.now()}),0===this.getListeners(GO.PUBLISHED_USER_LIST).length&&(iP.debug(\"[\".concat(this._clientId,\"] user online\"),n.stream_id),this.safeEmit(GO.USER_JOINED,e)));const r=cx.Audio&n.stream_type,o=(cx.Video|cx.LwoVideo)&n.stream_type,s=0!=(65280&n.stream_type),a=r&&e.hasAudio,c=o&&e.hasVideo;o&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=n.video_ssrc,e._rtxSsrcId=n.video_rtx),r&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=n.audio_ssrc),r&&!a&&0===this.getListeners(GO.PUBLISHED_USER_LIST).length&&(iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" published audio\")),this.safeEmit(GO.USER_PUBLISHED,e,\"audio\")),o&&!c&&0===this.getListeners(GO.PUBLISHED_USER_LIST).length&&(iP.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" published video\")),this.safeEmit(GO.USER_PUBLISHED,e,\"video\")),(r&&!a||o&&!c||s)&&t.push(e),o&&this._p2pChannel.hasPendingRemoteMedia(e,\"video\")&&i.push({user:e,mediaType:\"video\"}),r&&this._p2pChannel.hasPendingRemoteMedia(e,\"audio\")&&i.push({user:e,mediaType:\"audio\"})}i.length>0&&(iP.debug(\"[\".concat(this._clientId,\"] RE massSubscribe after reconnect \").concat(i.map((e=>\"user: \".concat(e.user.uid,\", mediaType: \").concat(e.mediaType))).join(\"; \"),\" \")),this.massSubscribe(i).catch((e=>{iP.error(\"[\".concat(this._clientId,\"] mass resubscribe error\"),e.toString())}))),this.getListeners(GO.PUBLISHED_USER_LIST).length>0?CD(\"ENABLE_DATASTREAM_2\")?this._pendingPublishedUsers=t:(iP.info(\"[\".concat(this._clientId,\"] client emit user-list event, users: \").concat(t.map((e=>e.uid)).join(\", \"))),this.safeEmit(GO.PUBLISHED_USER_LIST,t)):iP.info(\"[\".concat(this._clientId,\"] client not emit user-list event case there is no user-list listener, users: \").concat(t.map((e=>e.uid)).join(\", \")))})),this._gateway.signal.on(jV.ON_RTP_CAPABILITY_CHANGE,(e=>{const{video_codec:t}=e;if(this._p2pChannel instanceof EG){if(\"audience\"===this.role&&CD(\"UPDATE_RTP_CAP_IN_HOST\"))return this._pendingRtpCapabilityChange=e,void iP.debug(\"[\".concat(this._clientId,\"] no need to change rtp capability because of audience, params: \").concat(JSON.stringify(e)));this._p2pChannel.updateRemoteRTPCapabilities(t.map((e=>e.toLowerCase())).filter((e=>{var t;return Ln(t=Object.keys(AD)).call(t,e)})))}})),this._gateway.signal.on(xV.VOS_FALLBACK_PROMISE,(async(e,t,i)=>{if(\"FALLBACKCN\"===e&&CD(\"ENABLE_QUALITY_FALLBACK\")){if(!this._joinInfo)return i(new uP(hO.UNEXPECTED_ERROR,\"can not recover, no join info\"));iP.info(\"[\".concat(this._clientId,\"] try fallback to cn, start request new server info\"));const r=this._joinInfo.apRequestDetail;try{this._joinInfo.apRequestDetail=e;const n=await jB(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||kN,this.store);if(CD(\"QUALITY_FALLBACK_REHEARSAL\"))return lP.reportApiInvoke(this._sessionId,{name:LO.VOS_FALLBACK_CN,options:{cur:n.gatewayInfo.gatewayAddrs,prev:this._joinInfo.gatewayAddrs,is_done:!1},tag:kO.TRACER}).onSuccess(),this._joinInfo.apRequestDetail=r,void i();this._fallbackServerInfo=n,t()}catch(e){var n;const t=null==e||null===(n=e.data)||void 0===n?void 0:n.desc;CD(\"QUALITY_FALLBACK_REHEARSAL\")?(lP.reportApiInvoke(this._sessionId,{name:LO.VOS_FALLBACK_CN,options:{cur:\"failed, errorReason: \"+t||0,prev:this._joinInfo.gatewayAddrs,is_done:!1},tag:kO.TRACER}).onSuccess(),this._joinInfo.apRequestDetail=r):Array.isArray(t)&&Ln(t).call(t,\"request downgrade fallback\")&&this.safeEmit(GO.FALLBACK_TO_HLS,WO.AP_ERROR),i(e)}}else i()}))}_handleP2PEvents(){this._gateway.signal.on(jV.ON_USER_OFFLINE,(()=>{this._p2pChannel.disconnectForReconnect()})),this._gateway.signal.on(Lx.PUBLISH,((e,t,i)=>{const{uid:n}=e;e.forEach((e=>{const{kind:r,ssrcs:o,mid:s,isMuted:a}=e;this._handleP2PAddAudioOrVideoStream(r,n,o[0].ssrcId,s);const c=this._users.find((e=>e.uid===n));return c&&this.store.useP2P?this._p2pChannel.mockSubscribe(c,r,o[0].ssrcId,s).then((()=>{t()})).catch(i):t(),this._handleMuteStream(n,r,!!a)}))})),this._gateway.signal.on(Lx.CALL,(async(e,t,i)=>{if(this.store.useP2P)try{var n;t(await this._p2pChannel.startP2P({turnServer:null===(n=this._joinInfo)||void 0===n?void 0:n.turnServer},e))}catch(e){i(e)}})),this._gateway.signal.on(xV.P2P_CONNECTION,(async e=>{this.store.useP2P&&(await this._p2pChannel).p2pConnect(e)})),this._gateway.signal.on(Lx.UNPUBLISH,(async(e,t,i)=>{if(this.store.useP2P){const{unpubMsg:n,uid:r}=e,o=this._users.find((e=>e.uid===r));if(!o)return iP.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(r)),void t();try{n.forEach((async e=>{let{stream_type:t}=e;const i=t===ox.Audio?fx.AUDIO:fx.VIDEO;await this._p2pChannel.unsubscribe(o,i),this._handleMuteStream(r,i,!0)})),t()}catch(e){i(e)}}})),this._gateway.signal.on(Lx.CONTROL,(async(e,t)=>{const{action:i}=e;switch(i){case Mx.MUTE_LOCAL_VIDEO:this._handleMuteStream(t,fx.VIDEO,!0);break;case Mx.MUTE_LOCAL_AUDIO:this._handleMuteStream(t,fx.AUDIO,!0);break;case Mx.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream(\"video\",t),this._handleMuteStream(t,fx.VIDEO,!1);break;case Mx.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream(\"audio\",t),this._handleMuteStream(t,fx.AUDIO,!1)}})),this._gateway.signal.on(Lx.RESTART_ICE,(async(e,t,i)=>{if(this.store.useP2P)try{const{direction:i,iceParameter:n}=e;if(i!==GV.SEND_ONLY||n){t(await this._p2pChannel.restartICE(i,n))}else this._p2pChannel.handleDisconnect(i),t()}catch(e){i(e)}})),this._gateway.signal.on(Lx.CANDIDATE,(e=>{if(this.store.useP2P){const{candidate:t,direction:i}=e;this._p2pChannel.addRemoteCandidate(t,i)}})),this._p2pChannel.on(vx.RequestP2PRestartICE,(async(e,t,i)=>{try{const{direction:i}=e;t(await this._gateway.sendExtensionMessage(Lx.RESTART_ICE,e,i===GV.SEND_ONLY))}catch(e){i(e)}})),this._p2pChannel.on(vx.LocalCandidate,(e=>{this._gateway.sendExtensionMessage(Lx.CANDIDATE,JSON.stringify(e),!0)})),this._p2pChannel.on(vx.RequestP2PMuteLocal,(async(e,t,i)=>{try{await this._gateway.sendExtensionMessage(Lx.CONTROL,e,!0),t()}catch(e){i(e)}})),this._p2pChannel.on(vx.RequestP2PUnmuteRemote,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===hO.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(vx.RequestP2PMuteRemote,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.muteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===hO.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(vx.StateChange,((e,t)=>{t===Cx.Connected&&this._p2pChannel.republish()}))}_handleP2PChannelEvents(){this._p2pChannel.on(vx.PeerConnectionStateChange,(e=>{const t=this._peerConnectionState;e!==t&&(this.safeEmit(GO.PEERCONNECTION_STATE_CHANGE,e,t),this._peerConnectionState=e)})),this._p2pChannel.on(vx.RequestMuteLocal,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===hO.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(vx.RequestUnmuteLocal,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===hO.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(vx.RequestRePublish,((e,t,i)=>{this.publish(e,!1).then(t).catch(i)})),this._p2pChannel.on(vx.RequestRePublishDataChannel,((e,t,i)=>{rp.all(e.map((async e=>{const t=await this._p2pChannel.publishDataChannel([e]);try{t.forEach((e=>{this._uid&&this._gateway.publishDataChannel(this._uid,e,!0)}))}catch(e){if(e.code!==hO.DISCONNECT_P2P)throw e}}))).then(t).catch(i)})),this._p2pChannel.on(vx.RequestReSubscribe,(async(e,t,i)=>{try{for(const{user:t,kind:i}of e)i===fx.VIDEO?await this.subscribe(t,\"video\"):await this.subscribe(t,\"audio\");t()}catch(e){i(e)}})),this._p2pChannel.on(vx.RequestUpload,((e,t)=>{this._gateway.upload(e,t)})),this._p2pChannel.on(vx.RequestUploadStats,(e=>{this._gateway.uploadWRTCStats(e)})),this._p2pChannel.on(vx.MediaReconnectStart,(e=>{this.safeEmit(GO.MEDIA_RECONNECT_START,e)})),this._p2pChannel.on(vx.MediaReconnectEnd,(e=>{this.safeEmit(GO.MEDIA_RECONNECT_END,e)})),this._p2pChannel.on(vx.NeedSignalRTT,(e=>{e(this._gateway.getSignalRTT())})),this._p2pChannel.on(vx.RequestRestartICE,(async e=>{if(this.store.useP2P)return;const t=await this._p2pChannel.restartICE(e),i=await t.next();if(i.done)return;const n=i.value;let r;try{r=await this._gateway.restartICE({iceParameters:n})}catch(e){return void t.throw(e)}const{iceParameters:o}=function(e){const t=e.iceParameters;return{iceParameters:{iceUfrag:t.iceUfrag,icePwd:t.icePwd}}}(r);await t.next({remoteIceParameters:o})})),this._p2pChannel.on(vx.RequestReconnect,(async()=>{this._gateway.reconnect()})),this._p2pChannel.on(vx.RequestReconnectPC,(async()=>{var e;const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:r,gatewayAddress:o}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:i,rtpCapabilities:n}),s=DF(r,o);await this._p2pChannel.connect(s),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()})),this._p2pChannel.on(vx.RequestUnpublishForReconnectPC,(async(e,t,i)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):i()})),this._p2pChannel.on(vx.P2PLost,(()=>{this.safeEmit(GO.P2P_LOST,this.store.uid)})),this._p2pChannel.on(vx.UpdateVideoEncoder,(e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)})),this._p2pChannel.on(vx.ConnectionTypeChange,(e=>{this.safeEmit(GO.IS_USING_CLOUD_PROXY,e),this._gateway.setUsingProxy(e)})),this._p2pChannel.on(vx.FirstVideoBufferReady,((e,t)=>{this.safeEmit(GO.FIRST_VIDEO_BUFFER_READY,e,t)})),this._p2pChannel.on(vx.FirstVideoPreRender,((e,t)=>{this.safeEmit(GO.FIRST_VIDEO_PRE_RENDER,e,t)})),this._p2pChannel.on(vx.RequestLowStreamParameter,(e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})})),this._p2pChannel.on(vx.QueryClientConnectionState,(e=>{e(this.connectionState)})),this._p2pChannel.on(vx.AudioMetadata,(e=>{this.safeEmit(GO.AUDIO_METADATA,e)})),this._p2pChannel.on(vx.AudioPts,(e=>{this.safeEmit(GO.AUDIO_PTS,Number(e))}))}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if(!this._joinInfo||\"CONNECTED\"!==this.connectionState)throw new uP(hO.INVALID_OPERATION,\"[\".concat(this._clientId,\"] can not create content inspect, please join channel first\"));if(this._inspect)throw new uP(hO.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Inspect content service already in connecting/connected state\"));try{const i=(t={config:e},oB(\"ContentInspect\").create(t));this._inspect=i,this.handleVideoInspectEvents(i);const{appId:n,cname:r,sid:o,token:s,uid:a,cid:c,vid:d}=this._joinInfo;await i.init({appId:n,areaCode:\"\",cname:r,sid:o,token:s,uid:a,cid:c,vid:d?Number(d):0},kN)}catch(e){throw Array.isArray(e)?e[0]:e}var t}handleVideoInspectEvents(e){e.on(Ax.CONNECTION_STATE_CHANGE,((t,i)=>{if(this.safeEmit(GO.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,i),i===yx.CONNECTED){if(\"CONNECTED\"!==this.connectionState)return void this.safeEmit(GO.CONTENT_INSPECT_ERROR,new uP(hO.OPERATION_ABORTED,\"Content inspect was cancelled because it left the channel\"));e.inspectImage()}})),e.on(Ax.INSPECT_RESULT,((e,t)=>{var i;if((null==t?void 0:t.code)===hO.INVALID_OPERATION&&\"DISCONNECTED\"===this.connectionState)return iP.debug(\"Stop inspect content because that has left channel\"),null==this||null===(i=this._inspect)||void 0===i||i.close(),void(this._inspect=void 0);this.safeEmit(GO.CONTENT_INSPECT_RESULT,e,t)})),e.on(Ax.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>\"video\"===e.trackMediaType))[0])}))}async disableContentInspect(){if(!this._inspect)throw new uP(hO.INVALID_OPERATION,\"[\".concat(this._clientId,\"] inspectVideoContent not started\"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}async setImageModeration(e,t){if(_O(e,\"enabled\"),e){if(!t)throw new uP(hO.INVALID_PARAMS,\"config is required\");if(DW(t),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,\"can not create image moderation, please join channel first\");try{if(this._moderation)this._moderation.updateConfig(t);else{const e=(i={config:t},oB(\"ImageModeration\").create(i));this._moderation=e,this.handleImageModerationEvents(e);const{appId:n,cname:r,sid:o,token:s,uid:a,cid:c,vid:d}=this._joinInfo;await e.init({appId:n,areaCode:\"\",cname:r,sid:o,token:s,uid:a,cid:c,vid:d?Number(d):0},kN)}}catch(e){throw Array.isArray(e)?e[0]:e}}else{var i;if(!this._moderation)throw new uP(hO.INVALID_OPERATION,\"[\".concat(this._clientId,\"] image moderation not started\"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}}handleImageModerationEvents(e){e.on(Dx.CONNECTION_STATE_CHANGE,((t,i)=>{if(this.safeEmit(GO.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,t,i),t===Nx.CONNECTED){if(\"CONNECTED\"!==this.connectionState)throw this.setImageModeration(!1),new uP(hO.OPERATION_ABORTED,\"Image moderation was cancelled because it left the channel\");e.inspectImage()}})),e.on(Dx.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>\"video\"===e.trackMediaType))[0])}))}setP2PTransport(e){if(function(e){EO(e,\"transport\",[\"default\",\"auto\",\"relay\",\"sd-rtn\"])}(e),\"p2p\"!==this.mode)throw new uP(hO.INVALID_OPERATION,\"only p2p mode can set p2pTransport\");this.store.p2pTransport=e,iP.info(\"[\".concat(this._clientId,\"] set client p2pTransport to \").concat(e))}getJoinChannelServiceRecords(){return iP.debug(\"getJoinChannelServiceRecords\"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){_O(e,\"enabled\"),RD(\"ENABLE_PUBLISH_AUDIO_FILTER\",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_setRteInfo(e,t){this.store.rteUrl=e,this.store.rteSid=t}_isPreRender(){return\"isPreRender\"in this._p2pChannel&&this._p2pChannel.isPreRender()}_handleResetAddStream(e,t){switch(t){case\"audio\":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case\"video\":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}},DV(RH.prototype,\"leave\",[LW],Object.getOwnPropertyDescriptor(RH.prototype,\"leave\"),RH.prototype),DV(RH.prototype,\"publish\",[kW],Object.getOwnPropertyDescriptor(RH.prototype,\"publish\"),RH.prototype),DV(RH.prototype,\"unpublish\",[MW],Object.getOwnPropertyDescriptor(RH.prototype,\"unpublish\"),RH.prototype),DV(RH.prototype,\"subscribe\",[UW],Object.getOwnPropertyDescriptor(RH.prototype,\"subscribe\"),RH.prototype),DV(RH.prototype,\"presubscribe\",[VW],Object.getOwnPropertyDescriptor(RH.prototype,\"presubscribe\"),RH.prototype),DV(RH.prototype,\"massSubscribe\",[xW],Object.getOwnPropertyDescriptor(RH.prototype,\"massSubscribe\"),RH.prototype),DV(RH.prototype,\"unsubscribe\",[FW],Object.getOwnPropertyDescriptor(RH.prototype,\"unsubscribe\"),RH.prototype),DV(RH.prototype,\"massUnsubscribe\",[BW],Object.getOwnPropertyDescriptor(RH.prototype,\"massUnsubscribe\"),RH.prototype),DV(RH.prototype,\"setLowStreamParameter\",[jW],Object.getOwnPropertyDescriptor(RH.prototype,\"setLowStreamParameter\"),RH.prototype),DV(RH.prototype,\"setDualStreamMode\",[GW],Object.getOwnPropertyDescriptor(RH.prototype,\"setDualStreamMode\"),RH.prototype),DV(RH.prototype,\"enableDualStream\",[WW],Object.getOwnPropertyDescriptor(RH.prototype,\"enableDualStream\"),RH.prototype),DV(RH.prototype,\"disableDualStream\",[HW],Object.getOwnPropertyDescriptor(RH.prototype,\"disableDualStream\"),RH.prototype),DV(RH.prototype,\"setClientRole\",[KW],Object.getOwnPropertyDescriptor(RH.prototype,\"setClientRole\"),RH.prototype),DV(RH.prototype,\"_setClientRoleOptions\",[YW],Object.getOwnPropertyDescriptor(RH.prototype,\"_setClientRoleOptions\"),RH.prototype),DV(RH.prototype,\"setProxyServer\",[zW],Object.getOwnPropertyDescriptor(RH.prototype,\"setProxyServer\"),RH.prototype),DV(RH.prototype,\"setTurnServer\",[qW],Object.getOwnPropertyDescriptor(RH.prototype,\"setTurnServer\"),RH.prototype),DV(RH.prototype,\"setLicense\",[XW],Object.getOwnPropertyDescriptor(RH.prototype,\"setLicense\"),RH.prototype),DV(RH.prototype,\"startProxyServer\",[JW],Object.getOwnPropertyDescriptor(RH.prototype,\"startProxyServer\"),RH.prototype),DV(RH.prototype,\"stopProxyServer\",[QW],Object.getOwnPropertyDescriptor(RH.prototype,\"stopProxyServer\"),RH.prototype),DV(RH.prototype,\"setLocalAccessPointsV2\",[ZW],Object.getOwnPropertyDescriptor(RH.prototype,\"setLocalAccessPointsV2\"),RH.prototype),DV(RH.prototype,\"setLocalAccessPoints\",[$W],Object.getOwnPropertyDescriptor(RH.prototype,\"setLocalAccessPoints\"),RH.prototype),DV(RH.prototype,\"setRemoteDefaultVideoStreamType\",[eH],Object.getOwnPropertyDescriptor(RH.prototype,\"setRemoteDefaultVideoStreamType\"),RH.prototype),DV(RH.prototype,\"setRemoteVideoStreamType\",[tH],Object.getOwnPropertyDescriptor(RH.prototype,\"setRemoteVideoStreamType\"),RH.prototype),DV(RH.prototype,\"setStreamFallbackOption\",[iH],Object.getOwnPropertyDescriptor(RH.prototype,\"setStreamFallbackOption\"),RH.prototype),DV(RH.prototype,\"setEncryptionConfig\",[nH],Object.getOwnPropertyDescriptor(RH.prototype,\"setEncryptionConfig\"),RH.prototype),DV(RH.prototype,\"renewToken\",[rH],Object.getOwnPropertyDescriptor(RH.prototype,\"renewToken\"),RH.prototype),DV(RH.prototype,\"enableAudioVolumeIndicator\",[oH],Object.getOwnPropertyDescriptor(RH.prototype,\"enableAudioVolumeIndicator\"),RH.prototype),DV(RH.prototype,\"startLiveStreaming\",[sH],Object.getOwnPropertyDescriptor(RH.prototype,\"startLiveStreaming\"),RH.prototype),DV(RH.prototype,\"setLiveTranscoding\",[aH],Object.getOwnPropertyDescriptor(RH.prototype,\"setLiveTranscoding\"),RH.prototype),DV(RH.prototype,\"stopLiveStreaming\",[cH],Object.getOwnPropertyDescriptor(RH.prototype,\"stopLiveStreaming\"),RH.prototype),DV(RH.prototype,\"startChannelMediaRelay\",[dH],Object.getOwnPropertyDescriptor(RH.prototype,\"startChannelMediaRelay\"),RH.prototype),DV(RH.prototype,\"updateChannelMediaRelay\",[lH],Object.getOwnPropertyDescriptor(RH.prototype,\"updateChannelMediaRelay\"),RH.prototype),DV(RH.prototype,\"stopChannelMediaRelay\",[uH],Object.getOwnPropertyDescriptor(RH.prototype,\"stopChannelMediaRelay\"),RH.prototype),DV(RH.prototype,\"sendCustomReportMessage\",[hH],Object.getOwnPropertyDescriptor(RH.prototype,\"sendCustomReportMessage\"),RH.prototype),DV(RH.prototype,\"pickSVCLayer\",[pH],Object.getOwnPropertyDescriptor(RH.prototype,\"pickSVCLayer\"),RH.prototype),DV(RH.prototype,\"setRTMConfig\",[_H],Object.getOwnPropertyDescriptor(RH.prototype,\"setRTMConfig\"),RH.prototype),DV(RH.prototype,\"enableContentInspect\",[EH],Object.getOwnPropertyDescriptor(RH.prototype,\"enableContentInspect\"),RH.prototype),DV(RH.prototype,\"disableContentInspect\",[mH],Object.getOwnPropertyDescriptor(RH.prototype,\"disableContentInspect\"),RH.prototype),DV(RH.prototype,\"setImageModeration\",[fH],Object.getOwnPropertyDescriptor(RH.prototype,\"setImageModeration\"),RH.prototype),DV(RH.prototype,\"setP2PTransport\",[SH],Object.getOwnPropertyDescriptor(RH.prototype,\"setP2PTransport\"),RH.prototype),DV(RH.prototype,\"getJoinChannelServiceRecords\",[gH],Object.getOwnPropertyDescriptor(RH.prototype,\"getJoinChannelServiceRecords\"),RH.prototype),DV(RH.prototype,\"setPublishAudioFilterEnabled\",[TH],Object.getOwnPropertyDescriptor(RH.prototype,\"setPublishAudioFilterEnabled\"),RH.prototype),RH);function IH(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:\"vp8\",audioCodec:\"opus\",mode:\"rtc\"};const i=SN(5,\"client-\"),n=lP.reportApiInvoke(null,{id:i,name:LO.CREATE_CLIENT,options:[t],tag:kO.TRACER});try{!function(e){EO(e.codec,\"config.codec\",[\"vp8\",\"vp9\",\"av1\",\"h264\",\"h265\"]),EO(e.mode,\"config.mode\",[\"rtc\",\"live\",\"p2p\"]),void 0!==e.audioCodec&&EO(e.audioCodec,\"config.audioCodec\",[\"opus\",\"pcmu\",\"pcma\",\"g722\"]),void 0!==e.proxyServer&&SO(e.proxyServer,\"config.proxyServer\",1,1e4),void 0!==e.turnServer&&FO(e.turnServer),void 0!==e.httpRetryConfig&&MO(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&MO(e.websocketRetryConfig)}(t)}catch(e){throw n.onError(e),e}return(Xw(16,0,!0)||Jw(16,0,!0))&&(\"vp9\"===t.codec&&(t.codec=\"vp8\",iP.debug(\"browser not support vp9, force use vp8\")),RD(\"UNSUPPORTED_VIDEO_CODEC\",[\"vp9\"])),void 0===t.audioCodec&&(t.audioCodec=\"opus\"),n.onSuccess(),new yH(vH(vH({forceWaitGatewayResponse:!0},t),{},{role:Ln(e=[\"rtc\",\"p2p\"]).call(e,t.mode)?\"host\":t.role||\"audience\"}),i)}function AH(){let e=!1;const t=Dw();return(t.name===bw.CHROME&&Number(t.version)>=58&&(\"WebKit\"!==Ow.engine.name||function(){const e=Dw();if(Mw()){if(e.os===Aw.MAC_OS)return!0;if(e.os===Aw.IOS){const e=Ow.os.version&&Ow.os.version.split(\".\");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}())||t.name===bw.FIREFOX&&Number(t.version)>=56||t.name===bw.OPERA&&Number(t.version)>=45||t.name===bw.SAFARI&&Number(t.version)>=11||\"WebKit\"===t.name&&(jw()||iO())&&t.osVersion&&Number(t.osVersion.split(\".\")[0])>=11||nO()||Dw().name===bw.QQ)&&(e=!0),e}class bH{constructor(e,t){iA(this,\"id\",0),iA(this,\"element\",void 0),iA(this,\"peerPair\",void 0),iA(this,\"context\",void 0),iA(this,\"audioPlayerElement\",void 0),iA(this,\"audioTrack\",void 0),bH.count+=1,this.id=bH.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement(\"audio\");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const i=\"offer\"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(i),\"complete\"===e.iceGatheringState?e.localDescription:new rp((t=>{e.onicegatheringstatechange=()=>{\"complete\"===e.iceGatheringState&&t(e.localDescription)}}))},t=async(e,t)=>await e.setRemoteDescription(t);try{const i=await e(this.peerPair[0],\"offer\");await t(this.peerPair[1],i);const n=await e(this.peerPair[1],\"answer\");await t(this.peerPair[0],n)}catch(e){throw new uP(hO.LOCAL_AEC_ERROR,e.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination();this.context.createMediaElementSource(e).connect(t)}catch(e){throw new uP(hO.LOCAL_AEC_ERROR,e.toString()).print()}if(!t){throw new uP(hO.LOCAL_AEC_ERROR,\"no dest node when local aec\").print()}const i=t.stream.getAudioTracks()[0];return this.audioTrack=i,i}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){iP.debug(\"close echo cancellation unit, id is\",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((e=>{e.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}var wH,OH;iA(bH,\"count\",0);const NH=window.AudioContext||window.webkitAudioContext;const DH=new(wH=dP({report:lP}),DV((OH=class{constructor(){iA(this,\"units\",[]),iA(this,\"context\",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return iP.debug(\"the system does not need to process local aec\"),-1;this.context||(this.context=new NH);let t=this.units.find((t=>t&&t.getElement()===e));return t||(t=new bH(e,this.context),this.units.push(t)),t.startEchoCancellation(),iP.debug(\"start processing local audio echo cancellation, id is\",t.id),t.id}_doesEnvironmentNeedAEC(){return Dw().name!==bw.SAFARI}}).prototype,\"processExternalMediaAEC\",[wH],Object.getOwnPropertyDescriptor(OH.prototype,\"processExternalMediaAEC\"),OH.prototype),OH);function PH(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function LH(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?PH(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):PH(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const kH=window||document;function MH(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!kH)return;const i=RJ._cspEventHandlerPointer;if(i&&t)return void console.error(i,t);const n=e=>{if(!(e&&e.blockedURI&&(RJ.onSecurityPolicyViolation||RJ.getListeners(Ox.SECURITY_POLICY_VIOLATION).length>0)))return;const t=e.blockedURI;CD(\"CSP_DETECTED_HOSTNAME_LIST\").some((e=>Ln(t).call(t,e)))&&(RJ.onSecurityPolicyViolation&&\"function\"==typeof RJ.onSecurityPolicyViolation&&RJ.onSecurityPolicyViolation(e),RJ.getListeners(Ox.SECURITY_POLICY_VIOLATION).length>0&&RJ.safeEmit(Ox.SECURITY_POLICY_VIOLATION,e))};i&&kH.removeEventListener(\"securitypolicyviolation\",i),(t||e&&\"function\"==typeof e||RJ.getListeners(Ox.SECURITY_POLICY_VIOLATION).length>0)&&kH.addEventListener(\"securitypolicyviolation\",n),RJ._cspEventHandlerPointer=n}var UH=l,VH=rT,xH=RegExp.prototype,FH=function(e){return e===xH||UH(xH,e)?VH(e):e.flags},BH=i(FH);function jH(e){let t=e.length;for(;--t>=0;)e[t]=0}const GH=256,WH=286,HH=30,KH=15,YH=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),zH=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),qH=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),XH=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JH=new Array(576);jH(JH);const QH=new Array(60);jH(QH);const ZH=new Array(512);jH(ZH);const $H=new Array(256);jH($H);const eK=new Array(29);jH(eK);const tK=new Array(HH);function iK(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}let nK,rK,oK;function sK(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}jH(tK);const aK=e=>e<256?ZH[e]:ZH[256+(e>>>7)],cK=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},dK=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,cK(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},lK=(e,t,i)=>{dK(e,i[2*t],i[2*t+1])},uK=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},hK=(e,t,i)=>{const n=new Array(16);let r,o,s=0;for(r=1;r<=KH;r++)s=s+i[r-1]<<1,n[r]=s;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=uK(n[t]++,t))}},pK=e=>{let t;for(t=0;t<WH;t++)e.dyn_ltree[2*t]=0;for(t=0;t<HH;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},_K=e=>{e.bi_valid>8?cK(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},EK=(e,t,i,n)=>{const r=2*t,o=2*i;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]},mK=(e,t,i)=>{const n=e.heap[i];let r=i<<1;for(;r<=e.heap_len&&(r<e.heap_len&&EK(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!EK(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n},fK=(e,t,i)=>{let n,r,o,s,a=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+a++],n+=(255&e.pending_buf[e.sym_buf+a++])<<8,r=e.pending_buf[e.sym_buf+a++],0===n?lK(e,r,t):(o=$H[r],lK(e,o+GH+1,t),s=YH[o],0!==s&&(r-=eK[o],dK(e,r,s)),n--,o=aK(n),lK(e,o,i),s=zH[o],0!==s&&(n-=tK[o],dK(e,n,s)))}while(a<e.sym_next);lK(e,256,t)},SK=(e,t)=>{const i=t.dyn_tree,n=t.stat_desc.static_tree,r=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,a,c,d=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<o;s++)0!==i[2*s]?(e.heap[++e.heap_len]=d=s,e.depth[s]=0):i[2*s+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=d<2?++d:0,i[2*c]=1,e.depth[c]=0,e.opt_len--,r&&(e.static_len-=n[2*c+1]);for(t.max_code=d,s=e.heap_len>>1;s>=1;s--)mK(e,i,s);c=o;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],mK(e,i,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,i[2*c]=i[2*s]+i[2*a],e.depth[c]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,i[2*s+1]=i[2*a+1]=c,e.heap[1]=c++,mK(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,n=t.max_code,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,l,u,h,p,_,E=0;for(h=0;h<=KH;h++)e.bl_count[h]=0;for(i[2*e.heap[e.heap_max]+1]=0,d=e.heap_max+1;d<573;d++)l=e.heap[d],h=i[2*i[2*l+1]+1]+1,h>c&&(h=c,E++),i[2*l+1]=h,l>n||(e.bl_count[h]++,p=0,l>=a&&(p=s[l-a]),_=i[2*l],e.opt_len+=_*(h+p),o&&(e.static_len+=_*(r[2*l+1]+p)));if(0!==E){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,E-=2}while(E>0);for(h=c;0!==h;h--)for(l=e.bl_count[h];0!==l;)u=e.heap[--d],u>n||(i[2*u+1]!==h&&(e.opt_len+=(h-i[2*u+1])*i[2*u],i[2*u+1]=h),l--)}})(e,t),hK(i,d,e.bl_count)},gK=(e,t,i)=>{let n,r,o=-1,s=t[1],a=0,c=7,d=4;for(0===s&&(c=138,d=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=s,s=t[2*(n+1)+1],++a<c&&r===s||(a<d?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=r,0===s?(c=138,d=3):r===s?(c=6,d=3):(c=7,d=4))},TK=(e,t,i)=>{let n,r,o=-1,s=t[1],a=0,c=7,d=4;for(0===s&&(c=138,d=3),n=0;n<=i;n++)if(r=s,s=t[2*(n+1)+1],!(++a<c&&r===s)){if(a<d)do{lK(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(lK(e,r,e.bl_tree),a--),lK(e,16,e.bl_tree),dK(e,a-3,2)):a<=10?(lK(e,17,e.bl_tree),dK(e,a-3,3)):(lK(e,18,e.bl_tree),dK(e,a-11,7));a=0,o=r,0===s?(c=138,d=3):r===s?(c=6,d=3):(c=7,d=4)}};let RK=!1;const CK=(e,t,i,n)=>{dK(e,0+(n?1:0),3),_K(e),cK(e,i),cK(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i};var vK=e=>{RK||((()=>{let e,t,i,n,r;const o=new Array(16);for(i=0,n=0;n<28;n++)for(eK[n]=i,e=0;e<1<<YH[n];e++)$H[i++]=n;for($H[i-1]=n,r=0,n=0;n<16;n++)for(tK[n]=r,e=0;e<1<<zH[n];e++)ZH[r++]=n;for(r>>=7;n<HH;n++)for(tK[n]=r<<7,e=0;e<1<<zH[n]-7;e++)ZH[256+r++]=n;for(t=0;t<=KH;t++)o[t]=0;for(e=0;e<=143;)JH[2*e+1]=8,e++,o[8]++;for(;e<=255;)JH[2*e+1]=9,e++,o[9]++;for(;e<=279;)JH[2*e+1]=7,e++,o[7]++;for(;e<=287;)JH[2*e+1]=8,e++,o[8]++;for(hK(JH,287,o),e=0;e<HH;e++)QH[2*e+1]=5,QH[2*e]=uK(e,5);nK=new iK(JH,YH,257,WH,KH),rK=new iK(QH,zH,0,HH,KH),oK=new iK(new Array(0),qH,0,19,7)})(),RK=!0),e.l_desc=new sK(e.dyn_ltree,nK),e.d_desc=new sK(e.dyn_dtree,rK),e.bl_desc=new sK(e.bl_tree,oK),e.bi_buf=0,e.bi_valid=0,pK(e)},yK=(e,t,i,n)=>{let r,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<GH;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),SK(e,e.l_desc),SK(e,e.d_desc),s=(e=>{let t;for(gK(e,e.dyn_ltree,e.l_desc.max_code),gK(e,e.dyn_dtree,e.d_desc.max_code),SK(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*XH[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!==t?CK(e,t,i,n):4===e.strategy||o===r?(dK(e,2+(n?1:0),3),fK(e,JH,QH)):(dK(e,4+(n?1:0),3),((e,t,i,n)=>{let r;for(dK(e,t-257,5),dK(e,i-1,5),dK(e,n-4,4),r=0;r<n;r++)dK(e,e.bl_tree[2*XH[r]+1],3);TK(e,e.dyn_ltree,t-1),TK(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),fK(e,e.dyn_ltree,e.dyn_dtree)),pK(e),n&&_K(e)},IK=(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*($H[i]+GH+1)]++,e.dyn_dtree[2*aK(t)]++),e.sym_next===e.sym_end),AK=e=>{dK(e,2,3),lK(e,256,JH),(e=>{16===e.bi_valid?(cK(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},bK={_tr_init:vK,_tr_stored_block:CK,_tr_flush_block:yK,_tr_tally:IK,_tr_align:AK};var wK=(e,t,i,n)=>{let r=65535&e|0,o=e>>>16&65535|0,s=0;for(;0!==i;){s=i>2e3?2e3:i,i-=s;do{r=r+t[n++]|0,o=o+r|0}while(--s);r%=65521,o%=65521}return r|o<<16|0};const OK=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var NK=(e,t,i,n)=>{const r=OK,o=n+i;e^=-1;for(let i=n;i<o;i++)e=e>>>8^r[255&(e^t[i])];return-1^e},DK={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"},PK={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:LK,_tr_stored_block:kK,_tr_flush_block:MK,_tr_tally:UK,_tr_align:VK}=bK,{Z_NO_FLUSH:xK,Z_PARTIAL_FLUSH:FK,Z_FULL_FLUSH:BK,Z_FINISH:jK,Z_BLOCK:GK,Z_OK:WK,Z_STREAM_END:HK,Z_STREAM_ERROR:KK,Z_DATA_ERROR:YK,Z_BUF_ERROR:zK,Z_DEFAULT_COMPRESSION:qK,Z_FILTERED:XK,Z_HUFFMAN_ONLY:JK,Z_RLE:QK,Z_FIXED:ZK,Z_DEFAULT_STRATEGY:$K,Z_UNKNOWN:eY,Z_DEFLATED:tY}=PK,iY=286,nY=30,rY=19,oY=2*iY+1,sY=15,aY=258,cY=262,dY=42,lY=113,uY=666,hY=(e,t)=>(e.msg=DK[t],t),pY=e=>2*e-(e>4?9:0),_Y=e=>{let t=e.length;for(;--t>=0;)e[t]=0},EY=e=>{let t,i,n,r=e.w_size;t=e.hash_size,n=t;do{i=e.head[--n],e.head[n]=i>=r?i-r:0}while(--t);t=r,n=t;do{i=e.prev[--n],e.prev[n]=i>=r?i-r:0}while(--t)};let mY=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const fY=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},SY=(e,t)=>{MK(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,fY(e.strm)},gY=(e,t)=>{e.pending_buf[e.pending++]=t},TY=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},RY=(e,t,i,n)=>{let r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),1===e.state.wrap?e.adler=wK(e.adler,t,r,i):2===e.state.wrap&&(e.adler=NK(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},CY=(e,t)=>{let i,n,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-cY?e.strstart-(e.w_size-cY):0,d=e.window,l=e.w_mask,u=e.prev,h=e.strstart+aY;let p=d[o+s-1],_=d[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(i=t,d[i+s]===_&&d[i+s-1]===p&&d[i]===d[o]&&d[++i]===d[o+1]){o+=2,i++;do{}while(d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&o<h);if(n=aY-(h-o),o=h-aY,n>s){if(e.match_start=t,s=n,n>=a)break;p=d[o+s-1],_=d[o+s]}}}while((t=u[t&l])>c&&0!=--r);return s<=e.lookahead?s:e.lookahead},vY=e=>{const t=e.w_size;let i,n,r;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-cY)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),EY(e),n+=t),0===e.strm.avail_in)break;if(i=RY(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=mY(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=mY(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<cY&&0!==e.strm.avail_in)},yY=(e,t)=>{let i,n,r,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,a=e.strm.avail_in;do{if(i=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,n=e.strstart-e.block_start,i>n+e.strm.avail_in&&(i=n+e.strm.avail_in),i>r&&(i=r),i<o&&(0===i&&t!==jK||t===xK||i!==n+e.strm.avail_in))break;s=t===jK&&i===n+e.strm.avail_in?1:0,kK(e,0,0,s),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,fY(e.strm),n&&(n>i&&(n=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,i-=n),i&&(RY(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(0===s);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==xK&&t!==jK&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(RY(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,o=r>e.w_size?e.w_size:r,n=e.strstart-e.block_start,(n>=o||(n||t===jK)&&t!==xK&&0===e.strm.avail_in&&n<=r)&&(i=n>r?r:n,s=t===jK&&0===e.strm.avail_in&&i===n?1:0,kK(e,e.block_start,i,s),e.block_start+=i,fY(e.strm)),s?3:1)},IY=(e,t)=>{let i,n;for(;;){if(e.lookahead<cY){if(vY(e),e.lookahead<cY&&t===xK)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=mY(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-cY&&(e.match_length=CY(e,i)),e.match_length>=3)if(n=UK(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=mY(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=mY(e,e.ins_h,e.window[e.strstart+1]);else n=UK(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(SY(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===jK?(SY(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(SY(e,!1),0===e.strm.avail_out)?1:2},AY=(e,t)=>{let i,n,r;for(;;){if(e.lookahead<cY){if(vY(e),e.lookahead<cY&&t===xK)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=mY(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-cY&&(e.match_length=CY(e,i),e.match_length<=5&&(e.strategy===XK||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=UK(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=mY(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(SY(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=UK(e,0,e.window[e.strstart-1]),n&&SY(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=UK(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===jK?(SY(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(SY(e,!1),0===e.strm.avail_out)?1:2};function bY(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}const wY=[new bY(0,0,0,0,yY),new bY(4,4,8,4,IY),new bY(4,5,16,8,IY),new bY(4,6,32,32,IY),new bY(4,4,16,16,AY),new bY(8,16,32,32,AY),new bY(8,16,128,128,AY),new bY(8,32,128,256,AY),new bY(32,128,258,1024,AY),new bY(32,258,258,4096,AY)];function OY(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tY,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*oY),this.dyn_dtree=new Uint16Array(2*(2*nY+1)),this.bl_tree=new Uint16Array(2*(2*rY+1)),_Y(this.dyn_ltree),_Y(this.dyn_dtree),_Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(sY+1),this.heap=new Uint16Array(2*iY+1),_Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*iY+1),_Y(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const NY=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==dY&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==lY&&t.status!==uY?1:0},DY=e=>{if(NY(e))return hY(e,KK);e.total_in=e.total_out=0,e.data_type=eY;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?dY:lY,e.adler=2===t.wrap?0:1,t.last_flush=-2,LK(t),WK},PY=e=>{const t=DY(e);return t===WK&&(e=>{e.window_size=2*e.w_size,_Y(e.head),e.max_lazy_match=wY[e.level].max_lazy,e.good_match=wY[e.level].good_length,e.nice_match=wY[e.level].nice_length,e.max_chain_length=wY[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},LY=(e,t,i,n,r,o)=>{if(!e)return KK;let s=1;if(t===qK&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||i!==tY||n<8||n>15||t<0||t>9||o<0||o>ZK||8===n&&1!==s)return hY(e,KK);8===n&&(n=9);const a=new OY;return e.state=a,a.strm=e,a.status=dY,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=o,a.method=i,PY(e)};var kY=(e,t)=>{if(NY(e)||t>GK||t<0)return e?hY(e,KK):KK;const i=e.state;if(!e.output||0!==e.avail_in&&!e.input||i.status===uY&&t!==jK)return hY(e,0===e.avail_out?zK:KK);const n=i.last_flush;if(i.last_flush=t,0!==i.pending){if(fY(e),0===e.avail_out)return i.last_flush=-1,WK}else if(0===e.avail_in&&pY(t)<=pY(n)&&t!==jK)return hY(e,zK);if(i.status===uY&&0!==e.avail_in)return hY(e,zK);if(i.status===dY&&0===i.wrap&&(i.status=lY),i.status===dY){let t=tY+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=JK||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,TY(i,t),0!==i.strstart&&(TY(i,e.adler>>>16),TY(i,65535&e.adler)),e.adler=1,i.status=lY,fY(e),0!==i.pending)return i.last_flush=-1,WK}if(57===i.status)if(e.adler=0,gY(i,31),gY(i,139),gY(i,8),i.gzhead)gY(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),gY(i,255&i.gzhead.time),gY(i,i.gzhead.time>>8&255),gY(i,i.gzhead.time>>16&255),gY(i,i.gzhead.time>>24&255),gY(i,9===i.level?2:i.strategy>=JK||i.level<2?4:0),gY(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(gY(i,255&i.gzhead.extra.length),gY(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=NK(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(gY(i,0),gY(i,0),gY(i,0),gY(i,0),gY(i,0),gY(i,9===i.level?2:i.strategy>=JK||i.level<2?4:0),gY(i,3),i.status=lY,fY(e),0!==i.pending)return i.last_flush=-1,WK;if(69===i.status){if(i.gzhead.extra){let t=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let r=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+r),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>t&&(e.adler=NK(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex+=r,fY(e),0!==i.pending)return i.last_flush=-1,WK;t=0,n-=r}let r=new Uint8Array(i.gzhead.extra);i.pending_buf.set(r.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>t&&(e.adler=NK(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=NK(e.adler,i.pending_buf,i.pending-n,n)),fY(e),0!==i.pending)return i.last_flush=-1,WK;n=0}t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,gY(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=NK(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=NK(e.adler,i.pending_buf,i.pending-n,n)),fY(e),0!==i.pending)return i.last_flush=-1,WK;n=0}t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,gY(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=NK(e.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(fY(e),0!==i.pending))return i.last_flush=-1,WK;gY(i,255&e.adler),gY(i,e.adler>>8&255),e.adler=0}if(i.status=lY,fY(e),0!==i.pending)return i.last_flush=-1,WK}if(0!==e.avail_in||0!==i.lookahead||t!==xK&&i.status!==uY){let n=0===i.level?yY(i,t):i.strategy===JK?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(vY(e),0===e.lookahead)){if(t===xK)return 1;break}if(e.match_length=0,i=UK(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(SY(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===jK?(SY(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(SY(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===QK?((e,t)=>{let i,n,r,o;const s=e.window;for(;;){if(e.lookahead<=aY){if(vY(e),e.lookahead<=aY&&t===xK)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,n=s[r],n===s[++r]&&n===s[++r]&&n===s[++r])){o=e.strstart+aY;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<o);e.match_length=aY-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=UK(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=UK(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(SY(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===jK?(SY(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(SY(e,!1),0===e.strm.avail_out)?1:2})(i,t):wY[i.level].func(i,t);if(3!==n&&4!==n||(i.status=uY),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),WK;if(2===n&&(t===FK?VK(i):t!==GK&&(kK(i,0,0,!1),t===BK&&(_Y(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),fY(e),0===e.avail_out))return i.last_flush=-1,WK}return t!==jK?WK:i.wrap<=0?HK:(2===i.wrap?(gY(i,255&e.adler),gY(i,e.adler>>8&255),gY(i,e.adler>>16&255),gY(i,e.adler>>24&255),gY(i,255&e.total_in),gY(i,e.total_in>>8&255),gY(i,e.total_in>>16&255),gY(i,e.total_in>>24&255)):(TY(i,e.adler>>>16),TY(i,65535&e.adler)),fY(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?WK:HK)},MY=(e,t)=>{let i=t.length;if(NY(e))return KK;const n=e.state,r=n.wrap;if(2===r||1===r&&n.status!==dY||n.lookahead)return KK;if(1===r&&(e.adler=wK(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===r&&(_Y(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(i-n.w_size,i),0),t=e,i=n.w_size}const o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,vY(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=mY(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,vY(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,n.wrap=r,WK},UY={deflateInit:(e,t)=>LY(e,t,tY,15,8,$K),deflateInit2:LY,deflateReset:PY,deflateResetKeep:DY,deflateSetHeader:(e,t)=>NY(e)||2!==e.state.wrap?KK:(e.state.gzhead=t,WK),deflate:kY,deflateEnd:e=>{if(NY(e))return KK;const t=e.state.status;return e.state=null,t===lY?hY(e,YK):WK},deflateSetDictionary:MY,deflateInfo:\"pako deflate (from Nodeca project)\"};const VY=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var xY={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if(\"object\"!=typeof i)throw new TypeError(i+\"must be non-object\");for(const t in i)VY(i,t)&&(e[t]=i[t])}}return e},flattenChunks:e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,n=0,r=e.length;t<r;t++){let r=e[t];i.set(r,n),n+=r.length}return i}};let FY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){FY=!1}const BY=new Uint8Array(256);for(let e=0;e<256;e++)BY[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;BY[254]=BY[254]=1;var jY={string2buf:e=>{if(\"function\"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,n,r,o,s=e.length,a=0;for(r=0;r<s;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(a),o=0,r=0;o<a;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},buf2string:(e,t)=>{const i=t||e.length;if(\"function\"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,r;const o=new Array(2*i);for(r=0,n=0;n<i;){let t=e[n++];if(t<128){o[r++]=t;continue}let s=BY[t];if(s>4)o[r++]=65533,n+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&n<i;)t=t<<6|63&e[n++],s--;s>1?o[r++]=65533:t<65536?o[r++]=t:(t-=65536,o[r++]=55296|t>>10&1023,o[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&FY)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i=\"\";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i})(o,r)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+BY[e[i]]>t?i:t}};var GY=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0};const WY=Object.prototype.toString,{Z_NO_FLUSH:HY,Z_SYNC_FLUSH:KY,Z_FULL_FLUSH:YY,Z_FINISH:zY,Z_OK:qY,Z_STREAM_END:XY,Z_DEFAULT_COMPRESSION:JY,Z_DEFAULT_STRATEGY:QY,Z_DEFLATED:ZY}=PK;function $Y(e){this.options=xY.assign({level:JY,method:ZY,chunkSize:16384,windowBits:15,memLevel:8,strategy:QY},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new GY,this.strm.avail_out=0;let i=UY.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==qY)throw new Error(DK[i]);if(t.header&&UY.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e=\"string\"==typeof t.dictionary?jY.string2buf(t.dictionary):\"[object ArrayBuffer]\"===WY.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=UY.deflateSetDictionary(this.strm,e),i!==qY)throw new Error(DK[i]);this._dict_set=!0}}function ez(e,t){const i=new $Y(t);if(i.push(e,!0),i.err)throw i.msg||DK[i.err];return i.result}$Y.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize;let r,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?zY:HY,\"string\"==typeof e?i.input=jY.string2buf(e):\"[object ArrayBuffer]\"===WY.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(o===KY||o===YY)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(r=UY.deflate(i,o),r===XY)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=UY.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===qY;if(0!==i.avail_out){if(o>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},$Y.prototype.onData=function(e){this.chunks.push(e)},$Y.prototype.onEnd=function(e){e===qY&&(this.result=xY.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var tz={Deflate:$Y,deflate:ez,deflateRaw:function(e,t){return(t=t||{}).raw=!0,ez(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,ez(e,t)},constants:PK};const iz=16209;var nz=function(e,t){let i,n,r,o,s,a,c,d,l,u,h,p,_,E,m,f,S,g,T,R,C,v,y,I;const A=e.state;i=e.next_in,y=e.input,n=i+(e.avail_in-5),r=e.next_out,I=e.output,o=r-(t-e.avail_out),s=r+(e.avail_out-257),a=A.dmax,c=A.wsize,d=A.whave,l=A.wnext,u=A.window,h=A.hold,p=A.bits,_=A.lencode,E=A.distcode,m=(1<<A.lenbits)-1,f=(1<<A.distbits)-1;e:do{p<15&&(h+=y[i++]<<p,p+=8,h+=y[i++]<<p,p+=8),S=_[h&m];t:for(;;){if(g=S>>>24,h>>>=g,p-=g,g=S>>>16&255,0===g)I[r++]=65535&S;else{if(!(16&g)){if(0==(64&g)){S=_[(65535&S)+(h&(1<<g)-1)];continue t}if(32&g){A.mode=16191;break e}e.msg=\"invalid literal/length code\",A.mode=iz;break e}T=65535&S,g&=15,g&&(p<g&&(h+=y[i++]<<p,p+=8),T+=h&(1<<g)-1,h>>>=g,p-=g),p<15&&(h+=y[i++]<<p,p+=8,h+=y[i++]<<p,p+=8),S=E[h&f];i:for(;;){if(g=S>>>24,h>>>=g,p-=g,g=S>>>16&255,!(16&g)){if(0==(64&g)){S=E[(65535&S)+(h&(1<<g)-1)];continue i}e.msg=\"invalid distance code\",A.mode=iz;break e}if(R=65535&S,g&=15,p<g&&(h+=y[i++]<<p,p+=8,p<g&&(h+=y[i++]<<p,p+=8)),R+=h&(1<<g)-1,R>a){e.msg=\"invalid distance too far back\",A.mode=iz;break e}if(h>>>=g,p-=g,g=r-o,R>g){if(g=R-g,g>d&&A.sane){e.msg=\"invalid distance too far back\",A.mode=iz;break e}if(C=0,v=u,0===l){if(C+=c-g,g<T){T-=g;do{I[r++]=u[C++]}while(--g);C=r-R,v=I}}else if(l<g){if(C+=c+l-g,g-=l,g<T){T-=g;do{I[r++]=u[C++]}while(--g);if(C=0,l<T){g=l,T-=g;do{I[r++]=u[C++]}while(--g);C=r-R,v=I}}}else if(C+=l-g,g<T){T-=g;do{I[r++]=u[C++]}while(--g);C=r-R,v=I}for(;T>2;)I[r++]=v[C++],I[r++]=v[C++],I[r++]=v[C++],T-=3;T&&(I[r++]=v[C++],T>1&&(I[r++]=v[C++]))}else{C=r-R;do{I[r++]=I[C++],I[r++]=I[C++],I[r++]=I[C++],T-=3}while(T>2);T&&(I[r++]=I[C++],T>1&&(I[r++]=I[C++]))}break}}break}}while(i<n&&r<s);T=p>>3,i-=T,p-=T<<3,h&=(1<<p)-1,e.next_in=i,e.next_out=r,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=r<s?s-r+257:257-(r-s),A.hold=h,A.bits=p};const rz=15,oz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),az=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),cz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var dz=(e,t,i,n,r,o,s,a)=>{const c=a.bits;let d,l,u,h,p,_,E=0,m=0,f=0,S=0,g=0,T=0,R=0,C=0,v=0,y=0,I=null;const A=new Uint16Array(16),b=new Uint16Array(16);let w,O,N,D=null;for(E=0;E<=rz;E++)A[E]=0;for(m=0;m<n;m++)A[t[i+m]]++;for(g=c,S=rz;S>=1&&0===A[S];S--);if(g>S&&(g=S),0===S)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(f=1;f<S&&0===A[f];f++);for(g<f&&(g=f),C=1,E=1;E<=rz;E++)if(C<<=1,C-=A[E],C<0)return-1;if(C>0&&(0===e||1!==S))return-1;for(b[1]=0,E=1;E<rz;E++)b[E+1]=b[E]+A[E];for(m=0;m<n;m++)0!==t[i+m]&&(s[b[t[i+m]]++]=m);if(0===e?(I=D=s,_=20):1===e?(I=oz,D=sz,_=257):(I=az,D=cz,_=0),y=0,m=0,E=f,p=o,T=g,R=0,u=-1,v=1<<g,h=v-1,1===e&&v>852||2===e&&v>592)return 1;for(;;){w=E-R,s[m]+1<_?(O=0,N=s[m]):s[m]>=_?(O=D[s[m]-_],N=I[s[m]-_]):(O=96,N=0),d=1<<E-R,l=1<<T,f=l;do{l-=d,r[p+(y>>R)+l]=w<<24|O<<16|N|0}while(0!==l);for(d=1<<E-1;y&d;)d>>=1;if(0!==d?(y&=d-1,y+=d):y=0,m++,0==--A[E]){if(E===S)break;E=t[i+s[m]]}if(E>g&&(y&h)!==u){for(0===R&&(R=g),p+=f,T=E-R,C=1<<T;T+R<S&&(C-=A[T+R],!(C<=0));)T++,C<<=1;if(v+=1<<T,1===e&&v>852||2===e&&v>592)return 1;u=y&h,r[u]=g<<24|T<<16|p-o|0}}return 0!==y&&(r[p+y]=E-R<<24|64<<16|0),a.bits=g,0};const{Z_FINISH:lz,Z_BLOCK:uz,Z_TREES:hz,Z_OK:pz,Z_STREAM_END:_z,Z_NEED_DICT:Ez,Z_STREAM_ERROR:mz,Z_DATA_ERROR:fz,Z_MEM_ERROR:Sz,Z_BUF_ERROR:gz,Z_DEFLATED:Tz}=PK,Rz=16180,Cz=16190,vz=16191,yz=16192,Iz=16194,Az=16199,bz=16200,wz=16206,Oz=16209,Nz=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Dz(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Pz=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Rz||t.mode>16211?1:0},Lz=e=>{if(Pz(e))return mz;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=Rz,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,pz},kz=e=>{if(Pz(e))return mz;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Lz(e)},Mz=(e,t)=>{let i;if(Pz(e))return mz;const n=e.state;return t<0?(i=0,t=-t):(i=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?mz:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,kz(e))},Uz=(e,t)=>{if(!e)return mz;const i=new Dz;e.state=i,i.strm=e,i.window=null,i.mode=Rz;const n=Mz(e,t);return n!==pz&&(e.state=null),n};let Vz,xz,Fz=!0;const Bz=e=>{if(Fz){Vz=new Int32Array(512),xz=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(dz(1,e.lens,0,288,Vz,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;dz(2,e.lens,0,32,xz,0,e.work,{bits:5}),Fz=!1}e.lencode=Vz,e.lenbits=9,e.distcode=xz,e.distbits=5},jz=(e,t,i,n)=>{let r;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(i-o.wsize,i),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>n&&(r=n),o.window.set(t.subarray(i-n,i-n+r),o.wnext),(n-=r)?(o.window.set(t.subarray(i-n,i),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0};var Gz=(e,t)=>{let i,n,r,o,s,a,c,d,l,u,h,p,_,E,m,f,S,g,T,R,C,v,y=0;const I=new Uint8Array(4);let A,b;const w=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Pz(e)||!e.output||!e.input&&0!==e.avail_in)return mz;i=e.state,i.mode===vz&&(i.mode=yz),s=e.next_out,r=e.output,c=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,d=i.hold,l=i.bits,u=a,h=c,v=pz;e:for(;;)switch(i.mode){case Rz:if(0===i.wrap){i.mode=yz;break}for(;l<16;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(2&i.wrap&&35615===d){0===i.wbits&&(i.wbits=15),i.check=0,I[0]=255&d,I[1]=d>>>8&255,i.check=NK(i.check,I,2,0),d=0,l=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg=\"incorrect header check\",i.mode=Oz;break}if((15&d)!==Tz){e.msg=\"unknown compression method\",i.mode=Oz;break}if(d>>>=4,l-=4,C=8+(15&d),0===i.wbits&&(i.wbits=C),C>15||C>i.wbits){e.msg=\"invalid window size\",i.mode=Oz;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&d?16189:vz,d=0,l=0;break;case 16181:for(;l<16;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(i.flags=d,(255&BH(i))!==Tz){e.msg=\"unknown compression method\",i.mode=Oz;break}if(57344&BH(i)){e.msg=\"unknown header flags set\",i.mode=Oz;break}i.head&&(i.head.text=d>>8&1),512&BH(i)&&4&i.wrap&&(I[0]=255&d,I[1]=d>>>8&255,i.check=NK(i.check,I,2,0)),d=0,l=0,i.mode=16182;case 16182:for(;l<32;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.head&&(i.head.time=d),512&BH(i)&&4&i.wrap&&(I[0]=255&d,I[1]=d>>>8&255,I[2]=d>>>16&255,I[3]=d>>>24&255,i.check=NK(i.check,I,4,0)),d=0,l=0,i.mode=16183;case 16183:for(;l<16;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.head&&(i.head.xflags=255&d,i.head.os=d>>8),512&BH(i)&&4&i.wrap&&(I[0]=255&d,I[1]=d>>>8&255,i.check=NK(i.check,I,2,0)),d=0,l=0,i.mode=16184;case 16184:if(1024&BH(i)){for(;l<16;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.length=d,i.head&&(i.head.extra_len=d),512&BH(i)&&4&i.wrap&&(I[0]=255&d,I[1]=d>>>8&255,i.check=NK(i.check,I,2,0)),d=0,l=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&BH(i)&&(p=i.length,p>a&&(p=a),p&&(i.head&&(C=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(o,o+p),C)),512&BH(i)&&4&i.wrap&&(i.check=NK(i.check,n,p,o)),a-=p,o+=p,i.length-=p),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&BH(i)){if(0===a)break e;p=0;do{C=n[o+p++],i.head&&C&&i.length<65536&&(i.head.name+=String.fromCharCode(C))}while(C&&p<a);if(512&BH(i)&&4&i.wrap&&(i.check=NK(i.check,n,p,o)),a-=p,o+=p,C)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&BH(i)){if(0===a)break e;p=0;do{C=n[o+p++],i.head&&C&&i.length<65536&&(i.head.comment+=String.fromCharCode(C))}while(C&&p<a);if(512&BH(i)&&4&i.wrap&&(i.check=NK(i.check,n,p,o)),a-=p,o+=p,C)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&BH(i)){for(;l<16;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(4&i.wrap&&d!==(65535&i.check)){e.msg=\"header crc mismatch\",i.mode=Oz;break}d=0,l=0}i.head&&(i.head.hcrc=BH(i)>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=vz;break;case 16189:for(;l<32;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}e.adler=i.check=Nz(d),d=0,l=0,i.mode=Cz;case Cz:if(0===i.havedict)return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,i.hold=d,i.bits=l,Ez;e.adler=i.check=1,i.mode=vz;case vz:if(t===uz||t===hz)break e;case yz:if(i.last){d>>>=7&l,l-=7&l,i.mode=wz;break}for(;l<3;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}switch(i.last=1&d,d>>>=1,l-=1,3&d){case 0:i.mode=16193;break;case 1:if(Bz(i),i.mode=Az,t===hz){d>>>=2,l-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg=\"invalid block type\",i.mode=Oz}d>>>=2,l-=2;break;case 16193:for(d>>>=7&l,l-=7&l;l<32;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if((65535&d)!=(d>>>16^65535)){e.msg=\"invalid stored block lengths\",i.mode=Oz;break}if(i.length=65535&d,d=0,l=0,i.mode=Iz,t===hz)break e;case Iz:i.mode=16195;case 16195:if(p=i.length,p){if(p>a&&(p=a),p>c&&(p=c),0===p)break e;r.set(n.subarray(o,o+p),s),a-=p,o+=p,c-=p,s+=p,i.length-=p;break}i.mode=vz;break;case 16196:for(;l<14;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(i.nlen=257+(31&d),d>>>=5,l-=5,i.ndist=1+(31&d),d>>>=5,l-=5,i.ncode=4+(15&d),d>>>=4,l-=4,i.nlen>286||i.ndist>30){e.msg=\"too many length or distance symbols\",i.mode=Oz;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;l<3;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.lens[w[i.have++]]=7&d,d>>>=3,l-=3}for(;i.have<19;)i.lens[w[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,A={bits:i.lenbits},v=dz(0,i.lens,0,19,i.lencode,0,i.work,A),i.lenbits=A.bits,v){e.msg=\"invalid code lengths set\",i.mode=Oz;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;y=i.lencode[d&(1<<i.lenbits)-1],m=y>>>24,f=y>>>16&255,S=65535&y,!(m<=l);){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(S<16)d>>>=m,l-=m,i.lens[i.have++]=S;else{if(16===S){for(b=m+2;l<b;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(d>>>=m,l-=m,0===i.have){e.msg=\"invalid bit length repeat\",i.mode=Oz;break}C=i.lens[i.have-1],p=3+(3&d),d>>>=2,l-=2}else if(17===S){for(b=m+3;l<b;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}d>>>=m,l-=m,C=0,p=3+(7&d),d>>>=3,l-=3}else{for(b=m+7;l<b;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}d>>>=m,l-=m,C=0,p=11+(127&d),d>>>=7,l-=7}if(i.have+p>i.nlen+i.ndist){e.msg=\"invalid bit length repeat\",i.mode=Oz;break}for(;p--;)i.lens[i.have++]=C}}if(i.mode===Oz)break;if(0===i.lens[256]){e.msg=\"invalid code -- missing end-of-block\",i.mode=Oz;break}if(i.lenbits=9,A={bits:i.lenbits},v=dz(1,i.lens,0,i.nlen,i.lencode,0,i.work,A),i.lenbits=A.bits,v){e.msg=\"invalid literal/lengths set\",i.mode=Oz;break}if(i.distbits=6,i.distcode=i.distdyn,A={bits:i.distbits},v=dz(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,A),i.distbits=A.bits,v){e.msg=\"invalid distances set\",i.mode=Oz;break}if(i.mode=Az,t===hz)break e;case Az:i.mode=bz;case bz:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,i.hold=d,i.bits=l,nz(e,h),s=e.next_out,r=e.output,c=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,d=i.hold,l=i.bits,i.mode===vz&&(i.back=-1);break}for(i.back=0;y=i.lencode[d&(1<<i.lenbits)-1],m=y>>>24,f=y>>>16&255,S=65535&y,!(m<=l);){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(f&&0==(240&f)){for(g=m,T=f,R=S;y=i.lencode[R+((d&(1<<g+T)-1)>>g)],m=y>>>24,f=y>>>16&255,S=65535&y,!(g+m<=l);){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}d>>>=g,l-=g,i.back+=g}if(d>>>=m,l-=m,i.back+=m,i.length=S,0===f){i.mode=16205;break}if(32&f){i.back=-1,i.mode=vz;break}if(64&f){e.msg=\"invalid literal/length code\",i.mode=Oz;break}i.extra=15&f,i.mode=16201;case 16201:if(i.extra){for(b=i.extra;l<b;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,l-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;y=i.distcode[d&(1<<i.distbits)-1],m=y>>>24,f=y>>>16&255,S=65535&y,!(m<=l);){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(0==(240&f)){for(g=m,T=f,R=S;y=i.distcode[R+((d&(1<<g+T)-1)>>g)],m=y>>>24,f=y>>>16&255,S=65535&y,!(g+m<=l);){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}d>>>=g,l-=g,i.back+=g}if(d>>>=m,l-=m,i.back+=m,64&f){e.msg=\"invalid distance code\",i.mode=Oz;break}i.offset=S,i.extra=15&f,i.mode=16203;case 16203:if(i.extra){for(b=i.extra;l<b;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,l-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg=\"invalid distance too far back\",i.mode=Oz;break}i.mode=16204;case 16204:if(0===c)break e;if(p=h-c,i.offset>p){if(p=i.offset-p,p>i.whave&&i.sane){e.msg=\"invalid distance too far back\",i.mode=Oz;break}p>i.wnext?(p-=i.wnext,_=i.wsize-p):_=i.wnext-p,p>i.length&&(p=i.length),E=i.window}else E=r,_=s-i.offset,p=i.length;p>c&&(p=c),c-=p,i.length-=p;do{r[s++]=E[_++]}while(--p);0===i.length&&(i.mode=bz);break;case 16205:if(0===c)break e;r[s++]=i.length,c--,i.mode=bz;break;case wz:if(i.wrap){for(;l<32;){if(0===a)break e;a--,d|=n[o++]<<l,l+=8}if(h-=c,e.total_out+=h,i.total+=h,4&i.wrap&&h&&(e.adler=i.check=BH(i)?NK(i.check,r,h,s-h):wK(i.check,r,h,s-h)),h=c,4&i.wrap&&(BH(i)?d:Nz(d))!==i.check){e.msg=\"incorrect data check\",i.mode=Oz;break}d=0,l=0}i.mode=16207;case 16207:if(i.wrap&&BH(i)){for(;l<32;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(4&i.wrap&&d!==(4294967295&i.total)){e.msg=\"incorrect length check\",i.mode=Oz;break}d=0,l=0}i.mode=16208;case 16208:v=_z;break e;case Oz:v=fz;break e;case 16210:return Sz;default:return mz}return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,i.hold=d,i.bits=l,(i.wsize||h!==e.avail_out&&i.mode<Oz&&(i.mode<wz||t!==lz))&&jz(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,i.total+=h,4&i.wrap&&h&&(e.adler=i.check=BH(i)?NK(i.check,r,h,e.next_out-h):wK(i.check,r,h,e.next_out-h)),e.data_type=i.bits+(i.last?64:0)+(i.mode===vz?128:0)+(i.mode===Az||i.mode===Iz?256:0),(0===u&&0===h||t===lz)&&v===pz&&(v=gz),v},Wz={inflateReset:kz,inflateReset2:Mz,inflateResetKeep:Lz,inflateInit:e=>Uz(e,15),inflateInit2:Uz,inflate:Gz,inflateEnd:e=>{if(Pz(e))return mz;let t=e.state;return t.window&&(t.window=null),e.state=null,pz},inflateGetHeader:(e,t)=>{if(Pz(e))return mz;const i=e.state;return 0==(2&i.wrap)?mz:(i.head=t,t.done=!1,pz)},inflateSetDictionary:(e,t)=>{const i=t.length;let n,r,o;return Pz(e)?mz:(n=e.state,0!==n.wrap&&n.mode!==Cz?mz:n.mode===Cz&&(r=1,r=wK(r,t,i,0),r!==n.check)?fz:(o=jz(e,t,i,i),o?(n.mode=16210,Sz):(n.havedict=1,pz)))},inflateInfo:\"pako inflate (from Nodeca project)\"};var Hz=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1};const Kz=Object.prototype.toString,{Z_NO_FLUSH:Yz,Z_FINISH:zz,Z_OK:qz,Z_STREAM_END:Xz,Z_NEED_DICT:Jz,Z_STREAM_ERROR:Qz,Z_DATA_ERROR:Zz,Z_MEM_ERROR:$z}=PK;function eq(e){this.options=xY.assign({chunkSize:65536,windowBits:15,to:\"\"},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new GY,this.strm.avail_out=0;let i=Wz.inflateInit2(this.strm,t.windowBits);if(i!==qz)throw new Error(DK[i]);if(this.header=new Hz,Wz.inflateGetHeader(this.strm,this.header),t.dictionary&&(\"string\"==typeof t.dictionary?t.dictionary=jY.string2buf(t.dictionary):\"[object ArrayBuffer]\"===Kz.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=Wz.inflateSetDictionary(this.strm,t.dictionary),i!==qz)))throw new Error(DK[i])}function tq(e,t){const i=new eq(t);if(i.push(e),i.err)throw i.msg||DK[i.err];return i.result}eq.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=t===~~t?t:!0===t?zz:Yz,\"[object ArrayBuffer]\"===Kz.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),o=Wz.inflate(i,s),o===Jz&&r&&(o=Wz.inflateSetDictionary(i,r),o===qz?o=Wz.inflate(i,s):o===Zz&&(o=Jz));i.avail_in>0&&o===Xz&&i.state.wrap>0&&0!==e[i.next_in];)Wz.inflateReset(i),o=Wz.inflate(i,s);switch(o){case Qz:case Zz:case Jz:case $z:return this.onEnd(o),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||o===Xz))if(\"string\"===this.options.to){let e=jY.utf8border(i.output,i.next_out),t=i.next_out-e,r=jY.buf2string(i.output,e);i.next_out=t,i.avail_out=n-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(r)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(o!==qz||0!==a){if(o===Xz)return o=Wz.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},eq.prototype.onData=function(e){this.chunks.push(e)},eq.prototype.onEnd=function(e){e===qz&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=xY.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var iq={Inflate:eq,inflate:tq,inflateRaw:function(e,t){return(t=t||{}).raw=!0,tq(e,t)},ungzip:tq,constants:PK};const{Deflate:nq,deflate:rq,deflateRaw:oq,gzip:sq}=tz,{Inflate:aq,inflate:cq,inflateRaw:dq,ungzip:lq}=iq;var uq=rq,hq=oq,pq=cq,_q=dq,Eq=function(e){return e[e.ONE_BYTE=0]=\"ONE_BYTE\",e[e.TWO_BYTE=1]=\"TWO_BYTE\",e}(Eq||{});class mq{constructor(){iA(this,\"_sequence\",0),iA(this,\"_startTime\",Date.now()),iA(this,\"isUseOneByte\",!0)}get startTime(){const e=Date.now()-this._startTime;return e<Math.pow(2,16)?e:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(e){const t={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:e};if(e.byteLength>128){const i=new Uint8Array(4);i.set([1,0,0,0]);const n={id:0,length:4,data:i.buffer},r={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[n]};t.commonPacketHeader.extension=1,t.extension=r,t.payload=this.compress(e),t.commonPacketHeader.length=8+(t.extension.length+2)+t.payload.byteLength}else t.commonPacketHeader.length=8+t.payload.byteLength;CD(\"SHOW_DATASTREAM2_LOG\")&&iP.debug(\"send data header: \".concat(JSON.stringify(t.commonPacketHeader)));const i=new ArrayBuffer(t.commonPacketHeader.length),n=new Uint8Array(i),r=new DataView(i);let o=0;if(r.setUint16(o,t.commonPacketHeader.extension<<15|t.commonPacketHeader.reserved<<14|t.commonPacketHeader.length,!0),o+=2,r.setUint32(o,t.commonPacketHeader.sequence,!0),o+=4,r.setUint16(o,t.commonStreamHeader,!0),o+=2,t.extension){const e=this.serializeExtension(t.extension);n.set(new Uint8Array(e),o),o+=e.byteLength}if(n.set(new Uint8Array(t.payload),o),o+=t.payload.byteLength,o!==t.commonPacketHeader.length)throw Error(\"serialize error!\");return i}deserialize(e){if(e.byteLength<4)return new ArrayBuffer(0);const t=new DataView(e);let i=0;const n=t.getUint16(i,!0);i+=2;const r={length:16383&n,reserved:(16384&n)>>14,extension:(32768&n)>>15,sequence:t.getUint16(i+2,!0)<<16|t.getUint16(i,!0)};let o,s;if(i+=4,CD(\"SHOW_DATASTREAM2_LOG\")&&iP.debug(\"receive data header: \".concat(JSON.stringify(r))),t.getUint16(i,!0),i+=2,r.extension){s=this.deserializeExtension(e.slice(i)),i+=2+s.length,o=e.slice(i);let t=!1;if(s.datas.length>0){const e=s.datas.find((e=>0===e.id));if(e){t=1==(1&new DataView(e.data).getUint32(0,!0))}}o=t?this.decompress(o):o}else o=e.slice(8);return o}serializeExtension(e){const{profile:t,length:i,datas:n}=e,r=new ArrayBuffer(i+2),o=new Uint8Array(r),s=new DataView(r);let a=0;if(s.setUint8(a++,t),s.setUint8(a++,i),n.forEach((e=>{t?(s.setUint8(a++,e.id),s.setUint8(a++,e.length),o.set(new Uint8Array(e.data),a),a+=e.data.byteLength):(s.setUint8(a++,e.id|e.length<<4),o.set(new Uint8Array(e.data),a),a+=e.data.byteLength)})),a!==i+2)throw Error(\"serialize extension error, is \".concat(a,\"!==\").concat(i+2));return r}deserializeExtension(e){const t=new DataView(e);let i=0;const n=t.getUint8(i);i++;const r=t.getUint8(i);i++;const o=n===Eq.TWO_BYTE,s=[],a=new DataView(e,2);let c=0;for(;c<r;){let e=0,t=0,i=new ArrayBuffer(0);o?(e=a.getUint8(c),c++,t=a.getUint8(c),c++):(e=15&a.getUint8(c),t=a.getUint8(c)>>4,c++),t>0&&(i=a.buffer.slice(c+2,c+2+t),c+=i.byteLength),s.push({id:e,length:t,data:i})}if(c!==r)throw Error(\"parse error\");return{profile:n,length:r,datas:s}}decompress(e){return pq(new Uint8Array(e))}compress(e){return uq(new Uint8Array(e))}}const fq={name:\"DataStream\",create:(e,t)=>{const i=t?new iU(e):new nU(e);return i.useDataStream(new mq),i}};class Sq extends NO{constructor(e,t,i){super(),iA(this,\"ws\",void 0),iA(this,\"requestId\",1),iA(this,\"heartBeatTimer\",void 0),iA(this,\"joinInfo\",void 0),iA(this,\"clientId\",void 0),iA(this,\"onOpen\",(()=>{this.emit(\"open\"),this.startHeartBeatCheck()})),iA(this,\"onClose\",(e=>{this.emit(\"close\"),this.dispose()})),iA(this,\"onMessage\",(e=>{const t=JSON.parse(e.data);if(!t||\"serverResponse\"!==t.command||!t.requestId)return t&&\"serverStatus\"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit(\"status\",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit(\"req_\".concat(t.requestId),t)})),this.joinInfo=e,this.clientId=t,this.ws=new $x(\"cross-channel-\".concat(this.clientId),i),this.ws.on(WV.RECONNECTING,(()=>{this.ws.reconnectMode=\"retry\",this.emit(\"reconnecting\")})),this.ws.on(WV.CONNECTED,this.onOpen),this.ws.on(WV.ON_MESSAGE,this.onMessage),this.ws.on(WV.CLOSED,this.onClose)}isConnect(){return\"connected\"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new rp(((t,i)=>{const n=window.setTimeout((()=>{i(new uP(hO.TIMEOUT,\"wait status timeout, status: \".concat(e)))}),5e3);this.once(e,(r=>{window.clearTimeout(n),r.state&&0!==r.state?i(new uP(hO.CROSS_CHANNEL_WAIT_STATUS_ERROR,\"wait status error, status: \".concat(e))):t(void 0)})),this.once(\"dispose\",(()=>{window.clearTimeout(n),i(new uP(hO.WS_ABORT))}))}))}async request(e){if(\"closed\"===this.ws.state)throw new uP(hO.WS_DISCONNECT);const t=()=>new rp(((e,t)=>{this.ws.once(WV.CLOSED,(()=>t(new uP(hO.WS_ABORT)))),this.ws.once(WV.CONNECTED,e)}));\"connected\"!==this.ws.state&&await t();const i=this.sendMessage(e),n=new rp(((e,t)=>{const n=()=>{t(new uP(hO.WS_ABORT))};this.ws.once(WV.RECONNECTING,n),this.ws.once(WV.CLOSED,n),this.once(\"req_\".concat(i),e),fN(3e3).then((()=>{this.removeAllListeners(\"req_\".concat(i)),this.ws.off(WV.RECONNECTING,n),this.ws.off(WV.CLOSED,n),t(new uP(hO.TIMEOUT,\"cross channel ws request timeout\"))}))})),r=await n;if(!r||200!==r.code)throw new uP(hO.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,\"response: \".concat(JSON.stringify(r)));return r}async connect(e){this.ws.removeAllListeners(WV.REQUEST_NEW_URLS),this.ws.on(WV.REQUEST_NEW_URLS,(t=>{t(e)})),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit(\"dispose\"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval((()=>{this.sendPing({command:\"ping\",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class gq extends NO{set state(e){e!==this._state&&(e!==nx.RELAY_STATE_FAILURE&&(this.errorCode=rx.RELAY_OK),this.emit(\"state\",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,i,n,r){super(),iA(this,\"joinInfo\",void 0),iA(this,\"sid\",void 0),iA(this,\"clientId\",void 0),iA(this,\"cancelToken\",Tw.CancelToken.source()),iA(this,\"workerToken\",void 0),iA(this,\"requestId\",0),iA(this,\"signal\",void 0),iA(this,\"prevChannelMediaConfig\",void 0),iA(this,\"httpRetryConfig\",void 0),iA(this,\"_resolution\",void 0),iA(this,\"_state\",nx.RELAY_STATE_IDLE),iA(this,\"errorCode\",rx.RELAY_OK),iA(this,\"onStatus\",(e=>{iP.debug(\"[\".concat(this.clientId,\"] ChannelMediaStatus: \").concat(JSON.stringify(e))),e&&e.command&&(\"onAudioPacketReceived\"===e.command&&this.emit(\"event\",ix.PACKET_RECEIVED_AUDIO_FROM_SRC),\"onVideoPacketReceived\"===e.command&&this.emit(\"event\",ix.PACKET_RECEIVED_VIDEO_FROM_SRC),\"onSrcTokenPrivilegeDidExpire\"===e.command&&(this.errorCode=rx.SRC_TOKEN_EXPIRED,this.state=nx.RELAY_STATE_FAILURE),\"onDestTokenPrivilegeDidExpire\"===e.command&&(this.errorCode=rx.DEST_TOKEN_EXPIRED,this.state=nx.RELAY_STATE_FAILURE))})),iA(this,\"onReconnect\",(async()=>{iP.debug(\"[\".concat(this.clientId,\"] ChannelMediaSocket disconnect, reconnecting\")),this.emit(\"event\",ix.NETWORK_DISCONNECTED),this.state=nx.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch((e=>{this.state!==nx.RELAY_STATE_IDLE&&(iP.error(\"auto restart channel media relay failed\",e.toString()),this.errorCode=rx.SERVER_CONNECTION_LOST,this.state=nx.RELAY_STATE_FAILURE)}))})),this.joinInfo=e,this.clientId=t,this.sid=gN(),this.signal=new Sq(this.joinInfo,this.clientId,i),this.httpRetryConfig=n,this._resolution=r}async startChannelMediaRelay(e){if(this.state!==nx.RELAY_STATE_IDLE)throw new uP(hO.INVALID_OPERATION);this.state=nx.RELAY_STATE_CONNECTING,await this.connect(),iP.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: connect success\"));try{await this.sendStartRelayMessage(e)}catch(e){if(e.data&&e.data.serverResponse&&\"SetSourceChannel\"===e.data.serverResponse.command)throw new uP(hO.CROSS_CHANNEL_FAILED_JOIN_SRC);if(e.data&&e.data.serverResponse&&\"SetDestChannelStatus\"===e.serverResponse.command)throw new uP(hO.CROSS_CHANNEL_FAILED_JOIN_DEST);if(e.data&&e.data.serverResponse&&\"StartPacketTransfer\"===e.serverResponse.command)throw new uP(hO.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw e}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==nx.RELAY_STATE_RUNNING)throw new uP(hO.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async setVideoProfile(e){if(this._resolution=e,this.state!==nx.RELAY_STATE_RUNNING)throw new uP(hO.INVALID_OPERATION);const t=this.genMessage(tx.SetVideoProfile);await this.signal.request(t),iP.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: setVideoProfile success\"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),iP.debug(\"[\".concat(this.clientId,\"] stopChannelMediaRelay: send stop message success\")),this.state=nx.RELAY_STATE_IDLE,this.dispose()}dispose(){iP.debug(\"[\".concat(this.clientId,\"] disposeChannelMediaRelay\")),this.cancelToken.cancel(),this.cancelToken=Tw.CancelToken.source(),this.state=nx.RELAY_STATE_IDLE,this.emit(\"dispose\"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await qB(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit(\"event\",ix.NETWORK_CONNECTED),this.signal.on(\"status\",this.onStatus),this.signal.on(\"reconnecting\",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage(tx.SetSdkProfile,e);await this.signal.request(t),iP.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSdkProfile success\"));const i=this.genMessage(tx.SetSourceChannel,e);await this.signal.request(i),await this.signal.waitStatus(\"SetSourceChannelStatus\"),this.emit(\"event\",ix.PACKET_JOINED_SRC_CHANNEL),iP.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceChannel success\"));const n=this.genMessage(tx.SetSourceUserId,e);await this.signal.request(n),iP.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceUserId success\"));const r=this.genMessage(tx.SetDestChannel,e);await this.signal.request(r),await this.signal.waitStatus(\"SetDestChannelStatus\"),this.emit(\"event\",ix.PACKET_JOINED_DEST_CHANNEL),iP.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetDestChannel success\"));const o=this.genMessage(tx.StartPacketTransfer,e);await this.signal.request(o),this.emit(\"event\",ix.PACKET_SENT_TO_DEST_CHANNEL),this.state=nx.RELAY_STATE_RUNNING,iP.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StartPacketTransfer success\")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(e){const t=this.genMessage(tx.UpdateDestChannel,e);await this.signal.request(t),this.emit(\"event\",ix.PACKET_UPDATE_DEST_CHANNEL),iP.debug(\"[\".concat(this.clientId,\"] sendUpdateMessage: UpdateDestChannel success\"))}async sendStopRelayMessage(){const e=this.genMessage(tx.StopPacketTransfer);await this.signal.request(e),iP.debug(\"[\".concat(this.clientId,\"] sendStopRelayMessage: StopPacketTransfer success\"))}genMessage(e,t){const i=[],n=[],r=[];this.requestId+=1;const o={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:hD,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};\"4.24.1\"===o.sdkVersion&&(o.sdkVersion=\"0.0.1\");let s=null,a=null;switch(e){case tx.SetSdkProfile:return o.clientRequest={command:\"SetSdkProfile\",type:\"multi_channel\"},o;case tx.SetSourceChannel:if(a=t&&t.getSrcChannelMediaInfo(),!a)throw new uP(hO.UNEXPECTED_ERROR,\"can not find source config\");return o.clientRequest={command:\"SetSourceChannel\",uid:\"0\",channelName:a.channelName,token:a.token||this.joinInfo.appId},o;case tx.SetSourceUserId:if(a=t&&t.getSrcChannelMediaInfo(),!a)throw new uP(hO.UNEXPECTED_ERROR,\"can not find source config\");return o.clientRequest={command:\"SetSourceUserId\",uid:a.uid+\"\"},o;case tx.SetDestChannel:if(s=t&&t.getDestChannelMediaInfo(),!s)throw new uP(hO.UNEXPECTED_ERROR,\"can not find dest config\");return s.forEach((e=>{i.push(e.channelName),n.push(e.uid+\"\"),r.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:\"SetDestChannel\",channelName:i,uid:n,token:r},o;case tx.StartPacketTransfer:return o.clientRequest={command:\"StartPacketTransfer\"},o;case tx.Reconnect:return o.clientRequest={command:\"Reconnect\"},o;case tx.StopPacketTransfer:return o.clientRequest={command:\"StopPacketTransfer\"},o;case tx.UpdateDestChannel:if(s=t&&t.getDestChannelMediaInfo(),!s)throw new uP(hO.UNEXPECTED_ERROR,\"can not find dest config\");return s.forEach((e=>{i.push(e.channelName),n.push(e.uid+\"\"),r.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:\"UpdateDestChannel\",channelName:i,uid:n,token:r},o;case tx.SetVideoProfile:o.clientRequest={command:\"SetVideoProfile\",width:this._resolution.width,height:this._resolution.height}}return o}}const Tq={name:\"ChannelMediaRelay\",create:function(e){return new gq(e.joinInfo,e.clientId,e.websocketRetryConfig||kN,e.httpRetryConfig||kN,e.resolution)}};function Rq(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Cq(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Rq(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Rq(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class vq extends NO{constructor(e,t,i,n){super(),iA(this,\"spec\",void 0),iA(this,\"token\",void 0),iA(this,\"websocket\",void 0),iA(this,\"pingpongTimer\",void 0),iA(this,\"reconnectMode\",\"retry\"),iA(this,\"serviceMode\",void 0),iA(this,\"reqId\",0),iA(this,\"commandReqId\",0),iA(this,\"handleWebSocketOpen\",(()=>{this.reconnectMode=\"retry\",this.startPingPong()})),iA(this,\"handleWebSocketMessage\",(e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit(\"@\".concat(t.requestId,\"-\").concat(t.sid),t):(lP.workerEvent(this.spec.sid,{actionType:\"status\",serverCode:t.code,workerType:this.serviceMode===YV.TRANSCODE?1:2}),this.emit(QV.PUBLISH_STREAM_STATUS,t))})),this.spec=t,this.token=e,this.serviceMode=n,this.websocket=new $x(\"live-streaming\",i),this.websocket.on(WV.CONNECTED,this.handleWebSocketOpen),this.websocket.on(WV.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(WV.REQUEST_NEW_URLS,((e,t)=>{zO(this,QV.REQUEST_NEW_ADDRESS).then(e).catch(t)})),this.websocket.on(WV.RECONNECTING,(()=>{this.websocket.reconnectMode=this.reconnectMode}))}init(e){return this.websocket.init(e)}async request(e,t,i,n){this.reqId+=1,\"request\"===e&&(this.commandReqId+=1);const r=this.commandReqId,o=this.reqId;if(!o||!this.websocket)throw new uP(hO.UNEXPECTED_ERROR);const s=Cq({command:e,sdkVersion:\"4.24.1\"===hD?\"0.0.1\":hD,seq:o,requestId:o,allocate:i,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if(\"closed\"===this.websocket.state)throw new uP(hO.WS_DISCONNECT);const a=()=>new rp(((e,t)=>{this.websocket.once(WV.CLOSED,(()=>t(new uP(hO.WS_ABORT)))),this.websocket.once(WV.CONNECTED,e)}));\"connected\"!==this.websocket.state&&await a(),s.clientRequest&&(s.clientRequest.workerToken=this.token);const c=new rp(((e,t)=>{const i=()=>{t(new uP(hO.WS_ABORT))};this.websocket.once(WV.RECONNECTING,i),this.websocket.once(WV.CLOSED,i),this.once(\"@\".concat(o,\"-\").concat(this.spec.sid),(t=>{e(t)}))}));n&&lP.workerEvent(this.spec.sid,Cq(Cq({},n),{},{requestId:r,actionType:\"request\",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const d=Date.now();this.websocket.sendMessage(s);let l=null;try{l=await c}catch(n){if(\"closed\"===this.websocket.state)throw n;return await a(),await this.request(e,t,i)}return n&&lP.workerEvent(this.spec.sid,Cq(Cq({},n),{},{requestId:r,actionType:\"response\",payload:JSON.stringify(l.serverResponse),serverCode:l.code,success:200===l.code,responseTime:Date.now()-d})),200!==l.code&&this.handleResponseError(l),l}tryNextAddress(){this.reconnectMode=\"tryNext\",this.websocket.reconnect(\"tryNext\")}close(){const e=\"4.24.1\"===hD?\"0.0.1\":hD;this.reqId+=1,\"connected\"===this.websocket.state?(this.websocket.sendMessage({command:\"request\",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:\"DestroyWorker\"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case $V.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void iP.warning(\"live stream response already exists stream\");case $V.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case $V.LIVE_STREAM_RESPONSE_BAD_STREAM:case $V.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new uP(hO.LIVE_STREAMING_INVALID_ARGUMENT,\"\",{code:e.code}).throw();case $V.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(\"UnpublishStream\"===e.serverResponse.command)return;throw new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case $V.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new uP(hO.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,\"\",{code:e.code}).throw();case $V.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new uP(hO.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(QV.WARNING,t,e.serverResponse.url)}case $V.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new uP(hO.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(QV.WARNING,t,e.serverResponse.url)}case $V.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case $V.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new uP(hO.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,\"\",{code:e.code}).throw();case $V.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new uP(hO.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(QV.WARNING,t,e.serverResponse.url)}case $V.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code}).throw();case $V.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream resource limit\",{retry:!0,changeAddress:!0});case $V.LIVE_STREAM_RESPONSE_WORKER_LOST:case $V.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(\"UnpublishStream\"===e.serverResponse.command)return;throw new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case $V.ERROR_FAIL_SEND_MESSAGE:if(\"UnpublishStream\"===e.serverResponse.command)return;if(\"UpdateTranscoding\"===e.serverResponse.command||\"ControlStream\"===e.serverResponse.command)return new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{code:e.code}).throw();throw new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case $V.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new uP(hO.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((()=>{\"connected\"===this.websocket.state&&this.request(\"ping\",{}).catch(TN)}),6e3)}}function yq(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Iq(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?yq(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yq(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class Aq extends NO{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kN,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kN;super(),iA(this,\"onLiveStreamWarning\",void 0),iA(this,\"onLiveStreamError\",void 0),iA(this,\"spec\",void 0),iA(this,\"retryTimeout\",1e4),iA(this,\"connection\",void 0),iA(this,\"httpRetryConfig\",void 0),iA(this,\"wsRetryConfig\",void 0),iA(this,\"streamingTasks\",new Map),iA(this,\"isStartingStreamingTask\",!1),iA(this,\"taskMutex\",new PN(\"live-streaming\")),iA(this,\"cancelToken\",Tw.CancelToken.source()),iA(this,\"transcodingConfig\",void 0),iA(this,\"uapResponse\",void 0),iA(this,\"lastTaskId\",1),iA(this,\"statusError\",new Map),this.spec=e,this.httpRetryConfig=i,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=Iq(Iq({},JV),e);66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(iP.debug(\"[\".concat(this.spec.clientId,\"] set transcoding config, fix video codec profile: \").concat(t.videoCodecProfile,\" -> 100\")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((e=>Iq(Iq(Iq({},zV),e),{},{zOrder:e.zOrder?e.zOrder+1:1})))),function(e){TO(e.width)||mO(e.width,\"config.width\",0,1e4),TO(e.height)||mO(e.height,\"config.height\",0,1e4),TO(e.videoBitrate)||mO(e.videoBitrate,\"config.videoBitrate\",1,1e6),TO(e.videoFrameRate)||mO(e.videoFrameRate,\"config.videoFrameRate\"),TO(e.lowLatency)||_O(e.lowLatency,\"config.lowLatency\"),TO(e.audioSampleRate)||EO(e.audioSampleRate,\"config.audioSampleRate\",[32e3,44100,48e3]),TO(e.audioBitrate)||mO(e.audioBitrate,\"config.audioBitrate\",1,128),TO(e.audioChannels)||EO(e.audioChannels,\"config.audioChannels\",[1,2,3,4,5]),TO(e.videoGop)||mO(e.videoGop,\"config.videoGop\"),TO(e.videoCodecProfile)||EO(e.videoCodecProfile,\"config.videoCodecProfile\",[66,77,100]),TO(e.userCount)||mO(e.userCount,\"config.userCount\",0,17),TO(e.backgroundColor)||mO(e.backgroundColor,\"config.backgroundColor\",0,16777215),TO(e.userConfigExtraInfo)||SO(e.userConfigExtraInfo,\"config.userConfigExtraInfo\",0,4096,!1),e.transcodingUsers&&!TO(e.transcodingUsers)&&(gO(e.transcodingUsers,\"config.transcodingUsers\"),e.transcodingUsers.forEach(((e,t)=>{KV(e.uid),TO(e.x)||mO(e.x,\"transcodingUser[\".concat(t,\"].x\"),0,1e4),TO(e.y)||mO(e.y,\"transcodingUser[\".concat(t,\"].y\"),0,1e4),TO(e.width)||mO(e.width,\"transcodingUser[\".concat(t,\"].width\"),0,1e4),TO(e.height)||mO(e.height,\"transcodingUser[\".concat(t,\"].height\"),0,1e4),TO(e.zOrder)||mO(e.zOrder-1,\"transcodingUser[\".concat(t,\"].zOrder\"),0,100),TO(e.alpha)||mO(e.alpha,\"transcodingUser[\".concat(t,\"].alpha\"),0,1,!1)}))),TO(e.watermark)||XV(e.watermark,\"watermark\"),TO(e.backgroundImage)||XV(e.backgroundImage,\"backgroundImage\"),e.images&&!TO(e.images)&&(gO(e.images,\"config.images\"),e.images.forEach(((e,t)=>{XV(e,\"images[\".concat(t,\"]\"))})))}(t);const i=[];t.images&&i.push(...t.images.map((e=>Iq(Iq(Iq({},qV),e),{},{zOrder:255})))),t.backgroundImage&&(i.push(Iq(Iq(Iq({},qV),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(i.push(Iq(Iq(Iq({},qV),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=i,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((e=>Iq({},e))),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const n=(t.userConfigs||[]).map((e=>\"number\"==typeof e.uid?rp.resolve(e.uid):WB(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig)));if((await rp.all(n)).forEach(((e,i)=>{t.userConfigs&&t.userConfigs[i]&&(t.userConfigs[i].uid=e)})),this.transcodingConfig=t,this.connection)try{var r;const e=await this.connection.request(\"request\",{clientRequest:{command:\"UpdateTranscoding\",transcodingConfig:this.transcodingConfig}},!1,{command:\"UpdateTranscoding\",workerType:1,requestByUser:!0,tid:Array.from(pp(r=this.streamingTasks).call(r)).map((e=>e.taskId)).join(\"#\")});iP.debug(\"[\".concat(this.spec.clientId,\"] update live transcoding config success, code: \").concat(e.code,\", config:\"),JSON.stringify(this.transcodingConfig))}catch(e){if(!e.data||!e.data.retry)throw e;e.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((t=>{iP.warning(\"[\".concat(this.spec.clientId,\"] live streaming receive error\"),e.toString(),\"try to republish\",t.url),this.startLiveStreamingTask(t.url,t.mode,e).then((()=>{iP.debug(\"[\".concat(this.spec.clientId,\"] live streaming republish \").concat(t.url,\" success\"))})).catch((e=>{iP.error(\"[\".concat(this.spec.clientId,\"] live streaming republish failed\"),t.url,e.toString()),this.onLiveStreamError&&this.onLiveStreamError(t.url,e)}))}))}}async startLiveStreamingTask(e,t,i){if(!this.transcodingConfig&&t===YV.TRANSCODE)throw new uP(hO.INVALID_OPERATION,\"[LiveStreaming] no transcoding config found, can not start transcoding streaming task\");const n={command:\"PublishStream\",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};iP.debug(\"[\".concat(this.spec.clientId,\"] start live streaming \").concat(e,\", mode: \").concat(t));const r=await this.taskMutex.lock();if(!this.connection&&i)return void r();if(this.streamingTasks.get(e)&&!i)return r(),new uP(hO.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(e){throw r(),e}switch(t){case YV.TRANSCODE:n.transcodingConfig=Iq({},this.transcodingConfig);case YV.RAW:}this.uapResponse&&this.uapResponse.vid&&(n.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const o=this.lastTaskId++;try{const s=new rp(((t,n)=>{fN(this.retryTimeout).then((()=>{if(i)return n(i);const t=this.statusError.get(e);return t?(this.statusError.delete(e),n(t)):void 0}))})),a=await rp.race([this.connection.request(\"request\",{clientRequest:n},!0,{url:e,command:\"PublishStream\",workerType:t===YV.TRANSCODE?1:2,requestByUser:!i,tid:o.toString()}),s]);this.isStartingStreamingTask=!1,iP.debug(\"[\".concat(this.spec.clientId,\"] live streaming started, code: \").concat(a.code)),this.streamingTasks.set(e,{clientRequest:n,mode:t,url:e,taskId:o}),r()}catch(n){if(r(),this.isStartingStreamingTask=!1,!n.data||!n.data.retry||i)throw n;return n.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,n)):await this.startLiveStreamingTask(e,t,n)}}stopLiveStreamingTask(e){return new rp(((t,i)=>{const n=this.streamingTasks.get(e);if(!n||!this.connection)return new uP(hO.UNEXPECTED_ERROR,\"can not find streaming task to stop\").throw();const r=n.mode;n.abortTask=()=>{iP.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success(worker exception)\")),this.streamingTasks.delete(e),t()},this.connection.request(\"request\",{clientRequest:{command:\"UnpublishStream\",url:n.url}},!1,{url:e,command:\"UnPublishStream\",workerType:r===YV.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then((i=>{iP.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success, code: \").concat(i.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&(this.connection&&this.connection.close(),this.connection=void 0),t()})).catch(i)}))}resetAllTask(){var e;const t=Array.from(pp(e=this.streamingTasks).call(e));this.terminate();for(const e of t)this.startLiveStreamingTask(e.url,e.mode).catch((t=>{this.onLiveStreamError&&this.onLiveStreamError(e.url,t)}))}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=Tw.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new uP(hO.UNEXPECTED_ERROR,\"live streaming connection has already connected\");const t=await zO(this,ZV.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new vq(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(QV.WARNING,((e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e))),this.connection.on(QV.PUBLISH_STREAM_STATUS,(e=>this.handlePublishStreamServer(e))),this.connection.on(QV.REQUEST_NEW_ADDRESS,((t,i)=>{if(!this.connection)return i(new uP(hO.UNEXPECTED_ERROR,\"can not get new live streaming address list\"));zO(this,ZV.REQUEST_WORKER_MANAGER_LIST,e).then((e=>{this.uapResponse=e,t(e.addressList)})).catch(i)})),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||\"empty_url\",i=this.streamingTasks.get(t),n=e.reason;switch(e.code){case $V.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const n=new uP(hO.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code});if(i)return iP.error(n.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,n);if(!this.isStartingStreamingTask)return;this.statusError.set(t,n)}case $V.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new uP(hO.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,n);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case $V.LIVE_STREAM_RESPONSE_WORKER_LOST:case $V.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var r;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(pp(r=this.streamingTasks).call(r));for(const i of t)i.abortTask?i.abortTask():(iP.warning(\"[\".concat(this.spec.clientId,\"] publish stream status code\"),e.code,\"try to republish\",i.url),this.startLiveStreamingTask(i.url,i.mode,new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code})).then((()=>{iP.debug(\"[\".concat(this.spec.clientId,\"] republish live stream success\"),i.url)})).catch((e=>{iP.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(i.url,e)})));return}}}hasUrl(e){return this.streamingTasks.has(e)}}const bq={name:\"LiveStreaming\",create:function(e){return new Aq(e.joinInfo,e.websocketRetryConfig||kN,e.httpRetryConfig||kN)}};function wq(e){let t=Fq();return function(e,t){let i=e.appId;void 0!==i&&($q(t,10),Yq(t,i));let n=e.cid;void 0!==n&&($q(t,16),$q(t,n));let r=e.cname;void 0!==r&&($q(t,26),Yq(t,r));let o=e.deviceId;void 0!==o&&($q(t,34),Yq(t,o));let s=e.elapse;void 0!==s&&($q(t,40),eX(t,s));let a=e.fileSize;void 0!==a&&($q(t,48),eX(t,Vq(a)));let c=e.height;void 0!==c&&($q(t,56),eX(t,Vq(c)));let d=e.jpg;void 0!==d&&($q(t,66),$q(t,d.length),function(e,t){let i=Wq(e,t.length);e.bytes.set(t,i)}(t,d));let l=e.networkType;void 0!==l&&($q(t,72),eX(t,Vq(l)));let u=e.osType;void 0!==u&&($q(t,80),eX(t,Vq(u)));let h=e.requestId;void 0!==h&&($q(t,90),Yq(t,h));let p=e.sdkVersion;void 0!==p&&($q(t,98),Yq(t,p));let _=e.sequence;void 0!==_&&($q(t,104),eX(t,Vq(_)));let E=e.sid;void 0!==E&&($q(t,114),Yq(t,E));let m=e.timestamp;void 0!==m&&($q(t,120),eX(t,m));let f=e.uid;void 0!==f&&($q(t,128),$q(t,f));let S=e.vid;void 0!==S&&($q(t,136),$q(t,S));let g=e.width;void 0!==g&&($q(t,144),eX(t,Vq(g)));let T=e.service;void 0!==T&&($q(t,152),$q(t,T));let R=e.callbackData;void 0!==R&&($q(t,162),Yq(t,R));let C=e.jpgEncryption;void 0!==C&&($q(t,168),$q(t,C));let v=e.requestType;void 0!==v&&($q(t,176),$q(t,v));let y=e.scorePorn;void 0!==y&&($q(t,185),Qq(t,y));let I=e.scoreSexy;void 0!==I&&($q(t,193),Qq(t,I));let A=e.scoreNeutral;void 0!==A&&($q(t,201),Qq(t,A));let b=e.scene;void 0!==b&&($q(t,208),$q(t,b));let w=e.ossFilePrefix;void 0!==w&&($q(t,218),Yq(t,w));let O=e.serviceVendor;if(void 0!==O)for(let e of O){$q(t,226);let i=Fq();Dq(e,i),$q(t,i.limit),zq(t,i),Bq(i)}}(e,t),function(e){let t=e.bytes,i=e.limit;return t.length===i?t:t.subarray(0,i)}(t)}function Oq(e){return function(e){let t={};e:for(;!Gq(e);){let i=Zq(e);switch(i>>>3){case 0:break e;case 1:t.code=Zq(e);break;case 2:t.msg=Kq(e,Zq(e));break;case 3:{let i=Pq(e);t.data=Nq(e),e.limit=i;break}default:Lq(e,7&i)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function Nq(e){let t={};e:for(;!Gq(e);){let i=Zq(e);switch(i>>>3){case 0:break e;case 1:t.requestId=Kq(e,Zq(e));break;case 2:t.requestType=Zq(e)>>>0;break;case 3:t.scorePorn=Jq(e);break;case 4:t.scoreSexy=Jq(e);break;case 5:t.scoreNeutral=Jq(e);break;case 6:t.requestScene=Zq(e)>>>0;break;case 7:t.scene=Zq(e)>>>0;break;default:Lq(e,7&i)}}return t}function Dq(e,t){let i=e.service;void 0!==i&&($q(t,8),$q(t,i));let n=e.vendor;void 0!==n&&($q(t,16),$q(t,n));let r=e.token;void 0!==r&&($q(t,26),Yq(t,r));let o=e.callbackUrl;void 0!==o&&($q(t,34),Yq(t,o))}function Pq(e){let t=Zq(e),i=e.limit;return e.limit=e.offset+t,i}function Lq(e,t){switch(t){case 0:for(;128&qq(e););break;case 2:jq(e,Zq(e));break;case 5:jq(e,4);break;case 1:jq(e,8);break;default:throw new Error(\"Unimplemented type: \"+t)}}let kq=new Float32Array(1);new Uint8Array(kq.buffer);let Mq=new Float64Array(1),Uq=new Uint8Array(Mq.buffer);function Vq(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let xq=[];function Fq(){const e=xq.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function Bq(e){xq.push(e)}function jq(e,t){if(e.offset+t>e.limit)throw new Error(\"Skip past limit\");e.offset+=t}function Gq(e){return e.offset>=e.limit}function Wq(e,t){let i=e.bytes,n=e.offset,r=e.limit,o=n+t;if(o>i.length){let t=new Uint8Array(2*o);t.set(i),e.bytes=t}return e.offset=o,o>r&&(e.limit=o),n}function Hq(e,t){let i=e.offset;if(i+t>e.limit)throw new Error(\"Read past limit\");return e.offset+=t,i}function Kq(e,t){let i=Hq(e,t),n=String.fromCharCode,r=e.bytes,o=\"�\",s=\"\";for(let e=0;e<t;e++){let a,c,d,l,u=r[e+i];0==(128&u)?s+=n(u):192==(224&u)?e+1>=t?s+=o:(a=r[e+i+1],128!=(192&a)?s+=o:(l=(31&u)<<6|63&a,l<128?s+=o:(s+=n(l),e++))):224==(240&u)?e+2>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],32896!=(49344&(a|c<<8))?s+=o:(l=(15&u)<<12|(63&a)<<6|63&c,l<2048||l>=55296&&l<=57343?s+=o:(s+=n(l),e+=2))):240==(248&u)?e+3>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],d=r[e+i+3],8421504!=(12632256&(a|c<<8|d<<16))?s+=o:(l=(7&u)<<18|(63&a)<<12|(63&c)<<6|63&d,l<65536||l>1114111?s+=o:(l-=65536,s+=n(55296+(l>>10),56320+(1023&l)),e+=3))):s+=o}return s}function Yq(e,t){let i=t.length,n=0;for(let e=0;e<i;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<i&&(r=(r<<10)+t.charCodeAt(++e)-56613888),n+=r<128?1:r<2048?2:r<65536?3:4}$q(e,n);let r=Wq(e,n),o=e.bytes;for(let e=0;e<i;e++){let n=t.charCodeAt(e);n>=55296&&n<=56319&&e+1<i&&(n=(n<<10)+t.charCodeAt(++e)-56613888),n<128?o[r++]=n:(n<2048?o[r++]=n>>6&31|192:(n<65536?o[r++]=n>>12&15|224:(o[r++]=n>>18&7|240,o[r++]=n>>12&63|128),o[r++]=n>>6&63|128),o[r++]=63&n|128)}}function zq(e,t){let i=Wq(e,t.limit),n=e.bytes,r=t.bytes;for(let e=0,o=t.limit;e<o;e++)n[e+i]=r[e]}function qq(e){return e.bytes[Hq(e,1)]}function Xq(e,t){let i=Wq(e,1);e.bytes[i]=t}function Jq(e){let t=Hq(e,8),i=e.bytes;return Uq[0]=i[t++],Uq[1]=i[t++],Uq[2]=i[t++],Uq[3]=i[t++],Uq[4]=i[t++],Uq[5]=i[t++],Uq[6]=i[t++],Uq[7]=i[t++],Mq[0]}function Qq(e,t){let i=Wq(e,8),n=e.bytes;Mq[0]=t,n[i++]=Uq[0],n[i++]=Uq[1],n[i++]=Uq[2],n[i++]=Uq[3],n[i++]=Uq[4],n[i++]=Uq[5],n[i++]=Uq[6],n[i++]=Uq[7]}function Zq(e){let t,i=0,n=0;do{t=qq(e),i<32&&(n|=(127&t)<<i),i+=7}while(128&t);return n}function $q(e,t){for(t>>>=0;t>=128;)Xq(e,127&t|128),t>>>=7;Xq(e,t)}function eX(e,t){let i=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,o=0===r?0===n?i<16384?i<128?1:2:i<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:r<128?9:10,s=Wq(e,o),a=e.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=9!==o?128|r:127&r;case 8:a[s+7]=8!==o?n>>>21|128:n>>>21&127;case 7:a[s+6]=7!==o?n>>>14|128:n>>>14&127;case 6:a[s+5]=6!==o?n>>>7|128:n>>>7&127;case 5:a[s+4]=5!==o?128|n:127&n;case 4:a[s+3]=4!==o?i>>>21|128:i>>>21&127;case 3:a[s+2]=3!==o?i>>>14|128:i>>>14&127;case 2:a[s+1]=2!==o?i>>>7|128:i>>>7&127;case 1:a[s]=1!==o?128|i:127&i}}function tX(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const iX=new Map([[\"moderation\",1],[\"supervise\",2]]);class nX extends NO{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(Ax.CONNECTION_STATE_CHANGE,t,e)}get inspectType(){return this._inspectType}set inspectType(e){var t;this._inspectMode=nr(t=e.map((e=>iX.get(e)||0))).call(t,((e,t)=>e+t)),this._inspectType=e}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this.qualityRatio}),6e4))}constructor(e){super(),iA(this,\"name\",\"AgoraRTCVideoContentInspect\"),iA(this,\"_connectionState\",yx.CONNECTING),iA(this,\"_innerConnectionState\",void 0),iA(this,\"sequence\",0),iA(this,\"inspectStartTime\",void 0),iA(this,\"workerManagerConnection\",void 0),iA(this,\"workerConnection\",void 0),iA(this,\"workerMessageLengthLimit\",void 0),iA(this,\"inspectIntervalMinimum\",void 0),iA(this,\"qualityRatio\",void 0),iA(this,\"_connectInfo\",void 0),iA(this,\"_cancelTokenSource\",Tw.CancelToken.source()),iA(this,\"_retryConfig\",void 0),iA(this,\"wmSequence\",0),iA(this,\"inspectInterval\",void 0),iA(this,\"inspectTimer\",null),iA(this,\"ossFilePrefix\",void 0),iA(this,\"extraInfo\",void 0),iA(this,\"_inspectType\",void 0),iA(this,\"_inspectMode\",void 0),iA(this,\"_quality\",1),iA(this,\"qualityTimer\",null),iA(this,\"_inspectId\",void 0),iA(this,\"_needWorkUrlOnly\",!1),iA(this,\"inspectImage\",(()=>{if(this.connectionState!==yx.CONNECTED)throw new uP(hO.OPERATION_ABORTED,\"content inspect service connection status is \".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval((()=>{this.connectionState===yx.CONNECTED?this.requestToInspectImage():iP.debug(\"[\".concat(this._inspectId,\"] Inspect State is not connected , \"),this.connectionState)}),this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()})),this._inspectId=SN(5,\"inspect-\"),this.workerMessageLengthLimit=CD(\"VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT\"),this.inspectIntervalMinimum=CD(\"VIDEO_INSPECT_INTERVAL_MINIMUM\"),this.qualityRatio=CD(\"VIDEO_INSPECT_QUALITY_RATIO\"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new $x(\"worker-manager-\"+this._inspectId,kN),this.on(Ax.STATE_CHANGE,((e,t)=>{this._innerConnectionState=e,iP.debug(\"[\".concat(this._inspectId,\"] Inspect operation :\").concat(Ix[e],\" \").concat(t||\"\"))})),this.handleWorkerManagerEvents(),this.workerConnection=new $x(\"worker-\"+this._inspectId,kN),this.handleWorkerEvents()}async init(e,t){this.emit(Ax.STATE_CHANGE,Ix.CONNECT_AP),this._connectInfo=e;const i=this._cancelTokenSource.token;return this._retryConfig=t,new rp(((n,r)=>{this.on(Ax.CONNECTION_STATE_CHANGE,((e,t)=>{t===yx.CONNECTED&&n()})),this.requestAP(e,i,t).then((e=>{this.connectWorkerManager(e)})).catch((e=>{r(e)}))}))}async requestAP(e,t,i){const n=CD(\"WEBCS_DOMAIN\").map((e=>\"https://\".concat(e,\"/api/v1\"))),r=await function(e,t,i,n){let{appId:r,areaCode:o,cname:s,sid:a,token:c,uid:d}=t;UB++;const l=\"image_moderation_api\",u={service_name:l,json_body:JSON.stringify({appId:r,areaCode:o,cname:s,command:\"allocateEdge\",requestId:UB,seq:UB,sid:a,token:c,ts:Date.now(),uid:d+\"\"})};let h,p,_=e[0];return UN((async()=>{h=Date.now();const e=await _B(_,{data:u,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(p=Date.now()-h,0!==e.code){const t=new uP(hO.UNEXPECTED_RESPONSE,\"image inspect ap error, code\"+e.code,{retry:!0,responseTime:p});throw iP.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new uP(hO.UNEXPECTED_RESPONSE,\"image inspect ap error, code: \".concat(t.code,\", reason: \").concat(t.reason),{code:t.code,responseTime:p});throw iP.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new uP(hO.UNEXPECTED_RESPONSE,\"image inspect ap empty server\",{code:t.code,responseTime:p});throw iP.error(e.toString()),e}const n=CD(\"VIDEO_INSPECT_WORKER_MANAGER_WSS\");if(n)return{addressList:[n],workerToken:t.workerToken,vid:t.vid,responseTime:p};const r=CD(\"VIDEO_INSPECT_WORKER_MANAGER_HOST\"),o=CD(\"VIDEO_INSPECT_WORKER_MANAGER_PORT\"),s=t.servers.map((e=>{let{address:t,wss:i}=e;if(t&&i)return\"wss://\".concat(t.replace(/\\./g,\"-\"),\".\").concat(r,\":\").concat(o||i)})).filter((e=>!!e));return{addressList:s,workerToken:t.workerToken,vid:t.vid,responseTime:p}}),((t,i)=>(lP.apworkerEvent(a,{success:!0,sc:200,serviceName:l,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===i,responseTime:p,serverIp:e[i%e.length]}),!1)),((t,i)=>(lP.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:l,responseTime:p,serverIp:e[i%e.length]}),!!(t.code!==hO.OPERATION_ABORTED&&t.code!==hO.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(_=e[(i+1)%e.length],!0))),n)}(n,e,t,i);this.emit(Ax.STATE_CHANGE,Ix.AP_CONNECTED);const{addressList:o}=r;return this.wmSequence++,o}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(Ax.STATE_CHANGE,Ix.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(WV.CONNECTED,(async()=>{this.emit(Ax.STATE_CHANGE,Ix.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+\"\",sdkVersion:\"4.24.1\",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:\"join\"}},!0)})),this.workerManagerConnection.on(WV.CLOSED,(()=>{this._innerConnectionState<Ix.GET_WORKER_MANAGER_RESPONSE&&iP.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is closed before connecting worker\"))})),this.workerManagerConnection.on(WV.FAILED,(()=>{this._innerConnectionState<Ix.GET_WORKER_MANAGER_RESPONSE&&iP.debug(\"[\".concat(this._inspectId,\"] Connecting inspect worker manager is failed before connecting worker\"))})),this.workerManagerConnection.on(WV.RECONNECTING,(()=>{this._innerConnectionState<Ix.GET_WORKER_MANAGER_RESPONSE&&iP.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is reconnecting before connecting worker\"))})),this.workerManagerConnection.on(WV.ON_MESSAGE,(async e=>{this.emit(Ax.STATE_CHANGE,Ix.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const i=JSON.parse(e.data);if(200!==i.code)throw iP.error(\"[\".concat(this._inspectId,\"] Unexpected code \").concat(i.code,\" from worker manager\")),new uP(hO.UNEXPECTED_RESPONSE,\"response code of worker is unexpected\",i);if(!(i.serverResponse&&i.serverResponse.portWss&&t))throw iP.error(\"[\".concat(this._inspectId,\"] Unexpected content from worker manager : \").concat(JSON.stringify(i))),new uP(hO.UNEXPECTED_RESPONSE,\"response content of worker is unexpected\",i);{const e=CD(\"VIDEO_INSPECT_WORKER_PORT\")||i.serverResponse.portWss,n=t.replace(/:\\d+\\/?$/,\":\".concat(e));this.emit(Ax.STATE_CHANGE,Ix.CONNECT_WORKER,n),this._needWorkUrlOnly?this.emit(Ax.REQUEST_NEW_WORKER_URL,n):await this.connectWorker(n)}})),this.workerManagerConnection.on(WV.WILL_RECONNECT,((e,t,i)=>{i(e)})),this.workerManagerConnection.on(WV.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}handleWorkerEvents(){this.workerConnection.on(WV.CONNECTED,(async()=>{this.emit(Ax.STATE_CHANGE,Ix.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=yx.CONNECTED})),this.workerConnection.on(WV.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const i=Oq(new Uint8Array(e.data));if(CD(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")&&iP.debug(\"[\".concat(this._inspectId,\"] Response message for worker of inspect content \"),JSON.stringify(i)),200===i.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&\"supervise\"===this.inspectType[0])return void this.emit(Ax.INSPECT_RESULT,void 0,void 0);if(i.data&&i.data.scorePorn&&i.data.scoreSexy&&i.data.scoreNeutral){var t;const e={porn:i.data.scorePorn,sexy:i.data.scoreSexy,neutral:i.data.scoreNeutral},n=nr(t=Object.keys(e)).call(t,((t,i)=>e[t]>e[i]?t:i),\"porn\"),r=Object.keys(e).find((e=>e===n));this.emit(Ax.INSPECT_RESULT,r)}else this.emit(Ax.INSPECT_RESULT,void 0,new uP(hO.UNEXPECTED_RESPONSE,i.code+\"\",\"There is an unexpected data on message\"))}else this.emit(Ax.INSPECT_RESULT,void 0,new uP(hO.UNEXPECTED_RESPONSE,i.code+\"\",i.msg))}else iP.error(\"[\".concat(this._inspectId,\"] Unexpected message type from worker\")),this.emit(Ax.INSPECT_RESULT,void 0,new uP(hO.UNEXPECTED_RESPONSE,\"invalid worker message type\"))})),this.workerConnection.on(WV.CLOSED,(()=>{this.connectionState=yx.CLOSED})),this.workerConnection.on(WV.FAILED,(()=>{this.connectionState=yx.CLOSED})),this.workerConnection.on(WV.RECONNECTING,(()=>{this.connectionState=this.connectionState===yx.CONNECTED?yx.RECONNECTING:yx.CONNECTING})),this.workerConnection.on(WV.WILL_RECONNECT,((e,t,i)=>{\"recover\"===e&&i(e),i(\"tryNext\")})),this.workerConnection.on(WV.REQUEST_NEW_URLS,((e,t)=>{this.workerManagerConnection.close(),this.once(Ax.REQUEST_NEW_WORKER_URL,(t=>{e([t])})),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then((e=>{this.connectWorkerManager(e,!0)})).catch((e=>{t(e)}))}))}async requestToInspectImage(){this.sequence++;const e=XO(this,Ax.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(Ax.INSPECT_RESULT,void 0,new uP(hO.INVALID_OPERATION,\"Only the track being played can be inspected\"));const i=await this.generateRequestData(e,t);this.workerConnection.sendMessage(i,!0,!0)}else this.emit(Ax.INSPECT_RESULT,void 0,new uP(hO.INVALID_OPERATION,\"Only the track being published can be inspected\"))}async generateRequestData(e,t){let{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a}=t;const c=Date.now(),d=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),l=await QL(d,i,n),u=this.sequence+\"-\"+r+\"-\"+a+\"-\"+c+\"-\"+SN(12,\"\"),h={appId:i,cid:r,cname:n,deviceId:\"\",elapse:(p=Number(c-this.inspectStartTime),{low:p|=0,high:p>>31,unsigned:p>=0}),fileSize:l.byteLength,jpgEncryption:2,height:d.height,width:d.width,jpg:l,networkType:6,osType:7,requestId:u,sdkVersion:\"4.24.1\",sequence:this.sequence,sid:s,timestamp:wW(c),uid:a,vid:o,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};var p;void 0===this.extraInfo&&delete h.callbackData,void 0===this.ossFilePrefix&&delete h.ossFilePrefix;const _=wq(h);if(_.byteLength<this.workerMessageLengthLimit){if(CD(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")){const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?tX(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):tX(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},h);delete e.jpg,iP.debug(\"[\".concat(this._inspectId,\"] Request message for worker of inspect content \"),JSON.stringify(e))}return _}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=Tw.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=yx.CLOSED,this.emit(Ax.STATE_CHANGE,Ix.CLOSED)}}const rX={name:\"ContentInspect\",create:function(e){let{config:t}=e;return function(e){if(!e)throw new uP(hO.INVALID_PARAMS,\"inspectConfig is necessary.\");if(!e.inspectType||!Array.isArray(e.inspectType))throw new uP(hO.INVALID_PARAMS,\"inspectConfig.inspectType is necessary and is an instance of Array.\");{const t=[...new Set(e.inspectType)];t.forEach((e=>{var t;if(!Ln(t=[\"supervise\",\"moderation\"]).call(t,e))throw new uP(hO.INVALID_PARAMS,\"\".concat(e,\" is not a valid inspect type.\"))})),e.inspectType=t}if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new uP(hO.INVALID_PARAMS,\"inspectConfig.extraInfo length cannot exceed 1024 bytes\")}(t),new nX(t)}};var oX=i($.Object.getOwnPropertySymbols),sX=Oi,aX=qi.indexOf,cX=Wn,dX=y([].indexOf),lX=!!dX&&1/dX([1],1,-0)<0;sX({target:\"Array\",proto:!0,forced:lX||!cX(\"indexOf\")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return lX?dX(this,e,t)||0:aX(this,e,t)}});var uX=Zi(\"Array\",\"indexOf\"),hX=l,pX=uX,_X=Array.prototype,EX=function(e){var t=e.indexOf;return e===_X||hX(_X,e)&&t===_X.indexOf?pX:t},mX=i(EX);function fX(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==mX(t).call(t,n))continue;i[n]=e[n]}return i}(e,t);if(oX){var o=oX(e);for(n=0;n<o.length;n++)i=o[n],-1===mX(t).call(t,i)&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}let SX=class{get localCapabilities(){return sN(this._localCapabilities)}get rtpCapabilities(){return sN(this._rtpCapabilities)}get candidates(){return sN(this._candidates)}get iceParameters(){return sN(this._iceParameters)}get dtlsParameters(){return sN(this._dtlsParameters)}constructor(e){iA(this,\"sessionDesc\",void 0),iA(this,\"_localCapabilities\",void 0),iA(this,\"_rtpCapabilities\",void 0),iA(this,\"_candidates\",void 0),iA(this,\"_iceParameters\",void 0),iA(this,\"_dtlsParameters\",void 0),iA(this,\"setup\",void 0),iA(this,\"currentMidIndex\",void 0),iA(this,\"cname\",\"o/i14u9pJrxRKAsu\"),iA(this,\"firefoxSsrcMidMap\",new Map),e=sN(e);const{remoteIceParameters:t,remoteDtlsParameters:i,candidates:n,remoteRTPCapabilities:r,localCapabilities:o,direction:s,setup:a,videoCodec:c,audioCodec:d}=e;let l;this.setup=a,l=s===GV.RECEIVE_ONLY?LD(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0 1\\na=msid-semantic: WMS\\na=extmap-allow-mixed\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:0\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:1\\n\"):LD(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0 1\\na=msid-semantic: WMS\\na=extmap-allow-mixed\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=recvonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:0\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=recvonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:1\\n\"),this._rtpCapabilities=r,this._candidates=n,this._iceParameters=t,this._dtlsParameters=i,this._localCapabilities=o;const u=s===GV.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,h=s===GV.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,p=s===GV.RECEIVE_ONLY?r.send.videoCodecs:YF(fx.VIDEO,u,h,c),_=s===GV.RECEIVE_ONLY?r.send.audioCodecs:YF(fx.AUDIO,u,h,d);for(const e of l.mediaDescriptions)e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=i.fingerprints,e.attributes.candidates=n,e.attributes.setup=this.setup,\"application\"===e.media.mediaType&&(e.attributes.sctpPort=\"5000\"),\"video\"===e.media.mediaType&&(e.media.fmts=p.map((e=>e.payloadType.toString(10))),e.attributes.payloads=p,e.attributes.extmaps=u.videoExtensions),\"audio\"===e.media.mediaType&&(e.media.fmts=_.map((e=>e.payloadType.toString(10))),e.attributes.payloads=_,e.attributes.extmaps=u.audioExtensions,KF(e));this.sessionDesc=l,this.currentMidIndex=l.mediaDescriptions.length-1}toString(){return kD(this.sessionDesc)}hasMid(e){return Array.isArray(e)?e.every((e=>this.hasMid(e))):this.sessionDesc.mediaDescriptions.some((t=>t.attributes.mid===e))}send(e,t,i,n,r){i=i.replace(/ /g,\"-\");const{ssrcs:o,ssrcGroups:s}=LF(t,this.cname,CD(\"SYNC_GROUP\")?i:void 0),a=this.findPreloadMediaDesc(o);if(a){if(Bw()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,a.attributes.mid),r&&(r.twcc||r.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return{mid:a.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,o,n);let i;return-1===t?(i=this.createOrRecycleSendMedia(e,o,s,\"sendonly\",n,r),this.updateBundleMids()):(i=sN(this.sessionDesc.mediaDescriptions[t]),i.attributes.direction=\"sendonly\",i.attributes.ssrcs=o,i.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(i,r)),Bw()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,i.attributes.mid),{needExchangeSDP:!0,mid:i.attributes.mid}}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");t.forEach((e=>{e.attributes.ssrcs=[]})),this.updateBundleMids()}receive(e,t,i){const n=[];return e.forEach((e=>{const r=e._mediaStreamTrack.kind,o=this.findAvailableRecvMediaIndex(r);let s,a=!1;-1===o?(a=!0,s=this.createOrRecycleRecvMedia(e,[],\"recvonly\",t,i),this.updateBundleMids()):(s=sN(this.sessionDesc.mediaDescriptions[o]),s.attributes.direction=\"recvonly\"),n.push({mid:s.attributes.mid,needCreateTransceiver:a})})),n}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");t.forEach((e=>{e.media.port=\"0\",e.attributes.direction=\"inactive\"})),this.updateBundleMids()}addRemoteCandidate(e){const{foundation:t,protocol:i,address:n,port:r,type:o,relatedAddress:s,relatedPort:a,priority:c}=new RTCIceCandidate(e),d={foundation:null!=t?t:\"\",componentId:\"1\",transport:null!=i?i:\"\",priority:c?c+\"\":\"\",connectionAddress:null!=n?n:\"\",port:r?r+\"\":\"\",type:o?o+\"\":\"\",relAddr:null!=s?s:\"\",relPort:a?a+\"\":\"\",extension:{}};this.candidates.some((e=>e.priority===d.priority&&e.connectionAddress===d.connectionAddress&&e.port===d.port))||(this._candidates.push(d),this.sessionDesc.mediaDescriptions.forEach((e=>{e.attributes.candidates=this.candidates})))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(e,t,i,n,r){const o=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,a=YF(o,s,this.localCapabilities.send,o===fx.AUDIO?r:n),c=o===fx.VIDEO?s.videoExtensions:s.audioExtensions,d=\"\".concat(++this.currentMidIndex);let l={media:{mediaType:o,port:\"9\",protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(d)}};l=this.mungRecvMediaDsec(l,e);const u=this.findFirstClosedMedia(o);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Ln(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"inactive\"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Ln(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"recvonly\"}))}findAvailableMediaIndex(e,t,i){return this.sessionDesc.mediaDescriptions.findIndex((n=>{const r=n.media.mediaType===e&&\"0\"!==n.media.port&&(\"sendonly\"===n.attributes.direction||\"sendrecv\"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(Bw()){if(r){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||\"0\"!==n.attributes.mid&&\"1\"!==n.attributes.mid)||!(!e||e!==n.attributes.mid)}return!1}return r&&n.attributes.mid===i}))}findAvailableRecvMediaIndex(e){return this.sessionDesc.mediaDescriptions.findIndex((t=>{const i=t.media.mediaType===e&&\"0\"!==t.media.port&&(\"recvonly\"===t.attributes.direction||\"sendrecv\"===t.attributes.direction);return\"0\"!==t.attributes.mid&&\"1\"!==t.attributes.mid&&i}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}restartICE(e){e=sN(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}createOrRecycleSendMedia(e,t,i,n,r,o){const s=this.rtpCapabilities.send,a=e===fx.VIDEO?s.videoCodecs:s.audioCodecs,c=e===fx.VIDEO?s.videoExtensions:s.audioExtensions;Bw()&&(r=\"\".concat(++this.currentMidIndex));let d={media:{mediaType:e,port:\"9\",protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:r}};d=this.mungSendMediaDesc(d,o);const l=this.findFirstClosedMedia(e);if(l){const e=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}mungRecvMediaDsec(e,t,i){const n=sN(e);return MF(n),kF(n,t),UF(n,t),VF(n),xF(n,i,this.localCapabilities.send),n}mungSendMediaDesc(e,t){const i=sN(e);return xF(i,t,this.localCapabilities.recv),KF(i),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>\"0\"!==e.media.port)).map((e=>e.attributes.mid))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var i;return(null===(i=t.attributes)||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId)===e[0].ssrcId}))}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>Bw()?\"0\"===t.media.port&&t.media.mediaType===e:\"0\"===t.media.port))}};const gX=[\"sdp\"];var TX;function RX(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function CX(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?RX(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):RX(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let vX=(TX=class e extends Ex{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[]}set isInRestartIce(e){this._isInRestartIce=e}get isInRestartIce(){return this._isInRestartIce}constructor(t,i,n){super(t,i),iA(this,\"direction\",void 0),iA(this,\"name\",void 0),iA(this,\"store\",void 0),iA(this,\"spec\",void 0),iA(this,\"peerConnection\",void 0),iA(this,\"initialOffer\",void 0),iA(this,\"transport\",void 0),iA(this,\"statsFilter\",void 0),iA(this,\"localCandidateCount\",0),iA(this,\"_isInRestartIce\",!1),iA(this,\"mutex\",void 0),iA(this,\"onLocalCandidate\",void 0),iA(this,\"remoteSDP\",void 0),iA(this,\"pendingCandidates\",[]),iA(this,\"localCapabilities\",void 0),iA(this,\"isReady\",!1),iA(this,\"restartCnt\",0),iA(this,\"curTurnServerIndex\",0),this.store=i,this.spec=t,this.mutex=new PN(\"P2PConnection-mutex\",i.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t,i.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=null!=n?n:GV.SEND_ONLY,this.name=this.direction===GV.SEND_ONLY?\"sendP2PConnection\":\"recvP2PConnection\",this.statsFilter=dD(this.peerConnection,CD(\"STATS_UPDATE_INTERVAL\"),void 0,Bw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(e){try{const t=await jF();if(this.localCapabilities=HF(t),e){const{sdp:t}=e,i=fX(e,gX),n=function(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=wF(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},\"sendonly\"),i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(WF(t,e,\"videoExtensions\",i,n,r),WF(t,e,\"videoCodecs\",i,n,r),WF(t,e,\"audioExtensions\",i,n,r),WF(t,e,\"audioCodecs\",i,n,r),CD(\"RAISE_H264_BASELINE_PRIORITY\")){const e=r.videoCodecs.findIndex((e=>e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&\"42001f\"===e.fmtp.parameters[\"profile-level-id\"]));if(-1!==e){const t=r.videoCodecs.findIndex((e=>e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()));if(t<e){iP.debug(\"raising H264 baseline profile priority\");const i=r.videoCodecs[e];r.videoCodecs.splice(e,1),r.videoCodecs.splice(t,0,i)}-1!==t&&CD(\"FILTER_SEND_H264_BASELINE\")&&(i.videoCodecs=i.videoCodecs.filter((e=>!(e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&\"42001f\"!==e.fmtp.parameters[\"profile-level-id\"]))))}}return{send:i,recv:n,sendrecv:r}}({},{},t);this.remoteSDP=new SX({remoteIceParameters:i.iceParameters,remoteDtlsParameters:i.dtlsParameters,candidates:[],remoteRTPCapabilities:n,localCapabilities:this.localCapabilities,direction:this.direction,setup:\"actpass\",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:\"offer\",sdp:this.remoteSDP.toString()}),this.isReady=!0;const r=await this.peerConnection.createAnswer();if(!r.sdp)throw new Error(\"Cannot get answer sdp when trying to establish PeerConnection.\");const o=OF(r.sdp);await this.peerConnection.setLocalDescription(r);const s=await GF({},{},r.sdp);this.localCapabilities=HF(s);const a=this.peerConnection.getTransceivers()[0];return null!=a&&a.receiver&&a.receiver.transport&&this.tryBindTransportEvents(a.receiver.transport),CX(CX({},o),{},{sdp:r.sdp})}{this.peerConnection.addTransceiver(\"video\",{direction:\"sendonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"sendonly\"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=OF(e.sdp);return this.initialOffer=e,CX(CX({},t),{},{sdp:e.sdp})}}catch(e){throw new pO(hO.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");await this.peerConnection.setLocalDescription(this.initialOffer);const{sdp:t,iceParameters:i,dtlsParameters:n}=e,r=await GF({},{},t);this.remoteSDP=new SX({remoteIceParameters:i,remoteDtlsParameters:n,candidates:[],remoteRTPCapabilities:r,localCapabilities:this.localCapabilities,direction:this.direction,setup:\"active\",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:\"answer\",sdp:this.remoteSDP.toString()});const o=this.peerConnection.getTransceivers()[0];null!=o&&o.sender&&o.sender.transport&&this.tryBindTransportEvents(o.sender.transport)}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}async addRemoteCandidate(e){try{e&&this.pendingCandidates.push(e),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach((e=>{this.peerConnection.addIceCandidate(e)})),this.pendingCandidates=[])}catch(e){throw new pO(hO.ADD_CANDIDATE_FAILED,\"P2PConnection.addRemoteCandidate failed; \".concat(e.toString()))}}send(e,t,i){var n=this;return Mb((function*(){const r=yield Vb(n.mutex.lock(\"From P2PConnection.send\"));try{if(!n.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const o=[],s=n.remoteSDP.receive(e,t,i);e.forEach(((e,t)=>{if(s[t].needCreateTransceiver){const t=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:\"sendonly\"});o.push(t),e._updateRtpTransceiver(t)}else{const i=n.peerConnection.getTransceivers().find((e=>e.mid===s[t].mid));if(!i)throw new Error(\"cannot find transceiver when sendPeerconnection send, mid is \".concat(s[t].mid));o.push(i),e._updateRtpTransceiver(i)}})),Bw()&&!0===CD(\"SIMULCAST\")&&(yield Vb(n.applySimulcastForFirefox(o,e)));const a=s.map((e=>e.mid)),c=yield Vb(n.peerConnection.createOffer()),d=n.mungSendOfferSDP(c.sdp,e,a),l=LD(d),u=a.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return NF(t,CD(\"USE_PUB_RTX\"))})),h=o.map(((e,t)=>{const i=a[t];return{localSSRC:u[t],id:i}}));yield Vb(n.peerConnection.setLocalDescription({type:\"offer\",sdp:d}));try{yield h}catch(e){const t=n.remoteSDP.toString();throw yield Vb(n.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield Vb(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:t})),yield Vb(n.stopSending(a,!0)),e}yield Vb(n.applySimulcastEncodings(o,e)),yield Vb(n.applySendEncodings(o,e));const p=n.remoteSDP.toString(),_=n.logSDPExchange(d,\"offer\",\"local\",\"send\");return null==_||_(p),yield Vb(n.setRemoteDescription({type:\"answer\",sdp:p})),o.map(((e,t)=>{const i=a[t];return{localSSRC:u[t],id:i}}))}catch(e){throw e instanceof pO?e:new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{r()}}))()}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length (\".concat(t.length,\") doesn't match mids' length (\").concat(e.length,\") when trying to call P2PConnection.stopSending.\"));t.map((e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const o=this.remoteSDP.toString();null==r||r(o),await this.setRemoteDescription({type:\"answer\",sdp:o})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,i,n);if(o){const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"receive\");await this.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(n.sdp,r,e);null==i||i(o||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:o}),iP.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"))}else iP.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" no need to exchange SDP.\"));const s=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!s||null===s.mid)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:s.receiver.track,mid:s.mid,transceiver:s}}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async mockReceive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,i,n);if(o){const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"receive\");await this.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(n.sdp,r,e);null==i||i(o||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:o}),iP.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"))}else iP.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" no need to exchange SDP.\"))}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"stopReceiving\");await this.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async restartICE(t){try{if(this.store.p2pTransport===_D.Auto&&(this.store.p2pTransport=_D.SdRtn,pP().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,pP().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!t){this.restartCnt++,this.isReady=!1;const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const{iceParameters:t}=OF(e.sdp);return this.store.descriptionStart(),this.direction===GV.SEND_ONLY&&await this.peerConnection.setLocalDescription(e),t}if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");if(this.remoteSDP.restartICE(t),this.store.descriptionStart(),this.direction===GV.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:\"offer\",sdp:this.remoteSDP.toString()});const e=await this.peerConnection.createAnswer();if(!e.sdp)throw new Error(\"Cannot get answer sdp when trying to iceRestart.\");const{iceParameters:t}=OF(e.sdp);return await this.peerConnection.setLocalDescription(e),t}await this.setRemoteDescription({type:\"answer\",sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}close(){var e;this.peerConnection.close(),this.peerConnection.onicecandidate=null,null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const i=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(i.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),o=this.logSDPExchange(n,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:n}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===i.length&&(this.isVP8Simulcast(t)?Bw()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find((e=>e.mid===t));i&&await i.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:i,remote:n}=t.getSelectedCandidatePair();return{local:CX(CX({},zN),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:CX(CX({},zN),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e,t;Ln(e=[\"connected\",\"completed\"]).call(e,this.peerConnection.iceConnectionState)&&(this.isReady=!1),null===(t=this.onICEConnectionStateChange)||void 0===t||t.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;\"connected\"===this.peerConnection.connectionState&&(this.restartCnt=0),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=e=>{if(e.candidate){var t;if(e.candidate.candidate)null===(t=this.onLocalCandidate)||void 0===t||t.call(this,e.candidate.toJSON());this.localCandidateCount+=1}else iP.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount)})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={iceServers:[]};var o;t.iceServers?r.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(xO(t.turnServer.servers)?r.iceServers=t.turnServer.servers:(r.iceServers&&r.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers,i,n)),CD(\"USE_TURN_SERVER_OF_GATEWAY\")&&r.iceServers&&t.turnServer.serversFromGateway&&r.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway,i,n)),Ln(o=[_D.Relay,_D.SdRtn]).call(o,i)&&(r.iceTransportPolicy=\"relay\"),CD(\"FORCE_TURN_TCP\")?r.iceTransportPolicy=\"relay\":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(r.iceTransportPolicy=\"relay\")}))));return CD(\"ENABLE_ENCODED_TRANSFORM\")&&pP().supportWebRTCEncodedTransform&&(r.encodedInsertableStreams=!0),iP.debug(\"P2PConnection p2pTransport is \".concat(i)),r}static turnServerConfigToIceServers(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=[],r=e.filter((e=>e.tcpport));iP.debug(\"P2PConnection turnServers is \".concat(r,\", current index is \").concat(i));const o=r.length>i?r[i]:r[0];switch(t){case _D.SdRtn:const t=e.filter((e=>{var t;return Ln(t=e.username).call(t,\"glb:\")&&e.turnServerURL==e.turnServerURL})),r=t.length>i?t[i]:t[0];r&&(n.push({username:r.username,credential:r.password,credentialType:\"password\",urls:\"turn:\".concat(sF(r.turnServerURL),\":\").concat(r.tcpport,\"?transport=udp\")}),n.push({username:r.username,credential:r.password,credentialType:\"password\",urls:\"turns:\".concat(sF(r.turnServerURL),\":\").concat(r.tcpport,\"?transport=tcp\")}));break;case _D.Relay:o&&(n.push({username:o.username,credential:o.password,credentialType:\"password\",urls:\"turn:\".concat(o.turnServerURL,\":\").concat(o.tcpport,\"?transport=udp\")}),n.push({username:o.username,credential:o.password,credentialType:\"password\",urls:\"turns:\".concat(sF(o.turnServerURL),\":\").concat(o.tcpport,\"?transport=tcp\")}));break;default:o&&(n.push({username:o.username,credential:o.password,credentialType:\"password\",urls:\"turn:\".concat(o.turnServerURL,\":\").concat(o.tcpport,\"?transport=udp\")}),n.push({username:o.username,credential:o.password,credentialType:\"password\",urls:\"turns:\".concat(sF(o.turnServerURL),\":\").concat(o.tcpport,\"?transport=tcp\")}),n.push({username:o.username,credential:o.password,credentialType:\"password\",urls:\"stun:\".concat(o.turnServerURL,\":\").concat(o.tcpport)}))}return n}tryBindTransportEvents(e){if(e){this.transport=e,e.onstatechange=()=>{var t;null!=e&&e.state&&(null===(t=this.onDTLSTransportStateChange)||void 0===t||t.call(this,e.state))},e.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,\"error\"in e?e.error:e)};const t=e.iceTransport;t&&(t.onstatechange=()=>{const t=null==e?void 0:e.iceTransport.state;var i;t&&(null===(i=this.onICETransportStateChange)||void 0===i||i.call(this,t))},t.getSelectedCandidatePair&&(t.onselectedcandidatepairchange=()=>{if(t.getSelectedCandidatePair()){const{local:e,remote:i}=t.getSelectedCandidatePair()||{};if(e&&i){const t=e.address+\":\"+e.port,n=i.address+\":\"+i.port;iP.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify(mF(t)),\", remote \").concat(JSON.stringify(mF(n))))}}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var i;if(!t){t=this.peerConnection.getSenders().find((t=>t.track===e._mediaStreamTrack))}if(!t)return iP.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return iP.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!pP().supportSetRtpSenderParameters)return iP.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");const n={},r={};switch(e._optimizationMode){case\"motion\":n.degradationPreference=\"maintain-framerate\";break;case\"detail\":n.degradationPreference=\"maintain-resolution\";break;default:n.degradationPreference=\"balanced\"}if(e._encoderConfig){var o;const{bitrateMax:t,frameRate:i,scaleResolutionDownBy:n}=e._encoderConfig;t&&(r.maxBitrate=1e3*t),Ln(o=e._hints).call(o,VP.LOW_STREAM)&&(i&&(r.maxFramerate=dF(i)),n&&n>=1&&(r.scaleResolutionDownBy=n))}if(CD(\"DSCP_TYPE\")&&sO()){var s;const e=CD(\"DSCP_TYPE\");Ln(s=[\"very-low\",\"low\",\"medium\",\"high\"]).call(s,e)&&(r.networkPriority=e)}const a=t.getParameters(),c=null===(i=a.encodings)||void 0===i?void 0:i[0];Bw()&&!c&&(n.encodings=[r]),c&&Object.assign(c,r),Object.assign(a,n),iP.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(a.encodings))),await t.setParameters(a)}async applySendEncodings(e,t){try{if(!pP().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];r instanceof kM&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,n.sender)}}catch(e){iP.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t,i){const n=LD(e);return t.forEach(((e,t)=>{const r=i[t],o=n.mediaDescriptions.find((e=>e.attributes.mid===r));o&&(kF(o,e),FF(o,e,this.store.codec))})),kD(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var i,n,r,o,s;const c=e[a],d=t[a];if(d instanceof kM&&!Ln(i=d._hints).call(i,VP.LOW_STREAM)&&null!==(n=d._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=d._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=d._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(s=d._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(d._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=c.sender.getParameters();await c.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!Bw()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof kM&&this.isVP8Simulcast(n)){const t=e[i],r={},o={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:o.medium,scaleResolutionDownBy:4}];const s=t.sender.getParameters();await t.sender.setParameters(Object.assign(s,r))}}}isVP8Simulcast(e){var t,i,n,r,o;return!!(e instanceof kM&&CD(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!Ln(t=e._hints).call(t,VP.LOW_STREAM)&&null!==(i=e._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=e._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(CD(\"SDP_LOGGING\"))return iP.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(t,\" SDP during P2PConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((e=>{e.direction=\"inactive\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((async e=>{e.direction=\"sendonly\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}async getRemoteSSRC(e,t){var i;if(t=null!=t?t:null===(i=this.currentRemoteDescription)||void 0===i?void 0:i.sdp){var n;const i=null===(n=LD(t).mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===n?void 0:n.attributes.ssrcs;return null==i?void 0:i[0].ssrcId}}async setRemoteDescription(e){var t;await this.peerConnection.setRemoteDescription(e),Ln(t=[\"connected\",\"completed\"]).call(t,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(e,t,i){const n=LD(e),r=n.mediaDescriptions.find((e=>e.attributes.mid===t));return r&&i===fx.AUDIO&&\"audio\"===r.media.mediaType&&KF(r),kD(n)}},DV(TX.prototype,\"establish\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"establish\"),TX.prototype),DV(TX.prototype,\"connect\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"connect\"),TX.prototype),DV(TX.prototype,\"receive\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"receive\"),TX.prototype),DV(TX.prototype,\"mockReceive\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"mockReceive\"),TX.prototype),DV(TX.prototype,\"stopReceiving\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"stopReceiving\"),TX.prototype),DV(TX.prototype,\"restartICE\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"restartICE\"),TX.prototype),DV(TX.prototype,\"close\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"close\"),TX.prototype),DV(TX.prototype,\"updateEncoderConfig\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"updateEncoderConfig\"),TX.prototype),DV(TX.prototype,\"updateSendParameters\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"updateSendParameters\"),TX.prototype),DV(TX.prototype,\"replaceTrack\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"replaceTrack\"),TX.prototype),DV(TX.prototype,\"muteLocal\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"muteLocal\"),TX.prototype),DV(TX.prototype,\"unmuteLocal\",[yX],Object.getOwnPropertyDescriptor(TX.prototype,\"unmuteLocal\"),TX.prototype),TX);function yX(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PConnection.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}let IX=function(e){return e.SEND_ONLY=\"SEND_ONLY\",e.RECEIVE_ONLY=\"RECEIVE_ONLY\",e}({});var AX,bX,wX,OX,NX,DX,PX,LX,kX,MX,UX,VX;function xX(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function FX(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xX(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xX(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let BX=(AX=jX(IX.SEND_ONLY),bX=jX(IX.SEND_ONLY),wX=jX(),OX=jX(IX.RECEIVE_ONLY),NX=jX(IX.RECEIVE_ONLY),DX=jX(IX.RECEIVE_ONLY),PX=jX(IX.RECEIVE_ONLY),LX=jX(IX.RECEIVE_ONLY),kX=jX(IX.RECEIVE_ONLY),MX=jX(),UX=jX(IX.RECEIVE_ONLY),VX=class extends NO{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(vx.StateChange,t,this._state)}constructor(e,t){super(),iA(this,\"isPlanB\",!1),iA(this,\"store\",void 0),iA(this,\"statsUploader\",void 0),iA(this,\"sendConnection\",void 0),iA(this,\"recvConnection\",void 0),iA(this,\"localTrackMap\",new Map),iA(this,\"remoteUserMap\",new Map),iA(this,\"localDataChannels\",[]),iA(this,\"pendingLocalTracks\",[]),iA(this,\"pendingRemoteTracks\",[]),iA(this,\"statsCollector\",void 0),iA(this,\"dtlsFailedCount\",0),iA(this,\"sendMutex\",void 0),iA(this,\"recvMutex\",void 0),iA(this,\"_state\",Cx.Disconnected),iA(this,\"_restartStates\",[\"disconnected\",\"failed\"]),iA(this,\"reconnectInterval\",void 0),iA(this,\"uploadUnplinkStarted\",!1),iA(this,\"uploadDownlinkStarted\",!1),iA(this,\"uplinkStateUploadInterval\",void 0),iA(this,\"downlinkStatsUploadInterval\",void 0),iA(this,\"handleMuteLocalTrack\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleMuteLocalTrack\");try{if(!this.sendConnection||this.state!==Cx.Connected)return void i(new pO(hO.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.\"));const s=this.filterTobeMutedTracks(e);if(0===s.length)return void t();const a=s.find((e=>\"videoLowTrack\"===e[0]));if(a){a[1].track._originMediaStreamTrack.stop()}await this.sendConnection.muteLocal(s.map((e=>{let[,{id:t}]=e;return t})));let c=!1;var r,o;if(\"video\"===e.trackMediaType)c=!(null===(r=this.localTrackMap.get(Rx.LocalAudioTrack))||void 0===r||!r.track._muted);else c=void 0===(null===(o=this.localTrackMap.get(Rx.LocalVideoTrack))||void 0===o?void 0:o.id);const d=this.createMuteMessage(s);await qO(this,vx.RequestMuteLocal,d);const l=\"video\"===e.trackMediaType?Mx.MUTE_LOCAL_VIDEO:Mx.MUTE_LOCAL_AUDIO;await qO(this,vx.RequestP2PMuteLocal,{action:l,message:d,isMuteAll:c}),t()}catch(e){i(e)}finally{n()}})),iA(this,\"handleUnmuteLocalTrack\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleUnmuteLocalTrack\");try{if(!this.sendConnection||this.state!==Cx.Connected)return void i(new pO(hO.INVALID_OPERATION,\"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established.\"));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();await this.sendConnection.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnmuteMessage(r),s=\"video\"===e.trackMediaType?Mx.UNMUTE_LOCAL_VIDEO:Mx.UNMUTE_LOCAL_AUDIO;await qO(this,vx.RequestP2PMuteLocal,{action:s,message:o}),t()}catch(e){i(e)}finally{n()}})),iA(this,\"handleUpdateVideoEncoder\",(async(e,t,i,n)=>{let r;\"boolean\"==typeof n&&n||(r=await this.sendMutex.lock(\"Locking from P2PChannel2.handleUpdateVideoEncoder\"));try{const i=this.localTrackMap.get(Rx.LocalVideoTrack);if(!this.sendConnection||!i||i.track!==e||this.state!==Cx.Connected)return void t();const{id:n,track:s}=i;n&&(await this.sendConnection.updateSendParameters(n,s),await this.sendConnection.updateEncoderConfig(n,s),this.emit(vx.UpdateVideoEncoder,s)),t()}catch(e){i(e)}finally{var o;null===(o=r)||void 0===o||o()}})),iA(this,\"handleUpdateVideoSendParameters\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleUpdateVideoSendParameters\");try{const i=this.localTrackMap.get(Rx.LocalVideoTrack);if(!this.sendConnection||!i||i.track!==e||this.state!==Cx.Connected)return void t();const{id:r,track:o}=i;r&&await this.sendConnection.updateSendParameters(r,o),t()}catch(e){i(e)}finally{n()}})),iA(this,\"handleReplaceTrack\",(async(e,t,i,n)=>{let r;iP.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 handleReplaceTrack for [track-id-\").concat(e.getTrackId(),\"]\")),\"boolean\"==typeof n&&n||(r=await this.sendMutex.lock(\"From P2PChannel2.handleReplaceTrack\"));try{var o;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(!this.sendConnection||!i||void 0===i[1].id||this.state!==Cx.Connected)return void t();if(await(null===(o=this.sendConnection)||void 0===o?void 0:o.replaceTrack(e,i[1].id)),i[0]===Rx.LocalVideoTrack&&pP().supportDualStreamEncoding){const t=this.localTrackMap.get(Rx.LocalVideoLowTrack);if(t){const i=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i,await new rp(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}}t()}catch(e){i(e)}finally{var s;null===(s=r)||void 0===s||s()}})),iA(this,\"handleGetLocalVideoStats\",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),iA(this,\"handleGetLocalAudioStats\",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),iA(this,\"handleGetRemoteVideoStats\",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),iA(this,\"handleGetRemoteAudioStats\",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new iG(e),this.bindStatsUploaderEvents(),this.sendMutex=new PN(\"P2PChannel2-send-mutex\",e.clientId),this.recvMutex=new PN(\"P2PChannel2-recv-mutex\",e.clientId),this.reconnectInterval=window.setInterval((()=>{[this.sendConnection,this.recvConnection].forEach((e=>{e&&(\"disconnected\"!==e.iceConnectionState&&\"failed\"!==e.iceConnectionState||this.handleDisconnect(e.direction))}))}),CD(\"ICE_RESTART_INTERVAL\"))}async startP2PConnection(e,t){throw new pO(hO.NOT_SUPPORTED,\"p2p mode does not support startP2PConnection.\")}async connect(e){throw new pO(hO.NOT_SUPPORTED,\"p2p mode does not support connect.\")}async startP2P(e,t){let i;try{if(t){this.recvConnection&&(iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset recvConnection.\")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),i=await this.recvMutex.lock(\"From P2PChannel.startP2P\"),this.recvConnection=new vX(e,this.store,GV.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);const n=await this.recvConnection.establish(t);return{iceParameters:n.iceParameters,dtlsParameters:n.dtlsParameters,sdp:n.sdp}}{this.state=Cx.New,this.sendConnection&&(iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset sendConnection.\")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),i=await this.sendMutex.lock(\"From P2PChannel.startP2P\"),this.sendConnection=new vX(e,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);const t=await this.sendConnection.establish();return{iceParameters:t.iceParameters,dtlsParameters:t.dtlsParameters,sdp:t.sdp}}}finally{i&&i()}}async p2pConnect(e){if(!this.sendConnection)throw new pO(hO.UNEXPECTED_ERROR,\"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .\");this.store.peerConnectionStart(),await this.sendConnection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Cx.Connected}async addRemoteCandidate(e,t){if(t===GV.RECEIVE_ONLY){if(!this.sendConnection)throw new pO(hO.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .\");await this.sendConnection.addRemoteCandidate(e)}else{if(!this.recvConnection)throw new pO(hO.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .\");await this.recvConnection.addRemoteCandidate(e)}}publish(e,t,i){var n=this;return Mb((function*(){const r=yield Vb(n.sendMutex.lock(\"From P2PChannel.publish\"));try{if(!n.sendConnection||n.state!==Cx.Connected){n.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===n.pendingLocalTracks.indexOf(e)));return void(n.pendingLocalTracks=n.pendingLocalTracks.concat(t))}n.store.pubId=n.store.pubId+1,tj.markPublishStart(n.store.clientId,n.store.pubId);const o=n.filterTobePublishedTracks(e,t,i);if(0===o.length)return void(yield Vb(n.tryToUnmuteAudio(e)));o.forEach((e=>{let{track:t,type:i}=e;const r=Date.now();n.store.publish(t.getTrackId(),i===Rx.LocalAudioTrack?\"audio\":\"video\",r)})),n.bindLocalTrackEvents(o);const s=yield Vb(n.sendConnection.send(o.map((e=>{let{track:t}=e;return t})),n.store.codec,n.store.audioCodec)),a=(yield Vb(s.next())).value,c=n.createGatewayPublishMessage(o,a);try{yield c}catch(e){throw s.throw(e),(null==e?void 0:e.code)===hO.WS_ABORT&&o.forEach((e=>{let{track:t}=e;-1===n.pendingLocalTracks.indexOf(t)&&n.pendingLocalTracks.push(t)})),n.unbindLocalTrackEvents(o),e}yield Vb(s.next()),o.forEach((e=>{let{type:t}=e;n.statsCollector.addLocalStats(t)})),n.statsUploader.startUploadOutboundStats(),n.assignLocalTracks(o,a),o.forEach((e=>{let{track:t,type:i}=e;const r=Date.now();n.store.publish(t.getTrackId(),i===Rx.LocalAudioTrack?\"audio\":\"video\",void 0,r)})),n.startUploadUplinkState()}finally{r()}}))()}async unpublish(e){if(!this.sendConnection||this.state!==Cx.Connected)return void(0===e.length?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter((t=>!Ln(e).call(e,t))));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const i=t.find((e=>\"videoLowTrack\"===e[0]));if(i){i[1].track.close()}const n=this.createGatewayUnpublishMessage(t);if(await this.sendConnection.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:i}]=e;return{type:t,track:i}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===Cx.Connected){if(i){i[1].track.close()}return n}e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}))}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);const e=()=>{const e=[],t=[];Array.from(this.localTrackMap.entries()).forEach((i=>{let[n,{track:r,ssrcs:o}]=i;const s={stream_type:Oj(r,n),ssrcs:o};r._muted||!r._enabled?e.push(s):t.push(s)})),e.length>0&&e.forEach((e=>{qO(this,vx.RequestMuteLocal,[e])})),t.length>0&&t.forEach((e=>{qO(this,vx.RequestUnmuteLocal,[e])}))};e(),this.uplinkStateUploadInterval=window.setInterval((()=>{e()}),3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(e){return Mb((function*(){throw new pO(hO.NOT_SUPPORTED,\"p2p mode does not support publishLowStream.\")}))()}async republish(){this.pendingLocalTracks.length>0&&(iP.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await zO(this,vx.RequestRePublish,this.pendingLocalTracks),this.emit(vx.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new pO(hO.NOT_SUPPORTED,\"p2p mode does not support unpublishLowStream.\")}async subscribe(e,t,i,n){var r;if(!this.recvConnection)throw new pO(hO.INVALID_OPERATION,\"Cannot subscribe remote user when recvConnection disconnected.\");if(null!==(r=this.remoteUserMap.get(e))&&void 0!==r&&r.has(t))return;const{track:o,mid:s,transceiver:a}=await this.recvConnection.receive(t,[{ssrcId:i}],String(e.uid),n);t===fx.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(o):(e._audioTrack=new $M(o,e.uid,e._uintid,this.store),iP.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(e._audioTrack.getTrackId()))),a&&e._audioTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoSSRC=i,e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(o):(e._videoTrack=new ZM(o,e.uid,e._uintid,this.store),iP.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(e._videoTrack.getTrackId()))),a&&e._videoTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(e,e._videoTrack));const c=this.remoteUserMap.get(e);c?c.set(t,s):this.remoteUserMap.set(e,new Map([[t,s]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();const d=this.pendingRemoteTracks.findIndex((i=>{let{user:n,kind:r}=i;return n.uid===e.uid&&t===r}));-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(vx.MediaReconnectEnd,e.uid))}async mockSubscribe(e,t,i,n){if(!this.recvConnection)throw new pO(hO.INVALID_OPERATION,\"Cannot subscribe remote user when recvConnection disconnected.\");await this.recvConnection.mockReceive(t,[{ssrcId:i}],String(e.uid),n)}async unsubscribe(e,t,i){const n=this.pendingRemoteTracks.filter((i=>{let{user:n,kind:r}=i;return void 0!==t?n.uid===e.uid&&t===r:n.uid===e.uid}));if(n.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.recvConnection||i||n.forEach((t=>{let{kind:i}=t;var n;if(i===fx.AUDIO)null===(n=e._audioTrack)||void 0===n||n._destroy(),e._audioTrack=void 0;else if(i===fx.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}})),!this.recvConnection)return;const r=this.filterTobeUnSubscribedTracks(e,t);0!==r.length&&(await this.recvConnection.stopReceiving(r.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),r.forEach((e=>{let[t,{kind:n}]=e;var r,o;n===fx.VIDEO&&t._videoSSRC&&(null===(r=this.recvConnection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(n===fx.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),i||(null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0);else if(n===fx.AUDIO){var s;if(this.unbindRemoteTrackEvents(t._audioTrack),!i)null===(s=t._audioTrack)||void 0===s||s._destroy(),t._audioTrack=void 0}})),r.forEach((e=>{let[,{kind:t}]=e;qO(this,vx.RequestP2PMuteRemote,t)})))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);const e=()=>Array.from(this.remoteUserMap.entries()).forEach((e=>{let[,t]=e;[fx.VIDEO,fx.AUDIO].forEach((e=>{t.has(e)?qO(this,vx.RequestP2PUnmuteRemote,e):qO(this,vx.RequestP2PMuteRemote,e)}))}));e(),this.downlinkStatsUploadInterval=window.setInterval((()=>{e()}),3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(e){throw new pO(hO.NOT_SUPPORTED,\"p2p mode does not support massSubscribe.\")}async massSubscribeNoLock(e){throw new pO(hO.NOT_SUPPORTED,\"p2p mode does not support massSubscribeNoLock.\")}async massUnsubscribe(e){throw new pO(hO.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribe.\")}async massUnsubscribeNoLock(e){throw new pO(hO.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribeNoLock.\")}async muteRemote(e,t){if(!this.recvConnection)return;const i=this.remoteUserMap.get(e);if(!i)return void iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(e.uid,\".\"));if(!i.get(t))return void iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"));const n=t===fx.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==n&&this.recvConnection.setStatsRemoteVideoIsReady(n,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.recvConnection)return;const i=this.remoteUserMap.get(e);if(!i)return void iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(e.uid,\".\"));i.get(t)||iP.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"))}getAllTracks(e){const t=this.localTrackMap.get(Rx.LocalAudioTrack);if((null==t?void 0:t.track)instanceof Wk){const i=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==Rx.LocalAudioTrack})).filter((t=>{let[i]=t;return!(e&&i===Rx.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(i.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[i]=t;return!(e&&i===Rx.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}reportPublishEvent(e,t,i,n,r){if(e){const i=this.localTrackMap.get(Rx.LocalAudioTrack),o=n?this.localTrackMap.get(Rx.LocalVideoLowTrack):this.localTrackMap.get(Rx.LocalVideoTrack);lP.publish(this.store.sessionId,{eventElapse:tj.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==i?void 0:i.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(VP.SCREEN_TRACK)),audio:!!i,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var o;i||(i=[]);const s=i.find((e=>e instanceof Bk)),a=n?null===(o=this.localTrackMap.get(Rx.LocalVideoTrack))||void 0===o?void 0:o.track:i.find((e=>e instanceof kM));lP.publish(this.store.sessionId,{eventElapse:tj.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==s?void 0:s.getTrackLabel(),videoName:null==a?void 0:a.getTrackLabel(),screenshare:-1!==(null==a?void 0:a._hints.indexOf(VP.SCREEN_TRACK)),audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,i,n){const r=n===fx.VIDEO?i._videoSSRC:i._audioSSRC;r&&lP.subscribe(this.store.sessionId,{succ:e,ec:t,video:n===fx.VIDEO,audio:n===fx.AUDIO,peerid:i.uid,subscribeRequestid:n===fx.VIDEO?i._videoSSRC:i._audioSSRC,p2pid:this.store.p2pId,eventElapse:tj.measureFromSubscribeStart(this.store.clientId,r)})}reset(){iP.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.reset\")),this.sendMutex=new PN(\"P2PChannel2-send-mutex\",this.store.clientId),this.sendMutex=new PN(\"P2PChannel2-recv-mutex\",this.store.clientId),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(Rx.LocalAudioTrack);if((null==e?void 0:e.track)instanceof Wk){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=Cx.Disconnected}getStats(e){var t,i;return e?null===(i=this.recvConnection)||void 0===i?void 0:i.getStats():null===(t=this.sendConnection)||void 0===t?void 0:t.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.recvConnection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(Rx.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(Rx.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof kM||t&&t.track instanceof Bk?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}getRemoteMedia(e){var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return i?{audioTrack:i.audioTrack,audioSSRC:i._audioSSRC,videoTrack:i.videoTrack,videoSSRC:i._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(Rx.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=Qp(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(iP.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.disconnectForReconnect closing P2PConnection\")),this.state=Cx.Reconnecting,CD(\"KEEP_LAST_FRAME\")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var i;t._videoTrack&&t._videoTrack._player&&(null===(i=t._videoTrack._player.getVideoElement())||void 0===i||i.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[i,{track:n}]=e;switch(i){case Rx.LocalVideoTrack:Ln(t=n._hints).call(t,VP.LOW_STREAM)?n.close():this.pendingLocalTracks.push(n);break;case Rx.LocalAudioTrack:n instanceof Wk?this.pendingLocalTracks=this.pendingLocalTracks.concat(n.trackList):this.pendingLocalTracks.push(n);case Rx.LocalVideoLowTrack:}})),this.emit(vx.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;Array.from(WD(i).call(i)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(vx.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),iP.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 disconnected, waiting to reconnect.\")))}hasPendingRemoteMedia(e,t){for(const i of this.pendingRemoteTracks){const{user:n,kind:r}=i;if((e instanceof aj?e.uid:e)===n.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}async restartICE(e,t){let i,n;if(e===GV.SEND_ONLY){if(!this.sendConnection)throw new pO(hO.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.\");i=await this.sendMutex.lock(\"From P2PChannel.restartICE\"),n=this.sendConnection}else{if(!this.recvConnection)throw new pO(hO.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.\");i=await this.recvMutex.lock(\"From P2PChannel.restartICE\"),n=this.recvConnection}try{if(t){const e=await n.restartICE(t);return n.isInRestartIce=!1,e}{const e=await n.restartICE();if(e){const t=await zO(this,vx.RequestP2PRestartICE,{direction:GV.RECEIVE_ONLY,iceParameter:e});await n.restartICE(t),n.isInRestartIce=!1}}}finally{i()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const e=this.sendConnection.getStats(),t=this.localTrackMap.get(Rx.LocalVideoTrack),i=this.localTrackMap.get(Rx.LocalAudioTrack),n=e.videoSend.find((e=>{var i;return e.ssrc===(null==t||null===(i=t.ssrcs)||void 0===i?void 0:i[0].ssrcId)})),r=e.audioSend.find((e=>{var t;return e.ssrc===(null==i||null===(t=i.ssrcs)||void 0===t?void 0:t[0].ssrcId)}));if(!n||!r)return 1;const o=XO(this,vx.NeedSignalRTT),s=n?n.rttMs:void 0,a=r?r.rttMs:void 0,c=s&&a?(s+a)/2:s||a,d=(c&&o?(c+o)/2:c||o)||0,l=100*e.sendPacketLossRate*.7/50+.3*d/1500,u=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(VP.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,i=e.bitrate.actualEncoded;if(t&&i){const e=(1e3*t-i)/(1e3*t);return HU[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const e=this.recvConnection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((i=>{let[n]=i;const r=n._audioSSRC,o=n._videoSSRC,s=e.audioRecv.find((e=>e.ssrc===r)),a=e.videoRecv.find((e=>e.ssrc===o));if(!s&&!a)return void(t+=1);const c=XO(this,vx.NeedSignalRTT),d=e.rtt,l=(d&&c?(d+c)/2:d||c)||0,u=s?s.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*l/1500;u&&(p=.6*h*100/50+.2*l/1500+.2*u/400);t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new rp(((t,i)=>{this.handleMuteLocalTrack(e,t,i)}))}filterTobePublishedTracks(e,t,i){const n=[],r=pP(),o=this.getAllTracks();e=rN(e=e.filter((e=>-1===o.indexOf(e))));let s=!1,a=!1;for(const o of e){if(o instanceof kM&&(this.localTrackMap.has(Rx.LocalVideoTrack)||s?new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n.push({track:o,type:Rx.LocalVideoTrack}),s=!0),t)){const e=this.getLowVideoTrack(o,i);n.push({track:e,type:Rx.LocalVideoLowTrack})}if(o instanceof Bk){const e=this.localTrackMap.get(Rx.LocalAudioTrack);if(e){if(!(e.track instanceof Wk))throw new pO(hO.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(o._bypassWebAudio)throw new pO(hO.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(o),this.bindLocalAudioTrackEvents(o,!0)}else if(a){const e=n.find((e=>{let{type:t}=e;return t===Rx.LocalAudioTrack}));if(!(e.track instanceof Wk))throw new pO(hO.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(o._bypassWebAudio)throw new pO(hO.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(o)}else{if(!r.webAudioMediaStreamDest||o instanceof Wk||o._bypassWebAudio)n.push({track:o,type:Rx.LocalAudioTrack});else{const e=new Wk;e.addAudioTrack(o),n.push({track:e,type:Rx.LocalAudioTrack})}a=!0}}}return n}filterTobeUnpublishedTracks(e){const t=[],i=this.getAllTracks();e=rN(e=e.filter((e=>-1!==i.indexOf(e))));for(const i of e){if(i instanceof Bk){const e=this.localTrackMap.get(Rx.LocalAudioTrack);if(!e)continue;e.track instanceof Wk?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([Rx.LocalAudioTrack,e]),e.track.close())):t.push([Rx.LocalAudioTrack,e])}if(i instanceof kM){const e=this.localTrackMap.get(Rx.LocalVideoTrack);if(!e)continue;t.push([Rx.LocalVideoTrack,e]);const i=this.localTrackMap.get(Rx.LocalVideoLowTrack);i&&t.push([Rx.LocalVideoLowTrack,i])}}return t}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:i}=e;switch(i){case Rx.LocalVideoTrack:t.addListener(UP.GET_STATS,this.handleGetLocalVideoStats),t.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(UP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(UP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.addListener(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Rx.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case Rx.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof Wk?e.trackList.forEach((e=>{e.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(UP.GET_STATS,this.handleGetLocalAudioStats),e.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(UP.GET_STATS,this.handleGetLocalAudioStats),e.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:i}]=e;return{track:i,type:t}}))),e.forEach((e=>{let{track:t,type:i}=e;switch(i){case Rx.LocalVideoTrack:t.off(UP.GET_STATS,this.handleGetLocalVideoStats),t.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(UP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(UP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.off(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Rx.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case Rx.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof Wk?e.trackList.forEach((e=>{e.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(UP.GET_STATS,this.handleGetLocalAudioStats),e.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(UP.GET_STATS,this.handleGetLocalAudioStats),e.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof ZM&&t.addListener(UP.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof $M&&t.addListener(UP.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(UP.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;i.has(fx.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),i.has(fx.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,i)=>{var n;let r,{track:o,type:s}=e;switch(s){case Rx.LocalAudioTrack:r=ox.Audio;break;case Rx.LocalVideoTrack:r=Ln(n=o._hints).call(n,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:r=ox.Low}return{kind:s===Rx.LocalAudioTrack?fx.AUDIO:fx.VIDEO,stream_type:r,mid:t[i].id,ssrcs:t[i].localSSRC,isMuted:o.muted||!o.enabled}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Rx.LocalVideoTrack:i=Ln(t=r._hints).call(t,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalAudioTrack:i=ox.Audio;break;case Rx.LocalVideoLowTrack:i=ox.Low}return{stream_type:i,ssrcs:o,mid:s}}))}assignLocalTracks(e,t){e.forEach(((e,i)=>{let{track:n,type:r}=e;this.localTrackMap.set(r,{track:n,id:t[i].id,ssrcs:t[i].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{var i;iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: \").concat(e.name,\".onConnectionStateChange(\").concat(t,\")\")),this.emit(vx.PeerConnectionStateChange,t),\"connected\"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),\"connected\"===t&&(e.isInRestartIce=!1),Ln(i=this._restartStates).call(i,t)&&!e.isInRestartIce&&(\"disconnected\"===t&&await fN(800),\"disconnected\"!==e.iceConnectionState&&\"failed\"!==e.iceConnectionState||this.handleDisconnect(e.direction))},e.onICEConnectionStateChange=e=>{\"connected\"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),lP.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:kO.TRACER}).onSuccess(),this.emit(vx.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportStateChange=e=>{iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportError=e=>{iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"))},e.onFirstAudioDecoded=e=>{var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var n;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),null===(n=i.audioTrack)||void 0===n||n.emit(WP.FIRST_FRAME_DECODED),lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_AUDIO_DECODE,aP.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));i&&lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_AUDIO_RECEIVED,aP.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,i)=>{this.reportVideoFirstFrameDecoded(e,t,i)},e.onFirstVideoReceived=e=>{var t;const i=Array.from(WD(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));i&&lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_VIDEO_RECEIVED,aP.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const i=\"relay\"===e.candidateType,n=\"relay\"===t.candidateType;\"unknown\"!==t.candidateType&&i===n||this.emit(vx.ConnectionTypeChange,i),iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(EF(t)),\" -> \").concat(JSON.stringify(EF(e)),\")\"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{iP.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(EF(t)),\" -> \").concat(JSON.stringify(EF(e)),\")\"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.onLocalCandidate=t=>{this.emit(vx.LocalCandidate,{candidate:t,direction:e.direction})}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.onLocalCandidate=void 0}async handleDisconnect(e){const t=e===GV.SEND_ONLY?this.sendConnection:this.recvConnection;t&&!t.isInRestartIce&&(t.isInRestartIce=!0,iP.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel-\").concat(t.name,\"] start use restartICE\")),e===GV.SEND_ONLY?this.restartICE(e):zO(this,vx.RequestP2PRestartICE,{direction:GV.SEND_ONLY}))}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const i=this.localTrackMap.get(Rx.LocalAudioTrack);if(e instanceof Bk&&(null==i?void 0:i.track)instanceof Wk)return i.track.isActive||t.push([Rx.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n&&(t.push(n),n[0]===Rx.LocalVideoTrack)){const e=this.localTrackMap.get(Rx.LocalVideoLowTrack);e&&t.push([Rx.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],i=this.localTrackMap.get(Rx.LocalAudioTrack);if(e instanceof Bk&&(null==i?void 0:i.track)instanceof Wk)return i.track.isActive&&t.push([Rx.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n)if(n[0]===Rx.LocalVideoTrack){t.push(n);const e=this.localTrackMap.get(Rx.LocalVideoLowTrack);e&&t.push([Rx.LocalVideoLowTrack,e])}else t.push(n);return t}createMuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Rx.LocalAudioTrack:i=ox.Audio;break;case Rx.LocalVideoTrack:i=Ln(t=r._hints).call(t,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:i=ox.Low}return{stream_type:i,ssrcs:o,mid:s}}))}createUnmuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Rx.LocalAudioTrack:i=ox.Audio;break;case Rx.LocalVideoTrack:i=Ln(t=r._hints).call(t,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:i=ox.Low}return{stream_type:i,ssrcs:o,mid:s}}))}filterTobeUnSubscribedTracks(e,t){const i=[],n=this.remoteUserMap.get(e);if(!n)return i;if(t){const r=n.get(t);if(!r)return i;i.push([e,{kind:t,id:r}])}else Array.from(n.entries()).forEach((t=>{let[n,r]=t;i.push([e,{kind:n,id:r}])}));return i}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[i,{kind:n,id:r}]=e;switch(n){case fx.VIDEO:return void(i._videoSSRC&&t.push({stream_type:fx.VIDEO,ssrcId:i._videoSSRC}));case fx.AUDIO:return void(i._audioSSRC&&t.push({stream_type:fx.AUDIO,ssrcId:i._audioSSRC}))}})),t}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:i}]=e;const n=this.remoteUserMap.get(t);n&&(n.delete(i),0===Array.from(n.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(Rx.LocalVideoTrack),i=this.localTrackMap.get(Rx.LocalVideoLowTrack);t&&(await t.track.setBitrateLimit(e.uplink),await new rp(((e,i)=>{this.handleUpdateVideoEncoder(t.track,e,i,!0)}))),i&&e.low_stream_uplink&&(await i.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0}),await new rp(((e,t)=>{this.handleUpdateVideoEncoder(i.track,e,t,!0)})))}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const e=this.sendConnection.peerConnectionState,t=this.recvConnection.peerConnectionState;return\"connected\"!==e&&\"connected\"!==t}return!0}async tryToUnmuteAudio(e){for(let t=0;t<e.length;t++)if(e[t]instanceof Bk){const i=this.filterTobeUnmutedTracks(e[t]);if(0===i.length)continue;const n=this.createUnmuteMessage(i);return void await qO(this,vx.RequestUnmuteLocal,n)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=e=>this.getStats(e),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter((e=>{let[,{ssrcs:t}]=e;return!!t})),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.recvConnection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(vx.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(vx.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await fN(MN(this.dtlsFailedCount,kN)),this.emit(vx.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(Rx.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof kM))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof kM)).length>1)throw new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof Bk)).length>1&&(e.some((e=>e instanceof Bk&&e._bypassWebAudio))||!pP().webAudioMediaStreamDest))throw new pO(hO.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(const t of e){if(t instanceof kM&&this.pendingLocalTracks.some((e=>e instanceof kM)))throw new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof Bk&&this.pendingLocalTracks.some((e=>e instanceof Bk))&&(!pP().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof Bk&&e._bypassWebAudio))))throw new pO(hO.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(e,t){const i=!CD(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&pP().supportDualStreamEncoding,n=FX(FX({},{width:160,height:120,framerate:15,bitrate:50}),t);let r;r=i?e._mediaStreamTrack.clone():jj(e,n);const o=SN(8,\"track-low-\"),s=new kM(r,FX(FX({},i&&{scaleResolutionDownBy:_F(n,e)}),{},{frameRate:n.framerate,bitrateMax:n.bitrate,bitrateMin:n.bitrate}),void 0,void 0,o);return s.on(jP.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,xP.LOW_STREAM)})),s._hints.push(VP.LOW_STREAM),e.addListener(UP.NEED_CLOSE,(()=>{s.close()})),s}async globalLock(){return this.recvMutex.lock(\"From P2PChannel2.globalLock\")}reportVideoFirstFrameDecoded(e,t,i,n){var r;const o=Array.from(WD(r=this.remoteUserMap).call(r)).find((t=>t._videoSSRC===e));if(o){n||this.store.subscribe(o.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,s=r.subscribe.find((e=>e.userId===o.uid&&\"video\"===e.type));lP.firstRemoteVideoDecode(this.store.sessionId,sP.FIRST_VIDEO_DECODE,aP.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:i,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==s?void 0:s.subscribeEnd)||0,subscriberStart:(null==s?void 0:s.subscribeStart)||0,videoAddNotify:(null==s?void 0:s.streamAdded)||0,state:n?1:0})}}async remoteMediaSsrcChanged(e,t,i){if(!this.recvConnection)return!1;const n=this.remoteUserMap.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const o=await this.recvConnection.getRemoteSSRC(r);return void 0!==o&&o!==i}isPreSubScribe(e){return!1}async publishDataChannel(e){throw new pO(hO.NOT_SUPPORTED)}async unpublishDataChannel(e){throw new pO(hO.NOT_SUPPORTED)}async subscribeDataChannel(e,t){throw new pO(hO.NOT_SUPPORTED)}async unsubscribeDataChannel(e,t){throw new pO(hO.NOT_SUPPORTED)}hasPendingRemoteDataChannel(e,t){throw new pO(hO.NOT_SUPPORTED)}setPendingRemoteDataChannel(e,t){throw new pO(hO.NOT_SUPPORTED)}async preConnect(e){throw new pO(hO.NOT_SUPPORTED)}getEstablishParams(){throw new pO(hO.NOT_SUPPORTED)}async reSubscribe(e){throw new pO(hO.NOT_SUPPORTED)}reportVideoFirstFrameRender(e){}async updateVideoStreamParameter(e,t){throw new pO(hO.NOT_SUPPORTED)}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:i}]=e;t===Rx.LocalVideoLowTrack?i._updateRtpTransceiver(void 0,xP.LOW_STREAM):i._updateRtpTransceiver(void 0)}))}},DV(VX.prototype,\"p2pConnect\",[AX],Object.getOwnPropertyDescriptor(VX.prototype,\"p2pConnect\"),VX.prototype),DV(VX.prototype,\"unpublish\",[bX],Object.getOwnPropertyDescriptor(VX.prototype,\"unpublish\"),VX.prototype),DV(VX.prototype,\"unpublishLowStream\",[wX],Object.getOwnPropertyDescriptor(VX.prototype,\"unpublishLowStream\"),VX.prototype),DV(VX.prototype,\"subscribe\",[OX],Object.getOwnPropertyDescriptor(VX.prototype,\"subscribe\"),VX.prototype),DV(VX.prototype,\"mockSubscribe\",[NX],Object.getOwnPropertyDescriptor(VX.prototype,\"mockSubscribe\"),VX.prototype),DV(VX.prototype,\"unsubscribe\",[DX],Object.getOwnPropertyDescriptor(VX.prototype,\"unsubscribe\"),VX.prototype),DV(VX.prototype,\"muteRemote\",[PX],Object.getOwnPropertyDescriptor(VX.prototype,\"muteRemote\"),VX.prototype),DV(VX.prototype,\"unmuteRemote\",[LX],Object.getOwnPropertyDescriptor(VX.prototype,\"unmuteRemote\"),VX.prototype),DV(VX.prototype,\"hasRemoteMediaWithLock\",[kX],Object.getOwnPropertyDescriptor(VX.prototype,\"hasRemoteMediaWithLock\"),VX.prototype),DV(VX.prototype,\"disconnectForReconnect\",[MX],Object.getOwnPropertyDescriptor(VX.prototype,\"disconnectForReconnect\"),VX.prototype),DV(VX.prototype,\"remoteMediaSsrcChanged\",[UX],Object.getOwnPropertyDescriptor(VX.prototype,\"remoteMediaSsrcChanged\"),VX.prototype),VX);function jX(e){return function(t,i,n){const r=t[i];if(\"function\"!=typeof r)throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];switch(e){case IX.SEND_ONLY:{const e=await this.sendMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e()}}case IX.RECEIVE_ONLY:{const e=await this.recvMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e()}}default:{const e=await this.sendMutex.lock(\"From P2PChannel2.\".concat(i)),t=await this.recvMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e(),t()}}}},n}}class GX extends NO{constructor(e,t){super(),iA(this,\"signal\",void 0),iA(this,\"token\",void 0),iA(this,\"tokenTimeout\",void 0),iA(this,\"tokenInterval\",void 0),iA(this,\"_sequence\",0),iA(this,\"userMap\",new Map),iA(this,\"encoder\",new TextEncoder),this.signal=e,this.token=t;const i=()=>{this.signal.connectionState===VV.CONNECTED&&this.check(),0===this.userMap.size?this.tokenInterval=window.setTimeout(i,1e3):this.tokenInterval=window.setTimeout(i,3*CD(\"P2P_TOKEN_INTERVAL\"))};i()}async send(e,t,i,n,r){var o;if(0===this.userMap.size)return;const s=Array.from(pp(o=this.userMap).call(o))[0].token;\"string\"!=typeof t&&(t=JSON.stringify(t)),n=null!=n?n:SN(6,\"\"),r=null!=r?r:this._sequence++;const a={_id:n,_type:e,_seq:r,_message:t,token:\"\".concat(this.token,\"_\").concat(s)};CD(\"SHOW_P2P_LOG\")&&iP.debug(\"send message\",a,\"noNeedResponse : \".concat(i));this.splitMessage(JSON.stringify(a)).forEach((e=>{this.signal.request(FV.DATA_STREAM,{payload:uN(this.encoder.encode(e))})}));const c=new rp(((t,r)=>{const o=window.setTimeout((()=>{this.off(\"res-@\".concat(n,\"_ack\"),s),this.off(\"res-@\".concat(n),d),this.off(kx.ABORT,c),iP.debug(\"[external-signal] request timeout, type: \".concat(e,\", requestId: \").concat(n)),0===this.userMap.size?r(new pO(hO.INVALID_REMOTE_USER)):r(new pO(hO.TIMEOUT))}),CD(\"EXTERNAL_SIGNAL_REQUEST_TIMEOUT\")),s=()=>{o&&window.clearTimeout(o),this.off(kx.ABORT,c),i&&t()},c=()=>{o&&window.clearTimeout(o),this.off(\"res-@\".concat(n,\"_ack\"),s),this.off(\"res-@\".concat(n),d),r(new pO(hO.EXTERNAL_SIGNAL_ABORT,\"type: \".concat(e,\", requestId: \").concat(n)))};this.once(kx.ABORT,c),this.once(\"res-@\".concat(n,\"_ack\"),s);const d=(i,a)=>{l=!0,o&&window.clearTimeout(o),this.off(\"res-@\".concat(n,\"_ack\"),s),this.off(kx.ABORT,c),\"success\"===i?t(a):r(new pO(hO.P2P_MESSAGE_FAILED,\"request \".concat(e,\" failed, requestId: \").concat(n)))};let l=!1;i||(this.once(\"res-@\".concat(n),d),fN(CD(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{l||iP.warning(\"external_signal request timeout, type: \".concat(e,\", requestId: \").concat(n,\", \").concat(a))})))}));try{return await c}catch(o){if(o.code===hO.TIMEOUT)return await this.send(e,t,i,n,r);throw o}}onMessage(e){var t;const{_uid:i}=e;let n,r=this.userMap.get(i);if(r)n=r.splitMessageMap;else{if(this.userMap.size>0||!(\"_type\"in e)||e._type!==Lx.CHECK)return;const{token:t}=e;n=new Map,r={uid:i,isStart:!0,token:t,splitMessageMap:n,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(i,r),this.signal.emit(jV.ON_USER_ONLINE,{uid:i}),this.handleUserOnline()}if(\"id\"in e&&\"total\"in e){var o;const{id:t,total:r}=e,s=null!==(o=n.get(t))&&void 0!==o?o:[];if(s.push(e),n.has(t)||n.set(t,s),s.length!==r)return;{const r=Qp(s).call(s,((e,t)=>e.index-t.index)).map((e=>e.payload)).join(\"\");n.delete(t),(e=JSON.parse(r))._uid=i}}const{_type:s,token:a}=e;if(Ln(t=[Lx.ACK,Lx.CHECK]).call(t,s))return s===Lx.CHECK&&this.handleCheckToken(r,a),void this.receiveMessage(e);a===\"\".concat(r.token,\"_\").concat(this.token)?this.handleReceivedMessage(e):iP.debug('Receive unexpected message\", '.concat(a,\", cur_token: \").concat(r.token,\"_\").concat(this.token),e)}check(){const e={_id:SN(6,\"\"),token:this.token,_type:Lx.CHECK};CD(\"SHOW_P2P_LOG\")&&iP.debug(\"send message\",e),this.signal.request(FV.DATA_STREAM,{payload:uN(this.encoder.encode(JSON.stringify(e)))})}ack(e){const t={_id:e,_type:Lx.ACK,token:this.token};CD(\"SHOW_P2P_LOG\")&&iP.debug(\"send message\",t),this.signal.request(FV.DATA_STREAM,{payload:uN(this.encoder.encode(JSON.stringify(t)))})}response(e,t,i){this.send(Lx.RESPONSE,JSON.stringify({success:!i,message:t}),!0,e)}handleReceivedMessage(e){const t=()=>{this.userMap.forEach((e=>{const{receivedMessagesMap:t,nextExpectedSequenceNumber:i}=e;for(;t.has(i);){const n=t.get(i);t.delete(i),this.receiveMessage(n),e.nextExpectedSequenceNumber++}}))};if(!e)return void t();const{_uid:i,_seq:n}=e,r=this.userMap.get(i),{receivedMessagesMap:o,isStart:s,nextExpectedSequenceNumber:a}=r;if(n<a)return this.ack(e._id),void iP.debug(\"[external-signal] receive old message, seq: \".concat(n,\", \").concat(e._message));o.set(n,e),s&&n===a&&(this.receiveMessage(e),o.delete(a),r.nextExpectedSequenceNumber++,t())}receiveMessage(e){const{_id:t,_type:i,_message:n,_uid:r}=e;if(CD(\"SHOW_P2P_LOG\")&&iP.debug(\"receive message\",e),t){let o;switch(e._type!==Lx.ACK&&(n&&(o=JSON.parse(n)),this.ack(e._id)),e._type){case Lx.CANDIDATE:case Lx.CONTROL:this.signal.emit(i,o,r);break;case Lx.PUBLISH:case Lx.UNPUBLISH:case Lx.RESTART_ICE:case Lx.CALL:o.uid=r,zO(this.signal,i,o).then((t=>{this.response(e._id,t)})).catch((()=>{this.response(e._id,void 0,!0)}));break;case Lx.ACK:this.getListeners(\"res-@\".concat(t,\"_ack\")).length>0&&this.emit(\"res-@\".concat(t,\"_ack\"));break;case Lx.RESPONSE:{const{success:e,message:i}=o;this.emit(\"res-@\".concat(t),e?\"success\":\"failed\",i);break}}}}splitMessage(e){if(e.length<GX.MAX_MESSAGE_SIZE)return[e];const t=[],{remoteToken:i}=JSON.parse(e),n=SN(6,\"\");let r=0,o=800;const s=Math.ceil(e.length/o);for(;e.length>0;){r++;const a={id:n,index:r,total:s,payload:e.slice(0,o),token:\"\".concat(this.token,\"_\").concat(i)};JSON.stringify(a).length>GX.MAX_MESSAGE_SIZE?o-=50:(t.push(a),e=e.slice(o))}return t.map((e=>JSON.stringify(e)))}handleCheckToken(e,t){return e.token!==t?(iP.debug(\"token changed, from \".concat(e.token,\" to \").concat(t)),this.reset(e.uid,t),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout((()=>{iP.debug(\"token timeout, \".concat(t)),this.reset(e.uid)}),CD(\"MAX_P2P_TIMEOUT\")),!0)}async handleUserOnline(){const e=await zO(this.signal,Lx.CALL,void 0),t=await this.send(Lx.CALL,e);this.signal.emit(xV.P2P_CONNECTION,t,!0)}async reset(e,t){const i=this.userMap.get(e);i&&(this.emit(kx.ABORT),this.signal.emit(jV.ON_USER_OFFLINE,{uid:i.uid,reason:Ux.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),t||(iP.debug(\"change local token from \".concat(t,\" to \").concat(t)),this.token=SN(6,\"\")))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(kx.ABORT)}}iA(GX,\"MAX_SIZE\",1),iA(GX,\"MAX_MESSAGE_SIZE\",1024);class WX extends NO{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===VV.CONNECTED?this.emit(xV.WS_CONNECTED):e===VV.RECONNECTING?this.emit(xV.WS_RECONNECTING,this._websocketReconnectReason):e===VV.CLOSED&&this.emit(xV.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),iA(this,\"__name__\",\"P2PSignal\"),iA(this,\"_disconnectedReason\",void 0),iA(this,\"_websocketReconnectReason\",void 0),iA(this,\"_connectionState\",VV.CLOSED),iA(this,\"reconnectToken\",void 0),iA(this,\"p2pToken\",void 0),iA(this,\"websocket\",void 0),iA(this,\"openConnectionTime\",void 0),iA(this,\"clientId\",void 0),iA(this,\"lastMsgTime\",Date.now()),iA(this,\"uploadCache\",[]),iA(this,\"uploadCacheInterval\",void 0),iA(this,\"rttRolling\",new xN(5)),iA(this,\"pingpongTimer\",void 0),iA(this,\"pingpongTimeoutCount\",0),iA(this,\"joinResponse\",void 0),iA(this,\"multiIpOption\",void 0),iA(this,\"initError\",void 0),iA(this,\"spec\",void 0),iA(this,\"store\",void 0),iA(this,\"_external_signal\",void 0),iA(this,\"onWebsocketMessage\",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(xV.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")){switch(t._type){case jV.ON_DATA_STREAM:return void this.handleDataStream(t._message);case jV.MUTE_AUDIO:case jV.MUTE_VIDEO:case jV.ON_P2P_LOST:case jV.ON_USER_ONLINE:return;case jV.ON_USER_OFFLINE:const{uid:e}=t._message;return iP.debug(\"[\".concat(this.clientId,\"] user-offline uid: \").concat(e)),void this._external_signal.reset(e)}if(this.emit(t._type,t._message),t._type===jV.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===jV.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(VO.UID_BANNED);break;case 15:this.close(VO.IP_BANNED);break;case 16:this.close(VO.CHANNEL_BANNED)}if(t._type===jV.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case UV.ERR_LICENSE_MISSING:this.close(VO.LICENSE_MISSING);break;case UV.ERR_LICENSE_EXPIRED:this.close(VO.LICENSE_EXPIRED);break;case UV.ERR_LICENSE_MINUTES_EXCEEDED:this.close(VO.LICENSE_MINUTES_EXCEEDED);break;case UV.ERR_LICENSE_PERIOD_INVALID:this.close(VO.LICENSE_PERIOD_INVALID);break;case UV.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(VO.LICENSE_MULTIPLE_SDK_SERVICE);break;case UV.ERR_LICENSE_ILLEGAL:this.close(VO.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new Zx(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,CD(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),CD(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",(()=>{this.connectionState===VV.CONNECTED&&this.reconnect(\"retry\",HO.OFFLINE)})),this.p2pToken=SN(6,\"\"),this._external_signal=new GX(this,this.p2pToken)}async request(e,t,i,n){const r=SN(6,\"\"),o={_id:r,_type:e,_message:t},s=this.websocket.connectionID,a=()=>new rp(((e,t)=>{if(this.connectionState===VV.CONNECTED)return e();const i=()=>{this.off(xV.WS_CLOSED,n),e()},n=()=>{this.off(xV.WS_CONNECTED,i),t(new pO(hO.WS_ABORT))};this.once(xV.WS_CONNECTED,i),this.once(xV.WS_CLOSED,n)}));if(this.connectionState!==VV.CONNECTING&&this.connectionState!==VV.RECONNECTING||e===FV.JOIN||e===FV.REJOIN||await a(),this.websocket.sendMessage(o,!0),n)return;const c=new rp(((i,n)=>{let o=!1;const a=(n,r)=>{o=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(xV.WS_CLOSED,c),this.off(xV.WS_RECONNECTING,c),this.emit(xV.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new pO(hO.WS_ABORT,\"type: \".concat(e))),this.off(xV.WS_CLOSED,c),this.off(xV.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(xV.WS_CLOSED,c),this.once(xV.WS_RECONNECTING,c),fN(CD(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{this.websocket.connectionID!==s||o||(iP.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(xV.REQUEST_TIMEOUT,e,t))}))}));let d=null;try{d=await c}catch(n){if(this.connectionState===VV.CLOSED||e===FV.LEAVE)throw new pO(hO.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===FV.JOIN||e===FV.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const l=Number(d.message.error_code||d.message.code),u=Bx(l),h=new pO(hO.UNEXPECTED_RESPONSE,\"\".concat(u.desc,\": \").concat(d.message.error_str),{code:l,data:d.message,desc:u.desc});return\"success\"===u.action?d.message:(iP.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(l,\", message: \").concat(u.desc,\", action: \").concat(u.action)),l===UV.ERR_TOO_MANY_BROADCASTERS?e===FV.JOIN||e===FV.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():\"failed\"===u.action?h.throw():\"quit\"===u.action?(this.initError=h,this.close(),h.throw()):(l===UV.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,iP.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",HO.MULTI_IP)):this.reconnect(u.action,HO.SERVER_ERROR),e===FV.JOIN||e===FV.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new rp((i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void iP.warn(\"[\".concat(this.clientId,\"] no session id when upload wrtc stats\"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(BV.WRTC_STATS,t)}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=CD(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==VV.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),CD(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}async sendExtensionMessage(e,t,i){return await this._external_signal.send(e,t,i)}init(e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new rp(((t,i)=>{this.once(xV.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(xV.WS_CLOSED,(()=>i(this.initError||new pO(hO.WS_ABORT)))),this.connectionState=VV.CONNECTING,this.websocket.init(e).catch(i)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=e||VO.LEAVE,this.connectionState=VV.CLOSED,iP.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close(),this.p2pToken=SN(6,\"\"),this._external_signal.clear(),this._external_signal=new GX(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(xV.ABORT_P2P_EXECUTION);const e=await zO(this,xV.REQUEST_JOIN_INFO),t=await this.request(FV.JOIN,e);if(!t)return this.emit(xV.REPORT_JOIN_GATEWAY,hO.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(xV.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=VV.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}async downgradeCodec(e){return!1}handleDataStream(e){try{var t;const i=lN(e.payload),n=(new TextDecoder).decode(i),r=JSON.parse(n);\"total\"in r&&\"id\"in r||Ln(t=Object.values(Lx)).call(t,r._type)?(r._uid=e.uid,this._external_signal.onMessage(r)):this.emit(jV.ON_DATA_STREAM,e)}catch(t){this.emit(jV.ON_DATA_STREAM,e)}}handleNotification(e){iP.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=Bx(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?e.code===UV.ERR_REPEAT_JOIN_CHANNEL&&CD(\"IGNORE_UID_CHECK\")?void this.close(VO.UID_CONFLICT):(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(VO.UID_BANNED),void this.close()):void this.reconnect(t.action,HO.SERVER_ERROR);iP.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=CD(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(iP.warning(\"[\".concat(this.clientId,\"] PINGPONG Timeout. Last Socket Message: \").concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>CD(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",HO.TIMEOUT):this.request(FV.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),CD(\"REPORT_STATS\")&&this.send(FV.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWebsocketEvents(){this.websocket.on(WV.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(xV.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(WV.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(WV.CLOSED,(()=>{this.connectionState=VV.CLOSED})),this.websocket.on(WV.FAILED,(()=>{this._disconnectedReason=VO.NETWORK_ERROR,this.connectionState=VV.CLOSED})),this.websocket.on(WV.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===VV.CONNECTED?this.connectionState=VV.RECONNECTING:this.connectionState=VV.CONNECTING})),this.websocket.on(WV.WILL_RECONNECT,((e,t,i)=>{\"retry\"!==e?(iP.debug(\"\".concat(this.clientId,\" websocket will_connect event, renewSession reconnectMode is \").concat(e)),this.reconnectToken=void 0):iP.debug(\"\".concat(this.clientId,\" reconnect mode is retry, no need to renew session\")),i(e)})),this.websocket.on(WV.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.join().catch((e=>{if(this.emit(xV.REPORT_JOIN_GATEWAY,e,this.url||\"\"),e instanceof pO&&e.code===hO.UNEXPECTED_RESPONSE&&e.data.code===UV.ERR_NO_AUTHORIZED)return iP.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",HO.SERVER_ERROR);iP.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",HO.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(WV.REQUEST_NEW_URLS,((e,t)=>{zO(this,xV.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(WV.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(jV.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}const HX={name:\"P2PChannel\",create:function(e){let{store:t,statsCollector:i}=e;return new BX(t,i)},createSubmodule:function(e){let{store:t,spec:i}=e;return new WX(i,t)}};function KX(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function YX(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?KX(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):KX(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class zX{constructor(e){iA(this,\"sessionDesc\",void 0),iA(this,\"localCapabilities\",void 0),iA(this,\"rtpCapabilities\",void 0),iA(this,\"candidates\",void 0),iA(this,\"_originCandidates\",void 0),iA(this,\"iceParameters\",void 0),iA(this,\"dtlsParameters\",void 0),iA(this,\"setup\",void 0),iA(this,\"currentMidIndex\",void 0),iA(this,\"cname\",void 0),e=sN(e);const{iceParameters:t,dtlsParameters:i,candidates:n,rtpCapabilities:r,setup:o,localCapabilities:s,sdkCodec:a,cname:c}=e,d=LD(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE audio video\\na=msid-semantic: WMS\\na=ice-lite\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:audio\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:video\\n\");this.rtpCapabilities=r,this.candidates=n,this._originCandidates=sN(n),this.iceParameters=t,this.dtlsParameters=i,this.setup=o,this.localCapabilities=s,this.cname=c;for(let e=0;e<d.mediaDescriptions.length;e++){const s=d.mediaDescriptions[e];if(s.attributes.iceUfrag=t.iceUfrag,s.attributes.icePwd=t.icePwd,s.attributes.fingerprints=i.fingerprints,s.attributes.candidates=n,s.attributes.setup=o,\"video\"===s.media.mediaType){s.media.fmts=r.videoCodecs.map((e=>e.payloadType.toString(10)));const e=r.videoCodecs.filter((e=>{var t,i;return null===(t=e.rtpMap)||void 0===t?void 0:Ln(i=t.encodingName.toLowerCase()).call(i,a)})),t=r.videoCodecs.filter((t=>!Ln(e).call(e,t)));s.attributes.payloads=[...e,...t],s.attributes.extmaps=r.videoExtensions}\"audio\"===s.media.mediaType&&(s.media.fmts=r.audioCodecs.map((e=>e.payloadType.toString(10))),s.attributes.payloads=r.audioCodecs,s.attributes.extmaps=r.audioExtensions),d.mediaDescriptions[e]=this.mungMediaDesc(s)}this.sessionDesc=d,this.currentMidIndex=d.mediaDescriptions.length-1}toString(){return kD(this.sessionDesc)}send(e,t,i){const{ssrcs:n,ssrcGroups:r}=LF(t,this.cname),o=this.sessionDesc.mediaDescriptions.find((t=>e===fx.VIDEO?\"video\"===t.media.mediaType:\"audio\"===t.media.mediaType)),s=n[0].attributes.label,a=n[0].attributes.mslabel;return o.attributes.ssrcs=o.attributes.ssrcs.concat(n),o.attributes.ssrcGroups=o.attributes.ssrcGroups.concat(r),{id:s,mslabel:a}}batchSend(e){return e.map((e=>{let{kind:t,ssrcMsg:i}=e;return this.send(t,i,void 0)}))}stopSending(e){this.sessionDesc.mediaDescriptions.forEach((t=>{const i=[],n=[],r=[];t.attributes.ssrcs.forEach((t=>{Ln(e).call(e,t.attributes.label||\"\")?r.push(t):i.push(t)})),t.attributes.ssrcGroups.forEach((e=>{var t;Ln(t=r.map((e=>e.ssrcId))).call(t,e.ssrcIds[0])||n.push(e)})),t.attributes.ssrcs=i,t.attributes.ssrcGroups=n}))}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}receive(e,t,i){e.forEach(((e,t)=>{const i=e._mediaStreamTrack,n=this.sessionDesc.mediaDescriptions.findIndex((e=>e.attributes.mid===i.kind)),r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],e);this.sessionDesc.mediaDescriptions[n]=r}))}stopReceiving(e){}updateCandidates(e){const t=this._originCandidates.filter((e=>\"udp\"===e.transport)),i=[];if(t.forEach((e=>{i.push(YX(YX({},e),{},{foundation:\"tcpcandidate\",priority:Number(e.priority)-1+\"\",transport:\"tcp\",port:Number(e.port)+90+\"\"}))})),0!==t.length){switch(e){case Sx.TCP_RELAY:this.candidates=i;break;case Sx.UDP_TCP_RELAY:case Sx.RELAY:this.candidates=[...t,...i];break;default:this.candidates=t}for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}}restartICE(e){e=sN(e),this.iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}mungRecvMediaDsec(e,t){const i=sN(e);return kF(i,t),UF(i,t),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,i){const n=this.sessionDesc.mediaDescriptions.find((t=>e===fx.VIDEO?\"video\"===t.attributes.mid:\"audio\"===t.attributes.mid));if(n){const e=n.attributes.ssrcs.find((e=>e.attributes.label===t));var r;if(e)e.attributes.label=i,null===(r=e.attributes.msid)||void 0===r||r.replace(t,i)}}mungMediaDesc(e){const t=sN(e);return MF(t),function(e){const t=e.attributes.extmaps.find((e=>IF(e.extensionName)));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"transport-cc\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const i of t.attributes.ssrcs)if(i.attributes.label===e)return[i]}}var qX;function XX(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function JX(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?XX(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):XX(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let QX=(qX=class e extends mx{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")).filter((e=>{var t;return Ln(t=Object.keys(AD)).call(t,e)})))]}constructor(t,i){super(t,i),iA(this,\"store\",void 0),iA(this,\"peerConnection\",void 0),iA(this,\"remoteSDP\",void 0),iA(this,\"initialOffer\",void 0),iA(this,\"statsFilter\",void 0),iA(this,\"useRTX\",!1),iA(this,\"localCapabilities\",void 0),iA(this,\"localCandidateCount\",0),iA(this,\"allCandidatesReceived\",!1),iA(this,\"establishPromise\",void 0),iA(this,\"mutex\",void 0),this.store=i,this.mutex=new PN(\"P2PConnection-mutex\",i.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=dD(this.peerConnection,CD(\"STATS_UPDATE_INTERVAL\"),void 0,Bw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=OF(e.sdp),i=wF(e.sdp,{filterRTX:!this.useRTX,filterVideoFec:CD(\"FILTER_VIDEO_FEC\"),filterAudioFec:CD(\"FILTER_AUDIO_FEC\"),filterAudioCodec:[\"opus\"]});return this.localCapabilities=i,this.initialOffer=e,JX(JX({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:i},offerSDP:e.sdp})}catch(e){throw new pO(hO.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async updateRemoteConnect(){}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new zX(JX(JX({},e),{},{rtpCapabilities:e.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));const t=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:t})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}async updateRemoteRTPCapabilities(e,t){throw new pO(hO.NOT_SUPPORTED,\"Planb mode does not support createDataChannels.\")}getPreMedia(e){}send(e,t){var i=this;return Mb((function*(){const n=yield Vb(i.mutex.lock());try{if(!i.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const r=e.map((e=>i.peerConnection.addTrack(e._mediaStreamTrack))),o=yield Vb(i.peerConnection.createOffer()),s=LD(o.sdp),a=e.map((e=>{const t=e._mediaStreamTrack,n=s.mediaDescriptions.find((e=>e.attributes.mid===t.kind));if(!n)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return function(e,t,i){const n=e.attributes.ssrcs.filter((e=>e.attributes.label===t)),r=e.attributes.ssrcGroups;if(0===n.length)throw new Error(\"Cannot extract ssrc from plan-b SDP.\");if(r&&n.length>1){const e=r.find((e=>-1!==e.ssrcIds.indexOf(n[0].ssrcId)));return e?[{ssrcId:e.ssrcIds[0],rtx:i?e.ssrcIds[1]:void 0}]:[{ssrcId:n[0].ssrcId}]}return[{ssrcId:n[0].ssrcId}]}(n,t.id,i.useRTX)}));let c;try{c=yield a}catch(e){throw r.forEach((e=>{Vw()&&e.replaceTrack(null),i.peerConnection.removeTrack(e)})),e}const d=i.mungSendOfferSDP(o.sdp,e);i.remoteSDP.receive(e,t,c);const l=i.remoteSDP.toString();return yield Vb(i.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield Vb(i.applySendEncodings(r,e)),yield Vb(i.peerConnection.setRemoteDescription({type:\"answer\",sdp:l})),e.map(((e,t)=>{const i=e._mediaStreamTrack.id;return{localSSRC:a[t],id:i}}))}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{n()}}))()}async stopSending(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");t.map((e=>{Vw()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)}));const i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i),this.remoteSDP.stopReceiving(e);const n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{id:i,mslabel:r}=this.remoteSDP.send(e,t,n),o=new rp(((t,n)=>{const o=setTimeout((()=>{n(new Error(\"Cannot receive track, id: \".concat(i)))}),1e4),s=n=>{const a=Dw();if((\"Safari\"===a.name&&11===Number(a.version)||jw())&&n.track.id!==i&&n.streams[0].id===r){var c;const r=n.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(e,i,n.track.id),this.peerConnection.removeEventListener(\"track\",s),clearTimeout(o),void t(r)}if(n.track.id===i)return this.peerConnection.removeEventListener(\"track\",s),clearTimeout(o),void t(n.track)};this.peerConnection.addEventListener(\"track\",s)})),s=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:s});const a=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(a);return{track:await o,id:i}}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const i=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(i)}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"sender' length doesn't match mids' length.\");t.map((e=>{if(Vw()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!1)),e.setParameters(t)}}))}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"Senders' length doesn't match mids' length.\");t.map((async e=>{if(Vw()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!0)),await e.setParameters(t)}}));const i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i);const n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return Mb((function*(){const i=yield Vb(t.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");const n=pP().supportPCSetConfiguration;if(e===Sx.RELAY&&!n)return;if(n){const i=t.peerConnection.getConfiguration(),n=e===Sx.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(iP.debug(\"[\".concat(t.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}e!==Sx.RELAY&&t.remoteSDP.updateCandidates(e);const r=yield Vb(t.peerConnection.createOffer({iceRestart:!0}));if(!r.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const o=OF(r.sdp),{remoteIceParameters:s}=yield o.iceParameters;t.remoteSDP.restartICE(s);const a=t.remoteSDP.toString();yield Vb(t.peerConnection.setLocalDescription(r)),yield Vb(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:a}))}catch(e){iP.warning(\"[\".concat(t.store.clientId,\"] restart ICE failed, abort operation\"),e)}finally{i()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const e=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const n=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:\"offer\",sdp:i}),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getSenders().filter((t=>{var i;return(null===(i=t.track)||void 0===i?void 0:i.id)===e}));1===i.length&&await this.applySendEncodings(i,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getSenders().find((e=>{var i;return(null===(i=e.track)||void 0===i?void 0:i.id)===t}));i&&await i.replaceTrack(e._mediaStreamTrack)}createDataChannels(e,t){throw new pO(hO.NOT_SUPPORTED,\"Planb mode does not support createDataChannels.\")}stopDataChannels(e){throw new pO(hO.NOT_SUPPORTED,\"Planb mode does not support stopDataChannels.\")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,iP.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,iP.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),CD(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const i={iceServers:[],sdpSemantics:\"plan-b\"};return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(xO(t.turnServer.servers)?i.iceServers=t.turnServer.servers:(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),CD(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")})))),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}async updateRtpSenderEncodings(e,t){var i;if(!t){t=this.peerConnection.getSenders().find((t=>{var i;return(null===(i=t.track)||void 0===i?void 0:i.id)===e._mediaStreamTrack.id}))}if(!t)return iP.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(!pP().supportSetRtpSenderParameters)return iP.warn(\"Browser not support set rtp-sender parameters\");const n={},r={};if(e instanceof kM)switch(e._optimizationMode){case\"motion\":n.degradationPreference=\"maintain-framerate\";break;case\"detail\":n.degradationPreference=\"maintain-resolution\";break;default:n.degradationPreference=\"balanced\"}if(CD(\"DSCP_TYPE\")&&sO()){var o;const e=CD(\"DSCP_TYPE\");Ln(o=[\"very-low\",\"low\",\"medium\",\"high\"]).call(o,e)&&(r.networkPriority=e)}const s=t.getParameters(),a=null===(i=s.encodings)||void 0===i?void 0:i[0];a&&Object.assign(a,r),Object.assign(s,n),iP.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(s.encodings))),await t.setParameters(s)}async applySendEncodings(e,t){try{if(!pP().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];n&&r&&await this.updateRtpSenderEncodings(r,n)}}catch(e){iP.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t){const i=LD(e);return t.forEach(((e,t)=>{const n=e._mediaStreamTrack,r=i.mediaDescriptions.find((e=>e.attributes.mid===n.kind));r&&kF(r,e)})),kD(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");const t=this.remoteSDP.batchSend(e).map(((t,i)=>{let{id:n,mslabel:r}=t;const{kind:o}=e[i];return new rp(((e,t)=>{const i=setTimeout((()=>{t(new Error(\"Cannot receive track, id: \".concat(n)))}),1e4),s=t=>{const a=Dw();if(\"Safari\"===a.name&&11===Number(a.version)&&t.track.id!==n&&t.streams[0].id===r){var c;const r=t.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(o,n,t.track.id),this.peerConnection.removeEventListener(\"track\",s),clearTimeout(i),void e({track:r,id:n})}if(t.track.id===n)return this.peerConnection.removeEventListener(\"track\",s),clearTimeout(i),void e({track:t.track,id:n})};this.peerConnection.addEventListener(\"track\",s)}))})),i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:i});const n=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(n),await rp.all(t)}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(t){if(pP().supportPCSetConfiguration){const i=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(i)}}},DV(qX.prototype,\"connect\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"connect\"),qX.prototype),DV(qX.prototype,\"stopSending\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"stopSending\"),qX.prototype),DV(qX.prototype,\"receive\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"receive\"),qX.prototype),DV(qX.prototype,\"stopReceiving\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"stopReceiving\"),qX.prototype),DV(qX.prototype,\"muteRemote\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"muteRemote\"),qX.prototype),DV(qX.prototype,\"unmuteRemote\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"unmuteRemote\"),qX.prototype),DV(qX.prototype,\"muteLocal\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"muteLocal\"),qX.prototype),DV(qX.prototype,\"unmuteLocal\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"unmuteLocal\"),qX.prototype),DV(qX.prototype,\"close\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"close\"),qX.prototype),DV(qX.prototype,\"updateEncoderConfig\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"updateEncoderConfig\"),qX.prototype),DV(qX.prototype,\"updateSendParameters\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"updateSendParameters\"),qX.prototype),DV(qX.prototype,\"replaceTrack\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"replaceTrack\"),qX.prototype),DV(qX.prototype,\"getRemoteSSRC\",[ZX],Object.getOwnPropertyDescriptor(qX.prototype,\"getRemoteSSRC\"),qX.prototype),qX);function ZX(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"Locking from P2PConnection.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}const $X={name:\"PlanBConnection\",create:function(e){let{store:t,spec:i}=e;return new QX(i,t)}},eJ={interceptLocalAudioFrame:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!pP().supportWebRTCEncodedTransform)return void iP.warning(\"browser not support audio encoded transform\");if(hU.has(e))return;if(!e.track)return;const i={track:e.track};if(Uw()){if(!e.createEncodedStreams)return void iP.warning(\"browser not support createEncodedStreams() API\");let r=null;try{r=e.createEncodedStreams()}catch(e){return void iP.error(\"create audio-encoded-streams error\",e&&e.message)}const o=new TransformStream({transform(r,o){i.controller||(i.controller=o),e.track&&e.track.id!==i.track.id&&(iP.debug(\"audio track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n));const s=t.metadata&&t.metadata();s?function(e,t){const{chunk:i,controller:n}=t,r=lU.METADATA;i.data=function(e,t,i){const n=i.byteLength,r=n+cU+dU,o=sU+aU+r,s=new ArrayBuffer(e.byteLength+o),a=new DataView(s);a.setUint8(0,oU),a.setUint16(1,r),a.setUint8(3,t),a.setUint16(4,n);for(let e=0;e<n;e++)a.setUint8(6+e,i[e]);const c=new Uint8Array(a.buffer);return c.set(new Uint8Array(e),o),c.buffer}(i.data,r,e),n.enqueue(i)}(s,{sender:e,chunk:r,controller:o}):o.enqueue(r)}});r.readable.pipeThrough(o).pipeTo(r.writable)}else if(Vw()){if(\"undefined\"==typeof RTCRtpScriptTransform)return void iP.warning(\"browser not support RTCRtpScriptTransform\");const r=rU(),o=new MessageChannel;await new rp((e=>r.onmessage=t=>{\"registered\"===t.data&&e(void 0)}));const s=new RTCRtpScriptTransform(r,{name:\"audio-metadata-tx\",port:o.port2},[o.port2]);e.transform=s,await new rp((e=>r.onmessage=t=>{\"started\"===t.data&&e(void 0)})),o.port1.onmessage=r=>{var s;if(r.data.transformed&&e.track&&(null===(s=e.track)||void 0===s?void 0:s.id)!==i.track.id)iP.debug(\"audio track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n);else if(r.data.getMetadata){const e=t.metadata&&t.metadata();e&&o.port1.postMessage({metadata:e})}},i.worker=r}function n(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener(\"ended\",n)}const t=hU.get(e);if(t){hU.delete(e);try{var i,r;null===(i=t.controller)||void 0===i||i.terminate(),null===(r=t.worker)||void 0===r||r.terminate()}catch(e){iP.warning(e&&e.message)}}}hU.set(e,i),e.track.addEventListener(\"ended\",n)},interceptRemoteAudioFrame:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!pP().supportWebRTCEncodedTransform)return void iP.warning(\"browser not support audio encoded transform\");if(kU.has(e))return;const i={track:e.track,onMetadata:t.onMetadata,onPts:t.onPts};if(Uw()&&!jw()){if(!e.createEncodedStreams)return void iP.warning(\"browser not support createEncodedStreams() API\");Hw(bw.CHROME,87,116)||(t.enableTopn=!1);let r=null;try{r=e.createEncodedStreams()}catch(e){return void iP.error(\"create audio-encoded-streams error\",e&&e.message)}const o=new TransformStream({transform(r,o){i.controller||(i.controller=o),e.track&&e.track.id!==i.track.id&&(iP.debug(\"audio track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n)),t.enableTopn?function(e,t,i){var n;const r=uU(new DataView(t.data));if(!r)return i.enqueue(t);const o=e.track.id;MU.set(o,e.track);const s=null===(n=r.tlv.find((e=>e.tag===lU.AUDIO_LEVEL)))||void 0===n?void 0:n.value;let a=0;\"number\"==typeof s&&(a=127-s);const c=Math.round(Math.pow(10,a/60)-1),{selected:d,speaker:l}=function(e,t){let i=yU.get(e);if(i||(i=function(e){const t=new TU;return yU.set(e,t),IU||(IU=new vU(CD(\"TOPN_SILENCE_THRESHOLD\")||500),IU.on(\"ActiveSpeakerChanged\",(e=>{null!=e&&(AU=e)}))),IU.addSpeakers([t]),t}(e)),yU.size<=bU)return{selected:!0,speaker:i};if(!IU)throw new Error(\"no active speaker detector\");return IU.levelChanged(i.id,t),wU=IU.loudest.map((e=>e.id)),AU&&!Ln(wU).call(wU,AU)&&wU.length>=bU&&wU.pop(),{selected:Ln(wU).call(wU,i.id)||i.id===AU,speaker:i}}(e,c),u=function(e,t,i){const n=OU.get(e)||new DU(e,t);return n.score=i,OU.set(e,n),function(e){if(NU.set(e,!0),!PU)return void(PU=Date.now());const t=Date.now();t-PU>1e3&&(NU.get(e)?NU.set(e,!1):(LU(e),NU.delete(e)),PU=t)}(e),n}(o,e.track,l.energyScore);u.addSample(d),u.active&&(t.data=r.frame.buffer,i.enqueue(t))}(e,r,o):t.enableMetadata||t.enablePts?function(e,t,i,n){const r=new DataView(e.data),o=r.getUint8(0);let s;if(0!=(128&o)&&71!==o){const t=function(e){if(e.byteLength<=0)return[];const t=[];let i=0;for(;i<e.byteLength;){const n=(128&e.getUint8(i))>>7,r=127&e.getUint8(i);if(!(n&&i+4<=e.byteLength)){i++;break}{const n=e.getUint32(i,!1),o=(16776192&n)>>10,s=1023&n;t.push({pt:r,ts_offset:o,length:s,data:new Uint8Array}),i+=4}}let n=e.byteLength-i;for(const r of t){if(r.length>n)return console.warn(\"Broken red payload\"),[];r.length>0&&(r.data=new Uint8Array(e.buffer,e.byteOffset+i,r.length),i+=r.length,n-=r.length)}if(n>0){const r={pt:t.length>0?t[t.length-1].pt:0,ts_offset:0,length:n,data:new Uint8Array(e.buffer,e.byteOffset+i,n)};t.push(r)}return t}(r);if(t.length>0){const i=function(e){let t=0;for(let i=0;i<e.length;i++)t+=i<e.length-1?4:1,t+=e[i].length;const i=new Uint8Array(t);let n=0;for(let t=0;t<e.length;t++)if(t<e.length-1){const r=(2147483648|(127&e[t].pt)<<24|(262143&e[t].ts_offset)<<10|1023&e[t].length)>>>0;i[n++]=r>>24&255,i[n++]=r>>16&255,i[n++]=r>>8&255,i[n++]=255&r}else i[n++]=127&e[t].pt;for(const t of e)i.set(t.data,n),n+=t.length;return i}(t.map((e=>{const t=new Uint8Array(e.length);t.set(e.data);const i=uU(new DataView(t.buffer));return null!=i&&i.frame&&(e.data=null==i?void 0:i.frame),s=i,e})));e.data=i.buffer}}else s=uU(r),s&&(e.data=s.frame.buffer);if(t.enqueue(e),!s)return;const a=s.tlv.find((e=>e.tag===lU.METADATA));a&&i&&a.value instanceof Uint8Array&&i(a.value);const c=s.tlv.find((e=>e.tag===lU.AUDIO_64_BIT_PTS));c&&n&&c.value instanceof Uint8Array&&8==c.value.length&&n(new DataView(c.value.buffer).getBigUint64(0,!0))}(r,o,t.onMetadata,t.onPts):o.enqueue(r)}});r.readable.pipeThrough(o).pipeTo(r.writable)}else{if(\"undefined\"==typeof RTCRtpScriptTransform)return void iP.warning(\"browser not support RTCRtpScriptTransform\");const t=rU(),r=new MessageChannel;await new rp((e=>t.onmessage=t=>{\"registered\"===t.data&&e(void 0)}));const o=new RTCRtpScriptTransform(t,{name:\"audio-metadata-rx\",port:r.port2},[r.port2]);e.transform=o,await new rp((e=>t.onmessage=t=>{\"started\"===t.data&&e(void 0)})),r.port1.onmessage=t=>{var r;t.data.transformed&&e.track&&(null===(r=e.track)||void 0===r?void 0:r.id)!==i.track.id?(iP.debug(\"audio track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n)):t.data.metadata&&i.onMetadata?i.onMetadata(t.data.metadata):t.data.pts&&i.onPts&&i.onPts(t.data.pts)},i.worker=t}function n(){e.track.removeEventListener(\"ended\",n),function(e){const t=kU.get(e);if(t){!function(e){const t=yU.get(e);t&&(yU.delete(e),IU&&(IU.removeSpeakers([t]),0===yU.size&&(IU.destroy(),IU=null)))}(e),LU(e.track.id),kU.delete(e);try{var i,n;null===(i=t.controller)||void 0===i||i.terminate(),null===(n=t.worker)||void 0===n||n.terminate()}catch(e){iP.warning(e&&e.message)}}}(e)}kU.set(e,i),e.track.addEventListener(\"ended\",n)},interceptLocalVideoFrame:async function(e,t){if(!pP().supportWebRTCEncodedTransform)return void iP.warning(\"browser not support video encoded transform\");if(jU.has(e))return;if(!e.track)return;const i={track:e.track};if(Uw()){if(!e.createEncodedStreams)return void iP.warning(\"browser not support createEncodedStreams() API\");let r=null;try{r=e.createEncodedStreams()}catch(e){return void iP.error(\"create video-encoded-streams error\",e&&e.message)}const o=[];t.on(\"sei-to-send\",(e=>{o.push(e)}));const s=new TransformStream({transform(t,r){i.controller||(i.controller=r),e.track&&e.track.id!==i.track.id&&(iP.debug(\"video track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n));const s=BU(new Uint8Array(t.data)),a=o.shift();if(a){const e=function(e,t,i){switch(i){case UU:return function(e,t){const i=FU(t),n=i.length,r=Math.floor(n/255),o=n%255,s=new Uint8Array(6+r+1+n+e.byteLength);s[0]=0,s[1]=0,s[2]=0,s[3]=1,s[4]=6,s[5]=101;let a=0;for(;a<r;)s[6+a]=255,a++;return s[6+a]=o,a++,s.set(i,6+a),s.set(new Uint8Array(e),6+a+n),s.buffer}(e,t);case VU:return function(e,t){const i=FU(t),n=i.length,r=Math.floor(n/255),o=n%255,s=new Uint8Array(7+r+1+n+1+e.byteLength);s[0]=0,s[1]=0,s[2]=0,s[3]=1,s[4]=78,s[5]=1,s[6]=101;let a=0;for(;a<r;)s[7+a]=255,a++;return s[7+a]=o,a++,s.set(i,7+a),a+=n,s[7+a]=128,a++,s.set(new Uint8Array(e),7+a),s.buffer}(e,t);default:return null}}(t.data,a,s);e&&(t.data=e)}r.enqueue(t)}});r.readable.pipeThrough(s).pipeTo(r.writable)}else{if(!Vw())return;{if(\"undefined\"==typeof RTCRtpScriptTransform)return void iP.warning(\"browser not support RTCRtpScriptTransform\");const r=rU(),o=new MessageChannel;await new rp((e=>r.onmessage=t=>{\"registered\"===t.data&&e(void 0)}));const s=new RTCRtpScriptTransform(r,{name:\"sei-tx\",port:o.port2},[o.port2]);e.transform=s,await new rp((e=>r.onmessage=t=>{\"started\"===t.data&&e(void 0)})),t.on(\"sei-to-send\",(e=>{o.port1.postMessage({sei:e})})),o.port1.onmessage=t=>{var r;t.data.transformed&&e.track&&(null===(r=e.track)||void 0===r?void 0:r.id)!==i.track.id&&(iP.debug(\"video track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n))},i.worker=r}}function n(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener(\"ended\",n)}const t=jU.get(e);if(t){jU.delete(e);try{var i,r;null===(i=t.controller)||void 0===i||i.terminate(),null===(r=t.worker)||void 0===r||r.terminate()}catch(e){iP.warning(e&&e.message)}}}jU.set(e,i),e.track.addEventListener(\"ended\",n)},interceptRemoteVideoFrame:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!pP().supportWebRTCEncodedTransform)return void iP.warning(\"browser not support video encoded transform\");if(!e.track)return;if(GU.has(e)){const i=GU.get(e);return void(i&&(i.onSei=t.onSei))}const i={track:e.track,onSei:t.onSei};if(Uw()){if(!e.createEncodedStreams)return void iP.warning(\"browser not support createEncodedStreams() API\");let r=null;try{r=e.createEncodedStreams()}catch(e){return void iP.error(\"create video-encoded-streams error\",e&&e.message)}const o=new TransformStream({transform(r,o){if(i.controller||(i.controller=o),!i.firstFrameInfo){var s;const e=r.getMetadata()||{};i.firstFrameInfo=cL({type:r.type,rtpTimestamp:r.timestamp,payloadType:e.payloadType||0,ssrc:e.synchronizationSource||0,length:r.data.byteLength},\"mimeType\"in e?{mimeType:e.mimeType}:{}),null===(s=t.onFirstFrame)||void 0===s||s.call(t,i.firstFrameInfo)}e.track&&e.track.id!==i.track.id&&(iP.debug(\"video track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n));const a=function(e,t){switch(t){case UU:return function(e){const t=new DataView(e.data);let i=0;for(;i+4<e.data.byteLength;){if(0===t.getUint8(i+0)&&0===t.getUint8(i+1)&&0===t.getUint8(i+2)&&1===t.getUint8(i+3)&&6===t.getUint8(i+4)){let n=i+6,r=0,o=0;for(;255===(o=t.getUint8(n++));)r+=255;r+=o;const s=xU(e.data,n,r);return new Uint8Array(s)}i++}return null}(e);case VU:return function(e){const t=new DataView(e.data);let i=0;for(;i+5<e.data.byteLength;){if(0===t.getUint8(i+0)&&0===t.getUint8(i+1)&&0===t.getUint8(i+2)&&1===t.getUint8(i+3)&&78===t.getUint8(i+4)&&1===t.getUint8(i+5)&&101===t.getUint8(i+6)){let n=i+7,r=0,o=0;for(;255===(o=t.getUint8(n++));)r+=255;r+=o;const s=xU(e.data,n,r);return new Uint8Array(s)}i++}return null}(e);default:return null}}(r,BU(new Uint8Array(r.data)));a&&i.onSei&&i.onSei(a),o.enqueue(r)}});r.readable.pipeThrough(o).pipeTo(r.writable)}else if(Vw()){if(\"undefined\"==typeof RTCRtpScriptTransform)return void iP.warning(\"browser not support RTCRtpScriptTransform\");const r=rU(),o=new MessageChannel;await new rp((e=>r.onmessage=t=>{\"registered\"===t.data&&e(void 0)}));const s=new RTCRtpScriptTransform(r,{name:\"sei-rx\",port:o.port2},[o.port2]);e.transform=s,await new rp((e=>r.onmessage=t=>{\"started\"===t.data&&e(void 0)})),o.port1.onmessage=r=>{var o;if(r.data.transformed&&e.track&&(null===(o=e.track)||void 0===o?void 0:o.id)!==i.track.id)iP.debug(\"video track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n);else if(r.data.sei&&i.onSei)i.onSei(r.data.sei);else if(r.data.firstFrameInfo&&t.onFirstFrame){var s;null===(s=t.onFirstFrame)||void 0===s||s.call(t,r.data.firstFrameInfo)}},i.worker=r}function n(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener(\"ended\",n)}!function(e){const t=GU.get(e);if(t){GU.delete(e);try{var i,n;null===(i=t.controller)||void 0===i||i.terminate(),null===(n=t.worker)||void 0===n||n.terminate()}catch(e){iP.warning(e&&e.message)}}}(e)}GU.set(e,i),e.track.addEventListener(\"ended\",n)}},tJ={name:\"InterceptFrame\",create:()=>eJ};var iJ;function nJ(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function rJ(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?nJ(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nJ(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let oJ=(iJ=class e extends mx{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")).filter((e=>{var t;return Ln(t=Object.keys(AD)).call(t,e)})))]}constructor(e,t,i){super(e,t),iA(this,\"id\",SN(5,\"connection-\")),iA(this,\"store\",void 0),iA(this,\"peerConnection\",void 0),iA(this,\"forceTurn\",!1),iA(this,\"remoteSDP\",void 0),iA(this,\"initialOffer\",void 0),iA(this,\"transportEventReceiver\",void 0),iA(this,\"statsFilter\",void 0),iA(this,\"extension\",{useXR:CD(\"USE_XR\")}),iA(this,\"localCapabilities\",void 0),iA(this,\"remoteCodecs\",void 0),iA(this,\"localCandidateCount\",0),iA(this,\"allCandidatesReceived\",!1),iA(this,\"isPreallocation\",!1),iA(this,\"preMediaMap\",new Map),iA(this,\"dataStreamChannelMap\",new Map),iA(this,\"establishPromise\",void 0),iA(this,\"recoveredDataChannelIds\",[]),iA(this,\"currentDataChannelId\",1),iA(this,\"supportAV1RtpSpec\",!1),iA(this,\"mutex\",void 0),iA(this,\"qualityLimitationReason\",tD.NONE),iA(this,\"isFirstConnected\",!1),this.store=t,this.forceTurn=Mj(e),this.mutex=new PN(\"NVConnectionExtension-mutex\",t.clientId),this.peerConnection=i,this.isFirstConnected=!1,this.statsFilter=dD(this.peerConnection,CD(\"STATS_UPDATE_INTERVAL\"),void 0,Bw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,e.isPreallocation&&(this.isPreallocation=!0),this.establishPromise=this.establish()}getPreMedia(e){return this.preMediaMap.get(e)}isPreSub(){return this.preMediaMap.size>0}async updateRemoteRTPCapabilities(e,t){if(this.remoteCodecs=t,!this.remoteSDP)return void iP.debug(\"[NVConnectionExtension] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: \".concat(this.localCodecs,\", codecs: \").concat(t));if(this.remoteSDP.updateRemoteCodec(e,t,this.store.codec)){const e=await this.peerConnection.createOffer(),t=this.logSDPExchange(e.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(e);const i=this.remoteSDP.toString();null==t||t(i),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:i})}else iP.debug(\"[NVConnectionExtension] updateRemoteRTPCapabilities no need to exchange SDP.\")}async establish(){try{this.peerConnection.addTransceiver(\"video\",{direction:\"recvonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"recvonly\"});const t=await this.peerConnection.createOffer();if(!t.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const i=OF(t.sdp),n=await jF({filterRTX:!CD(\"USE_PUB_RTX\")&&!CD(\"USE_SUB_RTX\"),filterVideoFec:CD(\"FILTER_VIDEO_FEC\"),filterAudioFec:CD(\"FILTER_AUDIO_FEC\"),filterVideoCodec:CD(\"FILTER_VIDEO_CODEC\"),unsupportedVideoUplinkCodec:CD(\"UNSUPPORTED_VIDEO_UPLINK_CODEC\"),unsupportedVideoDownlinkCodec:CD(\"UNSUPPORTED_VIDEO_DOWNLINK_CODEC\")},this.extension);if(this.localCapabilities=HF(n),this.initialOffer=t,CD(\"ENABLE_SVC\")&&\"av1\"==this.store.codec){const t=await BF();var e;if(t)this.supportAV1RtpSpec=!0,null===(e=n.send)||void 0===e||e.videoExtensions.push(t)}let r;return t.sdp&&ZF(t.sdp)&&(r=sN(n),TF(r)),rJ(rJ({},i),{},{rtpCapabilities:r||n,offerSDP:t.sdp})}catch(e){throw new pO(hO.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish NVConnectionExtension without initial offer.\");this.initialOffer.sdp&&ZF(this.initialOffer.sdp)&&RF(e.rtpCapabilities,this.localCapabilities),this.remoteSDP=new _j(rJ(rJ({},e),{},{localCapabilities:this.localCapabilities}),this.supportAV1RtpSpec,!(!CD(\"ENABLE_PRE_SUB_WITH_PRE_PC\")||!CD(\"PRE_USE_LOCAL_CODECS\"))&&mP(this.store),!0),e.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const t=this.remoteSDP.toString(),i=XF(this.initialOffer.sdp,this.extension),n=this.logSDPExchange(i||\"\",\"offer\",\"local\",\"connect\");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:\"offer\",sdp:i}),null==n||n(t),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:t});const r=this.peerConnection.getTransceivers()[0];if(null!=r&&r.receiver&&this.tryBindTransportEvents(r.receiver),mP(this.store))if(e.preallocation&&CD(\"ENABLE_PRE_SUB_WITH_PRE_PC\")){const e=CD(\"PRE_SUB_NUM\"),{mids:t,preSSRCs:i}=this.remoteSDP.preloadRemoteMedia(e);await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[\".concat(this.store.clientId,\"] [NVConnectionExtension] preload media, in pre pc,add preload ssrcs \").concat(i)),this.presetMedia(t,i)}else{const{preSSRCs:t=[]}=e,i=t.map((e=>e.ssrcMsg[0].ssrcId));if(0===t.length)return;const{mids:n}=this.remoteSDP.batchSend(t.map((e=>Object.assign({},e))));await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[NVConnectionExtension.connect] preload media, after join, add preload ssrcs \".concat(i)),this.presetMedia(n,i)}}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension.connect failed; \".concat(e.toString()))}}presetMedia(e,t){e.forEach(((e,i)=>{this.peerConnection.getTransceivers().forEach((n=>{if(null!=n.mid&&e===n.mid&&n.receiver.track){const r=n.receiver.track;let o;\"video\"===r.kind&&CD(\"ENABLE_PRE_RENDER\")&&(o=new Xk({trackId:\"track-\".concat(r.kind,\"-unknown-\").concat(this.store.clientId,\"_\").concat(SN(5,\"\"))},!0),o.updateVideoTrack(r),o.onFirstVideoFrameRender=()=>{var e;const n=this.preMediaMap.get(t[i]);n&&(n.firstVideoRender=Date.now()),null===(e=this.onFirstVideoRender)||void 0===e||e.call(this,t[i])},o.onVideoBufferReady=()=>{var e;null===(e=this.onFirstVideoBufferReady)||void 0===e||e.call(this,t[i])},o.play(this.store.sessionId||void 0)),this.preMediaMap.set(t[i],{mid:e,track:r,player:o,transceiver:n})}})),this.store.peerReceiver()}))}checkDtlsParameters(e){return!!this.remoteSDP&&(e.length>0&&this.remoteSDP.updateRemoteDtlsParameters(e))}async updateRemoteConnect(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.updateRemoteConnect before remote SDP created\");let t=!1;const{rtpCapabilities:i}=e;if([,t]=this.remoteSDP.updateRemoteRTPCapabilities(i),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0){const e=this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);t=t||e}const{preSSRCs:n=[]}=e,r=n.map((e=>e.ssrcMsg[0].ssrcId));if(!this.remoteSDP.checkPreloadSsrcs(r)){const e=[],t=[];if(Array.from(this.preMediaMap.entries()).every((i=>{let[n,{mid:r,player:o,track:s}]=i;return e.push(r),t.push(n),this.preMediaMap.delete(n),o&&o.destroy(),!0})),e.length>0&&(this.remoteSDP.stopSending(e),await qF(this.peerConnection,this.remoteSDP,this.extension),iP.warn(\"[NVConnectionExtension.updateRemoteConnect] preload media, failed, del preload ssrcs \".concat(t)),lP.reportApiInvoke(this.store.sessionId,{name:LO.PRELOAD_MEDIA_FAILED,options:[n,t],tag:kO.TRACER}).onSuccess()),n.length>0){const{mids:e}=this.remoteSDP.batchSend(n.map((e=>Object.assign({},e))));await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[NVConnectionExtension.updateRemoteConnect] preload media, after join, add preload ssrcs \".concat(r)),this.presetMedia(e,r)}}t?(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[NVConnectionExtension] updateRemoteConnect by exchanging SDP.\")):iP.debug(\"[NVConnectionExtension] updateRemoteConnect no need to exchange SDP, because no need to update remote codecs (use local codecs)\")}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension.updateRemoteConnect failed; \".concat(e.toString()))}}send(e,t,i){var n=this;return Mb((function*(){const r=yield Vb(n.mutex.lock(\"From NVConnectionExtension.send\"));try{if(!n.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.send before remote SDP created\");const o=[],s=SF();e.forEach((e=>{const t=n.peerConnection.addTransceiver(e._mediaStreamTrack,rJ({direction:\"sendonly\"},\"video\"===e.trackMediaType&&n.supportAV1RtpSpec&&s?{sendEncodings:[{scalabilityMode:s}]}:{}));o.push(t),e._updateRtpTransceiver(t)})),Bw()&&!0===CD(\"SIMULCAST\")&&(yield Vb(n.applySimulcastForFirefox(o,e)));const a=yield Vb(n.peerConnection.createOffer()),c=n.remoteSDP.predictReceivingMids(e.length),d=n.mungSendOfferSDP(a.sdp,e,c),l=LD(d),u=c.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return NF(t,CD(\"USE_PUB_RTX\"))}));let h;try{h=yield u}catch(r){h=[],n.remoteSDP.receive(e,t,i,h);const o=n.remoteSDP.toString();throw yield Vb(n.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield Vb(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})),yield Vb(n.stopSending(c,!0)),r}n.remoteSDP.receive(e,t,i,h);const p=n.remoteSDP.toString(),_=n.logSDPExchange(d,\"offer\",\"local\",\"send\");return yield Vb(n.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield Vb(n.applySimulcastEncodings(o,e)),yield Vb(n.applySendEncodings(o,e)),null==_||_(p),yield Vb(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:p})),o.map(((e,t)=>{const i=c[t];return{localSSRC:u[t],id:i,transceiver:e}}))}catch(e){throw e instanceof pO?e:new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension.send failed; \".concat(e.toString()))}finally{r()}}))()}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.createDataChannels before remote SDP created\");let i=this.dataStreamChannelMap.get(e);if(i&&\"open\"===i.readyState)iP.debug(\"[NVConnectionExtension] Channels are already available and can be reused directly.\");else{const t=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if(\"number\"!=typeof t)throw new Error(\"create DataChannel error, because cannot get dc id\");i=this.peerConnection.createDataChannel(\"datastream-channel\",{id:t,negotiated:!0,ordered:!1,maxRetransmits:CD(\"DATASTREAM_MAX_RETRANSMITS\")}),i.binaryType=\"arraybuffer\",this.dataStreamChannelMap.set(e,i)}t.forEach((e=>{e._updateOriginDataChannel(i)}));const{needExchangeSDP:n}=this.remoteSDP.sendDataChannel();if(n){const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t),iP.debug(\"[NVConnectionExtension] createDataChannels by exchanging SDP.\")}else iP.debug(\"[NVConnectionExtension] createDataChannels no need to exchange SDP.\");return}catch(e){throw e instanceof pO?e:new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension.createDataChannels failed; \".concat(e.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return t&&(t.id&&this.recoveredDataChannelIds.push(t.id),t.close()),void this.dataStreamChannelMap.delete(e)}catch(e){throw e instanceof pO?e:new pO(hO.DATACHANNEL_FAILED,\"NVConnectionExtension.stopDataChannels failed; \".concat(e.toString()))}}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From NVConnectionExtension.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.stopSending before remote SDP created\");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call NVConnectionExtension.stopSending.\");t.map((e=>{var t;wj(this.id+e.mid,this),e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const o=this.remoteSDP.toString();null==r||r(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,i,n);o&&(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[\".concat(this.store.clientId,\"] [NVConnectionExtension] receive \").concat(e,\" by exchanging SDP.\")));const s=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!s)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:s.receiver.track,id:r,transceiver:s}}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension.receive failed; \".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.batchReceive before remoteSDP created.\");const{mids:t,needExchangeSDP:i}=this.remoteSDP.batchSend(e);return i&&(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(\"[\".concat(this.store.clientId,\"] [NVConnectionExtension] batchReceive by exchanging SDP.\"))),t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:t.receiver.track,id:e,transceiver:t}}))}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.stopReceiving before remote SDP created.\");e.forEach((e=>{Array.from(this.preMediaMap.entries()).some((t=>{let[i,{mid:n,player:r}]=t;if(n===e)return this.preMediaMap.delete(i),r&&r.destroy(),!0}))})),this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"stopReceiving\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.muteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"muteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension.muteRemote failed; \".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.unmuteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"unmuteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension.unmuteRemote failed; \".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.muteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((e=>{e.direction=\"inactive\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((async(e,t)=>{e.direction=\"sendonly\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec(e,this.remoteCodecs,this.store.codec);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,\"NVConnectionExtension.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return Mb((function*(){const i=yield Vb(t.mutex.lock(\"From NVConnectionExtension.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");const n=pP().supportPCSetConfiguration,r=CD(\"FORCE_TURN_TCP\")||t.forceTurn;if(e===Sx.RELAY&&!n)return;if(n&&!r){const i=e===Sx.RELAY?\"relay\":\"all\",n=t.peerConnection.getConfiguration();n.iceTransportPolicy!==i&&(iP.debug(\"[\".concat(t.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(n.iceTransportPolicy,\"] to [\").concat(i,\"]\")),n.iceTransportPolicy=i,t.peerConnection.setConfiguration(n))}t.remoteSDP.updateCandidates(e);const o=yield Vb(t.peerConnection.createOffer({iceRestart:!0}));if(!o.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const s=OF(o.sdp),{remoteIceParameters:a}=yield s.iceParameters;t.remoteSDP.restartICE(a);const c=t.remoteSDP.toString(),d=t.logSDPExchange(o.sdp||\"\",\"offer\",\"local\",\"restartICE\");t.store.descriptionStart(),yield Vb(t.peerConnection.setLocalDescription(o)),null==d||d(c),yield Vb(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:c}))}catch(e){iP.warning(\"[\".concat(t.store.clientId,\"] restart ICE failed, abort operation\"),e)}finally{i()}}))()}async extendCandidate(){if(!this.remoteSDP||this.isFirstConnected)return;const e=await this.mutex.lock(\"From NVConnectionExtension.extendCandidate\");try{this.remoteSDP.updateCandidates(Sx.TCP_RELAY),await qF(this.peerConnection,this.remoteSDP,this.extension)}catch(e){iP.warning(\"[\".concat(this.store.clientId,\"] extend candidate failed, abort operation\"),e)}finally{e()}}close(){var e;this.peerConnection.getTransceivers().forEach((e=>{wj(this.id+e.mid,this)})),this.preMediaMap.forEach((e=>{let{player:t}=e;t&&t.destroy()})),this.preMediaMap.clear(),this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return rJ(rJ({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVConnectionExtension.updateEncoderConfig before remote SDP created.\");const i=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(i.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),o=this.logSDPExchange(n,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:n}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new pO(hO.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===i.length&&(this.isVP8Simulcast(t)?Bw()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find((e=>e.mid===t));i&&await i.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:i,remote:n}=t.getSelectedCandidatePair();return{local:rJ(rJ({},zN),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:rJ(rJ({},zN),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;\"connected\"===this.peerConnection.connectionState&&(this.isFirstConnected=!0),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidateerror=e=>{if(e&&(e.errorCode||e.errorText)){var t;const i=\"code: \".concat(e.errorCode,\", message: \").concat(e.errorText),n=e.port?\"local: \".concat(e.port):\"\",r=mF(e.url||\"\");iP.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: NVConnectionExtension.onICECandidateError(\").concat(i,\"), url: \").concat(r||\"\",\", host_candidate:\").concat(n)),null===(t=this.onICECandidateError)||void 0===t||t.call(this,i)}},this.peerConnection.onicegatheringstatechange=e=>{e&&e.target&&\"iceGatheringState\"in e.target&&iP.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] RTCPeerConnection.onicegatheringstatechange(\").concat(e.target.iceGatheringState,\")\"))},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,iP.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,iP.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),CD(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const i={iceServers:[]},n=t.cloudProxyServer||\"disabled\";return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&(xO(t.turnServer.servers)?i.iceServers=t.turnServer.servers:CD(\"NEW_TURN_MODE\")&&i.iceServers&&\"disabled\"===n?(CD(\"USE_TURN_SERVER_OF_GATEWAY\")?t.turnServer.serversFromGateway&&i.iceServers.push(...e.newTurnServerConfigToIceServers(t.turnServer.serversFromGateway)):i.iceServers.push(...e.newTurnServerConfigToIceServers(t.turnServer.servers)),CD(\"NEW_FORCE_TURN\")&&(i.iceTransportPolicy=\"relay\")):\"off\"!==t.turnServer.mode&&(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),CD(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),CD(\"FORCE_TURN_TCP\")?i.iceTransportPolicy=\"relay\":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")})))),CD(\"ENABLE_ENCODED_TRANSFORM\")&&pP().supportWebRTCEncodedTransform&&(i.encodedInsertableStreams=!0),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(sF(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!CD(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}static newTurnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{const i=CD(\"NEW_TURN_MODE\");1===i?t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":3478?transport=udp\")}):2===i?t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":3478?transport=tcp\")}):3===i?t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(sF(e.turnServerURL),\":443?transport=tcp\")}):4===i&&(t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":3478?transport=udp\")}),t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":3478?transport=tcp\")}),t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(sF(e.turnServerURL),\":443?transport=tcp\")}))})),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,\"error\"in e?e.error:e)};const i=t.iceTransport;i&&(i.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var i;e&&(null===(i=this.onICETransportStateChange)||void 0===i||i.call(this,e))},i.getSelectedCandidatePair&&(i.onselectedcandidatepairchange=()=>{if(i.getSelectedCandidatePair()){const{local:e,remote:t}=i.getSelectedCandidatePair()||{};if(e&&t){const i=e.address+\":\"+e.port,n=t.address+\":\"+t.port;iP.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify(mF(i)),\", remote \").concat(JSON.stringify(mF(n))))}}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var i,n;if(!t){const i=this.peerConnection.getSenders();t=i.find((t=>t.track===e._mediaStreamTrack))}if(!t)return iP.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return iP.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!pP().supportSetRtpSenderParameters)return iP.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");const r={},o={};switch(e._optimizationMode){case\"motion\":r.degradationPreference=\"maintain-framerate\";break;case\"detail\":r.degradationPreference=\"maintain-resolution\";break;case\"balanced\":r.degradationPreference=\"balanced\"}const s=fF(this.peerConnection,e._mediaStreamTrack),a=JL(e);if(Ij(e)&&s&&t&&a&&this.getLocalVideoStats&&Ln(i=[\"vp8\",\"vp9\"]).call(i,this.store.codec)){var c;const i=r.degradationPreference||(Ln(c=e._hints).call(c,VP.CUSTOM_TRACK)?CD(\"CUSTOM_ADAPTATION_DEFAULT_MODE\"):\"maintain-framerate\");bj(this.id+s.mid,a,this,i,(e=>{t&&this.updateAdaptation(t,e)}),this.getLocalVideoStats.bind(this))}if(e._encoderConfig){var d;const{bitrateMax:t,frameRate:i,scaleResolutionDownBy:n}=e._encoderConfig;t&&(o.maxBitrate=1e3*t),(Ln(d=e._hints).call(d,VP.LOW_STREAM)||e.isUseScaleResolutionDownBy)&&(i&&(o.maxFramerate=dF(i)),n&&n>=1&&(o.scaleResolutionDownBy=n))}const{maxFramerate:l}=CD(\"ENCODER_CONFIG_LIMIT\");if(l&&\"number\"==typeof l&&(o.maxFramerate=o.maxFramerate?Math.min(o.maxFramerate,l):l),CD(\"DSCP_TYPE\")&&sO()){var u;const e=CD(\"DSCP_TYPE\");Ln(u=[\"very-low\",\"low\",\"medium\",\"high\"]).call(u,e)&&(o.networkPriority=e)}const h=t.getParameters(),p=null===(n=h.encodings)||void 0===n?void 0:n[0];Bw()&&!p&&(r.encodings=[o]),p&&Object.assign(p,o),Object.assign(h,r),iP.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(h.encodings))),await t.setParameters(h),await QF(this.store.codec,t,CD(\"SVC_MODE\"))}async updateAdaptation(e,t){var i,n;if(!e)return iP.debug(\"[updateAdaptation] no rtpSender found\");if(!pP().supportSetRtpSenderParameters)return iP.debug(\"[updateAdaptation] Browser not support set rtp-sender parameters\");const r={},{bitrateMax:o,frameRate:s,scaleResolutionDownBy:a}=t;o&&(r.maxBitrate=1e3*o),s&&(r.maxFramerate=dF(s)),a&&a>=1&&Ln(i=[\"vp8\",\"vp9\"]).call(i,this.store.codec)&&(r.scaleResolutionDownBy=a);const c=e.getParameters(),d=null===(n=c.encodings)||void 0===n?void 0:n[0];d&&Object.assign(d,r),Object.assign(c,{});try{await e.setParameters(c),iP.debug(\"[updateAdaptation] updateRtpSenderEncodings: \".concat(JSON.stringify(c.encodings)))}catch(t){!(\"transport\"in e)||e.transport&&\"connected\"===e.transport.state?\"connected\"!==this.peerConnectionState?iP.debug(\"[updateAdaptation] peerConnection not connected}\"):iP.debug(\"[updateAdaptation] updateRtpSenderEncodings failed\",t):iP.debug(\"[updateAdaptation] rtpSender transport not connected}\")}}async applySendEncodings(e,t){try{if(!pP().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];r instanceof kM&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,n.sender)}}catch(e){iP.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t,i){const n=LD(e);return t.forEach(((e,t)=>{const r=i[t],o=n.mediaDescriptions.find((e=>e.attributes.mid===r));o&&(kF(o,e),FF(o,e,this.store.codec))})),kD(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var i,n,r,o,s;const c=e[a],d=t[a];if(d instanceof kM&&!Ln(i=d._hints).call(i,VP.LOW_STREAM)&&null!==(n=d._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=d._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=d._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(s=d._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(d._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=c.sender.getParameters();await c.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!Bw()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof kM&&this.isVP8Simulcast(n)){const t=e[i],r={},o={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:o.medium,scaleResolutionDownBy:4}];const s=t.sender.getParameters();await t.sender.setParameters(Object.assign(s,r))}}}isVP8Simulcast(e){var t,i,n,r,o;return!!(e instanceof kM&&CD(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!Ln(t=e._hints).call(t,VP.LOW_STREAM)&&null!==(i=e._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=e._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(CD(\"SDP_LOGGING\"))return iP.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(t,\" SDP during NVConnectionExtension.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return t&&0!==t.length?t[0].ssrcId:void 0}setConfiguration(t){if(pP().supportPCSetConfiguration){const i=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(i)}t.isPreallocation&&(this.isPreallocation=!0)}},DV(iJ.prototype,\"updateRemoteRTPCapabilities\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"updateRemoteRTPCapabilities\"),iJ.prototype),DV(iJ.prototype,\"connect\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"connect\"),iJ.prototype),DV(iJ.prototype,\"updateRemoteConnect\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"updateRemoteConnect\"),iJ.prototype),DV(iJ.prototype,\"createDataChannels\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"createDataChannels\"),iJ.prototype),DV(iJ.prototype,\"receive\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"receive\"),iJ.prototype),DV(iJ.prototype,\"batchReceive\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"batchReceive\"),iJ.prototype),DV(iJ.prototype,\"stopReceiving\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"stopReceiving\"),iJ.prototype),DV(iJ.prototype,\"muteRemote\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"muteRemote\"),iJ.prototype),DV(iJ.prototype,\"unmuteRemote\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"unmuteRemote\"),iJ.prototype),DV(iJ.prototype,\"muteLocal\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"muteLocal\"),iJ.prototype),DV(iJ.prototype,\"unmuteLocal\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"unmuteLocal\"),iJ.prototype),DV(iJ.prototype,\"close\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"close\"),iJ.prototype),DV(iJ.prototype,\"updateEncoderConfig\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"updateEncoderConfig\"),iJ.prototype),DV(iJ.prototype,\"updateSendParameters\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"updateSendParameters\"),iJ.prototype),DV(iJ.prototype,\"replaceTrack\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"replaceTrack\"),iJ.prototype),DV(iJ.prototype,\"updateAdaptation\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"updateAdaptation\"),iJ.prototype),DV(iJ.prototype,\"getRemoteSSRC\",[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,\"getRemoteSSRC\"),iJ.prototype),iJ);function sJ(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From NVConnectionExtension.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}var aJ;function cJ(e){var t,i,n,r=2;for(\"undefined\"!=typeof Symbol&&(i=Fb,n=Symbol.iterator);r--;){if(i&&null!=(t=e[i]))return t.call(e);if(n&&null!=(t=e[n]))return new dJ(t.call(e));i=\"@@asyncIterator\",n=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}function dJ(e){function t(e){if(Object(e)!==e)return rp.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return rp.resolve(e.value).then((function(e){return{value:e,done:t}}))}return dJ=function(e){this.s=e,this.n=e.next},dJ.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var i=this.s.return;return void 0===i?rp.resolve({value:e,done:!0}):t(i.apply(this.s,arguments))},throw:function(e){var i=this.s.return;return void 0===i?rp.reject(e):t(i.apply(this.s,arguments))}},new dJ(e)}let lJ=(aJ=class e extends mx{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get localCodecs(){return this._p2pConnection.localCodecs}constructor(t,i){super(t,i),iA(this,\"name\",\"DataChannelConnection\"),iA(this,\"store\",void 0),iA(this,\"peerConnection\",void 0),iA(this,\"cname\",void 0),iA(this,\"mutex\",new PN(\"DataChannelConnection-mutex\")),iA(this,\"dataChannel\",void 0),iA(this,\"_p2pConnection\",void 0),iA(this,\"establishPromise\",void 0),iA(this,\"_nvMedia\",void 0),this.store=i,this.store.dcId=this.store.dcId+1,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.dataChannel=this.peerConnection.createDataChannel(\"agora-signal\",{ordered:!1,maxPacketLifeTime:50}),this.dataChannel.binaryType=\"arraybuffer\",this._p2pConnection=new oJ(t,i,this.peerConnection),this.bindPCEvents(),this.establishPromise=this._p2pConnection.establishPromise}getPreMedia(e){var t;return null===(t=this._p2pConnection)||void 0===t?void 0:t.getPreMedia(e)}isPreSub(){var e,t;return null!==(e=null===(t=this._p2pConnection)||void 0===t?void 0:t.isPreSub())&&void 0!==e&&e}async establish(){return await this._p2pConnection.establish()}getP2PConnectionParams(){return this._p2pConnection.establishPromise}updateRtpSenderEncodings(e){return this._p2pConnection.updateRtpSenderEncodings(e)}async connect(e){return this.cname=e.cname,await this._p2pConnection.connect(e),await new rp(((t,i)=>{const n=setTimeout((()=>{this.closeSignal(),i(new uP(hO.DATACHANNEL_CONNECTION_TIMEOUT,\"Datachannel connection timed out, candidates: \".concat(JSON.stringify(e.candidates))))}),CD(\"DC_CONNECTION_TIMEOUT\"));this.dataChannel.onopen=()=>{if(\"open\"===this.dataChannel.readyState)return clearTimeout(n),void t()},this.dataChannel.onerror=e=>{this.closeSignal(),i(e)},this.dataChannel.addEventListener(\"close\",(()=>{i(new uP(hO.DATACHANNEL_CONNECTION_TIMEOUT))}))})),{transmitter:this.dataChannel,close:this.closeSignal.bind(this)}}async updateRemoteRTPCapabilities(e,t){return this._p2pConnection.updateRemoteRTPCapabilities(e,t)}send(e,t,i){var n=this;return Mb((function*(){const r=yield Vb(n.mutex.lock(\"From DataChannelConnection.send\"));try{return yield*xb(cJ(n._p2pConnection.send(e,t,i)))}finally{r()}}))()}async stopSending(e,t){return this._p2pConnection.stopSending(e,t)}async createDataChannels(e,t){return this._p2pConnection.createDataChannels(e,t)}async stopDataChannels(e){return this._p2pConnection.stopDataChannels(e)}async receive(e,t,i,n){return this._nvMedia?(iP.debug(\"[DataChannelConnection] receive \".concat(e,\" by DataChannel.\")),await this._nvMedia.reveiveByRTCMedia(e,t,this.cname)):(iP.debug(\"[DataChannelConnection] receive \".concat(e,\" by WebRTC.\")),await this._p2pConnection.receive(e,t,i,n))}async batchReceive(e){return[...await this._p2pConnection.batchReceive(e)]}async stopReceiving(e){return await this._p2pConnection.stopReceiving(e)}async muteRemote(e){return await this._p2pConnection.muteRemote(e)}async unmuteRemote(e){return await this._p2pConnection.unmuteRemote(e)}async muteLocal(e){return await this._p2pConnection.muteLocal(e)}async unmuteLocal(e){return await this._p2pConnection.unmuteLocal(e)}restartICE(e){var t=this;return Mb((function*(){return yield*xb(cJ(t._p2pConnection.restartICE(e)))}))()}close(){var e;null===(e=this._nvMedia)||void 0===e||e.close(),this._p2pConnection.close(),this.unbindConnectionEvents(this._p2pConnection)}getStats(){return this._p2pConnection.getStats()}getRemoteVideoIsReady(e){return this._p2pConnection.getRemoteVideoIsReady(e)}updateRemoteConnect(e){var t;return null===(t=this._nvMedia)||void 0===t||t.setRemoteRtpCapabilities(e),this._p2pConnection.updateRemoteConnect(e)}async updateEncoderConfig(e,t){return await this._p2pConnection.updateEncoderConfig(e,t)}async updateSendParameters(e,t){return await this._p2pConnection.updateSendParameters(e,t)}setStatsRemoteVideoIsReady(e,t){this._p2pConnection.setStatsRemoteVideoIsReady(e,t)}async replaceTrack(e,t){return await this._p2pConnection.replaceTrack(e,t)}async getRemoteSSRC(e){return this._p2pConnection.getRemoteSSRC(e)}logSDPExchange(e,t,i,n){if(CD(\"SDP_LOGGING\"))return iP.upload(\"exchanging \".concat(i,\" \").concat(t,\" SDP during DataChannelConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}static resolvePCConfiguration(t){const i={iceServers:[]};return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(xO(t.turnServer.servers)?i.iceServers=t.turnServer.servers:(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),CD(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),CD(\"FORCE_TURN_TCP\")?i.iceTransportPolicy=\"relay\":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")})))),CD(\"ENABLE_ENCODED_TRANSFORM\")&&pP().supportWebRTCEncodedTransform&&(i.encodedInsertableStreams=!0),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(sF(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!CD(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}bindPCEvents(){this._p2pConnection.onICEConnectionStateChange=e=>{var t;return null===(t=this.onICEConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onConnectionStateChange=e=>{var t;return null===(t=this.onConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportStateChange=e=>{var t;return null===(t=this.onDTLSTransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportError=e=>{var t;return null===(t=this.onDTLSTransportError)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onICETransportStateChange=e=>{var t;return null===(t=this.onICETransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioReceived=e=>{var t;return null===(t=this.onFirstAudioReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoReceived=e=>{var t;return null===(t=this.onFirstVideoReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioDecoded=e=>{var t;return null===(t=this.onFirstAudioDecoded)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoRender=e=>{var t;return null===(t=this.onFirstVideoRender)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoBufferReady=e=>{var t;return null===(t=this.onFirstVideoBufferReady)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoDecoded=(e,t,i)=>{var n;return null===(n=this.onFirstVideoDecoded)||void 0===n?void 0:n.call(this,e,t,i)},this._p2pConnection.onFirstVideoDecodedTimeout=e=>{var t;return null===(t=this.onFirstVideoDecodedTimeout)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onSelectedLocalCandidateChanged=(e,t)=>{var i;return null===(i=this.onSelectedLocalCandidateChanged)||void 0===i?void 0:i.call(this,e,t)},this._p2pConnection.onSelectedRemoteCandidateChanged=(e,t)=>{var i;return null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i?void 0:i.call(this,e,t)}}closeSignal(){this.dataChannel.close(),this.peerConnection.close()}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}setConfiguration(e){this._p2pConnection.setConfiguration(e)}},DV(aJ.prototype,\"connect\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"connect\"),aJ.prototype),DV(aJ.prototype,\"updateRemoteRTPCapabilities\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"updateRemoteRTPCapabilities\"),aJ.prototype),DV(aJ.prototype,\"createDataChannels\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"createDataChannels\"),aJ.prototype),DV(aJ.prototype,\"receive\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"receive\"),aJ.prototype),DV(aJ.prototype,\"stopReceiving\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"stopReceiving\"),aJ.prototype),DV(aJ.prototype,\"muteRemote\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"muteRemote\"),aJ.prototype),DV(aJ.prototype,\"unmuteRemote\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"unmuteRemote\"),aJ.prototype),DV(aJ.prototype,\"muteLocal\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"muteLocal\"),aJ.prototype),DV(aJ.prototype,\"unmuteLocal\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"unmuteLocal\"),aJ.prototype),DV(aJ.prototype,\"close\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"close\"),aJ.prototype),DV(aJ.prototype,\"updateEncoderConfig\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"updateEncoderConfig\"),aJ.prototype),DV(aJ.prototype,\"updateSendParameters\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"updateSendParameters\"),aJ.prototype),DV(aJ.prototype,\"replaceTrack\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"replaceTrack\"),aJ.prototype),DV(aJ.prototype,\"getRemoteSSRC\",[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,\"getRemoteSSRC\"),aJ.prototype),aJ);function uJ(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From DataChannelConnection.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}function hJ(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class pJ extends NO{get url(){return this._url?this._url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;Ln(t=[\"tryNext\",\"recover\"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,\"reconnecting\"===this._state?this.emit(wx.RECONNECTING,this.reconnectReason):\"connected\"===this._state?this.emit(wx.CONNECTED):\"closed\"===this._state?this.emit(wx.CLOSED):\"failed\"===this._state&&this.emit(wx.FAILED))}constructor(e,t,i,n){super(),iA(this,\"connectionID\",0),iA(this,\"currentURLIndex\",0),iA(this,\"reconnectReason\",void 0),iA(this,\"_reconnectMode\",\"tryNext\"),iA(this,\"_initMutex\",void 0),iA(this,\"_name\",void 0),iA(this,\"_state\",\"closed\"),iA(this,\"_reconnectInterrupter\",void 0),iA(this,\"_url\",void 0),iA(this,\"_retryConfig\",void 0),iA(this,\"_reconnectCount\",0),iA(this,\"_forceCloseTimeout\",5e3),iA(this,\"_onlineReconnectListener\",void 0),iA(this,\"_closeEstablishingTransmitter\",(()=>{})),iA(this,\"_store\",void 0),iA(this,\"_joinChannelServiceRecordIndex\",void 0),iA(this,\"_transmitter\",void 0),iA(this,\"_useCompress\",void 0),iA(this,\"_inflateLength\",0),iA(this,\"_deflateLength\",0),this._store=n,this._name=e,this._retryConfig=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?hJ(Object(i),!0).forEach((function(t){iA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):hJ(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t),this._useCompress=i}resetReconnectCount(e){iP.debug(\"\".concat(this._name,\" reset reconnect count, reason: \").concat(e)),this._reconnectCount=0}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount(\"close\"),this._reconnectInterrupter&&this._reconnectInterrupter(),this._transmitter){this._transmitter.onclose=null,this._transmitter.onopen=null,this._transmitter.onmessage=null;const e=this._transmitter;t?setTimeout((()=>e.close()),500):e.close(),this._transmitter=void 0}this.state=e?\"failed\":\"closed\",this._closeEstablishingTransmitter&&this._closeEstablishingTransmitter()}reconnect(e,t){if(!this._transmitter)return void iP.warning(\"[\".concat(this._name,\"] can not reconnect, no websocket\"));var i;(void 0!==e&&(this.reconnectMode=e),iP.debug(\"[\".concat(this._name,\"] reconnect is triggered initiative\")),\"number\"==typeof this._joinChannelServiceRecordIndex)&&(null===(i=this._store)||void 0===i||i.recordJoinChannelService({status:\"error\",errors:[new Error(t)]},this._joinChannelServiceRecordIndex));const n=this._transmitter.onclose;this._transmitter.onclose=null,this._transmitter.close(),n&&n.bind(this._transmitter)({code:9999,reason:t})}getInflateData(){const e=this._inflateLength,t=this._deflateLength;return this.clearInflateData(),{inflateLength:e,deflateLength:t}}setInflateData(e){this._deflateLength=this._deflateLength+e.originLength,this._inflateLength=this._inflateLength+e.compressedLength}clearInflateData(){this._inflateLength=0,this._deflateLength=0}}let _J=function(e){return e[e.Default=0]=\"Default\",e[e.Ack=1]=\"Ack\",e}({});class EJ{constructor(e,t,i){iA(this,\"version\",1),iA(this,\"initialRTO\",void 0),iA(this,\"maxBatchAckCount\",void 0),iA(this,\"maxRTO\",void 0),iA(this,\"initialRTT\",void 0),iA(this,\"ID\",void 0),iA(this,\"rtt\",void 0),iA(this,\"packetNumber\",1),iA(this,\"rtoRatioMap\",new Map),iA(this,\"timeoutMap\",new Map),iA(this,\"unorderedPacketQueue\",[]),iA(this,\"batchAckPacketQueue\",[]),iA(this,\"lastOrderedPacketNumber\",0),iA(this,\"batchAckTimer\",void 0),iA(this,\"sendImpl\",void 0),iA(this,\"receiveImpl\",void 0),this.sendImpl=e,this.receiveImpl=t,this.ID=SN(7,\"transmitter-\"),this.initialRTO=void 0!==(null==i?void 0:i.initialRTO)?i.initialRTO:CD(\"TRANSMITTER_INITIAL_RTO\"),this.initialRTT=void 0!==(null==i?void 0:i.initialRTT)?i.initialRTT:CD(\"TRANSMITTER_INITIAL_RTT\"),this.rtt=void 0!==(null==i?void 0:i.initialRTT)?i.initialRTT:CD(\"TRANSMITTER_INITIAL_RTT\"),this.maxBatchAckCount=void 0!==(null==i?void 0:i.maxBatchAckCount)?i.maxBatchAckCount:CD(\"TRANSMITTER_MAX_BATCH_ACK_COUNT\"),this.maxRTO=void 0!==(null==i?void 0:i.maxRTO)?i.maxRTO:CD(\"TRANSMITTER_MAX_RTO\")}packetize(e,t){return{type:_J.Default,version:this.version,packetNumber:t,payload:e}}serialize(e){switch(e.type){case _J.Default:{let t;if(\"string\"==typeof e.payload){t=(new TextEncoder).encode(e.payload)}else t=e.payload;const i=new ArrayBuffer(t.length+15),n=new DataView(i);n.setUint16(0,e.version),n.setUint8(2,e.type),n.setUint32(3,e.packetNumber),vO(n,7,BigInt(e.sendTs));return new Uint8Array(n.buffer).set(t,15),i}case _J.Ack:{const t=new ArrayBuffer(16),i=new DataView(t);return i.setUint16(0,e.version),i.setUint8(2,e.type),i.setUint32(3,e.maxAckPacketNumber),i.setUint8(7,e.shift),vO(i,8,BigInt(e.ackSendTs)),t}}}deserialize(e){const t=new DataView(e),i=t.getUint16(0),n=t.getUint8(2);switch(n){case _J.Default:{const r=t.getUint32(3),o=CO(t,7),s=e.slice(15),a=new Uint8Array(s);return{version:i,type:n,packetNumber:r,sendTs:Number(o),payload:a}}case _J.Ack:{const e=t.getUint32(3),r=t.getUint8(7),o=CO(t,8);return{version:i,type:n,maxAckPacketNumber:e,shift:r,ackSendTs:Number(o)}}default:throw iP.error(\"[\".concat(this.ID,\"] Unrecognized packet type \").concat(n)),new Error(\"Unrecognized packet type \".concat(n))}}sendMessage(e){CD(\"DC_DEBUG_LOG\")&&\"string\"==typeof e&&iP.debug(\"[\".concat(this.ID,\"] sending message packet\"),JSON.parse(e));const t=this.packetize(e,this.packetNumber);this.packetNumber=4294967295===this.packetNumber?1:this.packetNumber+1;const i=this.calculateRTO(t),n=window.setTimeout((()=>{this.resendMessage(t)}),i);this.timeoutMap.set(t.packetNumber,n),this.sendPacket(t)}onData(e){const t=this.deserialize(e);t.type===_J.Default?this.ack(t):t.type===_J.Ack&&(this.updateRTT(t,Math.round(performance.now())),this.clearRTO(t))}close(){this.rtt=this.initialRTT,this.packetNumber=1,Array.from(this.timeoutMap.entries()).forEach((e=>{let[t,i]=e;window.clearTimeout(i)})),this.timeoutMap=new Map,this.rtoRatioMap=new Map,this.unorderedPacketQueue=[],this.batchAckPacketQueue=[],this.lastOrderedPacketNumber=0,void 0!==this.batchAckTimer&&window.clearTimeout(this.batchAckTimer)}resendMessage(e){const t=this.calculateRTO(e),i=window.setTimeout((()=>{CD(\"DC_DEBUG_LOG\")&&\"string\"==typeof e.payload&&iP.debug(\"[\".concat(this.ID,\"] resending message packet\"),JSON.parse(e.payload),\"timeout: \".concat(t)),this.resendMessage(e)}),t);this.timeoutMap.set(e.packetNumber,i),this.sendPacket(e)}calculateRTO(e){const t=this.rtoRatioMap.get(e.packetNumber);if(void 0===t)return this.rtoRatioMap.set(e.packetNumber,1),this.initialRTO;{const i=9*this.rtt/8*t;return this.rtoRatioMap.set(e.packetNumber,t+1),i>this.maxRTO?this.maxRTO:i}}updateRTT(e,t){const i=e.ackSendTs;this.rtt=this.rtt*(7/8)+(t-i-this.rtt)/8}ack(e){if(e.packetNumber===this.lastOrderedPacketNumber+1)for(this.batchAckPacketQueue.length>=this.maxBatchAckCount&&this.batchAck(),this.batchAckTimer?this.batchAckPacketQueue.push(e):(this.batchAckPacketQueue.push(e),this.batchAckTimer=window.setTimeout((()=>{this.batchAck()}),this.rtt/8)),this.lastOrderedPacketNumber+=1,this.receiveImpl(e.payload);;){const e=this.unorderedPacketQueue[0];if(!e){this.unorderedPacketQueue.shift();break}this.batchAckTimer&&this.batchAck(),this.receiveImpl(e.payload),this.unorderedPacketQueue.shift(),this.lastOrderedPacketNumber+=1}else if(e.packetNumber<=this.lastOrderedPacketNumber){const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:_J.Ack,version:this.version};CD(\"DC_DEBUG_LOG\")&&iP.debug(\"[\".concat(this.ID,\"] sending ack packet\"),t,\"packetNumber: \".concat(e.packetNumber)),this.sendPacket(t)}else if(e.packetNumber>this.lastOrderedPacketNumber){this.unorderedPacketQueue[e.packetNumber-this.lastOrderedPacketNumber-2]=e;const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:_J.Ack,version:this.version};CD(\"DC_DEBUG_LOG\")&&iP.debug(\"[\".concat(this.ID,\"] sending ack packet\"),t,\"packetNumber: \".concat(e.packetNumber)),this.sendPacket(t)}}batchAck(){window.clearTimeout(this.batchAckTimer),this.batchAckTimer=void 0;const e={ackSendTs:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].sendTs,maxAckPacketNumber:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].packetNumber,shift:this.batchAckPacketQueue.length-1,type:_J.Ack,version:this.version};CD(\"DC_DEBUG_LOG\")&&iP.debug(\"[\".concat(this.ID,\"] sending batch ack packet\"),e,\"shift: \".concat(this.batchAckPacketQueue.length-1)),this.sendPacket(e),this.batchAckPacketQueue=[]}sendPacket(e){e.type===_J.Default&&(e.sendTs=Math.round(performance.now()));const t=this.serialize(e);this.sendImpl(t)}clearRTO(e){for(let t=e.maxAckPacketNumber-e.shift;t<=e.maxAckPacketNumber;t++){const e=this.timeoutMap.get(t);void 0!==e&&window.clearTimeout(e),this.timeoutMap.delete(t),this.rtoRatioMap.delete(t)}}}class mJ extends pJ{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3?arguments[3]:void 0),iA(this,\"_initMutex\",void 0),iA(this,\"_reconnectInterrupter\",void 0),iA(this,\"_url\",void 0),iA(this,\"_transmitter\",void 0),iA(this,\"_addresses\",void 0),iA(this,\"_reliableTransmission\",void 0),iA(this,\"_textEncoder\",void 0),iA(this,\"_textDecoder\",void 0),this._textEncoder=new TextEncoder,this._textDecoder=new TextDecoder,this._initMutex=new PN(\"datachannel\");const{timeout:i,timeoutFactor:n}=t,r=Math.max(300,Math.floor(3*i/5)),o=Math.max(1.2,Math.floor(8*n)/10);KO.ONLINE&&(this._retryConfig.timeout=r,this._retryConfig.timeoutFactor=o),QO.on(YO.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount(\"network state change: \".concat(t,\" -> \").concat(e)),e===KO.ONLINE?(this._retryConfig.timeout=r,this._retryConfig.timeoutFactor=o):(this._retryConfig.timeout=i,this._retryConfig.timeoutFactor=n))}))}getConnection(){if(this._reliableTransmission)return this._reliableTransmission}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this._forceCloseTimeout=t;const i=(t,i)=>{this._addresses=e,this.currentURLIndex=this._addresses.findIndex((e=>e.fingerprint||CD(\"FINGERPRINT\")));const n=this._addresses[this.currentURLIndex];this.state=\"connecting\",this.createTransmitterConnection(n).then(t).catch(i),this.once(wx.CLOSED,(()=>i(new uP(hO.WS_DISCONNECT)))),this.once(wx.CONNECTED,(()=>t()))};return this._initMutex.lock().then((e=>new rp(((e,t)=>{i(e,t)})).then((()=>{e()})).catch((()=>{e()}))))}async sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._transmitter||!this._reliableTransmission)throw new uP(hO.WS_ABORT,\"datachannel is not ready\");try{t||(e=JSON.stringify(e));const i=this._textEncoder.encode(e),n=hq(i,{raw:!0});this._reliableTransmission.sendMessage(n)}catch(e){throw new uP(hO.WS_ERR,\"send datachannel signal message error\"+e.toString())}}unbindDcCloseEventListener(){this._transmitter&&(this._transmitter.onclose=null)}sendMessageWithJSON(e){const t=JSON.stringify(e);return{compressed:t,compressedLength:t.length,origin:e}}sendMessageWithUint8Array(e){return{compressed:e,compressedLength:e.byteLength,origin:e}}createTransmitterConnection(e){return this.connectionID+=1,this._joinChannelServiceRecordIndex=void 0,this._url=\"dc://\".concat(e.ip,\":\").concat(e.port),new rp(((t,i)=>{var n;const r=()=>{iP.debug(\"[\".concat(this._name,\"] datachannel opened:\"),this._url),this.reconnectMode=\"recover\",this.state=\"connected\",this.resetReconnectCount(\"opened\"),t()},o=async e=>{var n;if(null===(n=this._closeEstablishingTransmitter)||void 0===n||n.call(this),iP.debug(\"[\".concat(this._name,\"] datachannel close \").concat(this._url,\", code: \").concat(e.code,\", reason: \").concat(e.reason,\", current mode: \").concat(this.reconnectMode)),this._reconnectCount<this._retryConfig.maxRetryCount){\"connected\"===this.state&&(this.reconnectReason=e.reason,this.state=\"reconnecting\");const n=XO(this,wx.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,r=await this.reconnectWithAction(n);if(\"closed\"===this.state)return void iP.debug(\"[\".concat(this.connectionID,\"] dc is closed, no need to reconnect\"));if(!r)return i(new uP(hO.WS_DISCONNECT,\"datachannel reconnect failed: \".concat(e.code))),void this.close(!0);t()}else i(new uP(hO.WS_DISCONNECT,\"datachannel close: \".concat(e.code))),this.close()},s=async e=>{try{var t;null===(t=this._reliableTransmission)||void 0===t||t.onData(e.data)}catch(e){console.log(e)}};this._transmitter&&(this._transmitter.onclose=null,this._transmitter.close()),this._reliableTransmission&&(this._reliableTransmission.close(),this._reliableTransmission=void 0),iP.debug(\"[\".concat(this._name,\"] start connect, address: \").concat(JSON.stringify(e)));const a=null===(n=this._store)||void 0===n?void 0:n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"gateway\"}),c=Date.now();zO(this,wx.TO_CONNECT_DATACHANNEL).then((e=>{var t,i;if(!e)throw new Error(\"transmissonInfo not exist yet\");const{transmitter:n,close:d}=e;this._transmitter=n,null===(t=this._store)||void 0===t||t.signalChannelOpen();const l=Date.now()-c;iP.debug(\"[choose dc] dc open cost \".concat(l,\"ms\"));this._reliableTransmission=new EJ((e=>{var t;this._transmitter&&\"open\"===this._transmitter.readyState&&(null===(t=this._transmitter)||void 0===t||t.send(e))}),(e=>{if(\"string\"==typeof e)this.emit(wx.ON_MESSAGE,e);else{const t=_q(e,{raw:!0}).buffer,i=this._textDecoder.decode(t);this.emit(wx.ON_MESSAGE,i)}})),this._closeEstablishingTransmitter=()=>{var e;null===(e=this._reliableTransmission)||void 0===e||e.close(),this._reliableTransmission=void 0,d()},r&&r(),n.onclose=o,n.onmessage=s,null===(i=this._store)||void 0===i||i.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),this._joinChannelServiceRecordIndex=a})).catch((e=>{var t;if(null===(t=this._store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:e instanceof uP&&e.code===hO.WS_ABORT?\"aborted\":\"error\",errors:[e]},a),\"closed\"!==this.state){if(e instanceof uP&&e.code===hO.WS_ERR){const t=new uP(hO.WS_ERR,\"init datachannel failed! Error: \".concat(e.toString()));return iP.error(\"[\".concat(this._name,\"]\").concat(t)),void i(t)}o&&o(e)}else i(new uP(hO.WS_DISCONNECT,\"datachannel is closed: \".concat(e.toString())))}))}))}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._reconnectCount>=this._retryConfig.maxRetryCount)return!1;if(!this._addresses)return!1;if(\"closed\"===this.state)return!1;this._onlineReconnectListener||QO.networkState!==KO.OFFLINE||(this._onlineReconnectListener=QO.onlineWaiter&&QO.onlineWaiter.then((()=>{this._onlineReconnectListener=void 0})));let i=!0;if(this._reconnectInterrupter=()=>{i=!1},t){const t=MN(this._reconnectCount,this._retryConfig);iP.debug(\"[\".concat(this._name,\"] wait \").concat(t,\"ms to reconnect datachannel, mode: \").concat(e)),await rp.race([fN(t),this._onlineReconnectListener||new rp((()=>{}))])}if(\"closed\"===this.state||!i)return!1;this._reconnectCount+=1;const n=async(e,t)=>{this.emit(wx.RECONNECT_CREATE_CONNECTION,t),await this.createTransmitterConnection(e)};try{if(\"retry\"===e){const t=this._addresses[this.currentURLIndex];await n(t,e)}else if(\"tryNext\"===e){this.currentURLIndex+=1;for(let e=this.currentURLIndex;e<this._addresses.length;e++){if(this._addresses[e].fingerprint||CD(\"FINGERPRINT\")){this.currentURLIndex=e;break}this.currentURLIndex+=1}if(this.currentURLIndex>=this._addresses.length)return iP.debug(\"[\".concat(this._name,\"] the available addresses are exhausted, change to recover\")),await this.reconnectWithAction(\"recover\",!1);iP.debug(\"[\".concat(this._name,\"] datachannel url length: \").concat(this._addresses.length,\" current index: \").concat(this.currentURLIndex));const t=this._addresses[this.currentURLIndex];await n(t,e)}else\"recover\"===e&&(iP.debug(\"[\".concat(this._name,\"] start to failback to websocket\")),this.resetReconnectCount(\"recover mode\"),this.emit(wx.FAILBACK));return!0}catch(i){var r,o;return iP.error(\"[\".concat(this._name,\"] reconnect failed\"),i.toString()),null!=i&&null!==(r=i.data)&&void 0!==r&&r.desc&&Array.isArray(i.data.desc)&&i.data.desc.length&&Ln(o=i.data.desc).call(o,\"dynamic key expired\")?(this.emit(wx.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(e,t)}}}class fJ extends NO{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===VV.CONNECTED?this.emit(xV.WS_CONNECTED):e===VV.RECONNECTING?this.emit(xV.WS_RECONNECTING,this._websocketReconnectReason):e===VV.CLOSED&&this.emit(xV.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}processPendingNotifications(){0!==this.pendingNotifications.length&&(iP.debug(\"[\".concat(this.clientId,\"] processing \").concat(this.pendingNotifications.length,\" pending notifications\")),this.pendingNotifications.forEach((e=>{let{type:t,message:i}=e;this.emit(t,i),t===jV.ON_NOTIFICATION&&this.handleNotification(i),t===jV.ON_USER_BANNED&&this.handleUserBanned(i)})),this.pendingNotifications=[])}handleUserBanned(e){switch(e.error_code){case 14:this.close(VO.UID_BANNED);break;case 15:this.close(VO.IP_BANNED);break;case 16:this.close(VO.CHANNEL_BANNED)}}constructor(e,t){super(),iA(this,\"__name__\",\"DataChannelSignal\"),iA(this,\"_disconnectedReason\",void 0),iA(this,\"_websocketReconnectReason\",void 0),iA(this,\"_connectionState\",VV.CLOSED),iA(this,\"reconnectToken\",void 0),iA(this,\"websocket\",void 0),iA(this,\"openConnectionTime\",void 0),iA(this,\"clientId\",void 0),iA(this,\"lastMsgTime\",Date.now()),iA(this,\"uploadCache\",[]),iA(this,\"uploadCacheInterval\",void 0),iA(this,\"rttRolling\",new xN(5)),iA(this,\"pingpongTimer\",void 0),iA(this,\"inflateDataTimer\",void 0),iA(this,\"pingpongTimeoutCount\",0),iA(this,\"ortc\",void 0),iA(this,\"joinResponse\",void 0),iA(this,\"multiIpOption\",void 0),iA(this,\"initError\",void 0),iA(this,\"spec\",void 0),iA(this,\"store\",void 0),iA(this,\"isJoining\",!1),iA(this,\"pendingNotifications\",[]),iA(this,\"onWebsocketMessage\",(e=>{if(e instanceof ArrayBuffer)return void this.emit(xV.ON_BINARY_DATA,e);const t=JSON.parse(e);if(CD(\"DC_DEBUG_LOG\")&&iP.debug(\"[datachannel-signal] received packet\",t),this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else Object.prototype.hasOwnProperty.call(t,\"_type\")&&(this.isJoining?t._type===jV.ON_NOTIFICATION||t._type===jV.ON_USER_BANNED?(this.emit(t._type,t._message),t._type===jV.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===jV.ON_USER_BANNED&&this.handleUserBanned(t._message)):(this.pendingNotifications.push({type:t._type,message:t._message}),iP.debug(\"[\".concat(this.clientId,\"] cached notification during join: \").concat(t._type))):(this.emit(t._type,t._message),t._type===jV.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===jV.ON_USER_BANNED&&this.handleUserBanned(t._message)))})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new mJ(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",(()=>{this.connectionState===VV.CONNECTED&&this.reconnect(\"retry\",bx.OFFLINE)}))}async request(e,t,i,n){const r=SN(6,\"\"),o={_id:r,_type:e,_message:t},s=this.websocket.connectionID,a=()=>new rp(((t,i)=>{if(this.connectionState===VV.CONNECTED)return t();const n=()=>{this.off(xV.WS_CLOSED,r),t()},r=()=>{this.off(xV.WS_CONNECTED,n),i(new uP(hO.WS_ABORT))};this.once(xV.WS_CONNECTED,n),this.once(xV.WS_CLOSED,r),e!==FV.PUBLISH&&e!==FV.SUBSCRIBE&&e!==FV.UNSUBSCRIBE&&e!==FV.UNPUBLISH&&e!==FV.CONTROL&&e!==FV.RESTART_ICE||this.once(xV.DISCONNECT_P2P,(()=>{i(new uP(hO.DISCONNECT_P2P))})),e!==FV.PUBLISH&&e!==FV.RESTART_ICE||this.once(xV.ABORT_P2P_EXECUTION,(()=>{i(new uP(hO.DISCONNECT_P2P))}))}));if(this.connectionState!==VV.CONNECTING&&this.connectionState!==VV.RECONNECTING||e===FV.JOIN||e===FV.REJOIN||await a(),e===FV.LEAVE&&(this.websocket.unbindDcCloseEventListener(),n=!0),CD(\"DC_DEBUG_LOG\")&&iP.debug(\"[datachannel-signal] sendMessage\",o),await this.websocket.sendMessage(o,!0,!1),n)return;const c=new rp(((i,n)=>{let o=!1;const a=(n,r)=>{o=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(xV.WS_CLOSED,c),this.off(xV.WS_RECONNECTING,c),this.emit(xV.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new uP(hO.WS_ABORT,\"type: \".concat(e))),this.off(xV.WS_CLOSED,c),this.off(xV.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(xV.WS_CLOSED,c),this.once(xV.WS_RECONNECTING,c),fN(CD(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{this.websocket.connectionID!==s||o||(iP.warning(\"dc request timeout, type: \".concat(e)),this.emit(xV.REQUEST_TIMEOUT,e,t))}))}));let d=null;try{d=await c}catch(n){if(this.connectionState===VV.CLOSED||e===FV.LEAVE)throw new uP(hO.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===FV.JOIN||e===FV.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const l=Number(d.message.error_code||d.message.code),u=Bx(l),h=new uP(hO.UNEXPECTED_RESPONSE,\"\".concat(u.desc,\": \").concat(d.message.error_str),{code:l,data:d.message});return\"success\"===u.action?d.message:(iP.warning(\"[\".concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(l,\", message: \").concat(u.desc,\", action: \").concat(u.action)),l===UV.ERR_TOO_MANY_BROADCASTERS?e===FV.JOIN||e===FV.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():\"failed\"===u.action?h.throw():\"quit\"===u.action?(this.initError=h,this.close(),h.throw()):(l===UV.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,iP.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",bx.MULTI_IP)):this.reconnect(u.action,bx.SERVER_ERROR),e===FV.JOIN||e===FV.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new rp((i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void iP.warn(\"[\".concat(this.clientId,\"] no session id when upload wrtc stats\"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(BV.WRTC_STATS,t)}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=CD(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==VV.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),CD(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}async send(e,t){const i={_type:e,_message:t};await this.websocket.sendMessage(i)}init(e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new rp(((t,i)=>{this.once(xV.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(xV.WS_CLOSED,(()=>i(this.initError||new uP(hO.WS_ABORT)))),this.connectionState=VV.CONNECTING,this.websocket.init(e).catch(i),this.websocket.once(wx.FAILBACK,(()=>{i(new uP(hO.INIT_DATACHANNEL_TIMEOUT))})),this.inflateDataTimer&&window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=window.setInterval((()=>{this.handleInflateData()}),2e4),setTimeout((()=>{void 0===this.openConnectionTime&&(iP.debug(\"[\".concat(this.clientId,\"] init datachannel timeout while join with failback to websocket\")),i(new uP(hO.INIT_DATACHANNEL_TIMEOUT)))}),CD(\"DC_JOIN_WITH_FAILBACK\"))}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.inflateDataTimer&&(this.handleInflateData(),window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this.isJoining=!1,this.pendingNotifications=[],this._disconnectedReason=e||VO.LEAVE,this.connectionState=VV.CLOSED,iP.debug(\"[\".concat(this.clientId,\"] \")+\"will close datachannel in signal\"),this.websocket.close(),e===VO.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new mJ(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,this.store),this.handleWebsocketEvents())}async join(){if(this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),CD(\"DC_PINGPONG_INTERVAL\")),!this.joinResponse){this.emit(xV.ABORT_P2P_EXECUTION),this.store.signalConnected();const e=await zO(this,xV.REQUEST_JOIN_INFO);this.store.joinReq(),this.isJoining=!0,this.pendingNotifications=[];const t=await this.request(FV.JOIN,e);if(this.store.joinRep(),this.ortc=null==e?void 0:e.ortc,!t)return this.emit(xV.REPORT_JOIN_GATEWAY,hO.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(xV.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=VV.CONNECTED,this.isJoining=!1,this.processPendingNotifications(),!0}async rejoin(){if(!this.reconnectToken)throw new uP(hO.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");const e=JO(this,xV.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(FV.REJOIN,e);return!!t&&(this.connectionState=VV.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),CD(\"DC_PINGPONG_INTERVAL\")),t.peers&&t.peers.forEach((e=>{this.emit(jV.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(jV.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(jV.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(jV.MUTE_AUDIO,{uid:e.uid}):this.emit(jV.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(jV.MUTE_VIDEO,{uid:e.uid}):this.emit(jV.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(jV.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(jV.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(jV.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(jV.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(jV.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}async downgradeCodec(e){if(!this.ortc)return!1;const t={downgrade_codec:e,ortc:this.ortc};return!!await this.request(FV.DOWNGRADE_CODEC,t)}handleNotification(e){iP.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=Bx(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(VO.UID_BANNED),void this.close()):void this.reconnect(t.action,bx.SERVER_ERROR);iP.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1,CD(\"DC_DEBUG_LOG\")&&console.debug(\"[datachannel-signal] pingpongTimeoutCount: \".concat(this.pingpongTimeoutCount));const e=CD(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(iP.warning(\"[datachannel-signal] PINGPONG Timeout. Last Socket Message: \".concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>CD(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"recover\",bx.FALLBACK):this.request(FV.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),CD(\"REPORT_STATS\")&&this.send(FV.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleInflateData(){const{inflateLength:e,deflateLength:t}=this.websocket.getInflateData();0!==e&&0!==t&&this.upload(BV.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(wx.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(xV.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(wx.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(wx.CLOSED,(()=>{this.connectionState=VV.CLOSED})),this.websocket.on(wx.FAILED,(()=>{this._disconnectedReason=VO.NETWORK_ERROR,this.connectionState=VV.CLOSED})),this.websocket.on(wx.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===VV.CONNECTED?this.connectionState=VV.RECONNECTING:this.connectionState=VV.CONNECTING})),this.websocket.on(wx.WILL_RECONNECT,((e,t)=>{if(JO(this,xV.IS_P2P_DISCONNECTED)&&\"retry\"===e)return iP.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),this.reconnectToken=void 0,this.emit(xV.NEED_RENEW_SESSION),this.emit(xV.DISCONNECT_P2P),t(\"tryNext\");\"retry\"!==e&&(iP.debug(\"\".concat(this.clientId,\" websockt will_connect event, renewSession reconnectMode is \").concat(e)),this.reconnectToken=void 0,this.emit(xV.NEED_RENEW_SESSION),this.emit(xV.DISCONNECT_P2P)),t(e)})),this.websocket.on(wx.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{iP.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",bx.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(xV.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||\"\"),e instanceof uP&&e.code===hO.UNEXPECTED_RESPONSE&&e.data.code===UV.ERR_NO_AUTHORIZED)return iP.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",bx.SERVER_ERROR);iP.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",bx.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(wx.REQUEST_NEW_URLS,((e,t)=>{zO(this,xV.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(wx.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(jV.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(wx.TO_CONNECT_DATACHANNEL,((e,t)=>{zO(this,xV.PRE_CONNECT_PC).then(e).catch(t)})),this.websocket.on(wx.FAILBACK,(()=>{void 0!==this.openConnectionTime&&this.emit(xV.DATACHANNEL_FAILBACK)}))}}const SJ={name:\"DataChannelConnection\",create:function(e){let{store:t,spec:i}=e;return new lJ(i,t)}};const gJ={name:\"DataChannelSignal\",create:function(e){let{store:t,spec:i}=e;return new fJ(i,t)}};uD(),RD(\"PROCESS_ID\",\"process-\".concat(SN(8,\"\"),\"-\").concat(SN(4,\"\"),\"-\").concat(SN(4,\"\"),\"-\").concat(SN(4,\"\"),\"-\").concat(SN(12,\"\"))),function(){let e;try{e=window.localStorage.getItem(\"websdk_ng_global_parameter\")}catch(e){return void iP.error(\"Error loading sdk config\",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),i=Date.now();iP.debug(\"Loading global parameters from cache\",t),Object.keys(t).forEach((e=>{if(Object.prototype.hasOwnProperty.call(TD,e)){const{value:n,expires:r}=t[e];if(r&&r<=i)return;yD[e]=n,TD[e]=n}}))}catch(t){iP.error(\"Error loading mutableParamsCache: \".concat(e),t.message)}}(),Array.isArray(yD.AREAS)&&yD.AREAS.length>0&&vB(yD.AREAS,!0);const TJ=(e,t,i)=>{iP.debug(\"setParameter key:\".concat(e,\", value:\").concat(JSON.stringify(t))),RD(e,t,i)};rB(Tq,!1),rB(bq,!1),rB(PW,!1),rB(rX,!1),rB(fq,!1),rB(HX,!1),rB($X,!1),rB(tJ,!1),rB(SJ,!1),rB(gJ,!1);const RJ=function(e){const t=new NO,i=e,n={getListeners:t.getListeners.bind(t),on:(e,i)=>(function(e,t){e===Ox.SECURITY_POLICY_VIOLATION&&MH(t,!0)}(e,i),t.on.bind(t)(e,i)),addListener:t.addListener.bind(t),once:t.once.bind(t),off:t.off.bind(t),removeAllListeners:t.removeAllListeners.bind(t),emit:t.emit.bind(t),safeEmit:t.safeEmit.bind(t)};return LH(LH({},i),n)}({__TRACK_LIST__:kP,VERSION:hD,BUILD:SD,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:TJ,getParameter:CD,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;const i=await async function(e){let t;return pP().supportUnifiedPlan?(e.addTransceiver(\"video\",{direction:\"recvonly\"}),e.addTransceiver(\"audio\",{direction:\"recvonly\"}),t=(await e.createOffer()).sdp):t=(await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,t}(t);if(!i)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push(\"VP8\"),e.match(/ VP9/i)&&t.video.push(\"VP9\"),e.match(/ AV1/i)&&t.video.push(\"AV1\"),e.match(/ H264/i)&&t.video.push(\"H264\"),e.match(/ H265/i)&&t.video.push(\"H265\"),e.match(/ opus/i)&&t.audio.push(\"OPUS\"),e.match(/ PCMU/i)&&t.audio.push(\"PCMU\"),e.match(/ PCMA/i)&&t.audio.push(\"PCMA\"),e.match(/ G722/i)&&t.audio.push(\"G722\"),t}(i)}catch(e){throw new uP(hO.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return e},checkSystemRequirements:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=lP.reportApiInvoke(null,{name:LO.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:kO.TRACER}),i=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!1;try{const i=window.RTCPeerConnection,n=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,r=window.WebSocket;t=!(!i||!r),e&&!n&&(t=!1),t&&aO()&&Ww(75)&&(new i).close()}catch(e){iP.error(\"check system requirement failed: \",e),t=!1}return t}(e),n=AH();iP.debug(\"checkSystemRequirements, api:\",i,\"browser\",n);const r=i&&n;return t.onSuccess(r),CD(\"IGNORE_RTC_DEVICE_CHECK\")?i:r},getDevices:function(e){return PL.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return PL.getRecordingDevices(e)},getCameras:function(e){return PL.getCamerasDevices(e)},getElectronScreenSources:yL,getPlaybackDevices:function(e){return PL.getSpeakers(e)},createClient:IH,createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=CD(\"CAMERA_CAPTURE_CONFIG\"),i=SN(8,\"track-cam-\"),n=lP.reportApiInvoke(null,{id:i,tag:kO.TRACER,name:LO.CREATE_CAM_VIDEO_TRACK,options:[cL({},e),t]});t&&(e.encoderConfig=t);const r=zL(e);let o=null;iP.info(\"start create camera video track with config\",JSON.stringify(e),\"trackId\",i);try{o=(await wL({video:r},i)).getVideoTracks()[0]||null}catch(e){throw n.onError(e),e}if(!o){const e=new pO(hO.UNEXPECTED_ERROR,\"can not find track in media stream\");return n.onError(e),e.throw(iP)}if(e.optimizationMode&&VM(i,o,e,OP(e.encoderConfig)),CD(\"USE_STANDARD_BITRATE_DEFAULT\")){const t=OP(e.encoderConfig);e.encoderConfig=t,delete t.bitrateMax,delete t.bitrateMin}const s=new MM(o,e,r,e.scalabiltyMode?DP(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,i);return n.onSuccess(s.getTrackId()),iP.info(\"create camera video success, trackId:\",i),s},createCustomVideoTrack:function(e){const t=SN(8,\"track-cus-\"),i=lP.reportApiInvoke(null,{id:t,tag:kO.TRACER,name:LO.CREATE_CUSTOM_VIDEO_TRACK,options:[e]});CD(\"USE_STANDARD_BITRATE_DEFAULT\")&&(delete e.bitrateMax,delete e.bitrateMin);const n=new kM(e.mediaStreamTrack,{width:e.width,height:e.height,frameRate:e.frameRate,bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?DP(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,t,[VP.CUSTOM_TRACK]);return i.onSuccess(n.getTrackId()),iP.info(\"create custom video track success with config\",e,\"trackId\",n.getTrackId()),n},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"disable\";const i=\"object\"==typeof t?function(e){const t=qL(e);return gP()&&e.suppressLocalAudioPlayback&&(t.suppressLocalAudioPlayback=e.suppressLocalAudioPlayback),TP()&&e.restrictOwnAudio&&(t.restrictOwnAudio=!0),t}(t):void 0;i&&(t=\"auto\");const n=SN(8,\"track-scr-v-\"),r=lP.reportApiInvoke(null,{id:n,tag:kO.TRACER,name:LO.CREATE_SCREEN_VIDEO_TRACK,options:[cL({},e),t]});e.encoderConfig?\"string\"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig=\"1080p_2\";const o=function(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&Uw()&&(t.extensionId=e.extensionId);const{displaySurface:i,selfBrowserSurface:n,surfaceSwitching:r,systemAudio:o,preferCurrentTab:s,windowAudio:a,monitorTypeSurfaces:c}=e;(Gw(107)||Kw(107)||Qw(93))&&(i&&(EO(i,\"displaySurface\",[\"browser\",\"window\",\"monitor\"]),t.displaySurface=i),n?(EO(n,\"selfBrowserSurface\",[\"exclude\",\"include\"]),t.selfBrowserSurface=n):t.selfBrowserSurface=\"include\",r&&(EO(r,\"surfaceSwitching\",[\"exclude\",\"include\"]),t.surfaceSwitching=r)),(Gw(105)||Kw(105)||Qw(91))&&o&&(EO(o,\"systemAudio\",[\"exclude\",\"include\"]),t.systemAudio=o),(Gw(94)||Kw(94)||Qw(80))&&s&&(t.preferCurrentTab=!0),(Gw(141)||Kw(141)||Qw(125))&&a&&(EO(a,\"windowAudio\",[\"exclude\",\"system\"]),t.windowAudio=a),(Gw(119)||Kw(119)||Qw(105))&&c&&(EO(c,\"monitorTypeSurfaces\",[\"exclude\",\"include\"]),t.monitorTypeSurfaces=c),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const d=e.encoderConfig?NP(e.encoderConfig):null;return t.mandatory={chromeMediaSource:\"desktop\",maxWidth:d?d.width:void 0,maxHeight:d?d.height:void 0},d&&(d.frameRate&&(\"number\"==typeof d.frameRate?(t.mandatory.maxFrameRate=d.frameRate,t.mandatory.minFrameRate=d.frameRate):(t.mandatory.maxFrameRate=d.frameRate.max||d.frameRate.ideal||d.frameRate.exact||void 0,t.mandatory.minFrameRate=d.frameRate.min||d.frameRate.ideal||d.frameRate.exact||void 0),t.frameRate=d.frameRate),d.width&&(t.width=d.width),d.height&&(t.height=d.height)),t}(e);let s=null,a=null;const c=pP();if(!c.supportShareAudio&&\"enable\"===t){const e=new pO(hO.NOT_SUPPORTED,\"your browser or platform is not support share-screen with audio\");return r.onError(e),e.throw(iP)}iP.info(\"start create screen video track with config\",e,\"withAudio\",t,\"trackId\",n);const d=c.supportShareAudio&&\"disable\"!==t;try{const e=await wL({screen:o,screenAudio:d?i||!0:void 0},n);s=e.getVideoTracks()[0]||null,a=e.getAudioTracks()[0]||null}catch(e){throw r.onError(e),e}if(!s){const e=new pO(hO.UNEXPECTED_ERROR,\"can not find track in media stream\");return r.onError(e),e.throw(iP)}if(!a&&\"enable\"===t){s&&s.stop();const e=new pO(hO.SHARE_AUDIO_NOT_ALLOWED);return r.onError(e),e.throw(iP)}e.optimizationMode||(e.optimizationMode=\"detail\"),e.optimizationMode&&(VM(n,s,e,e.encoderConfig&&NP(e.encoderConfig)||void 0),e.encoderConfig&&\"string\"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax));const l=new kM(s,e.encoderConfig?NP(e.encoderConfig):{},e.scalabiltyMode?DP(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,n,[VP.SCREEN_TRACK]);if(!a)return r.onSuccess(l.getTrackId()),iP.info(\"create screen video track success\",\"video:\",l.getTrackId()),l;const u=new Bk(a,void 0,SN(8,\"track-scr-a-\"),!1);return r.onSuccess([l.getTrackId(),u.getTrackId()]),iP.info(\"create screen video track success\",\"video:\",l.getTrackId(),\"audio:\",u.getTrackId()),[l,u]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=CD(\"CAMERA_CAPTURE_CONFIG\"),n=SN(8,\"track-mic-\"),r=SN(8,\"track-cam-\"),o=lP.reportApiInvoke(null,{id:\"\".concat(n,\"-\").concat(r),tag:kO.TRACER,name:LO.CREATE_MIC_AND_CAM_TRACKS,options:[e,t,i]});i&&(t.encoderConfig=i);const s=zL(t),a=XL(e);let c=null,d=null;iP.info(\"start create camera video track(\".concat(r,\") and microphone audio track(\").concat(n,\") with config, audio: \").concat(JSON.stringify(e),\", video: \").concat(JSON.stringify(t)));try{const e=await wL({audio:a,video:s},\"\".concat(n,\"-\").concat(r));c=e.getAudioTracks()[0],d=e.getVideoTracks()[0]}catch(e){throw o.onError(e),e}if(!c||!d){const e=new pO(hO.UNEXPECTED_ERROR,\"can not find tracks in media stream\");return o.onError(e),e.throw(iP)}if(t.optimizationMode&&VM(r,d,t,OP(t.encoderConfig)),CD(\"USE_STANDARD_BITRATE_DEFAULT\")){const e=OP(t.encoderConfig);t.encoderConfig=e,delete e.bitrateMax,delete e.bitrateMin}const l=new jk(c,e,a,n),u=new MM(d,t,s,t.scalabiltyMode?DP(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,r);return o.onSuccess([l.getTrackId(),u.getTrackId()]),iP.info(\"create camera video track(\".concat(r,\") and microphone audio track(\").concat(n,\") success\")),[l,u]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=SN(8,\"track-mic-\"),i=lP.reportApiInvoke(null,{id:t,tag:kO.TRACER,name:LO.CREATE_MIC_AUDIO_TRACK,options:[e]}),n=XL(e);let r=null;iP.info(\"start create microphone audio track with config\",JSON.stringify(e),\"trackId\",t);try{r=(await wL({audio:n},t)).getAudioTracks()[0]||null}catch(e){throw i.onError(e),e}if(!r){const e=new pO(hO.UNEXPECTED_ERROR,\"can not find track in media stream\");return i.onError(e),e.throw(iP)}const o=new jk(r,e,n,t);return i.onSuccess(o.getTrackId()),iP.info(\"create microphone audio track success, trackId:\",t),o},createCustomAudioTrack:UM,createBufferSourceAudioTrack:async function(e){var t;const{cacheOnlineFile:i,encoderConfig:n}=e;let{source:r}=e;const o={source:r instanceof AudioBuffer?\"AudioBuffer\":r instanceof File?null!==(t=File.name)&&void 0!==t?t:\"File\":r,cacheOnlineFile:i,encoderConfig:n},s=SN(8,\"track-buf-\"),a=lP.reportApiInvoke(null,{id:s,tag:kO.TRACER,name:LO.CREATE_BUFFER_AUDIO_TRACK,options:[o]});if(CD(\"DISABLE_WEBAUDIO\"))throw new pO(hO.NOT_SUPPORTED,\"can not create BufferSourceAudioTrack when WebAudio disabled\");iP.info(\"start create buffer source audio track with config\",JSON.stringify(o),\"trackId\",s);const c=r;if(!(r instanceof AudioBuffer))try{r=await async function(e,t){let i=null;if(\"string\"==typeof e){const t=Kk.get(e);if(t)return iP.debug(\"use cached audio resource: \",e),t;try{i=(await UN((()=>Tw.get(e,{responseType:\"arraybuffer\"})),void 0,void 0,{maxRetryCount:3})).data}catch(e){throw new pO(hO.FETCH_AUDIO_FILE_FAILED,e.toString())}}else{const t=new rp(((t,i)=>{const n=new FileReader;n.onload=e=>{e.target?t(e.target.result):i(new pO(hO.READ_LOCAL_AUDIO_FILE_ERROR))},n.onerror=()=>{i(new pO(hO.READ_LOCAL_AUDIO_FILE_ERROR))},n.readAsArrayBuffer(e)}));i=await t}const n=await function(e){const t=EL();return new rp(((i,n)=>{t.decodeAudioData(e,(e=>{i(e)}),(e=>{n(new pO(hO.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(i);return\"string\"==typeof e&&t&&Kk.set(e,n),n}(r,i)}catch(e){return a.onError(e),e.throw(iP)}const d=new Hk(r),l=new Gk(c,d,n?LP(n):{},s);return iP.info(\"create buffer source audio track success, trackId:\",s),a.onSuccess(l.getTrackId()),l},setAppType:function(e){if(iP.debug(\"setAppType: \".concat(e)),!(Number.isInteger(e)&&e>=0))throw iP.debug(\"Invalid appType\"),new uP(hO.INVALID_PARAMS,\"invalid app type\",e);RD(\"APP_TYPE\",Math.floor(e))},setLogLevel:function(e){iP.setLogLevel(e)},enableLogUpload:function(){CD(\"USE_NEW_LOG\")?RD(\"UPLOAD_LOG\",!0):iP.enableLogUpload()},disableLogUpload:function(){CD(\"USE_NEW_LOG\")?RD(\"UPLOAD_LOG\",!1):iP.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new oj},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=lP.reportApiInvoke(null,{tag:kO.TRACER,name:LO.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof Bk||e instanceof $M)){const e=new uP(hO.INVALID_TRACK,\"the parameter is not a audio track\");return i.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const n=e instanceof Bk?e.getTrackLabel():\"remote_track\",r=e.getVolumeLevel();let o=r,s=r;const a=Date.now();return new rp((r=>{const c=setInterval((()=>{const d=e.getVolumeLevel();o=d>o?d:o,s=d<s?d:s;const l=o-s>1e-4,u=Date.now()-a;if(l||u>t){clearInterval(c);const t=l,s={duration:u,deviceLabel:n,maxVolumeLevel:o,result:t};iP.info(\"[track-\".concat(e.getTrackId(),\"] check audio track active completed. \").concat(JSON.stringify(s))),i.onSuccess(s),r(t)}}),200)}))},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=lP.reportApiInvoke(null,{tag:kO.TRACER,name:LO.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof kM||e instanceof ZM)){const e=new uP(hO.INVALID_TRACK,\"the parameter is not a video track\");return i.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const n=e instanceof kM?e.getTrackLabel():\"remote_track\",r=e.getMediaStreamTrack(!0),o=document.createElement(\"video\");o.style.width=\"1px\",o.style.height=\"1px\",o.setAttribute(\"muted\",\"\"),o.muted=!0,o.setAttribute(\"playsinline\",\"\"),o.controls=!1,(Vw()||Mw())&&(o.style.opacity=\"0.01\",o.style.position=\"fixed\",o.style.left=\"0\",o.style.top=\"0\",document.body.appendChild(o)),o.srcObject=new MediaStream([r]),o.play();const s=document.createElement(\"canvas\");s.width=160,s.height=120;let a=0,c=0;try{const e=Date.now();a=await function(e,t,i,n){let r,o=0,s=null;return new rp(((a,c)=>{function d(){o>n&&r&&(r(),a(o));const t=i.getContext(\"2d\");if(!t){const e=new uP(hO.UNEXPECTED_ERROR,\"can not get canvas 2d context.\");return iP.error(e.toString()),void c(e)}t.drawImage(e,0,0,160,120);const d=t.getImageData(0,0,i.width,i.height),l=Math.floor(d.data.length/3);if(s){for(let e=0;e<l;e+=3)if(d.data[e]!==s[e])return o+=1,void(s=d.data);s=d.data}else s=d.data}setTimeout((()=>{r&&(r(),a(o))}),t),r=SL((()=>{d()}),30)}))}(o,t,s,4),c=Date.now()-e}catch(e){throw i.onError(e),e}AG===bw.SAFARI&&(o.pause(),o.remove()),o.srcObject=null;const d=a>4,l={duration:c,changedPicNum:a,deviceLabel:n,result:d};return iP.info(\"[track-\".concat(e.getTrackId(),\"] check video track active completed. \").concat(JSON.stringify(l))),i.onSuccess(l),d},setArea:vB,audioElementPlayCenter:xL,resumeAudioContext:function(){return xL.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(e){DH.processExternalMediaAEC(e)},registerExtensions:function(e){const t=CD(\"PLUGIN_INFO\")||[];e.forEach((e=>{\"name\"in e&&!Ln(t).call(t,e.name)&&t.push(e.name);const i=e;i.__registered__=!0,i.logger.hookLog=iP.extLog,i.reporter.hookApiInvoke=lP.extApiInvoke,i.parameters&&Object.keys(i.parameters).forEach((e=>{i.parameters[e]=CD(e)}))})),TJ(\"PLUGIN_INFO\",t)},ChannelMediaRelayError:rx,ChannelMediaRelayEvent:ix,ChannelMediaRelayState:nx,RemoteStreamFallbackType:BP,RemoteStreamType:FP,ConnectionDisconnectedReason:VO,AudienceLatencyLevelType:UO,AREAS:dx,preload:async function(e,t,i,n){return GG(e,t,i,n)},startLastmileProbeTest:async function(e,t,i,n){let r={state:\"unavailable\"};await GG(e,t,i,n);const o=await WG({appId:e,cname:t,token:i||e,uid:n,cloudProxyServer:\"disabled\"});if(!o)return r;await KG(o);let s,a=IH({mode:\"rtc\",codec:\"vp8\"});try{s=await a.join(e,t,i,n,{networkQualityProbe:!0})}catch(e){return r}const c=new jG,d=c.createMuteAudioTrack();let l=await UM({mediaStreamTrack:d});await a.publish([l]);let[u,h,p]=await new rp(((e,t)=>{const i=setTimeout((()=>{clearTimeout(i),e([!0,null,\"audio\"])}),5e3);a.on(\"user-published\",(async(t,n)=>{t.uid===s&&(clearTimeout(i),e([!1,t,n]))}))}));if(u||!h)return await a.unpublish([l]),await a.leave(),l.close(),c.close(),r;await a.subscribe(h,p),await new rp(((e,t)=>{const i=setTimeout((()=>{clearTimeout(i),e(null)}),5e3)}));let _=a.getRTCStats(),E=a.getLocalAudioStats();const m=_.RTT,f=E.sendJitterMs,S=E.currentPacketLossRate;return r={state:\"complete\",rtt:m,packetLossRate:S,jitter:f,networkQuality:((e,t,i)=>{let n=1;if(i>0){let e=Math.log(100*i)/Math.log(2)+1;e=Math.min(5,Math.max(0,e)),n=1-e/5}let r=1;if(e>0){let t=Math.log(e/40)/Math.log(2)+1;t=Math.min(5,Math.max(0,t)),r=1-t/5}let o=1;if(t>0){let e=Math.log(t/10)/Math.log(2.5)+1;e=Math.min(5,Math.max(0,e)),o=1-e/5}const s=.5*n+.3*r+.2*o;let a=0;return a=s>=.8?1:s>=.6?2:s>=.4?3:s>=.2?4:5,a})(m,f,S)},await a.unsubscribe(h),await a.unpublish([l]),await a.leave(),l.close(),c.close(),await KG(o),r}});return Object.defineProperties(RJ,{onAudioAutoplayFailed:{get:()=>kL.onAudioAutoplayFailed,set:e=>{kL.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>kL.onAutoplayFailed,set:e=>{kL.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>RJ._onSecurityPolicyViolation,set(e){RJ._onSecurityPolicyViolation=e,MH(e)}},__CLIENT_LIST__:{get:()=>CD(\"SHOW_GLOBAL_CLIENT_LIST\")?KU:[]}}),PL.on(eL.CAMERA_DEVICE_CHANGED,(e=>{iP.info(\"camera device changed\",JSON.stringify(e)),RJ.onCameraChanged&&RJ.onCameraChanged(e),RJ.safeEmit(Ox.CAMERA_CHANGED,e)})),PL.on(eL.RECORDING_DEVICE_CHANGED,(e=>{iP.info(\"microphone device changed\",JSON.stringify(e)),RJ.onMicrophoneChanged&&RJ.onMicrophoneChanged(e),RJ.safeEmit(Ox.MICROPHONE_CHANGED,e)})),PL.on(eL.PLAYOUT_DEVICE_CHANGED,(e=>{iP.debug(\"playout device changed\",JSON.stringify(e)),RJ.onPlaybackDeviceChanged&&RJ.onPlaybackDeviceChanged(e),RJ.safeEmit(Ox.PLAYBACK_DEVICE_CHANGED,e)})),xL.onAutoplayFailed=()=>{iP.info(\"detect audio element autoplay failed\"),kL.onAudioAutoplayFailed&&kL.onAudioAutoplayFailed()},_L.on(\"autoplay-failed\",(()=>{iP.info(\"detect webaudio autoplay failed\"),kL.onAudioAutoplayFailed&&kL.onAudioAutoplayFailed(),RJ.safeEmit(Ox.AUTOPLAY_FAILED)})),_L.on(RP.STATE_CHANGE,((e,t)=>{iP.info(\"audio context state changed: \".concat(t,\" => \").concat(e)),RJ.onAudioContextStateChanged&&RJ.onAudioContextStateChanged(e,t),RJ.safeEmit(Ox.AUDIO_CONTEXT_STATE_CHANGED,e,t)})),QO.on(YO.NETWORK_STATE_CHANGE,((e,t)=>{iP.info(\"[network-indicator] network state changed, \".concat(t,\" => \").concat(e))})),window&&(window.__ARTC__=RJ),RJ}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL2Fnb3JhLXJ0Yy1zZGstbmcvQWdvcmFSVENfTi1wcm9kdWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLEtBQW9ELG9CQUFvQixDQUFrSCxDQUFDLGtCQUFrQixhQUFhLGdCQUFnQiw4QkFBOEIsOEVBQThFLDZCQUE2QiwyQ0FBMkMsbUNBQW1DLDZCQUE2QixhQUFhLEdBQUcsR0FBRyxvQkFBb0IscUpBQXFKLGNBQWMsc0ZBQXNGLGtCQUFrQixJQUFJLFlBQVksU0FBUyxVQUFVLGtCQUFrQixrQkFBa0IsUUFBUSwwREFBMEQsNkVBQTZFLGtCQUFrQiw2QkFBNkIsT0FBTyw4QkFBOEIsMkJBQTJCLGtMQUFrTCxZQUFZLDZJQUE2SSw0QkFBNEIsWUFBWSx1Q0FBdUMsb0JBQW9CLHVCQUF1QixpQ0FBaUMsZ0ZBQWdGLGtDQUFrQyxhQUFhLDJCQUEyQixLQUFLLGtCQUFrQixtQ0FBbUMsSUFBSSxlQUFlLFVBQVUsS0FBSywwREFBMEQsNEJBQTRCLEtBQUssS0FBSyxzRUFBc0UsSUFBSSxJQUFJLGtCQUFrQixnQkFBZ0Isd0JBQXdCLEdBQUcsd0JBQXdCLE9BQU8sK0RBQStELGdEQUFnRCxzQ0FBc0MsZUFBZSxtQ0FBbUMsaUJBQWlCLGVBQWUsK0JBQStCLCtDQUErQyxTQUFTLHVCQUF1QixlQUFlLG1CQUFtQix1Q0FBdUMsS0FBSywrQkFBK0Isc0JBQXNCLGtCQUFrQixnRkFBZ0YsNElBQTRJLGlKQUFpSixtRkFBbUYsaUNBQWlDLHFFQUFxRSxxR0FBcUcseUJBQXlCLGFBQWEsbUJBQW1CLG9DQUFvQywwQkFBMEIsSUFBSSxhQUFhLFNBQVMsZ0JBQWdCLHdDQUF3QyxrQkFBa0IseUNBQXlDLDZCQUE2QixXQUFXLDBCQUEwQixpQ0FBaUMsV0FBVyxxREFBcUQsSUFBSSxTQUFTLG9DQUFvQyxFQUFFLFNBQVMsUUFBUSxTQUFTLHVEQUF1RCxFQUFFLHNDQUFzQyxxT0FBcU8sRUFBRSx5Q0FBeUMs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QUEyRSxRQUFRLFFBQVEsb0NBQW9DLG9DQUFvQyxRQUFRLFFBQVEsbUNBQW1DLG9DQUFvQyxRQUFRLFFBQVEscUNBQXFDLG9DQUFvQyx1QkFBdUIsUUFBUSw2Q0FBNkMsU0FBUyxrR0FBa0csRUFBRSxtQ0FBbUMsdUJBQXVCLHlDQUF5Qyw0QkFBNEIsbUJBQW1CLG9DQUFvQyx1QkFBdUIsNkJBQTZCLHlCQUF5QiwwQkFBMEIseUJBQXlCLDRCQUE0Qiw2Q0FBNkMsdUNBQXVDLGtCQUFrQiw2Q0FBNkMsc0NBQXNDLDhIQUE4SCwwQ0FBMEMsOElBQThJLHdDQUF3Qyx5SkFBeUosNEJBQTRCLHFHQUFxRywrQkFBK0IsZ0lBQWdJLGtDQUFrQyxzTEFBc0wsMENBQTBDLGtGQUFrRixtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab21lZ2xlLWdhbWUvd2ViLy4uL25vZGVfbW9kdWxlcy9hZ29yYS1ydGMtc2RrLW5nL0Fnb3JhUlRDX04tcHJvZHVjdGlvbi5qcz83MTNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQWdvcmFXZWJTREtfTi12NC4yNC4xLTAtZzJjZmY3YzZjLWRpcnR5IENvcHlyaWdodCBBZ29yYUluYy5cbiAqL1xuXG4hZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTooZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOmV8fHNlbGYpLkFnb3JhUlRDPXQoKX0odGhpcywoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUsdCl7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7dCYmXCJzdHJpbmdcIiE9dHlwZW9mIHQmJiFBcnJheS5pc0FycmF5KHQpJiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihpKXtpZihcImRlZmF1bHRcIiE9PWkmJiEoaSBpbiBlKSl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGksbi5nZXQ/bjp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtpXX19KX19KSl9KSksT2JqZWN0LmZyZWV6ZShlKX12YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e307ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlZmF1bHRcIik/ZS5kZWZhdWx0OmV9dmFyIG49ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX0scj0hbigoZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe30uYmluZCgpO3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIGV8fGUuaGFzT3duUHJvcGVydHkoXCJwcm90b3R5cGVcIil9KSksbz1yLHM9RnVuY3Rpb24ucHJvdG90eXBlLGE9cy5jYWxsLGM9byYmcy5iaW5kLmJpbmQoYSxhKSxkPW8/YzpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShlLGFyZ3VtZW50cyl9fSxsPWQoe30uaXNQcm90b3R5cGVPZiksdT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5NYXRoPT09TWF0aCYmZX0saD11KFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8dShcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpfHx1KFwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmKXx8dShcIm9iamVjdFwiPT10eXBlb2YgdCYmdCl8fHUoXCJvYmplY3RcIj09dHlwZW9mIHQmJnQpfHxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkscD1yLF89RnVuY3Rpb24ucHJvdG90eXBlLEU9Xy5hcHBseSxtPV8uY2FsbCxmPVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmFwcGx5fHwocD9tLmJpbmQoRSk6ZnVuY3Rpb24oKXtyZXR1cm4gbS5hcHBseShFLGFyZ3VtZW50cyl9KSxTPWQsZz1TKHt9LnRvU3RyaW5nKSxUPVMoXCJcIi5zbGljZSksUj1mdW5jdGlvbihlKXtyZXR1cm4gVChnKGUpLDgsLTEpfSxDPVIsdj1kLHk9ZnVuY3Rpb24oZSl7aWYoXCJGdW5jdGlvblwiPT09QyhlKSlyZXR1cm4gdihlKX0sST1cIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmFsbCxBPXZvaWQgMD09PUkmJnZvaWQgMCE9PUk/ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZXx8ZT09PUl9OmZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9LGI9e30sdz0hbigoZnVuY3Rpb24oKXtyZXR1cm4gNyE9PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKSxPPXIsTj1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxEPU8/Ti5iaW5kKE4pOmZ1bmN0aW9uKCl7cmV0dXJuIE4uYXBwbHkoTixhcmd1bWVudHMpfSxQPXt9LEw9e30ucHJvcGVydHlJc0VudW1lcmFibGUsaz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLE09ayYmIUwuY2FsbCh7MToyfSwxKTtQLmY9TT9mdW5jdGlvbihlKXt2YXIgdD1rKHRoaXMsZSk7cmV0dXJuISF0JiZ0LmVudW1lcmFibGV9Okw7dmFyIFUsVix4PWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fSxGPW4sQj1SLGo9T2JqZWN0LEc9ZChcIlwiLnNwbGl0KSxXPUYoKGZ1bmN0aW9uKCl7cmV0dXJuIWooXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKGUpe3JldHVyblwiU3RyaW5nXCI9PT1CKGUpP0coZSxcIlwiKTpqKGUpfTpqLEg9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV9LEs9SCxZPVR5cGVFcnJvcix6PWZ1bmN0aW9uKGUpe2lmKEsoZSkpdGhyb3cgbmV3IFkoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIitlKTtyZXR1cm4gZX0scT1XLFg9eixKPWZ1bmN0aW9uKGUpe3JldHVybiBxKFgoZSkpfSxRPUEsWj1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZT9udWxsIT09ZTpRKGUpfSwkPXt9LGVlPSQsdGU9aCxpZT1BLG5lPWZ1bmN0aW9uKGUpe3JldHVybiBpZShlKT9lOnZvaWQgMH0scmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP25lKGVlW2VdKXx8bmUodGVbZV0pOmVlW2VdJiZlZVtlXVt0XXx8dGVbZV0mJnRlW2VdW3RdfSxvZT1oLm5hdmlnYXRvcixzZT1vZSYmb2UudXNlckFnZW50LGFlPXNlP1N0cmluZyhzZSk6XCJcIixjZT1oLGRlPWFlLGxlPWNlLnByb2Nlc3MsdWU9Y2UuRGVubyxoZT1sZSYmbGUudmVyc2lvbnN8fHVlJiZ1ZS52ZXJzaW9uLHBlPWhlJiZoZS52ODtwZSYmKFY9KFU9cGUuc3BsaXQoXCIuXCIpKVswXT4wJiZVWzBdPDQ/MTorKFVbMF0rVVsxXSkpLCFWJiZkZSYmKCEoVT1kZS5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pKXx8VVsxXT49NzQpJiYoVT1kZS5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLykpJiYoVj0rVVsxXSk7dmFyIF9lPVYsRWU9X2UsbWU9bixmZT1oLlN0cmluZyxTZT0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFtZSgoZnVuY3Rpb24oKXt2YXIgZT1TeW1ib2woXCJzeW1ib2wgZGV0ZWN0aW9uXCIpO3JldHVybiFmZShlKXx8IShPYmplY3QoZSlpbnN0YW5jZW9mIFN5bWJvbCl8fCFTeW1ib2wuc2hhbSYmRWUmJkVlPDQxfSkpLGdlPVNlJiYhU3ltYm9sLnNoYW0mJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3IsVGU9cmUsUmU9QSxDZT1sLHZlPU9iamVjdCx5ZT1nZT9mdW5jdGlvbihlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7dmFyIHQ9VGUoXCJTeW1ib2xcIik7cmV0dXJuIFJlKHQpJiZDZSh0LnByb3RvdHlwZSx2ZShlKSl9LEllPVN0cmluZyxBZT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIEllKGUpfWNhdGNoKGUpe3JldHVyblwiT2JqZWN0XCJ9fSxiZT1BLHdlPUFlLE9lPVR5cGVFcnJvcixOZT1mdW5jdGlvbihlKXtpZihiZShlKSlyZXR1cm4gZTt0aHJvdyBuZXcgT2Uod2UoZSkrXCIgaXMgbm90IGEgZnVuY3Rpb25cIil9LERlPU5lLFBlPUgsTGU9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lW3RdO3JldHVybiBQZShpKT92b2lkIDA6RGUoaSl9LGtlPUQsTWU9QSxVZT1aLFZlPVR5cGVFcnJvcix4ZT17ZXhwb3J0czp7fX0sRmU9aCxCZT1PYmplY3QuZGVmaW5lUHJvcGVydHksamU9aCxHZT1mdW5jdGlvbihlLHQpe3RyeXtCZShGZSxlLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pfWNhdGNoKGkpe0ZlW2VdPXR9cmV0dXJuIHR9LFdlPVwiX19jb3JlLWpzX3NoYXJlZF9fXCIsSGU9eGUuZXhwb3J0cz1qZVtXZV18fEdlKFdlLHt9KTsoSGUudmVyc2lvbnN8fChIZS52ZXJzaW9ucz1bXSkpLnB1c2goe3ZlcnNpb246XCIzLjQ2LjBcIixtb2RlOlwicHVyZVwiLGNvcHlyaWdodDpcIsKpIDIwMTQtMjAyNSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSwgMjAyNSBDb3JlSlMgQ29tcGFueSAoY29yZS1qcy5pbylcIixsaWNlbnNlOlwiaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvYmxvYi92My40Ni4wL0xJQ0VOU0VcIixzb3VyY2U6XCJodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qc1wifSk7dmFyIEtlPXhlLmV4cG9ydHMsWWU9S2UsemU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWWVbZV18fChZZVtlXT10fHx7fSl9LHFlPXosWGU9T2JqZWN0LEplPWZ1bmN0aW9uKGUpe3JldHVybiBYZShxZShlKSl9LFFlPUplLFplPWQoe30uaGFzT3duUHJvcGVydHkpLCRlPU9iamVjdC5oYXNPd258fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFplKFFlKGUpLHQpfSxldD1kLHR0PTAsaXQ9TWF0aC5yYW5kb20oKSxudD1ldCgxLjEudG9TdHJpbmcpLHJ0PWZ1bmN0aW9uKGUpe3JldHVyblwiU3ltYm9sKFwiKyh2b2lkIDA9PT1lP1wiXCI6ZSkrXCIpX1wiK250KCsrdHQraXQsMzYpfSxvdD16ZSxzdD0kZSxhdD1ydCxjdD1TZSxkdD1nZSxsdD1oLlN5bWJvbCx1dD1vdChcIndrc1wiKSxodD1kdD9sdC5mb3J8fGx0Omx0JiZsdC53aXRob3V0U2V0dGVyfHxhdCxwdD1mdW5jdGlvbihlKXtyZXR1cm4gc3QodXQsZSl8fCh1dFtlXT1jdCYmc3QobHQsZSk/bHRbZV06aHQoXCJTeW1ib2wuXCIrZSkpLHV0W2VdfSxfdD1ELEV0PVosbXQ9eWUsZnQ9TGUsU3Q9ZnVuY3Rpb24oZSx0KXt2YXIgaSxuO2lmKFwic3RyaW5nXCI9PT10JiZNZShpPWUudG9TdHJpbmcpJiYhVWUobj1rZShpLGUpKSlyZXR1cm4gbjtpZihNZShpPWUudmFsdWVPZikmJiFVZShuPWtlKGksZSkpKXJldHVybiBuO2lmKFwic3RyaW5nXCIhPT10JiZNZShpPWUudG9TdHJpbmcpJiYhVWUobj1rZShpLGUpKSlyZXR1cm4gbjt0aHJvdyBuZXcgVmUoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9LGd0PVR5cGVFcnJvcixUdD1wdChcInRvUHJpbWl0aXZlXCIpLFJ0PWZ1bmN0aW9uKGUsdCl7aWYoIUV0KGUpfHxtdChlKSlyZXR1cm4gZTt2YXIgaSxuPWZ0KGUsVHQpO2lmKG4pe2lmKHZvaWQgMD09PXQmJih0PVwiZGVmYXVsdFwiKSxpPV90KG4sZSx0KSwhRXQoaSl8fG10KGkpKXJldHVybiBpO3Rocm93IG5ldyBndChcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX1yZXR1cm4gdm9pZCAwPT09dCYmKHQ9XCJudW1iZXJcIiksU3QoZSx0KX0sQ3Q9eWUsdnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9UnQoZSxcInN0cmluZ1wiKTtyZXR1cm4gQ3QodCk/dDp0K1wiXCJ9LHl0PVosSXQ9aC5kb2N1bWVudCxBdD15dChJdCkmJnl0KEl0LmNyZWF0ZUVsZW1lbnQpLGJ0PWZ1bmN0aW9uKGUpe3JldHVybiBBdD9JdC5jcmVhdGVFbGVtZW50KGUpOnt9fSx3dD1idCxPdD0hdyYmIW4oKGZ1bmN0aW9uKCl7cmV0dXJuIDchPT1PYmplY3QuZGVmaW5lUHJvcGVydHkod3QoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSksTnQ9dyxEdD1ELFB0PVAsTHQ9eCxrdD1KLE10PXZ0LFV0PSRlLFZ0PU90LHh0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Yi5mPU50P3h0OmZ1bmN0aW9uKGUsdCl7aWYoZT1rdChlKSx0PU10KHQpLFZ0KXRyeXtyZXR1cm4geHQoZSx0KX1jYXRjaChlKXt9aWYoVXQoZSx0KSlyZXR1cm4gTHQoIUR0KFB0LmYsZSx0KSxlW3RdKX07dmFyIEZ0PW4sQnQ9QSxqdD0vI3xcXC5wcm90b3R5cGVcXC4vLEd0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9SHRbV3QoZSldO3JldHVybiBpPT09WXR8fGkhPT1LdCYmKEJ0KHQpP0Z0KHQpOiEhdCl9LFd0PUd0Lm5vcm1hbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoanQsXCIuXCIpLnRvTG93ZXJDYXNlKCl9LEh0PUd0LmRhdGE9e30sS3Q9R3QuTkFUSVZFPVwiTlwiLFl0PUd0LlBPTFlGSUxMPVwiUFwiLHp0PUd0LHF0PU5lLFh0PXIsSnQ9eSh5LmJpbmQpLFF0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHF0KGUpLHZvaWQgMD09PXQ/ZTpYdD9KdChlLHQpOmZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX0sWnQ9e30sJHQ9dyYmbigoZnVuY3Rpb24oKXtyZXR1cm4gNDIhPT1PYmplY3QuZGVmaW5lUHJvcGVydHkoKGZ1bmN0aW9uKCl7fSksXCJwcm90b3R5cGVcIix7dmFsdWU6NDIsd3JpdGFibGU6ITF9KS5wcm90b3R5cGV9KSksZWk9Wix0aT1TdHJpbmcsaWk9VHlwZUVycm9yLG5pPWZ1bmN0aW9uKGUpe2lmKGVpKGUpKXJldHVybiBlO3Rocm93IG5ldyBpaSh0aShlKStcIiBpcyBub3QgYW4gb2JqZWN0XCIpfSxyaT13LG9pPU90LHNpPSR0LGFpPW5pLGNpPXZ0LGRpPVR5cGVFcnJvcixsaT1PYmplY3QuZGVmaW5lUHJvcGVydHksdWk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixoaT1cImVudW1lcmFibGVcIixwaT1cImNvbmZpZ3VyYWJsZVwiLF9pPVwid3JpdGFibGVcIjtadC5mPXJpP3NpP2Z1bmN0aW9uKGUsdCxpKXtpZihhaShlKSx0PWNpKHQpLGFpKGkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJlwicHJvdG90eXBlXCI9PT10JiZcInZhbHVlXCJpbiBpJiZfaSBpbiBpJiYhaVtfaV0pe3ZhciBuPXVpKGUsdCk7biYmbltfaV0mJihlW3RdPWkudmFsdWUsaT17Y29uZmlndXJhYmxlOnBpIGluIGk/aVtwaV06bltwaV0sZW51bWVyYWJsZTpoaSBpbiBpP2lbaGldOm5baGldLHdyaXRhYmxlOiExfSl9cmV0dXJuIGxpKGUsdCxpKX06bGk6ZnVuY3Rpb24oZSx0LGkpe2lmKGFpKGUpLHQ9Y2kodCksYWkoaSksb2kpdHJ5e3JldHVybiBsaShlLHQsaSl9Y2F0Y2goZSl7fWlmKFwiZ2V0XCJpbiBpfHxcInNldFwiaW4gaSl0aHJvdyBuZXcgZGkoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm5cInZhbHVlXCJpbiBpJiYoZVt0XT1pLnZhbHVlKSxlfTt2YXIgRWk9WnQsbWk9eCxmaT13P2Z1bmN0aW9uKGUsdCxpKXtyZXR1cm4gRWkuZihlLHQsbWkoMSxpKSl9OmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVt0XT1pLGV9LFNpPWgsZ2k9ZixUaT15LFJpPUEsQ2k9Yi5mLHZpPXp0LHlpPSQsSWk9UXQsQWk9ZmksYmk9JGUsd2k9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oaSxuLHIpe2lmKHRoaXMgaW5zdGFuY2VvZiB0KXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKGkpO2Nhc2UgMjpyZXR1cm4gbmV3IGUoaSxuKX1yZXR1cm4gbmV3IGUoaSxuLHIpfXJldHVybiBnaShlLHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHQucHJvdG90eXBlPWUucHJvdG90eXBlLHR9LE9pPWZ1bmN0aW9uKGUsdCl7dmFyIGksbixyLG8scyxhLGMsZCxsLHU9ZS50YXJnZXQsaD1lLmdsb2JhbCxwPWUuc3RhdCxfPWUucHJvdG8sRT1oP1NpOnA/U2lbdV06U2lbdV0mJlNpW3VdLnByb3RvdHlwZSxtPWg/eWk6eWlbdV18fEFpKHlpLHUse30pW3VdLGY9bS5wcm90b3R5cGU7Zm9yKG8gaW4gdCluPSEoaT12aShoP286dSsocD9cIi5cIjpcIiNcIikrbyxlLmZvcmNlZCkpJiZFJiZiaShFLG8pLGE9bVtvXSxuJiYoYz1lLmRvbnRDYWxsR2V0U2V0PyhsPUNpKEUsbykpJiZsLnZhbHVlOkVbb10pLHM9biYmYz9jOnRbb10sKGl8fF98fHR5cGVvZiBhIT10eXBlb2YgcykmJihkPWUuYmluZCYmbj9JaShzLFNpKTplLndyYXAmJm4/d2kocyk6XyYmUmkocyk/VGkocyk6cywoZS5zaGFtfHxzJiZzLnNoYW18fGEmJmEuc2hhbSkmJkFpKGQsXCJzaGFtXCIsITApLEFpKG0sbyxkKSxfJiYoYmkoeWkscj11K1wiUHJvdG90eXBlXCIpfHxBaSh5aSxyLHt9KSxBaSh5aVtyXSxvLHMpLGUucmVhbCYmZiYmKGl8fCFmW29dKSYmQWkoZixvLHMpKSl9LE5pPU1hdGguY2VpbCxEaT1NYXRoLmZsb29yLFBpPU1hdGgudHJ1bmN8fGZ1bmN0aW9uKGUpe3ZhciB0PStlO3JldHVybih0PjA/RGk6TmkpKHQpfSxMaT1QaSxraT1mdW5jdGlvbihlKXt2YXIgdD0rZTtyZXR1cm4gdCE9dHx8MD09PXQ/MDpMaSh0KX0sTWk9a2ksVWk9TWF0aC5tYXgsVmk9TWF0aC5taW4seGk9ZnVuY3Rpb24oZSx0KXt2YXIgaT1NaShlKTtyZXR1cm4gaTwwP1VpKGkrdCwwKTpWaShpLHQpfSxGaT1raSxCaT1NYXRoLm1pbixqaT1mdW5jdGlvbihlKXt2YXIgdD1GaShlKTtyZXR1cm4gdD4wP0JpKHQsOTAwNzE5OTI1NDc0MDk5MSk6MH0sR2k9amksV2k9ZnVuY3Rpb24oZSl7cmV0dXJuIEdpKGUubGVuZ3RoKX0sSGk9SixLaT14aSxZaT1XaSx6aT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxpLG4pe3ZhciByPUhpKHQpLG89WWkocik7aWYoMD09PW8pcmV0dXJuIWUmJi0xO3ZhciBzLGE9S2kobixvKTtpZihlJiZpIT1pKXtmb3IoO28+YTspaWYoKHM9clthKytdKSE9cylyZXR1cm4hMH1lbHNlIGZvcig7bz5hO2ErKylpZigoZXx8YSBpbiByKSYmclthXT09PWkpcmV0dXJuIGV8fGF8fDA7cmV0dXJuIWUmJi0xfX0scWk9e2luY2x1ZGVzOnppKCEwKSxpbmRleE9mOnppKCExKX0sWGk9cWkuaW5jbHVkZXM7T2koe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOm4oKGZ1bmN0aW9uKCl7cmV0dXJuIUFycmF5KDEpLmluY2x1ZGVzKCl9KSl9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gWGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgSmk9aCxRaT0kLFppPWZ1bmN0aW9uKGUsdCl7dmFyIGk9UWlbZStcIlByb3RvdHlwZVwiXSxuPWkmJmlbdF07aWYobilyZXR1cm4gbjt2YXIgcj1KaVtlXSxvPXImJnIucHJvdG90eXBlO3JldHVybiBvJiZvW3RdfSwkaT1aaShcIkFycmF5XCIsXCJpbmNsdWRlc1wiKSxlbj1aLHRuPVIsbm49cHQoXCJtYXRjaFwiKSxybj1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZW4oZSkmJih2b2lkIDAhPT0odD1lW25uXSk/ISF0OlwiUmVnRXhwXCI9PT10bihlKSl9LG9uPXJuLHNuPVR5cGVFcnJvcixhbj17fTthbltwdChcInRvU3RyaW5nVGFnXCIpXT1cInpcIjt2YXIgY249XCJbb2JqZWN0IHpdXCI9PT1TdHJpbmcoYW4pLGRuPWNuLGxuPUEsdW49Uixobj1wdChcInRvU3RyaW5nVGFnXCIpLHBuPU9iamVjdCxfbj1cIkFyZ3VtZW50c1wiPT09dW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxFbj1kbj91bjpmdW5jdGlvbihlKXt2YXIgdCxpLG47cmV0dXJuIHZvaWQgMD09PWU/XCJVbmRlZmluZWRcIjpudWxsPT09ZT9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2YoaT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PXBuKGUpLGhuKSk/aTpfbj91bih0KTpcIk9iamVjdFwiPT09KG49dW4odCkpJiZsbih0LmNhbGxlZSk/XCJBcmd1bWVudHNcIjpufSxtbj1Fbixmbj1TdHJpbmcsU249ZnVuY3Rpb24oZSl7aWYoXCJTeW1ib2xcIj09PW1uKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZ1wiKTtyZXR1cm4gZm4oZSl9LGduPXB0KFwibWF0Y2hcIiksVG49T2ksUm49ZnVuY3Rpb24oZSl7aWYob24oZSkpdGhyb3cgbmV3IHNuKFwiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zXCIpO3JldHVybiBlfSxDbj16LHZuPVNuLHluPWZ1bmN0aW9uKGUpe3ZhciB0PS8uLzt0cnl7XCIvLi9cIltlXSh0KX1jYXRjaChpKXt0cnl7cmV0dXJuIHRbZ25dPSExLFwiLy4vXCJbZV0odCl9Y2F0Y2goZSl7fX1yZXR1cm4hMX0sSW49ZChcIlwiLmluZGV4T2YpO1RuKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6IXluKFwiaW5jbHVkZXNcIil9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4hIX5Jbih2bihDbih0aGlzKSksdm4oUm4oZSkpLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgQW49WmkoXCJTdHJpbmdcIixcImluY2x1ZGVzXCIpLGJuPWwsd249JGksT249QW4sTm49QXJyYXkucHJvdG90eXBlLERuPVN0cmluZy5wcm90b3R5cGUsUG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmNsdWRlcztyZXR1cm4gZT09PU5ufHxibihObixlKSYmdD09PU5uLmluY2x1ZGVzP3duOlwic3RyaW5nXCI9PXR5cGVvZiBlfHxlPT09RG58fGJuKERuLGUpJiZ0PT09RG4uaW5jbHVkZXM/T246dH0sTG49aShQbiksa249TmUsTW49SmUsVW49VyxWbj1XaSx4bj1UeXBlRXJyb3IsRm49XCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIsQm49ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsaSxuLHIpe3ZhciBvPU1uKHQpLHM9VW4obyksYT1WbihvKTtpZihrbihpKSwwPT09YSYmbjwyKXRocm93IG5ldyB4bihGbik7dmFyIGM9ZT9hLTE6MCxkPWU/LTE6MTtpZihuPDIpZm9yKDs7KXtpZihjIGluIHMpe3I9c1tjXSxjKz1kO2JyZWFrfWlmKGMrPWQsZT9jPDA6YTw9Yyl0aHJvdyBuZXcgeG4oRm4pfWZvcig7ZT9jPj0wOmE+YztjKz1kKWMgaW4gcyYmKHI9aShyLHNbY10sYyxvKSk7cmV0dXJuIHJ9fSxqbj17bGVmdDpCbighMSkscmlnaHQ6Qm4oITApfSxHbj1uLFduPWZ1bmN0aW9uKGUsdCl7dmFyIGk9W11bZV07cmV0dXJuISFpJiZHbigoZnVuY3Rpb24oKXtpLmNhbGwobnVsbCx0fHxmdW5jdGlvbigpe3JldHVybiAxfSwxKX0pKX0sSG49aCxLbj1hZSxZbj1SLHpuPWZ1bmN0aW9uKGUpe3JldHVybiBLbi5zbGljZSgwLGUubGVuZ3RoKT09PWV9LHFuPXpuKFwiQnVuL1wiKT9cIkJVTlwiOnpuKFwiQ2xvdWRmbGFyZS1Xb3JrZXJzXCIpP1wiQ0xPVURGTEFSRVwiOnpuKFwiRGVuby9cIik/XCJERU5PXCI6em4oXCJOb2RlLmpzL1wiKT9cIk5PREVcIjpIbi5CdW4mJlwic3RyaW5nXCI9PXR5cGVvZiBCdW4udmVyc2lvbj9cIkJVTlwiOkhuLkRlbm8mJlwib2JqZWN0XCI9PXR5cGVvZiBEZW5vLnZlcnNpb24/XCJERU5PXCI6XCJwcm9jZXNzXCI9PT1ZbihIbi5wcm9jZXNzKT9cIk5PREVcIjpIbi53aW5kb3cmJkhuLmRvY3VtZW50P1wiQlJPV1NFUlwiOlwiUkVTVFwiLFhuPVwiTk9ERVwiPT09cW4sSm49am4ubGVmdDtPaSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IVhuJiZfZT43OSYmX2U8ODN8fCFXbihcInJlZHVjZVwiKX0se3JlZHVjZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoO3JldHVybiBKbih0aGlzLGUsdCx0PjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIFFuPVppKFwiQXJyYXlcIixcInJlZHVjZVwiKSxabj1sLCRuPVFuLGVyPUFycmF5LnByb3RvdHlwZSx0cj1mdW5jdGlvbihlKXt2YXIgdD1lLnJlZHVjZTtyZXR1cm4gZT09PWVyfHxabihlcixlKSYmdD09PWVyLnJlZHVjZT8kbjp0fSxpcj10cixucj1pKGlyKSxycj1SLG9yPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVyblwiQXJyYXlcIj09PXJyKGUpfSxzcj1PaSxhcj1vcixjcj1kKFtdLnJldmVyc2UpLGRyPVsxLDJdO3NyKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpTdHJpbmcoZHIpPT09U3RyaW5nKGRyLnJldmVyc2UoKSl9LHtyZXZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIGFyKHRoaXMpJiYodGhpcy5sZW5ndGg9dGhpcy5sZW5ndGgpLGNyKHRoaXMpfX0pO3ZhciBscj1aaShcIkFycmF5XCIsXCJyZXZlcnNlXCIpLHVyPWwsaHI9bHIscHI9QXJyYXkucHJvdG90eXBlLF9yPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmV2ZXJzZTtyZXR1cm4gZT09PXByfHx1cihwcixlKSYmdD09PXByLnJldmVyc2U/aHI6dH0sRXI9X3IsbXI9aShFciksZnI9cnQsU3I9emUoXCJrZXlzXCIpLGdyPWZ1bmN0aW9uKGUpe3JldHVybiBTcltlXXx8KFNyW2VdPWZyKGUpKX0sVHI9IW4oKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuY29uc3RydWN0b3I9bnVsbCxPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IGUpIT09ZS5wcm90b3R5cGV9KSksUnI9JGUsQ3I9QSx2cj1KZSx5cj1UcixJcj1ncihcIklFX1BST1RPXCIpLEFyPU9iamVjdCxicj1Bci5wcm90b3R5cGUsd3I9eXI/QXIuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7dmFyIHQ9dnIoZSk7aWYoUnIodCxJcikpcmV0dXJuIHRbSXJdO3ZhciBpPXQuY29uc3RydWN0b3I7cmV0dXJuIENyKGkpJiZ0IGluc3RhbmNlb2YgaT9pLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgQXI/YnI6bnVsbH0sT3I9ZCxOcj1OZSxEcj1aLFByPWZ1bmN0aW9uKGUpe3JldHVybiBEcihlKXx8bnVsbD09PWV9LExyPVN0cmluZyxrcj1UeXBlRXJyb3IsTXI9ZnVuY3Rpb24oZSx0LGkpe3RyeXtyZXR1cm4gT3IoTnIoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpW2ldKSl9Y2F0Y2goZSl7fX0sVXI9WixWcj16LHhyPWZ1bmN0aW9uKGUpe2lmKFByKGUpKXJldHVybiBlO3Rocm93IG5ldyBrcihcIkNhbid0IHNldCBcIitMcihlKStcIiBhcyBhIHByb3RvdHlwZVwiKX0sRnI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoXCJfX3Byb3RvX19cImlue30/ZnVuY3Rpb24oKXt2YXIgZSx0PSExLGk9e307dHJ5eyhlPU1yKE9iamVjdC5wcm90b3R5cGUsXCJfX3Byb3RvX19cIixcInNldFwiKSkoaSxbXSksdD1pIGluc3RhbmNlb2YgQXJyYXl9Y2F0Y2goZSl7fXJldHVybiBmdW5jdGlvbihpLG4pe3JldHVybiBWcihpKSx4cihuKSxVcihpKT8odD9lKGksbik6aS5fX3Byb3RvX189bixpKTppfX0oKTp2b2lkIDApLEJyPXt9LGpyPXt9LEdyPSRlLFdyPUosSHI9cWkuaW5kZXhPZixLcj1qcixZcj1kKFtdLnB1c2gpLHpyPWZ1bmN0aW9uKGUsdCl7dmFyIGksbj1XcihlKSxyPTAsbz1bXTtmb3IoaSBpbiBuKSFHcihLcixpKSYmR3IobixpKSYmWXIobyxpKTtmb3IoO3QubGVuZ3RoPnI7KUdyKG4saT10W3IrK10pJiYofkhyKG8saSl8fFlyKG8saSkpO3JldHVybiBvfSxxcj1bXCJjb25zdHJ1Y3RvclwiLFwiaGFzT3duUHJvcGVydHlcIixcImlzUHJvdG90eXBlT2ZcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwidG9TdHJpbmdcIixcInZhbHVlT2ZcIl0sWHI9enIsSnI9cXIuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIik7QnIuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIFhyKGUsSnIpfTt2YXIgUXI9e307UXIuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO3ZhciBacj1yZSwkcj1Ccixlbz1Rcix0bz1uaSxpbz1kKFtdLmNvbmNhdCksbm89WnIoXCJSZWZsZWN0XCIsXCJvd25LZXlzXCIpfHxmdW5jdGlvbihlKXt2YXIgdD0kci5mKHRvKGUpKSxpPWVvLmY7cmV0dXJuIGk/aW8odCxpKGUpKTp0fSxybz0kZSxvbz1ubyxzbz1iLGFvPVp0LGNvPXt9LGxvPXpyLHVvPXFyLGhvPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbG8oZSx1byl9LHBvPXcsX289JHQsRW89WnQsbW89bmksZm89SixTbz1obztjby5mPXBvJiYhX28/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXttbyhlKTtmb3IodmFyIGksbj1mbyh0KSxyPVNvKHQpLG89ci5sZW5ndGgscz0wO28+czspRW8uZihlLGk9cltzKytdLG5baV0pO3JldHVybiBlfTt2YXIgZ28sVG89cmUoXCJkb2N1bWVudFwiLFwiZG9jdW1lbnRFbGVtZW50XCIpLFJvPW5pLENvPWNvLHZvPXFyLHlvPWpyLElvPVRvLEFvPWJ0LGJvPVwicHJvdG90eXBlXCIsd289XCJzY3JpcHRcIixPbz1ncihcIklFX1BST1RPXCIpLE5vPWZ1bmN0aW9uKCl7fSxEbz1mdW5jdGlvbihlKXtyZXR1cm5cIjxcIit3bytcIj5cIitlK1wiPC9cIit3bytcIj5cIn0sUG89ZnVuY3Rpb24oZSl7ZS53cml0ZShEbyhcIlwiKSksZS5jbG9zZSgpO3ZhciB0PWUucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gZT1udWxsLHR9LExvPWZ1bmN0aW9uKCl7dHJ5e2dvPW5ldyBBY3RpdmVYT2JqZWN0KFwiaHRtbGZpbGVcIil9Y2F0Y2goZSl7fXZhciBlLHQsaTtMbz1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQuZG9tYWluJiZnbz9Qbyhnbyk6KHQ9QW8oXCJpZnJhbWVcIiksaT1cImphdmFcIit3bytcIjpcIix0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsSW8uYXBwZW5kQ2hpbGQodCksdC5zcmM9U3RyaW5nKGkpLChlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLGUud3JpdGUoRG8oXCJkb2N1bWVudC5GPU9iamVjdFwiKSksZS5jbG9zZSgpLGUuRik6UG8oZ28pO2Zvcih2YXIgbj12by5sZW5ndGg7bi0tOylkZWxldGUgTG9bYm9dW3ZvW25dXTtyZXR1cm4gTG8oKX07eW9bT29dPSEwO3ZhciBrbz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciBpO3JldHVybiBudWxsIT09ZT8oTm9bYm9dPVJvKGUpLGk9bmV3IE5vLE5vW2JvXT1udWxsLGlbT29dPWUpOmk9TG8oKSx2b2lkIDA9PT10P2k6Q28uZihpLHQpfSxNbz1aLFVvPWZpLFZvPUVycm9yLHhvPWQoXCJcIi5yZXBsYWNlKSxGbz1TdHJpbmcobmV3IFZvKFwienhjYXNkXCIpLnN0YWNrKSxCbz0vXFxuXFxzKmF0IFteOl0qOlteXFxuXSovLGpvPUJvLnRlc3QoRm8pLEdvPXgsV289IW4oKGZ1bmN0aW9uKCl7dmFyIGU9bmV3IEVycm9yKFwiYVwiKTtyZXR1cm4hKFwic3RhY2tcImluIGUpfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJzdGFja1wiLEdvKDEsNykpLDchPT1lLnN0YWNrKX0pKSxIbz1maSxLbz1mdW5jdGlvbihlLHQpe2lmKGpvJiZcInN0cmluZ1wiPT10eXBlb2YgZSYmIVZvLnByZXBhcmVTdGFja1RyYWNlKWZvcig7dC0tOyllPXhvKGUsQm8sXCJcIik7cmV0dXJuIGV9LFlvPVdvLHpvPUVycm9yLmNhcHR1cmVTdGFja1RyYWNlLHFvPXt9LFhvPXFvLEpvPXB0KFwiaXRlcmF0b3JcIiksUW89QXJyYXkucHJvdG90eXBlLFpvPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYoWG8uQXJyYXk9PT1lfHxRb1tKb109PT1lKX0sJG89RW4sZXM9TGUsdHM9SCxpcz1xbyxucz1wdChcIml0ZXJhdG9yXCIpLHJzPWZ1bmN0aW9uKGUpe2lmKCF0cyhlKSlyZXR1cm4gZXMoZSxucyl8fGVzKGUsXCJAQGl0ZXJhdG9yXCIpfHxpc1skbyhlKV19LG9zPUQsc3M9TmUsYXM9bmksY3M9QWUsZHM9cnMsbHM9VHlwZUVycm9yLHVzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDwyP2RzKGUpOnQ7aWYoc3MoaSkpcmV0dXJuIGFzKG9zKGksZSkpO3Rocm93IG5ldyBscyhjcyhlKStcIiBpcyBub3QgaXRlcmFibGVcIil9LGhzPUQscHM9bmksX3M9TGUsRXM9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHI7cHMoZSk7dHJ5e2lmKCEobj1fcyhlLFwicmV0dXJuXCIpKSl7aWYoXCJ0aHJvd1wiPT09dCl0aHJvdyBpO3JldHVybiBpfW49aHMobixlKX1jYXRjaChlKXtyPSEwLG49ZX1pZihcInRocm93XCI9PT10KXRocm93IGk7aWYocil0aHJvdyBuO3JldHVybiBwcyhuKSxpfSxtcz1RdCxmcz1ELFNzPW5pLGdzPUFlLFRzPVpvLFJzPVdpLENzPWwsdnM9dXMseXM9cnMsSXM9RXMsQXM9VHlwZUVycm9yLGJzPWZ1bmN0aW9uKGUsdCl7dGhpcy5zdG9wcGVkPWUsdGhpcy5yZXN1bHQ9dH0sd3M9YnMucHJvdG90eXBlLE9zPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbixyLG8scyxhLGMsZCxsPWkmJmkudGhhdCx1PSEoIWl8fCFpLkFTX0VOVFJJRVMpLGg9ISghaXx8IWkuSVNfUkVDT1JEKSxwPSEoIWl8fCFpLklTX0lURVJBVE9SKSxfPSEoIWl8fCFpLklOVEVSUlVQVEVEKSxFPW1zKHQsbCksbT1mdW5jdGlvbihlKXtyZXR1cm4gbiYmSXMobixcIm5vcm1hbFwiKSxuZXcgYnMoITAsZSl9LGY9ZnVuY3Rpb24oZSl7cmV0dXJuIHU/KFNzKGUpLF8/RShlWzBdLGVbMV0sbSk6RShlWzBdLGVbMV0pKTpfP0UoZSxtKTpFKGUpfTtpZihoKW49ZS5pdGVyYXRvcjtlbHNlIGlmKHApbj1lO2Vsc2V7aWYoIShyPXlzKGUpKSl0aHJvdyBuZXcgQXMoZ3MoZSkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpO2lmKFRzKHIpKXtmb3Iobz0wLHM9UnMoZSk7cz5vO28rKylpZigoYT1mKGVbb10pKSYmQ3Mod3MsYSkpcmV0dXJuIGE7cmV0dXJuIG5ldyBicyghMSl9bj12cyhlLHIpfWZvcihjPWg/ZS5uZXh0Om4ubmV4dDshKGQ9ZnMoYyxuKSkuZG9uZTspe3RyeXthPWYoZC52YWx1ZSl9Y2F0Y2goZSl7SXMobixcInRocm93XCIsZSl9aWYoXCJvYmplY3RcIj09dHlwZW9mIGEmJmEmJkNzKHdzLGEpKXJldHVybiBhfXJldHVybiBuZXcgYnMoITEpfSxOcz1TbixEcz1PaSxQcz1sLExzPXdyLGtzPUZyLE1zPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49b28odCkscj1hby5mLG89c28uZixzPTA7czxuLmxlbmd0aDtzKyspe3ZhciBhPW5bc107cm8oZSxhKXx8aSYmcm8oaSxhKXx8cihlLGEsbyh0LGEpKX19LFVzPWtvLFZzPWZpLHhzPXgsRnM9ZnVuY3Rpb24oZSx0KXtNbyh0KSYmXCJjYXVzZVwiaW4gdCYmVW8oZSxcImNhdXNlXCIsdC5jYXVzZSl9LEJzPWZ1bmN0aW9uKGUsdCxpLG4pe1lvJiYoem8/em8oZSx0KTpIbyhlLFwic3RhY2tcIixLbyhpLG4pKSl9LGpzPU9zLEdzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PWU/YXJndW1lbnRzLmxlbmd0aDwyP1wiXCI6dDpOcyhlKX0sV3M9cHQoXCJ0b1N0cmluZ1RhZ1wiKSxIcz1FcnJvcixLcz1bXS5wdXNoLFlzPWZ1bmN0aW9uKGUsdCl7dmFyIGksbj1Qcyh6cyx0aGlzKTtrcz9pPWtzKG5ldyBIcyxuP0xzKHRoaXMpOnpzKTooaT1uP3RoaXM6VXMoenMpLFZzKGksV3MsXCJFcnJvclwiKSksdm9pZCAwIT09dCYmVnMoaSxcIm1lc3NhZ2VcIixHcyh0KSksQnMoaSxZcyxpLnN0YWNrLDEpLGFyZ3VtZW50cy5sZW5ndGg+MiYmRnMoaSxhcmd1bWVudHNbMl0pO3ZhciByPVtdO3JldHVybiBqcyhlLEtzLHt0aGF0OnJ9KSxWcyhpLFwiZXJyb3JzXCIsciksaX07a3M/a3MoWXMsSHMpOk1zKFlzLEhzLHtuYW1lOiEwfSk7dmFyIHpzPVlzLnByb3RvdHlwZT1VcyhIcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnhzKDEsWXMpLG1lc3NhZ2U6eHMoMSxcIlwiKSxuYW1lOnhzKDEsXCJBZ2dyZWdhdGVFcnJvclwiKX0pO0RzKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsYXJpdHk6Mn0se0FnZ3JlZ2F0ZUVycm9yOllzfSk7dmFyIHFzLFhzLEpzLFFzPUEsWnM9aC5XZWFrTWFwLCRzPVFzKFpzKSYmL25hdGl2ZSBjb2RlLy50ZXN0KFN0cmluZyhacykpLGVhPWgsdGE9WixpYT1maSxuYT0kZSxyYT1LZSxvYT1ncixzYT1qcixhYT1cIk9iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkXCIsY2E9ZWEuVHlwZUVycm9yLGRhPWVhLldlYWtNYXA7aWYoJHN8fHJhLnN0YXRlKXt2YXIgbGE9cmEuc3RhdGV8fChyYS5zdGF0ZT1uZXcgZGEpO2xhLmdldD1sYS5nZXQsbGEuaGFzPWxhLmhhcyxsYS5zZXQ9bGEuc2V0LHFzPWZ1bmN0aW9uKGUsdCl7aWYobGEuaGFzKGUpKXRocm93IG5ldyBjYShhYSk7cmV0dXJuIHQuZmFjYWRlPWUsbGEuc2V0KGUsdCksdH0sWHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGxhLmdldChlKXx8e319LEpzPWZ1bmN0aW9uKGUpe3JldHVybiBsYS5oYXMoZSl9fWVsc2V7dmFyIHVhPW9hKFwic3RhdGVcIik7c2FbdWFdPSEwLHFzPWZ1bmN0aW9uKGUsdCl7aWYobmEoZSx1YSkpdGhyb3cgbmV3IGNhKGFhKTtyZXR1cm4gdC5mYWNhZGU9ZSxpYShlLHVhLHQpLHR9LFhzPWZ1bmN0aW9uKGUpe3JldHVybiBuYShlLHVhKT9lW3VhXTp7fX0sSnM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5hKGUsdWEpfX12YXIgaGEscGEsX2EsRWE9e3NldDpxcyxnZXQ6WHMsaGFzOkpzLGVuZm9yY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIEpzKGUpP1hzKGUpOnFzKGUse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpO2lmKCF0YSh0KXx8KGk9WHModCkpLnR5cGUhPT1lKXRocm93IG5ldyBjYShcIkluY29tcGF0aWJsZSByZWNlaXZlciwgXCIrZStcIiByZXF1aXJlZFwiKTtyZXR1cm4gaX19fSxtYT13LGZhPSRlLFNhPUZ1bmN0aW9uLnByb3RvdHlwZSxnYT1tYSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixUYT1mYShTYSxcIm5hbWVcIiksUmE9e0VYSVNUUzpUYSxQUk9QRVI6VGEmJlwic29tZXRoaW5nXCI9PT1mdW5jdGlvbigpe30ubmFtZSxDT05GSUdVUkFCTEU6VGEmJighbWF8fG1hJiZnYShTYSxcIm5hbWVcIikuY29uZmlndXJhYmxlKX0sQ2E9ZmksdmE9ZnVuY3Rpb24oZSx0LGksbil7cmV0dXJuIG4mJm4uZW51bWVyYWJsZT9lW3RdPWk6Q2EoZSx0LGkpLGV9LHlhPW4sSWE9QSxBYT1aLGJhPWtvLHdhPXdyLE9hPXZhLE5hPXB0KFwiaXRlcmF0b3JcIiksRGE9ITE7W10ua2V5cyYmKFwibmV4dFwiaW4oX2E9W10ua2V5cygpKT8ocGE9d2Eod2EoX2EpKSkhPT1PYmplY3QucHJvdG90eXBlJiYoaGE9cGEpOkRhPSEwKTt2YXIgUGE9IUFhKGhhKXx8eWEoKGZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGhhW05hXS5jYWxsKGUpIT09ZX0pKTtJYSgoaGE9UGE/e306YmEoaGEpKVtOYV0pfHxPYShoYSxOYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgTGE9e0l0ZXJhdG9yUHJvdG90eXBlOmhhLEJVR0dZX1NBRkFSSV9JVEVSQVRPUlM6RGF9LGthPUVuLE1hPWNuP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IFwiK2thKHRoaXMpK1wiXVwifSxVYT1jbixWYT1adC5mLHhhPWZpLEZhPSRlLEJhPU1hLGphPXB0KFwidG9TdHJpbmdUYWdcIiksR2E9ZnVuY3Rpb24oZSx0LGksbil7dmFyIHI9aT9lOmUmJmUucHJvdG90eXBlO3ImJihGYShyLGphKXx8VmEocixqYSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KSxuJiYhVWEmJnhhKHIsXCJ0b1N0cmluZ1wiLEJhKSl9LFdhPUxhLkl0ZXJhdG9yUHJvdG90eXBlLEhhPWtvLEthPXgsWWE9R2EsemE9cW8scWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sWGE9ZnVuY3Rpb24oZSx0LGksbil7dmFyIHI9dCtcIiBJdGVyYXRvclwiO3JldHVybiBlLnByb3RvdHlwZT1IYShXYSx7bmV4dDpLYSgrIW4saSl9KSxZYShlLHIsITEsITApLHphW3JdPXFhLGV9LEphPU9pLFFhPUQsWmE9UmEsJGE9WGEsZWM9d3IsdGM9R2EsaWM9dmEsbmM9cW8scmM9TGEsb2M9WmEuUFJPUEVSLHNjPXJjLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsYWM9cHQoXCJpdGVyYXRvclwiKSxjYz1cImtleXNcIixkYz1cInZhbHVlc1wiLGxjPVwiZW50cmllc1wiLHVjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGhjPWZ1bmN0aW9uKGUsdCxpLG4scixvLHMpeyRhKGksdCxuKTt2YXIgYSxjLGQsbD1mdW5jdGlvbihlKXtpZihlPT09ciYmRSlyZXR1cm4gRTtpZighc2MmJmUmJmUgaW4gcClyZXR1cm4gcFtlXTtzd2l0Y2goZSl7Y2FzZSBjYzpjYXNlIGRjOmNhc2UgbGM6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzKX19LHU9dCtcIiBJdGVyYXRvclwiLGg9ITEscD1lLnByb3RvdHlwZSxfPXBbYWNdfHxwW1wiQEBpdGVyYXRvclwiXXx8ciYmcFtyXSxFPSFzYyYmX3x8bChyKSxtPVwiQXJyYXlcIj09PXQmJnAuZW50cmllc3x8XztpZihtJiYoYT1lYyhtLmNhbGwobmV3IGUpKSkhPT1PYmplY3QucHJvdG90eXBlJiZhLm5leHQmJih0YyhhLHUsITAsITApLG5jW3VdPXVjKSxvYyYmcj09PWRjJiZfJiZfLm5hbWUhPT1kYyYmKGg9ITAsRT1mdW5jdGlvbigpe3JldHVybiBRYShfLHRoaXMpfSkscilpZihjPXt2YWx1ZXM6bChkYyksa2V5czpvP0U6bChjYyksZW50cmllczpsKGxjKX0scylmb3IoZCBpbiBjKShzY3x8aHx8IShkIGluIHApKSYmaWMocCxkLGNbZF0pO2Vsc2UgSmEoe3RhcmdldDp0LHByb3RvOiEwLGZvcmNlZDpzY3x8aH0sYyk7cmV0dXJuIHMmJnBbYWNdIT09RSYmaWMocCxhYyxFLHtuYW1lOnJ9KSxuY1t0XT1FLGN9LHBjPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOmUsZG9uZTp0fX0sX2M9SixFYz1xbyxtYz1FYTtadC5mO3ZhciBmYz1oYyxTYz1wYyxnYz1cIkFycmF5IEl0ZXJhdG9yXCIsVGM9bWMuc2V0LFJjPW1jLmdldHRlckZvcihnYyk7ZmMoQXJyYXksXCJBcnJheVwiLChmdW5jdGlvbihlLHQpe1RjKHRoaXMse3R5cGU6Z2MsdGFyZ2V0Ol9jKGUpLGluZGV4OjAsa2luZDp0fSl9KSwoZnVuY3Rpb24oKXt2YXIgZT1SYyh0aGlzKSx0PWUudGFyZ2V0LGk9ZS5pbmRleCsrO2lmKCF0fHxpPj10Lmxlbmd0aClyZXR1cm4gZS50YXJnZXQ9bnVsbCxTYyh2b2lkIDAsITApO3N3aXRjaChlLmtpbmQpe2Nhc2VcImtleXNcIjpyZXR1cm4gU2MoaSwhMSk7Y2FzZVwidmFsdWVzXCI6cmV0dXJuIFNjKHRbaV0sITEpfXJldHVybiBTYyhbaSx0W2ldXSwhMSl9KSxcInZhbHVlc1wiKSxFYy5Bcmd1bWVudHM9RWMuQXJyYXk7dmFyIENjPVp0LHZjPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gQ2MuZihlLHQsaSl9LHljPXJlLEljPXZjLEFjPXcsYmM9cHQoXCJzcGVjaWVzXCIpLHdjPWwsT2M9VHlwZUVycm9yLE5jPWZ1bmN0aW9uKGUsdCl7aWYod2ModCxlKSlyZXR1cm4gZTt0aHJvdyBuZXcgT2MoXCJJbmNvcnJlY3QgaW52b2NhdGlvblwiKX0sRGM9QSxQYz1LZSxMYz1kKEZ1bmN0aW9uLnRvU3RyaW5nKTtEYyhQYy5pbnNwZWN0U291cmNlKXx8KFBjLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIExjKGUpfSk7dmFyIGtjPVBjLmluc3BlY3RTb3VyY2UsTWM9ZCxVYz1uLFZjPUEseGM9RW4sRmM9a2MsQmM9ZnVuY3Rpb24oKXt9LGpjPXJlKFwiUmVmbGVjdFwiLFwiY29uc3RydWN0XCIpLEdjPS9eXFxzKig/OmNsYXNzfGZ1bmN0aW9uKVxcYi8sV2M9TWMoR2MuZXhlYyksSGM9IUdjLnRlc3QoQmMpLEtjPWZ1bmN0aW9uKGUpe2lmKCFWYyhlKSlyZXR1cm4hMTt0cnl7cmV0dXJuIGpjKEJjLFtdLGUpLCEwfWNhdGNoKGUpe3JldHVybiExfX0sWWM9ZnVuY3Rpb24oZSl7aWYoIVZjKGUpKXJldHVybiExO3N3aXRjaCh4YyhlKSl7Y2FzZVwiQXN5bmNGdW5jdGlvblwiOmNhc2VcIkdlbmVyYXRvckZ1bmN0aW9uXCI6Y2FzZVwiQXN5bmNHZW5lcmF0b3JGdW5jdGlvblwiOnJldHVybiExfXRyeXtyZXR1cm4gSGN8fCEhV2MoR2MsRmMoZSkpfWNhdGNoKGUpe3JldHVybiEwfX07WWMuc2hhbT0hMDt2YXIgemMscWMsWGMsSmMsUWM9IWpjfHxVYygoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gS2MoS2MuY2FsbCl8fCFLYyhPYmplY3QpfHwhS2MoKGZ1bmN0aW9uKCl7ZT0hMH0pKXx8ZX0pKT9ZYzpLYyxaYz1RYywkYz1BZSxlZD1UeXBlRXJyb3IsdGQ9bmksaWQ9ZnVuY3Rpb24oZSl7aWYoWmMoZSkpcmV0dXJuIGU7dGhyb3cgbmV3IGVkKCRjKGUpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpfSxuZD1ILHJkPXB0KFwic3BlY2llc1wiKSxvZD1mdW5jdGlvbihlLHQpe3ZhciBpLG49dGQoZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PW58fG5kKGk9dGQobilbcmRdKT90OmlkKGkpfSxzZD1kKFtdLnNsaWNlKSxhZD1UeXBlRXJyb3IsY2Q9ZnVuY3Rpb24oZSx0KXtpZihlPHQpdGhyb3cgbmV3IGFkKFwiTm90IGVub3VnaCBhcmd1bWVudHNcIik7cmV0dXJuIGV9LGRkPS8oPzppcGFkfGlwaG9uZXxpcG9kKS4qYXBwbGV3ZWJraXQvaS50ZXN0KGFlKSxsZD1oLHVkPWYsaGQ9UXQscGQ9QSxfZD0kZSxFZD1uLG1kPVRvLGZkPXNkLFNkPWJ0LGdkPWNkLFRkPWRkLFJkPVhuLENkPWxkLnNldEltbWVkaWF0ZSx2ZD1sZC5jbGVhckltbWVkaWF0ZSx5ZD1sZC5wcm9jZXNzLElkPWxkLkRpc3BhdGNoLEFkPWxkLkZ1bmN0aW9uLGJkPWxkLk1lc3NhZ2VDaGFubmVsLHdkPWxkLlN0cmluZyxPZD0wLE5kPXt9LERkPVwib25yZWFkeXN0YXRlY2hhbmdlXCI7RWQoKGZ1bmN0aW9uKCl7emM9bGQubG9jYXRpb259KSk7dmFyIFBkPWZ1bmN0aW9uKGUpe2lmKF9kKE5kLGUpKXt2YXIgdD1OZFtlXTtkZWxldGUgTmRbZV0sdCgpfX0sTGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7UGQoZSl9fSxrZD1mdW5jdGlvbihlKXtQZChlLmRhdGEpfSxNZD1mdW5jdGlvbihlKXtsZC5wb3N0TWVzc2FnZSh3ZChlKSx6Yy5wcm90b2NvbCtcIi8vXCIremMuaG9zdCl9O0NkJiZ2ZHx8KENkPWZ1bmN0aW9uKGUpe2dkKGFyZ3VtZW50cy5sZW5ndGgsMSk7dmFyIHQ9cGQoZSk/ZTpBZChlKSxpPWZkKGFyZ3VtZW50cywxKTtyZXR1cm4gTmRbKytPZF09ZnVuY3Rpb24oKXt1ZCh0LHZvaWQgMCxpKX0scWMoT2QpLE9kfSx2ZD1mdW5jdGlvbihlKXtkZWxldGUgTmRbZV19LFJkP3FjPWZ1bmN0aW9uKGUpe3lkLm5leHRUaWNrKExkKGUpKX06SWQmJklkLm5vdz9xYz1mdW5jdGlvbihlKXtJZC5ub3coTGQoZSkpfTpiZCYmIVRkPyhKYz0oWGM9bmV3IGJkKS5wb3J0MixYYy5wb3J0MS5vbm1lc3NhZ2U9a2QscWM9aGQoSmMucG9zdE1lc3NhZ2UsSmMpKTpsZC5hZGRFdmVudExpc3RlbmVyJiZwZChsZC5wb3N0TWVzc2FnZSkmJiFsZC5pbXBvcnRTY3JpcHRzJiZ6YyYmXCJmaWxlOlwiIT09emMucHJvdG9jb2wmJiFFZChNZCk/KHFjPU1kLGxkLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsa2QsITEpKTpxYz1EZCBpbiBTZChcInNjcmlwdFwiKT9mdW5jdGlvbihlKXttZC5hcHBlbmRDaGlsZChTZChcInNjcmlwdFwiKSlbRGRdPWZ1bmN0aW9uKCl7bWQucmVtb3ZlQ2hpbGQodGhpcyksUGQoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KExkKGUpLDApfSk7dmFyIFVkPXtzZXQ6Q2QsY2xlYXI6dmR9LFZkPWgseGQ9dyxGZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLEJkPWZ1bmN0aW9uKGUpe2lmKCF4ZClyZXR1cm4gVmRbZV07dmFyIHQ9RmQoVmQsZSk7cmV0dXJuIHQmJnQudmFsdWV9LGpkPWZ1bmN0aW9uKCl7dGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGx9O2pkLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGUpe3ZhciB0PXtpdGVtOmUsbmV4dDpudWxsfSxpPXRoaXMudGFpbDtpP2kubmV4dD10OnRoaXMuaGVhZD10LHRoaXMudGFpbD10fSxnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhlYWQ7aWYoZSlyZXR1cm4gbnVsbD09PSh0aGlzLmhlYWQ9ZS5uZXh0KSYmKHRoaXMudGFpbD1udWxsKSxlLml0ZW19fTt2YXIgR2QsV2QsSGQsS2QsWWQsemQ9amQscWQ9L2lwYWR8aXBob25lfGlwb2QvaS50ZXN0KGFlKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFBlYmJsZSxYZD0vd2ViMHMoPyEuKmNocm9tZSkvaS50ZXN0KGFlKSxKZD1oLFFkPUJkLFpkPVF0LCRkPVVkLnNldCxlbD16ZCx0bD1kZCxpbD1xZCxubD1YZCxybD1YbixvbD1KZC5NdXRhdGlvbk9ic2VydmVyfHxKZC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHNsPUpkLmRvY3VtZW50LGFsPUpkLnByb2Nlc3MsY2w9SmQuUHJvbWlzZSxkbD1RZChcInF1ZXVlTWljcm90YXNrXCIpO2lmKCFkbCl7dmFyIGxsPW5ldyBlbCx1bD1mdW5jdGlvbigpe3ZhciBlLHQ7Zm9yKHJsJiYoZT1hbC5kb21haW4pJiZlLmV4aXQoKTt0PWxsLmdldCgpOyl0cnl7dCgpfWNhdGNoKGUpe3Rocm93IGxsLmhlYWQmJkdkKCksZX1lJiZlLmVudGVyKCl9O3RsfHxybHx8bmx8fCFvbHx8IXNsPyFpbCYmY2wmJmNsLnJlc29sdmU/KChLZD1jbC5yZXNvbHZlKHZvaWQgMCkpLmNvbnN0cnVjdG9yPWNsLFlkPVpkKEtkLnRoZW4sS2QpLEdkPWZ1bmN0aW9uKCl7WWQodWwpfSk6cmw/R2Q9ZnVuY3Rpb24oKXthbC5uZXh0VGljayh1bCl9OigkZD1aZCgkZCxKZCksR2Q9ZnVuY3Rpb24oKXskZCh1bCl9KTooV2Q9ITAsSGQ9c2wuY3JlYXRlVGV4dE5vZGUoXCJcIiksbmV3IG9sKHVsKS5vYnNlcnZlKEhkLHtjaGFyYWN0ZXJEYXRhOiEwfSksR2Q9ZnVuY3Rpb24oKXtIZC5kYXRhPVdkPSFXZH0pLGRsPWZ1bmN0aW9uKGUpe2xsLmhlYWR8fEdkKCksbGwuYWRkKGUpfX12YXIgaGw9ZGwscGw9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybntlcnJvcjohMSx2YWx1ZTplKCl9fWNhdGNoKGUpe3JldHVybntlcnJvcjohMCx2YWx1ZTplfX19LF9sPWguUHJvbWlzZSxFbD1oLG1sPV9sLGZsPUEsU2w9enQsZ2w9a2MsVGw9cHQsUmw9cW4sQ2w9X2Usdmw9bWwmJm1sLnByb3RvdHlwZSx5bD1UbChcInNwZWNpZXNcIiksSWw9ITEsQWw9ZmwoRWwuUHJvbWlzZVJlamVjdGlvbkV2ZW50KSxibD1TbChcIlByb21pc2VcIiwoZnVuY3Rpb24oKXt2YXIgZT1nbChtbCksdD1lIT09U3RyaW5nKG1sKTtpZighdCYmNjY9PT1DbClyZXR1cm4hMDtpZighdmwuY2F0Y2h8fCF2bC5maW5hbGx5KXJldHVybiEwO2lmKCFDbHx8Q2w8NTF8fCEvbmF0aXZlIGNvZGUvLnRlc3QoZSkpe3ZhciBpPW5ldyBtbCgoZnVuY3Rpb24oZSl7ZSgxKX0pKSxuPWZ1bmN0aW9uKGUpe2UoKGZ1bmN0aW9uKCl7fSksKGZ1bmN0aW9uKCl7fSkpfTtpZigoaS5jb25zdHJ1Y3Rvcj17fSlbeWxdPW4sIShJbD1pLnRoZW4oKGZ1bmN0aW9uKCl7fSkpaW5zdGFuY2VvZiBuKSlyZXR1cm4hMH1yZXR1cm4hKHR8fFwiQlJPV1NFUlwiIT09UmwmJlwiREVOT1wiIT09Umx8fEFsKX0pKSx3bD17Q09OU1RSVUNUT1I6YmwsUkVKRUNUSU9OX0VWRU5UOkFsLFNVQkNMQVNTSU5HOklsfSxPbD17fSxObD1OZSxEbD1UeXBlRXJyb3IsUGw9ZnVuY3Rpb24oZSl7dmFyIHQsaTt0aGlzLnByb21pc2U9bmV3IGUoKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09aSl0aHJvdyBuZXcgRGwoXCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvclwiKTt0PWUsaT1ufSkpLHRoaXMucmVzb2x2ZT1ObCh0KSx0aGlzLnJlamVjdD1ObChpKX07T2wuZj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFBsKGUpfTt2YXIgTGwsa2wsTWwsVWw9T2ksVmw9WG4seGw9aCxGbD0kLEJsPUQsamw9dmEsR2w9R2EsV2w9ZnVuY3Rpb24oZSl7dmFyIHQ9eWMoZSk7QWMmJnQmJiF0W2JjXSYmSWModCxiYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfSxIbD1OZSxLbD1BLFlsPVosemw9TmMscWw9b2QsWGw9VWQuc2V0LEpsPWhsLFFsPWZ1bmN0aW9uKGUsdCl7dHJ5ezE9PT1hcmd1bWVudHMubGVuZ3RoP2NvbnNvbGUuZXJyb3IoZSk6Y29uc29sZS5lcnJvcihlLHQpfWNhdGNoKGUpe319LFpsPXBsLCRsPXpkLGV1PUVhLHR1PV9sLGl1PXdsLG51PU9sLHJ1PVwiUHJvbWlzZVwiLG91PWl1LkNPTlNUUlVDVE9SLHN1PWl1LlJFSkVDVElPTl9FVkVOVCxhdT1ldS5nZXR0ZXJGb3IocnUpLGN1PWV1LnNldCxkdT10dSYmdHUucHJvdG90eXBlLGx1PXR1LHV1PWR1LGh1PXhsLlR5cGVFcnJvcixwdT14bC5kb2N1bWVudCxfdT14bC5wcm9jZXNzLEV1PW51LmYsbXU9RXUsZnU9ISEocHUmJnB1LmNyZWF0ZUV2ZW50JiZ4bC5kaXNwYXRjaEV2ZW50KSxTdT1cInVuaGFuZGxlZHJlamVjdGlvblwiLGd1PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIVlsKGUpfHwhS2wodD1lLnRoZW4pKSYmdH0sVHU9ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLHIsbz10LnZhbHVlLHM9MT09PXQuc3RhdGUsYT1zP2Uub2s6ZS5mYWlsLGM9ZS5yZXNvbHZlLGQ9ZS5yZWplY3QsbD1lLmRvbWFpbjt0cnl7YT8oc3x8KDI9PT10LnJlamVjdGlvbiYmSXUodCksdC5yZWplY3Rpb249MSksITA9PT1hP2k9bzoobCYmbC5lbnRlcigpLGk9YShvKSxsJiYobC5leGl0KCkscj0hMCkpLGk9PT1lLnByb21pc2U/ZChuZXcgaHUoXCJQcm9taXNlLWNoYWluIGN5Y2xlXCIpKToobj1ndShpKSk/QmwobixpLGMsZCk6YyhpKSk6ZChvKX1jYXRjaChlKXtsJiYhciYmbC5leGl0KCksZChlKX19LFJ1PWZ1bmN0aW9uKGUsdCl7ZS5ub3RpZmllZHx8KGUubm90aWZpZWQ9ITAsSmwoKGZ1bmN0aW9uKCl7Zm9yKHZhciBpLG49ZS5yZWFjdGlvbnM7aT1uLmdldCgpOylUdShpLGUpO2Uubm90aWZpZWQ9ITEsdCYmIWUucmVqZWN0aW9uJiZ2dShlKX0pKSl9LEN1PWZ1bmN0aW9uKGUsdCxpKXt2YXIgbixyO2Z1Pygobj1wdS5jcmVhdGVFdmVudChcIkV2ZW50XCIpKS5wcm9taXNlPXQsbi5yZWFzb249aSxuLmluaXRFdmVudChlLCExLCEwKSx4bC5kaXNwYXRjaEV2ZW50KG4pKTpuPXtwcm9taXNlOnQscmVhc29uOml9LCFzdSYmKHI9eGxbXCJvblwiK2VdKT9yKG4pOmU9PT1TdSYmUWwoXCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25cIixpKX0sdnU9ZnVuY3Rpb24oZSl7QmwoWGwseGwsKGZ1bmN0aW9uKCl7dmFyIHQsaT1lLmZhY2FkZSxuPWUudmFsdWU7aWYoeXUoZSkmJih0PVpsKChmdW5jdGlvbigpe1ZsP191LmVtaXQoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIixuLGkpOkN1KFN1LGksbil9KSksZS5yZWplY3Rpb249Vmx8fHl1KGUpPzI6MSx0LmVycm9yKSl0aHJvdyB0LnZhbHVlfSkpfSx5dT1mdW5jdGlvbihlKXtyZXR1cm4gMSE9PWUucmVqZWN0aW9uJiYhZS5wYXJlbnR9LEl1PWZ1bmN0aW9uKGUpe0JsKFhsLHhsLChmdW5jdGlvbigpe3ZhciB0PWUuZmFjYWRlO1ZsP191LmVtaXQoXCJyZWplY3Rpb25IYW5kbGVkXCIsdCk6Q3UoXCJyZWplY3Rpb25oYW5kbGVkXCIsdCxlLnZhbHVlKX0pKX0sQXU9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBmdW5jdGlvbihuKXtlKHQsbixpKX19LGJ1PWZ1bmN0aW9uKGUsdCxpKXtlLmRvbmV8fChlLmRvbmU9ITAsaSYmKGU9aSksZS52YWx1ZT10LGUuc3RhdGU9MixSdShlLCEwKSl9LHd1PWZ1bmN0aW9uKGUsdCxpKXtpZighZS5kb25lKXtlLmRvbmU9ITAsaSYmKGU9aSk7dHJ5e2lmKGUuZmFjYWRlPT09dCl0aHJvdyBuZXcgaHUoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTt2YXIgbj1ndSh0KTtuP0psKChmdW5jdGlvbigpe3ZhciBpPXtkb25lOiExfTt0cnl7Qmwobix0LEF1KHd1LGksZSksQXUoYnUsaSxlKSl9Y2F0Y2godCl7YnUoaSx0LGUpfX0pKTooZS52YWx1ZT10LGUuc3RhdGU9MSxSdShlLCExKSl9Y2F0Y2godCl7YnUoe2RvbmU6ITF9LHQsZSl9fX07b3UmJih1dT0obHU9ZnVuY3Rpb24oZSl7emwodGhpcyx1dSksSGwoZSksQmwoTGwsdGhpcyk7dmFyIHQ9YXUodGhpcyk7dHJ5e2UoQXUod3UsdCksQXUoYnUsdCkpfWNhdGNoKGUpe2J1KHQsZSl9fSkucHJvdG90eXBlLChMbD1mdW5jdGlvbihlKXtjdSh0aGlzLHt0eXBlOnJ1LGRvbmU6ITEsbm90aWZpZWQ6ITEscGFyZW50OiExLHJlYWN0aW9uczpuZXcgJGwscmVqZWN0aW9uOiExLHN0YXRlOjAsdmFsdWU6bnVsbH0pfSkucHJvdG90eXBlPWpsKHV1LFwidGhlblwiLChmdW5jdGlvbihlLHQpe3ZhciBpPWF1KHRoaXMpLG49RXUocWwodGhpcyxsdSkpO3JldHVybiBpLnBhcmVudD0hMCxuLm9rPSFLbChlKXx8ZSxuLmZhaWw9S2wodCkmJnQsbi5kb21haW49Vmw/X3UuZG9tYWluOnZvaWQgMCwwPT09aS5zdGF0ZT9pLnJlYWN0aW9ucy5hZGQobik6SmwoKGZ1bmN0aW9uKCl7VHUobixpKX0pKSxuLnByb21pc2V9KSksa2w9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgTGwsdD1hdShlKTt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9QXUod3UsdCksdGhpcy5yZWplY3Q9QXUoYnUsdCl9LG51LmY9RXU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1sdXx8ZT09PU1sP25ldyBrbChlKTptdShlKX0pLFVsKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsd3JhcDohMCxmb3JjZWQ6b3V9LHtQcm9taXNlOmx1fSksTWw9RmwuUHJvbWlzZSxHbChsdSxydSwhMSwhMCksV2wocnUpO3ZhciBPdT1wdChcIml0ZXJhdG9yXCIpLE51PSExO3RyeXt2YXIgRHU9MCxQdT17bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOiEhRHUrK319LHJldHVybjpmdW5jdGlvbigpe051PSEwfX07UHVbT3VdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20oUHUsKGZ1bmN0aW9uKCl7dGhyb3cgMn0pKX1jYXRjaChlKXt9dmFyIEx1PV9sLGt1PWZ1bmN0aW9uKGUsdCl7dHJ5e2lmKCF0JiYhTnUpcmV0dXJuITF9Y2F0Y2goZSl7cmV0dXJuITF9dmFyIGk9ITE7dHJ5e3ZhciBuPXt9O25bT3VdPWZ1bmN0aW9uKCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTppPSEwfX19fSxlKG4pfWNhdGNoKGUpe31yZXR1cm4gaX0sTXU9d2wuQ09OU1RSVUNUT1J8fCFrdSgoZnVuY3Rpb24oZSl7THUuYWxsKGUpLnRoZW4odm9pZCAwLChmdW5jdGlvbigpe30pKX0pKSxVdT1ELFZ1PU5lLHh1PU9sLEZ1PXBsLEJ1PU9zO09pKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6TXV9LHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPXh1LmYodCksbj1pLnJlc29sdmUscj1pLnJlamVjdCxvPUZ1KChmdW5jdGlvbigpe3ZhciBpPVZ1KHQucmVzb2x2ZSksbz1bXSxzPTAsYT0xO0J1KGUsKGZ1bmN0aW9uKGUpe3ZhciBjPXMrKyxkPSExO2ErKyxVdShpLHQsZSkudGhlbigoZnVuY3Rpb24oZSl7ZHx8KGQ9ITAsb1tjXT1lLC0tYXx8bihvKSl9KSxyKX0pKSwtLWF8fG4obyl9KSk7cmV0dXJuIG8uZXJyb3ImJnIoby52YWx1ZSksaS5wcm9taXNlfX0pO3ZhciBqdT1PaSxHdT13bC5DT05TVFJVQ1RPUjtfbCYmX2wucHJvdG90eXBlLGp1KHt0YXJnZXQ6XCJQcm9taXNlXCIscHJvdG86ITAsZm9yY2VkOkd1LHJlYWw6ITB9LHtjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KTt2YXIgV3U9RCxIdT1OZSxLdT1PbCxZdT1wbCx6dT1PcztPaSh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOk11fSx7cmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9S3UuZih0KSxuPWkucmVqZWN0LHI9WXUoKGZ1bmN0aW9uKCl7dmFyIHI9SHUodC5yZXNvbHZlKTt6dShlLChmdW5jdGlvbihlKXtXdShyLHQsZSkudGhlbihpLnJlc29sdmUsbil9KSl9KSk7cmV0dXJuIHIuZXJyb3ImJm4oci52YWx1ZSksaS5wcm9taXNlfX0pO3ZhciBxdT1PbDtPaSh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOndsLkNPTlNUUlVDVE9SfSx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PXF1LmYodGhpcyk7cmV0dXJuKDAsdC5yZWplY3QpKGUpLHQucHJvbWlzZX19KTt2YXIgWHU9bmksSnU9WixRdT1PbCxadT1mdW5jdGlvbihlLHQpe2lmKFh1KGUpLEp1KHQpJiZ0LmNvbnN0cnVjdG9yPT09ZSlyZXR1cm4gdDt2YXIgaT1RdS5mKGUpO3JldHVybigwLGkucmVzb2x2ZSkodCksaS5wcm9taXNlfSwkdT1PaSxlaD1fbCx0aD13bC5DT05TVFJVQ1RPUixpaD1adSxuaD1yZShcIlByb21pc2VcIikscmg9IXRoOyR1KHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6dHJ1ZX0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGloKHJoJiZ0aGlzPT09bmg/ZWg6dGhpcyxlKX19KTt2YXIgb2g9RCxzaD1OZSxhaD1PbCxjaD1wbCxkaD1PcztPaSh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOk11fSx7YWxsU2V0dGxlZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9YWguZih0KSxuPWkucmVzb2x2ZSxyPWkucmVqZWN0LG89Y2goKGZ1bmN0aW9uKCl7dmFyIGk9c2godC5yZXNvbHZlKSxyPVtdLG89MCxzPTE7ZGgoZSwoZnVuY3Rpb24oZSl7dmFyIGE9bysrLGM9ITE7cysrLG9oKGksdCxlKS50aGVuKChmdW5jdGlvbihlKXtjfHwoYz0hMCxyW2FdPXtzdGF0dXM6XCJmdWxmaWxsZWRcIix2YWx1ZTplfSwtLXN8fG4ocikpfSksKGZ1bmN0aW9uKGUpe2N8fChjPSEwLHJbYV09e3N0YXR1czpcInJlamVjdGVkXCIscmVhc29uOmV9LC0tc3x8bihyKSl9KSl9KSksLS1zfHxuKHIpfSkpO3JldHVybiBvLmVycm9yJiZyKG8udmFsdWUpLGkucHJvbWlzZX19KTt2YXIgbGg9RCx1aD1OZSxoaD1yZSxwaD1PbCxfaD1wbCxFaD1PcyxtaD1cIk5vIG9uZSBwcm9taXNlIHJlc29sdmVkXCI7T2koe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDpNdX0se2FueTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9aGgoXCJBZ2dyZWdhdGVFcnJvclwiKSxuPXBoLmYodCkscj1uLnJlc29sdmUsbz1uLnJlamVjdCxzPV9oKChmdW5jdGlvbigpe3ZhciBuPXVoKHQucmVzb2x2ZSkscz1bXSxhPTAsYz0xLGQ9ITE7RWgoZSwoZnVuY3Rpb24oZSl7dmFyIGw9YSsrLHU9ITE7YysrLGxoKG4sdCxlKS50aGVuKChmdW5jdGlvbihlKXt1fHxkfHwoZD0hMCxyKGUpKX0pLChmdW5jdGlvbihlKXt1fHxkfHwodT0hMCxzW2xdPWUsLS1jfHxvKG5ldyBpKHMsbWgpKSl9KSl9KSksLS1jfHxvKG5ldyBpKHMsbWgpKX0pKTtyZXR1cm4gcy5lcnJvciYmbyhzLnZhbHVlKSxuLnByb21pc2V9fSk7dmFyIGZoPU9pLFNoPWYsZ2g9c2QsVGg9T2wsUmg9TmUsQ2g9cGwsdmg9aC5Qcm9taXNlLHloPSExO2ZoKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6IXZofHwhdmgudHJ5fHxDaCgoZnVuY3Rpb24oKXt2aC50cnkoKGZ1bmN0aW9uKGUpe3loPTg9PT1lfSksOCl9KSkuZXJyb3J8fCF5aH0se3RyeTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjE/Z2goYXJndW1lbnRzLDEpOltdLGk9VGguZih0aGlzKSxuPUNoKChmdW5jdGlvbigpe3JldHVybiBTaChSaChlKSx2b2lkIDAsdCl9KSk7cmV0dXJuKG4uZXJyb3I/aS5yZWplY3Q6aS5yZXNvbHZlKShuLnZhbHVlKSxpLnByb21pc2V9fSk7dmFyIEloPU9sO09pKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMH0se3dpdGhSZXNvbHZlcnM6ZnVuY3Rpb24oKXt2YXIgZT1JaC5mKHRoaXMpO3JldHVybntwcm9taXNlOmUucHJvbWlzZSxyZXNvbHZlOmUucmVzb2x2ZSxyZWplY3Q6ZS5yZWplY3R9fX0pO3ZhciBBaD1PaSxiaD1fbCx3aD1uLE9oPXJlLE5oPUEsRGg9b2QsUGg9WnUsTGg9YmgmJmJoLnByb3RvdHlwZTtBaCh7dGFyZ2V0OlwiUHJvbWlzZVwiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOiEhYmgmJndoKChmdW5jdGlvbigpe0xoLmZpbmFsbHkuY2FsbCh7dGhlbjpmdW5jdGlvbigpe319LChmdW5jdGlvbigpe30pKX0pKX0se2ZpbmFsbHk6ZnVuY3Rpb24oZSl7dmFyIHQ9RGgodGhpcyxPaChcIlByb21pc2VcIikpLGk9TmgoZSk7cmV0dXJuIHRoaXMudGhlbihpP2Z1bmN0aW9uKGkpe3JldHVybiBQaCh0LGUoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX06ZSxpP2Z1bmN0aW9uKGkpe3JldHVybiBQaCh0LGUoKSkudGhlbigoZnVuY3Rpb24oKXt0aHJvdyBpfSkpfTplKX19KTt2YXIga2g9ZCxNaD1raSxVaD1TbixWaD16LHhoPWtoKFwiXCIuY2hhckF0KSxGaD1raChcIlwiLmNoYXJDb2RlQXQpLEJoPWtoKFwiXCIuc2xpY2UpLGpoPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LGkpe3ZhciBuLHIsbz1VaChWaCh0KSkscz1NaChpKSxhPW8ubGVuZ3RoO3JldHVybiBzPDB8fHM+PWE/ZT9cIlwiOnZvaWQgMDoobj1GaChvLHMpKTw1NTI5Nnx8bj41NjMxOXx8cysxPT09YXx8KHI9RmgobyxzKzEpKTw1NjMyMHx8cj41NzM0Mz9lP3hoKG8scyk6bjplP0JoKG8scyxzKzIpOnItNTYzMjArKG4tNTUyOTY8PDEwKSs2NTUzNn19LEdoPXtjb2RlQXQ6amgoITEpLGNoYXJBdDpqaCghMCl9LFdoPUdoLmNoYXJBdCxIaD1TbixLaD1FYSxZaD1oYyx6aD1wYyxxaD1cIlN0cmluZyBJdGVyYXRvclwiLFhoPUtoLnNldCxKaD1LaC5nZXR0ZXJGb3IocWgpO1loKFN0cmluZyxcIlN0cmluZ1wiLChmdW5jdGlvbihlKXtYaCh0aGlzLHt0eXBlOnFoLHN0cmluZzpIaChlKSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgZSx0PUpoKHRoaXMpLGk9dC5zdHJpbmcsbj10LmluZGV4O3JldHVybiBuPj1pLmxlbmd0aD96aCh2b2lkIDAsITApOihlPVdoKGksbiksdC5pbmRleCs9ZS5sZW5ndGgsemgoZSwhMSkpfSkpO3ZhciBRaD0kLlByb21pc2UsWmg9e0NTU1J1bGVMaXN0OjAsQ1NTU3R5bGVEZWNsYXJhdGlvbjowLENTU1ZhbHVlTGlzdDowLENsaWVudFJlY3RMaXN0OjAsRE9NUmVjdExpc3Q6MCxET01TdHJpbmdMaXN0OjAsRE9NVG9rZW5MaXN0OjEsRGF0YVRyYW5zZmVySXRlbUxpc3Q6MCxGaWxlTGlzdDowLEhUTUxBbGxDb2xsZWN0aW9uOjAsSFRNTENvbGxlY3Rpb246MCxIVE1MRm9ybUVsZW1lbnQ6MCxIVE1MU2VsZWN0RWxlbWVudDowLE1lZGlhTGlzdDowLE1pbWVUeXBlQXJyYXk6MCxOYW1lZE5vZGVNYXA6MCxOb2RlTGlzdDoxLFBhaW50UmVxdWVzdExpc3Q6MCxQbHVnaW46MCxQbHVnaW5BcnJheTowLFNWR0xlbmd0aExpc3Q6MCxTVkdOdW1iZXJMaXN0OjAsU1ZHUGF0aFNlZ0xpc3Q6MCxTVkdQb2ludExpc3Q6MCxTVkdTdHJpbmdMaXN0OjAsU1ZHVHJhbnNmb3JtTGlzdDowLFNvdXJjZUJ1ZmZlckxpc3Q6MCxTdHlsZVNoZWV0TGlzdDowLFRleHRUcmFja0N1ZUxpc3Q6MCxUZXh0VHJhY2tMaXN0OjAsVG91Y2hMaXN0OjB9LCRoPWgsZXA9R2EsdHA9cW87Zm9yKHZhciBpcCBpbiBaaCllcCgkaFtpcF0saXApLHRwW2lwXT10cC5BcnJheTt2YXIgbnA9UWgscnA9aShucCksb3A9WmkoXCJBcnJheVwiLFwidmFsdWVzXCIpLHNwPUVuLGFwPSRlLGNwPWwsZHA9b3AsbHA9QXJyYXkucHJvdG90eXBlLHVwPXtET01Ub2tlbkxpc3Q6ITAsTm9kZUxpc3Q6ITB9LGhwPWZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWVzO3JldHVybiBlPT09bHB8fGNwKGxwLGUpJiZ0PT09bHAudmFsdWVzfHxhcCh1cCxzcChlKSk/ZHA6dH0scHA9aShocCksX3A9QWUsRXA9VHlwZUVycm9yLG1wPXNkLGZwPU1hdGguZmxvb3IsU3A9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLmxlbmd0aDtpZihpPDgpZm9yKHZhciBuLHIsbz0xO288aTspe2ZvcihyPW8sbj1lW29dO3ImJnQoZVtyLTFdLG4pPjA7KWVbcl09ZVstLXJdO3IhPT1vKysmJihlW3JdPW4pfWVsc2UgZm9yKHZhciBzPWZwKGkvMiksYT1TcChtcChlLDAscyksdCksYz1TcChtcChlLHMpLHQpLGQ9YS5sZW5ndGgsbD1jLmxlbmd0aCx1PTAsaD0wO3U8ZHx8aDxsOyllW3UraF09dTxkJiZoPGw/dChhW3VdLGNbaF0pPD0wP2FbdSsrXTpjW2grK106dTxkP2FbdSsrXTpjW2grK107cmV0dXJuIGV9LGdwPVNwLFRwPWFlLm1hdGNoKC9maXJlZm94XFwvKFxcZCspL2kpLFJwPSEhVHAmJitUcFsxXSxDcD0vTVNJRXxUcmlkZW50Ly50ZXN0KGFlKSx2cD1hZS5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKSx5cD0hIXZwJiYrdnBbMV0sSXA9T2ksQXA9ZCxicD1OZSx3cD1KZSxPcD1XaSxOcD1mdW5jdGlvbihlLHQpe2lmKCFkZWxldGUgZVt0XSl0aHJvdyBuZXcgRXAoXCJDYW5ub3QgZGVsZXRlIHByb3BlcnR5IFwiK19wKHQpK1wiIG9mIFwiK19wKGUpKX0sRHA9U24sUHA9bixMcD1ncCxrcD1XbixNcD1ScCxVcD1DcCxWcD1fZSx4cD15cCxGcD1bXSxCcD1BcChGcC5zb3J0KSxqcD1BcChGcC5wdXNoKSxHcD1QcCgoZnVuY3Rpb24oKXtGcC5zb3J0KHZvaWQgMCl9KSksV3A9UHAoKGZ1bmN0aW9uKCl7RnAuc29ydChudWxsKX0pKSxIcD1rcChcInNvcnRcIiksS3A9IVBwKChmdW5jdGlvbigpe2lmKFZwKXJldHVybiBWcDw3MDtpZighKE1wJiZNcD4zKSl7aWYoVXApcmV0dXJuITA7aWYoeHApcmV0dXJuIHhwPDYwMzt2YXIgZSx0LGksbixyPVwiXCI7Zm9yKGU9NjU7ZTw3NjtlKyspe3N3aXRjaCh0PVN0cmluZy5mcm9tQ2hhckNvZGUoZSksZSl7Y2FzZSA2NjpjYXNlIDY5OmNhc2UgNzA6Y2FzZSA3MjppPTM7YnJlYWs7Y2FzZSA2ODpjYXNlIDcxOmk9NDticmVhaztkZWZhdWx0Omk9Mn1mb3Iobj0wO248NDc7bisrKUZwLnB1c2goe2s6dCtuLHY6aX0pfWZvcihGcC5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LnYtZS52fSkpLG49MDtuPEZwLmxlbmd0aDtuKyspdD1GcFtuXS5rLmNoYXJBdCgwKSxyLmNoYXJBdChyLmxlbmd0aC0xKSE9PXQmJihyKz10KTtyZXR1cm5cIkRHQkVGSEFDSUpLXCIhPT1yfX0pKTtJcCh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6R3B8fCFXcHx8IUhwfHwhS3B9LHtzb3J0OmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUmJmJwKGUpO3ZhciB0PXdwKHRoaXMpO2lmKEtwKXJldHVybiB2b2lkIDA9PT1lP0JwKHQpOkJwKHQsZSk7dmFyIGksbixyPVtdLG89T3AodCk7Zm9yKG49MDtuPG87bisrKW4gaW4gdCYmanAocix0W25dKTtmb3IoTHAocixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxpKXtyZXR1cm4gdm9pZCAwPT09aT8tMTp2b2lkIDA9PT10PzE6dm9pZCAwIT09ZT8rZSh0LGkpfHwwOkRwKHQpPkRwKGkpPzE6LTF9fShlKSksaT1PcChyKSxuPTA7bjxpOyl0W25dPXJbbisrXTtmb3IoO248bzspTnAodCxuKyspO3JldHVybiB0fX0pO3ZhciBZcD1aaShcIkFycmF5XCIsXCJzb3J0XCIpLHpwPWwscXA9WXAsWHA9QXJyYXkucHJvdG90eXBlLEpwPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc29ydDtyZXR1cm4gZT09PVhwfHx6cChYcCxlKSYmdD09PVhwLnNvcnQ/cXA6dH0sUXA9aShKcCksWnA9T2ksJHA9ZCxlXz14aSx0Xz1SYW5nZUVycm9yLGlfPVN0cmluZy5mcm9tQ2hhckNvZGUsbl89U3RyaW5nLmZyb21Db2RlUG9pbnQscl89JHAoW10uam9pbik7WnAoe3RhcmdldDpcIlN0cmluZ1wiLHN0YXQ6ITAsYXJpdHk6MSxmb3JjZWQ6ISFuXyYmMSE9PW5fLmxlbmd0aH0se2Zyb21Db2RlUG9pbnQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGk9W10sbj1hcmd1bWVudHMubGVuZ3RoLHI9MDtuPnI7KXtpZih0PSthcmd1bWVudHNbcisrXSxlXyh0LDExMTQxMTEpIT09dCl0aHJvdyBuZXcgdF8odCtcIiBpcyBub3QgYSB2YWxpZCBjb2RlIHBvaW50XCIpO2lbcl09dDw2NTUzNj9pXyh0KTppXyg1NTI5NisoKHQtPTY1NTM2KT4+MTApLHQlMTAyNCs1NjMyMCl9cmV0dXJuIHJfKGksXCJcIil9fSk7dmFyIG9fPW4sc189cHQoXCJpdGVyYXRvclwiKSxhXz0hb18oKGZ1bmN0aW9uKCl7dmFyIGU9bmV3IFVSTChcImI/YT0xJmI9MiZjPTNcIixcImh0dHBzOi8vYVwiKSx0PWUuc2VhcmNoUGFyYW1zLGk9bmV3IFVSTFNlYXJjaFBhcmFtcyhcImE9MSZhPTImYj0zXCIpLG49XCJcIjtyZXR1cm4gZS5wYXRobmFtZT1cImMlMjBkXCIsdC5mb3JFYWNoKChmdW5jdGlvbihlLGkpe3QuZGVsZXRlKFwiYlwiKSxuKz1pK2V9KSksaS5kZWxldGUoXCJhXCIsMiksaS5kZWxldGUoXCJiXCIsdm9pZCAwKSwhZS50b0pTT058fCFpLmhhcyhcImFcIiwxKXx8aS5oYXMoXCJhXCIsMil8fCFpLmhhcyhcImFcIix2b2lkIDApfHxpLmhhcyhcImJcIil8fCF0LnNpemUmJnRydWV8fCF0LnNvcnR8fFwiaHR0cHM6Ly9hL2MlMjBkP2E9MSZjPTNcIiE9PWUuaHJlZnx8XCIzXCIhPT10LmdldChcImNcIil8fFwiYT0xXCIhPT1TdHJpbmcobmV3IFVSTFNlYXJjaFBhcmFtcyhcIj9hPTFcIikpfHwhdFtzX118fFwiYVwiIT09bmV3IFVSTChcImh0dHBzOi8vYUBiXCIpLnVzZXJuYW1lfHxcImJcIiE9PW5ldyBVUkxTZWFyY2hQYXJhbXMobmV3IFVSTFNlYXJjaFBhcmFtcyhcImE9YlwiKSkuZ2V0KFwiYVwiKXx8XCJ4bi0tZTFheWJjXCIhPT1uZXcgVVJMKFwiaHR0cHM6Ly/RgtC10YHRglwiKS5ob3N0fHxcIiMlRDAlQjFcIiE9PW5ldyBVUkwoXCJodHRwczovL2Ej0LFcIikuaGFzaHx8XCJhMWMzXCIhPT1ufHxcInhcIiE9PW5ldyBVUkwoXCJodHRwczovL3hcIix2b2lkIDApLmhvc3R9KSksY189dmEsZF89T2ksbF89aCx1Xz1CZCxoXz1yZSxwXz1ELF9fPWQsRV89dyxtXz1hXyxmXz12YSxTXz12YyxnXz1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuIGluIHQpaSYmaS51bnNhZmUmJmVbbl0/ZVtuXT10W25dOmNfKGUsbix0W25dLGkpO3JldHVybiBlfSxUXz1HYSxSXz1YYSxDXz1FYSx2Xz1OYyx5Xz1BLElfPSRlLEFfPVF0LGJfPUVuLHdfPW5pLE9fPVosTl89U24sRF89a28sUF89eCxMXz11cyxrXz1ycyxNXz1wYyxVXz1jZCxWXz1ncCx4Xz1wdChcIml0ZXJhdG9yXCIpLEZfPVwiVVJMU2VhcmNoUGFyYW1zXCIsQl89Rl8rXCJJdGVyYXRvclwiLGpfPUNfLnNldCxHXz1DXy5nZXR0ZXJGb3IoRl8pLFdfPUNfLmdldHRlckZvcihCXyksSF89dV8oXCJmZXRjaFwiKSxLXz11XyhcIlJlcXVlc3RcIiksWV89dV8oXCJIZWFkZXJzXCIpLHpfPUtfJiZLXy5wcm90b3R5cGUscV89WV8mJllfLnByb3RvdHlwZSxYXz1sXy5UeXBlRXJyb3IsSl89bF8uZW5jb2RlVVJJQ29tcG9uZW50LFFfPVN0cmluZy5mcm9tQ2hhckNvZGUsWl89aF8oXCJTdHJpbmdcIixcImZyb21Db2RlUG9pbnRcIiksJF89cGFyc2VJbnQsZUU9X18oXCJcIi5jaGFyQXQpLHRFPV9fKFtdLmpvaW4pLGlFPV9fKFtdLnB1c2gpLG5FPV9fKFwiXCIucmVwbGFjZSksckU9X18oW10uc2hpZnQpLG9FPV9fKFtdLnNwbGljZSksc0U9X18oXCJcIi5zcGxpdCksYUU9X18oXCJcIi5zbGljZSksY0U9X18oLy4vLmV4ZWMpLGRFPS9cXCsvZyxsRT0vXlswLTlhLWZdKyQvaSx1RT1mdW5jdGlvbihlLHQpe3ZhciBpPWFFKGUsdCx0KzIpO3JldHVybiBjRShsRSxpKT8kXyhpLDE2KTpOYU59LGhFPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLGk9MTI4O2k+MCYmMCE9KGUmaSk7aT4+PTEpdCsrO3JldHVybiB0fSxwRT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAxOnQ9ZVswXTticmVhaztjYXNlIDI6dD0oMzEmZVswXSk8PDZ8NjMmZVsxXTticmVhaztjYXNlIDM6dD0oMTUmZVswXSk8PDEyfCg2MyZlWzFdKTw8Nnw2MyZlWzJdO2JyZWFrO2Nhc2UgNDp0PSg3JmVbMF0pPDwxOHwoNjMmZVsxXSk8PDEyfCg2MyZlWzJdKTw8Nnw2MyZlWzNdfXJldHVybiB0PjExMTQxMTE/bnVsbDp0fSxfRT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9KGU9bkUoZSxkRSxcIiBcIikpLmxlbmd0aCxpPVwiXCIsbj0wO248dDspe3ZhciByPWVFKGUsbik7aWYoXCIlXCI9PT1yKXtpZihcIiVcIj09PWVFKGUsbisxKXx8biszPnQpe2krPVwiJVwiLG4rKztjb250aW51ZX12YXIgbz11RShlLG4rMSk7aWYobyE9byl7aSs9cixuKys7Y29udGludWV9bis9Mjt2YXIgcz1oRShvKTtpZigwPT09cylyPVFfKG8pO2Vsc2V7aWYoMT09PXN8fHM+NCl7aSs9XCLvv71cIixuKys7Y29udGludWV9Zm9yKHZhciBhPVtvXSxjPTE7YzxzJiYhKCsrbiszPnR8fFwiJVwiIT09ZUUoZSxuKSk7KXt2YXIgZD11RShlLG4rMSk7aWYoZCE9ZCl7bis9MzticmVha31pZihkPjE5MXx8ZDwxMjgpYnJlYWs7aUUoYSxkKSxuKz0yLGMrK31pZihhLmxlbmd0aCE9PXMpe2krPVwi77+9XCI7Y29udGludWV9dmFyIGw9cEUoYSk7bnVsbD09PWw/aSs9XCLvv71cIjpyPVpfKGwpfX1pKz1yLG4rK31yZXR1cm4gaX0sRUU9L1shJygpfl18JTIwL2csbUU9e1wiIVwiOlwiJTIxXCIsXCInXCI6XCIlMjdcIixcIihcIjpcIiUyOFwiLFwiKVwiOlwiJTI5XCIsXCJ+XCI6XCIlN0VcIixcIiUyMFwiOlwiK1wifSxmRT1mdW5jdGlvbihlKXtyZXR1cm4gbUVbZV19LFNFPWZ1bmN0aW9uKGUpe3JldHVybiBuRShKXyhlKSxFRSxmRSl9LGdFPVJfKChmdW5jdGlvbihlLHQpe2pfKHRoaXMse3R5cGU6Ql8sdGFyZ2V0OkdfKGUpLmVudHJpZXMsaW5kZXg6MCxraW5kOnR9KX0pLEZfLChmdW5jdGlvbigpe3ZhciBlPVdfKHRoaXMpLHQ9ZS50YXJnZXQsaT1lLmluZGV4Kys7aWYoIXR8fGk+PXQubGVuZ3RoKXJldHVybiBlLnRhcmdldD1udWxsLE1fKHZvaWQgMCwhMCk7dmFyIG49dFtpXTtzd2l0Y2goZS5raW5kKXtjYXNlXCJrZXlzXCI6cmV0dXJuIE1fKG4ua2V5LCExKTtjYXNlXCJ2YWx1ZXNcIjpyZXR1cm4gTV8obi52YWx1ZSwhMSl9cmV0dXJuIE1fKFtuLmtleSxuLnZhbHVlXSwhMSl9KSwhMCksVEU9ZnVuY3Rpb24oZSl7dGhpcy5lbnRyaWVzPVtdLHRoaXMudXJsPW51bGwsdm9pZCAwIT09ZSYmKE9fKGUpP3RoaXMucGFyc2VPYmplY3QoZSk6dGhpcy5wYXJzZVF1ZXJ5KFwic3RyaW5nXCI9PXR5cGVvZiBlP1wiP1wiPT09ZUUoZSwwKT9hRShlLDEpOmU6Tl8oZSkpKX07VEUucHJvdG90eXBlPXt0eXBlOkZfLGJpbmRVUkw6ZnVuY3Rpb24oZSl7dGhpcy51cmw9ZSx0aGlzLnVwZGF0ZSgpfSxwYXJzZU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxpLG4scixvLHMsYSxjPXRoaXMuZW50cmllcyxkPWtfKGUpO2lmKGQpZm9yKGk9KHQ9TF8oZSxkKSkubmV4dDshKG49cF8oaSx0KSkuZG9uZTspe2lmKG89KHI9TF8od18obi52YWx1ZSkpKS5uZXh0LChzPXBfKG8scikpLmRvbmV8fChhPXBfKG8scikpLmRvbmV8fCFwXyhvLHIpLmRvbmUpdGhyb3cgbmV3IFhfKFwiRXhwZWN0ZWQgc2VxdWVuY2Ugd2l0aCBsZW5ndGggMlwiKTtpRShjLHtrZXk6Tl8ocy52YWx1ZSksdmFsdWU6Tl8oYS52YWx1ZSl9KX1lbHNlIGZvcih2YXIgbCBpbiBlKUlfKGUsbCkmJmlFKGMse2tleTpsLHZhbHVlOk5fKGVbbF0pfSl9LHBhcnNlUXVlcnk6ZnVuY3Rpb24oZSl7aWYoZSlmb3IodmFyIHQsaSxuPXRoaXMuZW50cmllcyxyPXNFKGUsXCImXCIpLG89MDtvPHIubGVuZ3RoOykodD1yW28rK10pLmxlbmd0aCYmKGk9c0UodCxcIj1cIiksaUUobix7a2V5Ol9FKHJFKGkpKSx2YWx1ZTpfRSh0RShpLFwiPVwiKSl9KSl9LHNlcmlhbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PXRoaXMuZW50cmllcyxpPVtdLG49MDtuPHQubGVuZ3RoOyllPXRbbisrXSxpRShpLFNFKGUua2V5KStcIj1cIitTRShlLnZhbHVlKSk7cmV0dXJuIHRFKGksXCImXCIpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmVudHJpZXMubGVuZ3RoPTAsdGhpcy5wYXJzZVF1ZXJ5KHRoaXMudXJsLnF1ZXJ5KX0sdXBkYXRlVVJMOmZ1bmN0aW9uKCl7dGhpcy51cmwmJnRoaXMudXJsLnVwZGF0ZSgpfX07dmFyIFJFPWZ1bmN0aW9uKCl7dl8odGhpcyxDRSk7dmFyIGU9al8odGhpcyxuZXcgVEUoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApKTtFX3x8KHRoaXMuc2l6ZT1lLmVudHJpZXMubGVuZ3RoKX0sQ0U9UkUucHJvdG90eXBlO2lmKGdfKENFLHthcHBlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgaT1HXyh0aGlzKTtVXyhhcmd1bWVudHMubGVuZ3RoLDIpLGlFKGkuZW50cmllcyx7a2V5Ok5fKGUpLHZhbHVlOk5fKHQpfSksRV98fHRoaXMubGVuZ3RoKyssaS51cGRhdGVVUkwoKX0sZGVsZXRlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1HXyh0aGlzKSxpPVVfKGFyZ3VtZW50cy5sZW5ndGgsMSksbj10LmVudHJpZXMscj1OXyhlKSxvPWk8Mj92b2lkIDA6YXJndW1lbnRzWzFdLHM9dm9pZCAwPT09bz9vOk5fKG8pLGE9MDthPG4ubGVuZ3RoOyl7dmFyIGM9blthXTtpZihjLmtleSE9PXJ8fHZvaWQgMCE9PXMmJmMudmFsdWUhPT1zKWErKztlbHNlIGlmKG9FKG4sYSwxKSx2b2lkIDAhPT1zKWJyZWFrfUVffHwodGhpcy5zaXplPW4ubGVuZ3RoKSx0LnVwZGF0ZVVSTCgpfSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9R18odGhpcykuZW50cmllcztVXyhhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgaT1OXyhlKSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXS5rZXk9PT1pKXJldHVybiB0W25dLnZhbHVlO3JldHVybiBudWxsfSxnZXRBbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9R18odGhpcykuZW50cmllcztVXyhhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgaT1OXyhlKSxuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdLmtleT09PWkmJmlFKG4sdFtyXS52YWx1ZSk7cmV0dXJuIG59LGhhczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9R18odGhpcykuZW50cmllcyxpPVVfKGFyZ3VtZW50cy5sZW5ndGgsMSksbj1OXyhlKSxyPWk8Mj92b2lkIDA6YXJndW1lbnRzWzFdLG89dm9pZCAwPT09cj9yOk5fKHIpLHM9MDtzPHQubGVuZ3RoOyl7dmFyIGE9dFtzKytdO2lmKGEua2V5PT09biYmKHZvaWQgMD09PW98fGEudmFsdWU9PT1vKSlyZXR1cm4hMH1yZXR1cm4hMX0sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIGk9R18odGhpcyk7VV8oYXJndW1lbnRzLmxlbmd0aCwxKTtmb3IodmFyIG4scj1pLmVudHJpZXMsbz0hMSxzPU5fKGUpLGE9Tl8odCksYz0wO2M8ci5sZW5ndGg7YysrKShuPXJbY10pLmtleT09PXMmJihvP29FKHIsYy0tLDEpOihvPSEwLG4udmFsdWU9YSkpO298fGlFKHIse2tleTpzLHZhbHVlOmF9KSxFX3x8KHRoaXMuc2l6ZT1yLmxlbmd0aCksaS51cGRhdGVVUkwoKX0sc29ydDpmdW5jdGlvbigpe3ZhciBlPUdfKHRoaXMpO1ZfKGUuZW50cmllcywoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5rZXk+dC5rZXk/MTotMX0pKSxlLnVwZGF0ZVVSTCgpfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPUdfKHRoaXMpLmVudHJpZXMsbj1BXyhlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKSxyPTA7cjxpLmxlbmd0aDspbigodD1pW3IrK10pLnZhbHVlLHQua2V5LHRoaXMpfSxrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnRSh0aGlzLFwia2V5c1wiKX0sdmFsdWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnRSh0aGlzLFwidmFsdWVzXCIpfSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnRSh0aGlzLFwiZW50cmllc1wiKX19LHtlbnVtZXJhYmxlOiEwfSksZl8oQ0UseF8sQ0UuZW50cmllcyx7bmFtZTpcImVudHJpZXNcIn0pLGZfKENFLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR18odGhpcykuc2VyaWFsaXplKCl9KSx7ZW51bWVyYWJsZTohMH0pLEVfJiZTXyhDRSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEdfKHRoaXMpLmVudHJpZXMubGVuZ3RofSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pLFRfKFJFLEZfKSxkXyh7Z2xvYmFsOiEwLGNvbnN0cnVjdG9yOiEwLGZvcmNlZDohbV99LHtVUkxTZWFyY2hQYXJhbXM6UkV9KSwhbV8mJnlfKFlfKSl7dmFyIHZFPV9fKHFfLmhhcykseUU9X18ocV8uc2V0KSxJRT1mdW5jdGlvbihlKXtpZihPXyhlKSl7dmFyIHQsaT1lLmJvZHk7aWYoYl8oaSk9PT1GXylyZXR1cm4gdD1lLmhlYWRlcnM/bmV3IFlfKGUuaGVhZGVycyk6bmV3IFlfLHZFKHQsXCJjb250ZW50LXR5cGVcIil8fHlFKHQsXCJjb250ZW50LXR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04XCIpLERfKGUse2JvZHk6UF8oMCxOXyhpKSksaGVhZGVyczpQXygwLHQpfSl9cmV0dXJuIGV9O2lmKHlfKEhfKSYmZF8oe2dsb2JhbDohMCxlbnVtZXJhYmxlOiEwLGRvbnRDYWxsR2V0U2V0OiEwLGZvcmNlZDohMH0se2ZldGNoOmZ1bmN0aW9uKGUpe3JldHVybiBIXyhlLGFyZ3VtZW50cy5sZW5ndGg+MT9JRShhcmd1bWVudHNbMV0pOnt9KX19KSx5XyhLXykpe3ZhciBBRT1mdW5jdGlvbihlKXtyZXR1cm4gdl8odGhpcyx6XyksbmV3IEtfKGUsYXJndW1lbnRzLmxlbmd0aD4xP0lFKGFyZ3VtZW50c1sxXSk6e30pfTt6Xy5jb25zdHJ1Y3Rvcj1BRSxBRS5wcm90b3R5cGU9el8sZF8oe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCxkb250Q2FsbEdldFNldDohMCxmb3JjZWQ6ITB9LHtSZXF1ZXN0OkFFfSl9fXZhciBiRSx3RT17VVJMU2VhcmNoUGFyYW1zOlJFLGdldFN0YXRlOkdffSxPRT0kLlVSTFNlYXJjaFBhcmFtcyxORT13LERFPWQsUEU9RCxMRT1uLGtFPWhvLE1FPVFyLFVFPVAsVkU9SmUseEU9VyxGRT1PYmplY3QuYXNzaWduLEJFPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxqRT1ERShbXS5jb25jYXQpLEdFPSFGRXx8TEUoKGZ1bmN0aW9uKCl7aWYoTkUmJjEhPT1GRSh7YjoxfSxGRShCRSh7fSxcImFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtCRSh0aGlzLFwiYlwiLHt2YWx1ZTozLGVudW1lcmFibGU6ITF9KX19KSx7YjoyfSkpLmIpcmV0dXJuITA7dmFyIGU9e30sdD17fSxpPVN5bWJvbChcImFzc2lnbiBkZXRlY3Rpb25cIiksbj1cImFiY2RlZmdoaWprbG1ub3BxcnN0XCI7cmV0dXJuIGVbaV09NyxuLnNwbGl0KFwiXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZV09ZX0pKSw3IT09RkUoe30sZSlbaV18fGtFKEZFKHt9LHQpKS5qb2luKFwiXCIpIT09bn0pKT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1WRShlKSxuPWFyZ3VtZW50cy5sZW5ndGgscj0xLG89TUUuZixzPVVFLmY7bj5yOylmb3IodmFyIGEsYz14RShhcmd1bWVudHNbcisrXSksZD1vP2pFKGtFKGMpLG8oYykpOmtFKGMpLGw9ZC5sZW5ndGgsdT0wO2w+dTspYT1kW3UrK10sTkUmJiFQRShzLGMsYSl8fChpW2FdPWNbYV0pO3JldHVybiBpfTpGRSxXRT1uaSxIRT1FcyxLRT13LFlFPVp0LHpFPXgscUU9ZnVuY3Rpb24oZSx0LGkpe0tFP1lFLmYoZSx0LHpFKDAsaSkpOmVbdF09aX0sWEU9UXQsSkU9RCxRRT1KZSxaRT1mdW5jdGlvbihlLHQsaSxuKXt0cnl7cmV0dXJuIG4/dChXRShpKVswXSxpWzFdKTp0KGkpfWNhdGNoKHQpe0hFKGUsXCJ0aHJvd1wiLHQpfX0sJEU9Wm8sZW09UWMsdG09V2ksaW09cUUsbm09dXMscm09cnMsb209QXJyYXksc209ZCxhbT0yMTQ3NDgzNjQ3LGNtPS9bXlxcMC1cXHUwMDdFXS8sZG09L1suXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLGxtPVwiT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3NcIix1bT1SYW5nZUVycm9yLGhtPXNtKGRtLmV4ZWMpLHBtPU1hdGguZmxvb3IsX209U3RyaW5nLmZyb21DaGFyQ29kZSxFbT1zbShcIlwiLmNoYXJDb2RlQXQpLG1tPXNtKFtdLmpvaW4pLGZtPXNtKFtdLnB1c2gpLFNtPXNtKFwiXCIucmVwbGFjZSksZ209c20oXCJcIi5zcGxpdCksVG09c20oXCJcIi50b0xvd2VyQ2FzZSksUm09ZnVuY3Rpb24oZSl7cmV0dXJuIGUrMjIrNzUqKGU8MjYpfSxDbT1mdW5jdGlvbihlLHQsaSl7dmFyIG49MDtmb3IoZT1pP3BtKGUvNzAwKTplPj4xLGUrPXBtKGUvdCk7ZT40NTU7KWU9cG0oZS8zNSksbis9MzY7cmV0dXJuIHBtKG4rMzYqZS8oZSszOCkpfSx2bT1mdW5jdGlvbihlKXt2YXIgdD1bXTtlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxpPTAsbj1lLmxlbmd0aDtpPG47KXt2YXIgcj1FbShlLGkrKyk7aWYocj49NTUyOTYmJnI8PTU2MzE5JiZpPG4pe3ZhciBvPUVtKGUsaSsrKTs1NjMyMD09KDY0NTEyJm8pP2ZtKHQsKCgxMDIzJnIpPDwxMCkrKDEwMjMmbykrNjU1MzYpOihmbSh0LHIpLGktLSl9ZWxzZSBmbSh0LHIpfXJldHVybiB0fShlKTt2YXIgaSxuLHI9ZS5sZW5ndGgsbz0xMjgscz0wLGE9NzI7Zm9yKGk9MDtpPGUubGVuZ3RoO2krKykobj1lW2ldKTwxMjgmJmZtKHQsX20obikpO3ZhciBjPXQubGVuZ3RoLGQ9Yztmb3IoYyYmZm0odCxcIi1cIik7ZDxyOyl7dmFyIGw9YW07Zm9yKGk9MDtpPGUubGVuZ3RoO2krKykobj1lW2ldKT49byYmbjxsJiYobD1uKTt2YXIgdT1kKzE7aWYobC1vPnBtKChhbS1zKS91KSl0aHJvdyBuZXcgdW0obG0pO2ZvcihzKz0obC1vKSp1LG89bCxpPTA7aTxlLmxlbmd0aDtpKyspe2lmKChuPWVbaV0pPG8mJisrcz5hbSl0aHJvdyBuZXcgdW0obG0pO2lmKG49PT1vKXtmb3IodmFyIGg9cyxwPTM2Ozspe3ZhciBfPXA8PWE/MTpwPj1hKzI2PzI2OnAtYTtpZihoPF8pYnJlYWs7dmFyIEU9aC1fLG09MzYtXztmbSh0LF9tKFJtKF8rRSVtKSkpLGg9cG0oRS9tKSxwKz0zNn1mbSh0LF9tKFJtKGgpKSksYT1DbShzLHUsZD09PWMpLHM9MCxkKyt9fXMrKyxvKyt9cmV0dXJuIG1tKHQsXCJcIil9LHltPU9pLEltPXcsQW09YV8sYm09aCx3bT1RdCxPbT1kLE5tPXZhLERtPXZjLFBtPU5jLExtPSRlLGttPUdFLE1tPWZ1bmN0aW9uKGUpe3ZhciB0PVFFKGUpLGk9ZW0odGhpcyksbj1hcmd1bWVudHMubGVuZ3RoLHI9bj4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbz12b2lkIDAhPT1yO28mJihyPVhFKHIsbj4yP2FyZ3VtZW50c1syXTp2b2lkIDApKTt2YXIgcyxhLGMsZCxsLHUsaD1ybSh0KSxwPTA7aWYoIWh8fHRoaXM9PT1vbSYmJEUoaCkpZm9yKHM9dG0odCksYT1pP25ldyB0aGlzKHMpOm9tKHMpO3M+cDtwKyspdT1vP3IodFtwXSxwKTp0W3BdLGltKGEscCx1KTtlbHNlIGZvcihhPWk/bmV3IHRoaXM6W10sbD0oZD1ubSh0LGgpKS5uZXh0OyEoYz1KRShsLGQpKS5kb25lO3ArKyl1PW8/WkUoZCxyLFtjLnZhbHVlLHBdLCEwKTpjLnZhbHVlLGltKGEscCx1KTtyZXR1cm4gYS5sZW5ndGg9cCxhfSxVbT1zZCxWbT1HaC5jb2RlQXQseG09ZnVuY3Rpb24oZSl7dmFyIHQsaSxuPVtdLHI9Z20oU20oVG0oZSksZG0sXCIuXCIpLFwiLlwiKTtmb3IodD0wO3Q8ci5sZW5ndGg7dCsrKWk9clt0XSxmbShuLGhtKGNtLGkpP1wieG4tLVwiK3ZtKGkpOmkpO3JldHVybiBtbShuLFwiLlwiKX0sRm09U24sQm09R2Esam09Y2QsR209d0UsV209RWEsSG09V20uc2V0LEttPVdtLmdldHRlckZvcihcIlVSTFwiKSxZbT1HbS5VUkxTZWFyY2hQYXJhbXMsem09R20uZ2V0U3RhdGUscW09Ym0uVVJMLFhtPWJtLlR5cGVFcnJvcixKbT1ibS5wYXJzZUludCxRbT1NYXRoLmZsb29yLFptPU1hdGgucG93LCRtPU9tKFwiXCIuY2hhckF0KSxlZj1PbSgvLi8uZXhlYyksdGY9T20oW10uam9pbiksbmY9T20oMS4xLnRvU3RyaW5nKSxyZj1PbShbXS5wb3ApLG9mPU9tKFtdLnB1c2gpLHNmPU9tKFwiXCIucmVwbGFjZSksYWY9T20oW10uc2hpZnQpLGNmPU9tKFwiXCIuc3BsaXQpLGRmPU9tKFwiXCIuc2xpY2UpLGxmPU9tKFwiXCIudG9Mb3dlckNhc2UpLHVmPU9tKFtdLnVuc2hpZnQpLGhmPVwiSW52YWxpZCBzY2hlbWVcIixwZj1cIkludmFsaWQgaG9zdFwiLF9mPVwiSW52YWxpZCBwb3J0XCIsRWY9L1thLXpdL2ksbWY9L1tcXGQrLS5hLXpdL2ksZmY9L1xcZC8sU2Y9L14weC9pLGdmPS9eWzAtN10rJC8sVGY9L15cXGQrJC8sUmY9L15bXFxkYS1mXSskL2ksQ2Y9L1tcXDBcXHRcXG5cXHIgIyUvOjw+P0BbXFxcXFxcXV58XS8sdmY9L1tcXDBcXHRcXG5cXHIgIy86PD4/QFtcXFxcXFxdXnxdLyx5Zj0vXltcXHUwMDAwLVxcdTAwMjBdKy8sSWY9LyhefFteXFx1MDAwMC1cXHUwMDIwXSlbXFx1MDAwMC1cXHUwMDIwXSskLyxBZj0vW1xcdFxcblxccl0vZyxiZj1mdW5jdGlvbihlKXt2YXIgdCxpLG4scjtpZihcIm51bWJlclwiPT10eXBlb2YgZSl7Zm9yKHQ9W10saT0wO2k8NDtpKyspdWYodCxlJTI1NiksZT1RbShlLzI1Nik7cmV0dXJuIHRmKHQsXCIuXCIpfWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtmb3IodD1cIlwiLG49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW51bGwsaT0xLG49bnVsbCxyPTAsbz0wO288ODtvKyspMCE9PWVbb10/KHI+aSYmKHQ9bixpPXIpLG49bnVsbCxyPTApOihudWxsPT09biYmKG49byksKytyKTtyZXR1cm4gcj5pP246dH0oZSksaT0wO2k8ODtpKyspciYmMD09PWVbaV18fChyJiYocj0hMSksbj09PWk/KHQrPWk/XCI6XCI6XCI6OlwiLHI9ITApOih0Kz1uZihlW2ldLDE2KSxpPDcmJih0Kz1cIjpcIikpKTtyZXR1cm5cIltcIit0K1wiXVwifXJldHVybiBlfSx3Zj17fSxPZj1rbSh7fSx3Zix7XCIgXCI6MSwnXCInOjEsXCI8XCI6MSxcIj5cIjoxLFwiYFwiOjF9KSxOZj1rbSh7fSxPZix7XCIjXCI6MSxcIj9cIjoxLFwie1wiOjEsXCJ9XCI6MX0pLERmPWttKHt9LE5mLHtcIi9cIjoxLFwiOlwiOjEsXCI7XCI6MSxcIj1cIjoxLFwiQFwiOjEsXCJbXCI6MSxcIlxcXFxcIjoxLFwiXVwiOjEsXCJeXCI6MSxcInxcIjoxfSksUGY9ZnVuY3Rpb24oZSx0KXt2YXIgaT1WbShlLDApO3JldHVybiBpPjMyJiZpPDEyNyYmIUxtKHQsZSk/ZTplbmNvZGVVUklDb21wb25lbnQoZSl9LExmPXtmdHA6MjEsZmlsZTpudWxsLGh0dHA6ODAsaHR0cHM6NDQzLHdzOjgwLHdzczo0NDN9LGtmPWZ1bmN0aW9uKGUsdCl7dmFyIGk7cmV0dXJuIDI9PT1lLmxlbmd0aCYmZWYoRWYsJG0oZSwwKSkmJihcIjpcIj09PShpPSRtKGUsMSkpfHwhdCYmXCJ8XCI9PT1pKX0sTWY9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUubGVuZ3RoPjEmJmtmKGRmKGUsMCwyKSkmJigyPT09ZS5sZW5ndGh8fFwiL1wiPT09KHQ9JG0oZSwyKSl8fFwiXFxcXFwiPT09dHx8XCI/XCI9PT10fHxcIiNcIj09PXQpfSxVZj1mdW5jdGlvbihlKXtyZXR1cm5cIi5cIj09PWV8fFwiJTJlXCI9PT1sZihlKX0sVmY9e30seGY9e30sRmY9e30sQmY9e30samY9e30sR2Y9e30sV2Y9e30sSGY9e30sS2Y9e30sWWY9e30semY9e30scWY9e30sWGY9e30sSmY9e30sUWY9e30sWmY9e30sJGY9e30sZVM9e30sdFM9e30saVM9e30sblM9e30sclM9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHIsbyxzPUZtKGUpO2lmKHQpe2lmKHI9dGhpcy5wYXJzZShzKSl0aHJvdyBuZXcgWG0ocik7dGhpcy5zZWFyY2hQYXJhbXM9bnVsbH1lbHNle2lmKHZvaWQgMCE9PWkmJihuPW5ldyByUyhpLCEwKSkscj10aGlzLnBhcnNlKHMsbnVsbCxuKSl0aHJvdyBuZXcgWG0ocik7KG89em0obmV3IFltKSkuYmluZFVSTCh0aGlzKSx0aGlzLnNlYXJjaFBhcmFtcz1vfX07clMucHJvdG90eXBlPXt0eXBlOlwiVVJMXCIscGFyc2U6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHIsbyxzLGEsYz10aGlzLGQ9dHx8VmYsbD0wLHU9XCJcIixoPSExLHA9ITEsXz0hMTtmb3IoZT1GbShlKSx0fHwoYy5zY2hlbWU9XCJcIixjLnVzZXJuYW1lPVwiXCIsYy5wYXNzd29yZD1cIlwiLGMuaG9zdD1udWxsLGMucG9ydD1udWxsLGMucGF0aD1bXSxjLnF1ZXJ5PW51bGwsYy5mcmFnbWVudD1udWxsLGMuY2Fubm90QmVBQmFzZVVSTD0hMSxlPXNmKGUseWYsXCJcIiksZT1zZihlLElmLFwiJDFcIikpLGU9c2YoZSxBZixcIlwiKSxuPU1tKGUpO2w8PW4ubGVuZ3RoOyl7c3dpdGNoKHI9bltsXSxkKXtjYXNlIFZmOmlmKCFyfHwhZWYoRWYscikpe2lmKHQpcmV0dXJuIGhmO2Q9RmY7Y29udGludWV9dSs9bGYociksZD14ZjticmVhaztjYXNlIHhmOmlmKHImJihlZihtZixyKXx8XCIrXCI9PT1yfHxcIi1cIj09PXJ8fFwiLlwiPT09cikpdSs9bGYocik7ZWxzZXtpZihcIjpcIiE9PXIpe2lmKHQpcmV0dXJuIGhmO3U9XCJcIixkPUZmLGw9MDtjb250aW51ZX1pZih0JiYoYy5pc1NwZWNpYWwoKSE9PUxtKExmLHUpfHxcImZpbGVcIj09PXUmJihjLmluY2x1ZGVzQ3JlZGVudGlhbHMoKXx8bnVsbCE9PWMucG9ydCl8fFwiZmlsZVwiPT09Yy5zY2hlbWUmJiFjLmhvc3QpKXJldHVybjtpZihjLnNjaGVtZT11LHQpcmV0dXJuIHZvaWQoYy5pc1NwZWNpYWwoKSYmTGZbYy5zY2hlbWVdPT09Yy5wb3J0JiYoYy5wb3J0PW51bGwpKTt1PVwiXCIsXCJmaWxlXCI9PT1jLnNjaGVtZT9kPUpmOmMuaXNTcGVjaWFsKCkmJmkmJmkuc2NoZW1lPT09Yy5zY2hlbWU/ZD1CZjpjLmlzU3BlY2lhbCgpP2Q9SGY6XCIvXCI9PT1uW2wrMV0/KGQ9amYsbCsrKTooYy5jYW5ub3RCZUFCYXNlVVJMPSEwLG9mKGMucGF0aCxcIlwiKSxkPXRTKX1icmVhaztjYXNlIEZmOmlmKCFpfHxpLmNhbm5vdEJlQUJhc2VVUkwmJlwiI1wiIT09cilyZXR1cm4gaGY7aWYoaS5jYW5ub3RCZUFCYXNlVVJMJiZcIiNcIj09PXIpe2Muc2NoZW1lPWkuc2NoZW1lLGMucGF0aD1VbShpLnBhdGgpLGMucXVlcnk9aS5xdWVyeSxjLmZyYWdtZW50PVwiXCIsYy5jYW5ub3RCZUFCYXNlVVJMPSEwLGQ9blM7YnJlYWt9ZD1cImZpbGVcIj09PWkuc2NoZW1lP0pmOkdmO2NvbnRpbnVlO2Nhc2UgQmY6aWYoXCIvXCIhPT1yfHxcIi9cIiE9PW5bbCsxXSl7ZD1HZjtjb250aW51ZX1kPUtmLGwrKzticmVhaztjYXNlIGpmOmlmKFwiL1wiPT09cil7ZD1ZZjticmVha31kPWVTO2NvbnRpbnVlO2Nhc2UgR2Y6aWYoYy5zY2hlbWU9aS5zY2hlbWUscj09PWJFKWMudXNlcm5hbWU9aS51c2VybmFtZSxjLnBhc3N3b3JkPWkucGFzc3dvcmQsYy5ob3N0PWkuaG9zdCxjLnBvcnQ9aS5wb3J0LGMucGF0aD1VbShpLnBhdGgpLGMucXVlcnk9aS5xdWVyeTtlbHNlIGlmKFwiL1wiPT09cnx8XCJcXFxcXCI9PT1yJiZjLmlzU3BlY2lhbCgpKWQ9V2Y7ZWxzZSBpZihcIj9cIj09PXIpYy51c2VybmFtZT1pLnVzZXJuYW1lLGMucGFzc3dvcmQ9aS5wYXNzd29yZCxjLmhvc3Q9aS5ob3N0LGMucG9ydD1pLnBvcnQsYy5wYXRoPVVtKGkucGF0aCksYy5xdWVyeT1cIlwiLGQ9aVM7ZWxzZXtpZihcIiNcIiE9PXIpe2MudXNlcm5hbWU9aS51c2VybmFtZSxjLnBhc3N3b3JkPWkucGFzc3dvcmQsYy5ob3N0PWkuaG9zdCxjLnBvcnQ9aS5wb3J0LGMucGF0aD1VbShpLnBhdGgpLGMucGF0aC5sZW5ndGgtLSxkPWVTO2NvbnRpbnVlfWMudXNlcm5hbWU9aS51c2VybmFtZSxjLnBhc3N3b3JkPWkucGFzc3dvcmQsYy5ob3N0PWkuaG9zdCxjLnBvcnQ9aS5wb3J0LGMucGF0aD1VbShpLnBhdGgpLGMucXVlcnk9aS5xdWVyeSxjLmZyYWdtZW50PVwiXCIsZD1uU31icmVhaztjYXNlIFdmOmlmKCFjLmlzU3BlY2lhbCgpfHxcIi9cIiE9PXImJlwiXFxcXFwiIT09cil7aWYoXCIvXCIhPT1yKXtjLnVzZXJuYW1lPWkudXNlcm5hbWUsYy5wYXNzd29yZD1pLnBhc3N3b3JkLGMuaG9zdD1pLmhvc3QsYy5wb3J0PWkucG9ydCxkPWVTO2NvbnRpbnVlfWQ9WWZ9ZWxzZSBkPUtmO2JyZWFrO2Nhc2UgSGY6aWYoZD1LZixcIi9cIiE9PXJ8fFwiL1wiIT09JG0odSxsKzEpKWNvbnRpbnVlO2wrKzticmVhaztjYXNlIEtmOmlmKFwiL1wiIT09ciYmXCJcXFxcXCIhPT1yKXtkPVlmO2NvbnRpbnVlfWJyZWFrO2Nhc2UgWWY6aWYoXCJAXCI9PT1yKXtoJiYodT1cIiU0MFwiK3UpLGg9ITAsbz1NbSh1KTtmb3IodmFyIEU9MDtFPG8ubGVuZ3RoO0UrKyl7dmFyIG09b1tFXTtpZihcIjpcIiE9PW18fF8pe3ZhciBmPVBmKG0sRGYpO18/Yy5wYXNzd29yZCs9ZjpjLnVzZXJuYW1lKz1mfWVsc2UgXz0hMH11PVwiXCJ9ZWxzZSBpZihyPT09YkV8fFwiL1wiPT09cnx8XCI/XCI9PT1yfHxcIiNcIj09PXJ8fFwiXFxcXFwiPT09ciYmYy5pc1NwZWNpYWwoKSl7aWYoaCYmXCJcIj09PXUpcmV0dXJuXCJJbnZhbGlkIGF1dGhvcml0eVwiO2wtPU1tKHUpLmxlbmd0aCsxLHU9XCJcIixkPXpmfWVsc2UgdSs9cjticmVhaztjYXNlIHpmOmNhc2UgcWY6aWYodCYmXCJmaWxlXCI9PT1jLnNjaGVtZSl7ZD1aZjtjb250aW51ZX1pZihcIjpcIiE9PXJ8fHApe2lmKHI9PT1iRXx8XCIvXCI9PT1yfHxcIj9cIj09PXJ8fFwiI1wiPT09cnx8XCJcXFxcXCI9PT1yJiZjLmlzU3BlY2lhbCgpKXtpZihjLmlzU3BlY2lhbCgpJiZcIlwiPT09dSlyZXR1cm4gcGY7aWYodCYmXCJcIj09PXUmJihjLmluY2x1ZGVzQ3JlZGVudGlhbHMoKXx8bnVsbCE9PWMucG9ydCkpcmV0dXJuO2lmKHM9Yy5wYXJzZUhvc3QodSkpcmV0dXJuIHM7aWYodT1cIlwiLGQ9JGYsdClyZXR1cm47Y29udGludWV9XCJbXCI9PT1yP3A9ITA6XCJdXCI9PT1yJiYocD0hMSksdSs9cn1lbHNle2lmKFwiXCI9PT11KXJldHVybiBwZjtpZihzPWMucGFyc2VIb3N0KHUpKXJldHVybiBzO2lmKHU9XCJcIixkPVhmLHQ9PT1xZilyZXR1cm59YnJlYWs7Y2FzZSBYZjppZighZWYoZmYscikpe2lmKHI9PT1iRXx8XCIvXCI9PT1yfHxcIj9cIj09PXJ8fFwiI1wiPT09cnx8XCJcXFxcXCI9PT1yJiZjLmlzU3BlY2lhbCgpfHx0KXtpZihcIlwiIT09dSl7dmFyIFM9Sm0odSwxMCk7aWYoUz42NTUzNSlyZXR1cm4gX2Y7Yy5wb3J0PWMuaXNTcGVjaWFsKCkmJlM9PT1MZltjLnNjaGVtZV0/bnVsbDpTLHU9XCJcIn1pZih0KXJldHVybjtkPSRmO2NvbnRpbnVlfXJldHVybiBfZn11Kz1yO2JyZWFrO2Nhc2UgSmY6aWYoYy5zY2hlbWU9XCJmaWxlXCIsXCIvXCI9PT1yfHxcIlxcXFxcIj09PXIpZD1RZjtlbHNle2lmKCFpfHxcImZpbGVcIiE9PWkuc2NoZW1lKXtkPWVTO2NvbnRpbnVlfXN3aXRjaChyKXtjYXNlIGJFOmMuaG9zdD1pLmhvc3QsYy5wYXRoPVVtKGkucGF0aCksYy5xdWVyeT1pLnF1ZXJ5O2JyZWFrO2Nhc2VcIj9cIjpjLmhvc3Q9aS5ob3N0LGMucGF0aD1VbShpLnBhdGgpLGMucXVlcnk9XCJcIixkPWlTO2JyZWFrO2Nhc2VcIiNcIjpjLmhvc3Q9aS5ob3N0LGMucGF0aD1VbShpLnBhdGgpLGMucXVlcnk9aS5xdWVyeSxjLmZyYWdtZW50PVwiXCIsZD1uUzticmVhaztkZWZhdWx0Ok1mKHRmKFVtKG4sbCksXCJcIikpfHwoYy5ob3N0PWkuaG9zdCxjLnBhdGg9VW0oaS5wYXRoKSxjLnNob3J0ZW5QYXRoKCkpLGQ9ZVM7Y29udGludWV9fWJyZWFrO2Nhc2UgUWY6aWYoXCIvXCI9PT1yfHxcIlxcXFxcIj09PXIpe2Q9WmY7YnJlYWt9aSYmXCJmaWxlXCI9PT1pLnNjaGVtZSYmIU1mKHRmKFVtKG4sbCksXCJcIikpJiYoa2YoaS5wYXRoWzBdLCEwKT9vZihjLnBhdGgsaS5wYXRoWzBdKTpjLmhvc3Q9aS5ob3N0KSxkPWVTO2NvbnRpbnVlO2Nhc2UgWmY6aWYocj09PWJFfHxcIi9cIj09PXJ8fFwiXFxcXFwiPT09cnx8XCI/XCI9PT1yfHxcIiNcIj09PXIpe2lmKCF0JiZrZih1KSlkPWVTO2Vsc2UgaWYoXCJcIj09PXUpe2lmKGMuaG9zdD1cIlwiLHQpcmV0dXJuO2Q9JGZ9ZWxzZXtpZihzPWMucGFyc2VIb3N0KHUpKXJldHVybiBzO2lmKFwibG9jYWxob3N0XCI9PT1jLmhvc3QmJihjLmhvc3Q9XCJcIiksdClyZXR1cm47dT1cIlwiLGQ9JGZ9Y29udGludWV9dSs9cjticmVhaztjYXNlICRmOmlmKGMuaXNTcGVjaWFsKCkpe2lmKGQ9ZVMsXCIvXCIhPT1yJiZcIlxcXFxcIiE9PXIpY29udGludWV9ZWxzZSBpZih0fHxcIj9cIiE9PXIpaWYodHx8XCIjXCIhPT1yKXtpZihyIT09YkUmJihkPWVTLFwiL1wiIT09cikpY29udGludWV9ZWxzZSBjLmZyYWdtZW50PVwiXCIsZD1uUztlbHNlIGMucXVlcnk9XCJcIixkPWlTO2JyZWFrO2Nhc2UgZVM6aWYocj09PWJFfHxcIi9cIj09PXJ8fFwiXFxcXFwiPT09ciYmYy5pc1NwZWNpYWwoKXx8IXQmJihcIj9cIj09PXJ8fFwiI1wiPT09cikpe2lmKFwiLi5cIj09PShhPWxmKGE9dSkpfHxcIiUyZS5cIj09PWF8fFwiLiUyZVwiPT09YXx8XCIlMmUlMmVcIj09PWE/KGMuc2hvcnRlblBhdGgoKSxcIi9cIj09PXJ8fFwiXFxcXFwiPT09ciYmYy5pc1NwZWNpYWwoKXx8b2YoYy5wYXRoLFwiXCIpKTpVZih1KT9cIi9cIj09PXJ8fFwiXFxcXFwiPT09ciYmYy5pc1NwZWNpYWwoKXx8b2YoYy5wYXRoLFwiXCIpOihcImZpbGVcIj09PWMuc2NoZW1lJiYhYy5wYXRoLmxlbmd0aCYma2YodSkmJihjLmhvc3QmJihjLmhvc3Q9XCJcIiksdT0kbSh1LDApK1wiOlwiKSxvZihjLnBhdGgsdSkpLHU9XCJcIixcImZpbGVcIj09PWMuc2NoZW1lJiYocj09PWJFfHxcIj9cIj09PXJ8fFwiI1wiPT09cikpZm9yKDtjLnBhdGgubGVuZ3RoPjEmJlwiXCI9PT1jLnBhdGhbMF07KWFmKGMucGF0aCk7XCI/XCI9PT1yPyhjLnF1ZXJ5PVwiXCIsZD1pUyk6XCIjXCI9PT1yJiYoYy5mcmFnbWVudD1cIlwiLGQ9blMpfWVsc2UgdSs9UGYocixOZik7YnJlYWs7Y2FzZSB0UzpcIj9cIj09PXI/KGMucXVlcnk9XCJcIixkPWlTKTpcIiNcIj09PXI/KGMuZnJhZ21lbnQ9XCJcIixkPW5TKTpyIT09YkUmJihjLnBhdGhbMF0rPVBmKHIsd2YpKTticmVhaztjYXNlIGlTOnR8fFwiI1wiIT09cj9yIT09YkUmJihcIidcIj09PXImJmMuaXNTcGVjaWFsKCk/Yy5xdWVyeSs9XCIlMjdcIjpjLnF1ZXJ5Kz1cIiNcIj09PXI/XCIlMjNcIjpQZihyLHdmKSk6KGMuZnJhZ21lbnQ9XCJcIixkPW5TKTticmVhaztjYXNlIG5TOnIhPT1iRSYmKGMuZnJhZ21lbnQrPVBmKHIsT2YpKX1sKyt9fSxwYXJzZUhvc3Q6ZnVuY3Rpb24oZSl7dmFyIHQsaSxuO2lmKFwiW1wiPT09JG0oZSwwKSl7aWYoXCJdXCIhPT0kbShlLGUubGVuZ3RoLTEpKXJldHVybiBwZjtpZih0PWZ1bmN0aW9uKGUpe3ZhciB0LGksbixyLG8scyxhLGM9WzAsMCwwLDAsMCwwLDAsMF0sZD0wLGw9bnVsbCx1PTAsaD1mdW5jdGlvbigpe3JldHVybiAkbShlLHUpfTtpZihcIjpcIj09PWgoKSl7aWYoXCI6XCIhPT0kbShlLDEpKXJldHVybjt1Kz0yLGw9KytkfWZvcig7aCgpOyl7aWYoOD09PWQpcmV0dXJuO2lmKFwiOlwiIT09aCgpKXtmb3IodD1pPTA7aTw0JiZlZihSZixoKCkpOyl0PTE2KnQrSm0oaCgpLDE2KSx1KyssaSsrO2lmKFwiLlwiPT09aCgpKXtpZigwPT09aSlyZXR1cm47aWYodS09aSxkPjYpcmV0dXJuO2ZvcihuPTA7aCgpOyl7aWYocj1udWxsLG4+MCl7aWYoIShcIi5cIj09PWgoKSYmbjw0KSlyZXR1cm47dSsrfWlmKCFlZihmZixoKCkpKXJldHVybjtmb3IoO2VmKGZmLGgoKSk7KXtpZihvPUptKGgoKSwxMCksbnVsbD09PXIpcj1vO2Vsc2V7aWYoMD09PXIpcmV0dXJuO3I9MTAqcitvfWlmKHI+MjU1KXJldHVybjt1Kyt9Y1tkXT0yNTYqY1tkXStyLDIhPSsrbiYmNCE9PW58fGQrK31pZig0IT09bilyZXR1cm47YnJlYWt9aWYoXCI6XCI9PT1oKCkpe2lmKHUrKywhaCgpKXJldHVybn1lbHNlIGlmKGgoKSlyZXR1cm47Y1tkKytdPXR9ZWxzZXtpZihudWxsIT09bClyZXR1cm47dSsrLGw9KytkfX1pZihudWxsIT09bClmb3Iocz1kLWwsZD03OzAhPT1kJiZzPjA7KWE9Y1tkXSxjW2QtLV09Y1tsK3MtMV0sY1tsKy0tc109YTtlbHNlIGlmKDghPT1kKXJldHVybjtyZXR1cm4gY30oZGYoZSwxLC0xKSksIXQpcmV0dXJuIHBmO3RoaXMuaG9zdD10fWVsc2UgaWYodGhpcy5pc1NwZWNpYWwoKSl7aWYoZT14bShlKSxlZihDZixlKSlyZXR1cm4gcGY7aWYodD1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixvLHMsYSxjPWNmKGUsXCIuXCIpO2lmKGMubGVuZ3RoJiZcIlwiPT09Y1tjLmxlbmd0aC0xXSYmYy5sZW5ndGgtLSwodD1jLmxlbmd0aCk+NClyZXR1cm4gZTtmb3IoaT1bXSxuPTA7bjx0O24rKyl7aWYoXCJcIj09PShyPWNbbl0pKXJldHVybiBlO2lmKG89MTAsci5sZW5ndGg+MSYmXCIwXCI9PT0kbShyLDApJiYobz1lZihTZixyKT8xNjo4LHI9ZGYociw4PT09bz8xOjIpKSxcIlwiPT09cilzPTA7ZWxzZXtpZighZWYoMTA9PT1vP1RmOjg9PT1vP2dmOlJmLHIpKXJldHVybiBlO3M9Sm0ocixvKX1vZihpLHMpfWZvcihuPTA7bjx0O24rKylpZihzPWlbbl0sbj09PXQtMSl7aWYocz49Wm0oMjU2LDUtdCkpcmV0dXJuIG51bGx9ZWxzZSBpZihzPjI1NSlyZXR1cm4gbnVsbDtmb3IoYT1yZihpKSxuPTA7bjxpLmxlbmd0aDtuKyspYSs9aVtuXSpabSgyNTYsMy1uKTtyZXR1cm4gYX0oZSksbnVsbD09PXQpcmV0dXJuIHBmO3RoaXMuaG9zdD10fWVsc2V7aWYoZWYodmYsZSkpcmV0dXJuIHBmO2Zvcih0PVwiXCIsaT1NbShlKSxuPTA7bjxpLmxlbmd0aDtuKyspdCs9UGYoaVtuXSx3Zik7dGhpcy5ob3N0PXR9fSxjYW5ub3RIYXZlVXNlcm5hbWVQYXNzd29yZFBvcnQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5ob3N0fHx0aGlzLmNhbm5vdEJlQUJhc2VVUkx8fFwiZmlsZVwiPT09dGhpcy5zY2hlbWV9LGluY2x1ZGVzQ3JlZGVudGlhbHM6ZnVuY3Rpb24oKXtyZXR1cm5cIlwiIT09dGhpcy51c2VybmFtZXx8XCJcIiE9PXRoaXMucGFzc3dvcmR9LGlzU3BlY2lhbDpmdW5jdGlvbigpe3JldHVybiBMbShMZix0aGlzLnNjaGVtZSl9LHNob3J0ZW5QYXRoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXRoLHQ9ZS5sZW5ndGg7IXR8fFwiZmlsZVwiPT09dGhpcy5zY2hlbWUmJjE9PT10JiZrZihlWzBdLCEwKXx8ZS5sZW5ndGgtLX0sc2VyaWFsaXplOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuc2NoZW1lLGk9ZS51c2VybmFtZSxuPWUucGFzc3dvcmQscj1lLmhvc3Qsbz1lLnBvcnQscz1lLnBhdGgsYT1lLnF1ZXJ5LGM9ZS5mcmFnbWVudCxkPXQrXCI6XCI7cmV0dXJuIG51bGwhPT1yPyhkKz1cIi8vXCIsZS5pbmNsdWRlc0NyZWRlbnRpYWxzKCkmJihkKz1pKyhuP1wiOlwiK246XCJcIikrXCJAXCIpLGQrPWJmKHIpLG51bGwhPT1vJiYoZCs9XCI6XCIrbykpOlwiZmlsZVwiPT09dCYmKGQrPVwiLy9cIiksZCs9ZS5jYW5ub3RCZUFCYXNlVVJMP3NbMF06cy5sZW5ndGg/XCIvXCIrdGYocyxcIi9cIik6XCJcIixudWxsIT09YSYmKGQrPVwiP1wiK2EpLG51bGwhPT1jJiYoZCs9XCIjXCIrYyksZH0sc2V0SHJlZjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBhcnNlKGUpO2lmKHQpdGhyb3cgbmV3IFhtKHQpO3RoaXMuc2VhcmNoUGFyYW1zLnVwZGF0ZSgpfSxnZXRPcmlnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNjaGVtZSx0PXRoaXMucG9ydDtpZihcImJsb2JcIj09PWUpdHJ5e3JldHVybiBuZXcgb1MoZS5wYXRoWzBdKS5vcmlnaW59Y2F0Y2goZSl7cmV0dXJuXCJudWxsXCJ9cmV0dXJuXCJmaWxlXCIhPT1lJiZ0aGlzLmlzU3BlY2lhbCgpP2UrXCI6Ly9cIitiZih0aGlzLmhvc3QpKyhudWxsIT09dD9cIjpcIit0OlwiXCIpOlwibnVsbFwifSxnZXRQcm90b2NvbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjaGVtZStcIjpcIn0sc2V0UHJvdG9jb2w6ZnVuY3Rpb24oZSl7dGhpcy5wYXJzZShGbShlKStcIjpcIixWZil9LGdldFVzZXJuYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXNlcm5hbWV9LHNldFVzZXJuYW1lOmZ1bmN0aW9uKGUpe3ZhciB0PU1tKEZtKGUpKTtpZighdGhpcy5jYW5ub3RIYXZlVXNlcm5hbWVQYXNzd29yZFBvcnQoKSl7dGhpcy51c2VybmFtZT1cIlwiO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMudXNlcm5hbWUrPVBmKHRbaV0sRGYpfX0sZ2V0UGFzc3dvcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXNzd29yZH0sc2V0UGFzc3dvcmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9TW0oRm0oZSkpO2lmKCF0aGlzLmNhbm5vdEhhdmVVc2VybmFtZVBhc3N3b3JkUG9ydCgpKXt0aGlzLnBhc3N3b3JkPVwiXCI7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdGhpcy5wYXNzd29yZCs9UGYodFtpXSxEZil9fSxnZXRIb3N0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3N0LHQ9dGhpcy5wb3J0O3JldHVybiBudWxsPT09ZT9cIlwiOm51bGw9PT10P2JmKGUpOmJmKGUpK1wiOlwiK3R9LHNldEhvc3Q6ZnVuY3Rpb24oZSl7dGhpcy5jYW5ub3RCZUFCYXNlVVJMfHx0aGlzLnBhcnNlKGUsemYpfSxnZXRIb3N0bmFtZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG9zdDtyZXR1cm4gbnVsbD09PWU/XCJcIjpiZihlKX0sc2V0SG9zdG5hbWU6ZnVuY3Rpb24oZSl7dGhpcy5jYW5ub3RCZUFCYXNlVVJMfHx0aGlzLnBhcnNlKGUscWYpfSxnZXRQb3J0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wb3J0O3JldHVybiBudWxsPT09ZT9cIlwiOkZtKGUpfSxzZXRQb3J0OmZ1bmN0aW9uKGUpe3RoaXMuY2Fubm90SGF2ZVVzZXJuYW1lUGFzc3dvcmRQb3J0KCl8fChcIlwiPT09KGU9Rm0oZSkpP3RoaXMucG9ydD1udWxsOnRoaXMucGFyc2UoZSxYZikpfSxnZXRQYXRobmFtZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucGF0aDtyZXR1cm4gdGhpcy5jYW5ub3RCZUFCYXNlVVJMP2VbMF06ZS5sZW5ndGg/XCIvXCIrdGYoZSxcIi9cIik6XCJcIn0sc2V0UGF0aG5hbWU6ZnVuY3Rpb24oZSl7dGhpcy5jYW5ub3RCZUFCYXNlVVJMfHwodGhpcy5wYXRoPVtdLHRoaXMucGFyc2UoZSwkZikpfSxnZXRTZWFyY2g6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnF1ZXJ5O3JldHVybiBlP1wiP1wiK2U6XCJcIn0sc2V0U2VhcmNoOmZ1bmN0aW9uKGUpe1wiXCI9PT0oZT1GbShlKSk/dGhpcy5xdWVyeT1udWxsOihcIj9cIj09PSRtKGUsMCkmJihlPWRmKGUsMSkpLHRoaXMucXVlcnk9XCJcIix0aGlzLnBhcnNlKGUsaVMpKSx0aGlzLnNlYXJjaFBhcmFtcy51cGRhdGUoKX0sZ2V0U2VhcmNoUGFyYW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VhcmNoUGFyYW1zLmZhY2FkZX0sZ2V0SGFzaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZnJhZ21lbnQ7cmV0dXJuIGU/XCIjXCIrZTpcIlwifSxzZXRIYXNoOmZ1bmN0aW9uKGUpe1wiXCIhPT0oZT1GbShlKSk/KFwiI1wiPT09JG0oZSwwKSYmKGU9ZGYoZSwxKSksdGhpcy5mcmFnbWVudD1cIlwiLHRoaXMucGFyc2UoZSxuUykpOnRoaXMuZnJhZ21lbnQ9bnVsbH0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5xdWVyeT10aGlzLnNlYXJjaFBhcmFtcy5zZXJpYWxpemUoKXx8bnVsbH19O3ZhciBvUz1mdW5jdGlvbihlKXt2YXIgdD1QbSh0aGlzLHNTKSxpPWptKGFyZ3VtZW50cy5sZW5ndGgsMSk+MT9hcmd1bWVudHNbMV06dm9pZCAwLG49SG0odCxuZXcgclMoZSwhMSxpKSk7SW18fCh0LmhyZWY9bi5zZXJpYWxpemUoKSx0Lm9yaWdpbj1uLmdldE9yaWdpbigpLHQucHJvdG9jb2w9bi5nZXRQcm90b2NvbCgpLHQudXNlcm5hbWU9bi5nZXRVc2VybmFtZSgpLHQucGFzc3dvcmQ9bi5nZXRQYXNzd29yZCgpLHQuaG9zdD1uLmdldEhvc3QoKSx0Lmhvc3RuYW1lPW4uZ2V0SG9zdG5hbWUoKSx0LnBvcnQ9bi5nZXRQb3J0KCksdC5wYXRobmFtZT1uLmdldFBhdGhuYW1lKCksdC5zZWFyY2g9bi5nZXRTZWFyY2goKSx0LnNlYXJjaFBhcmFtcz1uLmdldFNlYXJjaFBhcmFtcygpLHQuaGFzaD1uLmdldEhhc2goKSl9LHNTPW9TLnByb3RvdHlwZSxhUz1mdW5jdGlvbihlLHQpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gS20odGhpcylbZV0oKX0sc2V0OnQmJmZ1bmN0aW9uKGUpe3JldHVybiBLbSh0aGlzKVt0XShlKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9fTtpZihJbSYmKERtKHNTLFwiaHJlZlwiLGFTKFwic2VyaWFsaXplXCIsXCJzZXRIcmVmXCIpKSxEbShzUyxcIm9yaWdpblwiLGFTKFwiZ2V0T3JpZ2luXCIpKSxEbShzUyxcInByb3RvY29sXCIsYVMoXCJnZXRQcm90b2NvbFwiLFwic2V0UHJvdG9jb2xcIikpLERtKHNTLFwidXNlcm5hbWVcIixhUyhcImdldFVzZXJuYW1lXCIsXCJzZXRVc2VybmFtZVwiKSksRG0oc1MsXCJwYXNzd29yZFwiLGFTKFwiZ2V0UGFzc3dvcmRcIixcInNldFBhc3N3b3JkXCIpKSxEbShzUyxcImhvc3RcIixhUyhcImdldEhvc3RcIixcInNldEhvc3RcIikpLERtKHNTLFwiaG9zdG5hbWVcIixhUyhcImdldEhvc3RuYW1lXCIsXCJzZXRIb3N0bmFtZVwiKSksRG0oc1MsXCJwb3J0XCIsYVMoXCJnZXRQb3J0XCIsXCJzZXRQb3J0XCIpKSxEbShzUyxcInBhdGhuYW1lXCIsYVMoXCJnZXRQYXRobmFtZVwiLFwic2V0UGF0aG5hbWVcIikpLERtKHNTLFwic2VhcmNoXCIsYVMoXCJnZXRTZWFyY2hcIixcInNldFNlYXJjaFwiKSksRG0oc1MsXCJzZWFyY2hQYXJhbXNcIixhUyhcImdldFNlYXJjaFBhcmFtc1wiKSksRG0oc1MsXCJoYXNoXCIsYVMoXCJnZXRIYXNoXCIsXCJzZXRIYXNoXCIpKSksTm0oc1MsXCJ0b0pTT05cIiwoZnVuY3Rpb24oKXtyZXR1cm4gS20odGhpcykuc2VyaWFsaXplKCl9KSx7ZW51bWVyYWJsZTohMH0pLE5tKHNTLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gS20odGhpcykuc2VyaWFsaXplKCl9KSx7ZW51bWVyYWJsZTohMH0pLHFtKXt2YXIgY1M9cW0uY3JlYXRlT2JqZWN0VVJMLGRTPXFtLnJldm9rZU9iamVjdFVSTDtjUyYmTm0ob1MsXCJjcmVhdGVPYmplY3RVUkxcIix3bShjUyxxbSkpLGRTJiZObShvUyxcInJldm9rZU9iamVjdFVSTFwiLHdtKGRTLHFtKSl9Qm0ob1MsXCJVUkxcIikseW0oe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCxmb3JjZWQ6IUFtLHNoYW06IUltfSx7VVJMOm9TfSk7dmFyIGxTPU9pLHVTPW4saFM9Y2QscFM9U24sX1M9YV8sRVM9cmUoXCJVUkxcIiksbVM9X1MmJnVTKChmdW5jdGlvbigpe0VTLmNhblBhcnNlKCl9KSksZlM9dVMoKGZ1bmN0aW9uKCl7cmV0dXJuIDEhPT1FUy5jYW5QYXJzZS5sZW5ndGh9KSk7bFMoe3RhcmdldDpcIlVSTFwiLHN0YXQ6ITAsZm9yY2VkOiFtU3x8ZlN9LHtjYW5QYXJzZTpmdW5jdGlvbihlKXt2YXIgdD1oUyhhcmd1bWVudHMubGVuZ3RoLDEpLGk9cFMoZSksbj10PDJ8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT92b2lkIDA6cFMoYXJndW1lbnRzWzFdKTt0cnl7cmV0dXJuISFuZXcgRVMoaSxuKX1jYXRjaChlKXtyZXR1cm4hMX19fSk7dmFyIFNTPU9pLGdTPWNkLFRTPVNuLFJTPWFfLENTPXJlKFwiVVJMXCIpO1NTKHt0YXJnZXQ6XCJVUkxcIixzdGF0OiEwLGZvcmNlZDohUlN9LHtwYXJzZTpmdW5jdGlvbihlKXt2YXIgdD1nUyhhcmd1bWVudHMubGVuZ3RoLDEpLGk9VFMoZSksbj10PDJ8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT92b2lkIDA6VFMoYXJndW1lbnRzWzFdKTt0cnl7cmV0dXJuIG5ldyBDUyhpLG4pfWNhdGNoKGUpe3JldHVybiBudWxsfX19KTt2YXIgdlM9aSgkLlVSTCk7bGV0IHlTPSEwLElTPSEwO2Z1bmN0aW9uIEFTKGUsdCxpKXtjb25zdCBuPWUubWF0Y2godCk7cmV0dXJuIG4mJm4ubGVuZ3RoPj1pJiZwYXJzZUludChuW2ldLDEwKX1mdW5jdGlvbiBiUyhlLHQsaSl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IG49ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUscj1uLmFkZEV2ZW50TGlzdGVuZXI7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsbil7aWYoZSE9PXQpcmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2NvbnN0IG89ZT0+e2NvbnN0IHQ9aShlKTt0JiYobi5oYW5kbGVFdmVudD9uLmhhbmRsZUV2ZW50KHQpOm4odCkpfTtyZXR1cm4gdGhpcy5fZXZlbnRNYXA9dGhpcy5fZXZlbnRNYXB8fHt9LHRoaXMuX2V2ZW50TWFwW3RdfHwodGhpcy5fZXZlbnRNYXBbdF09bmV3IE1hcCksdGhpcy5fZXZlbnRNYXBbdF0uc2V0KG4sbyksci5hcHBseSh0aGlzLFtlLG9dKX07Y29uc3Qgbz1uLnJlbW92ZUV2ZW50TGlzdGVuZXI7bi5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsaSl7aWYoZSE9PXR8fCF0aGlzLl9ldmVudE1hcHx8IXRoaXMuX2V2ZW50TWFwW3RdKXJldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5fZXZlbnRNYXBbdF0uaGFzKGkpKXJldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjb25zdCBuPXRoaXMuX2V2ZW50TWFwW3RdLmdldChpKTtyZXR1cm4gdGhpcy5fZXZlbnRNYXBbdF0uZGVsZXRlKGkpLDA9PT10aGlzLl9ldmVudE1hcFt0XS5zaXplJiZkZWxldGUgdGhpcy5fZXZlbnRNYXBbdF0sMD09PU9iamVjdC5rZXlzKHRoaXMuX2V2ZW50TWFwKS5sZW5ndGgmJmRlbGV0ZSB0aGlzLl9ldmVudE1hcCxvLmFwcGx5KHRoaXMsW2Usbl0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIm9uXCIrdCx7Z2V0KCl7cmV0dXJuIHRoaXNbXCJfb25cIit0XX0sc2V0KGUpe3RoaXNbXCJfb25cIit0XSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LHRoaXNbXCJfb25cIit0XSksZGVsZXRlIHRoaXNbXCJfb25cIit0XSksZSYmdGhpcy5hZGRFdmVudExpc3RlbmVyKHQsdGhpc1tcIl9vblwiK3RdPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWZ1bmN0aW9uIHdTKGUpe3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgZT9uZXcgRXJyb3IoXCJBcmd1bWVudCB0eXBlOiBcIit0eXBlb2YgZStcIi4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uXCIpOih5Uz1lLGU/XCJhZGFwdGVyLmpzIGxvZ2dpbmcgZGlzYWJsZWRcIjpcImFkYXB0ZXIuanMgbG9nZ2luZyBlbmFibGVkXCIpfWZ1bmN0aW9uIE9TKGUpe3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgZT9uZXcgRXJyb3IoXCJBcmd1bWVudCB0eXBlOiBcIit0eXBlb2YgZStcIi4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uXCIpOihJUz0hZSxcImFkYXB0ZXIuanMgZGVwcmVjYXRpb24gd2FybmluZ3MgXCIrKGU/XCJkaXNhYmxlZFwiOlwiZW5hYmxlZFwiKSl9ZnVuY3Rpb24gTlMoKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93KXtpZih5UylyZXR1cm47XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUubG9nJiZjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIERTKGUsdCl7SVMmJmNvbnNvbGUud2FybihlK1wiIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgXCIrdCtcIiBpbnN0ZWFkLlwiKX1mdW5jdGlvbiBQUyhlKXtyZXR1cm5cIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIExTKGUpe3ZhciB0O3JldHVybiBQUyhlKT9ucih0PU9iamVjdC5rZXlzKGUpKS5jYWxsKHQsKGZ1bmN0aW9uKHQsaSl7Y29uc3Qgbj1QUyhlW2ldKSxyPW4/TFMoZVtpXSk6ZVtpXSxvPW4mJiFPYmplY3Qua2V5cyhyKS5sZW5ndGg7cmV0dXJuIHZvaWQgMD09PXJ8fG8/dDpPYmplY3QuYXNzaWduKHQse1tpXTpyfSl9KSx7fSk6ZX1mdW5jdGlvbiBrUyhlLHQsaSl7dCYmIWkuaGFzKHQuaWQpJiYoaS5zZXQodC5pZCx0KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChuPT57bi5lbmRzV2l0aChcIklkXCIpP2tTKGUsZS5nZXQodFtuXSksaSk6bi5lbmRzV2l0aChcIklkc1wiKSYmdFtuXS5mb3JFYWNoKCh0PT57a1MoZSxlLmdldCh0KSxpKX0pKX0pKSl9ZnVuY3Rpb24gTVMoZSx0LGkpe2NvbnN0IG49aT9cIm91dGJvdW5kLXJ0cFwiOlwiaW5ib3VuZC1ydHBcIixyPW5ldyBNYXA7aWYobnVsbD09PXQpcmV0dXJuIHI7Y29uc3Qgbz1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57XCJ0cmFja1wiPT09ZS50eXBlJiZlLnRyYWNrSWRlbnRpZmllcj09PXQuaWQmJm8ucHVzaChlKX0pKSxvLmZvckVhY2goKHQ9PntlLmZvckVhY2goKGk9PntpLnR5cGU9PT1uJiZpLnRyYWNrSWQ9PT10LmlkJiZrUyhlLGkscil9KSl9KSkscn1jb25zdCBVUz1OUztmdW5jdGlvbiBWUyhlLHQpe2NvbnN0IGk9ZSYmZS5uYXZpZ2F0b3I7aWYoIWkubWVkaWFEZXZpY2VzKXJldHVybjtjb25zdCBuPWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxlLm1hbmRhdG9yeXx8ZS5vcHRpb25hbClyZXR1cm4gZTtjb25zdCB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57aWYoXCJyZXF1aXJlXCI9PT1pfHxcImFkdmFuY2VkXCI9PT1pfHxcIm1lZGlhU291cmNlXCI9PT1pKXJldHVybjtjb25zdCBuPVwib2JqZWN0XCI9PXR5cGVvZiBlW2ldP2VbaV06e2lkZWFsOmVbaV19O3ZvaWQgMCE9PW4uZXhhY3QmJlwibnVtYmVyXCI9PXR5cGVvZiBuLmV4YWN0JiYobi5taW49bi5tYXg9bi5leGFjdCk7Y29uc3Qgcj1mdW5jdGlvbihlLHQpe3JldHVybiBlP2UrdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpOlwiZGV2aWNlSWRcIj09PXQ/XCJzb3VyY2VJZFwiOnR9O2lmKHZvaWQgMCE9PW4uaWRlYWwpe3Qub3B0aW9uYWw9dC5vcHRpb25hbHx8W107bGV0IGU9e307XCJudW1iZXJcIj09dHlwZW9mIG4uaWRlYWw/KGVbcihcIm1pblwiLGkpXT1uLmlkZWFsLHQub3B0aW9uYWwucHVzaChlKSxlPXt9LGVbcihcIm1heFwiLGkpXT1uLmlkZWFsLHQub3B0aW9uYWwucHVzaChlKSk6KGVbcihcIlwiLGkpXT1uLmlkZWFsLHQub3B0aW9uYWwucHVzaChlKSl9dm9pZCAwIT09bi5leGFjdCYmXCJudW1iZXJcIiE9dHlwZW9mIG4uZXhhY3Q/KHQubWFuZGF0b3J5PXQubWFuZGF0b3J5fHx7fSx0Lm1hbmRhdG9yeVtyKFwiXCIsaSldPW4uZXhhY3QpOltcIm1pblwiLFwibWF4XCJdLmZvckVhY2goKGU9Pnt2b2lkIDAhPT1uW2VdJiYodC5tYW5kYXRvcnk9dC5tYW5kYXRvcnl8fHt9LHQubWFuZGF0b3J5W3IoZSxpKV09bltlXSl9KSl9KSksZS5hZHZhbmNlZCYmKHQub3B0aW9uYWw9KHQub3B0aW9uYWx8fFtdKS5jb25jYXQoZS5hZHZhbmNlZCkpLHR9LHI9ZnVuY3Rpb24oZSxyKXtpZih0LnZlcnNpb24+PTYxKXJldHVybiByKGUpO2lmKChlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpKSYmXCJvYmplY3RcIj09dHlwZW9mIGUuYXVkaW8pe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0LGkpe3QgaW4gZSYmIShpIGluIGUpJiYoZVtpXT1lW3RdLGRlbGV0ZSBlW3RdKX07dCgoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSkuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcImdvb2dBdXRvR2FpbkNvbnRyb2xcIiksdChlLmF1ZGlvLFwibm9pc2VTdXBwcmVzc2lvblwiLFwiZ29vZ05vaXNlU3VwcHJlc3Npb25cIiksZS5hdWRpbz1uKGUuYXVkaW8pfWlmKGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLnZpZGVvKXtsZXQgbz1lLnZpZGVvLmZhY2luZ01vZGU7bz1vJiYoXCJvYmplY3RcIj09dHlwZW9mIG8/bzp7aWRlYWw6b30pO2NvbnN0IHM9dC52ZXJzaW9uPDY2O2lmKG8mJihcInVzZXJcIj09PW8uZXhhY3R8fFwiZW52aXJvbm1lbnRcIj09PW8uZXhhY3R8fFwidXNlclwiPT09by5pZGVhbHx8XCJlbnZpcm9ubWVudFwiPT09by5pZGVhbCkmJighaS5tZWRpYURldmljZXMuZ2V0U3VwcG9ydGVkQ29uc3RyYWludHN8fCFpLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpLmZhY2luZ01vZGV8fHMpKXtsZXQgdDtpZihkZWxldGUgZS52aWRlby5mYWNpbmdNb2RlLFwiZW52aXJvbm1lbnRcIj09PW8uZXhhY3R8fFwiZW52aXJvbm1lbnRcIj09PW8uaWRlYWw/dD1bXCJiYWNrXCIsXCJyZWFyXCJdOlwidXNlclwiIT09by5leGFjdCYmXCJ1c2VyXCIhPT1vLmlkZWFsfHwodD1bXCJmcm9udFwiXSksdClyZXR1cm4gaS5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKGk9PntpPWkuZmlsdGVyKChlPT5cInZpZGVvaW5wdXRcIj09PWUua2luZCkpO2xldCBzPWkuZmluZCgoZT0+dC5zb21lKCh0PT57dmFyIGk7cmV0dXJuIExuKGk9ZS5sYWJlbC50b0xvd2VyQ2FzZSgpKS5jYWxsKGksdCl9KSkpKTtyZXR1cm4hcyYmaS5sZW5ndGgmJkxuKHQpLmNhbGwodCxcImJhY2tcIikmJihzPWlbaS5sZW5ndGgtMV0pLHMmJihlLnZpZGVvLmRldmljZUlkPW8uZXhhY3Q/e2V4YWN0OnMuZGV2aWNlSWR9OntpZGVhbDpzLmRldmljZUlkfSksZS52aWRlbz1uKGUudmlkZW8pLFVTKFwiY2hyb21lOiBcIitKU09OLnN0cmluZ2lmeShlKSkscihlKX0pKX1lLnZpZGVvPW4oZS52aWRlbyl9cmV0dXJuIFVTKFwiY2hyb21lOiBcIitKU09OLnN0cmluZ2lmeShlKSkscihlKX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gdC52ZXJzaW9uPj02ND9lOntuYW1lOntQZXJtaXNzaW9uRGVuaWVkRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIixQZXJtaXNzaW9uRGlzbWlzc2VkRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIixJbnZhbGlkU3RhdGVFcnJvcjpcIk5vdEFsbG93ZWRFcnJvclwiLERldmljZXNOb3RGb3VuZEVycm9yOlwiTm90Rm91bmRFcnJvclwiLENvbnN0cmFpbnROb3RTYXRpc2ZpZWRFcnJvcjpcIk92ZXJjb25zdHJhaW5lZEVycm9yXCIsVHJhY2tTdGFydEVycm9yOlwiTm90UmVhZGFibGVFcnJvclwiLE1lZGlhRGV2aWNlRmFpbGVkRHVlVG9TaHV0ZG93bjpcIk5vdEFsbG93ZWRFcnJvclwiLE1lZGlhRGV2aWNlS2lsbFN3aXRjaE9uOlwiTm90QWxsb3dlZEVycm9yXCIsVGFiQ2FwdHVyZUVycm9yOlwiQWJvcnRFcnJvclwiLFNjcmVlbkNhcHR1cmVFcnJvcjpcIkFib3J0RXJyb3JcIixEZXZpY2VDYXB0dXJlRXJyb3I6XCJBYm9ydEVycm9yXCJ9W2UubmFtZV18fGUubmFtZSxtZXNzYWdlOmUubWVzc2FnZSxjb25zdHJhaW50OmUuY29uc3RyYWludHx8ZS5jb25zdHJhaW50TmFtZSx0b1N0cmluZygpe3JldHVybiB0aGlzLm5hbWUrKHRoaXMubWVzc2FnZSYmXCI6IFwiKSt0aGlzLm1lc3NhZ2V9fX07aWYoaS5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSx0LG4pe3IoZSwoZT0+e2kud2Via2l0R2V0VXNlck1lZGlhKGUsdCwoZT0+e24mJm4obyhlKSl9KSl9KSl9LmJpbmQoaSksaS5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKXtjb25zdCBlPWkubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKGkubWVkaWFEZXZpY2VzKTtpLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24odCl7cmV0dXJuIHIodCwodD0+ZSh0KS50aGVuKChlPT57aWYodC5hdWRpbyYmIWUuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGh8fHQudmlkZW8mJiFlLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKXRocm93IGUuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+e2Uuc3RvcCgpfSkpLG5ldyBET01FeGNlcHRpb24oXCJcIixcIk5vdEZvdW5kRXJyb3JcIik7cmV0dXJuIGV9KSwoZT0+cnAucmVqZWN0KG8oZSkpKSkpKX19fWZ1bmN0aW9uIHhTKGUpe2UuTWVkaWFTdHJlYW09ZS5NZWRpYVN0cmVhbXx8ZS53ZWJraXRNZWRpYVN0cmVhbX1mdW5jdGlvbiBGUyhlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmIShcIm9udHJhY2tcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib250cmFja1wiLHtnZXQoKXtyZXR1cm4gdGhpcy5fb250cmFja30sc2V0KGUpe3RoaXMuX29udHJhY2smJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb250cmFjayksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbnRyYWNrPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb250cmFja3BvbHl8fCh0aGlzLl9vbnRyYWNrcG9seT10PT57dC5zdHJlYW0uYWRkRXZlbnRMaXN0ZW5lcihcImFkZHRyYWNrXCIsKGk9PntsZXQgbjtuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz90aGlzLmdldFJlY2VpdmVycygpLmZpbmQoKGU9PmUudHJhY2smJmUudHJhY2suaWQ9PT1pLnRyYWNrLmlkKSk6e3RyYWNrOmkudHJhY2t9O2NvbnN0IHI9bmV3IEV2ZW50KFwidHJhY2tcIik7ci50cmFjaz1pLnRyYWNrLHIucmVjZWl2ZXI9bixyLnRyYW5zY2VpdmVyPXtyZWNlaXZlcjpufSxyLnN0cmVhbXM9W3Quc3RyZWFtXSx0aGlzLmRpc3BhdGNoRXZlbnQocil9KSksdC5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgoaT0+e2xldCBuO249ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzP3RoaXMuZ2V0UmVjZWl2ZXJzKCkuZmluZCgoZT0+ZS50cmFjayYmZS50cmFjay5pZD09PWkuaWQpKTp7dHJhY2s6aX07Y29uc3Qgcj1uZXcgRXZlbnQoXCJ0cmFja1wiKTtyLnRyYWNrPWksci5yZWNlaXZlcj1uLHIudHJhbnNjZWl2ZXI9e3JlY2VpdmVyOm59LHIuc3RyZWFtcz1bdC5zdHJlYW1dLHRoaXMuZGlzcGF0Y2hFdmVudChyKX0pKX0sdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy5fb250cmFja3BvbHkpKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZWxzZSBiUyhlLFwidHJhY2tcIiwoZT0+KGUudHJhbnNjZWl2ZXJ8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwidHJhbnNjZWl2ZXJcIix7dmFsdWU6e3JlY2VpdmVyOmUucmVjZWl2ZXJ9fSksZSkpKX1mdW5jdGlvbiBCUyhlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmIShcImdldFNlbmRlcnNcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSYmXCJjcmVhdGVEVE1GU2VuZGVyXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSl7Y29uc3QgdD1mdW5jdGlvbihlLHQpe3JldHVybnt0cmFjazp0LGdldCBkdG1mKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2R0bWYmJihcImF1ZGlvXCI9PT10LmtpbmQ/dGhpcy5fZHRtZj1lLmNyZWF0ZURUTUZTZW5kZXIodCk6dGhpcy5fZHRtZj1udWxsKSx0aGlzLl9kdG1mfSxfcGM6ZX19O2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzKXtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbmRlcnM9dGhpcy5fc2VuZGVyc3x8W10sdGhpcy5fc2VuZGVycy5zbGljZSgpfTtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKGUsbil7bGV0IHI9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHJ8fChyPXQodGhpcyxlKSx0aGlzLl9zZW5kZXJzLnB1c2gocikpLHJ9O2NvbnN0IG49ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Y29uc3QgdD10aGlzLl9zZW5kZXJzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9zZW5kZXJzLnNwbGljZSh0LDEpfX1jb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5fc2VuZGVycz10aGlzLl9zZW5kZXJzfHxbXSxpLmFwcGx5KHRoaXMsW2VdKSxlLmdldFRyYWNrcygpLmZvckVhY2goKGU9Pnt0aGlzLl9zZW5kZXJzLnB1c2godCh0aGlzLGUpKX0pKX07Y29uc3Qgbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuX3NlbmRlcnM9dGhpcy5fc2VuZGVyc3x8W10sbi5hcHBseSh0aGlzLFtlXSksZS5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLl9zZW5kZXJzLmZpbmQoKHQ9PnQudHJhY2s9PT1lKSk7dCYmdGhpcy5fc2VuZGVycy5zcGxpY2UodGhpcy5fc2VuZGVycy5pbmRleE9mKHQpLDEpfSkpfX1lbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZlLlJUQ1BlZXJDb25uZWN0aW9uJiZcImdldFNlbmRlcnNcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlJiZcImNyZWF0ZURUTUZTZW5kZXJcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlJiZlLlJUQ1J0cFNlbmRlciYmIShcImR0bWZcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkpe2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7Y29uc3QgZT10LmFwcGx5KHRoaXMsW10pO3JldHVybiBlLmZvckVhY2goKGU9PmUuX3BjPXRoaXMpKSxlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENSdHBTZW5kZXIucHJvdG90eXBlLFwiZHRtZlwiLHtnZXQoKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fZHRtZiYmKFwiYXVkaW9cIj09PXRoaXMudHJhY2sua2luZD90aGlzLl9kdG1mPXRoaXMuX3BjLmNyZWF0ZURUTUZTZW5kZXIodGhpcy50cmFjayk6dGhpcy5fZHRtZj1udWxsKSx0aGlzLl9kdG1mfX0pfX1mdW5jdGlvbiBqUyhlKXtpZighZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2NvbnN0W2UsaSxuXT1hcmd1bWVudHM7aWYoYXJndW1lbnRzLmxlbmd0aD4wJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZigwPT09dC5sZW5ndGgmJigwPT09YXJndW1lbnRzLmxlbmd0aHx8XCJmdW5jdGlvblwiIT10eXBlb2YgZSkpcmV0dXJuIHQuYXBwbHkodGhpcyxbXSk7Y29uc3Qgcj1mdW5jdGlvbihlKXtjb25zdCB0PXt9O3JldHVybiBlLnJlc3VsdCgpLmZvckVhY2goKGU9Pntjb25zdCBpPXtpZDplLmlkLHRpbWVzdGFtcDplLnRpbWVzdGFtcCx0eXBlOntsb2NhbGNhbmRpZGF0ZTpcImxvY2FsLWNhbmRpZGF0ZVwiLHJlbW90ZWNhbmRpZGF0ZTpcInJlbW90ZS1jYW5kaWRhdGVcIn1bZS50eXBlXXx8ZS50eXBlfTtlLm5hbWVzKCkuZm9yRWFjaCgodD0+e2lbdF09ZS5zdGF0KHQpfSkpLHRbaS5pZF09aX0pKSx0fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTWFwKE9iamVjdC5rZXlzKGUpLm1hcCgodD0+W3QsZVt0XV0pKSl9O2lmKGFyZ3VtZW50cy5sZW5ndGg+PTIpe2NvbnN0IG49ZnVuY3Rpb24oZSl7aShvKHIoZSkpKX07cmV0dXJuIHQuYXBwbHkodGhpcyxbbixlXSl9cmV0dXJuIG5ldyBycCgoKGUsaSk9Pnt0LmFwcGx5KHRoaXMsW2Z1bmN0aW9uKHQpe2UobyhyKHQpKSl9LGldKX0pKS50aGVuKGksbil9fWZ1bmN0aW9uIEdTKGUpe2lmKCEoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDUGVlckNvbm5lY3Rpb24mJmUuUlRDUnRwU2VuZGVyJiZlLlJUQ1J0cFJlY2VpdmVyKSlyZXR1cm47aWYoIShcImdldFN0YXRzXCJpbiBlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpKXtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM7dCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtjb25zdCBlPXQuYXBwbHkodGhpcyxbXSk7cmV0dXJuIGUuZm9yRWFjaCgoZT0+ZS5fcGM9dGhpcykpLGV9KTtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO2kmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbigpe2NvbnN0IGU9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUuX3BjPXRoaXMsZX0pLGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcztyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoKS50aGVuKCh0PT5NUyh0LGUudHJhY2ssITApKSl9fWlmKCEoXCJnZXRTdGF0c1wiaW4gZS5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUpKXtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVyczt0JiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzPWZ1bmN0aW9uKCl7Y29uc3QgZT10LmFwcGx5KHRoaXMsW10pO3JldHVybiBlLmZvckVhY2goKGU9PmUuX3BjPXRoaXMpKSxlfSksYlMoZSxcInRyYWNrXCIsKGU9PihlLnJlY2VpdmVyLl9wYz1lLnNyY0VsZW1lbnQsZSkpKSxlLlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcztyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoKS50aGVuKCh0PT5NUyh0LGUudHJhY2ssITEpKSl9fWlmKCEoXCJnZXRTdGF0c1wiaW4gZS5SVENSdHBTZW5kZXIucHJvdG90eXBlKXx8IShcImdldFN0YXRzXCJpbiBlLlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZSkpcmV0dXJuO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgZS5NZWRpYVN0cmVhbVRyYWNrKXtjb25zdCBlPWFyZ3VtZW50c1swXTtsZXQgdCxpLG47cmV0dXJuIHRoaXMuZ2V0U2VuZGVycygpLmZvckVhY2goKGk9PntpLnRyYWNrPT09ZSYmKHQ/bj0hMDp0PWkpfSkpLHRoaXMuZ2V0UmVjZWl2ZXJzKCkuZm9yRWFjaCgodD0+KHQudHJhY2s9PT1lJiYoaT9uPSEwOmk9dCksdC50cmFjaz09PWUpKSksbnx8dCYmaT9ycC5yZWplY3QobmV3IERPTUV4Y2VwdGlvbihcIlRoZXJlIGFyZSBtb3JlIHRoYW4gb25lIHNlbmRlciBvciByZWNlaXZlciBmb3IgdGhlIHRyYWNrLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpKTp0P3QuZ2V0U3RhdHMoKTppP2kuZ2V0U3RhdHMoKTpycC5yZWplY3QobmV3IERPTUV4Y2VwdGlvbihcIlRoZXJlIGlzIG5vIHNlbmRlciBvciByZWNlaXZlciBmb3IgdGhlIHRyYWNrLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIFdTKGUpe2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LE9iamVjdC5rZXlzKHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMpLm1hcCgoZT0+dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tlXVswXSkpfTtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKGUsaSl7aWYoIWkpcmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e307Y29uc3Qgbj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tpLmlkXT8tMT09PXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbaS5pZF0uaW5kZXhPZihuKSYmdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tpLmlkXS5wdXNoKG4pOnRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbaS5pZF09W2ksbl0sbn07Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sZS5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLmdldFNlbmRlcnMoKS5maW5kKCh0PT50LnRyYWNrPT09ZSkpO2lmKHQpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRyYWNrIGFscmVhZHkgZXhpc3RzLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpfSkpO2NvbnN0IHQ9dGhpcy5nZXRTZW5kZXJzKCk7aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Y29uc3Qgbj10aGlzLmdldFNlbmRlcnMoKS5maWx0ZXIoKGU9Pi0xPT09dC5pbmRleE9mKGUpKSk7dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tlLmlkXT1bZV0uY29uY2F0KG4pfTtjb25zdCBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sZGVsZXRlIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbZS5pZF0sbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2NvbnN0IHI9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sZSYmT2JqZWN0LmtleXModGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcykuZm9yRWFjaCgodD0+e2NvbnN0IGk9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1t0XS5pbmRleE9mKGUpOy0xIT09aSYmdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1t0XS5zcGxpY2UoaSwxKSwxPT09dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1t0XS5sZW5ndGgmJmRlbGV0ZSB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3RdfSkpLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBIUyhlLHQpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtpZihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjayYmdC52ZXJzaW9uPj02NSlyZXR1cm4gV1MoZSk7Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXM7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7Y29uc3QgZT1pLmFwcGx5KHRoaXMpO3JldHVybiB0aGlzLl9yZXZlcnNlU3RyZWFtcz10aGlzLl9yZXZlcnNlU3RyZWFtc3x8e30sZS5tYXAoKGU9PnRoaXMuX3JldmVyc2VTdHJlYW1zW2UuaWRdKSl9O2NvbnN0IG49ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbih0KXtpZih0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fSx0LmdldFRyYWNrcygpLmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMuZ2V0U2VuZGVycygpLmZpbmQoKHQ9PnQudHJhY2s9PT1lKSk7aWYodCl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVHJhY2sgYWxyZWFkeSBleGlzdHMuXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIil9KSksIXRoaXMuX3JldmVyc2VTdHJlYW1zW3QuaWRdKXtjb25zdCBpPW5ldyBlLk1lZGlhU3RyZWFtKHQuZ2V0VHJhY2tzKCkpO3RoaXMuX3N0cmVhbXNbdC5pZF09aSx0aGlzLl9yZXZlcnNlU3RyZWFtc1tpLmlkXT10LHQ9aX1uLmFwcGx5KHRoaXMsW3RdKX07Y29uc3Qgcj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07ZnVuY3Rpb24gbyhlLHQpe2xldCBpPXQuc2RwO3JldHVybiBPYmplY3Qua2V5cyhlLl9yZXZlcnNlU3RyZWFtc3x8W10pLmZvckVhY2goKHQ9Pntjb25zdCBuPWUuX3JldmVyc2VTdHJlYW1zW3RdLHI9ZS5fc3RyZWFtc1tuLmlkXTtpPWkucmVwbGFjZShuZXcgUmVnRXhwKHIuaWQsXCJnXCIpLG4uaWQpfSkpLG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6dC50eXBlLHNkcDppfSl9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuX3N0cmVhbXM9dGhpcy5fc3RyZWFtc3x8e30sdGhpcy5fcmV2ZXJzZVN0cmVhbXM9dGhpcy5fcmV2ZXJzZVN0cmVhbXN8fHt9LHIuYXBwbHkodGhpcyxbdGhpcy5fc3RyZWFtc1tlLmlkXXx8ZV0pLGRlbGV0ZSB0aGlzLl9yZXZlcnNlU3RyZWFtc1t0aGlzLl9zdHJlYW1zW2UuaWRdP3RoaXMuX3N0cmVhbXNbZS5pZF0uaWQ6ZS5pZF0sZGVsZXRlIHRoaXMuX3N0cmVhbXNbZS5pZF19LGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKHQsaSl7aWYoXCJjbG9zZWRcIj09PXRoaXMuc2lnbmFsaW5nU3RhdGUpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRoZSBSVENQZWVyQ29ubmVjdGlvbidzIHNpZ25hbGluZ1N0YXRlIGlzICdjbG9zZWQnLlwiLFwiSW52YWxpZFN0YXRlRXJyb3JcIik7Y29uc3Qgbj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZigxIT09bi5sZW5ndGh8fCFuWzBdLmdldFRyYWNrcygpLmZpbmQoKGU9PmU9PT10KSkpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRoZSBhZGFwdGVyLmpzIGFkZFRyYWNrIHBvbHlmaWxsIG9ubHkgc3VwcG9ydHMgYSBzaW5nbGUgIHN0cmVhbSB3aGljaCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCB0cmFjay5cIixcIk5vdFN1cHBvcnRlZEVycm9yXCIpO2NvbnN0IHI9dGhpcy5nZXRTZW5kZXJzKCkuZmluZCgoZT0+ZS50cmFjaz09PXQpKTtpZihyKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUcmFjayBhbHJlYWR5IGV4aXN0cy5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fTtjb25zdCBvPXRoaXMuX3N0cmVhbXNbaS5pZF07aWYobylvLmFkZFRyYWNrKHQpLHJwLnJlc29sdmUoKS50aGVuKCgoKT0+e3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJuZWdvdGlhdGlvbm5lZWRlZFwiKSl9KSk7ZWxzZXtjb25zdCBuPW5ldyBlLk1lZGlhU3RyZWFtKFt0XSk7dGhpcy5fc3RyZWFtc1tpLmlkXT1uLHRoaXMuX3JldmVyc2VTdHJlYW1zW24uaWRdPWksdGhpcy5hZGRTdHJlYW0obil9cmV0dXJuIHRoaXMuZ2V0U2VuZGVycygpLmZpbmQoKGU9PmUudHJhY2s9PT10KSl9LFtcImNyZWF0ZU9mZmVyXCIsXCJjcmVhdGVBbnN3ZXJcIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XSxuPXtbdF0oKXtjb25zdCBlPWFyZ3VtZW50cztyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzBdP2kuYXBwbHkodGhpcyxbdD0+e2NvbnN0IGk9byh0aGlzLHQpO2VbMF0uYXBwbHkobnVsbCxbaV0pfSx0PT57ZVsxXSYmZVsxXS5hcHBseShudWxsLHQpfSxhcmd1bWVudHNbMl1dKTppLmFwcGx5KHRoaXMsYXJndW1lbnRzKS50aGVuKChlPT5vKHRoaXMsZSkpKX19O2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdPW5bdF19KSk7Y29uc3Qgcz1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmYXJndW1lbnRzWzBdLnR5cGU/KGFyZ3VtZW50c1swXT1mdW5jdGlvbihlLHQpe2xldCBpPXQuc2RwO3JldHVybiBPYmplY3Qua2V5cyhlLl9yZXZlcnNlU3RyZWFtc3x8W10pLmZvckVhY2goKHQ9Pntjb25zdCBuPWUuX3JldmVyc2VTdHJlYW1zW3RdLHI9ZS5fc3RyZWFtc1tuLmlkXTtpPWkucmVwbGFjZShuZXcgUmVnRXhwKG4uaWQsXCJnXCIpLHIuaWQpfSkpLG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6dC50eXBlLHNkcDppfSl9KHRoaXMsYXJndW1lbnRzWzBdKSxzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk6cy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2NvbnN0IGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcImxvY2FsRGVzY3JpcHRpb25cIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwibG9jYWxEZXNjcmlwdGlvblwiLHtnZXQoKXtjb25zdCBlPWEuZ2V0LmFwcGx5KHRoaXMpO3JldHVyblwiXCI9PT1lLnR5cGU/ZTpvKHRoaXMsZSl9fSksZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7aWYoXCJjbG9zZWRcIj09PXRoaXMuc2lnbmFsaW5nU3RhdGUpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRoZSBSVENQZWVyQ29ubmVjdGlvbidzIHNpZ25hbGluZ1N0YXRlIGlzICdjbG9zZWQnLlwiLFwiSW52YWxpZFN0YXRlRXJyb3JcIik7aWYoIWUuX3BjKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJBcmd1bWVudCAxIG9mIFJUQ1BlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrIGRvZXMgbm90IGltcGxlbWVudCBpbnRlcmZhY2UgUlRDUnRwU2VuZGVyLlwiLFwiVHlwZUVycm9yXCIpO2lmKCEoZS5fcGM9PT10aGlzKSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiU2VuZGVyIHdhcyBub3QgY3JlYXRlZCBieSB0aGlzIGNvbm5lY3Rpb24uXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIik7bGV0IHQ7dGhpcy5fc3RyZWFtcz10aGlzLl9zdHJlYW1zfHx7fSxPYmplY3Qua2V5cyh0aGlzLl9zdHJlYW1zKS5mb3JFYWNoKChpPT57dGhpcy5fc3RyZWFtc1tpXS5nZXRUcmFja3MoKS5maW5kKCh0PT5lLnRyYWNrPT09dCkpJiYodD10aGlzLl9zdHJlYW1zW2ldKX0pKSx0JiYoMT09PXQuZ2V0VHJhY2tzKCkubGVuZ3RoP3RoaXMucmVtb3ZlU3RyZWFtKHRoaXMuX3JldmVyc2VTdHJlYW1zW3QuaWRdKTp0LnJlbW92ZVRyYWNrKGUudHJhY2spLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJuZWdvdGlhdGlvbm5lZWRlZFwiKSkpfX1mdW5jdGlvbiBLUyhlLHQpeyFlLlJUQ1BlZXJDb25uZWN0aW9uJiZlLndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uJiYoZS5SVENQZWVyQ29ubmVjdGlvbj1lLndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKSxlLlJUQ1BlZXJDb25uZWN0aW9uJiZ0LnZlcnNpb248NTMmJltcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsXCJhZGRJY2VDYW5kaWRhdGVcIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XSxuPXtbdF0oKXtyZXR1cm4gYXJndW1lbnRzWzBdPW5ldyhcImFkZEljZUNhbmRpZGF0ZVwiPT09dD9lLlJUQ0ljZUNhbmRpZGF0ZTplLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbikoYXJndW1lbnRzWzBdKSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19O2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdPW5bdF19KSl9ZnVuY3Rpb24gWVMoZSx0KXtiUyhlLFwibmVnb3RpYXRpb25uZWVkZWRcIiwoZT0+e2NvbnN0IGk9ZS50YXJnZXQ7aWYoISh0LnZlcnNpb248NzJ8fGkuZ2V0Q29uZmlndXJhdGlvbiYmXCJwbGFuLWJcIj09PWkuZ2V0Q29uZmlndXJhdGlvbigpLnNkcFNlbWFudGljcyl8fFwic3RhYmxlXCI9PT1pLnNpZ25hbGluZ1N0YXRlKXJldHVybiBlfSkpfXZhciB6Uz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxmaXhOZWdvdGlhdGlvbk5lZWRlZDpZUyxzaGltQWRkVHJhY2tSZW1vdmVUcmFjazpIUyxzaGltQWRkVHJhY2tSZW1vdmVUcmFja1dpdGhOYXRpdmU6V1Msc2hpbUdldERpc3BsYXlNZWRpYTpmdW5jdGlvbihlLHQpe2UubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmXCJnZXREaXNwbGF5TWVkaWFcImluIGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8ZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lLm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhPWZ1bmN0aW9uKGkpe3JldHVybiB0KGkpLnRoZW4oKHQ9Pntjb25zdCBuPWkudmlkZW8mJmkudmlkZW8ud2lkdGgscj1pLnZpZGVvJiZpLnZpZGVvLmhlaWdodCxvPWkudmlkZW8mJmkudmlkZW8uZnJhbWVSYXRlO3JldHVybiBpLnZpZGVvPXttYW5kYXRvcnk6e2Nocm9tZU1lZGlhU291cmNlOlwiZGVza3RvcFwiLGNocm9tZU1lZGlhU291cmNlSWQ6dCxtYXhGcmFtZVJhdGU6b3x8M319LG4mJihpLnZpZGVvLm1hbmRhdG9yeS5tYXhXaWR0aD1uKSxyJiYoaS52aWRlby5tYW5kYXRvcnkubWF4SGVpZ2h0PXIpLGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoaSl9KSl9OmNvbnNvbGUuZXJyb3IoXCJzaGltR2V0RGlzcGxheU1lZGlhOiBnZXRTb3VyY2VJZCBhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvblwiKSl9LHNoaW1HZXRTZW5kZXJzV2l0aER0bWY6QlMsc2hpbUdldFN0YXRzOmpTLHNoaW1HZXRVc2VyTWVkaWE6VlMsc2hpbU1lZGlhU3RyZWFtOnhTLHNoaW1PblRyYWNrOkZTLHNoaW1QZWVyQ29ubmVjdGlvbjpLUyxzaGltU2VuZGVyUmVjZWl2ZXJHZXRTdGF0czpHU30pO2Z1bmN0aW9uIHFTKGUsdCl7Y29uc3QgaT1lJiZlLm5hdmlnYXRvcixuPWUmJmUuTWVkaWFTdHJlYW1UcmFjaztpZihpLmdldFVzZXJNZWRpYT1mdW5jdGlvbihlLHQsbil7RFMoXCJuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhXCIsXCJuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYVwiKSxpLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZSkudGhlbih0LG4pfSwhKHQudmVyc2lvbj41NSYmXCJhdXRvR2FpbkNvbnRyb2xcImluIGkubWVkaWFEZXZpY2VzLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzKCkpKXtjb25zdCBlPWZ1bmN0aW9uKGUsdCxpKXt0IGluIGUmJiEoaSBpbiBlKSYmKGVbaV09ZVt0XSxkZWxldGUgZVt0XSl9LHQ9aS5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQoaS5tZWRpYURldmljZXMpO2lmKGkubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbihpKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgaSYmXCJvYmplY3RcIj09dHlwZW9mIGkuYXVkaW8mJihpPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaSkpLGUoaS5hdWRpbyxcImF1dG9HYWluQ29udHJvbFwiLFwibW96QXV0b0dhaW5Db250cm9sXCIpLGUoaS5hdWRpbyxcIm5vaXNlU3VwcHJlc3Npb25cIixcIm1vek5vaXNlU3VwcHJlc3Npb25cIikpLHQoaSl9LG4mJm4ucHJvdG90eXBlLmdldFNldHRpbmdzKXtjb25zdCB0PW4ucHJvdG90eXBlLmdldFNldHRpbmdzO24ucHJvdG90eXBlLmdldFNldHRpbmdzPWZ1bmN0aW9uKCl7Y29uc3QgaT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZShpLFwibW96QXV0b0dhaW5Db250cm9sXCIsXCJhdXRvR2FpbkNvbnRyb2xcIiksZShpLFwibW96Tm9pc2VTdXBwcmVzc2lvblwiLFwibm9pc2VTdXBwcmVzc2lvblwiKSxpfX1pZihuJiZuLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzKXtjb25zdCB0PW4ucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHM7bi5wcm90b3R5cGUuYXBwbHlDb25zdHJhaW50cz1mdW5jdGlvbihpKXtyZXR1cm5cImF1ZGlvXCI9PT10aGlzLmtpbmQmJlwib2JqZWN0XCI9PXR5cGVvZiBpJiYoaT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGkpKSxlKGksXCJhdXRvR2FpbkNvbnRyb2xcIixcIm1vekF1dG9HYWluQ29udHJvbFwiKSxlKGksXCJub2lzZVN1cHByZXNzaW9uXCIsXCJtb3pOb2lzZVN1cHByZXNzaW9uXCIpKSx0LmFwcGx5KHRoaXMsW2ldKX19fX1mdW5jdGlvbiBYUyhlKXtcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENUcmFja0V2ZW50JiZcInJlY2VpdmVyXCJpbiBlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlJiYhKFwidHJhbnNjZWl2ZXJcImluIGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSxcInRyYW5zY2VpdmVyXCIse2dldCgpe3JldHVybntyZWNlaXZlcjp0aGlzLnJlY2VpdmVyfX19KX1mdW5jdGlvbiBKUyhlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHwhZS5SVENQZWVyQ29ubmVjdGlvbiYmIWUubW96UlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuOyFlLlJUQ1BlZXJDb25uZWN0aW9uJiZlLm1velJUQ1BlZXJDb25uZWN0aW9uJiYoZS5SVENQZWVyQ29ubmVjdGlvbj1lLm1velJUQ1BlZXJDb25uZWN0aW9uKSx0LnZlcnNpb248NTMmJltcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsXCJhZGRJY2VDYW5kaWRhdGVcIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XSxuPXtbdF0oKXtyZXR1cm4gYXJndW1lbnRzWzBdPW5ldyhcImFkZEljZUNhbmRpZGF0ZVwiPT09dD9lLlJUQ0ljZUNhbmRpZGF0ZTplLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbikoYXJndW1lbnRzWzBdKSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19O2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdPW5bdF19KSk7Y29uc3QgaT17aW5ib3VuZHJ0cDpcImluYm91bmQtcnRwXCIsb3V0Ym91bmRydHA6XCJvdXRib3VuZC1ydHBcIixjYW5kaWRhdGVwYWlyOlwiY2FuZGlkYXRlLXBhaXJcIixsb2NhbGNhbmRpZGF0ZTpcImxvY2FsLWNhbmRpZGF0ZVwiLHJlbW90ZWNhbmRpZGF0ZTpcInJlbW90ZS1jYW5kaWRhdGVcIn0sbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2NvbnN0W2UscixvXT1hcmd1bWVudHM7cmV0dXJuIG4uYXBwbHkodGhpcyxbZXx8bnVsbF0pLnRoZW4oKGU9PntpZih0LnZlcnNpb248NTMmJiFyKXRyeXtlLmZvckVhY2goKGU9PntlLnR5cGU9aVtlLnR5cGVdfHxlLnR5cGV9KSl9Y2F0Y2godCl7aWYoXCJUeXBlRXJyb3JcIiE9PXQubmFtZSl0aHJvdyB0O2UuZm9yRWFjaCgoKHQsbik9PntlLnNldChuLE9iamVjdC5hc3NpZ24oe30sdCx7dHlwZTppW3QudHlwZV18fHQudHlwZX0pKX0pKX1yZXR1cm4gZX0pKS50aGVuKHIsbyl9fWZ1bmN0aW9uIFFTKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHwhZS5SVENQZWVyQ29ubmVjdGlvbnx8IWUuUlRDUnRwU2VuZGVyKXJldHVybjtpZihlLlJUQ1J0cFNlbmRlciYmXCJnZXRTdGF0c1wiaW4gZS5SVENSdHBTZW5kZXIucHJvdG90eXBlKXJldHVybjtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM7dCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtjb25zdCBlPXQuYXBwbHkodGhpcyxbXSk7cmV0dXJuIGUuZm9yRWFjaCgoZT0+ZS5fcGM9dGhpcykpLGV9KTtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO2kmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbigpe2NvbnN0IGU9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUuX3BjPXRoaXMsZX0pLGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYWNrP3RoaXMuX3BjLmdldFN0YXRzKHRoaXMudHJhY2spOnJwLnJlc29sdmUobmV3IE1hcCl9fWZ1bmN0aW9uIFpTKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHwhZS5SVENQZWVyQ29ubmVjdGlvbnx8IWUuUlRDUnRwU2VuZGVyKXJldHVybjtpZihlLlJUQ1J0cFNlbmRlciYmXCJnZXRTdGF0c1wiaW4gZS5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUpcmV0dXJuO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzO3QmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM9ZnVuY3Rpb24oKXtjb25zdCBlPXQuYXBwbHkodGhpcyxbXSk7cmV0dXJuIGUuZm9yRWFjaCgoZT0+ZS5fcGM9dGhpcykpLGV9KSxiUyhlLFwidHJhY2tcIiwoZT0+KGUucmVjZWl2ZXIuX3BjPWUuc3JjRWxlbWVudCxlKSkpLGUuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKHRoaXMudHJhY2spfX1mdW5jdGlvbiAkUyhlKXtlLlJUQ1BlZXJDb25uZWN0aW9uJiYhKFwicmVtb3ZlU3RyZWFtXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7RFMoXCJyZW1vdmVTdHJlYW1cIixcInJlbW92ZVRyYWNrXCIpLHRoaXMuZ2V0U2VuZGVycygpLmZvckVhY2goKHQ9Pnt2YXIgaTt0LnRyYWNrJiZMbihpPWUuZ2V0VHJhY2tzKCkpLmNhbGwoaSx0LnRyYWNrKSYmdGhpcy5yZW1vdmVUcmFjayh0KX0pKX0pfWZ1bmN0aW9uIGVnKGUpe2UuRGF0YUNoYW5uZWwmJiFlLlJUQ0RhdGFDaGFubmVsJiYoZS5SVENEYXRhQ2hhbm5lbD1lLkRhdGFDaGFubmVsKX1mdW5jdGlvbiB0ZyhlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXI7dCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYW5zY2VpdmVyPWZ1bmN0aW9uKCl7dGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXM9W107bGV0IGU9YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0uc2VuZEVuY29kaW5nczt2b2lkIDA9PT1lJiYoZT1bXSksZT1bLi4uZV07Y29uc3QgaT1lLmxlbmd0aD4wO2kmJmUuZm9yRWFjaCgoZT0+e2lmKFwicmlkXCJpbiBlKXtpZighL15bYS16MC05XXswLDE2fSQvaS50ZXN0KGUucmlkKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBSSUQgdmFsdWUgcHJvdmlkZWQuXCIpfWlmKFwic2NhbGVSZXNvbHV0aW9uRG93bkJ5XCJpbiBlJiYhKHBhcnNlRmxvYXQoZS5zY2FsZVJlc29sdXRpb25Eb3duQnkpPj0xKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNjYWxlX3Jlc29sdXRpb25fZG93bl9ieSBtdXN0IGJlID49IDEuMFwiKTtpZihcIm1heEZyYW1lcmF0ZVwiaW4gZSYmIShwYXJzZUZsb2F0KGUubWF4RnJhbWVyYXRlKT49MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJtYXhfZnJhbWVyYXRlIG11c3QgYmUgPj0gMC4wXCIpfSkpO2NvbnN0IG49dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoaSl7Y29uc3R7c2VuZGVyOnR9PW4saT10LmdldFBhcmFtZXRlcnMoKTsoIShcImVuY29kaW5nc1wiaW4gaSl8fDE9PT1pLmVuY29kaW5ncy5sZW5ndGgmJjA9PT1PYmplY3Qua2V5cyhpLmVuY29kaW5nc1swXSkubGVuZ3RoKSYmKGkuZW5jb2RpbmdzPWUsdC5zZW5kRW5jb2RpbmdzPWUsdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMucHVzaCh0LnNldFBhcmFtZXRlcnMoaSkudGhlbigoKCk9PntkZWxldGUgdC5zZW5kRW5jb2RpbmdzfSkpLmNhdGNoKCgoKT0+e2RlbGV0ZSB0LnNlbmRFbmNvZGluZ3N9KSkpKX1yZXR1cm4gbn0pfWZ1bmN0aW9uIGlnKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHwhZS5SVENSdHBTZW5kZXIpcmV0dXJuO2NvbnN0IHQ9ZS5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFBhcmFtZXRlcnM7dCYmKGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7Y29uc3QgZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm5cImVuY29kaW5nc1wiaW4gZXx8KGUuZW5jb2RpbmdzPVtdLmNvbmNhdCh0aGlzLnNlbmRFbmNvZGluZ3N8fFt7fV0pKSxlfSl9ZnVuY3Rpb24gbmcoZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzJiZ0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcy5sZW5ndGg/cnAuYWxsKHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzKS50aGVuKCgoKT0+dC5hcHBseSh0aGlzLGFyZ3VtZW50cykpKS5maW5hbGx5KCgoKT0+e3RoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzPVtdfSkpOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiByZyhlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcyYmdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMubGVuZ3RoP3JwLmFsbCh0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcykudGhlbigoKCk9PnQuYXBwbHkodGhpcyxhcmd1bWVudHMpKSkuZmluYWxseSgoKCk9Pnt0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcz1bXX0pKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19dmFyIG9nPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHNoaW1BZGRUcmFuc2NlaXZlcjp0ZyxzaGltQ3JlYXRlQW5zd2VyOnJnLHNoaW1DcmVhdGVPZmZlcjpuZyxzaGltR2V0RGlzcGxheU1lZGlhOmZ1bmN0aW9uKGUsdCl7ZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZcImdldERpc3BsYXlNZWRpYVwiaW4gZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHxlLm5hdmlnYXRvci5tZWRpYURldmljZXMmJihlLm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhPWZ1bmN0aW9uKGkpe2lmKCFpfHwhaS52aWRlbyl7Y29uc3QgZT1uZXcgRE9NRXhjZXB0aW9uKFwiZ2V0RGlzcGxheU1lZGlhIHdpdGhvdXQgdmlkZW8gY29uc3RyYWludHMgaXMgdW5kZWZpbmVkXCIpO3JldHVybiBlLm5hbWU9XCJOb3RGb3VuZEVycm9yXCIsZS5jb2RlPTgscnAucmVqZWN0KGUpfXJldHVybiEwPT09aS52aWRlbz9pLnZpZGVvPXttZWRpYVNvdXJjZTp0fTppLnZpZGVvLm1lZGlhU291cmNlPXQsZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShpKX0pfSxzaGltR2V0UGFyYW1ldGVyczppZyxzaGltR2V0VXNlck1lZGlhOnFTLHNoaW1PblRyYWNrOlhTLHNoaW1QZWVyQ29ubmVjdGlvbjpKUyxzaGltUlRDRGF0YUNoYW5uZWw6ZWcsc2hpbVJlY2VpdmVyR2V0U3RhdHM6WlMsc2hpbVJlbW92ZVN0cmVhbTokUyxzaGltU2VuZGVyR2V0U3RhdHM6UVN9KTtmdW5jdGlvbiBzZyhlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENQZWVyQ29ubmVjdGlvbil7aWYoXCJnZXRMb2NhbFN0cmVhbXNcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHwoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2FsU3RyZWFtc3x8KHRoaXMuX2xvY2FsU3RyZWFtcz1bXSksdGhpcy5fbG9jYWxTdHJlYW1zfSksIShcImFkZFN0cmVhbVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKXtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihlKXt2YXIgaTt0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pLExuKGk9dGhpcy5fbG9jYWxTdHJlYW1zKS5jYWxsKGksZSl8fHRoaXMuX2xvY2FsU3RyZWFtcy5wdXNoKGUpLGUuZ2V0QXVkaW9UcmFja3MoKS5mb3JFYWNoKChpPT50LmNhbGwodGhpcyxpLGUpKSksZS5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goKGk9PnQuY2FsbCh0aGlzLGksZSkpKX0sZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSl7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaT4xP2ktMTowKSxyPTE7cjxpO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBuJiZuLmZvckVhY2goKGU9Pnt2YXIgdDt0aGlzLl9sb2NhbFN0cmVhbXM/TG4odD10aGlzLl9sb2NhbFN0cmVhbXMpLmNhbGwodCxlKXx8dGhpcy5fbG9jYWxTdHJlYW1zLnB1c2goZSk6dGhpcy5fbG9jYWxTdHJlYW1zPVtlXX0pKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19XCJyZW1vdmVTdHJlYW1cImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHwoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuX2xvY2FsU3RyZWFtc3x8KHRoaXMuX2xvY2FsU3RyZWFtcz1bXSk7Y29uc3QgdD10aGlzLl9sb2NhbFN0cmVhbXMuaW5kZXhPZihlKTtpZigtMT09PXQpcmV0dXJuO3RoaXMuX2xvY2FsU3RyZWFtcy5zcGxpY2UodCwxKTtjb25zdCBpPWUuZ2V0VHJhY2tzKCk7dGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaCgoZT0+e0xuKGkpLmNhbGwoaSxlLnRyYWNrKSYmdGhpcy5yZW1vdmVUcmFjayhlKX0pKX0pfX1mdW5jdGlvbiBhZyhlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmKFwiZ2V0UmVtb3RlU3RyZWFtc1wiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fChlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZW1vdGVTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbW90ZVN0cmVhbXM/dGhpcy5fcmVtb3RlU3RyZWFtczpbXX0pLCEoXCJvbmFkZHN0cmVhbVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib25hZGRzdHJlYW1cIix7Z2V0KCl7cmV0dXJuIHRoaXMuX29uYWRkc3RyZWFtfSxzZXQoZSl7dGhpcy5fb25hZGRzdHJlYW0mJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbmFkZHN0cmVhbSksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbmFkZHN0cmVhbXBvbHkpKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbmFkZHN0cmVhbT1lKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29uYWRkc3RyZWFtcG9seT1lPT57ZS5zdHJlYW1zLmZvckVhY2goKGU9Pnt2YXIgdDtpZih0aGlzLl9yZW1vdGVTdHJlYW1zfHwodGhpcy5fcmVtb3RlU3RyZWFtcz1bXSksTG4odD10aGlzLl9yZW1vdGVTdHJlYW1zKS5jYWxsKHQsZSkpcmV0dXJuO3RoaXMuX3JlbW90ZVN0cmVhbXMucHVzaChlKTtjb25zdCBpPW5ldyBFdmVudChcImFkZHN0cmVhbVwiKTtpLnN0cmVhbT1lLHRoaXMuZGlzcGF0Y2hFdmVudChpKX0pKX0pfX0pO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXM7cmV0dXJuIHRoaXMuX29uYWRkc3RyZWFtcG9seXx8dGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbmFkZHN0cmVhbXBvbHk9ZnVuY3Rpb24odCl7dC5zdHJlYW1zLmZvckVhY2goKHQ9PntpZihlLl9yZW1vdGVTdHJlYW1zfHwoZS5fcmVtb3RlU3RyZWFtcz1bXSksZS5fcmVtb3RlU3RyZWFtcy5pbmRleE9mKHQpPj0wKXJldHVybjtlLl9yZW1vdGVTdHJlYW1zLnB1c2godCk7Y29uc3QgaT1uZXcgRXZlbnQoXCJhZGRzdHJlYW1cIik7aS5zdHJlYW09dCxlLmRpc3BhdGNoRXZlbnQoaSl9KSl9KSx0LmFwcGx5KGUsYXJndW1lbnRzKX19fWZ1bmN0aW9uIGNnKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHwhZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxpPXQuY3JlYXRlT2ZmZXIsbj10LmNyZWF0ZUFuc3dlcixyPXQuc2V0TG9jYWxEZXNjcmlwdGlvbixvPXQuc2V0UmVtb3RlRGVzY3JpcHRpb24scz10LmFkZEljZUNhbmRpZGF0ZTt0LmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1hcmd1bWVudHMubGVuZ3RoPj0yP2FyZ3VtZW50c1syXTphcmd1bWVudHNbMF0scj1pLmFwcGx5KHRoaXMsW25dKTtyZXR1cm4gdD8oci50aGVuKGUsdCkscnAucmVzb2x2ZSgpKTpyfSx0LmNyZWF0ZUFuc3dlcj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9YXJndW1lbnRzLmxlbmd0aD49Mj9hcmd1bWVudHNbMl06YXJndW1lbnRzWzBdLHI9bi5hcHBseSh0aGlzLFtpXSk7cmV0dXJuIHQ/KHIudGhlbihlLHQpLHJwLnJlc29sdmUoKSk6cn07bGV0IGE9ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49ci5hcHBseSh0aGlzLFtlXSk7cmV0dXJuIGk/KG4udGhlbih0LGkpLHJwLnJlc29sdmUoKSk6bn07dC5zZXRMb2NhbERlc2NyaXB0aW9uPWEsYT1mdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1vLmFwcGx5KHRoaXMsW2VdKTtyZXR1cm4gaT8obi50aGVuKHQsaSkscnAucmVzb2x2ZSgpKTpufSx0LnNldFJlbW90ZURlc2NyaXB0aW9uPWEsYT1mdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1zLmFwcGx5KHRoaXMsW2VdKTtyZXR1cm4gaT8obi50aGVuKHQsaSkscnAucmVzb2x2ZSgpKTpufSx0LmFkZEljZUNhbmRpZGF0ZT1hfWZ1bmN0aW9uIGRnKGUpe2NvbnN0IHQ9ZSYmZS5uYXZpZ2F0b3I7aWYodC5tZWRpYURldmljZXMmJnQubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSl7Y29uc3QgZT10Lm1lZGlhRGV2aWNlcyxpPWUuZ2V0VXNlck1lZGlhLmJpbmQoZSk7dC5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWU9PmkobGcoZSkpfSF0LmdldFVzZXJNZWRpYSYmdC5tZWRpYURldmljZXMmJnQubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSYmKHQuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUsaSxuKXt0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZSkudGhlbihpLG4pfS5iaW5kKHQpKX1mdW5jdGlvbiBsZyhlKXtyZXR1cm4gZSYmdm9pZCAwIT09ZS52aWRlbz9PYmplY3QuYXNzaWduKHt9LGUse3ZpZGVvOkxTKGUudmlkZW8pfSk6ZX1mdW5jdGlvbiB1ZyhlKXtpZighZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24oZSxpKXtpZihlJiZlLmljZVNlcnZlcnMpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlLmljZVNlcnZlcnMubGVuZ3RoO2krKyl7bGV0IG49ZS5pY2VTZXJ2ZXJzW2ldOyFuLmhhc093blByb3BlcnR5KFwidXJsc1wiKSYmbi5oYXNPd25Qcm9wZXJ0eShcInVybFwiKT8oRFMoXCJSVENJY2VTZXJ2ZXIudXJsXCIsXCJSVENJY2VTZXJ2ZXIudXJsc1wiKSxuPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobikpLG4udXJscz1uLnVybCxkZWxldGUgbi51cmwsdC5wdXNoKG4pKTp0LnB1c2goZS5pY2VTZXJ2ZXJzW2ldKX1lLmljZVNlcnZlcnM9dH1yZXR1cm4gbmV3IHQoZSxpKX0sZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGU9dC5wcm90b3R5cGUsXCJnZW5lcmF0ZUNlcnRpZmljYXRlXCJpbiB0JiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENQZWVyQ29ubmVjdGlvbixcImdlbmVyYXRlQ2VydGlmaWNhdGVcIix7Z2V0OigpPT50LmdlbmVyYXRlQ2VydGlmaWNhdGV9KX1mdW5jdGlvbiBoZyhlKXtcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENUcmFja0V2ZW50JiZcInJlY2VpdmVyXCJpbiBlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlJiYhKFwidHJhbnNjZWl2ZXJcImluIGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSxcInRyYW5zY2VpdmVyXCIse2dldCgpe3JldHVybntyZWNlaXZlcjp0aGlzLnJlY2VpdmVyfX19KX1mdW5jdGlvbiBwZyhlKXtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKGUpe2lmKGUpe3ZvaWQgMCE9PWUub2ZmZXJUb1JlY2VpdmVBdWRpbyYmKGUub2ZmZXJUb1JlY2VpdmVBdWRpbz0hIWUub2ZmZXJUb1JlY2VpdmVBdWRpbyk7Y29uc3QgdD10aGlzLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PlwiYXVkaW9cIj09PWUucmVjZWl2ZXIudHJhY2sua2luZCkpOyExPT09ZS5vZmZlclRvUmVjZWl2ZUF1ZGlvJiZ0P1wic2VuZHJlY3ZcIj09PXQuZGlyZWN0aW9uP3Quc2V0RGlyZWN0aW9uP3Quc2V0RGlyZWN0aW9uKFwic2VuZG9ubHlcIik6dC5kaXJlY3Rpb249XCJzZW5kb25seVwiOlwicmVjdm9ubHlcIj09PXQuZGlyZWN0aW9uJiYodC5zZXREaXJlY3Rpb24/dC5zZXREaXJlY3Rpb24oXCJpbmFjdGl2ZVwiKTp0LmRpcmVjdGlvbj1cImluYWN0aXZlXCIpOiEwIT09ZS5vZmZlclRvUmVjZWl2ZUF1ZGlvfHx0fHx0aGlzLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pLHZvaWQgMCE9PWUub2ZmZXJUb1JlY2VpdmVWaWRlbyYmKGUub2ZmZXJUb1JlY2VpdmVWaWRlbz0hIWUub2ZmZXJUb1JlY2VpdmVWaWRlbyk7Y29uc3QgaT10aGlzLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PlwidmlkZW9cIj09PWUucmVjZWl2ZXIudHJhY2sua2luZCkpOyExPT09ZS5vZmZlclRvUmVjZWl2ZVZpZGVvJiZpP1wic2VuZHJlY3ZcIj09PWkuZGlyZWN0aW9uP2kuc2V0RGlyZWN0aW9uP2kuc2V0RGlyZWN0aW9uKFwic2VuZG9ubHlcIik6aS5kaXJlY3Rpb249XCJzZW5kb25seVwiOlwicmVjdm9ubHlcIj09PWkuZGlyZWN0aW9uJiYoaS5zZXREaXJlY3Rpb24/aS5zZXREaXJlY3Rpb24oXCJpbmFjdGl2ZVwiKTppLmRpcmVjdGlvbj1cImluYWN0aXZlXCIpOiEwIT09ZS5vZmZlclRvUmVjZWl2ZVZpZGVvfHxpfHx0aGlzLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gX2coZSl7XCJvYmplY3RcIiE9dHlwZW9mIGV8fGUuQXVkaW9Db250ZXh0fHwoZS5BdWRpb0NvbnRleHQ9ZS53ZWJraXRBdWRpb0NvbnRleHQpfXZhciBFZz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxzaGltQXVkaW9Db250ZXh0Ol9nLHNoaW1DYWxsYmFja3NBUEk6Y2csc2hpbUNvbnN0cmFpbnRzOmxnLHNoaW1DcmVhdGVPZmZlckxlZ2FjeTpwZyxzaGltR2V0VXNlck1lZGlhOmRnLHNoaW1Mb2NhbFN0cmVhbXNBUEk6c2csc2hpbVJUQ0ljZVNlcnZlclVybHM6dWcsc2hpbVJlbW90ZVN0cmVhbXNBUEk6YWcsc2hpbVRyYWNrRXZlbnRUcmFuc2NlaXZlcjpoZ30pLG1nPVwiXFx0XFxuXFx2XFxmXFxyIMKg4ZqA4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXFx1MjAyOFxcdTIwMjlcXHVmZWZmXCIsZmc9eixTZz1TbixnZz1tZyxUZz1kKFwiXCIucmVwbGFjZSksUmc9UmVnRXhwKFwiXltcIitnZytcIl0rXCIpLENnPVJlZ0V4cChcIihefFteXCIrZ2crXCJdKVtcIitnZytcIl0rJFwiKSx2Zz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9U2coZmcodCkpO3JldHVybiAxJmUmJihpPVRnKGksUmcsXCJcIikpLDImZSYmKGk9VGcoaSxDZyxcIiQxXCIpKSxpfX0seWc9e3N0YXJ0OnZnKDEpLGVuZDp2ZygyKSx0cmltOnZnKDMpfSxJZz1SYS5QUk9QRVIsQWc9bixiZz1tZyx3Zz15Zy50cmltO09pKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIEFnKChmdW5jdGlvbigpe3JldHVybiEhYmdbZV0oKXx8XCLigIvCheGgjlwiIT09XCLigIvCheGgjlwiW2VdKCl8fElnJiZiZ1tlXS5uYW1lIT09ZX0pKX0oXCJ0cmltXCIpfSx7dHJpbTpmdW5jdGlvbigpe3JldHVybiB3Zyh0aGlzKX19KTt2YXIgT2c9WmkoXCJTdHJpbmdcIixcInRyaW1cIiksTmc9bCxEZz1PZyxQZz1TdHJpbmcucHJvdG90eXBlLExnPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHJpbTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8ZT09PVBnfHxOZyhQZyxlKSYmdD09PVBnLnRyaW0/RGc6dH0sa2c9aShMZyksTWc9e2V4cG9ydHM6e319OyFmdW5jdGlvbihlKXtjb25zdCB0PXtnZW5lcmF0ZUlkZW50aWZpZXI6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTIpfX07dC5sb2NhbENOYW1lPXQuZ2VuZXJhdGVJZGVudGlmaWVyKCksdC5zcGxpdExpbmVzPWZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKS5zcGxpdChcIlxcblwiKS5tYXAoKGU9PmUudHJpbSgpKSl9LHQuc3BsaXRTZWN0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIlxcbm09XCIpLm1hcCgoKGUsdCk9Pih0PjA/XCJtPVwiK2U6ZSkudHJpbSgpK1wiXFxyXFxuXCIpKX0sdC5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbihlKXtjb25zdCBpPXQuc3BsaXRTZWN0aW9ucyhlKTtyZXR1cm4gaSYmaVswXX0sdC5nZXRNZWRpYVNlY3Rpb25zPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5zcGxpdFNlY3Rpb25zKGUpO3JldHVybiBpLnNoaWZ0KCksaX0sdC5tYXRjaFByZWZpeD1mdW5jdGlvbihlLGkpe3JldHVybiB0LnNwbGl0TGluZXMoZSkuZmlsdGVyKChlPT4wPT09ZS5pbmRleE9mKGkpKSl9LHQucGFyc2VDYW5kaWRhdGU9ZnVuY3Rpb24oZSl7bGV0IHQ7dD0wPT09ZS5pbmRleE9mKFwiYT1jYW5kaWRhdGU6XCIpP2Uuc3Vic3RyaW5nKDEyKS5zcGxpdChcIiBcIik6ZS5zdWJzdHJpbmcoMTApLnNwbGl0KFwiIFwiKTtjb25zdCBpPXtmb3VuZGF0aW9uOnRbMF0sY29tcG9uZW50OnsxOlwicnRwXCIsMjpcInJ0Y3BcIn1bdFsxXV18fHRbMV0scHJvdG9jb2w6dFsyXS50b0xvd2VyQ2FzZSgpLHByaW9yaXR5OnBhcnNlSW50KHRbM10sMTApLGlwOnRbNF0sYWRkcmVzczp0WzRdLHBvcnQ6cGFyc2VJbnQodFs1XSwxMCksdHlwZTp0WzddfTtmb3IobGV0IGU9ODtlPHQubGVuZ3RoO2UrPTIpc3dpdGNoKHRbZV0pe2Nhc2VcInJhZGRyXCI6aS5yZWxhdGVkQWRkcmVzcz10W2UrMV07YnJlYWs7Y2FzZVwicnBvcnRcIjppLnJlbGF0ZWRQb3J0PXBhcnNlSW50KHRbZSsxXSwxMCk7YnJlYWs7Y2FzZVwidGNwdHlwZVwiOmkudGNwVHlwZT10W2UrMV07YnJlYWs7Y2FzZVwidWZyYWdcIjppLnVmcmFnPXRbZSsxXSxpLnVzZXJuYW1lRnJhZ21lbnQ9dFtlKzFdO2JyZWFrO2RlZmF1bHQ6dm9pZCAwPT09aVt0W2VdXSYmKGlbdFtlXV09dFtlKzFdKX1yZXR1cm4gaX0sdC53cml0ZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtjb25zdCB0PVtdO3QucHVzaChlLmZvdW5kYXRpb24pO2NvbnN0IGk9ZS5jb21wb25lbnQ7XCJydHBcIj09PWk/dC5wdXNoKDEpOlwicnRjcFwiPT09aT90LnB1c2goMik6dC5wdXNoKGkpLHQucHVzaChlLnByb3RvY29sLnRvVXBwZXJDYXNlKCkpLHQucHVzaChlLnByaW9yaXR5KSx0LnB1c2goZS5hZGRyZXNzfHxlLmlwKSx0LnB1c2goZS5wb3J0KTtjb25zdCBuPWUudHlwZTtyZXR1cm4gdC5wdXNoKFwidHlwXCIpLHQucHVzaChuKSxcImhvc3RcIiE9PW4mJmUucmVsYXRlZEFkZHJlc3MmJmUucmVsYXRlZFBvcnQmJih0LnB1c2goXCJyYWRkclwiKSx0LnB1c2goZS5yZWxhdGVkQWRkcmVzcyksdC5wdXNoKFwicnBvcnRcIiksdC5wdXNoKGUucmVsYXRlZFBvcnQpKSxlLnRjcFR5cGUmJlwidGNwXCI9PT1lLnByb3RvY29sLnRvTG93ZXJDYXNlKCkmJih0LnB1c2goXCJ0Y3B0eXBlXCIpLHQucHVzaChlLnRjcFR5cGUpKSwoZS51c2VybmFtZUZyYWdtZW50fHxlLnVmcmFnKSYmKHQucHVzaChcInVmcmFnXCIpLHQucHVzaChlLnVzZXJuYW1lRnJhZ21lbnR8fGUudWZyYWcpKSxcImNhbmRpZGF0ZTpcIit0LmpvaW4oXCIgXCIpfSx0LnBhcnNlSWNlT3B0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gZS5zdWJzdHJpbmcoMTQpLnNwbGl0KFwiIFwiKX0sdC5wYXJzZVJ0cE1hcD1mdW5jdGlvbihlKXtsZXQgdD1lLnN1YnN0cmluZyg5KS5zcGxpdChcIiBcIik7Y29uc3QgaT17cGF5bG9hZFR5cGU6cGFyc2VJbnQodC5zaGlmdCgpLDEwKX07cmV0dXJuIHQ9dFswXS5zcGxpdChcIi9cIiksaS5uYW1lPXRbMF0saS5jbG9ja1JhdGU9cGFyc2VJbnQodFsxXSwxMCksaS5jaGFubmVscz0zPT09dC5sZW5ndGg/cGFyc2VJbnQodFsyXSwxMCk6MSxpLm51bUNoYW5uZWxzPWkuY2hhbm5lbHMsaX0sdC53cml0ZVJ0cE1hcD1mdW5jdGlvbihlKXtsZXQgdD1lLnBheWxvYWRUeXBlO3ZvaWQgMCE9PWUucHJlZmVycmVkUGF5bG9hZFR5cGUmJih0PWUucHJlZmVycmVkUGF5bG9hZFR5cGUpO2NvbnN0IGk9ZS5jaGFubmVsc3x8ZS5udW1DaGFubmVsc3x8MTtyZXR1cm5cImE9cnRwbWFwOlwiK3QrXCIgXCIrZS5uYW1lK1wiL1wiK2UuY2xvY2tSYXRlKygxIT09aT9cIi9cIitpOlwiXCIpK1wiXFxyXFxuXCJ9LHQucGFyc2VFeHRtYXA9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnN1YnN0cmluZyg5KS5zcGxpdChcIiBcIik7cmV0dXJue2lkOnBhcnNlSW50KHRbMF0sMTApLGRpcmVjdGlvbjp0WzBdLmluZGV4T2YoXCIvXCIpPjA/dFswXS5zcGxpdChcIi9cIilbMV06XCJzZW5kcmVjdlwiLHVyaTp0WzFdLGF0dHJpYnV0ZXM6dC5zbGljZSgyKS5qb2luKFwiIFwiKX19LHQud3JpdGVFeHRtYXA9ZnVuY3Rpb24oZSl7cmV0dXJuXCJhPWV4dG1hcDpcIisoZS5pZHx8ZS5wcmVmZXJyZWRJZCkrKGUuZGlyZWN0aW9uJiZcInNlbmRyZWN2XCIhPT1lLmRpcmVjdGlvbj9cIi9cIitlLmRpcmVjdGlvbjpcIlwiKStcIiBcIitlLnVyaSsoZS5hdHRyaWJ1dGVzP1wiIFwiK2UuYXR0cmlidXRlczpcIlwiKStcIlxcclxcblwifSx0LnBhcnNlRm10cD1mdW5jdGlvbihlKXtjb25zdCB0PXt9O2xldCBpO2NvbnN0IG49ZS5zdWJzdHJpbmcoZS5pbmRleE9mKFwiIFwiKSsxKS5zcGxpdChcIjtcIik7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspaT1uW2VdLnRyaW0oKS5zcGxpdChcIj1cIiksdFtpWzBdLnRyaW0oKV09aVsxXTtyZXR1cm4gdH0sdC53cml0ZUZtdHA9ZnVuY3Rpb24oZSl7bGV0IHQ9XCJcIixpPWUucGF5bG9hZFR5cGU7aWYodm9pZCAwIT09ZS5wcmVmZXJyZWRQYXlsb2FkVHlwZSYmKGk9ZS5wcmVmZXJyZWRQYXlsb2FkVHlwZSksZS5wYXJhbWV0ZXJzJiZPYmplY3Qua2V5cyhlLnBhcmFtZXRlcnMpLmxlbmd0aCl7Y29uc3Qgbj1bXTtPYmplY3Qua2V5cyhlLnBhcmFtZXRlcnMpLmZvckVhY2goKHQ9Pnt2b2lkIDAhPT1lLnBhcmFtZXRlcnNbdF0/bi5wdXNoKHQrXCI9XCIrZS5wYXJhbWV0ZXJzW3RdKTpuLnB1c2godCl9KSksdCs9XCJhPWZtdHA6XCIraStcIiBcIituLmpvaW4oXCI7XCIpK1wiXFxyXFxuXCJ9cmV0dXJuIHR9LHQucGFyc2VSdGNwRmI9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnN1YnN0cmluZyhlLmluZGV4T2YoXCIgXCIpKzEpLnNwbGl0KFwiIFwiKTtyZXR1cm57dHlwZTp0LnNoaWZ0KCkscGFyYW1ldGVyOnQuam9pbihcIiBcIil9fSx0LndyaXRlUnRjcEZiPWZ1bmN0aW9uKGUpe2xldCB0PVwiXCIsaT1lLnBheWxvYWRUeXBlO3JldHVybiB2b2lkIDAhPT1lLnByZWZlcnJlZFBheWxvYWRUeXBlJiYoaT1lLnByZWZlcnJlZFBheWxvYWRUeXBlKSxlLnJ0Y3BGZWVkYmFjayYmZS5ydGNwRmVlZGJhY2subGVuZ3RoJiZlLnJ0Y3BGZWVkYmFjay5mb3JFYWNoKChlPT57dCs9XCJhPXJ0Y3AtZmI6XCIraStcIiBcIitlLnR5cGUrKGUucGFyYW1ldGVyJiZlLnBhcmFtZXRlci5sZW5ndGg/XCIgXCIrZS5wYXJhbWV0ZXI6XCJcIikrXCJcXHJcXG5cIn0pKSx0fSx0LnBhcnNlU3NyY01lZGlhPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5pbmRleE9mKFwiIFwiKSxpPXtzc3JjOnBhcnNlSW50KGUuc3Vic3RyaW5nKDcsdCksMTApfSxuPWUuaW5kZXhPZihcIjpcIix0KTtyZXR1cm4gbj4tMT8oaS5hdHRyaWJ1dGU9ZS5zdWJzdHJpbmcodCsxLG4pLGkudmFsdWU9ZS5zdWJzdHJpbmcobisxKSk6aS5hdHRyaWJ1dGU9ZS5zdWJzdHJpbmcodCsxKSxpfSx0LnBhcnNlU3NyY0dyb3VwPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5zdWJzdHJpbmcoMTMpLnNwbGl0KFwiIFwiKTtyZXR1cm57c2VtYW50aWNzOnQuc2hpZnQoKSxzc3Jjczp0Lm1hcCgoZT0+cGFyc2VJbnQoZSwxMCkpKX19LHQuZ2V0TWlkPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5tYXRjaFByZWZpeChlLFwiYT1taWQ6XCIpWzBdO2lmKGkpcmV0dXJuIGkuc3Vic3RyaW5nKDYpfSx0LnBhcnNlRmluZ2VycHJpbnQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnN1YnN0cmluZygxNCkuc3BsaXQoXCIgXCIpO3JldHVybnthbGdvcml0aG06dFswXS50b0xvd2VyQ2FzZSgpLHZhbHVlOnRbMV0udG9VcHBlckNhc2UoKX19LHQuZ2V0RHRsc1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSxpKXtyZXR1cm57cm9sZTpcImF1dG9cIixmaW5nZXJwcmludHM6dC5tYXRjaFByZWZpeChlK2ksXCJhPWZpbmdlcnByaW50OlwiKS5tYXAodC5wYXJzZUZpbmdlcnByaW50KX19LHQud3JpdGVEdGxzUGFyYW1ldGVycz1mdW5jdGlvbihlLHQpe2xldCBpPVwiYT1zZXR1cDpcIit0K1wiXFxyXFxuXCI7cmV0dXJuIGUuZmluZ2VycHJpbnRzLmZvckVhY2goKGU9PntpKz1cImE9ZmluZ2VycHJpbnQ6XCIrZS5hbGdvcml0aG0rXCIgXCIrZS52YWx1ZStcIlxcclxcblwifSkpLGl9LHQucGFyc2VDcnlwdG9MaW5lPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5zdWJzdHJpbmcoOSkuc3BsaXQoXCIgXCIpO3JldHVybnt0YWc6cGFyc2VJbnQodFswXSwxMCksY3J5cHRvU3VpdGU6dFsxXSxrZXlQYXJhbXM6dFsyXSxzZXNzaW9uUGFyYW1zOnQuc2xpY2UoMyl9fSx0LndyaXRlQ3J5cHRvTGluZT1mdW5jdGlvbihlKXtyZXR1cm5cImE9Y3J5cHRvOlwiK2UudGFnK1wiIFwiK2UuY3J5cHRvU3VpdGUrXCIgXCIrKFwib2JqZWN0XCI9PXR5cGVvZiBlLmtleVBhcmFtcz90LndyaXRlQ3J5cHRvS2V5UGFyYW1zKGUua2V5UGFyYW1zKTplLmtleVBhcmFtcykrKGUuc2Vzc2lvblBhcmFtcz9cIiBcIitlLnNlc3Npb25QYXJhbXMuam9pbihcIiBcIik6XCJcIikrXCJcXHJcXG5cIn0sdC5wYXJzZUNyeXB0b0tleVBhcmFtcz1mdW5jdGlvbihlKXtpZigwIT09ZS5pbmRleE9mKFwiaW5saW5lOlwiKSlyZXR1cm4gbnVsbDtjb25zdCB0PWUuc3Vic3RyaW5nKDcpLnNwbGl0KFwifFwiKTtyZXR1cm57a2V5TWV0aG9kOlwiaW5saW5lXCIsa2V5U2FsdDp0WzBdLGxpZmVUaW1lOnRbMV0sbWtpVmFsdWU6dFsyXT90WzJdLnNwbGl0KFwiOlwiKVswXTp2b2lkIDAsbWtpTGVuZ3RoOnRbMl0/dFsyXS5zcGxpdChcIjpcIilbMV06dm9pZCAwfX0sdC53cml0ZUNyeXB0b0tleVBhcmFtcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5rZXlNZXRob2QrXCI6XCIrZS5rZXlTYWx0KyhlLmxpZmVUaW1lP1wifFwiK2UubGlmZVRpbWU6XCJcIikrKGUubWtpVmFsdWUmJmUubWtpTGVuZ3RoP1wifFwiK2UubWtpVmFsdWUrXCI6XCIrZS5ta2lMZW5ndGg6XCJcIil9LHQuZ2V0Q3J5cHRvUGFyYW1ldGVycz1mdW5jdGlvbihlLGkpe3JldHVybiB0Lm1hdGNoUHJlZml4KGUraSxcImE9Y3J5cHRvOlwiKS5tYXAodC5wYXJzZUNyeXB0b0xpbmUpfSx0LmdldEljZVBhcmFtZXRlcnM9ZnVuY3Rpb24oZSxpKXtjb25zdCBuPXQubWF0Y2hQcmVmaXgoZStpLFwiYT1pY2UtdWZyYWc6XCIpWzBdLHI9dC5tYXRjaFByZWZpeChlK2ksXCJhPWljZS1wd2Q6XCIpWzBdO3JldHVybiBuJiZyP3t1c2VybmFtZUZyYWdtZW50Om4uc3Vic3RyaW5nKDEyKSxwYXNzd29yZDpyLnN1YnN0cmluZygxMCl9Om51bGx9LHQud3JpdGVJY2VQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe2xldCB0PVwiYT1pY2UtdWZyYWc6XCIrZS51c2VybmFtZUZyYWdtZW50K1wiXFxyXFxuYT1pY2UtcHdkOlwiK2UucGFzc3dvcmQrXCJcXHJcXG5cIjtyZXR1cm4gZS5pY2VMaXRlJiYodCs9XCJhPWljZS1saXRlXFxyXFxuXCIpLHR9LHQucGFyc2VSdHBQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe2NvbnN0IGk9e2NvZGVjczpbXSxoZWFkZXJFeHRlbnNpb25zOltdLGZlY01lY2hhbmlzbXM6W10scnRjcDpbXX0sbj10LnNwbGl0TGluZXMoZSlbMF0uc3BsaXQoXCIgXCIpO2kucHJvZmlsZT1uWzJdO2ZvcihsZXQgcj0zO3I8bi5sZW5ndGg7cisrKXtjb25zdCBvPW5bcl0scz10Lm1hdGNoUHJlZml4KGUsXCJhPXJ0cG1hcDpcIitvK1wiIFwiKVswXTtpZihzKXtjb25zdCBuPXQucGFyc2VSdHBNYXAocykscj10Lm1hdGNoUHJlZml4KGUsXCJhPWZtdHA6XCIrbytcIiBcIik7c3dpdGNoKG4ucGFyYW1ldGVycz1yLmxlbmd0aD90LnBhcnNlRm10cChyWzBdKTp7fSxuLnJ0Y3BGZWVkYmFjaz10Lm1hdGNoUHJlZml4KGUsXCJhPXJ0Y3AtZmI6XCIrbytcIiBcIikubWFwKHQucGFyc2VSdGNwRmIpLGkuY29kZWNzLnB1c2gobiksbi5uYW1lLnRvVXBwZXJDYXNlKCkpe2Nhc2VcIlJFRFwiOmNhc2VcIlVMUEZFQ1wiOmkuZmVjTWVjaGFuaXNtcy5wdXNoKG4ubmFtZS50b1VwcGVyQ2FzZSgpKX19fXQubWF0Y2hQcmVmaXgoZSxcImE9ZXh0bWFwOlwiKS5mb3JFYWNoKChlPT57aS5oZWFkZXJFeHRlbnNpb25zLnB1c2godC5wYXJzZUV4dG1hcChlKSl9KSk7Y29uc3Qgcj10Lm1hdGNoUHJlZml4KGUsXCJhPXJ0Y3AtZmI6KiBcIikubWFwKHQucGFyc2VSdGNwRmIpO3JldHVybiBpLmNvZGVjcy5mb3JFYWNoKChlPT57ci5mb3JFYWNoKCh0PT57ZS5ydGNwRmVlZGJhY2suZmluZCgoZT0+ZS50eXBlPT09dC50eXBlJiZlLnBhcmFtZXRlcj09PXQucGFyYW1ldGVyKSl8fGUucnRjcEZlZWRiYWNrLnB1c2godCl9KSl9KSksaX0sdC53cml0ZVJ0cERlc2NyaXB0aW9uPWZ1bmN0aW9uKGUsaSl7bGV0IG49XCJcIjtuKz1cIm09XCIrZStcIiBcIixuKz1pLmNvZGVjcy5sZW5ndGg+MD9cIjlcIjpcIjBcIixuKz1cIiBcIisoaS5wcm9maWxlfHxcIlVEUC9UTFMvUlRQL1NBVlBGXCIpK1wiIFwiLG4rPWkuY29kZWNzLm1hcCgoZT0+dm9pZCAwIT09ZS5wcmVmZXJyZWRQYXlsb2FkVHlwZT9lLnByZWZlcnJlZFBheWxvYWRUeXBlOmUucGF5bG9hZFR5cGUpKS5qb2luKFwiIFwiKStcIlxcclxcblwiLG4rPVwiYz1JTiBJUDQgMC4wLjAuMFxcclxcblwiLG4rPVwiYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXHJcXG5cIixpLmNvZGVjcy5mb3JFYWNoKChlPT57bis9dC53cml0ZVJ0cE1hcChlKSxuKz10LndyaXRlRm10cChlKSxuKz10LndyaXRlUnRjcEZiKGUpfSkpO2xldCByPTA7cmV0dXJuIGkuY29kZWNzLmZvckVhY2goKGU9PntlLm1heHB0aW1lPnImJihyPWUubWF4cHRpbWUpfSkpLHI+MCYmKG4rPVwiYT1tYXhwdGltZTpcIityK1wiXFxyXFxuXCIpLGkuaGVhZGVyRXh0ZW5zaW9ucyYmaS5oZWFkZXJFeHRlbnNpb25zLmZvckVhY2goKGU9PntuKz10LndyaXRlRXh0bWFwKGUpfSkpLG59LHQucGFyc2VSdHBFbmNvZGluZ1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7Y29uc3QgaT1bXSxuPXQucGFyc2VSdHBQYXJhbWV0ZXJzKGUpLHI9LTEhPT1uLmZlY01lY2hhbmlzbXMuaW5kZXhPZihcIlJFRFwiKSxvPS0xIT09bi5mZWNNZWNoYW5pc21zLmluZGV4T2YoXCJVTFBGRUNcIikscz10Lm1hdGNoUHJlZml4KGUsXCJhPXNzcmM6XCIpLm1hcCgoZT0+dC5wYXJzZVNzcmNNZWRpYShlKSkpLmZpbHRlcigoZT0+XCJjbmFtZVwiPT09ZS5hdHRyaWJ1dGUpKSxhPXMubGVuZ3RoPjAmJnNbMF0uc3NyYztsZXQgYztjb25zdCBkPXQubWF0Y2hQcmVmaXgoZSxcImE9c3NyYy1ncm91cDpGSURcIikubWFwKChlPT5lLnN1YnN0cmluZygxNykuc3BsaXQoXCIgXCIpLm1hcCgoZT0+cGFyc2VJbnQoZSwxMCkpKSkpO2QubGVuZ3RoPjAmJmRbMF0ubGVuZ3RoPjEmJmRbMF1bMF09PT1hJiYoYz1kWzBdWzFdKSxuLmNvZGVjcy5mb3JFYWNoKChlPT57aWYoXCJSVFhcIj09PWUubmFtZS50b1VwcGVyQ2FzZSgpJiZlLnBhcmFtZXRlcnMuYXB0KXtsZXQgdD17c3NyYzphLGNvZGVjUGF5bG9hZFR5cGU6cGFyc2VJbnQoZS5wYXJhbWV0ZXJzLmFwdCwxMCl9O2EmJmMmJih0LnJ0eD17c3NyYzpjfSksaS5wdXNoKHQpLHImJih0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpLHQuZmVjPXtzc3JjOmEsbWVjaGFuaXNtOm8/XCJyZWQrdWxwZmVjXCI6XCJyZWRcIn0saS5wdXNoKHQpKX19KSksMD09PWkubGVuZ3RoJiZhJiZpLnB1c2goe3NzcmM6YX0pO2xldCBsPXQubWF0Y2hQcmVmaXgoZSxcImI9XCIpO3JldHVybiBsLmxlbmd0aCYmKGw9MD09PWxbMF0uaW5kZXhPZihcImI9VElBUzpcIik/cGFyc2VJbnQobFswXS5zdWJzdHJpbmcoNyksMTApOjA9PT1sWzBdLmluZGV4T2YoXCJiPUFTOlwiKT8xZTMqcGFyc2VJbnQobFswXS5zdWJzdHJpbmcoNSksMTApKi45NS0xNmUzOnZvaWQgMCxpLmZvckVhY2goKGU9PntlLm1heEJpdHJhdGU9bH0pKSksaX0sdC5wYXJzZVJ0Y3BQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe2NvbnN0IGk9e30sbj10Lm1hdGNoUHJlZml4KGUsXCJhPXNzcmM6XCIpLm1hcCgoZT0+dC5wYXJzZVNzcmNNZWRpYShlKSkpLmZpbHRlcigoZT0+XCJjbmFtZVwiPT09ZS5hdHRyaWJ1dGUpKVswXTtuJiYoaS5jbmFtZT1uLnZhbHVlLGkuc3NyYz1uLnNzcmMpO2NvbnN0IHI9dC5tYXRjaFByZWZpeChlLFwiYT1ydGNwLXJzaXplXCIpO2kucmVkdWNlZFNpemU9ci5sZW5ndGg+MCxpLmNvbXBvdW5kPTA9PT1yLmxlbmd0aDtjb25zdCBvPXQubWF0Y2hQcmVmaXgoZSxcImE9cnRjcC1tdXhcIik7cmV0dXJuIGkubXV4PW8ubGVuZ3RoPjAsaX0sdC53cml0ZVJ0Y3BQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe2xldCB0PVwiXCI7cmV0dXJuIGUucmVkdWNlZFNpemUmJih0Kz1cImE9cnRjcC1yc2l6ZVxcclxcblwiKSxlLm11eCYmKHQrPVwiYT1ydGNwLW11eFxcclxcblwiKSx2b2lkIDAhPT1lLnNzcmMmJmUuY25hbWUmJih0Kz1cImE9c3NyYzpcIitlLnNzcmMrXCIgY25hbWU6XCIrZS5jbmFtZStcIlxcclxcblwiKSx0fSx0LnBhcnNlTXNpZD1mdW5jdGlvbihlKXtsZXQgaTtjb25zdCBuPXQubWF0Y2hQcmVmaXgoZSxcImE9bXNpZDpcIik7aWYoMT09PW4ubGVuZ3RoKXJldHVybiBpPW5bMF0uc3Vic3RyaW5nKDcpLnNwbGl0KFwiIFwiKSx7c3RyZWFtOmlbMF0sdHJhY2s6aVsxXX07Y29uc3Qgcj10Lm1hdGNoUHJlZml4KGUsXCJhPXNzcmM6XCIpLm1hcCgoZT0+dC5wYXJzZVNzcmNNZWRpYShlKSkpLmZpbHRlcigoZT0+XCJtc2lkXCI9PT1lLmF0dHJpYnV0ZSkpO3JldHVybiByLmxlbmd0aD4wPyhpPXJbMF0udmFsdWUuc3BsaXQoXCIgXCIpLHtzdHJlYW06aVswXSx0cmFjazppWzFdfSk6dm9pZCAwfSx0LnBhcnNlU2N0cERlc2NyaXB0aW9uPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5wYXJzZU1MaW5lKGUpLG49dC5tYXRjaFByZWZpeChlLFwiYT1tYXgtbWVzc2FnZS1zaXplOlwiKTtsZXQgcjtuLmxlbmd0aD4wJiYocj1wYXJzZUludChuWzBdLnN1YnN0cmluZygxOSksMTApKSxpc05hTihyKSYmKHI9NjU1MzYpO2NvbnN0IG89dC5tYXRjaFByZWZpeChlLFwiYT1zY3RwLXBvcnQ6XCIpO2lmKG8ubGVuZ3RoPjApcmV0dXJue3BvcnQ6cGFyc2VJbnQob1swXS5zdWJzdHJpbmcoMTIpLDEwKSxwcm90b2NvbDppLmZtdCxtYXhNZXNzYWdlU2l6ZTpyfTtjb25zdCBzPXQubWF0Y2hQcmVmaXgoZSxcImE9c2N0cG1hcDpcIik7aWYocy5sZW5ndGg+MCl7Y29uc3QgZT1zWzBdLnN1YnN0cmluZygxMCkuc3BsaXQoXCIgXCIpO3JldHVybntwb3J0OnBhcnNlSW50KGVbMF0sMTApLHByb3RvY29sOmVbMV0sbWF4TWVzc2FnZVNpemU6cn19fSx0LndyaXRlU2N0cERlc2NyaXB0aW9uPWZ1bmN0aW9uKGUsdCl7bGV0IGk9W107cmV0dXJuIGk9XCJEVExTL1NDVFBcIiE9PWUucHJvdG9jb2w/W1wibT1cIitlLmtpbmQrXCIgOSBcIitlLnByb3RvY29sK1wiIFwiK3QucHJvdG9jb2wrXCJcXHJcXG5cIixcImM9SU4gSVA0IDAuMC4wLjBcXHJcXG5cIixcImE9c2N0cC1wb3J0OlwiK3QucG9ydCtcIlxcclxcblwiXTpbXCJtPVwiK2Uua2luZCtcIiA5IFwiK2UucHJvdG9jb2wrXCIgXCIrdC5wb3J0K1wiXFxyXFxuXCIsXCJjPUlOIElQNCAwLjAuMC4wXFxyXFxuXCIsXCJhPXNjdHBtYXA6XCIrdC5wb3J0K1wiIFwiK3QucHJvdG9jb2wrXCIgNjU1MzVcXHJcXG5cIl0sdm9pZCAwIT09dC5tYXhNZXNzYWdlU2l6ZSYmaS5wdXNoKFwiYT1tYXgtbWVzc2FnZS1zaXplOlwiK3QubWF4TWVzc2FnZVNpemUrXCJcXHJcXG5cIiksaS5qb2luKFwiXCIpfSx0LmdlbmVyYXRlU2Vzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zdWJzdHIoMiwyMil9LHQud3JpdGVTZXNzaW9uQm9pbGVycGxhdGU9ZnVuY3Rpb24oZSxpLG4pe2xldCByO2NvbnN0IG89dm9pZCAwIT09aT9pOjI7cj1lfHx0LmdlbmVyYXRlU2Vzc2lvbklkKCk7cmV0dXJuXCJ2PTBcXHJcXG5vPVwiKyhufHxcInRoaXNpc2FkYXB0ZXJvcnRjXCIpK1wiIFwiK3IrXCIgXCIrbytcIiBJTiBJUDQgMTI3LjAuMC4xXFxyXFxucz0tXFxyXFxudD0wIDBcXHJcXG5cIn0sdC5nZXREaXJlY3Rpb249ZnVuY3Rpb24oZSxpKXtjb25zdCBuPXQuc3BsaXRMaW5lcyhlKTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKylzd2l0Y2gobltlXSl7Y2FzZVwiYT1zZW5kcmVjdlwiOmNhc2VcImE9c2VuZG9ubHlcIjpjYXNlXCJhPXJlY3Zvbmx5XCI6Y2FzZVwiYT1pbmFjdGl2ZVwiOnJldHVybiBuW2VdLnN1YnN0cmluZygyKX1yZXR1cm4gaT90LmdldERpcmVjdGlvbihpKTpcInNlbmRyZWN2XCJ9LHQuZ2V0S2luZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5zcGxpdExpbmVzKGUpWzBdLnNwbGl0KFwiIFwiKVswXS5zdWJzdHJpbmcoMil9LHQuaXNSZWplY3RlZD1mdW5jdGlvbihlKXtyZXR1cm5cIjBcIj09PWUuc3BsaXQoXCIgXCIsMilbMV19LHQucGFyc2VNTGluZT1mdW5jdGlvbihlKXtjb25zdCBpPXQuc3BsaXRMaW5lcyhlKVswXS5zdWJzdHJpbmcoMikuc3BsaXQoXCIgXCIpO3JldHVybntraW5kOmlbMF0scG9ydDpwYXJzZUludChpWzFdLDEwKSxwcm90b2NvbDppWzJdLGZtdDppLnNsaWNlKDMpLmpvaW4oXCIgXCIpfX0sdC5wYXJzZU9MaW5lPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5tYXRjaFByZWZpeChlLFwibz1cIilbMF0uc3Vic3RyaW5nKDIpLnNwbGl0KFwiIFwiKTtyZXR1cm57dXNlcm5hbWU6aVswXSxzZXNzaW9uSWQ6aVsxXSxzZXNzaW9uVmVyc2lvbjpwYXJzZUludChpWzJdLDEwKSxuZXRUeXBlOmlbM10sYWRkcmVzc1R5cGU6aVs0XSxhZGRyZXNzOmlbNV19fSx0LmlzVmFsaWRTRFA9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGV8fDA9PT1lLmxlbmd0aClyZXR1cm4hMTtjb25zdCBpPXQuc3BsaXRMaW5lcyhlKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKylpZihpW2VdLmxlbmd0aDwyfHxcIj1cIiE9PWlbZV0uY2hhckF0KDEpKXJldHVybiExO3JldHVybiEwfSxlLmV4cG9ydHM9dH0oTWcpO3ZhciBVZz1NZy5leHBvcnRzLFZnPWkoVWcpLHhnPWUoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6Vmd9LFtVZ10pO2Z1bmN0aW9uIEZnKGUpe2lmKCFlLlJUQ0ljZUNhbmRpZGF0ZXx8ZS5SVENJY2VDYW5kaWRhdGUmJlwiZm91bmRhdGlvblwiaW4gZS5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlKXJldHVybjtjb25zdCB0PWUuUlRDSWNlQ2FuZGlkYXRlO2UuUlRDSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZlLmNhbmRpZGF0ZSYmMD09PWUuY2FuZGlkYXRlLmluZGV4T2YoXCJhPVwiKSYmKChlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpKS5jYW5kaWRhdGU9ZS5jYW5kaWRhdGUuc3Vic3RyKDIpKSxlLmNhbmRpZGF0ZSYmZS5jYW5kaWRhdGUubGVuZ3RoKXtjb25zdCBpPW5ldyB0KGUpLG49VmcucGFyc2VDYW5kaWRhdGUoZS5jYW5kaWRhdGUpLHI9T2JqZWN0LmFzc2lnbihpLG4pO3JldHVybiByLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntjYW5kaWRhdGU6ci5jYW5kaWRhdGUsc2RwTWlkOnIuc2RwTWlkLHNkcE1MaW5lSW5kZXg6ci5zZHBNTGluZUluZGV4LHVzZXJuYW1lRnJhZ21lbnQ6ci51c2VybmFtZUZyYWdtZW50fX0scn1yZXR1cm4gbmV3IHQoZSl9LGUuUlRDSWNlQ2FuZGlkYXRlLnByb3RvdHlwZT10LnByb3RvdHlwZSxiUyhlLFwiaWNlY2FuZGlkYXRlXCIsKHQ9Pih0LmNhbmRpZGF0ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjYW5kaWRhdGVcIix7dmFsdWU6bmV3IGUuUlRDSWNlQ2FuZGlkYXRlKHQuY2FuZGlkYXRlKSx3cml0YWJsZTpcImZhbHNlXCJ9KSx0KSkpfWZ1bmN0aW9uIEJnKGUpeyFlLlJUQ0ljZUNhbmRpZGF0ZXx8ZS5SVENJY2VDYW5kaWRhdGUmJlwicmVsYXlQcm90b2NvbFwiaW4gZS5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlfHxiUyhlLFwiaWNlY2FuZGlkYXRlXCIsKGU9PntpZihlLmNhbmRpZGF0ZSl7Y29uc3QgdD1WZy5wYXJzZUNhbmRpZGF0ZShlLmNhbmRpZGF0ZS5jYW5kaWRhdGUpO1wicmVsYXlcIj09PXQudHlwZSYmKGUuY2FuZGlkYXRlLnJlbGF5UHJvdG9jb2w9ezA6XCJ0bHNcIiwxOlwidGNwXCIsMjpcInVkcFwifVt0LnByaW9yaXR5Pj4yNF0pfXJldHVybiBlfSkpfWZ1bmN0aW9uIGpnKGUsdCl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO1wic2N0cFwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcInNjdHBcIix7Z2V0KCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX3NjdHA/bnVsbDp0aGlzLl9zY3RwfX0pO2NvbnN0IGk9ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnNkcClyZXR1cm4hMTtjb25zdCB0PVZnLnNwbGl0U2VjdGlvbnMoZS5zZHApO3JldHVybiB0LnNoaWZ0KCksdC5zb21lKChlPT57Y29uc3QgdD1WZy5wYXJzZU1MaW5lKGUpO3JldHVybiB0JiZcImFwcGxpY2F0aW9uXCI9PT10LmtpbmQmJi0xIT09dC5wcm90b2NvbC5pbmRleE9mKFwiU0NUUFwiKX0pKX0sbj1mdW5jdGlvbihlKXtjb25zdCB0PWUuc2RwLm1hdGNoKC9tb3ppbGxhLi4uVEhJU19JU19TRFBBUlRBLShcXGQrKS8pO2lmKG51bGw9PT10fHx0Lmxlbmd0aDwyKXJldHVybi0xO2NvbnN0IGk9cGFyc2VJbnQodFsxXSwxMCk7cmV0dXJuIGkhPWk/LTE6aX0scj1mdW5jdGlvbihlKXtsZXQgaT02NTUzNjtyZXR1cm5cImZpcmVmb3hcIj09PXQuYnJvd3NlciYmKGk9dC52ZXJzaW9uPDU3Py0xPT09ZT8xNjM4NDoyMTQ3NDgzNjM3OnQudmVyc2lvbjw2MD81Nz09PXQudmVyc2lvbj82NTUzNTo2NTUzNjoyMTQ3NDgzNjM3KSxpfSxvPWZ1bmN0aW9uKGUsaSl7bGV0IG49NjU1MzY7XCJmaXJlZm94XCI9PT10LmJyb3dzZXImJjU3PT09dC52ZXJzaW9uJiYobj02NTUzNSk7Y29uc3Qgcj1WZy5tYXRjaFByZWZpeChlLnNkcCxcImE9bWF4LW1lc3NhZ2Utc2l6ZTpcIik7cmV0dXJuIHIubGVuZ3RoPjA/bj1wYXJzZUludChyWzBdLnN1YnN0cigxOSksMTApOlwiZmlyZWZveFwiPT09dC5icm93c2VyJiYtMSE9PWkmJihuPTIxNDc0ODM2MzcpLG59LHM9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24oKXtpZih0aGlzLl9zY3RwPW51bGwsXCJjaHJvbWVcIj09PXQuYnJvd3NlciYmdC52ZXJzaW9uPj03Nil7Y29uc3R7c2RwU2VtYW50aWNzOmV9PXRoaXMuZ2V0Q29uZmlndXJhdGlvbigpO1wicGxhbi1iXCI9PT1lJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNjdHBcIix7Z2V0KCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX3NjdHA/bnVsbDp0aGlzLl9zY3RwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWlmKGkoYXJndW1lbnRzWzBdKSl7Y29uc3QgZT1uKGFyZ3VtZW50c1swXSksdD1yKGUpLGk9byhhcmd1bWVudHNbMF0sZSk7bGV0IHM7cz0wPT09dCYmMD09PWk/TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOjA9PT10fHwwPT09aT9NYXRoLm1heCh0LGkpOk1hdGgubWluKHQsaSk7Y29uc3QgYT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcIm1heE1lc3NhZ2VTaXplXCIse2dldDooKT0+c30pLHRoaXMuX3NjdHA9YX1yZXR1cm4gcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIEdnKGUpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9ufHwhKFwiY3JlYXRlRGF0YUNoYW5uZWxcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSlyZXR1cm47ZnVuY3Rpb24gdChlLHQpe2NvbnN0IGk9ZS5zZW5kO2Uuc2VuZD1mdW5jdGlvbigpe2NvbnN0IG49YXJndW1lbnRzWzBdLHI9bi5sZW5ndGh8fG4uc2l6ZXx8bi5ieXRlTGVuZ3RoO2lmKFwib3BlblwiPT09ZS5yZWFkeVN0YXRlJiZ0LnNjdHAmJnI+dC5zY3RwLm1heE1lc3NhZ2VTaXplKXRocm93IG5ldyBUeXBlRXJyb3IoXCJNZXNzYWdlIHRvbyBsYXJnZSAoY2FuIHNlbmQgYSBtYXhpbXVtIG9mIFwiK3Quc2N0cC5tYXhNZXNzYWdlU2l6ZStcIiBieXRlcylcIik7cmV0dXJuIGkuYXBwbHkoZSxhcmd1bWVudHMpfX1jb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZURhdGFDaGFubmVsO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZURhdGFDaGFubmVsPWZ1bmN0aW9uKCl7Y29uc3QgZT1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdChlLHRoaXMpLGV9LGJTKGUsXCJkYXRhY2hhbm5lbFwiLChlPT4odChlLmNoYW5uZWwsZS50YXJnZXQpLGUpKSl9ZnVuY3Rpb24gV2coZSl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb258fFwiY29ubmVjdGlvblN0YXRlXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSlyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNvbm5lY3Rpb25TdGF0ZVwiLHtnZXQoKXtyZXR1cm57Y29tcGxldGVkOlwiY29ubmVjdGVkXCIsY2hlY2tpbmc6XCJjb25uZWN0aW5nXCJ9W3RoaXMuaWNlQ29ubmVjdGlvblN0YXRlXXx8dGhpcy5pY2VDb25uZWN0aW9uU3RhdGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHtnZXQoKXtyZXR1cm4gdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2V8fG51bGx9LHNldChlKXt0aGlzLl9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKSxkZWxldGUgdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UpLGUmJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLFtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCJdLmZvckVhY2goKGU9Pntjb25zdCBpPXRbZV07dFtlXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uc3RhdGVjaGFuZ2Vwb2x5fHwodGhpcy5fY29ubmVjdGlvbnN0YXRlY2hhbmdlcG9seT1lPT57Y29uc3QgdD1lLnRhcmdldDtpZih0Ll9sYXN0Q29ubmVjdGlvblN0YXRlIT09dC5jb25uZWN0aW9uU3RhdGUpe3QuX2xhc3RDb25uZWN0aW9uU3RhdGU9dC5jb25uZWN0aW9uU3RhdGU7Y29uc3QgaT1uZXcgRXZlbnQoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixlKTt0LmRpc3BhdGNoRXZlbnQoaSl9cmV0dXJuIGV9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZXBvbHkpKSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSl9ZnVuY3Rpb24gSGcoZSx0KXtpZighZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47aWYoXCJjaHJvbWVcIj09PXQuYnJvd3NlciYmdC52ZXJzaW9uPj03MSlyZXR1cm47aWYoXCJzYWZhcmlcIj09PXQuYnJvd3NlciYmdC52ZXJzaW9uPj02MDUpcmV0dXJuO2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24odCl7aWYodCYmdC5zZHAmJi0xIT09dC5zZHAuaW5kZXhPZihcIlxcbmE9ZXh0bWFwLWFsbG93LW1peGVkXCIpKXtjb25zdCBpPXQuc2RwLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigoZT0+XCJhPWV4dG1hcC1hbGxvdy1taXhlZFwiIT09a2coZSkuY2FsbChlKSkpLmpvaW4oXCJcXG5cIik7ZS5SVENTZXNzaW9uRGVzY3JpcHRpb24mJnQgaW5zdGFuY2VvZiBlLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbj9hcmd1bWVudHNbMF09bmV3IGUuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOnQudHlwZSxzZHA6aX0pOnQuc2RwPWl9cmV0dXJuIGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBLZyhlLHQpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9ufHwhZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpcmV0dXJuO2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlO2kmJjAhPT1pLmxlbmd0aCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF0/KFwiY2hyb21lXCI9PT10LmJyb3dzZXImJnQudmVyc2lvbjw3OHx8XCJmaXJlZm94XCI9PT10LmJyb3dzZXImJnQudmVyc2lvbjw2OHx8XCJzYWZhcmlcIj09PXQuYnJvd3NlcikmJmFyZ3VtZW50c1swXSYmXCJcIj09PWFyZ3VtZW50c1swXS5jYW5kaWRhdGU/cnAucmVzb2x2ZSgpOmkuYXBwbHkodGhpcyxhcmd1bWVudHMpOihhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5hcHBseShudWxsKSxycC5yZXNvbHZlKCkpfSl9ZnVuY3Rpb24gWWcoZSx0KXtpZighZS5SVENQZWVyQ29ubmVjdGlvbnx8IWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXJldHVybjtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb247aSYmMCE9PWkubGVuZ3RoJiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbj1mdW5jdGlvbigpe2xldCBlPWFyZ3VtZW50c1swXXx8e307aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fGUudHlwZSYmZS5zZHApcmV0dXJuIGkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGU9e3R5cGU6ZS50eXBlLHNkcDplLnNkcH0sIWUudHlwZSlzd2l0Y2godGhpcy5zaWduYWxpbmdTdGF0ZSl7Y2FzZVwic3RhYmxlXCI6Y2FzZVwiaGF2ZS1sb2NhbC1vZmZlclwiOmNhc2VcImhhdmUtcmVtb3RlLXByYW5zd2VyXCI6ZS50eXBlPVwib2ZmZXJcIjticmVhaztkZWZhdWx0OmUudHlwZT1cImFuc3dlclwifWlmKGUuc2RwfHxcIm9mZmVyXCIhPT1lLnR5cGUmJlwiYW5zd2VyXCIhPT1lLnR5cGUpcmV0dXJuIGkuYXBwbHkodGhpcyxbZV0pO3JldHVybihcIm9mZmVyXCI9PT1lLnR5cGU/dGhpcy5jcmVhdGVPZmZlcjp0aGlzLmNyZWF0ZUFuc3dlcikuYXBwbHkodGhpcykudGhlbigoZT0+aS5hcHBseSh0aGlzLFtlXSkpKX0pfXZhciB6Zz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxyZW1vdmVFeHRtYXBBbGxvd01peGVkOkhnLHNoaW1BZGRJY2VDYW5kaWRhdGVOdWxsT3JFbXB0eTpLZyxzaGltQ29ubmVjdGlvblN0YXRlOldnLHNoaW1NYXhNZXNzYWdlU2l6ZTpqZyxzaGltUGFyYW1ldGVybGVzc1NldExvY2FsRGVzY3JpcHRpb246WWcsc2hpbVJUQ0ljZUNhbmRpZGF0ZTpGZyxzaGltUlRDSWNlQ2FuZGlkYXRlUmVsYXlQcm90b2NvbDpCZyxzaGltU2VuZFRocm93VHlwZUVycm9yOkdnfSk7IWZ1bmN0aW9uKCl7bGV0e3dpbmRvdzplfT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e3NoaW1DaHJvbWU6ITAsc2hpbUZpcmVmb3g6ITAsc2hpbVNhZmFyaTohMH07Y29uc3QgaT1OUyxuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e2Jyb3dzZXI6bnVsbCx2ZXJzaW9uOm51bGx9O2lmKHZvaWQgMD09PWV8fCFlLm5hdmlnYXRvcilyZXR1cm4gdC5icm93c2VyPVwiTm90IGEgYnJvd3Nlci5cIix0O2NvbnN0e25hdmlnYXRvcjppfT1lO2lmKGkubW96R2V0VXNlck1lZGlhKXQuYnJvd3Nlcj1cImZpcmVmb3hcIix0LnZlcnNpb249QVMoaS51c2VyQWdlbnQsL0ZpcmVmb3hcXC8oXFxkKylcXC4vLDEpO2Vsc2UgaWYoaS53ZWJraXRHZXRVc2VyTWVkaWF8fCExPT09ZS5pc1NlY3VyZUNvbnRleHQmJmUud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pdC5icm93c2VyPVwiY2hyb21lXCIsdC52ZXJzaW9uPUFTKGkudXNlckFnZW50LC9DaHJvbShlfGl1bSlcXC8oXFxkKylcXC4vLDIpO2Vsc2V7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb258fCFpLnVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKSlyZXR1cm4gdC5icm93c2VyPVwiTm90IGEgc3VwcG9ydGVkIGJyb3dzZXIuXCIsdDt0LmJyb3dzZXI9XCJzYWZhcmlcIix0LnZlcnNpb249QVMoaS51c2VyQWdlbnQsL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLywxKSx0LnN1cHBvcnRzVW5pZmllZFBsYW49ZS5SVENSdHBUcmFuc2NlaXZlciYmXCJjdXJyZW50RGlyZWN0aW9uXCJpbiBlLlJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZX1yZXR1cm4gdH0oZSkscj17YnJvd3NlckRldGFpbHM6bixjb21tb25TaGltOnpnLGV4dHJhY3RWZXJzaW9uOkFTLGRpc2FibGVMb2c6d1MsZGlzYWJsZVdhcm5pbmdzOk9TLHNkcDp4Z307c3dpdGNoKG4uYnJvd3Nlcil7Y2FzZVwiY2hyb21lXCI6aWYoIXpTfHwhS1N8fCF0LnNoaW1DaHJvbWUpcmV0dXJuIGkoXCJDaHJvbWUgc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpLHI7aWYobnVsbD09PW4udmVyc2lvbilyZXR1cm4gaShcIkNocm9tZSBzaGltIGNhbiBub3QgZGV0ZXJtaW5lIHZlcnNpb24sIG5vdCBzaGltbWluZy5cIikscjtpKFwiYWRhcHRlci5qcyBzaGltbWluZyBjaHJvbWUuXCIpLHIuYnJvd3NlclNoaW09elMsS2coZSxuKSxZZyhlKSxWUyhlLG4pLHhTKGUpLEtTKGUsbiksRlMoZSksSFMoZSxuKSxCUyhlKSxqUyhlKSxHUyhlKSxZUyhlLG4pLEZnKGUpLEJnKGUpLFdnKGUpLGpnKGUsbiksR2coZSksSGcoZSxuKTticmVhaztjYXNlXCJmaXJlZm94XCI6aWYoIW9nfHwhSlN8fCF0LnNoaW1GaXJlZm94KXJldHVybiBpKFwiRmlyZWZveCBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIikscjtpKFwiYWRhcHRlci5qcyBzaGltbWluZyBmaXJlZm94LlwiKSxyLmJyb3dzZXJTaGltPW9nLEtnKGUsbiksWWcoZSkscVMoZSxuKSxKUyhlLG4pLFhTKGUpLCRTKGUpLFFTKGUpLFpTKGUpLGVnKGUpLHRnKGUpLGlnKGUpLG5nKGUpLHJnKGUpLEZnKGUpLFdnKGUpLGpnKGUsbiksR2coZSk7YnJlYWs7Y2FzZVwic2FmYXJpXCI6aWYoIUVnfHwhdC5zaGltU2FmYXJpKXJldHVybiBpKFwiU2FmYXJpIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKSxyO2koXCJhZGFwdGVyLmpzIHNoaW1taW5nIHNhZmFyaS5cIiksci5icm93c2VyU2hpbT1FZyxLZyhlLG4pLFlnKGUpLHVnKGUpLHBnKGUpLGNnKGUpLHNnKGUpLGFnKGUpLGhnKGUpLGRnKGUpLF9nKGUpLEZnKGUpLEJnKGUpLGpnKGUsbiksR2coZSksSGcoZSxuKTticmVhaztkZWZhdWx0OmkoXCJVbnN1cHBvcnRlZCBicm93c2VyIVwiKX19KHt3aW5kb3c6XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz92b2lkIDA6d2luZG93fSk7dmFyIHFnPW4sWGc9aC5SZWdFeHAsSmc9IXFnKChmdW5jdGlvbigpe3ZhciBlPSEwO3RyeXtYZyhcIi5cIixcImRcIil9Y2F0Y2godCl7ZT0hMX12YXIgdD17fSxpPVwiXCIsbj1lP1wiZGdpbXN5XCI6XCJnaW1zeVwiLHI9ZnVuY3Rpb24oZSxuKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSs9biwhMH19KX0sbz17ZG90QWxsOlwic1wiLGdsb2JhbDpcImdcIixpZ25vcmVDYXNlOlwiaVwiLG11bHRpbGluZTpcIm1cIixzdGlja3k6XCJ5XCJ9O2Zvcih2YXIgcyBpbiBlJiYoby5oYXNJbmRpY2VzPVwiZFwiKSxvKXIocyxvW3NdKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihYZy5wcm90b3R5cGUsXCJmbGFnc1wiKS5nZXQuY2FsbCh0KSE9PW58fGkhPT1ufSkpLFFnPW5pLFpnPUQsJGc9JGUsZVQ9bCx0VD17Y29ycmVjdDpKZ30saVQ9ZnVuY3Rpb24oKXt2YXIgZT1RZyh0aGlzKSx0PVwiXCI7cmV0dXJuIGUuaGFzSW5kaWNlcyYmKHQrPVwiZFwiKSxlLmdsb2JhbCYmKHQrPVwiZ1wiKSxlLmlnbm9yZUNhc2UmJih0Kz1cImlcIiksZS5tdWx0aWxpbmUmJih0Kz1cIm1cIiksZS5kb3RBbGwmJih0Kz1cInNcIiksZS51bmljb2RlJiYodCs9XCJ1XCIpLGUudW5pY29kZVNldHMmJih0Kz1cInZcIiksZS5zdGlja3kmJih0Kz1cInlcIiksdH0sblQ9UmVnRXhwLnByb3RvdHlwZSxyVD10VC5jb3JyZWN0P2Z1bmN0aW9uKGUpe3JldHVybiBlLmZsYWdzfTpmdW5jdGlvbihlKXtyZXR1cm4gdFQuY29ycmVjdHx8IWVUKG5ULGUpfHwkZyhlLFwiZmxhZ3NcIik/ZS5mbGFnczpaZyhpVCxlKX0sb1Q9ZCxzVD1KZSxhVD1NYXRoLmZsb29yLGNUPW9UKFwiXCIuY2hhckF0KSxkVD1vVChcIlwiLnJlcGxhY2UpLGxUPW9UKFwiXCIuc2xpY2UpLHVUPS9cXCQoWyQmJ2BdfFxcZHsxLDJ9fDxbXj5dKj4pL2csaFQ9L1xcJChbJCYnYF18XFxkezEsMn0pL2cscFQ9T2ksX1Q9RCxFVD1kLG1UPXosZlQ9QSxTVD1aLGdUPXJuLFRUPVNuLFJUPUxlLENUPXJULHZUPWZ1bmN0aW9uKGUsdCxpLG4scixvKXt2YXIgcz1pK2UubGVuZ3RoLGE9bi5sZW5ndGgsYz1oVDtyZXR1cm4gdm9pZCAwIT09ciYmKHI9c1QociksYz11VCksZFQobyxjLChmdW5jdGlvbihvLGMpe3ZhciBkO3N3aXRjaChjVChjLDApKXtjYXNlXCIkXCI6cmV0dXJuXCIkXCI7Y2FzZVwiJlwiOnJldHVybiBlO2Nhc2VcImBcIjpyZXR1cm4gbFQodCwwLGkpO2Nhc2VcIidcIjpyZXR1cm4gbFQodCxzKTtjYXNlXCI8XCI6ZD1yW2xUKGMsMSwtMSldO2JyZWFrO2RlZmF1bHQ6dmFyIGw9K2M7aWYoMD09PWwpcmV0dXJuIG87aWYobD5hKXt2YXIgdT1hVChsLzEwKTtyZXR1cm4gMD09PXU/bzp1PD1hP3ZvaWQgMD09PW5bdS0xXT9jVChjLDEpOm5bdS0xXStjVChjLDEpOm99ZD1uW2wtMV19cmV0dXJuIHZvaWQgMD09PWQ/XCJcIjpkfSkpfSx5VD1wdChcInJlcGxhY2VcIiksSVQ9VHlwZUVycm9yLEFUPUVUKFwiXCIuaW5kZXhPZiksYlQ9RVQoXCJcIi5yZXBsYWNlKSx3VD1FVChcIlwiLnNsaWNlKSxPVD1NYXRoLm1heDtwVCh7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITB9LHtyZXBsYWNlQWxsOmZ1bmN0aW9uKGUsdCl7dmFyIGksbixyLG8scyxhLGMsZCxsLHUsaD1tVCh0aGlzKSxwPTAsXz1cIlwiO2lmKFNUKGUpKXtpZigoaT1nVChlKSkmJihuPVRUKG1UKENUKGUpKSksIX5BVChuLFwiZ1wiKSkpdGhyb3cgbmV3IElUKFwiYC5yZXBsYWNlQWxsYCBkb2VzIG5vdCBhbGxvdyBub24tZ2xvYmFsIHJlZ2V4ZXNcIik7aWYocj1SVChlLHlUKSlyZXR1cm4gX1QocixlLGgsdCk7aWYoaSlyZXR1cm4gYlQoVFQoaCksZSx0KX1mb3Iobz1UVChoKSxzPVRUKGUpLChhPWZUKHQpKXx8KHQ9VFQodCkpLGM9cy5sZW5ndGgsZD1PVCgxLGMpLGw9QVQobyxzKTstMSE9PWw7KXU9YT9UVCh0KHMsbCxvKSk6dlQocyxvLGwsW10sdm9pZCAwLHQpLF8rPXdUKG8scCxsKSt1LHA9bCtjLGw9bCtkPm8ubGVuZ3RoPy0xOkFUKG8scyxsK2QpO3JldHVybiBwPG8ubGVuZ3RoJiYoXys9d1QobyxwKSksX319KTt2YXIgTlQ9WmkoXCJTdHJpbmdcIixcInJlcGxhY2VBbGxcIiksRFQ9bCxQVD1OVCxMVD1TdHJpbmcucHJvdG90eXBlLGtUPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZUFsbDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8ZT09PUxUfHxEVChMVCxlKSYmdD09PUxULnJlcGxhY2VBbGw/UFQ6dH0sTVQ9aShrVCksVVQ9aDtPaSh7Z2xvYmFsOiEwLGZvcmNlZDpVVC5nbG9iYWxUaGlzIT09VVR9LHtnbG9iYWxUaGlzOlVUfSk7dmFyIFZUPWkoaCkseFQ9e2V4cG9ydHM6e319OyFmdW5jdGlvbihlLGkpeyFmdW5jdGlvbih0LG4pe3ZhciByPVwiZnVuY3Rpb25cIixvPVwidW5kZWZpbmVkXCIscz1cIm9iamVjdFwiLGE9XCJzdHJpbmdcIixjPVwibWFqb3JcIixkPVwibW9kZWxcIixsPVwibmFtZVwiLHU9XCJ0eXBlXCIsaD1cInZlbmRvclwiLHA9XCJ2ZXJzaW9uXCIsXz1cImFyY2hpdGVjdHVyZVwiLEU9XCJjb25zb2xlXCIsbT1cIm1vYmlsZVwiLGY9XCJ0YWJsZXRcIixTPVwic21hcnR0dlwiLGc9XCJ3ZWFyYWJsZVwiLFQ9XCJlbWJlZGRlZFwiLFI9XCJBbWF6b25cIixDPVwiQXBwbGVcIix2PVwiQVNVU1wiLHk9XCJCbGFja0JlcnJ5XCIsST1cIkJyb3dzZXJcIixBPVwiQ2hyb21lXCIsYj1cIkZpcmVmb3hcIix3PVwiR29vZ2xlXCIsTz1cIkhvbm9yXCIsTj1cIkh1YXdlaVwiLEQ9XCJMR1wiLFA9XCJNaWNyb3NvZnRcIixMPVwiTW90b3JvbGFcIixrPVwiTnZpZGlhXCIsTT1cIk9uZVBsdXNcIixVPVwiT3BlcmFcIixWPVwiT1BQT1wiLHg9XCJTYW1zdW5nXCIsRj1cIlNoYXJwXCIsQj1cIlNvbnlcIixqPVwiWGlhb21pXCIsRz1cIlplYnJhXCIsVz1cIkZhY2Vib29rXCIsSD1cIkNocm9taXVtIE9TXCIsSz1cIk1hYyBPU1wiLFk9XCIgQnJvd3NlclwiLHo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXt9LGk9MDtpPGUubGVuZ3RoO2krKyl0W2VbaV0udG9VcHBlckNhc2UoKV09ZVtpXTtyZXR1cm4gdH0scT1mdW5jdGlvbihlLHQpe3JldHVybiB0eXBlb2YgZT09PWEmJi0xIT09WCh0KS5pbmRleE9mKFgoZSkpfSxYPWZ1bmN0aW9uKGUpe3JldHVybiBlLnRvTG93ZXJDYXNlKCl9LEo9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgZT09PWEpcmV0dXJuIGU9ZS5yZXBsYWNlKC9eXFxzXFxzKi8sXCJcIiksdHlwZW9mIHQ9PT1vP2U6ZS5zdWJzdHJpbmcoMCw1MDApfSxRPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpLG8sYSxjLGQsbCx1PTA7dTx0Lmxlbmd0aCYmIWQ7KXt2YXIgaD10W3VdLHA9dFt1KzFdO2ZvcihpPW89MDtpPGgubGVuZ3RoJiYhZCYmaFtpXTspaWYoZD1oW2krK10uZXhlYyhlKSlmb3IoYT0wO2E8cC5sZW5ndGg7YSsrKWw9ZFsrK29dLHR5cGVvZihjPXBbYV0pPT09cyYmYy5sZW5ndGg+MD8yPT09Yy5sZW5ndGg/dHlwZW9mIGNbMV09PXI/dGhpc1tjWzBdXT1jWzFdLmNhbGwodGhpcyxsKTp0aGlzW2NbMF1dPWNbMV06Mz09PWMubGVuZ3RoP3R5cGVvZiBjWzFdIT09cnx8Y1sxXS5leGVjJiZjWzFdLnRlc3Q/dGhpc1tjWzBdXT1sP2wucmVwbGFjZShjWzFdLGNbMl0pOm46dGhpc1tjWzBdXT1sP2NbMV0uY2FsbCh0aGlzLGwsY1syXSk6bjo0PT09Yy5sZW5ndGgmJih0aGlzW2NbMF1dPWw/Y1szXS5jYWxsKHRoaXMsbC5yZXBsYWNlKGNbMV0sY1syXSkpOm4pOnRoaXNbY109bHx8bjt1Kz0yfX0sWj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaSBpbiB0KWlmKHR5cGVvZiB0W2ldPT09cyYmdFtpXS5sZW5ndGg+MCl7Zm9yKHZhciByPTA7cjx0W2ldLmxlbmd0aDtyKyspaWYocSh0W2ldW3JdLGUpKXJldHVyblwiP1wiPT09aT9uOml9ZWxzZSBpZihxKHRbaV0sZSkpcmV0dXJuXCI/XCI9PT1pP246aTtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShcIipcIik/dFtcIipcIl06ZX0sJD17TUU6XCI0LjkwXCIsXCJOVCAzLjExXCI6XCJOVDMuNTFcIixcIk5UIDQuMFwiOlwiTlQ0LjBcIiwyZTM6XCJOVCA1LjBcIixYUDpbXCJOVCA1LjFcIixcIk5UIDUuMlwiXSxWaXN0YTpcIk5UIDYuMFwiLDc6XCJOVCA2LjFcIiw4OlwiTlQgNi4yXCIsOC4xOlwiTlQgNi4zXCIsMTA6W1wiTlQgNi40XCIsXCJOVCAxMC4wXCJdLFJUOlwiQVJNXCJ9LGVlPXticm93c2VyOltbL1xcYig/OmNybW98Y3Jpb3MpXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJDaHJvbWVcIl1dLFsvZWRnKD86ZXxpb3N8YSk/XFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJFZGdlXCJdXSxbLyhvcGVyYSBtaW5pKVxcLyhbLVxcd1xcLl0rKS9pLC8ob3BlcmEgW21vYmlsZXRhYl17Myw2fSlcXGIuK3ZlcnNpb25cXC8oWy1cXHdcXC5dKykvaSwvKG9wZXJhKSg/Oi4rdmVyc2lvblxcL3xbXFwvIF0rKShbXFx3XFwuXSspL2ldLFtsLHBdLFsvb3Bpb3NbXFwvIF0rKFtcXHdcXC5dKykvaV0sW3AsW2wsVStcIiBNaW5pXCJdXSxbL1xcYm9wKD86cmcpP3hcXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxVK1wiIEdYXCJdXSxbL1xcYm9wclxcLyhbXFx3XFwuXSspL2ldLFtwLFtsLFVdXSxbL1xcYmJbYWldKmQoPzp1aGR8W3ViXSpbYWVrb3Byc3d4XXs1LDZ9KVtcXC8gXT8oW1xcd1xcLl0rKS9pXSxbcCxbbCxcIkJhaWR1XCJdXSxbL1xcYig/Om14YnJvd3NlcnxteGlvc3xteWllMilcXC8/KFstXFx3XFwuXSopXFxiL2ldLFtwLFtsLFwiTWF4dGhvblwiXV0sWy8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksLyhsdW5hc2NhcGV8bWF4dGhvbnxuZXRmcm9udHxqYXNtaW5lfGJsYXplcnxzbGVpcG5pcilbXFwvIF0/KFtcXHdcXC5dKikvaSwvKGF2YW50fGllbW9iaWxlfHNsaW0oPzpicm93c2VyfGJvYXR8amV0KSlbXFwvIF0/KFtcXGRcXC5dKikvaSwvKD86bXN8XFwoKShpZSkgKFtcXHdcXC5dKykvaSwvKGZsb2NrfHJvY2ttZWx0fG1pZG9yaXxlcGlwaGFueXxzaWxrfHNreWZpcmV8b3ZpYnJvd3Nlcnxib2x0fGlyb258dml2YWxkaXxpcmlkaXVtfHBoYW50b21qc3xib3dzZXJ8cXVwemlsbGF8ZmFsa29ufHJla29ucXxwdWZmaW58YnJhdmV8d2hhbGUoPyEuK25hdmVyKXxxcWJyb3dzZXJsaXRlfGR1Y2tkdWNrZ298a2xhcnxoZWxpb3woPz1jb21vZG9fKT9kcmFnb24pXFwvKFstXFx3XFwuXSspL2ksLyhoZXl0YXB8b3ZpfDExNSlicm93c2VyXFwvKFtcXGRcXC5dKykvaSwvKHdlaWJvKV9fKFtcXGRcXC5dKykvaV0sW2wscF0sWy9xdWFyayg/OnBjKT9cXC8oWy1cXHdcXC5dKykvaV0sW3AsW2wsXCJRdWFya1wiXV0sWy9cXGJkZGdcXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxcIkR1Y2tEdWNrR29cIl1dLFsvKD86XFxidWM/ID9icm93c2VyfCg/Omp1Yy4rKXVjd2ViKVtcXC8gXT8oW1xcd1xcLl0rKS9pXSxbcCxbbCxcIlVDXCIrSV1dLFsvbWljcm9tLitcXGJxYmNvcmVcXC8oW1xcd1xcLl0rKS9pLC9cXGJxYmNvcmVcXC8oW1xcd1xcLl0rKS4rbWljcm9tL2ksL21pY3JvbWVzc2VuZ2VyXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJXZUNoYXRcIl1dLFsva29ucXVlcm9yXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJLb25xdWVyb3JcIl1dLFsvdHJpZGVudC4rcnZbOiBdKFtcXHdcXC5dezEsOX0pXFxiLitsaWtlIGdlY2tvL2ldLFtwLFtsLFwiSUVcIl1dLFsveWEoPzpzZWFyY2gpP2Jyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxcIllhbmRleFwiXV0sWy9zbGJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxcIlNtYXJ0IExlbm92byBcIitJXV0sWy8oYXZhc3R8YXZnKVxcLyhbXFx3XFwuXSspL2ldLFtbbCwvKC4rKS8sXCIkMSBTZWN1cmUgXCIrSV0scF0sWy9cXGJmb2N1c1xcLyhbXFx3XFwuXSspL2ldLFtwLFtsLGIrXCIgRm9jdXNcIl1dLFsvXFxib3B0XFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsVStcIiBUb3VjaFwiXV0sWy9jb2NfY29jXFx3K1xcLyhbXFx3XFwuXSspL2ldLFtwLFtsLFwiQ29jIENvY1wiXV0sWy9kb2xmaW5cXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxcIkRvbHBoaW5cIl1dLFsvY29hc3RcXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxVK1wiIENvYXN0XCJdXSxbL21pdWlicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJNSVVJXCIrWV1dLFsvZnhpb3NcXC8oW1xcd1xcLi1dKykvaV0sW3AsW2wsYl1dLFsvXFxicWlob29icm93c2VyXFwvPyhbXFx3XFwuXSopL2ldLFtwLFtsLFwiMzYwXCJdXSxbL1xcYihxcSlcXC8oW1xcd1xcLl0rKS9pXSxbW2wsLyguKykvLFwiJDFCcm93c2VyXCJdLHBdLFsvKG9jdWx1c3xzYWlsZmlzaHxodWF3ZWl8dml2b3xwaWNvKWJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXSxbW2wsLyguKykvLFwiJDFcIitZXSxwXSxbL3NhbXN1bmdicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wseCtcIiBJbnRlcm5ldFwiXV0sWy9tZXRhc3JbXFwvIF0/KFtcXGRcXC5dKykvaV0sW3AsW2wsXCJTb2dvdSBFeHBsb3JlclwiXV0sWy8oc29nb3UpbW9cXHcrXFwvKFtcXGRcXC5dKykvaV0sW1tsLFwiU29nb3UgTW9iaWxlXCJdLHBdLFsvKGVsZWN0cm9uKVxcLyhbXFx3XFwuXSspIHNhZmFyaS9pLC8odGVzbGEpKD86IHF0Y2FyYnJvd3NlcnxcXC8oMjBcXGRcXGRcXC5bLVxcd1xcLl0rKSkvaSwvbT8ocXFicm93c2VyfDIzNDUoPz1icm93c2VyfGNocm9tZXxleHBsb3JlcikpXFx3KltcXC8gXT92PyhbXFx3XFwuXSspL2ldLFtsLHBdLFsvKGxiYnJvd3NlcnxyZWtvbnEpL2ksL1xcWyhsaW5rZWRpbilhcHBcXF0vaV0sW2xdLFsvb21lXFwvKFtcXHdcXC5dKykgXFx3KiA/KGlyb24pIHNhZi9pLC9vbWVcXC8oW1xcd1xcLl0rKS4rcWlodSAoMzYwKVtlc11lL2ldLFtwLGxdLFsvKCg/OmZiYW5cXC9mYmlvc3xmYl9pYWJcXC9mYjRhKSg/IS4rZmJhdil8O2ZiYXZcXC8oW1xcd1xcLl0rKTspL2ldLFtbbCxXXSxwXSxbLyhLbGFybmEpXFwvKFtcXHdcXC5dKykvaSwvKGtha2FvKD86dGFsa3xzdG9yeSkpW1xcLyBdKFtcXHdcXC5dKykvaSwvKG5hdmVyKVxcKC4qPyhcXGQrXFwuW1xcd1xcLl0rKS4qXFwpL2ksLyhkYXVtKWFwcHNbXFwvIF0oW1xcd1xcLl0rKS9pLC9zYWZhcmkgKGxpbmUpXFwvKFtcXHdcXC5dKykvaSwvXFxiKGxpbmUpXFwvKFtcXHdcXC5dKylcXC9pYWIvaSwvKGFsaXBheSljbGllbnRcXC8oW1xcd1xcLl0rKS9pLC8odHdpdHRlcikoPzphbmR8IGYuK2VcXC8oW1xcd1xcLl0rKSkvaSwvKGNocm9taXVtfGluc3RhZ3JhbXxzbmFwY2hhdClbXFwvIF0oWy1cXHdcXC5dKykvaV0sW2wscF0sWy9cXGJnc2FcXC8oW1xcd1xcLl0rKSAuKnNhZmFyaVxcLy9pXSxbcCxbbCxcIkdTQVwiXV0sWy9tdXNpY2FsX2x5KD86LithcHBfP3ZlcnNpb25cXC98XykoW1xcd1xcLl0rKS9pXSxbcCxbbCxcIlRpa1Rva1wiXV0sWy9oZWFkbGVzc2Nocm9tZSg/OlxcLyhbXFx3XFwuXSspfCApL2ldLFtwLFtsLEErXCIgSGVhZGxlc3NcIl1dLFsvIHd2XFwpLisoY2hyb21lKVxcLyhbXFx3XFwuXSspL2ldLFtbbCxBK1wiIFdlYlZpZXdcIl0scF0sWy9kcm9pZC4rIHZlcnNpb25cXC8oW1xcd1xcLl0rKVxcYi4rKD86bW9iaWxlIHNhZmFyaXxzYWZhcmkpL2ldLFtwLFtsLFwiQW5kcm9pZCBcIitJXV0sWy8oY2hyb21lfG9tbml3ZWJ8YXJvcmF8W3RpemVub2thXXs1fSA/YnJvd3NlcilcXC92PyhbXFx3XFwuXSspL2ldLFtsLHBdLFsvdmVyc2lvblxcLyhbXFx3XFwuXFwsXSspIC4qbW9iaWxlXFwvXFx3KyAoc2FmYXJpKS9pXSxbcCxbbCxcIk1vYmlsZSBTYWZhcmlcIl1dLFsvdmVyc2lvblxcLyhbXFx3KFxcLnxcXCwpXSspIC4qKG1vYmlsZSA/c2FmYXJpfHNhZmFyaSkvaV0sW3AsbF0sWy93ZWJraXQuKz8obW9iaWxlID9zYWZhcml8c2FmYXJpKShcXC9bXFx3XFwuXSspL2ldLFtsLFtwLFose1wiMS4wXCI6XCIvOFwiLDEuMjpcIi8xXCIsMS4zOlwiLzNcIixcIjIuMFwiOlwiLzQxMlwiLFwiMi4wLjJcIjpcIi80MTZcIixcIjIuMC4zXCI6XCIvNDE3XCIsXCIyLjAuNFwiOlwiLzQxOVwiLFwiP1wiOlwiL1wifV1dLFsvKHdlYmtpdHxraHRtbClcXC8oW1xcd1xcLl0rKS9pXSxbbCxwXSxbLyhuYXZpZ2F0b3J8bmV0c2NhcGVcXGQ/KVxcLyhbLVxcd1xcLl0rKS9pXSxbW2wsXCJOZXRzY2FwZVwiXSxwXSxbLyh3b2x2aWN8bGlicmV3b2xmKVxcLyhbXFx3XFwuXSspL2ldLFtsLHBdLFsvbW9iaWxlIHZyOyBydjooW1xcd1xcLl0rKVxcKS4rZmlyZWZveC9pXSxbcCxbbCxiK1wiIFJlYWxpdHlcIl1dLFsvZWtpb2hmLisoZmxvdylcXC8oW1xcd1xcLl0rKS9pLC8oc3dpZnRmb3gpL2ksLyhpY2VkcmFnb258aWNld2Vhc2VsfGNhbWlub3xjaGltZXJhfGZlbm5lY3xtYWVtbyBicm93c2VyfG1pbmltb3xjb25rZXJvcilbXFwvIF0/KFtcXHdcXC5cXCtdKykvaSwvKHNlYW1vbmtleXxrLW1lbGVvbnxpY2VjYXR8aWNlYXBlfGZpcmViaXJkfHBob2VuaXh8cGFsZW1vb258YmFzaWxpc2t8d2F0ZXJmb3gpXFwvKFstXFx3XFwuXSspJC9pLC8oZmlyZWZveClcXC8oW1xcd1xcLl0rKS9pLC8obW96aWxsYSlcXC8oW1xcd1xcLl0rKSAuK3J2XFw6LitnZWNrb1xcL1xcZCsvaSwvKGFtYXlhfGRpbGxvfGRvcmlzfGljYWJ8bGFkeWJpcmR8bHlueHxtb3NhaWN8bmV0c3VyZnxvYmlnb3xwb2xhcmlzfHczbXwoPzpnb3xpY2V8dXApW1xcLiBdP2Jyb3dzZXIpWy1cXC8gXT92PyhbXFx3XFwuXSspL2ksL1xcYihsaW5rcykgXFwoKFtcXHdcXC5dKykvaV0sW2wsW3AsL18vZyxcIi5cIl1dLFsvKGNvYmFsdClcXC8oW1xcd1xcLl0rKS9pXSxbbCxbcCwvbWFzdGVyLnxsdHMuLyxcIlwiXV1dLGNwdTpbWy9cXGIoKGFtZHx4fHg4NlstX10/fHdvd3x3aW4pNjQpXFxiL2ldLFtbXyxcImFtZDY0XCJdXSxbLyhpYTMyKD89OykpL2ksL1xcYigoaVszNDZdfHgpODYpKHBjKT9cXGIvaV0sW1tfLFwiaWEzMlwiXV0sWy9cXGIoYWFyY2g2NHxhcm0odj9bODldZT9sP3xfPzY0KSlcXGIvaV0sW1tfLFwiYXJtNjRcIl1dLFsvXFxiKGFybSh2WzY3XSk/aHQ/bj9bZmxdcD8pXFxiL2ldLFtbXyxcImFybWhmXCJdXSxbLyggKGNlfG1vYmlsZSk7IHBwYzt8XFwvW1xcd1xcLl0rYXJtXFxiKS9pXSxbW18sXCJhcm1cIl1dLFsvKChwcGN8cG93ZXJwYykoNjQpPykoIG1hY3w7fFxcKSkvaV0sW1tfLC9vd2VyLyxcIlwiLFhdXSxbLyBzdW40XFx3WztcXCldL2ldLFtbXyxcInNwYXJjXCJdXSxbL1xcYihhdnIzMnxpYTY0KD89Oyl8NjhrKD89XFwpKXxcXGJhcm0oPz12KFsxLTddfFs1LTddMSlsP3w7fGVhYmkpfChpcml4fG1pcHN8c3BhcmMpKDY0KT9cXGJ8cGEtcmlzYykvaV0sW1tfLFhdXV0sZGV2aWNlOltbL1xcYihzY2gtaVs4OV0wXFxkfHNody1tMzgwc3xzbS1bcHR4XVxcd3syLDR9fGd0LVtwbl1cXGR7Miw0fXxzZ2gtdDhbNTZdOXxuZXh1cyAxMCkvaV0sW2QsW2gseF0sW3UsZl1dLFsvXFxiKCg/OnNbY2dwXWh8Z3R8c20pLSg/IVtscl0pXFx3K3xzY1tnLV0/W1xcZF0rYT98Z2FsYXh5IG5leHVzKS9pLC9zYW1zdW5nWy0gXSgoPyFzbS1bbHJdKVstXFx3XSspL2ksL3NlYy0oc2doXFx3KykvaV0sW2QsW2gseF0sW3UsbV1dLFsvKD86XFwvfFxcKCkoaXAoPzpob25lfG9kKVtcXHcsIF0qKSg/OlxcL3w7KS9pXSxbZCxbaCxDXSxbdSxtXV0sWy9cXCgoaXBhZCk7Wy1cXHdcXCksOyBdK2FwcGxlL2ksL2FwcGxlY29yZW1lZGlhXFwvW1xcd1xcLl0rIFxcKChpcGFkKS9pLC9cXGIoaXBhZClcXGRcXGQ/LFxcZFxcZD9bO1xcXV0uK2lvcy9pXSxbZCxbaCxDXSxbdSxmXV0sWy8obWFjaW50b3NoKTsvaV0sW2QsW2gsQ11dLFsvXFxiKHNoLT9bYWx0dnpdP1xcZFxcZFthLWVrbV0/KS9pXSxbZCxbaCxGXSxbdSxtXV0sWy9cXGIoKD86YnJ0fGVsbnxoZXkyP3xnZGl8amRuKS1hP1tsbnddMDl8KD86YWdbcm1dMz98amRuMnxrb2IyKS1hP1tsd10wWzA5XWhuKSg/OiBidWl8XFwpfDspL2ldLFtkLFtoLE9dLFt1LGZdXSxbL2hvbm9yKFstXFx3IF0rKVs7XFwpXS9pXSxbZCxbaCxPXSxbdSxtXV0sWy9cXGIoKD86YWdbcnNdWzIzNTZdP2s/fGJhaFsyMzRdP3xiZ1syb118YnRba3ZdfGNtcnxjcG58ZGJbcnldMj98amRuMnxnb3R8a29iMj9rP3xtb258cGNlfHNjbXxzaHQ/fFt0d11ncnx2cmQpLVthZF0/W2x3XVswMTI1XVswOV1iP3w2MDVod3xiZzItdTAzfCg/OmdlbXxmZHJ8bTJ8cGxlfHQxKS1bN2FdMFsxLTRdW2x1XXx0MS1hMlsxM11bbHddfG1lZGlhcGFkW1xcd1xcLiBdKig/PSBidWl8XFwpKSlcXGIoPyEuK2RcXC9zKS9pXSxbZCxbaCxOXSxbdSxmXV0sWy8oPzpodWF3ZWkpKFstXFx3IF0rKVs7XFwpXS9pLC9cXGIobmV4dXMgNnB8XFx3ezIsNH1lPy1bYXR1XT9bbG5dW1xcZHhdWzAxMjM1OWNdW2Fkbl0/KVxcYig/IS4rZFxcL3MpL2ldLFtkLFtoLE5dLFt1LG1dXSxbL29pZFteXFwpXSs7ICgyW1xcZGJjXXs0fSgxODJ8MjgzfHJwXFx3ezJ9KVtjZ2xdfG0yMTA1azgxYT9jKSg/OiBidWl8XFwpKS9pLC9cXGIoKD86cmVkKT9taVstXyBdP3BhZFtcXHctIF0qKSg/OiBidWl8XFwpKS9pXSxbW2QsL18vZyxcIiBcIl0sW2gsal0sW3UsZl1dLFsvXFxiKHBvY29bXFx3IF0rfG0yXFxkezN9alxcZFxcZFthLXpdezJ9KSg/OiBidWl8XFwpKS9pLC9cXGI7IChcXHcrKSBidWlsZFxcL2htXFwxL2ksL1xcYihobVstXyBdP25vdGU/W18gXT8oPzpcXGRcXHcpPykgYnVpL2ksL1xcYihyZWRtaVtcXC1fIF0/KD86bm90ZXxrKT9bXFx3XyBdKykoPzogYnVpfFxcKSkvaSwvb2lkW15cXCldKzsgKG0/WzEyXVswLTM4OV1bMDFdXFx3ezMsNn1bYy15XSkoIGJ1aXw7IHd2fFxcKSkvaSwvXFxiKG1pWy1fIF0/KD86YVxcZHxvbmV8b25lW18gXXBsdXN8bm90ZSBsdGV8bWF4fGNjKT9bXyBdPyg/OlxcZD9cXHc/KVtfIF0/KD86cGx1c3xzZXxsaXRlfHBybyk/KSg/OiBidWl8XFwpKS9pLC8gKFtcXHcgXSspIG1pdWlcXC92P1xcZC9pXSxbW2QsL18vZyxcIiBcIl0sW2gsal0sW3UsbV1dLFsvOyAoXFx3KykgYnVpLisgb3Bwby9pLC9cXGIoY3BoWzEyXVxcZHszfXxwKD86YWZ8Y1thbF18ZFxcd3xlW2FyXSlbbXRdXFxkMHx4OTAwN3xhMTAxb3ApXFxiL2ldLFtkLFtoLFZdLFt1LG1dXSxbL1xcYihvcGQyKFxcZHszfWE/KSkoPzogYnVpfFxcKSkvaV0sW2QsW2gsWix7T25lUGx1czpbXCIzMDRcIixcIjQwM1wiLFwiMjAzXCJdLFwiKlwiOlZ9XSxbdSxmXV0sWy92aXZvIChcXHcrKSg/OiBidWl8XFwpKS9pLC9cXGIodlsxMl1cXGR7M31cXHc/W2F0XSkoPzogYnVpfDspL2ldLFtkLFtoLFwiVml2b1wiXSxbdSxtXV0sWy9cXGIocm14WzEtM11cXGR7M30pKD86IGJ1aXw7fFxcKSkvaV0sW2QsW2gsXCJSZWFsbWVcIl0sW3UsbV1dLFsvXFxiKG1pbGVzdG9uZXxkcm9pZCg/OlsyLTR4XXwgKD86YmlvbmljfHgyfHByb3xyYXpyKSk/Oj8oIDRnKT8pXFxiW1xcdyBdK2J1aWxkXFwvL2ksL1xcYm1vdCg/Om9yb2xhKT9bLSBdKFxcdyopL2ksLygoPzptb3RvKD8hIDM2MClbXFx3XFwoXFwpIF0rfHh0XFxkezMsNH18bmV4dXMgNikoPz0gYnVpfFxcKSkpL2ldLFtkLFtoLExdLFt1LG1dXSxbL1xcYihtejYwXFxkfHhvb21bMiBdezAsMn0pIGJ1aWxkXFwvL2ldLFtkLFtoLExdLFt1LGZdXSxbLygoPz1sZyk/W3ZsXWtcXC0/XFxkezN9KSBidWl8IDNcXC5bLVxcdzsgXXsxMH1sZz8tKFswNmN2OV17Myw0fSkvaV0sW2QsW2gsRF0sW3UsZl1dLFsvKGxtKD86LT9mMTAwW252XT98LVtcXHdcXC5dKykoPz0gYnVpfFxcKSl8bmV4dXMgWzQ1XSkvaSwvXFxibGdbLWU7XFwvIF0rKCg/IWJyb3dzZXJ8bmV0Y2FzdHxhbmRyb2lkIHR2fHdhdGNoKVxcdyspL2ksL1xcYmxnLT8oW1xcZFxcd10rKSBidWkvaV0sW2QsW2gsRF0sW3UsbV1dLFsvKGlkZWF0YWJbLVxcdyBdK3w2MDJsdnxkLTQyYXxhMTAxbHZ8YTIxMDlhfGEzNTAwLWh2fHNbNTZdMDAwfHBiLTY1MDVbbXldfHRiLT94P1xcZHszLDR9KD86ZltjdV18eHV8W2F2XSl8eXRcXGQ/LVtqeF0/XFxkK1tsZm14XSkoIGJ1aXw7fFxcKXxcXC8pL2ksL2xlbm92byA/KGJbNjhdMFswOF0wLT9baGZdP3x0YWIoPzpbXFx3LSBdKz8pfHRiW1xcdy1dezYsN30pKCBidWl8O3xcXCl8XFwvKS9pXSxbZCxbaCxcIkxlbm92b1wiXSxbdSxmXV0sWy8obm9raWEpICh0WzEyXVswMV0pL2ldLFtoLGQsW3UsZl1dLFsvKD86bWFlbW98bm9raWEpLioobjkwMHxsdW1pYSBcXGQrfHJtLVxcZCspL2ksL25va2lhWy1fIF0/KChbLVxcd1xcLiBdKikpL2ldLFtbZCwvXy9nLFwiIFwiXSxbdSxtXSxbaCxcIk5va2lhXCJdXSxbLyhwaXhlbCAoY3x0YWJsZXQpKVxcYi9pXSxbZCxbaCx3XSxbdSxmXV0sWy9kcm9pZC4rOyAocGl4ZWxbXFxkYXhsIF17MCw2fSkoPzogYnVpfFxcKSkvaV0sW2QsW2gsd10sW3UsbV1dLFsvZHJvaWQuKzsgKGE/XFxkWzAtMl17Mn1zb3xbYy1nXVxcZHs0fXxzb1stZ2xdXFx3K3x4cS1hXFx3WzQtN11bMTJdKSg/PSBidWl8XFwpLitjaHJvbWVcXC8oPyFbMS02XXswLDF9XFxkXFwuKSkvaV0sW2QsW2gsQl0sW3UsbV1dLFsvc29ueSB0YWJsZXQgW3BzXS9pLC9cXGIoPzpzb255KT9zZ3BcXHcrKD86IGJ1aXxcXCkpL2ldLFtbZCxcIlhwZXJpYSBUYWJsZXRcIl0sW2gsQl0sW3UsZl1dLFsvIChrYjIwMDV8aW4yMFsxMl01fGJlMjBbMTJdWzU5XSlcXGIvaSwvKD86b25lKT8oPzpwbHVzKT8gKGFcXGQwXFxkXFxkKSg/OiBifFxcKSkvaV0sW2QsW2gsTV0sW3UsbV1dLFsvKGFsZXhhKXdlYm0vaSwvKGtmW2Etel17Mn13aXxhZW8oPyFiYylcXHdcXHcpKCBidWl8XFwpKS9pLC8oa2ZbYS16XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pXSxbZCxbaCxSXSxbdSxmXV0sWy8oKD86c2R8a2YpWzAzNDloaWpvcnN0dXddKykoIGJ1aXxcXCkpLitzaWxrXFwvL2ldLFtbZCwvKC4rKS9nLFwiRmlyZSBQaG9uZSAkMVwiXSxbaCxSXSxbdSxtXV0sWy8ocGxheWJvb2spO1stXFx3XFwpLDsgXSsocmltKS9pXSxbZCxoLFt1LGZdXSxbL1xcYigoPzpiYlthLWZdfHN0W2h2XSkxMDAtXFxkKS9pLC9cXChiYjEwOyAoXFx3KykvaV0sW2QsW2gseV0sW3UsbV1dLFsvKD86XFxifGFzdXNfKSh0cmFuc2ZvW3ByaW1lIF17NCwxMH0gXFx3K3xlZWVwY3xzbGlkZXIgXFx3K3xuZXh1cyA3fHBhZGZvbmV8cDAwW2NqXSkvaV0sW2QsW2gsdl0sW3UsZl1dLFsvICh6W2Jlc102WzAyN11bMDEyXVtrbV1bbHNdfHplbmZvbmUgXFxkXFx3PylcXGIvaV0sW2QsW2gsdl0sW3UsbV1dLFsvKG5leHVzIDkpL2ldLFtkLFtoLFwiSFRDXCJdLFt1LGZdXSxbLyhodGMpWy07XyBdezEsMn0oW1xcdyBdKyg/PVxcKXwgYnVpKXxcXHcrKS9pLC8oenRlKVstIF0oW1xcdyBdKz8pKD86IGJ1aXxcXC98XFwpKS9pLC8oYWxjYXRlbHxnZWVrc3Bob25lfG5leGlhbnxwYW5hc29uaWMoPyEoPzo7fFxcLikpfHNvbnkoPyEtYnJhKSlbLV8gXT8oWy1cXHddKikvaV0sW2gsW2QsL18vZyxcIiBcIl0sW3UsbV1dLFsvZHJvaWQgW1xcd1xcLl0rOyAoKD86OFsxNF05WzE2XXw5KD86MCg/OjQ4fDYwfDhbMDFdKXwxKD86M1syN118NjYpfDIoPzo2WzY5XXw5WzU2XSl8NDY2KSlbZ3Fzd3hdKVxcdyooXFwpfCBidWkpL2ldLFtkLFtoLFwiVENMXCJdLFt1LGZdXSxbLyhpdGVsKSAoKFxcdyspKS9pXSxbW2gsWF0sZCxbdSxaLHt0YWJsZXQ6W1wicDEwMDAxbFwiLFwidzcwMDFcIl0sXCIqXCI6XCJtb2JpbGVcIn1dXSxbL2Ryb2lkLis7IChbYWJdWzEtN10tP1swMTc4YV1cXGRcXGQ/KS9pXSxbZCxbaCxcIkFjZXJcIl0sW3UsZl1dLFsvZHJvaWQuKzsgKG1bMS01XSBub3RlKSBidWkvaSwvXFxibXotKFstXFx3XXsyLH0pL2ldLFtkLFtoLFwiTWVpenVcIl0sW3UsbV1dLFsvOyAoKD86cG93ZXIgKT9hcm1vcig/OltcXHcgXXswLDh9KSkoPzogYnVpfFxcKSkvaV0sW2QsW2gsXCJVbGVmb25lXCJdLFt1LG1dXSxbLzsgKGVuZXJneSA/XFx3KykoPzogYnVpfFxcKSkvaSwvOyBlbmVyZ2l6ZXIgKFtcXHcgXSspKD86IGJ1aXxcXCkpL2ldLFtkLFtoLFwiRW5lcmdpemVyXCJdLFt1LG1dXSxbLzsgY2F0IChiMzUpOy9pLC87IChiMTVxP3xzMjIgZmxpcHxzNDhjfHM2MiBwcm8pKD86IGJ1aXxcXCkpL2ldLFtkLFtoLFwiQ2F0XCJdLFt1LG1dXSxbLygoPzpuZXcgKT9hbmRyb21heFtcXHctIF0rKSg/OiBidWl8XFwpKS9pXSxbZCxbaCxcIlNtYXJ0ZnJlblwiXSxbdSxtXV0sWy9kcm9pZC4rOyAoYSg/OjAxNXwwNlszNV18MTQycD8pKS9pXSxbZCxbaCxcIk5vdGhpbmdcIl0sW3UsbV1dLFsvOyAoeDY3IDVnfHRpa2Vhc3kgXFx3K3xhY1sxNzg5XVxcZFxcdyspKCBifFxcKSkvaSwvYXJjaG9zID8oNXxnYW1lcGFkMj98KFtcXHcgXSpbdDE3ODldfGhlbGxvKSA/XFxkK1tcXHcgXSopKCBifFxcKSkvaV0sW2QsW2gsXCJBcmNob3NcIl0sW3UsZl1dLFsvYXJjaG9zIChbXFx3IF0rKSggYnxcXCkpL2ksLzsgKGFjWzMtNl1cXGRcXHd7Miw4fSkoIGJ8XFwpKS9pXSxbZCxbaCxcIkFyY2hvc1wiXSxbdSxtXV0sWy8oaW1vKSAodGFiIFxcdyspL2ksLyhpbmZpbml4KSAoeDExMDFiPykvaV0sW2gsZCxbdSxmXV0sWy8oYmxhY2tiZXJyeXxiZW5xfHBhbG0oPz1cXC0pfHNvbnllcmljc3NvbnxhY2VyfGFzdXMoPyEgemVudyl8ZGVsbHxqb2xsYXxtZWl6dXxtb3Rvcm9sYXxwb2x5dHJvbnxpbmZpbml4fHRlY25vfG1pY3JvbWF4fGFkdmFuKVstXyBdPyhbLVxcd10qKS9pLC87IChobWR8aW1vKSAoW1xcdyBdKz8pKD86IGJ1aXxcXCkpL2ksLyhocCkgKFtcXHcgXStcXHcpL2ksLyhtaWNyb3NvZnQpOyAobHVtaWFbXFx3IF0rKS9pLC8obGVub3ZvKVstXyBdPyhbLVxcdyBdKz8pKD86IGJ1aXxcXCl8XFwvKS9pLC8ob3BwbykgPyhbXFx3IF0rKSBidWkvaV0sW2gsZCxbdSxtXV0sWy8oa29ibylcXHMoZXJlYWRlcnx0b3VjaCkvaSwvKGhwKS4rKHRvdWNocGFkKD8hLit0YWJsZXQpfHRhYmxldCkvaSwvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLC8obm9vaylbXFx3IF0rYnVpbGRcXC8oXFx3KykvaSwvKGRlbGwpIChzdHJlYVtrcHJcXGQgXSpbXFxka29dKS9pLC8obGVbLSBdK3BhbilbLSBdKyhcXHd7MSw5fSkgYnVpL2ksLyh0cmluaXR5KVstIF0qKHRcXGR7M30pIGJ1aS9pLC8oZ2lnYXNldClbLSBdKyhxXFx3ezEsOX0pIGJ1aS9pLC8odm9kYWZvbmUpIChbXFx3IF0rKSg/OlxcKXwgYnVpKS9pXSxbaCxkLFt1LGZdXSxbLyhzdXJmYWNlIGR1bykvaV0sW2QsW2gsUF0sW3UsZl1dLFsvZHJvaWQgW1xcZFxcLl0rOyAoZnBcXGR1PykoPzogYnxcXCkpL2ldLFtkLFtoLFwiRmFpcnBob25lXCJdLFt1LG1dXSxbLyh1MzA0YWEpL2ldLFtkLFtoLFwiQVQmVFwiXSxbdSxtXV0sWy9cXGJzaWUtKFxcdyopL2ldLFtkLFtoLFwiU2llbWVuc1wiXSxbdSxtXV0sWy9cXGIocmN0XFx3KykgYi9pXSxbZCxbaCxcIlJDQVwiXSxbdSxmXV0sWy9cXGIodmVudWVbXFxkIF17Miw3fSkgYi9pXSxbZCxbaCxcIkRlbGxcIl0sW3UsZl1dLFsvXFxiKHEoPzptdnx0YSlcXHcrKSBiL2ldLFtkLFtoLFwiVmVyaXpvblwiXSxbdSxmXV0sWy9cXGIoPzpiYXJuZXNbJiBdK25vYmxlIHxibltydF0pKFtcXHdcXCsgXSopIGIvaV0sW2QsW2gsXCJCYXJuZXMgJiBOb2JsZVwiXSxbdSxmXV0sWy9cXGIodG1cXGR7M31cXHcrKSBiL2ldLFtkLFtoLFwiTnVWaXNpb25cIl0sW3UsZl1dLFsvXFxiKGs4OCkgYi9pXSxbZCxbaCxcIlpURVwiXSxbdSxmXV0sWy9cXGIobnhcXGR7M31qKSBiL2ldLFtkLFtoLFwiWlRFXCJdLFt1LG1dXSxbL1xcYihnZW5cXGR7M30pIGIuKzQ5aC9pXSxbZCxbaCxcIlN3aXNzXCJdLFt1LG1dXSxbL1xcYih6dXJcXGR7M30pIGIvaV0sW2QsW2gsXCJTd2lzc1wiXSxbdSxmXV0sWy9cXGIoKHpla2kpP3RiLipcXGIpIGIvaV0sW2QsW2gsXCJaZWtpXCJdLFt1LGZdXSxbL1xcYihbeXJdXFxkezJ9KSBiL2ksL1xcYihkcmFnb25bLSBdK3RvdWNoIHxkdCkoXFx3ezV9KSBiL2ldLFtbaCxcIkRyYWdvbiBUb3VjaFwiXSxkLFt1LGZdXSxbL1xcYihucy0/XFx3ezAsOX0pIGIvaV0sW2QsW2gsXCJJbnNpZ25pYVwiXSxbdSxmXV0sWy9cXGIoKG54YXxuZXh0KS0/XFx3ezAsOX0pIGIvaV0sW2QsW2gsXCJOZXh0Qm9va1wiXSxbdSxmXV0sWy9cXGIoeHRyZW1lXFxfKT8odigxWzA0NV18MlswMTVdfFszNDY5XTB8N1swNV0pKSBiL2ldLFtbaCxcIlZvaWNlXCJdLGQsW3UsbV1dLFsvXFxiKGx2dGVsXFwtKT8odjFbMTJdKSBiL2ldLFtbaCxcIkx2VGVsXCJdLGQsW3UsbV1dLFsvXFxiKHBoLTEpIC9pXSxbZCxbaCxcIkVzc2VudGlhbFwiXSxbdSxtXV0sWy9cXGIodigxMDBtZHw3MDBuYXw3MDExfDkxN2cpLipcXGIpIGIvaV0sW2QsW2gsXCJFbnZpemVuXCJdLFt1LGZdXSxbL1xcYih0cmlvWy1cXHdcXC4gXSspIGIvaV0sW2QsW2gsXCJNYWNoU3BlZWRcIl0sW3UsZl1dLFsvXFxidHVfKDE0OTEpIGIvaV0sW2QsW2gsXCJSb3RvclwiXSxbdSxmXV0sWy8oKD86dGVncmFub3RlfHNoaWVsZCB0KD8hLitkIHR2KSlbXFx3LSBdKj8pKD86IGJ8XFwpKS9pXSxbZCxbaCxrXSxbdSxmXV0sWy8oc3ByaW50KSAoXFx3KykvaV0sW2gsZCxbdSxtXV0sWy8oa2luXFwuW29uZXR3XXszfSkvaV0sW1tkLC9cXC4vZyxcIiBcIl0sW2gsUF0sW3UsbV1dLFsvZHJvaWQuKzsgKGNjNjY2Nj98ZXQ1WzE2XXxtY1syMzldWzIzXXg/fHZjOFswM114PylcXCkvaV0sW2QsW2gsR10sW3UsZl1dLFsvZHJvaWQuKzsgKGVjMzB8cHMyMHx0Y1syLThdXFxkW2t4XSlcXCkvaV0sW2QsW2gsR10sW3UsbV1dLFsvc21hcnQtdHYuKyhzYW1zdW5nKS9pXSxbaCxbdSxTXV0sWy9oYmJ0di4rbWFwbGU7KFxcZCspL2ldLFtbZCwvXi8sXCJTbWFydFRWXCJdLFtoLHhdLFt1LFNdXSxbLyhudXg7IG5ldGNhc3QuK3NtYXJ0dHZ8bGcgKG5ldGNhc3RcXC50di0yMDFcXGR8YW5kcm9pZCB0dikpL2ldLFtbaCxEXSxbdSxTXV0sWy8oYXBwbGUpID90di9pXSxbaCxbZCxDK1wiIFRWXCJdLFt1LFNdXSxbL2Nya2V5L2ldLFtbZCxBK1wiY2FzdFwiXSxbaCx3XSxbdSxTXV0sWy9kcm9pZC4rYWZ0KFxcdyspKCBidWl8XFwpKS9pXSxbZCxbaCxSXSxbdSxTXV0sWy8oc2hpZWxkIFxcdysgdHYpL2ldLFtkLFtoLGtdLFt1LFNdXSxbL1xcKGR0dltcXCk7XS4rKGFxdW9zKS9pLC8oYXF1b3MtdHZbXFx3IF0rKVxcKS9pXSxbZCxbaCxGXSxbdSxTXV0sWy8oYnJhdmlhW1xcdyBdKykoIGJ1aXxcXCkpL2ldLFtkLFtoLEJdLFt1LFNdXSxbLyhtaSh0dnxib3gpLT9cXHcrKSBidWkvaV0sW2QsW2gsal0sW3UsU11dLFsvSGJidHYuKih0ZWNobmlzYXQpICguKik7L2ldLFtoLGQsW3UsU11dLFsvXFxiKHJva3UpW1xcZHhdKltcXClcXC9dKCg/OmR2cC0pP1tcXGRcXC5dKikvaSwvaGJidHZcXC9cXGQrXFwuXFxkK1xcLlxcZCsgK1xcKFtcXHdcXCsgXSo7ICooW1xcd1xcZF1bXjtdKik7KFteO10qKS9pXSxbW2gsSl0sW2QsSl0sW3UsU11dLFsvZHJvaWQuKzsgKFtcXHctIF0rKSAoPzphbmRyb2lkIHR2fHNtYXJ0Wy0gXT90dikvaV0sW2QsW3UsU11dLFsvXFxiKGFuZHJvaWQgdHZ8c21hcnRbLSBdP3R2fG9wZXJhIHR2fHR2OyBydjopXFxiL2ldLFtbdSxTXV0sWy8ob3V5YSkvaSwvKG5pbnRlbmRvKSAoW3dpZHMzdXRjaF0rKS9pXSxbaCxkLFt1LEVdXSxbL2Ryb2lkLis7IChzaGllbGQpKCBidWl8XFwpKS9pXSxbZCxbaCxrXSxbdSxFXV0sWy8ocGxheXN0YXRpb24gXFx3KykvaV0sW2QsW2gsQl0sW3UsRV1dLFsvXFxiKHhib3goPzogb25lKT8oPyE7IHhib3gpKVtcXCk7IF0vaV0sW2QsW2gsUF0sW3UsRV1dLFsvXFxiKHNtLVtscl1cXGRcXGRbMDE1Nl1bZm51d10/cz98Z2VhciBsaXZlKVxcYi9pXSxbZCxbaCx4XSxbdSxnXV0sWy8oKHBlYmJsZSkpYXBwL2ksLyhhc3VzfGdvb2dsZXxsZ3xvcHBvKSAoKHBpeGVsIHx6ZW4pP3dhdGNoW1xcdyBdKikoIGJ1aXxcXCkpL2ldLFtoLGQsW3UsZ11dLFsvKG93KD86MTl8MjApP3dlP1sxLTNdezEsM30pL2ldLFtkLFtoLFZdLFt1LGddXSxbLyh3YXRjaCkoPzogP29zWyxcXC9dfFxcZCxcXGRcXC8pW1xcZFxcLl0rL2ldLFtkLFtoLENdLFt1LGddXSxbLyhvcHd3ZVxcZHszfSkvaV0sW2QsW2gsTV0sW3UsZ11dLFsvKG1vdG8gMzYwKS9pXSxbZCxbaCxMXSxbdSxnXV0sWy8oc21hcnR3YXRjaCAzKS9pXSxbZCxbaCxCXSxbdSxnXV0sWy8oZyB3YXRjaCByKS9pXSxbZCxbaCxEXSxbdSxnXV0sWy9kcm9pZC4rOyAod3Q2Mz8wezIsM30pXFwpL2ldLFtkLFtoLEddLFt1LGddXSxbL2Ryb2lkLis7IChnbGFzcykgXFxkL2ldLFtkLFtoLHddLFt1LGddXSxbLyhwaWNvKSAoNHxuZW8zKD86IGxpbmt8cHJvKT8pL2ldLFtoLGQsW3UsZ11dLFsvOyAocXVlc3QoIFxcZHwgcHJvKT8pL2ldLFtkLFtoLFddLFt1LGddXSxbLyh0ZXNsYSkoPzogcXRjYXJicm93c2VyfFxcL1stXFx3XFwuXSspL2ldLFtoLFt1LFRdXSxbLyhhZW9iYylcXGIvaV0sW2QsW2gsUl0sW3UsVF1dLFsvKGhvbWVwb2QpLittYWMgb3MvaV0sW2QsW2gsQ10sW3UsVF1dLFsvd2luZG93cyBpb3QvaV0sW1t1LFRdXSxbL2Ryb2lkIC4rPzsgKFteO10rPykoPzogYnVpfDsgd3ZcXCl8XFwpIGFwcGxldykuKz8gbW9iaWxlIHNhZmFyaS9pXSxbZCxbdSxtXV0sWy9kcm9pZCAuKz87IChbXjtdKz8pKD86IGJ1aXxcXCkgYXBwbGV3KS4rPyg/ISBtb2JpbGUpIHNhZmFyaS9pXSxbZCxbdSxmXV0sWy9cXGIoKHRhYmxldHx0YWIpWztcXC9dfGZvY3VzXFwvXFxkKD8hLittb2JpbGUpKS9pXSxbW3UsZl1dLFsvKHBob25lfG1vYmlsZSg/Ols7XFwvXXwgWyBcXHdcXC9cXC5dKnNhZmFyaSl8cGRhKD89Lit3aW5kb3dzIGNlKSkvaV0sW1t1LG1dXSxbL2Ryb2lkIC4rPzsgKFtcXHdcXC4gLV0rKSggYnVpfFxcKSkvaV0sW2QsW2gsXCJHZW5lcmljXCJdXV0sZW5naW5lOltbL3dpbmRvd3MuKyBlZGdlXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJFZGdlSFRNTFwiXV0sWy8oYXJrd2ViKVxcLyhbXFx3XFwuXSspL2ldLFtsLHBdLFsvd2Via2l0XFwvNTM3XFwuMzYuK2Nocm9tZVxcLyg/ITI3KShbXFx3XFwuXSspL2ldLFtwLFtsLFwiQmxpbmtcIl1dLFsvKHByZXN0bylcXC8oW1xcd1xcLl0rKS9pLC8od2Via2l0fHRyaWRlbnR8bmV0ZnJvbnR8bmV0c3VyZnxhbWF5YXxseW54fHczbXxnb2FubmF8c2Vydm8pXFwvKFtcXHdcXC5dKykvaSwvZWtpb2goZmxvdylcXC8oW1xcd1xcLl0rKS9pLC8oa2h0bWx8dGFzbWFufGxpbmtzKVtcXC8gXVxcKD8oW1xcd1xcLl0rKS9pLC8oaWNhYilbXFwvIF0oWzIzXVxcLltcXGRcXC5dKykvaSwvXFxiKGxpYndlYikvaV0sW2wscF0sWy9sYWR5YmlyZFxcLy9pXSxbW2wsXCJMaWJXZWJcIl1dLFsvcnZcXDooW1xcd1xcLl17MSw5fSlcXGIuKyhnZWNrbykvaV0sW3AsbF1dLG9zOltbL21pY3Jvc29mdCAod2luZG93cykgKHZpc3RhfHhwKS9pXSxbbCxwXSxbLyh3aW5kb3dzICg/OnBob25lKD86IG9zKT98bW9iaWxlfGlvdCkpW1xcLyBdPyhbXFxkXFwuXFx3IF0qKS9pXSxbbCxbcCxaLCRdXSxbL3dpbmRvd3MgbnQgNlxcLjI7IChhcm0pL2ksL3dpbmRvd3NbXFwvIF0oW250Y2VcXGRcXC4gXStcXHcpKD8hLit4Ym94KS9pLC8oPzp3aW4oPz0zfDl8bil8d2luIDl4ICkoW250XFxkXFwuXSspL2ldLFtbcCxaLCRdLFtsLFwiV2luZG93c1wiXV0sWy9bYWRlaGltbm9wXXs0LDd9XFxiKD86LipvcyAoW1xcd10rKSBsaWtlIG1hY3w7IG9wZXJhKS9pLC8oPzppb3M7ZmJzdlxcL3xpcGhvbmUuK2lvc1tcXC8gXSkoW1xcZFxcLl0rKS9pLC9jZm5ldHdvcmtcXC8uK2Rhcndpbi9pXSxbW3AsL18vZyxcIi5cIl0sW2wsXCJpT1NcIl1dLFsvKG1hYyBvcyB4KSA/KFtcXHdcXC4gXSopL2ksLyhtYWNpbnRvc2h8bWFjX3Bvd2VycGNcXGIpKD8hLitoYWlrdSkvaV0sW1tsLEtdLFtwLC9fL2csXCIuXCJdXSxbL2Ryb2lkIChbXFx3XFwuXSspXFxiLisoYW5kcm9pZFstIF14ODZ8aGFybW9ueW9zKS9pXSxbcCxsXSxbLyh1YnVudHUpIChbXFx3XFwuXSspIGxpa2UgYW5kcm9pZC9pXSxbW2wsLyguKykvLFwiJDEgVG91Y2hcIl0scF0sWy8oYW5kcm9pZHxiYWRhfGJsYWNrYmVycnl8a2Fpb3N8bWFlbW98bWVlZ298b3Blbmhhcm1vbnl8cW54fHJpbSB0YWJsZXQgb3N8c2FpbGZpc2h8c2VyaWVzNDB8c3ltYmlhbnx0aXplbnx3ZWJvcylcXHcqWy1cXC87IF0/KFtcXGRcXC5dKikvaV0sW2wscF0sWy9cXChiYigxMCk7L2ldLFtwLFtsLHldXSxbLyg/OnN5bWJpYW4gP29zfHN5bWJvc3xzNjAoPz07KXxzZXJpZXMgPzYwKVstXFwvIF0/KFtcXHdcXC5dKikvaV0sW3AsW2wsXCJTeW1iaWFuXCJdXSxbL21vemlsbGFcXC9bXFxkXFwuXSsgXFwoKD86bW9iaWxlfHRhYmxldHx0dnxtb2JpbGU7IFtcXHcgXSspOyBydjouKyBnZWNrb1xcLyhbXFx3XFwuXSspL2ldLFtwLFtsLGIrXCIgT1NcIl1dLFsvd2ViMHM7LitydCh0dikvaSwvXFxiKD86aHApP3dvcyg/OmJyb3dzZXIpP1xcLyhbXFx3XFwuXSspL2ldLFtwLFtsLFwid2ViT1NcIl1dLFsvd2F0Y2goPzogP29zWyxcXC9dfFxcZCxcXGRcXC8pKFtcXGRcXC5dKykvaV0sW3AsW2wsXCJ3YXRjaE9TXCJdXSxbL2Nya2V5XFwvKFtcXGRcXC5dKykvaV0sW3AsW2wsQStcImNhc3RcIl1dLFsvKGNyb3MpIFtcXHddKyg/OlxcKXwgKFtcXHdcXC5dKylcXGIpL2ldLFtbbCxIXSxwXSxbL3BhbmFzb25pYzsodmllcmEpL2ksLyhuZXRyYW5nZSltbWgvaSwvKG5ldHR2KVxcLyhcXGQrXFwuW1xcd1xcLl0rKS9pLC8obmludGVuZG98cGxheXN0YXRpb24pIChbd2lkczM0NXBvcnRhYmxldnVjaF0rKS9pLC8oeGJveCk7ICt4Ym94IChbXlxcKTtdKykvaSwvXFxiKGpvbGl8cGFsbSlcXGIgPyg/Om9zKT9cXC8/KFtcXHdcXC5dKikvaSwvKG1pbnQpW1xcL1xcKFxcKSBdPyhcXHcqKS9pLC8obWFnZWlhfHZlY3RvcmxpbnV4KVs7IF0vaSwvKFtreGxuXT91YnVudHV8ZGViaWFufHN1c2V8b3BlbnN1c2V8Z2VudG9vfGFyY2goPz0gbGludXgpfHNsYWNrd2FyZXxmZWRvcmF8bWFuZHJpdmF8Y2VudG9zfHBjbGludXhvc3xyZWQgP2hhdHx6ZW53YWxrfGxpbnB1c3xyYXNwYmlhbnxwbGFuIDl8bWluaXh8cmlzYyBvc3xjb250aWtpfGRlZXBpbnxtYW5qYXJvfGVsZW1lbnRhcnkgb3N8c2FiYXlvbnxsaW5zcGlyZSkoPzogZ251XFwvbGludXgpPyg/OiBlbnRlcnByaXNlKT8oPzpbLSBdbGludXgpPyg/Oi1nbnUpP1stXFwvIF0/KD8hY2hyb218cGFja2FnZSkoWy1cXHdcXC5dKikvaSwvKGh1cmR8bGludXgpKD86IGFybVxcdyp8IHg4Nlxcdyp8ID8pKFtcXHdcXC5dKikvaSwvKGdudSkgPyhbXFx3XFwuXSopL2ksL1xcYihbLWZyZW50b3BjZ2hzXXswLDV9YnNkfGRyYWdvbmZseSlbXFwvIF0/KD8hYW1kfFtpeDM0Nl17MSwyfTg2KShbXFx3XFwuXSopL2ksLyhoYWlrdSkgKFxcdyspL2ldLFtsLHBdLFsvKHN1bm9zKSA/KFtcXHdcXC5cXGRdKikvaV0sW1tsLFwiU29sYXJpc1wiXSxwXSxbLygoPzpvcGVuKT9zb2xhcmlzKVstXFwvIF0/KFtcXHdcXC5dKikvaSwvKGFpeCkgKChcXGQpKD89XFwufFxcKXwgKVtcXHdcXC5dKSovaSwvXFxiKGJlb3N8b3NcXC8yfGFtaWdhb3N8bW9ycGhvc3xvcGVudm1zfGZ1Y2hzaWF8aHAtdXh8c2VyZW5pdHlvcykvaSwvKHVuaXgpID8oW1xcd1xcLl0qKS9pXSxbbCxwXV19LHRlPWZ1bmN0aW9uKGUsaSl7aWYodHlwZW9mIGU9PT1zJiYoaT1lLGU9biksISh0aGlzIGluc3RhbmNlb2YgdGUpKXJldHVybiBuZXcgdGUoZSxpKS5nZXRSZXN1bHQoKTt2YXIgRT10eXBlb2YgdCE9PW8mJnQubmF2aWdhdG9yP3QubmF2aWdhdG9yOm4sUz1lfHwoRSYmRS51c2VyQWdlbnQ/RS51c2VyQWdlbnQ6XCJcIiksZz1FJiZFLnVzZXJBZ2VudERhdGE/RS51c2VyQWdlbnREYXRhOm4sVD1pP2Z1bmN0aW9uKGUsdCl7dmFyIGk9e307Zm9yKHZhciBuIGluIGUpdFtuXSYmdFtuXS5sZW5ndGglMj09MD9pW25dPXRbbl0uY29uY2F0KGVbbl0pOmlbbl09ZVtuXTtyZXR1cm4gaX0oZWUsaSk6ZWUsUj1FJiZFLnVzZXJBZ2VudD09UztyZXR1cm4gdGhpcy5nZXRCcm93c2VyPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbbF09bixlW3BdPW4sUS5jYWxsKGUsUyxULmJyb3dzZXIpLGVbY109ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09YT9lLnJlcGxhY2UoL1teXFxkXFwuXS9nLFwiXCIpLnNwbGl0KFwiLlwiKVswXTpufShlW3BdKSxSJiZFJiZFLmJyYXZlJiZ0eXBlb2YgRS5icmF2ZS5pc0JyYXZlPT1yJiYoZVtsXT1cIkJyYXZlXCIpLGV9LHRoaXMuZ2V0Q1BVPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbX109bixRLmNhbGwoZSxTLFQuY3B1KSxlfSx0aGlzLmdldERldmljZT1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlW2hdPW4sZVtkXT1uLGVbdV09bixRLmNhbGwoZSxTLFQuZGV2aWNlKSxSJiYhZVt1XSYmZyYmZy5tb2JpbGUmJihlW3VdPW0pLFImJlwiTWFjaW50b3NoXCI9PWVbZF0mJkUmJnR5cGVvZiBFLnN0YW5kYWxvbmUhPT1vJiZFLm1heFRvdWNoUG9pbnRzJiZFLm1heFRvdWNoUG9pbnRzPjImJihlW2RdPVwiaVBhZFwiLGVbdV09ZiksZX0sdGhpcy5nZXRFbmdpbmU9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZVtsXT1uLGVbcF09bixRLmNhbGwoZSxTLFQuZW5naW5lKSxlfSx0aGlzLmdldE9TPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbbF09bixlW3BdPW4sUS5jYWxsKGUsUyxULm9zKSxSJiYhZVtsXSYmZyYmZy5wbGF0Zm9ybSYmXCJVbmtub3duXCIhPWcucGxhdGZvcm0mJihlW2xdPWcucGxhdGZvcm0ucmVwbGFjZSgvY2hyb21lIG9zL2ksSCkucmVwbGFjZSgvbWFjb3MvaSxLKSksZX0sdGhpcy5nZXRSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57dWE6dGhpcy5nZXRVQSgpLGJyb3dzZXI6dGhpcy5nZXRCcm93c2VyKCksZW5naW5lOnRoaXMuZ2V0RW5naW5lKCksb3M6dGhpcy5nZXRPUygpLGRldmljZTp0aGlzLmdldERldmljZSgpLGNwdTp0aGlzLmdldENQVSgpfX0sdGhpcy5nZXRVQT1mdW5jdGlvbigpe3JldHVybiBTfSx0aGlzLnNldFVBPWZ1bmN0aW9uKGUpe3JldHVybiBTPXR5cGVvZiBlPT09YSYmZS5sZW5ndGg+NTAwP0ooZSw1MDApOmUsdGhpc30sdGhpcy5zZXRVQShTKSx0aGlzfTt0ZS5WRVJTSU9OPVwiMC43LjQxXCIsdGUuQlJPV1NFUj16KFtsLHAsY10pLHRlLkNQVT16KFtfXSksdGUuREVWSUNFPXooW2QsaCx1LEUsbSxTLGYsZyxUXSksdGUuRU5HSU5FPXRlLk9TPXooW2wscF0pLGUuZXhwb3J0cyYmKGk9ZS5leHBvcnRzPXRlKSxpLlVBUGFyc2VyPXRlO3ZhciBpZT10eXBlb2YgdCE9PW8mJih0LmpRdWVyeXx8dC5aZXB0byk7aWYoaWUmJiFpZS51YSl7dmFyIG5lPW5ldyB0ZTtpZS51YT1uZS5nZXRSZXN1bHQoKSxpZS51YS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmUuZ2V0VUEoKX0saWUudWEuc2V0PWZ1bmN0aW9uKGUpe25lLnNldFVBKGUpO3ZhciB0PW5lLmdldFJlc3VsdCgpO2Zvcih2YXIgaSBpbiB0KWllLnVhW2ldPXRbaV19fX0oXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdz93aW5kb3c6dCl9KHhULHhULmV4cG9ydHMpO3ZhciBGVD1pKHhULmV4cG9ydHMpLEJUPVVkLmNsZWFyO09pKHtnbG9iYWw6ITAsYmluZDohMCxlbnVtZXJhYmxlOiEwLGZvcmNlZDpoLmNsZWFySW1tZWRpYXRlIT09QlR9LHtjbGVhckltbWVkaWF0ZTpCVH0pO3ZhciBqVD1oLEdUPWYsV1Q9QSxIVD1xbixLVD1hZSxZVD1zZCx6VD1jZCxxVD1qVC5GdW5jdGlvbixYVD0vTVNJRSAuXFwuLy50ZXN0KEtUKXx8XCJCVU5cIj09PUhUJiZmdW5jdGlvbigpe3ZhciBlPWpULkJ1bi52ZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gZS5sZW5ndGg8M3x8XCIwXCI9PT1lWzBdJiYoZVsxXTwzfHxcIjNcIj09PWVbMV0mJlwiMFwiPT09ZVsyXSl9KCksSlQ9T2ksUVQ9aCxaVD1VZC5zZXQsJFQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10PzI6MTtyZXR1cm4gWFQ/ZnVuY3Rpb24obixyKXt2YXIgbz16VChhcmd1bWVudHMubGVuZ3RoLDEpPmkscz1XVChuKT9uOnFUKG4pLGE9bz9ZVChhcmd1bWVudHMsaSk6W10sYz1vP2Z1bmN0aW9uKCl7R1Qocyx0aGlzLGEpfTpzO3JldHVybiB0P2UoYyxyKTplKGMpfTplfSxlUj1RVC5zZXRJbW1lZGlhdGU/JFQoWlQsITEpOlpUO0pUKHtnbG9iYWw6ITAsYmluZDohMCxlbnVtZXJhYmxlOiEwLGZvcmNlZDpRVC5zZXRJbW1lZGlhdGUhPT1lUn0se3NldEltbWVkaWF0ZTplUn0pO3ZhciB0Uj1pKCQuc2V0SW1tZWRpYXRlKSxpUj1oLG5SPWhsLHJSPU5lLG9SPWNkLHNSPXc7T2koe2dsb2JhbDohMCxlbnVtZXJhYmxlOiEwLGRvbnRDYWxsR2V0U2V0OiEwLGZvcmNlZDpuKChmdW5jdGlvbigpe3JldHVybiBzUiYmMSE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaVIsXCJxdWV1ZU1pY3JvdGFza1wiKS52YWx1ZS5sZW5ndGh9KSl9LHtxdWV1ZU1pY3JvdGFzazpmdW5jdGlvbihlKXtvUihhcmd1bWVudHMubGVuZ3RoLDEpLG5SKHJSKGUpKX19KTt2YXIgYVI9aSgkLnF1ZXVlTWljcm90YXNrKTtmdW5jdGlvbiBjUihlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19Y29uc3R7dG9TdHJpbmc6ZFJ9PU9iamVjdC5wcm90b3R5cGUse2dldFByb3RvdHlwZU9mOmxSfT1PYmplY3Qse2l0ZXJhdG9yOnVSLHRvU3RyaW5nVGFnOmhSfT1TeW1ib2wscFI9KF9SPU9iamVjdC5jcmVhdGUobnVsbCksZT0+e2NvbnN0IHQ9ZFIuY2FsbChlKTtyZXR1cm4gX1JbdF18fChfUlt0XT10LnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCkpfSk7dmFyIF9SO2NvbnN0IEVSPWU9PihlPWUudG9Mb3dlckNhc2UoKSx0PT5wUih0KT09PWUpLG1SPWU9PnQ9PnR5cGVvZiB0PT09ZSx7aXNBcnJheTpmUn09QXJyYXksU1I9bVIoXCJ1bmRlZmluZWRcIik7ZnVuY3Rpb24gZ1IoZSl7cmV0dXJuIG51bGwhPT1lJiYhU1IoZSkmJm51bGwhPT1lLmNvbnN0cnVjdG9yJiYhU1IoZS5jb25zdHJ1Y3RvcikmJkNSKGUuY29uc3RydWN0b3IuaXNCdWZmZXIpJiZlLmNvbnN0cnVjdG9yLmlzQnVmZmVyKGUpfWNvbnN0IFRSPUVSKFwiQXJyYXlCdWZmZXJcIik7Y29uc3QgUlI9bVIoXCJzdHJpbmdcIiksQ1I9bVIoXCJmdW5jdGlvblwiKSx2Uj1tUihcIm51bWJlclwiKSx5Uj1lPT5udWxsIT09ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUsSVI9ZT0+e2lmKFwib2JqZWN0XCIhPT1wUihlKSlyZXR1cm4hMTtjb25zdCB0PWxSKGUpO3JldHVybiEobnVsbCE9PXQmJnQhPT1PYmplY3QucHJvdG90eXBlJiZudWxsIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfHxoUiBpbiBlfHx1UiBpbiBlKX0sQVI9RVIoXCJEYXRlXCIpLGJSPUVSKFwiRmlsZVwiKSx3Uj1FUihcIkJsb2JcIiksT1I9RVIoXCJGaWxlTGlzdFwiKSxOUj1FUihcIlVSTFNlYXJjaFBhcmFtc1wiKSxbRFIsUFIsTFIsa1JdPVtcIlJlYWRhYmxlU3RyZWFtXCIsXCJSZXF1ZXN0XCIsXCJSZXNwb25zZVwiLFwiSGVhZGVyc1wiXS5tYXAoRVIpO2Z1bmN0aW9uIE1SKGUsdCl7bGV0IGksbix7YWxsT3duS2V5czpyPSExfT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307aWYobnVsbCE9ZSlpZihcIm9iamVjdFwiIT10eXBlb2YgZSYmKGU9W2VdKSxmUihlKSlmb3IoaT0wLG49ZS5sZW5ndGg7aTxuO2krKyl0LmNhbGwobnVsbCxlW2ldLGksZSk7ZWxzZXtpZihnUihlKSlyZXR1cm47Y29uc3Qgbj1yP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpOk9iamVjdC5rZXlzKGUpLG89bi5sZW5ndGg7bGV0IHM7Zm9yKGk9MDtpPG87aSsrKXM9bltpXSx0LmNhbGwobnVsbCxlW3NdLHMsZSl9fWZ1bmN0aW9uIFVSKGUsdCl7aWYoZ1IoZSkpcmV0dXJuIG51bGw7dD10LnRvTG93ZXJDYXNlKCk7Y29uc3QgaT1PYmplY3Qua2V5cyhlKTtsZXQgbixyPWkubGVuZ3RoO2Zvcig7ci0tID4wOylpZihuPWlbcl0sdD09PW4udG9Mb3dlckNhc2UoKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH1jb25zdCBWUj12b2lkIDAhPT1WVD9WVDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Omdsb2JhbCx4Uj1lPT4hU1IoZSkmJmUhPT1WUjtjb25zdCBGUj0oQlI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJmxSKFVpbnQ4QXJyYXkpLGU9PkJSJiZlIGluc3RhbmNlb2YgQlIpO3ZhciBCUjtjb25zdCBqUj1FUihcIkhUTUxGb3JtRWxlbWVudFwiKSxHUj0oZT0+e2xldHtoYXNPd25Qcm9wZXJ0eTp0fT1lO3JldHVybihlLGkpPT50LmNhbGwoZSxpKX0pKE9iamVjdC5wcm90b3R5cGUpLFdSPUVSKFwiUmVnRXhwXCIpLEhSPShlLHQpPT57Y29uc3QgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhlKSxuPXt9O01SKGksKChpLHIpPT57bGV0IG87ITEhPT0obz10KGkscixlKSkmJihuW3JdPW98fGkpfSkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsbil9O2NvbnN0IEtSPUVSKFwiQXN5bmNGdW5jdGlvblwiKSxZUj0oelI9XCJmdW5jdGlvblwiPT10eXBlb2YgdFIscVI9Q1IoVlIucG9zdE1lc3NhZ2UpLHpSP3RSOnFSPyhYUj1cImF4aW9zQFwiLmNvbmNhdChNYXRoLnJhbmRvbSgpKSxKUj1bXSxWUi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChlPT57bGV0e3NvdXJjZTp0LGRhdGE6aX09ZTt0PT09VlImJmk9PT1YUiYmSlIubGVuZ3RoJiZKUi5zaGlmdCgpKCl9KSwhMSksZT0+e0pSLnB1c2goZSksVlIucG9zdE1lc3NhZ2UoWFIsXCIqXCIpfSk6ZT0+c2V0VGltZW91dChlKSk7dmFyIHpSLHFSLFhSLEpSO2NvbnN0IFFSPXZvaWQgMCE9PWFSP2FSLmJpbmQoVlIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzLm5leHRUaWNrfHxZUjt2YXIgWlI9e2lzQXJyYXk6ZlIsaXNBcnJheUJ1ZmZlcjpUUixpc0J1ZmZlcjpnUixpc0Zvcm1EYXRhOmU9PntsZXQgdDtyZXR1cm4gZSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEZvcm1EYXRhJiZlIGluc3RhbmNlb2YgRm9ybURhdGF8fENSKGUuYXBwZW5kKSYmKFwiZm9ybWRhdGFcIj09PSh0PXBSKGUpKXx8XCJvYmplY3RcIj09PXQmJkNSKGUudG9TdHJpbmcpJiZcIltvYmplY3QgRm9ybURhdGFdXCI9PT1lLnRvU3RyaW5nKCkpKX0saXNBcnJheUJ1ZmZlclZpZXc6ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuIHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KGUpOmUmJmUuYnVmZmVyJiZUUihlLmJ1ZmZlciksdH0saXNTdHJpbmc6UlIsaXNOdW1iZXI6dlIsaXNCb29sZWFuOmU9PiEwPT09ZXx8ITE9PT1lLGlzT2JqZWN0OnlSLGlzUGxhaW5PYmplY3Q6SVIsaXNFbXB0eU9iamVjdDplPT57aWYoIXlSKGUpfHxnUihlKSlyZXR1cm4hMTt0cnl7cmV0dXJuIDA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJk9iamVjdC5nZXRQcm90b3R5cGVPZihlKT09PU9iamVjdC5wcm90b3R5cGV9Y2F0Y2goZSl7cmV0dXJuITF9fSxpc1JlYWRhYmxlU3RyZWFtOkRSLGlzUmVxdWVzdDpQUixpc1Jlc3BvbnNlOkxSLGlzSGVhZGVyczprUixpc1VuZGVmaW5lZDpTUixpc0RhdGU6QVIsaXNGaWxlOmJSLGlzQmxvYjp3Uixpc1JlZ0V4cDpXUixpc0Z1bmN0aW9uOkNSLGlzU3RyZWFtOmU9PnlSKGUpJiZDUihlLnBpcGUpLGlzVVJMU2VhcmNoUGFyYW1zOk5SLGlzVHlwZWRBcnJheTpGUixpc0ZpbGVMaXN0Ok9SLGZvckVhY2g6TVIsbWVyZ2U6ZnVuY3Rpb24gZSgpe2NvbnN0e2Nhc2VsZXNzOnQsc2tpcFVuZGVmaW5lZDppfT14Uih0aGlzKSYmdGhpc3x8e30sbj17fSxyPShyLG8pPT57Y29uc3Qgcz10JiZVUihuLG8pfHxvO0lSKG5bc10pJiZJUihyKT9uW3NdPWUobltzXSxyKTpJUihyKT9uW3NdPWUoe30scik6ZlIocik/bltzXT1yLnNsaWNlKCk6aSYmU1Iocil8fChuW3NdPXIpfTtmb3IobGV0IGU9MCx0PWFyZ3VtZW50cy5sZW5ndGg7ZTx0O2UrKylhcmd1bWVudHNbZV0mJk1SKGFyZ3VtZW50c1tlXSxyKTtyZXR1cm4gbn0sZXh0ZW5kOmZ1bmN0aW9uKGUsdCxpKXtsZXR7YWxsT3duS2V5czpufT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e307cmV0dXJuIE1SKHQsKCh0LG4pPT57aSYmQ1IodCk/ZVtuXT1jUih0LGkpOmVbbl09dH0pLHthbGxPd25LZXlzOm59KSxlfSx0cmltOmU9PmtnKGUpP2tnKGUpLmNhbGwoZSk6ZS5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKSxzdHJpcEJPTTplPT4oNjUyNzk9PT1lLmNoYXJDb2RlQXQoMCkmJihlPWUuc2xpY2UoMSkpLGUpLGluaGVyaXRzOihlLHQsaSxuKT0+e2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUsbiksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInN1cGVyXCIse3ZhbHVlOnQucHJvdG90eXBlfSksaSYmT2JqZWN0LmFzc2lnbihlLnByb3RvdHlwZSxpKX0sdG9GbGF0T2JqZWN0OihlLHQsaSxuKT0+e2xldCByLG8scztjb25zdCBhPXt9O2lmKHQ9dHx8e30sbnVsbD09ZSlyZXR1cm4gdDtkb3tmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxvPXIubGVuZ3RoO28tLSA+MDspcz1yW29dLG4mJiFuKHMsZSx0KXx8YVtzXXx8KHRbc109ZVtzXSxhW3NdPSEwKTtlPSExIT09aSYmbFIoZSl9d2hpbGUoZSYmKCFpfHxpKGUsdCkpJiZlIT09T2JqZWN0LnByb3RvdHlwZSk7cmV0dXJuIHR9LGtpbmRPZjpwUixraW5kT2ZUZXN0OkVSLGVuZHNXaXRoOihlLHQsaSk9PntlPVN0cmluZyhlKSwodm9pZCAwPT09aXx8aT5lLmxlbmd0aCkmJihpPWUubGVuZ3RoKSxpLT10Lmxlbmd0aDtjb25zdCBuPWUuaW5kZXhPZih0LGkpO3JldHVybi0xIT09biYmbj09PWl9LHRvQXJyYXk6ZT0+e2lmKCFlKXJldHVybiBudWxsO2lmKGZSKGUpKXJldHVybiBlO2xldCB0PWUubGVuZ3RoO2lmKCF2Uih0KSlyZXR1cm4gbnVsbDtjb25zdCBpPW5ldyBBcnJheSh0KTtmb3IoO3QtLSA+MDspaVt0XT1lW3RdO3JldHVybiBpfSxmb3JFYWNoRW50cnk6KGUsdCk9Pntjb25zdCBpPShlJiZlW3VSXSkuY2FsbChlKTtsZXQgbjtmb3IoOyhuPWkubmV4dCgpKSYmIW4uZG9uZTspe2NvbnN0IGk9bi52YWx1ZTt0LmNhbGwoZSxpWzBdLGlbMV0pfX0sbWF0Y2hBbGw6KGUsdCk9PntsZXQgaTtjb25zdCBuPVtdO2Zvcig7bnVsbCE9PShpPWUuZXhlYyh0KSk7KW4ucHVzaChpKTtyZXR1cm4gbn0saXNIVE1MRm9ybTpqUixoYXNPd25Qcm9wZXJ0eTpHUixoYXNPd25Qcm9wOkdSLHJlZHVjZURlc2NyaXB0b3JzOkhSLGZyZWV6ZU1ldGhvZHM6ZT0+e0hSKGUsKCh0LGkpPT57aWYoQ1IoZSkmJi0xIT09W1wiYXJndW1lbnRzXCIsXCJjYWxsZXJcIixcImNhbGxlZVwiXS5pbmRleE9mKGkpKXJldHVybiExO2NvbnN0IG49ZVtpXTtDUihuKSYmKHQuZW51bWVyYWJsZT0hMSxcIndyaXRhYmxlXCJpbiB0P3Qud3JpdGFibGU9ITE6dC5zZXR8fCh0LnNldD0oKT0+e3Rocm93IEVycm9yKFwiQ2FuIG5vdCByZXdyaXRlIHJlYWQtb25seSBtZXRob2QgJ1wiK2krXCInXCIpfSkpfSkpfSx0b09iamVjdFNldDooZSx0KT0+e2NvbnN0IGk9e30sbj1lPT57ZS5mb3JFYWNoKChlPT57aVtlXT0hMH0pKX07cmV0dXJuIGZSKGUpP24oZSk6bihTdHJpbmcoZSkuc3BsaXQodCkpLGl9LHRvQ2FtZWxDYXNlOmU9PmUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bLV9cXHNdKFthLXpcXGRdKShcXHcqKS9nLChmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHQudG9VcHBlckNhc2UoKStpfSkpLG5vb3A6KCk9Pnt9LHRvRmluaXRlTnVtYmVyOihlLHQpPT5udWxsIT1lJiZOdW1iZXIuaXNGaW5pdGUoZT0rZSk/ZTp0LGZpbmRLZXk6VVIsZ2xvYmFsOlZSLGlzQ29udGV4dERlZmluZWQ6eFIsaXNTcGVjQ29tcGxpYW50Rm9ybTpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZDUihlLmFwcGVuZCkmJlwiRm9ybURhdGFcIj09PWVbaFJdJiZlW3VSXSl9LHRvSlNPTk9iamVjdDplPT57Y29uc3QgdD1uZXcgQXJyYXkoMTApLGk9KGUsbik9PntpZih5UihlKSl7aWYodC5pbmRleE9mKGUpPj0wKXJldHVybjtpZihnUihlKSlyZXR1cm4gZTtpZighKFwidG9KU09OXCJpbiBlKSl7dFtuXT1lO2NvbnN0IHI9ZlIoZSk/W106e307cmV0dXJuIE1SKGUsKChlLHQpPT57Y29uc3Qgbz1pKGUsbisxKTshU1IobykmJihyW3RdPW8pfSkpLHRbbl09dm9pZCAwLHJ9fXJldHVybiBlfTtyZXR1cm4gaShlLDApfSxpc0FzeW5jRm46S1IsaXNUaGVuYWJsZTplPT5lJiYoeVIoZSl8fENSKGUpKSYmQ1IoZS50aGVuKSYmQ1IoZS5jYXRjaCksc2V0SW1tZWRpYXRlOllSLGFzYXA6UVIsaXNJdGVyYWJsZTplPT5udWxsIT1lJiZDUihlW3VSXSl9O2Z1bmN0aW9uICRSKGUsdCxpLG4scil7RXJyb3IuY2FsbCh0aGlzKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpOnRoaXMuc3RhY2s9KG5ldyBFcnJvcikuc3RhY2ssdGhpcy5tZXNzYWdlPWUsdGhpcy5uYW1lPVwiQXhpb3NFcnJvclwiLHQmJih0aGlzLmNvZGU9dCksaSYmKHRoaXMuY29uZmlnPWkpLG4mJih0aGlzLnJlcXVlc3Q9biksciYmKHRoaXMucmVzcG9uc2U9cix0aGlzLnN0YXR1cz1yLnN0YXR1cz9yLnN0YXR1czpudWxsKX1aUi5pbmhlcml0cygkUixFcnJvcix7dG9KU09OOmZ1bmN0aW9uKCl7cmV0dXJue21lc3NhZ2U6dGhpcy5tZXNzYWdlLG5hbWU6dGhpcy5uYW1lLGRlc2NyaXB0aW9uOnRoaXMuZGVzY3JpcHRpb24sbnVtYmVyOnRoaXMubnVtYmVyLGZpbGVOYW1lOnRoaXMuZmlsZU5hbWUsbGluZU51bWJlcjp0aGlzLmxpbmVOdW1iZXIsY29sdW1uTnVtYmVyOnRoaXMuY29sdW1uTnVtYmVyLHN0YWNrOnRoaXMuc3RhY2ssY29uZmlnOlpSLnRvSlNPTk9iamVjdCh0aGlzLmNvbmZpZyksY29kZTp0aGlzLmNvZGUsc3RhdHVzOnRoaXMuc3RhdHVzfX19KTtjb25zdCBlQz0kUi5wcm90b3R5cGUsdEM9e307W1wiRVJSX0JBRF9PUFRJT05fVkFMVUVcIixcIkVSUl9CQURfT1BUSU9OXCIsXCJFQ09OTkFCT1JURURcIixcIkVUSU1FRE9VVFwiLFwiRVJSX05FVFdPUktcIixcIkVSUl9GUl9UT09fTUFOWV9SRURJUkVDVFNcIixcIkVSUl9ERVBSRUNBVEVEXCIsXCJFUlJfQkFEX1JFU1BPTlNFXCIsXCJFUlJfQkFEX1JFUVVFU1RcIixcIkVSUl9DQU5DRUxFRFwiLFwiRVJSX05PVF9TVVBQT1JUXCIsXCJFUlJfSU5WQUxJRF9VUkxcIl0uZm9yRWFjaCgoZT0+e3RDW2VdPXt2YWx1ZTplfX0pKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcygkUix0QyksT2JqZWN0LmRlZmluZVByb3BlcnR5KGVDLFwiaXNBeGlvc0Vycm9yXCIse3ZhbHVlOiEwfSksJFIuZnJvbT0oZSx0LGksbixyLG8pPT57Y29uc3Qgcz1PYmplY3QuY3JlYXRlKGVDKTtaUi50b0ZsYXRPYmplY3QoZSxzLChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PUVycm9yLnByb3RvdHlwZX0pLChlPT5cImlzQXhpb3NFcnJvclwiIT09ZSkpO2NvbnN0IGE9ZSYmZS5tZXNzYWdlP2UubWVzc2FnZTpcIkVycm9yXCIsYz1udWxsPT10JiZlP2UuY29kZTp0O3JldHVybiAkUi5jYWxsKHMsYSxjLGksbixyKSxlJiZudWxsPT1zLmNhdXNlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkocyxcImNhdXNlXCIse3ZhbHVlOmUsY29uZmlndXJhYmxlOiEwfSkscy5uYW1lPWUmJmUubmFtZXx8XCJFcnJvclwiLG8mJk9iamVjdC5hc3NpZ24ocyxvKSxzfTtmdW5jdGlvbiBpQyhlKXtyZXR1cm4gWlIuaXNQbGFpbk9iamVjdChlKXx8WlIuaXNBcnJheShlKX1mdW5jdGlvbiBuQyhlKXtyZXR1cm4gWlIuZW5kc1dpdGgoZSxcIltdXCIpP2Uuc2xpY2UoMCwtMik6ZX1mdW5jdGlvbiByQyhlLHQsaSl7cmV0dXJuIGU/ZS5jb25jYXQodCkubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBlPW5DKGUpLCFpJiZ0P1wiW1wiK2UrXCJdXCI6ZX0pKS5qb2luKGk/XCIuXCI6XCJcIik6dH1jb25zdCBvQz1aUi50b0ZsYXRPYmplY3QoWlIse30sbnVsbCwoZnVuY3Rpb24oZSl7cmV0dXJuL15pc1tBLVpdLy50ZXN0KGUpfSkpO2Z1bmN0aW9uIHNDKGUsdCxpKXtpZighWlIuaXNPYmplY3QoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcInRhcmdldCBtdXN0IGJlIGFuIG9iamVjdFwiKTt0PXR8fG5ldyBGb3JtRGF0YTtjb25zdCBuPShpPVpSLnRvRmxhdE9iamVjdChpLHttZXRhVG9rZW5zOiEwLGRvdHM6ITEsaW5kZXhlczohMX0sITEsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIVpSLmlzVW5kZWZpbmVkKHRbZV0pfSkpKS5tZXRhVG9rZW5zLHI9aS52aXNpdG9yfHxkLG89aS5kb3RzLHM9aS5pbmRleGVzLGE9KGkuQmxvYnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEJsb2ImJkJsb2IpJiZaUi5pc1NwZWNDb21wbGlhbnRGb3JtKHQpO2lmKCFaUi5pc0Z1bmN0aW9uKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ2aXNpdG9yIG11c3QgYmUgYSBmdW5jdGlvblwiKTtmdW5jdGlvbiBjKGUpe2lmKG51bGw9PT1lKXJldHVyblwiXCI7aWYoWlIuaXNEYXRlKGUpKXJldHVybiBlLnRvSVNPU3RyaW5nKCk7aWYoWlIuaXNCb29sZWFuKGUpKXJldHVybiBlLnRvU3RyaW5nKCk7aWYoIWEmJlpSLmlzQmxvYihlKSl0aHJvdyBuZXcgJFIoXCJCbG9iIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhIEJ1ZmZlciBpbnN0ZWFkLlwiKTtyZXR1cm4gWlIuaXNBcnJheUJ1ZmZlcihlKXx8WlIuaXNUeXBlZEFycmF5KGUpP2EmJlwiZnVuY3Rpb25cIj09dHlwZW9mIEJsb2I/bmV3IEJsb2IoW2VdKTpCdWZmZXIuZnJvbShlKTplfWZ1bmN0aW9uIGQoZSxpLHIpe2xldCBhPWU7aWYoZSYmIXImJlwib2JqZWN0XCI9PXR5cGVvZiBlKWlmKFpSLmVuZHNXaXRoKGksXCJ7fVwiKSlpPW4/aTppLnNsaWNlKDAsLTIpLGU9SlNPTi5zdHJpbmdpZnkoZSk7ZWxzZSBpZihaUi5pc0FycmF5KGUpJiZmdW5jdGlvbihlKXtyZXR1cm4gWlIuaXNBcnJheShlKSYmIWUuc29tZShpQyl9KGUpfHwoWlIuaXNGaWxlTGlzdChlKXx8WlIuZW5kc1dpdGgoaSxcIltdXCIpKSYmKGE9WlIudG9BcnJheShlKSkpcmV0dXJuIGk9bkMoaSksYS5mb3JFYWNoKChmdW5jdGlvbihlLG4peyFaUi5pc1VuZGVmaW5lZChlKSYmbnVsbCE9PWUmJnQuYXBwZW5kKCEwPT09cz9yQyhbaV0sbixvKTpudWxsPT09cz9pOmkrXCJbXVwiLGMoZSkpfSkpLCExO3JldHVybiEhaUMoZSl8fCh0LmFwcGVuZChyQyhyLGksbyksYyhlKSksITEpfWNvbnN0IGw9W10sdT1PYmplY3QuYXNzaWduKG9DLHtkZWZhdWx0VmlzaXRvcjpkLGNvbnZlcnRWYWx1ZTpjLGlzVmlzaXRhYmxlOmlDfSk7aWYoIVpSLmlzT2JqZWN0KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkYXRhIG11c3QgYmUgYW4gb2JqZWN0XCIpO3JldHVybiBmdW5jdGlvbiBlKGksbil7aWYoIVpSLmlzVW5kZWZpbmVkKGkpKXtpZigtMSE9PWwuaW5kZXhPZihpKSl0aHJvdyBFcnJvcihcIkNpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCBpbiBcIituLmpvaW4oXCIuXCIpKTtsLnB1c2goaSksWlIuZm9yRWFjaChpLChmdW5jdGlvbihpLG8peyEwPT09KCEoWlIuaXNVbmRlZmluZWQoaSl8fG51bGw9PT1pKSYmci5jYWxsKHQsaSxaUi5pc1N0cmluZyhvKT9rZyhvKS5jYWxsKG8pOm8sbix1KSkmJmUoaSxuP24uY29uY2F0KG8pOltvXSl9KSksbC5wb3AoKX19KGUpLHR9ZnVuY3Rpb24gYUMoZSl7Y29uc3QgdD17XCIhXCI6XCIlMjFcIixcIidcIjpcIiUyN1wiLFwiKFwiOlwiJTI4XCIsXCIpXCI6XCIlMjlcIixcIn5cIjpcIiU3RVwiLFwiJTIwXCI6XCIrXCIsXCIlMDBcIjpcIlxcMFwifTtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKX1mdW5jdGlvbiBjQyhlLHQpe3RoaXMuX3BhaXJzPVtdLGUmJnNDKGUsdGhpcyx0KX1jb25zdCBkQz1jQy5wcm90b3R5cGU7ZnVuY3Rpb24gbEMoZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lM0EvZ2ksXCI6XCIpLnJlcGxhY2UoLyUyNC9nLFwiJFwiKS5yZXBsYWNlKC8lMkMvZ2ksXCIsXCIpLnJlcGxhY2UoLyUyMC9nLFwiK1wiKX1mdW5jdGlvbiB1QyhlLHQsaSl7aWYoIXQpcmV0dXJuIGU7Y29uc3Qgbj1pJiZpLmVuY29kZXx8bEM7WlIuaXNGdW5jdGlvbihpKSYmKGk9e3NlcmlhbGl6ZTppfSk7Y29uc3Qgcj1pJiZpLnNlcmlhbGl6ZTtsZXQgbztpZihvPXI/cih0LGkpOlpSLmlzVVJMU2VhcmNoUGFyYW1zKHQpP3QudG9TdHJpbmcoKTpuZXcgY0ModCxpKS50b1N0cmluZyhuKSxvKXtjb25zdCB0PWUuaW5kZXhPZihcIiNcIik7LTEhPT10JiYoZT1lLnNsaWNlKDAsdCkpLGUrPSgtMT09PWUuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIpK299cmV0dXJuIGV9ZEMuYXBwZW5kPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcGFpcnMucHVzaChbZSx0XSl9LGRDLnRvU3RyaW5nPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZT9mdW5jdGlvbih0KXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxhQyl9OmFDO3JldHVybiB0aGlzLl9wYWlycy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0KGVbMF0pK1wiPVwiK3QoZVsxXSl9KSxcIlwiKS5qb2luKFwiJlwiKX07dmFyIGhDPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5oYW5kbGVycz1bXX11c2UoZSx0LGkpe3JldHVybiB0aGlzLmhhbmRsZXJzLnB1c2goe2Z1bGZpbGxlZDplLHJlamVjdGVkOnQsc3luY2hyb25vdXM6ISFpJiZpLnN5bmNocm9ub3VzLHJ1bldoZW46aT9pLnJ1bldoZW46bnVsbH0pLHRoaXMuaGFuZGxlcnMubGVuZ3RoLTF9ZWplY3QoZSl7dGhpcy5oYW5kbGVyc1tlXSYmKHRoaXMuaGFuZGxlcnNbZV09bnVsbCl9Y2xlYXIoKXt0aGlzLmhhbmRsZXJzJiYodGhpcy5oYW5kbGVycz1bXSl9Zm9yRWFjaChlKXtaUi5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsKGZ1bmN0aW9uKHQpe251bGwhPT10JiZlKHQpfSkpfX0scEM9e3NpbGVudEpTT05QYXJzaW5nOiEwLGZvcmNlZEpTT05QYXJzaW5nOiEwLGNsYXJpZnlUaW1lb3V0RXJyb3I6ITF9LF9DPXtleHBvcnRzOnt9fSxFQz1PaSxtQz13LGZDPVp0LmY7RUMoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSE9PWZDLHNoYW06IW1DfSx7ZGVmaW5lUHJvcGVydHk6ZkN9KTt2YXIgU0M9JC5PYmplY3QsZ0M9X0MuZXhwb3J0cz1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIFNDLmRlZmluZVByb3BlcnR5KGUsdCxpKX07U0MuZGVmaW5lUHJvcGVydHkuc2hhbSYmKGdDLnNoYW09ITApO3ZhciBUQz1pKF9DLmV4cG9ydHMpLFJDPVR5cGVFcnJvcixDQz1vcix2Qz1RYyx5Qz1aLElDPXB0KFwic3BlY2llc1wiKSxBQz1BcnJheSxiQz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gQ0MoZSkmJih0PWUuY29uc3RydWN0b3IsKHZDKHQpJiYodD09PUFDfHxDQyh0LnByb3RvdHlwZSkpfHx5Qyh0KSYmbnVsbD09PSh0PXRbSUNdKSkmJih0PXZvaWQgMCkpLHZvaWQgMD09PXQ/QUM6dH0sd0M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3KGJDKGUpKSgwPT09dD8wOnQpfSxPQz1uLE5DPV9lLERDPXB0KFwic3BlY2llc1wiKSxQQz1mdW5jdGlvbihlKXtyZXR1cm4gTkM+PTUxfHwhT0MoKGZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuKHQuY29uc3RydWN0b3I9e30pW0RDXT1mdW5jdGlvbigpe3JldHVybntmb286MX19LDEhPT10W2VdKEJvb2xlYW4pLmZvb30pKX0sTEM9T2ksa0M9bixNQz1vcixVQz1aLFZDPUplLHhDPVdpLEZDPWZ1bmN0aW9uKGUpe2lmKGU+OTAwNzE5OTI1NDc0MDk5MSl0aHJvdyBSQyhcIk1heGltdW0gYWxsb3dlZCBpbmRleCBleGNlZWRlZFwiKTtyZXR1cm4gZX0sQkM9cUUsakM9d0MsR0M9UEMsV0M9X2UsSEM9cHQoXCJpc0NvbmNhdFNwcmVhZGFibGVcIiksS0M9V0M+PTUxfHwha0MoKGZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGVbSENdPSExLGUuY29uY2F0KClbMF0hPT1lfSkpLFlDPWZ1bmN0aW9uKGUpe2lmKCFVQyhlKSlyZXR1cm4hMTt2YXIgdD1lW0hDXTtyZXR1cm4gdm9pZCAwIT09dD8hIXQ6TUMoZSl9O0xDKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGFyaXR5OjEsZm9yY2VkOiFLQ3x8IUdDKFwiY29uY2F0XCIpfSx7Y29uY2F0OmZ1bmN0aW9uKGUpe3ZhciB0LGksbixyLG8scz1WQyh0aGlzKSxhPWpDKHMsMCksYz0wO2Zvcih0PS0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWlmKFlDKG89LTE9PT10P3M6YXJndW1lbnRzW3RdKSlmb3Iocj14QyhvKSxGQyhjK3IpLGk9MDtpPHI7aSsrLGMrKylpIGluIG8mJkJDKGEsYyxvW2ldKTtlbHNlIEZDKGMrMSksQkMoYSxjKyssbyk7cmV0dXJuIGEubGVuZ3RoPWMsYX19KTt2YXIgekM9e30scUM9UixYQz1KLEpDPUJyLmYsUUM9c2QsWkM9XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdO3pDLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIFpDJiZcIldpbmRvd1wiPT09cUMoZSk/ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBKQyhlKX1jYXRjaChlKXtyZXR1cm4gUUMoWkMpfX0oZSk6SkMoWEMoZSkpfTt2YXIgJEM9e30sZXY9cHQ7JEMuZj1ldjt2YXIgdHY9JCxpdj0kZSxudj0kQyxydj1adC5mLG92PWZ1bmN0aW9uKGUpe3ZhciB0PXR2LlN5bWJvbHx8KHR2LlN5bWJvbD17fSk7aXYodCxlKXx8cnYodCxlLHt2YWx1ZTpudi5mKGUpfSl9LHN2PUQsYXY9cmUsY3Y9cHQsZHY9dmEsbHY9ZnVuY3Rpb24oKXt2YXIgZT1hdihcIlN5bWJvbFwiKSx0PWUmJmUucHJvdG90eXBlLGk9dCYmdC52YWx1ZU9mLG49Y3YoXCJ0b1ByaW1pdGl2ZVwiKTt0JiYhdFtuXSYmZHYodCxuLChmdW5jdGlvbihlKXtyZXR1cm4gc3YoaSx0aGlzKX0pLHthcml0eToxfSl9LHV2PVF0LGh2PVcscHY9SmUsX3Y9V2ksRXY9d0MsbXY9ZChbXS5wdXNoKSxmdj1mdW5jdGlvbihlKXt2YXIgdD0xPT09ZSxpPTI9PT1lLG49Mz09PWUscj00PT09ZSxvPTY9PT1lLHM9Nz09PWUsYT01PT09ZXx8bztyZXR1cm4gZnVuY3Rpb24oYyxkLGwsdSl7Zm9yKHZhciBoLHAsXz1wdihjKSxFPWh2KF8pLG09X3YoRSksZj11dihkLGwpLFM9MCxnPXV8fEV2LFQ9dD9nKGMsbSk6aXx8cz9nKGMsMCk6dm9pZCAwO20+UztTKyspaWYoKGF8fFMgaW4gRSkmJihwPWYoaD1FW1NdLFMsXyksZSkpaWYodClUW1NdPXA7ZWxzZSBpZihwKXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBoO2Nhc2UgNjpyZXR1cm4gUztjYXNlIDI6bXYoVCxoKX1lbHNlIHN3aXRjaChlKXtjYXNlIDQ6cmV0dXJuITE7Y2FzZSA3Om12KFQsaCl9cmV0dXJuIG8/LTE6bnx8cj9yOlR9fSxTdj17Zm9yRWFjaDpmdigwKSxtYXA6ZnYoMSksZmlsdGVyOmZ2KDIpLHNvbWU6ZnYoMyksZXZlcnk6ZnYoNCksZmluZDpmdig1KSxmaW5kSW5kZXg6ZnYoNiksZmlsdGVyUmVqZWN0OmZ2KDcpfSxndj1PaSxUdj1oLFJ2PUQsQ3Y9ZCx2dj13LHl2PVNlLEl2PW4sQXY9JGUsYnY9bCx3dj1uaSxPdj1KLE52PXZ0LER2PVNuLFB2PXgsTHY9a28sa3Y9aG8sTXY9QnIsVXY9ekMsVnY9UXIseHY9YixGdj1adCxCdj1jbyxqdj1QLEd2PXZhLFd2PXZjLEh2PXplLEt2PWpyLFl2PXJ0LHp2PXB0LHF2PSRDLFh2PW92LEp2PWx2LFF2PUdhLFp2PUVhLCR2PVN2LmZvckVhY2gsZXk9Z3IoXCJoaWRkZW5cIiksdHk9XCJTeW1ib2xcIixpeT1cInByb3RvdHlwZVwiLG55PVp2LnNldCxyeT1adi5nZXR0ZXJGb3IodHkpLG95PU9iamVjdFtpeV0sc3k9VHYuU3ltYm9sLGF5PXN5JiZzeVtpeV0sY3k9VHYuUmFuZ2VFcnJvcixkeT1Udi5UeXBlRXJyb3IsbHk9VHYuUU9iamVjdCx1eT14di5mLGh5PUZ2LmYscHk9VXYuZixfeT1qdi5mLEV5PUN2KFtdLnB1c2gpLG15PUh2KFwic3ltYm9sc1wiKSxmeT1IdihcIm9wLXN5bWJvbHNcIiksU3k9SHYoXCJ3a3NcIiksZ3k9IWx5fHwhbHlbaXldfHwhbHlbaXldLmZpbmRDaGlsZCxUeT1mdW5jdGlvbihlLHQsaSl7dmFyIG49dXkob3ksdCk7biYmZGVsZXRlIG95W3RdLGh5KGUsdCxpKSxuJiZlIT09b3kmJmh5KG95LHQsbil9LFJ5PXZ2JiZJdigoZnVuY3Rpb24oKXtyZXR1cm4gNyE9PUx2KGh5KHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaHkodGhpcyxcImFcIix7dmFsdWU6N30pLmF9fSkpLmF9KSk/VHk6aHksQ3k9ZnVuY3Rpb24oZSx0KXt2YXIgaT1teVtlXT1MdihheSk7cmV0dXJuIG55KGkse3R5cGU6dHksdGFnOmUsZGVzY3JpcHRpb246dH0pLHZ2fHwoaS5kZXNjcmlwdGlvbj10KSxpfSx2eT1mdW5jdGlvbihlLHQsaSl7ZT09PW95JiZ2eShmeSx0LGkpLHd2KGUpO3ZhciBuPU52KHQpO3JldHVybiB3dihpKSxBdihteSxuKT8oaS5lbnVtZXJhYmxlPyhBdihlLGV5KSYmZVtleV1bbl0mJihlW2V5XVtuXT0hMSksaT1MdihpLHtlbnVtZXJhYmxlOlB2KDAsITEpfSkpOihBdihlLGV5KXx8aHkoZSxleSxQdigxLEx2KG51bGwpKSksZVtleV1bbl09ITApLFJ5KGUsbixpKSk6aHkoZSxuLGkpfSx5eT1mdW5jdGlvbihlLHQpe3d2KGUpO3ZhciBpPU92KHQpLG49a3YoaSkuY29uY2F0KHd5KGkpKTtyZXR1cm4gJHYobiwoZnVuY3Rpb24odCl7dnYmJiFSdihJeSxpLHQpfHx2eShlLHQsaVt0XSl9KSksZX0sSXk9ZnVuY3Rpb24oZSl7dmFyIHQ9TnYoZSksaT1SdihfeSx0aGlzLHQpO3JldHVybiEodGhpcz09PW95JiZBdihteSx0KSYmIUF2KGZ5LHQpKSYmKCEoaXx8IUF2KHRoaXMsdCl8fCFBdihteSx0KXx8QXYodGhpcyxleSkmJnRoaXNbZXldW3RdKXx8aSl9LEF5PWZ1bmN0aW9uKGUsdCl7dmFyIGk9T3YoZSksbj1Odih0KTtpZihpIT09b3l8fCFBdihteSxuKXx8QXYoZnksbikpe3ZhciByPXV5KGksbik7cmV0dXJuIXJ8fCFBdihteSxuKXx8QXYoaSxleSkmJmlbZXldW25dfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sYnk9ZnVuY3Rpb24oZSl7dmFyIHQ9cHkoT3YoZSkpLGk9W107cmV0dXJuICR2KHQsKGZ1bmN0aW9uKGUpe0F2KG15LGUpfHxBdihLdixlKXx8RXkoaSxlKX0pKSxpfSx3eT1mdW5jdGlvbihlKXt2YXIgdD1lPT09b3ksaT1weSh0P2Z5Ok92KGUpKSxuPVtdO3JldHVybiAkdihpLChmdW5jdGlvbihlKXshQXYobXksZSl8fHQmJiFBdihveSxlKXx8RXkobixteVtlXSl9KSksbn07eXZ8fChzeT1mdW5jdGlvbigpe2lmKGJ2KGF5LHRoaXMpKXRocm93IG5ldyBkeShcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTt2YXIgZT1hcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/RHYoYXJndW1lbnRzWzBdKTp2b2lkIDAsdD1ZdihlKSxpPWZ1bmN0aW9uKGUpe3ZhciBuPXZvaWQgMD09PXRoaXM/VHY6dGhpcztuPT09b3kmJlJ2KGksZnksZSksQXYobixleSkmJkF2KG5bZXldLHQpJiYobltleV1bdF09ITEpO3ZhciByPVB2KDEsZSk7dHJ5e1J5KG4sdCxyKX1jYXRjaChlKXtpZighKGUgaW5zdGFuY2VvZiBjeSkpdGhyb3cgZTtUeShuLHQscil9fTtyZXR1cm4gdnYmJmd5JiZSeShveSx0LHtjb25maWd1cmFibGU6ITAsc2V0Oml9KSxDeSh0LGUpfSxHdihheT1zeVtpeV0sXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVybiByeSh0aGlzKS50YWd9KSksR3Yoc3ksXCJ3aXRob3V0U2V0dGVyXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBDeShZdihlKSxlKX0pKSxqdi5mPUl5LEZ2LmY9dnksQnYuZj15eSx4di5mPUF5LE12LmY9VXYuZj1ieSxWdi5mPXd5LHF2LmY9ZnVuY3Rpb24oZSl7cmV0dXJuIEN5KHp2KGUpLGUpfSx2diYmV3YoYXksXCJkZXNjcmlwdGlvblwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ5KHRoaXMpLmRlc2NyaXB0aW9ufX0pKSxndih7Z2xvYmFsOiEwLGNvbnN0cnVjdG9yOiEwLHdyYXA6ITAsZm9yY2VkOiF5dixzaGFtOiF5dn0se1N5bWJvbDpzeX0pLCR2KGt2KFN5KSwoZnVuY3Rpb24oZSl7WHYoZSl9KSksZ3Yoe3RhcmdldDp0eSxzdGF0OiEwLGZvcmNlZDoheXZ9LHt1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtneT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Z3k9ITF9fSksZ3Yoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiF5dixzaGFtOiF2dn0se2NyZWF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P0x2KGUpOnl5KEx2KGUpLHQpfSxkZWZpbmVQcm9wZXJ0eTp2eSxkZWZpbmVQcm9wZXJ0aWVzOnl5LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpBeX0pLGd2KHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDoheXZ9LHtnZXRPd25Qcm9wZXJ0eU5hbWVzOmJ5fSksSnYoKSxRdihzeSx0eSksS3ZbZXldPSEwO3ZhciBPeT1TZSYmISFTeW1ib2wuZm9yJiYhIVN5bWJvbC5rZXlGb3IsTnk9T2ksRHk9cmUsUHk9JGUsTHk9U24sa3k9emUsTXk9T3ksVXk9a3koXCJzdHJpbmctdG8tc3ltYm9sLXJlZ2lzdHJ5XCIpLFZ5PWt5KFwic3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeVwiKTtOeSh7dGFyZ2V0OlwiU3ltYm9sXCIsc3RhdDohMCxmb3JjZWQ6IU15fSx7Zm9yOmZ1bmN0aW9uKGUpe3ZhciB0PUx5KGUpO2lmKFB5KFV5LHQpKXJldHVybiBVeVt0XTt2YXIgaT1EeShcIlN5bWJvbFwiKSh0KTtyZXR1cm4gVXlbdF09aSxWeVtpXT10LGl9fSk7dmFyIHh5PU9pLEZ5PSRlLEJ5PXllLGp5PUFlLEd5PU95LFd5PXplKFwic3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeVwiKTt4eSh7dGFyZ2V0OlwiU3ltYm9sXCIsc3RhdDohMCxmb3JjZWQ6IUd5fSx7a2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKCFCeShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKGp5KGUpK1wiIGlzIG5vdCBhIHN5bWJvbFwiKTtpZihGeShXeSxlKSlyZXR1cm4gV3lbZV19fSk7dmFyIEh5PW9yLEt5PUEsWXk9Uix6eT1TbixxeT1kKFtdLnB1c2gpLFh5PU9pLEp5PXJlLFF5PWYsWnk9RCwkeT1kLGVJPW4sdEk9QSxpST15ZSxuST1zZCxyST1mdW5jdGlvbihlKXtpZihLeShlKSlyZXR1cm4gZTtpZihIeShlKSl7Zm9yKHZhciB0PWUubGVuZ3RoLGk9W10sbj0wO248dDtuKyspe3ZhciByPWVbbl07XCJzdHJpbmdcIj09dHlwZW9mIHI/cXkoaSxyKTpcIm51bWJlclwiIT10eXBlb2YgciYmXCJOdW1iZXJcIiE9PVl5KHIpJiZcIlN0cmluZ1wiIT09WXkocil8fHF5KGksenkocikpfXZhciBvPWkubGVuZ3RoLHM9ITA7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYocylyZXR1cm4gcz0hMSx0O2lmKEh5KHRoaXMpKXJldHVybiB0O2Zvcih2YXIgbj0wO248bztuKyspaWYoaVtuXT09PWUpcmV0dXJuIHR9fX0sb0k9U2Usc0k9U3RyaW5nLGFJPUp5KFwiSlNPTlwiLFwic3RyaW5naWZ5XCIpLGNJPSR5KC8uLy5leGVjKSxkST0keShcIlwiLmNoYXJBdCksbEk9JHkoXCJcIi5jaGFyQ29kZUF0KSx1ST0keShcIlwiLnJlcGxhY2UpLGhJPSR5KDEuMS50b1N0cmluZykscEk9L1tcXHVEODAwLVxcdURGRkZdL2csX0k9L15bXFx1RDgwMC1cXHVEQkZGXSQvLEVJPS9eW1xcdURDMDAtXFx1REZGRl0kLyxtST0hb0l8fGVJKChmdW5jdGlvbigpe3ZhciBlPUp5KFwiU3ltYm9sXCIpKFwic3RyaW5naWZ5IGRldGVjdGlvblwiKTtyZXR1cm5cIltudWxsXVwiIT09YUkoW2VdKXx8XCJ7fVwiIT09YUkoe2E6ZX0pfHxcInt9XCIhPT1hSShPYmplY3QoZSkpfSkpLGZJPWVJKChmdW5jdGlvbigpe3JldHVybidcIlxcXFx1ZGYwNlxcXFx1ZDgzNFwiJyE9PWFJKFwiXFx1ZGYwNlxcdWQ4MzRcIil8fCdcIlxcXFx1ZGVhZFwiJyE9PWFJKFwiXFx1ZGVhZFwiKX0pKSxTST1mdW5jdGlvbihlLHQpe3ZhciBpPW5JKGFyZ3VtZW50cyksbj1ySSh0KTtpZih0SShuKXx8dm9pZCAwIT09ZSYmIWlJKGUpKXJldHVybiBpWzFdPWZ1bmN0aW9uKGUsdCl7aWYodEkobikmJih0PVp5KG4sdGhpcyxzSShlKSx0KSksIWlJKHQpKXJldHVybiB0fSxReShhSSxudWxsLGkpfSxnST1mdW5jdGlvbihlLHQsaSl7dmFyIG49ZEkoaSx0LTEpLHI9ZEkoaSx0KzEpO3JldHVybiBjSShfSSxlKSYmIWNJKEVJLHIpfHxjSShFSSxlKSYmIWNJKF9JLG4pP1wiXFxcXHVcIitoSShsSShlLDApLDE2KTplfTthSSYmWHkoe3RhcmdldDpcIkpTT05cIixzdGF0OiEwLGFyaXR5OjMsZm9yY2VkOm1JfHxmSX0se3N0cmluZ2lmeTpmdW5jdGlvbihlLHQsaSl7dmFyIG49bkkoYXJndW1lbnRzKSxyPVF5KG1JP1NJOmFJLG51bGwsbik7cmV0dXJuIGZJJiZcInN0cmluZ1wiPT10eXBlb2Ygcj91SShyLHBJLGdJKTpyfX0pO3ZhciBUST1RcixSST1KZTtPaSh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IVNlfHxuKChmdW5jdGlvbigpe1RJLmYoMSl9KSl9LHtnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZnVuY3Rpb24oZSl7dmFyIHQ9VEkuZjtyZXR1cm4gdD90KFJJKGUpKTpbXX19KSxvdihcImFzeW5jRGlzcG9zZVwiKSxvdihcImFzeW5jSXRlcmF0b3JcIiksb3YoXCJkaXNwb3NlXCIpLG92KFwiaGFzSW5zdGFuY2VcIiksb3YoXCJpc0NvbmNhdFNwcmVhZGFibGVcIiksb3YoXCJpdGVyYXRvclwiKSxvdihcIm1hdGNoXCIpLG92KFwibWF0Y2hBbGxcIiksb3YoXCJyZXBsYWNlXCIpLG92KFwic2VhcmNoXCIpLG92KFwic3BlY2llc1wiKSxvdihcInNwbGl0XCIpO3ZhciBDST1sdjtvdihcInRvUHJpbWl0aXZlXCIpLENJKCk7dmFyIHZJPXJlLHlJPUdhO292KFwidG9TdHJpbmdUYWdcIikseUkodkkoXCJTeW1ib2xcIiksXCJTeW1ib2xcIiksb3YoXCJ1bnNjb3BhYmxlc1wiKSxHYShoLkpTT04sXCJKU09OXCIsITApO3ZhciBJST0kLlN5bWJvbCxBST1wdCxiST1adC5mLHdJPUFJKFwibWV0YWRhdGFcIiksT0k9RnVuY3Rpb24ucHJvdG90eXBlO3ZvaWQgMD09PU9JW3dJXSYmYkkoT0ksd0kse3ZhbHVlOm51bGx9KSxvdihcIm1ldGFkYXRhXCIpO3ZhciBOST1JSSxEST1kLFBJPXJlKFwiU3ltYm9sXCIpLExJPVBJLmtleUZvcixrST1ESShQSS5wcm90b3R5cGUudmFsdWVPZiksTUk9UEkuaXNSZWdpc3RlcmVkU3ltYm9sfHxmdW5jdGlvbihlKXt0cnl7cmV0dXJuIHZvaWQgMCE9PUxJKGtJKGUpKX1jYXRjaChlKXtyZXR1cm4hMX19O09pKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwfSx7aXNSZWdpc3RlcmVkU3ltYm9sOk1JfSk7Zm9yKHZhciBVST16ZSxWST1yZSx4ST1kLEZJPXllLEJJPXB0LGpJPVZJKFwiU3ltYm9sXCIpLEdJPWpJLmlzV2VsbEtub3duU3ltYm9sLFdJPVZJKFwiT2JqZWN0XCIsXCJnZXRPd25Qcm9wZXJ0eU5hbWVzXCIpLEhJPXhJKGpJLnByb3RvdHlwZS52YWx1ZU9mKSxLST1VSShcIndrc1wiKSxZST0wLHpJPVdJKGpJKSxxST16SS5sZW5ndGg7WUk8cUk7WUkrKyl0cnl7dmFyIFhJPXpJW1lJXTtGSShqSVtYSV0pJiZCSShYSSl9Y2F0Y2goZSl7fXZhciBKST1mdW5jdGlvbihlKXtpZihHSSYmR0koZSkpcmV0dXJuITA7dHJ5e2Zvcih2YXIgdD1ISShlKSxpPTAsbj1XSShLSSkscj1uLmxlbmd0aDtpPHI7aSsrKWlmKEtJW25baV1dPT10KXJldHVybiEwfWNhdGNoKGUpe31yZXR1cm4hMX07T2koe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiEwfSx7aXNXZWxsS25vd25TeW1ib2w6Skl9KSxvdihcImN1c3RvbU1hdGNoZXJcIiksb3YoXCJvYnNlcnZhYmxlXCIpLE9pKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLG5hbWU6XCJpc1JlZ2lzdGVyZWRTeW1ib2xcIn0se2lzUmVnaXN0ZXJlZDpNSX0pLE9pKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLG5hbWU6XCJpc1dlbGxLbm93blN5bWJvbFwiLGZvcmNlZDohMH0se2lzV2VsbEtub3duOkpJfSksb3YoXCJtYXRjaGVyXCIpLG92KFwibWV0YWRhdGFLZXlcIiksb3YoXCJwYXR0ZXJuTWF0Y2hcIiksb3YoXCJyZXBsYWNlQWxsXCIpO3ZhciBRST1pKE5JKSxaST1pKCRDLmYoXCJpdGVyYXRvclwiKSk7ZnVuY3Rpb24gJEkoZSl7cmV0dXJuICRJPVwiZnVuY3Rpb25cIj09dHlwZW9mIFFJJiZcInN5bWJvbFwiPT10eXBlb2YgWkk/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgUUkmJmUuY29uc3RydWN0b3I9PT1RSSYmZSE9PVFJLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSwkSShlKX12YXIgZUE9aSgkQy5mKFwidG9QcmltaXRpdmVcIikpO2Z1bmN0aW9uIHRBKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9JEkoZSl8fCFlKXJldHVybiBlO3ZhciBpPWVbZUFdO2lmKHZvaWQgMCE9PWkpe3ZhciBuPWkuY2FsbChlLHR8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT0kSShuKSlyZXR1cm4gbjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PSRJKHQpP3Q6dCtcIlwifWZ1bmN0aW9uIGlBKGUsdCxpKXtyZXR1cm4odD10QSh0KSlpbiBlP1RDKGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfXZhciBuQT1pKE9FKSxyQT17aXNCcm93c2VyOiEwLGNsYXNzZXM6e1VSTFNlYXJjaFBhcmFtczp2b2lkIDAhPT1uQT9uQTpjQyxGb3JtRGF0YTpcInVuZGVmaW5lZFwiIT10eXBlb2YgRm9ybURhdGE/Rm9ybURhdGE6bnVsbCxCbG9iOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBCbG9iP0Jsb2I6bnVsbH0scHJvdG9jb2xzOltcImh0dHBcIixcImh0dHBzXCIsXCJmaWxlXCIsXCJibG9iXCIsXCJ1cmxcIixcImRhdGFcIl19O2NvbnN0IG9BPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCxzQT1cIm9iamVjdFwiPT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3J8fHZvaWQgMCxhQT1vQSYmKCFzQXx8W1wiUmVhY3ROYXRpdmVcIixcIk5hdGl2ZVNjcmlwdFwiLFwiTlNcIl0uaW5kZXhPZihzQS5wcm9kdWN0KTwwKSxjQT1cInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygc2VsZi5pbXBvcnRTY3JpcHRzLGRBPW9BJiZ3aW5kb3cubG9jYXRpb24uaHJlZnx8XCJodHRwOi8vbG9jYWxob3N0XCI7ZnVuY3Rpb24gbEEoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIHVBKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2xBKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aUEoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmxBKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfXZhciBoQT11QSh1QSh7fSxPYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxoYXNCcm93c2VyRW52Om9BLGhhc1N0YW5kYXJkQnJvd3NlckVudjphQSxoYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnY6Y0EsbmF2aWdhdG9yOnNBLG9yaWdpbjpkQX0pKSxyQSk7ZnVuY3Rpb24gcEEoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIF9BKGUsdCl7cmV0dXJuIHNDKGUsbmV3IGhBLmNsYXNzZXMuVVJMU2VhcmNoUGFyYW1zLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3BBKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aUEoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnBBKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfSh7dmlzaXRvcjpmdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4gaEEuaXNOb2RlJiZaUi5pc0J1ZmZlcihlKT8odGhpcy5hcHBlbmQodCxlLnRvU3RyaW5nKFwiYmFzZTY0XCIpKSwhMSk6bi5kZWZhdWx0VmlzaXRvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx0KSl9dmFyIEVBPUdoLmNoYXJBdCxtQT1ELGZBPW5pLFNBPUEsZ0E9UixUQT0vLi8uZXhlYyxSQT1UeXBlRXJyb3IsQ0E9T2ksdkE9RCx5QT15LElBPVhhLEFBPXBjLGJBPXosd0E9amksT0E9U24sTkE9bmksREE9WixQQT1SLExBPXJuLGtBPXJULE1BPUxlLFVBPW4sVkE9b2QseEE9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB0KyhpP0VBKGUsdCkubGVuZ3RoOjEpfSxGQT1mdW5jdGlvbihlLHQpe3ZhciBpPWUuZXhlYztpZihTQShpKSl7dmFyIG49bUEoaSxlLHQpO3JldHVybiBudWxsIT09biYmZkEobiksbn1pZihcIlJlZ0V4cFwiPT09Z0EoZSkpcmV0dXJuIG1BKFRBLGUsdCk7dGhyb3cgbmV3IFJBKFwiUmVnRXhwI2V4ZWMgY2FsbGVkIG9uIGluY29tcGF0aWJsZSByZWNlaXZlclwiKX0sQkE9RWEsakE9cHQoXCJtYXRjaEFsbFwiKSxHQT1cIlJlZ0V4cCBTdHJpbmdcIixXQT1HQStcIiBJdGVyYXRvclwiLEhBPUJBLnNldCxLQT1CQS5nZXR0ZXJGb3IoV0EpLFlBPVR5cGVFcnJvcix6QT15QShcIlwiLmluZGV4T2YpLHFBPXlBKFwiXCIubWF0Y2hBbGwpLFhBPSEhcUEmJiFVQSgoZnVuY3Rpb24oKXtxQShcImFcIiwvLi8pfSkpLEpBPUlBKChmdW5jdGlvbihlLHQsaSxuKXtIQSh0aGlzLHt0eXBlOldBLHJlZ2V4cDplLHN0cmluZzp0LGdsb2JhbDppLHVuaWNvZGU6bixkb25lOiExfSl9KSxHQSwoZnVuY3Rpb24oKXt2YXIgZT1LQSh0aGlzKTtpZihlLmRvbmUpcmV0dXJuIEFBKHZvaWQgMCwhMCk7dmFyIHQ9ZS5yZWdleHAsaT1lLnN0cmluZyxuPUZBKHQsaSk7cmV0dXJuIG51bGw9PT1uPyhlLmRvbmU9ITAsQUEodm9pZCAwLCEwKSk6ZS5nbG9iYWw/KFwiXCI9PT1PQShuWzBdKSYmKHQubGFzdEluZGV4PXhBKGksd0EodC5sYXN0SW5kZXgpLGUudW5pY29kZSkpLEFBKG4sITEpKTooZS5kb25lPSEwLEFBKG4sITEpKX0pKSxRQT1mdW5jdGlvbihlKXt2YXIgdCxpLG4scj1OQSh0aGlzKSxvPU9BKGUpLHM9VkEocixSZWdFeHApLGE9T0Eoa0EocikpO3JldHVybiB0PW5ldyBzKHM9PT1SZWdFeHA/ci5zb3VyY2U6cixhKSxpPSEhfnpBKGEsXCJnXCIpLG49ISF+ekEoYSxcInVcIiksdC5sYXN0SW5kZXg9d0Eoci5sYXN0SW5kZXgpLG5ldyBKQSh0LG8saSxuKX07Q0Eoe3RhcmdldDpcIlN0cmluZ1wiLHByb3RvOiEwLGZvcmNlZDpYQX0se21hdGNoQWxsOmZ1bmN0aW9uKGUpe3ZhciB0LGksbixyLG89YkEodGhpcyk7aWYoREEoZSkpe2lmKExBKGUpJiYodD1PQShiQShrQShlKSkpLCF+ekEodCxcImdcIikpKXRocm93IG5ldyBZQShcImAubWF0Y2hBbGxgIGRvZXMgbm90IGFsbG93IG5vbi1nbG9iYWwgcmVnZXhlc1wiKTtpZihYQSlyZXR1cm4gcUEobyxlKTtpZih2b2lkIDA9PT0obj1NQShlLGpBKSkmJlwiUmVnRXhwXCI9PT1QQShlKSYmKG49UUEpLG4pcmV0dXJuIHZBKG4sZSxvKX1lbHNlIGlmKFhBKXJldHVybiBxQShvLGUpO3JldHVybiBpPU9BKG8pLHI9bmV3IFJlZ0V4cChlLFwiZ1wiKSx2QShRQSxyLGkpfX0pO3ZhciBaQT1aaShcIlN0cmluZ1wiLFwibWF0Y2hBbGxcIiksJEE9bCxlYj1aQSx0Yj1TdHJpbmcucHJvdG90eXBlLGliPWZ1bmN0aW9uKGUpe3ZhciB0PWUubWF0Y2hBbGw7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fGU9PT10Ynx8JEEodGIsZSkmJnQ9PT10Yi5tYXRjaEFsbD9lYjp0fSxuYj1pKGliKTtmdW5jdGlvbiByYihlKXtmdW5jdGlvbiB0KGUsaSxuLHIpe2xldCBvPWVbcisrXTtpZihcIl9fcHJvdG9fX1wiPT09bylyZXR1cm4hMDtjb25zdCBzPU51bWJlci5pc0Zpbml0ZSgrbyksYT1yPj1lLmxlbmd0aDtpZihvPSFvJiZaUi5pc0FycmF5KG4pP24ubGVuZ3RoOm8sYSlyZXR1cm4gWlIuaGFzT3duUHJvcChuLG8pP25bb109W25bb10saV06bltvXT1pLCFzO25bb10mJlpSLmlzT2JqZWN0KG5bb10pfHwobltvXT1bXSk7cmV0dXJuIHQoZSxpLG5bb10scikmJlpSLmlzQXJyYXkobltvXSkmJihuW29dPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e30saT1PYmplY3Qua2V5cyhlKTtsZXQgbjtjb25zdCByPWkubGVuZ3RoO2xldCBvO2ZvcihuPTA7bjxyO24rKylvPWlbbl0sdFtvXT1lW29dO3JldHVybiB0fShuW29dKSksIXN9aWYoWlIuaXNGb3JtRGF0YShlKSYmWlIuaXNGdW5jdGlvbihlLmVudHJpZXMpKXtjb25zdCBpPXt9O3JldHVybiBaUi5mb3JFYWNoRW50cnkoZSwoKGUsbik9Pnt0KGZ1bmN0aW9uKGUpe3JldHVybiBuYihaUikuY2FsbChaUiwvXFx3K3xcXFsoXFx3KildL2csZSkubWFwKChlPT5cIltdXCI9PT1lWzBdP1wiXCI6ZVsxXXx8ZVswXSkpfShlKSxuLGksMCl9KSksaX1yZXR1cm4gbnVsbH1jb25zdCBvYj17dHJhbnNpdGlvbmFsOnBDLGFkYXB0ZXI6W1wieGhyXCIsXCJodHRwXCIsXCJmZXRjaFwiXSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihlLHQpe2NvbnN0IGk9dC5nZXRDb250ZW50VHlwZSgpfHxcIlwiLG49aS5pbmRleE9mKFwiYXBwbGljYXRpb24vanNvblwiKT4tMSxyPVpSLmlzT2JqZWN0KGUpO3ImJlpSLmlzSFRNTEZvcm0oZSkmJihlPW5ldyBGb3JtRGF0YShlKSk7aWYoWlIuaXNGb3JtRGF0YShlKSlyZXR1cm4gbj9KU09OLnN0cmluZ2lmeShyYihlKSk6ZTtpZihaUi5pc0FycmF5QnVmZmVyKGUpfHxaUi5pc0J1ZmZlcihlKXx8WlIuaXNTdHJlYW0oZSl8fFpSLmlzRmlsZShlKXx8WlIuaXNCbG9iKGUpfHxaUi5pc1JlYWRhYmxlU3RyZWFtKGUpKXJldHVybiBlO2lmKFpSLmlzQXJyYXlCdWZmZXJWaWV3KGUpKXJldHVybiBlLmJ1ZmZlcjtpZihaUi5pc1VSTFNlYXJjaFBhcmFtcyhlKSlyZXR1cm4gdC5zZXRDb250ZW50VHlwZShcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04XCIsITEpLGUudG9TdHJpbmcoKTtsZXQgbztpZihyKXtpZihpLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIik+LTEpcmV0dXJuIF9BKGUsdGhpcy5mb3JtU2VyaWFsaXplcikudG9TdHJpbmcoKTtpZigobz1aUi5pc0ZpbGVMaXN0KGUpKXx8aS5pbmRleE9mKFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiKT4tMSl7Y29uc3QgdD10aGlzLmVudiYmdGhpcy5lbnYuRm9ybURhdGE7cmV0dXJuIHNDKG8/e1wiZmlsZXNbXVwiOmV9OmUsdCYmbmV3IHQsdGhpcy5mb3JtU2VyaWFsaXplcil9fXJldHVybiByfHxuPyh0LnNldENvbnRlbnRUeXBlKFwiYXBwbGljYXRpb24vanNvblwiLCExKSxmdW5jdGlvbihlLHQsaSl7aWYoWlIuaXNTdHJpbmcoZSkpdHJ5e3JldHVybih0fHxKU09OLnBhcnNlKShlKSxrZyhaUikuY2FsbChaUixlKX1jYXRjaChlKXtpZihcIlN5bnRheEVycm9yXCIhPT1lLm5hbWUpdGhyb3cgZX1yZXR1cm4oaXx8SlNPTi5zdHJpbmdpZnkpKGUpfShlKSk6ZX1dLHRyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihlKXtjb25zdCB0PXRoaXMudHJhbnNpdGlvbmFsfHxvYi50cmFuc2l0aW9uYWwsaT10JiZ0LmZvcmNlZEpTT05QYXJzaW5nLG49XCJqc29uXCI9PT10aGlzLnJlc3BvbnNlVHlwZTtpZihaUi5pc1Jlc3BvbnNlKGUpfHxaUi5pc1JlYWRhYmxlU3RyZWFtKGUpKXJldHVybiBlO2lmKGUmJlpSLmlzU3RyaW5nKGUpJiYoaSYmIXRoaXMucmVzcG9uc2VUeXBlfHxuKSl7Y29uc3QgaT0hKHQmJnQuc2lsZW50SlNPTlBhcnNpbmcpJiZuO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlLHRoaXMucGFyc2VSZXZpdmVyKX1jYXRjaChlKXtpZihpKXtpZihcIlN5bnRheEVycm9yXCI9PT1lLm5hbWUpdGhyb3cgJFIuZnJvbShlLCRSLkVSUl9CQURfUkVTUE9OU0UsdGhpcyxudWxsLHRoaXMucmVzcG9uc2UpO3Rocm93IGV9fX1yZXR1cm4gZX1dLHRpbWVvdXQ6MCx4c3JmQ29va2llTmFtZTpcIlhTUkYtVE9LRU5cIix4c3JmSGVhZGVyTmFtZTpcIlgtWFNSRi1UT0tFTlwiLG1heENvbnRlbnRMZW5ndGg6LTEsbWF4Qm9keUxlbmd0aDotMSxlbnY6e0Zvcm1EYXRhOmhBLmNsYXNzZXMuRm9ybURhdGEsQmxvYjpoQS5jbGFzc2VzLkJsb2J9LHZhbGlkYXRlU3RhdHVzOmZ1bmN0aW9uKGUpe3JldHVybiBlPj0yMDAmJmU8MzAwfSxoZWFkZXJzOntjb21tb246e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKlwiLFwiQ29udGVudC1UeXBlXCI6dm9pZCAwfX19O1pSLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIixcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0sKGU9PntvYi5oZWFkZXJzW2VdPXt9fSkpO3ZhciBzYj1vYjtjb25zdCBhYj1aUi50b09iamVjdFNldChbXCJhZ2VcIixcImF1dGhvcml6YXRpb25cIixcImNvbnRlbnQtbGVuZ3RoXCIsXCJjb250ZW50LXR5cGVcIixcImV0YWdcIixcImV4cGlyZXNcIixcImZyb21cIixcImhvc3RcIixcImlmLW1vZGlmaWVkLXNpbmNlXCIsXCJpZi11bm1vZGlmaWVkLXNpbmNlXCIsXCJsYXN0LW1vZGlmaWVkXCIsXCJsb2NhdGlvblwiLFwibWF4LWZvcndhcmRzXCIsXCJwcm94eS1hdXRob3JpemF0aW9uXCIsXCJyZWZlcmVyXCIsXCJyZXRyeS1hZnRlclwiLFwidXNlci1hZ2VudFwiXSk7Y29uc3QgY2I9U3ltYm9sKFwiaW50ZXJuYWxzXCIpO2Z1bmN0aW9uIGRiKGUpe3ZhciB0O3JldHVybiBlJiZrZyh0PVN0cmluZyhlKSkuY2FsbCh0KS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGxiKGUpe3JldHVybiExPT09ZXx8bnVsbD09ZT9lOlpSLmlzQXJyYXkoZSk/ZS5tYXAobGIpOlN0cmluZyhlKX1mdW5jdGlvbiB1YihlLHQsaSxuLHIpe3JldHVybiBaUi5pc0Z1bmN0aW9uKG4pP24uY2FsbCh0aGlzLHQsaSk6KHImJih0PWkpLFpSLmlzU3RyaW5nKHQpP1pSLmlzU3RyaW5nKG4pPy0xIT09dC5pbmRleE9mKG4pOlpSLmlzUmVnRXhwKG4pP24udGVzdCh0KTp2b2lkIDA6dm9pZCAwKX1jbGFzcyBoYntjb25zdHJ1Y3RvcihlKXtlJiZ0aGlzLnNldChlKX1zZXQoZSx0LGkpe2NvbnN0IG49dGhpcztmdW5jdGlvbiByKGUsdCxpKXtjb25zdCByPWRiKHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcImhlYWRlciBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nXCIpO2NvbnN0IG89WlIuZmluZEtleShuLHIpOyghb3x8dm9pZCAwPT09bltvXXx8ITA9PT1pfHx2b2lkIDA9PT1pJiYhMSE9PW5bb10pJiYobltvfHx0XT1sYihlKSl9Y29uc3Qgbz0oZSx0KT0+WlIuZm9yRWFjaChlLCgoZSxpKT0+cihlLGksdCkpKTtpZihaUi5pc1BsYWluT2JqZWN0KGUpfHxlIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvcilvKGUsdCk7ZWxzZSBpZihaUi5pc1N0cmluZyhlKSYmKGU9a2coZSkuY2FsbChlKSkmJiEvXlstX2EtekEtWjAtOV5gfH4sISMkJSYnKisuXSskLy50ZXN0KGtnKHM9ZSkuY2FsbChzKSkpbygoZT0+e2NvbnN0IHQ9e307bGV0IGksbixyO3JldHVybiBlJiZlLnNwbGl0KFwiXFxuXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBvLHM7cj1lLmluZGV4T2YoXCI6XCIpLGk9a2cobz1lLnN1YnN0cmluZygwLHIpKS5jYWxsKG8pLnRvTG93ZXJDYXNlKCksbj1rZyhzPWUuc3Vic3RyaW5nKHIrMSkpLmNhbGwocyksIWl8fHRbaV0mJmFiW2ldfHwoXCJzZXQtY29va2llXCI9PT1pP3RbaV0/dFtpXS5wdXNoKG4pOnRbaV09W25dOnRbaV09dFtpXT90W2ldK1wiLCBcIituOm4pfSkpLHR9KShlKSx0KTtlbHNlIGlmKFpSLmlzT2JqZWN0KGUpJiZaUi5pc0l0ZXJhYmxlKGUpKXtsZXQgaSxuLHI9e307Zm9yKGNvbnN0IHQgb2YgZSl7aWYoIVpSLmlzQXJyYXkodCkpdGhyb3cgVHlwZUVycm9yKFwiT2JqZWN0IGl0ZXJhdG9yIG11c3QgcmV0dXJuIGEga2V5LXZhbHVlIHBhaXJcIik7cltuPXRbMF1dPShpPXJbbl0pP1pSLmlzQXJyYXkoaSk/Wy4uLmksdFsxXV06W2ksdFsxXV06dFsxXX1vKHIsdCl9ZWxzZSBudWxsIT1lJiZyKHQsZSxpKTt2YXIgcztyZXR1cm4gdGhpc31nZXQoZSx0KXtpZihlPWRiKGUpKXtjb25zdCBpPVpSLmZpbmRLZXkodGhpcyxlKTtpZihpKXtjb25zdCBlPXRoaXNbaV07aWYoIXQpcmV0dXJuIGU7aWYoITA9PT10KXJldHVybiBmdW5jdGlvbihlKXtjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCksaT0vKFteXFxzLDs9XSspXFxzKig/Oj1cXHMqKFteLDtdKykpPy9nO2xldCBuO2Zvcig7bj1pLmV4ZWMoZSk7KXRbblsxXV09blsyXTtyZXR1cm4gdH0oZSk7aWYoWlIuaXNGdW5jdGlvbih0KSlyZXR1cm4gdC5jYWxsKHRoaXMsZSxpKTtpZihaUi5pc1JlZ0V4cCh0KSlyZXR1cm4gdC5leGVjKGUpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJwYXJzZXIgbXVzdCBiZSBib29sZWFufHJlZ2V4cHxmdW5jdGlvblwiKX19fWhhcyhlLHQpe2lmKGU9ZGIoZSkpe2NvbnN0IGk9WlIuZmluZEtleSh0aGlzLGUpO3JldHVybiEoIWl8fHZvaWQgMD09PXRoaXNbaV18fHQmJiF1YigwLHRoaXNbaV0saSx0KSl9cmV0dXJuITF9ZGVsZXRlKGUsdCl7Y29uc3QgaT10aGlzO2xldCBuPSExO2Z1bmN0aW9uIHIoZSl7aWYoZT1kYihlKSl7Y29uc3Qgcj1aUi5maW5kS2V5KGksZSk7IXJ8fHQmJiF1YigwLGlbcl0scix0KXx8KGRlbGV0ZSBpW3JdLG49ITApfX1yZXR1cm4gWlIuaXNBcnJheShlKT9lLmZvckVhY2gocik6cihlKSxufWNsZWFyKGUpe2NvbnN0IHQ9T2JqZWN0LmtleXModGhpcyk7bGV0IGk9dC5sZW5ndGgsbj0hMTtmb3IoO2ktLTspe2NvbnN0IHI9dFtpXTtlJiYhdWIoMCx0aGlzW3JdLHIsZSwhMCl8fChkZWxldGUgdGhpc1tyXSxuPSEwKX1yZXR1cm4gbn1ub3JtYWxpemUoZSl7Y29uc3QgdD10aGlzLGk9e307cmV0dXJuIFpSLmZvckVhY2godGhpcywoKG4scik9Pnt2YXIgbztjb25zdCBzPVpSLmZpbmRLZXkoaSxyKTtpZihzKXJldHVybiB0W3NdPWxiKG4pLHZvaWQgZGVsZXRlIHRbcl07Y29uc3QgYT1lP2Z1bmN0aW9uKGUpe3JldHVybiBrZyhlKS5jYWxsKGUpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKFthLXpcXGRdKShcXHcqKS9nLCgoZSx0LGkpPT50LnRvVXBwZXJDYXNlKCkraSkpfShyKTprZyhvPVN0cmluZyhyKSkuY2FsbChvKTthIT09ciYmZGVsZXRlIHRbcl0sdFthXT1sYihuKSxpW2FdPSEwfSkpLHRoaXN9Y29uY2F0KCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29uY2F0KHRoaXMsLi4udCl9dG9KU09OKGUpe2NvbnN0IHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gWlIuZm9yRWFjaCh0aGlzLCgoaSxuKT0+e251bGwhPWkmJiExIT09aSYmKHRbbl09ZSYmWlIuaXNBcnJheShpKT9pLmpvaW4oXCIsIFwiKTppKX0pKSx0fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpW1N5bWJvbC5pdGVyYXRvcl0oKX10b1N0cmluZygpe3JldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKS5tYXAoKGU9PntsZXRbdCxpXT1lO3JldHVybiB0K1wiOiBcIitpfSkpLmpvaW4oXCJcXG5cIil9Z2V0U2V0Q29va2llKCl7cmV0dXJuIHRoaXMuZ2V0KFwic2V0LWNvb2tpZVwiKXx8W119Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm5cIkF4aW9zSGVhZGVyc1wifXN0YXRpYyBmcm9tKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdGhpcz9lOm5ldyB0aGlzKGUpfXN0YXRpYyBjb25jYXQoZSl7Y29uc3QgdD1uZXcgdGhpcyhlKTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShpPjE/aS0xOjApLHI9MTtyPGk7cisrKW5bci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG4uZm9yRWFjaCgoZT0+dC5zZXQoZSkpKSx0fXN0YXRpYyBhY2Nlc3NvcihlKXtjb25zdCB0PSh0aGlzW2NiXT10aGlzW2NiXT17YWNjZXNzb3JzOnt9fSkuYWNjZXNzb3JzLGk9dGhpcy5wcm90b3R5cGU7ZnVuY3Rpb24gbihlKXtjb25zdCBuPWRiKGUpO3Rbbl18fCghZnVuY3Rpb24oZSx0KXtjb25zdCBpPVpSLnRvQ2FtZWxDYXNlKFwiIFwiK3QpO1tcImdldFwiLFwic2V0XCIsXCJoYXNcIl0uZm9yRWFjaCgobj0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4raSx7dmFsdWU6ZnVuY3Rpb24oZSxpLHIpe3JldHVybiB0aGlzW25dLmNhbGwodGhpcyx0LGUsaSxyKX0sY29uZmlndXJhYmxlOiEwfSl9KSl9KGksZSksdFtuXT0hMCl9cmV0dXJuIFpSLmlzQXJyYXkoZSk/ZS5mb3JFYWNoKG4pOm4oZSksdGhpc319aGIuYWNjZXNzb3IoW1wiQ29udGVudC1UeXBlXCIsXCJDb250ZW50LUxlbmd0aFwiLFwiQWNjZXB0XCIsXCJBY2NlcHQtRW5jb2RpbmdcIixcIlVzZXItQWdlbnRcIixcIkF1dGhvcml6YXRpb25cIl0pLFpSLnJlZHVjZURlc2NyaXB0b3JzKGhiLnByb3RvdHlwZSwoKGUsdCk9PntsZXR7dmFsdWU6aX09ZSxuPXRbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO3JldHVybntnZXQ6KCk9Pmksc2V0KGUpe3RoaXNbbl09ZX19fSkpLFpSLmZyZWV6ZU1ldGhvZHMoaGIpO3ZhciBwYj1oYjtmdW5jdGlvbiBfYihlLHQpe2NvbnN0IGk9dGhpc3x8c2Isbj10fHxpLHI9cGIuZnJvbShuLmhlYWRlcnMpO2xldCBvPW4uZGF0YTtyZXR1cm4gWlIuZm9yRWFjaChlLChmdW5jdGlvbihlKXtvPWUuY2FsbChpLG8sci5ub3JtYWxpemUoKSx0P3Quc3RhdHVzOnZvaWQgMCl9KSksci5ub3JtYWxpemUoKSxvfWZ1bmN0aW9uIEViKGUpe3JldHVybiEoIWV8fCFlLl9fQ0FOQ0VMX18pfWZ1bmN0aW9uIG1iKGUsdCxpKXskUi5jYWxsKHRoaXMsbnVsbD09ZT9cImNhbmNlbGVkXCI6ZSwkUi5FUlJfQ0FOQ0VMRUQsdCxpKSx0aGlzLm5hbWU9XCJDYW5jZWxlZEVycm9yXCJ9ZnVuY3Rpb24gZmIoZSx0LGkpe2NvbnN0IG49aS5jb25maWcudmFsaWRhdGVTdGF0dXM7aS5zdGF0dXMmJm4mJiFuKGkuc3RhdHVzKT90KG5ldyAkUihcIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIraS5zdGF0dXMsWyRSLkVSUl9CQURfUkVRVUVTVCwkUi5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKGkuc3RhdHVzLzEwMCktNF0saS5jb25maWcsaS5yZXF1ZXN0LGkpKTplKGkpfVpSLmluaGVyaXRzKG1iLCRSLHtfX0NBTkNFTF9fOiEwfSk7Y29uc3QgU2I9ZnVuY3Rpb24oZSx0KXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MyxuPTA7Y29uc3Qgcj1mdW5jdGlvbihlLHQpe2U9ZXx8MTA7Y29uc3QgaT1uZXcgQXJyYXkoZSksbj1uZXcgQXJyYXkoZSk7bGV0IHIsbz0wLHM9MDtyZXR1cm4gdD12b2lkIDAhPT10P3Q6MWUzLGZ1bmN0aW9uKGEpe2NvbnN0IGM9RGF0ZS5ub3coKSxkPW5bc107cnx8KHI9YyksaVtvXT1hLG5bb109YztsZXQgbD1zLHU9MDtmb3IoO2whPT1vOyl1Kz1pW2wrK10sbCU9ZTtpZihvPShvKzEpJWUsbz09PXMmJihzPShzKzEpJWUpLGMtcjx0KXJldHVybjtjb25zdCBoPWQmJmMtZDtyZXR1cm4gaD9NYXRoLnJvdW5kKDFlMyp1L2gpOnZvaWQgMH19KDUwLDI1MCk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7bGV0IGksbixyPTAsbz0xZTMvdDtjb25zdCBzPWZ1bmN0aW9uKHQpe2xldCBvPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpEYXRlLm5vdygpO3I9byxpPW51bGwsbiYmKGNsZWFyVGltZW91dChuKSxuPW51bGwpLGUoLi4udCl9O3JldHVybltmdW5jdGlvbigpe2NvbnN0IGU9RGF0ZS5ub3coKSx0PWUtcjtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCxjPW5ldyBBcnJheShhKSxkPTA7ZDxhO2QrKyljW2RdPWFyZ3VtZW50c1tkXTt0Pj1vP3MoYyxlKTooaT1jLG58fChuPXNldFRpbWVvdXQoKCgpPT57bj1udWxsLHMoaSl9KSxvLXQpKSl9LCgpPT5pJiZzKGkpXX0oKGk9Pntjb25zdCBvPWkubG9hZGVkLHM9aS5sZW5ndGhDb21wdXRhYmxlP2kudG90YWw6dm9pZCAwLGE9by1uLGM9cihhKTtuPW87ZSh7bG9hZGVkOm8sdG90YWw6cyxwcm9ncmVzczpzP28vczp2b2lkIDAsYnl0ZXM6YSxyYXRlOmN8fHZvaWQgMCxlc3RpbWF0ZWQ6YyYmcyYmbzw9cz8ocy1vKS9jOnZvaWQgMCxldmVudDppLGxlbmd0aENvbXB1dGFibGU6bnVsbCE9cyxbdD9cImRvd25sb2FkXCI6XCJ1cGxvYWRcIl06ITB9KX0pLGkpfSxnYj0oZSx0KT0+e2NvbnN0IGk9bnVsbCE9ZTtyZXR1cm5bbj0+dFswXSh7bGVuZ3RoQ29tcHV0YWJsZTppLHRvdGFsOmUsbG9hZGVkOm59KSx0WzFdXX0sVGI9ZT0+ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKylpW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gWlIuYXNhcCgoKCk9PmUoLi4uaSkpKX07dmFyIFJiPWhBLmhhc1N0YW5kYXJkQnJvd3NlckVudj8oKGUsdCk9Pmk9PihpPW5ldyB2UyhpLGhBLm9yaWdpbiksZS5wcm90b2NvbD09PWkucHJvdG9jb2wmJmUuaG9zdD09PWkuaG9zdCYmKHR8fGUucG9ydD09PWkucG9ydCkpKShuZXcgdlMoaEEub3JpZ2luKSxoQS5uYXZpZ2F0b3ImJi8obXNpZXx0cmlkZW50KS9pLnRlc3QoaEEubmF2aWdhdG9yLnVzZXJBZ2VudCkpOigpPT4hMCxDYj1oQS5oYXNTdGFuZGFyZEJyb3dzZXJFbnY/e3dyaXRlKGUsdCxpLG4scixvLHMpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudClyZXR1cm47Y29uc3QgYT1bXCJcIi5jb25jYXQoZSxcIj1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSldO1pSLmlzTnVtYmVyKGkpJiZhLnB1c2goXCJleHBpcmVzPVwiLmNvbmNhdChuZXcgRGF0ZShpKS50b1VUQ1N0cmluZygpKSksWlIuaXNTdHJpbmcobikmJmEucHVzaChcInBhdGg9XCIuY29uY2F0KG4pKSxaUi5pc1N0cmluZyhyKSYmYS5wdXNoKFwiZG9tYWluPVwiLmNvbmNhdChyKSksITA9PT1vJiZhLnB1c2goXCJzZWN1cmVcIiksWlIuaXNTdHJpbmcocykmJmEucHVzaChcIlNhbWVTaXRlPVwiLmNvbmNhdChzKSksZG9jdW1lbnQuY29va2llPWEuam9pbihcIjsgXCIpfSxyZWFkKGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudClyZXR1cm4gbnVsbDtjb25zdCB0PWRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKFwiKD86Xnw7IClcIitlK1wiPShbXjtdKilcIikpO3JldHVybiB0P2RlY29kZVVSSUNvbXBvbmVudCh0WzFdKTpudWxsfSxyZW1vdmUoZSl7dGhpcy53cml0ZShlLFwiXCIsRGF0ZS5ub3coKS04NjRlNSxcIi9cIil9fTp7d3JpdGUoKXt9LHJlYWQ6KCk9Pm51bGwscmVtb3ZlKCl7fX07ZnVuY3Rpb24gdmIoZSx0LGkpe2xldCBuPSFmdW5jdGlvbihlKXtyZXR1cm4vXihbYS16XVthLXpcXGQrXFwtLl0qOik/XFwvXFwvL2kudGVzdChlKX0odCk7cmV0dXJuIGUmJihufHwwPT1pKT9mdW5jdGlvbihlLHQpe3JldHVybiB0P2UucmVwbGFjZSgvXFwvP1xcLyQvLFwiXCIpK1wiL1wiK3QucmVwbGFjZSgvXlxcLysvLFwiXCIpOmV9KGUsdCk6dH1mdW5jdGlvbiB5YihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gSWIoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/eWIoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6eWIoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y29uc3QgQWI9ZT0+ZSBpbnN0YW5jZW9mIHBiP0liKHt9LGUpOmU7ZnVuY3Rpb24gYmIoZSx0KXt0PXR8fHt9O2NvbnN0IGk9e307ZnVuY3Rpb24gbihlLHQsaSxuKXtyZXR1cm4gWlIuaXNQbGFpbk9iamVjdChlKSYmWlIuaXNQbGFpbk9iamVjdCh0KT9aUi5tZXJnZS5jYWxsKHtjYXNlbGVzczpufSxlLHQpOlpSLmlzUGxhaW5PYmplY3QodCk/WlIubWVyZ2Uoe30sdCk6WlIuaXNBcnJheSh0KT90LnNsaWNlKCk6dH1mdW5jdGlvbiByKGUsdCxpLHIpe3JldHVybiBaUi5pc1VuZGVmaW5lZCh0KT9aUi5pc1VuZGVmaW5lZChlKT92b2lkIDA6bih2b2lkIDAsZSwwLHIpOm4oZSx0LDAscil9ZnVuY3Rpb24gbyhlLHQpe2lmKCFaUi5pc1VuZGVmaW5lZCh0KSlyZXR1cm4gbih2b2lkIDAsdCl9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBaUi5pc1VuZGVmaW5lZCh0KT9aUi5pc1VuZGVmaW5lZChlKT92b2lkIDA6bih2b2lkIDAsZSk6bih2b2lkIDAsdCl9ZnVuY3Rpb24gYShpLHIsbyl7cmV0dXJuIG8gaW4gdD9uKGkscik6byBpbiBlP24odm9pZCAwLGkpOnZvaWQgMH1jb25zdCBjPXt1cmw6byxtZXRob2Q6byxkYXRhOm8sYmFzZVVSTDpzLHRyYW5zZm9ybVJlcXVlc3Q6cyx0cmFuc2Zvcm1SZXNwb25zZTpzLHBhcmFtc1NlcmlhbGl6ZXI6cyx0aW1lb3V0OnMsdGltZW91dE1lc3NhZ2U6cyx3aXRoQ3JlZGVudGlhbHM6cyx3aXRoWFNSRlRva2VuOnMsYWRhcHRlcjpzLHJlc3BvbnNlVHlwZTpzLHhzcmZDb29raWVOYW1lOnMseHNyZkhlYWRlck5hbWU6cyxvblVwbG9hZFByb2dyZXNzOnMsb25Eb3dubG9hZFByb2dyZXNzOnMsZGVjb21wcmVzczpzLG1heENvbnRlbnRMZW5ndGg6cyxtYXhCb2R5TGVuZ3RoOnMsYmVmb3JlUmVkaXJlY3Q6cyx0cmFuc3BvcnQ6cyxodHRwQWdlbnQ6cyxodHRwc0FnZW50OnMsY2FuY2VsVG9rZW46cyxzb2NrZXRQYXRoOnMscmVzcG9uc2VFbmNvZGluZzpzLHZhbGlkYXRlU3RhdHVzOmEsaGVhZGVyczooZSx0LGkpPT5yKEFiKGUpLEFiKHQpLDAsITApfTtyZXR1cm4gWlIuZm9yRWFjaChPYmplY3Qua2V5cyhJYihJYih7fSxlKSx0KSksKGZ1bmN0aW9uKG4pe2NvbnN0IG89Y1tuXXx8cixzPW8oZVtuXSx0W25dLG4pO1pSLmlzVW5kZWZpbmVkKHMpJiZvIT09YXx8KGlbbl09cyl9KSksaX12YXIgd2I9ZT0+e2NvbnN0IHQ9YmIoe30sZSk7bGV0e2RhdGE6aSx3aXRoWFNSRlRva2VuOm4seHNyZkhlYWRlck5hbWU6cix4c3JmQ29va2llTmFtZTpvLGhlYWRlcnM6cyxhdXRoOmF9PXQ7aWYodC5oZWFkZXJzPXM9cGIuZnJvbShzKSx0LnVybD11Qyh2Yih0LmJhc2VVUkwsdC51cmwsdC5hbGxvd0Fic29sdXRlVXJscyksZS5wYXJhbXMsZS5wYXJhbXNTZXJpYWxpemVyKSxhJiZzLnNldChcIkF1dGhvcml6YXRpb25cIixcIkJhc2ljIFwiK2J0b2EoKGEudXNlcm5hbWV8fFwiXCIpK1wiOlwiKyhhLnBhc3N3b3JkP3VuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChhLnBhc3N3b3JkKSk6XCJcIikpKSxaUi5pc0Zvcm1EYXRhKGkpKWlmKGhBLmhhc1N0YW5kYXJkQnJvd3NlckVudnx8aEEuaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KXMuc2V0Q29udGVudFR5cGUodm9pZCAwKTtlbHNlIGlmKFpSLmlzRnVuY3Rpb24oaS5nZXRIZWFkZXJzKSl7Y29uc3QgZT1pLmdldEhlYWRlcnMoKSx0PVtcImNvbnRlbnQtdHlwZVwiLFwiY29udGVudC1sZW5ndGhcIl07T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoZT0+e2xldFtpLG5dPWU7TG4odCkuY2FsbCh0LGkudG9Mb3dlckNhc2UoKSkmJnMuc2V0KGksbil9KSl9aWYoaEEuaGFzU3RhbmRhcmRCcm93c2VyRW52JiYobiYmWlIuaXNGdW5jdGlvbihuKSYmKG49bih0KSksbnx8ITEhPT1uJiZSYih0LnVybCkpKXtjb25zdCBlPXImJm8mJkNiLnJlYWQobyk7ZSYmcy5zZXQocixlKX1yZXR1cm4gdH07dmFyIE9iPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBycCgoZnVuY3Rpb24odCxpKXtjb25zdCBuPXdiKGUpO2xldCByPW4uZGF0YTtjb25zdCBvPXBiLmZyb20obi5oZWFkZXJzKS5ub3JtYWxpemUoKTtsZXQgcyxhLGMsZCxsLHtyZXNwb25zZVR5cGU6dSxvblVwbG9hZFByb2dyZXNzOmgsb25Eb3dubG9hZFByb2dyZXNzOnB9PW47ZnVuY3Rpb24gXygpe2QmJmQoKSxsJiZsKCksbi5jYW5jZWxUb2tlbiYmbi5jYW5jZWxUb2tlbi51bnN1YnNjcmliZShzKSxuLnNpZ25hbCYmbi5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIscyl9bGV0IEU9bmV3IFhNTEh0dHBSZXF1ZXN0O2Z1bmN0aW9uIG0oKXtpZighRSlyZXR1cm47Y29uc3Qgbj1wYi5mcm9tKFwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzXCJpbiBFJiZFLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTtmYigoZnVuY3Rpb24oZSl7dChlKSxfKCl9KSwoZnVuY3Rpb24oZSl7aShlKSxfKCl9KSx7ZGF0YTp1JiZcInRleHRcIiE9PXUmJlwianNvblwiIT09dT9FLnJlc3BvbnNlOkUucmVzcG9uc2VUZXh0LHN0YXR1czpFLnN0YXR1cyxzdGF0dXNUZXh0OkUuc3RhdHVzVGV4dCxoZWFkZXJzOm4sY29uZmlnOmUscmVxdWVzdDpFfSksRT1udWxsfUUub3BlbihuLm1ldGhvZC50b1VwcGVyQ2FzZSgpLG4udXJsLCEwKSxFLnRpbWVvdXQ9bi50aW1lb3V0LFwib25sb2FkZW5kXCJpbiBFP0Uub25sb2FkZW5kPW06RS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtFJiY0PT09RS5yZWFkeVN0YXRlJiYoMCE9PUUuc3RhdHVzfHxFLnJlc3BvbnNlVVJMJiYwPT09RS5yZXNwb25zZVVSTC5pbmRleE9mKFwiZmlsZTpcIikpJiZzZXRUaW1lb3V0KG0pfSxFLm9uYWJvcnQ9ZnVuY3Rpb24oKXtFJiYoaShuZXcgJFIoXCJSZXF1ZXN0IGFib3J0ZWRcIiwkUi5FQ09OTkFCT1JURUQsZSxFKSksRT1udWxsKX0sRS5vbmVycm9yPWZ1bmN0aW9uKHQpe2NvbnN0IG49bmV3ICRSKHQmJnQubWVzc2FnZT90Lm1lc3NhZ2U6XCJOZXR3b3JrIEVycm9yXCIsJFIuRVJSX05FVFdPUkssZSxFKTtuLmV2ZW50PXR8fG51bGwsaShuKSxFPW51bGx9LEUub250aW1lb3V0PWZ1bmN0aW9uKCl7bGV0IHQ9bi50aW1lb3V0P1widGltZW91dCBvZiBcIituLnRpbWVvdXQrXCJtcyBleGNlZWRlZFwiOlwidGltZW91dCBleGNlZWRlZFwiO2NvbnN0IHI9bi50cmFuc2l0aW9uYWx8fHBDO24udGltZW91dEVycm9yTWVzc2FnZSYmKHQ9bi50aW1lb3V0RXJyb3JNZXNzYWdlKSxpKG5ldyAkUih0LHIuY2xhcmlmeVRpbWVvdXRFcnJvcj8kUi5FVElNRURPVVQ6JFIuRUNPTk5BQk9SVEVELGUsRSkpLEU9bnVsbH0sdm9pZCAwPT09ciYmby5zZXRDb250ZW50VHlwZShudWxsKSxcInNldFJlcXVlc3RIZWFkZXJcImluIEUmJlpSLmZvckVhY2goby50b0pTT04oKSwoZnVuY3Rpb24oZSx0KXtFLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxaUi5pc1VuZGVmaW5lZChuLndpdGhDcmVkZW50aWFscyl8fChFLndpdGhDcmVkZW50aWFscz0hIW4ud2l0aENyZWRlbnRpYWxzKSx1JiZcImpzb25cIiE9PXUmJihFLnJlc3BvbnNlVHlwZT1uLnJlc3BvbnNlVHlwZSkscCYmKFtjLGxdPVNiKHAsITApLEUuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsYykpLGgmJkUudXBsb2FkJiYoW2EsZF09U2IoaCksRS51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsYSksRS51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlbmRcIixkKSksKG4uY2FuY2VsVG9rZW58fG4uc2lnbmFsKSYmKHM9dD0+e0UmJihpKCF0fHx0LnR5cGU/bmV3IG1iKG51bGwsZSxFKTp0KSxFLmFib3J0KCksRT1udWxsKX0sbi5jYW5jZWxUb2tlbiYmbi5jYW5jZWxUb2tlbi5zdWJzY3JpYmUocyksbi5zaWduYWwmJihuLnNpZ25hbC5hYm9ydGVkP3MoKTpuLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixzKSkpO2NvbnN0IGY9ZnVuY3Rpb24oZSl7Y29uc3QgdD0vXihbLStcXHddezEsMjV9KSg6P1xcL1xcL3w6KS8uZXhlYyhlKTtyZXR1cm4gdCYmdFsxXXx8XCJcIn0obi51cmwpO2YmJi0xPT09aEEucHJvdG9jb2xzLmluZGV4T2YoZik/aShuZXcgJFIoXCJVbnN1cHBvcnRlZCBwcm90b2NvbCBcIitmK1wiOlwiLCRSLkVSUl9CQURfUkVRVUVTVCxlKSk6RS5zZW5kKHJ8fG51bGwpfSkpfTt2YXIgTmI9KGUsdCk9Pntjb25zdHtsZW5ndGg6aX09ZT1lP2UuZmlsdGVyKEJvb2xlYW4pOltdO2lmKHR8fGkpe2xldCBpLG49bmV3IEFib3J0Q29udHJvbGxlcjtjb25zdCByPWZ1bmN0aW9uKGUpe2lmKCFpKXtpPSEwLHMoKTtjb25zdCB0PWUgaW5zdGFuY2VvZiBFcnJvcj9lOnRoaXMucmVhc29uO24uYWJvcnQodCBpbnN0YW5jZW9mICRSP3Q6bmV3IG1iKHQgaW5zdGFuY2VvZiBFcnJvcj90Lm1lc3NhZ2U6dCkpfX07bGV0IG89dCYmc2V0VGltZW91dCgoKCk9PntvPW51bGwscihuZXcgJFIoXCJ0aW1lb3V0IFwiLmNvbmNhdCh0LFwiIG9mIG1zIGV4Y2VlZGVkXCIpLCRSLkVUSU1FRE9VVCkpfSksdCk7Y29uc3Qgcz0oKT0+e2UmJihvJiZjbGVhclRpbWVvdXQobyksbz1udWxsLGUuZm9yRWFjaCgoZT0+e2UudW5zdWJzY3JpYmU/ZS51bnN1YnNjcmliZShyKTplLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHIpfSkpLGU9bnVsbCl9O2UuZm9yRWFjaCgoZT0+ZS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixyKSkpO2NvbnN0e3NpZ25hbDphfT1uO3JldHVybiBhLnVuc3Vic2NyaWJlPSgpPT5aUi5hc2FwKHMpLGF9fSxEYj1pKG5wKSxQYj0kQy5mKFwiYXN5bmNJdGVyYXRvclwiKSxMYj1pKFBiKTtmdW5jdGlvbiBrYihlLHQpe3RoaXMudj1lLHRoaXMuaz10fWZ1bmN0aW9uIE1iKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgVWIoZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBVYihlKXt2YXIgdCxpO2Z1bmN0aW9uIG4odCxpKXt0cnl7dmFyIG89ZVt0XShpKSxzPW8udmFsdWUsYT1zIGluc3RhbmNlb2Yga2I7RGIucmVzb2x2ZShhP3MudjpzKS50aGVuKChmdW5jdGlvbihpKXtpZihhKXt2YXIgYz1cInJldHVyblwiPT09dD9cInJldHVyblwiOlwibmV4dFwiO2lmKCFzLmt8fGkuZG9uZSlyZXR1cm4gbihjLGkpO2k9ZVtjXShpKS52YWx1ZX1yKG8uZG9uZT9cInJldHVyblwiOlwibm9ybWFsXCIsaSl9KSwoZnVuY3Rpb24oZSl7bihcInRocm93XCIsZSl9KSl9Y2F0Y2goZSl7cihcInRocm93XCIsZSl9fWZ1bmN0aW9uIHIoZSxyKXtzd2l0Y2goZSl7Y2FzZVwicmV0dXJuXCI6dC5yZXNvbHZlKHt2YWx1ZTpyLGRvbmU6ITB9KTticmVhaztjYXNlXCJ0aHJvd1wiOnQucmVqZWN0KHIpO2JyZWFrO2RlZmF1bHQ6dC5yZXNvbHZlKHt2YWx1ZTpyLGRvbmU6ITF9KX0odD10Lm5leHQpP24odC5rZXksdC5hcmcpOmk9bnVsbH10aGlzLl9pbnZva2U9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbmV3IERiKChmdW5jdGlvbihvLHMpe3ZhciBhPXtrZXk6ZSxhcmc6cixyZXNvbHZlOm8scmVqZWN0OnMsbmV4dDpudWxsfTtpP2k9aS5uZXh0PWE6KHQ9aT1hLG4oZSxyKSl9KSl9LFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUucmV0dXJuJiYodGhpcy5yZXR1cm49dm9pZCAwKX1mdW5jdGlvbiBWYihlKXtyZXR1cm4gbmV3IGtiKGUsMCl9ZnVuY3Rpb24geGIoZSl7dmFyIHQ9e30saT0hMTtmdW5jdGlvbiBuKHQsbil7cmV0dXJuIGk9ITAsbj1uZXcgRGIoKGZ1bmN0aW9uKGkpe2koZVt0XShuKSl9KSkse2RvbmU6ITEsdmFsdWU6bmV3IGtiKG4sMSl9fXJldHVybiB0W3ZvaWQgMCE9PVFJJiZaSXx8XCJAQGl0ZXJhdG9yXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQubmV4dD1mdW5jdGlvbihlKXtyZXR1cm4gaT8oaT0hMSxlKTpuKFwibmV4dFwiLGUpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRocm93JiYodC50aHJvdz1mdW5jdGlvbihlKXtpZihpKXRocm93IGk9ITEsZTtyZXR1cm4gbihcInRocm93XCIsZSl9KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJldHVybiYmKHQucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiBpPyhpPSExLGUpOm4oXCJyZXR1cm5cIixlKX0pLHR9VWIucHJvdG90eXBlW1wiZnVuY3Rpb25cIj09dHlwZW9mIFFJJiZMYnx8XCJAQGFzeW5jSXRlcmF0b3JcIl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sVWIucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZShcIm5leHRcIixlKX0sVWIucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UoXCJ0aHJvd1wiLGUpfSxVYi5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UoXCJyZXR1cm5cIixlKX07dmFyIEZiPWkoUGIpO2Z1bmN0aW9uIEJiKGUpe3ZhciB0LGksbixyPTI7Zm9yKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJihpPUZiLG49U3ltYm9sLml0ZXJhdG9yKTtyLS07KXtpZihpJiZudWxsIT0odD1lW2ldKSlyZXR1cm4gdC5jYWxsKGUpO2lmKG4mJm51bGwhPSh0PWVbbl0pKXJldHVybiBuZXcgamIodC5jYWxsKGUpKTtpPVwiQEBhc3luY0l0ZXJhdG9yXCIsbj1cIkBAaXRlcmF0b3JcIn10aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGlzIG5vdCBhc3luYyBpdGVyYWJsZVwiKX1mdW5jdGlvbiBqYihlKXtmdW5jdGlvbiB0KGUpe2lmKE9iamVjdChlKSE9PWUpcmV0dXJuIHJwLnJlamVjdChuZXcgVHlwZUVycm9yKGUrXCIgaXMgbm90IGFuIG9iamVjdC5cIikpO3ZhciB0PWUuZG9uZTtyZXR1cm4gcnAucmVzb2x2ZShlLnZhbHVlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm57dmFsdWU6ZSxkb25lOnR9fSkpfXJldHVybiBqYj1mdW5jdGlvbihlKXt0aGlzLnM9ZSx0aGlzLm49ZS5uZXh0fSxqYi5wcm90b3R5cGU9e3M6bnVsbCxuOm51bGwsbmV4dDpmdW5jdGlvbigpe3JldHVybiB0KHRoaXMubi5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHJldHVybjpmdW5jdGlvbihlKXt2YXIgaT10aGlzLnMucmV0dXJuO3JldHVybiB2b2lkIDA9PT1pP3JwLnJlc29sdmUoe3ZhbHVlOmUsZG9uZTohMH0pOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHRocm93OmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucy5yZXR1cm47cmV0dXJuIHZvaWQgMD09PWk/cnAucmVqZWN0KGUpOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9fSxuZXcgamIoZSl9Y29uc3QgR2I9ZnVuY3Rpb24qKGUsdCl7bGV0IGk9ZS5ieXRlTGVuZ3RoO2lmKCF0fHxpPHQpcmV0dXJuIHZvaWQoeWllbGQgZSk7bGV0IG4scj0wO2Zvcig7cjxpOyluPXIrdCx5aWVsZCBlLnNsaWNlKHIsbikscj1ufSxXYj1mdW5jdGlvbigpe3ZhciBlPU1iKChmdW5jdGlvbiooZSx0KXt2YXIgaSxuPSExLHI9ITE7dHJ5e2Zvcih2YXIgbyxzPUJiKEhiKGUpKTtuPSEobz15aWVsZCBWYihzLm5leHQoKSkpLmRvbmU7bj0hMSl7Y29uc3QgZT1vLnZhbHVlO3lpZWxkKnhiKEJiKEdiKGUsdCkpKX19Y2F0Y2goZSl7cj0hMCxpPWV9ZmluYWxseXt0cnl7biYmbnVsbCE9cy5yZXR1cm4mJih5aWVsZCBWYihzLnJldHVybigpKSl9ZmluYWxseXtpZihyKXRocm93IGl9fX0pKTtyZXR1cm4gZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLEhiPWZ1bmN0aW9uKCl7dmFyIGU9TWIoKGZ1bmN0aW9uKihlKXtpZihlW0ZiXSlyZXR1cm4gdm9pZCh5aWVsZCp4YihCYihlKSkpO2NvbnN0IHQ9ZS5nZXRSZWFkZXIoKTt0cnl7Zm9yKDs7KXtjb25zdHtkb25lOmUsdmFsdWU6aX09eWllbGQgVmIodC5yZWFkKCkpO2lmKGUpYnJlYWs7eWllbGQgaX19ZmluYWxseXt5aWVsZCBWYih0LmNhbmNlbCgpKX19KSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksS2I9KGUsdCxpLG4pPT57Y29uc3Qgcj1XYihlLHQpO2xldCBvLHM9MCxhPWU9PntvfHwobz0hMCxuJiZuKGUpKX07cmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7YXN5bmMgcHVsbChlKXt0cnl7Y29uc3R7ZG9uZTp0LHZhbHVlOm59PWF3YWl0IHIubmV4dCgpO2lmKHQpcmV0dXJuIGEoKSx2b2lkIGUuY2xvc2UoKTtsZXQgbz1uLmJ5dGVMZW5ndGg7aWYoaSl7bGV0IGU9cys9bztpKGUpfWUuZW5xdWV1ZShuZXcgVWludDhBcnJheShuKSl9Y2F0Y2goZSl7dGhyb3cgYShlKSxlfX0sY2FuY2VsOmU9PihhKGUpLHIucmV0dXJuKCkpfSx7aGlnaFdhdGVyTWFyazoyfSl9O2Z1bmN0aW9uIFliKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiB6YihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9ZYihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpZYihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jb25zdHtpc0Z1bmN0aW9uOnFifT1aUixYYj0oZT0+e2xldHtSZXF1ZXN0OnQsUmVzcG9uc2U6aX09ZTtyZXR1cm57UmVxdWVzdDp0LFJlc3BvbnNlOml9fSkoWlIuZ2xvYmFsKSx7UmVhZGFibGVTdHJlYW06SmIsVGV4dEVuY29kZXI6UWJ9PVpSLmdsb2JhbCxaYj1mdW5jdGlvbihlKXt0cnl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodD4xP3QtMTowKSxuPTE7bjx0O24rKylpW24tMV09YXJndW1lbnRzW25dO3JldHVybiEhZSguLi5pKX1jYXRjaChlKXtyZXR1cm4hMX19LCRiPWU9PntlPVpSLm1lcmdlLmNhbGwoe3NraXBVbmRlZmluZWQ6ITB9LFhiLGUpO2NvbnN0e2ZldGNoOnQsUmVxdWVzdDppLFJlc3BvbnNlOm59PWUscj10P3FiKHQpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGZldGNoLG89cWIoaSkscz1xYihuKTtpZighcilyZXR1cm4hMTtjb25zdCBhPXImJnFiKEpiKSxjPXImJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBRYj8oZD1uZXcgUWIsZT0+ZC5lbmNvZGUoZSkpOmFzeW5jIGU9Pm5ldyBVaW50OEFycmF5KGF3YWl0IG5ldyBpKGUpLmFycmF5QnVmZmVyKCkpKTt2YXIgZDtjb25zdCBsPW8mJmEmJlpiKCgoKT0+e2xldCBlPSExO2NvbnN0IHQ9bmV3IGkoaEEub3JpZ2luLHtib2R5Om5ldyBKYixtZXRob2Q6XCJQT1NUXCIsZ2V0IGR1cGxleCgpe3JldHVybiBlPSEwLFwiaGFsZlwifX0pLmhlYWRlcnMuaGFzKFwiQ29udGVudC1UeXBlXCIpO3JldHVybiBlJiYhdH0pKSx1PXMmJmEmJlpiKCgoKT0+WlIuaXNSZWFkYWJsZVN0cmVhbShuZXcgbihcIlwiKS5ib2R5KSkpLGg9e3N0cmVhbTp1JiYoZT0+ZS5ib2R5KX07ciYmW1widGV4dFwiLFwiYXJyYXlCdWZmZXJcIixcImJsb2JcIixcImZvcm1EYXRhXCIsXCJzdHJlYW1cIl0uZm9yRWFjaCgoZT0+eyFoW2VdJiYoaFtlXT0odCxpKT0+e2xldCBuPXQmJnRbZV07aWYobilyZXR1cm4gbi5jYWxsKHQpO3Rocm93IG5ldyAkUihcIlJlc3BvbnNlIHR5cGUgJ1wiLmNvbmNhdChlLFwiJyBpcyBub3Qgc3VwcG9ydGVkXCIpLCRSLkVSUl9OT1RfU1VQUE9SVCxpKX0pfSkpO2NvbnN0IHA9YXN5bmMoZSx0KT0+e2NvbnN0IG49WlIudG9GaW5pdGVOdW1iZXIoZS5nZXRDb250ZW50TGVuZ3RoKCkpO3JldHVybiBudWxsPT1uPyhhc3luYyBlPT57aWYobnVsbD09ZSlyZXR1cm4gMDtpZihaUi5pc0Jsb2IoZSkpcmV0dXJuIGUuc2l6ZTtpZihaUi5pc1NwZWNDb21wbGlhbnRGb3JtKGUpKXtjb25zdCB0PW5ldyBpKGhBLm9yaWdpbix7bWV0aG9kOlwiUE9TVFwiLGJvZHk6ZX0pO3JldHVybihhd2FpdCB0LmFycmF5QnVmZmVyKCkpLmJ5dGVMZW5ndGh9cmV0dXJuIFpSLmlzQXJyYXlCdWZmZXJWaWV3KGUpfHxaUi5pc0FycmF5QnVmZmVyKGUpP2UuYnl0ZUxlbmd0aDooWlIuaXNVUkxTZWFyY2hQYXJhbXMoZSkmJihlKz1cIlwiKSxaUi5pc1N0cmluZyhlKT8oYXdhaXQgYyhlKSkuYnl0ZUxlbmd0aDp2b2lkIDApfSkodCk6bn07cmV0dXJuIGFzeW5jIGU9PntsZXR7dXJsOnIsbWV0aG9kOnMsZGF0YTphLHNpZ25hbDpjLGNhbmNlbFRva2VuOmQsdGltZW91dDpfLG9uRG93bmxvYWRQcm9ncmVzczpFLG9uVXBsb2FkUHJvZ3Jlc3M6bSxyZXNwb25zZVR5cGU6ZixoZWFkZXJzOlMsd2l0aENyZWRlbnRpYWxzOmc9XCJzYW1lLW9yaWdpblwiLGZldGNoT3B0aW9uczpUfT13YihlKSxSPXR8fGZldGNoO2Y9Zj8oZitcIlwiKS50b0xvd2VyQ2FzZSgpOlwidGV4dFwiO2xldCBDPU5iKFtjLGQmJmQudG9BYm9ydFNpZ25hbCgpXSxfKSx2PW51bGw7Y29uc3QgeT1DJiZDLnVuc3Vic2NyaWJlJiYoKCk9PntDLnVuc3Vic2NyaWJlKCl9KTtsZXQgSTt0cnl7aWYobSYmbCYmXCJnZXRcIiE9PXMmJlwiaGVhZFwiIT09cyYmMCE9PShJPWF3YWl0IHAoUyxhKSkpe2xldCBlLHQ9bmV3IGkocix7bWV0aG9kOlwiUE9TVFwiLGJvZHk6YSxkdXBsZXg6XCJoYWxmXCJ9KTtpZihaUi5pc0Zvcm1EYXRhKGEpJiYoZT10LmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpKSYmUy5zZXRDb250ZW50VHlwZShlKSx0LmJvZHkpe2NvbnN0W2UsaV09Z2IoSSxTYihUYihtKSkpO2E9S2IodC5ib2R5LDY1NTM2LGUsaSl9fVpSLmlzU3RyaW5nKGcpfHwoZz1nP1wiaW5jbHVkZVwiOlwib21pdFwiKTtjb25zdCB0PW8mJlwiY3JlZGVudGlhbHNcImluIGkucHJvdG90eXBlLGM9emIoemIoe30sVCkse30se3NpZ25hbDpDLG1ldGhvZDpzLnRvVXBwZXJDYXNlKCksaGVhZGVyczpTLm5vcm1hbGl6ZSgpLnRvSlNPTigpLGJvZHk6YSxkdXBsZXg6XCJoYWxmXCIsY3JlZGVudGlhbHM6dD9nOnZvaWQgMH0pO3Y9byYmbmV3IGkocixjKTtsZXQgZD1hd2FpdChvP1IodixUKTpSKHIsYykpO2NvbnN0IF89dSYmKFwic3RyZWFtXCI9PT1mfHxcInJlc3BvbnNlXCI9PT1mKTtpZih1JiYoRXx8XyYmeSkpe2NvbnN0IGU9e307W1wic3RhdHVzXCIsXCJzdGF0dXNUZXh0XCIsXCJoZWFkZXJzXCJdLmZvckVhY2goKHQ9PntlW3RdPWRbdF19KSk7Y29uc3QgdD1aUi50b0Zpbml0ZU51bWJlcihkLmhlYWRlcnMuZ2V0KFwiY29udGVudC1sZW5ndGhcIikpLFtpLHJdPUUmJmdiKHQsU2IoVGIoRSksITApKXx8W107ZD1uZXcgbihLYihkLmJvZHksNjU1MzYsaSwoKCk9PntyJiZyKCkseSYmeSgpfSkpLGUpfWY9Znx8XCJ0ZXh0XCI7bGV0IEE9YXdhaXQgaFtaUi5maW5kS2V5KGgsZil8fFwidGV4dFwiXShkLGUpO3JldHVybiFfJiZ5JiZ5KCksYXdhaXQgbmV3IHJwKCgodCxpKT0+e2ZiKHQsaSx7ZGF0YTpBLGhlYWRlcnM6cGIuZnJvbShkLmhlYWRlcnMpLHN0YXR1czpkLnN0YXR1cyxzdGF0dXNUZXh0OmQuc3RhdHVzVGV4dCxjb25maWc6ZSxyZXF1ZXN0OnZ9KX0pKX1jYXRjaCh0KXtpZih5JiZ5KCksdCYmXCJUeXBlRXJyb3JcIj09PXQubmFtZSYmL0xvYWQgZmFpbGVkfGZldGNoL2kudGVzdCh0Lm1lc3NhZ2UpKXRocm93IE9iamVjdC5hc3NpZ24obmV3ICRSKFwiTmV0d29yayBFcnJvclwiLCRSLkVSUl9ORVRXT1JLLGUsdikse2NhdXNlOnQuY2F1c2V8fHR9KTt0aHJvdyAkUi5mcm9tKHQsdCYmdC5jb2RlLGUsdil9fX0sZXc9bmV3IE1hcCx0dz1lPT57bGV0IHQ9ZSYmZS5lbnZ8fHt9O2NvbnN0e2ZldGNoOmksUmVxdWVzdDpuLFJlc3BvbnNlOnJ9PXQsbz1bbixyLGldO2xldCBzLGEsYz1vLmxlbmd0aCxkPWV3O2Zvcig7Yy0tOylzPW9bY10sYT1kLmdldChzKSx2b2lkIDA9PT1hJiZkLnNldChzLGE9Yz9uZXcgTWFwOiRiKHQpKSxkPWE7cmV0dXJuIGF9O3R3KCk7Y29uc3QgaXc9e2h0dHA6bnVsbCx4aHI6T2IsZmV0Y2g6e2dldDp0d319O1pSLmZvckVhY2goaXcsKChlLHQpPT57aWYoZSl7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwibmFtZVwiLHt2YWx1ZTp0fSl9Y2F0Y2goZSl7fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiYWRhcHRlck5hbWVcIix7dmFsdWU6dH0pfX0pKTtjb25zdCBudz1lPT5cIi0gXCIuY29uY2F0KGUpLHJ3PWU9PlpSLmlzRnVuY3Rpb24oZSl8fG51bGw9PT1lfHwhMT09PWU7dmFyIG93PXtnZXRBZGFwdGVyOmZ1bmN0aW9uKGUsdCl7ZT1aUi5pc0FycmF5KGUpP2U6W2VdO2NvbnN0e2xlbmd0aDppfT1lO2xldCBuLHI7Y29uc3Qgbz17fTtmb3IobGV0IHM9MDtzPGk7cysrKXtsZXQgaTtpZihuPWVbc10scj1uLCFydyhuKSYmKHI9aXdbKGk9U3RyaW5nKG4pKS50b0xvd2VyQ2FzZSgpXSx2b2lkIDA9PT1yKSl0aHJvdyBuZXcgJFIoXCJVbmtub3duIGFkYXB0ZXIgJ1wiLmNvbmNhdChpLFwiJ1wiKSk7aWYociYmKFpSLmlzRnVuY3Rpb24ocil8fChyPXIuZ2V0KHQpKSkpYnJlYWs7b1tpfHxcIiNcIitzXT1yfWlmKCFyKXtjb25zdCBlPU9iamVjdC5lbnRyaWVzKG8pLm1hcCgoZT0+e2xldFt0LGldPWU7cmV0dXJuXCJhZGFwdGVyIFwiLmNvbmNhdCh0LFwiIFwiKSsoITE9PT1pP1wiaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgZW52aXJvbm1lbnRcIjpcImlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIGJ1aWxkXCIpfSkpO3Rocm93IG5ldyAkUihcIlRoZXJlIGlzIG5vIHN1aXRhYmxlIGFkYXB0ZXIgdG8gZGlzcGF0Y2ggdGhlIHJlcXVlc3QgXCIrKGk/ZS5sZW5ndGg+MT9cInNpbmNlIDpcXG5cIitlLm1hcChudykuam9pbihcIlxcblwiKTpcIiBcIitudyhlWzBdKTpcImFzIG5vIGFkYXB0ZXIgc3BlY2lmaWVkXCIpLFwiRVJSX05PVF9TVVBQT1JUXCIpfXJldHVybiByfSxhZGFwdGVyczppd307ZnVuY3Rpb24gc3coZSl7aWYoZS5jYW5jZWxUb2tlbiYmZS5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCksZS5zaWduYWwmJmUuc2lnbmFsLmFib3J0ZWQpdGhyb3cgbmV3IG1iKG51bGwsZSl9ZnVuY3Rpb24gYXcoZSl7c3coZSksZS5oZWFkZXJzPXBiLmZyb20oZS5oZWFkZXJzKSxlLmRhdGE9X2IuY2FsbChlLGUudHJhbnNmb3JtUmVxdWVzdCksLTEhPT1bXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCJdLmluZGV4T2YoZS5tZXRob2QpJiZlLmhlYWRlcnMuc2V0Q29udGVudFR5cGUoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiwhMSk7cmV0dXJuIG93LmdldEFkYXB0ZXIoZS5hZGFwdGVyfHxzYi5hZGFwdGVyLGUpKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBzdyhlKSx0LmRhdGE9X2IuY2FsbChlLGUudHJhbnNmb3JtUmVzcG9uc2UsdCksdC5oZWFkZXJzPXBiLmZyb20odC5oZWFkZXJzKSx0fSksKGZ1bmN0aW9uKHQpe3JldHVybiBFYih0KXx8KHN3KGUpLHQmJnQucmVzcG9uc2UmJih0LnJlc3BvbnNlLmRhdGE9X2IuY2FsbChlLGUudHJhbnNmb3JtUmVzcG9uc2UsdC5yZXNwb25zZSksdC5yZXNwb25zZS5oZWFkZXJzPXBiLmZyb20odC5yZXNwb25zZS5oZWFkZXJzKSkpLHJwLnJlamVjdCh0KX0pKX1jb25zdCBjdz1cIjEuMTMuMlwiLGR3PXt9O1tcIm9iamVjdFwiLFwiYm9vbGVhblwiLFwibnVtYmVyXCIsXCJmdW5jdGlvblwiLFwic3RyaW5nXCIsXCJzeW1ib2xcIl0uZm9yRWFjaCgoKGUsdCk9Pntkd1tlXT1mdW5jdGlvbihpKXtyZXR1cm4gdHlwZW9mIGk9PT1lfHxcImFcIisodDwxP1wibiBcIjpcIiBcIikrZX19KSk7Y29uc3QgbHc9e307ZHcudHJhbnNpdGlvbmFsPWZ1bmN0aW9uKGUsdCxpKXtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuXCJbQXhpb3MgdlwiK2N3K1wiXSBUcmFuc2l0aW9uYWwgb3B0aW9uICdcIitlK1wiJ1wiK3QrKGk/XCIuIFwiK2k6XCJcIil9cmV0dXJuKGkscixvKT0+e2lmKCExPT09ZSl0aHJvdyBuZXcgJFIobihyLFwiIGhhcyBiZWVuIHJlbW92ZWRcIisodD9cIiBpbiBcIit0OlwiXCIpKSwkUi5FUlJfREVQUkVDQVRFRCk7cmV0dXJuIHQmJiFsd1tyXSYmKGx3W3JdPSEwLGNvbnNvbGUud2FybihuKHIsXCIgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2XCIrdCtcIiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZVwiKSkpLCFlfHxlKGkscixvKX19LGR3LnNwZWxsaW5nPWZ1bmN0aW9uKGUpe3JldHVybih0LGkpPT4oY29uc29sZS53YXJuKFwiXCIuY29uY2F0KGksXCIgaXMgbGlrZWx5IGEgbWlzc3BlbGxpbmcgb2YgXCIpLmNvbmNhdChlKSksITApfTt2YXIgdXc9e2Fzc2VydE9wdGlvbnM6ZnVuY3Rpb24oZSx0LGkpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyAkUihcIm9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3RcIiwkUi5FUlJfQkFEX09QVElPTl9WQUxVRSk7Y29uc3Qgbj1PYmplY3Qua2V5cyhlKTtsZXQgcj1uLmxlbmd0aDtmb3IoO3ItLSA+MDspe2NvbnN0IG89bltyXSxzPXRbb107aWYocyl7Y29uc3QgdD1lW29dLGk9dm9pZCAwPT09dHx8cyh0LG8sZSk7aWYoITAhPT1pKXRocm93IG5ldyAkUihcIm9wdGlvbiBcIitvK1wiIG11c3QgYmUgXCIraSwkUi5FUlJfQkFEX09QVElPTl9WQUxVRSl9ZWxzZSBpZighMCE9PWkpdGhyb3cgbmV3ICRSKFwiVW5rbm93biBvcHRpb24gXCIrbywkUi5FUlJfQkFEX09QVElPTil9fSx2YWxpZGF0b3JzOmR3fTtjb25zdCBodz11dy52YWxpZGF0b3JzO2xldCBwdz1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLmRlZmF1bHRzPWV8fHt9LHRoaXMuaW50ZXJjZXB0b3JzPXtyZXF1ZXN0Om5ldyBoQyxyZXNwb25zZTpuZXcgaEN9fWFzeW5jIHJlcXVlc3QoZSx0KXt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuX3JlcXVlc3QoZSx0KX1jYXRjaChlKXtpZihlIGluc3RhbmNlb2YgRXJyb3Ipe2xldCB0PXt9O0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHQpOnQ9bmV3IEVycm9yO2NvbnN0IGk9dC5zdGFjaz90LnN0YWNrLnJlcGxhY2UoL14uK1xcbi8sXCJcIik6XCJcIjt0cnl7ZS5zdGFjaz9pJiYhU3RyaW5nKGUuc3RhY2spLmVuZHNXaXRoKGkucmVwbGFjZSgvXi4rXFxuLitcXG4vLFwiXCIpKSYmKGUuc3RhY2srPVwiXFxuXCIraSk6ZS5zdGFjaz1pfWNhdGNoKGUpe319dGhyb3cgZX19X3JlcXVlc3QoZSx0KXtcInN0cmluZ1wiPT10eXBlb2YgZT8odD10fHx7fSkudXJsPWU6dD1lfHx7fSx0PWJiKHRoaXMuZGVmYXVsdHMsdCk7Y29uc3R7dHJhbnNpdGlvbmFsOmkscGFyYW1zU2VyaWFsaXplcjpuLGhlYWRlcnM6cn09dDt2b2lkIDAhPT1pJiZ1dy5hc3NlcnRPcHRpb25zKGkse3NpbGVudEpTT05QYXJzaW5nOmh3LnRyYW5zaXRpb25hbChody5ib29sZWFuKSxmb3JjZWRKU09OUGFyc2luZzpody50cmFuc2l0aW9uYWwoaHcuYm9vbGVhbiksY2xhcmlmeVRpbWVvdXRFcnJvcjpody50cmFuc2l0aW9uYWwoaHcuYm9vbGVhbil9LCExKSxudWxsIT1uJiYoWlIuaXNGdW5jdGlvbihuKT90LnBhcmFtc1NlcmlhbGl6ZXI9e3NlcmlhbGl6ZTpufTp1dy5hc3NlcnRPcHRpb25zKG4se2VuY29kZTpody5mdW5jdGlvbixzZXJpYWxpemU6aHcuZnVuY3Rpb259LCEwKSksdm9pZCAwIT09dC5hbGxvd0Fic29sdXRlVXJsc3x8KHZvaWQgMCE9PXRoaXMuZGVmYXVsdHMuYWxsb3dBYnNvbHV0ZVVybHM/dC5hbGxvd0Fic29sdXRlVXJscz10aGlzLmRlZmF1bHRzLmFsbG93QWJzb2x1dGVVcmxzOnQuYWxsb3dBYnNvbHV0ZVVybHM9ITApLHV3LmFzc2VydE9wdGlvbnModCx7YmFzZVVybDpody5zcGVsbGluZyhcImJhc2VVUkxcIiksd2l0aFhzcmZUb2tlbjpody5zcGVsbGluZyhcIndpdGhYU1JGVG9rZW5cIil9LCEwKSx0Lm1ldGhvZD0odC5tZXRob2R8fHRoaXMuZGVmYXVsdHMubWV0aG9kfHxcImdldFwiKS50b0xvd2VyQ2FzZSgpO2xldCBvPXImJlpSLm1lcmdlKHIuY29tbW9uLHJbdC5tZXRob2RdKTtyJiZaUi5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCIsXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCIsXCJjb21tb25cIl0sKGU9PntkZWxldGUgcltlXX0pKSx0LmhlYWRlcnM9cGIuY29uY2F0KG8scik7Y29uc3Qgcz1bXTtsZXQgYT0hMDt0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUucnVuV2hlbiYmITE9PT1lLnJ1bldoZW4odCl8fChhPWEmJmUuc3luY2hyb25vdXMscy51bnNoaWZ0KGUuZnVsZmlsbGVkLGUucmVqZWN0ZWQpKX0pKTtjb25zdCBjPVtdO2xldCBkO3RoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2MucHVzaChlLmZ1bGZpbGxlZCxlLnJlamVjdGVkKX0pKTtsZXQgbCx1PTA7aWYoIWEpe2NvbnN0IGU9W2F3LmJpbmQodGhpcyksdm9pZCAwXTtmb3IoZS51bnNoaWZ0KC4uLnMpLGUucHVzaCguLi5jKSxsPWUubGVuZ3RoLGQ9cnAucmVzb2x2ZSh0KTt1PGw7KWQ9ZC50aGVuKGVbdSsrXSxlW3UrK10pO3JldHVybiBkfWw9cy5sZW5ndGg7bGV0IGg9dDtmb3IoO3U8bDspe2NvbnN0IGU9c1t1KytdLHQ9c1t1KytdO3RyeXtoPWUoaCl9Y2F0Y2goZSl7dC5jYWxsKHRoaXMsZSk7YnJlYWt9fXRyeXtkPWF3LmNhbGwodGhpcyxoKX1jYXRjaChlKXtyZXR1cm4gcnAucmVqZWN0KGUpfWZvcih1PTAsbD1jLmxlbmd0aDt1PGw7KWQ9ZC50aGVuKGNbdSsrXSxjW3UrK10pO3JldHVybiBkfWdldFVyaShlKXtyZXR1cm4gdUModmIoKGU9YmIodGhpcy5kZWZhdWx0cyxlKSkuYmFzZVVSTCxlLnVybCxlLmFsbG93QWJzb2x1dGVVcmxzKSxlLnBhcmFtcyxlLnBhcmFtc1NlcmlhbGl6ZXIpfX07WlIuZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiLFwib3B0aW9uc1wiXSwoZnVuY3Rpb24oZSl7cHcucHJvdG90eXBlW2VdPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMucmVxdWVzdChiYihpfHx7fSx7bWV0aG9kOmUsdXJsOnQsZGF0YTooaXx8e30pLmRhdGF9KSl9fSkpLFpSLmZvckVhY2goW1wicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiXSwoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZnVuY3Rpb24oaSxuLHIpe3JldHVybiB0aGlzLnJlcXVlc3QoYmIocnx8e30se21ldGhvZDplLGhlYWRlcnM6dD97XCJDb250ZW50LVR5cGVcIjpcIm11bHRpcGFydC9mb3JtLWRhdGFcIn06e30sdXJsOmksZGF0YTpufSkpfX1wdy5wcm90b3R5cGVbZV09dCgpLHB3LnByb3RvdHlwZVtlK1wiRm9ybVwiXT10KCEwKX0pKTt2YXIgX3c9cHc7Y2xhc3MgRXd7Y29uc3RydWN0b3IoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTtsZXQgdDt0aGlzLnByb21pc2U9bmV3IHJwKChmdW5jdGlvbihlKXt0PWV9KSk7Y29uc3QgaT10aGlzO3RoaXMucHJvbWlzZS50aGVuKChlPT57aWYoIWkuX2xpc3RlbmVycylyZXR1cm47bGV0IHQ9aS5fbGlzdGVuZXJzLmxlbmd0aDtmb3IoO3QtLSA+MDspaS5fbGlzdGVuZXJzW3RdKGUpO2kuX2xpc3RlbmVycz1udWxsfSkpLHRoaXMucHJvbWlzZS50aGVuPWU9PntsZXQgdDtjb25zdCBuPW5ldyBycCgoZT0+e2kuc3Vic2NyaWJlKGUpLHQ9ZX0pKS50aGVuKGUpO3JldHVybiBuLmNhbmNlbD1mdW5jdGlvbigpe2kudW5zdWJzY3JpYmUodCl9LG59LGUoKGZ1bmN0aW9uKGUsbixyKXtpLnJlYXNvbnx8KGkucmVhc29uPW5ldyBtYihlLG4sciksdChpLnJlYXNvbikpfSkpfXRocm93SWZSZXF1ZXN0ZWQoKXtpZih0aGlzLnJlYXNvbil0aHJvdyB0aGlzLnJlYXNvbn1zdWJzY3JpYmUoZSl7dGhpcy5yZWFzb24/ZSh0aGlzLnJlYXNvbik6dGhpcy5fbGlzdGVuZXJzP3RoaXMuX2xpc3RlbmVycy5wdXNoKGUpOnRoaXMuX2xpc3RlbmVycz1bZV19dW5zdWJzY3JpYmUoZSl7aWYoIXRoaXMuX2xpc3RlbmVycylyZXR1cm47Y29uc3QgdD10aGlzLl9saXN0ZW5lcnMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX2xpc3RlbmVycy5zcGxpY2UodCwxKX10b0Fib3J0U2lnbmFsKCl7Y29uc3QgZT1uZXcgQWJvcnRDb250cm9sbGVyLHQ9dD0+e2UuYWJvcnQodCl9O3JldHVybiB0aGlzLnN1YnNjcmliZSh0KSxlLnNpZ25hbC51bnN1YnNjcmliZT0oKT0+dGhpcy51bnN1YnNjcmliZSh0KSxlLnNpZ25hbH1zdGF0aWMgc291cmNlKCl7bGV0IGU7Y29uc3QgdD1uZXcgRXcoKGZ1bmN0aW9uKHQpe2U9dH0pKTtyZXR1cm57dG9rZW46dCxjYW5jZWw6ZX19fXZhciBtdz1Fdztjb25zdCBmdz17Q29udGludWU6MTAwLFN3aXRjaGluZ1Byb3RvY29sczoxMDEsUHJvY2Vzc2luZzoxMDIsRWFybHlIaW50czoxMDMsT2s6MjAwLENyZWF0ZWQ6MjAxLEFjY2VwdGVkOjIwMixOb25BdXRob3JpdGF0aXZlSW5mb3JtYXRpb246MjAzLE5vQ29udGVudDoyMDQsUmVzZXRDb250ZW50OjIwNSxQYXJ0aWFsQ29udGVudDoyMDYsTXVsdGlTdGF0dXM6MjA3LEFscmVhZHlSZXBvcnRlZDoyMDgsSW1Vc2VkOjIyNixNdWx0aXBsZUNob2ljZXM6MzAwLE1vdmVkUGVybWFuZW50bHk6MzAxLEZvdW5kOjMwMixTZWVPdGhlcjozMDMsTm90TW9kaWZpZWQ6MzA0LFVzZVByb3h5OjMwNSxVbnVzZWQ6MzA2LFRlbXBvcmFyeVJlZGlyZWN0OjMwNyxQZXJtYW5lbnRSZWRpcmVjdDozMDgsQmFkUmVxdWVzdDo0MDAsVW5hdXRob3JpemVkOjQwMSxQYXltZW50UmVxdWlyZWQ6NDAyLEZvcmJpZGRlbjo0MDMsTm90Rm91bmQ6NDA0LE1ldGhvZE5vdEFsbG93ZWQ6NDA1LE5vdEFjY2VwdGFibGU6NDA2LFByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZDo0MDcsUmVxdWVzdFRpbWVvdXQ6NDA4LENvbmZsaWN0OjQwOSxHb25lOjQxMCxMZW5ndGhSZXF1aXJlZDo0MTEsUHJlY29uZGl0aW9uRmFpbGVkOjQxMixQYXlsb2FkVG9vTGFyZ2U6NDEzLFVyaVRvb0xvbmc6NDE0LFVuc3VwcG9ydGVkTWVkaWFUeXBlOjQxNSxSYW5nZU5vdFNhdGlzZmlhYmxlOjQxNixFeHBlY3RhdGlvbkZhaWxlZDo0MTcsSW1BVGVhcG90OjQxOCxNaXNkaXJlY3RlZFJlcXVlc3Q6NDIxLFVucHJvY2Vzc2FibGVFbnRpdHk6NDIyLExvY2tlZDo0MjMsRmFpbGVkRGVwZW5kZW5jeTo0MjQsVG9vRWFybHk6NDI1LFVwZ3JhZGVSZXF1aXJlZDo0MjYsUHJlY29uZGl0aW9uUmVxdWlyZWQ6NDI4LFRvb01hbnlSZXF1ZXN0czo0MjksUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlOjQzMSxVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29uczo0NTEsSW50ZXJuYWxTZXJ2ZXJFcnJvcjo1MDAsTm90SW1wbGVtZW50ZWQ6NTAxLEJhZEdhdGV3YXk6NTAyLFNlcnZpY2VVbmF2YWlsYWJsZTo1MDMsR2F0ZXdheVRpbWVvdXQ6NTA0LEh0dHBWZXJzaW9uTm90U3VwcG9ydGVkOjUwNSxWYXJpYW50QWxzb05lZ290aWF0ZXM6NTA2LEluc3VmZmljaWVudFN0b3JhZ2U6NTA3LExvb3BEZXRlY3RlZDo1MDgsTm90RXh0ZW5kZWQ6NTEwLE5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkOjUxMSxXZWJTZXJ2ZXJJc0Rvd246NTIxLENvbm5lY3Rpb25UaW1lZE91dDo1MjIsT3JpZ2luSXNVbnJlYWNoYWJsZTo1MjMsVGltZW91dE9jY3VycmVkOjUyNCxTc2xIYW5kc2hha2VGYWlsZWQ6NTI1LEludmFsaWRTc2xDZXJ0aWZpY2F0ZTo1MjZ9O09iamVjdC5lbnRyaWVzKGZ3KS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZTtmd1tpXT10fSkpO3ZhciBTdz1mdztjb25zdCBndz1mdW5jdGlvbiBlKHQpe2NvbnN0IGk9bmV3IF93KHQpLG49Y1IoX3cucHJvdG90eXBlLnJlcXVlc3QsaSk7cmV0dXJuIFpSLmV4dGVuZChuLF93LnByb3RvdHlwZSxpLHthbGxPd25LZXlzOiEwfSksWlIuZXh0ZW5kKG4saSxudWxsLHthbGxPd25LZXlzOiEwfSksbi5jcmVhdGU9ZnVuY3Rpb24oaSl7cmV0dXJuIGUoYmIodCxpKSl9LG59KHNiKTtndy5BeGlvcz1fdyxndy5DYW5jZWxlZEVycm9yPW1iLGd3LkNhbmNlbFRva2VuPW13LGd3LmlzQ2FuY2VsPUViLGd3LlZFUlNJT049Y3csZ3cudG9Gb3JtRGF0YT1zQyxndy5BeGlvc0Vycm9yPSRSLGd3LkNhbmNlbD1ndy5DYW5jZWxlZEVycm9yLGd3LmFsbD1mdW5jdGlvbihlKXtyZXR1cm4gcnAuYWxsKGUpfSxndy5zcHJlYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KG51bGwsdCl9fSxndy5pc0F4aW9zRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIFpSLmlzT2JqZWN0KGUpJiYhMD09PWUuaXNBeGlvc0Vycm9yfSxndy5tZXJnZUNvbmZpZz1iYixndy5BeGlvc0hlYWRlcnM9cGIsZ3cuZm9ybVRvSlNPTj1lPT5yYihaUi5pc0hUTUxGb3JtKGUpP25ldyBGb3JtRGF0YShlKTplKSxndy5nZXRBZGFwdGVyPW93LmdldEFkYXB0ZXIsZ3cuSHR0cFN0YXR1c0NvZGU9U3csZ3cuZGVmYXVsdD1ndzt2YXIgVHc9Z3c7Y29uc3QgUnc9KCk9Pnt9O2Z1bmN0aW9uIEN3KCl7Y29uc3QgZT17cHJvbWlzZTp2b2lkIDAsaXNSZXNvbHZlZDohMSxpc1JlamVjdGVkOiExLGlzRmluaXNoZWQ6ITEscmVzb2x2ZTp2b2lkIDAscmVqZWN0OnZvaWQgMCxjYW5jZWw6Und9O3JldHVybiBlLnByb21pc2U9bmV3IHJwKCgodCxpKT0+e2UucmVzb2x2ZT1pPT57ZS5pc0ZpbmlzaGVkfHwoZS5pc1Jlc29sdmVkPSEwLGUuaXNGaW5pc2hlZD0hMCx0KGkpLGUudmFsdWU9aSl9LGUucmVqZWN0PXQ9PntlLmlzRmluaXNoZWR8fChlLmlzUmVqZWN0ZWQ9ITAsZS5pc0ZpbmlzaGVkPSEwLGkodCkpfX0pKSxlfWNvbnN0IHZ3PW5ldyBNYXAseXc9bmV3IE1hcCxJdz1uZXcgTWFwO2xldCBBdz1mdW5jdGlvbihlKXtyZXR1cm4gZS5XSU5fMTA9XCJXaW5kb3dzIDEwXCIsZS5XSU5fODE9XCJXaW5kb3dzIDguMVwiLGUuV0lOXzg9XCJXaW5kb3dzIDhcIixlLldJTl83PVwiV2luZG93cyA3XCIsZS5XSU5fVklTVEE9XCJXaW5kb3dzIFZpc3RhXCIsZS5XSU5fU0VSVkVSXzIwMDM9XCJXaW5kb3dzIFNlcnZlciAyMDAzXCIsZS5XSU5fWFA9XCJXaW5kb3dzIFhQXCIsZS5XSU5fMjAwMD1cIldpbmRvd3MgMjAwMFwiLGUuQU5EUk9JRD1cIkFuZHJvaWRcIixlLkhBUk1PTllfT1M9XCJIYXJtb255T1NcIixlLk9QRU5fQlNEPVwiT3BlbiBCU0RcIixlLlNVTl9PUz1cIlN1biBPU1wiLGUuTElOVVg9XCJMaW51eFwiLGUuSU9TPVwiaU9TXCIsZS5NQUNfT1M9XCJNYWMgT1NcIixlLkNIUk9NSVVNX09TPVwiQ2hyb21pdW0gT1NcIixlLlFOWD1cIlFOWFwiLGUuVU5JWD1cIlVOSVhcIixlLkJFT1M9XCJCZU9TXCIsZS5PU18yPVwiT1MvMlwiLGUuU0VBUkNIX0JPVD1cIlNlYXJjaCBCb3RcIixlfSh7fSksYnc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQ0hST01FPVwiQ2hyb21lXCIsZS5TQUZBUkk9XCJTYWZhcmlcIixlLkVER0U9XCJFZGdlXCIsZS5GSVJFRk9YPVwiRmlyZWZveFwiLGUuT1BFUkE9XCJPUFJcIixlLlFRPVwiUVFCcm93c2VyXCIsZS5XRUNIQVQ9XCJNaWNyb01lc3NlbmdlclwiLGV9KHt9KTtjb25zdCB3dz1uZXcgRlQ7bGV0IE93PXd3LmdldFJlc3VsdCgpLE53PW51bGw7ZnVuY3Rpb24gRHcoZSl7aWYoIU53KXtlJiZ3dy5zZXRVQShlKSxPdz13dy5nZXRSZXN1bHQoKTtjb25zdCB0PWZ1bmN0aW9uKGUpe2lmKFwiQmxpbmtcIj09PWUuZW5naW5lLm5hbWUmJlwiV2VDaGF0XCIhPT1lLmJyb3dzZXIubmFtZSlyZXR1cm4gYncuQ0hST01FO3N3aXRjaChlLmJyb3dzZXIubmFtZSl7Y2FzZVwiQ2hyb21lIEhlYWRsZXNzXCI6Y2FzZVwiQ2hyb21lXCI6Y2FzZVwiQ2hyb21pdW1cIjpyZXR1cm4gYncuQ0hST01FO2Nhc2VcIlNhZmFyaVwiOmNhc2VcIk1vYmlsZSBTYWZhcmlcIjpyZXR1cm4gYncuU0FGQVJJO2Nhc2VcIkVkZ2VcIjpyZXR1cm4gYncuRURHRTtjYXNlXCJGaXJlZm94XCI6cmV0dXJuIGJ3LkZJUkVGT1g7Y2FzZVwiUVFcIjpjYXNlXCJRUUJyb3dzZXJcIjpyZXR1cm4gYncuUVE7Y2FzZVwiT3BlcmFcIjpyZXR1cm4gYncuT1BFUkE7Y2FzZVwiV2VDaGF0XCI6cmV0dXJuIGJ3LldFQ0hBVDtkZWZhdWx0OnJldHVybiBlLmJyb3dzZXIubmFtZXx8XCJcIn19KE93KSxpPVB3KE93KSxuPWZ1bmN0aW9uKGUpe3JldHVyblwiV2luZG93c1wiPT09ZS5vcy5uYW1lP2Uub3MudmVyc2lvbj9lLm9zLm5hbWUrXCIgXCIrZS5vcy52ZXJzaW9uOmUub3MubmFtZTplLm9zLm5hbWV8fFwiXCJ9KE93KSxyPU93Lm9zLnZlcnNpb24sbz1QdyhPdywhMSkscz1Pdy5kZXZpY2UudHlwZTtpZighKHQmJmkmJm4mJnIpKXJldHVybntuYW1lOnQsdmVyc2lvbjppLG9zOm4sb3NWZXJzaW9uOnIsYnJvd3NlclZlcnNpb246byxkZXZpY2VUeXBlOnN9O053PXtuYW1lOnQsdmVyc2lvbjppLG9zOm4sb3NWZXJzaW9uOnIsYnJvd3NlclZlcnNpb246byxkZXZpY2VUeXBlOnN9fXJldHVybiBOd31mdW5jdGlvbiBQdyhlKXtsZXQgdCxpPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07cmV0dXJuIHQ9XCJCbGlua1wiPT09ZS5lbmdpbmUubmFtZT9lLmVuZ2luZS52ZXJzaW9ufHxcIlwiOmUuYnJvd3Nlci52ZXJzaW9ufHxcIlwiLGk/dC5zcGxpdChcIi5cIilbMF06dH1mdW5jdGlvbiBMdygpe3JldHVybiBEdygpLm9zfWZ1bmN0aW9uIGt3KCl7Y29uc3QgZT1EdygpO3JldHVyblwiXCIuY29uY2F0KGUub3MsXCIgXCIpLmNvbmNhdChlLm9zVmVyc2lvbil9ZnVuY3Rpb24gTXcoKXtjb25zdCBlPUR3KCk7cmV0dXJuISEoXCJXZWJLaXRcIj09PU93LmVuZ2luZS5uYW1lJiZlLm9zPT09QXcuTUFDX09TJiZuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMmJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cz4wJiZlLm5hbWUhPT1idy5TQUZBUkl8fGp3KCkmJmUubmFtZSE9PWJ3LlNBRkFSSSl9ZnVuY3Rpb24gVXcoKXtyZXR1cm4gRHcoKS5uYW1lPT09YncuQ0hST01FfWZ1bmN0aW9uIFZ3KCl7cmV0dXJuIER3KCkubmFtZT09PWJ3LlNBRkFSSX1mdW5jdGlvbiB4dygpe2NvbnN0IGU9RHcoKTtpZihlLm5hbWUhPT1idy5TQUZBUkl8fCFlLmJyb3dzZXJWZXJzaW9uKXJldHVybiExO2NvbnN0IHQ9ZS5icm93c2VyVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIE51bWJlcih0WzBdKT4xNXx8MTU9PT1OdW1iZXIodFswXSkmJk51bWJlcih0WzFdKT49NH1mdW5jdGlvbiBGdygpe3JldHVybiBEdygpLm5hbWU9PT1idy5FREdFfWZ1bmN0aW9uIEJ3KCl7cmV0dXJuIER3KCkubmFtZT09PWJ3LkZJUkVGT1h9ZnVuY3Rpb24gancoKXtyZXR1cm4gRHcoKS5vcz09PUF3LklPU31mdW5jdGlvbiBHdyhlKXtjb25zdCB0PUR3KCk7cmV0dXJuISh0Lm5hbWUhPT1idy5DSFJPTUV8fCF0Lm9zVmVyc2lvbikmJk51bWJlcih0LnZlcnNpb24pPj1lfWZ1bmN0aW9uIFd3KGUpe2NvbnN0IHQ9RHcoKTtyZXR1cm4hKHQubmFtZSE9PWJ3LkNIUk9NRXx8IXQub3NWZXJzaW9uKSYmTnVtYmVyKHQudmVyc2lvbik8ZX1mdW5jdGlvbiBIdyhlLHQsaSl7Y29uc3Qgbj1EdygpO3JldHVybiEobi5uYW1lIT09ZXx8IW4ub3NWZXJzaW9uKSYmKGk/TnVtYmVyKG4udmVyc2lvbik+PXQmJk51bWJlcihuLnZlcnNpb24pPD1pOk51bWJlcihuLnZlcnNpb24pPT09dCl9ZnVuY3Rpb24gS3coZSl7Y29uc3QgdD1EdygpO3JldHVybiEodC5uYW1lIT09YncuRURHRXx8IXQub3NWZXJzaW9uKSYmTnVtYmVyKHQudmVyc2lvbik+PWV9ZnVuY3Rpb24gWXcoZSl7Y29uc3QgdD1EdygpO3JldHVybiEodC5uYW1lIT09YncuRklSRUZPWHx8IXQub3NWZXJzaW9uKSYmTnVtYmVyKHQudmVyc2lvbik+PWV9ZnVuY3Rpb24gencoZSl7Y29uc3QgdD1EdygpO3JldHVybiEodC5uYW1lIT09YncuU0FGQVJJfHwhdC5vc1ZlcnNpb24pJiZOdW1iZXIodC52ZXJzaW9uKT49ZX1mdW5jdGlvbiBxdyhlLHQsaSl7Y29uc3Qgbj1EdygpO2lmKG4ub3MhPT1Bdy5JT1N8fCFuLm9zVmVyc2lvbilyZXR1cm4hMTtjb25zdCByPW4ub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gaT90JiZOdW1iZXIoclswXSk9PT1lJiZOdW1iZXIoclsxXSk+dHx8TnVtYmVyKHJbMF0pPmU6dD9OdW1iZXIoclswXSk9PT1lJiZOdW1iZXIoclsxXSk+PXR8fE51bWJlcihyWzBdKT5lOk51bWJlcihyWzBdKT49ZX1mdW5jdGlvbiBYdyhlLHQsaSl7Y29uc3Qgbj1EdygpO2lmKG4ub3MhPT1Bdy5JT1N8fCFuLm9zVmVyc2lvbilyZXR1cm4hMTtjb25zdCByPW4ub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gaT90JiZOdW1iZXIoclswXSk9PT1lJiZOdW1iZXIoclsxXSk8dHx8TnVtYmVyKHJbMF0pPGU6dD9OdW1iZXIoclswXSk9PT1lJiZOdW1iZXIoclsxXSk8PXR8fE51bWJlcihyWzBdKTxlOk51bWJlcihyWzBdKTw9ZX1mdW5jdGlvbiBKdyhlLHQsaSl7Y29uc3Qgbj1EdygpO2lmKG4ubmFtZSE9PWJ3LlNBRkFSSXx8IW4ub3NWZXJzaW9ufHwhbi5icm93c2VyVmVyc2lvbilyZXR1cm4hMTtjb25zdCByPW4uYnJvd3NlclZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBpP3QmJk51bWJlcihyWzBdKT09PWUmJk51bWJlcihyWzFdKTx0fHxOdW1iZXIoclswXSk8ZTp0P051bWJlcihyWzBdKT09PWUmJk51bWJlcihyWzFdKTw9dHx8TnVtYmVyKHJbMF0pPGU6TnVtYmVyKHJbMF0pPD1lfWZ1bmN0aW9uIFF3KGUpe2NvbnN0IHQ9RHcoKTtyZXR1cm4hKHQubmFtZSE9PWJ3Lk9QRVJBfHwhdC5vc1ZlcnNpb24pJiZOdW1iZXIodC52ZXJzaW9uKT49ZX1mdW5jdGlvbiBadygpe2NvbnN0IGU9RHcoKTtpZihlLm9zIT09QXcuSU9TfHwhZS5vc1ZlcnNpb24pcmV0dXJuITE7Y29uc3QgdD1lLm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIE51bWJlcih0WzBdKTwxNHx8MTQ9PT1OdW1iZXIodFswXSkmJk51bWJlcih0WzFdKTw9Nn1mdW5jdGlvbiAkdygpe2NvbnN0IGU9RHcoKTtpZihlLm9zIT09QXcuSU9TfHwhZS5vc1ZlcnNpb24pcmV0dXJuITE7Y29uc3QgdD1lLm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIDE1PT09TnVtYmVyKHRbMF0pfWZ1bmN0aW9uIGVPKCl7Y29uc3QgZT1EdygpO2lmKGUub3MhPT1Bdy5JT1N8fCFlLm9zVmVyc2lvbilyZXR1cm4hMTtjb25zdCB0PWUub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gMTY9PT1OdW1iZXIodFswXSl9ZnVuY3Rpb24gdE8oKXtjb25zdCBlPUR3KCk7aWYoZS5vcyE9PUF3LklPU3x8IWUub3NWZXJzaW9uKXJldHVybiExO2NvbnN0IHQ9ZS5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiAxNT09PU51bWJlcih0WzBdKSYmTnVtYmVyKHRbMV0pPj0xfWZ1bmN0aW9uIGlPKCl7cmV0dXJuIFZ3KCkmJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cz4wfWZ1bmN0aW9uIG5PKCl7cmV0dXJuIER3KCkubmFtZT09PWJ3LldFQ0hBVH1mdW5jdGlvbiByTygpe3JldHVybiB3aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24mJm51bGwhPT13aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0Nocm9tZVxcLyhbXFx3XFxXXSo/KVxcLi8pJiZ3aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0Nocm9tZVxcLyhbXFx3XFxXXSo/KVxcLi8pWzFdPD0zNX1mdW5jdGlvbiBvTygpe2NvbnN0IGU9THcoKTtyZXR1cm4gZnVuY3Rpb24oKXtjb25zdHtkZXZpY2VUeXBlOmV9PUR3KCk7cmV0dXJuXCJtb2JpbGVcIj09PWV8fFwidGFibGV0XCI9PT1lfSgpfHxlPT09QXcuQU5EUk9JRHx8ZT09PUF3LklPU3x8ZT09PUF3LkhBUk1PTllfT1N9ZnVuY3Rpb24gc08oKXtjb25zdCBlPUR3KCk7cmV0dXJuIGUubmFtZSE9PWJ3LkVER0UmJmUubmFtZSE9PWJ3LlNBRkFSSSYmISFuYXZpZ2F0b3IudXNlckFnZW50LnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2goL2Nocm9tZVxcL1tcXGRdLi9pKX1mdW5jdGlvbiBhTygpe3JldHVybiBMdygpPT09QXcuQU5EUk9JRH1mdW5jdGlvbiBjTygpe2NvbnN0IGU9RHcoKTtyZXR1cm4gYU8oKSYmKGUubmFtZT09PWJ3LkNIUk9NRXx8ZS5uYW1lPT09YncuV0VDSEFUfHwvY2hyb21lfGNocm9taXVtL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSl9ZnVuY3Rpb24gZE8oZSx0LGkpe3JldHVybih0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlKXJldHVybiBlO3ZhciBpPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1pKXt2YXIgbj1pLmNhbGwoZSxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT10eXBlb2YgbilyZXR1cm4gbjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyhlKX0oZSk7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHQ/dDp0K1wiXCJ9KHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfWZ1bmN0aW9uIGxPKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiB1TyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9sTyhPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2RPKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpsTyhPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1sZXQgaE89ZnVuY3Rpb24oZSl7cmV0dXJuIGUuVU5FWFBFQ1RFRF9FUlJPUj1cIlVORVhQRUNURURfRVJST1JcIixlLlVORVhQRUNURURfUkVTUE9OU0U9XCJVTkVYUEVDVEVEX1JFU1BPTlNFXCIsZS5USU1FT1VUPVwiVElNRU9VVFwiLGUuSU5WQUxJRF9QQVJBTVM9XCJJTlZBTElEX1BBUkFNU1wiLGUuTk9UX1JFQURBQkxFPVwiTk9UX1JFQURBQkxFXCIsZS5OT1RfU1VQUE9SVEVEPVwiTk9UX1NVUFBPUlRFRFwiLGUuSU5WQUxJRF9PUEVSQVRJT049XCJJTlZBTElEX09QRVJBVElPTlwiLGUuT1BFUkFUSU9OX0FCT1JURUQ9XCJPUEVSQVRJT05fQUJPUlRFRFwiLGUuV0VCX1NFQ1VSSVRZX1JFU1RSSUNUPVwiV0VCX1NFQ1VSSVRZX1JFU1RSSUNUXCIsZS5FWENIQU5HRV9TRFBfRkFJTEVEPVwiRVhDSEFOR0VfU0RQX0ZBSUxFRFwiLGUuQUREX0NBTkRJREFURV9GQUlMRUQ9XCJBRERfQ0FORElEQVRFX0ZBSUxFRFwiLGUuREFUQUNIQU5ORUxfRkFJTEVEPVwiREFUQUNIQU5ORUxfRkFJTEVEXCIsZS5ORVRXT1JLX0VSUk9SPVwiTkVUV09SS19FUlJPUlwiLGUuTkVUV09SS19USU1FT1VUPVwiTkVUV09SS19USU1FT1VUXCIsZS5ORVRXT1JLX1JFU1BPTlNFX0VSUk9SPVwiTkVUV09SS19SRVNQT05TRV9FUlJPUlwiLGUuQVBJX0lOVk9LRV9USU1FT1VUPVwiQVBJX0lOVk9LRV9USU1FT1VUXCIsZS5FTlVNRVJBVEVfREVWSUNFU19GQUlMRUQ9XCJFTlVNRVJBVEVfREVWSUNFU19GQUlMRURcIixlLkRFVklDRV9OT1RfRk9VTkQ9XCJERVZJQ0VfTk9UX0ZPVU5EXCIsZS5FTEVDVFJPTl9JU19OVUxMPVwiRUxFQ1RST05fSVNfTlVMTFwiLGUuRUxFQ1RST05fREVTS1RPUF9DQVBUVVJFUl9HRVRfU09VUkNFU19FUlJPUj1cIkVMRUNUUk9OX0RFU0tUT1BfQ0FQVFVSRVJfR0VUX1NPVVJDRVNfRVJST1JcIixlLkNIUk9NRV9QTFVHSU5fTk9fUkVTUE9OU0U9XCJDSFJPTUVfUExVR0lOX05PX1JFU1BPTlNFXCIsZS5DSFJPTUVfUExVR0lOX05PVF9JTlNUQUxMPVwiQ0hST01FX1BMVUdJTl9OT1RfSU5TVEFMTFwiLGUuTUVESUFfT1BUSU9OX0lOVkFMSUQ9XCJNRURJQV9PUFRJT05fSU5WQUxJRFwiLGUuUEVSTUlTU0lPTl9ERU5JRUQ9XCJQRVJNSVNTSU9OX0RFTklFRFwiLGUuQ09OU1RSQUlOVF9OT1RfU0FUSVNGSUVEPVwiQ09OU1RSQUlOVF9OT1RfU0FUSVNGSUVEXCIsZS5UUkFDS19JU19ESVNBQkxFRD1cIlRSQUNLX0lTX0RJU0FCTEVEXCIsZS5HRVRfVklERU9fRUxFTUVOVF9WSVNJQkxFX0VSUk9SPVwiR0VUX1ZJREVPX0VMRU1FTlRfVklTSUJMRV9FUlJPUlwiLGUuU0hBUkVfQVVESU9fTk9UX0FMTE9XRUQ9XCJTSEFSRV9BVURJT19OT1RfQUxMT1dFRFwiLGUuTE9XX1NUUkVBTV9FTkNPRElOR19FUlJPUj1cIkxPV19TVFJFQU1fRU5DT0RJTkdfRVJST1JcIixlLlNFVF9FTkNPRElOR19QQVJBTUVURVJfRVJST1I9XCJTRVRfRU5DT0RJTkdfUEFSQU1FVEVSX0VSUk9SXCIsZS5UUkFDS19TVEFURV9VTlJFQUNIQUJMRT1cIlRSQUNLX1NUQVRFX1VOUkVBQ0hBQkxFXCIsZS5JTlZBTElEX1VJTlRfVUlEX0ZST01fU1RSSU5HX1VJRD1cIklOVkFMSURfVUlOVF9VSURfRlJPTV9TVFJJTkdfVUlEXCIsZS5DQU5fTk9UX0dFVF9QUk9YWV9TRVJWRVI9XCJDQU5fTk9UX0dFVF9QUk9YWV9TRVJWRVJcIixlLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSPVwiQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVJcIixlLlZPSURfR0FURVdBWV9BRERSRVNTPVwiVk9JRF9HQVRFV0FZX0FERFJFU1NcIixlLlVJRF9DT05GTElDVD1cIlVJRF9DT05GTElDVFwiLGUuTVVMVElfVU5JTEJTX1JFU1BPTlNFX0VSUk9SPVwiTVVMVElfVU5JTEJTX1JFU1BPTlNFX0VSUk9SXCIsZS5VUERBVEVfVElDS0VUX0ZBSUxFRD1cIlVQREFURV9USUNLRVRfRkFJTEVEXCIsZS5UT0tFTl9FWFBJUkU9XCJUT0tFTl9FWFBJUkVcIixlLklOVkFMSURfTE9DQUxfVFJBQ0s9XCJJTlZBTElEX0xPQ0FMX1RSQUNLXCIsZS5JTlZBTElEX1RSQUNLPVwiSU5WQUxJRF9UUkFDS1wiLGUuU0VOREVSX05PVF9GT1VORD1cIlNFTkRFUl9OT1RfRk9VTkRcIixlLkNSRUFURV9PRkZFUl9GQUlMRUQ9XCJDUkVBVEVfT0ZGRVJfRkFJTEVEXCIsZS5TRVRfQU5TV0VSX0ZBSUxFRD1cIlNFVF9BTlNXRVJfRkFJTEVEXCIsZS5JQ0VfRkFJTEVEPVwiSUNFX0ZBSUxFRFwiLGUuUENfQ0xPU0VEPVwiUENfQ0xPU0VEXCIsZS5TRU5ERVJfUkVQTEFDRV9GQUlMRUQ9XCJTRU5ERVJfUkVQTEFDRV9GQUlMRURcIixlLkdFVF9MT0NBTF9DQVBBQklMSVRJRVNfRkFJTEVEPVwiR0VUX0xPQ0FMX0NBUEFCSUxJVElFU19GQUlMRURcIixlLkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRUQ9XCJHRVRfTE9DQUxfQ09OTkVDVElPTl9QQVJBTVNfRkFJTEVEXCIsZS5TVUJTQ1JJQkVfRkFJTEVEPVwiU1VCU0NSSUJFX0ZBSUxFRFwiLGUuVU5TVUJTQ1JJQkVfRkFJTEVEPVwiVU5TVUJTQ1JJQkVfRkFJTEVEXCIsZS5HQVRFV0FZX1AyUF9MT1NUPVwiR0FURVdBWV9QMlBfTE9TVFwiLGUuTk9fSUNFX0NBTkRJREFURT1cIk5PX0lDRV9DQU5ESURBVEVcIixlLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1M9XCJDQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTXCIsZS5FWElTVF9ESVNBQkxFRF9WSURFT19UUkFDSz1cIkVYSVNUX0RJU0FCTEVEX1ZJREVPX1RSQUNLXCIsZS5JTlZBTElEX1JFTU9URV9VU0VSPVwiSU5WQUxJRF9SRU1PVEVfVVNFUlwiLGUuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRD1cIlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRURcIixlLkNVU1RPTV9SRVBPUlRfU0VORF9GQUlMRUQ9XCJDVVNUT01fUkVQT1JUX1NFTkRfRkFJTEVEXCIsZS5DVVNUT01fUkVQT1JUX0ZSRVFVRU5DWV9UT09fSElHSD1cIkNVU1RPTV9SRVBPUlRfRlJFUVVFTkNZX1RPT19ISUdIXCIsZS5GRVRDSF9BVURJT19GSUxFX0ZBSUxFRD1cIkZFVENIX0FVRElPX0ZJTEVfRkFJTEVEXCIsZS5SRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1I9XCJSRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1JcIixlLkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRD1cIkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRFwiLGUuV1NfQUJPUlQ9XCJXU19BQk9SVFwiLGUuV1NfRElTQ09OTkVDVD1cIldTX0RJU0NPTk5FQ1RcIixlLldTX0VSUj1cIldTX0VSUlwiLGUuRVhURVJOQUxfU0lHTkFMX0FCT1JUPVwiRVhURVJOQUxfU0lHTkFMX0FCT1JUXCIsZS5MSVZFX1NUUkVBTUlOR19UQVNLX0NPTkZMSUNUPVwiTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVFwiLGUuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9BUkdVTUVOVD1cIkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfQVJHVU1FTlRcIixlLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUj1cIkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLGUuTElWRV9TVFJFQU1JTkdfUFVCTElTSF9TVFJFQU1fTk9UX0FVVEhPUklaRUQ9XCJMSVZFX1NUUkVBTUlOR19QVUJMSVNIX1NUUkVBTV9OT1RfQVVUSE9SSVpFRFwiLGUuTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfTk9UX1NVUFBPUlRFRD1cIkxJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX05PVF9TVVBQT1JURURcIixlLkxJVkVfU1RSRUFNSU5HX0NETl9FUlJPUj1cIkxJVkVfU1RSRUFNSU5HX0NETl9FUlJPUlwiLGUuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9SQVdfU1RSRUFNPVwiTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9SQVdfU1RSRUFNXCIsZS5MSVZFX1NUUkVBTUlOR19XQVJOX1NUUkVBTV9OVU1fUkVBQ0hfTElNSVQ9XCJMSVZFX1NUUkVBTUlOR19XQVJOX1NUUkVBTV9OVU1fUkVBQ0hfTElNSVRcIixlLkxJVkVfU1RSRUFNSU5HX1dBUk5fRkFJTEVEX0xPQURfSU1BR0U9XCJMSVZFX1NUUkVBTUlOR19XQVJOX0ZBSUxFRF9MT0FEX0lNQUdFXCIsZS5MSVZFX1NUUkVBTUlOR19XQVJOX0ZSRVFVRU5UX1JFUVVFU1Q9XCJMSVZFX1NUUkVBTUlOR19XQVJOX0ZSRVFVRU5UX1JFUVVFU1RcIixlLldFQkdMX0lOVEVSTkFMX0VSUk9SPVwiV0VCR0xfSU5URVJOQUxfRVJST1JcIixlLkJFQVVUWV9QUk9DRVNTT1JfSU5URVJOQUxfRVJST1I9XCJCRUFVVFlfUFJPQ0VTU09SX0lOVEVSTkFMX0VSUk9SXCIsZS5DUk9TU19DSEFOTkVMX1dBSVRfU1RBVFVTX0VSUk9SPVwiQ1JPU1NfQ0hBTk5FTF9XQUlUX1NUQVRVU19FUlJPUlwiLGUuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9TUkM9XCJDUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX1NFQ1wiLGUuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9ERVNUPVwiQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9ERVNUXCIsZS5DUk9TU19DSEFOTkVMX0ZBSUxFRF9QQUNLRVRfU0VOVF9UT19ERVNUPVwiQ1JPU1NfQ0hBTk5FTF9GQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVFwiLGUuQ1JPU1NfQ0hBTk5FTF9TRVJWRVJfRVJST1JfUkVTUE9OU0U9XCJDUk9TU19DSEFOTkVMX1NFUlZFUl9FUlJPUl9SRVNQT05TRVwiLGUuTUVUQURBVEFfT1VUX09GX1JBTkdFPVwiTUVUQURBVEFfT1VUX09GX1JBTkdFXCIsZS5MT0NBTF9BRUNfRVJST1I9XCJMT0NBTF9BRUNfRVJST1JcIixlLklOVkFMSURfUExVR0lOPVwiSU5WQUxJRF9QTFVHSU5cIixlLkRJU0NPTk5FQ1RfUDJQPVwiRElTQ09OTkVDVF9QMlBcIixlLkNPTlZFUlRJTkdfSU1BR0VEQVRBX1RPX0JMT0JfRkFJTEVEPVwiQ09OVkVSVElOR19JTUFHRURBVEFfVE9fQkxPQl9GQUlMRURcIixlLkNPTlZFUlRJTkdfVklERU9fRlJBTUVfVE9fQkxPQl9GQUlMRUQ9XCJDT05WRVJUSU5HX1ZJREVPX0ZSQU1FX1RPX0JMT0JfRkFJTEVEXCIsZS5JTklUX0RBVEFDSEFOTkVMX1RJTUVPVVQ9XCJJTklUX0RBVEFDSEFOTkVMX1RJTUVPVVRcIixlLkNSRUFURV9EQVRBQ0hBTk5FTF9FUlJPUj1cIkNSRUFURV9EQVRBQ0hBTk5FTF9FUlJPUlwiLGUuREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VUPVwiREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VUXCIsZS5QUk9ISUJJVEVEX09QRVJBVElPTj1cIlBST0hJQklURURfT1BFUkFUSU9OXCIsZS5JTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9GQUlMRUQ9XCJJTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9GQUlMRURcIixlLlAyUF9NRVNTQUdFX0ZBSUxFRD1cIlAyUF9NRVNTQUdFX0ZBSUxFRFwiLGV9KHt9KSxwTz1jbGFzcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlwiLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7c3VwZXIodCksZE8odGhpcyxcImNvZGVcIix2b2lkIDApLGRPKHRoaXMsXCJtZXNzYWdlXCIsdm9pZCAwKSxkTyh0aGlzLFwiZGF0YVwiLHZvaWQgMCksZE8odGhpcyxcIm5hbWVcIixcIkFnb3JhUlRDRXhjZXB0aW9uXCIpLHRoaXMuY29kZT1lLHRoaXMubWVzc2FnZT1cIkFnb3JhUlRDRXJyb3IgXCIuY29uY2F0KHRoaXMuY29kZSxcIjogXCIpLmNvbmNhdCh0KSx0aGlzLmRhdGE9aX10b1N0cmluZygpe3JldHVybiB0aGlzLmRhdGE/XCJcIi5jb25jYXQodGhpcy5tZXNzYWdlLFwiXFxuZGF0YTogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpKTp0aGlzLm1lc3NhZ2V9cHJpbnQoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJlcnJvclwiLHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuXCJlcnJvclwiPT09ZSYmKHR8fGNvbnNvbGUpLmVycm9yKHRoaXMudG9TdHJpbmcoKSksXCJ3YXJuaW5nXCI9PT1lJiYodHx8Y29uc29sZSkud2Fybih0aGlzLnRvU3RyaW5nKCkpLHRoaXN9dGhyb3coZSl7dGhyb3cgdGhpcy5wcmludChcImVycm9yXCIsZSksdGhpc319O2Z1bmN0aW9uIF9PKGUsdCl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IG5ldyBwTyhoTy5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgXCIuY29uY2F0KHQsXCI6IFRoZSB2YWx1ZSBpcyBvZiB0aGUgYm9vbGVhbiB0eXBlLlwiKSl9ZnVuY3Rpb24gRU8oZSx0LGkpe2lmKCFMbihpKS5jYWxsKGksZSkpdGhyb3cgbmV3IHBPKGhPLklOVkFMSURfUEFSQU1TLFwiXCIuY29uY2F0KHQsXCIgY2FuIG9ubHkgYmUgc2V0IGFzIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoaSkpKX1mdW5jdGlvbiBtTyhlLHQpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjFlNDtpZihlPGl8fGU+bnx8KCEoYXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0pfHxhcmd1bWVudHNbNF0pJiYhZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmUlMT09MH0oZSkpdGhyb3cgbmV3IHBPKGhPLklOVkFMSURfUEFSQU1TLFwiaW52YWxpZCBcIi5jb25jYXQodCxcIjogdGhlIHZhbHVlIHJhbmdlIGlzIFtcIikuY29uY2F0KGksXCIsIFwiKS5jb25jYXQobixcIl0uIGludGVnZXIgb25seVwiKSl9ZnVuY3Rpb24gZk8oZSx0KXtpZihcIm51bWJlclwiIT10eXBlb2YgZSl7aWYoIShlLm1pbnx8ZS5tYXh8fGUuaWRlYWx8fGUuZXhhY3QpKXRocm93IG5ldyBwTyhoTy5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0LFwiIGlzIG5vdCBhIHZhbGlkIENvbnN0cmFpbkxvbmdcIikpO3ZvaWQgMCE9PWUubWluJiZtTyhlLm1pbixcIlwiLmNvbmNhdCh0LFwiLm1pblwiKSwwLDEvMCksdm9pZCAwIT09ZS5tYXgmJm1PKGUubWF4LFwiXCIuY29uY2F0KHQsXCIubWF4XCIpLDEsMS8wKSx2b2lkIDAhPT1lLmV4YWN0JiZtTyhlLmV4YWN0LFwiXCIuY29uY2F0KHQsXCIuZXhhY3RcIiksMSwxLzApLHZvaWQgMCE9PWUuaWRlYWwmJm1PKGUuaWRlYWwsXCJcIi5jb25jYXQodCxcIi5pZGVhbFwiKSwxLDEvMCl9ZWxzZSBtTyhlLHQsMSwxLzApfWZ1bmN0aW9uIFNPKGUsdCl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MjU1LHI9IShhcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSl8fGFyZ3VtZW50c1s0XTtpZihudWxsPT1lKXRocm93IG5ldyBwTyhoTy5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0fHxcInBhcmFtXCIsXCIgY2Fubm90IGJlIGVtcHR5XCIpKTtpZighUk8oZSxpLG4scikpdGhyb3cgbmV3IHBPKGhPLklOVkFMSURfUEFSQU1TLFwiSW52YWxpZCBcIi5jb25jYXQodHx8XCJzdHJpbmcgcGFyYW1cIixcIjogTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFtcIikuY29uY2F0KGksXCIsXCIpLmNvbmNhdChuLFwiXS5cIikuY29uY2F0KHI/XCIgQVNDSUkgY2hhcmFjdGVycyBvbmx5LlwiOlwiXCIpKX1mdW5jdGlvbiBnTyhlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBwTyhoTy5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0LFwiIHNob3VsZCBiZSBhbiBhcnJheVwiKSl9ZnVuY3Rpb24gVE8oZSl7cmV0dXJuIG51bGw9PWV9ZnVuY3Rpb24gUk8oZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MjU1LG49IShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSl8fGFyZ3VtZW50c1szXTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg8PWkmJmUubGVuZ3RoPj10JiYoIW58fGZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiExO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9MSl7Y29uc3QgaT1lLmNoYXJDb2RlQXQodCk7aWYoaTwwfHxpPjI1NSlyZXR1cm4hMX1yZXR1cm4hMH0oZSkpfWZ1bmN0aW9uIENPKGUsdCxpKXtpZihcImdldEJpZ1VpbnQ2NFwiaW4gRGF0YVZpZXcucHJvdG90eXBlKXJldHVybiBlLmdldEJpZ1VpbnQ2NCh0LGkpO2NvbnN0IG49ZS5nZXRVaW50MzIodCxpKSxyPWUuZ2V0VWludDMyKHQrNCxpKSxvPU51bWJlcighIWkpLHM9TnVtYmVyKCFpKTtyZXR1cm4gQmlnSW50KG4qcytyKm8pPDxCaWdJbnQoMzIpfEJpZ0ludChuKm8rcipzKX1mdW5jdGlvbiB2TyhlLHQsaSxuKXtpZihcInNldEJpZ1VpbnQ2NFwiaW4gRGF0YVZpZXcucHJvdG90eXBlKXJldHVybiBlLnNldEJpZ1VpbnQ2NCh0LGksbik7Y29uc3Qgcj1OdW1iZXIoaT4+QmlnSW50KDMyKSksbz1OdW1iZXIoaSZCaWdJbnQoNDI5NDk2NzI5NSkpO24/KGUuc2V0VWludDMyKHQrNCxyLG4pLGUuc2V0VWludDMyKHQsbyxuKSk6KGUuc2V0VWludDMyKHQscixuKSxlLnNldFVpbnQzMih0KzQsbyxuKSl9dmFyIHlPPWZ1bmN0aW9uKGUpe3JldHVybiBlLkNPVkVSRUQ9XCJDT1ZFUkVEXCIsZS5QT1NJVElPTj1cIlBPU0lUSU9OXCIsZS5TSVpFPVwiU0laRVwiLGUuU1RZTEU9XCJTVFlMRVwiLGV9KHlPfHx7fSksSU89ZnVuY3Rpb24oZSl7cmV0dXJuIGUuVU5NT1VOVEVEPVwiVU5NT1VOVEVEXCIsZS5JTlZBTElEX0hUTUxfRUxFTUVOVD1cIklOVkFMSURfSFRNTF9FTEVNRU5UXCIsZX0oSU98fHt9KTtjb25zdCBBTz1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXtkTyh0aGlzLFwiX2NsaWVudFNpemVcIixudWxsKSxkTyh0aGlzLFwiZ2V0Q2xpZW50V2lkdGhcIiwoKCk9PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudD9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg6ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCkpLGRPKHRoaXMsXCJnZXRDbGllbnRIZWlnaHRcIiwoKCk9PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudD9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OmRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSksZE8odGhpcyxcImdldFN0eWxlXCIsKGU9PndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkpKSxkTyh0aGlzLFwiY2hlY2tDc3NWaXNpYmxlUHJvcGVydHlcIiwoZT0+e3ZhciB0O2xldCBpPSEwO2NvbnN0IG49dGhpcy5nZXRTdHlsZShlKSx7ZGlzcGxheTpyLHZpc2liaWxpdHk6byxvcGFjaXR5OnMsZmlsdGVyOmF9PW47cmV0dXJuKFwibm9uZVwiPT09cnx8TG4odD1bXCJoaWRkZW5cIixcImNvbGxhcHNlXCJdKS5jYWxsKHQsbyl8fE51bWJlcihzKTwuMSkmJihpPSExKSwhIWkmJihhJiZhLnNwbGl0KFwiIFwiKS5maWx0ZXIoKGU9Pnt2YXIgdDtjb25zdCBpPWUuc3BsaXQoXCIoXCIpWzBdO3JldHVybiBMbih0PVtcImJyaWdodG5lc3NcIixcImJsdXJcIixcIm9wYWNpdHlcIl0pLmNhbGwodCxpKX0pKS5tYXAoKGU9Pntjb25zdFt0LGldPWUuc3BsaXQoL1xcKHxcXCkvKTtyZXR1cm5bdCxOdW1iZXIoaS5tYXRjaCgvXlswLTlcXC5dKy8pKV19KSkuZm9yRWFjaCgoZT0+e2NvbnN0W3Qsbl09ZTtzd2l0Y2godCl7Y2FzZVwiYnJpZ2h0bmVzc1wiOihuPC4xfHxuPjMpJiYoaT0hMSk7YnJlYWs7Y2FzZVwiYmx1clwiOm4+MyYmKGk9ITEpO2JyZWFrO2Nhc2VcIm9wYWNpdHlcIjpuPC4xJiYoaT0hMSl9fSkpLGkpfSkpLGRPKHRoaXMsXCJjaGVja1Byb3BlcnR5VXBUb0FsbFBhcmVudE5vZGVzXCIsKChlLHQpPT57bGV0IGk9ITAsbj0hMDtjb25zdCByPWU9PnQoZSk7bGV0IG89ZTtmb3IoO28mJm47KXIobyl8fChpPSExLG49ITEpLG89by5wYXJlbnRFbGVtZW50LG98fChuPSExKTtyZXR1cm4gaX0pKSxkTyh0aGlzLFwiY2hlY2tBY3R1YWxDc3NWaXNpYmxlSW5jbHVkZUluaGVyaXRcIiwoZT0+dGhpcy5jaGVja1Byb3BlcnR5VXBUb0FsbFBhcmVudE5vZGVzKGUsdGhpcy5jaGVja0Nzc1Zpc2libGVQcm9wZXJ0eSkpKSxkTyh0aGlzLFwiZ2V0U2l6ZUFib3V0Q2xpZW50XCIsKGU9Pntjb25zdHt3aWR0aDp0LGhlaWdodDppLGxlZnQ6bixyaWdodDpyLHRvcDpvLGJvdHRvbTpzfT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9dGhpcy5nZXRDbGllbnRXaWR0aCgpLGM9dGhpcy5nZXRDbGllbnRIZWlnaHQoKTtyZXR1cm57d2lkdGg6dCxoZWlnaHQ6aSxsZWZ0Om4scmlnaHQ6cix0b3A6byxib3R0b206cyxjbGllbnRXaWR0aDphLGNsaWVudEhlaWdodDpjLGNsaWVudE1pbjpNYXRoLm1pbihhLGMpfX0pKSxkTyh0aGlzLFwiY2hlY2tBY3R1YWxTaXplXCIsKCgpPT57Y29uc3R7d2lkdGg6ZSxoZWlnaHQ6dCxjbGllbnRNaW46aX09dGhpcy5fY2xpZW50U2l6ZTtyZXR1cm4gdGhpcy5jaGVja1NpemVJc1Zpc2libGUoZSx0LGkpfSkpLGRPKHRoaXMsXCJlbGVtZW50RnJvbVBvaW50XCIsKChlLHQpPT5kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50P2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZSx0KTpudWxsKSksZE8odGhpcyxcImNoZWNrQ292ZXJGb3JBUG9pbnRcIiwoKGUsdCxpKT0+e2NvbnN0IG49dGhpcy5lbGVtZW50RnJvbVBvaW50KGUsdCk7cmV0dXJuIG51bGwhPT1uJiZuIT09aX0pKSxkTyh0aGlzLFwiZ2V0UG9pbnRQb3NpdGlvbkxpc3RcIiwoKCk9Pntjb25zdHt3aWR0aDplLGhlaWdodDp0LGxlZnQ6aSx0b3A6bn09dGhpcy5fY2xpZW50U2l6ZSxyPWUvNixvPXQvNixzPVtdLGE9MTAqKjY7Zm9yKGxldCBlPTA7ZTw1O2UrKylmb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBjPShpKmErKDA9PT1lPy4xOjQ9PT1lPyhyKmUqYS0xZTUpL2E6ciplKSphKS9hLGQ9KG4qYSsoMD09PXQ/LjE6ND09PXQ/KG8qdCphLTFlNSkvYTpvKnQpKmEpL2E7cy5wdXNoKHt4OmMseTpkfSl9cmV0dXJuWy4uLnNdfSkpLGRPKHRoaXMsXCJjaGVja0VsZW1lbnRDb3ZlclwiLChlPT50aGlzLmdldFBvaW50UG9zaXRpb25MaXN0KCkubWFwKCh0PT50aGlzLmNoZWNrQ292ZXJGb3JBUG9pbnQodC54LHQueSxlKSkpLmZpbHRlcigoZT0+ISFlKSkubGVuZ3RoPjYpKSxkTyh0aGlzLFwiY2hlY2tTaXplSXNWaXNpYmxlXCIsKChlLHQsaSk9PihlPjUwfHxpL2U8PTEwKSYmKHQ+NTB8fGkvdDw9MTApKSksZE8odGhpcyxcImNoZWNrU2l6ZU9mUGFydEluQ2xpZW50XCIsKCgpPT57Y29uc3R7bGVmdDplLHJpZ2h0OnQsdG9wOmksYm90dG9tOm4sY2xpZW50SGVpZ2h0OnIsY2xpZW50V2lkdGg6byxjbGllbnRNaW46c309dGhpcy5fY2xpZW50U2l6ZTtsZXQgYSxjLGQsbDtpZihlPDApYT0wO2Vsc2V7aWYoIShlPG8pKXJldHVybiExO2E9ZX1pZih0PDApcmV0dXJuITE7aWYoYz10PG8/dDpvLGk8MClkPTA7ZWxzZXtpZighKGk8cikpcmV0dXJuITE7ZD1pfWlmKG48MClyZXR1cm4hMTtsPW48cj9uOnI7Y29uc3QgdT1jLWEsaD1sLWQ7cmV0dXJuIHRoaXMuY2hlY2tTaXplSXNWaXNpYmxlKHUsaCxzKX0pKSxkTyh0aGlzLFwicmV0dXJuSGlkZGVuUmVzdWx0XCIsKGU9Pih0aGlzLl9jbGllbnRTaXplPW51bGwse3Zpc2libGU6ITEscmVhc29uOmV9KSkpLGRPKHRoaXMsXCJjaGVja09uZUVsZW1lbnRWaXNpYmxlXCIsKGU9PntpZihlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe2lmKHRoaXMuY2hlY2tFbGVtZW50SXNNb3VudGVkT25Eb20oZSkpe2lmKHRoaXMuY2hlY2tBY3R1YWxDc3NWaXNpYmxlSW5jbHVkZUluaGVyaXQoZSkpe2lmKHRoaXMuX2NsaWVudFNpemU9dGhpcy5nZXRTaXplQWJvdXRDbGllbnQoZSksdGhpcy5jaGVja0VsZW1lbnRDb3ZlcihlKSlyZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoeU8uQ09WRVJFRCk7e2NvbnN0IGU9dGhpcy5jaGVja0FjdHVhbFNpemUoKSx0PXRoaXMuY2hlY2tTaXplT2ZQYXJ0SW5DbGllbnQoKTtyZXR1cm4gZSYmIXQ/dGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoeU8uUE9TSVRJT04pOmU/KHRoaXMuX2NsaWVudFNpemU9bnVsbCx7dmlzaWJsZTohMH0pOnRoaXMucmV0dXJuSGlkZGVuUmVzdWx0KHlPLlNJWkUpfX1yZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoeU8uU1RZTEUpfXJldHVybiB0aGlzLnJldHVybkhpZGRlblJlc3VsdChJTy5VTk1PVU5URUQpfXJldHVybiB0aGlzLnJldHVybkhpZGRlblJlc3VsdChJTy5JTlZBTElEX0hUTUxfRUxFTUVOVCl9KSksZE8odGhpcyxcImNoZWNrRWxlbWVudElzTW91bnRlZE9uRG9tXCIsKGU9PnRoaXMuY2hlY2tQcm9wZXJ0eVVwVG9BbGxQYXJlbnROb2RlcyhlLChlPT5cIkhUTUxcIiE9PWUubm9kZU5hbWUudG9VcHBlckNhc2UoKT9udWxsIT09ZS5wYXJlbnRFbGVtZW50OiEhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSkpKX19O2Z1bmN0aW9uIGJPKGUpe3JldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKX1jb25zdCB3Tz1mdW5jdGlvbihlLHQpe2NvbnN0IGk9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoK3QuYnl0ZUxlbmd0aCk7cmV0dXJuIGkuc2V0KG5ldyBVaW50OEFycmF5KGUpLDApLGkuc2V0KG5ldyBVaW50OEFycmF5KHQpLGUuYnl0ZUxlbmd0aCksaX07Y29uc3QgT089YXN5bmMgZT0+ZnVuY3Rpb24oZSx0KXtsZXQgaT1cIlwiO3JldHVybiBuZXcgVWludDhBcnJheShlKS5mb3JFYWNoKChlPT57aSs9ZS50b1N0cmluZyh0KS5wYWRTdGFydCgyLFwiMFwiKX0pKSxpfShhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIixiTyhlKSksMTYpO2xldCBOTz1jbGFzc3tjb25zdHJ1Y3Rvcigpe2RPKHRoaXMsXCJfZXZlbnRzXCIse30pLGRPKHRoaXMsXCJhZGRMaXN0ZW5lclwiLHRoaXMub24pfWdldExpc3RlbmVycyhlKXtyZXR1cm4gdGhpcy5fZXZlbnRzW2VdP3RoaXMuX2V2ZW50c1tlXS5tYXAoKGU9PmUubGlzdGVuZXIpKTpbXX1vbihlLHQpe3RoaXMuX2V2ZW50c1tlXXx8KHRoaXMuX2V2ZW50c1tlXT1bXSk7Y29uc3QgaT10aGlzLl9ldmVudHNbZV07LTE9PT10aGlzLl9pbmRleE9mTGlzdGVuZXIoaSx0KSYmaS5wdXNoKHtsaXN0ZW5lcjp0LG9uY2U6ITF9KX1vbmNlKGUsdCl7dGhpcy5fZXZlbnRzW2VdfHwodGhpcy5fZXZlbnRzW2VdPVtdKTtjb25zdCBpPXRoaXMuX2V2ZW50c1tlXTstMT09PXRoaXMuX2luZGV4T2ZMaXN0ZW5lcihpLHQpJiZpLnB1c2goe2xpc3RlbmVyOnQsb25jZTohMH0pfW9mZihlLHQpe2lmKCF0aGlzLl9ldmVudHNbZV0pcmV0dXJuO2NvbnN0IGk9dGhpcy5fZXZlbnRzW2VdLG49dGhpcy5faW5kZXhPZkxpc3RlbmVyKGksdCk7LTEhPT1uJiZpLnNwbGljZShuLDEpLDA9PT10aGlzLl9ldmVudHNbZV0ubGVuZ3RoJiZkZWxldGUgdGhpcy5fZXZlbnRzW2VdfXJlbW92ZUFsbExpc3RlbmVycyhlKXtlP2RlbGV0ZSB0aGlzLl9ldmVudHNbZV06dGhpcy5fZXZlbnRzPXt9fWVtaXQoZSl7dGhpcy5fZXZlbnRzW2VdfHwodGhpcy5fZXZlbnRzW2VdPVtdKTtjb25zdCB0PXRoaXMuX2V2ZW50c1tlXS5tYXAoKGU9PmUpKTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShpPjE/aS0xOjApLHI9MTtyPGk7cisrKW5bci0xXT1hcmd1bWVudHNbcl07Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKz0xKXtjb25zdCByPXRbaV07ci5vbmNlJiZ0aGlzLm9mZihlLHIubGlzdGVuZXIpLHIubGlzdGVuZXIuYXBwbHkodGhpcyxufHxbXSl9fXNhZmVFbWl0KGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQ+MT90LTE6MCksbj0xO248dDtuKyspaVtuLTFdPWFyZ3VtZW50c1tuXTtbLi4udGhpcy5fZXZlbnRzW2VdfHxbXV0uZm9yRWFjaCgodD0+e3Qub25jZSYmdGhpcy5vZmYoZSx0Lmxpc3RlbmVyKTt0cnl7dC5saXN0ZW5lci5hcHBseSh0aGlzLGkpfWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoXCJzYWZlRW1pdCBldmVudDpcIi5jb25jYXQoZSxcIiBlcnJvciBcIikuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQudG9TdHJpbmcoKSkpfX0pKX1faW5kZXhPZkxpc3RlbmVyKGUsdCl7bGV0IGk9ZS5sZW5ndGg7Zm9yKDtpLS07KWlmKGVbaV0ubGlzdGVuZXI9PT10KXJldHVybiBpO3JldHVybi0xfX07bGV0IERPPW51bGw7ZnVuY3Rpb24gUE8oKXtpZihETylyZXR1cm4gRE87aWYod2luZG93LmVsZWN0cm9uKXJldHVybiBETz13aW5kb3cuZWxlY3Ryb247aWYoIXdpbmRvdy5yZXF1aXJlKXJldHVybiBudWxsO3RyeXtyZXR1cm4gRE89d2luZG93LnJlcXVpcmUoXCJlbGVjdHJvblwiKSxET31jYXRjaChlKXtyZXR1cm4gbnVsbH19bGV0IExPPWZ1bmN0aW9uKGUpe3JldHVybiBlLkNSRUFURV9DTElFTlQ9XCJjcmVhdGVDbGllbnRcIixlLkNIRUNLX1NZU1RFTV9SRVFVSVJFTUVOVFM9XCJjaGVja1N5c3RlbVJlcXVpcmVtZW50c1wiLGUuU0VUX0FSRUE9XCJzZXRBcmVhXCIsZS5QUkVMT0FEPVwiUFJFTE9BRFwiLGUuQ0hFQ0tfVklERU9fVFJBQ0tfSVNfQUNUSVZFPVwiY2hlY2tWaWRlb1RyYWNrSXNBY3RpdmVcIixlLkNIRUNLX0FVRElPX1RSQUNLX0lTX0FDVElWRT1cImNoZWNrQXVkaW9UcmFja0lzQWN0aXZlXCIsZS5DUkVBVEVfTUlDX0FVRElPX1RSQUNLPVwiY3JlYXRlTWljcm9waG9uZUF1ZGlvVHJhY2tcIixlLkNSRUFURV9DVVNUT01fQVVESU9fVFJBQ0s9XCJjcmVhdGVDdXN0b21BdWRpb1RyYWNrXCIsZS5DUkVBVEVfQlVGRkVSX0FVRElPX1RSQUNLPVwiY3JlYXRlQnVmZmVyU291cmNlQXVkaW9UcmFja1wiLGUuQ1JFQVRFX0NBTV9WSURFT19UUkFDSz1cImNyZWF0ZUNhbWVyYVZpZGVvVHJhY2tcIixlLkNSRUFURV9DVVNUT01fVklERU9fVFJBQ0s9XCJjcmVhdGVDdXN0b21WaWRlb1RyYWNrXCIsZS5DUkVBVEVfTUlDX0FORF9DQU1fVFJBQ0tTPVwiY3JlYXRlTWljcm9waG9uZUFuZENhbWVyYVRyYWNrc1wiLGUuQ1JFQVRFX1NDUkVFTl9WSURFT19UUkFDSz1cImNyZWF0ZVNjcmVlblZpZGVvVHJhY2tcIixlLlNFVF9FTkNSWVBUSU9OX0NPTkZJRz1cIkNsaWVudC5zZXRFbmNyeXB0aW9uQ29uZmlnXCIsZS5TVEFSVF9QUk9YWV9TRVJWRVI9XCJDbGllbnQuc3RhcnRQcm94eVNlcnZlclwiLGUuU1RPUF9QUk9YWV9TRVJWRVI9XCJDbGllbnQuc3RvcFByb3h5U2VydmVyXCIsZS5TRVRfUFJPWFlfU0VSVkVSPVwiQ2xpZW50LnNldFByb3h5U2VydmVyXCIsZS5TRVRfVFVSTl9TRVJWRVI9XCJDbGllbnQuc2V0VHVyblNlcnZlclwiLGUuU0VUX0NMSUVOVF9ST0xFPVwiQ2xpZW50LnNldENsaWVudFJvbGVcIixlLlNFVF9MT1dfU1RSRUFNX1BBUkFNRVRFUj1cIkNsaWVudC5zZXRMb3dTdHJlYW1QYXJhbWV0ZXJcIixlLkVOQUJMRV9EVUFMX1NUUkVBTT1cIkNsaWVudC5lbmFibGVEdWFsU3RyZWFtXCIsZS5ESVNBQkxFX0RVQUxfU1RSRUFNPVwiQ2xpZW50LmRpc2FibGVEdWFsU3RyZWFtXCIsZS5KT0lOPVwiQ2xpZW50LmpvaW5cIixlLkxFQVZFPVwiQ2xpZW50LmxlYXZlXCIsZS5QVUJMSVNIPVwiQ2xpZW50LnB1Ymxpc2hcIixlLlVOUFVCTElTSD1cIkNsaWVudC51bnB1Ymxpc2hcIixlLlNVQlNDUklCRT1cIkNsaWVudC5zdWJzY3JpYmVcIixlLk1BU1NfU1VCU0NSSUJFPVwiQ2xpZW50Lm1hc3NTdWJzY3JpYmVcIixlLk1BU1NfVU5TVUJTQ1JJQkU9XCJDbGllbnQubWFzc1Vuc3Vic2NyaWJlXCIsZS5VTlNVQlNDUklCRT1cIkNsaWVudC51bnN1YnNjcmliZVwiLGUuUkVORVdfVE9LRU49XCJDbGllbnQucmVuZXdUb2tlblwiLGUuU0VUX1JFTU9URV9WSURFT19TVFJFQU1fVFlQRT1cIkNsaWVudC5zZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGVcIixlLlNFVF9TVFJFQU1fRkFMTEJBQ0tfT1BUSU9OPVwiQ2xpZW50LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uXCIsZS5FTkFCTEVfQVVESU9fVk9MVU1FX0lORElDQVRPUj1cIkNsaWVudC5lbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvclwiLGUuU0VORF9DVVNUT01fUkVQT1JUX01FU1NBR0U9XCJDbGllbnQuc2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2VcIixlLklOU1BFQ1RfVklERU9fQ09OVEVOVD1cIkNsaWVudC5pbnNwZWN0VmlkZW9Db250ZW50XCIsZS5TVE9QX0lOU1BFQ1RfVklERU9fQ09OVEVOVD1cIkNsaWVudC5zdG9wSW5zcGVjdFZpZGVvQ29udGVudFwiLGUuSk9JTl9GQUxMQkFDS19UT19QUk9YWT1cIkNsaWVudC5fam9pbkZhbGxiYWNrVG9Qcm94eVwiLGUuT05fTElWRV9TVFJFQU1fV0FSTklORz1cIkNsaWVudC5vbkxpdmVTdHJlYW1XYXJuaW5nXCIsZS5PTl9MSVZFX1NUUkVBTV9FUlJPUj1cIkNsaWVudC5vbkxpdmVTdHJlYW1pbmdFcnJvclwiLGUuU1RBUlRfTElWRV9TVFJFQU1JTkc9XCJDbGllbnQuc3RhcnRMaXZlU3RyZWFtaW5nXCIsZS5TRVRfTElWRV9UUkFOU0NPRElORz1cIkNsaWVudC5zZXRMaXZlVHJhbnNjb2RpbmdcIixlLlNUT1BfTElWRV9TVFJFQU1JTkc9XCJDbGllbnQuc3RvcExpdmVTdHJlYW1pbmdcIixlLlNUQVJUX0NIQU5ORUxfTUVESUFfUkVMQVk9XCJDbGllbnQuc3RhcnRDaGFubmVsTWVkaWFSZWxheVwiLGUuVVBEQVRFX0NIQU5ORUxfTUVESUFfUkVMQVk9XCJDbGllbnQudXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXlcIixlLlNUT1BfQ0hBTk5FTF9NRURJQV9SRUxBWT1cIkNsaWVudC5zdG9wQ2hhbm5lbE1lZGlhUmVsYXlcIixlLlJFUVVFU1RfQ09ORklHX0RJU1RSSUJVVEU9XCJfY29uZmlnLWRpc3RyaWJ1dGUtcmVxdWVzdFwiLGUuU0VUX0NPTkZJR19ESVNUUklCVVRFPVwiX2NvbmZpZ0Rpc3RyaWJ1dGVcIixlLkxPQ0FMX1RSQUNLX1NFVF9NVVRFRD1cIkxvY2FsVHJhY2suc2V0TXV0ZVwiLGUuTE9DQUxfQVVESU9fVFJBQ0tfUExBWT1cIkxvY2FsQXVkaW9UcmFjay5wbGF5XCIsZS5MT0NBTF9BVURJT19UUkFDS19QTEFZX0lOX0VMRU1FTlQ9XCJMb2NhbEF1ZGlvVHJhY2sucGxheUluRWxlbWVudFwiLGUuTE9DQUxfQVVESU9fVFJBQ0tfU1RPUD1cIkxvY2FsQXVkaW9UcmFjay5zdG9wXCIsZS5MT0NBTF9BVURJT19UUkFDS19TRVRfVk9MVU1FPVwiTG9jYWxBdWRpb1RyYWNrLnNldFZvbHVtZVwiLGUuTUlDX0FVRElPX1RSQUNLX1NFVF9ERVZJQ0U9XCJNaWNyb3Bob25lQXVkaW9UcmFjay5zZXREZXZpY2VcIixlLkJVRkZFUl9BVURJT19UUkFDS19TVEFSVD1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2suc3RhcnRQcm9jZXNzQXVkaW9CdWZmZXJcIixlLkJVRkZFUl9BVURJT19UUkFDS19TVE9QPVwiQnVmZmVyU291cmNlQXVkaW9UcmFjay5zdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsZS5CVUZGRVJfQVVESU9fVFJBQ0tfUEFVU0U9XCJCdWZmZXJTb3VyY2VBdWRpb1RyYWNrLnBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsZS5CVUZGRVJfQVVESU9fVFJBQ0tfUkVTVU1FPVwiQnVmZmVyU291cmNlQXVkaW9UcmFjay5yZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXJcIixlLkJVRkZFUl9BVURJT19UUkFDS19TRUVLPVwiQnVmZmVyU291cmNlQXVkaW9UcmFjay5zZWVrQXVkaW9CdWZmZXJcIixlLkxPQ0FMX1ZJREVPX1RSQUNLX1BMQVk9XCJMb2NhbFZpZGVvVHJhY2sucGxheVwiLGUuTE9DQUxfVklERU9fVFJBQ0tfU1RPUD1cIkxvY2FsVmlkZW9UcmFjay5zdG9wXCIsZS5MT0NBTF9WSURFT19UUkFDS19HRVRfVklERU9fVklTSUJMRT1cIkxvY2FsVmlkZW9UcmFjay5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzXCIsZS5MT0NBTF9WSURFT19UUkFDS19CRUFVVFk9XCJMb2NhbFZpZGVvVHJhY2suc2V0QmVhdXR5RWZmZWN0XCIsZS5MT0NBTF9WSURFT19TRU5EX1NFSV9EQVRBPVwiTG9jYWxWaWRlb1RyYWNrLnNlbmRTZWlEYXRhXCIsZS5DQU1fVklERU9fVFJBQ0tfU0VUX0RFVklDRT1cIkNhbWVyYVZpZGVvVHJhY2suc2V0RGV2aWNlXCIsZS5DQU1fVklERU9fVFJBQ0tfU0VUX0VOQ09ERVJfQ09ORklHPVwiQ2FtZXJhVmlkZW9UcmFjay5zZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiLGUuUkVNT1RFX1ZJREVPX1RSQUNLX1BMQVk9XCJSZW1vdGVWaWRlb1RyYWNrLnBsYXlcIixlLlJFTU9URV9WSURFT19UUkFDS19TVE9QPVwiUmVtb3RlVmlkZW9UcmFjay5zdG9wXCIsZS5SRU1PVEVfVklERU9fVFJBQ0tfR0VUX1ZJREVPX1ZJU0lCTEU9XCJSZW1vdGVWaWRlb1RyYWNrLmdldFZpZGVvRWxlbWVudFZpc2libGVTdGF0dXNcIixlLlJFTU9URV9BVURJT19UUkFDS19QTEFZPVwiUmVtb3RlQXVkaW9UcmFjay5wbGF5XCIsZS5SRU1PVEVfQVVESU9fVFJBQ0tfU1RPUD1cIlJlbW90ZUF1ZGlvVHJhY2suc3RvcFwiLGUuUkVNT1RFX0FVRElPX1NFVF9WT0xVTUU9XCJSZW1vdGVBdWRpb1RyYWNrLnNldFZvbHVtZVwiLGUuUkVNT1RFX0FVRElPX1NFVF9PVVRQVVRfREVWSUNFPVwiUmVtb3RlQXVkaW9UcmFjay5zZXRPdXRwdXREZXZpY2VcIixlLkdFVF9NRURJQV9TVFJFQU1fVFJBQ0s9XCJUcmFjay5nZXRNZWRpYVN0cmVhbVRyYWNrXCIsZS5TVFJFQU1fVFlQRV9DSEFOR0U9XCJzdHJlYW1UeXBlQ2hhbmdlXCIsZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLGUuTE9BRF9DT05GSUdfRlJPTV9MT0NBTFNUT1JBR0U9XCJsb2FkQ29uZmlnRnJvbUxvY2FsU3RvcmFnZVwiLGUuSU1BR0VfTU9ERVJBVElPTl9VUExPQUQ9XCJpbWFnZU1vZGVyYXRpb25VcGxvYWRcIixlLlJFUFVCX0FGVEVSX1BDX0NPTk5FQ1RFRD1cInJlcHViQWZ0ZXJQQ0Nvbm5lY3RlZFwiLGUuUFJFTE9BRF9NRURJQV9GQUlMRUQ9XCJwcmVsb2FkTWVkaWFGYWlsZWRcIixlLk1JU01BVENIX0RUTFNfUEFSQU1FVEVSUz1cIm1pc21hdGNoRHRsc1BhcmFtZXRlcnNcIixlLlZPU19GQUxMQkFDS19DTj1cInZvc0ZhbGxiYWNrQ05cIixlLkRBVEFDSEFOTkVMX0ZBSUxCQUNLPVwiZGF0YWNoYW5uZWxGYWlsYmFja1wiLGV9KHt9KSxrTz1mdW5jdGlvbihlKXtyZXR1cm4gZS5UUkFDRVI9XCJ0cmFjZXJcIixlfSh7fSk7ZnVuY3Rpb24gTU8oZSl7cmV0dXJuIG1PKGUudGltZW91dCxcImNvbmZpZy50aW1lb3V0XCIsMCwxZTUpLG1PKGUudGltZW91dEZhY3RvcixcImNvbmZpZy50aW1lb3V0RmFjdG9yXCIsMCwxMDAsITEpLG1PKGUubWF4UmV0cnlDb3VudCxcImNvbmZpZy5tYXhSZXRyeUNvbmZpZ1wiLDAsMS8wKSxtTyhlLm1heFJldHJ5VGltZW91dCxcImNvbmZpZy5tYXhSZXRyeVRpbWVvdXRcIiwwLDEvMCksITB9bGV0IFVPPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuQVVESUVOQ0VfTEVWRUxfTE9XX0xBVEVOQ1k9MV09XCJBVURJRU5DRV9MRVZFTF9MT1dfTEFURU5DWVwiLGVbZS5BVURJRU5DRV9MRVZFTF9VTFRSQV9MT1dfTEFURU5DWT0yXT1cIkFVRElFTkNFX0xFVkVMX1VMVFJBX0xPV19MQVRFTkNZXCIsZVtlLkFVRElFTkNFX0xFVkVMX1NZTkNfTEFURU5DWT0zXT1cIkFVRElFTkNFX0xFVkVMX1NZTkNfTEFURU5DWVwiLGV9KHt9KSxWTz1mdW5jdGlvbihlKXtyZXR1cm4gZS5MRUFWRT1cIkxFQVZFXCIsZS5ORVRXT1JLX0VSUk9SPVwiTkVUV09SS19FUlJPUlwiLGUuU0VSVkVSX0VSUk9SPVwiU0VSVkVSX0VSUk9SXCIsZS5VSURfQkFOTkVEPVwiVUlEX0JBTk5FRFwiLGUuRkFMTEJBQ0s9XCJGQUxMQkFDS1wiLGUuSVBfQkFOTkVEPVwiSVBfQkFOTkVEXCIsZS5DSEFOTkVMX0JBTk5FRD1cIkNIQU5ORUxfQkFOTkVEXCIsZS5MSUNFTlNFX01JU1NJTkc9XCJMSUNFTlNFX01JU1NJTkdcIixlLkxJQ0VOU0VfRVhQSVJFRD1cIkxJQ0VOU0VfRVhQSVJFRFwiLGUuTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEPVwiTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEXCIsZS5MSUNFTlNFX1BFUklPRF9JTlZBTElEPVwiTElDRU5TRV9QRVJJT0RfSU5WQUxJRFwiLGUuTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRT1cIkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0VcIixlLkxJQ0VOU0VfSUxMRUdBTD1cIkxJQ0VOU0VfSUxMRUdBTFwiLGUuVE9LRU5fRVhQSVJFPVwiVE9LRU5fRVhQSVJFXCIsZS5GQUxMQkFDS19UT19ITFM9XCJGQUxMQkFDS19UT19ITFNcIixlLlVJRF9DT05GTElDVD1cIlVJRF9DT05GTElDVFwiLGV9KHt9KTtmdW5jdGlvbiB4TyhlKXtpZighQXJyYXkuaXNBcnJheShlKXx8ZS5sZW5ndGg8MSlyZXR1cm4hMTt0cnl7ZS5mb3JFYWNoKChlPT57aWYoIWUudXJscyl0aHJvdyBFcnJvcigpfSkpfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIEZPKGUpe3JldHVybiBTTyhlLnR1cm5TZXJ2ZXJVUkwsXCJ0dXJuU2VydmVyVVJMXCIpLFNPKGUudXNlcm5hbWUsXCJ1c2VybmFtZVwiKSxTTyhlLnBhc3N3b3JkLFwicGFzc3dvcmRcIiksZS51ZHBwb3J0JiZtTyhlLnVkcHBvcnQsXCJ1ZHBwb3J0XCIsMSw5OTk5OSwhMCksZS5mb3JjZXR1cm4mJl9PKGUuZm9yY2V0dXJuLFwiZm9yY2V0dXJuXCIpLGUuc2VjdXJpdHkmJl9PKGUuc2VjdXJpdHksXCJzZWN1cml0eVwiKSxlLnRjcHBvcnQmJm1PKGUudGNwcG9ydCxcInRjcHBvcnRcIiwxLDk5OTk5LCEwKSwhMH1sZXQgQk89ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5BVVRPX1NJTVVMQ0FTVF9TVFJFQU09LTFdPVwiQVVUT19TSU1VTENBU1RfU1RSRUFNXCIsZVtlLkRJU0FCTEVfU0lNVUxDQVNUX1NUUkVNPTBdPVwiRElTQUJMRV9TSU1VTENBU1RfU1RSRU1cIixlW2UuRU5BQkxFX1NJTVVMQ0FTVF9TVFJFQU09MV09XCJFTkFCTEVfU0lNVUxDQVNUX1NUUkVBTVwiLGV9KHt9KTtmdW5jdGlvbiBqTyhlKXtyZXR1cm4gdm9pZCAwIT09ZS5sZXZlbCYmRU8oZS5sZXZlbCxcImxldmVsXCIsWzEsMiwzXSksdm9pZCAwIT09ZS5kZWxheSYmbU8oZS5kZWxheSxcImRlbGF5XCIsMCwzZTMsITApLCEwfWxldCBHTz1mdW5jdGlvbihlKXtyZXR1cm4gZS5QRUVSQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJwZWVyY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixlLkFVRElPX01FVEFEQVRBPVwiYXVkaW8tbWV0YWRhdGFcIixlLkFVRElPX1BUUz1cImF1ZGlvLXB0c1wiLGUuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLGUuTUVESUFfUkVDT05ORUNUX1NUQVJUPVwibWVkaWEtcmVjb25uZWN0LXN0YXJ0XCIsZS5NRURJQV9SRUNPTk5FQ1RfRU5EPVwibWVkaWEtcmVjb25uZWN0LWVuZFwiLGUuSVNfVVNJTkdfQ0xPVURfUFJPWFk9XCJpcy11c2luZy1jbG91ZC1wcm94eVwiLGUuVVNFUl9KT0lORUQ9XCJ1c2VyLWpvaW5lZFwiLGUuVVNFUl9MRUFWRUQ9XCJ1c2VyLWxlZnRcIixlLlVTRVJfUFVCTElTSEVEPVwidXNlci1wdWJsaXNoZWRcIixlLlVTRVJfVU5QVUJMSVNIRUQ9XCJ1c2VyLXVucHVibGlzaGVkXCIsZS5VU0VSX0lORk9fVVBEQVRFRD1cInVzZXItaW5mby11cGRhdGVkXCIsZS5DTElFTlRfQkFOTkVEPVwiY2xpZW50LWJhbm5lZFwiLGUuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURT1cImNoYW5uZWwtbWVkaWEtcmVsYXktc3RhdGVcIixlLkNIQU5ORUxfTUVESUFfUkVMQVlfRVZFTlQ9XCJjaGFubmVsLW1lZGlhLXJlbGF5LWV2ZW50XCIsZS5WT0xVTUVfSU5ESUNBVE9SPVwidm9sdW1lLWluZGljYXRvclwiLGUuQ1JZUFRfRVJST1I9XCJjcnlwdC1lcnJvclwiLGUuT05fVE9LRU5fUFJJVklMRUdFX1dJTExfRVhQSVJFPVwidG9rZW4tcHJpdmlsZWdlLXdpbGwtZXhwaXJlXCIsZS5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRT1cInRva2VuLXByaXZpbGVnZS1kaWQtZXhwaXJlXCIsZS5ORVRXT1JLX1FVQUxJVFk9XCJuZXR3b3JrLXF1YWxpdHlcIixlLlNUUkVBTV9UWVBFX0NIQU5HRUQ9XCJzdHJlYW0tdHlwZS1jaGFuZ2VkXCIsZS5TVFJFQU1fRkFMTEJBQ0s9XCJzdHJlYW0tZmFsbGJhY2tcIixlLlJFQ0VJVkVfTUVUQURBVEE9XCJyZWNlaXZlLW1ldGFkYXRhXCIsZS5TVFJFQU1fTUVTU0FHRT1cInN0cmVhbS1tZXNzYWdlXCIsZS5MSVZFX1NUUkVBTUlOR19FUlJPUj1cImxpdmUtc3RyZWFtaW5nLWVycm9yXCIsZS5MSVZFX1NUUkVBTUlOR19XQVJOSU5HPVwibGl2ZS1zdHJlYW1pbmctd2FybmluZ1wiLGUuRVhDRVBUSU9OPVwiZXhjZXB0aW9uXCIsZS5FUlJPUj1cImVycm9yXCIsZS5QMlBfTE9TVD1cInAycF9sb3N0XCIsZS5KT0lOX0ZBTExCQUNLX1RPX1BST1hZPVwiam9pbi1mYWxsYmFjay10by1wcm94eVwiLGUuQ0hBTk5FTF9GQUxMQkFDS19UT19XRUJTT0NLRVQ9XCJjaGFubmVsLWZhbGxiYWNrLXRvLXdlYnNvY2tldFwiLGUuTUVESUFfQ09OTkVDVElPTl9UWVBFX0NIQU5HRT1cIm1lZGlhLWNvbm5lY3Rpb24tdHlwZS1jaGFuZ2VcIixlLlBVQkxJU0hFRF9VU0VSX0xJU1Q9XCJwdWJsaXNoZWQtdXNlci1saXN0XCIsZS5DT05URU5UX0lOU1BFQ1RfQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb250ZW50LWluc3BlY3QtY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixlLkNPTlRFTlRfSU5TUEVDVF9FUlJPUj1cImNvbnRlbnQtaW5zcGVjdC1lcnJvclwiLGUuQ09OVEVOVF9JTlNQRUNUX1JFU1VMVD1cImNvbnRlbnQtaW5zcGVjdC1yZXN1bHRcIixlLklNQUdFX01PREVSQVRJT05fQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJpbWFnZS1tb2RlcmF0aW9uLWNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsZS5GQUxMQkFDS19UT19ITFM9XCJmYWxsYmFjay10by1obHNcIixlLkZJUlNUX1ZJREVPX0JVRkZFUl9SRUFEWT1cImZpcnN0LXZpZGVvLWJ1ZmZlci1yZWFkeVwiLGUuRklSU1RfVklERU9fUFJFX1JFTkRFUj1cImZpcnN0LXZpZGVvLXByZS1yZW5kZXJcIixlLkFWMV9ERUNPREFCTEVfUkVTVUxUPVwiYXYxLWRlY29kYWJsZS1yZXN1bHRcIixlfSh7fSksV089ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQ09ORklHPVwiY29uZmlnXCIsZS5WT1NFUlJPUj1cInZvc19lcnJvclwiLGUuQVBfRVJST1I9XCJhcF9lcnJvclwiLGV9KHt9KSxITz1mdW5jdGlvbihlKXtyZXR1cm4gZS5ORVRXT1JLX0VSUk9SPVwiTkVUV09SS19FUlJPUlwiLGUuU0VSVkVSX0VSUk9SPVwiU0VSVkVSX0VSUk9SXCIsZS5NVUxUSV9JUD1cIk1VTFRJX0lQXCIsZS5USU1FT1VUPVwiVElNRU9VVFwiLGUuT0ZGTElORT1cIk9GRkxJTkVcIixlLkxFQVZFPVwiTEVBVkVcIixlLlAyUF9GQUlMRUQ9XCJQMlBfRkFJTEVEXCIsZS5GQUxMQkFDSz1cIkZBTExCQUNLXCIsZS5SRUdJT05BTF9ESVNUUklCVVRJT049XCJSRUdJT05BTF9ESVNUUklCVVRJT05cIixlfSh7fSksS089ZnVuY3Rpb24oZSl7cmV0dXJuIGUuT05MSU5FPVwiT05MSU5FXCIsZS5PRkZMSU5FPVwiT0ZGTElORVwiLGV9KHt9KSxZTz1mdW5jdGlvbihlKXtyZXR1cm4gZS5ORVRXT1JLX1NUQVRFX0NIQU5HRT1cIk5FVFdPUktfU1RBVEVfQ0hBTkdFXCIsZS5PTkxJTkU9XCJPTkxJTkVcIixlLk9GRkxJTkU9XCJPRkZMSU5FXCIsZX0oe30pO2Z1bmN0aW9uIHpPKGUsdCl7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaT4yP2ktMjowKSxyPTI7cjxpO3IrKyluW3ItMl09YXJndW1lbnRzW3JdO3JldHVybiAwPT09ZS5nZXRMaXN0ZW5lcnModCkubGVuZ3RoP3JwLnJlamVjdChuZXcgcE8oaE8uVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZW1pdCBwcm9taXNlXCIpKTpuZXcgcnAoKChpLHIpPT57ZS5lbWl0KHQsLi4ubixpLHIpfSkpfWZ1bmN0aW9uIHFPKGUsdCl7aWYoMD09PWUuZ2V0TGlzdGVuZXJzKHQpLmxlbmd0aClyZXR1cm4gcnAucmVzb2x2ZSgpO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGk+Mj9pLTI6MCkscj0yO3I8aTtyKyspbltyLTJdPWFyZ3VtZW50c1tyXTtyZXR1cm4gek8oZSx0LC4uLm4pfWZ1bmN0aW9uIFhPKGUsdCl7aWYoMD09PWUuZ2V0TGlzdGVuZXJzKHQpLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShpPjI/aS0yOjApLHI9MjtyPGk7cisrKW5bci0yXT1hcmd1bWVudHNbcl07cmV0dXJuIEpPKGUsdCwuLi5uKX1mdW5jdGlvbiBKTyhlLHQpe2xldCBpPW51bGwsbj1udWxsO2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KHI+Mj9yLTI6MCkscz0yO3M8cjtzKyspb1tzLTJdPWFyZ3VtZW50c1tzXTtpZihlLmVtaXQodCwuLi5vLChlPT57aT1lfSksKGU9PntuPWV9KSksbnVsbCE9PW4pdGhyb3cgbjtpZihudWxsPT09aSl0aHJvdyBuZXcgcE8oaE8uVU5FWFBFQ1RFRF9FUlJPUixcImhhbmRsZXIgaXMgbm90IHN5bmNcIik7cmV0dXJuIGl9Y29uc3QgUU89bmV3IGNsYXNzIGV4dGVuZHMgTk97c2V0IG5ldHdvcmtTdGF0ZShlKXt0aGlzLmVtaXQoWU8uTkVUV09SS19TVEFURV9DSEFOR0UsZSx0aGlzLl9uZXR3b3JrU3RhdGUpLGU9PT1LTy5PTkxJTkU/dGhpcy5lbWl0KFlPLk9OTElORSk6ZT09PUtPLk9GRkxJTkUmJih0aGlzLm9ubGluZVdhaXRlcj1uZXcgcnAoKGU9Pnt0aGlzLm9uY2UoWU8uT05MSU5FLCgoKT0+e3RoaXMub25saW5lV2FpdGVyPXZvaWQgMCxlKEtPLk9OTElORSl9KSl9KSksdGhpcy5lbWl0KFlPLk9GRkxJTkUpKSx0aGlzLl9uZXR3b3JrU3RhdGU9ZX1nZXQgbmV0d29ya1N0YXRlKCl7cmV0dXJuIHRoaXMuX25ldHdvcmtTdGF0ZX1nZXQgaXNPbmxpbmUoKXtyZXR1cm4gdGhpcy5fbmV0d29ya1N0YXRlPT09S08uT05MSU5FfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxkTyh0aGlzLFwiX21vZHVsZU5hbWVcIixcIm5ldHdvcmstaW5kaWNhdG9yXCIpLGRPKHRoaXMsXCJfbmV0d29ya1N0YXRlXCIsS08uT05MSU5FKSxkTyh0aGlzLFwib25saW5lV2FpdGVyXCIsdm9pZCAwKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCgoKT0+e3RoaXMubmV0d29ya1N0YXRlPUtPLk9OTElORX0pKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwoKCk9Pnt0aGlzLm5ldHdvcmtTdGF0ZT1LTy5PRkZMSU5FfSkpfX0sWk89W107Zm9yKGxldCBlPTA7ZTwyNTY7KytlKVpPLnB1c2goKGUrMjU2KS50b1N0cmluZygxNikuc2xpY2UoMSkpO2NvbnN0ICRPPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBjcnlwdG8mJmNyeXB0by5yYW5kb21VVUlEJiZjcnlwdG8ucmFuZG9tVVVJRC5iaW5kKGNyeXB0byk7bGV0IGVOO2NvbnN0IHROPW5ldyBVaW50OEFycmF5KDE2KTtmdW5jdGlvbiBpTigpe3JldHVybiAkTz8kTygpOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbixyLG8scztjb25zdCBhPW51bGwhPT0obj1udWxsIT09KHI9KGU9ZXx8e30pLnJhbmRvbSkmJnZvaWQgMCE9PXI/cjpudWxsPT09KG89KHM9ZSkucm5nKXx8dm9pZCAwPT09bz92b2lkIDA6by5jYWxsKHMpKSYmdm9pZCAwIT09bj9uOmZ1bmN0aW9uKCl7aWYoIWVOKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgY3J5cHRvfHwhY3J5cHRvLmdldFJhbmRvbVZhbHVlcyl0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZFwiKTtlTj1jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKX1yZXR1cm4gZU4odE4pfSgpO2lmKGEubGVuZ3RoPDE2KXRocm93IG5ldyBFcnJvcihcIlJhbmRvbSBieXRlcyBsZW5ndGggbXVzdCBiZSA+PSAxNlwiKTtpZihhWzZdPTE1JmFbNl18NjQsYVs4XT02MyZhWzhdfDEyOCx0KXtpZigoaT1pfHwwKTwwfHxpKzE2PnQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiVVVJRCBieXRlIHJhbmdlIFwiLmNvbmNhdChpLFwiOlwiKS5jb25jYXQoaSsxNSxcIiBpcyBvdXQgb2YgYnVmZmVyIGJvdW5kc1wiKSk7Zm9yKGxldCBlPTA7ZTwxNjsrK2UpdFtpK2VdPWFbZV07cmV0dXJuIHR9cmV0dXJuIGZ1bmN0aW9uKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybihaT1tlW3QrMF1dK1pPW2VbdCsxXV0rWk9bZVt0KzJdXStaT1tlW3QrM11dK1wiLVwiK1pPW2VbdCs0XV0rWk9bZVt0KzVdXStcIi1cIitaT1tlW3QrNl1dK1pPW2VbdCs3XV0rXCItXCIrWk9bZVt0KzhdXStaT1tlW3QrOV1dK1wiLVwiK1pPW2VbdCsxMF1dK1pPW2VbdCsxMV1dK1pPW2VbdCsxMl1dK1pPW2VbdCsxM11dK1pPW2VbdCsxNF1dK1pPW2VbdCsxNV1dKS50b0xvd2VyQ2FzZSgpfShhKX0oZSx0LHVuZGVmaW5lZCk7dmFyIGUsdH1mdW5jdGlvbiBuTihlLHQpe2NvbnN0IGk9ZS5pbmRleE9mKHQpOy0xIT09aSYmZS5zcGxpY2UoaSwxKX1mdW5jdGlvbiByTihlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PnstMT09PXQuaW5kZXhPZihlKSYmdC5wdXNoKGUpfSkpLHR9ZnVuY3Rpb24gb04oZSl7dm9pZCAwIT09cnA/cnAucmVzb2x2ZSgpLnRoZW4oZSk6c2V0VGltZW91dChlLDApfWZ1bmN0aW9uIHNOKGUpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX1mdW5jdGlvbiBhTihlKXt0cnl7cmV0dXJuIHNOKGUpfWNhdGNoKHQpe3JldHVybiBlfX1jb25zdCBjTj17fTtmdW5jdGlvbiBkTihlLHQpe2NOW3RdfHwoY05bdF09ITAsZSgpKX1mdW5jdGlvbiBsTihlKXtjb25zdCB0PXdpbmRvdy5hdG9iKGUpLGk9bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHQubGVuZ3RoKSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKz0xKWlbZV09dC5jaGFyQ29kZUF0KGUpO3JldHVybiBpfWZ1bmN0aW9uIHVOKGUpe2xldCB0PVwiXCI7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKz0xKXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtpXSk7cmV0dXJuIHdpbmRvdy5idG9hKHQpfWZ1bmN0aW9uIGhOKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxNixpPShuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKTtpZihpLmxlbmd0aD50KWk9aS5zbGljZSgwLHQpO2Vsc2UgaWYoaS5sZW5ndGg8dCl7Y29uc3QgZT1uZXcgVWludDhBcnJheSh0KTtlLnNldChpKSxpPWV9cmV0dXJuIGl9ZnVuY3Rpb24gcE4oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtjb25zdCBuPW5yKHQpLmNhbGwodCwoKGUsdCk9PmUrdC5sZW5ndGgpLDApLHI9bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKG4pKTtsZXQgbz0wO3JldHVybiB0LmZvckVhY2goKGU9PntyLnNldChlLG8pLG8rPWUubGVuZ3RofSkpLHJ9ZnVuY3Rpb24gX04oZSl7cmV0dXJuIHdpbmRvdy5UZXh0RW5jb2Rlcj8obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSkubGVuZ3RoOmUubGVuZ3RofWZ1bmN0aW9uIEVOKGUpe2xldCB0PTA7cmV0dXJuKC9EaW5nVGFsay9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9BbGlBcHAvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSYmZS5yZWFsRm9ybURhdGEmJihlPWUucmVhbEZvcm1EYXRhKSxlLmZvckVhY2goKGU9Pnt0Kz1cInN0cmluZ1wiPT10eXBlb2YgZT9fTihlKTplLnNpemV9KSksdCsxMzh9ZnVuY3Rpb24gbU4oZSl7Y29uc3QgdD1uZXcgcE8oaE8uVElNRU9VVCxcInRpbWVvdXRcIik7cmV0dXJuIG5ldyBycCgoKGksbik9Pnt3aW5kb3cuc2V0VGltZW91dCgoKCk9Pm4odCkpLGUpfSkpfWZ1bmN0aW9uIGZOKGUpe3JldHVybiBuZXcgcnAoKHQ9Pnt3aW5kb3cuc2V0VGltZW91dCh0LGUpfSkpfWZ1bmN0aW9uIFNOKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjcsdD1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtjb25zdCBpPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cigyLGUpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGkubGVuZ3RoPT09ZT9cIlwiLmNvbmNhdCh0KS5jb25jYXQoaSk6XCJcIi5jb25jYXQodCkuY29uY2F0KGkpK1NOKGUtaS5sZW5ndGgsXCJcIil9ZnVuY3Rpb24gZ04oKXtsZXQgZSx0PSExO3RyeXt2YXIgaTtlPU1UKGk9aU4oKSkuY2FsbChpLFwiLVwiLFwiXCIpfWNhdGNoKGUpe3Q9ITB9cmV0dXJuIXQmJmUmJjMyPT09ZS5sZW5ndGh8fChlPVNOKDMyLFwiXCIpKSxlLnRvVXBwZXJDYXNlKCl9Y29uc3QgVE49KCk9Pnt9LFJOPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe2RPKHRoaXMsXCJmbk1hcFwiLG5ldyBNYXApfXRocm90dGxlQnlLZXkoZSx0LGksbil7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkocj40P3ItNDowKSxzPTQ7czxyO3MrKylvW3MtNF09YXJndW1lbnRzW3NdO2lmKHRoaXMuZm5NYXAuaGFzKHQpKXtjb25zdCByPXRoaXMuZm5NYXAuZ2V0KHQpO2lmKHIudGhyZXNob2xkIT09aSl7ci5mbiguLi5yLmFyZ3MpLGNsZWFyVGltZW91dChyLnRpbWVyKTtjb25zdCBzPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2NvbnN0IGU9dGhpcy5mbk1hcC5nZXQodCk7ZSYmZS5mbiguLi5lLmFyZ3MpLHRoaXMuZm5NYXAuZGVsZXRlKHQpfSksaSk7dGhpcy5mbk1hcC5zZXQodCx7Zm46ZSx0aHJlc2hvbGQ6aSx0aW1lcjpzLGFyZ3M6byxza2lwRm46bn0pfWVsc2Ugci5za2lwRm4mJnIuc2tpcEZuKC4uLnIuYXJncyksdGhpcy5mbk1hcC5zZXQodCx1Tyh1Tyh7fSxyKSx7fSx7Zm46ZSxhcmdzOm8sc2tpcEZuOm59KSl9ZWxzZXtjb25zdCByPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2NvbnN0IGU9dGhpcy5mbk1hcC5nZXQodCk7ZSYmZS5mbiguLi5lLmFyZ3MpLHRoaXMuZm5NYXAuZGVsZXRlKHQpfSksaSk7dGhpcy5mbk1hcC5zZXQodCx7Zm46ZSx0aHJlc2hvbGQ6aSx0aW1lcjpyLGFyZ3M6byxza2lwRm46bn0pfX19LENOPVJOLnRocm90dGxlQnlLZXkuYmluZChSTik7ZnVuY3Rpb24gdk4oZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiYhKGUgaW5zdGFuY2VvZiBSZWdFeHApfWZ1bmN0aW9uIHlOKGUsdCl7aWYoIXZOKGUpfHwhdk4odCkpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheShlKSYmIUFycmF5LmlzQXJyYXkodCl8fCFBcnJheS5pc0FycmF5KGUpJiZBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkmJkFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IGk9Wy4uLmVdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlbbl09eU4oZVtuXSx0W25dKTtyZXR1cm4gaX17Y29uc3QgaT11Tyh7fSxlKTtmb3IoY29uc3QgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbik/aVtuXT15TihlW25dLHRbbl0pOmlbbl09dFtuXSk7cmV0dXJuIGl9fWZ1bmN0aW9uIElOKGUsdCl7bGV0IGk9WzBdO2lmKHQmJihpPW5ldyBBcnJheSh0KS5maWxsKDApKSwwPT09ZSlyZXR1cm4gaTtsZXQgbj0wO2Zvcig7ZT4wJiYoaVtuXT0yNTUmZSxlPj49OCxuKyssIXR8fG4hPT10KTspO3JldHVybiBpfWZ1bmN0aW9uIEFOKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP2U6ZS5leGFjdHx8ZS5pZGVhbHx8ZS5tYXh8fGUubWlufHwwfWZ1bmN0aW9uIGJOKGUsdCl7dHJ5e3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmSlNPTi5zdHJpbmdpZnkoZSk9PT1KU09OLnN0cmluZ2lmeSh0KX1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gd04oZSl7cmV0dXJuIG5yKGUpLmNhbGwoZSwoKGUsdCk9PmUrdCksMCl9ZnVuY3Rpb24gT04oZSl7Y29uc3QgdD1cIjAxMjM0NTY3ODlhYmNkZWZcIjtmdW5jdGlvbiBpKGUpe2xldCBpLG49XCJcIjtmb3IoaT0wO2k8PTM7aSsrKW4rPXQuY2hhckF0KGU+PjgqaSs0JjE1KSt0LmNoYXJBdChlPj44KmkmMTUpO3JldHVybiBufWZ1bmN0aW9uIG4oZSx0KXtjb25zdCBpPSg2NTUzNSZlKSsoNjU1MzUmdCk7cmV0dXJuKGU+PjE2KSsodD4+MTYpKyhpPj4xNik8PDE2fDY1NTM1Jml9ZnVuY3Rpb24gcihlLHQsaSxyLG8scyl7cmV0dXJuIG4oZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTw8dHxlPj4+MzItdH0obihuKHQsZSksbihyLHMpKSxvKSxpKX1mdW5jdGlvbiBvKGUsdCxpLG4sbyxzLGEpe3JldHVybiByKHQmaXx+dCZuLGUsdCxvLHMsYSl9ZnVuY3Rpb24gcyhlLHQsaSxuLG8scyxhKXtyZXR1cm4gcih0Jm58aSZ+bixlLHQsbyxzLGEpfWZ1bmN0aW9uIGEoZSx0LGksbixvLHMsYSl7cmV0dXJuIHIodF5pXm4sZSx0LG8scyxhKX1mdW5jdGlvbiBjKGUsdCxpLG4sbyxzLGEpe3JldHVybiByKGleKHR8fm4pLGUsdCxvLHMsYSl9Y29uc3QgZD1mdW5jdGlvbihlKXtsZXQgdDtjb25zdCBpPTErKGUubGVuZ3RoKzg+PjYpLG49bmV3IEFycmF5KDE2KmkpO2Zvcih0PTA7dDwxNippO3QrKyluW3RdPTA7Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrKyluW3Q+PjJdfD1lLmNoYXJDb2RlQXQodCk8PHQlNCo4O3JldHVybiBuW3Q+PjJdfD0xMjg8PHQlNCo4LG5bMTYqaS0yXT04KmUubGVuZ3RoLG59KGUpO2xldCBsLHUsaCxwLF8sRT0xNzMyNTg0MTkzLG09LTI3MTczMzg3OSxmPS0xNzMyNTg0MTk0LFM9MjcxNzMzODc4O2ZvcihsPTA7bDxkLmxlbmd0aDtsKz0xNil1PUUsaD1tLHA9ZixfPVMsRT1vKEUsbSxmLFMsZFtsKzBdLDcsLTY4MDg3NjkzNiksUz1vKFMsRSxtLGYsZFtsKzFdLDEyLC0zODk1NjQ1ODYpLGY9byhmLFMsRSxtLGRbbCsyXSwxNyw2MDYxMDU4MTkpLG09byhtLGYsUyxFLGRbbCszXSwyMiwtMTA0NDUyNTMzMCksRT1vKEUsbSxmLFMsZFtsKzRdLDcsLTE3NjQxODg5NyksUz1vKFMsRSxtLGYsZFtsKzVdLDEyLDEyMDAwODA0MjYpLGY9byhmLFMsRSxtLGRbbCs2XSwxNywtMTQ3MzIzMTM0MSksbT1vKG0sZixTLEUsZFtsKzddLDIyLC00NTcwNTk4MyksRT1vKEUsbSxmLFMsZFtsKzhdLDcsMTc3MDAzNTQxNiksUz1vKFMsRSxtLGYsZFtsKzldLDEyLC0xOTU4NDE0NDE3KSxmPW8oZixTLEUsbSxkW2wrMTBdLDE3LC00MjA2MyksbT1vKG0sZixTLEUsZFtsKzExXSwyMiwtMTk5MDQwNDE2MiksRT1vKEUsbSxmLFMsZFtsKzEyXSw3LDE4MDQ2MDM2ODIpLFM9byhTLEUsbSxmLGRbbCsxM10sMTIsLTQwMzQxMTAxKSxmPW8oZixTLEUsbSxkW2wrMTRdLDE3LC0xNTAyMDAyMjkwKSxtPW8obSxmLFMsRSxkW2wrMTVdLDIyLDEyMzY1MzUzMjkpLEU9cyhFLG0sZixTLGRbbCsxXSw1LC0xNjU3OTY1MTApLFM9cyhTLEUsbSxmLGRbbCs2XSw5LC0xMDY5NTAxNjMyKSxmPXMoZixTLEUsbSxkW2wrMTFdLDE0LDY0MzcxNzcxMyksbT1zKG0sZixTLEUsZFtsKzBdLDIwLC0zNzM4OTczMDIpLEU9cyhFLG0sZixTLGRbbCs1XSw1LC03MDE1NTg2OTEpLFM9cyhTLEUsbSxmLGRbbCsxMF0sOSwzODAxNjA4MyksZj1zKGYsUyxFLG0sZFtsKzE1XSwxNCwtNjYwNDc4MzM1KSxtPXMobSxmLFMsRSxkW2wrNF0sMjAsLTQwNTUzNzg0OCksRT1zKEUsbSxmLFMsZFtsKzldLDUsNTY4NDQ2NDM4KSxTPXMoUyxFLG0sZixkW2wrMTRdLDksLTEwMTk4MDM2OTApLGY9cyhmLFMsRSxtLGRbbCszXSwxNCwtMTg3MzYzOTYxKSxtPXMobSxmLFMsRSxkW2wrOF0sMjAsMTE2MzUzMTUwMSksRT1zKEUsbSxmLFMsZFtsKzEzXSw1LC0xNDQ0NjgxNDY3KSxTPXMoUyxFLG0sZixkW2wrMl0sOSwtNTE0MDM3ODQpLGY9cyhmLFMsRSxtLGRbbCs3XSwxNCwxNzM1MzI4NDczKSxtPXMobSxmLFMsRSxkW2wrMTJdLDIwLC0xOTI2NjA3NzM0KSxFPWEoRSxtLGYsUyxkW2wrNV0sNCwtMzc4NTU4KSxTPWEoUyxFLG0sZixkW2wrOF0sMTEsLTIwMjI1NzQ0NjMpLGY9YShmLFMsRSxtLGRbbCsxMV0sMTYsMTgzOTAzMDU2MiksbT1hKG0sZixTLEUsZFtsKzE0XSwyMywtMzUzMDk1NTYpLEU9YShFLG0sZixTLGRbbCsxXSw0LC0xNTMwOTkyMDYwKSxTPWEoUyxFLG0sZixkW2wrNF0sMTEsMTI3Mjg5MzM1MyksZj1hKGYsUyxFLG0sZFtsKzddLDE2LC0xNTU0OTc2MzIpLG09YShtLGYsUyxFLGRbbCsxMF0sMjMsLTEwOTQ3MzA2NDApLEU9YShFLG0sZixTLGRbbCsxM10sNCw2ODEyNzkxNzQpLFM9YShTLEUsbSxmLGRbbCswXSwxMSwtMzU4NTM3MjIyKSxmPWEoZixTLEUsbSxkW2wrM10sMTYsLTcyMjUyMTk3OSksbT1hKG0sZixTLEUsZFtsKzZdLDIzLDc2MDI5MTg5KSxFPWEoRSxtLGYsUyxkW2wrOV0sNCwtNjQwMzY0NDg3KSxTPWEoUyxFLG0sZixkW2wrMTJdLDExLC00MjE4MTU4MzUpLGY9YShmLFMsRSxtLGRbbCsxNV0sMTYsNTMwNzQyNTIwKSxtPWEobSxmLFMsRSxkW2wrMl0sMjMsLTk5NTMzODY1MSksRT1jKEUsbSxmLFMsZFtsKzBdLDYsLTE5ODYzMDg0NCksUz1jKFMsRSxtLGYsZFtsKzddLDEwLDExMjY4OTE0MTUpLGY9YyhmLFMsRSxtLGRbbCsxNF0sMTUsLTE0MTYzNTQ5MDUpLG09YyhtLGYsUyxFLGRbbCs1XSwyMSwtNTc0MzQwNTUpLEU9YyhFLG0sZixTLGRbbCsxMl0sNiwxNzAwNDg1NTcxKSxTPWMoUyxFLG0sZixkW2wrM10sMTAsLTE4OTQ5ODY2MDYpLGY9YyhmLFMsRSxtLGRbbCsxMF0sMTUsLTEwNTE1MjMpLG09YyhtLGYsUyxFLGRbbCsxXSwyMSwtMjA1NDkyMjc5OSksRT1jKEUsbSxmLFMsZFtsKzhdLDYsMTg3MzMxMzM1OSksUz1jKFMsRSxtLGYsZFtsKzE1XSwxMCwtMzA2MTE3NDQpLGY9YyhmLFMsRSxtLGRbbCs2XSwxNSwtMTU2MDE5ODM4MCksbT1jKG0sZixTLEUsZFtsKzEzXSwyMSwxMzA5MTUxNjQ5KSxFPWMoRSxtLGYsUyxkW2wrNF0sNiwtMTQ1NTIzMDcwKSxTPWMoUyxFLG0sZixkW2wrMTFdLDEwLC0xMTIwMjEwMzc5KSxmPWMoZixTLEUsbSxkW2wrMl0sMTUsNzE4Nzg3MjU5KSxtPWMobSxmLFMsRSxkW2wrOV0sMjEsLTM0MzQ4NTU1MSksRT1uKEUsdSksbT1uKG0saCksZj1uKGYscCksUz1uKFMsXyk7cmV0dXJuIGkoRSkraShtKStpKGYpK2koUyl9bGV0IE5OPTEsRE49Y29uc29sZSxQTj1jbGFzc3tzdGF0aWMgc2V0TG9nZ2VyKGUpe0ROPWV9Y29uc3RydWN0b3IoZSx0KXtkTyh0aGlzLFwiaWRcIix2b2lkIDApLGRPKHRoaXMsXCJsb2NraW5nUHJvbWlzZVwiLHJwLnJlc29sdmUoKSksZE8odGhpcyxcImxvY2tzXCIsMCksZE8odGhpcyxcIm5hbWVcIixcIlwiKSxkTyh0aGlzLFwibG9ja0lkXCIsdm9pZCAwKSx0aGlzLmxvY2tJZD1OTisrLGUmJih0aGlzLm5hbWU9ZSksdCYmKHRoaXMuaWQ9dCksdGhpcy5sb2dnZXIoXCJjcmVhdGVkXCIpfWxvZ2dlcihlLHQpe2NvbnN0IGk9KHRoaXMuaWQ/XCJbXCIuY29uY2F0KHRoaXMuaWQsXCJdXCIpOlwiXCIpK1wiW2xvY2stXCIuY29uY2F0KHRoaXMubmFtZSxcIi1cIikuY29uY2F0KHRoaXMubG9ja0lkLFwiXVwiKSxuPVwiY3JlYXRlZFwiPT09ZT9cImlzIFwiLmNvbmNhdChlLFwiLlwiKTpcImlzIFwiLmNvbmNhdChlLFwiLCBjdXJyZW50IHF1ZXVlIFwiKS5jb25jYXQodGhpcy5sb2NrcyxcIi4gXCIpLmNvbmNhdChudWxsIT10P3Q6XCJcIik7RE4uZGVidWcoXCJcIi5jb25jYXQoaSxcIiBcIikuY29uY2F0KG4pKX1zZXRJZChlKXt0aGlzLmlkPWV9Z2V0IGlzTG9ja2VkKCl7cmV0dXJuIHRoaXMubG9ja3M+MH1sb2NrKGUpe2xldCB0O3RoaXMubG9ja3MrPTEsdGhpcy5sb2dnZXIoXCJsb2NrZWRcIixlKTtjb25zdCBpPW5ldyBycCgoaT0+e3Q9KCk9Pnt0aGlzLmxvY2tzLT0xLHRoaXMubG9nZ2VyKFwidW5sb2NrZWRcIixlKSxpKCl9fSkpLG49dGhpcy5sb2NraW5nUHJvbWlzZS50aGVuKCgoKT0+dCkpO3JldHVybiB0aGlzLmxvY2tpbmdQcm9taXNlPXRoaXMubG9ja2luZ1Byb21pc2UudGhlbigoKCk9PmkpKSxufX07ZnVuY3Rpb24gTE4oZSx0KXtyZXR1cm4gZnVuY3Rpb24oaSxuLHIpe2NvbnN0IG89ci52YWx1ZTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBvKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gci52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2NvbnN0IGk9dGhpc1t0XTtpZighaSl0aHJvdyBuZXcgRXJyb3IoXCJtdXRleCBwcm9wZXJ0eSBrZXkgXCIuY29uY2F0KHQsXCIgZG9lc24ndCBleGlzdCBvbiBcIikuY29uY2F0KGUpKTtjb25zdCByPWF3YWl0IGkubG9jayhcIkZyb20gXCIuY29uY2F0KGUsXCIuXCIpLmNvbmNhdChuKSk7dHJ5e2Zvcih2YXIgcz1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KHMpLGM9MDtjPHM7YysrKWFbY109YXJndW1lbnRzW2NdO3JldHVybiBhd2FpdCBvLmFwcGx5KHRoaXMsYSl9ZmluYWxseXtyKCl9fSxyfX1jb25zdCBrTj17dGltZW91dDo1MDAsdGltZW91dEZhY3RvcjoxLjUsbWF4UmV0cnlDb3VudDoxLzAsbWF4UmV0cnlUaW1lb3V0OjFlNH07ZnVuY3Rpb24gTU4oZSx0KXtjb25zdCBpPU1hdGguZmxvb3IodC50aW1lb3V0Kk1hdGgucG93KHQudGltZW91dEZhY3RvcixlKSk7cmV0dXJuIE1hdGgubWluKHQubWF4UmV0cnlUaW1lb3V0LGkpfWZ1bmN0aW9uIFVOKGUsdCxpLG4pe2NvbnN0IHI9T2JqZWN0LmFzc2lnbih7fSxrTixuKTtsZXQgbz1yLnRpbWVvdXQ7Y29uc3Qgcz1hc3luYygpPT57YXdhaXQgZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBycCgodD0+e3dpbmRvdy5zZXRUaW1lb3V0KHQsZSl9KSl9KG8pLG8qPXIudGltZW91dEZhY3RvcixvPU1hdGgubWluKHIubWF4UmV0cnlUaW1lb3V0LG8pfTtsZXQgYT0hMTtjb25zdCBjPW5ldyBycCgoYXN5bmMobixvKT0+e3Q9dHx8KCgpPT4hMSksaT1pfHwoKCk9PiEwKTtmb3IobGV0IGM9MDtjPHIubWF4UmV0cnlDb3VudDtjKz0xKXtpZihhKXJldHVybiBvKG5ldyBwTyhoTy5PUEVSQVRJT05fQUJPUlRFRCkpO3RyeXtjb25zdCBpPWF3YWl0IGUoKTtpZighdChpLGMpKXJldHVybiBuKGkpO2lmKGMrMT09PXIubWF4UmV0cnlDb3VudClyZXR1cm4gbihpKTthd2FpdCBzKCl9Y2F0Y2goZSl7aWYoIWkoZSxjKSlyZXR1cm4gbyhlKTtpZihjKzE9PT1yLm1heFJldHJ5Q291bnQpcmV0dXJuIG8oZSk7YXdhaXQgcygpfX19KSk7cmV0dXJuIGMuY2FuY2VsPSgpPT5hPSEwLGN9bGV0IFZOLHhOPWNsYXNze2NvbnN0cnVjdG9yKGUpe2RPKHRoaXMsXCJpbnB1dFwiLFtdKSxkTyh0aGlzLFwic2l6ZVwiLHZvaWQgMCksdGhpcy5zaXplPWV9YWRkKGUpe3RoaXMuaW5wdXQucHVzaChlKSx0aGlzLmlucHV0Lmxlbmd0aD50aGlzLnNpemUmJnRoaXMuaW5wdXQuc3BsaWNlKDAsMSl9bWVhbigpe3ZhciBlO3JldHVybiAwPT09dGhpcy5pbnB1dC5sZW5ndGg/MDpucihlPXRoaXMuaW5wdXQpLmNhbGwoZSwoKGUsdCk9PmUrdCkpL3RoaXMuaW5wdXQubGVuZ3RofX0sRk49MCxCTj0wO2Z1bmN0aW9uIGpOKGUsdCxpLG4pe3JldHVybiBuZXcgcnAoKChyLG8pPT57dC5yZXNwb25zZVR5cGU9dC5yZXNwb25zZVR5cGV8fFwianNvblwiLHQuZGF0YSYmIWk/KHQuZGF0YT1KU09OLnN0cmluZ2lmeSh0LmRhdGEpLEZOKz1fTih0LmRhdGEpKTppJiYodC5kYXRhLnNpemU/Rk4rPXQuZGF0YS5zaXplOnQuZGF0YSBpbnN0YW5jZW9mIEZvcm1EYXRhP0ZOKz1FTih0LmRhdGEpOkZOKz1fTihKU09OLnN0cmluZ2lmeSh0LmRhdGEpKSksdC5oZWFkZXJzPXQuaGVhZGVyc3x8e30sdC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdPXQuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXXx8XCJhcHBsaWNhdGlvbi9qc29uXCIsdC5tZXRob2Q9XCJQT1NUXCIsdC51cmw9ZSxUdy5yZXF1ZXN0KHQpLnRoZW4oKGU9PntcInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhP0JOKz1fTihlLmRhdGEpOmUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxlLmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5P0JOKz1lLmRhdGEuYnl0ZUxlbmd0aDpCTis9X04oSlNPTi5zdHJpbmdpZnkoZS5kYXRhKSksbiYmcih7ZGF0YTplLmRhdGEsaGVhZGVyczplLmhlYWRlcnN9KSxyKGUuZGF0YSl9KSkuY2F0Y2goKGU9PntUdy5pc0NhbmNlbChlKT9vKG5ldyBwTyhoTy5PUEVSQVRJT05fQUJPUlRFRCxcImNhbmNlbCB0b2tlbiBjYW5jZWxlZFwiKSk6XCJFQ09OTkFCT1JURURcIj09PWUuY29kZT9vKG5ldyBwTyhoTy5ORVRXT1JLX1RJTUVPVVQsZS5tZXNzYWdlKSk6ZS5yZXNwb25zZT9vKG5ldyBwTyhoTy5ORVRXT1JLX1JFU1BPTlNFX0VSUk9SLGUucmVzcG9uc2Uuc3RhdHVzKSk6byhuZXcgcE8oaE8uTkVUV09SS19FUlJPUixlLm1lc3NhZ2UpKX0pKX0pKX1hc3luYyBmdW5jdGlvbiBHTihlLHQpe2NvbnN0IGk9bmV3IEJsb2IoW3QuZGF0YV0se3R5cGU6XCJidWZmZXJcIn0pO3JldHVybiBhd2FpdCBqTihlLHVPKHVPKHt9LHQpLHt9LHtkYXRhOmksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifX0pLCEwKX1jb25zdCBXTj0oKT0+dm9pZCAwIT09d2luZG93LmlzU2VjdXJlQ29udGV4dDtmdW5jdGlvbiBITihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLm1hcCgoZT0+ZSkpO2lmKCFLTihlKSlyZXR1cm4gZTtjb25zdCB0PXt9O2Zvcihjb25zdCBpIGluIGUpe2NvbnN0IG49ZVtpXTtLTihuKXx8QXJyYXkuaXNBcnJheShuKT90W2ldPUhOKG4pOnRbaV09bn1yZXR1cm4gdH1mdW5jdGlvbiBLTihlKXtyZXR1cm4hKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxBcnJheS5pc0FycmF5KGUpfHwhZSl9bGV0IFlOPWNsYXNze2NvbnN0cnVjdG9yKGUpe2RPKHRoaXMsXCJpbnB1dFwiLFtdKSxkTyh0aGlzLFwic2l6ZVwiLHZvaWQgMCksdGhpcy5zaXplPWV9YWRkKGUpe3RoaXMuaW5wdXQucHVzaChlKSx0aGlzLmlucHV0Lmxlbmd0aD50aGlzLnNpemUmJnRoaXMuaW5wdXQuc3BsaWNlKDAsMSl9ZGlmZk1lYW4oKXtyZXR1cm4gMD09PXRoaXMuaW5wdXQubGVuZ3RoPzA6KHRoaXMuaW5wdXRbdGhpcy5pbnB1dC5sZW5ndGgtMV0tdGhpcy5pbnB1dFswXSkvdGhpcy5pbnB1dC5sZW5ndGh9fTtjb25zdCB6Tj17YWRkcmVzczpcInVua25vd25cIixjYW5kaWRhdGVUeXBlOlwidW5rbm93blwiLGlkOlwidW5rbm93blwiLHBvcnQ6MCxwcmlvcml0eTowLHByb3RvY29sOlwidW5rbm93blwiLHR5cGU6XCJ1bmtub3duXCJ9LHFOPXt0aW1lc3RhbXA6MCxiaXRyYXRlOnthY3R1YWxFbmNvZGVkOjAsdHJhbnNtaXQ6MH0sc2VuZFBhY2tldExvc3NSYXRlOjAscmVjdlBhY2tldExvc3NSYXRlOjAsdmlkZW9SZWN2OltdLHZpZGVvU2VuZDpbXSxhdWRpb1JlY3Y6W10sYXVkaW9TZW5kOltdLHRyYW5zcG9ydDp7Ynl0ZXNTZW50OjAsYnl0ZXNSZWNlaXZlZDowLHBhY2tldHNTZW50OjAscGFja2V0c1JlY2VpdmVkOjB9LHNlbGVjdGVkQ2FuZGlkYXRlUGFpcjp7aWQ6XCJ1bmtub3duXCIsbG9jYWxDYW5kaWRhdGU6ek4scmVtb3RlQ2FuZGlkYXRlOnpOfSx1cGRhdGVJbnRlcnZhbDowfSxYTj17Zmlyc0NvdW50OjAsbmFja3NDb3VudDowLHBsaXNDb3VudDowLGZyYW1lc0RlY29kZUNvdW50OjAsZnJhbWVzRGVjb2RlSW50ZXJ2YWw6MCxmcmFtZXNEZWNvZGVGcmVlemVUaW1lOjAsZGVjb2RlRnJhbWVSYXRlOjAsYnl0ZXM6MCxwYWNrZXRzTG9zdDowLHBhY2tldExvc3RSYXRlOjAscGFja2V0czowLHNzcmM6MCxxcFN1bVBlckZyYW1lOjAsZnJhbWVzRHJvcHBlZENvdW50OjAsb3V0cHV0RnJhbWVSYXRlOjAscGFja2V0c0Rpc2NhcmRlZDowLGZyYW1lc0Fzc2VtYmxlZEZyb21NdWx0aXBsZVBhY2tldHM6MCx0b3RhbFByb2Nlc3NpbmdEZWxheTowLGF2Z0RlY29kZU1zOjAsYXZnRnJhbWVzQXNzZW1ibGVkRnJvbU11bHRpcGxlUGFja2V0c01zOjAsYXZnUHJvY2Vzc2luZ0RlbGF5TXM6MCxhdmdJbnRlckZyYW1lRGVsYXlNczowLHRvdGFsQXNzZW1ibHlUaW1lOjB9LEpOPXtmaXJzQ291bnQ6MCxuYWNrc0NvdW50OjAscGxpc0NvdW50OjAsZnJhbWVDb3VudDowLGJ5dGVzOjAscGFja2V0czowLHBhY2tldHNMb3N0OjAscGFja2V0TG9zdFJhdGU6MCxzc3JjOjAscnR0TXM6MCxqaXR0ZXJNczowLHFwU3VtUGVyRnJhbWU6MH0sUU49e2J5dGVzOjAscGFja2V0czowLHBhY2tldHNMb3N0OjAscGFja2V0TG9zdFJhdGU6MCxzc3JjOjAscnR0TXM6MCxqaXR0ZXJNczowfSxaTj17aml0dGVyQnVmZmVyTXM6MCxqaXR0ZXJNczowLGJ5dGVzOjAscGFja2V0c0xvc3Q6MCxwYWNrZXRMb3N0UmF0ZTowLHBhY2tldHNEaXNjYXJkZWQ6MCxwYWNrZXRzOjAsc3NyYzowLHJlY2VpdmVkRnJhbWVzOjAsZHJvcHBlZEZyYW1lczowLGNvbmNlYWxlZFNhbXBsZXM6MCx0b3RhbFNhbXBsZXNSZWNlaXZlZDowLHNpbGVudENvbmNlYWxlZFNhbXBsZXM6MCxjb25jZWFsbWVudEV2ZW50czowLGZyZWV6ZU1zODA6MCxmcmVlemVNczIwMDowLGZyZWV6ZVNhbXBsZXM4MDowLGZyZWV6ZVNhbXBsZXMyMDA6MH07bGV0ICROPWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7ZE8odGhpcyxcIm9uRmlyc3RWaWRlb1JlY2VpdmVkXCIsdm9pZCAwKSxkTyh0aGlzLFwib25GaXJzdFZpZGVvRGVjb2RlZFwiLHZvaWQgMCksZE8odGhpcyxcIm9uRmlyc3RBdWRpb1JlY2VpdmVkXCIsdm9pZCAwKSxkTyh0aGlzLFwib25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXRcIix2b2lkIDApLGRPKHRoaXMsXCJvbkZpcnN0QXVkaW9EZWNvZGVkXCIsdm9pZCAwKSxkTyh0aGlzLFwib25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZFwiLHZvaWQgMCksZE8odGhpcyxcIm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkXCIsdm9pZCAwKSxkTyh0aGlzLFwidmlkZW9Jc1JlYWR5XCIsITEpLGRPKHRoaXMsXCJ2aWRlb0lzUmVhZHkyXCIse30pLGRPKHRoaXMsXCJwY1wiLHZvaWQgMCksZE8odGhpcyxcIm9wdGlvbnNcIix2b2lkIDApLGRPKHRoaXMsXCJpbnRlcnZhbFRpbWVyXCIsdm9pZCAwKSxkTyh0aGlzLFwic3RhdHNcIixITihxTikpLGRPKHRoaXMsXCJpc0ZpcnN0VmlkZW9SZWNlaXZlZFwiLHt9KSxkTyh0aGlzLFwiaXNGaXJzdFZpZGVvRGVjb2RlZFwiLHt9KSxkTyh0aGlzLFwiaXNGaXJzdEF1ZGlvUmVjZWl2ZWRcIix7fSksZE8odGhpcyxcImlzRmlyc3RBdWRpb0RlY29kZWRcIix7fSksZE8odGhpcyxcImlzRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0XCIse30pLGRPKHRoaXMsXCJsb3NzUmF0ZVdpbmRvd1N0YXRzXCIsW10pLHRoaXMucGM9ZSx0aGlzLm9wdGlvbnM9dCx0aGlzLmludGVydmFsVGltZXI9d2luZG93LnNldEludGVydmFsKChhc3luYygpPT57dGhpcy51cGRhdGVTdGF0cygpfSksdGhpcy5vcHRpb25zLnVwZGF0ZUludGVydmFsKX1nZXRTdGF0cygpe3JldHVybiB0aGlzLnN0YXRzfWdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe3JldHVybiBuZXcgcnAoKGU9PntlKHtsb2NhbDp1Tyh7fSx6TikscmVtb3RlOnVPKHt9LHpOKX0pfSkpfXNldFZpZGVvSXNSZWFkeShlKXt0aGlzLnZpZGVvSXNSZWFkeT1lfXNldFZpZGVvSXNSZWFkeTIoZSx0KXt0aGlzLnZpZGVvSXNSZWFkeTJbZV09dH1nZXRWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMudmlkZW9Jc1JlYWR5MltlXXx8ITF9c2V0SXNGaXJzdEF1ZGlvRGVjb2RlZChlKXt9ZGVzdHJveSgpe3dpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxUaW1lciksdGhpcy5wYz12b2lkIDB9Y2FsY0xvc3NSYXRlKGUpe3RoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5wdXNoKGUpLHRoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5sZW5ndGg+dGhpcy5vcHRpb25zLmxvc3NSYXRlSW50ZXJ2YWwmJnRoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5zcGxpY2UoMCwxKTtjb25zdCB0PXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5sZW5ndGgsaT1bXCJ2aWRlb1NlbmRcIixcImF1ZGlvU2VuZFwiLFwidmlkZW9SZWN2XCIsXCJhdWRpb1JlY3ZcIl07bGV0IG49MCxyPTAsbz0wLHM9MDtmb3IoY29uc3QgYSBvZiBpKWVbYV0uZm9yRWFjaCgoKGUsaSk9PntpZighdGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzW3QtMV1bYV1baV18fCF0aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbMF1bYV1baV0pcmV0dXJuO2NvbnN0IGM9dGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzW3QtMV1bYV1baV0ucGFja2V0cy10aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbMF1bYV1baV0ucGFja2V0cyxkPXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0c1t0LTFdW2FdW2ldLnBhY2tldHNMb3N0LXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0c1swXVthXVtpXS5wYWNrZXRzTG9zdDtcInZpZGVvU2VuZFwiPT09YXx8XCJhdWRpb1NlbmRcIj09PWE/KG4rPWMsbys9ZCk6KHIrPWMscys9ZCksTnVtYmVyLmlzTmFOKGMpfHxOdW1iZXIuaXNOYU4oYyk/ZS5wYWNrZXRMb3N0UmF0ZT0wOmUucGFja2V0TG9zdFJhdGU9Yzw9MHx8ZDw9MD8wOmQvKGMrZCl9KSk7ZS5zZW5kUGFja2V0TG9zc1JhdGU9bjw9MHx8bzw9MD8wOm8vKG4rbyksZS5yZWN2UGFja2V0TG9zc1JhdGU9cjw9MHx8czw9MD8wOnMvKHIrcyl9fSxlRD1jbGFzcyBleHRlbmRzICROe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxkTyh0aGlzLFwiX3N0YXRzXCIscU4pLGRPKHRoaXMsXCJsYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzXCIsbmV3IE1hcCl9YXN5bmMgdXBkYXRlU3RhdHMoKXtjb25zdCBlPWF3YWl0IHRoaXMuX2dldFN0YXRzKCksdD10aGlzLnN0YXRzUmVzcG9uc2VzVG9PYmplY3RzKGUpO3RoaXMuX3N0YXRzPUhOKHFOKTtjb25zdCBpPXQuZmlsdGVyKChlPT5cInNzcmNcIj09PWUudHlwZSkpO3RoaXMucHJvY2Vzc1NTUkNTdGF0cyhpKTtjb25zdCBuPXQuZmluZCgoZT0+XCJWaWRlb0J3ZVwiPT09ZS50eXBlKSk7biYmdGhpcy5wcm9jZXNzQmFuZHdpZHRoU3RhdHMobiksdGhpcy5fc3RhdHMudGltZXN0YW1wPURhdGUubm93KCksdGhpcy5jYWxjTG9zc1JhdGUodGhpcy5fc3RhdHMpLHRoaXMuc3RhdHM9dGhpcy5fc3RhdHN9cHJvY2Vzc0JhbmR3aWR0aFN0YXRzKGUpe3RoaXMuX3N0YXRzLmJpdHJhdGU9e2FjdHVhbEVuY29kZWQ6TnVtYmVyKGUuZ29vZ0FjdHVhbEVuY0JpdHJhdGUpLHRhcmdldEVuY29kZWQ6TnVtYmVyKGUuZ29vZ1RhcmdldEVuY0JpdHJhdGUpLHJldHJhbnNtaXQ6TnVtYmVyKGUuZ29vZ1JldHJhbnNtaXRCaXRyYXRlKSx0cmFuc21pdDpOdW1iZXIoZS5nb29nVHJhbnNtaXRCaXRyYXRlKX0sdGhpcy5fc3RhdHMuc2VuZEJhbmR3aWR0aD1OdW1iZXIoZS5nb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aCl9cHJvY2Vzc1NTUkNTdGF0cyhlKXtlLmZvckVhY2goKGU9Pnt2YXIgdDtjb25zdCBpPUxuKHQ9ZS5pZCkuY2FsbCh0LFwic2VuZFwiKTtzd2l0Y2goXCJcIi5jb25jYXQoZS5tZWRpYVR5cGUsXCJfXCIpLmNvbmNhdChpP1wic2VuZFwiOlwicmVjdlwiKSl7Y2FzZVwidmlkZW9fc2VuZFwiOntjb25zdCB0PUhOKEpOKTt0LmNvZGVjPWUuZ29vZ0NvZGVjTmFtZSx0LmFkYXB0aW9uQ2hhbmdlUmVhc29uPVwibm9uZVwiLGUuZ29vZ0NwdUxpbWl0ZWRSZXNvbHV0aW9uJiYodC5hZGFwdGlvbkNoYW5nZVJlYXNvbj1cImNwdVwiKSxlLmdvb2dCYW5kd2lkdGhMaW1pdGVkUmVzb2x1dGlvbiYmKHQuYWRhcHRpb25DaGFuZ2VSZWFzb249XCJiYW5kd2lkdGhcIiksdC5hdmdFbmNvZGVNcz1OdW1iZXIoZS5nb29nQXZnRW5jb2RlTXMpLHQuaW5wdXRGcmFtZT17d2lkdGg6TnVtYmVyKGUuZ29vZ0ZyYW1lV2lkdGhJbnB1dCl8fE51bWJlcihlLmdvb2dGcmFtZVdpZHRoU2VudCksaGVpZ2h0Ok51bWJlcihlLmdvb2dGcmFtZUhlaWdodElucHV0KXx8TnVtYmVyKGUuZ29vZ0ZyYW1lSGVpZ2h0U2VudCksZnJhbWVSYXRlOk51bWJlcihlLmdvb2dGcmFtZVJhdGVJbnB1dCl9LHQuc2VudEZyYW1lPXt3aWR0aDpOdW1iZXIoZS5nb29nRnJhbWVXaWR0aFNlbnQpLGhlaWdodDpOdW1iZXIoZS5nb29nRnJhbWVIZWlnaHRTZW50KSxmcmFtZVJhdGU6TnVtYmVyKGUuZ29vZ0ZyYW1lUmF0ZUlucHV0KX0sdC5maXJzQ291bnQ9TnVtYmVyKGUuZ29vZ0ZpclJlY2VpdmVkKSx0Lm5hY2tzQ291bnQ9TnVtYmVyKGUuZ29vZ05hY2tzUmVjZWl2ZWQpLHQucGxpc0NvdW50PU51bWJlcihlLmdvb2dQbGlzUmVjZWl2ZWQpLHQuZnJhbWVDb3VudD1OdW1iZXIoZS5mcmFtZXNFbmNvZGVkKSx0LmJ5dGVzPU51bWJlcihlLmJ5dGVzU2VudCksdC5wYWNrZXRzPU51bWJlcihlLnBhY2tldHNTZW50KSx0LnBhY2tldHNMb3N0PU51bWJlcihlLnBhY2tldHNMb3N0KSx0LnNzcmM9TnVtYmVyKGUuc3NyYyksdC5ydHRNcz1OdW1iZXIoZS5nb29nUnR0fHwwKSx0aGlzLl9zdGF0cy52aWRlb1NlbmQucHVzaCh0KSx0aGlzLl9zdGF0cy5ydHQ9dC5ydHRNczticmVha31jYXNlXCJ2aWRlb19yZWN2XCI6e2NvbnN0IHQ9SE4oWE4pLGk9dGhpcy5sYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzLmdldChOdW1iZXIoZS5zc3JjKSk7aWYodC5jb2RlYz1lLmdvb2dDb2RlY05hbWUsdC50YXJnZXREZWxheU1zPU51bWJlcihlLmdvb2dUYXJnZXREZWxheU1zKSx0LnJlbmRlckRlbGF5TXM9TnVtYmVyKGUuZ29vZ1JlbmRlckRlbGF5TXMpLHQuY3VycmVudERlbGF5TXM9TnVtYmVyKGUuZ29vZ0N1cnJlbnREZWxheU1zKSx0Lm1pblBsYXlvdXREZWxheU1zPU51bWJlcihlLmdvb2dNaW5QbGF5b3V0RGVsYXlNcyksdC5kZWNvZGVNcz1OdW1iZXIoZS5nb29nRGVjb2RlTXMpLHQubWF4RGVjb2RlTXM9TnVtYmVyKGUuZ29vZ01heERlY29kZU1zKSx0LnJlY2VpdmVkRnJhbWU9e3dpZHRoOk51bWJlcihlLmdvb2dGcmFtZVdpZHRoUmVjZWl2ZWQpLGhlaWdodDpOdW1iZXIoZS5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZCksZnJhbWVSYXRlOk51bWJlcihlLmdvb2dGcmFtZVJhdGVSZWNlaXZlZCl9LHQuZGVjb2RlZEZyYW1lPXt3aWR0aDpOdW1iZXIoZS5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKSxoZWlnaHQ6TnVtYmVyKGUuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpLGZyYW1lUmF0ZTpOdW1iZXIoZS5nb29nRnJhbWVSYXRlRGVjb2RlZCl9LHQuZGVjb2RlRnJhbWVSYXRlPU51bWJlcihlLmdvb2dGcmFtZVJhdGVEZWNvZGVkKSx0Lm91dHB1dEZyYW1lPXt3aWR0aDpOdW1iZXIoZS5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKSxoZWlnaHQ6TnVtYmVyKGUuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpLGZyYW1lUmF0ZTpOdW1iZXIoZS5nb29nRnJhbWVSYXRlT3V0cHV0KX0sdC5qaXR0ZXJCdWZmZXJNcz1OdW1iZXIoZS5nb29nSml0dGVyQnVmZmVyTXMpLHQuZmlyc0NvdW50PU51bWJlcihlLmdvb2dGaXJzU2VudCksdC5uYWNrc0NvdW50PU51bWJlcihlLmdvb2dOYWNrc1NlbnQpLHQucGxpc0NvdW50PU51bWJlcihlLmdvb2dQbGlzU2VudCksdC5mcmFtZXNEZWNvZGVDb3VudD1OdW1iZXIoZS5mcmFtZXNEZWNvZGVkKSx0LmJ5dGVzPU51bWJlcihlLmJ5dGVzUmVjZWl2ZWQpLHQucGFja2V0cz1OdW1iZXIoZS5wYWNrZXRzUmVjZWl2ZWQpLHQucGFja2V0c0xvc3Q9TnVtYmVyKGUucGFja2V0c0xvc3QpLHQuc3NyYz1OdW1iZXIoZS5zc3JjKSx0LnBhY2tldHM+MCYmIXRoaXMuaXNGaXJzdFZpZGVvUmVjZWl2ZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQmJnRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQodC5zc3JjKSx0aGlzLmlzRmlyc3RWaWRlb1JlY2VpdmVkW3Quc3NyY109ITApLHQuZnJhbWVzRGVjb2RlQ291bnQ+MCYmIXRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdJiYodGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkJiZ0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQodC5zc3JjLHQuZGVjb2RlZEZyYW1lLndpZHRoLHQuZGVjb2RlZEZyYW1lLmhlaWdodCksdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW3Quc3NyY109ITApLGkpe2NvbnN0IG49aS5zdGF0cyxyPURhdGUubm93KCktaS5sdHM7dC5mcmFtZXNEZWNvZGVGcmVlemVUaW1lPW4uZnJhbWVzRGVjb2RlRnJlZXplVGltZSx0LmZyYW1lc0RlY29kZUludGVydmFsPW4uZnJhbWVzRGVjb2RlSW50ZXJ2YWwsdC5mcmFtZXNEZWNvZGVDb3VudD5uLmZyYW1lc0RlY29kZUNvdW50JiZ0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRbdC5zc3JjXT8oaS5sdHM9RGF0ZS5ub3coKSx0LmZyYW1lc0RlY29kZUludGVydmFsPXIsdC5mcmFtZXNEZWNvZGVJbnRlcnZhbD49dGhpcy5vcHRpb25zLmZyZWV6ZVJhdGVMaW1pdCYmKHRoaXMuZ2V0VmlkZW9Jc1JlYWR5KHBhcnNlSW50KGUuc3NyYywxMCkpP3QuZnJhbWVzRGVjb2RlRnJlZXplVGltZSs9dC5mcmFtZXNEZWNvZGVJbnRlcnZhbDp0aGlzLnNldFZpZGVvSXNSZWFkeTIocGFyc2VJbnQoZS5zc3JjLDEwKSwhMCkpKTp0LmZyYW1lc0RlY29kZUNvdW50PGkuc3RhdHMuZnJhbWVzRGVjb2RlQ291bnQmJih0LmZyYW1lc0RlY29kZUludGVydmFsPTApfXRoaXMubGFzdERlY29kZVZpZGVvUmVjZWl2ZXJTdGF0cy5zZXQodC5zc3JjLHtzdGF0czp1Tyh7fSx0KSxsdHM6RGF0ZS5ub3coKX0pLHRoaXMuX3N0YXRzLnZpZGVvUmVjdi5wdXNoKHQpO2JyZWFrfWNhc2VcImF1ZGlvX3JlY3ZcIjp7Y29uc3QgdD1ITihaTik7dC5jb2RlYz1lLmdvb2dDb2RlY05hbWUsdC5vdXRwdXRMZXZlbD1NYXRoLmFicyhOdW1iZXIoZS5hdWRpb091dHB1dExldmVsKSkvMzI3NjcsdC5kZWNvZGluZ0NORz1OdW1iZXIoZS5nb29nRGVjb2RpbmdDTkcpLHQuZGVjb2RpbmdDVE49TnVtYmVyKGUuZ29vZ0RlY29kaW5nQ1ROKSx0LmRlY29kaW5nQ1RTRz1OdW1iZXIoZS5nb29nRGVjb2RpbmdDVFNHKSx0LmRlY29kaW5nTm9ybWFsPU51bWJlcihlLmdvb2dEZWNvZGluZ05vcm1hbCksdC5kZWNvZGluZ1BMQz1OdW1iZXIoZS5nb29nRGVjb2RpbmdQTEMpLHQuZGVjb2RpbmdQTENDTkc9TnVtYmVyKGUuZ29vZ0RlY29kaW5nUExDQ05HKSx0LmV4cGFuZFJhdGU9TnVtYmVyKGUuZ29vZ0V4cGFuZFJhdGUpLHQuYWNjZWxlcmF0ZVJhdGU9TnVtYmVyKGUuZ29vZ0FjY2VsZXJhdGVSYXRlKSx0LnByZWVtcHRpdmVFeHBhbmRSYXRlPU51bWJlcihlLmdvb2dQcmVlbXB0aXZlRXhwYW5kUmF0ZSksdC5zZWNvbmRhcnlEZWNvZGVkUmF0ZT1OdW1iZXIoZS5nb29nU2Vjb25kYXJ5RGVjb2RlZFJhdGUpLHQuc3BlZWNoRXhwYW5kUmF0ZT1OdW1iZXIoZS5nb29nU3BlZWNoRXhwYW5kUmF0ZSksdC5wcmVmZXJyZWRKaXR0ZXJCdWZmZXJNcz1OdW1iZXIoZS5nb29nUHJlZmVycmVkSml0dGVyQnVmZmVyTXMpLHQuaml0dGVyQnVmZmVyTXM9TnVtYmVyKGUuZ29vZ0ppdHRlckJ1ZmZlck1zKSx0LmppdHRlck1zPU51bWJlcihlLmdvb2dKaXR0ZXJSZWNlaXZlZCksdC5ieXRlcz1OdW1iZXIoZS5ieXRlc1JlY2VpdmVkKSx0LnBhY2tldHM9TnVtYmVyKGUucGFja2V0c1JlY2VpdmVkKSx0LnBhY2tldHNMb3N0PU51bWJlcihlLnBhY2tldHNMb3N0KSx0LnNzcmM9TnVtYmVyKGUuc3NyYyksdC5yZWNlaXZlZEZyYW1lcz1OdW1iZXIoZS5nb29nRGVjb2RpbmdDVE4pfHxOdW1iZXIoZS5wYWNrZXRzUmVjZWl2ZWQpLHQuZHJvcHBlZEZyYW1lcz1OdW1iZXIoZS5nb29nRGVjb2RpbmdQTEMpK051bWJlcihlLmdvb2dEZWNvZGluZ1BMQ0NORyl8fE51bWJlcihlLnBhY2tldHNMb3N0KSx0LnJlY2VpdmVkRnJhbWVzPjAmJiF0aGlzLmlzRmlyc3RBdWRpb1JlY2VpdmVkW3Quc3NyY10mJih0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkJiZ0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9SZWNlaXZlZFt0LnNzcmNdPSEwKSx0LmRlY29kaW5nTm9ybWFsPjAmJiF0aGlzLmlzRmlyc3RBdWRpb0RlY29kZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCYmdGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9EZWNvZGVkW3Quc3NyY109ITApLHRoaXMuX3N0YXRzLmF1ZGlvUmVjdi5wdXNoKHQpO2JyZWFrfWNhc2VcImF1ZGlvX3NlbmRcIjp7Y29uc3QgdD1ITihRTik7dC5jb2RlYz1lLmdvb2dDb2RlY05hbWUsdC5pbnB1dExldmVsPU1hdGguYWJzKE51bWJlcihlLmF1ZGlvSW5wdXRMZXZlbCkpLzMyNzY3LHQuYWVjUmV0dXJuTG9zcz1OdW1iZXIoZS5nb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3N8fDApLHQuYWVjUmV0dXJuTG9zc0VuaGFuY2VtZW50PU51bWJlcihlLmdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zc0VuaGFuY2VtZW50fHwwKSx0LnJlc2lkdWFsRWNob0xpa2VsaWhvb2Q9TnVtYmVyKGUuZ29vZ1Jlc2lkdWFsRWNob0xpa2VsaWhvb2R8fDApLHQucmVzaWR1YWxFY2hvTGlrZWxpaG9vZFJlY2VudE1heD1OdW1iZXIoZS5nb29nUmVzaWR1YWxFY2hvTGlrZWxpaG9vZFJlY2VudE1heHx8MCksdC5ieXRlcz1OdW1iZXIoZS5ieXRlc1NlbnQpLHQucGFja2V0cz1OdW1iZXIoZS5wYWNrZXRzU2VudCksdC5wYWNrZXRzTG9zdD1OdW1iZXIoZS5wYWNrZXRzTG9zdCksdC5zc3JjPU51bWJlcihlLnNzcmMpLHQucnR0TXM9TnVtYmVyKGUuZ29vZ1J0dHx8MCksdGhpcy5fc3RhdHMucnR0PXQucnR0TXMsdGhpcy5fc3RhdHMuYXVkaW9TZW5kLnB1c2godCk7YnJlYWt9fX0pKX1fZ2V0U3RhdHMoKXtyZXR1cm4gbmV3IHJwKCgoZSx0KT0+e3RoaXMucGMuZ2V0U3RhdHMoZSx0KX0pKX1zdGF0c1Jlc3BvbnNlc1RvT2JqZWN0cyhlKXtjb25zdCB0PVtdO3JldHVybiBlLnJlc3VsdCgpLmZvckVhY2goKGU9Pntjb25zdCBpPXtpZDplLmlkLHRpbWVzdGFtcDplLnRpbWVzdGFtcC52YWx1ZU9mKCkudG9TdHJpbmcoKSx0eXBlOmUudHlwZX07ZS5uYW1lcygpLmZvckVhY2goKHQ9PntpW3RdPWUuc3RhdCh0KX0pKSx0LnB1c2goaSl9KSksdH19LHREPWZ1bmN0aW9uKGUpe3JldHVybiBlLkJBTkRXSURUSD1cImJhbmR3aWR0aFwiLGUuQ1BVPVwiY3B1XCIsZS5OT05FPVwibm9uZVwiLGUuT1RIRVI9XCJvdGhlclwiLGV9KHt9KSxpRD1mdW5jdGlvbihlKXtyZXR1cm4gZS5MMVQxPVwiTDFUMVwiLGUuTDFUMj1cIkwxVDJcIixlLkwxVDM9XCJMMVQzXCIsZS5MMVQzX0tFWT1cIkwxVDNfS0VZXCIsZS5MMlQxX0tFWT1cIkwyVDFfS0VZXCIsZS5MMlQyX0tFWT1cIkwyVDJfS0VZXCIsZS5MMlQzX0tFWT1cIkwyVDNfS0VZXCIsZS5MM1QxX0tFWT1cIkwzVDFfS0VZXCIsZS5MM1QyX0tFWT1cIkwzVDJfS0VZXCIsZS5MM1QzX0tFWT1cIkwzVDNfS0VZXCIsZX0oe30pLG5EPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UubmV3PTBdPVwibmV3XCIsZVtlLmNvbm5lY3Rpbmc9MV09XCJjb25uZWN0aW5nXCIsZVtlLmNvbm5lY3RlZD0yXT1cImNvbm5lY3RlZFwiLGVbZS5kaXNjb25uZWN0ZWQ9M109XCJkaXNjb25uZWN0ZWRcIixlW2UuZmFpbGVkPTRdPVwiZmFpbGVkXCIsZVtlLmNsb3NlZD01XT1cImNsb3NlZFwiLGV9KHt9KSxyRD1mdW5jdGlvbihlKXtyZXR1cm4gZS5DRVJUSUZJQ0FURT1cImNlcnRpZmljYXRlXCIsZS5DT0RFQz1cImNvZGVjXCIsZS5DQU5ESURBVEVfUEFJUj1cImNhbmRpZGF0ZS1wYWlyXCIsZS5MT0NBTF9DQU5ESURBVEU9XCJsb2NhbC1jYW5kaWRhdGVcIixlLlJFTU9URV9DQU5ESURBVEU9XCJyZW1vdGUtY2FuZGlkYXRlXCIsZS5JTkJPVU5EPVwiaW5ib3VuZC1ydHBcIixlLlRSQUNLPVwidHJhY2tcIixlLk9VVEJPVU5EPVwib3V0Ym91bmQtcnRwXCIsZS5QQz1cInBlZXItY29ubmVjdGlvblwiLGUuUkVNT1RFX0lOQk9VTkQ9XCJyZW1vdGUtaW5ib3VuZC1ydHBcIixlLlJFTU9URV9PVVRCT1VORD1cInJlbW90ZS1vdXRib3VuZC1ydHBcIixlLlRSQU5TUE9SVD1cInRyYW5zcG9ydFwiLGUuQ1NSQz1cImNzcmNcIixlLkRBVEFfQ0hBTk5FTD1cImRhdGEtY2hhbm5lbFwiLGUuU1RSRUFNPVwic3RyZWFtXCIsZS5TRU5ERVI9XCJzZW5kZXJcIixlLlJFQ0VJVkVSPVwicmVjZWl2ZXJcIixlfSh7fSk7dmFyIG9EPWZ1bmN0aW9uKGUpe3JldHVybiBlW2Uua05vbmU9MV09XCJrTm9uZVwiLGVbZS5rTWlsbGlzZWNvbmRzRnJvbVNlY29uZHM9MWUzXT1cImtNaWxsaXNlY29uZHNGcm9tU2Vjb25kc1wiLGVbZS5rQnl0ZXNUb0JpdHM9OF09XCJrQnl0ZXNUb0JpdHNcIixlfShvRHx8e30pO2Z1bmN0aW9uIHNEKGUsdCxpLG4pe2xldCByPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTpvRC5rTm9uZTtpZighdClyZXR1cm47Y29uc3Qgbz1OdW1iZXIodFtpXSk7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG8pcmV0dXJuO2NvbnN0IHM9TnVtYmVyKHRbbl0pO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBzKXJldHVybjtpZighZSlyZXR1cm4gcz9vL3Mqcjp2b2lkIDA7Y29uc3QgYT1OdW1iZXIoZVtpXSk7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGEpcmV0dXJuO2NvbnN0IGM9TnVtYmVyKGVbbl0pO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBjKXJldHVybjtjb25zdCBkPXMtYztyZXR1cm4gZD8oby1hKS9kKnI6dm9pZCAwfWxldCBhRD1jbGFzcyBleHRlbmRzICROe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxkTyh0aGlzLFwiX3N0YXRzXCIscU4pLGRPKHRoaXMsXCJyZXBvcnRcIix2b2lkIDApLGRPKHRoaXMsXCJsYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzXCIsbmV3IE1hcCksZE8odGhpcyxcImxhc3RWaWRlb0ZyYW1lc1JlY3ZcIixuZXcgTWFwKSxkTyh0aGlzLFwibGFzdFZpZGVvRnJhbWVzU2VudFwiLG5ldyBNYXApLGRPKHRoaXMsXCJsYXN0VmlkZW9GcmFtZXNEZWNvZGVcIixuZXcgTWFwKSxkTyh0aGlzLFwibGFzdFZpZGVvRnJhbWVzT3V0cHV0XCIsbmV3IE1hcCksZE8odGhpcyxcImxhc3RWaWRlb0pCRGVsYXlcIixuZXcgTWFwKSxkTyh0aGlzLFwibGFzdEF1ZGlvSkJEZWxheVwiLG5ldyBNYXApLGRPKHRoaXMsXCJtZWRpYUJ5dGVzU2VudFwiLG5ldyBNYXApLGRPKHRoaXMsXCJtZWRpYUJ5dGVzUmV0cmFuc21pdFwiLG5ldyBNYXApLGRPKHRoaXMsXCJtZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlXCIsbmV3IE1hcCksZE8odGhpcyxcImxhc3REZWNvZGVBdWRpb1JlY2VpdmVyU3RhdHNcIixuZXcgTWFwKSxkTyh0aGlzLFwibGFzdEF1ZGlvQ29uY2VhbG1lbnRcIixuZXcgTWFwKSxkTyh0aGlzLFwibGFzdEVuY29kZXJNc1wiLG5ldyBNYXApfWFzeW5jIHVwZGF0ZVN0YXRzKCl7dGhpcy5yZXBvcnQ9YXdhaXQgdGhpcy5wYy5nZXRTdGF0cygpLHRoaXMuX3N0YXRzPUhOKHFOKSx0aGlzLnJlcG9ydC5mb3JFYWNoKChlPT57c3dpdGNoKGUudHlwZSl7Y2FzZSByRC5PVVRCT1VORDpjYXNlIHJELklOQk9VTkQ6e2NvbnN0IHQ9ZS5tZWRpYVR5cGV8fGUua2luZCxpPSF0JiZcImZyYW1lV2lkdGhcImluIGUsbj0hdCYmIShcImZyYW1lV2lkdGhcImluIGUpO2UudHlwZT09PXJELk9VVEJPVU5EP1wiYXVkaW9cIj09PXR8fG4/dGhpcy5wcm9jZXNzQXVkaW9PdXRib3VuZFN0YXRzKGUpOihcInZpZGVvXCI9PT10fHxpKSYmdGhpcy5wcm9jZXNzVmlkZW9PdXRib3VuZFN0YXRzKGUpOmUudHlwZT09PXJELklOQk9VTkQmJihcImF1ZGlvXCI9PT10fHxuP3RoaXMucHJvY2Vzc0F1ZGlvSW5ib3VuZFN0YXRzKGUpOihcInZpZGVvXCI9PT10fHxpKSYmdGhpcy5wcm9jZXNzVmlkZW9JbmJvdW5kU3RhdHMoZSkpO2JyZWFrfWNhc2UgckQuVFJBTlNQT1JUOnt0aGlzLnByb2Nlc3NUcmFuc3BvcnRTdGF0cyhlKTtjb25zdCB0PXRoaXMucmVwb3J0LmdldChlLnNlbGVjdGVkQ2FuZGlkYXRlUGFpcklkKTt0JiZ0aGlzLnByb2Nlc3NDYW5kaWRhdGVQYWlyU3RhdHModCk7YnJlYWt9Y2FzZSByRC5DQU5ESURBVEVfUEFJUjplLnNlbGVjdGVkJiZ0aGlzLnByb2Nlc3NDYW5kaWRhdGVQYWlyU3RhdHMoZSl9fSkpLHRoaXMudXBkYXRlU2VuZEJpdHJhdGUoKSx0aGlzLl9zdGF0cy51cGRhdGVJbnRlcnZhbD1EYXRlLm5vdygpLXRoaXMuc3RhdHMudGltZXN0YW1wLHRoaXMuX3N0YXRzLnRpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuY2FsY0xvc3NSYXRlKHRoaXMuX3N0YXRzKSx0aGlzLnN0YXRzPXRoaXMuX3N0YXRzfWFzeW5jIGdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe2NvbnN0IGU9YXdhaXQgdGhpcy5wYy5nZXRTdGF0cygpLHQ9e2xvY2FsOnVPKHt9LHpOKSxyZW1vdGU6dU8oe30sek4pfTtyZXR1cm4gZS5mb3JFYWNoKChpPT57bGV0IG47aWYoaS50eXBlPT09ckQuVFJBTlNQT1JUJiYobj1lLmdldChpLnNlbGVjdGVkQ2FuZGlkYXRlUGFpcklkKSksaS50eXBlPT09ckQuQ0FORElEQVRFX1BBSVImJmkuc2VsZWN0ZWQmJihuPWkpLG4pe2NvbnN0IGk9KGUsdCk9PntlLnR5cGU9dC50eXBlLGUuaWQ9dC5pZCx0LmFkZHJlc3MmJihlLmFkZHJlc3M9dC5hZGRyZXNzKSx0LmNhbmRpZGF0ZVR5cGUmJihlLmNhbmRpZGF0ZVR5cGU9dC5jYW5kaWRhdGVUeXBlKSx0LnBvcnQmJihlLnBvcnQ9dC5wb3J0KSx0LnByaW9yaXR5JiYoZS5wcmlvcml0eT10LnByaW9yaXR5KSx0LnByb3RvY29sJiYoZS5wcm90b2NvbD10LnByb3RvY29sKSx0LnJlbGF5UHJvdG9jb2wmJihlLnJlbGF5UHJvdG9jb2w9dC5yZWxheVByb3RvY29sKX07aWYobi5sb2NhbENhbmRpZGF0ZUlkKXtjb25zdCByPWUuZ2V0KG4ubG9jYWxDYW5kaWRhdGVJZCk7ciYmaSh0LmxvY2FsLHIpfWlmKG4ucmVtb3RlQ2FuZGlkYXRlSWQpe2NvbnN0IHI9ZS5nZXQobi5yZW1vdGVDYW5kaWRhdGVJZCk7ciYmaSh0LnJlbW90ZSxyKX19fSkpLHR9cHJvY2Vzc0NhbmRpZGF0ZVBhaXJTdGF0cyhlKXtpZih0aGlzLl9zdGF0cy5zZW5kQmFuZHdpZHRoPWUuYXZhaWxhYmxlT3V0Z29pbmdCaXRyYXRlfHwwLGUuY3VycmVudFJvdW5kVHJpcFRpbWUmJih0aGlzLl9zdGF0cy5ydHQ9MWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpLHRoaXMuX3N0YXRzLnZpZGVvU2VuZC5mb3JFYWNoKCh0PT57ZS5jdXJyZW50Um91bmRUcmlwVGltZSYmKHQucnR0TXM9MWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpfSkpLHRoaXMuX3N0YXRzLmF1ZGlvU2VuZC5mb3JFYWNoKCh0PT57ZS5jdXJyZW50Um91bmRUcmlwVGltZSYmKHQucnR0TXM9MWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpfSkpLHRoaXMuX3N0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5pZD1lLmlkLGUubG9jYWxDYW5kaWRhdGVJZCl7Y29uc3QgdD10aGlzLnJlcG9ydC5nZXQoZS5sb2NhbENhbmRpZGF0ZUlkKTt0JiZ0aGlzLnByb2Nlc3NDYW5kaWRhdGVTdGF0cyh0KX1pZihlLnJlbW90ZUNhbmRpZGF0ZUlkKXtjb25zdCB0PXRoaXMucmVwb3J0LmdldChlLnJlbW90ZUNhbmRpZGF0ZUlkKTt0JiZ0aGlzLnByb2Nlc3NDYW5kaWRhdGVTdGF0cyh0KX19cHJvY2Vzc0NhbmRpZGF0ZVN0YXRzKGUpe2xldCB0O2UudHlwZT09PXJELkxPQ0FMX0NBTkRJREFURSYmKHQ9dGhpcy5fc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlKSxlLnR5cGU9PT1yRC5SRU1PVEVfQ0FORElEQVRFJiYodD10aGlzLl9zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIucmVtb3RlQ2FuZGlkYXRlKSx0JiYodC50eXBlPWUudHlwZSx0LmlkPWUuaWQsZS5hZGRyZXNzJiYodC5hZGRyZXNzPWUuYWRkcmVzcyksZS5jYW5kaWRhdGVUeXBlJiYodC5jYW5kaWRhdGVUeXBlPWUuY2FuZGlkYXRlVHlwZSksZS5wb3J0JiYodC5wb3J0PWUucG9ydCksZS5wcmlvcml0eSYmKHQucHJpb3JpdHk9ZS5wcmlvcml0eSksZS5wcm90b2NvbCYmKHQucHJvdG9jb2w9ZS5wcm90b2NvbCksZS5yZWxheVByb3RvY29sJiYodC5yZWxheVByb3RvY29sPWUucmVsYXlQcm90b2NvbCksZS50eXBlPT09ckQuTE9DQUxfQ0FORElEQVRFJiZ0aGlzLnN0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5sb2NhbENhbmRpZGF0ZS5pZCE9PXQuaWQmJnRoaXMub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZCYmdGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKHVPKHt9LHQpLHVPKHt9LHRoaXMuc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlKSksZS50eXBlPT09ckQuUkVNT1RFX0NBTkRJREFURSYmdGhpcy5zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIucmVtb3RlQ2FuZGlkYXRlLmlkIT09dC5pZCYmdGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZCYmdGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZCh1Tyh7fSx0KSx1Tyh7fSx0aGlzLnN0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5yZW1vdGVDYW5kaWRhdGUpKSl9cHJvY2Vzc0F1ZGlvSW5ib3VuZFN0YXRzKGUpe2xldCB0PXRoaXMuX3N0YXRzLmF1ZGlvUmVjdi5maW5kKCh0PT50LnNzcmM9PT1lLnNzcmMpKTt0fHwodD1ITihaTiksdGhpcy5fc3RhdHMuYXVkaW9SZWN2LnB1c2godCkpLHQuc3NyYz1lLnNzcmMsdC5wYWNrZXRzPWUucGFja2V0c1JlY2VpdmVkLHQucGFja2V0c0xvc3Q9ZS5wYWNrZXRzTG9zdCx0LnBhY2tldHNEaXNjYXJkZWQ9ZS5wYWNrZXRzRGlzY2FyZGVkLHQuYnl0ZXM9ZS5ieXRlc1JlY2VpdmVkLHQuaml0dGVyTXM9MWUzKmUuaml0dGVyLHQucmV0cmFuc21pdHRlZEJ5dGVzUmVjZWl2ZWQ9ZS5yZXRyYW5zbWl0dGVkQnl0ZXNSZWNlaXZlZCx0LnJldHJhbnNtaXR0ZWRQYWNrZXRzUmVjZWl2ZWQ9ZS5yZXRyYW5zbWl0dGVkUGFja2V0c1JlY2VpdmVkLHQudG90YWxQcm9jZXNzaW5nRGVsYXk9ZS50b3RhbFByb2Nlc3NpbmdEZWxheSx0LmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudD1lLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCx0LmVzdGltYXRlZFBsYXlvdXRUaW1lc3RhbXA9ZS5lc3RpbWF0ZWRQbGF5b3V0VGltZXN0YW1wO2NvbnN0IGk9dGhpcy5sYXN0RGVjb2RlQXVkaW9SZWNlaXZlclN0YXRzLmdldCh0LnNzcmMpO3QuYXZnUHJvY2Vzc2luZ0RlbGF5TXM9c0QoaSx0LFwidG90YWxQcm9jZXNzaW5nRGVsYXlcIixcImppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudFwiLG9ELmtNaWxsaXNlY29uZHNGcm9tU2Vjb25kcyksdGhpcy5wcm9jZXNzQXVkaW9UcmFja1JlY2VpdmVyU3RhdHMoZSxlLnRyYWNrSWQsdCksdGhpcy5jYWxjdWxhdGVBdWRpb0ZyZWV6ZSh0LGksZSksZS5jb2RlY0lkJiYodC5jb2RlYz10aGlzLmdldENvZGVjRnJvbUNvZGVjU3RhdHMoZS5jb2RlY0lkKSksdC5yZWNlaXZlZEZyYW1lc3x8KHQucmVjZWl2ZWRGcmFtZXM9ZS5wYWNrZXRzUmVjZWl2ZWQpLHQuZHJvcHBlZEZyYW1lc3x8KHQuZHJvcHBlZEZyYW1lcz1lLnBhY2tldHNMb3N0KSx0LnJlY2VpdmVkRnJhbWVzPjAmJiF0aGlzLmlzRmlyc3RBdWRpb1JlY2VpdmVkW3Quc3NyY10mJih0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkJiZ0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9SZWNlaXZlZFt0LnNzcmNdPSEwKSx0Lm91dHB1dExldmVsJiZ0Lm91dHB1dExldmVsPjAmJiF0aGlzLmlzRmlyc3RBdWRpb0RlY29kZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCYmdGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9EZWNvZGVkW3Quc3NyY109ITApLFwibnVtYmVyXCI9PXR5cGVvZiBlLmNvbmNlYWxlZFNhbXBsZXMmJih0LmNvbmNlYWxlZFNhbXBsZXM9ZS5jb25jZWFsZWRTYW1wbGVzKSx0aGlzLmxhc3REZWNvZGVBdWRpb1JlY2VpdmVyU3RhdHMuc2V0KHQuc3NyYyx1Tyh7fSx0KSl9Y2FsY3VsYXRlQXVkaW9GcmVlemUoZSx0LGkpe2NvbnN0IG49dGhpcy5sYXN0QXVkaW9Db25jZWFsbWVudC5nZXQoZS5zc3JjKTtpZihudWxsIT10JiZudWxsIT1uKXtjb25zdCByPW4ubHRzLG89aS50aW1lc3RhbXAscz1vLXI7aWYoczw9MClyZXR1cm47Y29uc3QgYT1lLmNvbmNlYWxlZFNhbXBsZXMtdC5jb25jZWFsZWRTYW1wbGVzLTAsYz1uLm5vblNpbGVudCthLGQ9ZS50b3RhbFNhbXBsZXNSZWNlaXZlZC10LnRvdGFsU2FtcGxlc1JlY2VpdmVkO2lmKGQ8PTApcmV0dXJuO2NvbnN0IGw9ODAqZC9zLHU9MjAwKmQvcyxoPXMvZDtsZXQgcD0wO2UuZnJlZXplU2FtcGxlczgwPXQuZnJlZXplU2FtcGxlczgwLGUuZnJlZXplTXM4MD10LmZyZWV6ZU1zODAsYz5sJiYobi5wbGM4MD4wPyhlLmZyZWV6ZVNhbXBsZXM4MCs9YSxlLmZyZWV6ZU1zODArPU1hdGgucm91bmQoYSpoKSk6KGUuZnJlZXplU2FtcGxlczgwKz1jLGUuZnJlZXplTXM4MCs9TWF0aC5yb3VuZChjKmgpKSxwPW4ucGxjODArMSk7bGV0IF89MDtlLmZyZWV6ZVNhbXBsZXMyMDA9dC5mcmVlemVTYW1wbGVzMjAwLGUuZnJlZXplTXMyMDA9dC5mcmVlemVNczIwMCxjPnUmJihuLnBsYzIwMD4wPyhlLmZyZWV6ZVNhbXBsZXMyMDArPWEsZS5mcmVlemVNczIwMCs9TWF0aC5yb3VuZChhKmgpKTooZS5mcmVlemVTYW1wbGVzMjAwKz1jLGUuZnJlZXplTXMyMDArPU1hdGgucm91bmQoYypoKSksXz1uLnBsYzIwMCsxKSx0aGlzLmxhc3RBdWRpb0NvbmNlYWxtZW50LnNldChlLnNzcmMse25vblNpbGVudDphLGx0czpvLHBsYzgwOnAscGxjMjAwOl99KX1lbHNlIGUuZnJlZXplU2FtcGxlczgwPTAsZS5mcmVlemVTYW1wbGVzMjAwPTAsZS5mcmVlemVNczgwPTAsZS5mcmVlemVNczIwMD0wLHRoaXMubGFzdEF1ZGlvQ29uY2VhbG1lbnQuc2V0KGUuc3NyYyx7bm9uU2lsZW50OjAsbHRzOmkudGltZXN0YW1wLHBsYzgwOjAscGxjMjAwOjB9KX1wcm9jZXNzVmlkZW9JbmJvdW5kU3RhdHMoZSl7bGV0IHQ9dGhpcy5fc3RhdHMudmlkZW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUuc3NyYykpO3R8fCh0PUhOKFhOKSx0aGlzLl9zdGF0cy52aWRlb1JlY3YucHVzaCh0KSksdC5zc3JjPWUuc3NyYyx0LnBhY2tldHM9ZS5wYWNrZXRzUmVjZWl2ZWQsdC5wYWNrZXRzTG9zdD1lLnBhY2tldHNMb3N0LHQuYnl0ZXM9ZS5ieXRlc1JlY2VpdmVkLHQuZmlyc0NvdW50PWUuZmlyQ291bnQsdC5uYWNrc0NvdW50PWUubmFja0NvdW50LHQucGxpc0NvdW50PWUucGxpQ291bnQsdC5mcmFtZXNEZWNvZGVDb3VudD1lLmZyYW1lc0RlY29kZWQsdC5mcmFtZXNEcm9wcGVkQ291bnQ9ZS5mcmFtZXNEcm9wcGVkLHQudG90YWxJbnRlckZyYW1lRGVsYXk9ZS50b3RhbEludGVyRnJhbWVEZWxheSx0LnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheT1lLnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheSx0LnRvdGFsRnJlZXplc0R1cmF0aW9uPWUudG90YWxGcmVlemVzRHVyYXRpb24sdC50b3RhbFByb2Nlc3NpbmdEZWxheT1lLnRvdGFsUHJvY2Vzc2luZ0RlbGF5LHQucGFja2V0c0Rpc2NhcmRlZD1lLnBhY2tldHNEaXNjYXJkZWQsdC5mcmFtZXNBc3NlbWJsZWRGcm9tTXVsdGlwbGVQYWNrZXRzPWUuZnJhbWVzQXNzZW1ibGVkRnJvbU11bHRpcGxlUGFja2V0cyx0LnRvdGFsQXNzZW1ibHlUaW1lPWUudG90YWxBc3NlbWJseVRpbWUsdC5rZXlGcmFtZXNEZWNvZGVkPWUua2V5RnJhbWVzRGVjb2RlZCx0LnJldHJhbnNtaXR0ZWRCeXRlc1JlY2VpdmVkPWUucmV0cmFuc21pdHRlZEJ5dGVzUmVjZWl2ZWQsdC5yZXRyYW5zbWl0dGVkUGFja2V0c1JlY2VpdmVkPWUucmV0cmFuc21pdHRlZFBhY2tldHNSZWNlaXZlZCx0LmVzdGltYXRlZFBsYXlvdXRUaW1lc3RhbXA9ZS5lc3RpbWF0ZWRQbGF5b3V0VGltZXN0YW1wO2NvbnN0IGk9dGhpcy5sYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzLmdldCh0LnNzcmMpLG49dGhpcy5sYXN0VmlkZW9GcmFtZXNEZWNvZGUuZ2V0KHQuc3NyYykscj10aGlzLmxhc3RWaWRlb0ZyYW1lc091dHB1dC5nZXQodC5zc3JjKSxvPURhdGUubm93KCk7aWYodC5mcmFtZXNEZWNvZGVDb3VudD4wJiYhdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW3Quc3NyY10pe2NvbnN0IGU9dC5kZWNvZGVkRnJhbWU/dC5kZWNvZGVkRnJhbWUud2lkdGg6MCxpPXQuZGVjb2RlZEZyYW1lP3QuZGVjb2RlZEZyYW1lLmhlaWdodDowO3RoaXMub25GaXJzdFZpZGVvRGVjb2RlZCYmdGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKHQuc3NyYyxlLGkpLHRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdPSEwfWlmKGkpe2NvbnN0IG49aS5zdGF0cyxyPW8taS5sdHM7dC5mcmFtZXNEZWNvZGVGcmVlemVUaW1lPW4uZnJhbWVzRGVjb2RlRnJlZXplVGltZSx0LmZyYW1lc0RlY29kZUludGVydmFsPW4uZnJhbWVzRGVjb2RlSW50ZXJ2YWwsIXRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdJiZyPnRoaXMub3B0aW9ucy5maXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQmJiF0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0W3Quc3NyY10mJih0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0JiZ0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0KHQuc3NyYyksdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkVGltZW91dFt0LnNzcmNdPSEwKSx0LmZyYW1lc0RlY29kZUNvdW50Pm4uZnJhbWVzRGVjb2RlQ291bnQmJnRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdPyhpLmx0cz1EYXRlLm5vdygpLHQuZnJhbWVzRGVjb2RlSW50ZXJ2YWw9cix0LmZyYW1lc0RlY29kZUludGVydmFsPj10aGlzLm9wdGlvbnMuZnJlZXplUmF0ZUxpbWl0JiYodGhpcy5nZXRWaWRlb0lzUmVhZHkocGFyc2VJbnQoZS5zc3JjKSk/dC5mcmFtZXNEZWNvZGVGcmVlemVUaW1lKz10LmZyYW1lc0RlY29kZUludGVydmFsOnRoaXMuc2V0VmlkZW9Jc1JlYWR5MihwYXJzZUludChlLnNzcmMsMTApLCEwKSkpOnQuZnJhbWVzRGVjb2RlQ291bnQ8bi5mcmFtZXNEZWNvZGVDb3VudCYmKHQuZnJhbWVzRGVjb2RlSW50ZXJ2YWw9MCksZS5mcmFtZXNEZWNvZGVkJiZlLnFwU3VtJiYoaS5zdGF0cy5mcmFtZXNEZWNvZGVDb3VudD5lLmZyYW1lc0RlY29kZWQ/dC5xcFN1bVBlckZyYW1lPWUucXBTdW0vZS5mcmFtZXNEZWNvZGVkOnQucXBTdW1QZXJGcmFtZT0oZS5xcFN1bS1pLnFwU3VtKS8oZS5mcmFtZXNEZWNvZGVkLWkuc3RhdHMuZnJhbWVzRGVjb2RlQ291bnQpKX1lLnRvdGFsRGVjb2RlVGltZSYmKHQuZGVjb2RlTXM9MWUzKmUudG90YWxEZWNvZGVUaW1lLHQuYXZnRGVjb2RlTXM9c0QobnVsbD09aT92b2lkIDA6aS5zdGF0cyx0LFwiZGVjb2RlTXNcIixcImZyYW1lc0RlY29kZUNvdW50XCIpKSx0LmF2Z1Byb2Nlc3NpbmdEZWxheU1zPXNEKG51bGw9PWk/dm9pZCAwOmkuc3RhdHMsdCxcInRvdGFsUHJvY2Vzc2luZ0RlbGF5XCIsXCJmcmFtZXNEZWNvZGVDb3VudFwiLG9ELmtNaWxsaXNlY29uZHNGcm9tU2Vjb25kcyksdC5hdmdGcmFtZXNBc3NlbWJsZWRGcm9tTXVsdGlwbGVQYWNrZXRzTXM9c0QobnVsbD09aT92b2lkIDA6aS5zdGF0cyx0LFwidG90YWxBc3NlbWJseVRpbWVcIixcImZyYW1lc0Fzc2VtYmxlZEZyb21NdWx0aXBsZVBhY2tldHNcIixvRC5rTWlsbGlzZWNvbmRzRnJvbVNlY29uZHMpLHQuYXZnSW50ZXJGcmFtZURlbGF5TXM9c0QobnVsbD09aT92b2lkIDA6aS5zdGF0cyx0LFwidG90YWxJbnRlckZyYW1lRGVsYXlcIixcImZyYW1lc0RlY29kZUNvdW50XCIsb0Qua01pbGxpc2Vjb25kc0Zyb21TZWNvbmRzKSxuJiZvLW4ubHRzPj04MDA/KHQuZGVjb2RlRnJhbWVSYXRlPU1hdGgucm91bmQoKHQuZnJhbWVzRGVjb2RlQ291bnQtbi5jb3VudCkvKChvLW4ubHRzKS8xZTMpKSx0aGlzLmxhc3RWaWRlb0ZyYW1lc0RlY29kZS5zZXQodC5zc3JjLHtjb3VudDp0LmZyYW1lc0RlY29kZUNvdW50LGx0czpvLHJhdGU6dC5kZWNvZGVGcmFtZVJhdGV9KSk6bj90LmRlY29kZUZyYW1lUmF0ZT1uLnJhdGU6dGhpcy5sYXN0VmlkZW9GcmFtZXNEZWNvZGUuc2V0KHQuc3NyYyx7Y291bnQ6dC5mcmFtZXNEZWNvZGVDb3VudCxsdHM6byxyYXRlOjB9KSx0LmZyYW1lc0Ryb3BwZWRDb3VudCYmZS5mcmFtZXNSZWNlaXZlZCYmKHImJm8tci5sdHM+PTgwMD8odC5vdXRwdXRGcmFtZVJhdGU9TWF0aC5yb3VuZCgoZS5mcmFtZXNSZWNlaXZlZC10LmZyYW1lc0Ryb3BwZWRDb3VudC1yLmNvdW50KS8oKG8tci5sdHMpLzFlMykpLHRoaXMubGFzdFZpZGVvRnJhbWVzT3V0cHV0LnNldCh0LnNzcmMse2NvdW50OmUuZnJhbWVzUmVjZWl2ZWQtdC5mcmFtZXNEcm9wcGVkQ291bnQsbHRzOm8scmF0ZTpNYXRoLm1heCh0Lm91dHB1dEZyYW1lUmF0ZSwwKX0pKTpyP3Qub3V0cHV0RnJhbWVSYXRlPXIucmF0ZTp0aGlzLmxhc3RWaWRlb0ZyYW1lc091dHB1dC5zZXQodC5zc3JjLHtjb3VudDplLmZyYW1lc1JlY2VpdmVkLXQuZnJhbWVzRHJvcHBlZENvdW50LGx0czpvLHJhdGU6MH0pKSx0aGlzLnByb2Nlc3NWaWRlb1RyYWNrUmVjZWl2ZXJTdGF0cyhlLGUudHJhY2tJZCx0KSxlLmNvZGVjSWQmJih0LmNvZGVjPXRoaXMuZ2V0Q29kZWNGcm9tQ29kZWNTdGF0cyhlLmNvZGVjSWQpKSxlLmZyYW1lcmF0ZU1lYW4mJih0LmZyYW1lc1JhdGVGaXJlZm94PWUuZnJhbWVyYXRlTWVhbiksdC5wYWNrZXRzPjAmJiF0aGlzLmlzRmlyc3RWaWRlb1JlY2VpdmVkW3Quc3NyY10mJih0aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkJiZ0aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0VmlkZW9SZWNlaXZlZFt0LnNzcmNdPSEwKSx0aGlzLmxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHMuc2V0KHQuc3NyYyx7c3RhdHM6dU8oe30sdCksbHRzOmk/aS5sdHM6RGF0ZS5ub3coKSxxcFN1bTplLnFwU3VtfSl9cHJvY2Vzc1ZpZGVvT3V0Ym91bmRTdGF0cyhlKXtsZXQgdD10aGlzLl9zdGF0cy52aWRlb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZS5zc3JjKSk7dHx8KHQ9SE4oSk4pLHRoaXMuX3N0YXRzLnZpZGVvU2VuZC5wdXNoKHQpKTtjb25zdCBpPXRoaXMubWVkaWFCeXRlc1NlbnQuZ2V0KGUuc3NyYyk7aWYoaSlpLmFkZChlLmJ5dGVzU2VudCk7ZWxzZXtjb25zdCB0PW5ldyBZTigxMCk7dC5hZGQoZS5ieXRlc1NlbnQpLHRoaXMubWVkaWFCeXRlc1NlbnQuc2V0KGUuc3NyYyx0KX1pZih2b2lkIDAhPT1lLnJldHJhbnNtaXR0ZWRCeXRlc1NlbnQpe2NvbnN0IHQ9dGhpcy5tZWRpYUJ5dGVzUmV0cmFuc21pdC5nZXQoZS5zc3JjKTtpZih0KXQuYWRkKGUucmV0cmFuc21pdHRlZEJ5dGVzU2VudCk7ZWxzZXtjb25zdCB0PW5ldyBZTigxMCk7dC5hZGQoZS5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50KSx0aGlzLm1lZGlhQnl0ZXNSZXRyYW5zbWl0LnNldChlLnNzcmMsdCl9fWlmKGUudG90YWxFbmNvZGVkQnl0ZXNUYXJnZXQpe2NvbnN0IHQ9dGhpcy5tZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlLmdldChlLnNzcmMpO2lmKHQpdC5hZGQoZS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCk7ZWxzZXtjb25zdCB0PW5ldyBZTigxMCk7dC5hZGQoZS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCksdGhpcy5tZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlLnNldChlLnNzcmMsdCl9fWlmKHQuc3NyYz1lLnNzcmMsdC5ieXRlcz1lLmJ5dGVzU2VudCx0LnBhY2tldHM9ZS5wYWNrZXRzU2VudCx0LmZpcnNDb3VudD1lLmZpckNvdW50LHQubmFja3NDb3VudD1lLm5hY2tDb3VudCx0LnBsaXNDb3VudD1lLnBsaUNvdW50LHQuZnJhbWVDb3VudD1lLmZyYW1lc0VuY29kZWQsdC5hZGFwdGlvbkNoYW5nZVJlYXNvbj1lLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uLHQuc2NhbGFiaWxpdHlNb2RlPWUuc2NhbGFiaWxpdHlNb2RlLHQucmV0cmFuc21pdHRlZEJ5dGVzU2VudD1lLnJldHJhbnNtaXR0ZWRCeXRlc1NlbnQsdC5yZXRyYW5zbWl0dGVkUGFja2V0c1NlbnQ9ZS5yZXRyYW5zbWl0dGVkUGFja2V0c1NlbnQsdC5odWdlRnJhbWVzU2VudD1lLmh1Z2VGcmFtZXNTZW50LHQua2V5RnJhbWVzRW5jb2RlZD1lLmtleUZyYW1lc0VuY29kZWQsdC50YXJnZXRCaXRyYXRlPWUudGFyZ2V0Qml0cmF0ZSxlLnRvdGFsRW5jb2RlVGltZSYmZS5mcmFtZXNFbmNvZGVkKXtjb25zdCBpPXRoaXMubGFzdEVuY29kZXJNcy5nZXQoZS5zc3JjKTtpZighaXx8aS5sYXN0RnJhbWVDb3VudD5lLmZyYW1lc0VuY29kZWQpdC5hdmdFbmNvZGVNcz0xZTMqZS50b3RhbEVuY29kZVRpbWUvZS5mcmFtZXNFbmNvZGVkO2Vsc2V7Y29uc3Qgbj1lLmZyYW1lc0VuY29kZWQtaS5sYXN0RnJhbWVDb3VudCxyPWUudG90YWxFbmNvZGVUaW1lLWkubGFzdEVuY29kZXJUaW1lO3QuYXZnRW5jb2RlTXM9MWUzKnIvbn19aWYoZS5mcmFtZXNFbmNvZGVkJiZlLnFwU3VtKXtjb25zdCBpPXRoaXMubGFzdEVuY29kZXJNcy5nZXQoZS5zc3JjKTshaXx8aS5sYXN0RnJhbWVDb3VudD5lLmZyYW1lc0VuY29kZWQ/dC5xcFN1bVBlckZyYW1lPWUucXBTdW0vZS5mcmFtZXNFbmNvZGVkOnQucXBTdW1QZXJGcmFtZT0oZS5xcFN1bS1pLmxhc3RRcFN1bSkvKGUuZnJhbWVzRW5jb2RlZC1pLmxhc3RGcmFtZUNvdW50KX1pZih0aGlzLmxhc3RFbmNvZGVyTXMuc2V0KGUuc3NyYyx7bGFzdEZyYW1lQ291bnQ6ZS5mcmFtZXNFbmNvZGVkLGxhc3RFbmNvZGVyVGltZTplLnRvdGFsRW5jb2RlVGltZSxsYXN0UXBTdW06ZS5xcFN1bSxsdHM6RGF0ZS5ub3coKX0pLGUuY29kZWNJZCYmKHQuY29kZWM9dGhpcy5nZXRDb2RlY0Zyb21Db2RlY1N0YXRzKGUuY29kZWNJZCkpLGUubWVkaWFTb3VyY2VJZCYmdGhpcy5wcm9jZXNzVmlkZW9NZWRpYVNvdXJjZShlLm1lZGlhU291cmNlSWQsdCksdGhpcy5wcm9jZXNzVmlkZW9UcmFja1NlbmRlclN0YXRzKGUsZS50cmFja0lkLHQpLGUucmVtb3RlSWQpdGhpcy5wcm9jZXNzUmVtb3RlSW5ib3VuZFN0YXRzKGUucmVtb3RlSWQsdCk7ZWxzZXtjb25zdCBpPXRoaXMuZmluZFJlbW90ZVN0YXRzSWQoZS5zc3JjLHJELlJFTU9URV9JTkJPVU5EKTtpJiZ0aGlzLnByb2Nlc3NSZW1vdGVJbmJvdW5kU3RhdHMoaSx0KX19cHJvY2Vzc0F1ZGlvT3V0Ym91bmRTdGF0cyhlKXtsZXQgdD10aGlzLl9zdGF0cy5hdWRpb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZS5zc3JjKSk7aWYodHx8KHQ9SE4oUU4pLHRoaXMuX3N0YXRzLmF1ZGlvU2VuZC5wdXNoKHQpKSx0LnNzcmM9ZS5zc3JjLHQucGFja2V0cz1lLnBhY2tldHNTZW50LHQuYnl0ZXM9ZS5ieXRlc1NlbnQsdC5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50PWUucmV0cmFuc21pdHRlZEJ5dGVzU2VudCx0LnJldHJhbnNtaXR0ZWRQYWNrZXRzU2VudD1lLnJldHJhbnNtaXR0ZWRQYWNrZXRzU2VudCxlLm1lZGlhU291cmNlSWQmJnRoaXMucHJvY2Vzc0F1ZGlvTWVkaWFTb3VyY2UoZS5tZWRpYVNvdXJjZUlkLHQpLGUuY29kZWNJZCYmKHQuY29kZWM9dGhpcy5nZXRDb2RlY0Zyb21Db2RlY1N0YXRzKGUuY29kZWNJZCkpLHRoaXMucHJvY2Vzc0F1ZGlvVHJhY2tTZW5kZXJTdGF0cyhlLGUudHJhY2tJZCx0KSxlLnJlbW90ZUlkKXRoaXMucHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhlLnJlbW90ZUlkLHQpO2Vsc2V7Y29uc3QgaT10aGlzLmZpbmRSZW1vdGVTdGF0c0lkKGUuc3NyYyxyRC5SRU1PVEVfSU5CT1VORCk7aSYmdGhpcy5wcm9jZXNzUmVtb3RlSW5ib3VuZFN0YXRzKGksdCl9fXByb2Nlc3NUcmFuc3BvcnRTdGF0cyhlKXt0aGlzLl9zdGF0cy50cmFuc3BvcnQuYnl0ZXNSZWNlaXZlZD1lLmJ5dGVzUmVjZWl2ZWR8fHRoaXMuX3N0YXRzLnRyYW5zcG9ydC5ieXRlc1JlY2VpdmVkLHRoaXMuX3N0YXRzLnRyYW5zcG9ydC5ieXRlc1NlbnQ9ZS5ieXRlc1NlbnR8fHRoaXMuX3N0YXRzLnRyYW5zcG9ydC5ieXRlc1NlbnQsdGhpcy5fc3RhdHMudHJhbnNwb3J0LnBhY2tldHNSZWNlaXZlZD1lLnBhY2tldHNSZWNlaXZlZHx8dGhpcy5fc3RhdHMudHJhbnNwb3J0LnBhY2tldHNSZWNlaXZlZCx0aGlzLl9zdGF0cy50cmFuc3BvcnQucGFja2V0c1NlbnQ9ZS5wYWNrZXRzU2VudHx8dGhpcy5fc3RhdHMudHJhbnNwb3J0LnBhY2tldHNTZW50fWZpbmRSZW1vdGVTdGF0c0lkKGUsdCl7dmFyIGk7Y29uc3Qgbj1BcnJheS5mcm9tKHBwKGk9dGhpcy5yZXBvcnQpLmNhbGwoaSkpLmZpbmQoKGk9PmkudHlwZT09PXQmJmkuc3NyYz09PWUpKTtyZXR1cm4gbj9uLmlkOm51bGx9cHJvY2Vzc1ZpZGVvTWVkaWFTb3VyY2UoZSx0KXtjb25zdCBpPXRoaXMucmVwb3J0LmdldChlKTtpJiZpLndpZHRoJiZpLmhlaWdodCYmaS5mcmFtZXNQZXJTZWNvbmQmJih0LmlucHV0RnJhbWU9e3dpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0LGZyYW1lUmF0ZTppLmZyYW1lc1BlclNlY29uZH0pfXByb2Nlc3NBdWRpb01lZGlhU291cmNlKGUsdCl7Y29uc3QgaT10aGlzLnJlcG9ydC5nZXQoZSk7aSYmKHQuaW5wdXRMZXZlbD1pLmF1ZGlvTGV2ZWwpfXByb2Nlc3NWaWRlb1RyYWNrU2VuZGVyU3RhdHMoZSx0LGkpe3ZhciBuLHIsbyxzO2NvbnN0IGE9dD90aGlzLnJlcG9ydC5nZXQodCk6dm9pZCAwLGM9bnVsbCE9PShuPW51bGw9PWE/dm9pZCAwOmEuZnJhbWVzU2VudCkmJnZvaWQgMCE9PW4/bjplLmZyYW1lc1NlbnQ7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGMpcmV0dXJuO2xldCBkPW51bGwhPT0ocj1udWxsPT1hP3ZvaWQgMDphLmZyYW1lV2lkdGgpJiZ2b2lkIDAhPT1yP3I6ZS5mcmFtZVdpZHRoLGw9bnVsbCE9PShvPW51bGw9PWE/dm9pZCAwOmEuZnJhbWVIZWlnaHQpJiZ2b2lkIDAhPT1vP286ZS5mcmFtZUhlaWdodCx1PW51bGwhPT0ocz1udWxsPT1hP3ZvaWQgMDphLmZyYW1lc1BlclNlY29uZCkmJnZvaWQgMCE9PXM/czplLmZyYW1lc1BlclNlY29uZDtpZihcIm51bWJlclwiPT10eXBlb2YgZCYmXCJudW1iZXJcIj09dHlwZW9mIGx8fChkPTAsbD0wKSxudWxsPT11KXtjb25zdCBlPURhdGUubm93KCksdD10aGlzLmxhc3RWaWRlb0ZyYW1lc1NlbnQuZ2V0KGkuc3NyYyk7dCYmZS10Lmx0cz49ODAwPyh1PU1hdGgucm91bmQoKGMtdC5jb3VudCkvKChlLXQubHRzKS8xZTMpKSx0aGlzLmxhc3RWaWRlb0ZyYW1lc1NlbnQuc2V0KGkuc3NyYyx7Y291bnQ6YyxsdHM6ZSxyYXRlOnV9KSk6dD91PXQucmF0ZTp0aGlzLmxhc3RWaWRlb0ZyYW1lc1NlbnQuc2V0KGkuc3NyYyx7Y291bnQ6YyxsdHM6ZSxyYXRlOjB9KX1pLnNlbnRGcmFtZT17d2lkdGg6ZCxoZWlnaHQ6bCxmcmFtZVJhdGU6TWF0aC5tYXgoMCx1KX19cHJvY2Vzc1ZpZGVvVHJhY2tSZWNlaXZlclN0YXRzKGUsdCxpKXt2YXIgbixyLG8scyxhO2NvbnN0IGM9dD90aGlzLnJlcG9ydC5nZXQodCk6dm9pZCAwLGQ9bnVsbCE9PShuPW51bGw9PWM/dm9pZCAwOmMuZnJhbWVzUmVjZWl2ZWQpJiZ2b2lkIDAhPT1uP246ZS5mcmFtZXNSZWNlaXZlZCxsPW51bGwhPT0ocj1udWxsPT1jP3ZvaWQgMDpjLmZyYW1lV2lkdGgpJiZ2b2lkIDAhPT1yP3I6ZS5mcmFtZVdpZHRoLHU9bnVsbCE9PShvPW51bGw9PWM/dm9pZCAwOmMuZnJhbWVIZWlnaHQpJiZ2b2lkIDAhPT1vP286ZS5mcmFtZUhlaWdodCxoPW51bGwhPT0ocz1udWxsPT1jP3ZvaWQgMDpjLmppdHRlckJ1ZmZlckRlbGF5KSYmdm9pZCAwIT09cz9zOmUuaml0dGVyQnVmZmVyRGVsYXkscD1udWxsIT09KGE9bnVsbD09Yz92b2lkIDA6Yy5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQpJiZ2b2lkIDAhPT1hP2E6ZS5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ7aWYoXCJudW1iZXJcIj09dHlwZW9mIGQpe2NvbnN0IGU9dGhpcy5sYXN0VmlkZW9GcmFtZXNSZWN2LmdldChpLnNzcmMpLHQ9RGF0ZS5ub3coKTtpLmZyYW1lc1JlY2VpdmVkQ291bnQ9ZDtsZXQgbj0wO2UmJnQtZS5sdHM+PTgwMD8obj1NYXRoLnJvdW5kKChkLWUuY291bnQpLygodC1lLmx0cykvMWUzKSksdGhpcy5sYXN0VmlkZW9GcmFtZXNSZWN2LnNldChpLnNzcmMse2NvdW50OmQsbHRzOnQscmF0ZTpufSkpOmU/bj1lLnJhdGU6dGhpcy5sYXN0VmlkZW9GcmFtZXNSZWN2LnNldChpLnNzcmMse2NvdW50OmQsbHRzOnQscmF0ZTowfSksaS5yZWNlaXZlZEZyYW1lPXt3aWR0aDpsfHwwLGhlaWdodDp1fHwwLGZyYW1lUmF0ZTpufHwwfSxpLmRlY29kZWRGcmFtZT17d2lkdGg6bHx8MCxoZWlnaHQ6dXx8MCxmcmFtZVJhdGU6aS5kZWNvZGVGcmFtZVJhdGV8fDB9LGkub3V0cHV0RnJhbWU9e3dpZHRoOmx8fDAsaGVpZ2h0OnV8fDAsZnJhbWVSYXRlOmkub3V0cHV0RnJhbWVSYXRlfHxpLmRlY29kZUZyYW1lUmF0ZXx8MH19aWYoaCYmcCl7Y29uc3QgZT10aGlzLmxhc3RWaWRlb0pCRGVsYXkuZ2V0KGkuc3NyYyl8fHtqaXR0ZXJCdWZmZXJEZWxheTowLGppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudDowLGppdHRlckJ1ZmZlck1zOjB9O2xldCB0PWUuaml0dGVyQnVmZmVyTXM7Y29uc3Qgbj1wLWUuaml0dGVyQnVmZmVyRW1pdHRlZENvdW50O24+MCYmKHQ9MWUzKihoLWUuaml0dGVyQnVmZmVyRGVsYXkpL24pLGkuaml0dGVyQnVmZmVyTXM9dCxpLmN1cnJlbnREZWxheU1zPU1hdGgucm91bmQodCksdGhpcy5sYXN0VmlkZW9KQkRlbGF5LnNldChpLnNzcmMse2ppdHRlckJ1ZmZlckRlbGF5Omgsaml0dGVyQnVmZmVyRW1pdHRlZENvdW50OnAsaml0dGVyQnVmZmVyTXM6aS5jdXJyZW50RGVsYXlNc30pfX1wcm9jZXNzQXVkaW9UcmFja1NlbmRlclN0YXRzKGUsdCxpKXt2YXIgbixyLG8scztjb25zdCBhPXQ/dGhpcy5yZXBvcnQuZ2V0KHQpOnZvaWQgMCxjPW51bGwhPT0obj1udWxsIT09KHI9bnVsbD09YT92b2lkIDA6YS5lY2hvUmV0dXJuTG9zcykmJnZvaWQgMCE9PXI/cjplLmVjaG9SZXR1cm5Mb3NzKSYmdm9pZCAwIT09bj9uOjAsZD1udWxsIT09KG89bnVsbCE9PShzPW51bGw9PWE/dm9pZCAwOmEuZWNob1JldHVybkxvc3NFbmhhbmNlbWVudCkmJnZvaWQgMCE9PXM/czplLmVjaG9SZXR1cm5Mb3NzRW5oYW5jZW1lbnQpJiZ2b2lkIDAhPT1vP286MDtpLmFlY1JldHVybkxvc3M9YyxpLmFlY1JldHVybkxvc3NFbmhhbmNlbWVudD1kfXByb2Nlc3NBdWRpb1RyYWNrUmVjZWl2ZXJTdGF0cyhlLHQsaSl7dmFyIG4scixvLHMsYSxjLGQsbCx1O2NvbnN0IGg9dD90aGlzLnJlcG9ydC5nZXQodCk6dm9pZCAwLHA9bnVsbCE9PShuPW51bGw9PWg/dm9pZCAwOmgucmVtb3ZlZFNhbXBsZXNGb3JBY2NlbGVyYXRpb24pJiZ2b2lkIDAhPT1uP246ZS5yZW1vdmVkU2FtcGxlc0ZvckFjY2VsZXJhdGlvbixfPW51bGwhPT0ocj1udWxsPT1oP3ZvaWQgMDpoLnRvdGFsU2FtcGxlc1JlY2VpdmVkKSYmdm9pZCAwIT09cj9yOmUudG90YWxTYW1wbGVzUmVjZWl2ZWQsRT1udWxsIT09KG89bnVsbD09aD92b2lkIDA6aC5qaXR0ZXJCdWZmZXJEZWxheSkmJnZvaWQgMCE9PW8/bzplLmppdHRlckJ1ZmZlckRlbGF5LG09bnVsbCE9PShzPW51bGw9PWg/dm9pZCAwOmguaml0dGVyQnVmZmVyRW1pdHRlZENvdW50KSYmdm9pZCAwIT09cz9zOmUuaml0dGVyQnVmZmVyRW1pdHRlZENvdW50LGY9bnVsbCE9PShhPW51bGw9PWg/dm9pZCAwOmguYXVkaW9MZXZlbCkmJnZvaWQgMCE9PWE/YTpudWxsPT1lP3ZvaWQgMDplLmF1ZGlvTGV2ZWwsUz1udWxsIT09KGM9bnVsbD09aD92b2lkIDA6aC50b3RhbFNhbXBsZXNEdXJhdGlvbikmJnZvaWQgMCE9PWM/YzpudWxsPT1lP3ZvaWQgMDplLnRvdGFsU2FtcGxlc0R1cmF0aW9uLGc9bnVsbCE9PShkPW51bGw9PWg/dm9pZCAwOmguY29uY2VhbGVkU2FtcGxlcykmJnZvaWQgMCE9PWQ/ZDplLmNvbmNlYWxlZFNhbXBsZXMsVD1udWxsIT09KGw9bnVsbD09aD92b2lkIDA6aC5zaWxlbnRDb25jZWFsZWRTYW1wbGVzKSYmdm9pZCAwIT09bD9sOmUuc2lsZW50Q29uY2VhbGVkU2FtcGxlcyxSPW51bGwhPT0odT1udWxsPT1oP3ZvaWQgMDpoLmNvbmNlYWxtZW50RXZlbnRzKSYmdm9pZCAwIT09dT91OmUuY29uY2VhbG1lbnRFdmVudHM7aWYoXCJudW1iZXJcIj09dHlwZW9mIF8mJihpLnRvdGFsU2FtcGxlc1JlY2VpdmVkPV8pLFwibnVtYmVyXCI9PXR5cGVvZiBUJiYoaS5zaWxlbnRDb25jZWFsZWRTYW1wbGVzPVQpLFwibnVtYmVyXCI9PXR5cGVvZiBSJiYoaS5jb25jZWFsbWVudEV2ZW50cz1SKSxcIm51bWJlclwiPT10eXBlb2YgZyYmKGkuY29uY2VhbGVkU2FtcGxlcz1nKSxwJiZfJiYoaS5hY2NlbGVyYXRlUmF0ZT1wL18pLEUmJm0pe2NvbnN0IGU9dGhpcy5sYXN0QXVkaW9KQkRlbGF5LmdldChpLnNzcmMpfHx7aml0dGVyQnVmZmVyRGVsYXk6MCxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6MCxqaXR0ZXJCdWZmZXJNczowfTtsZXQgdD1lLmppdHRlckJ1ZmZlck1zO2NvbnN0IG49bS1lLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudDtuPjAmJih0PTFlMyooRS1lLmppdHRlckJ1ZmZlckRlbGF5KS9uKSxpLmppdHRlckJ1ZmZlck1zPU1hdGgucm91bmQodCksdGhpcy5sYXN0QXVkaW9KQkRlbGF5LnNldChpLnNzcmMse2ppdHRlckJ1ZmZlckRlbGF5OkUsaml0dGVyQnVmZmVyRW1pdHRlZENvdW50Om0saml0dGVyQnVmZmVyTXM6aS5qaXR0ZXJCdWZmZXJNc30pfWkub3V0cHV0TGV2ZWw9ZjtsZXQgQz0xOTIwO1MmJl8mJihDPV8vUy81MCxpLnJlY2VpdmVkRnJhbWVzPU1hdGgucm91bmQoXy9DKSksZyYmKGkuZHJvcHBlZEZyYW1lcz1NYXRoLnJvdW5kKGcvQykpfXByb2Nlc3NSZW1vdGVJbmJvdW5kU3RhdHMoZSx0KXtjb25zdCBpPXRoaXMucmVwb3J0LmdldChlKTtpJiYodC5wYWNrZXRzTG9zdD1pLnBhY2tldHNMb3N0LGkucm91bmRUcmlwVGltZSYmKHQucnR0TXM9MWUzKmkucm91bmRUcmlwVGltZSksaS5qaXR0ZXImJih0LmppdHRlck1zPTFlMyppLmppdHRlciksaS50aW1lc3RhbXAmJih0LnRpbWVzdGFtcD1pLnRpbWVzdGFtcCkpfWdldENvZGVjRnJvbUNvZGVjU3RhdHMoZSl7Y29uc3QgdD10aGlzLnJlcG9ydC5nZXQoZSk7aWYoIXQpcmV0dXJuXCJcIjtjb25zdCBpPXQubWltZVR5cGUubWF0Y2goL1xcLyguKikkLyk7cmV0dXJuIGkmJmlbMV0/aVsxXTpcIlwifXVwZGF0ZVNlbmRCaXRyYXRlKCl7bGV0IGU9MCx0PW51bGwsaT1udWxsO3RoaXMubWVkaWFCeXRlc1NlbnQuZm9yRWFjaCgodD0+e2UrPXQuZGlmZk1lYW4oKX0pKSx0aGlzLm1lZGlhQnl0ZXNSZXRyYW5zbWl0LmZvckVhY2goKGU9Pnt0PW51bGw9PT10P2UuZGlmZk1lYW4oKTp0K2UuZGlmZk1lYW4oKX0pKSx0aGlzLm1lZGlhQnl0ZXNUYXJnZXRFbmNvZGUuZm9yRWFjaCgoZT0+e2k9bnVsbD09PWk/ZS5kaWZmTWVhbigpOmkrZS5kaWZmTWVhbigpfSkpO2NvbnN0IG49bnVsbCE9PXQ/ZS10OmU7dGhpcy5fc3RhdHMuYml0cmF0ZT17YWN0dWFsRW5jb2RlZDo4Km4vKHRoaXMub3B0aW9ucy51cGRhdGVJbnRlcnZhbC8xZTMpLHRyYW5zbWl0OjgqZS8odGhpcy5vcHRpb25zLnVwZGF0ZUludGVydmFsLzFlMyl9LG51bGwhPT10JiYodGhpcy5fc3RhdHMuYml0cmF0ZS5yZXRyYW5zbWl0PTgqdC8odGhpcy5vcHRpb25zLnVwZGF0ZUludGVydmFsLzFlMykpLG51bGwhPT1pJiYodGhpcy5fc3RhdHMuYml0cmF0ZS50YXJnZXRFbmNvZGVkPTgqaS8odGhpcy5vcHRpb25zLnVwZGF0ZUludGVydmFsLzFlMykpfX0sY0Q9Y2xhc3MgZXh0ZW5kcyAkTnt1cGRhdGVTdGF0cygpe3JldHVybiBycC5yZXNvbHZlKCl9fTtmdW5jdGlvbiBkRChlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MjUwLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjgsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NTAwLHI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjFlNDtjb25zdCBvPWZ1bmN0aW9uKCl7Y29uc3QgZT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2goL2Nocm9tZVxcL1tcXGRdKi9pKTtyZXR1cm4gZSYmZVswXT9OdW1iZXIoZVswXS5zcGxpdChcIi9cIilbMV0pOm51bGx9KCk7cmV0dXJuIG8/bzw3Nj9uZXcgZUQoZSx7dXBkYXRlSW50ZXJ2YWw6dCxsb3NzUmF0ZUludGVydmFsOmksZnJlZXplUmF0ZUxpbWl0Om4sZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KTpuZXcgYUQoZSx7dXBkYXRlSW50ZXJ2YWw6dCxsb3NzUmF0ZUludGVydmFsOmksZnJlZXplUmF0ZUxpbWl0Om4sZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KTpmdW5jdGlvbihlKXtpZighd2luZG93LlJUQ1N0YXRzUmVwb3J0KXJldHVybiExO2NvbnN0IHQ9ZS5nZXRTdGF0cygpO3JldHVybiEhKHQgaW5zdGFuY2VvZiBycHx8ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYoXCJvYmplY3RcIj09dHlwZW9mIGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRoZW59KHQpKX0oZSk/bmV3IGFEKGUse3VwZGF0ZUludGVydmFsOnQsbG9zc1JhdGVJbnRlcnZhbDppLGZyZWV6ZVJhdGVMaW1pdDpuLGZpcnN0VmlkZW9EZWNvZGVkVGltZW91dDpyfSk6bmV3IGNEKGUse3VwZGF0ZUludGVydmFsOnQsbG9zc1JhdGVJbnRlcnZhbDppLGZyZWV6ZVJhdGVMaW1pdDpuLGZpcnN0VmlkZW9EZWNvZGVkVGltZW91dDpyfSl9Y29uc3QgbEQ9XCJ3ZWJzZGtfbmdfaW5zdGFsbF9pZFwiO2Z1bmN0aW9uIHVEKCl7dHJ5e2lmKENEKFwiSU5TVEFMTF9JRFwiKSlyZXR1cm4gQ0QoXCJJTlNUQUxMX0lEXCIpO2xldCBlPXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShsRCk7cmV0dXJuIGV8fChlPWdOKCksd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGxELGUpKSxSRChcIklOU1RBTExfSURcIixlKSxlfWNhdGNoKGUpe3JldHVybn19Y29uc3QgaEQ9ZnVuY3Rpb24oZSl7aWYoZS5tYXRjaCgvWzAtOV0rXFwuWzAtOV0rXFwuWzAtOV0rJC8pKXJldHVybiBlO2NvbnN0IHQ9ZS5tYXRjaCgvKFswLTldK1xcLlswLTldK1xcLlswLTldKylcXC0oWzAtOV0rKS8pO2lmKHQmJnRbMV0mJnRbMl0pe2NvbnN0IGU9dFsxXSxpPXRbMl07cmV0dXJuXCJcIi5jb25jYXQoZSxcIi5cIikuY29uY2F0KGkpfXJldHVyblwiNC4wLjAuOTk5XCJ9KFwiNC4yNC4xXCIpLHBEPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiEwPT09SlNPTi5wYXJzZShcInRydWVcIil9Y2F0Y2goZSl7cmV0dXJuITB9fSgpO2xldCBfRD1mdW5jdGlvbihlKXtyZXR1cm4gZS5EZWZhdWx0PVwiZGVmYXVsdFwiLGUuQXV0bz1cImF1dG9cIixlLlJlbGF5PVwicmVsYXlcIixlLlNkUnRuPVwic2QtcnRuXCIsZX0oe30pO2NvbnN0IEVEPWZ1bmN0aW9uKCl7Y29uc3QgZT1cInVzXCIuY29uY2F0KFwiZXJuYVwiLFwibWVcIiksdD1cInBhXCIuY29uY2F0KFwic3N3b1wiLFwicmRcIiksaT1bXCJ0XCIsXCJzXCIsXCJ0XCJdO2kuc3BsaWNlKDEsMCxcImVcIik7Y29uc3Qgbj1pLmpvaW4oXCJcIikscj1bXTtmb3IobGV0IGU9MDtlPDY7ZSsrKXIucHVzaChcIjFcIik7Y29uc3Qgbz1yLmpvaW4oXCJcIikscz17fTtyZXR1cm4gc1tlXT1uLHNbdF09byxPYmplY3QuYXNzaWduKHMse3R1cm5TZXJ2ZXJVUkw6XCJcIix0Y3Bwb3J0OjM0MzMsdWRwcG9ydDozNDc4LGZvcmNldHVybjohMX0pfSgpO3dpbmRvdy5ERUZBVUxUX1RVUk5fQ09ORklHPUVEO2NvbnN0IG1EPXtFTkFCTEVfUFVCTElTSEVEX1VTRVJfTElTVDohMCxNQVhfU1VCU0NSSVBUSU9OOjUwLFNVQlNDUklCRV9BVURJT19GSUxURVJfVE9QTjp2b2lkIDAsRU5BQkxFX1BVQkxJU0hfQVVESU9fRklMVEVSOnZvaWQgMCxFTkFCTEVfVVNFUl9MSUNFTlNFX0NIRUNLOiEwLERJU0FCTEVfRkVDOnZvaWQgMCxFTkFCTEVfTlRQX1JFUE9SVDohMSxFTkFCTEVfSU5TVEFOVF9WSURFTzohMSxFTkFCTEVfVVNFUl9BVVRPX1JFQkFMQU5DRV9DSEVDSzohMCxFTkFCTEVfTE9TU0JBU0VEX0JXRTohMCxFTkFCTEVfQVVUX0NDOiEwLEZPUkNFX0VOQUJMRV9BVVRfQ0M6ITEsRU5BQkxFX0NDX0ZBTExCQUNLOnZvaWQgMCxTVUJTQ1JJQkVfVFdDQzohMCxQVUJMSVNIX1RXQ0M6ITEsRU5BQkxFX1NWQ19ERUZBVUxUX0NPREVDUzpbXCJIMjY0XCIsXCJWUDhcIixcIlZQOVwiLFwiQVYxXCJdLFNWQzpbXSxFTkFCTEVfRlVMTF9MSU5LX0FWX1NZTkM6ITEsU1ZDX01PREU6bnVsbCxQUkVfU1VCX05VTToxLEVOQUJMRV9BVVRfRkVFREJBQ0s6ITAsU1ZDX0VYVEVOREVEOltcIlZQOVwiXX0sZkQ9e01JTl9GUkFNRV9SQVRFOjEsTUFYX0ZSQU1FX1JBVEU6MzAsTUFYX1RIUkVTSE9MRF9GUkFNRVJBVEU6MzAsQklUUkFURV9NSU5fVEhSRVNIT0xEOjEwMCxCSVRSQVRFX01BWF9USFJFU0hPTEQ6MTAwLE1BWF9TQ0FMRTo1LEJXRV9TQ0FMRV9VUF9USFJFU0hPTEQ6LjYsQldFX1NDQUxFX0RPV05fVEhSRVNIT0xEOi42LFBFUkZfU0NBTEVfVVBfVEhSRVNIT0xEOi43LFBFUkZfU0NBTEVfRE9XTl9USFJFU0hPTEQ6LjYsTU9USU9OX1JFU09MVVRJT05fRkFDVE9SOi44LE1PVElPTl9CSVRSQVRFX0ZBQ1RPUjouNixERVRBSUxfRlJBTUVSQVRFX0ZBQ1RPUjouOCxERVRBSUxfQklUUkFURV9GQUNUT1I6LjYsQkFMQU5DRV9SRVNPTFVUSU9OX0ZBQ1RPUjouOSxCQUxBTkNFX0ZSQU1FUkFURV9GQUNUT1I6LjksQkFMQU5DRV9CSVRSQVRFX0ZBQ1RPUjouNixPVkVSVVNFX1RJTUVTX1RIUkVTSE9MRDoxMCxVTkRFUlVTRV9USU1FU19USFJFU0hPTEQ6NDB9LFNEPVwidjQuMjQuMS0wLWcyY2ZmN2M2Yy1kaXJ0eSgxMS8xOC8yMDI1LCA1OjQwOjQ3IFBNKVwiLGdEPXtFTkFCTEVfRVZFTlRfUkVQT1JUOiEwLFVQTE9BRF9MT0c6ITEsRU5BQkxFX0FHX0FEQVBUQVRJT046ITAsRk9SQ0VfQUdfSElHSF9GUkFNRVJBVEU6ITEsRk9SQ0VfU1VQUE9SVF9BR19BREFQVEFUSU9OOiExLEVOQ09ERVJfQ09ORklHX0xJTUlUOnt9LENBTUVSQV9DQVBUVVJFX0NPTkZJRzp2b2lkIDAsRU5BQkxFX1BSRUxPQUQ6ITAsTkVXX0lDRV9SRVNUQVJUOiEwLElDRV9SRVNUQVJUX0lOVEVSVkFMOjFlNCxSRVNUQVJUX1NFUVVFTkNFOltcInVkcF90Y3BfcmVsYXlcIixcInJlbGF5XCJdLEZJUlNUX1RDUF9DQU5ESURBVEU6ITEsRklSU1RfVENQX0NBTkRJREFURV9JTlRFUlZBTDoxZTMsVFVSTl9ET01BSU46XCJlZGdlLmFnb3JhLmlvXCIsVFVSTl9ET01BSU5TOltcImVkZ2UuYWdvcmEuaW9cIl0sVVNFX1RVUk5fSVA6ITAsTkVXX1RVUk5fTU9ERTo0LE5FV19GT1JDRV9UVVJOOiExLFVTRV9ORVdfUkVOREVSX0ZSRUVaRV9USU1FOiExLEZMU19GQUxMQkFDS19USU1FT1VUOjNlNCxSVEVfREVUQUlMX1JFUE9SVF9JTlRFUlZBTDo2ZTQsRU5DT0RFX0VYQ0VQVElPTl9USU1FUzo1LEVOQUJMRV9FTkNPREVfRVhDRVBUSU9OOiEwLEVOQ09ERV9FWENFUFRJT05fVkFMSURBVEVfQ09ERUM6W1wiaDI2NFwiXSxWSURFT19FTkNPREVSX0NPTkZJR19MSVNUOlt7d2lkdGg6MjQwLGhlaWdodDoxODB9LHt3aWR0aDozMjAsaGVpZ2h0OjI0MH0se3dpZHRoOjQwMCxoZWlnaHQ6MzAwfSx7d2lkdGg6NDgwLGhlaWdodDozNjB9LHt3aWR0aDo1NjAsaGVpZ2h0OjQyMH0se3dpZHRoOjY0MCxoZWlnaHQ6NDgwfV0sREVMRVRFX05FUV9BRlRFUl9VU0VSX0xFQVZFOiEwLFVQREFURV9SVFBfQ0FQX0lOX0hPU1Q6ITEsSU9TX0JHX1RBRzohMCxJT1NfQVVUT19SRVNUQVJUX0JHX1RBRzohMCxJR05PUkVfVUlEX0NIRUNLOiExLEVOQUJMRV9VUF9TUFNfUFBTOiExLEVOQUJMRV9ET1dOX1NQU19QUFM6ITEsTk9fRURHRVNfUkVUUlk6ITAsQlVGRkVSX1JFQURZX0ZSQU1FUzozLEZMU19TWU5DX0FWX1BMQVlfTElNSVQ6MCxGTFNfQlVGRkVSX1dBSVRfVElNRToxNTAwLFZPU19DT05GSUdVUkU6dm9pZCAwLEVOQUJMRV9RVUFMSVRZX0ZBTExCQUNLOiExLFFVQUxJVFlfRkFMTEJBQ0tfUkVIRUFSU0FMOiEwLEVOQUJMRV9GTFNfQVYxX0ZJUlNUOiExLEVOQUJMRV9BUF9NVUxUSV9JUDohMCxGTFNfRU5BQkxFX0FWMV9ERVRFQ1Q6ITAsRkxTX0VOQUJMRV9BVjFfREVDT0RFX0RFVEVDVDohMH0sVEQ9dU8odU8odU8odU8oe30sZ0QpLHt9LHtQUk9DRVNTX0lEOlwiXCIsRU5DUllQVF9BRVM6ITAsQVJFQVM6W1wiQ0hJTkFcIixcIkdMT0JBTFwiXSxXRUJDU19ET01BSU46W1wid2VicnRjMi1hcC13ZWItMS5hZ29yYS5pb1wiLFwid2VicnRjMi0yLmFwLnNkLXJ0bi5jb21cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcIndlYnJ0YzItYXAtd2ViLTMuYWdvcmEuaW9cIixcIndlYnJ0YzItNC5hcC5zZC1ydG4uY29tXCJdLFBST1hZX0NTOltcImFwLXByb3h5LTEuYWdvcmEuaW9cIixcImFwLXByb3h5LTIuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItMS5hZ29yYS5pb1wiLFwiY2RzLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcImNkcy1hcC13ZWItMy5hZ29yYS5pb1wiLFwiY2RzLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLTEuYWdvcmEuaW9cIixcInN1YS13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJzdWEtYXAtd2ViLTMuYWdvcmEuaW9cIixcInN1YS13ZWItNC5hcC5zZC1ydG4uY29tXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLTEuYWdvcmEuaW9cIixcInVhcC13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJ1YXAtYXAtd2ViLTMuYWdvcmEuaW9cIixcInVhcC13ZWItNC5hcC5zZC1ydG4uY29tXCJdLExPR19VUExPQURfU0VSVkVSOlwibG9nc2VydmljZS5hZ29yYS5pb1wiLEVWRU5UX1JFUE9SVF9ET01BSU46XCJzdGF0c2NvbGxlY3Rvci0xLmFnb3JhLmlvXCIsRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46XCJ3ZWItMi5zdGF0c2NvbGxlY3Rvci5zZC1ydG4uY29tXCIsR0FURVdBWV9BRERSRVNTOltdLEdBVEVXQVlfV1NTX0FERFJFU1M6XCJcIixMSVZFX1NUUkVBTUlOR19BRERSRVNTOlwiXCIsSFRUUF9DT05ORUNUX1RJTUVPVVQ6NWUzLFNJR05BTF9SRVFVRVNUX1RJTUVPVVQ6MWU0LFJFUE9SVF9TVEFUUzohMCxOT1RfUkVQT1JUX0VWRU5UOltdLFBJTkdfUE9OR19USU1FX09VVDoxMCxXRUJTT0NLRVRfVElNRU9VVF9NSU46MWU0LEVWRU5UX1JFUE9SVF9TRU5EX0lOVEVSVkFMOjNlMyxDT05GSUdfRElTVFJJQlVURV9JTlRFUlZBTDozZTUsRU5BQkxFX0NPTkZJR19ESVNUUklCVVRFOiEwLENBTkRJREFURV9USU1FT1VUOjVlMyxTSE9XX1JFUE9SVF9JTlZPS0VSX0xPRzohMSxTSE9XX1JFUE9SVF9VU0VSX0lOVk9LRVJfTE9HOiEwLEpPSU5fRVhURU5EOlwiXCIsUFVCX0VYVEVORDpcIlwiLFNVQl9FWFRFTkQ6XCJcIixGT1JDRV9UVVJOOiExLFRVUk5fRU5BQkxFX1RDUDohMCxUVVJOX0VOQUJMRV9VRFA6ITAsTUFYX1VQTE9BRF9DQUNIRTo1MCxVUExPQURfQ0FDSEVfSU5URVJWQUw6MmUzLEFKQVhfUkVRVUVTVF9DT05DVVJSRU5UOjMsUkVQT1JUX0FQUF9TQ0VOQVJJTzp2b2lkIDAsR0FURVdBWV9ET01BSU5TOltcImVkZ2UuYWdvcmEuaW9cIixcImVkZ2Uuc2QtcnRuLmNvbVwiXSxDT05ORUNUX0dBVEVXQVlfV0lUSE9VVF9ET01BSU46ITEsV09SS0VSX0RPTUFJTjpcImVkZ2UuYWdvcmEuaW9cIixFVkVOVF9SRVBPUlRfUkVUUlk6ITAsQ0hST01FX0ZPUkNFX1BMQU5fQjohMSxBVURJT19TT1VSQ0VfVk9MVU1FX1VQREFURV9JTlRFUlZBTDo0MDAsQVVESU9fU09VUkNFX0FWR19WT0xVTUVfRFVSQVRJT046M2UzLEFVRElPX1ZPTFVNRV9JTkRJQ0FUSU9OX0lOVEVSVkFMOjJlMyxWT0xVTUVfVk9JQ0VfV0VJR0hUOjEwLEdFVF9WT0xVTUVfT0ZfTVVURURfQVVESU9fVFJBQ0s6ITEsU1RBVFNfVVBEQVRFX0lOVEVSVkFMOjI1MCxOT1JNQUxfRVZFTlRfUVVFVUVfQ0FQQUNJVFk6MTAwLENVU1RPTV9SRVBPUlQ6ITAsQ1VTVE9NX1JFUE9SVF9MSU1JVDoyMCxQUk9YWV9TRVJWRVJfVFlQRTI6XCJ3ZWJuZ2lueC1wcm94eS5hZ29yYS5pb1wiLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJ3ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiLFwid2VicnRjLWNsb3VkLXByb3h5LmFnb3JhLmlvXCJdLENVU1RPTV9QVUJfQU5TV0VSX01PRElGSUVSOm51bGwsQ1VTVE9NX1NVQl9BTlNXRVJfTU9ESUZJRVI6bnVsbCxDVVNUT01fUFVCX09GRkVSX01PRElGSUVSOm51bGwsQ1VTVE9NX1NVQl9PRkZFUl9NT0RJRklFUjpudWxsLERTQ1BfVFlQRTpcImhpZ2hcIixSRU1PVkVfTkVXX0NPREVDUzohMCxGUkFHRU1FTlRfTEVOR1RIOjMsV0VCU09DS0VUX0NPTVBSRVNTOiExLFNJTVVMQ0FTVDohMSxDSEVDS19WSURFT19WSVNJQkxFX0lOVEVSVkFMOjNlNCxDSEVDS19MT0NBTF9TVEFUU19JTlRFUlZBTDoyNTAsUFJPRklMRV9TV0lUQ0hfSU5URVJWQUw6MmUzLFVOU1VQUE9SVEVEX1ZJREVPX0NPREVDOltdLEVOVU1FUkFURV9ERVZJQ0VTX0lOVEVSVkFMOiExLEVOVU1FUkFURV9ERVZJQ0VTX0lOVEVSVkFMX1RJTUU6MWU0LFVTRV9ORVdfVE9LRU46ITEsQ0xPU0VfQUZCX0ZPUl9MT0NBTF9BUDohMCxKT0lOX01BWF9DT05DVVJSRU5DWTo2LEpPSU5fV0lUSF9GQUxMQkFDS19TSUdOQUxfUFJPWFk6ITAsSk9JTl9XSVRIX0ZBTExCQUNLX01FRElBX1BST1hZOiEwLEpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWV9GT1JDRTohMSxKT0lOX0dBVEVXQVlfVFJZXzQ0M1BPUlRfRFVSQVRJT046MmUzLEpPSU5fR0FURVdBWV9VU0VfNDQzUE9SVF9PTkxZOiExLEpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU46ITAsSk9JTl9HQVRFV0FZX0ZBTExCQUNLX1BPUlQ6NDQzLFVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZOiExLEgyNjRfUFJPRklMRV9MRVZFTF9JRDpcIlwiLFVTRV9ORVdfTE9HOiExLExPR19WRVJTSU9OOjMsTUVESUFfREVWSUNFX0NPTlNUUkFJTlRTOm51bGwsRU5DUllQVF9QUk9YWV9VU0VSTkFNRV9BTkRfUFNXOiEwLFNEUF9MT0dHSU5HOiExLENTUF9ERVRFQ1RFRF9IT1NUTkFNRV9MSVNUOltcImFnb3JhLmlvXCIsXCJzZC1ydG4uY29tXCJdLFJFTU9URV9BVURJT19UUkFDS19VU0VTX1dFQl9BVURJTzohMSxMT0NBTF9BVURJT19UUkFDS19VU0VTX1dFQl9BVURJTzohMSxCSVRSQVRFX0FEQVBURVJfVFlQRTpcIlNUQU5EQVJEX0JJVFJBVEVcIixBSV9ERU5PSVNFUl9QQVJBTUVURVJTOntleGNsdWRlZExpbmtzOltdfSxBREpVU1RfM0FfRlJPTV9QTFVHSU5TOiEwLFJBSVNFX0gyNjRfQkFTRUxJTkVfUFJJT1JJVFk6ITAsRklMVEVSX1NFTkRfSDI2NF9CQVNFTElORTohMSxGSVJTVF9IMjY0X1BST0ZJTEVfTEVWRUxfSUQ6XCI0MjAwMWZcIixGSVJTVF9QQUNLRVRJWkFUSU9OX01PREU6XCJcIixYX0dPT0dMRV9TVEFSVF9CSVRSQVRFOnZvaWQgMCxORVdfUkVQT1JUX1NFUlZFUjohMSxORVdfUkVQT1JUX1NFUlZFUl9ET01BSU5TOltcImRhdGEtcmVwb3J0aW5nLmFnb3JhLmlvXCIsXCJkYXRhLXJlcG9ydGluZy5hZ29yYS5pb1wiXSxWSURFT19JTlNQRUNUX1dPUktFUl9NRVNTQUdFX0xFTkdUSF9MSU1JVDozZTUsVklERU9fSU5TUEVDVF9JTlRFUlZBTF9NSU5JTVVNOjFlMyxWSURFT19JTlNQRUNUX1FVQUxJVFlfUkFUSU86LjksVklERU9fSU5TUEVDVF9XT1JLRVJfTUFOQUdFUl9IT1NUOlwiZWRnZS5hZ29yYS5pb1wiLFZJREVPX0lOU1BFQ1RfV09SS0VSX01BTkFHRVJfUE9SVDpcIlwiLFZJREVPX0lOU1BFQ1RfV09SS0VSX01BTkFHRVJfV1NTOlwiXCIsVklERU9fSU5TUEVDVF9XT1JLRVJfUE9SVDpcIlwiLFNIT1dfVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRTohMSxTVEFUU19DT0xMRUNUT1JfUE9SVDo0NDMsRk9SQ0VfVFVSTl9UQ1A6ITEsV0VCQVVESU9fSU5JVF9PUFRJT05TOnZvaWQgMCxGSUxURVJfVklERU9fRkVDOiEwLEZJTFRFUl9BVURJT19GRUM6ITEsQ0hST01FX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElORzohMCxESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElORzohMSxFWFRFTlNJT05fVVNBR0VfVVBMT0FEX0lOVEVSVkFMOjFlNCxJQ0VfUkVTVEFSVDohMCxGSU5HRVJQUklOVDpudWxsLEVOQUJMRV9WSURFT19GUkFNRV9DQUxMQkFDSzohMCxWSURFT19GUkVFWkVfRFVSQVRJT046NTAwLFNQQVRJQUxJWkVSX1BBUkFNRVRFUlM6e30sVVBMT0FEX0xPR19JTlRFUlZBTDozZTMsVVBMT0FEX0xPR19SRVFVRVNUX1JFVFJZX0lOVEVSVkFMOjJlMyxVUExPQURfTE9HX1JFUVVFU1RfTUFYX1JFVFJZX0lOVEVSVkFMOjJlNCxVUExPQURfTE9HX1RSWV9JTlRFUlZBTF9XSElMRV9PRkY6NWUzLFVQTE9BRF9MT0dfUkVUUllfSU5URVJWQUxfVjE6MWU0LFVQTE9BRF9MT0dfVFdJQ0VfUkVUUllfSU5URVJWQUxfVjE6MjAwLFVQTE9BRF9MT0dfTEVOR1RIX0VBQ0hfVElNRToxMCxBUFBfVFlQRTowLERJU0FCTEVfV0VCQVVESU86ITEsQ0hBTk5FTF9NRURJQV9SRUxBWV9TRVJWRVJTOnZvaWQgMCxLRUVQX0xBU1RfRlJBTUU6ITAsRk9SV0FSRF9QMlBfQ1JFQVRJT046ITAsU1lOQ19HUk9VUDohMCxCTE9DS19MT0NBTF9DTElFTlQ6ITEsRU5BQkxFX0FVRElPX1RPUE46ITEsRU5BQkxFX0FVRElPX01FVEFEQVRBOiExLEVOQUJMRV9BVURJT19QVFM6ITEsVE9QTl9TTU9PVEhfTEVWRUw6dm9pZCAwLFRPUE5fTkVXX1NQRUFLRVJfREVMQVk6dm9pZCAwLFRPUE5fU1dJVENIX0hPTERfTVM6dm9pZCAwLFRPUE5fQVVESU9fR0FJTjp2b2lkIDAsVE9QTl9TSUxFTkNFX1RIUkVTSE9MRDoyNTAsQVBfQVJFQTohMCxFTkFCTEVfRU5DT0RFRF9UUkFOU0ZPUk06ITEsRU5BQkxFX1ZJREVPX1NFSTohMSxJTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9IT1NUOlwiZWRnZS5hZ29yYS5pb1wiLElNQUdFX01PREVSQVRJT05fV09SS0VSX1dTUzpcIlwiLElNQUdFX01PREVSQVRJT05fV09SS0VSX01FU1NBR0VfTEVOR1RIX0xJTUlUOjNlNSxJTUFHRV9NT0RFUkFUSU9OX0lOVEVSVkFMX01JTklNVU06MWUzLFNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRTohMSxJTUFHRV9NT0RFUkFUSU9OX1FVQUxJVFlfUkFUSU86LjksSU1BR0VfTU9ERVJBVElPTl9VUExPQURfUkVQT1JUX0lOVEVSVkFMOjVlMyxTSE9XX0dMT0JBTF9DTElFTlRfTElTVDohMSxEQVRBU1RSRUFNX01BWF9SRVRSQU5TTUlUUzoxMCxUQ1BfQ0FORElEQVRFX09OTFk6ITEsRVhURVJOQUxfU0lHTkFMX1JFUVVFU1RfVElNRU9VVDozZTMsU0hPV19QMlBfTE9HOiExLE1BWF9QMlBfVElNRU9VVDozZTQsUDJQX1RPS0VOX0lOVEVSVkFMOjFlMyxTSE9XX0RBVEFTVFJFQU0yX0xPRzohMSxSRVNUUklDVElPTl9TRVRfUExBWUJBQ0tfREVWSUNFOiEwLFVTRV9QVVJFX0VOQ1JZUFRJT05fTUFTVEVSX0tFWTohMSxFTkFCTEVfQVVESU9fUkVEOiExLE9QVVNfUFRJTUU6dm9pZCAwLEFVRElPX0RVUExJQ0FURV9OVU06dm9pZCAwLEVOQUJMRV9BQlNTRU5EVElNRV9BU19TRU5UVFM6ITAsQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9USU1FT1VUOjEsQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9SQVRJTzoyLEFDQ09VTlRfUkVHSVNURVJfUkVUUllfVElNRU9VVF9NQVg6NmU0LEFDQ09VTlRfUkVHSVNURVJfUkVUUllfQ09VTlRfTUFYOjFlNSxBVURJT19DT05URVhUOm51bGwsV0VCQ1NfQkFDS1VQX0NPTk5FQ1RfVElNRU9VVDo2ZTMsUExBWUVSX1NUQVRFX0RFRkVSOjJlMyxTSUdOQUxfUkVRVUVTVF9XQVRDSF9JTlRFUlZBTDoxZTMsRklMRVBBVEhfTEVOTUFYOjI1NSxEVUFMU1RSRUFNX09QRVJBVElPTl9DSEVDSzohMCxNRURJQV9FTEVNRU5UX0VYSVNUU19ERVBUSDozLFNISU1fQ0FORElEQVRFOiExLExFQVZFX01TR19USU1FT1VUOjJlMyxTVEFUU19GSUxURVI6e3RyYW5zcG9ydElkOiEwLGdvb2dUcmFja0lkOiEwfSxGSUxURVJfVklERU9fQ09ERUM6W10sU0lHTkFMX0NIQU5ORUw6MCxUUkFOU01JVFRFUl9JTklUSUFMX1JUVDozMCxUUkFOU01JVFRFUl9JTklUSUFMX1JUTzozMCxUUkFOU01JVFRFUl9NQVhfQkFUQ0hfQUNLX0NPVU5UOjIsVFJBTlNNSVRURVJfTUFYX1JUTzo1MDAsREFUQUNIQU5ORUxfQ09NUFJFU1M6ITEsRENfSk9JTl9XSVRIX0ZBSUxCQUNLOjRlMyxEQ19DT05ORUNUSU9OX1RJTUVPVVQ6MmUzLERDX1BJTkdQT05HX0lOVEVSVkFMOjJlMyxEQ19ERUJVR19MT0c6ITEsVU5TVVBQT1JURURfVklERU9fVVBMSU5LX0NPREVDOltdLFVOU1VQUE9SVEVEX1ZJREVPX0RPV05MSU5LX0NPREVDOltdLFVTRV9ORVdfTkVUV09SS19DT05GSUc6ITEsQVVUT19SRVNFVF9BVURJT19ST1VURTohMSxQTFVHSU5fSU5GTzpbXSxPVkVSVVNFX0RFVEVDVE9SX1BBUkFNUzpmRCxDVVNUT01fQURBUFRBVElPTl9ERUZBVUxUX01PREU6XCJcIixISURFX05PX1BPU1RFUjohMSxBUF9DQUNIRV9OVU06MTAsQVBfVVBEQVRFX0lOVEVSVkFMOjEyZTQsQVBfQ0FDSEVfTElGRVRJTUU6MTJlNCxNQVhfUFJFTE9BRF9BU1lOQ19MRU5HVEg6MyxESVNBQkxFX1NDUkVFTl9TSEFSRV9SRU1COiExfSxtRCkse30se1VTRV9DQU5ESURBVEVfRlJPTV9BUF9ERVRBSUw6ITEsQVBfUkVRVUVTVF9ERVRBSUw6dm9pZCAwLEVOQUJMRV9ST0xFX1NFTEVDVF9FREdFOiExLENMSUVOVF9ST0xFX09QVElPTlM6dm9pZCAwLFJFTU9URV9WSURFT19TVFJFQU1fVFlQRTp2b2lkIDAsQ09NUEFUSUJMRV9TRFBfRVhURU5TSU9OOltcImdkcHJfZm9yYmlkZGVuXCJdLExJTUlUX0JJVFJBVEU6dm9pZCAwLEVYUEVSSU1FTlRTOnt9LFVTRV9QVUJfUlRYOiEwLFVTRV9TVUJfUlRYOiEwLEVOQUJMRV9EQVRBU1RSRUFNXzI6ITEsVVNFX1hSOiEwLEVOQUJMRV9QUkVBTExPQ19QQzohMSxFTkFCTEVfUFJFX1NVQjohMSxFTkFCTEVfU1ZDOiExLEVOQUJMRV9GT1JDRV9ITFM6ITEsTUFYX1dFQkFVRElPX1ZPTFVNRTozMDAsRU5BQkxFX1ZPU19GQUxMQkFDSzohMSxFTkFCTEVfRkFMTEJBQ0tfVE9fSExTOiExLEVOQUJMRV9QUkVfUkVOREVSOiExLEZPUkNFX0RJU0FCTEVfQVVUT19TVUI6ITEsRU5BQkxFX1BSRV9TVUJfV0lUSF9QUkVfUEM6ITAsUFJFX1VTRV9MT0NBTF9DT0RFQ1M6ITB9LHtJTlNUQUxMX0lEOlwiXCJ9KSx7fSx7S19NSU5fUkVOREVSX0RFTEFZOjY2LFVTRV9TVEFOREFSRF9CSVRSQVRFX0RFRkFVTFQ6ITEsVklERU9fTkVXX0JJVFJBVEVfUkFUSU86dm9pZCAwLFZJREVPX1NUQU5EQVJEX0JJVFJBVEVfVkVSU0lPTjoyLEJBU0VMSU5FX01PUkVfSDI2NF9CSVRSQVRFX1JBVElPOjEuMSxJR05PUkVfUlRDX0RFVklDRV9DSEVDSzohMSxGTFNfQVVUT1BMQVlfRU1JVFM6ITEsRU5BQkxFX0RVQUxfU1RSRUFNX0ZMQUc6ITF9KTtmdW5jdGlvbiBSRChlLHQsaSl7dmFyIG4scixvO0xuKG49T2JqZWN0LmtleXMoVEQpKS5jYWxsKG4sZSkmJighaSYmTG4ocj1PYmplY3Qua2V5cyh5RCkpLmNhbGwocixlKXx8KFREW2VdPXQsXCJFTkFCTEVfVklERU9fU0VJXCIhPT1lJiZcIkVOQUJMRV9BVURJT19UT1BOXCIhPT1lJiZcIkVOQUJMRV9BVURJT19NRVRBREFUQVwiIT09ZSYmXCJFTkFCTEVfQVVESU9fUFRTXCIhPT1lfHwhMCE9PXR8fChURC5FTkFCTEVfRU5DT0RFRF9UUkFOU0ZPUk09ITApLFwiVVNFX05FV19ORVRXT1JLX0NPTkZJR1wiPT09ZSYmdCYmKG89ISF0LFRELlVTRV9ORVdfTkVUV09SS19DT05GSUc9byxvJiYoVEQuV0VCQ1NfRE9NQUlOPVtcIndlYnJ0YzItMi5hcC5zZC1ydG4uY29tXCJdLFRELldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVD1bXCJ3ZWJydGMyLTQuYXAuc2QtcnRuLmNvbVwiXSxURC5DRFNfQVA9W1wiY2RzLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcImNkcy13ZWItNC5hcC5zZC1ydG4uY29tXCJdLFRELkFDQ09VTlRfUkVHSVNURVI9W1wic3VhLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInN1YS13ZWItNC5hcC5zZC1ydG4uY29tXCJdLFRELkVWRU5UX1JFUE9SVF9ET01BSU49XCJ3ZWItMi5zdGF0c2NvbGxlY3Rvci5zZC1ydG4uY29tXCIsVEQuRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU49XCJzdGF0c2NvbGxlY3Rvci0xLmFnb3JhLmlvXCIsVEQuR0FURVdBWV9ET01BSU5TPVtcImVkZ2Uuc2QtcnRuLmNvbVwiXSkpLFwiRU5BQkxFX1BSRV9TVUJcIj09PWUmJnQmJihURC5FTkFCTEVfSU5TVEFOVF9WSURFTz0hMCxURC5FTkFCTEVfUFJFQUxMT0NfUEM9ITApLFwiRU5BQkxFX1NWQ1wiPT09ZSYmdCYmKFRELkVOQUJMRV9BVVRfQ0M9ITApLFwiTkVXX0ZPUkNFX1RVUk5cIj09PWUmJnQmJihURC5ORVdfVFVSTl9NT0RFfHwoVEQuTkVXX1RVUk5fTU9ERT00KSkpKX1mdW5jdGlvbiBDRChlKXtpZihcIlRVUk5fRE9NQUlOU1wiPT09ZSl7Y29uc3QgZT1URC5UVVJOX0RPTUFJTlM7cmV0dXJuIExuKGUpLmNhbGwoZSxDRChcIlRVUk5fRE9NQUlOXCIpKT9lOltDRChcIlRVUk5fRE9NQUlOXCIpXS5jb25jYXQoZSl9cmV0dXJuIFREW2VdfXBEfHwoVEQuV0VCQ1NfRE9NQUlOPVtcImFwLXdlYi0xLW92ZXJzZWEuYWdvcmEuaW9cIixcImFwLXdlYi0xLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sVEQuV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUPVtcImFwLXdlYi0yLW92ZXJzZWEuYWdvcmEuaW9cIixcImFwLXdlYi0yLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sVEQuUFJPWFlfQ1M9W1wicHJveHktYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcInByb3h5LWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCJdLFRELkNEU19BUD1bXCJjZHMtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxURC5BQ0NPVU5UX1JFR0lTVEVSPVtcInN1YS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLFRELlVBUF9BUD1bXCJ1YXAtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxURC5MT0dfVVBMT0FEX1NFUlZFUj1cImxvZ3NlcnZpY2Utb3ZlcnNlYS5hZ29yYS5pb1wiLFRELkVWRU5UX1JFUE9SVF9ET01BSU49XCJzdGF0c2NvbGxlY3Rvci0xLW92ZXJzZWEuYWdvcmEuaW9cIixURC5FVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTj1cInN0YXRzY29sbGVjdG9yLTItb3ZlcnNlYS5hZ29yYS5pb1wiLFRELlBST1hZX1NFUlZFUl9UWVBFMz1cIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiLFRELkFSRUFTPVtcIk5PUlRIX0FNRVJJQ0FcIixcIk9WRVJTRUFcIl0pO2xldCB2RD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLlJFQUxUSU1FPTFdPVwiUkVBTFRJTUVcIixlfSh7fSk7Y29uc3QgeUQ9e307dmFyIElEPWZ1bmN0aW9uKGUpe3JldHVybiBlLlNFVF9TRVNTSU9OX0lEPVwiU0VUX1NFU1NJT05fSURcIixlLlNFVF9SVEVfVVJMPVwiU0VUX1JURV9VUkxcIixlLlNFVF9SVEVfU0lEPVwiU0VUX1JURV9TSURcIixlLlNFVF9QMlBfSUQ9XCJTRVRfUDJQX2lkXCIsZS5TRVRfRENfSUQ9XCJTRVRfRENfaWRcIixlLlNFVF9VSUQ9XCJTRVRfVUlEXCIsZS5TRVRfSU5UX1VJRD1cIlNFVF9JTlRfVUlEXCIsZS5TRVRfUFVCX0lEPVwiU0VUX1BVQl9JRFwiLGUuU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFPVwiU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFXCIsZS5LRVlfTUVUUklDX0NMSUVOVF9DUkVBVEVEPVwiS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRFwiLGUuS0VZX01FVFJJQ19KT0lOX1NUQVJUPVwiS0VZX01FVFJJQ19KT0lOX1NUQVJUXCIsZS5LRVlfTUVUUklDX1BSRUxPQURfU1RBUlQ9XCJLRVlfTUVUUklDX1BSRUxPQURfU1RBUlRcIixlLktFWV9NRVRSSUNfUFJFTE9BRF9FTkQ9XCJLRVlfTUVUUklDX1BSRUxPQURfRU5EXCIsZS5LRVlfTUVUUklDX0pPSU5fRU5EPVwiS0VZX01FVFJJQ19KT0lOX0VORFwiLGUuS0VZX01FVFJJQ19SRVFVRVNUX0FQX1NUQVJUPVwiS0VZX01FVFJJQ19SRVFVRVNUX0FQX1NUQVJUXCIsZS5LRVlfTUVUUklDX1JFUVVFU1RfQVBfRU5EPVwiS0VZX01FVFJJQ19SRVFVRVNUX0FQX0VORFwiLGUuS0VZX01FVFJJQ19SRVFVRVNUX1NVQV9FTkQ9XCJLRVlfTUVUUklDX1JFUVVFU1RfU1VBX0VORFwiLGUuS0VZX01FVFJJQ19CRUZPUkVfQ09OTkVDVD1cIktFWV9NRVRSSUNfQkVGT1JFX0NPTk5FQ1RcIixlLktFWV9NRVRSSUNfUEVFUl9SRUNFSVZFUj1cIktFWV9NRVRSSUNfUEVFUl9SRUNFSVZFUlwiLGUuS0VZX01FVFJJQ19TSUdOQUxfQ09OTkVDVEVEPVwiS0VZX01FVFJJQ19TSUdOQUxfQ09OTkVDVEVEXCIsZS5LRVlfTUVUUklDX0pPSU5fUkVRPVwiS0VZX01FVFJJQ19KT0lOX1JFUVwiLGUuS0VZX01FVFJJQ19KT0lOX1JFUD1cIktFWV9NRVRSSUNfSk9JTl9SRVBcIixlLktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX1NUQVJUPVwiS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfU1RBUlRcIixlLktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORD1cIktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORFwiLGUuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fU1RBUlQ9XCJLRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVFwiLGUuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5EPVwiS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5EXCIsZS5LRVlfTUVUUklDX0ZJUlNUX1ZJREVPX0ZSQU1FX0RFQ09ERUQ9XCJLRVlfTUVUUklDX0ZJUlNUX1ZJREVPX0ZSQU1FX0RFQ09ERURcIixlLktFWV9NRVRSSUNfREVTQ1JJUFRJT05fU1RBUlQ9XCJLRVlfTUVUUklDX0RFU0NSSVBUSU9OX1NUQVJUXCIsZS5LRVlfTUVUUklDX0lDRV9DT05ORUNUSU9OX0VORD1cIktFWV9NRVRSSUNfSUNFX0NPTk5FQ1RJT05fRU5EXCIsZS5LRVlfTUVUUklDX1NJR05BTF9DSEFOTkVMX09QRU49XCJLRVlfTUVUUklDX1NJR05BTF9DSEFOTkVMX09QRU5cIixlLktFWV9NRVRSSUNfUFVCTElTSD1cIktFWV9NRVRSSUNfUFVCTElTSFwiLGUuS0VZX01FVFJJQ19TVUJTQ1JJQkU9XCJLRVlfTUVUUklDX1NVQlNDUklCRVwiLGUuUkVDT1JEX0pPSU5fQ0hBTk5FTF9TRVJWSUNFPVwiUkVDT1JEX0pPSU5fQ0hBTk5FTF9TRVJWSUNFXCIsZS5SRVNFVF9KT0lOX0NIQU5ORUxfU0VSVklDRV9SRUNPUkRTPVwiUkVTRVRfSk9JTl9DSEFOTkVMX1NFUlZJQ0VfUkVDT1JEU1wiLGUuUkVTRVRfS0VZX01FVFJJQ1M9XCJSRVNFVF9LRVlfTUVUUklDU1wiLGUuUkVTRVRfRklSU1RfVklERU9fRlJBTUVfREVDT0RFRD1cIlJFU0VUX0ZJUlNUX1ZJREVPX0ZSQU1FX0RFQ09ERURcIixlLlNFVF9VU0VfUDJQPVwiU0VUX1VTRV9QMlBcIixlLlNFVF9UUkFOU1BPUlRfVFlQRT1cIlNFVF9UUkFOU1BPUlRfVFlQRVwiLGV9KElEfHx7fSk7bGV0IEFEPWZ1bmN0aW9uKGUpe3JldHVybiBlLmgyNjQ9XCJoMjY0XCIsZS5oMjY1PVwiaDI2NVwiLGUudnA4PVwidnA4XCIsZS52cDk9XCJ2cDlcIixlLmF2MT1cImF2MVwiLGV9KHt9KTshZnVuY3Rpb24oZSl7ZS5vcHVzPVwib3B1c1wiLGUucGNtYT1cInBjbWFcIixlLnBjbXU9XCJwY211XCIsZS5nNzIyPVwiZzcyMlwifSh7fSk7Y29uc3QgYkQ9MTI4LHdEPTk2LE9EPTFlMyxORD0xMDtsZXQgREQ9MDt2YXIgUEQ9KCgpPT57dmFyIGU9ezg6KGUsdCxpKT0+e2kucih0KSxpLmQodCx7UGFyc2VyOigpPT5DLFByaW50ZXI6KCk9PmIscGFyc2U6KCk9PkQscHJpbnQ6KCk9PlB9KTtjb25zdCBuPVwiXFxuXCIscj1cIlwiLmNvbmNhdChcIlxcclwiKS5jb25jYXQobiksbz1cIiBcIjtsZXQgcztmdW5jdGlvbiBhKGUpe3JldHVybiBlPj1cIjBcIiYmZTw9XCI5XCJ9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT49XCIhXCImJmU8PVwiflwifWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGMoZSl8fGU+PVwiwoBcIiYmZTw9XCLDv1wifWZ1bmN0aW9uIGwoZSl7cmV0dXJuXCIhXCI9PT1lfHxlPj1cIiNcIiYmZTw9XCInXCJ8fGU+PVwiKlwiJiZlPD1cIitcInx8ZT49XCItXCImJmU8PVwiLlwifHxlPj1cIjBcIiYmZTw9XCI5XCJ8fGU+PVwiQVwiJiZlPD1cIlpcInx8ZT49XCJeXCImJmU8PVwiflwifWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGU+PVwiMVwiJiZlPD1cIjlcIn1mdW5jdGlvbiBoKGUpe3JldHVybiBlPj1cIkFcIiYmZTw9XCJaXCJ8fGU+PVwiYVwiJiZlPD1cInpcIn1mdW5jdGlvbiBwKGUpe3JldHVyblwiZFwiPT09ZXx8XCJoXCI9PT1lfHxcIm1cIj09PWV8fFwic1wiPT09ZX1mdW5jdGlvbiBfKGUpe3JldHVybiBlPlwiXHUwMDAxXCImJmU8XCJcXHRcInx8ZT5cIlxcdlwiJiZlPFwiXFxmXCJ8fGU+XCJcdTAwMGVcIiYmZTxcIsO/XCJ9ZnVuY3Rpb24gRShlKXtyZXR1cm4gaChlKXx8YShlKXx8XCIrXCI9PT1lfHxcIi9cIj09PWV9ZnVuY3Rpb24gbShlKXtyZXR1cm4gYShlKXx8aChlKXx8XCIrXCI9PT1lfHxcIi9cIj09PWV8fFwiLVwiPT09ZXx8XCJfXCI9PT1lfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGgoZSl8fGEoZSl8fFwiK1wiPT09ZXx8XCIvXCI9PT1lfWZ1bmN0aW9uIFMoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGcoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/UyhPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe1QoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOlMoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gVChlLHQsaSl7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTppLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1pLGV9IWZ1bmN0aW9uKGUpe2UuVkVSU0lPTj1cInZcIixlLk9SSUdJTj1cIm9cIixlLlNFU1NJT05fTkFNRT1cInNcIixlLklORk9STUFUSU9OPVwiaVwiLGUuVVJJPVwidVwiLGUuRU1BSUw9XCJlXCIsZS5QSE9ORT1cInBcIixlLkNPTk5FQ1RJT049XCJjXCIsZS5CQU5EV0lEVEg9XCJiXCIsZS5USU1FPVwidFwiLGUuUkVQRUFUPVwiclwiLGUuWk9ORV9BREpVU1RNRU5UUz1cInpcIixlLktFWT1cImtcIixlLkFUVFJJQlVURT1cImFcIixlLk1FRElBPVwibVwifShzfHwocz17fSkpO2NsYXNzIFJ7Y29uc3VtZVRleHQoZSx0KXtsZXQgaT10O2Zvcig7aTxlLmxlbmd0aDspe2NvbnN0IHQ9ZVtpXTtpZihcIlxcMFwiPT09dHx8XCJcXHJcIj09PXR8fHQ9PT1uKWJyZWFrO2krPTF9aWYoaS10PT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGV4dCwgYXQgXCIuY29uY2F0KGUpKTtyZXR1cm4gaX1jb25zdW1lVW5pY2FzdEFkZHJlc3MoZSx0LGkpe3JldHVybiB0aGlzLmNvbnN1bWVUaWxsKGUsdCxvKX1jb25zdW1lT25lT3JNb3JlKGUsdCxpKXtsZXQgbj10O2Zvcig7aShlW25dKTspbisrO2lmKG4tdD09MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJ1bGUgYXQgXCIuY29uY2F0KHQsXCIuXCIpKTtyZXR1cm4gbn1jb25zdW1lU3BhY2UoZSx0KXtpZihlW3RdPT09bylyZXR1cm4gdCsxO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3BhY2UgYXQgXCIuY29uY2F0KHQsXCIuXCIpKX1jb25zdW1lSVA0QWRkcmVzcyhlLHQpe2xldCBpPXQ7Zm9yKGxldCB0PTA7dDw0O3QrKylpZihpPXRoaXMuY29uc3VtZURlY2ltYWxVQ2hhcihlLGkpLDMhPT10KXtpZihcIi5cIiE9PWVbaV0pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBJUDQgYWRkcmVzcy5cIik7aSsrfXJldHVybiBpfWNvbnN1bWVEZWNpbWFsVUNoYXIoZSx0KXtsZXQgaT10O2ZvcihsZXQgdD0wO3Q8MyYmYShlW2ldKTt0KyssaSsrKTtpZihpLXQ9PTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkZWNpbWFsIHVjaGFyLlwiKTtjb25zdCBuPXBhcnNlSW50KGUuc2xpY2UodCxpKSk7aWYobj49MCYmbjw9MjU1KXJldHVybiBpO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGVjaW1hbCB1Y2hhclwiKX1jb25zdW1lSVA2QWRkcmVzcyhlLHQpe2xldCBpPXRoaXMuY29uc3VtZUhleHBhcnQoZSx0KTtyZXR1cm5cIjpcIj09PWVbaV0/KGkrPTEsaT10aGlzLmNvbnN1bWVJUDRBZGRyZXNzKGUsaSksaSk6aX1jb25zdW1lSGV4cGFydChlLHQpe2xldCBpPXQ7aWYoXCI6XCI9PT1lW2ldJiZcIjpcIj09PWVbaSsxXSl7aSs9Mjt0cnl7aT10aGlzLmNvbnN1bWVIZXhzZXEoZSxpKX1jYXRjaChlKXt9cmV0dXJuIGl9aWYoaT10aGlzLmNvbnN1bWVIZXhzZXEoZSxpKSxcIjpcIj09PWVbaV0mJlwiOlwiPT09ZVtpKzFdKXtpKz0yO3RyeXtpPXRoaXMuY29uc3VtZUhleHNlcShlLGkpfWNhdGNoKGUpe31yZXR1cm4gaX1yZXR1cm4gaX1jb25zdW1lSGV4c2VxKGUsdCl7bGV0IGk9dDtmb3IoO2k9dGhpcy5jb25zdW1lSGV4NChlLGkpLFwiOlwiPT09ZVtpXSYmXCI6XCIhPT1lW2krMV07KWkrPTE7cmV0dXJuIGl9Y29uc3VtZUhleDQoZSx0KXtsZXQgaT0wO2Zvcig7aTw0O2krKylpZighKChuPWVbdCtpXSk+PVwiMFwiJiZuPD1cIjlcInx8bj49XCJhXCImJm48PVwiZlwifHxuPj1cIkFcIiYmbjw9XCJGXCIpKXtpZigwPT09aSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhleCA0XCIpO2JyZWFrfXZhciBuO3JldHVybiB0K2l9Y29uc3VtZUZRRE4oZSx0KXtsZXQgaT10O2Zvcig7YShlW2ldKXx8aChlW2ldKXx8XCItXCI9PT1lW2ldfHxcIi5cIj09PWVbaV07KWkrPTE7aWYoaS10PDQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBGUUROXCIpO3JldHVybiBpfWNvbnN1bWVFeHRuQWRkcihlLHQpe3JldHVybiB0aGlzLmNvbnN1bWVPbmVPck1vcmUoZSx0LGQpfWNvbnN1bWVNdWx0aWNhc3RBZGRyZXNzKGUsdCxpKXtzd2l0Y2goaSl7Y2FzZVwiSVA0XCI6Y2FzZVwiaXA0XCI6cmV0dXJuIHRoaXMuY29uc3VtZUlQNE11bHRpY2FzdEFkZHJlc3MoZSx0KTtjYXNlXCJJUDZcIjpjYXNlXCJpcDZcIjpyZXR1cm4gdGhpcy5jb25zdW1lSVA2TXVsdGljYXN0QWRkcmVzcyhlLHQpO2RlZmF1bHQ6dHJ5e3JldHVybiB0aGlzLmNvbnN1bWVGUUROKGUsdCl9Y2F0Y2goaSl7cmV0dXJuIHRoaXMuY29uc3VtZUV4dG5BZGRyKGUsdCl9fX1jb25zdW1lSVA2TXVsdGljYXN0QWRkcmVzcyhlLHQpe2NvbnN0IGk9dGhpcy5jb25zdW1lSGV4cGFydChlLHQpO3JldHVyblwiL1wiPT09ZVtpXT90aGlzLmNvbnN1bWVJbnRlZ2VyKGUsaSsxKTppfWNvbnN1bWVJUDRNdWx0aWNhc3RBZGRyZXNzKGUsdCl7bGV0IGk9dCszO2NvbnN0IG49ZS5zbGljZSh0LGkpLHI9cGFyc2VJbnQobik7aWYocjwyMjR8fHI+MjM5KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSVA0IG11bHRpY2FzdCBhZGRyZXNzLCBJUHY0IG11bHRpY2FzdCBhZGRyZXNzZXMgbWF5IGJlIGluIHRoZSByYW5nZSAyMjQuMC4wLjAgdG8gMjM5LjI1NS4yNTUuMjU1LlwiKTtmb3IobGV0IHQ9MDt0PDM7dCsrKXtpZihcIi5cIiE9PWVbaV0pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBJUDQgbXVsdGljYXN0IGFkZHJlc3MuXCIpO2krPTEsaT10aGlzLmNvbnN1bWVEZWNpbWFsVUNoYXIoZSxpKX1yZXR1cm5cIi9cIj09PWVbaV0mJihpKz0xKSxpPXRoaXMuY29uc3VtZVRUTChlLGkpLFwiL1wiPT09ZVtpXSYmKGk9dGhpcy5jb25zdW1lSW50ZWdlcihlLGkpKSxpfWNvbnN1bWVJbnRlZ2VyKGUsdCl7aWYoIXUoZVt0XSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnRlZ2VyLlwiKTtmb3IodCs9MTthKGVbdF0pOyl0Kz0xO3JldHVybiB0fWNvbnN1bWVUVEwoZSx0KXtpZihcIjBcIj09PWVbdF0pcmV0dXJuIHQrMTtpZighdShlW3RdKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFRUTC5cIik7dCs9MTtmb3IobGV0IGk9MDtpPDImJmEoZVt0XSk7aSsrKXQrPTE7cmV0dXJuIHR9Y29uc3VtZVRva2VuKGUsdCl7cmV0dXJuIHRoaXMuY29uc3VtZU9uZU9yTW9yZShlLHQsbCl9Y29uc3VtZVRpbWUoZSx0KXtsZXQgaT10O2lmKFwiMFwiPT09ZVtpXSlyZXR1cm4gaSsxO2Zvcih1KGVbaV0pJiYoaSs9MSk7YShlW2ldKTspaSsrO2lmKGktdDwxMCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRpbWVcIik7cmV0dXJuIGl9Y29uc3VtZUFkZHJlc3MoZSx0KXtyZXR1cm4gdGhpcy5jb25zdW1lVGlsbChlLHQsbyl9Y29uc3VtZVR5cGVkVGltZShlLHQpe2xldCBpPXQ7cmV0dXJuIGk9dGhpcy5jb25zdW1lT25lT3JNb3JlKGUsaSxhKSxwKGVbaV0pP2krMTppfWNvbnN1bWVSZXBlYXRJbnRlcnZhbChlLHQpe2lmKCF1KGVbdF0pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVwZWF0IGludGVydmFsXCIpO2Zvcih0Kz0xO2EoZVt0XSk7KXQrPTE7cmV0dXJuIHAoZVt0XSkmJih0Kz0xKSx0fWNvbnN1bWVQb3J0KGUsdCl7cmV0dXJuIHRoaXMuY29uc3VtZU9uZU9yTW9yZShlLHQsYSl9Y29uc3VtZShlLHQsaSl7Zm9yKGxldCBuPTA7bjxpLmxlbmd0aDtuKyspe2lmKHQrbj49ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiY29uc3VtZSBleGNlZWRpbmcgdmFsdWUgbGVuZ3RoXCIpO2lmKGVbdCtuXSE9PWlbbl0pdGhyb3cgbmV3IEVycm9yKFwiY29uc3VtZSBcIi5jb25jYXQoaSxcIiBmYWlsZWQgYXQgXCIpLmNvbmNhdChuKSl9cmV0dXJuIHQraS5sZW5ndGh9Y29uc3VtZVRpbGwoZSx0LGkpe2xldCBuPXQ7Zm9yKDtuPGUubGVuZ3RoJiYoXCJzdHJpbmdcIiE9dHlwZW9mIGl8fGVbbl0hPT1pKSYmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGl8fCFpKGVbbl0pKTspbisrO3JldHVybiBufX1jbGFzcyBDIGV4dGVuZHMgUntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksVCh0aGlzLFwicmVjb3Jkc1wiLFtdKSxUKHRoaXMsXCJjdXJyZW50TGluZVwiLDApfXBhcnNlKGUpe2NvbnN0IHQ9dGhpcy5wcm9iZUVPTChlKTt0aGlzLnJlY29yZHM9ZS5zcGxpdCh0KS5maWx0ZXIoKGU9PiEha2coZSkuY2FsbChlKSkpLm1hcCh0aGlzLnBhcnNlTGluZSksdGhpcy5jdXJyZW50TGluZT0wO2NvbnN0IGk9dGhpcy5wYXJzZVZlcnNpb24oKSxuPXRoaXMucGFyc2VPcmlnaW4oKSxyPXRoaXMucGFyc2VTZXNzaW9uTmFtZSgpLG89dGhpcy5wYXJzZUluZm9ybWF0aW9uKCkscz10aGlzLnBhcnNlVXJpKCksYT10aGlzLnBhcnNlRW1haWwoKSxjPXRoaXMucGFyc2VQaG9uZSgpLGQ9dGhpcy5wYXJzZUNvbm5lY3Rpb24oKSxsPXRoaXMucGFyc2VCYW5kV2lkdGgoKSx1PXRoaXMucGFyc2VUaW1lRmllbGRzKCksaD10aGlzLnBhcnNlS2V5KCkscD10aGlzLnBhcnNlU2Vzc2lvbkF0dHJpYnV0ZSgpLF89dGhpcy5wYXJzZU1lZGlhRGVzY3JpcHRpb24oKTtpZih0aGlzLmN1cnJlbnRMaW5lIT09dGhpcy5yZWNvcmRzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJwYXJzaW5nIGZhaWxlZCwgbm9uIGV4aGF1c3RpdmUgc2RwIGxpbmVzLlwiKTtyZXR1cm57dmVyc2lvbjppLG9yaWdpbjpuLHNlc3Npb25OYW1lOnIsaW5mb3JtYXRpb246byx1cmk6cyxlbWFpbHM6YSxwaG9uZXM6Yyxjb25uZWN0aW9uOmQsYmFuZHdpZHRoczpsLHRpbWVGaWVsZHM6dSxrZXk6aCxhdHRyaWJ1dGVzOnAsbWVkaWFEZXNjcmlwdGlvbnM6X319Z2V0Q3VycmVudFJlY29yZCgpe2NvbnN0IGU9dGhpcy5yZWNvcmRzW3RoaXMuY3VycmVudExpbmVdO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIlJlY29yZCBkb2Vzbid0IGV4aXQuXCIpO3JldHVybiBlfXByb2JlRU9MKGUpe2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKGVbdF09PT1uKXJldHVyblwiXFxyXCI9PT1lW3QtMV0/cjpuO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgbmV3bGluZSBjaGFyYWN0ZXIuXCIpfXBhcnNlTGluZShlLHQpe2lmKGUubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzZHAgbGluZSwgc2RwIGxpbmUgc2hvdWxkIGJlIG9mIGZvcm0gPHR5cGU+PTx2YWx1ZT4uXCIpO2NvbnN0IGk9ZVswXTtpZihcIj1cIiE9PWVbMV0pdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNkcCBsaW5lLCA8dHlwZT4gc2hvdWxkIGJlIGEgc2luZ2xlIGNoYXJhY3RlciBmb2xsb3dlZCBieSBhbiBcIj1cIiBzaWduLicpO3JldHVybnt0eXBlOmksdmFsdWU6ZS5zbGljZSgyKSxsaW5lOnQsY3VyOjB9fXBhcnNlU2Vzc2lvbkF0dHJpYnV0ZSgpe2NvbnN0IGU9bmV3IHk7Zm9yKDt0aGlzLmN1cnJlbnRMaW5lPHRoaXMucmVjb3Jkcy5sZW5ndGg7KXtjb25zdCB0PXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKHQudHlwZSE9PXMuQVRUUklCVVRFKWJyZWFrO2NvbnN0IGk9e2F0dEZpZWxkOnRoaXMuZXh0cmFjdE9uZU9yTW9yZSh0LChlPT5sKGUpJiZcIjpcIiE9PWUpKSxfY3VyOjB9O1wiOlwiPT09dC52YWx1ZVt0LmN1cl0mJih0LmN1cis9MSxpLmF0dFZhbHVlPXRoaXMuZXh0cmFjdE9uZU9yTW9yZSh0LF8pKSxlLnBhcnNlKGkpLHRoaXMuY3VycmVudExpbmUrK31yZXR1cm4gZS5kaWdlc3QoKX1wYXJzZU1lZGlhQXR0cmlidXRlcyhlKXtjb25zdCB0PW5ldyBJKGUpO2Zvcig7dGhpcy5jdXJyZW50TGluZTx0aGlzLnJlY29yZHMubGVuZ3RoOyl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGUhPT1zLkFUVFJJQlVURSlicmVhaztjb25zdCBpPXthdHRGaWVsZDp0aGlzLmV4dHJhY3RPbmVPck1vcmUoZSwoZT0+bChlKSYmXCI6XCIhPT1lKSksX2N1cjowfTtcIjpcIj09PWUudmFsdWVbZS5jdXJdJiYoZS5jdXIrPTEsaS5hdHRWYWx1ZT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxfKSksdC5wYXJzZShpKSx0aGlzLmN1cnJlbnRMaW5lKyt9cmV0dXJuIHQuZGlnZXN0KCl9cGFyc2VLZXkoKXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKGUudHlwZT09PXMuS0VZKXtpZihcInByb21wdFwiPT09ZS52YWx1ZXx8XCJjbGVhcjpcIj09PWUudmFsdWV8fFwiYmFzZTY0OlwiPT09ZS52YWx1ZXx8XCJ1cmk6XCI9PT1lLnZhbHVlKXJldHVybiBlLnZhbHVlO3Rocm93IHRoaXMuY3VycmVudExpbmUrKyxuZXcgRXJyb3IoXCJJbnZhbGlkIGtleS5cIil9fXBhcnNlWm9uZSgpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlPT09cy5aT05FX0FESlVTVE1FTlRTKXtjb25zdCB0PVtdO2Zvcig7Oyl0cnl7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaW1lKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtsZXQgbj0hMTtcIi1cIj09PWUudmFsdWVbZS5jdXJdJiYobj0hMCxlLmN1cis9MSk7Y29uc3Qgcj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUeXBlZFRpbWUpO3QucHVzaCh7dGltZTppLHR5cGVkVGltZTpyLGJhY2s6bn0pfWNhdGNoKGUpe2JyZWFrfWlmKDA9PT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHpvbmUgYWRqdXN0bWVudHNcIik7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx0fXJldHVybltdfXBhcnNlUmVwZWF0KCl7Y29uc3QgZT1bXTtmb3IoOzspe2NvbnN0IHQ9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYodC50eXBlIT09cy5SRVBFQVQpYnJlYWs7e2NvbnN0IGk9dGhpcy5leHRyYWN0KHQsdGhpcy5jb25zdW1lUmVwZWF0SW50ZXJ2YWwpLG49dGhpcy5wYXJzZVR5cGVkVGltZSh0KTtlLnB1c2goe3JlcGVhdEludGVydmFsOmksdHlwZWRUaW1lczpufSksdGhpcy5jdXJyZW50TGluZSsrfX1yZXR1cm4gZX1wYXJzZVR5cGVkVGltZShlKXtjb25zdCB0PVtdO2Zvcig7Oyl0cnl7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSksdC5wdXNoKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVR5cGVkVGltZSkpfWNhdGNoKGUpe2JyZWFrfWlmKDA9PT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHR5cGVkIHRpbWUuXCIpO3JldHVybiB0fXBhcnNlVGltZSgpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCksdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaW1lKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbWUpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKysse3N0YXJ0VGltZTp0LHN0b3BUaW1lOml9fXBhcnNlQmFuZFdpZHRoKCl7Y29uc3QgZT1bXTtmb3IoO3RoaXMuY3VycmVudExpbmU8dGhpcy5yZWNvcmRzLmxlbmd0aDspe2NvbnN0IHQ9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYodC50eXBlIT09cy5CQU5EV0lEVEgpYnJlYWs7e2NvbnN0IGk9dGhpcy5leHRyYWN0T25lT3JNb3JlKHQsbCk7aWYoXCI6XCIhPT10LnZhbHVlW3QuY3VyXSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJhbmR3aWR0aCBmaWVsZC5cIik7dC5jdXIrKztjb25zdCBuPXRoaXMuZXh0cmFjdE9uZU9yTW9yZSh0LGEpO2UucHVzaCh7Ynd0eXBlOmksYmFuZHdpZHRoOm59KSx0aGlzLmN1cnJlbnRMaW5lKyt9fXJldHVybiBlfXBhcnNlVmVyc2lvbigpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlIT09cy5WRVJTSU9OKXRocm93IG5ldyBFcnJvcihcImZpcnN0IHNkcCByZWNvcmQgbXVzdCBiZSB2ZXJzaW9uXCIpO2NvbnN0IHQ9ZS52YWx1ZS5zbGljZSgwLHRoaXMuY29uc3VtZU9uZU9yTW9yZShlLnZhbHVlLDAsYSkpO2lmKHQubGVuZ3RoIT09ZS52YWx1ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHByb3RvIHZlcnNpb24sIFwidj0nLmNvbmNhdChlLnZhbHVlLCdcIicpKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHR9cGFyc2VPcmlnaW4oKXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKGUudHlwZSE9PXMuT1JJR0lOKXRocm93IG5ldyBFcnJvcihcInNlY29uZCBsaW5lIG9mIHNkcCBtdXN0IGJlIG9yaWdpblwiKTtjb25zdCB0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGQpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7Y29uc3Qgbj10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCByPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGwpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IG89dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbCk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7Y29uc3QgYz10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVVbmljYXN0QWRkcmVzcyk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx7dXNlcm5hbWU6dCxzZXNzSWQ6aSxzZXNzVmVyc2lvbjpuLG5ldHR5cGU6cixhZGRydHlwZTpvLHVuaWNhc3RBZGRyZXNzOmN9fXBhcnNlU2Vzc2lvbk5hbWUoKXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKGUudHlwZT09PXMuU0VTU0lPTl9OQU1FKXtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRleHQpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssdH19cGFyc2VJbmZvcm1hdGlvbigpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlIT09cy5JTkZPUk1BVElPTilyZXR1cm47Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUZXh0KTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHR9cGFyc2VVcmkoKXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKGUudHlwZT09PXMuVVJJKXJldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssZS52YWx1ZX1wYXJzZUVtYWlsKCl7Y29uc3QgZT1bXTtmb3IoOzspe2NvbnN0IHQ9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYodC50eXBlIT09cy5FTUFJTClicmVhaztlLnB1c2godC52YWx1ZSksdGhpcy5jdXJyZW50TGluZSsrfXJldHVybiBlfXBhcnNlUGhvbmUoKXtjb25zdCBlPVtdO2Zvcig7Oyl7Y29uc3QgdD10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZih0LnR5cGUhPT1zLlBIT05FKWJyZWFrO2UucHVzaCh0LnZhbHVlKSx0aGlzLmN1cnJlbnRMaW5lKyt9cmV0dXJuIGV9cGFyc2VDb25uZWN0aW9uKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGU9PT1zLkNPTk5FQ1RJT04pe2NvbnN0IHQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbCk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxsKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBuPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZUFkZHJlc3MpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKysse25ldHR5cGU6dCxhZGRydHlwZTppLGFkZHJlc3M6bn19fXBhcnNlTWVkaWEoKXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpLHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2xldCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVBvcnQpO1wiL1wiPT09ZS52YWx1ZVtlLmN1cl0mJihlLmN1cis9MSxpKz10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVJbnRlZ2VyKSksdGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7Y29uc3Qgbj1bXTtmb3Iobi5wdXNoKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSk7XCIvXCI9PT1lLnZhbHVlW2UuY3VyXTspZS5jdXIrPTEsbi5wdXNoKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSk7aWYoMD09PW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJvdG9cIik7Y29uc3Qgcj10aGlzLnBhcnNlRm10KGUpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKysse21lZGlhVHlwZTp0LHBvcnQ6aSxwcm90b3M6bixmbXRzOnJ9fXBhcnNlVGltZUZpZWxkcygpe2NvbnN0IGU9W107Zm9yKDt0aGlzLmdldEN1cnJlbnRSZWNvcmQoKS50eXBlPT09cy5USU1FOyl7Y29uc3QgdD10aGlzLnBhcnNlVGltZSgpLGk9dGhpcy5wYXJzZVJlcGVhdCgpLG49dGhpcy5wYXJzZVpvbmUoKTtlLnB1c2goe3RpbWU6dCxyZXBlYXRzOmksem9uZXM6bn0pfXJldHVybiBlfXBhcnNlTWVkaWFEZXNjcmlwdGlvbigpe2NvbnN0IGU9W107Zm9yKDt0aGlzLmN1cnJlbnRMaW5lPHRoaXMucmVjb3Jkcy5sZW5ndGgmJnRoaXMuZ2V0Q3VycmVudFJlY29yZCgpLnR5cGU9PT1zLk1FRElBOyl7Y29uc3QgdD10aGlzLnBhcnNlTWVkaWEoKSxpPXRoaXMucGFyc2VJbmZvcm1hdGlvbigpLG49dGhpcy5wYXJzZUNvbm5lY3Rpb25zKCkscj10aGlzLnBhcnNlQmFuZFdpZHRoKCksbz10aGlzLnBhcnNlS2V5KCkscz10aGlzLnBhcnNlTWVkaWFBdHRyaWJ1dGVzKHQpO2UucHVzaCh7bWVkaWE6dCxpbmZvcm1hdGlvbjppLGNvbm5lY3Rpb25zOm4sYmFuZHdpZHRoczpyLGtleTpvLGF0dHJpYnV0ZXM6c30pfXJldHVybiBlfXBhcnNlQ29ubmVjdGlvbnMoKXtjb25zdCBlPVtdO2Zvcig7dGhpcy5jdXJyZW50TGluZTx0aGlzLnJlY29yZHMubGVuZ3RoJiZ0aGlzLmdldEN1cnJlbnRSZWNvcmQoKS50eXBlPT09cy5DT05ORUNUSU9OOyllLnB1c2godGhpcy5wYXJzZUNvbm5lY3Rpb24oKSk7cmV0dXJuIGV9cGFyc2VGbXQoZSl7Y29uc3QgdD1bXTtmb3IoOzspdHJ5e3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpLHQucHVzaCh0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbikpfWNhdGNoKGUpe2JyZWFrfWlmKDA9PT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZtdHNcIik7cmV0dXJuIHR9ZXh0cmFjdChlLHQpe2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGk+Mj9pLTI6MCkscj0yO3I8aTtyKyspbltyLTJdPWFyZ3VtZW50c1tyXTtjb25zdCBvPXQuY2FsbCh0aGlzLGUudmFsdWUsZS5jdXIsLi4ubikscz1lLnZhbHVlLnNsaWNlKGUuY3VyLG8pO3JldHVybiBlLmN1cj1vLHN9ZXh0cmFjdE9uZU9yTW9yZShlLHQpe2NvbnN0IGk9dGhpcy5jb25zdW1lT25lT3JNb3JlKGUudmFsdWUsZS5jdXIsdCksbj1lLnZhbHVlLnNsaWNlKGUuY3VyLGkpO3JldHVybiBlLmN1cj1pLG59Y29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpe2lmKGUudmFsdWVbZS5jdXJdIT09byl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNwYWNlIGF0IFwiLmNvbmNhdChlLmN1cixcIi5cIikpO2UuY3VyKz0xfX1jbGFzcyB2IGV4dGVuZHMgUntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksVCh0aGlzLFwiYXR0cmlidXRlc1wiLHZvaWQgMCksVCh0aGlzLFwiZGlnZXN0ZWRcIiwhMSl9ZXh0cmFjdE9uZU9yTW9yZShlLHQsaSl7Y29uc3Qgbj10aGlzLmNvbnN1bWVPbmVPck1vcmUoZS5hdHRWYWx1ZSxlLl9jdXIsdCkscj1lLmF0dFZhbHVlLnNsaWNlKGUuX2N1cixuKSxbbyxzXT1pfHxbXTtpZihcIm51bWJlclwiPT10eXBlb2YgbyYmci5sZW5ndGg8byl0aHJvdyBuZXcgRXJyb3IoXCJlcnJvciBpbiBsZW5ndGgsIHNob3VsZCBiZSBtb3JlIG9yIGVxdWFsIHRoYW4gXCIuY29uY2F0KG8sXCIgY2hhcmFjdGVycy5cIikpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBzJiZyLmxlbmd0aD5zKXRocm93IG5ldyBFcnJvcihcImVycm9yIGluIGxlbmd0aCwgc2hvdWxkIGJlIGxlc3Mgb3IgZXF1YWwgdGhhbiBcIi5jb25jYXQocyxcIiBjaGFyYWN0ZXJzLlwiKSk7cmV0dXJuIGUuX2N1cj1uLHJ9Y29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpe2lmKGUuYXR0VmFsdWVbZS5fY3VyXSE9PW8pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcGFjZSBhdCBcIi5jb25jYXQoZS5fY3VyLFwiLlwiKSk7ZS5fY3VyKz0xfWV4dHJhY3QoZSx0KXtpZighZS5hdHRWYWx1ZSl0aHJvdyBuZXcgRXJyb3IoXCJOb3RoaW5nIHRvIGV4dHJhY3QgZnJvbSBhdHRWYWx1ZS5cIik7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaT4yP2ktMjowKSxyPTI7cjxpO3IrKyluW3ItMl09YXJndW1lbnRzW3JdO2NvbnN0IG89dC5jYWxsKHRoaXMsZS5hdHRWYWx1ZSxlLl9jdXIsLi4ubikscz1lLmF0dFZhbHVlLnNsaWNlKGUuX2N1cixvKTtyZXR1cm4gZS5fY3VyPW8sc31hdEVuZChlKXtpZighZS5hdHRWYWx1ZSl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIGUuX2N1cj49ZS5hdHRWYWx1ZS5sZW5ndGh9cGVla0NoYXIoZSl7aWYoIWUuYXR0VmFsdWUpdGhyb3cgbmV3IEVycm9yO3JldHVybiBlLmF0dFZhbHVlW2UuX2N1cl19cGVlayhlLHQpe2lmKCFlLmF0dFZhbHVlKXRocm93IG5ldyBFcnJvcjtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldIT09ZS5hdHRWYWx1ZVtlLl9jdXIraV0pcmV0dXJuITE7cmV0dXJuITB9cGFyc2VJY2VVZnJhZyhlKXtpZih0aGlzLmF0dHJpYnV0ZXMuaWNlVWZyYWcpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpY2UtdWZyYWcsIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGxpbmUgaWYgJ2E9aWNlLXVmcmFnJ1wiKTt0aGlzLmF0dHJpYnV0ZXMuaWNlVWZyYWc9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsRSxbNCwyNTZdKX1wYXJzZUljZVB3ZChlKXtpZih0aGlzLmF0dHJpYnV0ZXMuaWNlUHdkKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaWNlLXB3ZCwgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgbGluZSBpZiAnYT1pY2UtcHdkJ1wiKTt0aGlzLmF0dHJpYnV0ZXMuaWNlUHdkPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLEUsWzIyLDI1Nl0pfXBhcnNlSWNlT3B0aW9ucyhlKXtpZih0aGlzLmF0dHJpYnV0ZXMuaWNlT3B0aW9ucyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGljZS1vcHRpb25zLCBzaG91bGQgYmUgb25seSBvbmUgJ2ljZS1vcHRpb25zJyBsaW5lXCIpO2NvbnN0IHQ9W107Zm9yKDshdGhpcy5hdEVuZChlKTspe3QucHVzaCh0aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxFKSk7dHJ5e3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpfWNhdGNoKHQpe2lmKHRoaXMuYXRFbmQoZSkpYnJlYWs7dGhyb3cgdH19dGhpcy5hdHRyaWJ1dGVzLmljZU9wdGlvbnM9dH1wYXJzZUZpbmdlcnByaW50KGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCk7dGhpcy5hdHRyaWJ1dGVzLmZpbmdlcnByaW50cy5wdXNoKHtoYXNoRnVuY3Rpb246dCxmaW5nZXJwcmludDppfSl9cGFyc2VFeHRtYXAoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhKTtsZXQgaTtcIi9cIj09PXRoaXMucGVla0NoYXIoZSkmJih0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIvXCIpLGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBuPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsbykscj1nKGcoe2VudHJ5OnBhcnNlSW50KHQsMTApfSxpJiZ7ZGlyZWN0aW9uOml9KSx7fSx7ZXh0ZW5zaW9uTmFtZTpufSk7dGhpcy5wZWVrQ2hhcihlKT09PW8mJih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSxyLmV4dGVuc2lvbkF0dHJpYnV0ZXM9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCkpLHRoaXMuYXR0cmlidXRlcy5leHRtYXBzLnB1c2gocil9cGFyc2VTZXR1cChlKXtpZih0aGlzLmF0dHJpYnV0ZXMuc2V0dXApdGhyb3cgbmV3IEVycm9yKFwibXVzdCBvbmx5IGJlIG9uZSBzaW5nbGUgJ2E9c2V0dXAnIGxpbmUuXCIpO2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCk7aWYoXCJhY3RpdmVcIiE9PXQmJlwicGFzc2l2ZVwiIT09dCYmXCJhY3RwYXNzXCIhPT10JiZcImhvbGRjb25uXCIhPT10KXRocm93IG5ldyBFcnJvcihcInJvbGUgbXVzdCBiZSBvbmUgb2YgJ2FjdGl2ZScsICdwYXNzaXZlJywgJ2FjdHBhc3MnLCAnaG9sZGNvbm4nLlwiKTt0aGlzLmF0dHJpYnV0ZXMuc2V0dXA9dH19Y2xhc3MgeSBleHRlbmRzIHZ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLFQodGhpcyxcImF0dHJpYnV0ZXNcIix7dW5yZWNvZ25pemVkOltdLGdyb3VwczpbXSxleHRtYXBzOltdLGZpbmdlcnByaW50czpbXSxpZGVudGl0aWVzOltdfSl9cGFyc2UoZSl7aWYodGhpcy5kaWdlc3RlZCl0aHJvdyBuZXcgRXJyb3IoXCJhbHJlYWR5IGRpZ2VzdGVkXCIpO3RyeXtzd2l0Y2goZS5hdHRGaWVsZCl7Y2FzZVwiZ3JvdXBcIjp0aGlzLnBhcnNlR3JvdXAoZSk7YnJlYWs7Y2FzZVwiaWNlLWxpdGVcIjp0aGlzLnBhcnNlSWNlTGl0ZSgpO2JyZWFrO2Nhc2VcImljZS11ZnJhZ1wiOnRoaXMucGFyc2VJY2VVZnJhZyhlKTticmVhaztjYXNlXCJpY2UtcHdkXCI6dGhpcy5wYXJzZUljZVB3ZChlKTticmVhaztjYXNlXCJpY2Utb3B0aW9uc1wiOnRoaXMucGFyc2VJY2VPcHRpb25zKGUpO2JyZWFrO2Nhc2VcImZpbmdlcnByaW50XCI6dGhpcy5wYXJzZUZpbmdlcnByaW50KGUpO2JyZWFrO2Nhc2VcInNldHVwXCI6dGhpcy5wYXJzZVNldHVwKGUpO2JyZWFrO2Nhc2VcInRscy1pZFwiOnRoaXMucGFyc2VUbHNJZChlKTticmVhaztjYXNlXCJpZGVudGl0eVwiOnRoaXMucGFyc2VJZGVudGl0eShlKTticmVhaztjYXNlXCJleHRtYXBcIjp0aGlzLnBhcnNlRXh0bWFwKGUpO2JyZWFrO2Nhc2VcIm1zaWQtc2VtYW50aWNcIjp0aGlzLnBhcnNlTXNpZFNlbWFudGljKGUpO2JyZWFrO2RlZmF1bHQ6ZS5pZ25vcmVkPSEwLHRoaXMuYXR0cmlidXRlcy51bnJlY29nbml6ZWQucHVzaChlKX19Y2F0Y2godCl7dGhyb3cgY29uc29sZS5lcnJvcihcInBhcnNpbmcgc2Vzc2lvbiBhdHRyaWJ1dGUgXCIuY29uY2F0KGUuYXR0RmllbGQsJyBlcnJvciwgXCJhPScpLmNvbmNhdChlLmF0dEZpZWxkLFwiOlwiKS5jb25jYXQoZS5hdHRWYWx1ZSwnXCInKSksdH1pZighZS5pZ25vcmVkJiZlLmF0dFZhbHVlJiYhdGhpcy5hdEVuZChlKSl0aHJvdyBuZXcgRXJyb3IoXCJhdHRyaWJ1dGUgcGFyc2luZyBlcnJvclwiKX1kaWdlc3QoKXtyZXR1cm4gdGhpcy5kaWdlc3RlZD0hMCx0aGlzLmF0dHJpYnV0ZXN9cGFyc2VHcm91cChlKXtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSxpPVtdO2Zvcig7IXRoaXMuYXRFbmQoZSkmJnRoaXMucGVla0NoYXIoZSk9PT1vOyl0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSxpLnB1c2godGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pKTt0aGlzLmF0dHJpYnV0ZXMuZ3JvdXBzLnB1c2goe3NlbWFudGljOnQsaWRlbnRpZmljYXRpb25UYWc6aX0pfXBhcnNlSWNlTGl0ZSgpe2lmKHRoaXMuYXR0cmlidXRlcy5pY2VMaXRlKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaWNlLWxpdGUsIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGxpbmUgb2YgJ2E9aWNlLWxpdGUnXCIpO3RoaXMuYXR0cmlidXRlcy5pY2VMaXRlPSEwfXBhcnNlVGxzSWQoZSl7aWYodGhpcy5hdHRyaWJ1dGVzLnRsc0lkKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgb25seSBvbmUgdGxkLWlkIGxpbmVcIik7dGhpcy5hdHRyaWJ1dGVzLnRsc0lkPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLG0pfXBhcnNlSWRlbnRpdHkoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxmKSxpPVtdO2Zvcig7IXRoaXMuYXRFbmQoZSkmJnRoaXMucGVla0NoYXIoZSk9PT1vOyl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiPVwiKTtjb25zdCBuPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLChlPT5lIT09byYmXyhlKSkpO2kucHVzaCh7bmFtZTp0LHZhbHVlOm59KX10aGlzLmF0dHJpYnV0ZXMuaWRlbnRpdGllcy5wdXNoKHthc3NlcnRpb25WYWx1ZTp0LGV4dGVuc2lvbnM6aX0pfXBhcnNlTXNpZFNlbWFudGljKGUpe3RoaXMucGVla0NoYXIoZSk9PT1vJiZ0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCB0PXtzZW1hbnRpYzp0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbiksaWRlbnRpZmllckxpc3Q6W119O2Zvcig7Oyl7dHJ5e3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpfWNhdGNoKGUpe2JyZWFrfWlmKFwiKlwiPT09dGhpcy5wZWVrQ2hhcihlKSl7dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiKlwiKSx0LmFwcGx5Rm9yQWxsPSEwO2JyZWFrfXtjb25zdCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsbyk7dC5pZGVudGlmaWVyTGlzdC5wdXNoKGkpfX10aGlzLmF0dHJpYnV0ZXMubXNpZFNlbWFudGljPXR9fWNsYXNzIEkgZXh0ZW5kcyB2e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksVCh0aGlzLFwiYXR0cmlidXRlc1wiLHZvaWQgMCksLTEhPT1lLnByb3Rvcy5pbmRleE9mKFwiUlRQXCIpfHxlLnByb3Rvcy5pbmRleE9mKFwicnRwXCIpLHRoaXMuYXR0cmlidXRlcz17dW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6W10sZXh0bWFwczpbXSxmaW5nZXJwcmludHM6W10saW1hZ2VhdHRyOltdLG1zaWRzOltdLHJlbW90ZUNhbmRpZGF0ZXNMaXN0OltdLHJpZHM6W10sc3NyY3M6W10sc3NyY0dyb3VwczpbXSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6W119fXBhcnNlKGUpe2lmKHRoaXMuZGlnZXN0ZWQpdGhyb3cgbmV3IEVycm9yKFwiYWxyZWFkeSBkaWdlc3RlZFwiKTt0cnl7c3dpdGNoKGUuYXR0RmllbGQpe2Nhc2VcImV4dG1hcFwiOnRoaXMucGFyc2VFeHRtYXAoZSk7YnJlYWs7Y2FzZVwic2V0dXBcIjp0aGlzLnBhcnNlU2V0dXAoZSk7YnJlYWs7Y2FzZVwiaWNlLXVmcmFnXCI6dGhpcy5wYXJzZUljZVVmcmFnKGUpO2JyZWFrO2Nhc2VcImljZS1wd2RcIjp0aGlzLnBhcnNlSWNlUHdkKGUpO2JyZWFrO2Nhc2VcImljZS1vcHRpb25zXCI6dGhpcy5wYXJzZUljZU9wdGlvbnMoZSk7YnJlYWs7Y2FzZVwiY2FuZGlkYXRlXCI6dGhpcy5wYXJzZUNhbmRpZGF0ZShlKTticmVhaztjYXNlXCJyZW1vdGUtY2FuZGlkYXRlXCI6dGhpcy5wYXJzZVJlbW90ZUNhbmRpZGF0ZShlKTticmVhaztjYXNlXCJlbmQtb2YtY2FuZGlkYXRlc1wiOnRoaXMucGFyc2VFbmRPZkNhbmRpZGF0ZXMoKTticmVhaztjYXNlXCJmaW5nZXJwcmludFwiOnRoaXMucGFyc2VGaW5nZXJwcmludChlKTticmVhaztjYXNlXCJydHBtYXBcIjp0aGlzLnBhcnNlUnRwbWFwKGUpO2JyZWFrO2Nhc2VcInB0aW1lXCI6dGhpcy5wYXJzZVB0aW1lKGUpO2JyZWFrO2Nhc2VcIm1heHB0aW1lXCI6dGhpcy5wYXJzZU1heFB0aW1lKGUpO2JyZWFrO2Nhc2VcInNlbmRyZWN2XCI6Y2FzZVwicmVjdm9ubHlcIjpjYXNlXCJzZW5kb25seVwiOmNhc2VcImluYWN0aXZlXCI6dGhpcy5wYXJzZURpcmVjdGlvbihlKTticmVhaztjYXNlXCJzc3JjXCI6dGhpcy5wYXJzZVNTUkMoZSk7YnJlYWs7Y2FzZVwiZm10cFwiOnRoaXMucGFyc2VGbXRwKGUpO2JyZWFrO2Nhc2VcInJ0Y3AtZmJcIjp0aGlzLnBhcnNlUnRjcEZiKGUpO2JyZWFrO2Nhc2VcInJ0Y3AtbXV4XCI6dGhpcy5wYXJzZVJUQ1BNdXgoKTticmVhaztjYXNlXCJydGNwLW11eC1vbmx5XCI6dGhpcy5wYXJzZVJUQ1BNdXhPbmx5KCk7YnJlYWs7Y2FzZVwicnRjcC1yc2l6ZVwiOnRoaXMucGFyc2VSVENQUnNpemUoKTticmVhaztjYXNlXCJydGNwXCI6dGhpcy5wYXJzZVJUQ1AoZSk7YnJlYWs7Y2FzZVwibWlkXCI6dGhpcy5wYXJzZU1pZChlKTticmVhaztjYXNlXCJtc2lkXCI6dGhpcy5wYXJzZU1zaWQoZSk7YnJlYWs7Y2FzZVwiaW1hZ2VhdHRyXCI6dGhpcy5wYXJzZUltYWdlQXR0cihlKTticmVhaztjYXNlXCJyaWRcIjp0aGlzLnBhcnNlUmlkKGUpO2JyZWFrO2Nhc2VcInNpbXVsY2FzdFwiOnRoaXMucGFyc2VTaW11bGNhc3QoZSk7YnJlYWs7Y2FzZVwic2N0cC1wb3J0XCI6dGhpcy5wYXJzZVNjdHBQb3J0KGUpO2JyZWFrO2Nhc2VcIm1heC1tZXNzYWdlLXNpemVcIjp0aGlzLnBhcnNlTWF4TWVzc2FnZVNpemUoZSk7YnJlYWs7Y2FzZVwic3NyYy1ncm91cFwiOnRoaXMucGFyc2VTU1JDR3JvdXAoZSk7YnJlYWs7ZGVmYXVsdDplLmlnbm9yZWQ9ITAsdGhpcy5hdHRyaWJ1dGVzLnVucmVjb2duaXplZC5wdXNoKGUpfX1jYXRjaCh0KXt0aHJvdyBjb25zb2xlLmVycm9yKFwicGFyc2luZyBtZWRpYSBhdHRyaWJ1dGUgXCIuY29uY2F0KGUuYXR0RmllbGQsJyBlcnJvciwgXCJhPScpLmNvbmNhdChlLmF0dEZpZWxkLFwiOlwiKS5jb25jYXQoZS5hdHRWYWx1ZSwnXCInKSksdH1pZighZS5pZ25vcmVkJiZlLmF0dFZhbHVlJiYhdGhpcy5hdEVuZChlKSl0aHJvdyBuZXcgRXJyb3IoXCJhdHRyaWJ1dGUgcGFyc2luZyBlcnJvclwiKX1wYXJzZUNhbmRpZGF0ZShlKXtjb25zdCB0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLEUsWzEsMzJdKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBpPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEsWzEsNV0pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IG49dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IHI9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSxbMSwxMF0pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IHM9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lQWRkcmVzcyk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgZD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVQb3J0KTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSx0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCJ0eXBcIiksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgbD17Zm91bmRhdGlvbjp0LGNvbXBvbmVudElkOmksdHJhbnNwb3J0Om4scHJpb3JpdHk6cixjb25uZWN0aW9uQWRkcmVzczpzLHBvcnQ6ZCx0eXBlOnRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSxleHRlbnNpb246e319O2Zvcih0aGlzLnBlZWsoZSxcIiByYWRkclwiKSYmKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIiByYWRkclwiKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSxsLnJlbEFkZHI9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lQWRkcmVzcykpLHRoaXMucGVlayhlLFwiIHJwb3J0XCIpJiYodGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiIHJwb3J0XCIpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLGwucmVsUG9ydD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVQb3J0KSk7dGhpcy5wZWVrQ2hhcihlKT09PW87KXt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSxsLmV4dGVuc2lvblt0XT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxjKX10aGlzLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcy5wdXNoKGwpfXBhcnNlUmVtb3RlQ2FuZGlkYXRlKGUpe2NvbnN0IHQ9W107Zm9yKDs7KXtjb25zdCBpPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEsWzEsNV0pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IG49dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lQWRkcmVzcyk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3Qgcj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVQb3J0KTt0LnB1c2goe2NvbXBvbmVudElkOmksY29ubmVjdGlvbkFkZHJlc3M6bixwb3J0OnJ9KTt0cnl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSl9Y2F0Y2goZSl7YnJlYWt9fXRoaXMuYXR0cmlidXRlcy5yZW1vdGVDYW5kaWRhdGVzTGlzdC5wdXNoKHQpfXBhcnNlRW5kT2ZDYW5kaWRhdGVzKCl7aWYodGhpcy5hdHRyaWJ1dGVzLmVuZE9mQ2FuZGlkYXRlcyl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIG9ubHkgb25lIGxpbmUgb2YgZW5kLW9mLWNhbmRpZGF0ZXNcIik7dGhpcy5hdHRyaWJ1dGVzLmVuZE9mQ2FuZGlkYXRlcz0hMH1wYXJzZVJ0cG1hcChlKXtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsXCIvXCIpO3RoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIi9cIik7Y29uc3Qgbj17ZW5jb2RpbmdOYW1lOmksY2xvY2tSYXRlOnRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEpfTt0aGlzLmF0RW5kKGUpfHxcIi9cIiE9PXRoaXMucGVla0NoYXIoZSl8fCh0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIvXCIpLG4uZW5jb2RpbmdQYXJhbWV0ZXJzPXBhcnNlSW50KHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwpLDEwKSk7Y29uc3Qgcj10aGlzLmF0dHJpYnV0ZXMucGF5bG9hZHMuZmluZCgoZT0+ZS5wYXlsb2FkVHlwZT09PXBhcnNlSW50KHQsMTApKSk7cj9yLnJ0cE1hcD1uOnRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5wdXNoKHtwYXlsb2FkVHlwZTpwYXJzZUludCh0LDEwKSxydHBNYXA6bixydGNwRmVlZGJhY2tzOltdfSl9cGFyc2VQdGltZShlKXtpZih0aGlzLmF0dHJpYnV0ZXMucHRpbWUpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBvbmx5IG9uZSBsaW5lIG9mIHB0aW1lXCIpO3RoaXMuYXR0cmlidXRlcy5wdGltZT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKX1wYXJzZU1heFB0aW1lKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5tYXhQdGltZSl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIG9ubHkgb25lIGxpbmUgb2YgcHRpbWVcIik7dGhpcy5hdHRyaWJ1dGVzLm1heFB0aW1lPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwpfXBhcnNlRGlyZWN0aW9uKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5kaXJlY3Rpb24pdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBvbmx5IG9uZSBsaW5lIG9mIGRpcmVjdGlvbiBpbmZvXCIpO3RoaXMuYXR0cmlidXRlcy5kaXJlY3Rpb249ZS5hdHRGaWVsZH1wYXJzZVNTUkMoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsXCI6XCIpO2xldCBuO1wiOlwiPT09dGhpcy5wZWVrQ2hhcihlKSYmKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIjpcIiksbj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKSk7Y29uc3Qgcj10aGlzLmF0dHJpYnV0ZXMuc3NyY3MuZmluZCgoZT0+ZS5zc3JjSWQ9PT1wYXJzZUludCh0LDEwKSkpO3I/ci5hdHRyaWJ1dGVzW2ldPW46dGhpcy5hdHRyaWJ1dGVzLnNzcmNzLnB1c2goe3NzcmNJZDpwYXJzZUludCh0LDEwKSxhdHRyaWJ1dGVzOntbaV06bn19KX1wYXJzZUZtdHAoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLG8pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCksbj17fTtpLnNwbGl0KFwiO1wiKS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZS5zcGxpdChcIj1cIik7dD1rZyh0KS5jYWxsKHQpO2NvbnN0IHI9XCJzdHJpbmdcIj09dHlwZW9mIGk/a2coaSkuY2FsbChpKTpudWxsO1wic3RyaW5nXCI9PXR5cGVvZiB0JiZ0Lmxlbmd0aD4wJiYoblt0XT1yKX0pKTtjb25zdCByPXRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5maW5kKChlPT5lLnBheWxvYWRUeXBlPT09cGFyc2VJbnQodCwxMCkpKTtyP3IuZm10cD17cGFyYW1ldGVyczpufTp0aGlzLmF0dHJpYnV0ZXMucGF5bG9hZHMucHVzaCh7cGF5bG9hZFR5cGU6cGFyc2VJbnQodCwxMCkscnRjcEZlZWRiYWNrczpbXSxmbXRwOntwYXJhbWV0ZXJzOm59fSl9cGFyc2VGbXRQYXJhbWV0ZXJzKGUpe2NvbnN0IHQ9e30saT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLFwiPVwiKTtlLl9jdXIrKztjb25zdCBuPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsXCI7XCIpO2Zvcih0W2ldPW47XCI7XCI9PT1lLmF0dFZhbHVlW2UuX2N1cl07KXtjb25zdCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsXCI9XCIpO2UuX2N1cisrO2NvbnN0IG49dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxcIjtcIik7dFtpXT1ufXJldHVybiB0fXBhcnNlUnRjcEZiKGUpe2xldCB0PVwiXCI7dD1cIipcIj09PXRoaXMucGVla0NoYXIoZSk/dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiKlwiKTp0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLG8pLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxvKTtsZXQgbjtpZihcInRyci1pbnRcIj09PWkpbj17dHlwZTppLGludGVydmFsOnRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwpfTtlbHNle2NvbnN0IHQ9e3R5cGU6aX07dGhpcy5wZWVrQ2hhcihlKT09PW8mJih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSx0LnBhcmFtZXRlcj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbiksdGhpcy5wZWVrQ2hhcihlKT09PW8mJih0LmFkZGl0aW9uYWw9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCkpKSxuPXR9aWYoXCIqXCI9PT10KXRoaXMuYXR0cmlidXRlcy5ydGNwRmVlZGJhY2tXaWxkY2FyZHMucHVzaChuKTtlbHNle2NvbnN0IGU9dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLmZpbmQoKGU9PmUucGF5bG9hZFR5cGU9PT1wYXJzZUludCh0LDEwKSkpO2U/ZS5ydGNwRmVlZGJhY2tzLnB1c2gobik6dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLnB1c2goe3BheWxvYWRUeXBlOnBhcnNlSW50KHQsMTApLHJ0Y3BGZWVkYmFja3M6W25dfSl9fXBhcnNlUlRDUE11eCgpe2lmKHRoaXMuYXR0cmlidXRlcy5ydGNwTXV4KXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgc2luZ2xlIGxpbmUgb2YgcnRjcC1tdXhcIik7dGhpcy5hdHRyaWJ1dGVzLnJ0Y3BNdXg9ITB9cGFyc2VSVENQTXV4T25seSgpe2lmKHRoaXMuYXR0cmlidXRlcy5ydGNwTXV4T25seSl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIHNpbmdsZSBsaW5lIG9mIHJ0Y3Atb25seVwiKTt0aGlzLmF0dHJpYnV0ZXMucnRjcE11eE9ubHk9ITB9cGFyc2VSVENQUnNpemUoKXtpZih0aGlzLmF0dHJpYnV0ZXMucnRjcFJzaXplKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgc2luZ2xlIGxpbmUgb2YgcnRjcC1yc2l6ZVwiKTt0aGlzLmF0dHJpYnV0ZXMucnRjcFJzaXplPSEwfXBhcnNlUlRDUChlKXtpZih0aGlzLmF0dHJpYnV0ZXMucnRjcCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIHNpbmdsZSBsaW5lIG9mIHJ0Y3BcIik7Y29uc3QgdD17cG9ydDp0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVQb3J0KX07dGhpcy5wZWVrQ2hhcihlKT09PW8mJih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSx0Lm5ldFR5cGU9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbCksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksdC5hZGRyZXNzVHlwZT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxsKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSx0LmFkZHJlc3M9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lQWRkcmVzcykpLHRoaXMuYXR0cmlidXRlcy5ydGNwPXR9cGFyc2VNc2lkKGUpe2NvbnN0IHQ9e2lkOnRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGwsWzEsNjRdKX07dGhpcy5wZWVrQ2hhcihlKT09PW8mJih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSx0LmFwcGRhdGE9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbCxbMSw2NF0pKSx0aGlzLmF0dHJpYnV0ZXMubXNpZHMucHVzaCh0KX1wYXJzZUltYWdlQXR0cihlKXt0aGlzLmF0dHJpYnV0ZXMuaW1hZ2VhdHRyLnB1c2goZS5hdHRWYWx1ZSl9cGFyc2VSaWQoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSwoZT0+aChlKXx8YShlKXx8XCJfXCI9PT1lfHxcIi1cIj09PWUpKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBpPXtpZDp0LGRpcmVjdGlvbjp0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbikscGFyYW1zOltdfTtpZih0aGlzLnBlZWtDaGFyKGUpPT09byl7aWYodGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksdGhpcy5wZWVrKGUsXCJwdD1cIikpe3RoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcInB0PVwiKTtjb25zdCB0PVtdO2Zvcig7Oyl7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7dC5wdXNoKGkpO3RyeXt0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIsXCIpfWNhdGNoKGUpe2JyZWFrfX1pLnBheWxvYWRzPXQsdGhpcy5wZWVrQ2hhcihlKT09PW8mJnRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxvKX1mb3IoOzspe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3N3aXRjaCh0KXtjYXNlXCJkZXBlbmRcIjp7Y29uc3Qgbj17dHlwZTp0LHJpZHM6dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiPVwiKS5zcGxpdChcIixcIil9O2kucGFyYW1zLnB1c2gobik7YnJlYWt9ZGVmYXVsdDp7Y29uc3Qgbj17dHlwZTp0fTtcIj1cIj09PXRoaXMucGVla0NoYXIoZSkmJih0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCI9XCIpLG4udmFsPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsXCI7XCIpKSxpLnBhcmFtcy5wdXNoKG4pfX10cnl7dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiO1wiKX1jYXRjaChlKXticmVha319fXRoaXMuYXR0cmlidXRlcy5yaWRzLnB1c2goaSl9cGFyc2VTaW11bGNhc3QoZSl7aWYodGhpcy5hdHRyaWJ1dGVzLnNpbXVsY2FzdCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIHNpbmdsZSBsaW5lIG9mIHNpbXVsY2FzdFwiKTt0aGlzLmF0dHJpYnV0ZXMuc2ltdWxjYXN0PWUuYXR0VmFsdWUsdGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCl9cGFyc2VTY3RwUG9ydChlKXt0aGlzLmF0dHJpYnV0ZXMuc2N0cFBvcnQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSxbMSw1XSl9cGFyc2VNYXhNZXNzYWdlU2l6ZShlKXt0aGlzLmF0dHJpYnV0ZXMubWF4TWVzc2FnZVNpemU9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSxbMSx2b2lkIDBdKX1kaWdlc3QoKXtyZXR1cm4gdGhpcy5kaWdlc3RlZD0hMCx0aGlzLmF0dHJpYnV0ZXN9cGFyc2VNaWQoZSl7dGhpcy5hdHRyaWJ1dGVzLm1pZD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbil9cGFyc2VTU1JDR3JvdXAoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbiksaT1bXTtmb3IoOzspdHJ5e3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lSW50ZWdlcik7aS5wdXNoKHBhcnNlSW50KHQsMTApKX1jYXRjaChlKXticmVha310aGlzLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5wdXNoKHtzZW1hbnRpYzp0LHNzcmNJZHM6aX0pfX1mdW5jdGlvbiBBKGUsdCxpKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPWksZX1jbGFzcyBie2NvbnN0cnVjdG9yKCl7QSh0aGlzLFwiZW9sXCIscil9cHJpbnQoZSx0KXtsZXQgaT1cIlwiO3JldHVybiB0JiYodGhpcy5lb2w9dCksaSs9dGhpcy5wcmludFZlcnNpb24oZS52ZXJzaW9uKSxpKz10aGlzLnByaW50T3JpZ2luKGUub3JpZ2luKSxpKz10aGlzLnByaW50U2Vzc2lvbk5hbWUoZS5zZXNzaW9uTmFtZSksaSs9dGhpcy5wcmludEluZm9ybWF0aW9uKGUuaW5mb3JtYXRpb24pLGkrPXRoaXMucHJpbnRVcmkoZS51cmkpLGkrPXRoaXMucHJpbnRFbWFpbChlLmVtYWlscyksaSs9dGhpcy5wcmludFBob25lKGUucGhvbmVzKSxpKz10aGlzLnByaW50Q29ubmVjdGlvbihlLmNvbm5lY3Rpb24pLGkrPXRoaXMucHJpbnRCYW5kd2lkdGgoZS5iYW5kd2lkdGhzKSxpKz10aGlzLnByaW50VGltZUZpZWxkcyhlLnRpbWVGaWVsZHMpLGkrPXRoaXMucHJpbnRLZXkoZS5rZXkpLGkrPXRoaXMucHJpbnRTZXNzaW9uQXR0cmlidXRlcyhlLmF0dHJpYnV0ZXMpLGkrPXRoaXMucHJpbnRNZWRpYURlc2NyaXB0aW9uKGUubWVkaWFEZXNjcmlwdGlvbnMpLGl9cHJpbnRWZXJzaW9uKGUpe3JldHVyblwidj1cIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludE9yaWdpbihlKXtyZXR1cm5cIm89XCIuY29uY2F0KGUudXNlcm5hbWUsXCIgXCIpLmNvbmNhdChlLnNlc3NJZCxcIiBcIikuY29uY2F0KGUuc2Vzc1ZlcnNpb24sXCIgXCIpLmNvbmNhdChlLm5ldHR5cGUsXCIgXCIpLmNvbmNhdChlLmFkZHJ0eXBlLFwiIFwiKS5jb25jYXQoZS51bmljYXN0QWRkcmVzcykuY29uY2F0KHRoaXMuZW9sKX1wcmludFNlc3Npb25OYW1lKGUpe3JldHVybiBlP1wicz1cIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50SW5mb3JtYXRpb24oZSl7cmV0dXJuIGU/XCJpPVwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRVcmkoZSl7cmV0dXJuIGU/XCJ1PVwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRFbWFpbChlKXtsZXQgdD1cIlwiO2Zvcihjb25zdCBpIG9mIGUpdCs9XCJlPVwiLmNvbmNhdChpKS5jb25jYXQodGhpcy5lb2wpO3JldHVybiB0fXByaW50UGhvbmUoZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXQrPVwiZT1cIi5jb25jYXQoaSkuY29uY2F0KHRoaXMuZW9sKTtyZXR1cm4gdH1wcmludENvbm5lY3Rpb24oZSl7cmV0dXJuIGU/XCJjPVwiLmNvbmNhdChlLm5ldHR5cGUsXCIgXCIpLmNvbmNhdChlLmFkZHJ0eXBlLFwiIFwiKS5jb25jYXQoZS5hZGRyZXNzKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRCYW5kd2lkdGgoZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXQrPVwiYj1cIi5jb25jYXQoaS5id3R5cGUsXCI6XCIpLmNvbmNhdChpLmJhbmR3aWR0aCkuY29uY2F0KHRoaXMuZW9sKTtyZXR1cm4gdH1wcmludFRpbWVGaWVsZHMoZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXt0Kz1cInQ9XCIuY29uY2F0KGkudGltZS5zdGFydFRpbWUsXCIgXCIpLmNvbmNhdChpLnRpbWUuc3RhcnRUaW1lKS5jb25jYXQodGhpcy5lb2wpO2Zvcihjb25zdCBlIG9mIGkucmVwZWF0cyl0Kz1cInI9XCIuY29uY2F0KGUucmVwZWF0SW50ZXJ2YWwsXCIgXCIpLmNvbmNhdChlLnR5cGVkVGltZXMuam9pbihcIiBcIikpLmNvbmNhdCh0aGlzLmVvbCk7aS56b25lQWRqdXN0bWVudHMmJih0Kz1cIno9XCIsdCs9XCJ6PVwiLmNvbmNhdChpLnpvbmVBZGp1c3RtZW50cy5tYXAoKGU9PlwiXCIuY29uY2F0KGUudGltZSxcIiBcIikuY29uY2F0KGUuYmFjaz9cIi1cIjpcIlwiLFwiIFwiKS5jb25jYXQoZS50eXBlZFRpbWUpKSkuam9pbihcIiBcIikpLmNvbmNhdCh0aGlzLmVvbCksdCs9dGhpcy5lb2wpfXJldHVybiB0fXByaW50S2V5KGUpe3JldHVybiBlP1wiaz1cIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50QXR0cmlidXRlcyhlKXtsZXQgdD1cIlwiO2Zvcihjb25zdCBpIG9mIGUpdCs9XCJhPVwiLmNvbmNhdChpLmF0dEZpZWxkKS5jb25jYXQoaS5hdHRWYWx1ZT9cIjpcIi5jb25jYXQoaS5hdHRWYWx1ZSk6XCJcIikuY29uY2F0KHRoaXMuZW9sKTtyZXR1cm4gdH1wcmludE1lZGlhRGVzY3JpcHRpb24oZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXQrPXRoaXMucHJpbnRNZWRpYShpLm1lZGlhKSx0Kz10aGlzLnByaW50SW5mb3JtYXRpb24oaS5pbmZvcm1hdGlvbiksdCs9dGhpcy5wcmludENvbm5lY3Rpb25zKGkuY29ubmVjdGlvbnMpLHQrPXRoaXMucHJpbnRCYW5kd2lkdGgoaS5iYW5kd2lkdGhzKSx0Kz10aGlzLnByaW50S2V5KGkua2V5KSx0Kz10aGlzLnByaW50TWVkaWFBdHRyaWJ1dGVzKGkpO3JldHVybiB0fXByaW50Q29ubmVjdGlvbnMoZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXQrPXRoaXMucHJpbnRDb25uZWN0aW9uKGkpO3JldHVybiB0fXByaW50TWVkaWEoZSl7cmV0dXJuXCJtPVwiLmNvbmNhdChlLm1lZGlhVHlwZSxcIiBcIikuY29uY2F0KGUucG9ydCxcIiBcIikuY29uY2F0KGUucHJvdG9zLmpvaW4oXCIvXCIpLFwiIFwiKS5jb25jYXQoZS5mbXRzLmpvaW4oXCIgXCIpKS5jb25jYXQodGhpcy5lb2wpfXByaW50U2Vzc2lvbkF0dHJpYnV0ZXMoZSl7cmV0dXJuIG5ldyBPKHRoaXMuZW9sKS5wcmludChlKX1wcmludE1lZGlhQXR0cmlidXRlcyhlKXtyZXR1cm4gbmV3IE4odGhpcy5lb2wpLnByaW50KGUpfX1jbGFzcyB3e2NvbnN0cnVjdG9yKGUpe0EodGhpcyxcImVvbFwiLHZvaWQgMCksdGhpcy5lb2w9ZX1wcmludEljZVVmcmFnKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPWljZS11ZnJhZzpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludEljZVB3ZChlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1pY2UtcHdkOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50SWNlT3B0aW9ucyhlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1pY2Utb3B0aW9uczpcIi5jb25jYXQoZS5qb2luKG8pKS5jb25jYXQodGhpcy5lb2wpfXByaW50RmluZ2VycHJpbnRzKGUpe3JldHVybiBlLmxlbmd0aD4wP2UubWFwKChlPT5cImE9ZmluZ2VycHJpbnQ6XCIuY29uY2F0KGUuaGFzaEZ1bmN0aW9uKS5jb25jYXQobykuY29uY2F0KGUuZmluZ2VycHJpbnQpKSkuam9pbih0aGlzLmVvbCkrdGhpcy5lb2w6XCJcIn1wcmludEV4dG1hcChlKXtyZXR1cm4gZS5tYXAoKGU9PlwiYT1leHRtYXA6XCIuY29uY2F0KGUuZW50cnkpLmNvbmNhdChlLmRpcmVjdGlvbj9cIi9cIi5jb25jYXQoZS5kaXJlY3Rpb24pOlwiXCIpLmNvbmNhdChvKS5jb25jYXQoZS5leHRlbnNpb25OYW1lKS5jb25jYXQoZS5leHRlbnNpb25BdHRyaWJ1dGVzP1wiXCIuY29uY2F0KG8pLmNvbmNhdChlLmV4dGVuc2lvbkF0dHJpYnV0ZXMpOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpfXByaW50U2V0dXAoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9c2V0dXA6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRVbnJlY29nbml6ZWQoZSl7cmV0dXJuIGUubWFwKChlPT5cImE9XCIuY29uY2F0KGUuYXR0RmllbGQpLmNvbmNhdChlLmF0dFZhbHVlP1wiOlwiLmNvbmNhdChlLmF0dFZhbHVlKTpcIlwiKS5jb25jYXQodGhpcy5lb2wpKSkuam9pbihcIlwiKX19Y2xhc3MgTyBleHRlbmRzIHd7cHJpbnQoZSl7bGV0IHQ9XCJcIjtyZXR1cm4gdCs9dGhpcy5wcmludEdyb3VwcyhlLmdyb3VwcyksdCs9dGhpcy5wcmludE1zaWRTZW1hbnRpYyhlLm1zaWRTZW1hbnRpYyksdCs9dGhpcy5wcmludEljZUxpdGUoZS5pY2VMaXRlKSx0Kz10aGlzLnByaW50SWNlVWZyYWcoZS5pY2VVZnJhZyksdCs9dGhpcy5wcmludEljZVB3ZChlLmljZVB3ZCksdCs9dGhpcy5wcmludEljZU9wdGlvbnMoZS5pY2VPcHRpb25zKSx0Kz10aGlzLnByaW50RmluZ2VycHJpbnRzKGUuZmluZ2VycHJpbnRzKSx0Kz10aGlzLnByaW50U2V0dXAoZS5zZXR1cCksdCs9dGhpcy5wcmludFRsc0lkKGUudGxzSWQpLHQrPXRoaXMucHJpbnRJZGVudGl0eShlLmlkZW50aXRpZXMpLHQrPXRoaXMucHJpbnRFeHRtYXAoZS5leHRtYXBzKSx0Kz10aGlzLnByaW50VW5yZWNvZ25pemVkKGUudW5yZWNvZ25pemVkKSx0fXByaW50R3JvdXBzKGUpe2xldCB0PVwiXCI7cmV0dXJuIGUubGVuZ3RoPjAmJih0Kz1lLm1hcCgoZT0+XCJhPWdyb3VwOlwiLmNvbmNhdChlLnNlbWFudGljKS5jb25jYXQoZS5pZGVudGlmaWNhdGlvblRhZy5tYXAoKGU9PlwiXCIuY29uY2F0KG8pLmNvbmNhdChlKSkpLmpvaW4oXCJcIikpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpKSx0fXByaW50SWNlTGl0ZShlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1pY2UtbGl0ZVwiK3RoaXMuZW9sfXByaW50VGxzSWQoZSl7cmV0dXJuIGU/XCJhPXRscy1pZDpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50SWRlbnRpdHkoZSl7cmV0dXJuIDA9PT1lLmxlbmd0aD9cIlwiOmUubWFwKChlPT5cImE9aWRlbnRpdHk6XCIuY29uY2F0KGUuYXNzZXJ0aW9uVmFsdWUpLmNvbmNhdChlLmV4dGVuc2lvbnMubWFwKChlPT5cIlwiLmNvbmNhdChvKS5jb25jYXQoZS5uYW1lKS5jb25jYXQoZS52YWx1ZT9cIj1cIi5jb25jYXQoZS52YWx1ZSk6XCJcIikpKSkpKS5qb2luKHRoaXMuZW9sKSt0aGlzLmVvbH1wcmludE1zaWRTZW1hbnRpYyhlKXtpZighZSlyZXR1cm5cIlwiO2xldCB0PVwiYT1tc2lkLXNlbWFudGljOlwiLmNvbmNhdChlLnNlbWFudGljKTtyZXR1cm4gZS5hcHBseUZvckFsbD90Kz1cIlwiLmNvbmNhdChvLFwiKlwiKTplLmlkZW50aWZpZXJMaXN0Lmxlbmd0aD4wJiYodCs9ZS5pZGVudGlmaWVyTGlzdC5tYXAoKGU9PlwiXCIuY29uY2F0KG8pLmNvbmNhdChlKSkpKSx0K3RoaXMuZW9sfX1jbGFzcyBOIGV4dGVuZHMgd3twcmludChlKXtjb25zdCB0PWUuYXR0cmlidXRlcztsZXQgaT1cIlwiO3JldHVybiBpKz10aGlzLnByaW50UlRDUCh0LnJ0Y3ApLGkrPXRoaXMucHJpbnRJY2VVZnJhZyh0LmljZVVmcmFnKSxpKz10aGlzLnByaW50SWNlUHdkKHQuaWNlUHdkKSxpKz10aGlzLnByaW50SWNlT3B0aW9ucyh0LmljZU9wdGlvbnMpLGkrPXRoaXMucHJpbnRDYW5kaWRhdGVzKHQuY2FuZGlkYXRlcyksaSs9dGhpcy5wcmludFJlbW90ZUNhbmRpZGF0ZXNMaXN0KHQucmVtb3RlQ2FuZGlkYXRlc0xpc3QpLGkrPXRoaXMucHJpbnRFbmRPZkNhbmRpZGF0ZXModC5lbmRPZkNhbmRpZGF0ZXMpLGkrPXRoaXMucHJpbnRGaW5nZXJwcmludHModC5maW5nZXJwcmludHMpLGkrPXRoaXMucHJpbnRTZXR1cCh0LnNldHVwKSxpKz10aGlzLnByaW50TWlkKHQubWlkKSxpKz10aGlzLnByaW50RXh0bWFwKHQuZXh0bWFwcyksaSs9dGhpcy5wcmludFJUUFJlbGF0ZWQodCksaSs9dGhpcy5wcmludFB0aW1lKHQucHRpbWUpLGkrPXRoaXMucHJpbnRNYXhQdGltZSh0Lm1heFB0aW1lKSxpKz10aGlzLnByaW50RGlyZWN0aW9uKHQuZGlyZWN0aW9uKSxpKz10aGlzLnByaW50U1NSQ0dyb3Vwcyh0LnNzcmNHcm91cHMpLGkrPXRoaXMucHJpbnRTU1JDKHQuc3NyY3MpLGkrPXRoaXMucHJpbnRSVENQTXV4KHQucnRjcE11eCksaSs9dGhpcy5wcmludFJUQ1BNdXhPbmx5KHQucnRjcE11eE9ubHkpLGkrPXRoaXMucHJpbnRSVENQUnNpemUodC5ydGNwUnNpemUpLGkrPXRoaXMucHJpbnRNU0lkKHQubXNpZHMpLGkrPXRoaXMucHJpbnRJbWFnZWF0dHIodC5pbWFnZWF0dHIpLGkrPXRoaXMucHJpbnRSaWQodC5yaWRzKSxpKz10aGlzLnByaW50U2ltdWxjYXN0KHQuc2ltdWxjYXN0KSxpKz10aGlzLnByaW50U0NUUFBvcnQodC5zY3RwUG9ydCksaSs9dGhpcy5wcmludE1heE1lc3NhZ2VTaXplKHQubWF4TWVzc2FnZVNpemUpLGkrPXRoaXMucHJpbnRVbnJlY29nbml6ZWQodC51bnJlY29nbml6ZWQpLGl9cHJpbnRDYW5kaWRhdGVzKGUpe3JldHVybiBlLm1hcCgoZT0+XCJhPWNhbmRpZGF0ZTpcIi5jb25jYXQoZS5mb3VuZGF0aW9uKS5jb25jYXQobykuY29uY2F0KGUuY29tcG9uZW50SWQpLmNvbmNhdChvKS5jb25jYXQoZS50cmFuc3BvcnQpLmNvbmNhdChvKS5jb25jYXQoZS5wcmlvcml0eSkuY29uY2F0KG8pLmNvbmNhdChlLmNvbm5lY3Rpb25BZGRyZXNzKS5jb25jYXQobykuY29uY2F0KGUucG9ydCkuY29uY2F0KG8sXCJ0eXBcIikuY29uY2F0KG8pLmNvbmNhdChlLnR5cGUpLmNvbmNhdChlLnJlbEFkZHI/XCJcIi5jb25jYXQobyxcInJhZGRyXCIpLmNvbmNhdChvKS5jb25jYXQoZS5yZWxBZGRyKTpcIlwiKS5jb25jYXQoZS5yZWxQb3J0P1wiXCIuY29uY2F0KG8sXCJycG9ydFwiKS5jb25jYXQobykuY29uY2F0KGUucmVsUG9ydCk6XCJcIikuY29uY2F0KE9iamVjdC5rZXlzKGUuZXh0ZW5zaW9uKS5tYXAoKHQ9PlwiXCIuY29uY2F0KG8pLmNvbmNhdCh0KS5jb25jYXQobykuY29uY2F0KGUuZXh0ZW5zaW9uW3RdKSkpLmpvaW4oXCJcIikpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpfXByaW50UmVtb3RlQ2FuZGlkYXRlc0xpc3QoZSl7cmV0dXJuIGUubWFwKChlPT5cImE9cmVtb3RlLWNhbmRpZGF0ZXM6XCIuY29uY2F0KGUuam9pbihvKSkuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIil9cHJpbnRFbmRPZkNhbmRpZGF0ZXMoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9ZW5kLW9mLWNhbmRpZGF0ZXNcIit0aGlzLmVvbH1wcmludFJUUFJlbGF0ZWQoZSl7aWYoIWUucGF5bG9hZHMpcmV0dXJuXCJcIjtjb25zdCB0PWUucGF5bG9hZHM7bGV0IGk9XCJcIjtpKz1lLnJ0Y3BGZWVkYmFja1dpbGRjYXJkcy5tYXAoKGU9PnRoaXMucHJpbnRSVENQRmVlZGJhY2soXCIqXCIsZSkpKS5qb2luKFwiXCIpO2Zvcihjb25zdCBlIG9mIHQpaSs9dGhpcy5wcmludFJ0cE1hcChlLnBheWxvYWRUeXBlLGUucnRwTWFwKSxpKz10aGlzLnByaW50Rm10cChlLnBheWxvYWRUeXBlLGUuZm10cCksaSs9ZS5ydGNwRmVlZGJhY2tzLm1hcCgodD0+dGhpcy5wcmludFJUQ1BGZWVkYmFjayhlLnBheWxvYWRUeXBlLHQpKSkuam9pbihcIlwiKTtyZXR1cm4gaX1wcmludEZtdHAoZSx0KXtpZighdClyZXR1cm5cIlwiO2NvbnN0IGk9T2JqZWN0LmtleXModC5wYXJhbWV0ZXJzKTtyZXR1cm4gMT09PWkubGVuZ3RoJiZudWxsPT09dC5wYXJhbWV0ZXJzW2lbMF1dP1wiYT1mbXRwOlwiLmNvbmNhdChlKS5jb25jYXQobykuY29uY2F0KGlbMF0pLmNvbmNhdCh0aGlzLmVvbCk6XCJhPWZtdHA6XCIuY29uY2F0KGUpLmNvbmNhdChvKS5jb25jYXQoT2JqZWN0LmtleXModC5wYXJhbWV0ZXJzKS5tYXAoKGU9PlwiXCIuY29uY2F0KGUsXCI9XCIpLmNvbmNhdCh0LnBhcmFtZXRlcnNbZV0pKSkuam9pbihcIjtcIikpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRSdHBNYXAoZSx0KXtyZXR1cm4gdD9cImE9cnRwbWFwOlwiLmNvbmNhdChlKS5jb25jYXQobykuY29uY2F0KHQuZW5jb2RpbmdOYW1lLFwiL1wiKS5jb25jYXQodC5jbG9ja1JhdGUpLmNvbmNhdCh0LmVuY29kaW5nUGFyYW1ldGVycz9cIi9cIi5jb25jYXQodC5lbmNvZGluZ1BhcmFtZXRlcnMpOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludFJUQ1BGZWVkYmFjayhlLHQpe2xldCBpPVwiYT1ydGNwLWZiOlwiLmNvbmNhdChlKS5jb25jYXQobyksbj10O3JldHVyblwidHJyLWludFwiPT09bi50eXBlP2krPVwidHRyLWludFwiLmNvbmNhdChvKS5jb25jYXQobi5pbnRlcnZhbCk6KGkrPVwiXCIuY29uY2F0KG4udHlwZSksbi5wYXJhbWV0ZXImJihpKz1cIlwiLmNvbmNhdChvKS5jb25jYXQobi5wYXJhbWV0ZXIpLG4uYWRkaXRpb25hbCYmKGkrPVwiXCIuY29uY2F0KG8pLmNvbmNhdChuLmFkZGl0aW9uYWwpKSkpLGkrdGhpcy5lb2x9cHJpbnRQdGltZShlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1wdGltZTpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludE1heFB0aW1lKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPW1heHB0aW1lOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50RGlyZWN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPVwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50U1NSQyhlKXtyZXR1cm4gZS5tYXAoKGU9Pk9iamVjdC5rZXlzKGUuYXR0cmlidXRlcykubWFwKCh0PT5cImE9c3NyYzpcIi5jb25jYXQoZS5zc3JjSWQudG9TdHJpbmcoMTApKS5jb25jYXQobykuY29uY2F0KHQpLmNvbmNhdChlLmF0dHJpYnV0ZXNbdF0/XCI6XCIuY29uY2F0KGUuYXR0cmlidXRlc1t0XSk6XCJcIikuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIikpKS5qb2luKFwiXCIpfXByaW50UlRDUE11eChlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1ydGNwLW11eFwiLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRSVENQTXV4T25seShlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1ydGNwLW11eC1vbmx5XCIuY29uY2F0KHRoaXMuZW9sKX1wcmludFJUQ1BSc2l6ZShlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1ydGNwLXJzaXplXCIuY29uY2F0KHRoaXMuZW9sKX1wcmludFJUQ1AoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm5cIlwiO2xldCB0PVwiYT1ydGNwOlwiLmNvbmNhdChlLnBvcnQpO3JldHVybiBlLm5ldFR5cGUmJih0Kz1cIlwiLmNvbmNhdChvKS5jb25jYXQoZS5uZXRUeXBlKSksZS5hZGRyZXNzVHlwZSYmKHQrPVwiXCIuY29uY2F0KG8pLmNvbmNhdChlLmFkZHJlc3NUeXBlKSksZS5hZGRyZXNzJiYodCs9XCJcIi5jb25jYXQobykuY29uY2F0KGUuYWRkcmVzcykpLHQrdGhpcy5lb2x9cHJpbnRNU0lkKGUpe3JldHVybiBlLm1hcCgoZT0+XCJhPW1zaWQ6XCIuY29uY2F0KGUuaWQpLmNvbmNhdChlLmFwcGRhdGE/XCJcIi5jb25jYXQobykuY29uY2F0KGUuYXBwZGF0YSk6XCJcIikuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIil9cHJpbnRJbWFnZWF0dHIoZSl7cmV0dXJuIGUubWFwKChlPT5cImE9aW1hZ2VhdHRyOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpKSkuam9pbihcIlwiKX1wcmludFJpZChlKXtyZXR1cm4gZS5tYXAoKGU9PntsZXQgdD1cImE9cmlkOlwiLmNvbmNhdChlLmlkKS5jb25jYXQobykuY29uY2F0KGUuZGlyZWN0aW9uKTtyZXR1cm4gZS5wYXlsb2FkcyYmKHQrPVwiXCIuY29uY2F0KG8sXCJwdD1cIikuY29uY2F0KGUucGF5bG9hZHMuam9pbihcIixcIikpKSxlLnBhcmFtcy5sZW5ndGg+MCYmKHQrPVwiXCIuY29uY2F0KG8pLmNvbmNhdChlLnBhcmFtcy5tYXAoKGU9PlwiZGVwZW5kXCI9PT1lLnR5cGU/XCJkZXBlbmQ9XCIuY29uY2F0KGUucmlkcy5qb2luKFwiLFwiKSk6XCJcIi5jb25jYXQoZS50eXBlLFwiPVwiKS5jb25jYXQoZS52YWwpKSkuam9pbihcIjtcIikpKSx0K3RoaXMuZW9sfSkpLmpvaW4oXCJcIil9cHJpbnRTaW11bGNhc3QoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9c2ltdWxjYXN0OlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50U0NUUFBvcnQoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9c2N0cC1wb3J0OlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50TWF4TWVzc2FnZVNpemUoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9bWF4LW1lc3NhZ2Utc2l6ZTpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludE1pZChlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1taWQ6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRTU1JDR3JvdXBzKGUpe3JldHVybiBlLm1hcCgoZT0+XCJhPXNzcmMtZ3JvdXA6XCIuY29uY2F0KGUuc2VtYW50aWMpLmNvbmNhdChlLnNzcmNJZHMubWFwKChlPT5cIlwiLmNvbmNhdChvKS5jb25jYXQoZS50b1N0cmluZygxMCkpKSkuam9pbihcIlwiKSkuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIil9fWZ1bmN0aW9uIEQoZSl7cmV0dXJuKG5ldyBDKS5wYXJzZShlKX1mdW5jdGlvbiBQKGUsdCl7cmV0dXJuKG5ldyBiKS5wcmludChlLHQpfX19LHQ9e307ZnVuY3Rpb24gaShuKXtpZih0W25dKXJldHVybiB0W25dLmV4cG9ydHM7dmFyIHI9dFtuXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbbl0ocixyLmV4cG9ydHMsaSksci5leHBvcnRzfXJldHVybiBpLmQ9KGUsdCk9Pntmb3IodmFyIG4gaW4gdClpLm8odCxuKSYmIWkubyhlLG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDp0W25dfSl9LGkubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksaS5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxpKDgpfSkoKTtmdW5jdGlvbiBMRChlKXtyZXR1cm4gUEQucGFyc2UoZSl9ZnVuY3Rpb24ga0QoZSx0KXtyZXR1cm4gUEQucHJpbnQoZSx0KX12YXIgTUQ9WmkoXCJBcnJheVwiLFwia2V5c1wiKSxVRD1FbixWRD0kZSx4RD1sLEZEPU1ELEJEPUFycmF5LnByb3RvdHlwZSxqRD17RE9NVG9rZW5MaXN0OiEwLE5vZGVMaXN0OiEwfSxHRD1mdW5jdGlvbihlKXt2YXIgdD1lLmtleXM7cmV0dXJuIGU9PT1CRHx8eEQoQkQsZSkmJnQ9PT1CRC5rZXlzfHxWRChqRCxVRChlKSk/RkQ6dH0sV0Q9aShHRCk7ZnVuY3Rpb24gSEQoZSx0LGkpe3JldHVybih0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlKXJldHVybiBlO3ZhciBpPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1pKXt2YXIgbj1pLmNhbGwoZSxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT10eXBlb2YgbilyZXR1cm4gbjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyhlKX0oZSk7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHQ/dDp0K1wiXCJ9KHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfWZ1bmN0aW9uIEtEKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBZRChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9LRChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe0hEKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpLRChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiB6RChlLHQpe3JldHVybiB6RD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9LHpEKGUsdCl9ZnVuY3Rpb24gcUQoKXtxRD1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaShlLHZvaWQgMCx0KX07dmFyIGU9UmVnRXhwLnByb3RvdHlwZSx0PW5ldyBXZWFrTWFwO2Z1bmN0aW9uIGkoZSxuLHIpe3ZhciBvPVJlZ0V4cChlLG4pO3JldHVybiB0LnNldChvLHJ8fHQuZ2V0KGUpKSx6RChvLGkucHJvdG90eXBlKX1mdW5jdGlvbiBuKGUsaSl7dmFyIG4scj10LmdldChpKTtyZXR1cm4gbnIobj1PYmplY3Qua2V5cyhyKSkuY2FsbChuLChmdW5jdGlvbih0LGkpe3ZhciBuPXJbaV07aWYoXCJudW1iZXJcIj09dHlwZW9mIG4pdFtpXT1lW25dO2Vsc2V7Zm9yKHZhciBvPTA7dm9pZCAwPT09ZVtuW29dXSYmbysxPG4ubGVuZ3RoOylvKys7dFtpXT1lW25bb11dfXJldHVybiB0fSksT2JqZWN0LmNyZWF0ZShudWxsKSl9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHQmJnpEKGUsdCl9KGksUmVnRXhwKSxpLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQpe3ZhciBpPWUuZXhlYy5jYWxsKHRoaXMsdCk7aWYoaSl7aS5ncm91cHM9bihpLHRoaXMpO3ZhciByPWkuaW5kaWNlcztyJiYoci5ncm91cHM9bihyLHRoaXMpKX1yZXR1cm4gaX0saS5wcm90b3R5cGVbU3ltYm9sLnJlcGxhY2VdPWZ1bmN0aW9uKGkscil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIpe3ZhciBvPXQuZ2V0KHRoaXMpO3JldHVybiBlW1N5bWJvbC5yZXBsYWNlXS5jYWxsKHRoaXMsaSxyLnJlcGxhY2UoL1xcJDwoW14+XSspKD58JCkvZywoZnVuY3Rpb24oZSx0LGkpe2lmKFwiXCI9PT1pKXJldHVybiBlO3ZhciBuPW9bdF07cmV0dXJuIEFycmF5LmlzQXJyYXkobik/XCIkXCIrbi5qb2luKFwiJFwiKTpcIm51bWJlclwiPT10eXBlb2Ygbj9cIiRcIituOlwiXCJ9KSkpfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpe3ZhciBzPXRoaXM7cmV0dXJuIGVbU3ltYm9sLnJlcGxhY2VdLmNhbGwodGhpcyxpLChmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZVtlLmxlbmd0aC0xXSYmKGU9W10uc2xpY2UuY2FsbChlKSkucHVzaChuKGUscykpLHIuYXBwbHkodGhpcyxlKX0pKX1yZXR1cm4gZVtTeW1ib2wucmVwbGFjZV0uY2FsbCh0aGlzLGkscil9LHFELmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jb25zdCBYRD1uZXcgY2xhc3MgZXh0ZW5kcyBOT3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksSEQodGhpcyxcImN1cnJlbnRVcGxvYWRMb2dJRFwiLDApfXJlcG9ydExvZ1VwbG9hZEVycm9yKGUpe2NvbnN0e2Vycm9yUmFuZ2U6dH09ZTt0W3QubGVuZ3RoLTFdJiZ0W3QubGVuZ3RoLTFdPnRoaXMuY3VycmVudFVwbG9hZExvZ0lEJiYodGhpcy5jdXJyZW50VXBsb2FkTG9nSUQ9dFt0Lmxlbmd0aC0xXSx0aGlzLmVtaXQoXCJSRVBPUlRfTE9HX1VQTE9BRFwiLGUpKX19O2NsYXNzIEpEe2NvbnN0cnVjdG9yKGUpe0hEKHRoaXMsXCJsb2dnZXJcIix2b2lkIDApLEhEKHRoaXMsXCJwcmVmaXhMaXN0c1wiLFtdKSx0aGlzLmxvZ2dlcj1lfWRlYnVnKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07dGhpcy5sb2dnZXIuZGVidWcoLi4udGhpcy5wcmVmaXhMaXN0cywuLi50KX1pbmZvKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07dGhpcy5sb2dnZXIuaW5mbyguLi50aGlzLnByZWZpeExpc3RzLC4uLnQpfXdhcm5pbmcoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTt0aGlzLmxvZ2dlci53YXJuaW5nKC4uLnRoaXMucHJlZml4TGlzdHMsLi4udCl9ZXJyb3IoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTt0aGlzLmxvZ2dlci5lcnJvciguLi50aGlzLnByZWZpeExpc3RzLC4uLnQpfXByZWZpeChlKXtyZXR1cm4gdGhpcy5wcmVmaXhMaXN0cy5wdXNoKGUpLHRoaXN9cG9wUHJlZml4KCl7cmV0dXJuIHRoaXMucHJlZml4TGlzdHMucG9wKCksdGhpc319ZnVuY3Rpb24gUUQoKXtjb25zdCBlPW5ldyBEYXRlO3JldHVybiBlLnRvVGltZVN0cmluZygpLnNwbGl0KFwiIFwiKVswXStcIjpcIitlLmdldE1pbGxpc2Vjb25kcygpfWZ1bmN0aW9uIFpEKCl7Y29uc3QgZT1uZXcgRGF0ZSx0PS8oKFxcZCs6KXsyfVxcZCspLy5leGVjKChuZXcgRGF0ZSkudG9VVENTdHJpbmcoKSk7cmV0dXJuIHQ/KG51bGw9PXQ/dm9pZCAwOnRbMF0pK1wiOlwiK2UuZ2V0VVRDTWlsbGlzZWNvbmRzKCk6ZS50b1RpbWVTdHJpbmcoKS5zcGxpdChcIiBcIilbMF0rXCI6XCIrZS5nZXRNaWxsaXNlY29uZHMoKX1jb25zdCAkRD17REVCVUc6MCxJTkZPOjEsV0FSTklORzoyLEVSUk9SOjMsTk9ORTo0fSxlUD1EYXRlLm5vdygpLHRQPWU9Pntmb3IoY29uc3QgdCBpbiAkRClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJEQsdCkmJiREW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm5cIkRFRkFVTFRcIn07Y29uc3QgaVA9bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7SEQodGhpcyxcInByb3h5U2VydmVyVVJMXCIsdm9pZCAwKSxIRCh0aGlzLFwibG9nTGV2ZWxcIiwkRC5ERUJVRyksSEQodGhpcyxcInVwbG9hZFN0YXRlXCIsXCJjb2xsZWN0aW5nXCIpLEhEKHRoaXMsXCJ1cGxvYWRMb2dXYWl0aW5nTGlzdFwiLFtdKSxIRCh0aGlzLFwidXBsb2FkTG9nVXBsb2FkaW5nTGlzdFwiLFtdKSxIRCh0aGlzLFwidXBsb2FkRXJyb3JDb3VudFwiLDApLEhEKHRoaXMsXCJjdXJyZW50TG9nSURcIiwwKSxIRCh0aGlzLFwidXJsXCIsdm9pZCAwKSxIRCh0aGlzLFwiZXh0TG9nXCIsKChlLHQpPT57dGhpcy5hcHBlbmRMb2dUb1dhaXRpbmdMaXN0KGUsLi4udCl9KSl9ZGVidWcoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtjb25zdCBuPVskRC5ERUJVR10uY29uY2F0KHQpO3RoaXMubG9nLmFwcGx5KHRoaXMsbil9aW5mbygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO2NvbnN0IG49WyRELklORk9dLmNvbmNhdCh0KTt0aGlzLmxvZy5hcHBseSh0aGlzLG4pfXdhcm5pbmcoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtjb25zdCBuPVskRC5XQVJOSU5HXS5jb25jYXQodCk7dGhpcy5sb2cuYXBwbHkodGhpcyxuKX13YXJuKCl7dGhpcy53YXJuaW5nKC4uLmFyZ3VtZW50cyl9ZXJyb3IoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtjb25zdCBuPVskRC5FUlJPUl0uY29uY2F0KHQpO3RoaXMubG9nLmFwcGx5KHRoaXMsbil9dXBsb2FkKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07Y29uc3Qgbj1bJEQuREVCVUddLmNvbmNhdCh0KTt0aGlzLnVwbG9hZExvZy5hcHBseSh0aGlzLG4pfXNldExvZ0xldmVsKGUpe2U9TWF0aC5taW4oTWF0aC5tYXgoMCxlKSw0KSx0aGlzLmxvZ0xldmVsPWV9ZW5hYmxlTG9nVXBsb2FkKCl7UkQoXCJVUExPQURfTE9HXCIsITApfWRpc2FibGVMb2dVcGxvYWQoKXtSRChcIlVQTE9BRF9MT0dcIiwhMSksdGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0PVtdLHRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3Q9W119c2V0UHJveHlTZXJ2ZXIoZSl7dGhpcy5wcm94eVNlcnZlclVSTD1lfXByZWZpeChlKXtyZXR1cm4gbmV3IEpEKHRoaXMpLnByZWZpeChlKX1sb2coKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtpZihEYXRlLm5vdygpLWVQPDEwMClyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KCgoKT0+e3RoaXMubG9nKC4uLnQpfSksRGF0ZS5ub3coKS1lUCk7Y29uc3Qgbj1NYXRoLm1heCgwLE1hdGgubWluKDQsdFswXSkpO2lmKHRbMF09UUQoKStcIiBBZ29yYS1TREsgW1wiLmNvbmNhdCh0UChuKSxcIl06XCIpLHRoaXMuYXBwZW5kTG9nVG9XYWl0aW5nTGlzdChuLC4uLnQpLG48dGhpcy5sb2dMZXZlbClyZXR1cm47Y29uc3Qgcj1RRCgpK1wiICVjQWdvcmEtU0RLIFtcIi5jb25jYXQodFAobiksXCJdOlwiKTtsZXQgbz1bXTtpZighQ0QoXCJVU0VfTkVXX0xPR1wiKSlzd2l0Y2gobil7Y2FzZSAkRC5ERUJVRzpvPVtyLFwiY29sb3I6ICM2NEI1RjY7XCJdLmNvbmNhdCh0LnNsaWNlKDEpKSxjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLG8pO2JyZWFrO2Nhc2UgJEQuSU5GTzpvPVtyLFwiY29sb3I6ICMxRTg4RTU7IGZvbnQtd2VpZ2h0OiBib2xkO1wiXS5jb25jYXQodC5zbGljZSgxKSksY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxvKTticmVhaztjYXNlICRELldBUk5JTkc6bz1bcixcImNvbG9yOiAjRkI4QzAwOyBmb250LXdlaWdodDogYm9sZDtcIl0uY29uY2F0KHQuc2xpY2UoMSkpLGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLG8pO2JyZWFrO2Nhc2UgJEQuRVJST1I6bz1bcixcImNvbG9yOiAjQjAwMDIwOyBmb250LXdlaWdodDogYm9sZDtcIl0uY29uY2F0KHQuc2xpY2UoMSkpLGNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSxvKX19dXBsb2FkTG9nKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07aWYoRGF0ZS5ub3coKS1lUDwxMDApcmV0dXJuIHZvaWQgc2V0VGltZW91dCgoKCk9Pnt0aGlzLnVwbG9hZExvZyguLi50KX0pLERhdGUubm93KCktZVApO2NvbnN0IG49TWF0aC5tYXgoMCxNYXRoLm1pbig0LHRbMF0pKTt0WzBdPVFEKCkrXCIgQWdvcmEtU0RLIFtcIi5jb25jYXQodFAobiksXCJdOlwiKSx0aGlzLmFwcGVuZExvZ1RvV2FpdGluZ0xpc3QobiwuLi50KX1hcHBlbmRMb2dUb1dhaXRpbmdMaXN0KGUpe2lmKCFDRChcIlVQTE9BRF9MT0dcIikpcmV0dXJuO2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQ+MT90LTE6MCksbj0xO248dDtuKyspaVtuLTFdPWFyZ3VtZW50c1tuXTtBcnJheS5pc0FycmF5KGlbMF0pP2lbMF1bMF09WkQoKStcIiBBZ29yYS1TREsgW1wiLmNvbmNhdCh0UChlKSxcIl06XCIpOmlbMF09WkQoKStcIiBBZ29yYS1TREsgW1wiLmNvbmNhdCh0UChlKSxcIl06XCIpO2xldCByPVwiXCI7aS5mb3JFYWNoKChlPT57XCJvYmplY3RcIj09dHlwZW9mIGUmJihlPUpTT04uc3RyaW5naWZ5KGUpKSxyKz1cIlwiLmNvbmNhdChlLFwiIFwiKX0pKSx0aGlzLnVwbG9hZExvZ1dhaXRpbmdMaXN0LnB1c2goe3BheWxvYWRfc3RyOnIsbG9nX2xldmVsOmUsbG9nX2l0ZW1faWQ6dGhpcy5jdXJyZW50TG9nSUQrK30pLFwidXBsb2FkaW5nXCI9PT10aGlzLnVwbG9hZFN0YXRlJiYwPT09dGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0Lmxlbmd0aCYmdGhpcy51cGxvYWRMb2dJbnRlcnZhbCgpfXN0YXJ0VXBsb2FkKCl7dGhpcy51cGxvYWRTdGF0ZT1cInVwbG9hZGluZ1wiLDA9PT10aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3QubGVuZ3RoJiZ0aGlzLnVwbG9hZExvZ0ludGVydmFsKCl9YXN5bmMgdXBsb2FkTG9ncygpe2NvbnN0IGU9dGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0LHQ9e3Nka192ZXJzaW9uOmhELHByb2Nlc3NfaWQ6Q0QoXCJQUk9DRVNTX0lEXCIpLHBheWxvYWQ6SlNPTi5zdHJpbmdpZnkoZSl9O3JldHVybiBVTigoYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgVHcucG9zdCh0aGlzLnVybHx8KHRoaXMucHJveHlTZXJ2ZXJVUkw/XCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnByb3h5U2VydmVyVVJMLFwiL2xzLz9oPVwiKS5jb25jYXQoQ0QoXCJMT0dfVVBMT0FEX1NFUlZFUlwiKSxcIiZwPTQ0MyZkPXVwbG9hZC92MVwiKTpcImh0dHBzOi8vXCIuY29uY2F0KENEKFwiTE9HX1VQTE9BRF9TRVJWRVJcIiksXCIvdXBsb2FkL3YxXCIpKSx0LHtyZXNwb25zZVR5cGU6XCJ0ZXh0XCJ9KTtpZihcIk9LXCIhPT1lLmRhdGEpe2NvbnN0IHQ9bmV3IEVycm9yKFwidW5leHBlY3RlZCB1cGxvYWQgbG9nIHJlc3BvbnNlXCIpO3Rocm93IHQucmVzcG9uc2U9ZSx0fX0pLCgoKT0+KHRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdD1bXSwhMSkpLCh0PT57Y29uc3QgaT17c3RhdHVzOi0xLG1lc3NhZ2U6dC5tZXNzYWdlLGVycm9yUmFuZ2U6ZS5tYXAoKGU9PmUubG9nX2l0ZW1faWQpKX07cmV0dXJuIHQucmVzcG9uc2U/KGkuc3RhdHVzPXQucmVzcG9uc2Uuc3RhdHVzLGkuZGF0YT10LnJlc3BvbnNlLmRhdGEsaS5oZWFkZXJzPXQucmVzcG9uc2UuaGVhZGVycyk6dC5yZXF1ZXN0JiYoaS5zdGF0dXM9dC5yZXF1ZXN0LnN0YXR1cyksWEQucmVwb3J0TG9nVXBsb2FkRXJyb3IoaSksITB9KSx7dGltZW91dDpDRChcIlVQTE9BRF9MT0dfUkVRVUVTVF9SRVRSWV9JTlRFUlZBTFwiKSxtYXhSZXRyeVRpbWVvdXQ6Q0QoXCJVUExPQURfTE9HX1JFUVVFU1RfTUFYX1JFVFJZX0lOVEVSVkFMXCIpfSl9dXBsb2FkTG9nSW50ZXJ2YWwoKXswPT09dGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0Lmxlbmd0aCYmMD09PXRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3QubGVuZ3RofHwoMD09PXRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdC5sZW5ndGgmJih0aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3Q9dGhpcy51cGxvYWRMb2dXYWl0aW5nTGlzdC5zcGxpY2UoMCxDRChcIlVQTE9BRF9MT0dfTEVOR1RIX0VBQ0hfVElNRVwiKSkpLHRoaXMudXBsb2FkTG9ncygpLnRoZW4oKCgpPT57dGhpcy51cGxvYWRFcnJvckNvdW50PTAsdGhpcy51cGxvYWRMb2dXYWl0aW5nTGlzdC5sZW5ndGg+MCYmd2luZG93LnNldFRpbWVvdXQoKCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCkpLENEKFwiVVBMT0FEX0xPR19JTlRFUlZBTFwiKSl9KSkuY2F0Y2goKGU9Pnt0aGlzLnVwbG9hZEVycm9yQ291bnQrPTEsdGhpcy51cGxvYWRFcnJvckNvdW50PDI/d2luZG93LnNldFRpbWVvdXQoKCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCkpLENEKFwiVVBMT0FEX0xPR19UV0lDRV9SRVRSWV9JTlRFUlZBTF9WMVwiKSk6d2luZG93LnNldFRpbWVvdXQoKCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCkpLENEKFwiVVBMT0FEX0xPR19SRVRSWV9JTlRFUlZBTF9WMVwiKSl9KSkpfX07dmFyIG5QO2Z1bmN0aW9uIHJQKGUpe3JldHVybiBTTyhlLnJlcG9ydElkLFwicGFyYW1zLnJlcG9ydElkXCIsMCwxMDAsITEpLFNPKGUuY2F0ZWdvcnksXCJwYXJhbXMuY2F0ZWdvcnlcIiwwLDEwMCwhMSksU08oZS5ldmVudCxcInBhcmFtcy5ldmVudFwiLDAsMTAwLCExKSxTTyhlLmxhYmVsLFwicGFyYW1zLmxhYmVsXCIsMCwxMDAsITEpLG1PKGUudmFsdWUsXCJwYXJhbXMudmFsdWVcIixOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiwhMSksITB9KG5QPXt9KS5GUkVFPVwiZnJlZVwiLG5QLlVQTE9BRElORz1cInVwbG9hZGluZ1wiLGZ1bmN0aW9uKGUpe2VbZS5NSVNDPTBdPVwiTUlTQ1wiLGVbZS5JTlRFUk5BTF9FVkVOVD0xXT1cIklOVEVSTkFMX0VWRU5UXCIsZVtlLlBVQkxJQ19FVkVOVD0yXT1cIlBVQkxJQ19FVkVOVFwiLGVbZS5XRUJfRVZFTlQ9M109XCJXRUJfRVZFTlRcIixlW2UuSU5URVJOQUxfQVBJPTRdPVwiSU5URVJOQUxfQVBJXCIsZVtlLldFQl9BUEk9NV09XCJXRUJfQVBJXCIsZVtlLlBVQkxJQ19BUEk9Nl09XCJQVUJMSUNfQVBJXCJ9KHt9KTtjb25zdCBvUD17c2lkOlwiXCIsbHRzOjAsc3VjY2VzczpudWxsLGNuYW1lOm51bGwsdWlkOm51bGwscGVlcjpudWxsLGNpZDpudWxsLGVsYXBzZTpudWxsLGV4dGVuZDpudWxsLHZpZDowfTtsZXQgc1A9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuUFVCTElTSD1cInB1Ymxpc2hcIixlLlNVQlNDUklCRT1cInN1YnNjcmliZVwiLGUuV1NfQ09NUFJFU1NPUl9JTklUPVwid3NfY29tcHJlc3Nvcl9pbml0XCIsZS5TRVNTSU9OX0lOSVQ9XCJzZXNzaW9uX2luaXRcIixlLkpPSU5fQ0hPT1NFX1NFUlZFUj1cImpvaW5fY2hvb3NlX3NlcnZlclwiLGUuUlRFX0RFVEFJTD1cInJ0ZV9kZXRhaWxfc3RhdHNcIixlLlJFUV9VU0VSX0FDQ09VTlQ9XCJyZXFfdXNlcl9hY2NvdW50XCIsZS5KT0lOX0dBVEVXQVk9XCJqb2luX2dhdGV3YXlcIixlLlJFSk9JTl9HQVRFV0FZPVwicmVqb2luX2dhdGV3YXlcIixlLlNUUkVBTV9TV0lUQ0g9XCJzdHJlYW1fc3dpdGNoXCIsZS5SRVFVRVNUX1BST1hZX1dPUktFUl9NQU5BR0VSPVwicmVxdWVzdF9wcm94eV93b3JrZXJfbWFuYWdlclwiLGUuUkVRVUVTVF9QUk9YWV9BUFBDRU5URVI9XCJyZXF1ZXN0X3Byb3h5X2FwcGNlbnRlclwiLGUuRklSU1RfVklERU9fUkVDRUlWRUQ9XCJmaXJzdF92aWRlb19yZWNlaXZlZFwiLGUuRklSU1RfQVVESU9fUkVDRUlWRUQ9XCJmaXJzdF9hdWRpb19yZWNlaXZlZFwiLGUuRklSU1RfVklERU9fREVDT0RFPVwiZmlyc3RfdmlkZW9fZGVjb2RlXCIsZS5GSVJTVF9BVURJT19ERUNPREU9XCJmaXJzdF9hdWRpb19kZWNvZGVcIixlLlhMQV9QRUVSX0ZJUlNUX1ZJREVPX0ZSQU1FPVwieGxhX3BlZXJfZmlyc3RfdmlkZW9fZnJhbWVcIixlLk9OX0FERF9BVURJT19TVFJFQU09XCJvbl9hZGRfYXVkaW9fc3RyZWFtXCIsZS5PTl9BRERfVklERU9fU1RSRUFNPVwib25fYWRkX3ZpZGVvX3N0cmVhbVwiLGUuT05fVVBEQVRFX1NUUkVBTT1cIm9uX3VwZGF0ZV9zdHJlYW1cIixlLk9OX1JFTU9WRV9TVFJFQU09XCJvbl9yZW1vdmVfc3RyZWFtXCIsZS5VU0VSX0FOQUxZVElDUz1cInJlcV91c2VyX2FuYWx5dGljc1wiLGUuUENfU1RBVFM9XCJwY19zdGF0c1wiLGUuVVBEQVRFX1JFTU9URV9SVFBDQVBBQklMSVRJRVM9XCJ1cGRhdGVfcmVtb3RlX3J0cENhcGFiaWxpdGllc1wiLGUuQUJfVEVTVD1cImFiX3Rlc3RcIixlfSh7fSksYVA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuU0VTU0lPTj1cImlvLmFnb3JhLnBiLldydGMuU2Vzc2lvblwiLGUuSk9JTl9DSE9PU0VfU0VSVkVSPVwiaW8uYWdvcmEucGIuV3J0Yy5Kb2luQ2hvb3NlU2VydmVyXCIsZS5SVEVfREVUQUlMPVwiaW8uYWdvcmEucGIuV3J0Yy5SdGVEZXRhaWxTdGF0c1wiLGUuUkVRX1VTRVJfQUNDT1VOVD1cImlvLmFnb3JhLnBiLldydGMuUmVxVXNlckFjY291bnRcIixlLkpPSU5fR0FURVdBWT1cImlvLmFnb3JhLnBiLldydGMuSm9pbkdhdGV3YXlcIixlLlJFX0pPSU5fR0FURVdBWT1cImlvLmFnb3JhLnBiLldydGMuUmVKb2luR2F0ZXdheVwiLGUuUFVCTElTSD1cImlvLmFnb3JhLnBiLldydGMuUHVibGlzaFwiLGUuU1VCU0NSSUJFPVwiaW8uYWdvcmEucGIuV3J0Yy5TdWJzY3JpYmVcIixlLldTX0NPTVBSRVNTT1JfSU5JVD1cImlvLmFnb3JhLnBiLldydGMuV3NDb21wcmVzc29ySW5pdFwiLGUuU1RSRUFNX1NXSVRDSD1cImlvLmFnb3JhLnBiLldydGMuU3RyZWFtU3dpdGNoXCIsZS5BVURJT19TRU5ESU5HX1NUT1BQRUQ9XCJpby5hZ29yYS5wYi5XcnRjLkF1ZGlvU2VuZGluZ1N0b3BwZWRcIixlLlZJREVPX1NFTkRJTkdfU1RPUFBFRD1cImlvLmFnb3JhLnBiLldydGMuVmlkZW9TZW5kaW5nU3RvcHBlZFwiLGUuUkVRVUVTVF9QUk9YWV9BUFBDRU5URVI9XCJpby5hZ29yYS5wYi5XcnRjLlJlcXVlc3RQcm94eUFwcENlbnRlclwiLGUuUkVRVUVTVF9QUk9YWV9XT1JLRVJfTUFOQUdFUj1cImlvLmFnb3JhLnBiLldydGMuUmVxdWVzdFByb3h5V29ya2VyTWFuYWdlclwiLGUuQVBJX0lOVk9LRT1cImlvLmFnb3JhLnBiLldydGMuQXBpSW52b2tlXCIsZS5GSVJTVF9WSURFT19SRUNFSVZFRD1cImlvLmFnb3JhLnBiLldydGMuRmlyc3RWaWRlb1JlY2VpdmVkXCIsZS5GSVJTVF9BVURJT19SRUNFSVZFRD1cImlvLmFnb3JhLnBiLldydGMuRmlyc3RBdWRpb1JlY2VpdmVkXCIsZS5GSVJTVF9WSURFT19ERUNPREU9XCJpby5hZ29yYS5wYi5XcnRjLkZpcnN0VmlkZW9EZWNvZGVcIixlLkZJUlNUX0FVRElPX0RFQ09ERT1cImlvLmFnb3JhLnBiLldydGMuRmlyc3RBdWRpb0RlY29kZVwiLGUuWExBX1BFRVJfRklSU1RfVklERU9fRlJBTUU9XCJpby5hZ29yYS5wYi5XcnRjLlhMQVBlZXJGaXJzdFZpZGVvRnJhbWVcIixlLk9OX0FERF9BVURJT19TVFJFQU09XCJpby5hZ29yYS5wYi5XcnRjLk9uQWRkQXVkaW9TdHJlYW1cIixlLk9OX0FERF9WSURFT19TVFJFQU09XCJpby5hZ29yYS5wYi5XcnRjLk9uQWRkVmlkZW9TdHJlYW1cIixlLk9OX1VQREFURV9TVFJFQU09XCJpby5hZ29yYS5wYi5XcnRjLk9uVXBkYXRlU3RyZWFtXCIsZS5PTl9SRU1PVkVfU1RSRUFNPVwiaW8uYWdvcmEucGIuV3J0Yy5PblJlbW92ZVN0cmVhbVwiLGUuSk9JTl9DSEFOTkVMX1RJTUVPVVQ9XCJpby5hZ29yYS5wYi5XcnRjLkpvaW5DaGFubmVsVGltZW91dFwiLGUuUEVFUl9QVUJMSVNIX1NUQVRVUz1cImlvLmFnb3JhLnBiLldydGMuUGVlclB1Ymxpc2hTdGF0dXNcIixlLldPUktFUl9FVkVOVD1cImlvLmFnb3JhLnBiLldydGMuV29ya2VyRXZlbnRcIixlLkFQX1dPUktFUl9FVkVOVD1cImlvLmFnb3JhLnBiLldydGMuQVBXb3JrZXJFdmVudFwiLGUuSk9JTl9XRUJfUFJPWFlfQVA9XCJpby5hZ29yYS5wYi5XcnRjLkpvaW5XZWJQcm94eUFQXCIsZS5XRUJTT0NLRVRfUVVJVD1cImlvLmFnb3JhLnBiLldydGMuV2ViU29ja2V0UXVpdFwiLGUuVVNFUl9BTkFMWVRJQ1M9XCJpby5hZ29yYS5wYi5XcnRjLlVzZXJBbmFseXRpY3NcIixlLkFVVE9QTEFZX0ZBSUxFRD1cImlvLmFnb3JhLnBiLldydGMuQXV0b3BsYXlGYWlsZWRcIixlLlBDX1NUQVRTPVwiaW8uYWdvcmEucGIuV3J0Yy5QQ1N0YXRzXCIsZS5VUERBVEVfUkVNT1RFX1JUUENBUEFCSUxJVElFUz1cImlvLmFnb3JhLnBiLldydGMuVXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIsZS5BQl9URVNUPVwiaW8uYWdvcmEucGIuV3J0Yy5BQlRlc3RcIixlfSh7fSk7IWZ1bmN0aW9uKGUpe2VbZS5XT1JLRVJfRVZFTlQ9MTU2XT1cIldPUktFUl9FVkVOVFwiLGVbZS5BUF9XT1JLRVJfRVZFTlQ9MTYwXT1cIkFQX1dPUktFUl9FVkVOVFwifSh7fSk7bGV0IGNQPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuU0VTU0lPTj0yNl09XCJTRVNTSU9OXCIsZVtlLkpPSU5fQ0hPT1NFX1NFUlZFUj0yN109XCJKT0lOX0NIT09TRV9TRVJWRVJcIixlW2UuUkVRX1VTRVJfQUNDT1VOVD0xOTZdPVwiUkVRX1VTRVJfQUNDT1VOVFwiLGVbZS5KT0lOX0dBVEVXQVk9MjhdPVwiSk9JTl9HQVRFV0FZXCIsZVtlLlBVQkxJU0g9MzBdPVwiUFVCTElTSFwiLGVbZS5TVUJTQ1JJQkU9MjldPVwiU1VCU0NSSUJFXCIsZVtlLldTX0NPTVBSRVNTT1JfSU5JVD05NDMwXT1cIldTX0NPTVBSRVNTT1JfSU5JVFwiLGVbZS5TVFJFQU1fU1dJVENIPTMyXT1cIlNUUkVBTV9TV0lUQ0hcIixlW2UuQVVESU9fU0VORElOR19TVE9QUEVEPTMzXT1cIkFVRElPX1NFTkRJTkdfU1RPUFBFRFwiLGVbZS5WSURFT19TRU5ESU5HX1NUT1BQRUQ9MzRdPVwiVklERU9fU0VORElOR19TVE9QUEVEXCIsZVtlLlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSPTM1XT1cIlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSXCIsZVtlLlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVI9MzZdPVwiUkVRVUVTVF9QUk9YWV9XT1JLRVJfTUFOQUdFUlwiLGVbZS5BUElfSU5WT0tFPTQxXT1cIkFQSV9JTlZPS0VcIixlW2UuRklSU1RfVklERU9fUkVDRUlWRUQ9MzQ4XT1cIkZJUlNUX1ZJREVPX1JFQ0VJVkVEXCIsZVtlLkZJUlNUX0FVRElPX1JFQ0VJVkVEPTM0OV09XCJGSVJTVF9BVURJT19SRUNFSVZFRFwiLGVbZS5GSVJTVF9WSURFT19ERUNPREU9MzUwXT1cIkZJUlNUX1ZJREVPX0RFQ09ERVwiLGVbZS5GSVJTVF9BVURJT19ERUNPREU9MzUxXT1cIkZJUlNUX0FVRElPX0RFQ09ERVwiLGVbZS5PTl9BRERfQVVESU9fU1RSRUFNPTM1Ml09XCJPTl9BRERfQVVESU9fU1RSRUFNXCIsZVtlLk9OX0FERF9WSURFT19TVFJFQU09MzUzXT1cIk9OX0FERF9WSURFT19TVFJFQU1cIixlW2UuT05fVVBEQVRFX1NUUkVBTT0zNTZdPVwiT05fVVBEQVRFX1NUUkVBTVwiLGVbZS5PTl9SRU1PVkVfU1RSRUFNPTM1NV09XCJPTl9SRU1PVkVfU1RSRUFNXCIsZVtlLkpPSU5fQ0hBTk5FTF9USU1FT1VUPTQwN109XCJKT0lOX0NIQU5ORUxfVElNRU9VVFwiLGVbZS5QRUVSX1BVQkxJU0hfU1RBVFVTPTQwOF09XCJQRUVSX1BVQkxJU0hfU1RBVFVTXCIsZVtlLldPUktFUl9FVkVOVD0xNTZdPVwiV09SS0VSX0VWRU5UXCIsZVtlLkFQX1dPUktFUl9FVkVOVD0xNjBdPVwiQVBfV09SS0VSX0VWRU5UXCIsZVtlLkpPSU5fV0VCX1BST1hZX0FQPTcwMF09XCJKT0lOX1dFQl9QUk9YWV9BUFwiLGVbZS5XRUJTT0NLRVRfUVVJVD02NzFdPVwiV0VCU09DS0VUX1FVSVRcIixlW2UuVVNFUl9BTkFMWVRJQ1M9MWU0XT1cIlVTRVJfQU5BTFlUSUNTXCIsZVtlLkFVVE9QTEFZX0ZBSUxFRD05MTc4XT1cIkFVVE9QTEFZX0ZBSUxFRFwiLGV9KHt9KTtmdW5jdGlvbiBkUCgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gZnVuY3Rpb24odCxpLG4pe2NvbnN0IHI9bi52YWx1ZTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByKXtjb25zdCBvPWUuY2xhc3NOYW1lfHx0Ll9fY2xhc3NOYW1lX198fChcIkFnb3JhUlRDQ2xpZW50XCI9PT10LmNvbnN0cnVjdG9yLm5hbWU/XCJDbGllbnRcIjp0LmNvbnN0cnVjdG9yLm5hbWUpO24udmFsdWU9ZnVuY3Rpb24oKXtmb3IodmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KG4pLGE9MDthPG47YSsrKXNbYV09YXJndW1lbnRzW2FdO2xldCBjPXM7aWYoZS5hcmdzTWFwKXRyeXtjPWUuYXJnc01hcCh0aGlzLC4uLnMpfWNhdGNoKGUpe2lQLndhcm5pbmcoZSksYz1bXX10cnl7SlNPTi5zdHJpbmdpZnkoYyl9Y2F0Y2goZSl7aVAud2FybmluZyhcImFyZ3VtZW50cyBmb3IgbWV0aG9kIFwiLmNvbmNhdChvLFwiLlwiKS5jb25jYXQoU3RyaW5nKGkpLFwiIG5vdCBzZXJpYWxpemFibGUgZm9yIGFwaUludm9rZS5cIikpLGM9W119Y29uc3QgZD0oZS5yZXBvcnR8fGxQKS5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkfHxudWxsLHtpZDp0aGlzLl9jbGllbnRJZHx8KG51bGw9PT0odD10aGlzLnN0b3JlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jbGllbnRJZCl8fHRoaXMuX0lELG5hbWU6XCJcIi5jb25jYXQobyxcIi5cIikuY29uY2F0KFN0cmluZyhpKSksb3B0aW9uczpjLHRhZzprTy5UUkFDRVIscmVwb3J0UmVzdWx0OmUucmVwb3J0UmVzdWx0fSxlLnRocm90dGxlVGltZSk7dHJ5e2NvbnN0IHQ9ci5hcHBseSh0aGlzLHMpO3JldHVybiB0IGluc3RhbmNlb2YgcnA/dC50aGVuKCh0PT4oZC5vblN1Y2Nlc3MoZS5yZXBvcnRSZXN1bHQmJnQpLHQpKSkuY2F0Y2goKGU9Pnt0aHJvdyBkLm9uRXJyb3IoZSksZX0pKTooZC5vblN1Y2Nlc3MoZS5yZXBvcnRSZXN1bHQmJnQpLHQpfWNhdGNoKGUpe3Rocm93IGQub25FcnJvcihlKSxlfX19cmV0dXJuIG59fWNvbnN0IGxQPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe0hEKHRoaXMsXCJiYXNlSW5mb01hcFwiLG5ldyBNYXApLEhEKHRoaXMsXCJwcm94eVNlcnZlclwiLHZvaWQgMCksSEQodGhpcyxcImV2ZW50VXBsb2FkVGltZXJcIix2b2lkIDApLEhEKHRoaXMsXCJzZXRTZXNzaW9uSWRUaW1lclwiLHZvaWQgMCksSEQodGhpcyxcInVybFwiLHZvaWQgMCksSEQodGhpcyxcInNpZHNcIixuZXcgU2V0KSxIRCh0aGlzLFwiYmFja3VwVXJsXCIsdm9pZCAwKSxIRCh0aGlzLFwiX2FwcElkXCIsdm9pZCAwKSxIRCh0aGlzLFwiX2FpZFwiLDApLEhEKHRoaXMsXCJrZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtc1wiLFtdKSxIRCh0aGlzLFwibm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXNcIixbXSksSEQodGhpcyxcImFwaUludm9rZVVwbG9hZFBlbmRpbmdJdGVtc1wiLFtdKSxIRCh0aGlzLFwiYXBpSW52b2tlQ291bnRcIiwwKSxIRCh0aGlzLFwiYXBpSW52b2tlTG9nZ2VkQ291bnRcIiwwKSxIRCh0aGlzLFwibHRzTGlzdFwiLFtdKSxIRCh0aGlzLFwibGFzdFNlbmROb3JtYWxFdmVudFRpbWVcIixEYXRlLm5vdygpKSxIRCh0aGlzLFwiY3VzdG9tUmVwb3J0Q291bnRlclRpbWVyXCIsdm9pZCAwKSxIRCh0aGlzLFwiY3VzdG9tUmVwb3J0Q291bnRcIiwwKSxIRCh0aGlzLFwiZXh0QXBpSW52b2tlXCIsKGFzeW5jIGU9Pntmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPVlEKFlEKHt9LHQpLHt9LHtzaWQ6bnVsbCxpbnZva2VJZDorK3RoaXMuYXBpSW52b2tlQ291bnQsdGFnOmtPLlRSQUNFUn0pO3RoaXMuc2VuZEFwaUludm9rZShlKX19KSksdGhpcy5ldmVudFVwbG9hZFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmRvU2VuZC5iaW5kKHRoaXMpLENEKFwiRVZFTlRfUkVQT1JUX1NFTkRfSU5URVJWQUxcIikpLHRoaXMuc2V0U2Vzc2lvbklkVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuYXBwZW5kU2Vzc2lvbklkLmJpbmQodGhpcyksQ0QoXCJFVkVOVF9SRVBPUlRfU0VORF9JTlRFUlZBTFwiKSl9Z2V0QmFzZUluZm9CeVNlc3Npb25JZChlKXtyZXR1cm4gdGhpcy5iYXNlSW5mb01hcC5nZXQoZSl9c2V0QXBwSWQoZSl7dGhpcy5fYXBwSWQ9ZSx0aGlzLl9haWQ9cGFyc2VJbnQoZS5yZXBsYWNlKC9bYS1mQS1GMC05XXs4fS9nLChlPT57bGV0W3QsaV09ZTtyZXR1cm4gdCtpfSkpLDE2KXx8MH1yZXBvcnRBcGlJbnZva2UoZSx0LGkpe3QudGltZW91dD10LnRpbWVvdXR8fDZlNCx0LnJlcG9ydFJlc3VsdD12b2lkIDA9PT10LnJlcG9ydFJlc3VsdHx8dC5yZXBvcnRSZXN1bHQ7Y29uc3Qgbj1EYXRlLm5vdygpO3RoaXMuYXBpSW52b2tlQ291bnQrPTE7Y29uc3Qgcj10aGlzLmFwaUludm9rZUNvdW50LG89ISFDRChcIlNIT1dfUkVQT1JUX0lOVk9LRVJfTE9HXCIpLHM9ISFDRChcIlNIT1dfUkVQT1JUX1VTRVJfSU5WT0tFUl9MT0dcIiksYT1vfHxzJiZ0LmlkO2EmJih0aGlzLmFwaUludm9rZUxvZ2dlZENvdW50Kz0xKTtjb25zdCBjPXRoaXMuYXBpSW52b2tlTG9nZ2VkQ291bnQ7ZnVuY3Rpb24gZChlLGkpe2lmKGEpe2xldCBuPVwiW2FwaUludm9rZS1cIi5jb25jYXQoYyxcIl1cIik7aWYodC5pZCYmKG4rPVwiW1wiLmNvbmNhdCh0LmlkLFwiXVwiKSksdC5uYW1lJiYobis9XCJbXCIuY29uY2F0KHQubmFtZSxcIl1cIiksdC5uYW1lPT09TE8uSk9JTikpcmV0dXJuIGlQLmluZm8oXCJcIi5jb25jYXQobixcIiBcIikuY29uY2F0KGUpKTtpUC5pbmZvKFwiXCIuY29uY2F0KG4sXCIgXCIpLmNvbmNhdChlKSxcInN0YXJ0XCI9PT1lP3Qub3B0aW9uczppfHxcIlwiKX19Y29uc3QgbD0oKT0+KHt0YWc6dC50YWcsaW52b2tlSWQ6cixzaWQ6ZSxuYW1lOnQubmFtZSxhcGlJbnZva2VUaW1lOm4sb3B0aW9uczp0Lm9wdGlvbnMsc3RhdGVzOnQuc3RhdGVzfHxudWxsfSk7ZChcInN0YXJ0XCIpO2xldCB1PSExO2ZOKHQudGltZW91dCkudGhlbigoKCk9Pnt1fHwodGhpcy5zZW5kQXBpSW52b2tlKFlEKFlEKHt9LGwoKSkse30se2Vycm9yOmhPLkFQSV9JTlZPS0VfVElNRU9VVCxzdWNjZXNzOiExfSkpLGQoXCJ0aW1lb3V0XCIpKX0pKTtjb25zdCBoPW5ldyBwTyhoTy5VTkVYUEVDVEVEX0VSUk9SLFwiXCIuY29uY2F0KHQubmFtZSxcIjogdGhpcyBhcGkgaW52b2tlIGlzIGVuZFwiKSk7cmV0dXJue29uU3VjY2VzczplPT57Y29uc3Qgbj0oKT0+e2lmKHUpdGhyb3cgaDtyZXR1cm4gdT0hMCx0aGlzLnNlbmRBcGlJbnZva2UoWUQoWUQoe30sbCgpKSx7fSx7c3VjY2VzczohMH0sdC5yZXBvcnRSZXN1bHQmJntyZXN1bHQ6ZX0pKSxkKFwib25TdWNjZXNzXCIpLGV9O3JldHVybiBpP0NOKG4sdC5uYW1lK1wiU3VjY2Vzc1wiLGksKCgpPT51PSEwKSk6bigpfSxvbkVycm9yOmU9Pntjb25zdCBuPSgpPT57aWYodSl0aHJvdyBlO3U9ITAsdGhpcy5zZW5kQXBpSW52b2tlKFlEKFlEKHt9LGwoKSkse30se3N1Y2Nlc3M6ITEsZXJyb3I6ZX0pKSxkKFwib25GYWlsdXJlXCIsZS50b1N0cmluZygpKX07cmV0dXJuIGk/Q04obix0Lm5hbWUrXCJFcnJvclwiLGksKCgpPT51PSEwKSk6bigpfX19X3NlbmQoZSx0LGkpe3RoaXMuc2VuZCh7dHlwZTplLGRhdGE6dH0saSl9X3NlbmRBcGlJbnZva2UoZSl7cmV0dXJuIHRoaXMuc2VuZEFwaUludm9rZShlKX1zZXNzaW9uSW5pdChlLHQpe2lmKHRoaXMuYmFzZUluZm9NYXAuaGFzKGUpKXJldHVybjtjb25zdCBpPURhdGUubm93KCksbj10aGlzLmNyZWF0ZUJhc2VJbmZvKGUsaSk7bi5jbmFtZT10LmNuYW1lLG4ucnRlVXJsPXQucnRlVXJsO2NvbnN0IHI9T2JqZWN0LmFzc2lnbih7fSx7d2lsbFVwbG9hZENvbnNvbGVMb2c6Q0QoXCJVUExPQURfTE9HXCIpLG1heFRvdWNoUG9pbnRzOm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyxhcmVhVmVyc2lvbjpwRD9cImdsb2JhbFwiOlwib3ZlcnNlYVwiLGFyZWFzOkNEKFwiQVJFQVNcIikmJkNEKFwiQVJFQVNcIikuam9pbihcIixcIil9LHQuZXh0ZW5kKSx7c3RyaW5nVWlkOm8sY2hhbm5lbFByb2ZpbGU6cyxjaGFubmVsTW9kZTphLGlzQUJUZXN0U3VjY2VzczpjLGxzaWQ6ZCxjbGllbnRSb2xlOmx9PXQsdT1EYXRlLm5vdygpLGg9WUQoWUQoe30sbikse30se2V2ZW50VHlwZTpzUC5TRVNTSU9OX0lOSVQsYXBwaWQ6dC5hcHBpZCxicm93c2VyOm5hdmlnYXRvci51c2VyQWdlbnQsYnVpbGRGb3JtYXQ6dC5idWlsZEZvcm1hdCxidWlsZDpTRCxsdHM6dSxlbGFwc2U6dS1pLGV4dGVuZDpKU09OLnN0cmluZ2lmeShyKSxtb2RlOnQubW9kZSxwcm9jZXNzOkNEKFwiUFJPQ0VTU19JRFwiKSxhcHBUeXBlOkNEKFwiQVBQX1RZUEVcIiksc3VjY2VzczohMCx2ZXJzaW9uOmhELHN0cmluZ1VpZDpvLGNoYW5uZWxQcm9maWxlOnMsY2hhbm5lbE1vZGU6YSxpc0FCVGVzdFN1Y2Nlc3M6Yyxsc2lkOmQsY2xpZW50VHlwZTpMbihwPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KS5jYWxsKHAsXCJBZ29yYVdlYlZpZXdcIik/NDI6MjAsY2xpZW50Um9sZTpsLHNlcnZpY2VJZDpDRChcIlBST0NFU1NfSURcIiksZXh0ZW5zaW9uSUQ6Q0QoXCJQTFVHSU5fSU5GT1wiKS5qb2luKFwiLFwiKXx8XCJcIixydGVVcmw6dC5ydGVVcmwscnRlU2lkOnQucnRlU2lkfSk7dmFyIHA7dGhpcy5zZW5kKHt0eXBlOmFQLlNFU1NJT04sZGF0YTpofSwhMCl9cmVwb3J0UnRlRGV0YWlsKGUpe2NvbnN0IHQ9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIXQpcmV0dXJuO2NvbnN0IGk9dC5pbmZvLG49RGF0ZS5ub3coKSxyPVlEKFlEKHt9LGkpLHt9LHtldmVudFR5cGU6c1AuUlRFX0RFVEFJTCxsdHM6bixzdWNjZXNzOiEwLGVsYXBzZTpuLXQuc3RhcnRUaW1lLHZpZDp2b2lkIDA9PT1pLnZpZD8wOk51bWJlcihpLnZpZCksdWE6bmF2aWdhdG9yLnVzZXJBZ2VudH0pO3RoaXMuc2VuZCh7dHlwZTphUC5SVEVfREVUQUlMLGRhdGE6cn0sITApfWpvaW5DaG9vc2VTZXJ2ZXIoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbzt0LnZpZCYmKG4udmlkPXQudmlkKTtjb25zdCByPURhdGUubm93KCksbz1ZRChZRCh7fSxuKSx7fSx7cm9sZTp0LnJvbGUsZXZlbnRUeXBlOnNQLkpPSU5fQ0hPT1NFX1NFUlZFUixsdHM6cixldmVudEVsYXBzZTp0LmVsYXBzZXx8ci10Lmx0cyxjaG9vc2VTZXJ2ZXJBZGRyOnQuY3NBZGRyLGVycm9yQ29kZTp0LmVjLGVsYXBzZTpyLWkuc3RhcnRUaW1lLHN1Y2Nlc3M6dC5zdWNjLGNob29zZVNlcnZlckFkZHJMaXN0OkpTT04uc3RyaW5naWZ5KHQuc2VydmVyTGlzdCksdWlkOnQudWlkP3BhcnNlSW50KHQudWlkKTpudWxsLGNpZDp0LmNpZD9wYXJzZUludCh0LmNpZCk6bnVsbCxjaG9vc2VTZXJ2ZXJJcDp0LmNzSXB8fFwiXCIsb3BpZDp0Lm9waWQsdW5pbGJzU2VydmVySWRzOnQudW5pbGJzU2VydmVySWRzLGV4dGVuZDp0LmV4dGVuZHx8dm9pZCAwLGlzSHR0cDM6dC5pc0h0dHAzLGNvcnNzUmVnaW9uVGFnUmVxOnQuY29yc3NSZWdpb25UYWdSZXF8fHZvaWQgMCxjb3Jzc1JlZ2lvblRhZ1Jlczp0LmNvcnNzUmVnaW9uVGFnUmVzfHx2b2lkIDAsdWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxyZXNvdXJjZVRpbWluZ0luZm86dC5yZXNvdXJjZVRpbWluZ0luZm98fHZvaWQgMH0pO3RoaXMuc2VuZCh7dHlwZTphUC5KT0lOX0NIT09TRV9TRVJWRVIsZGF0YTpvfSwhMCl9cmVxVXNlckFjY291bnQoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz1ZRChZRCh7fSxuKSx7fSx7ZXZlbnRUeXBlOnNQLlJFUV9VU0VSX0FDQ09VTlQsbHRzOnIsc3VjY2Vzczp0LnN1Y2Nlc3Msc2VydmVyQWRkcmVzczp0LnNlcnZlckFkZHIsc3RyaW5nVWlkOnQuc3RyaW5nVWlkLHVpZDp0LnVpZCxlcnJvckNvZGU6dC5lcnJvckNvZGUsZWxhcHNlOnQuZWxhcHNlfHxyLWkuc3RhcnRUaW1lLGV2ZW50RWxhcHNlOnItdC5sdHMsZXh0ZW5kOkpTT04uc3RyaW5naWZ5KHQuZXh0ZW5kKX0pO3RoaXMuc2VuZCh7dHlwZTphUC5SRVFfVVNFUl9BQ0NPVU5ULGRhdGE6b30sITApfWpvaW5HYXRld2F5KGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm87dC52aWQmJihuLnZpZD10LnZpZCksbi51aWQ9dC51aWQsbi5jaWQ9dC5jaWQ7Y29uc3Qgcj1EYXRlLm5vdygpLHtmaXJzdFN1Y2Nlc3M6byxhZGRyOnMsaXNQcm94eTphfT10LGM9ci1pLnN0YXJ0VGltZSxkPVlEKFlEKHt9LG4pLHt9LHtldmVudFR5cGU6c1AuSk9JTl9HQVRFV0FZLGx0czpyLGdhdGV3YXlBZGRyOnQuYWRkcixzdWNjZXNzOnQuc3VjYyxlcnJvckNvZGU6dC5lYyxlcnJvck1zZzp0LmVycm9yTXNnfHxcIlwiLGVsYXBzZTpjLGV2ZW50RWxhcHNlOnItdC5sdHMsZmlyc3RTdWNjZXNzOm8sc2lnbmFsQ2hhbm5lbDp0LnNpZ25hbENoYW5uZWwscHJlbG9hZDp0LnByZWxvYWQ/MTowLGluc3RhbGxJZDp1RCgpLGlzQUJUZXN0U3VjY2Vzczp0LmlzQUJUZXN0U3VjY2Vzcz8xOjAsZ2F0ZXdheUlwOm51bGwsZ2F0ZXdheVBvcnQ6bnVsbCxpc1Byb3h5OmE/MTowfSksbD1kLnN1Y2Nlc3M/MTowO2lmKHQuc3VjYyYmKGkubGFzdEpvaW5TdWNjZXNzVGltZT1yKSxzKWlmKFwiMVwiPT09ZC5zaWduYWxDaGFubmVsKXtjb25zdCBlPXFEKC8oXFxkK1xcLlxcZCtcXC5cXGQrXFwuXFxkKyk6KFxcZCspLyx7aXA6MSxwb3J0OjJ9KSx0PXMubWF0Y2goZSk7ZC5nYXRld2F5SXA9dCYmdC5ncm91cHM/dC5ncm91cHMuaXA6XCJcIixkLmdhdGV3YXlQb3J0PXQmJnQuZ3JvdXBzP3QuZ3JvdXBzLnBvcnQ6XCJcIn1lbHNlIGlmKGEpe2NvbnN0IGU9cy5tYXRjaCgvaD0oXFxkezEsM30tKXszfVxcZHsxLDN9L2cpLHQ9cy5tYXRjaCgvcD1bMC05XXsxLDZ9L2cpO2QuZ2F0ZXdheUlwPWUmJmUubGVuZ3RoP2VbMF0uc3BsaXQoXCI9XCIpWzFdLnJlcGxhY2UoLy0vZyxcIi5cIik6XCJcIixkLmdhdGV3YXlQb3J0PXQmJnQubGVuZ3RoP3RbMF0uc3BsaXQoXCI9XCIpWzFdOlwiXCJ9ZWxzZXtjb25zdCBlPXMubWF0Y2goL3dzczpcXC9cXC8oXFxkezEsM30tKXszfVxcZHsxLDN9L2cpLHQ9cy5tYXRjaCgvKDp8cD0pWzAtOV17MSw2fS9nKTtkLmdhdGV3YXlJcD1lJiZlLmxlbmd0aD9lWzBdLnNwbGl0KFwiLy9cIilbMV0ucmVwbGFjZSgvLS9nLFwiLlwiKTpcIlwiLGQuZ2F0ZXdheVBvcnQ9dCYmdC5sZW5ndGg/dFswXS5zcGxpdCgvOnxwPS9nKVsxXTpcIlwifWlmKG8pdGhpcy5zZW5kKHt0eXBlOmFQLkpPSU5fR0FURVdBWSxkYXRhOmR9LCEwKTtlbHNle2xldCBlPXtpc1N1Y2Nlc3M6bCxwb3J0OmQuZ2F0ZXdheVBvcnR9O2RlbGV0ZSBkLnN1Y2Nlc3MsZGVsZXRlIGQuZXZlbnRUeXBlLGRlbGV0ZSBkLmZpcnN0U3VjY2VzcyxkZWxldGUgZC5nYXRld2F5UG9ydCxkLnZpZD1OdW1iZXIoZC52aWQpO2NvbnN0IHQ9T2JqZWN0LmFzc2lnbih7fSxkLGUse2V2ZW50VHlwZTpzUC5SRUpPSU5fR0FURVdBWX0pO3RoaXMuc2VuZCh7dHlwZTphUC5SRV9KT0lOX0dBVEVXQVksZGF0YTp0fSwhMCl9fWpvaW5DaGFubmVsVGltZW91dChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49RGF0ZS5ub3coKSxyPVlEKFlEKHt9LGkuaW5mbykse30se2x0czpuLHRpbWVvdXQ6dCxlbGFwc2U6bi1pLnN0YXJ0VGltZX0pO3RoaXMuc2VuZCh7dHlwZTphUC5KT0lOX0NIQU5ORUxfVElNRU9VVCxkYXRhOnJ9LCEwKX1wdWJsaXNoKGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLG89WUQoWUQoe30sbikse30se2V2ZW50VHlwZTpzUC5QVUJMSVNILGx0czpyLGV2ZW50RWxhcHNlOnQuZXZlbnRFbGFwc2UsZWxhcHNlOnItaS5zdGFydFRpbWUsc3VjY2Vzczp0LnN1Y2MsZXJyb3JDb2RlOnQuZWMsdmlkZW9OYW1lOnQudmlkZW9OYW1lLGF1ZGlvTmFtZTp0LmF1ZGlvTmFtZSxzY3JlZW5OYW1lOnQuc2NyZWVuTmFtZSxzY3JlZW5zaGFyZTp0LnNjcmVlbnNoYXJlLGF1ZGlvOnQuYXVkaW8sdmlkZW86dC52aWRlbyxwMnBpZDp0LnAycGlkLHB1Ymxpc2hSZXF1ZXN0aWQ6dC5wdWJsaXNoUmVxdWVzdGlkfSk7dGhpcy5zZW5kKHt0eXBlOmFQLlBVQkxJU0gsZGF0YTpvfSwhMCl9c3Vic2NyaWJlKGUsdCxpKXtjb25zdCBuPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFuKXJldHVybjtjb25zdCByPW4uaW5mbyxvPURhdGUubm93KCkscz1ZRChZRCh7fSxyKSx7fSx7ZXZlbnRUeXBlOnNQLlNVQlNDUklCRSxsdHM6byxldmVudEVsYXBzZTp0LmV2ZW50RWxhcHNlLGVsYXBzZTpvLW4uc3RhcnRUaW1lLHN1Y2Nlc3M6dC5zdWNjLGVycm9yQ29kZTp0LmVjLHZpZGVvOnQudmlkZW8sYXVkaW86dC5hdWRpbyxzdWJzY3JpYmVSZXF1ZXN0aWQ6dC5zdWJzY3JpYmVSZXF1ZXN0aWQscDJwaWQ6dC5wMnBpZCxwcmVTc3JjOnQucHJlU3NyYz8xOjB9LGkmJntleHRlbmQ6SlNPTi5zdHJpbmdpZnkoe2lzTWFzc1N1YnNjcmliZTohMH0pfSk7XCJzdHJpbmdcIj09dHlwZW9mIHQucGVlcmlkP3MucGVlclN1aWQ9dC5wZWVyaWQ6cy5wZWVyPXQucGVlcmlkLHRoaXMuc2VuZCh7dHlwZTphUC5TVUJTQ1JJQkUsZGF0YTpzfSwhMCl9d3NDb21wcmVzc29ySW5pdChlKXt2YXIgdDtjb25zdCBpPVsuLi5XRCh0PXRoaXMuYmFzZUluZm9NYXApLmNhbGwodCldLG49aS5sZW5ndGg/aVswXTpcIlVuYWJsZVRvR2V0U2lkXCIscj10aGlzLmJhc2VJbmZvTWFwLmdldChuKTtpZighcilyZXR1cm47Y29uc3Qgbz1yLmluZm8scz1EYXRlLm5vdygpLGE9WUQoWUQoe30sbykse30se2V2ZW50VHlwZTpzUC5XU19DT01QUkVTU09SX0lOSVQsbHRzOnMsZXZlbnRFbGFwc2U6ZS5ldmVudEVsYXBzZSxlbGFwc2U6cy1yLnN0YXJ0VGltZSxzdGF0dXM6ZS5zdGF0dXM/MToyfSk7dGhpcy5zZW5kKHt0eXBlOmFQLldTX0NPTVBSRVNTT1JfSU5JVCxkYXRhOmF9LCEwKX1maXJzdFhMQVBlZXJGaXJzdFZpZGVvRnJhbWUoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz10LnBlZXJQdWJTdGF0dXNNcy0oaS5sYXN0Sm9pblN1Y2Nlc3NUaW1lfHxyKSxzPVlEKFlEKHt9LG4pLHt9LHtlbGFwc2U6ci1pLnN0YXJ0VGltZSxldmVudFR5cGU6c1AuWExBX1BFRVJfRklSU1RfVklERU9fRlJBTUUsbHRzOnIscGVlcjp0LnBlZXIsd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHQsc3NyYzp0LnNzcmMscDJwaWQ6dC5wMnBpZCxwZWVyUHVibGlzaER1cmF0aW9uOnQucGVlclB1Ymxpc2hEdXJhdGlvbixqb2luQ2hhbm5lbFN1Y2Nlc3NFbGFwc2U6byxwZWVyUHViU3RhdHVzTXM6dC5wZWVyUHViU3RhdHVzTXMtdC5qb2luQ2hhbm5lbFN0YXJ0LGF2YWlsYWJsZVB1Ymxpc2g6dC5wZWVyUHVibGlzaER1cmF0aW9uPm8/MTowLHByZWxvYWRTdGFydDpNYXRoLm1heCh0LnByZWxvYWRTdGFydC10LmpvaW5DaGFubmVsU3RhcnQsMCkscHJlbG9hZEVuZDpNYXRoLm1heCh0LnByZWxvYWRFbmQtdC5qb2luQ2hhbm5lbFN0YXJ0LDApLGVuY3J5cHQ6TWF0aC5tYXgodC5hcFN0YXJ0LXQuam9pbkNoYW5uZWxTdGFydCwwKSxhcDpNYXRoLm1heCh0LmFwRW5kLXQuam9pbkNoYW5uZWxTdGFydCwwKSxzdWE6TWF0aC5tYXgodC5zdWFFbmQtdC5qb2luQ2hhbm5lbFN0YXJ0LDApLGJlZm9yZUNvbm5lY3Q6TWF0aC5tYXgodC5iZWZvcmVDb25uZWN0LXQuam9pbkNoYW5uZWxTdGFydCwwKSxwZWVyUmVjZXZpZXI6TWF0aC5tYXgodC5wZWVyUmVjZWl2ZXItdC5qb2luQ2hhbm5lbFN0YXJ0LDApLGljZTpNYXRoLm1heCh0LmljZS10LmpvaW5DaGFubmVsU3RhcnQsMCkscGM6TWF0aC5tYXgodC5wYy10LmpvaW5DaGFubmVsU3RhcnQsMCksc2lnbmFsQ29ubmVjdGVkOk1hdGgubWF4KHQuc2lnbmFsQ29ubmVjdGVkLXQuam9pbkNoYW5uZWxTdGFydCwwKSxqb2luUmVxOk1hdGgubWF4KHQuam9pblJlcS10LmpvaW5DaGFubmVsU3RhcnQsMCksam9pblJlczpNYXRoLm1heCh0LmpvaW5SZXMtdC5qb2luQ2hhbm5lbFN0YXJ0LDApLHVzZXJKb2luTm90aWZ5Ok1hdGgubWF4KHQudXNlckpvaW5Ob3RpZnktdC5qb2luQ2hhbm5lbFN0YXJ0LDApLHZpZGVvU3NyY05vdGlmeTpNYXRoLm1heCh0LnZpZGVvQWRkTm90aWZ5LXQuam9pbkNoYW5uZWxTdGFydCwwKSxzdWJzY3JpYmVEZWxheU1zOk1hdGgubWF4KHQuc3Vic2NyaWJlU3RhcnQtdC52aWRlb0FkZE5vdGlmeSwwKSxzdWJzY3JpYmVTdGFydDpNYXRoLm1heCh0LnN1YnNjcmliZVN0YXJ0LXQuam9pbkNoYW5uZWxTdGFydCwwKSxzdWJzY3JpYmVFbmQ6TWF0aC5tYXgodC5zdWJzY3JpYmVFbmQtdC5qb2luQ2hhbm5lbFN0YXJ0LDApLGZpcnN0UmVjZWl2ZWQ6TWF0aC5tYXgodC5maXJzdFJlY2VpdmVkLXQuam9pbkNoYW5uZWxTdGFydCwwKSxmaXJzdERlY29kZWQ6TWF0aC5tYXgodC5maXJzdERlY29kZWQtdC5qb2luQ2hhbm5lbFN0YXJ0LDApLGZpcnN0UHJlUmVuZGVyOk1hdGgubWF4KHQuZmlyc3RQcmVSZW5kZXItdC5qb2luQ2hhbm5lbFN0YXJ0LDApLGZpcnN0UmVuZGVyOk1hdGgubWF4KHQuZmlyc3RSZW5kZXItdC5qb2luQ2hhbm5lbFN0YXJ0LDApLHBsYXlEZWxheU1zOk1hdGgubWF4KHQucGxheVN0YXJ0LXQuc3Vic2NyaWJlRW5kLDApLHBsYXlTdGFydDpNYXRoLm1heCh0LnBsYXlTdGFydC10LmpvaW5DaGFubmVsU3RhcnQsMCkscGxheUVuZDpNYXRoLm1heCh0LnBsYXlFbmQtdC5qb2luQ2hhbm5lbFN0YXJ0LDApLGlzUHJlU3ViOnQuaXNQcmVTdWI/MTowLGlzUHJlUGM6dC5pc1ByZVBjPzE6MCxpc1ByZUluc3RhbnRWaWRlbzp0LmlzUHJlSW5zdGFudFZpZGVvPzE6MCxmaXJzdFJlY2VpdmVkRW5jb2RlZEZyYW1lOnQuZmlyc3RSZWNlaXZlZEVuY29kZWRGcmFtZT9NYXRoLm1heCh0LmZpcnN0UmVjZWl2ZWRFbmNvZGVkRnJhbWUtdC5qb2luQ2hhbm5lbFN0YXJ0LDApOnZvaWQgMCxmcmFtZVR5cGU6dC5mcmFtZVR5cGV8fFwiXCIscnRwVGltZXN0YW1wOnQucnRwVGltZXN0YW1wfHwwLGZyYW1lUGF5bG9hZFR5cGU6dC5mcmFtZVBheWxvYWRUeXBlfHwwLGZyYW1lRGF0YUxlbmd0aDp0LmZyYW1lRGF0YUxlbmd0aHx8MCxtaW1lVHlwZTp0Lm1pbWVUeXBlfHxcIlwifSk7dGhpcy5zZW5kKHt0eXBlOmFQLlhMQV9QRUVSX0ZJUlNUX1ZJREVPX0ZSQU1FLGRhdGE6c30sITApfWZpcnN0UmVtb3RlVmlkZW9EZWNvZGUoZSx0LGksbil7Y29uc3Qgcj10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighcilyZXR1cm47Y29uc3Qgbz1yLmluZm8scz1EYXRlLm5vdygpLGE9WUQoWUQoWUQoe30sbyksbikse30se2VsYXBzZTpzLXIuc3RhcnRUaW1lLGV2ZW50VHlwZTp0LGx0czpzLGZpcnN0RGVjb2RlRnJhbWU6TWF0aC5tYXgoKG4uZmlyc3RGcmFtZXx8cyktci5zdGFydFRpbWUsMCksYXBFbmQ6TWF0aC5tYXgobi5hcEVuZC1yLnN0YXJ0VGltZSwwKSxhcFN0YXJ0Ok1hdGgubWF4KG4uYXBTdGFydC1yLnN0YXJ0VGltZSwwKSxqb2luR3dFbmQ6TWF0aC5tYXgobi5qb2luR3dFbmQtci5zdGFydFRpbWUsMCksam9pbkd3U3RhcnQ6TWF0aC5tYXgobi5qb2luR3dTdGFydC1yLnN0YXJ0VGltZSwwKSxwY0VuZDpNYXRoLm1heChuLnBjRW5kLXIuc3RhcnRUaW1lLDApLHBjU3RhcnQ6TWF0aC5tYXgobi5wY1N0YXJ0LXIuc3RhcnRUaW1lLDApLHN1YnNjcmliZXJFbmQ6TWF0aC5tYXgobi5zdWJzY3JpYmVyRW5kLXIuc3RhcnRUaW1lLDApLHN1YnNjcmliZXJTdGFydDpNYXRoLm1heChuLnN1YnNjcmliZXJTdGFydC1yLnN0YXJ0VGltZSwwKSx2aWRlb0FkZE5vdGlmeTpNYXRoLm1heChuLnZpZGVvQWRkTm90aWZ5LXIuc3RhcnRUaW1lLDApfSk7dGhpcy5zZW5kKHt0eXBlOmksZGF0YTphfSwhMCl9Zmlyc3RSZW1vdGVGcmFtZShlLHQsaSxuKXtjb25zdCByPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFyKXJldHVybjtjb25zdCBvPXIuaW5mbyxzPURhdGUubm93KCksYT1ZRChZRChZRCh7fSxvKSxuKSx7fSx7ZWxhcHNlOnMtci5zdGFydFRpbWUsZXZlbnRUeXBlOnQsbHRzOnN9KTt0aGlzLnNlbmQoe3R5cGU6aSxkYXRhOmF9LCEwKX1hYlRlc3QoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz1ZRChZRChZRCh7fSxuKSx0KSx7fSx7dmlkOnZvaWQgMD09PW4udmlkPzA6TnVtYmVyKG4udmlkKSxlbGFwc2U6ci1pLnN0YXJ0VGltZSxldmVudFR5cGU6c1AuQUJfVEVTVCxsdHM6cn0pO3RoaXMuc2VuZCh7dHlwZTphUC5BQl9URVNULGRhdGE6b30sITApfXBjU3RhdHMoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz1ZRChZRChZRCh7fSxuKSx0KSx7fSx7dmlkOnZvaWQgMD09PW4udmlkPzA6TnVtYmVyKG4udmlkKSxlbGFwc2U6ci1pLnN0YXJ0VGltZSxldmVudFR5cGU6c1AuUENfU1RBVFMsbHRzOnIscHJlYWxsb2NhdGlvbjp0LnByZWFsbG9jYXRpb24/MTowfSk7dGhpcy5zZW5kKHt0eXBlOmFQLlBDX1NUQVRTLGRhdGE6b30sITApfXVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlLHQpe2lmKGUpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxvPVlEKFlEKFlEKHt9LG4pLHQpLHt9LHt2aWQ6dm9pZCAwPT09bi52aWQ/MDpOdW1iZXIobi52aWQpLGV2ZW50VHlwZTpzUC5VUERBVEVfUkVNT1RFX1JUUENBUEFCSUxJVElFUyxsdHM6cn0pO3RoaXMuc2VuZCh7dHlwZTphUC5VUERBVEVfUkVNT1RFX1JUUENBUEFCSUxJVElFUyxkYXRhOm99LCEwKX19b25HYXRld2F5U3RyZWFtKGUsdCxpLG4pe2NvbnN0IHI9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIXIpcmV0dXJuO2NvbnN0IG89ci5pbmZvLHM9RGF0ZS5ub3coKSxhPVlEKFlEKFlEKHt9LG8pLG4pLHt9LHtldmVudFR5cGU6dCxsdHM6c30pO3RoaXMuc2VuZCh7dHlwZTppLGRhdGE6YX0sITApfXN0cmVhbVN3aXRjaChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxvPVlEKFlEKHt9LG4pLHt9LHtldmVudFR5cGU6c1AuU1RSRUFNX1NXSVRDSCxsdHM6cixpc0R1YWw6dC5pc2R1YWwsZWxhcHNlOnItaS5zdGFydFRpbWUsc3VjY2Vzczp0LnN1Y2N9KTt0aGlzLnNlbmQoe3R5cGU6YVAuU1RSRUFNX1NXSVRDSCxkYXRhOm99LCEwKX1yZXF1ZXN0UHJveHlBcHBDZW50ZXIoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz1ZRChZRCh7fSxuKSx7fSx7ZXZlbnRUeXBlOnNQLlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSLGx0czpyLGV2ZW50RWxhcHNlOnItdC5sdHMsZWxhcHNlOnItaS5zdGFydFRpbWUsQVBBZGRyOnQuQVBBZGRyLHdvcmtlck1hbmFnZXJMaXN0OnQud29ya2VyTWFuYWdlckxpc3QscmVzcG9uc2U6dC5yZXNwb25zZSxlcnJvckNvZGU6dC5lYyxzdWNjZXNzOnQuc3VjY30pO3RoaXMuc2VuZCh7dHlwZTphUC5SRVFVRVNUX1BST1hZX0FQUENFTlRFUixkYXRhOm99LCEwKX1yZXF1ZXN0UHJveHlXb3JrZXJNYW5hZ2VyKGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLG89WUQoWUQoe30sbikse30se2V2ZW50VHlwZTpzUC5SRVFVRVNUX1BST1hZX1dPUktFUl9NQU5BR0VSLGx0czpyLGV2ZW50RWxhcHNlOnItdC5sdHMsZWxhcHNlOnItaS5zdGFydFRpbWUsd29ya2VyTWFuYWdlckFkZHI6dC53b3JrZXJNYW5hZ2VyQWRkcixyZXNwb25zZTp0LnJlc3BvbnNlLGVycm9yQ29kZTp0LmVjLHN1Y2Nlc3M6dC5zdWNjfSk7dGhpcy5zZW5kKHt0eXBlOmFQLlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVIsZGF0YTpvfSwhMCl9c2V0UHJveHlTZXJ2ZXIoZSl7dGhpcy5wcm94eVNlcnZlcj1lLGU/aVAuZGVidWcoXCJyZXBvcnRQcm94eVNlcnZlcnVybDogXCIuY29uY2F0KGUpKTppUC5kZWJ1ZyhcImRpc2FibGUgcmVwb3J0UHJveHlTZXJ2ZXJ1cmw6IFwiLmNvbmNhdChlKSl9cGVlclB1Ymxpc2hTdGF0dXMoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz1ZRChZRCh7fSxuKSx7fSx7c3Vic2NyaWJlRWxhcHNlOnQuc3Vic2NyaWJlRWxhcHNlLHBlZXI6dC5wZWVyLHBlZXJQdWJsaXNoRHVyYXRpb246TWF0aC5tYXgodC5hdWRpb1B1Ymxpc2hEdXJhdGlvbix0LnZpZGVvUHVibGlzaER1cmF0aW9uKSxhdWRpb3RhZzp0LmF1ZGlvUHVibGlzaER1cmF0aW9uPjA/MTotMSx2aWRlb3RhZzp0LnZpZGVvUHVibGlzaER1cmF0aW9uPjA/MTotMSxsdHM6cixlbGFwc2U6ci1pLnN0YXJ0VGltZSxqb2luQ2hhbm5lbFN1Y2Nlc3NFbGFwc2U6ci0oaS5sYXN0Sm9pblN1Y2Nlc3NUaW1lfHxyKSxwZWVyUHVibGlzaER1cmF0aW9uVmlkZW86dC52aWRlb1B1Ymxpc2hEdXJhdGlvbixwZWVyUHVibGlzaER1cmF0aW9uQXVkaW86dC5hdWRpb1B1Ymxpc2hEdXJhdGlvbn0pO3RoaXMuc2VuZCh7dHlwZTphUC5QRUVSX1BVQkxJU0hfU1RBVFVTLGRhdGE6b30sITApfXdvcmtlckV2ZW50KGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpOyhmdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1lW3RdO2lmKCFufHxcInN0cmluZ1wiIT10eXBlb2YgbilyZXR1cm5bZV07ZVt0XT1cIlwiO2NvbnN0IHI9X04oSlNPTi5zdHJpbmdpZnkoZSkpO2xldCBvPTA7Y29uc3Qgcz1bXTtsZXQgYT0wO2ZvcihsZXQgYz0wO2M8bi5sZW5ndGg7YysrKWErPW4uY2hhckNvZGVBdChjKTw9MTI3PzE6MyxhPD1pLXJ8fChzW3MubGVuZ3RoXT11Tyh1Tyh7fSxlKSx7fSx7W3RdOm4uc3Vic3RyaW5nKG8sYyl9KSxvPWMsYT1uLmNoYXJDb2RlQXQoYyk8PTEyNz8xOjMpO3JldHVybiBvIT09bi5sZW5ndGgtMSYmKHNbcy5sZW5ndGhdPXVPKHVPKHt9LGUpLHt9LHtbdF06bi5zdWJzdHJpbmcobyl9KSksc30pKFlEKFlEKFlEKHt9LG4pLHQpLHt9LHtlbGFwc2U6ci1pLnN0YXJ0VGltZSxsdHM6cixwcm9kdWN0VHlwZTpcIldlYlJUQ1wifSksXCJwYXlsb2FkXCIsMTMwMCkuZm9yRWFjaCgoZT0+dGhpcy5zZW5kKHt0eXBlOmFQLldPUktFUl9FVkVOVCxkYXRhOmV9LCEwKSkpfWFwd29ya2VyRXZlbnQoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz1ZRChZRChZRCh7fSxuKSx0KSx7fSx7ZWxhcHNlOnItaS5zdGFydFRpbWUsbHRzOnJ9KTt0aGlzLnNlbmQoe3R5cGU6YVAuQVBfV09SS0VSX0VWRU5ULGRhdGE6b30sITApfWpvaW5XZWJQcm94eUFQKGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLG89WUQoWUQoWUQoe30sbiksdCkse30se2VsYXBzZTpyLWkuc3RhcnRUaW1lLGx0czpyLGV4dGVuZDp0LmV4dGVuZHx8dm9pZCAwfSk7dGhpcy5zZW5kKHt0eXBlOmFQLkpPSU5fV0VCX1BST1hZX0FQLGRhdGE6b30sITApfVdlYlNvY2tldFF1aXQoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz1ZRChZRChZRCh7fSxuKSx0KSx7fSx7ZWxhcHNlOnItaS5zdGFydFRpbWUsbHRzOnJ9KTt0aGlzLnNlbmQoe3R5cGU6YVAuV0VCU09DS0VUX1FVSVQsZGF0YTpvfSwhMCl9YXN5bmMgc2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2UoZSx0KXtpZih0aGlzLmN1c3RvbVJlcG9ydENvdW50Kz10Lmxlbmd0aCx0aGlzLmN1c3RvbVJlcG9ydENvdW50PkNEKFwiQ1VTVE9NX1JFUE9SVF9MSU1JVFwiKSl0aHJvdyBuZXcgcE8oaE8uQ1VTVE9NX1JFUE9SVF9GUkVRVUVOQ1lfVE9PX0hJR0gpO3RoaXMuY3VzdG9tUmVwb3J0Q291bnRlclRpbWVyfHwodGhpcy5jdXN0b21SZXBvcnRDb3VudGVyVGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e3RoaXMuY3VzdG9tUmVwb3J0Q291bnQ9MH0pLDVlMykpO2NvbnN0IGk9RGF0ZS5ub3coKSxuPXQubWFwKCh0PT4oe3R5cGU6YVAuVVNFUl9BTkFMWVRJQ1MsZGF0YTpZRChZRCh7c2lkOmV9LHQpLHt9LHtsdHM6aX0pfSkpKTt0cnl7Q0QoXCJORVdfUkVQT1JUX1NFUlZFUlwiKT9hd2FpdCB0aGlzLnBvc3REYXRhVG9TdGF0c0NvbGxlY3RvcjIobik6YXdhaXQgdGhpcy5wb3N0RGF0YVRvU3RhdHNDb2xsZWN0b3Iobil9Y2F0Y2goZSl7dGhyb3cgaVAuZXJyb3IoXCJzZW5kIGN1c3RvbSByZXBvcnQgbWVzc2FnZSBmYWlsZWRcIixlLnRvU3RyaW5nKCkpLG5ldyBwTyhoTy5DVVNUT01fUkVQT1JUX1NFTkRfRkFJTEVELGUubWVzc2FnZSl9fXNlbmRBcGlJbnZva2UoZSl7Y29uc3QgdD1DRChcIk5PVF9SRVBPUlRfRVZFTlRcIik7aWYoZS50YWcmJkxuKHQpJiZMbih0KS5jYWxsKHQsZS50YWcpKXJldHVybiExO2lmKG51bGw9PT1lLnNpZClyZXR1cm4gdGhpcy5hcGlJbnZva2VVcGxvYWRQZW5kaW5nSXRlbXMucHVzaChlKSwhMTtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUuc2lkKTtpZighaSlyZXR1cm4gdGhpcy5hcGlJbnZva2VVcGxvYWRQZW5kaW5nSXRlbXMucHVzaChlKSwhMTtjb25zdHtjbmFtZTpuLHVpZDpyLGNpZDpvfT1pLmluZm87bGV0IHM7aWYoZS5sdHM9ZS5sdHN8fERhdGUubm93KCksZS5lcnJvcilpZihlLmVycm9yIGluc3RhbmNlb2YgcE8pe2NvbnN0e2NvZGU6dCxtZXNzYWdlOml9PWUuZXJyb3I7cz10fHxpfHxlLmVycm9yLnRvU3RyaW5nKCl9ZWxzZSBzPWUuZXJyb3IudG9TdHJpbmcoKTtjb25zdCBhPXtpbnZva2VJZDplLmludm9rZUlkLHNpZDplLnNpZCxjbmFtZTpuLGNpZDpvLHVpZDpyLGx0czplLmx0cyxzdWNjZXNzOmUuc3VjY2VzcyxlbGFwc2U6ZS5sdHMtaS5zdGFydFRpbWUsZXhlY0VsYXBzZTplLmx0cy1lLmFwaUludm9rZVRpbWUsYXBpTmFtZTplLm5hbWUsb3B0aW9uczplLm9wdGlvbnM/SlNPTi5zdHJpbmdpZnkoZS5vcHRpb25zKTp2b2lkIDAsZXhlY1N0YXRlczplLnN0YXRlcz9KU09OLnN0cmluZ2lmeShlLnN0YXRlcyk6dm9pZCAwLGV4ZWNSZXN1bHQ6ZS5yZXN1bHQ/SlNPTi5zdHJpbmdpZnkoZS5yZXN1bHQpOnZvaWQgMCxlcnJvckNvZGU6ZS5lcnJvcj9zOnZvaWQgMCxlcnJvck1zZzplLmVycm9yP0pTT04uc3RyaW5naWZ5KGUuZXJyb3IpOnZvaWQgMH07cmV0dXJuIHRoaXMuc2VuZCh7dHlwZTphUC5BUElfSU5WT0tFLGRhdGE6YX0sITEpLCEwfWFkZFNpZChlKXt0aGlzLnNpZHMuYWRkKGUpfXJlbW92ZVNpZChlKXt0aGlzLnNpZHMuZGVsZXRlKGUpfWFwcGVuZFNlc3Npb25JZCgpe2NvbnN0IGU9dGhpcy5hcGlJbnZva2VVcGxvYWRQZW5kaW5nSXRlbXM7aWYoMD09PWUubGVuZ3RoKXJldHVybjtjb25zdCB0PUFycmF5LmZyb20odGhpcy5zaWRzKS5maW5kKChlPT5udWxsIT09ZSkpO3QmJmUuZm9yRWFjaCgoZT0+e2UmJihlLnNpZD10LHRoaXMuc2VuZEFwaUludm9rZShPYmplY3QuYXNzaWduKHt9LGUpKSl9KSksZS5sZW5ndGg9MH1zZW5kKGUsdCl7aWYodClyZXR1cm4gdGhpcy5rZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5wdXNoKGUpLHZvaWQgdGhpcy5zZW5kSXRlbXModGhpcy5rZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtcywhMCk7dGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5wdXNoKGUpLHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMubGVuZ3RoPkNEKFwiTk9STUFMX0VWRU5UX1FVRVVFX0NBUEFDSVRZXCIpJiZ0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLnNwbGljZSgwLDEpLHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMubGVuZ3RoPj0xMCYmdGhpcy5zZW5kSXRlbXModGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcywhMSl9ZG9TZW5kKCl7dGhpcy5rZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg+MCYmdGhpcy5zZW5kSXRlbXModGhpcy5rZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtcywhMCksdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg+MCYmRGF0ZS5ub3coKS10aGlzLmxhc3RTZW5kTm9ybWFsRXZlbnRUaW1lPj01ZTMmJnRoaXMuc2VuZEl0ZW1zKHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMsITEpfXNlbmRJdGVtcyhlLHQpe2NvbnN0IGk9W10sbj1bXTtmb3IoO2UubGVuZ3RoOyl7Y29uc3QgdD1lLnNoaWZ0KCk7aS5sZW5ndGg8MjA/aS5wdXNoKHQpOm4ucHVzaCh0KX1lLnB1c2goLi4ubik7Zm9yKGNvbnN0IGUgb2ZbLi4uaV0pe3ZhciByOy0xIT09dGhpcy5sdHNMaXN0LmluZGV4T2YoZS5kYXRhLmx0cyk/KGUuZGF0YS5sdHM9dGhpcy5sdHNMaXN0W3RoaXMubHRzTGlzdC5sZW5ndGgtMV0rMSx0aGlzLmx0c0xpc3QucHVzaChlLmRhdGEubHRzKSk6KHRoaXMubHRzTGlzdC5wdXNoKGUuZGF0YS5sdHMpLFFwKHI9dGhpcy5sdHNMaXN0KS5jYWxsKHIsKChlLHQpPT5lLXQpKSl9cmV0dXJuIHR8fCh0aGlzLmxhc3RTZW5kTm9ybWFsRXZlbnRUaW1lPURhdGUubm93KCkpLENEKFwiRU5BQkxFX0VWRU5UX1JFUE9SVFwiKT8oaS5sZW5ndGgmJihDRChcIk5FV19SRVBPUlRfU0VSVkVSXCIpP3RoaXMucG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yMihpKTp0aGlzLnBvc3REYXRhVG9TdGF0c0NvbGxlY3RvcihpKSkuY2F0Y2goKGU9Pmk9PntDRChcIkVWRU5UX1JFUE9SVF9SRVRSWVwiKSYmKHQ/dGhpcy5rZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtcz10aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmNvbmNhdChlKToodGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcz10aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmNvbmNhdChlKSx0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aD5DRChcIk5PUk1BTF9FVkVOVF9RVUVVRV9DQVBBQ0lUWVwiKSYmKHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuc3BsaWNlKDAsdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGgtQ0QoXCJOT1JNQUxfRVZFTlRfUVVFVUVfQ0FQQUNJVFlcIikpLGlQLndhcm5pbmcoXCJyZXBvcnQ6IGRyb3Agbm9ybWFsIGV2ZW50c1wiKSkpKX0pKGkpKSxlKTplfWFzeW5jIHBvc3REYXRhVG9TdGF0c0NvbGxlY3RvcjIoZSl7UU8ubmV0d29ya1N0YXRlPT09S08uT0ZGTElORSYmYXdhaXQgcnAucmFjZShbUU8ub25saW5lV2FpdGVyLGZOKDIqa04ubWF4UmV0cnlUaW1lb3V0KV0pO2NvbnN0IHQ9ZT0+e2xldCB0PW5ldyBVaW50OEFycmF5O3JldHVybiBlLmZvckVhY2goKGU9Pntjb25zdCBpPWJPKEpTT04uc3RyaW5naWZ5KGUuZGF0YSkpLG49bmV3IEFycmF5QnVmZmVyKDUpLHI9KGU9PntsZXQgdD0wO3JldHVybiBPYmplY3QuZW50cmllcyhhUCkuZm9yRWFjaCgoaT0+e2xldFtuLHJdPWk7cj09PWUudHlwZSYmKHQ9Y1Bbbl0pfSkpLHR9KShlKSxvPW5ldyBEYXRhVmlldyhuKTtvLnNldFVpbnQxNigwLGkuYnl0ZUxlbmd0aCwhMCksby5zZXRVaW50OCgyLDI1NSZyKSxvLnNldFVpbnQ4KDMscj4+PjgmMjU1KSxvLnNldFVpbnQ4KDQscj4+PjE2JjI1NSksdD13Tyh0LG5ldyBVaW50OEFycmF5KG4pKSx0PXdPKHQsaSl9KSksdH0saT1cImV2ZW50XCI7bGV0IG49dGhpcy5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucHJveHlTZXJ2ZXIsXCIvcnMvP2g9XCIpLmNvbmNhdChDRChcIk5FV19SRVBPUlRfU0VSVkVSX0RPTUFJTlNcIilbMF0sXCImcD00NDMmZD1cIikuY29uY2F0KGkpOlwiaHR0cHM6Ly9cIi5jb25jYXQoQ0QoXCJORVdfUkVQT1JUX1NFUlZFUl9ET01BSU5TXCIpWzBdLFwiL1wiKS5jb25jYXQoaSk7Zm9yKGxldCByPTA7cjwyO3IrPTEpezE9PT1yJiYobj10aGlzLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5wcm94eVNlcnZlcixcIi9ycy8/aD1cIikuY29uY2F0KENEKFwiTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOU1wiKVsxXSxcIiZwPTQ0MyZkPVwiKS5jb25jYXQoaSk6XCJodHRwczovL1wiLmNvbmNhdChDRChcIk5FV19SRVBPUlRfU0VSVkVSX0RPTUFJTlNcIilbMV0sXCIvXCIpLmNvbmNhdChpKSk7dHJ5e2F3YWl0IGpOKG4se3RpbWVvdXQ6MWU0LGRhdGE6dChlKSxoZWFkZXJzOllEKFlEKHtiaXo6XCJ3ZWJydGNcIixzZW5kdHM6TWF0aC5yb3VuZChEYXRlLm5vdygpLzFlMyksZGVidWc6XCJmYWxzZVwifSx0aGlzLl9hcHBJZCYme2FwcGlkOnRoaXMuX2FwcElkfSkse30se1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pfSwhMCl9Y2F0Y2goZSl7aWYoMT09PXIpdGhyb3cgZTtjb250aW51ZX1yZXR1cm59fWFzeW5jIHBvc3REYXRhVG9TdGF0c0NvbGxlY3RvcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO2NvbnN0IGk9KGU9Pntjb25zdCB0PWUmJmUuZGF0YS5zaWQmJnRoaXMuYmFzZUluZm9NYXAuZ2V0KGUuZGF0YS5zaWQpO3JldHVybiB0JiZ0LmluZm8udmlkJiYrdC5pbmZvLnZpZHx8MH0pKGVbMF0pLG49aT92b2lkIDA6dGhpcy5fYWlkLHI9e21zZ1R5cGU6XCJFdmVudE1lc3NhZ2VzXCIsc2VudFRzOk1hdGgucm91bmQoRGF0ZS5ub3coKS8xZTMpLHBheWxvYWRzOmUubWFwKChlPT5KU09OLnN0cmluZ2lmeShlKSkpLHZpZDppLGFpZDpufTtRTy5uZXR3b3JrU3RhdGU9PT1LTy5PRkZMSU5FJiZhd2FpdCBycC5yYWNlKFtRTy5vbmxpbmVXYWl0ZXIsZk4oMiprTi5tYXhSZXRyeVRpbWVvdXQpXSk7Y29uc3Qgbz10P1wiL2V2ZW50cy9wcm90by1yYXdzXCI6XCIvZXZlbnRzL21lc3NhZ2VzXCI7bGV0IHM9dGhpcy51cmx8fCh0aGlzLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5wcm94eVNlcnZlcixcIi9ycy8/aD1cIikuY29uY2F0KENEKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiKSxcIiZwPVwiKS5jb25jYXQoQ0QoXCJTVEFUU19DT0xMRUNUT1JfUE9SVFwiKSxcIiZkPVwiKS5jb25jYXQobyk6XCJodHRwczovL1wiLmNvbmNhdChDRChcIkVWRU5UX1JFUE9SVF9ET01BSU5cIiksXCI6XCIpLmNvbmNhdChDRChcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIpKS5jb25jYXQobykpO2ZvcihsZXQgZT0wO2U8MjtlKz0xKXsxPT09ZSYmKHM9dGhpcy5iYWNrdXBVcmx8fCh0aGlzLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5wcm94eVNlcnZlcixcIi9ycy8/aD1cIikuY29uY2F0KENEKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIiksXCImcD1cIikuY29uY2F0KENEKFwiU1RBVFNfQ09MTEVDVE9SX1BPUlRcIiksXCImZD1cIikuY29uY2F0KG8pOlwiaHR0cHM6Ly9cIi5jb25jYXQoQ0QoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiKSxcIjpcIikuY29uY2F0KENEKFwiU1RBVFNfQ09MTEVDVE9SX1BPUlRcIikpLmNvbmNhdChvKSkpO3RyeXt0P2F3YWl0IEdOKHMse3RpbWVvdXQ6MWU0LGRhdGE6cn0pOmF3YWl0IGpOKHMse3RpbWVvdXQ6MWU0LGRhdGE6cn0pfWNhdGNoKHQpe2lmKDE9PT1lKXRocm93IHQ7Y29udGludWV9cmV0dXJufX1jcmVhdGVCYXNlSW5mbyhlLHQpe2NvbnN0IGk9T2JqZWN0LmFzc2lnbih7fSxvUCk7cmV0dXJuIGkuc2lkPWUsdGhpcy5iYXNlSW5mb01hcC5zZXQoZSx7aW5mbzppLHN0YXJ0VGltZTp0fSksaX1yZXBvcnRSZXNvdXJjZVRpbWluZyhlLHQpe2NvbnN0IGk9cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZShlKSxuPWlbaS5sZW5ndGgtMV07biYmdGhpcy5yZXBvcnRBcGlJbnZva2UodCx7bmFtZTpcIkNsaWVudC5yZXNvdXJjZVRpbWluZ1wiLG9wdGlvbnM6bix0YWc6a08uVFJBQ0VSfSkub25TdWNjZXNzKCl9fTtYRC5vbihcIlJFUE9SVF9MT0dfVVBMT0FEXCIsKGU9PntlLm5ldHdvcmtTdGF0ZT1RTy5uZXR3b3JrU3RhdGUsbFAucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6XCJsb2dVcGxvYWRFcnJvclwiLG9wdGlvbnM6ZSx0YWc6a08uVFJBQ0VSfSkub25TdWNjZXNzKFwibG9nVXBsb2FkRXJyb3JcIil9KSk7bGV0IHVQPWNsYXNzIGV4dGVuZHMgcE97Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJcIixhcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCksSEQodGhpcyxcIm5hbWVcIixcIkFnb3JhUlRDRXhjZXB0aW9uXCIpfXByaW50KCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiZXJyb3JcIjtyZXR1cm4gc3VwZXIucHJpbnQoZSxpUCl9dGhyb3coKXtzdXBlci50aHJvdyhpUCl9fTtjb25zdCBoUD17Z2V0RGlzcGxheU1lZGlhOiExLGdldFN0cmVhbUZyb21FeHRlbnNpb246ITEsc3VwcG9ydFVuaWZpZWRQbGFuOiExLHN1cHBvcnRNaW5CaXRyYXRlOiExLHN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzOiExLHN1cHBvcnREdWFsU3RyZWFtOiEwLHdlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0OiExLHN1cHBvcnRSZXBsYWNlVHJhY2s6ITEsc3VwcG9ydFdlYkdMOiExLHdlYkF1ZGlvV2l0aEFFQzohMSxzdXBwb3J0UmVxdWVzdEZyYW1lOiExLHN1cHBvcnRTaGFyZUF1ZGlvOiExLHN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmc6ITEsc3VwcG9ydERhdGFDaGFubmVsOiExLHN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb246ITEsc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm06ITEsc3VwcG9ydFdlYlJUQ0luc2VydGFibGVTdHJlYW06ITEsc3VwcG9ydFJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2s6ITEsc3VwcG9ydFdlYkNyeXB0bzohMSxzdXBwb3J0U3VwcHJlc3NMb2NhbEF1ZGlvUGxheWJhY2s6ITEsc3VwcG9ydFJlc3RyaWN0T3duQXVkaW86ITF9O2Z1bmN0aW9uIHBQKCl7cmV0dXJuIGhQfWZ1bmN0aW9uIF9QKCl7cmV0dXJuXCJzZXRTaW5rSWRcImluIEhUTUxBdWRpb0VsZW1lbnQucHJvdG90eXBlJiYoIUNEKFwiUkVTVFJJQ1RJT05fU0VUX1BMQVlCQUNLX0RFVklDRVwiKXx8KFV3KCl8fEZ3KCkpJiYhb08oKSl9ZnVuY3Rpb24gRVAoKXtyZXR1cm4haFAuc3VwcG9ydFVuaWZpZWRQbGFufHxDRChcIkNIUk9NRV9GT1JDRV9QTEFOX0JcIikmJnNPKCl9ZnVuY3Rpb24gbVAoZSl7cmV0dXJuIShCdygpfHxXdyg4Nyl8fEVQKCl8fCFDRChcIkVOQUJMRV9QUkVfU1VCXCIpJiYobnVsbD09ZXx8IWUuYXV0b1N1YnNjcmliZXx8Q0QoXCJGT1JDRV9ESVNBQkxFX0FVVE9fU1VCXCIpKSl9ZnVuY3Rpb24gZlAoZSl7cmV0dXJuIENEKFwiRU5BQkxFX0lOU1RBTlRfVklERU9cIik/Q0QoXCJFTkFCTEVfSU5TVEFOVF9WSURFT1wiKTohKG51bGw9PWV8fCFlLmF1dG9TdWJzY3JpYmV8fENEKFwiRk9SQ0VfRElTQUJMRV9BVVRPX1NVQlwiKSl9ZnVuY3Rpb24gU1AoKXtyZXR1cm4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmXCJnZXRTdXBwb3J0ZWRDb25zdHJhaW50c1wiaW4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlc31mdW5jdGlvbiBnUCgpe2lmKFNQKCkpe2NvbnN0IGU9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpO3JldHVybiEoIShcInN1cHByZXNzTG9jYWxBdWRpb1BsYXliYWNrXCJpbiBlKXx8IWUuc3VwcHJlc3NMb2NhbEF1ZGlvUGxheWJhY2spfXJldHVybiBHdygxNDEpfHxLdygxNDEpfHxRdygxNDEpfWZ1bmN0aW9uIFRQKCl7aWYoU1AoKSl7Y29uc3QgZT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzKCk7cmV0dXJuISghKFwicmVzdHJpY3RPd25BdWRpb1wiaW4gZSl8fCFlLnJlc3RyaWN0T3duQXVkaW8pfXJldHVybiBHdygxNDEpfHxLdygxNDEpfHxRdygxMjUpfWxldCBSUD1mdW5jdGlvbihlKXtyZXR1cm4gZS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX1NUQVJUPVwiaW9zMTVfMTYtaW50ZXJydXB0aW9uLXN0YXJ0XCIsZS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORD1cImlvczE1XzE2LWludGVycnVwdGlvbi1lbmRcIixlLklPU19JTlRFUlJVUFRJT05fU1RBUlQ9XCJpb3MtaW50ZXJydXB0aW9uLXN0YXJ0XCIsZS5JT1NfSU5URVJSVVBUSU9OX0VORD1cImlvcy1pbnRlcnJ1cHRpb24tZW5kXCIsZS5TVEFURV9DSEFOR0U9XCJzdGF0ZS1jaGFuZ2VcIixlfSh7fSk7ZnVuY3Rpb24gQ1AoZSx0LGkpe3JldHVybntzYW1wbGVSYXRlOmUsc3RlcmVvOnQsYml0cmF0ZTppfX1mdW5jdGlvbiB2UChlLHQsaSxuLHIpe3JldHVybnt3aWR0aDplLGhlaWdodDp0LGZyYW1lUmF0ZTppLGJpdHJhdGVNaW46bixiaXRyYXRlTWF4OnJ9fWZ1bmN0aW9uIHlQKGUsdCxpLG4scil7cmV0dXJue3dpZHRoOnttYXg6ZX0saGVpZ2h0OnttYXg6dH0sZnJhbWVSYXRlOmksYml0cmF0ZU1pbjpuLGJpdHJhdGVNYXg6cn19ZnVuY3Rpb24gSVAoZSx0KXtyZXR1cm57bnVtU3BhdGlhbExheWVyczplLG51bVRlbXBvcmFsTGF5ZXJzOnR9fWNvbnN0IEFQPXtcIjkwcFwiOnZQKDE2MCw5MCksXCI5MHBfMVwiOnZQKDE2MCw5MCksXCIxMjBwXCI6dlAoMTYwLDEyMCwxNSwzMCw2NSksXCIxMjBwXzFcIjp2UCgxNjAsMTIwLDE1LDMwLDY1KSxcIjEyMHBfM1wiOnZQKDEyMCwxMjAsMTUsMzAsNTApLFwiMTIwcF80XCI6dlAoMjEyLDEyMCksXCIxODBwXCI6dlAoMzIwLDE4MCwxNSwzMCwxNDApLFwiMTgwcF8xXCI6dlAoMzIwLDE4MCwxNSwzMCwxNDApLFwiMTgwcF8zXCI6dlAoMTgwLDE4MCwxNSwzMCwxMDApLFwiMTgwcF80XCI6dlAoMjQwLDE4MCwxNSwzMCwxMjApLFwiMjQwcFwiOnZQKDMyMCwyNDAsMTUsNDAsMjAwKSxcIjI0MHBfMVwiOnZQKDMyMCwyNDAsMTUsNDAsMjAwKSxcIjI0MHBfM1wiOnZQKDI0MCwyNDAsMTUsNDAsMTQwKSxcIjI0MHBfNFwiOnZQKDQyNCwyNDAsMTUsNDAsMjIwKSxcIjM2MHBcIjp2UCg2NDAsMzYwLDE1LDgwLDQwMCksXCIzNjBwXzFcIjp2UCg2NDAsMzYwLDE1LDgwLDQwMCksXCIzNjBwXzNcIjp2UCgzNjAsMzYwLDE1LDgwLDI2MCksXCIzNjBwXzRcIjp2UCg2NDAsMzYwLDMwLDgwLDYwMCksXCIzNjBwXzZcIjp2UCgzNjAsMzYwLDMwLDgwLDQwMCksXCIzNjBwXzdcIjp2UCg0ODAsMzYwLDE1LDgwLDMyMCksXCIzNjBwXzhcIjp2UCg0ODAsMzYwLDMwLDgwLDQ5MCksXCIzNjBwXzlcIjp2UCg2NDAsMzYwLDE1LDgwLDgwMCksXCIzNjBwXzEwXCI6dlAoNjQwLDM2MCwyNCw4MCw4MDApLFwiMzYwcF8xMVwiOnZQKDY0MCwzNjAsMjQsODAsMWUzKSxcIjQ4MHBcIjp2UCg2NDAsNDgwLDE1LDEwMCw1MDApLFwiNDgwcF8xXCI6dlAoNjQwLDQ4MCwxNSwxMDAsNTAwKSxcIjQ4MHBfMlwiOnZQKDY0MCw0ODAsMzAsMTAwLDFlMyksXCI0ODBwXzNcIjp2UCg0ODAsNDgwLDE1LDEwMCw0MDApLFwiNDgwcF80XCI6dlAoNjQwLDQ4MCwzMCwxMDAsNzUwKSxcIjQ4MHBfNlwiOnZQKDQ4MCw0ODAsMzAsMTAwLDYwMCksXCI0ODBwXzhcIjp2UCg4NDgsNDgwLDE1LDEwMCw2MTApLFwiNDgwcF85XCI6dlAoODQ4LDQ4MCwzMCwxMDAsOTMwKSxcIjQ4MHBfMTBcIjp2UCg2NDAsNDgwLDEwLDEwMCw0MDApLFwiNzIwcFwiOnZQKDEyODAsNzIwLDE1LDEyMCwxMTMwKSxcIjcyMHBfYXV0b1wiOnZQKDEyODAsNzIwLDMwLDkwMCwzZTMpLFwiNzIwcF8xXCI6dlAoMTI4MCw3MjAsMTUsMTIwLDExMzApLFwiNzIwcF8yXCI6dlAoMTI4MCw3MjAsMzAsMTIwLDJlMyksXCI3MjBwXzNcIjp2UCgxMjgwLDcyMCwzMCwxMjAsMTcxMCksXCI3MjBwXzVcIjp2UCg5NjAsNzIwLDE1LDEyMCw5MTApLFwiNzIwcF82XCI6dlAoOTYwLDcyMCwzMCwxMjAsMTM4MCksXCIxMDgwcFwiOnZQKDE5MjAsMTA4MCwxNSwxMjAsMjA4MCksXCIxMDgwcF8xXCI6dlAoMTkyMCwxMDgwLDE1LDEyMCwyMDgwKSxcIjEwODBwXzJcIjp2UCgxOTIwLDEwODAsMzAsMTIwLDNlMyksXCIxMDgwcF8zXCI6dlAoMTkyMCwxMDgwLDMwLDEyMCwzMTUwKSxcIjEwODBwXzVcIjp2UCgxOTIwLDEwODAsNjAsMTIwLDQ3ODApLFwiMTQ0MHBcIjp2UCgyNTYwLDE0NDAsMzAsMTIwLDQ4NTApLFwiMTQ0MHBfMVwiOnZQKDI1NjAsMTQ0MCwzMCwxMjAsNDg1MCksXCIxNDQwcF8yXCI6dlAoMjU2MCwxNDQwLDYwLDEyMCw3MzUwKSxcIjRrXCI6dlAoMzg0MCwyMTYwLDMwLDEyMCw4OTEwKSxcIjRrXzFcIjp2UCgzODQwLDIxNjAsMzAsMTIwLDg5MTApLFwiNGtfM1wiOnZQKDM4NDAsMjE2MCw2MCwxMjAsMTM1MDApfSxiUD17XCI0ODBwXCI6eVAoNjQwLDQ4MCw1KSxcIjQ4MHBfMVwiOnlQKDY0MCw0ODAsNSksXCI0ODBwXzJcIjp5UCg2NDAsNDgwLDMwKSxcIjQ4MHBfM1wiOnlQKDY0MCw0ODAsMTUpLFwiNzIwcFwiOnlQKDEyODAsNzIwLDUpLFwiNzIwcF9hdXRvXCI6dlAoMTI4MCw3MjAsMzAsOTAwLDNlMyksXCI3MjBwXzFcIjp5UCgxMjgwLDcyMCw1KSxcIjcyMHBfMlwiOnlQKDEyODAsNzIwLDMwKSxcIjcyMHBfM1wiOnlQKDEyODAsNzIwLDE1KSxcIjEwODBwXCI6eVAoMTkyMCwxMDgwLDUpLFwiMTA4MHBfMVwiOnlQKDE5MjAsMTA4MCw1KSxcIjEwODBwXzJcIjp5UCgxOTIwLDEwODAsMzApLFwiMTA4MHBfM1wiOnlQKDE5MjAsMTA4MCwxNSl9LHdQPXtcIjFTTDFUTFwiOklQKDEsMSksXCIzU0wzVExcIjpJUCgzLDMpLFwiMlNMM1RMXCI6SVAoMiwzKX07ZnVuY3Rpb24gT1AoZSl7cmV0dXJuIGV8fChlPVwiNDgwcF8xXCIpLFwic3RyaW5nXCI9PXR5cGVvZiBlP09iamVjdC5hc3NpZ24oe30sQVBbZV0pOmV9ZnVuY3Rpb24gTlAoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/T2JqZWN0LmFzc2lnbih7fSxiUFtlXSk6ZX1mdW5jdGlvbiBEUChlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9PYmplY3QuYXNzaWduKHt9LHdQW2VdKTplfWNvbnN0IFBQPXtzcGVlY2hfbG93X3F1YWxpdHk6Q1AoMTZlMywhMSksc3BlZWNoX3N0YW5kYXJkOkNQKDMyZTMsITEsMTgpLG11c2ljX3N0YW5kYXJkOkNQKDQ4ZTMsITEpLHN0YW5kYXJkX3N0ZXJlbzpDUCg0OGUzLCEwLDU2KSxoaWdoX3F1YWxpdHk6Q1AoNDhlMywhMSwxMjgpLGhpZ2hfcXVhbGl0eV9zdGVyZW86Q1AoNDhlMywhMCwxOTIpfTtmdW5jdGlvbiBMUChlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9PYmplY3QuYXNzaWduKHt9LFBQW2VdKTplfWNvbnN0IGtQPVtdO2Z1bmN0aW9uIE1QKGUpe3JldHVybiBFTyhlLFwibWVkaWFTb3VyY2VcIixbXCJzY3JlZW5cIixcIndpbmRvd1wiLFwiYXBwbGljYXRpb25cIl0pLCEwfWxldCBVUD1mdW5jdGlvbihlKXtyZXR1cm4gZS5ORUVEX1JFTkVHT1RJQVRFPVwiQG5lZWRfcmVuZWdvdGlhdGVcIixlLk5FRURfUkVQTEFDRV9UUkFDSz1cIkBuZWVkX3JlcGxhY2VfdHJhY2tcIixlLk5FRURfUkVQTEFDRV9NSVhJTkdfVFJBQ0s9XCJAbmVlZF9yZXBsYWNlX21peGluZ190cmFja1wiLGUuTkVFRF9DTE9TRT1cIkBuZWVkX2Nsb3NlXCIsZS5ORUVEX0VOQUJMRV9UUkFDSz1cIkBuZWVkX2VuYWJsZV90cmFja1wiLGUuTkVFRF9ESVNBQkxFX1RSQUNLPVwiQG5lZWRfZGlzYWJsZV90cmFja1wiLGUuTkVFRF9TRVNTSU9OX0lEPVwiQG5lZWRfc2lkXCIsZS5TRVRfT1BUSU1JWkFUSU9OX01PREU9XCJAc2V0X29wdGltaXphdGlvbl9tb2RlXCIsZS5HRVRfU1RBVFM9XCJAZ2V0X3N0YXRzXCIsZS5HRVRfUlRDX1NUQVRTPVwiQGdldF9ydGNfc3RhdHNcIixlLkdFVF9MT1dfVklERU9fVFJBQ0s9XCJAZ2V0X2xvd192aWRlb190cmFja1wiLGUuTkVFRF9SRVNFVF9SRU1PVEVfU0RQPVwiQG5lZWRfcmVzZXRfcmVtb3RlX3NkcFwiLGUuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUj1cIkBuZWVkX3VwZGF0ZV92aWRlb19lbmNvZGVyXCIsZS5ORUVEX1VQREFURV9WSURFT19TRU5EX1BBUkFNRVRFUlM9XCJAbmVlZF91cGRhdGVfdmlkZW9fc2VuZF9wYXJhbWV0ZXJzXCIsZS5ORUVEX01VVEVfVFJBQ0s9XCJAbmVlZF9tdXRlX3RyYWNrXCIsZS5ORUVEX1VOTVVURV9UUkFDSz1cIkBuZWVkX3VubXV0ZV90cmFja1wiLGV9KHt9KSxWUD1mdW5jdGlvbihlKXtyZXR1cm4gZS5TQ1JFRU5fVFJBQ0s9XCJzY3JlZW5fdHJhY2tcIixlLkNVU1RPTV9UUkFDSz1cImN1c3RvbWVfdHJhY2tcIixlLkxPV19TVFJFQU09XCJsb3dfc3RyZWFtXCIsZS5TQ1JFRU5fTE9XX1RSQUNLPVwic2NyZWVuX2xvd190cmFja1wiLGV9KHt9KTtsZXQgeFA9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5ISUdIX1NUUkVBTT0wXT1cIkhJR0hfU1RSRUFNXCIsZVtlLkxPV19TVFJFQU09MV09XCJMT1dfU1RSRUFNXCIsZX0oe30pLEZQPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuSElHSF9TVFJFQU09MF09XCJISUdIX1NUUkVBTVwiLGVbZS5MT1dfU1RSRUFNPTFdPVwiTE9XX1NUUkVBTVwiLGVbZS5ISUdIX1NUUkVBTV9MQVlFUjE9NF09XCJISUdIX1NUUkVBTV9MQVlFUjFcIixlW2UuSElHSF9TVFJFQU1fTEFZRVIyPTVdPVwiSElHSF9TVFJFQU1fTEFZRVIyXCIsZVtlLkhJR0hfU1RSRUFNX0xBWUVSMz02XT1cIkhJR0hfU1RSRUFNX0xBWUVSM1wiLGVbZS5ISUdIX1NUUkVBTV9MQVlFUjQ9N109XCJISUdIX1NUUkVBTV9MQVlFUjRcIixlW2UuSElHSF9TVFJFQU1fTEFZRVI1PThdPVwiSElHSF9TVFJFQU1fTEFZRVI1XCIsZVtlLkhJR0hfU1RSRUFNX0xBWUVSNj05XT1cIkhJR0hfU1RSRUFNX0xBWUVSNlwiLGV9KHt9KSxCUD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkRJU0FCTEU9MF09XCJESVNBQkxFXCIsZVtlLkxPV19TVFJFQU09MV09XCJMT1dfU1RSRUFNXCIsZVtlLkFVRElPX09OTFk9Ml09XCJBVURJT19PTkxZXCIsZVtlLkhJR0hfU1RSRUFNX0xBWUVSMT0zXT1cIkhJR0hfU1RSRUFNX0xBWUVSMVwiLGVbZS5ISUdIX1NUUkVBTV9MQVlFUjI9NF09XCJISUdIX1NUUkVBTV9MQVlFUjJcIixlW2UuSElHSF9TVFJFQU1fTEFZRVIzPTVdPVwiSElHSF9TVFJFQU1fTEFZRVIzXCIsZVtlLkhJR0hfU1RSRUFNX0xBWUVSND02XT1cIkhJR0hfU1RSRUFNX0xBWUVSNFwiLGVbZS5ISUdIX1NUUkVBTV9MQVlFUjU9N109XCJISUdIX1NUUkVBTV9MQVlFUjVcIixlW2UuSElHSF9TVFJFQU1fTEFZRVI2PThdPVwiSElHSF9TVFJFQU1fTEFZRVI2XCIsZX0oe30pLGpQPWZ1bmN0aW9uKGUpe3JldHVybiBlLlRSQU5TQ0VJVkVSX1VQREFURUQ9XCJ0cmFuc2NlaXZlci11cGRhdGVkXCIsZS5TRUlfVE9fU0VORD1cInNlaS10by1zZW5kXCIsZS5TRUlfUkVDRUlWRUQ9XCJzZWktcmVjZWl2ZWRcIixlLlRSQUNLX1VQREFURUQ9XCJ0cmFjay11cGRhdGVkXCIsZX0oe30pLEdQPWZ1bmN0aW9uKGUpe3JldHVybiBlLlNPVVJDRV9TVEFURV9DSEFOR0U9XCJzb3VyY2Utc3RhdGUtY2hhbmdlXCIsZS5UUkFDS19FTkRFRD1cInRyYWNrLWVuZGVkXCIsZS5CRUFVVFlfRUZGRUNUX09WRVJMT0FEPVwiYmVhdXR5LWVmZmVjdC1vdmVybG9hZFwiLGUuVklERU9fRUxFTUVOVF9WSVNJQkxFX1NUQVRVUz1cInZpZGVvLWVsZW1lbnQtdmlzaWJsZS1zdGF0dXNcIixlLkNMT1NFRD1cImNsb3NlZFwiLGV9KHt9KSxXUD1mdW5jdGlvbihlKXtyZXR1cm4gZS5GSVJTVF9GUkFNRV9ERUNPREVEPVwiZmlyc3QtZnJhbWUtZGVjb2RlZFwiLGUuVklERU9fRUxFTUVOVF9WSVNJQkxFX1NUQVRVUz1cInZpZGVvLWVsZW1lbnQtdmlzaWJsZS1zdGF0dXNcIixlLlZJREVPX1NUQVRFX0NIQU5HRUQ9XCJ2aWRlby1zdGF0ZS1jaGFuZ2VkXCIsZS5QTEFZX1NUQVJUPVwicGxheS1zdGFydFwiLGUuUExBWV9FTkQ9XCJwbGF5LWVuZFwiLGUuRklSU1RfRlJBTUVfUkVOREVSPVwiZmlyc3QtZnJhbWUtcmVuZGVyXCIsZX0oe30pLEhQPWZ1bmN0aW9uKGUpe3JldHVybiBlLkFVRElPPVwiYXVkaW9cIixlLlZJREVPPVwidmlkZW9cIixlLkRBVEE9XCJkYXRhXCIsZX0oe30pLEtQPWZ1bmN0aW9uKGUpe3JldHVybiBlLkFVRElPX1NPVVJDRV9TVEFURV9DSEFOR0U9XCJhdWRpb19zb3VyY2Vfc3RhdGVfY2hhbmdlXCIsZS5SRUNFSVZFX1RSQUNLX0JVRkZFUj1cInJlY2VpdmVfdHJhY2tfYnVmZmVyXCIsZS5PTl9BVURJT19CVUZGRVI9XCJvbl9hdWRpb19idWZmZXJcIixlLlVQREFURV9TT1VSQ0U9XCJ1cGRhdGVfc291cmNlXCIsZX0oe30pOyFmdW5jdGlvbihlKXtlLlVQREFURV9UUkFDS19TT1VSQ0U9XCJ1cGRhdGUtdHJhY2stc291cmNlXCJ9KHt9KTtjb25zdCBZUD17c2VuZFZvbHVtZUxldmVsOjAsc2VuZEJpdHJhdGU6MCxzZW5kQnl0ZXM6MCxzZW5kUGFja2V0czowLHNlbmRQYWNrZXRzTG9zdDowLHNlbmRKaXR0ZXJNczowLHNlbmRSdHRNczowLGN1cnJlbnRQYWNrZXRMb3NzUmF0ZTowfSx6UD17c2VuZEJ5dGVzOjAsc2VuZEJpdHJhdGU6MCxzZW5kUGFja2V0czowLHNlbmRQYWNrZXRzTG9zdDowLHNlbmRKaXR0ZXJNczowLHNlbmRSdHRNczowLHNlbmRSZXNvbHV0aW9uSGVpZ2h0OjAsc2VuZFJlc29sdXRpb25XaWR0aDowLGNhcHR1cmVSZXNvbHV0aW9uSGVpZ2h0OjAsY2FwdHVyZVJlc29sdXRpb25XaWR0aDowLHRhcmdldFNlbmRCaXRyYXRlOjAsdG90YWxEdXJhdGlvbjowLHRvdGFsRnJlZXplVGltZTowLGN1cnJlbnRQYWNrZXRMb3NzUmF0ZTowfSxxUD17dHJhbnNwb3J0RGVsYXk6MCxlbmQyRW5kRGVsYXk6MCxyZWNlaXZlQml0cmF0ZTowLHJlY2VpdmVMZXZlbDowLHJlY2VpdmVCeXRlczowLHJlY2VpdmVEZWxheTowLHJlY2VpdmVQYWNrZXRzOjAscmVjZWl2ZVBhY2tldHNMb3N0OjAscmVjZWl2ZVBhY2tldHNEaXNjYXJkZWQ6MCx0b3RhbER1cmF0aW9uOjAsdG90YWxGcmVlemVUaW1lOjAsZnJlZXplUmF0ZTowLHBhY2tldExvc3NSYXRlOjAsY3VycmVudFBhY2tldExvc3NSYXRlOjAscHVibGlzaER1cmF0aW9uOi0xfSxYUD17dXBsaW5rTmV0d29ya1F1YWxpdHk6MCxkb3dubGlua05ldHdvcmtRdWFsaXR5OjB9LEpQPXt0cmFuc3BvcnREZWxheTowLGVuZDJFbmREZWxheTowLHJlY2VpdmVCaXRyYXRlOjAscmVjZWl2ZUJ5dGVzOjAscmVjZWl2ZURlbGF5OjAscmVjZWl2ZVBhY2tldHM6MCxyZWNlaXZlUGFja2V0c0xvc3Q6MCxyZWNlaXZlUmVzb2x1dGlvbkhlaWdodDowLHJlY2VpdmVSZXNvbHV0aW9uV2lkdGg6MCx0b3RhbER1cmF0aW9uOjAsdG90YWxGcmVlemVUaW1lOjAsZnJlZXplUmF0ZTowLHBhY2tldExvc3NSYXRlOjAsY3VycmVudFBhY2tldExvc3NSYXRlOjAscHVibGlzaER1cmF0aW9uOi0xfTtsZXQgUVA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuT05fVFJBQ0s9XCJvbl90cmFja1wiLGUuT05fTk9ERT1cIm9uX25vZGVcIixlfSh7fSksWlA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFM9XCJyZXF1ZXN0X3VwZGF0ZV9jb25zdHJhaW50c1wiLGUuUkVRVUVTVF9DT05TVFJBSU5UUz1cInJlcXVlc3RfY29uc3RyYWludHNcIixlfSh7fSksJFA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuSURMRT1cIklETEVcIixlLklOSVRJTkc9XCJJTklUSU5HXCIsZS5JTklURU5EPVwiSU5JVEVORFwiLGV9KHt9KSxlTD1mdW5jdGlvbihlKXtyZXR1cm4gZS5TVEFURV9DSEFOR0U9XCJzdGF0ZV9jaGFuZ2VcIixlLlJFQ09SRElOR19ERVZJQ0VfQ0hBTkdFRD1cInJlY29yZGluZ0RldmljZUNoYW5nZWRcIixlLlBMQVlPVVRfREVWSUNFX0NIQU5HRUQ9XCJwbGF5b3V0RGV2aWNlQ2hhbmdlZFwiLGUuQ0FNRVJBX0RFVklDRV9DSEFOR0VEPVwiY2FtZXJhRGV2aWNlQ2hhbmdlZFwiLGV9KHt9KSx0TD1mdW5jdGlvbihlKXtyZXR1cm4gZS5OT05FPVwibm9uZVwiLGUuSU5JVD1cImluaXRcIixlLkNBTlBMQVk9XCJjYW5wbGF5XCIsZS5QTEFZSU5HPVwicGxheWluZ1wiLGUuUEFVU0VEPVwicGF1c2VkXCIsZS5TVVNQRU5EPVwic3VzcGVuZFwiLGUuU1RBTExFRD1cInN0YWxsZWRcIixlLldBSVRJTkc9XCJ3YWl0aW5nXCIsZS5FUlJPUj1cImVycm9yXCIsZS5ERVNUUk9ZRUQ9XCJkZXN0cm95ZWRcIixlLkFCT1JUPVwiYWJvcnRcIixlLkVOREVEPVwiZW5kZWRcIixlLkVNUFRJRUQ9XCJlbXB0aWVkXCIsZS5MT0FERUREQVRBPVwibG9hZGVkZGF0YVwiLGV9KHt9KSxpTD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLlZpZGVvU3RhdGVTdG9wcGVkPTBdPVwiVmlkZW9TdGF0ZVN0b3BwZWRcIixlW2UuVmlkZW9TdGF0ZVN0YXJ0aW5nPTFdPVwiVmlkZW9TdGF0ZVN0YXJ0aW5nXCIsZVtlLlZpZGVvU3RhdGVEZWNvZGluZz0yXT1cIlZpZGVvU3RhdGVEZWNvZGluZ1wiLGVbZS5WaWRlb1N0YXRlRnJvemVuPTNdPVwiVmlkZW9TdGF0ZUZyb3plblwiLGV9KHt9KTtjb25zdCBuTD17dW5pbml0OjEwMCxub25lOjExMCxpbml0OjEyMCxsb2FkZWRkYXRhOjEzMCxjYW5wbGF5OjIwMCxwbGF5aW5nOjIxMCxwYXVzZWQ6MjIwLHN1c3BlbmQ6MzAwLHN0YWxsZWQ6MzEwLHdhaXRpbmc6MzIwLGVycm9yOjMzMCxkZXN0cm95ZWQ6MzQwLGFib3J0OjM1MCxlbmRlZDozNjAsZW1wdGllZDozNzB9O2xldCByTD1mdW5jdGlvbihlKXtyZXR1cm4gZS5PUEVOPVwib3BlblwiLGUuTUVTU0FHRT1cIm1lc3NhZ2VcIixlLkNMT1NFPVwiY2xvc2VcIixlLkNMT1NJTkc9XCJjbG9zaW5nXCIsZS5FUlJPUj1cImVycm9yXCIsZX0oe30pO2Z1bmN0aW9uIG9MKGUsdCxpLG4scil7dmFyIG8scyxhPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXthW2VdPW5bZV19KSksYS5lbnVtZXJhYmxlPSEhYS5lbnVtZXJhYmxlLGEuY29uZmlndXJhYmxlPSEhYS5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGF8fGEuaW5pdGlhbGl6ZXIpJiYoYS53cml0YWJsZT0hMCksYT1ucihvPW1yKHM9aS5zbGljZSgpKS5jYWxsKHMpKS5jYWxsKG8sKGZ1bmN0aW9uKGksbil7cmV0dXJuIG4oZSx0LGkpfHxpfSksYSksciYmdm9pZCAwIT09YS5pbml0aWFsaXplciYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwocik6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1hLmluaXRpYWxpemVyPyhPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLG51bGwpOmF9ZnVuY3Rpb24gc0woZSx0LGkpe3JldHVybih0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlKXJldHVybiBlO3ZhciBpPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1pKXt2YXIgbj1pLmNhbGwoZSxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT10eXBlb2YgbilyZXR1cm4gbjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyhlKX0oZSk7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHQ/dDp0K1wiXCJ9KHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfWZ1bmN0aW9uIGFMKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBjTChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9hTChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3NMKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTphTChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyBkTCBleHRlbmRzIE5Pe3NldCBfbWVkaWFTdHJlYW1UcmFjayhlKXtlIT09dGhpcy5tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5zYWZlRW1pdChqUC5UUkFDS19VUERBVEVELGUpLHRoaXMubWVkaWFTdHJlYW1UcmFjaz1lKX1nZXQgX21lZGlhU3RyZWFtVHJhY2soKXtyZXR1cm4gdGhpcy5tZWRpYVN0cmVhbVRyYWNrfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxzTCh0aGlzLFwidHJhY2tNZWRpYVR5cGVcIix2b2lkIDApLHNMKHRoaXMsXCJfSURcIix2b2lkIDApLHNMKHRoaXMsXCJfcnRwVHJhbnNjZWl2ZXJcIix2b2lkIDApLHNMKHRoaXMsXCJfbG93UnRwVHJhbnNjZWl2ZXJcIix2b2lkIDApLHNMKHRoaXMsXCJfaGludHNcIixbXSksc0wodGhpcyxcIl9pc0Nsb3NlZFwiLCExKSxzTCh0aGlzLFwiX29yaWdpbk1lZGlhU3RyZWFtVHJhY2tcIix2b2lkIDApLHNMKHRoaXMsXCJtZWRpYVN0cmVhbVRyYWNrXCIsdm9pZCAwKSxzTCh0aGlzLFwiX2V4dGVybmFsXCIse30pLHRoaXMuX0lEPXR8fFNOKDgsXCJ0cmFjay1cIiksdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMubWVkaWFTdHJlYW1UcmFjaz1lLGZ1bmN0aW9uKGUpe0xuKGtQKS5jYWxsKGtQLGUpfHxrUC5wdXNoKGUpfSh0aGlzKX10b1N0cmluZygpe3JldHVybiB0aGlzLl9JRH1nZXRUcmFja0lkKCl7cmV0dXJuIHRoaXMuX0lEfWdldE1lZGlhU3RyZWFtVHJhY2soZSl7cmV0dXJuIGV8fGROKCgoKT0+e3ZhciBlO2xQLnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOkxPLkdFVF9NRURJQV9TVFJFQU1fVFJBQ0ssb3B0aW9uczpbXSx0YWc6a08uVFJBQ0VSfSkub25TdWNjZXNzKChudWxsPT09KGU9dGhpcy5fbWVkaWFTdHJlYW1UcmFjayl8fHZvaWQgMD09PWU/dm9pZCAwOmUubGFiZWwpfHxcIlwiKX0pLHRoaXMubWVkaWFTdHJlYW1UcmFjay5pZHx8dGhpcy5nZXRUcmFja0lkKCkpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2t9Z2V0UlRDUnRwVHJhbnNjZWl2ZXIoZSl7cmV0dXJuIGU9PT14UC5MT1dfU1RSRUFNP3RoaXMuX2xvd1J0cFRyYW5zY2VpdmVyOnRoaXMuX3J0cFRyYW5zY2VpdmVyfWdldE1lZGlhU3RyZWFtVHJhY2tTZXR0aW5ncygpe3JldHVybiB0aGlzLmdldE1lZGlhU3RyZWFtVHJhY2soITApLmdldFNldHRpbmdzKCl9Y2xvc2UoKXt0aGlzLl9pc0Nsb3NlZD0hMCx0aGlzLl9sb3dSdHBUcmFuc2NlaXZlcj12b2lkIDAsdGhpcy5fcnRwVHJhbnNjZWl2ZXI9dm9pZCAwLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9a1AuaW5kZXhPZihlKTstMSE9PXQmJmtQLnNwbGljZSh0LDEpfSh0aGlzKSx0aGlzLmVtaXQoR1AuQ0xPU0VEKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhqUC5TRUlfUkVDRUlWRUQpfV91cGRhdGVSdHBUcmFuc2NlaXZlcihlLHQpe2lmKHQ9PT14UC5MT1dfU1RSRUFNKXtpZih0aGlzLl9sb3dSdHBUcmFuc2NlaXZlcj09PWUpcmV0dXJuO3RoaXMuX2xvd1J0cFRyYW5zY2VpdmVyPWV9ZWxzZXtpZih0aGlzLl9ydHBUcmFuc2NlaXZlcj09PWUpcmV0dXJuO3RoaXMuX3J0cFRyYW5zY2VpdmVyPWV9dGhpcy5lbWl0KGpQLlRSQU5TQ0VJVkVSX1VQREFURUQsZSx0KX19Y2xhc3MgbEwgZXh0ZW5kcyBkTHtnZXQgaXNFeHRlcm5hbFRyYWNrKCl7cmV0dXJuIHRoaXMuX2lzRXh0ZXJuYWxUcmFja31nZXQgbXV0ZWQoKXtyZXR1cm4gdGhpcy5fbXV0ZWR9Z2V0IGVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1nZXQgcHJvY2Vzc29yQ29udGV4dCgpe3JldHVybiB0aGlzLl9wcm9jZXNzb3JDb250ZXh0fWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSxzTCh0aGlzLFwiX2VuYWJsZWRcIiwhMCksc0wodGhpcyxcIl9tdXRlZFwiLCExKSxzTCh0aGlzLFwiX2lzRXh0ZXJuYWxUcmFja1wiLCExKSxzTCh0aGlzLFwiX2lzQ2xvc2VkXCIsITEpLHNMKHRoaXMsXCJfZW5hYmxlZE11dGV4XCIsdm9pZCAwKSxzTCh0aGlzLFwicHJvY2Vzc29yXCIsdm9pZCAwKSxzTCh0aGlzLFwiX3Byb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLHNMKHRoaXMsXCJfaGFuZGxlVHJhY2tFbmRlZFwiLCgoKT0+e3RoaXMub25UcmFja0VuZGVkKCl9KSksdGhpcy5fZW5hYmxlZE11dGV4PW5ldyBQTihcIlwiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSkpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCl9Z2V0VHJhY2tMYWJlbCgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubGFiZWwpJiZ2b2lkIDAhPT1lP2U6XCJcIn1jbG9zZSgpe3RoaXMuX2lzQ2xvc2VkfHwodGhpcy5zdG9wKCksdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCksdGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPW51bGwpLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9bnVsbCx0aGlzLl9lbmFibGVkTXV0ZXg9bnVsbCxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGNsb3NlXCIpKSx0aGlzLmVtaXQoVVAuTkVFRF9DTE9TRSksc3VwZXIuY2xvc2UoKSl9YXN5bmMgX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZSx0KXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO3RoaXMuX2lzRXh0ZXJuYWxUcmFjaz1pLGUhPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCksdCYmdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCksdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX211dGVkJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksYXdhaXQgcU8odGhpcyxVUC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcyksdGhpcy5wcm9jZXNzb3ImJnRoaXMuX3Byb2Nlc3NvckNvbnRleHQmJnRoaXMucHJvY2Vzc29yLnVwZGF0ZUlucHV0KHt0cmFjazp0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLGNvbnRleHQ6dGhpcy5fcHJvY2Vzc29yQ29udGV4dH0pKX1fZ2V0RGVmYXVsdFBsYXllckNvbmZpZygpe3JldHVybnt9fW9uVHJhY2tFbmRlZCgpe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJhY2sgZW5kZWRcIikpLHRoaXMuc2FmZUVtaXQoR1AuVFJBQ0tfRU5ERUQpfXN0YXRlQ2hlY2soZSx0KXtpZihpUC5kZWJ1ZyhcImNoZWNrIHRyYWNrIHN0YXRlLCBbbXV0ZWQ6IFwiLmNvbmNhdCh0aGlzLl9tdXRlZCxcIiwgZW5hYmxlZDogXCIpLmNvbmNhdCh0aGlzLl9lbmFibGVkLFwiXSB0byBbXCIpLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQsXCJdXCIpKSxfTyh0LGUpLHRoaXMuX2VuYWJsZWQmJnRoaXMuX211dGVkJiZcImVuYWJsZWRcIj09PWUmJiExPT09dCl0aHJvdyBuZXcgcE8oaE8uVFJBQ0tfU1RBVEVfVU5SRUFDSEFCTEUsXCJjYW5ub3Qgc2V0IGVuYWJsZWQgd2hpbGUgdGhlIHRyYWNrIGlzIG11dGVkXCIpLnByaW50KFwiZXJyb3JcIixpUCk7aWYoIXRoaXMuX2VuYWJsZWQmJiF0aGlzLl9tdXRlZCYmXCJtdXRlZFwiPT09ZSYmITA9PT10KXRocm93IG5ldyBwTyhoTy5UUkFDS19TVEFURV9VTlJFQUNIQUJMRSxcImNhbm5vdCBzZXQgbXV0ZWQgd2hpbGUgdGhlIHRyYWNrIGlzIGRpc2FibGVkXCIpLnByaW50KFwiZXJyb3JcIixpUCl9Z2V0UHJvY2Vzc29yU3RhdHMoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dCYmdGhpcy5fcHJvY2Vzc29yQ29udGV4dC5nYXRoZXJTdGF0cygpfHxbXX1nZXRQcm9jZXNzb3JVc2FnZSgpe3JldHVybiB0aGlzLl9wcm9jZXNzb3JDb250ZXh0P3RoaXMuX3Byb2Nlc3NvckNvbnRleHQuZ2F0aGVyVXNhZ2UoKTpycC5yZXNvbHZlKFtdKX19Y29uc3QgdUw9d2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtsZXQgaEwscEw9bnVsbDtjb25zdCBfTD1uZXcgY2xhc3MgZXh0ZW5kcyBOT3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksc0wodGhpcyxcInByZXZTdGF0ZVwiLHZvaWQgMCksc0wodGhpcyxcImN1clN0YXRlXCIsdm9pZCAwKSxzTCh0aGlzLFwiY3VycmVudFRpbWVcIix2b2lkIDApLHNMKHRoaXMsXCJjdXJyZW50VGltZVN0dWNrQXRcIix2b2lkIDApLHNMKHRoaXMsXCJpbnRlcnJ1cHREZXRlY3RvclRyYWNrXCIsdm9pZCAwKSxzTCh0aGlzLFwib25Mb2NhbEF1ZGlvVHJhY2tNdXRlXCIsKCgpPT57aVAuaW5mbyhcImlvczE1LWludGVycnVwdGlvbi1zdGFydFwiKSx0aGlzLmVtaXQoUlAuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9TVEFSVCl9KSksc0wodGhpcyxcIm9uTG9jYWxBdWRpb1RyYWNrVW5tdXRlXCIsKGFzeW5jKCk9PntpUC5pbmZvKFwiaW9zMTUtaW50ZXJydXB0aW9uLWVuZFwiKSxcInJ1bm5pbmdcIiE9PXRoaXMuY3VyU3RhdGV8fHRoaXMuZHVyaW5nSW50ZXJydXB0aW9uP2lQLmluZm8oXCJpb3MxNS1pbnRlcnJ1cHRpb24tZW5kLWNhbmNlbGVkXCIpOihwTCYmYXdhaXQgcEwuc3VzcGVuZCgpLHRoaXMuZW1pdChSUC5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORCkpfSkpfWdldCBkdXJpbmdJbnRlcnJ1cHRpb24oKXtyZXR1cm5cInJ1bm5pbmdcIj09PXRoaXMucHJldlN0YXRlJiZcImludGVycnVwdGVkXCI9PT10aGlzLmN1clN0YXRlfWJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrKGUpe2lQLmRlYnVnKFwid2ViYXVkaW8gYmluZEludGVycnVwdERldGVjdG9yVHJhY2sgXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpKSksdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrfHwodGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrPWUsdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrLm9ubXV0ZT10aGlzLm9uTG9jYWxBdWRpb1RyYWNrTXV0ZSx0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2suX21lZGlhU3RyZWFtVHJhY2sub251bm11dGU9dGhpcy5vbkxvY2FsQXVkaW9UcmFja1VubXV0ZSl9dW5iaW5kSW50ZXJydXB0RGV0ZWN0b3JUcmFjayhlKXtpUC5kZWJ1ZyhcIndlYmF1ZGlvIHVuYmluZEludGVycnVwdERldGVjdG9yVHJhY2sgXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpKSksdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrJiZ0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2s9PT1lJiYodGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrLm9ubXV0ZT1udWxsLHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjay5fbWVkaWFTdHJlYW1UcmFjay5vbnVubXV0ZT1udWxsKSx0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2s9dm9pZCAwKX19O2Z1bmN0aW9uIEVMKCl7aWYoIXBMKXtpZihmdW5jdGlvbigpe2lmKCF1TClyZXR1cm4gdm9pZCBpUC5lcnJvcihcInlvdXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydCB3ZWIgYXVkaW9cIik7aVAuaW5mbyhcImNyZWF0ZSBhdWRpbyBjb250ZXh0XCIpO2NvbnN0IGU9Y0woe30sQ0QoXCJXRUJBVURJT19JTklUX09QVElPTlNcIikpO2lQLmRlYnVnKFwiYXVkaW8gY29udGV4dCBpbml0IG9wdGlvbjpcIixKU09OLnN0cmluZ2lmeShlKSkscEw9bmV3IHVMKGUpLF9MLmN1clN0YXRlPXBMLnN0YXRlLHBMLm9uc3RhdGVjaGFuZ2U9KCk9PntfTC5wcmV2U3RhdGU9X0wuY3VyU3RhdGUsX0wuY3VyU3RhdGU9cEw/cEwuc3RhdGU6dm9pZCAwO2NvbnN0e3ByZXZTdGF0ZTplLGN1clN0YXRlOnR9PV9MLGk9XCJydW5uaW5nXCI9PT10LG49XCJpbnRlcnJ1cHRlZFwiPT09dCxyPVwicnVubmluZ1wiPT09ZSxvPVwic3VzcGVuZGVkXCI9PT1lLHM9XCJpbnRlcnJ1cHRlZFwiPT09ZSxhPUR3KCkub3NWZXJzaW9uOyhqdygpfHxpTygpKSYmciYmbiYmKGlQLmluZm8oXCJpb3NcIi5jb25jYXQoYSxcIi1pbnRlcnJ1cHRpb24tc3RhcnRcIikpLF9MLmVtaXQoUlAuSU9TX0lOVEVSUlVQVElPTl9TVEFSVCkpLChqdygpfHxpTygpKSYmKG98fHMpJiZpJiYoaVAuaW5mbyhcImlvc1wiLmNvbmNhdChhLFwiLWludGVycnVwdGlvbi1lbmRcIikpLF9MLmVtaXQoUlAuSU9TX0lOVEVSUlVQVElPTl9FTkQpKSxlIT09dCYmX0wuZW1pdChSUC5TVEFURV9DSEFOR0UsdCxlKX0sc2V0SW50ZXJ2YWwoKCgpPT57dmFyIGU7Y29uc3QgdD1udWxsPT09KGU9cEwpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmN1cnJlbnRUaW1lO19MLmN1cnJlbnRUaW1lIT09dD8oX0wuY3VycmVudFRpbWVTdHVja0F0JiYoaVAuZGVidWcoXCJBdWRpb0NvbnRleHQgY3VycmVudCB0aW1lIHJlc3VtZSBhdCBcIi5jb25jYXQodCkpLF9MLmN1cnJlbnRUaW1lU3R1Y2tBdD12b2lkIDApLF9MLmN1cnJlbnRUaW1lPXQpOih0IT09X0wuY3VycmVudFRpbWVTdHVja0F0JiYobFAucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6XCJXRUJfQVVESU9fQ1VSUkVOVF9USU1FX1NUVUNLXCIsb3B0aW9uczp7Y3VycmVudFRpbWU6dH0sdGFnOmtPLlRSQUNFUn0pLm9uU3VjY2VzcygpLGlQLndhcm5pbmcoXCJBdWRpb0NvbnRleHQgY3VycmVudCB0aW1lIHN0dWNrIGF0IFwiLmNvbmNhdCh0KSkpLF9MLmN1cnJlbnRUaW1lU3R1Y2tBdD10KX0pLDVlMyksYXN5bmMgZnVuY3Rpb24oZSl7Y29uc3QgdD1bXCJjbGlja1wiLFwiY29udGV4dG1lbnVcIixcImF1eGNsaWNrXCIsXCJkYmxjbGlja1wiLFwibW91c2Vkb3duXCIsXCJtb3VzZXVwXCIsXCJ0b3VjaGVuZFwiLFwia2V5ZG93blwiLFwia2V5dXBcIl07bGV0IGksbixyPSExLG89ITEscz0hMTtmdW5jdGlvbiBhKHQpe1wicnVubmluZ1wiPT09ZS5zdGF0ZT9jKCExKTpqdygpfHxpTygpP1wic3VzcGVuZGVkXCI9PT1lLnN0YXRlJiYoYyghMCksdCYmZS5yZXN1bWUoKS50aGVuKGQsZCkpOlwiY2xvc2VkXCIhPT1lLnN0YXRlJiYoYyghMCksdCYmZS5yZXN1bWUoKS50aGVuKGQsZCkpfWZ1bmN0aW9uIGMoZSl7aWYociE9PWUpe3I9ZTtmb3IobGV0IGk9MCxuPXQ7aTxuLmxlbmd0aDtpKz0xKXtjb25zdCB0PW5baV07ZT93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcih0LGwse2NhcHR1cmU6ITAscGFzc2l2ZTohMH0pOndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKHQsbCx7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSl9fX1mdW5jdGlvbiBkKCl7YSghMSl9ZnVuY3Rpb24gbCgpe2EoITApfWZ1bmN0aW9uIHUoKXtsZXQgZTt0cnl7ZT1pLnBsYXkoKSxlP2UudGhlbihfLF8pOihpLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsXyksaS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixfKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLF8pKX1jYXRjaChlKXtfKCl9fWZ1bmN0aW9uIGgoZSl7c3x8KGkucGF1c2VkP2U/KHAoITEpLHM9ITAsdSgpKTpwKCEwKTpwKCExKSl9ZnVuY3Rpb24gcChlKXtpZihvIT09ZSl7bz1lO2ZvcihsZXQgaT0wLG49dDtpPG4ubGVuZ3RoO2krKyl7Y29uc3QgdD1uW2ldO2U/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIodCxFLHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9KTp3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LEUse2NhcHR1cmU6ITAscGFzc2l2ZTohMH0pfX19ZnVuY3Rpb24gXygpe2kucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBsYXlpbmdcIixfKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLF8pLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsXykscz0hMSxoKCExKX1mdW5jdGlvbiBFKCl7aCghMCl9aWYoancoKSYmQ0QoXCJJT1NfQkdfVEFHXCIpKXtjb25zdCB0PWUuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLmlubmVySFRNTD1cIjxhdWRpbyB4LXdlYmtpdC1haXJwbGF5PSdkZW55Jz48L2F1ZGlvPlwiLGk9ci5jaGlsZHJlbi5pdGVtKDApLGkuY29udHJvbHM9ITEsaS5kaXNhYmxlUmVtb3RlUGxheWJhY2s9ITAsaS5wcmVsb2FkPVwiYXV0b1wiLGkuc3JjT2JqZWN0PXQuc3RyZWFtLG49KCk9PntpZihDRChcIklPU19BVVRPX1JFU1RBUlRfQkdfVEFHXCIpJiZpJiZpLnNyY09iamVjdCYmIXMmJighaS5wYXVzZWR8fCEwIT09bykpe2kucGF1c2VkfHxpLnBhdXNlKCk7dHJ5e3M9ITAsdSgpfWNhdGNoKGUpe3M9ITF9cmV0dXJuITB9fSxoKCEwKX1yZXR1cm4gX0wub24oUlAuU1RBVEVfQ0hBTkdFLChmdW5jdGlvbigpe2EoITApfSkpLGEoITEpLG59KHBMKS50aGVuKChlPT57aEw9ZX0pKX0oKSwhcEwpdGhyb3cgbmV3IHBPKGhPLk5PVF9TVVBQT1JURUQsXCJjYW4gbm90IGNyZWF0ZSBhdWRpbyBjb250ZXh0XCIpO3JldHVybiBwTH1yZXR1cm4gcEx9ZnVuY3Rpb24gbUwoZSl7aWYoZnVuY3Rpb24oKXtpZihudWxsIT09ZkwpcmV0dXJuIGZMO2NvbnN0IGU9RUwoKSx0PWUuY3JlYXRlQnVmZmVyU291cmNlKCksaT1lLmNyZWF0ZUdhaW4oKSxuPWUuY3JlYXRlR2FpbigpO3QuY29ubmVjdChpKSx0LmNvbm5lY3QobiksdC5kaXNjb25uZWN0KGkpO2xldCByPSExO3RyeXt0LmRpc2Nvbm5lY3QoaSl9Y2F0Y2goZSl7cj0hMH1yZXR1cm4gdC5kaXNjb25uZWN0KCksZkw9cixyfSgpKXJldHVybjtjb25zdCB0PWUuY29ubmVjdCxpPWUuZGlzY29ubmVjdDtlLmNvbm5lY3Q9KGksbixyKT0+e3ZhciBvO3JldHVybiBlLl9pbnB1dE5vZGVzfHwoZS5faW5wdXROb2Rlcz1bXSksTG4obz1lLl9pbnB1dE5vZGVzKS5jYWxsKG8saSl8fChpIGluc3RhbmNlb2YgQXVkaW9Ob2RlPyhlLl9pbnB1dE5vZGVzLnB1c2goaSksdC5jYWxsKGUsaSxuLHIpKTp0LmNhbGwoZSxpLG4pKSxlfSxlLmRpc2Nvbm5lY3Q9KG4scixvKT0+e2kuY2FsbChlKSxuP25OKGUuX2lucHV0Tm9kZXMsbik6ZS5faW5wdXROb2Rlcz1bXTtmb3IoY29uc3QgaSBvZiBlLl9pbnB1dE5vZGVzKXQuY2FsbChlLGkpfX1sZXQgZkw9bnVsbDtmdW5jdGlvbiBTTChlLHQpe2xldCBpPSExO2NvbnN0IG49MS90O2lmKENEKFwiRElTQUJMRV9XRUJBVURJT1wiKSl7Y29uc3QgdD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57aT93aW5kb3cuY2xlYXJJbnRlcnZhbCh0KTplKHBlcmZvcm1hbmNlLm5vdygpLzFlMyl9KSwxZTMqbil9ZWxzZXtjb25zdCB0PUVMKCk7bGV0IHI9dC5jcmVhdGVHYWluKCk7ci5nYWluLnZhbHVlPTAsci5jb25uZWN0KHQuZGVzdGluYXRpb24pO2NvbnN0IG89KCk9PntpZihpKXJldHVybiB2b2lkKHI9bnVsbCk7Y29uc3Qgcz10LmNyZWF0ZU9zY2lsbGF0b3IoKTtzLm9uZW5kZWQ9byxzLmNvbm5lY3Qocikscy5zdGFydCgwKSxzLnN0b3AodC5jdXJyZW50VGltZStuKSxlKHQuY3VycmVudFRpbWUpfTtvKCl9cmV0dXJuKCk9PntpPSEwfX1jbGFzcyBnTHtjb25zdHJ1Y3Rvcigpe3NMKHRoaXMsXCJjb250ZXh0XCIsdm9pZCAwKSxzTCh0aGlzLFwiYW5hbHlzZXJOb2RlXCIsdm9pZCAwKSxzTCh0aGlzLFwic291cmNlTm9kZVwiLHZvaWQgMCksdGhpcy5jb250ZXh0PUVMKCksdGhpcy5hbmFseXNlck5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCksdGhpcy5hbmFseXNlck5vZGUuZmZ0U2l6ZT0yMDQ4LHRoaXMuYW5hbHlzZXJOb2RlLnNtb290aGluZ1RpbWVDb25zdGFudD0uNH11cGRhdGVTb3VyY2UoZSl7aWYoZSE9PXRoaXMuc291cmNlTm9kZSl7aWYodGhpcy5zb3VyY2VOb2RlKXRyeXt0aGlzLnNvdXJjZU5vZGUuZGlzY29ubmVjdCh0aGlzLmFuYWx5c2VyTm9kZSl9Y2F0Y2goZSl7fXRoaXMuc291cmNlTm9kZT1lLG51bGw9PWV8fGUuY29ubmVjdCh0aGlzLmFuYWx5c2VyTm9kZSl9fWdldFZvbHVtZUxldmVsKCl7aWYoIXRoaXMuc291cmNlTm9kZSlyZXR1cm4gMDtpZighdGhpcy5jb250ZXh0fHxqdygpfHxpTygpfHxcInJ1bm5pbmdcIiE9PXRoaXMuY29udGV4dC5zdGF0ZSYmdGhpcy5jb250ZXh0LnJlc3VtZSgpLCF0aGlzLmFuYWx5c2VyTm9kZSlyZXR1cm4gMDtjb25zdCBlPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hbmFseXNlck5vZGUuZmZ0U2l6ZSk7aWYodGhpcy5hbmFseXNlck5vZGUuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YSl0aGlzLmFuYWx5c2VyTm9kZS5nZXRGbG9hdFRpbWVEb21haW5EYXRhKGUpO2Vsc2V7Y29uc3QgdD1uZXcgVWludDhBcnJheSh0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplKTt0aGlzLmFuYWx5c2VyTm9kZS5nZXRCeXRlVGltZURvbWFpbkRhdGEodCk7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDsrK2kpZVtpXT10W2ldLzEyOC0xfWNvbnN0IHQ9bnIoZSkuY2FsbChlLCgoZSx0KT0+ZSt0KnQpLDApL2UubGVuZ3RoO3JldHVybiBNYXRoLm1heCgxMCpNYXRoLmxvZzEwKHQpKzEwMCwwKS8xMDB9Z2V0QW5hbHlzZXJOb2RlKCl7cmV0dXJuIHRoaXMuYW5hbHlzZXJOb2RlfXJlYnVpbGRBbmFseXNlcigpe3RyeXt2YXIgZSx0O251bGw9PT0oZT10aGlzLnNvdXJjZU5vZGUpfHx2b2lkIDA9PT1lfHxlLmRpc2Nvbm5lY3QodGhpcy5hbmFseXNlck5vZGUpLHRoaXMuYW5hbHlzZXJOb2RlPXRoaXMuY29udGV4dC5jcmVhdGVBbmFseXNlcigpLHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemU9MjA0OCx0aGlzLmFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnQ9LjQsbnVsbD09PSh0PXRoaXMuc291cmNlTm9kZSl8fHZvaWQgMD09PXR8fHQuY29ubmVjdCh0aGlzLmFuYWx5c2VyTm9kZSl9Y2F0Y2goZSl7aVAud2FybmluZyhcInJlYnVpbGQgYW5hbHlzZXIgbm9kZSBmYWlsZWQuXCIpfX1kZXN0cm95KCl7dGhpcy51cGRhdGVTb3VyY2Uodm9pZCAwKX19Y2xhc3MgVEwgZXh0ZW5kcyBOT3tnZXQgcHJvY2Vzc1NvdXJjZU5vZGUoKXtyZXR1cm4gdGhpcy5zb3VyY2VOb2RlfXNldCBwcm9jZXNzZWROb2RlKGUpe3ZhciB0O2lmKCF0aGlzLmlzRGVzdHJveWVkJiZ0aGlzLl9wcm9jZXNzZWROb2RlIT09ZSl7dHJ5e3ZhciBpO251bGw9PT0oaT10aGlzLnNvdXJjZU5vZGUpfHx2b2lkIDA9PT1pfHxpLmRpc2Nvbm5lY3QodGhpcy5vdXRwdXROb2RlKX1jYXRjaChlKXt9bnVsbD09PSh0PXRoaXMuX3Byb2Nlc3NlZE5vZGUpfHx2b2lkIDA9PT10fHx0LmRpc2Nvbm5lY3QoKSx0aGlzLl9wcm9jZXNzZWROb2RlPWUsdGhpcy5jb25uZWN0KCl9fWdldCBwcm9jZXNzZWROb2RlKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3NlZE5vZGV9Y29uc3RydWN0b3IoKXtzdXBlcigpLHNMKHRoaXMsXCJvdXRwdXROb2RlXCIsdm9pZCAwKSxzTCh0aGlzLFwib3V0cHV0VHJhY2tcIix2b2lkIDApLHNMKHRoaXMsXCJpc1BsYXllZFwiLCExKSxzTCh0aGlzLFwic291cmNlTm9kZVwiLHZvaWQgMCksc0wodGhpcyxcImNvbnRleHRcIix2b2lkIDApLHNMKHRoaXMsXCJhdWRpb0J1ZmZlck5vZGVcIix2b2lkIDApLHNMKHRoaXMsXCJkZXN0Tm9kZVwiLHZvaWQgMCksc0wodGhpcyxcImF1ZGlvT3V0cHV0TGV2ZWxcIiwwKSxzTCh0aGlzLFwidm9sdW1lTGV2ZWxBbmFseXNlclwiLHZvaWQgMCksc0wodGhpcyxcIl9wcm9jZXNzZWROb2RlXCIsdm9pZCAwKSxzTCh0aGlzLFwicGxheU5vZGVcIix2b2lkIDApLHNMKHRoaXMsXCJpc0Rlc3Ryb3llZFwiLCExKSxzTCh0aGlzLFwib25Ob0F1ZGlvSW5wdXRcIix2b2lkIDApLHNMKHRoaXMsXCJpc05vQXVkaW9JbnB1dFwiLCExKSxzTCh0aGlzLFwiX25vQXVkaW9JbnB1dENvdW50XCIsMCksdGhpcy5jb250ZXh0PUVMKCksdGhpcy5wbGF5Tm9kZT10aGlzLmNvbnRleHQuZGVzdGluYXRpb24sdGhpcy5vdXRwdXROb2RlPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCksbUwodGhpcy5vdXRwdXROb2RlKSx0aGlzLnZvbHVtZUxldmVsQW5hbHlzZXI9bmV3IGdMfXN0YXJ0R2V0QXVkaW9CdWZmZXIoZSl7dGhpcy5hdWRpb0J1ZmZlck5vZGV8fCh0aGlzLmF1ZGlvQnVmZmVyTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlU2NyaXB0UHJvY2Vzc29yKGUpLHRoaXMub3V0cHV0Tm9kZS5jb25uZWN0KHRoaXMuYXVkaW9CdWZmZXJOb2RlKSx0aGlzLmF1ZGlvQnVmZmVyTm9kZS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5hdWRpb0J1ZmZlck5vZGUub25hdWRpb3Byb2Nlc3M9ZT0+e3RoaXMuZW1pdChLUC5PTl9BVURJT19CVUZGRVIsZnVuY3Rpb24oZSl7Zm9yKGxldCB0PTA7dDxlLm91dHB1dEJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzO3QrPTEpe2NvbnN0IGk9ZS5vdXRwdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEodCk7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKz0xKWlbZV09MH1yZXR1cm4gZS5pbnB1dEJ1ZmZlcn0oZSkpfSl9c3RvcEdldEF1ZGlvQnVmZmVyKCl7dGhpcy5hdWRpb0J1ZmZlck5vZGUmJih0aGlzLmF1ZGlvQnVmZmVyTm9kZS5vbmF1ZGlvcHJvY2Vzcz1udWxsLHRoaXMub3V0cHV0Tm9kZS5kaXNjb25uZWN0KHRoaXMuYXVkaW9CdWZmZXJOb2RlKSx0aGlzLmF1ZGlvQnVmZmVyTm9kZT12b2lkIDApfWNyZWF0ZU91dHB1dFRyYWNrKCl7aWYoIXBQKCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3QpdGhyb3cgbmV3IHBPKGhPLk5PVF9TVVBQT1JURUQsXCJ5b3VyIGJyb3dzZXIgaXMgbm90IHN1cHBvcnQgYXVkaW8gcHJvY2Vzc29yXCIpO3JldHVybiB0aGlzLmRlc3ROb2RlJiZ0aGlzLm91dHB1dFRyYWNrfHwodGhpcy5kZXN0Tm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpLHRoaXMub3V0cHV0Tm9kZS5jb25uZWN0KHRoaXMuZGVzdE5vZGUpLHRoaXMub3V0cHV0VHJhY2s9dGhpcy5kZXN0Tm9kZS5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSksdGhpcy5vdXRwdXRUcmFja31wbGF5KGUpe1wicnVubmluZ1wiIT09dGhpcy5jb250ZXh0LnN0YXRlJiZvTigoKCk9PntfTC5lbWl0KFwiYXV0b3BsYXktZmFpbGVkXCIpfSkpLHRoaXMuaXNQbGF5ZWQ9ITAsdGhpcy5wbGF5Tm9kZT1lfHx0aGlzLmNvbnRleHQuZGVzdGluYXRpb24sdGhpcy5vdXRwdXROb2RlLmNvbm5lY3QodGhpcy5wbGF5Tm9kZSl9c3RvcCgpe2lmKHRoaXMuaXNQbGF5ZWQpdHJ5e3RoaXMub3V0cHV0Tm9kZS5kaXNjb25uZWN0KHRoaXMucGxheU5vZGUpfWNhdGNoKGUpe310aGlzLmlzUGxheWVkPSExfWdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKXtyZXR1cm4gdGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyLmdldFZvbHVtZUxldmVsKCl9YXN5bmMgY2hlY2tIYXNBdWRpb0lucHV0KCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7aWYoZT41KXJldHVybiB0aGlzLmlzTm9BdWRpb0lucHV0PSEwLHRoaXMub25Ob0F1ZGlvSW5wdXQmJnRoaXMub25Ob0F1ZGlvSW5wdXQoKSwhMTtqdygpfHxpTygpP1wic3VzcGVuZGVkXCI9PT10aGlzLmNvbnRleHQuc3RhdGUmJnRoaXMuY29udGV4dC5yZXN1bWUoKTpcInJ1bm5pbmdcIiE9PXRoaXMuY29udGV4dC5zdGF0ZSYmdGhpcy5jb250ZXh0LnJlc3VtZSgpO2NvbnN0IHQ9dGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyLmdldEFuYWx5c2VyTm9kZSgpO2xldCBpO3QuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YT8oaT1uZXcgRmxvYXQzMkFycmF5KHQuZmZ0U2l6ZSksdC5nZXRGbG9hdFRpbWVEb21haW5EYXRhKGkpKTooaT1uZXcgVWludDhBcnJheSh0LmZmdFNpemUpLHQuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKGkpKTtsZXQgbj0hMTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKykwIT09aVtlXSYmKG49ITApO3JldHVybiBuPyh0aGlzLmlzTm9BdWRpb0lucHV0PSExLCEwKTooYXdhaXQgZk4oMjAwKSxhd2FpdCB0aGlzLmNoZWNrSGFzQXVkaW9JbnB1dChlP2UrMToxKSYmbil9Z2V0QXVkaW9Wb2x1bWUoKXtyZXR1cm4gdGhpcy5vdXRwdXROb2RlLmdhaW4udmFsdWV9c2V0Vm9sdW1lKGUpe3RoaXMub3V0cHV0Tm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lKX1kZXN0cm95KCl7dGhpcy5kaXNjb25uZWN0KCksdGhpcy5zdG9wKCksdGhpcy5pc0Rlc3Ryb3llZD0hMCx0aGlzLm9uTm9BdWRpb0lucHV0PXZvaWQgMH1kaXNjb25uZWN0KCl7dmFyIGUsdDtudWxsPT09KGU9dGhpcy5wcm9jZXNzZWROb2RlKXx8dm9pZCAwPT09ZXx8ZS5kaXNjb25uZWN0KCksbnVsbD09PSh0PXRoaXMuc291cmNlTm9kZSl8fHZvaWQgMD09PXR8fHQuZGlzY29ubmVjdCgpLHRoaXMub3V0cHV0Tm9kZSYmdGhpcy5vdXRwdXROb2RlLmRpc2Nvbm5lY3QoKX1jb25uZWN0KCl7dmFyIGU7dGhpcy5wcm9jZXNzZWROb2RlP251bGw9PT0oZT10aGlzLnByb2Nlc3NlZE5vZGUpfHx2b2lkIDA9PT1lfHxlLmNvbm5lY3QodGhpcy5vdXRwdXROb2RlKTp0aGlzLnNvdXJjZU5vZGUmJnRoaXMuc291cmNlTm9kZS5jb25uZWN0KHRoaXMub3V0cHV0Tm9kZSksdGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyLnVwZGF0ZVNvdXJjZSh0aGlzLm91dHB1dE5vZGUpfX1jbGFzcyBSTCBleHRlbmRzIFRMe2dldCBpc0ZyZWV6ZSgpe3JldHVybiExfWNvbnN0cnVjdG9yKGUsdCxpKXt2YXIgbjtpZihzdXBlcigpLHNMKHRoaXMsXCJzb3VyY2VOb2RlXCIsdm9pZCAwKSxzTCh0aGlzLFwidHJhY2tcIix2b2lkIDApLHNMKHRoaXMsXCJjbG9uZWRUcmFja1wiLHZvaWQgMCksc0wodGhpcyxcImF1ZGlvRWxlbWVudFwiLHZvaWQgMCksc0wodGhpcyxcImlzQ3VycmVudFRyYWNrQ2xvbmVkXCIsITEpLHNMKHRoaXMsXCJpc1JlbW90ZVRyYWNrXCIsITEpLHNMKHRoaXMsXCJvcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyXCIsdm9pZCAwKSxzTCh0aGlzLFwicmVidWlsZFdlYkF1ZGlvXCIsKGFzeW5jKCk9PntpZihpUC5kZWJ1ZyhcInJlYWR5IHRvIHJlYnVpbGQgd2ViIGF1ZGlvLCBzdGF0ZTpcIix0aGlzLmNvbnRleHQuc3RhdGUpLHRoaXMuaXNOb0F1ZGlvSW5wdXQmJmF3YWl0IHRoaXMuY2hlY2tIYXNBdWRpb0lucHV0KCksIXRoaXMuaXNOb0F1ZGlvSW5wdXR8fHRoaXMuaXNEZXN0cm95ZWQpcmV0dXJuIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5yZWJ1aWxkV2ViQXVkaW8sITApLHZvaWQgaVAuZGVidWcoXCJyZWJ1aWxkIHdlYiBhdWRpbyBzdWNjZXNzLCBjdXJyZW50IHZvbHVtZSBzdGF0dXNcIix0aGlzLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSk7dGhpcy5jb250ZXh0LnJlc3VtZSgpLnRoZW4oKCgpPT5pUC5pbmZvKFwicmVzdW1lIHN1Y2Nlc3NcIikpKSxpUC5kZWJ1ZyhcInJlYnVpbGQgd2ViIGF1ZGlvIGJlY2F1c2Ugb2YgaW9zIDEyIGJ1Z3NcIiksdGhpcy5kaXNjb25uZWN0KCk7Y29uc3QgZT10aGlzLnRyYWNrO3RoaXMudHJhY2s9dGhpcy50cmFjay5jbG9uZSgpLHRoaXMuaXNDdXJyZW50VHJhY2tDbG9uZWQ/ZS5zdG9wKCk6dGhpcy5pc0N1cnJlbnRUcmFja0Nsb25lZD0hMDtjb25zdCB0PW5ldyBNZWRpYVN0cmVhbShbdGhpcy50cmFja10pO3RoaXMuc291cmNlTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodCksbUwodGhpcy5zb3VyY2VOb2RlKSx0aGlzLnZvbHVtZUxldmVsQW5hbHlzZXIucmVidWlsZEFuYWx5c2VyKCk7Y29uc3QgaT10aGlzLm91dHB1dE5vZGUuZ2Fpbi52YWx1ZTt0aGlzLm91dHB1dE5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSx0aGlzLm91dHB1dE5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShpLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSksbUwodGhpcy5vdXRwdXROb2RlKSx0aGlzLmVtaXQoS1AuVVBEQVRFX1NPVVJDRSksdGhpcy5jb25uZWN0KCksdGhpcy5hdWRpb0VsZW1lbnQuc3JjT2JqZWN0PXQsdGhpcy5pc1BsYXllZCYmdGhpcy5wbGF5KHRoaXMucGxheU5vZGUpLHRoaXMuY2hlY2tIYXNBdWRpb0lucHV0KCl9KSksXCJhdWRpb1wiIT09ZS5raW5kKXRocm93IG5ldyBwTyhoTy5VTkVYUEVDVEVEX0VSUk9SKTt0aGlzLnRyYWNrPWU7Y29uc3Qgcj1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudHJhY2tdKTtpZih0aGlzLmlzUmVtb3RlVHJhY2s9ISF0LHRoaXMuc291cmNlTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UociksbUwodGhpcy5zb3VyY2VOb2RlKSxpKXtjb25zdCBlPWkuY2xvbmUoKTtlLmVuYWJsZWQ9ITAsdGhpcy5jbG9uZWRUcmFjaz1lLGlQLmRlYnVnKFwiY3JlYXRlIGFuIHVubXV0ZWQgdHJhY2sgXCIuY29uY2F0KGUuaWQsXCIgZnJvbSB0aGUgb3JpZ2luYWwgdHJhY2sgXCIpLmNvbmNhdChpLmlkLFwiIHRvIGdldCB0aGUgdm9sdW1lXCIpKTtjb25zdCB0PXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShuZXcgTWVkaWFTdHJlYW0oW2VdKSk7bUwodCksdGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyPW5ldyBnTCx0aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXIudXBkYXRlU291cmNlKHQpfXRoaXMuY29ubmVjdCgpLHRoaXMuYXVkaW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKSx0aGlzLmF1ZGlvRWxlbWVudC5zcmNPYmplY3Q9cjtjb25zdCBvPUR3KCk7dCYmby5vcz09PUF3LklPUyYmTnVtYmVyKG51bGw9PT0obj1vLm9zVmVyc2lvbil8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3BsaXQoXCIuXCIpWzBdKTwxNSYmKF9MLm9uKFJQLlNUQVRFX0NIQU5HRSwoKCk9PntcInN1c3BlbmRlZFwiPT09dGhpcy5jb250ZXh0LnN0YXRlP2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5yZWJ1aWxkV2ViQXVkaW8sITApOlwicnVubmluZ1wiPT09dGhpcy5jb250ZXh0LnN0YXRlJiZ0aGlzLnJlYnVpbGRXZWJBdWRpbygpfSkpLHRoaXMuY2hlY2tIYXNBdWRpb0lucHV0KCkudGhlbigoZT0+e2V8fGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5yZWJ1aWxkV2ViQXVkaW8sITApfSkpKX11cGRhdGVUcmFjayhlKXt0aGlzLnNvdXJjZU5vZGUuZGlzY29ubmVjdCgpLHRoaXMudHJhY2s9ZSx0aGlzLmlzQ3VycmVudFRyYWNrQ2xvbmVkPSExO2NvbnN0IHQ9bmV3IE1lZGlhU3RyZWFtKFtlXSk7dGhpcy5zb3VyY2VOb2RlPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0KSxtTCh0aGlzLnNvdXJjZU5vZGUpLHRoaXMucHJvY2Vzc2VkTm9kZXx8dGhpcy5zb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5vdXRwdXROb2RlKSx0aGlzLmVtaXQoS1AuVVBEQVRFX1NPVVJDRSksdGhpcy5hdWRpb0VsZW1lbnQuc3JjT2JqZWN0PXR9ZGVzdHJveSgpe3ZhciBlO3RoaXMuYXVkaW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMuYXVkaW9FbGVtZW50LnJlbW92ZSgpLF9MLm9mZihcInN0YXRlLWNoYW5nZVwiLHRoaXMucmVidWlsZFdlYkF1ZGlvKSxudWxsPT09KGU9dGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyKXx8dm9pZCAwPT09ZXx8ZS5kZXN0cm95KCksdGhpcy5jbG9uZWRUcmFjaz12b2lkIDAsc3VwZXIuZGVzdHJveSgpfWNyZWF0ZU1lZGlhU3RyZWFtU291cmNlTm9kZShlKXtyZXR1cm4gdGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG5ldyBNZWRpYVN0cmVhbShbZV0pKX11cGRhdGVPcmlnaW5UcmFjayhlKXtjb25zdCB0PWUuY2xvbmUoKTt0LmVuYWJsZWQ9ITAsdGhpcy5jbG9uZWRUcmFjayYmKHRoaXMuY2xvbmVkVHJhY2suc3RvcCgpLHRoaXMuY2xvbmVkVHJhY2s9dCksaVAuZGVidWcoXCJjcmVhdGUgYW4gdW5tdXRlZCB0cmFjayBcIi5jb25jYXQodC5pZCxcIiBmcm9tIHRoZSBvcmlnaW5hbCB0cmFjayBcIikuY29uY2F0KGUuaWQsXCIgdG8gZ2V0IHRoZSB2b2x1bWVcIikpO2NvbnN0IGk9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG5ldyBNZWRpYVN0cmVhbShbdF0pKTttTChpKSx0aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXImJnRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlci51cGRhdGVTb3VyY2UoaSl9Z2V0T3JpZ2luVm9sdW1lTGV2ZWwoKXtyZXR1cm4gdGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyP3RoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlci5nZXRWb2x1bWVMZXZlbCgpOnRoaXMuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpfX1hc3luYyBmdW5jdGlvbiBDTChlLHQsaSl7Y29uc3Qgbj0oZSx0KT0+ZT9cIm51bWJlclwiIT10eXBlb2YgZT9lLm1heHx8ZS5leGFjdHx8ZS5pZGVhbHx8ZS5taW58fHQ6ZTp0LHI9e2F1ZGlvOiEhaSYme21hbmRhdG9yeTp7Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCJ9fSx2aWRlbzp7bWFuZGF0b3J5OntjaHJvbWVNZWRpYVNvdXJjZTpcImRlc2t0b3BcIixjaHJvbWVNZWRpYVNvdXJjZUlkOmUsbWF4SGVpZ2h0Om4odC5oZWlnaHQsMTA4MCksbWF4V2lkdGg6bih0LndpZHRoLDE5MjApfX19O3JldHVybiB0LmZyYW1lUmF0ZSYmXCJudW1iZXJcIiE9dHlwZW9mIHQuZnJhbWVSYXRlPyhyLnZpZGVvLm1hbmRhdG9yeS5tYXhGcmFtZVJhdGU9dC5mcmFtZVJhdGUubWF4LHIudmlkZW8ubWFuZGF0b3J5Lm1pbkZyYW1lUmF0ZT10LmZyYW1lUmF0ZS5taW4pOlwibnVtYmVyXCI9PXR5cGVvZiB0LmZyYW1lUmF0ZSYmKHIudmlkZW8ubWFuZGF0b3J5Lm1heEZyYW1lUmF0ZT10LmZyYW1lUmF0ZSksYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEocil9YXN5bmMgZnVuY3Rpb24gdkwoZSx0KXtjb25zdCBpPWF3YWl0IHlMKGUubWVkaWFTb3VyY2UpLHtzb3VyY2VJZDpuLGF1ZGlvOnJ9PWF3YWl0IGZ1bmN0aW9uKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIG5ldyBycCgoKGksbik9Pntjb25zdCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5pbm5lclRleHQ9XCJzaGFyZSBzY3JlZW5cIixyLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGhlaWdodDogMjVweDsgbGluZS1oZWlnaHQ6IDI1cHg7IGJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwOyBiYWNrZ3JvdW5kOiAjRDREMkQ0OyBib3JkZXItYm90dG9tOiAgc29saWQgMXB4ICNCOUI4Qjk7XCIpO2NvbnN0IG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtvLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiA1MDBweDsgcGFkZGluZzogMTVweCAyNXB4IDsgYm94LXNpemluZzogYm9yZGVyLWJveDtcIik7Y29uc3Qgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3MuaW5uZXJUZXh0PVwiQWdvcmEgV2ViIFNjcmVlbnNoYXJpbmcgd2FudHMgdG8gc2hhcmUgdGhlIGNvbnRlbnRzIG9mIHlvdXIgc2NyZWVuIHdpdGggd2ViZGVtby5hZ29yYWJlY2tvbi5jb20uIENob29zZSB3aGF0IHlvdSdkIGxpa2UgdG8gc2hhcmUuXCIscy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiaGVpZ2h0OiAxMiU7XCIpO2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiA4MCU7IGJhY2tncm91bmQ6ICNGRkY7IGJvcmRlcjogIHNvbGlkIDFweCAjQ0JDQkNCOyBkaXNwbGF5OiBmbGV4OyBmbGV4LXdyYXA6IHdyYXA7IGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOyBvdmVyZmxvdy15OiBzY3JvbGw7IHBhZGRpbmc6IDAgMTVweDsgYm94LXNpemluZzogYm9yZGVyLWJveDtcIik7Y29uc3QgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Muc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogMTZweCAwO1wiKTtjb25zdCBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7ZC5pbm5lckhUTUw9XCJjYW5jZWxcIixkLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogODVweDtcIiksZC5vbmNsaWNrPSgpPT57ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChoKTtjb25zdCBlPW5ldyBFcnJvcihcIk5vdEFsbG93ZWRFcnJvclwiKTtlLm5hbWU9XCJOb3RBbGxvd2VkRXJyb3JcIixuKGUpfTtsZXQgbD10O2NvbnN0IHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZih0KXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtlLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImNoZWNrYm94XCIpO2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7ZS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwibWFyZ2luLXJpZ2h0OiA2cHg7XCIpLHQuaW5uZXJUZXh0PVwiU2hhcmUgYXVkaW9cIixlLmNoZWNrZWQ9bCxlLm9uY2hhbmdlPSgpPT57bD1lLmNoZWNrZWR9LHUuYXBwZW5kQ2hpbGQoZSksdS5hcHBlbmRDaGlsZCh0KX1jLmFwcGVuZENoaWxkKHUpLGMuYXBwZW5kQ2hpbGQoZCksby5hcHBlbmRDaGlsZChzKSxvLmFwcGVuZENoaWxkKGEpLG8uYXBwZW5kQ2hpbGQoYyk7Y29uc3QgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2guc2V0QXR0cmlidXRlKFwic3R5bGVcIixcInBvc2l0aW9uOiBmaXhlZDsgei1pbmRleDogOTk5OTk5OTk7IHRvcDogNTAlOyBsZWZ0OiA1MCU7IHdpZHRoOiA2MjBweDsgaGVpZ2h0OiA1MjVweDsgYmFja2dyb3VuZDogI0VDRUNFQzsgYm9yZGVyLXJhZGl1czogNHB4OyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7IHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7XCIpLGguYXBwZW5kQ2hpbGQociksaC5hcHBlbmRDaGlsZChvKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGgpLGUubWFwKChlPT57aWYoZS5pZCl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Quc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiAzMCU7IGhlaWdodDogMTYwcHg7IHBhZGRpbmc6IDIwcHggMDsgdGV4dC1hbGlnbjogY2VudGVyO2JveC1zaXppbmc6IGNvbnRlbnQtYm94O1wiKTtsZXQgbj1lLnRodW1ibmFpbDt0cnl7Y29uc3R7d2lkdGg6ZX09bi5nZXRTaXplKCk7ZT4xOTIwJiYobj1uLnJlc2l6ZSh7d2lkdGg6MTkyMH0pKX1jYXRjaChlKXt0aHJvdyBlJiZlLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIklsbGVnYWwgaW52b2NhdGlvblwiKSYmY29uc29sZS5lcnJvcihcIk9wZXJhdGUgdGh1bWJuYWlsIGVycm9yLCBwbGVhc2UgdHJ5IHRvIHNldCBjb250ZXh0SXNvbGF0aW9uOiBmYWxzZS4gKGh0dHBzOi8vZ2l0aHViLmNvbS9lbGVjdHJvbi9lbGVjdHJvbi9pc3N1ZXMvMzQ5NTMpXCIpLGV9dC5pbm5lckhUTUw9JzxkaXYgc3R5bGU9XCJoZWlnaHQ6IDEyMHB4OyBkaXNwbGF5OiB0YWJsZS1jZWxsOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1wiPjxpbWcgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYmFja2dyb3VuZDogIzMzMzMzMzsgYm94LXNoYWRvdzogMXB4IDFweCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcIiBzcmM9JytuLnRvRGF0YVVSTCgpKycgLz48L2Rpdj48c3BhbiBzdHlsZT1cIlxcdGhlaWdodDogNDBweDsgbGluZS1oZWlnaHQ6IDQwcHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDcwJTsgd29yZC1icmVhazoga2VlcC1hbGw7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93OiBoaWRkZW47IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1wiPicrZS5uYW1lLnJlcGxhY2UoL1tcXHUwMEEwLVxcdTk5OTk8PlxcJl0vZywoZnVuY3Rpb24oZSl7cmV0dXJuXCImI1wiK2UuY2hhckNvZGVBdCgwKStcIjtcIn0pKStcIjwvc3Bhbj5cIix0Lm9uY2xpY2s9KCk9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGgpLGkoe3NvdXJjZUlkOmUuaWQsYXVkaW86bH0pfSxhLmFwcGVuZENoaWxkKHQpfX0pKX0pKX0oaSx0KTtyZXR1cm4gYXdhaXQgQ0wobixlLHIpfWFzeW5jIGZ1bmN0aW9uIHlMKGUpe2xldCB0PVtcIndpbmRvd1wiLFwic2NyZWVuXCJdO1wiYXBwbGljYXRpb25cIiE9PWUmJlwid2luZG93XCIhPT1lfHwodD1bXCJ3aW5kb3dcIl0pLFwic2NyZWVuXCI9PT1lJiYodD1bXCJzY3JlZW5cIl0pO2NvbnN0IGk9UE8oKTtpZighaSl0aHJvdyBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGZldGNoIGVsZWN0cm9uLCBwbGVhc2UgbW91bnQgaXQgdG8gd2luZG93XCIpLG5ldyBwTyhoTy5FTEVDVFJPTl9JU19OVUxMKTtsZXQgbj1udWxsO3RyeXt2YXIgcjtuPShudWxsPT09KHI9aS5kZXNrdG9wQ2FwdHVyZXIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldFNvdXJjZXMoe3R5cGVzOnR9KSl8fGkuaXBjUmVuZGVyZXIuaW52b2tlKFwiREVTS1RPUF9DQVBUVVJFUl9HRVRfU09VUkNFU1wiLHt0eXBlczp0fSl9Y2F0Y2goZSl7bj1udWxsfW4mJm4udGhlbnx8KG49bmV3IHJwKCgoZSxuKT0+e2kuZGVza3RvcENhcHR1cmVyLmdldFNvdXJjZXMoe3R5cGVzOnR9LCgodCxpKT0+e3Q/bih0KTplKGkpfSkpfSkpKTt0cnl7cmV0dXJuIGF3YWl0IG59Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVMRUNUUk9OX0RFU0tUT1BfQ0FQVFVSRVJfR0VUX1NPVVJDRVNfRVJST1IsZS50b1N0cmluZygpKX19Y29uc3QgSUw9bmV3IFBOKFwic2FmYXJpXCIpO2xldCBBTD0hMSxiTD0hMTthc3luYyBmdW5jdGlvbiB3TChlLHQpe2xldCBpPTAsbj1udWxsO2Zvcig7aTwyOyl0cnl7bj1hd2FpdCBPTChlLHQsaT4wKTticmVha31jYXRjaChlKXtpZihlIGluc3RhbmNlb2YgcE8pdGhyb3cgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHQsXCJdIFwiKS5jb25jYXQoZS50b1N0cmluZygpKSksZTtjb25zdCBuPU5MKGUubmFtZXx8ZS5jb2RlfHxlLGUubWVzc2FnZSk7aWYobi5jb2RlPT09aE8uTUVESUFfT1BUSU9OX0lOVkFMSUQpe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0LFwiXSBkZXRlY3QgbWVkaWEgb3B0aW9uIGludmFsaWQsIHJldHJ5XCIpKSxpKz0xLGF3YWl0IGZOKDUwMCk7Y29udGludWV9dGhyb3cgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHQsXCJdIFwiKS5jb25jYXQobi50b1N0cmluZygpKSksbn1pZighbil0aHJvdyBuZXcgcE8oaE8uVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCBzdHJlYW0gYWZ0ZXIgZ2V0VXNlck1lZGlhXCIpO3JldHVybiBufWFzeW5jIGZ1bmN0aW9uIE9MKGUsdCxpKXtpZighbmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8IW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKXRocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCBmaW5kIGdldFVzZXJNZWRpYVwiKTtpJiYoZS52aWRlbyYmKGRlbGV0ZSBlLnZpZGVvLndpZHRoLGRlbGV0ZSBlLnZpZGVvLmhlaWdodCksZS5zY3JlZW4mJihkZWxldGUgZS5zY3JlZW4ud2lkdGgsZGVsZXRlIGUuc2NyZWVuLmhlaWdodCkpO2NvbnN0IG49cFAoKSxyPW5ldyBNZWRpYVN0cmVhbTtpZihlLmF1ZGlvU291cmNlJiZyLmFkZFRyYWNrKGUuYXVkaW9Tb3VyY2UpLGUudmlkZW9Tb3VyY2UmJnIuYWRkVHJhY2soZS52aWRlb1NvdXJjZSksIWUuYXVkaW8mJiFlLnZpZGVvJiYhZS5zY3JlZW4pcmV0dXJuIGlQLmRlYnVnKFwiVXNpbmcgVmlkZW8gU291cmNlLyBBdWRpbyBTb3VyY2VcIikscjtpZihlLnNjcmVlbilpZihQTygpKWUuc2NyZWVuLnNvdXJjZUlkP0RMKHIsYXdhaXQgQ0woZS5zY3JlZW4uc291cmNlSWQsZS5zY3JlZW4sISFlLnNjcmVlbkF1ZGlvKSk6REwocixhd2FpdCB2TChlLnNjcmVlbiwhIWUuc2NyZWVuQXVkaW8pKTtlbHNlIGlmKFV3KCkmJmUuc2NyZWVuLmV4dGVuc2lvbklkJiZlLnNjcmVlbi5tYW5kYXRvcnkpe2lmKCFuLmdldFN0cmVhbUZyb21FeHRlbnNpb24pdGhyb3cgbmV3IHBPKGhPLk5PVF9TVVBQT1JURUQsXCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW4gc2hhcmluZ1wiKTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodCwnXSBTY3JlZW4gYWNjZXNzIG9uIGNocm9tZSBzdGFibGUsIGxvb2tpbmcgZm9yIGV4dGVuc2lvblwiJykpO2NvbnN0IGk9YXdhaXQocz1lLnNjcmVlbi5leHRlbnNpb25JZCxhPXQsbmV3IHJwKCgoZSx0KT0+e3RyeXtjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZShzLHtnZXRTdHJlYW06ITB9LChpPT57aWYoIWl8fCFpLnN0cmVhbUlkKXJldHVybiBpUC5lcnJvcihcIltcIi5jb25jYXQoYSxcIl0gTm8gcmVzcG9uc2UgZnJvbSBDaHJvbWUgUGx1Z2luLiBQbHVnaW4gbm90IGluc3RhbGxlZCBwcm9wZXJseVwiKSxpKSx2b2lkIHQobmV3IHBPKGhPLkNIUk9NRV9QTFVHSU5fTk9fUkVTUE9OU0UsXCJObyByZXNwb25zZSBmcm9tIENocm9tZSBQbHVnaW4uIFBsdWdpbiBub3QgaW5zdGFsbGVkIHByb3Blcmx5XCIpKTtlKGkuc3RyZWFtSWQpfSkpfWNhdGNoKGUpe2lQLmVycm9yKFwiW1wiLmNvbmNhdChhLFwiXSBBZ29yYVJUQyBzY3JlZW5zaGFyaW5nIHBsdWdpbiBpcyBub3QgYWNjZXNzaWJsZShcIikuY29uY2F0KHMsXCIpXCIpLGUudG9TdHJpbmcoKSksdChuZXcgcE8oaE8uQ0hST01FX1BMVUdJTl9OT1RfSU5TVEFMTCkpfX0pKSk7ZS5zY3JlZW4ubWFuZGF0b3J5LmNocm9tZU1lZGlhU291cmNlSWQ9aSxETChyLGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHt2aWRlbzp7bWFuZGF0b3J5OmUuc2NyZWVuLm1hbmRhdG9yeX19KSl9ZWxzZSBpZihuLmdldERpc3BsYXlNZWRpYSl7dmFyIG87ZS5zY3JlZW4ubWVkaWFTb3VyY2UmJk1QKGUuc2NyZWVuLm1lZGlhU291cmNlKTtjb25zdCBpPXt3aWR0aDplLnNjcmVlbi53aWR0aCxoZWlnaHQ6ZS5zY3JlZW4uaGVpZ2h0LGZyYW1lUmF0ZTplLnNjcmVlbi5mcmFtZVJhdGUsZGlzcGxheVN1cmZhY2U6bnVsbCE9PShvPWUuc2NyZWVuLmRpc3BsYXlTdXJmYWNlKSYmdm9pZCAwIT09bz9vOlwic2NyZWVuXCI9PT1lLnNjcmVlbi5tZWRpYVNvdXJjZT9cIm1vbml0b3JcIjplLnNjcmVlbi5tZWRpYVNvdXJjZX0se3NlbGZCcm93c2VyU3VyZmFjZTpuLHN1cmZhY2VTd2l0Y2hpbmc6cyxzeXN0ZW1BdWRpbzphLHByZWZlckN1cnJlbnRUYWI6Yyx3aW5kb3dBdWRpbzpkLG1vbml0b3JUeXBlU3VyZmFjZXM6bH09ZS5zY3JlZW4sdT17c2VsZkJyb3dzZXJTdXJmYWNlOm4sc3VyZmFjZVN3aXRjaGluZzpzLHN5c3RlbUF1ZGlvOmEscHJlZmVyQ3VycmVudFRhYjpjLHdpbmRvd0F1ZGlvOmQsbW9uaXRvclR5cGVTdXJmYWNlczpsfTshbiYmZGVsZXRlIHUuc2VsZkJyb3dzZXJTdXJmYWNlLCFzJiZkZWxldGUgdS5zdXJmYWNlU3dpdGNoaW5nLCFhJiZkZWxldGUgdS5zeXN0ZW1BdWRpbywhYyYmZGVsZXRlIHUucHJlZmVyQ3VycmVudFRhYiwhZCYmZGVsZXRlIHUud2luZG93QXVkaW8sIWwmJmRlbGV0ZSB1Lm1vbml0b3JUeXBlU3VyZmFjZXMsaVAuZGVidWcoXCJbXCIuY29uY2F0KHQsXCJdIGdldERpc3BsYXlNZWRpYTpcIiksSlNPTi5zdHJpbmdpZnkoe3ZpZGVvOmksYXVkaW86ZS5zY3JlZW5BdWRpbyxjb250cm9sczp1fSkpLERMKHIsYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoY0woe3ZpZGVvOmksYXVkaW86ZS5zY3JlZW5BdWRpb30sdSkpKX1lbHNle2lmKCFCdygpKXRocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0LFwiXSBUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW5TaGFyaW5nXCIpKSxuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHNjcmVlbiBzaGFyaW5nXCIpO3tlLnNjcmVlbi5tZWRpYVNvdXJjZSYmTVAoZS5zY3JlZW4ubWVkaWFTb3VyY2UpO2NvbnN0IGk9e3ZpZGVvOnttZWRpYVNvdXJjZTplLnNjcmVlbi5tZWRpYVNvdXJjZSx3aWR0aDplLnNjcmVlbi53aWR0aCxoZWlnaHQ6ZS5zY3JlZW4uaGVpZ2h0LGZyYW1lUmF0ZTplLnNjcmVlbi5mcmFtZVJhdGV9fTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodCxcIl0gZ2V0VXNlck1lZGlhOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGkpKSksREwocixhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShpKSl9fXZhciBzLGE7aWYoIWUudmlkZW8mJiFlLmF1ZGlvKXJldHVybiByO2xldCBjPXt2aWRlbzplLnZpZGVvLGF1ZGlvOmUuYXVkaW99LGQ9Q0QoXCJNRURJQV9ERVZJQ0VfQ09OU1RSQUlOVFNcIik7aWYoZCl0cnl7XCJzdHJpbmdcIj09dHlwZW9mIGQmJihkPUpTT04ucGFyc2UoZCkpLGM9eU4oYyxkKX1jYXRjaChlKXt9aVAuZGVidWcoXCJbXCIuY29uY2F0KHQsXCJdIEdldFVzZXJNZWRpYVwiKSxKU09OLnN0cmluZ2lmeShjKSksRHcoKTtsZXQgbCx1PW51bGw7KFZ3KCl8fGp3KCl8fE13KCkpJiYodT1hd2FpdCBJTC5sb2NrKCkpO3RyeXtsPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGMpfWNhdGNoKGUpe3Rocm93IHUmJnUoKSxlfXJldHVybiBjLmF1ZGlvJiYoQUw9ITApLGMudmlkZW8mJihiTD0hMCksREwocixsKSx1JiZ1KCkscn1mdW5jdGlvbiBOTChlLHQpe3N3aXRjaChlKXtjYXNlXCJTdGFydGluZyB2aWRlbyBmYWlsZWRcIjpjYXNlXCJPdmVyY29uc3RyYWluZWRFcnJvclwiOmNhc2VcIlRyYWNrU3RhcnRFcnJvclwiOnJldHVybiBuZXcgcE8oaE8uTUVESUFfT1BUSU9OX0lOVkFMSUQsXCJcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSk7Y2FzZVwiTm90Rm91bmRFcnJvclwiOmNhc2VcIkRldmljZXNOb3RGb3VuZEVycm9yXCI6cmV0dXJuIG5ldyBwTyhoTy5ERVZJQ0VfTk9UX0ZPVU5ELFwiXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQodCkpO2Nhc2VcIk5vdFN1cHBvcnRlZEVycm9yXCI6cmV0dXJuIG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQodCkpO2Nhc2VcIk5vdFJlYWRhYmxlRXJyb3JcIjpyZXR1cm4gbmV3IHBPKGhPLk5PVF9SRUFEQUJMRSxcIlwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQpKTtjYXNlXCJJbnZhbGlkU3RhdGVFcnJvclwiOmNhc2VcIk5vdEFsbG93ZWRFcnJvclwiOmNhc2VcIlBFUk1JU1NJT05fREVOSUVEXCI6Y2FzZVwiUGVybWlzc2lvbkRlbmllZEVycm9yXCI6cmV0dXJuIG5ldyBwTyhoTy5QRVJNSVNTSU9OX0RFTklFRCxcIlwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQpKTtjYXNlXCJDb25zdHJhaW50Tm90U2F0aXNmaWVkRXJyb3JcIjpyZXR1cm4gbmV3IHBPKGhPLkNPTlNUUkFJTlRfTk9UX1NBVElTRklFRCxcIlwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQpKTtkZWZhdWx0OnJldHVybiBpUC5lcnJvcihcImdldFVzZXJNZWRpYSB1bmV4cGVjdGVkIGVycm9yXCIsZSksbmV3IHBPKGhPLlVORVhQRUNURURfRVJST1IsXCJcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSl9fWZ1bmN0aW9uIERMKGUsdCl7Y29uc3QgaT1lLmdldFZpZGVvVHJhY2tzKClbMF0sbj1lLmdldEF1ZGlvVHJhY2tzKClbMF0scj10LmdldFZpZGVvVHJhY2tzKClbMF0sbz10LmdldEF1ZGlvVHJhY2tzKClbMF07byYmKG4mJmUucmVtb3ZlVHJhY2sobiksZS5hZGRUcmFjayhvKSksciYmKGkmJmUucmVtb3ZlVHJhY2soaSksZS5hZGRUcmFjayhyKSl9Y29uc3QgUEw9bmV3IGNsYXNzIGV4dGVuZHMgTk97Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfXNldCBzdGF0ZShlKXtlIT09dGhpcy5fc3RhdGUmJih0aGlzLmVtaXQoZUwuU1RBVEVfQ0hBTkdFLGUpLHRoaXMuX3N0YXRlPWUpfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxzTCh0aGlzLFwiX3N0YXRlXCIsJFAuSURMRSksc0wodGhpcyxcImlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb25cIiwhMSksc0wodGhpcyxcImlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvblwiLCExKSxzTCh0aGlzLFwibGFzdEFjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uXCIsITEpLHNMKHRoaXMsXCJsYXN0QWNjZXNzQ2FtZXJhUGVybWlzc2lvblwiLCExKSxzTCh0aGlzLFwiY2hlY2tkZXZpY2VNYXRjaGVkXCIsITEpLHNMKHRoaXMsXCJkZXZpY2VJbmZvTWFwXCIsbmV3IE1hcCksdGhpcy5pbml0KCkudGhlbigoKCk9PntuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXImJm5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZWNoYW5nZVwiLHRoaXMudXBkYXRlRGV2aWNlc0luZm8uYmluZCh0aGlzKSksd2luZG93LnNldEludGVydmFsKCgoKT0+eyhDRChcIkVOVU1FUkFURV9ERVZJQ0VTX0lOVEVSVkFMXCIpfHwoYU8oKXx8THcoKT09PUF3LkhBUk1PTllfT1MpJiZzTygpKSYmdGhpcy51cGRhdGVEZXZpY2VzSW5mbygpfSksQ0QoXCJFTlVNRVJBVEVfREVWSUNFU19JTlRFUlZBTF9USU1FXCIpKX0pKS5jYXRjaCgoZT0+aVAuZXJyb3IoZS50b1N0cmluZygpKSkpfWFzeW5jIGVudW1lcmF0ZURldmljZXMoZSx0KXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2lmKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKXRocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiZW51bWVyYXRlRGV2aWNlcygpIG5vdCBzdXBwb3J0ZWQuXCIpO2NvbnN0IG49YXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkscj10aGlzLmNoZWNrTWVkaWFEZXZpY2VJbmZvSXNPayhuKTtsZXQgbz0hdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uJiZlLHM9IXRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uJiZ0O3IuYXVkaW8mJihvPSExKSxyLnZpZGVvJiYocz0hMSk7bGV0IGE9bnVsbCxjPW51bGwsZD1udWxsO2lmKCFpJiYob3x8cykpe2lmKElMLmlzTG9ja2VkJiYoaVAuZGVidWcoXCJbZGV2aWNlIG1hbmFnZXJdIHdhaXQgR1VNIGxvY2tcIiksKGF3YWl0IElMLmxvY2soKSkoKSxpUC5kZWJ1ZyhcIltkZXZpY2UgbWFuYWdlcl0gR1VNIHVubG9ja1wiKSksQUwmJihvPSExLHRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMCksYkwmJihzPSExLHRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwKSxpUC5kZWJ1ZyhcIltkZXZpY2UgbWFuYWdlcl0gY2hlY2sgbWVkaWEgZGV2aWNlIHBlcm1pc3Npb25zXCIsZSx0LG8scyksbyYmcyl7dHJ5e2Q9YXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe2F1ZGlvOiEwLHZpZGVvOiEwfSl9Y2F0Y2goZSl7Y29uc3QgdD1OTChlLm5hbWV8fGUuY29kZXx8ZSxlLm1lc3NhZ2UpO2lmKHQuY29kZT09PWhPLlBFUk1JU1NJT05fREVOSUVEKXRocm93IHQ7aVAud2FybmluZyhcImdldFVzZXJNZWRpYSBmYWlsZWQgaW4gZ2V0RGV2aWNlc1wiLHQpfXRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwLHRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMH1lbHNlIGlmKG8pe3RyeXthPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHthdWRpbzplfSl9Y2F0Y2goZSl7Y29uc3QgdD1OTChlLm5hbWV8fGUuY29kZXx8ZSxlLm1lc3NhZ2UpO2lmKHQuY29kZT09PWhPLlBFUk1JU1NJT05fREVOSUVEKXRocm93IHQ7aVAud2FybmluZyhcImdldFVzZXJNZWRpYSBmYWlsZWQgaW4gZ2V0RGV2aWNlc1wiLHQpfXRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMH1lbHNlIGlmKHMpe3RyeXtjPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHt2aWRlbzp0fSl9Y2F0Y2goZSl7Y29uc3QgdD1OTChlLm5hbWV8fGUuY29kZXx8ZSxlLm1lc3NhZ2UpO2lmKHQuY29kZT09PWhPLlBFUk1JU1NJT05fREVOSUVEKXRocm93IHQ7aVAud2FybmluZyhcImdldFVzZXJNZWRpYSBmYWlsZWQgaW4gZ2V0RGV2aWNlc1wiLHQpfXRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwfWlQLmRlYnVnKFwiW2RldmljZSBtYW5hZ2VyXSBtaWMgcGVybWlzc2lvblwiLGUsXCJjYW0gcGVybWlzc2lvblwiLHQpfXRyeXtjb25zdCBlPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO3JldHVybiBhJiZhLmdldFRyYWNrcygpLmZvckVhY2goKGU9PmUuc3RvcCgpKSksYyYmYy5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT5lLnN0b3AoKSkpLGQmJmQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+ZS5zdG9wKCkpKSxhPW51bGwsYz1udWxsLGQ9bnVsbCxlfWNhdGNoKGUpe3JldHVybiBhJiZhLmdldFRyYWNrcygpLmZvckVhY2goKGU9PmUuc3RvcCgpKSksYyYmYy5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT5lLnN0b3AoKSkpLGQmJmQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+ZS5zdG9wKCkpKSxhPW51bGwsYz1udWxsLGQ9bnVsbCxuZXcgcE8oaE8uRU5VTUVSQVRFX0RFVklDRVNfRkFJTEVELGUudG9TdHJpbmcoKSkudGhyb3coKX19YXN5bmMgZ2V0UmVjb3JkaW5nRGV2aWNlcygpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuKGF3YWl0IHRoaXMuZW51bWVyYXRlRGV2aWNlcyghMCwhMSxlKSkuZmlsdGVyKChlPT5cImF1ZGlvaW5wdXRcIj09PWUua2luZCkpfWFzeW5jIGdldENhbWVyYXNEZXZpY2VzKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4oYXdhaXQgdGhpcy5lbnVtZXJhdGVEZXZpY2VzKCExLCEwLGUpKS5maWx0ZXIoKGU9PlwidmlkZW9pbnB1dFwiPT09ZS5raW5kKSl9YXN5bmMgZ2V0U3BlYWtlcnMoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybihhd2FpdCB0aGlzLmVudW1lcmF0ZURldmljZXMoITAsITEsZSkpLmZpbHRlcigoZT0+XCJhdWRpb291dHB1dFwiPT09ZS5raW5kKSl9c2VhcmNoRGV2aWNlSWRCeU5hbWUoZSl7bGV0IHQ9bnVsbDtyZXR1cm4gdGhpcy5kZXZpY2VJbmZvTWFwLmZvckVhY2goKGk9PntpLmRldmljZS5sYWJlbD09PWUmJih0PWkuZGV2aWNlLmRldmljZUlkKX0pKSx0fWFzeW5jIGdldERldmljZUJ5SWQoZSl7Y29uc3QgdD0oYXdhaXQgdGhpcy5lbnVtZXJhdGVEZXZpY2VzKCEwLCEwLCEwKSkuZmluZCgodD0+dC5kZXZpY2VJZD09PWUpKTtpZighdCl0aHJvdyBuZXcgcE8oaE8uREVWSUNFX05PVF9GT1VORCxcImRldmljZUlkOiBcIi5jb25jYXQoZSkpO3JldHVybiB0fWFzeW5jIGluaXQoKXt0aGlzLnN0YXRlPSRQLklOSVRJTkc7dHJ5e2F3YWl0IHRoaXMudXBkYXRlRGV2aWNlc0luZm8oKSx0aGlzLnN0YXRlPSRQLklOSVRFTkR9Y2F0Y2goZSl7aWYodGhpcy5zdGF0ZT0kUC5JRExFLCEoXCJib29sZWFuXCI9PXR5cGVvZiBpc1NlY3VyZUNvbnRleHQ/aXNTZWN1cmVDb250ZXh0OlwiaHR0cHM6XCI9PT1sb2NhdGlvbi5wcm90b2NvbHx8XCJmaWxlOlwiPT09bG9jYXRpb24ucHJvdG9jb2x8fFwibG9jYWxob3N0XCI9PT1sb2NhdGlvbi5ob3N0bmFtZXx8XCIxMjcuMC4wLjFcIj09PWxvY2F0aW9uLmhvc3RuYW1lfHxcIjo6MVwiPT09bG9jYXRpb24uaG9zdG5hbWUpKXRocm93IG5ldyBwTyhoTy5XRUJfU0VDVVJJVFlfUkVTVFJJQ1QsXCJZb3VyIGNvbnRleHQgaXMgbGltaXRlZCBieSB3ZWIgc2VjdXJpdHksIHBsZWFzZSB0cnkgdXNpbmcgaHR0cHMgcHJvdG9jb2wgb3IgbG9jYWxob3N0LlwiKTt0aHJvdyBpUC53YXJuaW5nKFwiRGV2aWNlIERldGVjdGlvbiBmdW5jdGlvbmFsaXR5IGNhbm5vdCBzdGFydCBwcm9wZXJseS5cIixlLnRvU3RyaW5nKCkpLGV9fWFzeW5jIHVwZGF0ZURldmljZXNJbmZvKCl7Y29uc3QgZT1hd2FpdCB0aGlzLmVudW1lcmF0ZURldmljZXMoITAsITAsITApLHQ9RGF0ZS5ub3coKSxpPVtdO2lmKGVbMF0mJmVbMF0ubGFiZWwmJiExPT09dGhpcy5jaGVja2RldmljZU1hdGNoZWQpe3RoaXMuY2hlY2tkZXZpY2VNYXRjaGVkPSEwO2NvbnN0IHQ9ZS5maW5kKChlPT5cImF1ZGlvaW5wdXRcIj09PWUua2luZCYmXCJkZWZhdWx0XCI9PT1lLmRldmljZUlkKSksaT1lLmZpbmQoKGU9PlwiYXVkaW9vdXRwdXRcIj09PWUua2luZCYmXCJkZWZhdWx0XCI9PT1lLmRldmljZUlkKSk7dCYmaT9pLmdyb3VwSWQ9PT10Lmdyb3VwSWQ/aVAuZGVidWcoXCJbZGV2aWNlLWNoZWNrXSBkZWZhdWx0IGlucHV0IFwiLmNvbmNhdCh0LmxhYmVsLFwiIGFuZCBvdXRwdXQgXCIpLmNvbmNhdChpLmxhYmVsLFwiIGlzIHRoZSBzYW1lIGdyb3VwXCIpKTppUC5kZWJ1ZyhcIltkZXZpY2UtY2hlY2tdIGRlZmF1bHQgaW5wdXQgXCIuY29uY2F0KHQubGFiZWwsXCIgYW5kIG91dHB1dCBcIikuY29uY2F0KGkubGFiZWwsXCIgaXMgbm90IHRoZSBzYW1lIGdyb3VwXCIpKTppUC5kZWJ1ZyhcIltkZXZpY2UtY2hlY2tdIGRlZmF1bHQgaW5wdXQgb3Igb3V0cHV0IG5vdCBmb3VuZFwiKX1jb25zdCBuPXRoaXMuY2hlY2tNZWRpYURldmljZUluZm9Jc09rKGUpO2lmKGUuZm9yRWFjaCgoZT0+e2lmKCFlLmRldmljZUlkKXJldHVybjtjb25zdCBuPXRoaXMuZGV2aWNlSW5mb01hcC5nZXQoXCJcIi5jb25jYXQoZS5raW5kLFwiX1wiKS5jb25jYXQoZS5kZXZpY2VJZCkpO2lmKFwiQUNUSVZFXCIhPT0obj9uLnN0YXRlOlwiSU5BQ1RJVkVcIikpe2NvbnN0IG49e2luaXRBdDp0LHVwZGF0ZUF0OnQsZGV2aWNlOmUsc3RhdGU6XCJBQ1RJVkVcIn07dGhpcy5kZXZpY2VJbmZvTWFwLnNldChcIlwiLmNvbmNhdChlLmtpbmQsXCJfXCIpLmNvbmNhdChlLmRldmljZUlkKSxuKSxpLnB1c2gobil9biYmKG4udXBkYXRlQXQ9dCl9KSksdGhpcy5kZXZpY2VJbmZvTWFwLmZvckVhY2goKChlLG4pPT57XCJBQ1RJVkVcIj09PWUuc3RhdGUmJmUudXBkYXRlQXQhPT10JiYoZS5zdGF0ZT1cIklOQUNUSVZFXCIsaS5wdXNoKGUpKX0pKSx0aGlzLnN0YXRlIT09JFAuSU5JVEVORClyZXR1cm4gbi5hdWRpbyYmKHRoaXMubGFzdEFjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwLHRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMCksdm9pZChuLnZpZGVvJiYodGhpcy5sYXN0QWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCx0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCkpO2kuZm9yRWFjaCgoZT0+e3N3aXRjaChlLmRldmljZS5raW5kKXtjYXNlXCJhdWRpb2lucHV0XCI6dGhpcy5sYXN0QWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb24mJnRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbiYmdGhpcy5lbWl0KGVMLlJFQ09SRElOR19ERVZJQ0VfQ0hBTkdFRCxlKTticmVhaztjYXNlXCJ2aWRlb2lucHV0XCI6dGhpcy5sYXN0QWNjZXNzQ2FtZXJhUGVybWlzc2lvbiYmdGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb24mJnRoaXMuZW1pdChlTC5DQU1FUkFfREVWSUNFX0NIQU5HRUQsZSk7YnJlYWs7Y2FzZVwiYXVkaW9vdXRwdXRcIjp0aGlzLmxhc3RBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbiYmdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uJiZ0aGlzLmVtaXQoZUwuUExBWU9VVF9ERVZJQ0VfQ0hBTkdFRCxlKX19KSksbi5hdWRpbyYmKHRoaXMubGFzdEFjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwLHRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMCksbi52aWRlbyYmKHRoaXMubGFzdEFjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITAsdGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITApfWNoZWNrTWVkaWFEZXZpY2VJbmZvSXNPayhlKXtjb25zdCB0PWUuZmlsdGVyKChlPT5cImF1ZGlvaW5wdXRcIj09PWUua2luZCkpLGk9ZS5maWx0ZXIoKGU9PlwidmlkZW9pbnB1dFwiPT09ZS5raW5kKSksbj17YXVkaW86ITEsdmlkZW86ITF9O2Zvcihjb25zdCBlIG9mIHQpaWYoZS5sYWJlbCYmZS5kZXZpY2VJZCl7bi5hdWRpbz0hMDticmVha31mb3IoY29uc3QgZSBvZiBpKWlmKGUubGFiZWwmJmUuZGV2aWNlSWQpe24udmlkZW89ITA7YnJlYWt9cmV0dXJuIG59fTtsZXQgTEw9ITE7Y29uc3Qga0w9bmV3IGNsYXNzIGV4dGVuZHMgTk97Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHNMKHRoaXMsXCJvbkF1dG9wbGF5RmFpbGVkXCIsdm9pZCAwKSxzTCh0aGlzLFwib25BdWRpb0F1dG9wbGF5RmFpbGVkXCIsdm9pZCAwKX19O2Z1bmN0aW9uIE1MKCl7aWYoTEwpcmV0dXJuIENEKFwiRkxTX0FVVE9QTEFZX0VNSVRTXCIpPyhrTC5vbkF1dG9wbGF5RmFpbGVkJiZrTC5vbkF1dG9wbGF5RmFpbGVkKCksa0wuZW1pdChcImF1dG9wbGF5LWZhaWxlZFwiKSk6dm9pZCAwO3tjb25zdCBlPXQ9Pnt0LnByZXZlbnREZWZhdWx0KCksTEw9ITEsY08oKT9kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUsITApOihkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZSwhMCkpfTtMTD0hMCxjTygpP2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZSwhMCk6KGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixlLCEwKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixlLCEwKSksaVAuaW5mbyhcImRldGVjdCBtZWRpYSBhdXRvcGxheSBmYWlsZWQsIGRvY3VtZW50OiBodHRwczovL2RvY3MuYWdvcmEuaW8vY24vVm9pY2UvYXV0b3BsYXlfcG9saWN5X3dlYl9uZz9wbGF0Zm9ybT1XZWJcIiksa0wub25BdXRvcGxheUZhaWxlZD9rTC5vbkF1dG9wbGF5RmFpbGVkKCk6a0wub25BdWRpb0F1dG9wbGF5RmFpbGVkP2lQLndhcm5pbmcoXCJBZ29yYVJUQy5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQgaGFzIGJlZW4gZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBBZ29yYVJUQy5vbkF1dG9wbGF5RmFpbGVkLlxcblxcbiAgUGxlYXNlIHJlZmVyIHRvIHRoZSBBZ29yYSBkb2N1bWVudCB0byBtaWdyYXRlIHRoZSBuZXdlciBBUEksIGh0dHBzOi8vZG9jcy5hZ29yYS5pby9lbi9Wb2ljZS9hdXRvcGxheV9wb2xpY3lfd2ViX25nP3BsYXRmb3JtPVdlYiAuXCIpOmlQLndhcm5pbmcoXCJXZSBoYXZlIGRldGVjdGVkIGEgbWVkaWEgYXV0b3BsYXkgZmFpbGVkIGV2ZW50LCBhbmQgZm91bmQgb3V0IHRoYXQgeW91IGhhdmVuJ3QgaW1wbGVtZW50ZWQgQWdvcmFSVEMub25BdXRvcGxheUZhaWxlZCBjYWxsYmFjayB5ZXQuXFxuXFxuICBJdCB3aWxsIGNhdXNlIGF1ZGlvL3ZpZGVvIGVsZW1lbnQgbm90IHBsYXlpbmcgYXV0b21hdGljYWxseSBvbiBzb21lIGJyb3dzZXJzIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbiwgcG9zc2libHkgaHVydGluZyB1c2VyIGV4cGVyaWVuY2VzLlxcblxcbiAgUGxlYXNlIHJlZmVyIHRvIHRoZSBBZ29yYSBkb2N1bWVudCB0byBwcm9wZXJseSBoYW5kbGUgYXV0b3BsYXkgZmFpbGVkIGV2ZW50LCBodHRwczovL2RvY3MuYWdvcmEuaW8vZW4vVm9pY2UvYXV0b3BsYXlfcG9saWN5X3dlYl9uZz9wbGF0Zm9ybT1XZWIgLlwiKSxrTC5lbWl0KFwiYXV0b3BsYXktZmFpbGVkXCIpfX1mdW5jdGlvbiBVTChlLHQsaSxuKXtpZighZSlyZXR1cm47Y29uc3Qgcj1sUC5nZXRCYXNlSW5mb0J5U2Vzc2lvbklkKGUpO2lmKCFyKXJldHVybjtjb25zdCBvPXIuaW5mbyxzPURhdGUubm93KCksYT1jTChjTCh7fSxvKSx7fSx7dmlkOnZvaWQgMD09PW8udmlkPzA6TnVtYmVyKG8udmlkKSxsdHM6cyxlbGFwc2U6cy1yLnN0YXJ0VGltZSxjYlJlZ2lzdGVyZWQ6a0wub25BdXRvcGxheUZhaWxlZHx8a0wub25BdWRpb0F1dG9wbGF5RmFpbGVkPzE6LTEsZXJyb3JNc2c6aSxtZWRpYVR5cGU6dCx0cmFja0lkOm4sZXh0ZW5kOnZvaWQgMH0pO2xQLnNlbmQoe3R5cGU6YVAuQVVUT1BMQVlfRkFJTEVELGRhdGE6YX0sITApfWNvbnN0IFZMPVtcInBsYXlcIixcInBsYXlpbmdcIixcImxvYWRlZGRhdGFcIixcImNhbnBsYXlcIixcInBhdXNlXCIsXCJzdGFsbGVkXCIsXCJzdXNwZW5kXCIsXCJ3YWl0aW5nXCIsXCJhYm9ydFwiLFwiZW1wdGllZFwiLFwiZW5kZWRcIixcImVycm9yXCJdLHhMPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3NMKHRoaXMsXCJvbkF1dG9wbGF5RmFpbGVkXCIsdm9pZCAwKSxzTCh0aGlzLFwiZWxlbWVudE1hcFwiLG5ldyBNYXApLHNMKHRoaXMsXCJlbGVtZW50U3RhdGVNYXBcIixuZXcgTWFwKSxzTCh0aGlzLFwiZWxlbWVudHNOZWVkVG9SZXN1bWVcIixbXSksc0wodGhpcyxcInNpbmtJZE1hcFwiLG5ldyBNYXApLHNMKHRoaXMsXCJhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25cIiwoZT0+cnAuYWxsKEFycmF5LmZyb20odGhpcy5lbGVtZW50TWFwLmVudHJpZXMoKSkubWFwKChhc3luYyB0PT57bGV0W2ksbl09dDtjb25zdCByPXRoaXMuZWxlbWVudFN0YXRlTWFwLmdldChpKSxvPW4uc3JjT2JqZWN0LmdldEF1ZGlvVHJhY2tzKClbMF0scz1vJiZvLnJlYWR5U3RhdGU7aWYoaVAuZGVidWcoXCJyZXN1bWUgYWZ0ZXIgaW50ZXJydXB0ZWQsIGVsZTogXCIuY29uY2F0KHIsXCIgYXVkaW86IFwiKS5jb25jYXQocyxcIiBcIikuY29uY2F0KGUpKSxcImxpdmVcIj09PXMpe2lmKGUpcmV0dXJuIG4ucGF1c2UoKSxuLnBsYXkoKTtpZihcInJ1bm5pbmdcIj09PV9MLmN1clN0YXRlKXJldHVybiAkdygpPyhuLnBhdXNlKCksbi5wbGF5KCkpOnImJlwicGF1c2VkXCI9PT1yP24ucGxheSgpOnZvaWQgMH19KSkpKSksc0wodGhpcyxcImF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbk9uSU9TMTVfMTZcIiwoKCk9PntBcnJheS5mcm9tKHRoaXMuZWxlbWVudE1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO2NvbnN0IG49aS5zcmNPYmplY3QuZ2V0QXVkaW9UcmFja3MoKVswXTtuJiZcImxpdmVcIj09PW4ucmVhZHlTdGF0ZSYmKGlQLmRlYnVnKFwiYXV0byByZXN1bWUgYWZ0ZXIgaW50ZXJydXB0aW9uIGluc2lkZSBhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XCIpLGkucGF1c2UoKSxpLnBsYXkoKSl9KSl9KSksdGhpcy5hdXRvUmVzdW1lQXVkaW9FbGVtZW50KCksX0wub24oUlAuSU9TX0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb24pLF9MLm9uKFJQLklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNV8xNiksX0wub24oUlAuU1RBVEVfQ0hBTkdFLCgoKT0+e2p3KCkmJlwic3VzcGVuZGVkXCI9PT1fTC5wcmV2U3RhdGUmJlwicnVubmluZ1wiPT09X0wuY3VyU3RhdGUmJnRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uKCl9KSl9YXN5bmMgc2V0U2lua0lEKGUsdCl7Y29uc3QgaT10aGlzLmVsZW1lbnRNYXAuZ2V0KGUpO2lmKHRoaXMuc2lua0lkTWFwLnNldChlLHQpLGkpdHJ5e2F3YWl0IGkuc2V0U2lua0lkKHQpfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5QRVJNSVNTSU9OX0RFTklFRCxcImNhbiBub3Qgc2V0IHNpbmsgaWQ6IFwiK2UudG9TdHJpbmcoKSl9fXBsYXkoZSx0LGksbil7aWYodGhpcy5lbGVtZW50TWFwLmhhcyh0KSlyZXR1cm47Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7ci5hdXRvcGxheT0hMCxyLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW2VdKSx0aGlzLmJpbmRBdWRpb0VsZW1lbnRFdmVudHModCxyKSx0aGlzLmVsZW1lbnRNYXAuc2V0KHQsciksdGhpcy5lbGVtZW50U3RhdGVNYXAuc2V0KHQsdEwuSU5JVCksdGhpcy5zZXRWb2x1bWUodCxpKTtjb25zdCBvPXRoaXMuc2lua0lkTWFwLmdldCh0KTtpZihvKXRyeXtyLnNldFNpbmtJZChvKS5jYXRjaCgoZT0+e2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHQsXCJdIHNldCBzaW5rIGlkIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpfSkpfWNhdGNoKGUpe2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHQsXCJdIHNldCBzaW5rIGlkIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpfWNvbnN0IHM9ci5wbGF5KCk7cyYmcy50aGVuJiZzLmNhdGNoKChlPT57biYmVUwobixcImF1ZGlvXCIsZS5tZXNzYWdlLHQpLGlQLndhcm5pbmcoXCJhdWRpbyBlbGVtZW50IHBsYXkgd2FybmluZ1wiLGUudG9TdHJpbmcoKSksdGhpcy5lbGVtZW50TWFwLmhhcyh0KSYmXCJOb3RBbGxvd2VkRXJyb3JcIj09PWUubmFtZSYmKGlQLndhcm5pbmcoXCJkZXRlY3RlZCBhdWRpbyBlbGVtZW50IGF1dG9wbGF5IGZhaWxlZFwiKSx0aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lLnB1c2gociksb04oKCgpPT57dGhpcy5vbkF1dG9wbGF5RmFpbGVkJiZ0aGlzLm9uQXV0b3BsYXlGYWlsZWQoKSxNTCgpfSkpKX0pKX11cGRhdGVUcmFjayhlLHQpe2NvbnN0IGk9dGhpcy5lbGVtZW50TWFwLmdldChlKTtpJiYoaS5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFt0XSkpfWlzUGxheWluZyhlKXtyZXR1cm4gdGhpcy5lbGVtZW50TWFwLmhhcyhlKSYmXCJwbGF5aW5nXCI9PT10aGlzLmVsZW1lbnRTdGF0ZU1hcC5nZXQoZSl9c2V0Vm9sdW1lKGUsdCl7Y29uc3QgaT10aGlzLmVsZW1lbnRNYXAuZ2V0KGUpO2kmJih0PU1hdGgubWF4KDAsTWF0aC5taW4oMTAwLHQpKSxpLnZvbHVtZT10LzEwMCl9Z2V0Vm9sdW1lKGUpe2NvbnN0IHQ9dGhpcy5lbGVtZW50TWFwLmdldChlKTtyZXR1cm4gdD90LnZvbHVtZTowfXN0b3AoZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRNYXAuZ2V0KGUpO2lmKHRoaXMuc2lua0lkTWFwLmRlbGV0ZShlKSwhdClyZXR1cm47Y29uc3QgaT10aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lLmluZGV4T2YodCk7dGhpcy5lbGVtZW50c05lZWRUb1Jlc3VtZS5zcGxpY2UoaSwxKSx0LnNyY09iamVjdD1udWxsLHQucmVtb3ZlKCksdGhpcy5lbGVtZW50TWFwLmRlbGV0ZShlKSx0aGlzLmVsZW1lbnRTdGF0ZU1hcC5kZWxldGUoZSl9YmluZEF1ZGlvRWxlbWVudEV2ZW50cyhlLHQpe1ZMLmZvckVhY2goKGk9Pnt0LmFkZEV2ZW50TGlzdGVuZXIoaSwoaT0+e2NvbnN0IG49dGhpcy5lbGVtZW50U3RhdGVNYXAuZ2V0KGUpLHI9XCJwYXVzZVwiPT09aS50eXBlP1wicGF1c2VkXCI6aS50eXBlO2lmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdChlLFwiXSBhdWRpby1lbGVtZW50LXN0YXR1cyBjaGFuZ2UgXCIpLmNvbmNhdChuLFwiID0+IFwiKS5jb25jYXQocikpLFwiZXJyb3JcIj09PWkudHlwZSl7Y29uc3QgaT1udWxsPT10P3ZvaWQgMDp0LmVycm9yO2kmJmlQLmVycm9yKFwiW1wiLmNvbmNhdChlLFwiXSBtZWRpYSBlcnJvciwgY29kZTogXCIpLmNvbmNhdChpLmNvZGUsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQoaS5tZXNzYWdlKSl9dGhpcy5lbGVtZW50U3RhdGVNYXAuc2V0KGUscil9KSl9KSl9Z2V0UGxheWVyU3RhdGUoZSl7cmV0dXJuIHRoaXMuZWxlbWVudFN0YXRlTWFwLmdldChlKXx8XCJ1bmluaXRcIn1hdXRvUmVzdW1lQXVkaW9FbGVtZW50KCl7Y29uc3QgZT0oKT0+e3RoaXMuZWxlbWVudHNOZWVkVG9SZXN1bWUuZm9yRWFjaCgoZT0+e2UucGxheSgpLnRoZW4oKGU9PntpUC5kZWJ1ZyhcIkF1dG8gcmVzdW1lIGF1ZGlvIGVsZW1lbnQgc3VjY2Vzc1wiKX0pKS5jYXRjaCgoZT0+e2lQLndhcm5pbmcoXCJBdXRvIHJlc3VtZSBhdWRpbyBlbGVtZW50IGZhaWxlZCFcIixlKX0pKX0pKSx0aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lPVtdfTtuZXcgcnAoKGU9Pntkb2N1bWVudC5ib2R5P2UoKTp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoKCk9PmUoKSkpfSkpLnRoZW4oKCgpPT57Y08oKT9kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUsITApOihkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZSwhMCkpfSkpfX07ZnVuY3Rpb24gRkwoKXtyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49aS52YWx1ZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYoaS52YWx1ZT1mdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VkJiZuZXcgcE8oaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBjYW5ub3Qgb3BlcmF0ZSBhIGNsb3NlZCB0cmFja1wiKSkucHJpbnQoXCJ3YXJuaW5nXCIsaVApO2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO2NvbnN0IHI9bi5hcHBseSh0aGlzLHQpO3JldHVybiByIGluc3RhbmNlb2YgcnA/bmV3IHJwKCgoZSx0KT0+e3IudGhlbihlKS5jYXRjaCh0KX0pKTpyfSksaX19Y2xhc3MgQkwgZXh0ZW5kcyBOT3tjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHNMKHRoaXMsXCJuYW1lXCIsXCJWaWRlb1Byb2Nlc3NvckRlc3RpbmF0aW9uXCIpLHNMKHRoaXMsXCJJRFwiLFwiMFwiKSxzTCh0aGlzLFwiX3NvdXJjZVwiLHZvaWQgMCksc0wodGhpcyxcInZpZGVvQ29udGV4dFwiLHZvaWQgMCksc0wodGhpcyxcImlucHV0VHJhY2tcIix2b2lkIDApLHRoaXMudmlkZW9Db250ZXh0PWV9Z2V0IGtpbmQoKXtyZXR1cm5cInZpZGVvXCJ9Z2V0IGVuYWJsZWQoKXtyZXR1cm4hMH1waXBlKCl7dGhyb3cgbmV3IHBPKGhPLk5PVF9TVVBQT1JURUQsXCJWaWRlb1Byb2Nlc3NvciBjYW5ub3QgcGlwZSB0byBhbnkgb3RoZXIgUHJvY2Vzc29yXCIpfXVucGlwZSgpe3Rocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiVmlkZW9Qcm9jZXNzb3IgY2Fubm90IHVucGlwZSB0byBhbnkgb3RoZXIgUHJvY2Vzc29yXCIpfWVuYWJsZSgpe31kaXNhYmxlKCl7fXVwZGF0ZUlucHV0KGUpe2lmKGUuY29udGV4dCE9PXRoaXMudmlkZW9Db250ZXh0KXRocm93IG5ldyBFcnJvcihcIlByb2Nlc3NvckNvbnRleHQgcGFzc2VkIHRvIFZpZGVvVHJhY2sucHJvY2Vzc29yRGVzdGluYXRpb24gZG9lc24ndCBtYXRjaCBpdCdzIGJlbG9uZ2luZyBWaWRlb1RyYWNrJ3MgY29udGV4dC5cXG5Qcm9iYWJseSB5b3UgYXJlIG1ha2luZyBwaXBlbGluZSBsaWtlIHRoaXM6XFxudmlkZW9UcmFjazEucGlwZShwcm9jZXNzb3IpLnBpcGUodmlkZW9UcmFjazIucHJvY2Vzc29yRGVzdGluYXRpb24pLlwiKTtlLnRyYWNrJiZlLnRyYWNrIT09dGhpcy5pbnB1dFRyYWNrJiYodGhpcy52aWRlb0NvbnRleHQuY2hhaW5lZD0hMCx0aGlzLmlucHV0VHJhY2s9ZS50cmFjayx0aGlzLmVtaXQoUVAuT05fVFJBQ0ssZS50cmFjaykpfXJlc2V0KCl7dGhpcy5pbnB1dFRyYWNrPXZvaWQgMCx0aGlzLnZpZGVvQ29udGV4dC5jaGFpbmVkPSExLHRoaXMuZW1pdChRUC5PTl9UUkFDSyx2b2lkIDApfX1jbGFzcyBqTCBleHRlbmRzIE5Pe3NldCBjaGFpbmVkKGUpe3RoaXMuX2NoYWluZWQ9ZX1nZXQgY2hhaW5lZCgpe3JldHVybiB0aGlzLl9jaGFpbmVkfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxzTCh0aGlzLFwiY29uc3RyYWludHNNYXBcIixuZXcgTWFwKSxzTCh0aGlzLFwic3RhdHNSZWdpc3RyeVwiLFtdKSxzTCh0aGlzLFwidXNhZ2VSZWdpc3RyeVwiLFtdKSxzTCh0aGlzLFwidHJhY2tJZFwiLHZvaWQgMCksc0wodGhpcyxcImRpcmVjdGlvblwiLHZvaWQgMCksc0wodGhpcyxcIl9jaGFpbmVkXCIsITEpLHRoaXMudHJhY2tJZD1lLHRoaXMuZGlyZWN0aW9uPXR9YXN5bmMgZ2V0Q29uc3RyYWludHMoKXtyZXR1cm4gYXdhaXQgek8odGhpcyxaUC5SRVFVRVNUX0NPTlNUUkFJTlRTKX1hc3luYyByZXF1ZXN0QXBwbHlDb25zdHJhaW50cyhlLHQpe3ZhciBpO3JldHVybiBpUC5pbmZvKFwicHJvY2Vzc29yIFwiLmNvbmNhdCh0Lm5hbWUsXCIgcmVxdWVzdEFwcGx5Q29uc3RyYWludHMgZm9yIFwiKS5jb25jYXQodGhpcy50cmFja0lkKSksZSYmdGhpcy5jb25zdHJhaW50c01hcC5zZXQodCxlKSxxTyh0aGlzLFpQLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLEFycmF5LmZyb20ocHAoaT10aGlzLmNvbnN0cmFpbnRzTWFwKS5jYWxsKGkpKSl9YXN5bmMgcmVxdWVzdFJldmVydENvbnN0cmFpbnRzKGUpe3ZhciB0O2lmKHRoaXMuY29uc3RyYWludHNNYXAuaGFzKGUpKXJldHVybiBpUC5pbmZvKFwicHJvY2Vzc29yIFwiLmNvbmNhdChlLm5hbWUsXCIgcmVxdWVzdFJldmVydENvbnN0cmFpbnRzIGZvciBcIikuY29uY2F0KHRoaXMudHJhY2tJZCkpLHRoaXMuY29uc3RyYWludHNNYXAuZGVsZXRlKGUpLHFPKHRoaXMsWlAuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMsQXJyYXkuZnJvbShwcCh0PXRoaXMuY29uc3RyYWludHNNYXApLmNhbGwodCkpKX1yZWdpc3RlclN0YXRzKGUsdCxpKXt0aGlzLnN0YXRzUmVnaXN0cnkuZmluZCgoaT0+aS5wcm9jZXNzb3JJRD09PWUuSUQmJmkucHJvY2Vzc29yTmFtZT09PWUubmFtZSYmaS50eXBlPT09dCkpfHx0aGlzLnN0YXRzUmVnaXN0cnkucHVzaCh7cHJvY2Vzc29yTmFtZTplLm5hbWUscHJvY2Vzc29ySUQ6ZS5JRCx0eXBlOnQsY2I6aX0pfXVucmVnaXN0ZXJTdGF0cyhlLHQpe2NvbnN0IGk9dGhpcy5zdGF0c1JlZ2lzdHJ5LmZpbmRJbmRleCgoaT0+aS5wcm9jZXNzb3JJRD09PWUuSUQmJmkucHJvY2Vzc29yTmFtZT09PWUubmFtZSYmaS50eXBlPT09dCkpOy0xIT09aSYmdGhpcy5zdGF0c1JlZ2lzdHJ5LnNwbGljZShpLDEpfWdhdGhlclN0YXRzKCl7Y29uc3QgZT1bXTtmb3IoY29uc3R7cHJvY2Vzc29ySUQ6dCxwcm9jZXNzb3JOYW1lOmksdHlwZTpuLGNiOnJ9b2YgdGhpcy5zdGF0c1JlZ2lzdHJ5KXRyeXtjb25zdCBvPXIoKTtlLnB1c2goe3Byb2Nlc3NvcklEOnQscHJvY2Vzc29yTmFtZTppLHR5cGU6bixzdGF0czpvfSl9Y2F0Y2goZSl7aVAuZXJyb3IobmV3IHBPKGhPLlVORVhQRUNURURfRVJST1IsZS5tZXNzYWdlKSl9cmV0dXJuIGV9cmVnaXN0ZXJVc2FnZShlLHQpe3RoaXMudXNhZ2VSZWdpc3RyeS5maW5kKCh0PT50LnByb2Nlc3NvcklEPT09ZS5JRCYmdC5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lKSl8fHRoaXMudXNhZ2VSZWdpc3RyeS5wdXNoKHtwcm9jZXNzb3JJRDplLklELHByb2Nlc3Nvck5hbWU6ZS5uYW1lLGNiOnR9KX11bnJlZ2lzdGVyVXNhZ2UoZSl7Y29uc3QgdD10aGlzLnVzYWdlUmVnaXN0cnkuZmluZEluZGV4KCh0PT50LnByb2Nlc3NvcklEPT09ZS5JRCYmdC5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lKSk7LTEhPT10JiZ0aGlzLnVzYWdlUmVnaXN0cnkuc3BsaWNlKHQsMSl9YXN5bmMgZ2F0aGVyVXNhZ2UoKXtjb25zdCBlPVtdO2lmKCF0aGlzLmNoYWluZWQpcmV0dXJuW107Zm9yKGNvbnN0e2NiOnR9b2YgdGhpcy51c2FnZVJlZ2lzdHJ5KXRyeXtsZXQgaT10KCk7aSBpbnN0YW5jZW9mIHJwJiYoaT1hd2FpdCBpKSxlLnB1c2goY0woY0woe30saSkse30se2RpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbn0pKX1jYXRjaChlKXtpUC5lcnJvcihcImdhdGhlciBleHRlbnNpb24gdXNhZ2UgZXJyb3JcIixlKX1yZXR1cm4gZX1nZXREaXJlY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3Rpb259fWNsYXNzIEdMIGV4dGVuZHMgTk97Y29uc3RydWN0b3IoZSl7c3VwZXIoKSxzTCh0aGlzLFwibmFtZVwiLFwiQXVkaW9Qcm9jZXNzb3JEZXN0aW5hdGlvblwiKSxzTCh0aGlzLFwiSURcIixcIjBcIiksc0wodGhpcyxcImlucHV0VHJhY2tcIix2b2lkIDApLHNMKHRoaXMsXCJpbnB1dE5vZGVcIix2b2lkIDApLHNMKHRoaXMsXCJhdWRpb1Byb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLHNMKHRoaXMsXCJfc291cmNlXCIsdm9pZCAwKSx0aGlzLmF1ZGlvUHJvY2Vzc29yQ29udGV4dD1lfWdldCBraW5kKCl7cmV0dXJuXCJhdWRpb1wifWdldCBlbmFibGVkKCl7cmV0dXJuITB9cGlwZSgpe3Rocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiQXVkaW9Qcm9jZXNzb3JEZXN0aW5hdGlvbiBjYW5ub3QgcGlwZSB0byBhbnkgb3RoZXIgUHJvY2Vzc29yXCIpfXVucGlwZSgpe3Rocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiQXVkaW9Qcm9jZXNzb3IgY2Fubm90IHVucGlwZSB0byBhbnkgb3RoZXIgUHJvY2Vzc29yXCIpfWVuYWJsZSgpe31kaXNhYmxlKCl7fXJlc2V0KCl7dGhpcy5pbnB1dFRyYWNrPXZvaWQgMCx0aGlzLmlucHV0Tm9kZT12b2lkIDAsdGhpcy5hdWRpb1Byb2Nlc3NvckNvbnRleHQuY2hhaW5lZD0hMSx0aGlzLmVtaXQoUVAuT05fVFJBQ0ssdm9pZCAwKSx0aGlzLmVtaXQoUVAuT05fTk9ERSx2b2lkIDApfXVwZGF0ZUlucHV0KGUpe2lmKGUuY29udGV4dCE9PXRoaXMuYXVkaW9Qcm9jZXNzb3JDb250ZXh0KXRocm93IG5ldyBFcnJvcihcIlByb2Nlc3NvckNvbnRleHQgcGFzc2VkIHRvIEF1ZGlvVHJhY2sucHJvY2Vzc29yRGVzdGluYXRpb24gZG9lc24ndCBtYXRjaCBpdCdzIGJlbG9uZ2luZyBBdWRpb1RyYWNrJ3MgY29udGV4dC5cXG4gICAgICAgIFByb2JhYmx5IHlvdSBhcmUgbWFraW5nIHBpcGVsaW5lIGxpa2UgdGhpczogYXVkaW9UcmFjazEucGlwZShwcm9jZXNzb3IpLnBpcGUoYXVkaW9UcmFjazIucHJvY2Vzc29yRGVzdGluYXRpb24pLlwiKTtlLnRyYWNrJiZ0aGlzLmlucHV0VHJhY2shPT1lLnRyYWNrJiYodGhpcy5hdWRpb1Byb2Nlc3NvckNvbnRleHQuY2hhaW5lZD0hMCx0aGlzLmlucHV0VHJhY2s9ZS50cmFjayx0aGlzLmVtaXQoUVAuT05fVFJBQ0ssdGhpcy5pbnB1dFRyYWNrKSksZS5ub2RlJiZ0aGlzLmlucHV0Tm9kZSE9PWUubm9kZSYmKHRoaXMuYXVkaW9Qcm9jZXNzb3JDb250ZXh0LmNoYWluZWQ9ITAsdGhpcy5pbnB1dE5vZGU9ZS5ub2RlLHRoaXMuZW1pdChRUC5PTl9OT0RFLHRoaXMuaW5wdXROb2RlKSl9fWNsYXNzIFdMIGV4dGVuZHMgTk97c2V0IGNoYWluZWQoZSl7dGhpcy5fY2hhaW5lZD1lfWdldCBjaGFpbmVkKCl7cmV0dXJuIHRoaXMuX2NoYWluZWR9Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKCksc0wodGhpcyxcImNvbnN0cmFpbnRzTWFwXCIsbmV3IE1hcCksc0wodGhpcyxcInN0YXRzUmVnaXN0cnlcIixbXSksc0wodGhpcyxcImF1ZGlvQ29udGV4dFwiLHZvaWQgMCksc0wodGhpcyxcInRyYWNrSWRcIix2b2lkIDApLHNMKHRoaXMsXCJkaXJlY3Rpb25cIix2b2lkIDApLHNMKHRoaXMsXCJ1c2FnZVJlZ2lzdHJ5XCIsW10pLHNMKHRoaXMsXCJfY2hhaW5lZFwiLCExKSx0aGlzLmF1ZGlvQ29udGV4dD1lLHRoaXMudHJhY2tJZD10LHRoaXMuZGlyZWN0aW9uPWl9YXN5bmMgZ2V0Q29uc3RyYWludHMoKXtyZXR1cm4gek8odGhpcyxaUC5SRVFVRVNUX0NPTlNUUkFJTlRTKX1nZXRBdWRpb0NvbnRleHQoKXtyZXR1cm4gdGhpcy5hdWRpb0NvbnRleHR9YXN5bmMgcmVxdWVzdEFwcGx5Q29uc3RyYWludHMoZSx0KXt2YXIgaTtyZXR1cm4gaVAuaW5mbyhcInByb2Nlc3NvciBcIi5jb25jYXQodC5uYW1lLFwiIHJlcXVlc3RBcHBseUNvbnN0cmFpbnRzIGZvciBcIikuY29uY2F0KHRoaXMudHJhY2tJZCkpLGUmJnRoaXMuY29uc3RyYWludHNNYXAuc2V0KHQsZSkscU8odGhpcyxaUC5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUyxBcnJheS5mcm9tKHBwKGk9dGhpcy5jb25zdHJhaW50c01hcCkuY2FsbChpKSkpfWFzeW5jIHJlcXVlc3RSZXZlcnRDb25zdHJhaW50cyhlKXt2YXIgdDtpZih0aGlzLmNvbnN0cmFpbnRzTWFwLmhhcyhlKSlyZXR1cm4gdGhpcy5jb25zdHJhaW50c01hcC5kZWxldGUoZSkscU8odGhpcyxaUC5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUyxBcnJheS5mcm9tKHBwKHQ9dGhpcy5jb25zdHJhaW50c01hcCkuY2FsbCh0KSkpfXJlZ2lzdGVyU3RhdHMoZSx0LGkpe3RoaXMuc3RhdHNSZWdpc3RyeS5maW5kKChpPT5pLnByb2Nlc3NvcklEPT09ZS5JRCYmaS5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lJiZpLnR5cGU9PT10KSl8fHRoaXMuc3RhdHNSZWdpc3RyeS5wdXNoKHtwcm9jZXNzb3JOYW1lOmUubmFtZSxwcm9jZXNzb3JJRDplLklELHR5cGU6dCxjYjppfSl9dW5yZWdpc3RlclN0YXRzKGUsdCl7Y29uc3QgaT10aGlzLnN0YXRzUmVnaXN0cnkuZmluZEluZGV4KChpPT5pLnByb2Nlc3NvcklEPT09ZS5JRCYmaS5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lJiZpLnR5cGU9PT10KSk7LTEhPT1pJiZ0aGlzLnN0YXRzUmVnaXN0cnkuc3BsaWNlKGksMSl9Z2F0aGVyU3RhdHMoKXtjb25zdCBlPVtdO2Zvcihjb25zdHtwcm9jZXNzb3JJRDp0LHByb2Nlc3Nvck5hbWU6aSx0eXBlOm4sY2I6cn1vZiB0aGlzLnN0YXRzUmVnaXN0cnkpdHJ5e2NvbnN0IG89cigpO2UucHVzaCh7cHJvY2Vzc29ySUQ6dCxwcm9jZXNzb3JOYW1lOmksdHlwZTpuLHN0YXRzOm99KX1jYXRjaChlKXtpUC5lcnJvcihuZXcgcE8oaE8uVU5FWFBFQ1RFRF9FUlJPUixlLm1lc3NhZ2UpKX1yZXR1cm4gZX1yZWdpc3RlclVzYWdlKGUsdCl7dGhpcy51c2FnZVJlZ2lzdHJ5LmZpbmQoKHQ9PnQucHJvY2Vzc29ySUQ9PT1lLklEJiZ0LnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpKXx8dGhpcy51c2FnZVJlZ2lzdHJ5LnB1c2goe3Byb2Nlc3NvcklEOmUuSUQscHJvY2Vzc29yTmFtZTplLm5hbWUsY2I6dH0pfXVucmVnaXN0ZXJVc2FnZShlKXtjb25zdCB0PXRoaXMudXNhZ2VSZWdpc3RyeS5maW5kSW5kZXgoKHQ9PnQucHJvY2Vzc29ySUQ9PT1lLklEJiZ0LnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpKTstMSE9PXQmJnRoaXMudXNhZ2VSZWdpc3RyeS5zcGxpY2UodCwxKX1hc3luYyBnYXRoZXJVc2FnZSgpe2NvbnN0IGU9W107aWYoIXRoaXMuY2hhaW5lZClyZXR1cm5bXTtmb3IoY29uc3R7Y2I6dH1vZiB0aGlzLnVzYWdlUmVnaXN0cnkpdHJ5e2xldCBpPXQoKTtpIGluc3RhbmNlb2YgcnAmJihpPWF3YWl0IGkpLGUucHVzaChjTChjTCh7fSxpKSx7fSx7ZGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9ufSkpfWNhdGNoKGUpe2lQLmVycm9yKFwiZ2F0aGVyIGV4dGVuc2lvbiB1c2FnZSBlcnJvclwiLGUpfXJldHVybiBlfWdldERpcmVjdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdGlvbn19Y2xhc3MgSEwgZXh0ZW5kcyBOT3tnZXQgaXNQbGF5ZWQoKXtyZXR1cm4hMH1nZXQgaXNGcmVlemUoKXtyZXR1cm4hMX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksc0wodGhpcyxcImNvbnRleHRcIix2b2lkIDApLHNMKHRoaXMsXCJwcm9jZXNzU291cmNlTm9kZVwiLHZvaWQgMCksc0wodGhpcyxcIm91dHB1dFRyYWNrXCIsdm9pZCAwKSxzTCh0aGlzLFwicHJvY2Vzc2VkTm9kZVwiLHZvaWQgMCksc0wodGhpcyxcImNsb25lZFRyYWNrXCIsdm9pZCAwKSxzTCh0aGlzLFwib3V0cHV0Tm9kZVwiLHZvaWQgMCksdGhpcy5vdXRwdXROb2RlPW5ldyBLTH1zZXRWb2x1bWUoKXt9Y3JlYXRlT3V0cHV0VHJhY2soKXt0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgY3JlYXRlIG91dHB1dCBNZWRpYVN0cmVhbVRyYWNrIHdoZW4gV2ViQXVkaW8gZGlzYWJsZWRcIil9Z2V0T3JpZ2luVm9sdW1lTGV2ZWwoKXtyZXR1cm4gMH1nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCl7cmV0dXJuIDB9c3RvcEdldEF1ZGlvQnVmZmVyKCl7fXN0YXJ0R2V0QXVkaW9CdWZmZXIoKXt9cGxheSgpe31zdG9wKCl7fWRlc3Ryb3koKXt9dXBkYXRlVHJhY2soKXt9dXBkYXRlT3JpZ2luVHJhY2soKXt9Y3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2VOb2RlKCl7fX1jbGFzcyBLTHtkaXNjb25uZWN0KCl7fWNvbm5lY3QoKXt9fWZ1bmN0aW9uIFlMKGUpe3JldHVybiBuZXcgcnAoKCh0LGkpPT57bGV0IG49ITE7Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7ci5zZXRBdHRyaWJ1dGUoXCJhdXRvcGxheVwiLFwiXCIpLHIuc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSxyLm11dGVkPSEwLHIuYXV0b3BsYXk9ITAsci5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLHIuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcInBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFweFwiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHIpO2NvbnN0IG89ancoKT9cImNhbnBsYXlcIjpcInBsYXlpbmdcIjtyLmFkZEV2ZW50TGlzdGVuZXIobywoKCk9Pntjb25zdCBlPXIudmlkZW9XaWR0aCxpPXIudmlkZW9IZWlnaHQ7IWUmJkJ3KCl8fChuPSEwLHIuc3JjT2JqZWN0PW51bGwsci5yZW1vdmUoKSx0KFtlLGldKSl9KSksci5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtlXSksci5wbGF5KCkuY2F0Y2goVE4pLHNldFRpbWVvdXQoKCgpPT57bnx8KHIuc3JjT2JqZWN0PW51bGwsci5yZW1vdmUoKSx0KFtyLnZpZGVvV2lkdGgsci52aWRlb0hlaWdodF0pKX0pLDRlMyl9KSl9ZnVuY3Rpb24gekwoZSl7Y29uc3QgdD17fTtlLmZhY2luZ01vZGUmJih0LmZhY2luZ01vZGU9ZS5mYWNpbmdNb2RlKSxlLmNhbWVyYUlkJiYodC5kZXZpY2VJZD17ZXhhY3Q6ZS5jYW1lcmFJZH0pO2NvbnN0IGk9T1AoZS5lbmNvZGVyQ29uZmlnKTtyZXR1cm4gbnVsbCE9aS53aWR0aCYmKHQud2lkdGg9aS53aWR0aCksbnVsbCE9aS5oZWlnaHQmJih0LmhlaWdodD1pLmhlaWdodCksIXJPKCkmJmkuZnJhbWVSYXRlJiYodC5mcmFtZVJhdGU9aS5mcmFtZVJhdGUpLEZ3KCkmJlwib2JqZWN0XCI9PXR5cGVvZiB0LmZyYW1lUmF0ZSYmKHQuZnJhbWVSYXRlLm1heD02MCksQncoKSYmKHQuZnJhbWVSYXRlPXtpZGVhbDozMCxtYXg6MzB9KSx0fWZ1bmN0aW9uIHFMKGUpe2NvbnN0IHQ9e307cmV0dXJuIHJPKCl8fCh2b2lkIDAhPT1lLkFHQyYmKHQuYXV0b0dhaW5Db250cm9sPWUuQUdDKSx2b2lkIDAhPT1lLkFFQyYmKHQuZWNob0NhbmNlbGxhdGlvbj1lLkFFQyksdm9pZCAwIT09ZS5BTlMmJih0Lm5vaXNlU3VwcHJlc3Npb249ZS5BTlMsVXcoKSYmZS5BTlMmJih0Lmdvb2dIaWdocGFzc0ZpbHRlcj1lLkFOUykpKSx0fWZ1bmN0aW9uIFhMKGUpe2NvbnN0IHQ9cUwoZSk7aWYoZS5lbmNvZGVyQ29uZmlnKXtjb25zdCBpPUxQKGUuZW5jb2RlckNvbmZpZyk7dC5jaGFubmVsQ291bnQ9aS5zdGVyZW8/MjoxLHQuc2FtcGxlUmF0ZT1pLnNhbXBsZVJhdGUsdC5zYW1wbGVTaXplPWkuc2FtcGxlU2l6ZX1yZXR1cm4gZS5taWNyb3Bob25lSWQmJih0LmRldmljZUlkPXtleGFjdDplLm1pY3JvcGhvbmVJZH0pLGFPKCkmJih0LnNhbXBsZVJhdGU9dm9pZCAwKSx0fWNvbnN0IEpMPWU9Pntjb25zdCB0PWUuX2VuY29kZXJDb25maWc7aWYoIXQpcmV0dXJuO2NvbnN0e2ZyYW1lUmF0ZTppLHdpZHRoOm4saGVpZ2h0OnJ9PWUuZ2V0TWVkaWFTdHJlYW1UcmFja1NldHRpbmdzKCk7bGV0e2ZyYW1lUmF0ZTpvPWksd2lkdGg6cz1uLGhlaWdodDphPXJ9PXQ7aWYoIW98fCFzfHwhYSlyZXR1cm47cz1BTihzKSxhPUFOKGEpLG89QU4obyk7Y29uc3R7bWF4OmMsbWluOmR9PWZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPTIwMCpNYXRoLnBvdyhpLzE1LC42KSpNYXRoLnBvdyhlKnQvNjQwLzM2MCwuNzUpO3JldHVybnttaW46TWF0aC5mbG9vcihuKSxtYXg6TWF0aC5mbG9vcig0Km4pfX0ocyxhLG8pLHtiaXRyYXRlTWF4OmwsYml0cmF0ZU1pbjp1fT10fHx7fTtsfHxpUC5kZWJ1ZyhcImNhbGN1bGF0ZSBiaXRyYXRlOiBbdzogXCIuY29uY2F0KHMsXCIsIGg6IFwiKS5jb25jYXQoYSxcIiwgZnBzOiBcIikuY29uY2F0KG8sXCJdID0+IFtick1heDogXCIpLmNvbmNhdChsLFwiLCBick1pbjogXCIpLmNvbmNhdCh1LFwiXVwiKSk7Y29uc3R7bWF4RnJhbWVyYXRlOmh9PUNEKFwiRU5DT0RFUl9DT05GSUdfTElNSVRcIik7cmV0dXJuIGgmJlwibnVtYmVyXCI9PXR5cGVvZiBoJiYobz1NYXRoLm1pbihvLGgpKSx7ZnJhbWVSYXRlOm8sYml0cmF0ZU1heDpsfHxjLGJpdHJhdGVNaW46dXx8ZCxzY2FsZVJlc29sdXRpb25Eb3duQnk6MSxzY2FsZTowfX0sUUw9YXN5bmMoZSx0LGkpPT5hd2FpdChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKz0yKXQucHVzaChwYXJzZUludChlLnNsaWNlKGksaSsyKSwxNikpO3JldHVybiBVaW50OEFycmF5LmZyb20odCl9KE9OKFwiXCIrdCtpKSkuc2xpY2UoMCwxNikscj1uLnNsaWNlKDAsMTIpLG89YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIsbixcIkFFUy1HQ01cIiwhMCxbXCJlbmNyeXB0XCJdKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZTpcIkFFUy1HQ01cIixpdjpyfSxvLGUpKX0pKGUuYnVmZmVyLHQsaSksWkw9ZT0+e2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gdC53aWR0aD0yLHQuaGVpZ2h0PTIsbmV3IHJwKCgoaSxuKT0+e3QudG9CbG9iKChhc3luYyBlPT57aWYodC5yZW1vdmUoKSxlKXtjb25zdCBuPWF3YWl0ICRMKGUpO2koe2J1ZmZlcjpuLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fSl9ZWxzZSBuKG5ldyBwTyhoTy5DT05WRVJUSU5HX1ZJREVPX0ZSQU1FX1RPX0JMT0JfRkFJTEVEKSl9KSxlLDEpfSkpfSwkTD1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBlLmFycmF5QnVmZmVyKCk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHQpfTt2YXIgZWssdGssaWssbmsscmssb2ssc2ssYWssY2ssZGssbGssdWssaGsscGssX2ssRWssbWssZmssU2ssZ2ssVGssUmssQ2ssdmsseWssSWssQWssYmssd2ssT2ssTmssRGssUGssTGssa2ssTWssVWssVmsseGssRms7bGV0IEJrPShlaz1kUCh7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdLHRocm90dGxlVGltZTozMDB9KSx0az1kUCh7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksaWs9RkwoKSxuaz1MTihcIkxvY2FsQXVkaW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxyaz1kUCh7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksb2s9RkwoKSxzaz1MTihcIkxvY2FsQXVkaW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxhaz1kUCh7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksY2s9RkwoKSxkaz1GTCgpLGxrPUZMKCksdWs9ZFAoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLGhrPUZMKCkscGs9ZFAoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLF9rPUZMKCksRWs9ZFAoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLG1rPWRQKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdC5uYW1lXX0pLGZrPWRQKHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxvTCgoU2s9Y2xhc3MgZXh0ZW5kcyBsTHtnZXQgX3NvdXJjZSgpe3JldHVybiB0aGlzLmluaXRXZWJBdWRpbygpfXNldCBfc291cmNlKGUpe3RoaXMuX3RyYWNrU291cmNlPWV9Z2V0IHByb2Nlc3NvckNvbnRleHQoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dHx8KHRoaXMuX3Byb2Nlc3NvckNvbnRleHQ9dGhpcy5pbml0UHJvY2Vzc29yKCkucHJvY2Vzc29yQ29udGV4dCksdGhpcy5fcHJvY2Vzc29yQ29udGV4dH1nZXQgcHJvY2Vzc29yRGVzdGluYXRpb24oKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb258fCh0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbj10aGlzLmluaXRQcm9jZXNzb3IoKS5wcm9jZXNzb3JEZXN0aW5hdGlvbiksdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb259Z2V0IGlzUGxheWluZygpe3JldHVybiB0aGlzLl91c2VBdWRpb0VsZW1lbnQ/eEwuaXNQbGF5aW5nKHRoaXMuZ2V0VHJhY2tJZCgpKTp0aGlzLl9zb3VyY2UuaXNQbGF5ZWR9Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIkxvY2FsQXVkaW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKGUsaSksc0wodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsSFAuQVVESU8pLHNMKHRoaXMsXCJfZW5jb2RlckNvbmZpZ1wiLHZvaWQgMCksc0wodGhpcyxcIl90cmFja1NvdXJjZVwiLHZvaWQgMCksc0wodGhpcyxcIm1ldGFkYXRhXCIsW10pLHNMKHRoaXMsXCJfZW5hYmxlZFwiLCEwKSxzTCh0aGlzLFwiX3ZvbHVtZVwiLDEwMCksc0wodGhpcyxcIl91c2VBdWRpb0VsZW1lbnRcIiwhMCksc0wodGhpcyxcIl9ieXBhc3NXZWJBdWRpb1wiLCExKSxzTCh0aGlzLFwicHJvY2Vzc29yXCIsdm9pZCAwKSxzTCh0aGlzLFwiX3Byb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLHNMKHRoaXMsXCJfcHJvY2Vzc29yRGVzdGluYXRpb25cIix2b2lkIDApLHNMKHRoaXMsXCJfZ2V0T3JpZ2luVm9sdW1lTGV2ZWxcIix2b2lkIDApLHRoaXMuX2VuY29kZXJDb25maWc9dCx0aGlzLl9nZXRPcmlnaW5Wb2x1bWVMZXZlbD0hIW4sdGhpcy5fdHJhY2tTb3VyY2U9bmV3IEhMLENEKFwiRElTQUJMRV9XRUJBVURJT1wiKSYmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvPSEwKSxDRChcIkxPQ0FMX0FVRElPX1RSQUNLX1VTRVNfV0VCX0FVRElPXCIpJiYodGhpcy5fdXNlQXVkaW9FbGVtZW50PSExKSxWdygpJiYhcEw/c2V0VGltZW91dCgoKCk9PnRoaXMuaW5pdFdlYkF1ZGlvKCkpKTp0aGlzLmluaXRXZWJBdWRpbygpfXNldFZvbHVtZShlKXttTyhlLFwidm9sdW1lXCIsMCwxZTMpLHRoaXMuX3ZvbHVtZT1lLHRoaXMuX3NvdXJjZS5zZXRWb2x1bWUoZS8xMDApLHRoaXMuX3VzZUF1ZGlvRWxlbWVudCYmeEwuc2V0Vm9sdW1lKHRoaXMuZ2V0VHJhY2tJZCgpLGUpO3RyeXtpZih0aGlzLl9ieXBhc3NXZWJBdWRpbylyZXR1cm4gdm9pZCBpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldFZvbHVtZSByZXR1cm5lZCBiZWNhdXNlIG5vIHBhc3MgdGhyb3VnaCBXZWJBdWRpby5cIikpO2NvbnN0IGU9dGhpcy5fc291cmNlLmNyZWF0ZU91dHB1dFRyYWNrKCk7dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PWUmJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPWUscU8odGhpcyxVUC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykudGhlbigoKCk9PntpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHJlcGxhY2Ugd2ViIGF1ZGlvIHRyYWNrIHN1Y2Nlc3NcIikpfSkpLmNhdGNoKChlPT57aVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHJlcGxhY2Ugd2ViIGF1ZGlvIHRyYWNrIGZhaWxlZFwiKSxlKX0pKSl9Y2F0Y2goZSl7fX1nZXRWb2x1bWVMZXZlbCgpe3JldHVybiB0aGlzLl9tdXRlZCYmdGhpcy5lbmFibGVkJiZ0aGlzLl9nZXRPcmlnaW5Wb2x1bWVMZXZlbD90aGlzLl9zb3VyY2UuZ2V0T3JpZ2luVm9sdW1lTGV2ZWwoKTp0aGlzLl9zb3VyY2UuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpfWFzeW5jIHNldFBsYXliYWNrRGV2aWNlKGUpe2lmKCF0aGlzLl91c2VBdWRpb0VsZW1lbnR8fCFfUCgpKXRocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwieW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgc2V0dGluZyB0aGUgYXVkaW8gb3V0cHV0IGRldmljZVwiKTthd2FpdCB4TC5zZXRTaW5rSUQodGhpcy5nZXRUcmFja0lkKCksZSl9YXN5bmMgc2V0RW5hYmxlZChlLHQsaSl7cmV0dXJuIHRoaXMuX3NldEVuYWJsZWQoZSx0LGkpfWFzeW5jIF9zZXRFbmFibGVkKGUsdCxpKXtpZighaSl7aWYoZT09PXRoaXMuX2VuYWJsZWQpcmV0dXJuO3RoaXMuc3RhdGVDaGVjayhcImVuYWJsZWRcIixlKX1pZihpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0RW5hYmxlZFwiKSxlKSxlKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITA7dHJ5e2l8fCh0aGlzLl9lbmFibGVkPSEwKSxhd2FpdCBxTyh0aGlzLFVQLk5FRURfRU5BQkxFX1RSQUNLLHRoaXMpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIFwiKS5jb25jYXQoZSxcIiBzdWNjZXNzXCIpKX1jYXRjaChlKXt0aHJvdyBpfHwodGhpcy5fZW5hYmxlZD0hMSksaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIHRydWUgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfX1lbHNle3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMSxpfHwodGhpcy5fZW5hYmxlZD0hMSk7dHJ5e2F3YWl0IHFPKHRoaXMsVVAuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IGl8fCh0aGlzLl9lbmFibGVkPSEwKSxpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2UgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfX19YXN5bmMgc2V0TXV0ZWQoZSl7ZSE9PXRoaXMuX211dGVkJiYodGhpcy5zdGF0ZUNoZWNrKFwibXV0ZWRcIixlKSx0aGlzLl9tdXRlZD1lLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hZSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldCBtdXRlZDogXCIpLmNvbmNhdChlKSksZT9hd2FpdCBxTyh0aGlzLFVQLk5FRURfTVVURV9UUkFDSyx0aGlzKTphd2FpdCBxTyh0aGlzLFVQLk5FRURfVU5NVVRFX1RSQUNLLHRoaXMpKX1nZXRTdGF0cygpe2ROKCgoKT0+e2lQLndhcm5pbmcoXCJbZGVwcmVjYXRlZF0gTG9jYWxBdWRpb1RyYWNrLmdldFN0YXRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCB1c2UgQWdvcmFSVENDbGllbnQuZ2V0TG9jYWxBdWRpb1N0YXRzIGluc3RlYWRcIil9KSxcImxvY2FsQXVkaW9UcmFja0dldFN0YXRzV2FybmluZ1wiKTtyZXR1cm4gWE8odGhpcyxVUC5HRVRfU1RBVFMpfHxjTCh7fSxZUCl9c2V0QXVkaW9GcmFtZUNhbGxiYWNrKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo0MDk2O2lmKCFlKXJldHVybiB0aGlzLl9zb3VyY2UucmVtb3ZlQWxsTGlzdGVuZXJzKEtQLk9OX0FVRElPX0JVRkZFUiksdm9pZCB0aGlzLl9zb3VyY2Uuc3RvcEdldEF1ZGlvQnVmZmVyKCk7dGhpcy5fc291cmNlLnN0YXJ0R2V0QXVkaW9CdWZmZXIodCksdGhpcy5fc291cmNlLnJlbW92ZUFsbExpc3RlbmVycyhLUC5PTl9BVURJT19CVUZGRVIpLHRoaXMuX3NvdXJjZS5vbihLUC5PTl9BVURJT19CVUZGRVIsKHQ9PmUodCkpKX1wbGF5KCl7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBhdWRpbyBwbGF5YmFja1wiKSksdGhpcy5fdXNlQXVkaW9FbGVtZW50PyhpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IGF1ZGlvIHBsYXliYWNrIGluIGVsZW1lbnRcIikpLHhMLnBsYXkodGhpcy5fbWVkaWFTdHJlYW1UcmFjayx0aGlzLmdldFRyYWNrSWQoKSx0aGlzLl92b2x1bWUpKTp0aGlzLl9zb3VyY2UucGxheSgpfXN0b3AoKXtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0b3AgYXVkaW8gcGxheWJhY2tcIikpLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD94TC5zdG9wKHRoaXMuZ2V0VHJhY2tJZCgpKTp0aGlzLl9zb3VyY2Uuc3RvcCgpfWNsb3NlKCl7c3VwZXIuY2xvc2UoKSx0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbiYmdGhpcy51bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cyh0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbiksdGhpcy5fcHJvY2Vzc29yQ29udGV4dCYmdGhpcy51bmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKHRoaXMuX3Byb2Nlc3NvckNvbnRleHQpLHRoaXMudW5waXBlKCksdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb24mJnRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uLl9zb3VyY2UmJnRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uLl9zb3VyY2UudW5waXBlKCksdGhpcy5fc291cmNlLmRlc3Ryb3koKX1fdXBkYXRlUGxheWVyU291cmNlKCl7bGV0IGU9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZSBwbGF5ZXIgc291cmNlIHRyYWNrXCIpKSxlJiZ0aGlzLl9zb3VyY2UudXBkYXRlVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayksdGhpcy5fdXNlQXVkaW9FbGVtZW50JiZ4TC51cGRhdGVUcmFjayh0aGlzLmdldFRyYWNrSWQoKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKX1hc3luYyBfdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLHQpe3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2shPT1lJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCksdCYmdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCksdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX211dGVkJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExKSx0aGlzLnByb2Nlc3NvciYmdGhpcy5fcHJvY2Vzc29yQ29udGV4dCYmdGhpcy5wcm9jZXNzb3IudXBkYXRlSW5wdXQoe3RyYWNrOmUsY29udGV4dDp0aGlzLl9wcm9jZXNzb3JDb250ZXh0fSksdGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX3NvdXJjZS5vdXRwdXRUcmFjaz8odGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLGF3YWl0IHFPKHRoaXMsVVAuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMpKTp0aGlzLl9zb3VyY2UudXBkYXRlVHJhY2sodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayksdGhpcy5fZ2V0T3JpZ2luVm9sdW1lTGV2ZWwmJnRoaXMuX3NvdXJjZS51cGRhdGVPcmlnaW5UcmFjayhlKSl9cmVuZXdNZWRpYVN0cmVhbVRyYWNrKGUpe3JldHVybiBycC5yZXNvbHZlKHZvaWQgMCl9cGlwZShlKXtpZih0aGlzLl9ieXBhc3NXZWJBdWRpbyl0aHJvdyBuZXcgcE8oaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4gbm90IHByb2Nlc3MgQXVkaW9UcmFjayB3aGVuIGJ5cGFzc1dlYkF1ZGlvIHNldCB0byB0cnVlLlwiKTtpZih0aGlzLnByb2Nlc3Nvcj09PWUpcmV0dXJuIGU7aWYoZS5fc291cmNlKXRocm93IG5ldyBwTyhoTy5JTlZBTElEX09QRVJBVElPTixcIlByb2Nlc3NvciBcIi5jb25jYXQoZS5uYW1lLFwiIGFscmVhZHkgcGlwZWQsIHBsZWFzZSBjYWxsIHVucGlwZSBiZWZvcmVoYW5kLlwiKSk7cmV0dXJuIHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3I9ZSx0aGlzLnByb2Nlc3Nvci5fc291cmNlPXRoaXMsZS51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxub2RlOnRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pLGV9dW5waXBlKCl7dmFyIGU7aWYoIXRoaXMucHJvY2Vzc29yKXJldHVybjtjb25zdCB0PXRoaXMucHJvY2Vzc29yO251bGw9PT0oZT10aGlzLl9zb3VyY2UucHJvY2Vzc1NvdXJjZU5vZGUpfHx2b2lkIDA9PT1lfHxlLmRpc2Nvbm5lY3QoKSx0aGlzLnByb2Nlc3Nvci5fc291cmNlPSExLHRoaXMucHJvY2Vzc29yPXZvaWQgMCx0LnJlc2V0KCl9YmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKGUpe2Uub24oUVAuT05fVFJBQ0ssKGFzeW5jIGU9PntlP2UhPT10aGlzLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSghMSksdGhpcy5fc291cmNlLnByb2Nlc3NlZE5vZGU9dGhpcy5fc291cmNlLmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlTm9kZShlKSxhd2FpdCBxTyh0aGlzLFVQLk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksYXdhaXQgcU8odGhpcyxVUC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpfSkpLGUub24oUVAuT05fTk9ERSwoZT0+e3RoaXMuX3NvdXJjZS5wcm9jZXNzZWROb2RlPWV9KSl9dW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoZSl7ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoUVAuT05fVFJBQ0spLGUucmVtb3ZlQWxsTGlzdGVuZXJzKFFQLk9OX05PREUpfWJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKGUpe2Uub24oWlAuUkVRVUVTVF9DT05TVFJBSU5UUywoYXN5bmMgZT0+e2UodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5nZXRTZXR0aW5ncygpKX0pKX11bmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKGUpe2UucmVtb3ZlQWxsTGlzdGVuZXJzKFpQLlJFUVVFU1RfQ09OU1RSQUlOVFMpfWluaXRXZWJBdWRpbygpe3JldHVybiB0aGlzLl90cmFja1NvdXJjZSBpbnN0YW5jZW9mIEhMJiYodGhpcy5fdHJhY2tTb3VyY2U9bmV3IFJMKHRoaXMuX21lZGlhU3RyZWFtVHJhY2ssITEsdGhpcy5fZ2V0T3JpZ2luVm9sdW1lTGV2ZWw/dGhpcy5fbWVkaWFTdHJlYW1UcmFjazp2b2lkIDApKSx0aGlzLl90cmFja1NvdXJjZX1pbml0UHJvY2Vzc29yKCl7Y29uc3QgZT1uZXcgV0wodGhpcy5fc291cmNlLmNvbnRleHQsdGhpcy5nZXRUcmFja0lkKCksXCJsb2NhbFwiKSx0PW5ldyBHTChlKTtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dD1lLHRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uPXQsdGhpcy5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cyhlKSx0aGlzLmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cyh0KSx0aGlzLl9zb3VyY2Uub24oS1AuVVBEQVRFX1NPVVJDRSwoKCk9Pnt0aGlzLnByb2Nlc3NvciYmdGhpcy5wcm9jZXNzb3IudXBkYXRlSW5wdXQoe25vZGU6dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlLGNvbnRleHQ6ZX0pfSkpLHRoaXMuX3VzZUF1ZGlvRWxlbWVudCYmKHRoaXMuX3VzZUF1ZGlvRWxlbWVudD0hMSx0aGlzLmlzUGxheWluZyYmKHhMLnN0b3AodGhpcy5nZXRUcmFja0lkKCkpLHRoaXMuX3NvdXJjZS5wbGF5KCkpLHFPKHRoaXMsVVAuTkVFRF9SRVBMQUNFX01JWElOR19UUkFDSyx0aGlzKS50aGVuKCgoKT0+e2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gcmVwbGFjZSBmcm9tIG9yaWdpbiB0cmFjayB0byB3ZWIgYXVkaW8gdHJhY2sgc3VjY2Vzc1wiKSl9KSkuY2F0Y2goKGU9PntpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gcmVwbGFjZSBmcm9tIG9yaWdpbiB0cmFjayB0byB3ZWIgYXVkaW8gdHJhY2sgZmFpbGVkXCIpLGUpfSkpKSx7cHJvY2Vzc29yQ29udGV4dDplLHByb2Nlc3NvckRlc3RpbmF0aW9uOnR9fX0pLnByb3RvdHlwZSxcInNldFZvbHVtZVwiLFtla10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTay5wcm90b3R5cGUsXCJzZXRWb2x1bWVcIiksU2sucHJvdG90eXBlKSxvTChTay5wcm90b3R5cGUsXCJzZXRQbGF5YmFja0RldmljZVwiLFt0ayxpa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTay5wcm90b3R5cGUsXCJzZXRQbGF5YmFja0RldmljZVwiKSxTay5wcm90b3R5cGUpLG9MKFNrLnByb3RvdHlwZSxcInNldEVuYWJsZWRcIixbbmsscmssb2tdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoU2sucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiKSxTay5wcm90b3R5cGUpLG9MKFNrLnByb3RvdHlwZSxcInNldE11dGVkXCIsW3NrLGFrLGNrXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFNrLnByb3RvdHlwZSxcInNldE11dGVkXCIpLFNrLnByb3RvdHlwZSksb0woU2sucHJvdG90eXBlLFwiZ2V0U3RhdHNcIixbZGtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoU2sucHJvdG90eXBlLFwiZ2V0U3RhdHNcIiksU2sucHJvdG90eXBlKSxvTChTay5wcm90b3R5cGUsXCJzZXRBdWRpb0ZyYW1lQ2FsbGJhY2tcIixbbGtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoU2sucHJvdG90eXBlLFwic2V0QXVkaW9GcmFtZUNhbGxiYWNrXCIpLFNrLnByb3RvdHlwZSksb0woU2sucHJvdG90eXBlLFwicGxheVwiLFt1ayxoa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTay5wcm90b3R5cGUsXCJwbGF5XCIpLFNrLnByb3RvdHlwZSksb0woU2sucHJvdG90eXBlLFwic3RvcFwiLFtwayxfa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTay5wcm90b3R5cGUsXCJzdG9wXCIpLFNrLnByb3RvdHlwZSksb0woU2sucHJvdG90eXBlLFwiY2xvc2VcIixbRWtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoU2sucHJvdG90eXBlLFwiY2xvc2VcIiksU2sucHJvdG90eXBlKSxvTChTay5wcm90b3R5cGUsXCJwaXBlXCIsW21rXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFNrLnByb3RvdHlwZSxcInBpcGVcIiksU2sucHJvdG90eXBlKSxvTChTay5wcm90b3R5cGUsXCJ1bnBpcGVcIixbZmtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoU2sucHJvdG90eXBlLFwidW5waXBlXCIpLFNrLnByb3RvdHlwZSksU2spLGprPShnaz1kUCh7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksVGs9RkwoKSxSaz1MTihcIk1pY3JvcGhvbmVBdWRpb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLENrPWRQKHthcmdzTWFwOihlLHQsaSk9PltlLmdldFRyYWNrSWQoKSx0LGldfSksdms9RkwoKSx5az1kUCh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksb0woKElrPWNsYXNzIGV4dGVuZHMgQmt7Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIk1pY3JvcGhvbmVBdWRpb1RyYWNrXCJ9Y29uc3RydWN0b3IoZSx0LGksbil7c3VwZXIoZSx0LmVuY29kZXJDb25maWc/TFAodC5lbmNvZGVyQ29uZmlnKTp7fSxuLENEKFwiR0VUX1ZPTFVNRV9PRl9NVVRFRF9BVURJT19UUkFDS1wiKSksc0wodGhpcyxcIl9jb25maWdcIix2b2lkIDApLHNMKHRoaXMsXCJfZGV2aWNlTmFtZVwiLFwiZGVmYXVsdFwiKSxzTCh0aGlzLFwiX2NvbnN0cmFpbnRzXCIsdm9pZCAwKSxzTCh0aGlzLFwiX29yaWdpbmFsQ29uc3RyYWludHNcIix2b2lkIDApLHNMKHRoaXMsXCJfZW5hYmxlZFwiLCEwKSx0aGlzLl9jb25maWc9dCx0aGlzLl9jb25zdHJhaW50cz1pLHRoaXMuX29yaWdpbmFsQ29uc3RyYWludHM9aSx0aGlzLl9kZXZpY2VOYW1lPWUubGFiZWwsXCJib29sZWFuXCI9PXR5cGVvZiB0LmJ5cGFzc1dlYkF1ZGlvJiYodGhpcy5fYnlwYXNzV2ViQXVkaW89dC5ieXBhc3NXZWJBdWRpbyksKCR3KCl8fGVPKCkpJiZfTC5iaW5kSW50ZXJydXB0RGV0ZWN0b3JUcmFjayh0aGlzKX1hc3luYyBzZXREZXZpY2UoZSl7aWYoaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldCBkZXZpY2UgdG8gXCIpLmNvbmNhdChlKSksdGhpcy5fZW5hYmxlZCl0cnl7Y29uc3QgdD1hd2FpdCBQTC5nZXREZXZpY2VCeUlkKGUpLGk9e307aS5hdWRpbz1jTCh7fSx0aGlzLl9jb25zdHJhaW50cyksaS5hdWRpby5kZXZpY2VJZD17ZXhhY3Q6ZX0sdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCk7bGV0IG49bnVsbDt0cnl7bj1hd2FpdCB3TChpLHRoaXMuZ2V0VHJhY2tJZCgpKX1jYXRjaChlKXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBmYWlsZWRcIiksZS50b1N0cmluZygpKSxuPWF3YWl0IHdMKHthdWRpbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpLGF3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2sobi5nZXRBdWRpb1RyYWNrcygpWzBdLCExKSxlfWF3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2sobi5nZXRBdWRpb1RyYWNrcygpWzBdLCExKSx0aGlzLl9kZXZpY2VOYW1lPXQubGFiZWwsdGhpcy5fY29uZmlnLm1pY3JvcGhvbmVJZD1lLHRoaXMuX2NvbnN0cmFpbnRzLmRldmljZUlkPXtleGFjdDplfX1jYXRjaChlKXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9ZWxzZSB0cnl7Y29uc3QgdD1hd2FpdCBQTC5nZXREZXZpY2VCeUlkKGUpO3RoaXMuX2RldmljZU5hbWU9dC5sYWJlbCx0aGlzLl9jb25maWcubWljcm9waG9uZUlkPWUsdGhpcy5fY29uc3RyYWludHMuZGV2aWNlSWQ9e2V4YWN0OmV9fWNhdGNoKGUpe3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1pUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IGRldmljZSB0byBcIikuY29uY2F0KGUsXCIgc3VjY2Vzc1wiKSl9YXN5bmMgc2V0RW5hYmxlZChlLHQsaSl7aWYodClyZXR1cm4gaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIGZhbHNlIChkbyBub3QgY2xvc2UgbWljcm9waG9uZSlcIikpLGF3YWl0IHN1cGVyLl9zZXRFbmFibGVkKGUpO2lmKCFpKXtpZihlPT09dGhpcy5fZW5hYmxlZClyZXR1cm47dGhpcy5zdGF0ZUNoZWNrKFwiZW5hYmxlZFwiLGUpfWlmKGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXRFbmFibGVkXCIpLGUpLENEKFwiQVVUT19SRVNFVF9BVURJT19ST1VURVwiKSYmKGp3KCl8fGlPKCkpKXtjb25zdCB0PW5hdmlnYXRvci5hdWRpb1Nlc3Npb247dCYmKGV8fCh0LnR5cGU9XCJwbGF5YmFja1wiKSx0LnR5cGU9XCJhdXRvXCIpfWlmKCFlKXt2YXIgbjt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLm9uZW5kZWQ9bnVsbCx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSxudWxsPT09KG49dGhpcy5fc291cmNlLmNsb25lZFRyYWNrKXx8dm9pZCAwPT09bnx8bi5zdG9wKCksaXx8KHRoaXMuX2VuYWJsZWQ9ITEpO3RyeXthd2FpdCBxTyh0aGlzLFVQLk5FRURfRElTQUJMRV9UUkFDSyx0aGlzKX1jYXRjaChlKXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgZmFsc2UgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksZX1yZXR1cm59Y29uc3Qgcj1jTCh7fSx0aGlzLl9jb25zdHJhaW50cyksbz1QTC5zZWFyY2hEZXZpY2VJZEJ5TmFtZSh0aGlzLl9kZXZpY2VOYW1lKTtvJiYhci5kZXZpY2VJZCYmKHIuZGV2aWNlSWQ9byk7dHJ5e2l8fCh0aGlzLl9lbmFibGVkPSEwKTtjb25zdCBlPWF3YWl0IHdMKHthdWRpbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZS5nZXRBdWRpb1RyYWNrcygpWzBdLCExKSxhd2FpdCBxTyh0aGlzLFVQLk5FRURfRU5BQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IGl8fCh0aGlzLl9lbmFibGVkPSExKSxpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdHJ1ZSBmYWlsZWRcIiksZS50b1N0cmluZygpKSxlfWlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHN1Y2Nlc3NcIikpfWNsb3NlKCl7c3VwZXIuY2xvc2UoKSwoJHcoKXx8ZU8oKSkmJl9MLnVuYmluZEludGVycnVwdERldGVjdG9yVHJhY2sodGhpcyksa1Auc29tZSgoZT0+ZnVuY3Rpb24oZSl7cmV0dXJuXCJfX2NsYXNzTmFtZV9fXCJpbiBlJiZcIk1pY3JvcGhvbmVBdWRpb1RyYWNrXCI9PT1lLl9fY2xhc3NOYW1lX199KGUpKSl8fGhMJiZoTCgpJiYobFAucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6XCJCR19BVURJT19UQUdfUkVTVEFSVFwiLG9wdGlvbnM6e30sdGFnOmtPLlRSQUNFUn0pLm9uU3VjY2VzcygpLGlQLmRlYnVnKFwicmVzdGFydCBiYWNrZ3JvdW5kIGF1ZGlvIHRhZyBzdWNjZXNzXCIpKX1vblRyYWNrRW5kZWQoKXtpZigoancoKXx8aU8oKSkmJnRoaXMuX2VuYWJsZWQmJiF0aGlzLl9pc0Nsb3NlZCYmX0wuZHVyaW5nSW50ZXJydXB0aW9uKXtjb25zdCBlPWFzeW5jKCk9PntfTC5vZmYoUlAuSU9TX0lOVEVSUlVQVElPTl9FTkQsZSksdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiYoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB0cnkgY2FwdHVyZSBtaWNyb3Bob25lIG1lZGlhIGRldmljZSBmb3IgaW50ZXJydXB0ZWQgaU9TIGRldmljZS5cIikpLGF3YWl0IHRoaXMuc2V0RW5hYmxlZCghMSksYXdhaXQgdGhpcy5zZXRFbmFibGVkKCEwKSl9O19MLm9uKFJQLklPU19JTlRFUlJVUFRJT05fRU5ELGUpfWVsc2UgaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB0cmFjayBlbmRlZFwiKSksdGhpcy5zYWZlRW1pdChHUC5UUkFDS19FTkRFRCl9YXN5bmMgcmVuZXdNZWRpYVN0cmVhbVRyYWNrKGUpe2NvbnN0IHQ9ZXx8dGhpcy5fY29uc3RyYWludHMsaT1QTC5zZWFyY2hEZXZpY2VJZEJ5TmFtZSh0aGlzLl9kZXZpY2VOYW1lKTtpZihpJiYhdC5kZXZpY2VJZCYmKHQuZGV2aWNlSWQ9aSksdGhpcy5fY29uc3RyYWludHM9dCx0aGlzLl9lbmFibGVkKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTtjb25zdCBlPWF3YWl0IHdMKHthdWRpbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZS5nZXRBdWRpb1RyYWNrcygpWzBdLCEwKX19YmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoZSl7c3VwZXIuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoZSksZS5vbihaUC5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUywoYXN5bmMoZSx0LGkpPT57dHJ5e2NvbnN0IGk9T2JqZWN0LmFzc2lnbih7fSx0aGlzLl9vcmlnaW5hbENvbnN0cmFpbnRzLC4uLmUpO2F3YWl0IHRoaXMucmVuZXdNZWRpYVN0cmVhbVRyYWNrKGkpLHQoKX1jYXRjaChlKXtpKGUpfX0pKX11bmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKGUpe3N1cGVyLnVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoZSksZS5yZW1vdmVBbGxMaXN0ZW5lcnMoWlAuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMpfX0pLnByb3RvdHlwZSxcInNldERldmljZVwiLFtnayxUa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihJay5wcm90b3R5cGUsXCJzZXREZXZpY2VcIiksSWsucHJvdG90eXBlKSxvTChJay5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIsW1JrLENrLHZrXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKElrLnByb3RvdHlwZSxcInNldEVuYWJsZWRcIiksSWsucHJvdG90eXBlKSxvTChJay5wcm90b3R5cGUsXCJjbG9zZVwiLFt5a10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihJay5wcm90b3R5cGUsXCJjbG9zZVwiKSxJay5wcm90b3R5cGUpLElrKSxHaz0oQWs9ZFAoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0LGUuZHVyYXRpb25dfSksYms9RkwoKSx3az1kUCh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksT2s9RkwoKSxOaz1kUCh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksRGs9RkwoKSxQaz1kUCh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksTGs9RkwoKSxraz1kUCh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksTWs9RkwoKSxVaz1kUCh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksVms9ZFAoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLHhrPUZMKCksb0woKEZrPWNsYXNzIGV4dGVuZHMgQmt7Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLHQsaSxuKXtzdXBlcih0LmNyZWF0ZU91dHB1dFRyYWNrKCksaSxuKSxzTCh0aGlzLFwic291cmNlXCIsdm9pZCAwKSxzTCh0aGlzLFwiX2J1ZmZlclNvdXJjZVwiLHZvaWQgMCksdGhpcy5fdXNlQXVkaW9FbGVtZW50PSExLHRoaXMuc291cmNlPWUsdGhpcy5fYnVmZmVyU291cmNlPXQsdGhpcy5fYnVmZmVyU291cmNlLm9uKEtQLkFVRElPX1NPVVJDRV9TVEFURV9DSEFOR0UsKGU9Pnt0aGlzLnNhZmVFbWl0KEdQLlNPVVJDRV9TVEFURV9DSEFOR0UsZSl9KSk7dHJ5e3RoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fc291cmNlLmNyZWF0ZU91dHB1dFRyYWNrKCl9Y2F0Y2goZSl7fX1nZXQgY3VycmVudFN0YXRlKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNvdXJjZS5jdXJyZW50U3RhdGV9Z2V0IGR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNvdXJjZS5kdXJhdGlvbn1nZXQgcGxheWJhY2tTcGVlZCgpe3JldHVybiB0aGlzLl9idWZmZXJTb3VyY2UucGxheWJhY2tTcGVlZH1nZXRDdXJyZW50VGltZSgpe3JldHVybiB0aGlzLl9idWZmZXJTb3VyY2UuY3VycmVudFRpbWV9c3RhcnRQcm9jZXNzQXVkaW9CdWZmZXIoZSl7ZSYmdGhpcy5fYnVmZmVyU291cmNlLnVwZGF0ZU9wdGlvbnMoZSksdGhpcy5fYnVmZmVyU291cmNlLnN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyKCl9cGF1c2VQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLl9idWZmZXJTb3VyY2UucGF1c2VQcm9jZXNzQXVkaW9CdWZmZXIoKX1zZWVrQXVkaW9CdWZmZXIoZSl7dGhpcy5fYnVmZmVyU291cmNlLnNlZWtBdWRpb0J1ZmZlcihlKX1yZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLl9idWZmZXJTb3VyY2UucmVzdW1lUHJvY2Vzc0F1ZGlvQnVmZmVyKCl9c3RvcFByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuX2J1ZmZlclNvdXJjZS5zdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyKCl9Y2xvc2UoKXt0aGlzLnNvdXJjZT1udWxsLHRoaXMuX2J1ZmZlclNvdXJjZS5kZXN0cm95KCksc3VwZXIuY2xvc2UoKX1zZXRBdWRpb0J1ZmZlclBsYXliYWNrU3BlZWQoZSl7bU8oZSxcInNwZWVkXCIsMCksdGhpcy5fYnVmZmVyU291cmNlLnNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZChlKX19KS5wcm90b3R5cGUsXCJzdGFydFByb2Nlc3NBdWRpb0J1ZmZlclwiLFtBayxia10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihGay5wcm90b3R5cGUsXCJzdGFydFByb2Nlc3NBdWRpb0J1ZmZlclwiKSxGay5wcm90b3R5cGUpLG9MKEZrLnByb3RvdHlwZSxcInBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsW3drLE9rXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEZrLnByb3RvdHlwZSxcInBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyXCIpLEZrLnByb3RvdHlwZSksb0woRmsucHJvdG90eXBlLFwic2Vla0F1ZGlvQnVmZmVyXCIsW05rLERrXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEZrLnByb3RvdHlwZSxcInNlZWtBdWRpb0J1ZmZlclwiKSxGay5wcm90b3R5cGUpLG9MKEZrLnByb3RvdHlwZSxcInJlc3VtZVByb2Nlc3NBdWRpb0J1ZmZlclwiLFtQayxMa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihGay5wcm90b3R5cGUsXCJyZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXJcIiksRmsucHJvdG90eXBlKSxvTChGay5wcm90b3R5cGUsXCJzdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsW2trLE1rXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEZrLnByb3RvdHlwZSxcInN0b3BQcm9jZXNzQXVkaW9CdWZmZXJcIiksRmsucHJvdG90eXBlKSxvTChGay5wcm90b3R5cGUsXCJjbG9zZVwiLFtVa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihGay5wcm90b3R5cGUsXCJjbG9zZVwiKSxGay5wcm90b3R5cGUpLG9MKEZrLnByb3RvdHlwZSxcInNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZFwiLFtWayx4a10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihGay5wcm90b3R5cGUsXCJzZXRBdWRpb0J1ZmZlclBsYXliYWNrU3BlZWRcIiksRmsucHJvdG90eXBlKSxGayk7Y2xhc3MgV2sgZXh0ZW5kcyBCa3tnZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiTWl4aW5nQXVkaW9UcmFja1wifWdldCBpc0FjdGl2ZSgpe2Zvcihjb25zdCBlIG9mIHRoaXMudHJhY2tMaXN0KWlmKGUuX2VuYWJsZWQmJiFlLl9pc0Nsb3NlZCYmIWUubXV0ZWQpcmV0dXJuITA7cmV0dXJuITF9Y29uc3RydWN0b3IoKXtjb25zdCBlPUVMKCkuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpO3N1cGVyKGUuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0sdm9pZCAwLFNOKDgsXCJ0cmFjay1taXgtXCIpKSxzTCh0aGlzLFwidHJhY2tMaXN0XCIsdm9pZCAwKSxzTCh0aGlzLFwiZGVzdE5vZGVcIix2b2lkIDApLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD0hMTt0cnl7dGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9zb3VyY2UuY3JlYXRlT3V0cHV0VHJhY2soKX1jYXRjaChlKXt9dGhpcy5kZXN0Tm9kZT1lLHRoaXMudHJhY2tMaXN0PVtdfWhhc0F1ZGlvVHJhY2soZSl7cmV0dXJuLTEhPT10aGlzLnRyYWNrTGlzdC5pbmRleE9mKGUpfWFkZEF1ZGlvVHJhY2soZSl7LTE9PT10aGlzLnRyYWNrTGlzdC5pbmRleE9mKGUpPyhpUC5kZWJ1ZyhcImFkZCBcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCIgdG8gbWl4aW5nIHRyYWNrXCIpKSxlLl9zb3VyY2Uub3V0cHV0Tm9kZS5jb25uZWN0KHRoaXMuZGVzdE5vZGUpLHRoaXMudHJhY2tMaXN0LnB1c2goZSksdGhpcy51cGRhdGVFbmNvZGVyQ29uZmlnKCkpOmlQLmRlYnVnKFwidHJhY2sgXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIGlzIGFscmVhZHkgYWRkZWRcIikpfXJlbW92ZUF1ZGlvVHJhY2soZSl7aWYoLTEhPT10aGlzLnRyYWNrTGlzdC5pbmRleE9mKGUpKXtpUC5kZWJ1ZyhcInJlbW92ZSBcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCIgZnJvbSBtaXhpbmcgdHJhY2tcIikpO3RyeXtlLl9zb3VyY2Uub3V0cHV0Tm9kZS5kaXNjb25uZWN0KHRoaXMuZGVzdE5vZGUpfWNhdGNoKGUpe31uTih0aGlzLnRyYWNrTGlzdCxlKSx0aGlzLnVwZGF0ZUVuY29kZXJDb25maWcoKX19dXBkYXRlRW5jb2RlckNvbmZpZygpe2NvbnN0IGU9e307dGhpcy50cmFja0xpc3QuZm9yRWFjaCgodD0+e3QuX2VuY29kZXJDb25maWcmJigodC5fZW5jb2RlckNvbmZpZy5iaXRyYXRlfHwwKT4oZS5iaXRyYXRlfHwwKSYmKGUuYml0cmF0ZT10Ll9lbmNvZGVyQ29uZmlnLmJpdHJhdGUpLCh0Ll9lbmNvZGVyQ29uZmlnLnNhbXBsZVJhdGV8fDApPihlLnNhbXBsZVJhdGV8fDApJiYoZS5zYW1wbGVSYXRlPXQuX2VuY29kZXJDb25maWcuc2FtcGxlUmF0ZSksKHQuX2VuY29kZXJDb25maWcuc2FtcGxlU2l6ZXx8MCk+KGUuc2FtcGxlU2l6ZXx8MCkmJihlLnNhbXBsZVNpemU9dC5fZW5jb2RlckNvbmZpZy5zYW1wbGVTaXplKSx0Ll9lbmNvZGVyQ29uZmlnLnN0ZXJlbyYmKGUuc3RlcmVvPSEwKSl9KSksdGhpcy5fZW5jb2RlckNvbmZpZz1lfV91cGRhdGVSdHBUcmFuc2NlaXZlcihlKXt0aGlzLl9ydHBUcmFuc2NlaXZlciE9PWUmJih0aGlzLl9ydHBUcmFuc2NlaXZlcj1lLHRoaXMudHJhY2tMaXN0LmZvckVhY2goKHQ9Pnt0IGluc3RhbmNlb2YgV2s/dC5lbWl0KGpQLlRSQU5TQ0VJVkVSX1VQREFURUQsZSk6dC5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoZSl9KSkpfX1jbGFzcyBIayBleHRlbmRzIFRMe3NldCBjdXJyZW50U3RhdGUoZSl7ZSE9PXRoaXMuX2N1cnJlbnRTdGF0ZSYmKHRoaXMuX2N1cnJlbnRTdGF0ZT1lLHRoaXMuc2FmZUVtaXQoS1AuQVVESU9fU09VUkNFX1NUQVRFX0NIQU5HRSx0aGlzLl9jdXJyZW50U3RhdGUpKX1nZXQgY3VycmVudFN0YXRlKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRTdGF0ZX1jb25zdHJ1Y3RvcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307c3VwZXIoKSxzTCh0aGlzLFwiYXVkaW9CdWZmZXJcIix2b2lkIDApLHNMKHRoaXMsXCJzb3VyY2VOb2RlXCIsdm9pZCAwKSxzTCh0aGlzLFwic3RhcnRQbGF5VGltZVwiLDApLHNMKHRoaXMsXCJzdGFydFBsYXlPZmZzZXRcIiwwKSxzTCh0aGlzLFwicGF1c2VQbGF5VGltZVwiLDApLHNMKHRoaXMsXCJvcHRpb25zXCIsdm9pZCAwKSxzTCh0aGlzLFwiY3VycmVudExvb3BDb3VudFwiLDApLHNMKHRoaXMsXCJjdXJyZW50UGxheWJhY2tTcGVlZFwiLDEwMCksc0wodGhpcyxcIl9jdXJyZW50U3RhdGVcIixcInN0b3BwZWRcIiksdGhpcy5hdWRpb0J1ZmZlcj1lLHRoaXMub3B0aW9ucz10LHRoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMub3B0aW9ucy5zdGFydFBsYXlUaW1lfHwwfWNyZWF0ZVdlYkF1ZGlvRGlhZ3JhbSgpe3JldHVybiB0aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpfWdldCBkdXJhdGlvbigpe3JldHVybiB0aGlzLmF1ZGlvQnVmZmVyP3RoaXMuYXVkaW9CdWZmZXIuZHVyYXRpb246MH1nZXQgcGxheWJhY2tTcGVlZCgpe3JldHVybiB0aGlzLmN1cnJlbnRQbGF5YmFja1NwZWVkfWdldCBjdXJyZW50VGltZSgpe3JldHVybiB0aGlzLmF1ZGlvQnVmZmVyP1wic3RvcHBlZFwiPT09dGhpcy5jdXJyZW50U3RhdGU/MDpcInBhdXNlZFwiPT09dGhpcy5jdXJyZW50U3RhdGU/dGhpcy5wYXVzZVBsYXlUaW1lOigodGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLXRoaXMuc3RhcnRQbGF5VGltZSkqKHRoaXMucGxheWJhY2tTcGVlZC8xMDApK3RoaXMuc3RhcnRQbGF5T2Zmc2V0KSV0aGlzLmF1ZGlvQnVmZmVyLmR1cmF0aW9uOjB9dXBkYXRlT3B0aW9ucyhlKXtcInN0b3BwZWRcIj09PXRoaXMuY3VycmVudFN0YXRlPyh0aGlzLm9wdGlvbnM9ZSx0aGlzLnN0YXJ0UGxheU9mZnNldD10aGlzLm9wdGlvbnMuc3RhcnRQbGF5VGltZXx8MCk6aVAud2FybmluZyhcImNhbiBub3Qgc2V0IGF1ZGlvIHNvdXJjZSBvcHRpb25zXCIpfXN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyKCl7dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnN0b3BQcm9jZXNzQXVkaW9CdWZmZXIoKSx0aGlzLnNvdXJjZU5vZGU9dGhpcy5jcmVhdGVTb3VyY2VOb2RlKCksdGhpcy5zdGFydFNvdXJjZU5vZGUoKSx0aGlzLmN1cnJlbnRTdGF0ZT1cInBsYXlpbmdcIn1wYXVzZVByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuc291cmNlTm9kZSYmXCJwbGF5aW5nXCI9PT10aGlzLmN1cnJlbnRTdGF0ZSYmKHRoaXMucGF1c2VQbGF5VGltZT10aGlzLmN1cnJlbnRUaW1lLHRoaXMuc291cmNlTm9kZS5vbmVuZGVkPW51bGwsdGhpcy5zb3VyY2VOb2RlLnN0b3AoKSx0aGlzLnNvdXJjZU5vZGUuYnVmZmVyPW51bGwsdGhpcy5zb3VyY2VOb2RlPXRoaXMuY3JlYXRlU291cmNlTm9kZSgpLHRoaXMuY3VycmVudFN0YXRlPVwicGF1c2VkXCIpfXNlZWtBdWRpb0J1ZmZlcihlKXt0aGlzLnNvdXJjZU5vZGUmJih0aGlzLnNvdXJjZU5vZGUub25lbmRlZD1udWxsLFwicGxheWluZ1wiPT09dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuc291cmNlTm9kZS5zdG9wKCksdGhpcy5zb3VyY2VOb2RlPXRoaXMuY3JlYXRlU291cmNlTm9kZSgpLFwicGxheWluZ1wiPT09dGhpcy5jdXJyZW50U3RhdGU/KHRoaXMuc3RhcnRQbGF5T2Zmc2V0PWUsdGhpcy5zdGFydFNvdXJjZU5vZGUoKSk6XCJwYXVzZWRcIj09PXRoaXMuY3VycmVudFN0YXRlJiYodGhpcy5wYXVzZVBsYXlUaW1lPWUpKX1yZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXIoKXtcInBhdXNlZFwiPT09dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuc291cmNlTm9kZSYmKHRoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMucGF1c2VQbGF5VGltZSx0aGlzLnBhdXNlUGxheVRpbWU9MCx0aGlzLnN0YXJ0U291cmNlTm9kZSgpLHRoaXMuY3VycmVudFN0YXRlPVwicGxheWluZ1wiKX1zdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyKCl7aWYodGhpcy5zb3VyY2VOb2RlKXt0aGlzLnNvdXJjZU5vZGUub25lbmRlZD1udWxsO3RyeXt0aGlzLnNvdXJjZU5vZGUuc3RvcCgpfWNhdGNoKGUpe310aGlzLnJlc2V0KCl9fWRlc3Ryb3koKXt0aGlzLmF1ZGlvQnVmZmVyPW51bGwsc3VwZXIuZGVzdHJveSgpfXNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZChlKXt0aGlzLnNvdXJjZU5vZGUmJihcInBsYXlpbmdcIj09PXRoaXMuY3VycmVudFN0YXRlJiYodGhpcy5zdGFydFBsYXlPZmZzZXQ9dGhpcy5jdXJyZW50VGltZSx0aGlzLnN0YXJ0UGxheVRpbWU9dGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lKSx0aGlzLnNvdXJjZU5vZGUucGxheWJhY2tSYXRlLnZhbHVlPWUvMTAwKSx0aGlzLmN1cnJlbnRQbGF5YmFja1NwZWVkPWV9c3RhcnRTb3VyY2VOb2RlKCl7dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnNvdXJjZU5vZGUuYnVmZmVyJiYodGhpcy5zb3VyY2VOb2RlLnN0YXJ0KDAsdGhpcy5zdGFydFBsYXlPZmZzZXQpLHRoaXMuc3RhcnRQbGF5VGltZT10aGlzLmNvbnRleHQuY3VycmVudFRpbWUsdGhpcy5zb3VyY2VOb2RlLm9uZW5kZWQ9dGhpcy5oYW5kbGVTb3VyY2VOb2RlRW5kZWQuYmluZCh0aGlzKSl9Y3JlYXRlU291cmNlTm9kZSgpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO3JldHVybiBlLmJ1ZmZlcj10aGlzLmF1ZGlvQnVmZmVyLGUubG9vcD0hIXRoaXMub3B0aW9ucy5sb29wLGUuY29ubmVjdCh0aGlzLm91dHB1dE5vZGUpLGUucGxheWJhY2tSYXRlLnZhbHVlPXRoaXMuY3VycmVudFBsYXliYWNrU3BlZWQvMTAwLGV9aGFuZGxlU291cmNlTm9kZUVuZGVkKCl7aWYodGhpcy5jdXJyZW50TG9vcENvdW50Kz0xLHRoaXMub3B0aW9ucy5jeWNsZSYmdGhpcy5vcHRpb25zLmN5Y2xlPnRoaXMuY3VycmVudExvb3BDb3VudClyZXR1cm4gdGhpcy5zdGFydFBsYXlPZmZzZXQ9MCx0aGlzLnNvdXJjZU5vZGU9dm9pZCAwLHZvaWQgdGhpcy5zdGFydFByb2Nlc3NBdWRpb0J1ZmZlcigpO3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMub3B0aW9ucy5zdGFydFBsYXlUaW1lfHwwLHRoaXMuY3VycmVudFN0YXRlPVwic3RvcHBlZFwiLHRoaXMuc291cmNlTm9kZSYmKHRoaXMuc291cmNlTm9kZS5kaXNjb25uZWN0KCksdGhpcy5zb3VyY2VOb2RlPXZvaWQgMCksdGhpcy5jdXJyZW50TG9vcENvdW50PTB9fWNvbnN0IEtrPW5ldyBNYXA7ZnVuY3Rpb24gWWsoZSx0KXtpZigwPT09ZS5sZW5ndGh8fDA9PT10Lmxlbmd0aClyZXR1cm4gMS8wO2NvbnN0IGk9d04oZSksbj13Tih0KTtyZXR1cm4gTWF0aC5mbG9vcihuL2kpfWNsYXNzIHpre2dldCByZW5kRnJhbWVSYXRlKCl7Y29uc3QgZT1NYXRoLm1heCgxLFlrKHRoaXMuX3JlbmRlcl9pbnRlcmZyYW1lX2RlbGF5c19zaXplcyx0aGlzLl9yZW5kZXJfaW50ZXJmcmFtZV9kZWxheXMpKTtyZXR1cm4gTWF0aC5mbG9vcigxZTMvZSl9Z2V0IHZpZGVvRWxlbWVudFN0YXR1cygpe3JldHVybiB0aGlzLl9pc0luUGFnZT90aGlzLl92aWRlb0VsZW1lbnRTdGF0dXM6dEwuREVTVFJPWUVEfXNldCB2aWRlb0VsZW1lbnRTdGF0dXMoZSl7ZSE9PXRoaXMuX3ZpZGVvRWxlbWVudFN0YXR1cyYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIHZpZGVvLWVsZW1lbnQtc3RhdHVzIGNoYW5nZSBcIikuY29uY2F0KHRoaXMuX3ZpZGVvRWxlbWVudFN0YXR1cyxcIiA9PiBcIikuY29uY2F0KGUpKSx0aGlzLl92aWRlb0VsZW1lbnRTdGF0dXM9ZSl9Z2V0IHZpZGVvU3RhdGUoKXtyZXR1cm4gdGhpcy5fdmlkZW9TdGF0ZX1zZXQgdmlkZW9TdGF0ZShlKXt2YXIgdDtlIT09dGhpcy5fdmlkZW9TdGF0ZSYmKHRoaXMuX3ZpZGVvU3RhdGU9ZSxudWxsPT09KHQ9dGhpcy5vblZpZGVvU3RhdGVDaGFuZ2VkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsdGhpcy52aWRlb1N0YXRlKSl9Y29uc3RydWN0b3IoZSl7c0wodGhpcyxcInRyYWNrSWRcIix2b2lkIDApLHNMKHRoaXMsXCJjb25maWdcIix2b2lkIDApLHNMKHRoaXMsXCJvbkZpcnN0VmlkZW9GcmFtZURlY29kZWRcIix2b2lkIDApLHNMKHRoaXMsXCJvbkZpcnN0VmlkZW9GcmFtZVJlbmRlclwiLHZvaWQgMCksc0wodGhpcyxcIm9uVmlkZW9CdWZmZXJSZWFkeVwiLHZvaWQgMCksc0wodGhpcyxcIm9uVmlkZW9TdGF0ZUNoYW5nZWRcIix2b2lkIDApLHNMKHRoaXMsXCJmcmVlemVUaW1lQ291bnRlckxpc3RcIixbXSksc0wodGhpcyxcInJlbmRlckZyZWV6ZUFjY1RpbWVcIiwwKSxzTCh0aGlzLFwicmVuZGVyRnJlZXplQWNjVGltZTJcIiwwKSxzTCh0aGlzLFwiaXNLZWVwTGFzdEZyYW1lXCIsITEpLHNMKHRoaXMsXCJpc0Rlc3Ryb3llZFwiLCExKSxzTCh0aGlzLFwidGltZVVwZGF0ZWRDb3VudFwiLDApLHNMKHRoaXMsXCJmcmVlemVUaW1lXCIsMCksc0wodGhpcyxcInBsYXliYWNrVGltZVwiLDApLHNMKHRoaXMsXCJsYXN0VGltZVVwZGF0ZWRUaW1lXCIsMCksc0wodGhpcyxcImF1dG9wbGF5RmFpbGVkXCIsITEpLHNMKHRoaXMsXCJ2aWRlb1RyYWNrXCIsdm9pZCAwKSxzTCh0aGlzLFwidmlkZW9FbGVtZW50XCIsdm9pZCAwKSxzTCh0aGlzLFwiY2FjaGVWaWRlb0VsZW1lbnRcIix2b2lkIDApLHNMKHRoaXMsXCJjYW5jZWxSVkZJZFwiLHZvaWQgMCksc0wodGhpcyxcImludGVybmFsXCIsITEpLHNMKHRoaXMsXCJfcmVuZGVyX2ludGVyZnJhbWVfZGVsYXlzXCIsW10pLHNMKHRoaXMsXCJfcmVuZGVyX2ludGVyZnJhbWVfZGVsYXlzX3NpemVzXCIsW10pLHNMKHRoaXMsXCJfdmlkZW9TdGF0ZVwiLGlMLlZpZGVvU3RhdGVTdG9wcGVkKSxzTCh0aGlzLFwidmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbFwiLHZvaWQgMCksc0wodGhpcyxcInZpZGVvRWxlbWVudEZyZWV6ZVRpbWVvdXRcIix2b2lkIDApLHNMKHRoaXMsXCJfdmlkZW9FbGVtZW50U3RhdHVzXCIsdEwuTk9ORSksc0wodGhpcyxcIl9pc0luUGFnZVwiLCEwKSxzTCh0aGlzLFwiaXNHZXR0aW5nVmlkZW9EaW1lbnNpb25zXCIsITEpLHNMKHRoaXMsXCJzdGFydEdldFZpZGVvRGltZW5zaW9uc1wiLCgoKT0+e2NvbnN0IGU9KCk9PntpZih0aGlzLmlzR2V0dGluZ1ZpZGVvRGltZW5zaW9ucz0hMCx0aGlzLnZpZGVvRWxlbWVudC52aWRlb1dpZHRoKnRoaXMudmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0PjQpcmV0dXJuIGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIGN1cnJlbnQgdmlkZW8gZGltZW5zaW9uczpcIiksdGhpcy52aWRlb0VsZW1lbnQudmlkZW9XaWR0aCx0aGlzLnZpZGVvRWxlbWVudC52aWRlb0hlaWdodCksdm9pZCh0aGlzLmlzR2V0dGluZ1ZpZGVvRGltZW5zaW9ucz0hMSk7c2V0VGltZW91dChlLDUwMCl9OyF0aGlzLmlzR2V0dGluZ1ZpZGVvRGltZW5zaW9ucyYmZSgpfSkpLHNMKHRoaXMsXCJhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25cIiwoKCk9Pnt0aGlzLnZpZGVvVHJhY2smJlwibGl2ZVwiPT09dGhpcy52aWRlb1RyYWNrLnJlYWR5U3RhdGUmJlwicnVubmluZ1wiPT09X0wuY3VyU3RhdGUmJihpUC5kZWJ1ZyhcIlt0cmFjay1cIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSB2aWRlbyBlbGVtZW50IHBhdXNlZCwgYXV0byByZXN1bWUgZm9yIFwiKS5jb25jYXQoa3coKSkpLHRPKCk/KHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSk6KHRoaXMudmlkZW9FbGVtZW50LnBhdXNlKCksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKSl9KSksc0wodGhpcyxcImhhbmRsZVZpZGVvRXZlbnRzXCIsKGU9Pntzd2l0Y2goZS50eXBlKXtjYXNlXCJwbGF5XCI6Y2FzZVwicGxheWluZ1wiOlwicGxheVwiPT09ZS50eXBlJiZpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSB2aWRlbyBlbGVtZW50IHN0YXR1czogcGxheVwiKSksdGhpcy5zdGFydEdldFZpZGVvRGltZW5zaW9ucygpLHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPXRMLlBMQVlJTkc7YnJlYWs7Y2FzZVwibG9hZGVkZGF0YVwiOmlmKHRoaXMudmlkZW9TdGF0ZT1pTC5WaWRlb1N0YXRlU3RhcnRpbmcsdGhpcy5vbkZpcnN0VmlkZW9GcmFtZVJlbmRlciYmdGhpcy5vbkZpcnN0VmlkZW9GcmFtZVJlbmRlcigpLHRoaXMub25GaXJzdFZpZGVvRnJhbWVEZWNvZGVkJiZ0aGlzLm9uRmlyc3RWaWRlb0ZyYW1lRGVjb2RlZCgpLHRoaXMuY2FjaGVWaWRlb0VsZW1lbnQpe3RyeXt0aGlzLmNhY2hlVmlkZW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMuY2FjaGVWaWRlb0VsZW1lbnQucmVtb3ZlKCl9Y2F0Y2goZSl7fXRoaXMuY2FjaGVWaWRlb0VsZW1lbnQ9dm9pZCAwfWJyZWFrO2Nhc2VcImNhbnBsYXlcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz10TC5DQU5QTEFZO2JyZWFrO2Nhc2VcInN0YWxsZWRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz10TC5TVEFMTEVEO2JyZWFrO2Nhc2VcInN1c3BlbmRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz10TC5TVVNQRU5EO2JyZWFrO2Nhc2VcInBhdXNlXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9dEwuUEFVU0VELGp3KCl8fGlPKCl8fFZ3KCkmJnRoaXMuYXV0b3BsYXlGYWlsZWR8fCF0aGlzLnZpZGVvVHJhY2t8fFwibGl2ZVwiIT09dGhpcy52aWRlb1RyYWNrLnJlYWR5U3RhdGV8fChpUC5kZWJ1ZyhcIlt0cmFjay1cIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSB2aWRlbyBlbGVtZW50IHBhdXNlZCwgYXV0byByZXN1bWVcIikpLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSk7YnJlYWs7Y2FzZVwid2FpdGluZ1wiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPXRMLldBSVRJTkc7YnJlYWs7Y2FzZVwiYWJvcnRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz10TC5BQk9SVDticmVhaztjYXNlXCJlbmRlZFwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPXRMLkVOREVEO2JyZWFrO2Nhc2VcImVtcHRpZWRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz10TC5FTVBUSUVEO2JyZWFrO2Nhc2VcImVycm9yXCI6e2NvbnN0IGU9dGhpcy52aWRlb0VsZW1lbnQuZXJyb3I7ZSYmKHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPXRMLkVSUk9SLGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIG1lZGlhIGVycm9yOiBcIikuY29uY2F0KGUubWVzc2FnZSxcIiAoXCIpLmNvbmNhdChlLmNvZGUsXCIpXCIpKSk7YnJlYWt9Y2FzZVwidGltZXVwZGF0ZVwiOntjb25zdCBlPXBlcmZvcm1hbmNlLm5vdygpO2lmKHRoaXMudGltZVVwZGF0ZWRDb3VudCs9MSx0aGlzLm9uVmlkZW9CdWZmZXJSZWFkeSYmdGhpcy50aW1lVXBkYXRlZENvdW50PkNEKFwiQlVGRkVSX1JFQURZX0ZSQU1FU1wiKSYmdGhpcy5vblZpZGVvQnVmZmVyUmVhZHkoKSx0aGlzLnRpbWVVcGRhdGVkQ291bnQ8MTApcmV0dXJuIHZvaWQodGhpcy5sYXN0VGltZVVwZGF0ZWRUaW1lPWUpO2NvbnN0IHQ9ZS10aGlzLmxhc3RUaW1lVXBkYXRlZFRpbWUsaT10aGlzLmxhc3RUaW1lVXBkYXRlZFRpbWU7aWYodGhpcy5sYXN0VGltZVVwZGF0ZWRUaW1lPWUsZVUubGFzdFZpc2libGVUaW1lPGVVLmxhc3RIaWRkZW5UaW1lfHxpPGVVLmxhc3RIaWRkZW5UaW1lfHxpPGVVLmxhc3RWaXNpYmxlVGltZSlyZXR1cm47aWYodGhpcy5pc1NraXBDYWxjUmVuZGVyRnJlZXplVGltZSgpKXJldHVybjtmb3IodD5DRChcIlZJREVPX0ZSRUVaRV9EVVJBVElPTlwiKSYmKHRoaXMuZnJlZXplVGltZSs9dCksdGhpcy5wbGF5YmFja1RpbWUrPXQ7dGhpcy5wbGF5YmFja1RpbWU+PTZlMzspe3RoaXMucGxheWJhY2tUaW1lLT02ZTM7Y29uc3QgZT1NYXRoLm1pbig2ZTMsdGhpcy5mcmVlemVUaW1lKTt0aGlzLmZyZWV6ZVRpbWVDb3VudGVyTGlzdC5wdXNoKGUpLHRoaXMuZnJlZXplVGltZT1NYXRoLm1heCgwLHRoaXMuZnJlZXplVGltZS02ZTMpfWJyZWFrfX19KSksc0wodGhpcyxcImF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbk9uSU9TMTVfMTZcIiwoKCk9Pnt0aGlzLnZpZGVvVHJhY2smJlwibGl2ZVwiPT09dGhpcy52aWRlb1RyYWNrLnJlYWR5U3RhdGUmJihpUC5kZWJ1ZyhcIlt0cmFjay1cIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSB2aWRlbyBlbGVtZW50IHBhdXNlZCwgYXV0byByZXN1bWUgZm9yIFwiKS5jb25jYXQoa3coKSkpLHRPKCk/KHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSk6KHRoaXMudmlkZW9FbGVtZW50LnBhdXNlKCksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKSl9KSksdGhpcy50cmFja0lkPWUudHJhY2tJZCx0aGlzLmNvbmZpZz1lLGUuZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/dGhpcy52aWRlb0VsZW1lbnQ9ZS5lbGVtZW50OnRoaXMudmlkZW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxfTC5vbihSUC5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbiksX0wub24oUlAuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XzE2KX1nZXRWaWRlb0VsZW1lbnQoKXtyZXR1cm4gdGhpcy52aWRlb0VsZW1lbnR9Z2V0Q29udGFpbmVyRWxlbWVudCgpe3ZhciBlO3JldHVybiBudWxsIT09KGU9dGhpcy52aWRlb0VsZW1lbnQucGFyZW50RWxlbWVudCkmJnZvaWQgMCE9PWU/ZTp2b2lkIDB9dXBkYXRlQ29uZmlnKGUpe3RoaXMuY29uZmlnPWUsdGhpcy50cmFja0lkPWUudHJhY2tJZCxlLmVsZW1lbnQhPT10aGlzLnZpZGVvRWxlbWVudCYmKHRoaXMuZGVzdHJveSgpLHRoaXMudmlkZW9FbGVtZW50PWUuZWxlbWVudCksdGhpcy52aWRlb1RyYWNrJiZ0aGlzLmluaXRWaWRlb0VsZW1lbnQoKX11cGRhdGVWaWRlb1RyYWNrKGUpe3RoaXMudmlkZW9UcmFjayE9PWUmJih0aGlzLnZpZGVvVHJhY2s9ZSx0aGlzLmluaXRWaWRlb0VsZW1lbnQoKSl9cGxheShlKXtjb25zdCB0PXRoaXMudmlkZW9FbGVtZW50LnBsYXkoKTt0JiZ0LmNhdGNoJiZ0LmNhdGNoKCh0PT57ZSYmVUwoZSxcInZpZGVvXCIsdC5tZXNzYWdlLHRoaXMudHJhY2tJZCksXCJOb3RBbGxvd2VkRXJyb3JcIj09PXQubmFtZT8oaVAud2FybmluZyhcImRldGVjdGVkIHZpZGVvIGVsZW1lbnQgYXV0b3BsYXkgZmFpbGVkXCIsdCksdGhpcy5hdXRvcGxheUZhaWxlZD0hMCx0aGlzLmhhbmRsZUF1dG9QbGF5RmFpbGVkKCkpOmlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gcGxheSB3YXJuaW5nOiBcIiksdCl9KSk7Y29uc3QgaT1EdygpO2lmKChcIlNhZmFyaVwiPT09aS5uYW1lJiYxNT09PU51bWJlcihpLnZlcnNpb24pfHwkdygpKSYmdCYmdC50aGVuKXtjb25zdCBlPSgpPT57dGhpcy5jb25maWcubWlycm9yJiYhdGhpcy5jb25maWcubm9TdHlsZSYmKHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cInJvdGF0ZVkoMTgwZGVnKVwiKX07dC50aGVuKGUpLmNhdGNoKGUpfX1nZXRDdXJyZW50RnJhbWUoKXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7ZS53aWR0aD10aGlzLnZpZGVvRWxlbWVudC52aWRlb1dpZHRoLGUuaGVpZ2h0PXRoaXMudmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0O2NvbnN0IHQ9ZS5nZXRDb250ZXh0KFwiMmRcIik7aWYoIXQpcmV0dXJuIGlQLmVycm9yKFwiY3JlYXRlIGNhbnZhcyBjb250ZXh0IGZhaWxlZCFcIiksbmV3IEltYWdlRGF0YSgyLDIpO3QuZHJhd0ltYWdlKHRoaXMudmlkZW9FbGVtZW50LDAsMCxlLndpZHRoLGUuaGVpZ2h0KTtjb25zdCBpPXQuZ2V0SW1hZ2VEYXRhKDAsMCxlLndpZHRoLGUuaGVpZ2h0KTtyZXR1cm4gZS5yZW1vdmUoKSxpfWFzeW5jIGdldEN1cnJlbnRGcmFtZVRvVWludDhBcnJheShlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MTtjb25zdCBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7aS53aWR0aD10aGlzLnZpZGVvRWxlbWVudC52aWRlb1dpZHRoLGkuaGVpZ2h0PXRoaXMudmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0O2NvbnN0IG49aS5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIG4/KG4uZHJhd0ltYWdlKHRoaXMudmlkZW9FbGVtZW50LDAsMCxpLndpZHRoLGkuaGVpZ2h0KSxuZXcgcnAoKChuLHIpPT57aS50b0Jsb2IoKGFzeW5jIGU9PntpZihpLnJlbW92ZSgpLGUpe2NvbnN0IHQ9YXdhaXQgJEwoZSk7bih7YnVmZmVyOnQsd2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHR9KX1lbHNlIHIobmV3IHBPKGhPLkNPTlZFUlRJTkdfVklERU9fRlJBTUVfVE9fQkxPQl9GQUlMRUQpKX0pLGUsdDwwPy4xOnQ+MT8xOnQpfSkpKTphd2FpdCBaTChlKX1kZXN0cm95KCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTt0aGlzLmlzRGVzdHJveWVkPSEwLF9MLm9mZihSUC5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbiksX0wub2ZmKFJQLklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNV8xNiksZT90aGlzLnZpZGVvRWxlbWVudC5wYXVzZSgpOnRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMucmVzZXRWaWRlb0VsZW1lbnQoKSx0aGlzLmZyZWV6ZVRpbWVDb3VudGVyTGlzdD1bXSx0aGlzLnZpZGVvU3RhdGU9aUwuVmlkZW9TdGF0ZVN0b3BwZWR9aW5pdFZpZGVvRWxlbWVudCgpe2lmKHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPXRMLklOSVQsIXRoaXMudmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbCYmKHFrLmZvckVhY2goKGU9Pnt0aGlzLnZpZGVvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGUsdGhpcy5oYW5kbGVWaWRlb0V2ZW50cyl9KSksdGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLl9pc0luUGFnZT1mdW5jdGlvbihlKXtyZXR1cm4gZSE9PWRvY3VtZW50LmJvZHkmJmRvY3VtZW50LmJvZHkuY29udGFpbnMoZSl9KHRoaXMudmlkZW9FbGVtZW50KX0pLDFlMyksQ0QoXCJFTkFCTEVfVklERU9fRlJBTUVfQ0FMTEJBQ0tcIikpKXt2YXIgZSx0O2xldCBpO2NvbnN0IG49KCk9PntcInZpc2libGVcIj09PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSYmKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsbiksdGhpcy52aWRlb0VsZW1lbnRGcmVlemVUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KHIsQ0QoXCJWSURFT19GUkVFWkVfRFVSQVRJT05cIikpKX0scj0oKT0+e3RoaXMudmlkZW9FbGVtZW50RnJlZXplVGltZW91dD12b2lkIDAsdGhpcy52aWRlb1N0YXRlPT09aUwuVmlkZW9TdGF0ZURlY29kaW5nJiYoXCJ2aXNpYmxlXCI9PT1kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU/dGhpcy52aWRlb1N0YXRlPWlMLlZpZGVvU3RhdGVGcm96ZW46ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixuKSl9LG89KGUsdCk9PntpZih0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz09PXRMLlBMQVlJTkcpe2lmKGkpe2NvbnN0IGU9dC5wcmVzZW50YXRpb25UaW1lLWkucHJlc2VudGF0aW9uVGltZSxuPXQucHJlc2VudGVkRnJhbWVzLWkucHJlc2VudGVkRnJhbWVzO3RoaXMuX3JlbmRlcl9pbnRlcmZyYW1lX2RlbGF5c19zaXplcy5wdXNoKG4pLHRoaXMuX3JlbmRlcl9pbnRlcmZyYW1lX2RlbGF5cy5wdXNoKGUpO2NvbnN0IG89d04odGhpcy5fcmVuZGVyX2ludGVyZnJhbWVfZGVsYXlzX3NpemVzKSxzPW8tdGhpcy5fcmVuZGVyX2ludGVyZnJhbWVfZGVsYXlzX3NpemVzWzBdO2lmKG8+MzAmJnM+NSYmKHRoaXMuX3JlbmRlcl9pbnRlcmZyYW1lX2RlbGF5c19zaXplcy5zaGlmdCgpLHRoaXMuX3JlbmRlcl9pbnRlcmZyYW1lX2RlbGF5cy5zaGlmdCgpKSx0aGlzLnZpZGVvU3RhdGU9PT1pTC5WaWRlb1N0YXRlU3RhcnRpbmcmJih0aGlzLnZpZGVvU3RhdGU9aUwuVmlkZW9TdGF0ZURlY29kaW5nKSx0aGlzLnZpZGVvU3RhdGU9PT1pTC5WaWRlb1N0YXRlRGVjb2RpbmcmJnRoaXMub25WaWRlb1N0YXRlQ2hhbmdlZCYmKHRoaXMudmlkZW9FbGVtZW50RnJlZXplVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnZpZGVvRWxlbWVudEZyZWV6ZVRpbWVvdXQpLHRoaXMudmlkZW9FbGVtZW50RnJlZXplVGltZW91dD13aW5kb3cuc2V0VGltZW91dChyLENEKFwiVklERU9fRlJFRVpFX0RVUkFUSU9OXCIpKSksZTxDRChcIlZJREVPX0ZSRUVaRV9EVVJBVElPTlwiKSYmdGhpcy52aWRlb1N0YXRlPT09aUwuVmlkZW9TdGF0ZUZyb3plbiYmKHRoaXMudmlkZW9TdGF0ZT1pTC5WaWRlb1N0YXRlRGVjb2RpbmcpLGU+Q0QoXCJWSURFT19GUkVFWkVfRFVSQVRJT05cIikmJmVVLmxhc3RWaXNpYmxlVGltZT49ZVUubGFzdEhpZGRlblRpbWUmJmkudGltZXN0YW1wPmVVLmxhc3RWaXNpYmxlVGltZSYmaS50aW1lc3RhbXA+ZVUubGFzdEhpZGRlblRpbWUpe2NvbnN0IHQ9TWF0aC5taW4oNjYsWWsodGhpcy5fcmVuZGVyX2ludGVyZnJhbWVfZGVsYXlzX3NpemVzLHRoaXMuX3JlbmRlcl9pbnRlcmZyYW1lX2RlbGF5cykpLGk9TWF0aC5tYXgoMCxlLShuLTEpKnQpO3RoaXMucmVuZGVyRnJlZXplQWNjVGltZTIrPWk+dD9pOjAsdGhpcy5yZW5kZXJGcmVlemVBY2NUaW1lKz1lfX1pPWNMKGNMKHt9LHQpLHt9LHt0aW1lc3RhbXA6ZX0pfWVsc2UgdGhpcy5pc1NraXBDYWxjUmVuZGVyRnJlZXplVGltZSgpJiYoaT1jTChjTCh7fSx0KSx7fSx7dGltZXN0YW1wOmV9KSk7dmFyIG4scztDRChcIkVOQUJMRV9WSURFT19GUkFNRV9DQUxMQkFDS1wiKSYmKHRoaXMuY2FuY2VsUlZGSWQ9bnVsbD09PShuPShzPXRoaXMudmlkZW9FbGVtZW50KS5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jYWxsKHMsbykpfTt0aGlzLmNhbmNlbFJWRklkPW51bGw9PT0oZT0odD10aGlzLnZpZGVvRWxlbWVudCkucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbCh0LG8pfXRoaXMudmlkZW9FbGVtZW50LmNvbnRyb2xzPSExLHRoaXMudmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksYU8oKSYmIUNEKFwiSElERV9OT19QT1NURVJcIikmJih0aGlzLnZpZGVvRWxlbWVudC5wb3N0ZXI9XCJub3Bvc3RlclwiKTtjb25zdCBpPUR3KCk7dGhpcy5jb25maWcubm9TdHlsZXx8KFwiU2FmYXJpXCI9PT1pLm5hbWUmJjE1PT09TnVtYmVyKGkudmVyc2lvbil8fCR3KCl8fCF0aGlzLmNvbmZpZy5taXJyb3J8fCh0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS50cmFuc2Zvcm09XCJyb3RhdGVZKDE4MGRlZylcIiksdGhpcy5jb25maWcuZml0P3RoaXMudmlkZW9FbGVtZW50LnN0eWxlLm9iamVjdEZpdD10aGlzLmNvbmZpZy5maXQ6dGhpcy52aWRlb0VsZW1lbnQuc3R5bGUub2JqZWN0Rml0PVwiY292ZXJcIiksdGhpcy52aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSx0aGlzLnZpZGVvRWxlbWVudC5tdXRlZD0hMCx0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3QmJnRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdCBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtP3RoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdC5nZXRWaWRlb1RyYWNrcygpWzBdIT09dGhpcy52aWRlb1RyYWNrJiYodGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PXRoaXMudmlkZW9UcmFjaz9uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pOm51bGwsQncoKSYmdGhpcy52aWRlb0VsZW1lbnQubG9hZCgpKToodGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PXRoaXMudmlkZW9UcmFjaz9uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pOm51bGwsQncoKSYmdGhpcy52aWRlb0VsZW1lbnQubG9hZCgpKTtjb25zdCBuPXRoaXMudmlkZW9FbGVtZW50LnBsYXkoKTt2b2lkIDAhPT1uJiZuLmNhdGNoKChlPT57aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gcGxheWJhY2sgaW50ZXJydXB0ZWRcIiksZS50b1N0cmluZygpKX0pKX1yZXNldFZpZGVvRWxlbWVudCgpe3ZhciBlLHQ7cWsuZm9yRWFjaCgoZT0+e3RoaXMudmlkZW9FbGVtZW50JiZ0aGlzLnZpZGVvRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUsdGhpcy5oYW5kbGVWaWRlb0V2ZW50cyl9KSksdGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsKSx0aGlzLnZpZGVvRWxlbWVudENoZWNrSW50ZXJ2YWw9dm9pZCAwKSx0aGlzLmNhbmNlbFJWRklkJiZ0aGlzLnZpZGVvRWxlbWVudCYmKG51bGw9PT0oZT0odD10aGlzLnZpZGVvRWxlbWVudCkuY2FuY2VsVmlkZW9GcmFtZUNhbGxiYWNrKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHQsdGhpcy5jYW5jZWxSVkZJZCksdGhpcy5jYW5jZWxSVkZJZD12b2lkIDApLHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPXRMLk5PTkV9aXNTa2lwQ2FsY1JlbmRlckZyZWV6ZVRpbWUoKXtyZXR1cm4gdGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9PT10TC5ERVNUUk9ZRUR8fHRoaXMuaW50ZXJuYWx9aGFuZGxlQXV0b1BsYXlGYWlsZWQoKXtjb25zdCBlPXQ9Pnt0LnByZXZlbnREZWZhdWx0KCksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpLnRoZW4oKCgpPT57aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gVmlkZW8gZWxlbWVudCBmb3IgdHJhY2tJZDpcIikuY29uY2F0KHRoaXMudHJhY2tJZCxcIiBhdXRvcGxheSByZXN1bWVkLlwiKSl9KSkuY2F0Y2goKGU9PntpUC5lcnJvcihlKX0pKSx0aGlzLmF1dG9wbGF5RmFpbGVkPSExLGNPKCk/ZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlLCEwKTooZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGUsITApLGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGUsITApKX07Y08oKT9kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUsITApOihkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZSwhMCkpLE1MKCl9fWNvbnN0IHFrPVtcInBsYXlcIixcInBsYXlpbmdcIixcImxvYWRlZGRhdGFcIixcImNhbnBsYXlcIixcInBhdXNlXCIsXCJzdGFsbGVkXCIsXCJzdXNwZW5kXCIsXCJ3YWl0aW5nXCIsXCJhYm9ydFwiLFwiZW1wdGllZFwiLFwiZW5kZWRcIixcInRpbWV1cGRhdGVcIixcImVycm9yXCJdO2NsYXNzIFhrIGV4dGVuZHMgemt7Y29uc3RydWN0b3IoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtzdXBlcihlKSxzTCh0aGlzLFwiY29udGFpbmVyXCIsdm9pZCAwKSxzTCh0aGlzLFwic2xvdFwiLHZvaWQgMCksdGhpcy5zbG90PWUuZWxlbWVudCx0aGlzLmludGVybmFsPXQsdGhpcy51cGRhdGVDb25maWcoZSl9dXBkYXRlQ29uZmlnKGUpe3RoaXMuY29uZmlnPWUsdGhpcy50cmFja0lkPWUudHJhY2tJZDtjb25zdCB0PWUuZWxlbWVudDt2YXIgaTshdGhpcy5pbnRlcm5hbHx8dGhpcy5zbG90Pyh0IT09dGhpcy5zbG90JiYodGhpcy5kZXN0cm95KCksdGhpcy5zbG90PXQpLHRoaXMuY3JlYXRlRWxlbWVudHMoKSk6KHRoaXMuc2xvdD10LHQmJnRoaXMuY29udGFpbmVyPyh0aGlzLmludGVybmFsPSExLHRoaXMuY29udGFpbmVyLmlkPVwiYWdvcmEtdmlkZW8tcGxheWVyLVwiLmNvbmNhdCh0aGlzLnRyYWNrSWQpLHRoaXMudmlkZW9FbGVtZW50LmlkPVwidmlkZW9fXCIuY29uY2F0KHRoaXMudHJhY2tJZCksdGhpcy5jb25maWcuZml0P3RoaXMudmlkZW9FbGVtZW50LnN0eWxlLm9iamVjdEZpdD10aGlzLmNvbmZpZy5maXQ6dGhpcy52aWRlb0VsZW1lbnQuc3R5bGUub2JqZWN0Rml0PVwiY292ZXJcIixudWxsPT09KGk9dGhpcy5zbG90KXx8dm9pZCAwPT09aXx8aS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcikpOnRoaXMuY3JlYXRlRWxlbWVudHMoKSl9dXBkYXRlVmlkZW9UcmFjayhlKXt0aGlzLnZpZGVvVHJhY2shPT1lJiYodGhpcy52aWRlb1RyYWNrPWUsdGhpcy5jcmVhdGVFbGVtZW50cygpKX1wbGF5KGUpe3ZhciB0O251bGwhPT0odD10aGlzLmNvbnRhaW5lcikmJnZvaWQgMCE9PXQmJnQuY29udGFpbnModGhpcy52aWRlb0VsZW1lbnQpJiZzdXBlci5wbGF5KGUpfWdldEN1cnJlbnRGcmFtZSgpe3ZhciBlO3JldHVybiBudWxsIT09KGU9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT1lJiZlLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KT9zdXBlci5nZXRDdXJyZW50RnJhbWUoKTpuZXcgSW1hZ2VEYXRhKDIsMil9YXN5bmMgZ2V0Q3VycmVudEZyYW1lVG9VaW50OEFycmF5KGUpe3ZhciB0O2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO3JldHVybiBudWxsIT09KHQ9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT10JiZ0LmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KT9hd2FpdCBzdXBlci5nZXRDdXJyZW50RnJhbWVUb1VpbnQ4QXJyYXkoZSxpKTphd2FpdCBaTChlKX1kZXN0cm95KCl7aWYoc3VwZXIuZGVzdHJveSgpLHRoaXMudmlkZW9FbGVtZW50LnJlbW92ZSgpLHRoaXMudmlkZW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSx0aGlzLmNvbnRhaW5lcil7dHJ5e3ZhciBlO3RoaXMuY29udGFpbmVyLnJlbW92ZSgpLG51bGw9PT0oZT10aGlzLnNsb3QpfHx2b2lkIDA9PT1lfHxlLnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyKX1jYXRjaChlKXt9dGhpcy5jb250YWluZXI9dm9pZCAwfX1jcmVhdGVFbGVtZW50cygpe3ZhciBlO3RoaXMuY29udGFpbmVyfHwodGhpcy5jb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSksdGhpcy5jb250YWluZXIuaWQ9XCJhZ29yYS12aWRlby1wbGF5ZXItXCIuY29uY2F0KHRoaXMudHJhY2tJZCksdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGg9XCIxMDAlXCIsdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIix0aGlzLmNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHRoaXMudmlkZW9UcmFjaz8odGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwiYmxhY2tcIixDRChcIktFRVBfTEFTVF9GUkFNRVwiKSYmdGhpcy5pc0tlZXBMYXN0RnJhbWUmJnRoaXMudmlkZW9FbGVtZW50LnBhdXNlZCYmdGhpcy5yZXNldFZpZGVvRWxlbWVudCgpLHRoaXMubW91bnRlZFZpZGVvRWxlbWVudCgpKTp0aGlzLnVubW91bnRlZFZpZGVvRWxlbWVudCgpLG51bGw9PT0oZT10aGlzLnNsb3QpfHx2b2lkIDA9PT1lfHxlLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKX1tb3VudGVkVmlkZW9FbGVtZW50KCl7dmFyIGU7IXRoaXMuY29udGFpbmVyfHxudWxsIT09KGU9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT1lJiZlLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KXx8dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy52aWRlb0VsZW1lbnQpLHN1cGVyLmluaXRWaWRlb0VsZW1lbnQoKSx0aGlzLnZpZGVvRWxlbWVudC5pZD1cInZpZGVvX1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQpLHRoaXMudmlkZW9FbGVtZW50LmNsYXNzTmFtZT1cImFnb3JhX3ZpZGVvX3BsYXllclwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy52aWRlb0VsZW1lbnQuc3R5bGUubGVmdD1cIjBcIix0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS50b3A9XCIwXCJ9dW5tb3VudGVkVmlkZW9FbGVtZW50KCl7dmFyIGU7aWYobnVsbCE9PShlPXRoaXMuY29udGFpbmVyKSYmdm9pZCAwIT09ZSYmZS5jb250YWlucyh0aGlzLnZpZGVvRWxlbWVudCkpe3N1cGVyLnJlc2V0VmlkZW9FbGVtZW50KCk7dHJ5e3RoaXMuY29udGFpbmVyJiZ0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLnZpZGVvRWxlbWVudCl9Y2F0Y2goZSl7fXRoaXMudmlkZW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKX19cmVzZXRWaWRlb0VsZW1lbnQoKXt2YXIgZTtudWxsIT09KGU9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT1lJiZlLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KSYmKHN1cGVyLnJlc2V0VmlkZW9FbGVtZW50KCksdGhpcy5jYWNoZVZpZGVvRWxlbWVudD10aGlzLnZpZGVvRWxlbWVudCx0aGlzLnZpZGVvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIikpfWdldENvbnRhaW5lckVsZW1lbnQoKXtyZXR1cm4gdGhpcy5jb250YWluZXJ9fXZhciBKayxRayxaaywkayxlTSx0TSxpTSxuTSxyTSxvTSxzTSxhTSxjTSxkTSxsTSx1TSxoTSxwTSxfTSxFTSxtTSxmTSxTTSxnTSxUTSxSTSxDTSx2TSx5TSxJTSxBTSxiTSx3TSxPTSxOTSxETSxQTSxMTTtsZXQga009KEprPWRQKHthcmdzTWFwOihlLHQsaSk9PltlLmdldFRyYWNrSWQoKSxcInN0cmluZ1wiPT10eXBlb2YgdD90OnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P1wiSFRNTFZpZGVvRWxlbWVudFwiOlwiSFRNTEVsZW1lbnRcIixpXX0pLFFrPUZMKCksWms9ZFAoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLCRrPUxOKFwiTG9jYWxWaWRlb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLGVNPWRQKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSx0TT1GTCgpLGlNPUxOKFwiTG9jYWxWaWRlb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLG5NPWRQKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxyTT1GTCgpLG9NPWRQKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdCxlLl9zYXZlRW5jb2RlQml0cmF0ZVJhdGlvXX0pLHNNPUZMKCksYU09ZFAoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XX0pLGNNPUZMKCksZE09RkwoKSxsTT1kUCh7YXJnc01hcDooZSx0LGkpPT5bZS5nZXRUcmFja0lkKCksdCxpXX0pLHVNPUZMKCksaE09RkwoKSxwTT1GTCgpLF9NPWRQKHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxFTT1GTCgpLG1NPUZMKCksZk09RkwoKSxTTT1GTCgpLGdNPUZMKCksVE09ZFAoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0Lm5hbWVdfSksUk09ZFAoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLENNPWRQKHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSx2TT1kUCh7YXJnc01hcDooZSx0LGkpPT5bZS5nZXRUcmFja0lkKCksdC5sYWJlbCxpXX0pLHlNPWNsYXNzIGUgZXh0ZW5kcyBsTHtnZXQgdmlkZW9IZWlnaHQoKXtpZihWdygpKXtjb25zdHtoZWlnaHQ6ZX09dGhpcy5fbWVkaWFTdHJlYW1UcmFjay5nZXRTZXR0aW5ncygpO3JldHVybiB0aGlzLl92aWRlb0hlaWdodD1lLHRoaXMuX3ZpZGVvSGVpZ2h0fXJldHVybiB0aGlzLl92aWRlb0hlaWdodH1nZXQgdmlkZW9XaWR0aCgpe2lmKFZ3KCkpe2NvbnN0e3dpZHRoOmV9PXRoaXMuX21lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKTtyZXR1cm4gdGhpcy5fdmlkZW9XaWR0aD1lLHRoaXMuX3ZpZGVvV2lkdGh9cmV0dXJuIHRoaXMuX3ZpZGVvV2lkdGh9Z2V0IGlzUGxheWluZygpe3JldHVybiEoIXRoaXMuX3BsYXllcnx8dGhpcy5fcGxheWVyLnZpZGVvRWxlbWVudFN0YXR1cyE9PXRMLlBMQVlJTkcpfWdldCBwcm9jZXNzb3JEZXN0aW5hdGlvbigpe3JldHVybiB0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbn1nZXQgcHJvY2Vzc29yQ29udGV4dCgpe3JldHVybiB0aGlzLl9wcm9jZXNzb3JDb250ZXh0fXNldCBwcm9jZXNzb3JDb250ZXh0KGUpe3RoaXMuX3Byb2Nlc3NvckNvbnRleHQ9ZX1nZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiTG9jYWxWaWRlb1RyYWNrXCJ9Y29uc3RydWN0b3IoZSx0LGksbixyLG8pe2lmKHN1cGVyKGUsciksc0wodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsSFAuVklERU8pLHNMKHRoaXMsXCJfcGxheWVyXCIsdm9pZCAwKSxzTCh0aGlzLFwiaXNVc2VTY2FsZVJlc29sdXRpb25Eb3duQnlcIiwhMSksc0wodGhpcyxcIl92aWRlb1Zpc2libGVUaW1lclwiLG51bGwpLHNMKHRoaXMsXCJfcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXNcIix2b2lkIDApLHNMKHRoaXMsXCJfY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1c1wiLCgoKT0+dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXM9dm9pZCAwKSksc0wodGhpcyxcIl9lbmNvZGVyQ29uZmlnXCIsdm9pZCAwKSxzTCh0aGlzLFwiX3NjYWxhYmlsaXR5TW9kZVwiLHtudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0pLHNMKHRoaXMsXCJfb3B0aW1pemF0aW9uTW9kZVwiLHZvaWQgMCksc0wodGhpcyxcIl9zYXZlRW5jb2RlQml0cmF0ZVJhdGlvXCIsMSksc0wodGhpcyxcIl92aWRlb0hlaWdodFwiLHZvaWQgMCksc0wodGhpcyxcIl92aWRlb1dpZHRoXCIsdm9pZCAwKSxzTCh0aGlzLFwiX2ZvcmNlQml0cmF0ZUxpbWl0XCIsdm9pZCAwKSxzTCh0aGlzLFwiX2VuYWJsZWRcIiwhMCksc0wodGhpcyxcIl9wcm9jZXNzb3JEZXN0aW5hdGlvblwiLHZvaWQgMCksc0wodGhpcyxcIl9wcm9jZXNzb3JDb250ZXh0XCIsdm9pZCAwKSxWdygpKXtjb25zdHt3aWR0aDp0LGhlaWdodDppfT1lLmdldFNldHRpbmdzKCk7dGhpcy5fdmlkZW9XaWR0aD10LHRoaXMuX3ZpZGVvSGVpZ2h0PWl9ZWxzZSB0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCk7aWYodGhpcy5fc2NhbGFiaWxpdHlNb2RlPWksdGhpcy5fb3B0aW1pemF0aW9uTW9kZT1uLHRoaXMuX2hpbnRzPW98fFtdLHQmJi0xIT09dGhpcy5faGludHMuaW5kZXhPZihWUC5DVVNUT01fVFJBQ0spP3RoaXMuX2VuY29kZXJDb25maWc9c04odCk6dGhpcy5fZW5jb2RlckNvbmZpZz10LC0xPT09dGhpcy5faGludHMuaW5kZXhPZihWUC5TQ1JFRU5fVFJBQ0spKXRoaXMudXBkYXRlQml0cmF0ZUZyb21Qcm9maWxlKCk7ZWxzZSBpZihIdyhidy5DSFJPTUUsMTE1KSYmLTEhPT1MdygpLmluZGV4T2YoXCJXaW5kb3dzXCIpKXtjb25zdCB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJWaWRlb0ZyYW1lXCJpbiB3aW5kb3cmJlwiVHJhbnNmb3JtU3RyZWFtXCJpbiB3aW5kb3cmJnBQKCkuc3VwcG9ydFdlYlJUQ0luc2VydGFibGVTdHJlYW0pe2NvbnN0IGk9bmV3IE1lZGlhU3RyZWFtVHJhY2tQcm9jZXNzb3IoZSksbj1uZXcgTWVkaWFTdHJlYW1UcmFja0dlbmVyYXRvcih7a2luZDpcInZpZGVvXCJ9KTtsZXQgcixvLHM9RGF0ZS5ub3coKTtjb25zdCBhPSgpPT57YyYmKGNsZWFySW50ZXJ2YWwoYyksYz12b2lkIDApLHImJihyLmNsb3NlKCkscj12b2lkIDApLGUuc3RvcCgpLG89dm9pZCAwLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsYSl9O2xldCBjPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntpZihvJiZyJiZEYXRlLm5vdygpLXM+KG51bGwhPXQ/dDoxZTMpKXRyeXtcImxpdmVcIj09PW4ucmVhZHlTdGF0ZT9vLmVucXVldWUoci5jbG9uZSgpKTphKCl9Y2F0Y2goZSl7YSgpfX0pLG51bGwhPXQ/dDoxZTMpO2NvbnN0IGQ9bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtOihlLHQpPT57XCJsaXZlXCI9PT1uLnJlYWR5U3RhdGU/KG89dCxzPURhdGUubm93KCksdm9pZCAwPT09cj8ocj1lLHQuZW5xdWV1ZShlLmNsb25lKCkpKToodC5lbnF1ZXVlKHIpLHI9ZSkpOmUuY2xvc2UoKX19KTtyZXR1cm4gbi5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixhKSxpLnJlYWRhYmxlLnBpcGVUaHJvdWdoKGQpLnBpcGVUbyhuLndyaXRhYmxlKSxufX0oZSk7dCYmKGlQLmluZm8oXCJsb2NhbCBzY3JlZW4gdmlkZW8gdHJhY2sgYmVnaW4gdG8gaW5qZWN0IGZyYW1lXCIpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dCl9dCYmLTEhPT10aGlzLl9oaW50cy5pbmRleE9mKFZQLkNVU1RPTV9UUkFDSykmJnRoaXMuc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24odCksdGhpcy5fcHJvY2Vzc29yQ29udGV4dD1uZXcgakwodGhpcy5nZXRUcmFja0lkKCksXCJsb2NhbFwiKSx0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbj1uZXcgQkwodGhpcy5wcm9jZXNzb3JDb250ZXh0KSx0aGlzLmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpfXBsYXkoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtjb25zdCB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO3Q/ZT10OihpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSwnXSBjYW4gbm90IGZpbmQgXCIjJykuY29uY2F0KGUsJ1wiIGVsZW1lbnQsIHVzZSBkb2N1bWVudC5ib2R5JykpLGU9ZG9jdW1lbnQuYm9keSl9aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCB2aWRlbyBwbGF5YmFjayBpbiBcIikuY29uY2F0KGUgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P1wiSFRNTFZpZGVvRWxlbWVudFwiOlwiSFRNTEVsZW1lbnRcIiksSlNPTi5zdHJpbmdpZnkodCkpO2NvbnN0IGk9Y0woY0woY0woe30sdGhpcy5fZ2V0RGVmYXVsdFBsYXllckNvbmZpZygpKSx0KSx7fSx7dHJhY2tJZDp0aGlzLmdldFRyYWNrSWQoKSxlbGVtZW50OmV9KTt0aGlzLl9wbGF5ZXI/dGhpcy5fcGxheWVyLnVwZGF0ZUNvbmZpZyhpKTooZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/dGhpcy5fcGxheWVyPW5ldyB6ayhpKTp0aGlzLl9wbGF5ZXI9bmV3IFhrKGkpLHRoaXMuX3BsYXllci51cGRhdGVWaWRlb1RyYWNrKHRoaXMuX21lZGlhU3RyZWFtVHJhY2spKSx0aGlzLl9wbGF5ZXIucGxheSgpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl92aWRlb1Zpc2libGVUaW1lciksdGhpcy5fY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cygpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0cnl7Y29uc3QgZT10aGlzLmdldFZpZGVvRWxlbWVudFZpc2libGVTdGF0dXMoKTt0aGlzLnNhZmVFbWl0KEdQLlZJREVPX0VMRU1FTlRfVklTSUJMRV9TVEFUVVMsZSl9Y2F0Y2goZSl7fX0pLENEKFwiQ0hFQ0tfVklERU9fVklTSUJMRV9JTlRFUlZBTFwiKSl9c3RvcCgpe3RoaXMuX3BsYXllciYmKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fdmlkZW9WaXNpYmxlVGltZXIpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyPW51bGwpLHRoaXMuX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMoKSx0aGlzLl9wbGF5ZXIuZGVzdHJveSgpLHRoaXMuX3BsYXllcj12b2lkIDAsaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdG9wIHZpZGVvIHBsYXliYWNrXCIpKSl9YXN5bmMgc2V0RW5hYmxlZChlLHQpe2lmKCF0KXtpZihlPT09dGhpcy5fZW5hYmxlZClyZXR1cm47dGhpcy5zdGF0ZUNoZWNrKFwiZW5hYmxlZFwiLGUpfWlmKGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXRFbmFibGVkXCIpLGUpLCFlKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITE7dHJ5e2F3YWl0IHFPKHRoaXMsVVAuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9cmV0dXJuIHR8fCh0aGlzLl9lbmFibGVkPSExKSx2b2lkIGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIGZhbHNlIHN1Y2Nlc3NcIikpfXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMDt0cnl7YXdhaXQgcU8odGhpcyxVUC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzKX1jYXRjaChlKXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gdHJ1ZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gdHJ1ZSBzdWNjZXNzXCIpKSx0fHwodGhpcy5fZW5hYmxlZD0hMCl9YXN5bmMgc2V0TXV0ZWQoZSl7ZSE9PXRoaXMuX211dGVkJiYodGhpcy5zdGF0ZUNoZWNrKFwibXV0ZWRcIixlKSx0aGlzLl9tdXRlZD1lLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hZSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldCBtdXRlZDogXCIpLmNvbmNhdChlKSksZT9hd2FpdCBxTyh0aGlzLFVQLk5FRURfTVVURV9UUkFDSyx0aGlzKTphd2FpdCBxTyh0aGlzLFVQLk5FRURfVU5NVVRFX1RSQUNLLHRoaXMpKX1hc3luYyBzZXRTYXZlRW5jb2RlQml0cmF0ZVJhdGlvKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuX3NhdmVFbmNvZGVCaXRyYXRlUmF0aW87aWYoMSE9PXRoaXMuX3NhdmVFbmNvZGVCaXRyYXRlUmF0aW8mJnRoaXMuX2VuY29kZXJDb25maWcmJnRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heCYmdGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWluKXt0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNaW49TWF0aC5mbG9vcih0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNaW4qZSksdGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4PU1hdGguZmxvb3IodGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4KmUpLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IHNhdmUgZW5jb2RlIGJpdHJhdGUgcmF0aW8sIFwiKS5jb25jYXQoZSkpLHRoaXMuX3NhdmVFbmNvZGVCaXRyYXRlUmF0aW89MTt0cnl7YXdhaXQgcU8odGhpcyxVUC5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMpfWNhdGNoKGUpe3JldHVybiBlLnRocm93KGlQKX19fWFzeW5jIHNldEVuY29kZXJDb25maWd1cmF0aW9uKGUsdCl7aWYoIXRoaXMuX2VuYWJsZWQpdGhyb3cgbmV3IHBPKGhPLlRSQUNLX0lTX0RJU0FCTEVELFwiY2FuIG5vdCBzZXQgZW5jb2RlciBjb25maWd1cmF0aW9uIHdoZW4gdHJhY2sgaXMgZGlzYWJsZWRcIik7aWYoZT1PUChlKSxDRChcIlVTRV9TVEFOREFSRF9CSVRSQVRFX0RFRkFVTFRcIikmJihkZWxldGUgZS5iaXRyYXRlTWF4LGRlbGV0ZSBlLmJpdHJhdGVNaW4pLHRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0JiYoZS5iaXRyYXRlTWF4PXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlP3RoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlOmUuYml0cmF0ZU1heCxlLmJpdHJhdGVNaW49dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWluX2JpdHJhdGU/dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWluX2JpdHJhdGU6ZS5iaXRyYXRlTWluKSxlLndpZHRofHxlLmhlaWdodHx8ZS5mcmFtZVJhdGUpe2NvbnN0IHQ9ekwoe2VuY29kZXJDb25maWc6ZX0pOyhWdygpfHxqdygpfHxpTygpKSYmKHQuZGV2aWNlSWQ9dm9pZCAwKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuY29kZXJDb25maWd1cmF0aW9uIGFwcGx5Q29uc3RyYWludHNcIiksSlNPTi5zdHJpbmdpZnkoZSksSlNPTi5zdHJpbmdpZnkodCkpO3RyeXthd2FpdCB0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmFwcGx5Q29uc3RyYWludHModCksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IHBPKGhPLlVORVhQRUNURURfRVJST1IsZS50b1N0cmluZygpKTt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGFwcGx5Q29uc3RyYWludHMgZXJyb3JcIiksdC50b1N0cmluZygpKSx0fX10aGlzLl9lbmNvZGVyQ29uZmlnPWUsLTE9PT10aGlzLl9oaW50cy5pbmRleE9mKFZQLlNDUkVFTl9UUkFDSykmJnRoaXMudXBkYXRlQml0cmF0ZUZyb21Qcm9maWxlKCk7dHJ5e2F3YWl0IHFPKHRoaXMsVVAuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzKX1jYXRjaChlKXtyZXR1cm4gZS50aHJvdyhpUCl9fWdldFN0YXRzKCl7ZE4oKCgpPT57aVAud2FybmluZyhcIltkZXByZWNhdGVkXSBMb2NhbFZpZGVvVHJhY2suZ2V0U3RhdHMgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHVzZSBBZ29yYVJUQ0NsaWVudC5nZXRMb2NhbFZpZGVvU3RhdHMgaW5zdGVhZFwiKX0pLFwibG9jYWxWaWRlb1RyYWNrR2V0U3RhdHNXYXJuaW5nXCIpO3JldHVybiBYTyh0aGlzLFVQLkdFVF9TVEFUUyl8fGNMKHt9LHpQKX1hc3luYyBzZXRCZWF1dHlFZmZlY3QoZSl7aVAuZXJyb3IoXCJMb2NhbFZpZGVvVHJhY2suc2V0QmVhdXR5RWZmZWN0IHdhcyBkZXByZWNhdGVkLCBwbGVhc2UgbWlncmF0ZSB0byBhZ29yYS1leHRlbnNpb24tYmVhdXR5LWVmZmVjdFwiKX1nZXRDdXJyZW50RnJhbWVEYXRhKCl7cmV0dXJuIHRoaXMuX3BsYXllcj90aGlzLl9wbGF5ZXIuZ2V0Q3VycmVudEZyYW1lKCk6bmV3IEltYWdlRGF0YSgyLDIpfWFzeW5jIGdldEN1cnJlbnRGcmFtZUltYWdlKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO3JldHVybiB0aGlzLl9wbGF5ZXI/dGhpcy5fcGxheWVyLmdldEN1cnJlbnRGcmFtZVRvVWludDhBcnJheShlLHQpOmF3YWl0IFpMKGUpfWFzeW5jIGZpbmRDbG9zZXN0UHJvZmlsZSgpe2NvbnN0e3dpZHRoOmUsaGVpZ2h0OnQsZnJhbWVSYXRlOml9PXRoaXMuZ2V0TWVkaWFTdHJlYW1UcmFja1NldHRpbmdzKCkse3dpZHRoOm4saGVpZ2h0OnIsZnJhbWVSYXRlOm99PXRoaXMuX2VuY29kZXJDb25maWd8fHt9LHM9QU4odGhpcy5fdmlkZW9XaWR0aHx8ZXx8bnx8MCksYT1BTih0aGlzLl92aWRlb0hlaWdodHx8dHx8cnx8MCksYz1mdW5jdGlvbihlLHQsaSl7aWYoIUFycmF5LmlzQXJyYXkoQ0QoXCJWSURFT19FTkNPREVSX0NPTkZJR19MSVNUXCIpKSlyZXR1cm4hMTtpZigwPT09Q0QoXCJWSURFT19FTkNPREVSX0NPTkZJR19MSVNUXCIpLmxlbmd0aClyZXR1cm4hMTtjb25zdCBuPU1hdGgubWluKGUsdCk7cmV0dXJuIShuPj00ODApJiZjTChjTCh7fSxDRChcIlZJREVPX0VOQ09ERVJfQ09ORklHX0xJU1RcIikuZmluZCgoZT0+ZS5oZWlnaHQ+bikpKSx7fSx7ZnJhbWVSYXRlOml9KX0ocyxhLEFOKGl8fG98fDE1KSk7aWYoYylyZXR1cm4gaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBmaW5kIGNsb3Nlc3QgcHJvZmlsZSwgXCIpLmNvbmNhdChzLFwieFwiKS5jb25jYXQoYSxcIiA9PiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGMpKSksdGhpcy5zZXRFbmNvZGVyQ29uZmlndXJhdGlvbihjKX1hc3luYyBzZXRCaXRyYXRlTGltaXQoZSl7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgYml0cmF0ZSBsaW1pdCwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpLGUmJih0aGlzLl9mb3JjZUJpdHJhdGVMaW1pdD1lLHRoaXMuX2VuY29kZXJDb25maWcmJih0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg/dGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4PXRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heDxlLm1heF9iaXRyYXRlP3RoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heDplLm1heF9iaXRyYXRlOnRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heD1lLm1heF9iaXRyYXRlLHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1pbix0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNaW49ZS5taW5fYml0cmF0ZSkpfWFzeW5jIHNldE9wdGltaXphdGlvbk1vZGUoZSl7aWYoXCJtb3Rpb25cIiE9PWUmJlwiZGV0YWlsXCIhPT1lJiZcImJhbGFuY2VkXCIhPT1lKXJldHVybiB2b2lkIGlQLmVycm9yKGhPLklOVkFMSURfUEFSQU1TLFwib3B0aW1pemF0aW9uIG1vZGUgbXVzdCBiZSBtb3Rpb24sIGRldGFpbCBvciBiYWxhbmNlZFwiKTtjb25zdCB0PXRoaXMuX29wdGltaXphdGlvbk1vZGU7dHJ5e3RoaXMuX29wdGltaXphdGlvbk1vZGU9ZSxhd2FpdCBxTyh0aGlzLFVQLk5FRURfVVBEQVRFX1ZJREVPX1NFTkRfUEFSQU1FVEVSUyx0aGlzKX1jYXRjaChlKXt0aHJvdyB0aGlzLl9vcHRpbWl6YXRpb25Nb2RlPXQsaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgb3B0aW1pemF0aW9uIG1vZGUgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksZX1pUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IG9wdGltaXphdGlvbiBtb2RlIHN1Y2Nlc3MgKFwiKS5jb25jYXQoZSxcIilcIikpfXNldFNjYWxhYmlsdHlNb2RlKGUpe2lmKDE9PT1lLm51bVNwYXRpYWxMYXllcnMmJjEhPT1lLm51bVRlbXBvcmFsTGF5ZXJzKXJldHVybiBpUC5lcnJvcihoTy5JTlZBTElEX1BBUkFNUyxcInNjYWxhYmlsaXR5IG1vZGUgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQsIG5vIFNWQy5cIiksdm9pZCh0aGlzLl9zY2FsYWJpbGl0eU1vZGU9e251bVNwYXRpYWxMYXllcnM6MSxudW1UZW1wb3JhbExheWVyczoxfSk7dGhpcy5fc2NhbGFiaWxpdHlNb2RlPWUsaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldCBzY2FsYWJpbGl0eSBtb2RlIHN1Y2Nlc3MgKFwiKS5jb25jYXQoZSxcIilcIikpfXVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCl7WUwodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaykudGhlbigoZT0+e2xldFt0LGldPWU7dGhpcy5fdmlkZW9IZWlnaHQ9aSx0aGlzLl92aWRlb1dpZHRoPXR9KSkuY2F0Y2goVE4pfV91cGRhdGVQbGF5ZXJTb3VyY2UoKXt0aGlzLl9wbGF5ZXImJnRoaXMuX3BsYXllci51cGRhdGVWaWRlb1RyYWNrKHRoaXMuX21lZGlhU3RyZWFtVHJhY2spfV9nZXREZWZhdWx0UGxheWVyQ29uZmlnKCl7cmV0dXJue2ZpdDpcImNvbnRhaW5cIn19YXN5bmMgc2V0U2VuZGVyQ29uZmlndXJhdGlvbihlKXtpZighdGhpcy5fZW5hYmxlZCl0aHJvdyBuZXcgcE8oaE8uVFJBQ0tfSVNfRElTQUJMRUQsXCJjYW4gbm90IHNldCBlbmNvZGVyIGNvbmZpZ3VyYXRpb24gd2hlbiB0cmFjayBpcyBkaXNhYmxlZFwiKTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldFNlbmRlckNvbmZpZ3VyYXRpb24gYXBwbHlDb25zdHJhaW50c1wiKSxKU09OLnN0cmluZ2lmeShlKSksZT1PUChlKSx0aGlzLl9mb3JjZUJpdHJhdGVMaW1pdCYmKGUuYml0cmF0ZU1heD10aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5tYXhfYml0cmF0ZT90aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5tYXhfYml0cmF0ZTplLmJpdHJhdGVNYXgsZS5iaXRyYXRlTWluPXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1pbl9iaXRyYXRlP3RoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1pbl9iaXRyYXRlOmUuYml0cmF0ZU1pbiksdGhpcy5fZW5jb2RlckNvbmZpZz1lLC0xPT09dGhpcy5faGludHMuaW5kZXhPZihWUC5TQ1JFRU5fVFJBQ0spJiZ0aGlzLnVwZGF0ZUJpdHJhdGVGcm9tUHJvZmlsZSgpO3RyeXthd2FpdCBxTyh0aGlzLFVQLk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcyl9Y2F0Y2goZSl7cmV0dXJuIGUudGhyb3coaVApfX11cGRhdGVCaXRyYXRlRnJvbVByb2ZpbGUoKXtpZighdGhpcy5fZW5jb2RlckNvbmZpZylyZXR1cm47Y29uc3R7d2lkdGg6ZSxoZWlnaHQ6dCxmcmFtZVJhdGU6aX09dGhpcy5nZXRNZWRpYVN0cmVhbVRyYWNrU2V0dGluZ3MoKTtpZighZXx8IXR8fCFpKXJldHVybjtjb25zdHtiaXRyYXRlTWF4Om4sYml0cmF0ZU1pbjpyfT10aGlzLl9lbmNvZGVyQ29uZmlnO2lmKG51bGw9PXJ8fG51bGw9PW4pe2NvbnN0e21heDpvLG1pbjpzfT1mdW5jdGlvbihlLHQsaSxuLHIpe2NvbnN0IG89Q0QoXCJCSVRSQVRFX0FEQVBURVJfVFlQRVwiKTtpZihcIkRFRkFVTFRfQklUUkFURVwiPT09bylyZXR1cm57bWluOm4sbWF4OnJ9O2lmKHZvaWQgMD09PXIpe2NvbnN0IHM9TWF0aC5mbG9vcigyMDAqTWF0aC5wb3coaS8xNSwuNikqTWF0aC5wb3coZSp0LzY0MC8zNjAsLjc1KSk7cj1cIlNUQU5EQVJEX0JJVFJBVEVcIj09PW8/NCpzOjIqcyxuPW51bGwhPW4/bjpzfWVsc2Ugbj1udWxsIT1uP246TWF0aC5mbG9vcihyLzEwKTtyZXR1cm57bWluOm4sbWF4OnJ9fShlLHQsaSxyLG4pO2lmKHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1pbj1zLHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heD1vLENEKFwiVklERU9fU1RBTkRBUkRfQklUUkFURV9WRVJTSU9OXCIpJiZudWxsPT1yJiZudWxsPT1uKXtjb25zdFtuLHJdPWZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPTQqTWF0aC5mbG9vcigyZTUqTWF0aC5wb3coaS8xNSwuNikqTWF0aC5wb3coZSp0LzIzMDQwMCwuNzUpKSxyPWUqdCxvPW5ldyBNYXAoW1sxOTIwMCwuOV0sWzIzMDQwMCwuODVdLFs1MTg0MDAsLjc1XSxbOTIxNjAwLC43XSxbMjA3MzYwMCwuNl0sWzM2ODY0MDAsLjVdXSkscz1uZXcgTWFwKFtbMjMwNDAwLC45NV0sWzUxODQwMCwuOV0sWzkyMTYwMCwuODVdLFsyMDczNjAwLC44XV0pO2xldCBhPXBwKG8pLmNhbGwobykubmV4dCgpLnZhbHVlLGM9MTtpZihvLmhhcyhyKSlhPW8uZ2V0KHIpO2Vsc2V7dmFyIGQ7Y29uc3QgZT1RcChkPUFycmF5LmZyb20oby5lbnRyaWVzKCkpKS5jYWxsKGQsKChlLHQpPT57bGV0W2ldPWUsW25dPXQ7cmV0dXJuIGktbn0pKSx0PWUuZmluZCgoZT0+e2xldFt0XT1lO3JldHVybiB0PnJ9KSk7aWYodCl7Y29uc3QgaT1lLmluZGV4T2YodCk7aWYoaT4wKXtjb25zdCBuPWVbaS0xXSxvPShyLW5bMF0pLyh0WzBdLW5bMF0pO2E9blsxXStvKih0WzFdLW5bMV0pfWVsc2UgYT10WzFdfWVsc2UgYT1lW2UubGVuZ3RoLTFdWzFdfWlmKHMuaGFzKHIpKWM9cy5nZXQocik7ZWxzZXt2YXIgbDtjb25zdCBlPVFwKGw9QXJyYXkuZnJvbShzLmVudHJpZXMoKSkpLmNhbGwobCwoKGUsdCk9PntsZXRbaV09ZSxbbl09dDtyZXR1cm4gaS1ufSkpLHQ9ZS5maW5kKChlPT57bGV0W3RdPWU7cmV0dXJuIHQ+cn0pKTtpZih0KXtjb25zdCBpPWUuaW5kZXhPZih0KTtpZihpPjApe2NvbnN0IG49ZVtpLTFdLG89KHItblswXSkvKHRbMF0tblswXSk7Yz1uWzFdK28qKHRbMV0tblsxXSl9ZWxzZSBjPXRbMV19ZWxzZSBjPWVbZS5sZW5ndGgtMV1bMV19Y29uc3QgdT1DRChcIlZJREVPX05FV19CSVRSQVRFX1JBVElPXCIpO3UmJnU+MCYmKGE9dS8xMDApO2NvbnN0IGg9TWF0aC5mbG9vcihuKmEpLHA9TWF0aC5mbG9vcig2NWU0Kk1hdGgucG93KGUqdC8yMzA0MDAsLjUpKk1hdGgucG93KGkvMTUsLjY5KSk7bGV0IF89aDtjb25zdCBFPUNEKFwiVklERU9fU1RBTkRBUkRfQklUUkFURV9WRVJTSU9OXCIpO3JldHVybiBFJiZFPjAmJigxPT09RT9fPW46Mj09PUU/Xz1oOjM9PT1FJiYoXz1wKSksW01hdGguZmxvb3IoXy8xZTMpLGNdfShlLHQsaSk7dGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4PW4sdGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWluPXM/TWF0aC5taW4ocyxuKTpuLHRoaXMuX3NhdmVFbmNvZGVCaXRyYXRlUmF0aW89cixpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZSBuZXcgYml0cmF0ZSBmcm9tIHByb2ZpbGUsIFt3OiBcIikuY29uY2F0KGUsXCIsIGg6IFwiKS5jb25jYXQodCxcIiwgZnBzOiBcIikuY29uY2F0KGksXCJdID0+IFtick1heDogXCIpLmNvbmNhdCh0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgsXCIsIGJyTWluOiBcIikuY29uY2F0KHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1pbixcIiwgc2F2ZV9iaXRyYXRlX3JhdGlvOiBcIikuY29uY2F0KHRoaXMuX3NhdmVFbmNvZGVCaXRyYXRlUmF0aW8sXCJdXCIpKX1lbHNlIGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIGJpdHJhdGUgZnJvbSBwcm9maWxlLCBbdzogXCIpLmNvbmNhdChlLFwiLCBoOiBcIikuY29uY2F0KHQsXCIsIGZwczogXCIpLmNvbmNhdChpLFwiXSA9PiBbYnJNYXg6IFwiKS5jb25jYXQobyxcIiwgYnJNaW46IFwiKS5jb25jYXQocyxcIl1cIikpLHRoaXMuX3NhdmVFbmNvZGVCaXRyYXRlUmF0aW89MX19Z2V0VmlkZW9FbGVtZW50VmlzaWJsZVN0YXR1cygpe3RyeXt2YXIgZSx0O2NvbnN0IGk9bnVsbD09dGhpc3x8bnVsbD09PShlPXRoaXMuX3BsYXllcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0Q29udGFpbmVyRWxlbWVudCgpLG49e3RyYWNrOnRoaXMsZWxlbWVudDpudWxsPT10aGlzfHxudWxsPT09KHQ9dGhpcy5fcGxheWVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRWaWRlb0VsZW1lbnQoKSxzbG90Om51bGw9PWk/dm9pZCAwOmkucGFyZW50RWxlbWVudH0se2VsZW1lbnQ6cixzbG90Om99PW47aWYodGhpcy5pc1BsYXlpbmcmJnIgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50JiZvIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe2NvbnN0IGU9QU8uY2hlY2tPbmVFbGVtZW50VmlzaWJsZShyKSx0PU9iamVjdC5hc3NpZ24oe30sZSk7aWYodC52aXNpYmxlIT09dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMpe3RoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzPXQudmlzaWJsZTtjb25zdCBlPWxQLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6a08uVFJBQ0VSLG5hbWU6TE8uTE9DQUxfVklERU9fVFJBQ0tfR0VUX1ZJREVPX1ZJU0lCTEUsb3B0aW9uczpbdGhpcy5nZXRUcmFja0lkKCldfSk7dC52aXNpYmxlP2Uub25TdWNjZXNzKFwiVmlkZW8gaXMgdmlzaWJsZVwiKTplLm9uU3VjY2VzcyhcIkludmlzaWJsZSBiZWNhdXNlIG9mIFwiLmNvbmNhdCh0LnJlYXNvbikpfXJldHVybiB0fXJldHVybn1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uR0VUX1ZJREVPX0VMRU1FTlRfVklTSUJMRV9FUlJPUixlLm1lc3NhZ2UpfX1hc3luYyByZW5ld01lZGlhU3RyZWFtVHJhY2soZSl7fXBpcGUoZSl7aWYodGhpcy5wcm9jZXNzb3I9PT1lKXJldHVybiBlO2lmKGUuX3NvdXJjZSl0aHJvdyBuZXcgcE8oaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJQcm9jZXNzb3IgXCIuY29uY2F0KGUubmFtZSxcIiBhbHJlYWR5IHBpcGVkLCBwbGVhc2UgY2FsbCB1bnBpcGUgYmVmb3JlaGFuZC5cIikpO3JldHVybiB0aGlzLnVucGlwZSgpLHRoaXMucHJvY2Vzc29yPWUsdGhpcy5wcm9jZXNzb3IuX3NvdXJjZT10aGlzLGUudXBkYXRlSW5wdXQoe3RyYWNrOnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KSxlfXVucGlwZSgpe2lmKCF0aGlzLnByb2Nlc3NvcilyZXR1cm47Y29uc3QgZT10aGlzLnByb2Nlc3Nvcjt0aGlzLnByb2Nlc3Nvci5fc291cmNlPXZvaWQgMCx0aGlzLnByb2Nlc3Nvcj12b2lkIDAsZS5yZXNldCgpfWNsb3NlKCl7c3VwZXIuY2xvc2UoKSx0aGlzLnVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCksdGhpcy51bmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKCksdGhpcy51bnBpcGUoKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLl9zb3VyY2UmJnRoaXMucHJvY2Vzc29yRGVzdGluYXRpb24uX3NvdXJjZS51bnBpcGUoKX1jbG9uZSh0KXtsZXQgaT0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLG49dGhpcy5fZW5jb2RlckNvbmZpZzt0JiYobj1jTChjTCh7fSxuKSxPUCh0KSkpLG49YU4obik7Y29uc3Qgcj1TTig4LFwidHJhY2stdmlkZW8tY2xvbmVkLVwiKSxvPW5ldyBlKGk/dGhpcy5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2ssbixhTih0aGlzLl9zY2FsYWJpbGl0eU1vZGUpLHRoaXMuX29wdGltaXphdGlvbk1vZGUscixhTih0aGlzLl9oaW50cykpO3JldHVybiB0JiZuJiZvLnNldEVuY29kZXJDb25maWd1cmF0aW9uKG4pLGlQLmRlYnVnKFwiY2xvbmUgdmlkZW8gdHJhY2sgZnJvbSBcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCIgdG8gXCIpLmNvbmNhdChyLFwiLCBjbG9uZSBcIikuY29uY2F0KGkpKSxvfWFzeW5jIHJlcGxhY2VUcmFjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spKXRocm93IG5ldyBwTyhoTy5JTlZBTElEX1BBUkFNUyxcInRyYWNrIHNob3VsZCBiZSBhbiBpbnN0YW5jZSBvZiBNZWRpYVN0cmVhbVRyYWNrXCIpO2lmKFwidmlkZW9cIiE9PWUua2luZCl0aHJvdyBuZXcgcE8oaE8uSU5WQUxJRF9QQVJBTVMsXCJ0cmFjayBzaG91bGQgYmUgYSB2aWRlbyBNZWRpYVN0cmVhbVRyYWNrXCIpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZSx0LCEwKSx0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCl9c2VuZFNlaURhdGEoZSl7aWYoZE4oKCgpPT57bFAucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6TE8uTE9DQUxfVklERU9fU0VORF9TRUlfREFUQSxvcHRpb25zOltdLHRhZzprTy5UUkFDRVJ9KS5vblN1Y2Nlc3MoXCJcIil9KSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrLmlkfHx0aGlzLmdldFRyYWNrSWQoKSksIUNEKFwiRU5BQkxFX1ZJREVPX1NFSVwiKXx8IUNEKFwiRU5BQkxFX0VOQ09ERURfVFJBTlNGT1JNXCIpKXJldHVybiB2b2lkIGlQLndhcm5pbmcoJ1RvIHNlbmQvcmVjZWl2ZSBTRUksIHBsZWFzZSBjYWxsIEFnb3JhUlRDLnNldFBhcmFtZXRlcihcIkVOQUJMRV9WSURFT19TRUlcIiwgdHJ1ZSkgYmVmb3JlIGluc3RhbnRpYXRlIElBZ29yYVJ0Y0NsaWVudCcpO2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5PT0wKXJldHVybiBuZXcgcE8oaE8uSU5WQUxJRF9QQVJBTVMsXCJJbnZhbGlkIGFyZ3VtZW50IHR5cGUsIElMb2NhbFZpZGVvVHJhY2suc2VuZFNlaURhdGEoKSBvbmx5IGFjY2VwdCBVaW50OEFycmF5IGFyZ3VtZW50LlwiKS50aHJvdygpO2NvbnN0IHQ9dGhpcy5nZXRSVENSdHBUcmFuc2NlaXZlcigpO2lmKCF0KXJldHVybiB2b2lkIGlQLndhcm5pbmcoXCJWaWRlbyB0cmFjayBpcyBub3QgcHVibGlzaGVkLCBTRUkgY2FuIG5vdCBiZSBzZW5kXCIpO2NvbnN0IGk9dC5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2lmKDA9PT1pLmNvZGVjcy5sZW5ndGgpcmV0dXJuO2NvbnN0IG49aS5jb2RlY3NbMF0ubWltZVR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKTtcInZpZGVvL2gyNjRcIj09PW58fFwidmlkZW8vaDI2NVwiPT09bj90aGlzLnNhZmVFbWl0KFwic2VpLXRvLXNlbmRcIixlKTppUC53YXJuaW5nKFwiU0VJIGlzIG5vdCBzdXBwb3J0ZWQgYnkgXCIuY29uY2F0KG4pKX1iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKFFQLk9OX1RSQUNLLChhc3luYyBlPT57ZT9lIT09dGhpcy5fbWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSxhd2FpdCBxTyh0aGlzLFVQLk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksYXdhaXQgcU8odGhpcyxVUC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpfSkpfXVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoUVAuT05fVFJBQ0spfXVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKXt0aGlzLnByb2Nlc3NvckNvbnRleHQucmVtb3ZlQWxsTGlzdGVuZXJzKFpQLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTKSx0aGlzLnByb2Nlc3NvckNvbnRleHQucmVtb3ZlQWxsTGlzdGVuZXJzKFpQLlJFUVVFU1RfQ09OU1RSQUlOVFMpfX0sb0woeU0ucHJvdG90eXBlLFwicGxheVwiLFtKayxRa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih5TS5wcm90b3R5cGUsXCJwbGF5XCIpLHlNLnByb3RvdHlwZSksb0woeU0ucHJvdG90eXBlLFwic3RvcFwiLFtaa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih5TS5wcm90b3R5cGUsXCJzdG9wXCIpLHlNLnByb3RvdHlwZSksb0woeU0ucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiLFskayxlTSx0TV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih5TS5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIpLHlNLnByb3RvdHlwZSksb0woeU0ucHJvdG90eXBlLFwic2V0TXV0ZWRcIixbaU0sbk0sck1dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoeU0ucHJvdG90eXBlLFwic2V0TXV0ZWRcIikseU0ucHJvdG90eXBlKSxvTCh5TS5wcm90b3R5cGUsXCJzZXRTYXZlRW5jb2RlQml0cmF0ZVJhdGlvXCIsW29NLHNNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHlNLnByb3RvdHlwZSxcInNldFNhdmVFbmNvZGVCaXRyYXRlUmF0aW9cIikseU0ucHJvdG90eXBlKSxvTCh5TS5wcm90b3R5cGUsXCJzZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiLFthTSxjTV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih5TS5wcm90b3R5cGUsXCJzZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiKSx5TS5wcm90b3R5cGUpLG9MKHlNLnByb3RvdHlwZSxcImdldFN0YXRzXCIsW2RNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHlNLnByb3RvdHlwZSxcImdldFN0YXRzXCIpLHlNLnByb3RvdHlwZSksb0woeU0ucHJvdG90eXBlLFwic2V0QmVhdXR5RWZmZWN0XCIsW2xNLHVNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHlNLnByb3RvdHlwZSxcInNldEJlYXV0eUVmZmVjdFwiKSx5TS5wcm90b3R5cGUpLG9MKHlNLnByb3RvdHlwZSxcImdldEN1cnJlbnRGcmFtZURhdGFcIixbaE1dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoeU0ucHJvdG90eXBlLFwiZ2V0Q3VycmVudEZyYW1lRGF0YVwiKSx5TS5wcm90b3R5cGUpLG9MKHlNLnByb3RvdHlwZSxcImdldEN1cnJlbnRGcmFtZUltYWdlXCIsW3BNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHlNLnByb3RvdHlwZSxcImdldEN1cnJlbnRGcmFtZUltYWdlXCIpLHlNLnByb3RvdHlwZSksb0woeU0ucHJvdG90eXBlLFwiZmluZENsb3Nlc3RQcm9maWxlXCIsW19NLEVNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHlNLnByb3RvdHlwZSxcImZpbmRDbG9zZXN0UHJvZmlsZVwiKSx5TS5wcm90b3R5cGUpLG9MKHlNLnByb3RvdHlwZSxcInNldEJpdHJhdGVMaW1pdFwiLFttTV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih5TS5wcm90b3R5cGUsXCJzZXRCaXRyYXRlTGltaXRcIikseU0ucHJvdG90eXBlKSxvTCh5TS5wcm90b3R5cGUsXCJzZXRPcHRpbWl6YXRpb25Nb2RlXCIsW2ZNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHlNLnByb3RvdHlwZSxcInNldE9wdGltaXphdGlvbk1vZGVcIikseU0ucHJvdG90eXBlKSxvTCh5TS5wcm90b3R5cGUsXCJzZXRTY2FsYWJpbHR5TW9kZVwiLFtTTV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih5TS5wcm90b3R5cGUsXCJzZXRTY2FsYWJpbHR5TW9kZVwiKSx5TS5wcm90b3R5cGUpLG9MKHlNLnByb3RvdHlwZSxcInVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uXCIsW2dNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHlNLnByb3RvdHlwZSxcInVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uXCIpLHlNLnByb3RvdHlwZSksb0woeU0ucHJvdG90eXBlLFwicGlwZVwiLFtUTV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih5TS5wcm90b3R5cGUsXCJwaXBlXCIpLHlNLnByb3RvdHlwZSksb0woeU0ucHJvdG90eXBlLFwidW5waXBlXCIsW1JNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHlNLnByb3RvdHlwZSxcInVucGlwZVwiKSx5TS5wcm90b3R5cGUpLG9MKHlNLnByb3RvdHlwZSxcImNsb3NlXCIsW0NNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHlNLnByb3RvdHlwZSxcImNsb3NlXCIpLHlNLnByb3RvdHlwZSksb0woeU0ucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIsW3ZNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHlNLnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiKSx5TS5wcm90b3R5cGUpLHlNKSxNTT0oSU09ZFAoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XX0pLEFNPUZMKCksYk09TE4oXCJDYW1lcmFWaWRlb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLHdNPWRQKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxPTT1GTCgpLE5NPWRQKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxETT1GTCgpLFBNPWRQKHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxMTT1jbGFzcyBlIGV4dGVuZHMga017Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIkNhbWVyYVZpZGVvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLHQsaSxuLHIsbyl7c3VwZXIoZSxPUCh0LmVuY29kZXJDb25maWcpLG4scixvKSxzTCh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksc0wodGhpcyxcIl9vcmlnaW5hbENvbnN0cmFpbnRzXCIsdm9pZCAwKSxzTCh0aGlzLFwiX2NvbnN0cmFpbnRzXCIsdm9pZCAwKSxzTCh0aGlzLFwiX2VuYWJsZWRcIiwhMCksc0wodGhpcyxcIl9kZXZpY2VOYW1lXCIsXCJkZWZhdWx0XCIpLHNMKHRoaXMsXCJ0cnlSZXN1bWVWaWRlb0ZvcklPUzE1XzE2V2VDaGF0XCIsKGFzeW5jKCk9PnsoJHcoKXx8ZU8oKSkmJiFmdW5jdGlvbigpe2NvbnN0IGU9RHcoKTtpZihlLm9zIT09QXcuSU9TfHwhZS5vc1ZlcnNpb24pcmV0dXJuITE7Y29uc3QgdD1lLm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIDE1PT09TnVtYmVyKHRbMF0pJiZOdW1iZXIodFsxXSk+PTJ9KCkmJm5PKCkmJnRoaXMuX2VuYWJsZWQmJiF0aGlzLl9pc0Nsb3NlZCYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJ5IGNhcHR1cmUgY2FtZXJhIG1lZGlhIGRldmljZSBmb3IgaW50ZXJydXB0ZWQgaU9TIDE1IGRldmljZSBvbiBXZUNoYXQuXCIpKSxhd2FpdCB0aGlzLnJlbmV3TWVkaWFTdHJlYW1UcmFjaygpKX0pKSx0aGlzLl9jb25maWc9dCx0aGlzLl9vcmlnaW5hbENvbnN0cmFpbnRzPWksdGhpcy5fY29uc3RyYWludHM9aSx0aGlzLl9kZXZpY2VOYW1lPWUubGFiZWwsdGhpcy5fZW5jb2RlckNvbmZpZz1PUCh0aGlzLl9jb25maWcuZW5jb2RlckNvbmZpZyksX0wub24oUlAuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQsdGhpcy50cnlSZXN1bWVWaWRlb0ZvcklPUzE1XzE2V2VDaGF0KSxfTC5vbihSUC5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLnRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXQpLHRoaXMuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKX1hc3luYyBzZXREZXZpY2UoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5fc2V0RGV2aWNlQnlJZChlKTplLmRldmljZUlkP3RoaXMuX3NldERldmljZUJ5SWQoZS5kZXZpY2VJZCk6ZS5mYWNpbmdNb2RlP3RoaXMuX3NldERldmljZUJ5RmFjaW5nTW9kZWwoZS5mYWNpbmdNb2RlKTp2b2lkIDB9YXN5bmMgX3NldERldmljZUJ5SWQoZSl7aWYoaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldCBkZXZpY2UgdG8gXCIpLmNvbmNhdChlKSksdGhpcy5fZW5hYmxlZCl0cnl7Y29uc3QgdD1hd2FpdCBQTC5nZXREZXZpY2VCeUlkKGUpLGk9e307aS52aWRlbz1jTCh7fSx0aGlzLl9jb25zdHJhaW50cyksaS52aWRlby5kZXZpY2VJZD17ZXhhY3Q6ZX0saS52aWRlby5mYWNpbmdNb2RlPXZvaWQgMCx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTtsZXQgbj1udWxsO3RyeXtuPWF3YWl0IHdMKGksdGhpcy5nZXRUcmFja0lkKCkpfWNhdGNoKGUpe3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLG49YXdhaXQgd0woe3ZpZGVvOnRoaXMuX2NvbnN0cmFpbnRzfSx0aGlzLmdldFRyYWNrSWQoKSksYXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhuLmdldFZpZGVvVHJhY2tzKClbMF0sITEpLGV9YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhuLmdldFZpZGVvVHJhY2tzKClbMF0sITEpLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKSx0aGlzLl9kZXZpY2VOYW1lPXQubGFiZWwsdGhpcy5fY29uZmlnLmNhbWVyYUlkPWUsdGhpcy5fY29uc3RyYWludHMuZGV2aWNlSWQ9e2V4YWN0OmV9fWNhdGNoKGUpe3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1lbHNlIHRyeXtjb25zdCB0PWF3YWl0IFBMLmdldERldmljZUJ5SWQoZSk7dGhpcy5fZGV2aWNlTmFtZT10LmxhYmVsLHRoaXMuX2NvbmZpZy5jYW1lcmFJZD1lLHRoaXMuX2NvbnN0cmFpbnRzLmRldmljZUlkPXtleGFjdDplfX1jYXRjaChlKXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBzdWNjZXNzXCIpKX1hc3luYyBfc2V0RGV2aWNlQnlGYWNpbmdNb2RlbChlKXtpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IGZhY2luZ01vZGUgXCIpLmNvbmNhdChlKSk7Y29uc3QgdD17dmlkZW86Y0woY0woe30sdGhpcy5fY29uc3RyYWludHMpLHt9LHtkZXZpY2VJZDp2b2lkIDAsZmFjaW5nTW9kZTp7ZXhhY3Q6ZX19KX07aWYodGhpcy5fZW5hYmxlZCl7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCk7bGV0IGU9bnVsbDt0cnl7ZT1hd2FpdCB3TCh0LHRoaXMuZ2V0VHJhY2tJZCgpKX1jYXRjaCh0KXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZUJ5RmFjaW5nTW9kZWwgZmFpbGVkXCIpLHQudG9TdHJpbmcoKSksZT1hd2FpdCB3TCh7dmlkZW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKSxhd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUuZ2V0VmlkZW9UcmFja3MoKVswXSwhMSksdH1hd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUuZ2V0VmlkZW9UcmFja3MoKVswXSwhMSksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfXRoaXMuX2RldmljZU5hbWU9XCJcIix0aGlzLl9jb25maWcuZmFjaW5nTW9kZT1lLHRoaXMuX2NvbmZpZy5jYW1lcmFJZD12b2lkIDAsdGhpcy5fY29uc3RyYWludHM9Y0woe30sdC52aWRlbyksaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZUJ5RmFjaW5nTW9kZWwgc3VjY2Vzc1wiKSl9YXN5bmMgc2V0RW5hYmxlZChlLHQpe2lmKCF0KXtpZihlPT09dGhpcy5fZW5hYmxlZClyZXR1cm47dGhpcy5zdGF0ZUNoZWNrKFwiZW5hYmxlZFwiLGUpfWlmKGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXRFbmFibGVkXCIpLGUpLGUpe3RyeXtpZih0aGlzLmlzRXh0ZXJuYWxUcmFjayl0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITA7ZWxzZXtjb25zdCBlPWF3YWl0IHdMKHt2aWRlbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZS5nZXRWaWRlb1RyYWNrcygpWzBdLCExKX1hd2FpdCBxTyh0aGlzLFVQLk5FRURfRU5BQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0cnVlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX10aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCksaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gdHJ1ZSBzdWNjZXNzXCIpKSx0fHwodGhpcy5fZW5hYmxlZD0hMCl9ZWxzZXt0aGlzLmlzRXh0ZXJuYWxUcmFjaz90aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITE6KHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2sub25lbmRlZD1udWxsLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpKSx0fHwodGhpcy5fZW5hYmxlZD0hMSk7dHJ5e2F3YWl0IHFPKHRoaXMsVVAuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2Ugc3VjY2Vzc1wiKSl9fWFzeW5jIHNldEVuY29kZXJDb25maWd1cmF0aW9uKGUsdCl7aWYoIXRoaXMuX2VuYWJsZWQpdGhyb3cgbmV3IHBPKGhPLlRSQUNLX0lTX0RJU0FCTEVELFwiY2FuIG5vdCBzZXQgZW5jb2RlciBjb25maWd1cmF0aW9uIHdoZW4gdHJhY2sgaXMgZGlzYWJsZWRcIik7ZT1PUChlKSxDRChcIlVTRV9TVEFOREFSRF9CSVRSQVRFX0RFRkFVTFRcIikmJihkZWxldGUgZS5iaXRyYXRlTWF4LGRlbGV0ZSBlLmJpdHJhdGVNaW4pLHRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0JiYoZS5iaXRyYXRlTWF4PXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlfHxlLmJpdHJhdGVNYXgsZS5iaXRyYXRlTWluPXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1pbl9iaXRyYXRlfHxlLmJpdHJhdGVNaW4pO2NvbnN0IGk9c04odGhpcy5fY29uZmlnKTtpLmVuY29kZXJDb25maWc9ZTtjb25zdCBuPXpMKGkpOyhWdygpfHxqdygpfHxpTygpKSYmKG4uZGV2aWNlSWQ9dm9pZCAwKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuY29kZXJDb25maWd1cmF0aW9uIGFwcGx5Q29uc3RyYWludHNcIiksSlNPTi5zdHJpbmdpZnkoZSksSlNPTi5zdHJpbmdpZnkobikpO3RyeXthd2FpdCB0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmFwcGx5Q29uc3RyYWludHMobiksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IHBPKGhPLlVORVhQRUNURURfRVJST1IsZS50b1N0cmluZygpKTt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGFwcGx5Q29uc3RyYWludHMgZXJyb3JcIiksdC50b1N0cmluZygpKSx0fXRoaXMuX2NvbmZpZz1pLHRoaXMuX2NvbnN0cmFpbnRzPW4sdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cz1uLHRoaXMuX2VuY29kZXJDb25maWc9ZSwtMT09PXRoaXMuX2hpbnRzLmluZGV4T2YoVlAuU0NSRUVOX1RSQUNLKSYmdGhpcy51cGRhdGVCaXRyYXRlRnJvbVByb2ZpbGUoKTt0cnl7YXdhaXQgcU8odGhpcyxVUC5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMpfWNhdGNoKGUpe3JldHVybiBlLnRocm93KGlQKX19X2dldERlZmF1bHRQbGF5ZXJDb25maWcoKXtyZXR1cm57bWlycm9yOiEwLGZpdDpcImNvdmVyXCJ9fW9uVHJhY2tFbmRlZCgpe2lmKChqdygpfHxpTygpKSYmdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiZfTC5kdXJpbmdJbnRlcnJ1cHRpb24pe2NvbnN0IGU9YXN5bmMoKT0+e19MLm9mZihSUC5JT1NfSU5URVJSVVBUSU9OX0VORCxlKSx0aGlzLl9lbmFibGVkJiYhdGhpcy5faXNDbG9zZWQmJihpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyeSBjYXB0dXJlIGNhbWVyYSBtZWRpYSBkZXZpY2UgZm9yIGludGVycnVwdGVkIGlPUyBkZXZpY2UuXCIpKSxhd2FpdCB0aGlzLnNldEVuYWJsZWQoITEpLGF3YWl0IHRoaXMuc2V0RW5hYmxlZCghMCkpfTtfTC5vbihSUC5JT1NfSU5URVJSVVBUSU9OX0VORCxlKX1lbHNlIGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJhY2sgZW5kZWRcIikpLHRoaXMuc2FmZUVtaXQoR1AuVFJBQ0tfRU5ERUQpfWFzeW5jIHJlbmV3TWVkaWFTdHJlYW1UcmFjayhlKXtjb25zdCB0PWV8fHRoaXMuX2NvbnN0cmFpbnRzLGk9UEwuc2VhcmNoRGV2aWNlSWRCeU5hbWUodGhpcy5fZGV2aWNlTmFtZSk7aWYoaSYmIXQuZGV2aWNlSWQmJih0LmRldmljZUlkPXtleGFjdDppfSksdGhpcy5fZW5hYmxlZCl7Y29uc3QgZT1hd2FpdCB3TCh7dmlkZW86dH0sdGhpcy5nZXRUcmFja0lkKCkpO3RoaXMuX2NvbnN0cmFpbnRzPXQsYXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLmdldFZpZGVvVHJhY2tzKClbMF0sITApLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKX19Y2xvc2UoKXtzdXBlci5jbG9zZSgpLF9MLm9mZihSUC5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORCx0aGlzLnRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXQpLF9MLm9mZihSUC5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLnRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXQpfWNsb25lKHQpe2xldCBpPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0sbj10aGlzLl9lbmNvZGVyQ29uZmlnO3QmJihuPWNMKGNMKHt9LG4pLE9QKHQpKSksbj1hTihuKTtjb25zdCByPVNOKDgsXCJ0cmFjay1jYW0tY2xvbmVkLVwiKSxvPW5ldyBlKGk/dGhpcy5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2ssYU4oY0woY0woe30sdGhpcy5fY29uZmlnKSx7fSx7ZW5jb2RlckNvbmZpZzpufSkpLGFOKHRoaXMuX2NvbnN0cmFpbnRzKSxhTih0aGlzLl9zY2FsYWJpbGl0eU1vZGUpLHRoaXMuX29wdGltaXphdGlvbk1vZGUscik7cmV0dXJuIHQmJm4mJm8uc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24obiksaVAuZGVidWcoXCJjbG9uZSB0cmFjayBmcm9tIFwiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIiB0byBcIikuY29uY2F0KHIsXCIsIGNsb25lIFwiKS5jb25jYXQoaSkpLG99YmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKXt0aGlzLnByb2Nlc3NvckNvbnRleHQub24oWlAuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMsKGFzeW5jKGUsdCxpKT0+e3RyeXtjb25zdCBpPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cywuLi5lKTthd2FpdCB0aGlzLnJlbmV3TWVkaWFTdHJlYW1UcmFjayhpKSx0KCl9Y2F0Y2goZSl7aShlKX19KSksdGhpcy5wcm9jZXNzb3JDb250ZXh0Lm9uKFpQLlJFUVVFU1RfQ09OU1RSQUlOVFMsKGFzeW5jIGU9PntlKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKSl9KSl9fSxvTChMTS5wcm90b3R5cGUsXCJzZXREZXZpY2VcIixbSU0sQU1dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTE0ucHJvdG90eXBlLFwic2V0RGV2aWNlXCIpLExNLnByb3RvdHlwZSksb0woTE0ucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiLFtiTSx3TSxPTV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihMTS5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIpLExNLnByb3RvdHlwZSksb0woTE0ucHJvdG90eXBlLFwic2V0RW5jb2RlckNvbmZpZ3VyYXRpb25cIixbTk0sRE1dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTE0ucHJvdG90eXBlLFwic2V0RW5jb2RlckNvbmZpZ3VyYXRpb25cIiksTE0ucHJvdG90eXBlKSxvTChMTS5wcm90b3R5cGUsXCJjbG9zZVwiLFtQTV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihMTS5wcm90b3R5cGUsXCJjbG9zZVwiKSxMTS5wcm90b3R5cGUpLExNKTtmdW5jdGlvbiBVTShlKXtjb25zdCB0PVNOKDgsXCJ0cmFjay1jdXMtXCIpLGk9bFAucmVwb3J0QXBpSW52b2tlKG51bGwse2lkOnQsdGFnOmtPLlRSQUNFUixuYW1lOkxPLkNSRUFURV9DVVNUT01fQVVESU9fVFJBQ0ssb3B0aW9uczpbZV19KSxuPW5ldyBCayhlLm1lZGlhU3RyZWFtVHJhY2ssZS5lbmNvZGVyQ29uZmlnP0xQKGUuZW5jb2RlckNvbmZpZyk6e30sdCwhMSk7cmV0dXJuIGlQLmluZm8oXCJjcmVhdGUgY3VzdG9tIGF1ZGlvIHRyYWNrIHN1Y2Nlc3Mgd2l0aCBjb25maWdcIixlLFwidHJhY2tJZFwiLG4uZ2V0VHJhY2tJZCgpKSxpLm9uU3VjY2VzcyhuLmdldFRyYWNrSWQoKSksbn1mdW5jdGlvbiBWTShlLHQsaSxuKXtpLm9wdGltaXphdGlvbk1vZGUmJihuJiZuLndpZHRoJiZuLmhlaWdodD8oaS5lbmNvZGVyQ29uZmlnPWNMKGNMKHt9LG4pLHt9LHtiaXRyYXRlTWluOm4uYml0cmF0ZU1pbixiaXRyYXRlTWF4Om4uYml0cmF0ZU1heH0pLFwibW90aW9uXCIhPT1pLm9wdGltaXphdGlvbk1vZGUmJlwiZGV0YWlsXCIhPT1pLm9wdGltaXphdGlvbk1vZGV8fCh0LmNvbnRlbnRIaW50PWkub3B0aW1pemF0aW9uTW9kZSx0LmNvbnRlbnRIaW50PT09aS5vcHRpbWl6YXRpb25Nb2RlP2lQLmRlYnVnKFwiW1wiLmNvbmNhdChlLFwiXSBzZXQgY29udGVudCBoaW50IHRvXCIpLGkub3B0aW1pemF0aW9uTW9kZSk6aVAuZGVidWcoXCJbXCIuY29uY2F0KGUsXCJdIHNldCBjb250ZW50IGhpbnQgZmFpbGVkXCIpKSkpOmlQLndhcm5pbmcoXCJbXCIuY29uY2F0KGUsXCJdIGNhbiBub3QgYXBwbHkgb3B0aW1pemF0aW9uIG1vZGUgYml0cmF0ZSBjb25maWcsIG5vIGVuY29kZXJDb25maWdcIikpKX12YXIgeE0sRk0sQk0sak0sR00sV00sSE0sS00sWU0sek0scU0sWE0sSk07Y2xhc3MgUU0gZXh0ZW5kcyBkTHtnZXRVc2VySWQoKXtyZXR1cm4gdGhpcy5fdXNlcklkfWNvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKGUsXCJ0cmFjay1cIi5jb25jYXQoZS5raW5kLFwiLVwiKS5jb25jYXQodCxcIi1cIikuY29uY2F0KG4uY2xpZW50SWQsXCJfXCIpLmNvbmNhdChTTig1LFwiXCIpKSksc0wodGhpcyxcIl91c2VySWRcIix2b2lkIDApLHNMKHRoaXMsXCJfdWludElkXCIsdm9pZCAwKSxzTCh0aGlzLFwiX2lzRGVzdHJveWVkXCIsITEpLHNMKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksc0wodGhpcyxcInByb2Nlc3NvclwiLHZvaWQgMCksc0wodGhpcyxcInByb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLHRoaXMuX3VzZXJJZD10LHRoaXMuX3VpbnRJZD1pLHRoaXMuc3RvcmU9bn1fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLHRoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pfV9kZXN0cm95KCl7dGhpcy5faXNEZXN0cm95ZWQ9ITAsaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGlzIGRlc3Ryb3llZFwiKSksdGhpcy5zdG9wKCksc3VwZXIuY2xvc2UoKX1nZXRQcm9jZXNzb3JTdGF0cygpe3JldHVybiB0aGlzLnByb2Nlc3NvckNvbnRleHQuZ2F0aGVyU3RhdHMoKX1nZXRQcm9jZXNzb3JVc2FnZSgpe3JldHVybiB0aGlzLnByb2Nlc3NvckNvbnRleHQuZ2F0aGVyVXNhZ2UoKX19bGV0IFpNPSh4TT1kUCh7YXJnc01hcDooZSx0LGkpPT5bZS5nZXRUcmFja0lkKCksXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD9cIkhUTUxWaWRlb0VsZW1lbnRcIjpcIkhUTUxFbGVtZW50XCIsaV19KSxGTT1kUCh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksQk09ZFAoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0Lm5hbWVdfSksak09ZFAoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLG9MKChHTT1jbGFzcyBleHRlbmRzIFFNe2dldCBpc1BsYXlpbmcoKXtyZXR1cm4hKCF0aGlzLl9wbGF5ZXJ8fHRoaXMuX3BsYXllci52aWRlb0VsZW1lbnRTdGF0dXMhPT10TC5QTEFZSU5HKX1nZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiUmVtb3RlVmlkZW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4scil7c3VwZXIoZSx0LGksbiksc0wodGhpcyxcIl92aWRlb1Zpc2libGVUaW1lclwiLG51bGwpLHNMKHRoaXMsXCJfcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXNcIix2b2lkIDApLHNMKHRoaXMsXCJfY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1c1wiLCgoKT0+dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXM9dm9pZCAwKSksc0wodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsSFAuVklERU8pLHNMKHRoaXMsXCJfdmlkZW9XaWR0aFwiLHZvaWQgMCksc0wodGhpcyxcIl92aWRlb0hlaWdodFwiLHZvaWQgMCksc0wodGhpcyxcIl9wbGF5ZXJcIix2b2lkIDApLHNMKHRoaXMsXCJfcHJlUGxheWVyXCIsdm9pZCAwKSxzTCh0aGlzLFwicHJvY2Vzc29yRGVzdGluYXRpb25cIix2b2lkIDApLHNMKHRoaXMsXCJwcm9jZXNzb3JDb250ZXh0XCIsdm9pZCAwKSx0aGlzLl9wcmVQbGF5ZXI9cix0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCksdGhpcy5wcm9jZXNzb3JDb250ZXh0PW5ldyBqTCh0aGlzLmdldFRyYWNrSWQoKSxcInJlbW90ZVwiKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uPW5ldyBCTCh0aGlzLnByb2Nlc3NvckNvbnRleHQpLHRoaXMuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl9Z2V0U3RhdHMoKXtyZXR1cm4gZE4oKCgpPT57aVAud2FybmluZyhcIltkZXByZWNhdGVkXSBSZW1vdGVWaWRlb1RyYWNrLmdldFN0YXRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCB1c2UgQWdvcmFSVENDbGllbnQuZ2V0UmVtb3RlVmlkZW9TdGF0cyBpbnN0ZWFkXCIpfSksXCJyZW1vdGVWaWRlb1RyYWNrR2V0U3RhdHNXYXJuaW5nXCIpLFhPKHRoaXMsVVAuR0VUX1NUQVRTKXx8Y0woe30sSlApfXBsYXkoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKHRoaXMuc2FmZUVtaXQoV1AuUExBWV9TVEFSVCksXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7dD9lPXQ6KGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLCddIGNhbiBub3QgZmluZCBcIiMnKS5jb25jYXQoZSwnXCIgZWxlbWVudCwgdXNlIGRvY3VtZW50LmJvZHknKSksZT1kb2N1bWVudC5ib2R5KX1pUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHZpZGVvIHBsYXliYWNrIGluIFwiKS5jb25jYXQoZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/XCJIVE1MVmlkZW9FbGVtZW50XCI6XCJIVE1MRWxlbWVudFwiKSxKU09OLnN0cmluZ2lmeSh0KSk7Y29uc3QgaT1jTChjTCh7Zml0OlwiY292ZXJcIn0sdCkse30se3RyYWNrSWQ6dGhpcy5nZXRUcmFja0lkKCksZWxlbWVudDplfSk7aWYodGhpcy5fcGxheWVyKXRoaXMuX3BsYXllci51cGRhdGVDb25maWcoaSk7ZWxzZXtsZXQgdD0hMSxuPSExO2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50Pyh0aGlzLl9wbGF5ZXI9bmV3IHprKGkpLHRoaXMuX3ByZVBsYXllciYmKHRoaXMuX3ByZVBsYXllci5kZXN0cm95KCksdGhpcy5fcHJlUGxheWVyPXZvaWQgMCxuPSEwKSk6dGhpcy5fcHJlUGxheWVyJiYhdGhpcy5fcHJlUGxheWVyLmlzRGVzdHJveWVkPyh0aGlzLl9wbGF5ZXI9dGhpcy5fcHJlUGxheWVyLHRoaXMuX3ByZVBsYXllcj12b2lkIDAsdD10aGlzLl9wbGF5ZXIudmlkZW9TdGF0ZT4wLHRoaXMuX3BsYXllci51cGRhdGVDb25maWcoaSkpOnRoaXMuX3BsYXllcj1uZXcgWGsoaSksdGhpcy5fcGxheWVyLnVwZGF0ZVZpZGVvVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayksdGhpcy5fcGxheWVyLm9uRmlyc3RWaWRlb0ZyYW1lRGVjb2RlZD0oKT0+e3RoaXMuc3RvcmUuc3Vic2NyaWJlKHRoaXMuZ2V0VXNlcklkKCksXCJ2aWRlb1wiLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSksdGhpcy5zYWZlRW1pdChXUC5GSVJTVF9GUkFNRV9ERUNPREVEKSxuJiZ0aGlzLnNhZmVFbWl0KFdQLkZJUlNUX0ZSQU1FX1JFTkRFUil9LHRoaXMuX3BsYXllci5vblZpZGVvU3RhdGVDaGFuZ2VkPWU9Pnt0aGlzLnNhZmVFbWl0KFdQLlZJREVPX1NUQVRFX0NIQU5HRUQsZSl9LHQmJih0aGlzLl9wbGF5ZXIub25GaXJzdFZpZGVvRnJhbWVEZWNvZGVkKCksdGhpcy5fcGxheWVyLm9uVmlkZW9TdGF0ZUNoYW5nZWQodGhpcy5fcGxheWVyLnZpZGVvU3RhdGUpKX10aGlzLl9wbGF5ZXIucGxheSh0aGlzLnN0b3JlLnNlc3Npb25JZHx8dm9pZCAwKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fdmlkZW9WaXNpYmxlVGltZXIpLHRoaXMuX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMoKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dHJ5e2NvbnN0IGU9dGhpcy5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzKCk7dGhpcy5zYWZlRW1pdChXUC5WSURFT19FTEVNRU5UX1ZJU0lCTEVfU1RBVFVTLGUpfWNhdGNoKGUpe319KSxDRChcIkNIRUNLX1ZJREVPX1ZJU0lCTEVfSU5URVJWQUxcIikpLHRoaXMuc2FmZUVtaXQoV1AuUExBWV9FTkQpfXN0b3AoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3RoaXMuX3BsYXllciYmKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fdmlkZW9WaXNpYmxlVGltZXIpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyPW51bGwpLHRoaXMuX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMoKSx0aGlzLl9wbGF5ZXIuZGVzdHJveShlKSx0aGlzLl9wbGF5ZXI9dm9pZCAwLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RvcCB2aWRlbyBwbGF5YmFja1wiKSkpfWdldEN1cnJlbnRGcmFtZURhdGEoKXtyZXR1cm4gdGhpcy5fcGxheWVyP3RoaXMuX3BsYXllci5nZXRDdXJyZW50RnJhbWUoKTpuZXcgSW1hZ2VEYXRhKDIsMil9dXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKXtZTCh0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrKS50aGVuKChlPT57bGV0W3QsaV09ZTt0aGlzLl92aWRlb0hlaWdodD1pLHRoaXMuX3ZpZGVvV2lkdGg9dH0pKS5jYXRjaChUTil9X3VwZGF0ZVBsYXllclNvdXJjZSgpe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIHBsYXllciBzb3VyY2UgdHJhY2tcIikpLHRoaXMuX3BsYXllciYmdGhpcy5fcGxheWVyLnVwZGF0ZVZpZGVvVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayl9Z2V0VmlkZW9FbGVtZW50VmlzaWJsZVN0YXR1cygpe3RyeXt2YXIgZSx0O2NvbnN0IGk9bnVsbD09dGhpc3x8bnVsbD09PShlPXRoaXMuX3BsYXllcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0Q29udGFpbmVyRWxlbWVudCgpLG49e3RyYWNrOnRoaXMsZWxlbWVudDpudWxsPT10aGlzfHxudWxsPT09KHQ9dGhpcy5fcGxheWVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRWaWRlb0VsZW1lbnQoKSxzbG90Om51bGw9PWk/dm9pZCAwOmkucGFyZW50RWxlbWVudH0se2VsZW1lbnQ6cixzbG90Om99PW47aWYodGhpcy5pc1BsYXlpbmcmJnIgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50JiZvIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe2NvbnN0IGU9QU8uY2hlY2tPbmVFbGVtZW50VmlzaWJsZShyKSx0PU9iamVjdC5hc3NpZ24oe30sZSk7aWYodC52aXNpYmxlIT09dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMpe3RoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzPXQudmlzaWJsZTtjb25zdCBlPWxQLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6a08uVFJBQ0VSLG5hbWU6TE8uUkVNT1RFX1ZJREVPX1RSQUNLX0dFVF9WSURFT19WSVNJQkxFLG9wdGlvbnM6W3RoaXMuZ2V0VHJhY2tJZCgpXX0pO3QudmlzaWJsZT9lLm9uU3VjY2VzcyhcIlZpZGVvIGlzIHZpc2libGVcIik6ZS5vblN1Y2Nlc3MoXCJJbnZpc2libGUgYmVjYXVzZSBvZiBcIi5jb25jYXQodC5yZWFzb24pKX1yZXR1cm4gdH1yZXR1cm59Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkdFVF9WSURFT19FTEVNRU5UX1ZJU0lCTEVfRVJST1IsZS5tZXNzYWdlKX19cGlwZShlKXtpZih0aGlzLnByb2Nlc3Nvcj09PWUpcmV0dXJuIGU7aWYoZS5fc291cmNlKXRocm93IG5ldyBwTyhoTy5JTlZBTElEX09QRVJBVElPTixcIlByb2Nlc3NvciBcIi5jb25jYXQoZS5uYW1lLFwiIGFscmVhZHkgcGlwZWQsIHBsZWFzZSBjYWxsIHVucGlwZSBiZWZvcmVoYW5kLlwiKSk7cmV0dXJuIHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3I9ZSx0aGlzLnByb2Nlc3Nvci5fc291cmNlPXRoaXMsZS51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pLGV9dW5waXBlKCl7aWYoIXRoaXMucHJvY2Vzc29yKXJldHVybjtjb25zdCBlPXRoaXMucHJvY2Vzc29yO3RoaXMucHJvY2Vzc29yLl9zb3VyY2U9dm9pZCAwLHRoaXMucHJvY2Vzc29yPXZvaWQgMCxlLnJlc2V0KCl9YmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5vbihRUC5PTl9UUkFDSywoYXN5bmMgZT0+e2U/ZSE9PXRoaXMuX21lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCkpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpKX0pKX11bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKFFQLk9OX1RSQUNLKX1fZGVzdHJveSgpe3RoaXMuX3ByZVBsYXllciYmKHRoaXMuX3ByZVBsYXllci5kZXN0cm95KCksdGhpcy5fcHJlUGxheWVyPXZvaWQgMCksc3VwZXIuX2Rlc3Ryb3koKSx0aGlzLnVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl9X29uU2VpKGUpe3RoaXMuZW1pdChqUC5TRUlfUkVDRUlWRUQsZSl9fSkucHJvdG90eXBlLFwicGxheVwiLFt4TV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHTS5wcm90b3R5cGUsXCJwbGF5XCIpLEdNLnByb3RvdHlwZSksb0woR00ucHJvdG90eXBlLFwic3RvcFwiLFtGTV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHTS5wcm90b3R5cGUsXCJzdG9wXCIpLEdNLnByb3RvdHlwZSksb0woR00ucHJvdG90eXBlLFwicGlwZVwiLFtCTV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHTS5wcm90b3R5cGUsXCJwaXBlXCIpLEdNLnByb3RvdHlwZSksb0woR00ucHJvdG90eXBlLFwidW5waXBlXCIsW2pNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEdNLnByb3RvdHlwZSxcInVucGlwZVwiKSxHTS5wcm90b3R5cGUpLEdNKSwkTT0oV009ZFAoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XSx0aHJvdHRsZVRpbWU6MzAwfSksSE09ZFAoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XSx0aHJvdHRsZVRpbWU6MzAwfSksS009ZFAoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XX0pLFlNPWRQKHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSx6TT1kUCh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSkscU09ZFAoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0Lm5hbWVdfSksWE09ZFAoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLG9MKChKTT1jbGFzcyBleHRlbmRzIFFNe2dldCBpc1BsYXlpbmcoKXtyZXR1cm4gdGhpcy5fdXNlQXVkaW9FbGVtZW50P3hMLmlzUGxheWluZyh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlLmlzUGxheWVkfWdldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuXCJSZW1vdGVBdWRpb1RyYWNrXCJ9Y29uc3RydWN0b3IoZSx0LGksbil7c3VwZXIoZSx0LGksbiksc0wodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsSFAuQVVESU8pLHNMKHRoaXMsXCJfc291cmNlXCIsdm9pZCAwKSxzTCh0aGlzLFwiX3VzZUF1ZGlvRWxlbWVudFwiLCEwKSxzTCh0aGlzLFwiX3ZvbHVtZVwiLDEwMCksc0wodGhpcyxcInByb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLHNMKHRoaXMsXCJwcm9jZXNzb3JEZXN0aW5hdGlvblwiLHZvaWQgMCksc0wodGhpcyxcIl9wbGF5ZWRcIiwhMSksc0wodGhpcyxcIl9ieXBhc3NXZWJBdWRpb1wiLCExKSxDRChcIkRJU0FCTEVfV0VCQVVESU9cIik/KHRoaXMuX3NvdXJjZT1uZXcgSEwsdGhpcy5fYnlwYXNzV2ViQXVkaW89ITAsdGhpcy5fdXNlQXVkaW9FbGVtZW50PSEwKToodGhpcy5fc291cmNlPW5ldyBSTChlLCEwKSxDRChcIlJFTU9URV9BVURJT19UUkFDS19VU0VTX1dFQl9BVURJT1wiKSYmKHRoaXMuX3VzZUF1ZGlvRWxlbWVudD0hMSkpLHRoaXMuX3NvdXJjZS5vbmNlKEtQLlJFQ0VJVkVfVFJBQ0tfQlVGRkVSLCgoKT0+e3RoaXMuc2FmZUVtaXQoV1AuRklSU1RfRlJBTUVfREVDT0RFRCl9KSksdGhpcy5wcm9jZXNzb3JDb250ZXh0PW5ldyBXTCh0aGlzLl9zb3VyY2UuY29udGV4dCx0aGlzLmdldFRyYWNrSWQoKSxcInJlbW90ZVwiKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uPW5ldyBHTCh0aGlzLnByb2Nlc3NvckNvbnRleHQpLHRoaXMuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCksdGhpcy5fc291cmNlLm9uKEtQLlVQREFURV9TT1VSQ0UsKCgpPT57dGhpcy5wcm9jZXNzb3ImJnRoaXMucHJvY2Vzc29yLnVwZGF0ZUlucHV0KHtub2RlOnRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pfSkpfXNldEF1ZGlvRnJhbWVDYWxsYmFjayhlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NDA5NjtpZighZSlyZXR1cm4gdGhpcy5fc291cmNlLnJlbW92ZUFsbExpc3RlbmVycyhLUC5PTl9BVURJT19CVUZGRVIpLHZvaWQgdGhpcy5fc291cmNlLnN0b3BHZXRBdWRpb0J1ZmZlcigpO3RoaXMuX3NvdXJjZS5zdGFydEdldEF1ZGlvQnVmZmVyKHQpLHRoaXMuX3NvdXJjZS5yZW1vdmVBbGxMaXN0ZW5lcnMoS1AuT05fQVVESU9fQlVGRkVSKSx0aGlzLl9zb3VyY2Uub24oS1AuT05fQVVESU9fQlVGRkVSLCh0PT5lKHQpKSl9c2V0Vm9sdW1lKGUpe3RoaXMuX3ZvbHVtZT1lLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD94TC5zZXRWb2x1bWUodGhpcy5nZXRUcmFja0lkKCksZSk6dGhpcy5fc291cmNlLnNldFZvbHVtZShlLzEwMCl9c2V0QW1wbGlmaWVkVm9sdW1lKGUpe3RoaXMuX3VzZUF1ZGlvRWxlbWVudCYmdGhpcy5fcGxheWVkJiYoeEwuc3RvcCh0aGlzLmdldFRyYWNrSWQoKSksdGhpcy5fc291cmNlLnBsYXkoKSksdGhpcy5fdXNlQXVkaW9FbGVtZW50PSExLGU9TWF0aC5taW4oZSxDRChcIk1BWF9XRUJBVURJT19WT0xVTUVcIikpLHRoaXMuX3ZvbHVtZT1lLHRoaXMuX3NvdXJjZS5zZXRWb2x1bWUoZS8xMDApfWFzeW5jIHNldFBsYXliYWNrRGV2aWNlKGUpe2lmKCF0aGlzLl91c2VBdWRpb0VsZW1lbnR8fCFfUCgpKXRocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwieW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgc2V0dGluZyB0aGUgYXVkaW8gb3V0cHV0IGRldmljZVwiKTthd2FpdCB4TC5zZXRTaW5rSUQodGhpcy5nZXRUcmFja0lkKCksZSl9Z2V0Vm9sdW1lTGV2ZWwoKXtyZXR1cm4gdGhpcy5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKX1nZXRWb2x1bWUoKXtyZXR1cm4gdGhpcy5fdXNlQXVkaW9FbGVtZW50P3hMLmdldFZvbHVtZSh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlIGluc3RhbmNlb2YgUkw/dGhpcy5fc291cmNlLmdldEF1ZGlvVm9sdW1lKCk6MH1nZXRTdGF0cygpe3JldHVybiBkTigoKCk9PntpUC53YXJuaW5nKFwiW2RlcHJlY2F0ZWRdIFJlbW90ZUF1ZGlvVHJhY2suZ2V0U3RhdHMgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHVzZSBBZ29yYVJUQ0NsaWVudC5nZXRSZW1vdGVBdWRpb1N0YXRzIGluc3RlYWRcIil9KSxcInJlbW90ZUF1ZGlvVHJhY2tHZXRTdGF0c1dhcm5pbmdcIiksWE8odGhpcyxVUC5HRVRfU1RBVFMpfHxjTCh7fSxxUCl9cGxheSgpe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgYXVkaW8gcGxheWJhY2tcIikpLHRoaXMuX3BsYXllZD0hMCx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/KGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXNlIGF1ZGlvIGVsZW1lbnQgdG8gcGxheVwiKSkseEwucGxheSh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrLHRoaXMuZ2V0VHJhY2tJZCgpLHRoaXMuX3ZvbHVtZSx0aGlzLnN0b3JlLnNlc3Npb25JZHx8dm9pZCAwKSk6KGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXNlIGF1ZGlvIGNvbnRleHQgdG8gcGxheVwiKSksdGhpcy5fc291cmNlLnBsYXkoKSl9c3RvcCgpe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RvcCBhdWRpbyBwbGF5YmFja1wiKSksdGhpcy5fcGxheWVkPSExLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD94TC5zdG9wKHRoaXMuZ2V0VHJhY2tJZCgpKTp0aGlzLl9zb3VyY2Uuc3RvcCgpfV9kZXN0cm95KCl7c3VwZXIuX2Rlc3Ryb3koKSx0aGlzLl9wbGF5ZWQ9ITEsdGhpcy51bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpLHRoaXMuX3NvdXJjZS5kZXN0cm95KCl9X2lzRnJlZXplKCl7cmV0dXJuIHRoaXMuX3NvdXJjZS5pc0ZyZWV6ZX1fdXBkYXRlUGxheWVyU291cmNlKCl7bGV0IGU9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZSBwbGF5ZXIgc291cmNlIHRyYWNrXCIpKSxlJiZ0aGlzLl9zb3VyY2UudXBkYXRlVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayksdGhpcy5fdXNlQXVkaW9FbGVtZW50JiZ4TC51cGRhdGVUcmFjayh0aGlzLmdldFRyYWNrSWQoKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKX1waXBlKGUpe2lmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCBwaXBlIGV4dGVuc2lvbiB3aGVuIFdlYkF1ZGlvIGRpc2FibGVkXCIpO2lmKHRoaXMucHJvY2Vzc29yPT09ZSlyZXR1cm4gZTtpZihlLl9zb3VyY2UpdGhyb3cgbmV3IHBPKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiUHJvY2Vzc29yIFwiLmNvbmNhdChlLm5hbWUsXCIgYWxyZWFkeSBwaXBlZCwgcGxlYXNlIGNhbGwgdW5waXBlIGJlZm9yZWhhbmQuXCIpKTtyZXR1cm4gdGhpcy51bnBpcGUoKSx0aGlzLnByb2Nlc3Nvcj1lLHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9dGhpcyxlLnVwZGF0ZUlucHV0KHt0cmFjazp0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLG5vZGU6dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlLGNvbnRleHQ6dGhpcy5wcm9jZXNzb3JDb250ZXh0fSksZX11bnBpcGUoKXt2YXIgZTtpZih0aGlzLl9ieXBhc3NXZWJBdWRpbyl0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgdW5waXBlIGV4dGVuc2lvbiB3aGVuIFdlYkF1ZGlvIGRpc2FibGVkXCIpO2lmKCF0aGlzLnByb2Nlc3NvcilyZXR1cm47Y29uc3QgdD10aGlzLnByb2Nlc3NvcjtudWxsPT09KGU9dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlKXx8dm9pZCAwPT09ZXx8ZS5kaXNjb25uZWN0KCksdGhpcy5wcm9jZXNzb3IuX3NvdXJjZT0hMSx0aGlzLnByb2Nlc3Nvcj12b2lkIDAsdC5yZXNldCgpfWJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ub24oUVAuT05fVFJBQ0ssKGFzeW5jIGU9PntlP2UhPT10aGlzLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSghMSksdGhpcy5fc291cmNlLnByb2Nlc3NlZE5vZGU9dGhpcy5fc291cmNlLmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlTm9kZShlKSk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCkpfSkpLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ub24oUVAuT05fTk9ERSwoZT0+e3RoaXMuX3NvdXJjZS5wcm9jZXNzZWROb2RlPWU7Y29uc3QgdD0hZTt0aGlzLl91c2VBdWRpb0VsZW1lbnQhPT10JiYodGhpcy5fcGxheWVkPyh0aGlzLnN0b3AoKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ9dCx0aGlzLnBsYXkoKSk6dGhpcy5fdXNlQXVkaW9FbGVtZW50PXQpfSkpfXVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoUVAuT05fVFJBQ0spLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKFFQLk9OX05PREUpfX0pLnByb3RvdHlwZSxcInNldFZvbHVtZVwiLFtXTV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihKTS5wcm90b3R5cGUsXCJzZXRWb2x1bWVcIiksSk0ucHJvdG90eXBlKSxvTChKTS5wcm90b3R5cGUsXCJzZXRBbXBsaWZpZWRWb2x1bWVcIixbSE1dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSk0ucHJvdG90eXBlLFwic2V0QW1wbGlmaWVkVm9sdW1lXCIpLEpNLnByb3RvdHlwZSksb0woSk0ucHJvdG90eXBlLFwic2V0UGxheWJhY2tEZXZpY2VcIixbS01dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSk0ucHJvdG90eXBlLFwic2V0UGxheWJhY2tEZXZpY2VcIiksSk0ucHJvdG90eXBlKSxvTChKTS5wcm90b3R5cGUsXCJwbGF5XCIsW1lNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEpNLnByb3RvdHlwZSxcInBsYXlcIiksSk0ucHJvdG90eXBlKSxvTChKTS5wcm90b3R5cGUsXCJzdG9wXCIsW3pNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEpNLnByb3RvdHlwZSxcInN0b3BcIiksSk0ucHJvdG90eXBlKSxvTChKTS5wcm90b3R5cGUsXCJwaXBlXCIsW3FNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEpNLnByb3RvdHlwZSxcInBpcGVcIiksSk0ucHJvdG90eXBlKSxvTChKTS5wcm90b3R5cGUsXCJ1bnBpcGVcIixbWE1dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSk0ucHJvdG90eXBlLFwidW5waXBlXCIpLEpNLnByb3RvdHlwZSksSk0pO2NvbnN0IGVVPW5ldyBjbGFzcyBleHRlbmRzIE5Pe2dldCB2aXNpYmlsaXR5KCl7cmV0dXJuIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZX1nZXQgbGFzdEhpZGRlblRpbWUoKXtyZXR1cm4gdGhpcy5fbGFzdEhpZGRlblRpbWV9Z2V0IGxhc3RWaXNpYmxlVGltZSgpe3JldHVybiB0aGlzLl9sYXN0VmlzaWJsZVRpbWV9Y29uc3RydWN0b3IoKXtzdXBlcigpLHNMKHRoaXMsXCJfbGFzdEhpZGRlblRpbWVcIiwwKSxzTCh0aGlzLFwiX2xhc3RWaXNpYmxlVGltZVwiLDApLHNMKHRoaXMsXCJuZWVkVXBsb2FkU3RhdHNcIixbXSksc0wodGhpcyxcImlzQ29sbGVjdGluZ1N0YXRzXCIsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsKCgpPT57XCJoaWRkZW5cIj09PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT90aGlzLl9sYXN0SGlkZGVuVGltZT1wZXJmb3JtYW5jZS5ub3coKTp0aGlzLl9sYXN0VmlzaWJsZVRpbWU9cGVyZm9ybWFuY2Uubm93KCksdGhpcy5pc0NvbGxlY3RpbmdTdGF0cyYmdGhpcy5uZWVkVXBsb2FkU3RhdHMucHVzaChcInZpc2libGVcIj09PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT8xOjApLGlQLmRlYnVnKFwiY3VycmVudCB3ZWIgcGFnZSBpcyBcIi5jb25jYXQoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKSksdGhpcy5lbWl0KFwiVklTSUJJTElUWV9DSEFOR0VcIixkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpfSkpfXN0YXJ0Q29sbGVjdFN0YXRzKCl7dGhpcy5pc0NvbGxlY3RpbmdTdGF0cz0hMCx0aGlzLm5lZWRVcGxvYWRTdGF0cy5wdXNoKFwidmlzaWJsZVwiPT09dGhpcy52aXNpYmlsaXR5PzE6MCl9c3RvcENvbGxlY3RTdGF0cygpe3RoaXMuaXNDb2xsZWN0aW5nU3RhdHM9ITEsdGhpcy5uZWVkVXBsb2FkU3RhdHMubGVuZ3RoPTB9fTtjbGFzcyB0VSBleHRlbmRzIE5Pe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxzTCh0aGlzLFwidHJhY2tNZWRpYVR5cGVcIixIUC5EQVRBKSxzTCh0aGlzLFwiX3ZlcnNpb25cIiwxKSxzTCh0aGlzLFwiX3R5cGVcIiwzKSxzTCh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksc0wodGhpcyxcIl9vcmlnaW5EYXRhQ2hhbm5lbFwiLHZvaWQgMCksc0wodGhpcyxcIl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyXCIsbmV3IEFycmF5QnVmZmVyKDQpKSxzTCh0aGlzLFwiX2RhdGFTdHJlYW1QYWNrZXRIYW5kbGVyXCIse3NlcmlhbGl6ZTplPT5lLGRlc2VyaWFsaXplOmU9PmV9KSxzTCh0aGlzLFwiX2RhdGFjaGFubmVsRXZlbnRNYXBcIixuZXcgTWFwKSx0aGlzLl9jb25maWc9ZSx0JiYodGhpcy5fb3JpZ2luRGF0YUNoYW5uZWw9dCx0aGlzLl9iYW5kRGF0YUNoYW5uZWxFdmVudHModCkpLHRoaXMuX2luaXRQYWNrZXRIZWFkZXIoKX11c2VEYXRhU3RyZWFtKGUpe3RoaXMuX2RhdGFTdHJlYW1QYWNrZXRIYW5kbGVyPWV9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5pZH1nZXQgb3JkZXJlZCgpe3JldHVybiB0aGlzLl9jb25maWcub3JkZXJlZH1nZXQgbWF4UmV0cmFuc21pdHMoKXtyZXR1cm4gQ0QoXCJEQVRBU1RSRUFNX01BWF9SRVRSQU5TTUlUU1wiKX1nZXQgbWV0YWRhdGEoKXtyZXR1cm4gdGhpcy5fY29uZmlnLm1ldGFkYXRhfWdldCByZWFkeVN0YXRlKCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9PShlPW51bGw9PT0odD10aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucmVhZHlTdGF0ZSkmJnZvaWQgMCE9PWU/ZTpcImNvbm5lY3RpbmdcIn1nZXQgX29yaWdpbkRhdGFDaGFubmVsSWQoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pZCkmJnZvaWQgMCE9PWU/ZTpudWxsfWdldENoYW5uZWxJZCgpe3JldHVybiB0aGlzLmlkfWdldENvbmZpZygpe3JldHVybiB0aGlzLl9jb25maWd9X2Nsb3NlKCl7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwmJih0aGlzLl91bmJpbmREYXRhQ2hhbm5lbEV2ZW50cyh0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCksdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWw9dm9pZCAwKX1hc3luYyBfd2FpdFRpbGxPcGVuKCl7cmV0dXJuIG5ldyBycCgoKGUsdCk9PntpZih0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCl7XCJvcGVuXCI9PT10aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5yZWFkeVN0YXRlJiZlKCk7Y29uc3QgaT1zZXRUaW1lb3V0KCgoKT0+e3ZhciBlO3QobmV3IHBPKGhPLkRBVEFDSEFOTkVMX0NPTk5FQ1RJT05fVElNRU9VVCxcIkNhbm5vdCBjcmVhdGUgZGF0YWNoYW5uZWwsIGlkOiBcIi5jb25jYXQobnVsbD09PShlPXRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pZCkpKX0pLDFlNCk7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwub25vcGVuPSgpPT57Y2xlYXJUaW1lb3V0KGkpLHRoaXMuX29yaWdpbkRhdGFDaGFubmVsJiZ0aGlzLl9iYW5kRGF0YUNoYW5uZWxFdmVudHModGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpLGUoKX0sdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwub25lcnJvcj0oKT0+e3Rocm93IGNsZWFyVGltZW91dChpKSxuZXcgcE8oaE8uREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VUKX19ZWxzZSB0KG5ldyBwTyhoTy5EQVRBQ0hBTk5FTF9DT05ORUNUSU9OX1RJTUVPVVQsXCJjYW5ub3QgZmluZCBkYXRhQ2hhbm5lbFwiKSl9KSl9X3VwZGF0ZU9yaWdpbkRhdGFDaGFubmVsKGUpe3RoaXMuX29yaWdpbkRhdGFDaGFubmVsPWUsdGhpcy5fYmFuZERhdGFDaGFubmVsRXZlbnRzKGUpfV9pbml0UGFja2V0SGVhZGVyKCl7Y29uc3QgZT1uZXcgRGF0YVZpZXcodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlcik7ZS5zZXRVaW50MTYoMCx0aGlzLl92ZXJzaW9uKSxlLnNldFVpbnQ4KDIsdGhpcy5fdHlwZSksZS5zZXRVaW50OCgzLHRoaXMuX2NvbmZpZy5pZCl9X2JhbmREYXRhQ2hhbm5lbEV2ZW50cyhlKXt0aGlzLl91bmJpbmREYXRhQ2hhbm5lbEV2ZW50cyhlKSxbckwuT1BFTixyTC5DTE9TRSxyTC5FUlJPUl0uZm9yRWFjaCgodD0+e2NvbnN0IGk9KCk9Pnt0aGlzLmVtaXQodCl9O3RoaXMuX2RhdGFjaGFubmVsRXZlbnRNYXAuc2V0KHQsaSksZS5hZGRFdmVudExpc3RlbmVyKHQsaSl9KSl9X3VuYmluZERhdGFDaGFubmVsRXZlbnRzKGUpe0FycmF5LmZyb20odGhpcy5fZGF0YWNoYW5uZWxFdmVudE1hcC5lbnRyaWVzKCkpLmZvckVhY2goKHQ9PntsZXRbaSxuXT10O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLG4pfSkpLHRoaXMuX2RhdGFjaGFubmVsRXZlbnRNYXAuY2xlYXIoKX19Y2xhc3MgaVUgZXh0ZW5kcyB0VXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSxzTCh0aGlzLFwiX21lc3NhZ2VMaXN0ZW5lclwiLHZvaWQgMCksdGhpcy5fbWVzc2FnZUxpc3RlbmVyPWU9PntpZihlLmRhdGEuYnl0ZUxlbmd0aDx0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgpdGhyb3cgRXJyb3IoXCJpbnZhbGlkIGJ5dGVMZW5ndGg6IHRoZSBieXRlIGxlbmd0aCBtdXN0IGV4Y2VlZCBcIit0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgpO2NvbnN0IHQ9ZS5kYXRhLnNsaWNlKDAsdGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoKSxpPW5ldyBEYXRhVmlldyh0KS5nZXRVaW50OCgzKTtpZihpIT09dGhpcy5pZClyZXR1cm4gdm9pZChDRChcIlNIT1dfREFUQVNUUkVBTTJfTE9HXCIpJiZpUC5kZWJ1ZyhcImludmFsaWQgZGF0YWNoYW5uZWwgaWQ6IFwiLmNvbmNhdChpLFwiICE9PSBcIikuY29uY2F0KHRoaXMuaWQpKSk7bGV0IG49ZS5kYXRhLnNsaWNlKHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCk7bj10aGlzLl9kYXRhU3RyZWFtUGFja2V0SGFuZGxlci5kZXNlcmlhbGl6ZShuKSx0aGlzLmVtaXQockwuTUVTU0FHRSxuKX19X3VwZGF0ZU9yaWdpbkRhdGFDaGFubmVsKGUpe3N1cGVyLl91cGRhdGVPcmlnaW5EYXRhQ2hhbm5lbChlKSx0aGlzLl9iYW5kUmVtb3RlRGF0YUNoYW5uZWxFdmVudHMoKX1fY2xvc2UoKXt0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCYmKHRoaXMuX29yaWdpbkRhdGFDaGFubmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5fbWVzc2FnZUxpc3RlbmVyKSxzdXBlci5fY2xvc2UoKSl9X2JhbmRSZW1vdGVEYXRhQ2hhbm5lbEV2ZW50cygpe3RoaXMuX29yaWdpbkRhdGFDaGFubmVsJiZ0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuX21lc3NhZ2VMaXN0ZW5lcil9fWNsYXNzIG5VIGV4dGVuZHMgdFV7c2VuZChlKXtpZih0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCl7bGV0IHQ9ZTt0PXRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIYW5kbGVyLnNlcmlhbGl6ZShlKTtjb25zdCBpPW5ldyBVaW50OEFycmF5KHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCt0LmJ5dGVMZW5ndGgpO2kuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIpLDApLGkuc2V0KG5ldyBVaW50OEFycmF5KHQpLHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCksdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwuc2VuZChpLmJ1ZmZlcil9fX1mdW5jdGlvbiByVSgpe2NvbnN0IGU9bmV3IEJsb2IoW2F0b2IoXCJZMjl1YzNRZ2REMGlkbWxrWlc4dmFESTJOQ0lzWlQwaWRtbGtaVzh2YURJMk5TSTdablZ1WTNScGIyNGdiaWgwTEdVc2JpbDdiR1YwSUdFOWJtVjNJRlZwYm5RNFFYSnlZWGtvZEN4bExHNHBMSEk5VzEwc2J6MHdPMlp2Y2lnN2NpNXNaVzVuZEdnOGJqc3BieXN6UEc0bUpqQTlQVDFoVzI5ZEppWXdQVDA5WVZ0dkt6RmRKaVl6UFQwOVlWdHZLekpkSmlZb01EMDlQV0ZiYnlzelhYeDhNVDA5UFdGYmJ5c3pYWHg4TWowOVBXRmJieXN6WFh4OE16MDlQV0ZiYnlzelhTay9LSEl1Y0hWemFDaGhXMjlkTEdGYmJ5c3hYU3hoVzI4ck0xMHBMRzhyUFRRcE9paHlMbkIxYzJnb1lWdHZYU2tzYnlzcktUdHlaWFIxY200Z2JtVjNJRlZwYm5RNFFYSnlZWGtvY2lsOVpuVnVZM1JwYjI0Z1lTaGhMSElwZTNOM2FYUmphQ2h5S1h0allYTmxJSFE2Y21WMGRYSnVJR1oxYm1OMGFXOXVLSFFwZTJOdmJuTjBJR1U5Ym1WM0lFUmhkR0ZXYVdWM0tIUXVaR0YwWVNrN2JHVjBJR0U5TUR0bWIzSW9PMkVyTkR4MExtUmhkR0V1WW5sMFpVeGxibWQwYURzcGUybG1LREE5UFQxbExtZGxkRlZwYm5RNEtHRXJNQ2ttSmpBOVBUMWxMbWRsZEZWcGJuUTRLR0VyTVNrbUpqQTlQVDFsTG1kbGRGVnBiblE0S0dFck1pa21KakU5UFQxbExtZGxkRlZwYm5RNEtHRXJNeWttSmpZOVBUMWxMbWRsZEZWcGJuUTRLR0VyTkNrcGUyeGxkQ0J5UFdFck5peHZQVEFzYVQwd08yWnZjaWc3TWpVMVBUMDlLR2s5WlM1blpYUlZhVzUwT0NoeUt5c3BLVHNwYnlzOU1qVTFPMjhyUFdrN1kyOXVjM1FnY3oxdUtIUXVaR0YwWVN4eUxHOHBPM0psZEhWeWJpQnVaWGNnVldsdWREaEJjbkpoZVNoektYMWhLeXQ5Y21WMGRYSnVJRzUxYkd4OUtHRXBPMk5oYzJVZ1pUcHlaWFIxY200Z1puVnVZM1JwYjI0b2RDbDdZMjl1YzNRZ1pUMXVaWGNnUkdGMFlWWnBaWGNvZEM1a1lYUmhLVHRzWlhRZ1lUMHdPMlp2Y2lnN1lTczFQSFF1WkdGMFlTNWllWFJsVEdWdVozUm9PeWw3YVdZb01EMDlQV1V1WjJWMFZXbHVkRGdvWVNzd0tTWW1NRDA5UFdVdVoyVjBWV2x1ZERnb1lTc3hLU1ltTUQwOVBXVXVaMlYwVldsdWREZ29ZU3N5S1NZbU1UMDlQV1V1WjJWMFZXbHVkRGdvWVNzektTWW1Oemc5UFQxbExtZGxkRlZwYm5RNEtHRXJOQ2ttSmpFOVBUMWxMbWRsZEZWcGJuUTRLR0VyTlNrbUpqRXdNVDA5UFdVdVoyVjBWV2x1ZERnb1lTczJLU2w3YkdWMElISTlZU3MzTEc4OU1DeHBQVEE3Wm05eUtEc3lOVFU5UFQwb2FUMWxMbWRsZEZWcGJuUTRLSElyS3lrcE95bHZLejB5TlRVN2J5czlhVHRqYjI1emRDQnpQVzRvZEM1a1lYUmhMSElzYnlrN2NtVjBkWEp1SUc1bGR5QlZhVzUwT0VGeWNtRjVLSE1wZldFckszMXlaWFIxY200Z2JuVnNiSDBvWVNrN1pHVm1ZWFZzZERweVpYUjFjbTRnYm5Wc2JIMTlablZ1WTNScGIyNGdjaWgwS1h0amIyNXpkQ0JsUFhRdWJHVnVaM1JvTzJ4bGRDQnVQVnRkTEdFOU1EdG1iM0lvTzJFOFpUc3BZU3N5UEdVbUpqQTlQVDEwVzJGZEppWXdQVDA5ZEZ0aEt6RmRKaVlvTUQwOVBYUmJZU3N5WFh4OE1UMDlQWFJiWVNzeVhYeDhNajA5UFhSYllTc3lYWHg4TXowOVBYUmJZU3N5WFNrL0tHNHVjSFZ6YUNoMFcyRmRMSFJiWVNzeFhTd3pMSFJiWVNzeVhTa3NZU3M5TXlrNktHNHVjSFZ6YUNoMFcyRmRLU3hoS3lzcE8zSmxkSFZ5YmlCdVpYY2dWV2x1ZERoQmNuSmhlU2h1S1gxbWRXNWpkR2x2YmlCdktHNHNZU3h2S1h0emQybDBZMmdvYnlsN1kyRnpaU0IwT25KbGRIVnliaUJtZFc1amRHbHZiaWgwTEdVcGUyTnZibk4wSUc0OWNpaGxLU3hoUFc0dWJHVnVaM1JvTEc4OVRXRjBhQzVtYkc5dmNpaGhMekkxTlNrc2FUMWhKVEkxTlN4elBXNWxkeUJWYVc1ME9FRnljbUY1S0RZcmJ5c3hLMkVyZEM1aWVYUmxUR1Z1WjNSb0tUdHpXekJkUFRBc2Mxc3hYVDB3TEhOYk1sMDlNQ3h6V3pOZFBURXNjMXMwWFQwMkxITmJOVjA5TVRBeE8yeGxkQ0JtUFRBN1ptOXlLRHRtUEc4N0tYTmJOaXRtWFQweU5UVXNaaXNyTzNKbGRIVnliaUJ6V3pZclpsMDlhU3htS3lzc2N5NXpaWFFvYml3MksyWXBMSE11YzJWMEtHNWxkeUJWYVc1ME9FRnljbUY1S0hRcExEWXJaaXRoS1N4ekxtSjFabVpsY24wb2JpeGhLVHRqWVhObElHVTZjbVYwZFhKdUlHWjFibU4wYVc5dUtIUXNaU2w3WTI5dWMzUWdiajF5S0dVcExHRTliaTVzWlc1bmRHZ3NiejFOWVhSb0xtWnNiMjl5S0dFdk1qVTFLU3hwUFdFbE1qVTFMSE05Ym1WM0lGVnBiblE0UVhKeVlYa29OeXR2S3pFcllTc3hLM1F1WW5sMFpVeGxibWQwYUNrN2Mxc3dYVDB3TEhOYk1WMDlNQ3h6V3pKZFBUQXNjMXN6WFQweExITmJORjA5Tnpnc2MxczFYVDB4TEhOYk5sMDlNVEF4TzJ4bGRDQm1QVEE3Wm05eUtEdG1QRzg3S1hOYk55dG1YVDB5TlRVc1ppc3JPM0psZEhWeWJpQnpXemNyWmwwOWFTeG1LeXNzY3k1elpYUW9iaXczSzJZcExHWXJQV0VzYzFzM0syWmRQVEV5T0N4bUt5c3NjeTV6WlhRb2JtVjNJRlZwYm5RNFFYSnlZWGtvZENrc055dG1LU3h6TG1KMVptWmxjbjBvYml4aEtUdGtaV1poZFd4ME9uSmxkSFZ5YmlCdWRXeHNmWDFtZFc1amRHbHZiaUJwS0c0cGUybG1LRzR1YkdWdVozUm9QRFVwY21WMGRYSnVJaUk3YkdWMElHRTlMVEU3Wm05eUtHeGxkQ0IwUFRBN2REeHVMbXhsYm1kMGFDMHpPM1FyS3lsN2FXWW9NRDA5UFc1YmRGMG1KakE5UFQxdVczUXJNVjBtSmpFOVBUMXVXM1FyTWwwcGUyRTlkRHRpY21WaGEzMXBaaWgwUEc0dWJHVnVaM1JvTFRRbUpqQTlQVDF1VzNSZEppWXdQVDA5Ymx0MEt6RmRKaVl3UFQwOWJsdDBLekpkSmlZeFBUMDlibHQwS3pOZEtYdGhQWFE3WW5KbFlXdDlmV2xtS0MweFBUMDlZU2x5WlhSMWNtNGlJanRqYjI1emRDQnlQV0VyS0RBOVBUMXVXMkVyTWwwL05Eb3pLVHRwWmloeVBqMXVMbXhsYm1kMGFDbHlaWFIxY200aUlqdGpiMjV6ZENCdlBXNWJjbDA3YVdZb01USTRKbThwY21WMGRYSnVJaUk3YVdZb0tHOCtQakVtTmpNcFBqMHpNaWx5WlhSMWNtNGdaVHRwWmloeUt6RThiaTVzWlc1bmRHZ3BlMmxtS0RBOVBTZ3lORGdtYmx0eUt6RmRLU2x5WlhSMWNtNGdaWDF5WlhSMWNtNG9NekVtYnlrOFBUTXhQM1E2SWlKOVkyOXVjM1FnY3owM01TeG1QVEVzYkQweUxIVTlNU3huUFRJN2RtRnlJR003Wm5WdVkzUnBiMjRnWkNoMExHVTlJVEVwZTJOdmJuTjBJRzQ5ZEM1blpYUlZhVzUwT0Nnd0tUdHBaaWh1SVQwOWN5bHlaWFIxY200N1kyOXVjM1FnWVQxMExtZGxkRlZwYm5ReE5pZ3hLU3h5UFdZcmJDdGhMRzg5Ym1WM0lGVnBiblE0UVhKeVlYa29kQzVpZVhSbFRHVnVaM1JvTFhJcE8yOHVjMlYwS0c1bGR5QlZhVzUwT0VGeWNtRjVLSFF1WW5WbVptVnlMSElzZEM1aWVYUmxUR1Z1WjNSb0xYSXBLVHRqYjI1emRDQnBQWHR0T200c2RHeDJUR1Z1T21Fc2RHeDJPbHRkTEdaeVlXMWxPbTk5TzJ4bGRDQmtQV1lyYkR0bWIzSW9PMlE4Y2pzcGUyTnZibk4wSUc0OWRDNW5aWFJWYVc1ME9DaGtLU3hoUFhRdVoyVjBWV2x1ZERFMktHUXJkU2tzY2oxMUsyYzdhV1lvYmowOVBXTXVRVlZFU1U5ZlRFVldSVXdwZTJ4bGRDQnZQWFF1WjJWMFZXbHVkRGdvWkN0eUtUdG1iM0lvYkdWMElHVTlNVHRsUEdFN1pTc3JLVzg5Ynp3OE9IeDBMbWRsZEZWcGJuUTRLR1FyY2l0bEtUdHBMblJzZGk1d2RYTm9LSHQwWVdjNmJpeHNaVzVuZEdnNllTeDJZV3gxWlRwbFB6RXlOMTV2UGo0eE9qRXlOeVp2ZlNsOVpXeHpaU0JwWmlodVBUMDlZeTVOUlZSQlJFRlVRWHg4YmowOVBXTXVRVlZFU1U5Zk5qUmZRa2xVWDFCVVV5bDdZMjl1YzNRZ1pUMXVaWGNnVldsdWREaEJjbkpoZVNoaEtUdG1iM0lvYkdWMElHNDlNRHR1UEdFN2Jpc3JLV1ZiYmwwOWRDNW5aWFJWYVc1ME9DaGtLM0lyYmlrN2FTNTBiSFl1Y0hWemFDaDdkR0ZuT200c2JHVnVaM1JvT21Fc2RtRnNkV1U2WlgwcGZXUXJQWElyWVgxeVpYUjFjbTRnYVgwaFpuVnVZM1JwYjI0b2RDbDdkRnQwTGtGVlJFbFBYMHhGVmtWTVBURmRQU0pCVlVSSlQxOU1SVlpGVENJc2RGdDBMazFGVkVGRVFWUkJQVEpkUFNKTlJWUkJSRUZVUVNJc2RGdDBMa0ZWUkVsUFh6WTBYMEpKVkY5UVZGTTlNMTA5SWtGVlJFbFBYelkwWDBKSlZGOVFWRk1pZlNoamZId29ZejE3ZlNrcExITmxiR1l1YjI1eWRHTjBjbUZ1YzJadmNtMDlkRDArZTJOdmJuTjBJR1U5ZEM1MGNtRnVjMlp2Y20xbGNpeHVQVnRkTEhJOVcxMDdiR1YwSUdnOWJuVnNiRHRsTG05d2RHbHZibk11Y0c5eWRDNXZibTFsYzNOaFoyVTlkRDArZTNRdVpHRjBZUzV6WldrbUptNHVjSFZ6YUNoMExtUmhkR0V1YzJWcEtTeDBMbVJoZEdFdWJXVjBZV1JoZEdFbUpuSXVjSFZ6YUNoMExtUmhkR0V1YldWMFlXUmhkR0VwZlN4elpXeG1MbkJ2YzNSTlpYTnpZV2RsS0NKemRHRnlkR1ZrSWlrN1kyOXVjM1FnY0QxbExuSmxZV1JoWW14bExtZGxkRkpsWVdSbGNpZ3BMRlU5WlM1M2NtbDBZV0pzWlM1blpYUlhjbWwwWlhJb0tUc2ljMlZwTFhKNElqMDlQV1V1YjNCMGFXOXVjeTV1WVcxbFAyWjFibU4wYVc5dUlIUW9aU2w3Y0M1eVpXRmtLQ2t1ZEdobGJpZ29iajArZTJsbUtDRnVMbVJ2Ym1VcGUybG1LRzR1ZG1Gc2RXVWdhVzV6ZEdGdVkyVnZaaUJTVkVORmJtTnZaR1ZrVm1sa1pXOUdjbUZ0WlNsN1kyOXVjM1FnZEQxcEtHNWxkeUJWYVc1ME9FRnljbUY1S0c0dWRtRnNkV1V1WkdGMFlTa3BMSEk5WVNodUxuWmhiSFZsTEhRcE8ybG1LSEltSm1VdWIzQjBhVzl1Y3k1d2IzSjBMbkJ2YzNSTlpYTnpZV2RsS0h0elpXazZjbjBwTENGb0tYdGpiMjV6ZENCMFBXNHVkbUZzZFdVdVoyVjBUV1YwWVdSaGRHRW9LWHg4ZTMwN2FEMTdkSGx3WlRwdUxuWmhiSFZsTG5SNWNHVXNjblJ3VkdsdFpYTjBZVzF3T200dWRtRnNkV1V1ZEdsdFpYTjBZVzF3TEhCaGVXeHZZV1JVZVhCbE9uUXVjR0Y1Ykc5aFpGUjVjR1Y4ZkRBc2MzTnlZenAwTG5ONWJtTm9jbTl1YVhwaGRHbHZibE52ZFhKalpYeDhNQ3hzWlc1bmRHZzZiaTUyWVd4MVpTNWtZWFJoTG1KNWRHVk1aVzVuZEdnc0xpNHVJbTFwYldWVWVYQmxJbWx1SUhRL2UyMXBiV1ZVZVhCbE9uUXViV2x0WlZSNWNHVjlPbnQ5ZlN4bExtOXdkR2x2Ym5NdWNHOXlkQzV3YjNOMFRXVnpjMkZuWlNoN1ptbHljM1JHY21GdFpVbHVabTg2YUgwcGZYMVZMbmR5YVhSbEtHNHVkbUZzZFdVcExHVXViM0IwYVc5dWN5NXdiM0owTG5CdmMzUk5aWE56WVdkbEtIdDBjbUZ1YzJadmNtMWxaRG9oTUgwcExIUW9aU2w5ZlNrcGZTaGxLVG9pYzJWcExYUjRJajA5UFdVdWIzQjBhVzl1Y3k1dVlXMWxQMloxYm1OMGFXOXVJSFFvWlNsN2NDNXlaV0ZrS0NrdWRHaGxiaWdvWVQwK2UybG1LQ0ZoTG1SdmJtVXBlMmxtS0dFdWRtRnNkV1VnYVc1emRHRnVZMlZ2WmlCU1ZFTkZibU52WkdWa1ZtbGtaVzlHY21GdFpTbDdZMjl1YzNRZ2REMXBLRzVsZHlCVmFXNTBPRUZ5Y21GNUtHRXVkbUZzZFdVdVpHRjBZU2twTEdVOWJpNXphR2xtZENncE8ybG1LR1VwZTJOdmJuTjBJRzQ5YnloaExuWmhiSFZsTG1SaGRHRXNaU3gwS1R0dUppWW9ZUzUyWVd4MVpTNWtZWFJoUFc0cGZYMVZMbmR5YVhSbEtHRXVkbUZzZFdVcExHVXViM0IwYVc5dWN5NXdiM0owTG5CdmMzUk5aWE56WVdkbEtIdDBjbUZ1YzJadmNtMWxaRG9oTUgwcExIUW9aU2w5ZlNrcGZTaGxLVG9pWVhWa2FXOHRiV1YwWVdSaGRHRXRjbmdpUFQwOVpTNXZjSFJwYjI1ekxtNWhiV1UvWm5WdVkzUnBiMjRnZENobEtYdHdMbkpsWVdRb0tTNTBhR1Z1S0NodVBUNTdhV1lvSVc0dVpHOXVaU2w3YVdZb2JpNTJZV3gxWlNCcGJuTjBZVzVqWlc5bUlGSlVRMFZ1WTI5a1pXUkJkV1JwYjBaeVlXMWxLWHRqYjI1emRDQjBQVzVsZHlCRVlYUmhWbWxsZHlodUxuWmhiSFZsTG1SaGRHRXBMR0U5ZEM1blpYUlZhVzUwT0Nnd0tUdHNaWFFnY2p0cFppZ3dJVDBvTVRJNEptRXBKaVkzTVNFOVBXRXBlMk52Ym5OMElHVTlablZ1WTNScGIyNG9kQ2w3YVdZb2RDNWllWFJsVEdWdVozUm9QRDB3S1hKbGRIVnlibHRkTzJOdmJuTjBJR1U5VzEwN2JHVjBJRzQ5TUR0bWIzSW9PMjQ4ZEM1aWVYUmxUR1Z1WjNSb095bDdZMjl1YzNRZ1lUMG9NVEk0Sm5RdVoyVjBWV2x1ZERnb2Jpa3BQajQzTEhJOU1USTNKblF1WjJWMFZXbHVkRGdvYmlrN2FXWW9JU2hoSmladUt6UThQWFF1WW5sMFpVeGxibWQwYUNrcGUyNHJLenRpY21WaGEzMTdZMjl1YzNRZ1lUMTBMbWRsZEZWcGJuUXpNaWh1TENFeEtTeHZQU2d4TmpjM05qRTVNaVpoS1Q0K01UQXNhVDB4TURJekptRTdaUzV3ZFhOb0tIdHdkRHB5TEhSelgyOW1abk5sZERwdkxHeGxibWQwYURwcExHUmhkR0U2Ym1WM0lGVnBiblE0UVhKeVlYbDlLU3h1S3owMGZYMXNaWFFnWVQxMExtSjVkR1ZNWlc1bmRHZ3RianRtYjNJb1kyOXVjM1FnY2lCdlppQmxLWHRwWmloeUxteGxibWQwYUQ1aEtYSmxkSFZ5YmlCamIyNXpiMnhsTG5kaGNtNG9Ja0p5YjJ0bGJpQnlaV1FnY0dGNWJHOWhaQ0lwTEZ0ZE8zSXViR1Z1WjNSb1BqQW1KaWh5TG1SaGRHRTlibVYzSUZWcGJuUTRRWEp5WVhrb2RDNWlkV1ptWlhJc2RDNWllWFJsVDJabWMyVjBLMjRzY2k1c1pXNW5kR2dwTEc0clBYSXViR1Z1WjNSb0xHRXRQWEl1YkdWdVozUm9LWDFwWmloaFBqQXBlMk52Ym5OMElISTllM0IwT21VdWJHVnVaM1JvUGpBL1pWdGxMbXhsYm1kMGFDMHhYUzV3ZERvd0xIUnpYMjltWm5ObGREb3dMR3hsYm1kMGFEcGhMR1JoZEdFNmJtVjNJRlZwYm5RNFFYSnlZWGtvZEM1aWRXWm1aWElzZEM1aWVYUmxUMlptYzJWMEsyNHNZU2w5TzJVdWNIVnphQ2h5S1gxeVpYUjFjbTRnWlgwb2RDazdhV1lvWlM1c1pXNW5kR2crTUNsN1kyOXVjM1FnZEQxbWRXNWpkR2x2YmloMEtYdHNaWFFnWlQwd08yWnZjaWhzWlhRZ2JqMHdPMjQ4ZEM1c1pXNW5kR2c3YmlzcktXVXJQVzQ4ZEM1c1pXNW5kR2d0TVQ4ME9qRXNaU3M5ZEZ0dVhTNXNaVzVuZEdnN1kyOXVjM1FnYmoxdVpYY2dWV2x1ZERoQmNuSmhlU2hsS1R0c1pYUWdZVDB3TzJadmNpaHNaWFFnWlQwd08yVThkQzVzWlc1bmRHZzdaU3NyS1dsbUtHVThkQzVzWlc1bmRHZ3RNU2w3WTI5dWMzUWdjajBvTWpFME56UTRNelkwT0h3b01USTNKblJiWlYwdWNIUXBQRHd5Tkh3b01qWXlNVFF6Sm5SYlpWMHVkSE5mYjJabWMyVjBLVHc4TVRCOE1UQXlNeVowVzJWZExteGxibWQwYUNrK1BqNHdPMjViWVNzclhUMXlQajR5TkNZeU5UVXNibHRoS3l0ZFBYSStQakUySmpJMU5TeHVXMkVySzEwOWNqNCtPQ1l5TlRVc2JsdGhLeXRkUFRJMU5TWnlmV1ZzYzJVZ2JsdGhLeXRkUFRFeU55WjBXMlZkTG5CME8yWnZjaWhqYjI1emRDQmxJRzltSUhRcGJpNXpaWFFvWlM1a1lYUmhMR0VwTEdFclBXVXViR1Z1WjNSb08zSmxkSFZ5YmlCdWZTaGxMbTFoY0Nnb2REMCtlMk52Ym5OMElHVTlibVYzSUZWcGJuUTRRWEp5WVhrb2RDNXNaVzVuZEdncE8yVXVjMlYwS0hRdVpHRjBZU2s3WTI5dWMzUWdiajFrS0c1bGR5QkVZWFJoVm1sbGR5aGxMbUoxWm1abGNpa3BPM0psZEhWeWJpQnVQeTVtY21GdFpTWW1LSFF1WkdGMFlUMXVQeTVtY21GdFpTa3NjajF1TEhSOUtTa3BPMjR1ZG1Gc2RXVXVaR0YwWVQxMExtSjFabVpsY24xOVpXeHpaU0J5UFdRb2RDa3NjaVltS0c0dWRtRnNkV1V1WkdGMFlUMXlMbVp5WVcxbExtSjFabVpsY2lrN2FXWW9jaWw3YkdWMElIUTljaTUwYkhZdVptbHVaQ2dvZEQwK2RDNTBZV2M5UFQxakxrMUZWRUZFUVZSQktTazdhV1lvZENZbWRDNTJZV3gxWlNCcGJuTjBZVzVqWlc5bUlGVnBiblE0UVhKeVlYa21KbVV1YjNCMGFXOXVjeTV3YjNKMExuQnZjM1JOWlhOellXZGxLSHR0WlhSaFpHRjBZVHAwTG5aaGJIVmxmU2tzZEQxeUxuUnNkaTVtYVc1a0tDaDBQVDUwTG5SaFp6MDlQV011UVZWRVNVOWZOalJmUWtsVVgxQlVVeWtwTEhRbUpuUXVkbUZzZFdVZ2FXNXpkR0Z1WTJWdlppQlZhVzUwT0VGeWNtRjVKaVk0UFQxMExuWmhiSFZsTG14bGJtZDBhQ2w3WTI5dWMzUWdiajF1WlhjZ1JHRjBZVlpwWlhjb2RDNTJZV3gxWlM1aWRXWm1aWElwTG1kbGRFSnBaMVZwYm5RMk5DZ3dMQ0V3S1R0MEppWjBMblpoYkhWbElHbHVjM1JoYm1ObGIyWWdWV2x1ZERoQmNuSmhlU1ltWlM1dmNIUnBiMjV6TG5CdmNuUXVjRzl6ZEUxbGMzTmhaMlVvZTNCMGN6cHVmU2w5ZlgxVkxuZHlhWFJsS0c0dWRtRnNkV1VwTEdVdWIzQjBhVzl1Y3k1d2IzSjBMbkJ2YzNSTlpYTnpZV2RsS0h0MGNtRnVjMlp2Y20xbFpEb2hNSDBwTEhRb1pTbDlmU2twZlNobEtUb2lZWFZrYVc4dGJXVjBZV1JoZEdFdGRIZ2lQVDA5WlM1dmNIUnBiMjV6TG01aGJXVW1KbVoxYm1OMGFXOXVJSFFvWlNsN2NDNXlaV0ZrS0NrdWRHaGxiaWdvYmowK2UybG1LQ0Z1TG1SdmJtVXBlMmxtS0dVdWIzQjBhVzl1Y3k1d2IzSjBMbkJ2YzNSTlpYTnpZV2RsS0h0blpYUk5aWFJoWkdGMFlUb2hNSDBwTEc0dWRtRnNkV1VnYVc1emRHRnVZMlZ2WmlCU1ZFTkZibU52WkdWa1FYVmthVzlHY21GdFpTbDdZMjl1YzNRZ2REMXlMbk5vYVdaMEtDazdkQ1ltS0c0dWRtRnNkV1V1WkdGMFlUMW1kVzVqZEdsdmJpaDBMR1VzYmlsN1kyOXVjM1FnWVQxdUxtSjVkR1ZNWlc1bmRHZ3NjajFoSzNVclp5eHZQV1lyYkN0eUxHazlibVYzSUVGeWNtRjVRblZtWm1WeUtIUXVZbmwwWlV4bGJtZDBhQ3R2S1N4alBXNWxkeUJFWVhSaFZtbGxkeWhwS1R0akxuTmxkRlZwYm5RNEtEQXNjeWtzWXk1elpYUlZhVzUwTVRZb01TeHlLU3hqTG5ObGRGVnBiblE0S0RNc1pTa3NZeTV6WlhSVmFXNTBNVFlvTkN4aEtUdG1iM0lvYkdWMElIUTlNRHQwUEdFN2RDc3JLV011YzJWMFZXbHVkRGdvTml0MExHNWJkRjBwTzJOdmJuTjBJR1E5Ym1WM0lGVnBiblE0UVhKeVlYa29ZeTVpZFdabVpYSXBPM0psZEhWeWJpQmtMbk5sZENodVpYY2dWV2x1ZERoQmNuSmhlU2gwS1N4dktTeGtMbUoxWm1abGNuMG9iaTUyWVd4MVpTNWtZWFJoTEdNdVFWVkVTVTlmTmpSZlFrbFVYMUJVVXl4MEtTbDlWUzUzY21sMFpTaHVMblpoYkhWbEtTeGxMbTl3ZEdsdmJuTXVjRzl5ZEM1d2IzTjBUV1Z6YzJGblpTaDdkSEpoYm5ObWIzSnRaV1E2SVRCOUtTeDBLR1VwZlgwcEtYMG9aU2w5TEhObGJHWXVjRzl6ZEUxbGMzTmhaMlVvSW5KbFoybHpkR1Z5WldRaUtUc0tcIildLHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCJ9KTtyZXR1cm4gc2V0VGltZW91dCgoKCk9PnZTLnJldm9rZU9iamVjdFVSTChlKSksMCksbmV3IFdvcmtlcih2Uy5jcmVhdGVPYmplY3RVUkwoZSkpfWNvbnN0IG9VPTcxLHNVPTEsYVU9MixjVT0xLGRVPTI7dmFyIGxVPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuQVVESU9fTEVWRUw9MV09XCJBVURJT19MRVZFTFwiLGVbZS5NRVRBREFUQT0yXT1cIk1FVEFEQVRBXCIsZVtlLkFVRElPXzY0X0JJVF9QVFM9M109XCJBVURJT182NF9CSVRfUFRTXCIsZX0obFV8fHt9KTtmdW5jdGlvbiB1VShlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO2NvbnN0IGk9ZS5nZXRVaW50OCgwKTtpZihpIT09b1UpcmV0dXJuO2NvbnN0IG49ZS5nZXRVaW50MTYoMSkscj1zVSthVStuLG89bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoLXIpO28uc2V0KG5ldyBVaW50OEFycmF5KGUuYnVmZmVyLHIsZS5ieXRlTGVuZ3RoLXIpKTtjb25zdCBzPXttOmksdGx2TGVuOm4sdGx2OltdLGZyYW1lOm99O2xldCBhPXNVK2FVO2Zvcig7YTxyOyl7Y29uc3QgaT1lLmdldFVpbnQ4KGEpLG49ZS5nZXRVaW50MTYoYStjVSkscj1jVStkVTtpZihpPT09bFUuQVVESU9fTEVWRUwpe2xldCBvPWUuZ2V0VWludDgoYStyKTtmb3IobGV0IHQ9MTt0PG47dCsrKW89bzw8OHxlLmdldFVpbnQ4KGErcit0KTtzLnRsdi5wdXNoKHt0YWc6aSxsZW5ndGg6bix2YWx1ZTp0PzEyN15vPj4xOjEyNyZvfSl9ZWxzZSBpZihpPT09bFUuTUVUQURBVEF8fGk9PT1sVS5BVURJT182NF9CSVRfUFRTKXtjb25zdCB0PW5ldyBVaW50OEFycmF5KG4pO2ZvcihsZXQgaT0wO2k8bjtpKyspdFtpXT1lLmdldFVpbnQ4KGErcitpKTtzLnRsdi5wdXNoKHt0YWc6aSxsZW5ndGg6bix2YWx1ZTp0fSl9YSs9citufXJldHVybiBzfWNvbnN0IGhVPW5ldyBNYXA7Y29uc3QgcFU9MTI3LF9VPTFlLTEwLEVVPTEzOS8xMyxtVT1uZXcgTWFwO2Z1bmN0aW9uIGZVKGUsdCxpKXtjb25zdCBuPVwiXCIuY29uY2F0KGUsXCItXCIpLmNvbmNhdCh0LFwiLVwiKS5jb25jYXQoaSk7bGV0IHI9MDtpZihtVS5oYXMobikpcj1tVS5nZXQobik7ZWxzZXtjb25zdCBvPS41O3I9TWF0aC5sb2coZnVuY3Rpb24oZSx0KXtjb25zdCBpPWUtdDt0PGkmJih0PWkpO2xldCBuPTE7Zm9yKGxldCBpPWUscj0xO2k+dDtpLS0scisrKW49bippL3I7cmV0dXJuIG59KHQsZSkpK2UqTWF0aC5sb2cobykrKHQtZSkqTWF0aC5sb2coMS1vKS1NYXRoLmxvZyhpKStpKmUsbVUuc2V0KG4scil9cmV0dXJuIHI8X1UmJihyPV9VKSxyfWZ1bmN0aW9uIFNVKGUsdCxpKXtjb25zdCBuPXQubGVuZ3RoLHI9ZS5sZW5ndGgvbjtsZXQgbz0hMTtmb3IobGV0IHM9MCxhPTA7czxuO3MrKyl7bGV0IG49MDtmb3IobGV0IHQ9YStyO2E8dDthKyspZVthXT5pJiZuKys7dFtzXSE9PW4mJih0W3NdPW4sbz0hMCl9cmV0dXJuIG99d2luZG93LmNhY2hlPW1VO2xldCBnVT0wO2NsYXNzIFRVe2NvbnN0cnVjdG9yKGUpe3NMKHRoaXMsXCJpZFwiLHZvaWQgMCksc0wodGhpcyxcImltbWVkaWF0ZXNcIixbXSksc0wodGhpcyxcImxhc3ROb25TaWxlbmNlXCIsLTEpLHNMKHRoaXMsXCJpbW1lZGlhdGVTcGVlY2hBY3Rpdml0eVNjb3JlXCIsX1UpLHNMKHRoaXMsXCJsYXN0TGV2ZWxDaGFuZ2VkVGltZVwiLERhdGUubm93KCkpLHNMKHRoaXMsXCJsZXZlbHNcIixbXSksc0wodGhpcyxcImxvbmdzXCIsW10pLHNMKHRoaXMsXCJsb25nU3BlZWNoQWN0aXZpdHlTY29yZVwiLF9VKSxzTCh0aGlzLFwibWVkaXVtc1wiLFtdKSxzTCh0aGlzLFwibWVkaXVtU3BlZWNoQWN0aXZpdHlTY29yZVwiLF9VKSxzTCh0aGlzLFwibWluTGV2ZWxcIiwwKSxzTCh0aGlzLFwibmV4dE1pbkxldmVsXCIsMCksc0wodGhpcyxcIm5leHRNaW5MZXZlbFdpbmRvd0xlbmd0aFwiLDApLHNMKHRoaXMsXCJlbmVyZ3lTY29yZVwiLDApLHRoaXMuaWQ9ZXx8XCJcIi5jb25jYXQoZ1UrKyksdGhpcy5pbW1lZGlhdGVzLmxlbmd0aD01MCx0aGlzLm1lZGl1bXMubGVuZ3RoPTEwLHRoaXMubG9uZ3MubGVuZ3RoPTEsdGhpcy5sZXZlbHMubGVuZ3RoPXRoaXMuaW1tZWRpYXRlcy5sZW5ndGh9Y29tcHV0ZUltbWVkaWF0ZXMoKXtjb25zdCBlPXRoaXMuaW1tZWRpYXRlcyx0PXRoaXMubGV2ZWxzLGk9dGhpcy5taW5MZXZlbCtFVTtsZXQgbj0hMTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoOysrcil7bGV0IG89dFtyXTtvPGkmJihvPTApO2NvbnN0IHM9TWF0aC5mbG9vcihvL0VVKTtlW3JdIT09cyYmKGVbcl09cyxuPSEwKX1yZXR1cm4gbn1jb21wdXRlTG9uZ3MoKXtyZXR1cm4gU1UodGhpcy5tZWRpdW1zLHRoaXMubG9uZ3MsNCl9Y29tcHV0ZU1lZGl1bXMoKXtyZXR1cm4gU1UodGhpcy5pbW1lZGlhdGVzLHRoaXMubWVkaXVtcyw3KX1ldmFsdWF0ZUltbWVkaWF0ZVNwZWVjaEFjdGl2aXR5U2NvcmUoKXt0aGlzLmltbWVkaWF0ZVNwZWVjaEFjdGl2aXR5U2NvcmU9ZlUodGhpcy5pbW1lZGlhdGVzWzBdLDEzLC43OCl9ZXZhbHVhdGVMb25nU3BlZWNoQWN0aXZpdHlTY29yZShlKXt0aGlzLmxvbmdTcGVlY2hBY3Rpdml0eVNjb3JlPWZVKHRoaXMubG9uZ3NbMF0sMTAsNDcpLHRoaXMubG9uZ1NwZWVjaEFjdGl2aXR5U2NvcmU+X1UmJih0aGlzLmxhc3ROb25TaWxlbmNlPWUpfWV2YWx1YXRlTWVkaXVtU3BlZWNoQWN0aXZpdHlTY29yZSgpe3RoaXMubWVkaXVtU3BlZWNoQWN0aXZpdHlTY29yZT1mVSh0aGlzLm1lZGl1bXNbMF0sNSwyNCl9ZXZhbHVhdGVTcGVlY2hBY3Rpdml0eVNjb3JlcyhlKXt0aGlzLmNvbXB1dGVJbW1lZGlhdGVzKCkmJih0aGlzLmV2YWx1YXRlSW1tZWRpYXRlU3BlZWNoQWN0aXZpdHlTY29yZSgpLHRoaXMuY29tcHV0ZU1lZGl1bXMoKSYmKHRoaXMuZXZhbHVhdGVNZWRpdW1TcGVlY2hBY3Rpdml0eVNjb3JlKCksdGhpcy5jb21wdXRlTG9uZ3MoKSYmdGhpcy5ldmFsdWF0ZUxvbmdTcGVlY2hBY3Rpdml0eVNjb3JlKGUpKSl9Z2V0TGFzdExldmVsQ2hhbmdlZFRpbWUoKXtyZXR1cm4gdGhpcy5sYXN0TGV2ZWxDaGFuZ2VkVGltZX1nZXRMZXZlbHMoKXt2YXIgZTtyZXR1cm5cIltcIi5jb25jYXQobXIoZT1bLi4udGhpcy5sZXZlbHNdKS5jYWxsKGUpLmpvaW4oKSxcIl1cIil9Z2V0U3BlZWNoQWN0aXZpdHlTY29yZShlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLmltbWVkaWF0ZVNwZWVjaEFjdGl2aXR5U2NvcmU7Y2FzZSAxOnJldHVybiB0aGlzLm1lZGl1bVNwZWVjaEFjdGl2aXR5U2NvcmU7Y2FzZSAyOnJldHVybiB0aGlzLmxvbmdTcGVlY2hBY3Rpdml0eVNjb3JlO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiaW50ZXJ2YWwgXCIrZSl9fWxldmVsQ2hhbmdlZChlLHQpe2lmKHRoaXMubGFzdExldmVsQ2hhbmdlZFRpbWU8PXQpe3RoaXMubGFzdExldmVsQ2hhbmdlZFRpbWU9dDtsZXQgaT1lO3JldHVybiBlPDAmJihpPTApLGU+cFUmJihpPXBVKSx0aGlzLmxldmVscy51bnNoaWZ0KGkpLHRoaXMubGV2ZWxzLmxlbmd0aD50aGlzLmltbWVkaWF0ZXMubGVuZ3RoJiZ0aGlzLmxldmVscy5wb3AoKSx0aGlzLnVwZGF0ZU1pbkxldmVsKGkpLGk+PXRoaXMubWluTGV2ZWwrRVU/aTppLzJ9cmV0dXJuLTF9bGV2ZWxUaW1lZE91dCgpe3RoaXMubGV2ZWxDaGFuZ2VkKDAsdGhpcy5sYXN0TGV2ZWxDaGFuZ2VkVGltZSl9dXBkYXRlTWluTGV2ZWwoZSl7aWYoMCE9PWUpe2lmKDA9PT10aGlzLm1pbkxldmVsfHx0aGlzLm1pbkxldmVsPmUpcmV0dXJuIHRoaXMubWluTGV2ZWw9ZSx0aGlzLm5leHRNaW5MZXZlbD0wLHZvaWQodGhpcy5uZXh0TWluTGV2ZWxXaW5kb3dMZW5ndGg9MCk7aWYoMD09PXRoaXMubmV4dE1pbkxldmVsKXJldHVybiB0aGlzLm5leHRNaW5MZXZlbD1lLHZvaWQodGhpcy5uZXh0TWluTGV2ZWxXaW5kb3dMZW5ndGg9MSk7aWYodGhpcy5uZXh0TWluTGV2ZWw+ZSYmKHRoaXMubmV4dE1pbkxldmVsPWUpLHRoaXMubmV4dE1pbkxldmVsV2luZG93TGVuZ3RoKyssdGhpcy5uZXh0TWluTGV2ZWxXaW5kb3dMZW5ndGg+PTc1MCl7bGV0IGU9TWF0aC5zcXJ0KHRoaXMubWluTGV2ZWwqdGhpcy5uZXh0TWluTGV2ZWwpO2U8MD9lPTA6ZT5wVSYmKGU9cFUpLHRoaXMubWluTGV2ZWw9ZSx0aGlzLm5leHRNaW5MZXZlbD0wLHRoaXMubmV4dE1pbkxldmVsV2luZG93TGVuZ3RoPTB9fX19Y2xhc3MgUlV7Y29uc3RydWN0b3IoZSl7c0wodGhpcyxcImFsZ29yaXRobVwiLHZvaWQgMCksdGhpcy5hbGdvcml0aG09ZX1leGVjdXRlKCl7bGV0IGU9IXRoaXMuYWxnb3JpdGhtO2lmKCFlKXRyeXtjb25zdCB0PXRoaXMuYWxnb3JpdGhtLnJ1bkluRGVjaXNpb25NYWtlcih0aGlzKTt0PD0wP2U9ITA6c2V0VGltZW91dCh0aGlzLmV4ZWN1dGUuYmluZCh0aGlzKSx0KX1jYXRjaCh0KXtlPSEwfWUmJnRoaXMuYWxnb3JpdGhtJiZ0aGlzLmFsZ29yaXRobS5kZWNpc2lvbk1ha2VyRXhpdGVkKHRoaXMpfX1jbGFzcyBDVXtjb25zdHJ1Y3RvcihlLHQsaSl7c0wodGhpcyxcImlzRG9taW5hbnRcIix2b2lkIDApLHNMKHRoaXMsXCJlbmVyZ3lSYW5raW5nXCIsdm9pZCAwKSxzTCh0aGlzLFwiZW5lcmd5U2NvcmVcIix2b2lkIDApLHRoaXMuaXNEb21pbmFudD1lLHRoaXMuZW5lcmd5UmFua2luZz10LHRoaXMuZW5lcmd5U2NvcmU9aX19Y2xhc3MgdlUgZXh0ZW5kcyBOT3tjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHNMKHRoaXMsXCJkb21pbmFudElkXCIsbnVsbCksc0wodGhpcyxcImxhc3REZWNpc2lvblRpbWVcIiwwKSxzTCh0aGlzLFwibGFzdExldmVsQ2hhbmdlZFRpbWVcIiwwKSxzTCh0aGlzLFwibGFzdExldmVsSWRsZVRpbWVcIiwwKSxzTCh0aGlzLFwicmVsYXRpdmVTcGVlY2hBY3Rpdml0aWVzXCIsW10pLHNMKHRoaXMsXCJzcGVha2Vyc1wiLG5ldyBNYXApLHNMKHRoaXMsXCJlbmFibGVTaWxlbmNlXCIsITEpLHNMKHRoaXMsXCJ0aW1lb3V0VG9TaWxlbmNlSW50ZXJ2YWxcIiwwKSxzTCh0aGlzLFwiZGVjaXNpb25NYWtlclwiLG51bGwpLHNMKHRoaXMsXCJsb3VkZXN0XCIsW10pLHNMKHRoaXMsXCJudW1Mb3VkZXN0VG9UcmFja1wiLDMpLHNMKHRoaXMsXCJlbmVyZ3lFeHBpcmVUaW1lTXNcIiwyNTApLHNMKHRoaXMsXCJlbmVyZ3lBbHBoYVBjdFwiLDUwKSx0aGlzLnRpbWVvdXRUb1NpbGVuY2VJbnRlcnZhbD1lLHRoaXMuZW5hYmxlU2lsZW5jZT1lPjAsdGhpcy5yZWxhdGl2ZVNwZWVjaEFjdGl2aXRpZXMubGVuZ3RoPTN9c2V0TG91ZGVzdENvbmZpZygpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTozLHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsaT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDt0aGlzLm51bUxvdWRlc3RUb1RyYWNrPWUsbnVsbCE9dCYmKHRoaXMuZW5lcmd5RXhwaXJlVGltZU1zPXQpLG51bGwhPWkmJih0aGlzLmVuZXJneUFscGhhUGN0PWkpLHRoaXMubG91ZGVzdC5sZW5ndGg+ZSYmdGhpcy5sb3VkZXN0LnNwbGljZShlKX1nZXREb21pbmFudFNwZWFrZXIoKXtyZXR1cm4gdGhpcy5kb21pbmFudElkfWlzQW1vbmdMb3VkZXN0KGUpe3JldHVybiB0aGlzLmxvdWRlc3Quc29tZSgodD0+dC5pZD09PWUpKX1sZXZlbENoYW5nZWQoZSx0KXtjb25zdCBpPURhdGUubm93KCksbj10aGlzLmdldE9yQ3JlYXRlU3BlYWtlcihlKTt0aGlzLmxhc3RMZXZlbENoYW5nZWRUaW1lPGkmJih0aGlzLmxhc3RMZXZlbENoYW5nZWRUaW1lPWksdGhpcy5tYXliZVN0YXJ0RGVjaXNpb25NYWtlcigpKTtjb25zdCByPW4ubGV2ZWxDaGFuZ2VkKHQsaSk7cmV0dXJuIHRoaXMudXBkYXRlTG91ZGVzdExpc3QobixyLGkpfXJ1bkluRGVjaXNpb25NYWtlcihlKXtyZXR1cm4gdGhpcy5kZWNpc2lvbk1ha2VyIT09ZXx8dGhpcy5sYXN0RGVjaXNpb25UaW1lPjAmJnRoaXMubGFzdERlY2lzaW9uVGltZS10aGlzLmxhc3RMZXZlbENoYW5nZWRUaW1lPj0xNWUzPy0xOnRoaXMuX3J1bkluRGVjaXNpb25NYWtlcigpfWRlY2lzaW9uTWFrZXJFeGl0ZWQoZSl7dGhpcy5kZWNpc2lvbk1ha2VyPT09ZSYmKHRoaXMuZGVjaXNpb25NYWtlcj1udWxsKX1kZXN0cm95KCl7dGhpcy5kZWNpc2lvbk1ha2VyPW51bGwsdGhpcy5sb3VkZXN0Lmxlbmd0aD0wLHRoaXMuc3BlYWtlcnMuY2xlYXIoKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpfWFkZFNwZWFrZXJzKGUpe2UuZm9yRWFjaCgoZT0+e3RoaXMuc3BlYWtlcnMuaGFzKGUuaWQpfHx0aGlzLnNwZWFrZXJzLnNldChlLmlkLGUpfSkpfXJlbW92ZVNwZWFrZXJzKGUpe2UuZm9yRWFjaCgoZT0+e3RoaXMuc3BlYWtlcnMuZGVsZXRlKGUuaWQpfSkpfWdldE9yQ3JlYXRlU3BlYWtlcihlKXtsZXQgdD10aGlzLnNwZWFrZXJzLmdldChlKTtyZXR1cm4gdHx8KHQ9bmV3IFRVKGUpLHRoaXMuc3BlYWtlcnMuc2V0KGUsdCksdGhpcy5tYXliZVN0YXJ0RGVjaXNpb25NYWtlcigpKSx0fXVwZGF0ZUxvdWRlc3RMaXN0KGUsdCxpKXtjb25zdCBuPWUuaWQ9PT10aGlzLmRvbWluYW50SWQ7aWYodDwwKXtsZXQgdD0wO2Zvcig7dDx0aGlzLmxvdWRlc3QubGVuZ3RoJiZ0aGlzLmxvdWRlc3RbdF0hPT1lOykrK3Q7cmV0dXJuIG5ldyBDVShuLHQsZS5lbmVyZ3lTY29yZSl9aWYoZS5lbmVyZ3lTY29yZT1NYXRoLmZsb29yKCh0aGlzLmVuZXJneUFscGhhUGN0KnQrKDEwMC10aGlzLmVuZXJneUFscGhhUGN0KSplLmVuZXJneVNjb3JlKzUwKS8xMDApLDA9PT10aGlzLm51bUxvdWRlc3RUb1RyYWNrKXJldHVybiBuZXcgQ1UobiwwLGUuZW5lcmd5U2NvcmUpO2NvbnN0IHI9aS10aGlzLmVuZXJneUV4cGlyZVRpbWVNcztsZXQgbz0wO2Zvcig7bzx0aGlzLmxvdWRlc3QubGVuZ3RoOyl7Y29uc3QgdD10aGlzLmxvdWRlc3Rbb107aWYodC5nZXRMYXN0TGV2ZWxDaGFuZ2VkVGltZSgpPHImJnRoaXMubG91ZGVzdC5sZW5ndGg+PXRoaXMubnVtTG91ZGVzdFRvVHJhY2spdGhpcy5sb3VkZXN0LnNwbGljZShvLDEpO2Vsc2UgaWYodC5pZCE9PWUuaWQpKytvO2Vsc2UgaWYodGhpcy5sb3VkZXN0LnNwbGljZShvLDEpLHRoaXMubG91ZGVzdC5sZW5ndGg8dGhpcy5udW1Mb3VkZXN0VG9UcmFjaylicmVha31sZXQgcz0wO2Zvcig7czx0aGlzLmxvdWRlc3QubGVuZ3RoJiYhKHRoaXMubG91ZGVzdFtzXS5lbmVyZ3lTY29yZTxlLmVuZXJneVNjb3JlKTspKytzO3JldHVybiBzPHRoaXMubnVtTG91ZGVzdFRvVHJhY2smJih0aGlzLmxvdWRlc3Quc3BsaWNlKHMsMCxlKSx0aGlzLmxvdWRlc3QubGVuZ3RoPnRoaXMubnVtTG91ZGVzdFRvVHJhY2smJnRoaXMubG91ZGVzdC5zcGxpY2UodGhpcy5udW1Mb3VkZXN0VG9UcmFjaywxKSksbmV3IENVKG4scyxlLmVuZXJneVNjb3JlKX1tYXliZVN0YXJ0RGVjaXNpb25NYWtlcigpeyF0aGlzLmRlY2lzaW9uTWFrZXImJnRoaXMuc3BlYWtlcnMuc2l6ZT4wJiYodGhpcy5kZWNpc2lvbk1ha2VyPW5ldyBSVSh0aGlzKSx0aGlzLmRlY2lzaW9uTWFrZXIuZXhlY3V0ZSgpKX1tYWtlRGVjaXNpb24oZSl7bGV0IHQ9bnVsbCxpPW51bGw7Y29uc3Qgbj10aGlzLnNwZWFrZXJzLnNpemU7bGV0IHI9bnVsbDtpZigwPT09bilyPW51bGw7ZWxzZSBpZigxPT09bil7dmFyIG87Y29uc3QgdD1wcChvPXRoaXMuc3BlYWtlcnMpLmNhbGwobykubmV4dCgpLnZhbHVlO3RoaXMuZW5hYmxlU2lsZW5jZSYmdCYmKHI9dC5pZCx0LmV2YWx1YXRlU3BlZWNoQWN0aXZpdHlTY29yZXMoZSksZS10Lmxhc3ROb25TaWxlbmNlPnRoaXMudGltZW91dFRvU2lsZW5jZUludGVydmFsJiYocj1udWxsKSl9ZWxzZXtsZXQgdD1udWxsPT10aGlzLmRvbWluYW50SWQ/bnVsbDp0aGlzLnNwZWFrZXJzLmdldCh0aGlzLmRvbWluYW50SWQpO2lmKG51bGw9PXQpe2NvbnN0IGU9dGhpcy5zcGVha2Vycy5lbnRyaWVzKCkubmV4dCgpO2UudmFsdWUmJihyPWUudmFsdWVbMF0sdD1lLnZhbHVlWzFdKX1lbHNlIHI9dC5pZDtudWxsIT10JiZ0LmV2YWx1YXRlU3BlZWNoQWN0aXZpdHlTY29yZXMoZSk7Y29uc3QgaT10aGlzLnJlbGF0aXZlU3BlZWNoQWN0aXZpdGllcztsZXQgbj0yO2Zvcihjb25zdCBvIG9mIHRoaXMuc3BlYWtlcnMuZW50cmllcygpKXtjb25zdFtzLGFdPW87aWYoYT09PXQpY29udGludWU7YS5ldmFsdWF0ZVNwZWVjaEFjdGl2aXR5U2NvcmVzKGUpO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7KytlKXtjb25zdCBuPW51bGw9PXQ/X1U6dC5nZXRTcGVlY2hBY3Rpdml0eVNjb3JlKGUpO2lbZV09TWF0aC5sb2coYS5nZXRTcGVlY2hBY3Rpdml0eVNjb3JlKGUpL24pfWNvbnN0IGM9aVswXSxkPWlbMV0sbD1pWzJdO2M+MyYmZD4yJiZsPjAmJmQ+biYmKG49ZCxyPXMpfXRoaXMuZW5hYmxlU2lsZW5jZSYmbnVsbCE9dCYmcj09PXQuaWQmJmUtdC5sYXN0Tm9uU2lsZW5jZT50aGlzLnRpbWVvdXRUb1NpbGVuY2VJbnRlcnZhbCYmKHI9bnVsbCl9bnVsbD09ciYmIXRoaXMuZW5hYmxlU2lsZW5jZXx8cj09PXRoaXMuZG9taW5hbnRJZHx8KHQ9dGhpcy5kb21pbmFudElkLHRoaXMuZG9taW5hbnRJZD1yLGk9dGhpcy5kb21pbmFudElkKSxudWxsPT1pJiYhdGhpcy5lbmFibGVTaWxlbmNlfHxpPT09dHx8dGhpcy5lbWl0KFwiQWN0aXZlU3BlYWtlckNoYW5nZWRcIixpKX1fcnVuSW5EZWNpc2lvbk1ha2VyKCl7Y29uc3QgZT1EYXRlLm5vdygpLHQ9MzAwLShlLXRoaXMubGFzdExldmVsSWRsZVRpbWUpO2xldCBpPTA7dDw9MD8oMCE9PXRoaXMubGFzdExldmVsSWRsZVRpbWUmJnRoaXMudGltZW91dElkbGVMZXZlbHMoZSksdGhpcy5sYXN0TGV2ZWxJZGxlVGltZT1lKTppPXQ7bGV0IG49MzAwLShlLXRoaXMubGFzdERlY2lzaW9uVGltZSk7cmV0dXJuIG48PTAmJih0aGlzLmxhc3REZWNpc2lvblRpbWU9ZSx0aGlzLm1ha2VEZWNpc2lvbihlKSxuPTMwMC0oRGF0ZS5ub3coKS1lKSksbj4wJiZpPm4mJihpPW4pLGl9dGltZW91dElkbGVMZXZlbHMoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiBwcChpPXRoaXMuc3BlYWtlcnMpLmNhbGwoaSkpe3ZhciBpO2NvbnN0IHI9ZS1uLmdldExhc3RMZXZlbENoYW5nZWRUaW1lKCk7MzZlNTxyJiYobnVsbD09dGhpcy5kb21pbmFudElkfHxuLmlkIT09dGhpcy5kb21pbmFudElkKT90LnB1c2gobi5pZCk6MzAwPHImJm4ubGV2ZWxUaW1lZE91dCgpfXQuZm9yRWFjaCgoZT0+dGhpcy5zcGVha2Vycy5kZWxldGUoZSkpKX19Y29uc3QgeVU9bmV3IE1hcDtsZXQgSVU9bnVsbCxBVT1udWxsO2NvbnN0IGJVPTM7bGV0IHdVPVtdO2NvbnN0IE9VPW5ldyBNYXAsTlU9bmV3IE1hcDtjbGFzcyBEVXtnZXQgc2FtcGxlcygpe3JldHVybiB0aGlzLmFjdGl2ZXMrdGhpcy5pbmFjdGl2ZXN9Z2V0IGFjdGl2ZVJhdGUoKXtyZXR1cm4gdGhpcy5hY3RpdmVzL3RoaXMuc2FtcGxlc31jb25zdHJ1Y3RvcihlLHQpe3NMKHRoaXMsXCJpZFwiLHZvaWQgMCksc0wodGhpcyxcInRyYWNrXCIsdm9pZCAwKSxzTCh0aGlzLFwic2NvcmVcIiwwKSxzTCh0aGlzLFwiYWN0aXZlXCIsITApLHNMKHRoaXMsXCJtdXRlZFwiLCExKSxzTCh0aGlzLFwidGltZXJcIiwwKSxzTCh0aGlzLFwiYWN0aXZlc1wiLDApLHNMKHRoaXMsXCJpbmFjdGl2ZXNcIiwwKSx0aGlzLmlkPWUsdGhpcy50cmFjaz10LHRoaXMuc2V0QWN0aXZlKE9VLnNpemU8Myl9YXV0b0NoZWNrQWN0aXZlKCl7dGhpcy5hdXRvU2V0QWN0aXZlKCksdGhpcy5hdXRvQWRqdXN0QWN0aXZlKCksdGhpcy5yZXNldFRpbWVyKCksdGhpcy5hY3RpdmVzPTAsdGhpcy5pbmFjdGl2ZXM9MH1hdXRvU2V0QWN0aXZlKCl7Y29uc3QgZT10aGlzLmFjdGl2ZTt0aGlzLmFjdGl2ZT10aGlzLmFjdGl2ZVJhdGU+PS44O2NvbnN0e2FjdGl2ZXM6dCxpbmFjdGl2ZXM6aX09ZnVuY3Rpb24oKXtjb25zdCBlPVtdLHQ9W107cmV0dXJuIEFycmF5LmZyb20ocHAoT1UpLmNhbGwoT1UpKS5mb3JFYWNoKChpPT57aS5hY3RpdmU/ZS5wdXNoKGkpOnQucHVzaChpKX0pKSx7YWN0aXZlczplLGluYWN0aXZlczp0fX0oKTtpZih0Lmxlbmd0aD4zKXtsZXQgZTt0LmZvckVhY2goKHQ9PnsoIWV8fGUuc2NvcmU+dC5zY29yZSkmJihlPXQpfSkpLGUmJmUuc2V0QWN0aXZlKCExKX1pZih0Lmxlbmd0aDwzJiZpLmxlbmd0aD4wKXtsZXQgdDtpLmZvckVhY2goKGU9PnsoIXR8fHQuc2NvcmU8ZS5zY29yZSkmJmUuaWQhPT10aGlzLmlkJiYodD1lKX0pKSx0JiZlJiYhdGhpcy5hY3RpdmUmJih0LnNhbXBsZXM+NDAmJnQuYWN0aXZlUmF0ZS10aGlzLmFjdGl2ZVJhdGU+LjQ/dC5zZXRBY3RpdmUoITApOnRoaXMuYWN0aXZlPSEwKX10aGlzLnNldE11dGVkKCF0aGlzLmFjdGl2ZSl9c2V0QWN0aXZlKGUpe3RoaXMuYWN0aXZlPWUsdGhpcy5yZXNldFRpbWVyKCksdGhpcy5zZXRNdXRlZCghZSl9YXV0b0FkanVzdEFjdGl2ZSgpe3RoaXMuYWN0aXZlP3RoaXMuYXV0b1N3aXRjaFRvSW5hY3RpdmUoKTp0aGlzLmF1dG9Td2l0Y2hUb0FjdGl2ZSgpfWF1dG9Td2l0Y2hUb0FjdGl2ZSgpe2NvbnN0IGU9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuIEFycmF5LmZyb20ocHAoT1UpLmNhbGwoT1UpKS5mb3JFYWNoKChpPT57IWkuYWN0aXZlfHxpLmlkPT09ZXx8aS5zYW1wbGVzPDQwfHwoIXR8fGkuc2NvcmU8dC5zY29yZSkmJih0PWkpfSkpLHR9KHRoaXMuaWQpO2UmJnRoaXMuYWN0aXZlUmF0ZS1lLmFjdGl2ZVJhdGU+LjQmJihlLnNldEFjdGl2ZSghMSksdGhpcy5zZXRBY3RpdmUoITApKX1hdXRvU3dpdGNoVG9JbmFjdGl2ZSgpe2NvbnN0IGU9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuIEFycmF5LmZyb20ocHAoT1UpLmNhbGwoT1UpKS5mb3JFYWNoKChpPT57aS5hY3RpdmV8fGkuaWQ9PT1lfHxpLnNhbXBsZXM8NDB8fCghdHx8aS5zY29yZT50LnNjb3JlKSYmKHQ9aSl9KSksdH0odGhpcy5pZCk7ZSYmZS5hY3RpdmVSYXRlLXRoaXMuYWN0aXZlUmF0ZT4uNCYmKGUuc2V0QWN0aXZlKCEwKSx0aGlzLnNldEFjdGl2ZSghMSkpfWFkZFNhbXBsZShlKXtlP3RoaXMuYWN0aXZlcys9MTp0aGlzLmluYWN0aXZlcys9MSx0aGlzLnNhbXBsZXM+NjYuNjY2NjY2NjY2NjY2NjcmJnRoaXMuYXV0b0NoZWNrQWN0aXZlKCl9c2V0TXV0ZWQoZSl7dGhpcy50cmFjayYmKHRoaXMudHJhY2suZW5hYmxlZD0hZSx0aGlzLm11dGVkPWUpfXJlc2V0VGltZXIoKXt0aGlzLmNsZWFyVGltZXIoKSx0aGlzLnRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2lmKDAhPT10aGlzLnNhbXBsZXMpcmV0dXJuIHRoaXMuc2FtcGxlczw1MD90aGlzLnJlc2V0VGltZXIoKTp2b2lkIHRoaXMuYXV0b0NoZWNrQWN0aXZlKCl9KSwxZTMpfWNsZWFyVGltZXIoKXt0aGlzLnRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMudGltZXI9MCl9fWxldCBQVTtmdW5jdGlvbiBMVShlKXtjb25zdCB0PU9VLmdldChlKTt0JiYoT1UuZGVsZXRlKGUpLHQuY2xlYXJUaW1lcigpKX1jb25zdCBrVT1uZXcgTWFwLE1VPW5ldyBNYXA7Y29uc3QgVVU9XCJ2aWRlby9oMjY0XCIsVlU9XCJ2aWRlby9oMjY1XCI7ZnVuY3Rpb24geFUoZSx0LGkpe2xldCBuPW5ldyBVaW50OEFycmF5KGUsdCxpKSxyPVtdLG89MDtmb3IoO3IubGVuZ3RoPGk7KW8rMzxpJiYwPT09bltvXSYmMD09PW5bbysxXSYmMz09PW5bbysyXSYmKDA9PT1uW28rM118fDE9PT1uW28rM118fDI9PT1uW28rM118fDM9PT1uW28rM10pPyhyLnB1c2gobltvXSxuW28rMV0sbltvKzNdKSxvKz00KTooci5wdXNoKG5bb10pLG8rKyk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHIpfWZ1bmN0aW9uIEZVKGUpe2NvbnN0IHQ9ZS5sZW5ndGg7bGV0IGk9W10sbj0wO2Zvcig7bjx0OyluKzI8dCYmMD09PWVbbl0mJjA9PT1lW24rMV0mJigwPT09ZVtuKzJdfHwxPT09ZVtuKzJdfHwyPT09ZVtuKzJdfHwzPT09ZVtuKzJdKT8oaS5wdXNoKGVbbl0sZVtuKzFdLDMsZVtuKzJdKSxuKz0zKTooaS5wdXNoKGVbbl0pLG4rKyk7cmV0dXJuIG5ldyBVaW50OEFycmF5KGkpfWZ1bmN0aW9uIEJVKGUpe2lmKGUubGVuZ3RoPDUpcmV0dXJuXCJcIjtsZXQgdD0tMTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoLTM7aSsrKXtpZigwPT09ZVtpXSYmMD09PWVbaSsxXSYmMT09PWVbaSsyXSl7dD1pO2JyZWFrfWlmKGk8ZS5sZW5ndGgtNCYmMD09PWVbaV0mJjA9PT1lW2krMV0mJjA9PT1lW2krMl0mJjE9PT1lW2krM10pe3Q9aTticmVha319aWYoLTE9PT10KXJldHVyblwiXCI7Y29uc3QgaT10KygwPT09ZVt0KzJdPzQ6Myk7aWYoaT49ZS5sZW5ndGgpcmV0dXJuXCJcIjtjb25zdCBuPWVbaV07cmV0dXJuIDEyOCZuP1wiXCI6KG4+PjEmNjMpPj0zMnx8aSsxPGUubGVuZ3RoJiYwPT0oMjQ4JmVbaSsxXSk/VlU6KDMxJm4pPD0zMT9VVTpcIlwifWNvbnN0IGpVPW5ldyBNYXA7Y29uc3QgR1U9bmV3IE1hcDshZnVuY3Rpb24oKXtjb25zdCBlPUR3KCk7aFAuZ2V0RGlzcGxheU1lZGlhPSEoIW5hdmlnYXRvci5tZWRpYURldmljZXN8fCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYSksaFAuZ2V0U3RyZWFtRnJvbUV4dGVuc2lvbj1lLm5hbWU9PT1idy5DSFJPTUUmJk51bWJlcihlLnZlcnNpb24pPjM0LGhQLnN1cHBvcnRVbmlmaWVkUGxhbj1mdW5jdGlvbigpe2lmKCF3aW5kb3cuUlRDUnRwVHJhbnNjZWl2ZXIpcmV0dXJuITE7aWYoIShcImN1cnJlbnREaXJlY3Rpb25cImluIFJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZSkpcmV0dXJuITE7Y29uc3QgZT1uZXcgUlRDUGVlckNvbm5lY3Rpb247bGV0IHQ9ITE7dHJ5e2UuYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiKSx0PSEwfWNhdGNoKGUpe31yZXR1cm4gZS5jbG9zZSgpLHR9KCksaFAuc3VwcG9ydE1pbkJpdHJhdGU9ZS5uYW1lPT09YncuQ0hST01FfHxlLm5hbWU9PT1idy5FREdFLGhQLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7Y29uc3QgZT1EdygpO3JldHVybiEhKHdpbmRvdy5SVENSdHBTZW5kZXImJndpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLnNldFBhcmFtZXRlcnMmJndpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFBhcmFtZXRlcnMpJiYoISFzTygpfHwhKCFWdygpJiYhTXcoKSl8fGUubmFtZT09PWJ3LkZJUkVGT1gmJk51bWJlcihlLnZlcnNpb24pPj02NCl9KCksZS5uYW1lPT09YncuU0FGQVJJJiYoTnVtYmVyKGUudmVyc2lvbik+PTE0P2hQLnN1cHBvcnREdWFsU3RyZWFtPSEwOmhQLnN1cHBvcnREdWFsU3RyZWFtPSExKSxoUC53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdD1mdW5jdGlvbigpe2NvbnN0IGU9RHcoKTtyZXR1cm4hKGUubmFtZT09PWJ3LlNBRkFSSSYmTnVtYmVyKGUudmVyc2lvbik8MTIpfSgpLGhQLnN1cHBvcnRSZXBsYWNlVHJhY2s9ISF3aW5kb3cuUlRDUnRwU2VuZGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSVENSdHBTZW5kZXIucHJvdG90eXBlLnJlcGxhY2VUcmFjayxoUC5zdXBwb3J0V2ViR0w9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dCxoUC5zdXBwb3J0UmVxdWVzdEZyYW1lPSEhd2luZG93LkNhbnZhc0NhcHR1cmVNZWRpYVN0cmVhbVRyYWNrLHNPKCl8fChoUC53ZWJBdWRpb1dpdGhBRUM9ITApLGhQLnN1cHBvcnRTaGFyZUF1ZGlvPWZ1bmN0aW9uKCl7Y29uc3QgZT1EdygpO3JldHVybihlLm9zPT09QXcuV0lOXzEwfHxlLm9zPT09QXcuV0lOXzgxfHxlLm9zPT09QXcuV0lOXzd8fGUub3M9PT1Bdy5MSU5VWHx8ZS5vcz09PUF3Lk1BQ19PU3x8ZS5vcz09PUF3LkNIUk9NSVVNX09TKSYmZS5uYW1lPT09YncuQ0hST01FJiZOdW1iZXIoZS52ZXJzaW9uKT49NzR9KCksaFAuc3VwcG9ydERhdGFDaGFubmVsPSEhKEd3KDc2KXx8WXcoNjgpfHx6dygxNCkpLGhQLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXtjb25zdCBlPXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbjtyZXR1cm4hQncoKSYmISFlJiZlLnByb3RvdHlwZS5zZXRDb25maWd1cmF0aW9uIGluc3RhbmNlb2YgRnVuY3Rpb259KCksaFAuc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm09R3coODcpfHx4dygpfHxZdygxMTcpLGhQLnN1cHBvcnRXZWJSVENJbnNlcnRhYmxlU3RyZWFtPWZ1bmN0aW9uKCl7Y29uc3QgZT1EdygpO3JldHVybihlLm5hbWU9PT1idy5DSFJPTUV8fGUubmFtZT09PWJ3LkVER0UpJiZOdW1iZXIoZS52ZXJzaW9uKT49OTQmJlwiTWVkaWFTdHJlYW1UcmFja0dlbmVyYXRvclwiaW4gd2luZG93JiZcIk1lZGlhU3RyZWFtVHJhY2tQcm9jZXNzb3JcImluIHdpbmRvd30oKSxoUC5zdXBwb3J0UmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjaz1cInJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2tcImluIEhUTUxWaWRlb0VsZW1lbnQucHJvdG90eXBlLGhQLnN1cHBvcnRXZWJDcnlwdG89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09d2luZG93LmNyeXB0byYmdm9pZCAwIT09d2luZG93LmNyeXB0by5zdWJ0bGUsaFAuc3VwcG9ydFN1cHByZXNzTG9jYWxBdWRpb1BsYXliYWNrPWdQKCksaFAuc3VwcG9ydFJlc3RyaWN0T3duQXVkaW89VFAoKSxvTigoKCk9PntoUC5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nPWZ1bmN0aW9uKCl7Y29uc3QgZT1EdygpO3JldHVybiEhQ0QoXCJESVNBQkxFX1dFQkFVRElPXCIpfHwoXCJTYWZhcmlcIj09PWUubmFtZSYmTnVtYmVyKGUudmVyc2lvbik+PTE0fHwhIShcIkNocm9tZVwiPT09ZS5uYW1lJiYvV2luZG93cy9pLnRlc3QoZS5vc3x8XCJcIikmJk51bWJlcihlLnZlcnNpb24pPj0xMDAmJkNEKFwiQ0hST01FX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSkpfSgpLGlQLmRlYnVnKFwiYnJvd3NlciB1YTogXCIsbmF2aWdhdG9yLnVzZXJBZ2VudCksaVAuaW5mbyhcImJyb3dzZXIgaW5mbzogXCIsZSksaVAuaW5mbyhcImJyb3dzZXIgY29tcGF0aWJpbGl0eTogXCIsaFApfSkpfSgpO2NvbnN0IFdVPVtcIkNISU5BXCIsXCJHTE9CQUxcIl07Y29uc3QgSFU9W1swLDEsMiwzLDQsNSw1XSxbMCwyLDIsMyw0LDUsNV0sWzAsMywzLDMsNCw1LDVdLFswLDQsNCw0LDQsNSw1XSxbMCw1LDUsNSw1LDUsNV1dLEtVPVtdLFlVPVtdO2Z1bmN0aW9uIHpVKGUsdCl7cmV0dXJuISF0JiZLVS5zb21lKChpPT5pLnVpZD09PWUmJmkuY2hhbm5lbE5hbWU9PT10KSl9ZnVuY3Rpb24gcVUoKXtyZXR1cm4gWVUubGVuZ3RoPjB9dmFyIFhVPVN2LmZvckVhY2gsSlU9V24oXCJmb3JFYWNoXCIpP1tdLmZvckVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFhVKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9O09pKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpbXS5mb3JFYWNoIT09SlV9LHtmb3JFYWNoOkpVfSk7dmFyIFFVPVppKFwiQXJyYXlcIixcImZvckVhY2hcIiksWlU9RW4sJFU9JGUsZVY9bCx0Vj1RVSxpVj1BcnJheS5wcm90b3R5cGUsblY9e0RPTVRva2VuTGlzdDohMCxOb2RlTGlzdDohMH0sclY9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5mb3JFYWNoO3JldHVybiBlPT09aVZ8fGVWKGlWLGUpJiZ0PT09aVYuZm9yRWFjaHx8JFUoblYsWlUoZSkpP3RWOnR9LG9WPWkoclYpLHNWPUplLGFWPWhvO09pKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpuKChmdW5jdGlvbigpe2FWKDEpfSkpfSx7a2V5czpmdW5jdGlvbihlKXtyZXR1cm4gYVYoc1YoZSkpfX0pO3ZhciBjVj1pKCQuT2JqZWN0LmtleXMpLGRWPWkoaXIpLGxWPWkoRXIpLHVWPU9pLGhWPW9yLHBWPVFjLF9WPVosRVY9eGksbVY9V2ksZlY9SixTVj1xRSxnVj1wdCxUVj1zZCxSVj1QQyhcInNsaWNlXCIpLENWPWdWKFwic3BlY2llc1wiKSx2Vj1BcnJheSx5Vj1NYXRoLm1heDt1Vih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IVJWfSx7c2xpY2U6ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLHIsbz1mVih0aGlzKSxzPW1WKG8pLGE9RVYoZSxzKSxjPUVWKHZvaWQgMD09PXQ/czp0LHMpO2lmKGhWKG8pJiYoaT1vLmNvbnN0cnVjdG9yLChwVihpKSYmKGk9PT12Vnx8aFYoaS5wcm90b3R5cGUpKXx8X1YoaSkmJm51bGw9PT0oaT1pW0NWXSkpJiYoaT12b2lkIDApLGk9PT12Vnx8dm9pZCAwPT09aSkpcmV0dXJuIFRWKG8sYSxjKTtmb3Iobj1uZXcodm9pZCAwPT09aT92VjppKSh5VihjLWEsMCkpLHI9MDthPGM7YSsrLHIrKylhIGluIG8mJlNWKG4scixvW2FdKTtyZXR1cm4gbi5sZW5ndGg9cixufX0pO3ZhciBJVj1aaShcIkFycmF5XCIsXCJzbGljZVwiKSxBVj1sLGJWPUlWLHdWPUFycmF5LnByb3RvdHlwZSxPVj1mdW5jdGlvbihlKXt2YXIgdD1lLnNsaWNlO3JldHVybiBlPT09d1Z8fEFWKHdWLGUpJiZ0PT09d1Yuc2xpY2U/YlY6dH0sTlY9aShPVik7ZnVuY3Rpb24gRFYoZSx0LGksbixyKXt2YXIgbyxzLGEsYz17fTtyZXR1cm4gb1Yobz1jVihuKSkuY2FsbChvLChmdW5jdGlvbihlKXtjW2VdPW5bZV19KSksYy5lbnVtZXJhYmxlPSEhYy5lbnVtZXJhYmxlLGMuY29uZmlndXJhYmxlPSEhYy5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGN8fGMuaW5pdGlhbGl6ZXIpJiYoYy53cml0YWJsZT0hMCksYz1kVihzPWxWKGE9TlYoaSkuY2FsbChpKSkuY2FsbChhKSkuY2FsbChzLChmdW5jdGlvbihpLG4pe3JldHVybiBuKGUsdCxpKXx8aX0pLGMpLHImJnZvaWQgMCE9PWMuaW5pdGlhbGl6ZXImJihjLnZhbHVlPWMuaW5pdGlhbGl6ZXI/Yy5pbml0aWFsaXplci5jYWxsKHIpOnZvaWQgMCxjLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09Yy5pbml0aWFsaXplcj8oVEMoZSx0LGMpLG51bGwpOmN9bGV0IFBWPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuQUNDRVNTX1BPSU5UPTEwMV09XCJBQ0NFU1NfUE9JTlRcIixlW2UuVU5JTEJTPTIwMV09XCJVTklMQlNcIixlW2UuU1RSSU5HX1VJRF9BTExPQ0FUT1I9OTAxXT1cIlNUUklOR19VSURfQUxMT0NBVE9SXCIsZX0oe30pLExWPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuSUlJRUdBTF9BUFBJRD0xXT1cIklJSUVHQUxfQVBQSURcIixlW2UuSUlJRUdBTF9VSUQ9Ml09XCJJSUlFR0FMX1VJRFwiLGVbZS5JTlRFUk5BTF9FUlJPUj0zXT1cIklOVEVSTkFMX0VSUk9SXCIsZX0oe30pLGtWPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuSU5WQUxJRF9WRU5ET1JfS0VZPTVdPVwiSU5WQUxJRF9WRU5ET1JfS0VZXCIsZVtlLklOVkFMSURfQ0hBTk5FTF9OQU1FPTddPVwiSU5WQUxJRF9DSEFOTkVMX05BTUVcIixlW2UuSU5URVJOQUxfRVJST1I9OF09XCJJTlRFUk5BTF9FUlJPUlwiLGVbZS5OT19BVVRIT1JJWkVEPTldPVwiTk9fQVVUSE9SSVpFRFwiLGVbZS5EWU5BTUlDX0tFWV9USU1FT1VUPTEwXT1cIkRZTkFNSUNfS0VZX1RJTUVPVVRcIixlW2UuTk9fQUNUSVZFX1NUQVRVUz0xMV09XCJOT19BQ1RJVkVfU1RBVFVTXCIsZVtlLkRZTkFNSUNfS0VZX0VYUElSRUQ9MTNdPVwiRFlOQU1JQ19LRVlfRVhQSVJFRFwiLGVbZS5TVEFUSUNfVVNFX0RZTkFNSUNfS0VZPTE0XT1cIlNUQVRJQ19VU0VfRFlOQU1JQ19LRVlcIixlW2UuRFlOQU1JQ19VU0VfU1RBVElDX0tFWT0xNV09XCJEWU5BTUlDX1VTRV9TVEFUSUNfS0VZXCIsZVtlLlVTRVJfT1ZFUkxPQUQ9MTZdPVwiVVNFUl9PVkVSTE9BRFwiLGVbZS5GT1JCSURERU5fUkVHSU9OPTE4XT1cIkZPUkJJRERFTl9SRUdJT05cIixlW2UuQ0FOTk9UX01FRVRfQVJFQV9ERU1BTkQ9MTldPVwiQ0FOTk9UX01FRVRfQVJFQV9ERU1BTkRcIixlW2UuUkVRX0RPV05HUkFERV9GQUxMQkFDSz0yN109XCJSRVFfRE9XTkdSQURFX0ZBTExCQUNLXCIsZX0oe30pLE1WPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuTk9fRkxBR19TRVQ9MTAwXT1cIk5PX0ZMQUdfU0VUXCIsZVtlLkZMQUdfU0VUX0JVVF9FTVBUWT0xMDFdPVwiRkxBR19TRVRfQlVUX0VNUFRZXCIsZVtlLklOVkFMSURfRkFMR19TRVQ9MTAyXT1cIklOVkFMSURfRkFMR19TRVRcIixlW2UuRkxBR19TRVRfQlVUX05PX1JFPTEwM109XCJGTEFHX1NFVF9CVVRfTk9fUkVcIixlW2UuSU5WQUxJRF9TRVJWSUNFX0lEPTEwNF09XCJJTlZBTElEX1NFUlZJQ0VfSURcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEU9MjAwXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1AyUD0yMDFdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfUDJQXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPSUNFPTIwMl09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9WT0lDRVwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVEM9MjAzXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ1wiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9DRFM9MjA0XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NEU1wiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9DRE49MjA1XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NETlwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9URFM9MjA2XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1REU1wiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9SRVBPUlQ9MjA3XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1JFUE9SVFwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9BUFBfQ0VOVEVSPTIwOF09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9BUFBfQ0VOVEVSXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0VOVjA9MjA5XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0VOVjBcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9FVD0yMTBdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9FVFwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9TVFJJTkdfVUlEPTIxMV09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9TVFJJTkdfVUlEXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ19VTklMQlM9MjEyXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ19VTklMQlNcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfVU5JTEJTX0ZMVj0yMTNdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfVU5JTEJTX0ZMVlwiLGV9KHt9KSxVVj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLktfVElNRVNUQU1QX0VYUElSRUQ9Ml09XCJLX1RJTUVTVEFNUF9FWFBJUkVEXCIsZVtlLktfQ0hBTk5FTF9QRVJNSVNTSU9OX0lOVkFMSUQ9M109XCJLX0NIQU5ORUxfUEVSTUlTU0lPTl9JTlZBTElEXCIsZVtlLktfQ0VSVElGSUNBVEVfSU5WQUxJRD00XT1cIktfQ0VSVElGSUNBVEVfSU5WQUxJRFwiLGVbZS5LX0NIQU5ORUxfTkFNRV9FTVBUWT01XT1cIktfQ0hBTk5FTF9OQU1FX0VNUFRZXCIsZVtlLktfQ0hBTk5FTF9OT1RfRk9VTkQ9Nl09XCJLX0NIQU5ORUxfTk9UX0ZPVU5EXCIsZVtlLktfVElDS0VUX0lOVkFMSUQ9N109XCJLX1RJQ0tFVF9JTlZBTElEXCIsZVtlLktfQ0hBTk5FTF9DT05GTElDVEVEPThdPVwiS19DSEFOTkVMX0NPTkZMSUNURURcIixlW2UuS19TRVJWSUNFX05PVF9SRUFEWT05XT1cIktfU0VSVklDRV9OT1RfUkVBRFlcIixlW2UuS19TRVJWSUNFX1RPT19IRUFWWT0xMF09XCJLX1NFUlZJQ0VfVE9PX0hFQVZZXCIsZVtlLktfVUlEX0JBTk5FRD0xNF09XCJLX1VJRF9CQU5ORURcIixlW2UuS19JUF9CQU5ORUQ9MTVdPVwiS19JUF9CQU5ORURcIixlW2UuS19DSEFOTkVMX0JBTk5FRD0xNl09XCJLX0NIQU5ORUxfQkFOTkVEXCIsZVtlLkRBVEFTVFJFQU0yX05PVF9BVkFJTEFCTEU9MjddPVwiREFUQVNUUkVBTTJfTk9UX0FWQUlMQUJMRVwiLGVbZS5LX0FVVE9fUkVCQUxBTkNFPTI4XT1cIktfQVVUT19SRUJBTEFOQ0VcIixlW2UuS19WT1NfRkFMTEJBQ0s9MzBdPVwiS19WT1NfRkFMTEJBQ0tcIixlW2UuV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTD0xMDNdPVwiV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTFwiLGVbZS5XQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVQ9MTA0XT1cIldBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVFwiLGVbZS5XQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEPTEwNV09XCJXQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEXCIsZVtlLldBUk5fT1BFTl9DSEFOTkVMX1RJTUVPVVQ9MTA2XT1cIldBUk5fT1BFTl9DSEFOTkVMX1RJTUVPVVRcIixlW2UuV0FSTl9PUEVOX0NIQU5ORUxfUkVKRUNURUQ9MTA3XT1cIldBUk5fT1BFTl9DSEFOTkVMX1JFSkVDVEVEXCIsZVtlLldBUk5fUkVRVUVTVF9ERUZFUlJFRD0xMDhdPVwiV0FSTl9SRVFVRVNUX0RFRkVSUkVEXCIsZVtlLkVSUl9EWU5BTUlDX0tFWV9USU1FT1VUPTEwOV09XCJFUlJfRFlOQU1JQ19LRVlfVElNRU9VVFwiLGVbZS5FUlJfTk9fQVVUSE9SSVpFRD0xMTBdPVwiRVJSX05PX0FVVEhPUklaRURcIixlW2UuRVJSX1ZPTV9TRVJWSUNFX1VOQVZBSUxBQkxFPTExMV09XCJFUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEVcIixlW2UuRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREU9MTEyXT1cIkVSUl9OT19DSEFOTkVMX0FWQUlMQUJMRV9DT0RFXCIsZVtlLkVSUl9NQVNURVJfVk9DU19VTkFWQUlMQUJMRT0xMTRdPVwiRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFXCIsZVtlLkVSUl9JTlRFUk5BTF9FUlJPUj0xMTVdPVwiRVJSX0lOVEVSTkFMX0VSUk9SXCIsZVtlLkVSUl9OT19BQ1RJVkVfU1RBVFVTPTExNl09XCJFUlJfTk9fQUNUSVZFX1NUQVRVU1wiLGVbZS5FUlJfSU5WQUxJRF9VSUQ9MTE3XT1cIkVSUl9JTlZBTElEX1VJRFwiLGVbZS5FUlJfRFlOQU1JQ19LRVlfRVhQSVJFRD0xMThdPVwiRVJSX0RZTkFNSUNfS0VZX0VYUElSRURcIixlW2UuRVJSX1NUQVRJQ19VU0VfRFlBTk1JQ19LRT0xMTldPVwiRVJSX1NUQVRJQ19VU0VfRFlBTk1JQ19LRVwiLGVbZS5FUlJfRFlOQU1JQ19VU0VfU1RBVElDX0tFPTEyMF09XCJFUlJfRFlOQU1JQ19VU0VfU1RBVElDX0tFXCIsZVtlLkVSUl9OT19WT0NTX0FWQUlMQUJMRT0yZTNdPVwiRVJSX05PX1ZPQ1NfQVZBSUxBQkxFXCIsZVtlLkVSUl9OT19WT1NfQVZBSUxBQkxFPTIwMDFdPVwiRVJSX05PX1ZPU19BVkFJTEFCTEVcIixlW2UuRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUPTIwMDJdPVwiRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUXCIsZVtlLkVSUl9SRVBFQVRfSk9JTl9DSEFOTkVMPTIwMDNdPVwiRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxcIixlW2UuRVJSX0pPSU5fQllfTVVMVElfSVA9MjAwNF09XCJFUlJfSk9JTl9CWV9NVUxUSV9JUFwiLGVbZS5FUlJfTk9UX0pPSU5FRD0yMDExXT1cIkVSUl9OT1RfSk9JTkVEXCIsZVtlLkVSUl9SRVBFQVRfSk9JTl9SRVFVRVNUPTIwMTJdPVwiRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1RcIixlW2UuRVJSX0lOVkFMSURfVkVORE9SX0tFWT0yMDEzXT1cIkVSUl9JTlZBTElEX1ZFTkRPUl9LRVlcIixlW2UuRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FPTIwMTRdPVwiRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FXCIsZVtlLkVSUl9JTlZBTElEX1NUUklOR1VJRD0yMDE1XT1cIkVSUl9JTlZBTElEX1NUUklOR1VJRFwiLGVbZS5FUlJfVE9PX01BTllfVVNFUlM9MjAxNl09XCJFUlJfVE9PX01BTllfVVNFUlNcIixlW2UuRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUPTIwMTddPVwiRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUXCIsZVtlLkVSUl9TRVRfQ0xJRU5UX1JPTEVfTk9fUEVSTUlTU0lPTj0yMDE4XT1cIkVSUl9TRVRfQ0xJRU5UX1JPTEVfTk9fUEVSTUlTU0lPTlwiLGVbZS5FUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFPTIwMTldPVwiRVJSX1NFVF9DTElFTlRfUk9MRV9BTFJFQURZX0lOX1VTRVwiLGVbZS5FUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSUQ9MjAyMF09XCJFUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSURcIixlW2UuRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSUQ9MjAyMV09XCJFUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRFwiLGVbZS5FUlJfTk9UX1NVUFBPUlRFRF9NRVNTQUdFPTIwMjJdPVwiRVJSX05PVF9TVVBQT1JURURfTUVTU0FHRVwiLGVbZS5FUlJfSUxMRUFHQUxfUExVR0lOPTIwMjNdPVwiRVJSX0lMTEVBR0FMX1BMVUdJTlwiLGVbZS5FUlJfUkVKT0lOX1RPS0VOX0lOVkFMSUQ9MjAyNF09XCJFUlJfUkVKT0lOX1RPS0VOX0lOVkFMSURcIixlW2UuRVJSX1JFSk9JTl9VU0VSX05PVF9KT0lORUQ9MjAyNV09XCJFUlJfUkVKT0lOX1VTRVJfTk9UX0pPSU5FRFwiLGVbZS5FUlJfSU5WQUxJRF9PUFRJT05BTF9JTkZPPTIwMjddPVwiRVJSX0lOVkFMSURfT1BUSU9OQUxfSU5GT1wiLGVbZS5JTExFR0FMX0FFU19QQVNTV09SRD0yMDI4XT1cIklMTEVHQUxfQUVTX1BBU1NXT1JEXCIsZVtlLklMTEVHQUxfQ0xJRU5UX1JPTEVfTEVWRUw9MjAyOV09XCJJTExFR0FMX0NMSUVOVF9ST0xFX0xFVkVMXCIsZVtlLkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlM9MjAzMV09XCJFUlJfVE9PX01BTllfQlJPQURDQVNURVJTXCIsZVtlLkVSUl9UT09fTUFOWV9TVUJTQ1JJQkVSUz0yMDMyXT1cIkVSUl9UT09fTUFOWV9TVUJTQ1JJQkVSU1wiLGVbZS5FUlJfTElDRU5TRV9NSVNTSU5HPTMyNzY5XT1cIkVSUl9MSUNFTlNFX01JU1NJTkdcIixlW2UuRVJSX0xJQ0VOU0VfRVhQSVJFRD0zMjc3MV09XCJFUlJfTElDRU5TRV9FWFBJUkVEXCIsZVtlLkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERUQ9MzI3NzNdPVwiRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRFwiLGVbZS5FUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRD0zMjc3NF09XCJFUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRFwiLGVbZS5FUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRT0zMjc3OF09XCJFUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRVwiLGVbZS5FUlJfTElDRU5TRV9JTExFR0FMPTMyNzgzXT1cIkVSUl9MSUNFTlNFX0lMTEVHQUxcIixlW2UuRVJSX1RFU1RfUkVDT1ZFUj05ZTNdPVwiRVJSX1RFU1RfUkVDT1ZFUlwiLGVbZS5FUlJfVEVTVF9UUllORVhUPTkwMDFdPVwiRVJSX1RFU1RfVFJZTkVYVFwiLGVbZS5FUlJfVEVTVF9SRVRSWT05MDAyXT1cIkVSUl9URVNUX1JFVFJZXCIsZX0oe30pLFZWPWZ1bmN0aW9uKGUpe3JldHVybiBlLkNPTk5FQ1RJTkc9XCJjb25uZWN0aW5nXCIsZS5DT05ORUNURUQ9XCJjb25uZWN0ZWRcIixlLlJFQ09OTkVDVElORz1cInJlY29ubmVjdGluZ1wiLGUuQ0xPU0VEPVwiY2xvc2VkXCIsZX0oe30pLHhWPWZ1bmN0aW9uKGUpe3JldHVybiBlLldTX0NPTk5FQ1RFRD1cIndzX2Nvbm5lY3RlZFwiLGUuV1NfUkVDT05ORUNUSU5HPVwid3NfcmVjb25uZWN0aW5nXCIsZS5XU19DTE9TRUQ9XCJ3c19jbG9zZWRcIixlLldTX1JFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTj1cIndzX3JlY29ubmVjdF9jcmVhdGVfY29ubmVjdGlvblwiLGUuT05fQklOQVJZX0RBVEE9XCJvbl9iaW5hcnlfZGF0YVwiLGUuUkVRVUVTVF9SRUNPVkVSPVwicmVxdWVzdF9yZWNvdmVyXCIsZS5SRVFVRVNUX0pPSU5fSU5GTz1cInJlcXVlc3Rfam9pbl9pbmZvXCIsZS5SRVFVRVNUX1JFSk9JTl9JTkZPPVwicmVxX3Jlam9pbl9pbmZvXCIsZS5JU19QMlBfRElTQ09OTkVDVEVEPVwiaXNfcDJwX2Rpc1wiLGUuRElTQ09OTkVDVF9QMlA9XCJkaXNfcDJwXCIsZS5BQk9SVF9QMlBfRVhFQ1VUSU9OPVwiYWJvcnRfcDJwX2V4ZWN1dGlvblwiLGUuTkVFRF9SRU5FV19TRVNTSU9OPVwibmVlZC1zaWRcIixlLlJFUE9SVF9KT0lOX0dBVEVXQVk9XCJyZXBvcnRfam9pbl9nYXRld2F5XCIsZS5SRVFVRVNUX1RJTUVPVVQ9XCJyZXF1ZXN0X3RpbWVvdXRcIixlLlJFUVVFU1RfU1VDQ0VTUz1cInJlcXVlc3Rfc3VjY2Vzc1wiLGUuSk9JTl9SRVNQT05TRT1cImpvaW5fcmVzcG9uc2VcIixlLlBSRV9DT05ORUNUX1BDPVwicHJlX2Nvbm5lY3RfcGNcIixlLkRBVEFDSEFOTkVMX1BSRUNPTk5FQ1Q9XCJkYXRhY2hhbm5lbF9wcmVjb25uZWN0XCIsZS5EQVRBQ0hBTk5FTF9DT05ORUNUSU5HPVwiZGF0YWNoYW5uZWxfY29ubmVjdGluZ1wiLGUuREFUQUNIQU5ORUxfRkFJTEJBQ0s9XCJkYXRhY2hhbm5lbF9mYWlsYmFja1wiLGUuUDJQX0NPTk5FQ1RJT049XCJwMnBfY29ubmVjdGlvblwiLGUuUDJQX1JFTU9URV9DQU5ESURBVEVfVVBEQVRFPVwicDJwX3JlbW90ZV9jYW5kaWRhdGVfdXBkYXRlXCIsZS5QMlBfU1VCU0NSSUJFPVwicDJwX3N1YnNjcmliZVwiLGUuUDJQX1VOU1VCU0NSSUJFPVwicDJwX3Vuc3Vic2NyaWJlXCIsZS5QMlBfRVhDSEFOR0VfU0RQPVwicDJwX2V4Y2hhbmdlX3NkcFwiLGUuUDJQX09OX0FERF9WSURFT19TVFJFQU09XCJwMnBfb25fYWRkX3ZpZGVvX3N0cmVhbVwiLGUuUDJQX09OX0FERF9BVURJT19TVFJFQU09XCJwMnBfb25fYWRkX2F1ZGlvX3N0cmVhbVwiLGUuUkVDT1ZFUl9OT1RJRklDQVRJT049XCJyZWNvdmVyX25vdGlmaWNhdGlvblwiLGUuVk9TX0ZBTExCQUNLPVwidm9zX2ZhbGxiYWNrXCIsZS5WT1NfRkFMTEJBQ0tfUFJPTUlTRT1cInZvc19mYWxsYmFja19wcm9taXNlXCIsZX0oe30pLEZWPWZ1bmN0aW9uKGUpe3JldHVybiBlLlBJTkc9XCJwaW5nXCIsZS5QSU5HX0JBQ0s9XCJwaW5nX2JhY2tcIixlLkpPSU49XCJqb2luX3YzXCIsZS5SRUpPSU49XCJyZWpvaW5fdjNcIixlLkxFQVZFPVwibGVhdmVcIixlLlNFVF9DTElFTlRfUk9MRT1cInNldF9jbGllbnRfcm9sZVwiLGUuUFVCTElTSD1cInB1Ymxpc2hcIixlLlBVQkxJU0hfREFUQVNUUkVBTT1cInB1Ymxpc2hfZGF0YXN0cmVhbVwiLGUuVU5QVUJMSVNIPVwidW5wdWJsaXNoXCIsZS5VTlBVQkxJU0hfREFUQVNUUkVBTT1cInVucHVibGlzaF9kYXRhc3RyZWFtXCIsZS5TVUJTQ1JJQkU9XCJzdWJzY3JpYmVcIixlLlBSRV9TVUJTQ1JJQkU9XCJwcmVfc3Vic2NyaWJlXCIsZS5TVUJTQ1JJQkVfREFUQVNUUkVBTT1cInN1YnNjcmliZV9kYXRhc3RyZWFtXCIsZS5TVUJTQ1JJQkVfU1RSRUFNUz1cInN1YnNjcmliZV9zdHJlYW1zXCIsZS5VTlNVQlNDUklCRT1cInVuc3Vic2NyaWJlXCIsZS5VTlNVQlNDUklCRV9EQVRBU1RSRUFNPVwidW5zdWJzY3JpYmVfZGF0YXN0cmVhbVwiLGUuVU5TVUJTQ1JJQkVfU1RSRUFNUz1cInVuc3Vic2NyaWJlX3N0cmVhbXNcIixlLlNVQlNDUklCRV9DSEFOR0U9XCJzdWJzY3JpYmVfY2hhbmdlXCIsZS5UUkFGRklDX1NUQVRTPVwidHJhZmZpY19zdGF0c1wiLGUuUkVORVdfVE9LRU49XCJyZW5ld190b2tlblwiLGUuU0VUX0RVQUxfU1RSRUFNX01PREU9XCJzZXRfZHVhbF9zdHJlYW1fbW9kZVwiLGUuU1dJVENIX1ZJREVPX1NUUkVBTT1cInN3aXRjaF92aWRlb19zdHJlYW1cIixlLkRFRkFVTFRfVklERU9fU1RSRUFNPVwiZGVmYXVsdF92aWRlb19zdHJlYW1cIixlLlNFVF9GQUxMQkFDS19PUFRJT049XCJzZXRfZmFsbGJhY2tfb3B0aW9uXCIsZS5DT05GSUdVUkU9XCJjb25maWd1cmVcIixlLkdBVEVXQVlfSU5GTz1cImdhdGV3YXlfaW5mb1wiLGUuQ09OVFJPTD1cImNvbnRyb2xcIixlLlNFTkRfTUVUQURBVEE9XCJzZW5kX21ldGFkYXRhXCIsZS5EQVRBX1NUUkVBTT1cImRhdGFfc3RyZWFtXCIsZS5QSUNLX1NWQ19MQVlFUj1cInBpY2tfc3ZjX2xheWVyXCIsZS5SRVNUQVJUX0lDRT1cInJlc3RhcnRfaWNlXCIsZS5DT05ORUNUX1BDPVwiY29ubmVjdF9wY1wiLGUuU0VUX1ZJREVPX1BST0ZJTEU9XCJzZXRfdmlkZW9fcHJvZmlsZVwiLGUuU0VUX1BBUkFNRVRFUj1cInNldF9wYXJhbWV0ZXJcIixlLlNFVF9SVE0yX0ZMQUc9XCJzZXRfcnRtMl9mbGFnXCIsZS5ET1dOR1JBREVfQ09ERUM9XCJkb3duZ3JhZGVfY29kZWNcIixlfSh7fSksQlY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuV1JUQ19TVEFUUz1cIndydGNfc3RhdHNcIixlLldTX0lORkxBVEVfREFUQV9MRU5HVEg9XCJ3c19pbmZsYXRlX2RhdGFfbGVuZ3RoXCIsZS5ERU5PSVNFUl9TVEFUUz1cImRlbm9pc2VyX3N0YXRzXCIsZS5FWFRFTlNJT05fVVNBR0VfU1RBVFM9XCJleHRlbnNpb25fdXNhZ2Vfc3RhdHNcIixlfSh7fSksalY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuT05fVVNFUl9PTkxJTkU9XCJvbl91c2VyX29ubGluZVwiLGUuT05fVVNFUl9PRkZMSU5FPVwib25fdXNlcl9vZmZsaW5lXCIsZS5PTl9TVFJFQU1fRkFMTEJBQ0tfVVBEQVRFPVwib25fc3RyZWFtX2ZhbGxiYWNrX3VwZGF0ZVwiLGUuT05fUFVCTElTSF9TVFJFQU09XCJvbl9wdWJsaXNoX3N0cmVhbVwiLGUuT05fVVBMSU5LX1NUQVRTPVwib25fdXBsaW5rX3N0YXRzXCIsZS5PTl9QMlBfTE9TVD1cIm9uX3AycF9sb3N0XCIsZS5PTl9SRU1PVkVfU1RSRUFNPVwib25fcmVtb3ZlX3N0cmVhbVwiLGUuT05fQUREX0FVRElPX1NUUkVBTT1cIm9uX2FkZF9hdWRpb19zdHJlYW1cIixlLk9OX0FERF9WSURFT19TVFJFQU09XCJvbl9hZGRfdmlkZW9fc3RyZWFtXCIsZS5PTl9UT0tFTl9QUklWSUxFR0VfV0lMTF9FWFBJUkU9XCJvbl90b2tlbl9wcml2aWxlZ2Vfd2lsbF9leHBpcmVcIixlLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFPVwib25fdG9rZW5fcHJpdmlsZWdlX2RpZF9leHBpcmVcIixlLk9OX1VTRVJfQkFOTkVEPVwib25fdXNlcl9iYW5uZWRcIixlLk9OX1VTRVJfTElDRU5TRV9CQU5ORUQ9XCJvbl91c2VyX2xpY2Vuc2VfYmFubmVkXCIsZS5PTl9OT1RJRklDQVRJT049XCJvbl9ub3RpZmljYXRpb25cIixlLk9OX0NSWVBUX0VSUk9SPVwib25fY3J5cHRfZXJyb3JcIixlLk1VVEVfQVVESU89XCJtdXRlX2F1ZGlvXCIsZS5NVVRFX1ZJREVPPVwibXV0ZV92aWRlb1wiLGUuVU5NVVRFX0FVRElPPVwidW5tdXRlX2F1ZGlvXCIsZS5VTk1VVEVfVklERU89XCJ1bm11dGVfdmlkZW9cIixlLk9OX1AyUF9PSz1cIm9uX3AycF9va1wiLGUuUkVDRUlWRV9NRVRBREFUQT1cInJlY2VpdmVfbWV0YWRhdGFcIixlLk9OX0RBVEFfU1RSRUFNPVwib25fZGF0YV9zdHJlYW1cIixlLk9OX1JUUF9DQVBBQklMSVRZX0NIQU5HRT1cIm9uX3J0cF9jYXBhYmlsaXR5X2NoYW5nZVwiLGUuT05fUkVNT1RFX0RBVEFTVFJFQU1fVVBEQVRFPVwib25fcmVtb3RlX2RhdGFzdHJlYW1fdXBkYXRlXCIsZS5PTl9SRU1PVEVfRlVMTF9EQVRBU1RSRUFNX0lORk89XCJvbl9yZW1vdGVfZnVsbF9kYXRhc3RyZWFtX2luZm9cIixlLkVOQUJMRV9MT0NBTF9WSURFTz1cImVuYWJsZV9sb2NhbF92aWRlb1wiLGUuRElTQUJMRV9MT0NBTF9WSURFTz1cImRpc2FibGVfbG9jYWxfdmlkZW9cIixlLkVOQUJMRV9MT0NBTF9BVURJTz1cImVuYWJsZV9sb2NhbF9hdWRpb1wiLGUuRElTQUJMRV9MT0NBTF9BVURJTz1cImRpc2FibGVfbG9jYWxfYXVkaW9cIixlLk9OX1BVQkxJU0hFRF9VU0VSX0xJU1Q9XCJvbl9wdWJsaXNoZWRfdXNlcl9saXN0XCIsZS5FTkFCTEVfTVVMVElfU1RSRUFNPVwiZW5hYmxlX211bHRpX3N0cmVhbVwiLGV9KHt9KSxHVj1mdW5jdGlvbihlKXtyZXR1cm4gZS5TRU5EX09OTFk9XCJTRU5EX09OTFlcIixlLlJFQ0VJVkVfT05MWT1cIlJFQ0VJVkVfT05MWVwiLGV9KHt9KSxXVj1mdW5jdGlvbihlKXtyZXR1cm4gZS5DT05ORUNURUQ9XCJ3ZWJzb2NrZXQ6Y29ubmVjdGVkXCIsZS5SRUNPTk5FQ1RJTkc9XCJ3ZWJzb2NrZXQ6cmVjb25uZWN0aW5nXCIsZS5XSUxMX1JFQ09OTkVDVD1cIndlYnNvY2tldDp3aWxsX3JlY29ubmVjdFwiLGUuQ0xPU0VEPVwid2Vic29ja2V0OmNsb3NlZFwiLGUuRkFJTEVEPVwid2Vic29ja2V0OmZhaWxlZFwiLGUuT05fTUVTU0FHRT1cIndlYnNvY2tldDpvbl9tZXNzYWdlXCIsZS5SRVFVRVNUX05FV19VUkxTPVwid2Vic29ja2V0OnJlcXVlc3RfbmV3X3VybHNcIixlLlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTj1cIndlYnNvY2tldDpyZWNvbm5lY3RfY3JlYXRlX2Nvbm5lY3Rpb25cIixlLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFPVwid2Vic29ja2V0Om9uX3Rva2VuX3ByaXZpbGVnZV9kaWRfZXhwaXJlXCIsZS5PTl9GQUxMQkFDSz1cIndlYnNvY2tldDpvbl9mYWxsYmFja1wiLGV9KHt9KTtmdW5jdGlvbiBIVihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZXx8IS9eW2EtekEtWjAtOSBcXCFcXCNcXCRcXCVcXCZcXChcXClcXCtcXC1cXDpcXDtcXDxcXD1cXC5cXD5cXD9cXEBcXFtcXF1cXF5cXF9cXHtcXH1cXHxcXH5cXCxdezEsNjR9JC8udGVzdChlKSl0aHJvdyBpUC5lcnJvcihcIkludmFsaWQgQ2hhbm5lbCBOYW1lIFwiLmNvbmNhdChlKSksbmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLFwiVGhlIGxlbmd0aCBtdXN0IGJlIHdpdGhpbiA2NCBieXRlcy4gVGhlIHN1cHBvcnRlZCBjaGFyYWN0ZXJzOiBhLXosQS1aLDAtOSxzcGFjZSwhLCAjLCAkLCAlLCAmLCAoLCApLCArLCAtLCA6LCA7LCA8LCA9LCAuLCA+LCA/LCBALCBbLCBdLCBeLCBfLCAgeywgfSwgfCwgfiwgLFwiKX1mdW5jdGlvbiBLVihlKXtpZighKHQ9ZSxcIm51bWJlclwiPT10eXBlb2YgdCYmTWF0aC5mbG9vcih0KT09PXQmJjA8PXQmJnQ8PTQyOTQ5NjcyOTV8fFJPKGUsMSwyNTUpKSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJbU3RyaW5nIHVpZF0gTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFsxLDI1NV0uIEFTQ0lJIGNoYXJhY3RlcnMgb25seS4gW051bWJlciB1aWRdIFRoZSB2YWx1ZSByYW5nZSBpcyBbMCwxMDAwMF1cIik7dmFyIHQ7XCJzdHJpbmdcIj09dHlwZW9mIGUmJmlQLndhcm4oXCJZb3UgaW5wdXQgYSBzdHJpbmcgYXMgdGhlIHVzZXIgSUQsIHRvIGVuc3VyZSBiZXR0ZXIgZW5kLXVzZXIgZXhwZXJpZW5jZSwgQWdvcmEgaGlnaGx5IHN1Z2dlc3RzIG5vdCB1c2luZyBhIHN0cmluZyBhcyB0aGUgdXNlciBJRC5cIil9bGV0IFlWPWZ1bmN0aW9uKGUpe3JldHVybiBlLlRSQU5TQ09ERT1cIm1peF9zdHJlYW1pbmdcIixlLlJBVz1cInJhd19zdHJlYW1pbmdcIixlfSh7fSk7Y29uc3QgelY9e2FscGhhOjEsaGVpZ2h0OjY0MCx3aWR0aDozNjAseDowLHk6MCx6T3JkZXI6MCxhdWRpb0NoYW5uZWw6MH0scVY9e3g6MCx5OjAsd2lkdGg6MTYwLGhlaWdodDoxNjAsek9yZGVyOjI1NSxhbHBoYToxfTtmdW5jdGlvbiBYVihlLHQpe1NPKGUudXJsLFwiXCIuY29uY2F0KHQsXCIudXJsXCIpLDEsMWUzLCExKSxUTyhlLngpfHxtTyhlLngsXCJcIi5jb25jYXQodCxcIi54XCIpLDAsMWU0KSxUTyhlLnkpfHxtTyhlLnksXCJcIi5jb25jYXQodCxcIi55XCIpLDAsMWU0KSxUTyhlLndpZHRoKXx8bU8oZS53aWR0aCxcIlwiLmNvbmNhdCh0LFwiLndpZHRoXCIpLDAsMWU0KSxUTyhlLmhlaWdodCl8fG1PKGUuaGVpZ2h0LFwiXCIuY29uY2F0KHQsXCIuaGVpZ2h0XCIpLDAsMWU0KSxUTyhlLnpPcmRlcil8fG1PKGUuek9yZGVyLFwiXCIuY29uY2F0KHQsXCIuek9yZGVyXCIpLDAsMjU1KSxUTyhlLmFscGhhKXx8bU8oZS5hbHBoYSxcIlwiLmNvbmNhdCh0LFwiLmFscGhhXCIpLDAsMSwhMSl9Y29uc3QgSlY9e2F1ZGlvQml0cmF0ZTo0OCxhdWRpb0NoYW5uZWxzOjEsYXVkaW9TYW1wbGVSYXRlOjQ4ZTMsYmFja2dyb3VuZENvbG9yOjAsaGVpZ2h0OjM2MCxsb3dMYXRlbmN5OiExLHZpZGVvQml0cmF0ZTo0MDAsdmlkZW9Db2RlY1Byb2ZpbGU6MTAwLHZpZGVvQ29kZWNUeXBlOjEsdmlkZW9GcmFtZVJhdGU6MTUsdmlkZW9Hb3A6MzAsd2lkdGg6NjQwLGltYWdlczpbXSx1c2VyQ29uZmlnczpbXSx1c2VyQ29uZmlnRXh0cmFJbmZvOlwiXCJ9O2xldCBRVj1mdW5jdGlvbihlKXtyZXR1cm4gZS5XQVJOSU5HPVwiQGxpdmVfdWFwLXdhcm5pbmdcIixlLkVSUk9SPVwiQGxpbmVfdWFwLWVycm9yXCIsZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVM9XCJAbGl2ZV91YXAtcHVibGlzaC1zdGF0dXNcIixlLldPUktFUl9TVEFUVVM9XCJAbGl2ZV91YXAtd29ya2VyLXN0YXR1c1wiLGUuUkVRVUVTVF9ORVdfQUREUkVTUz1cIkBsaXZlX3VhcC1yZXF1ZXN0LWFkZHJlc3NcIixlfSh7fSksWlY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuUkVRVUVTVF9XT1JLRVJfTUFOQUdFUl9MSVNUPVwiQGxpdmVfcmVxX3dvcmtlcl9tYW5hZ2VyXCIsZX0oe30pLCRWPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfU1VDQ0VFRD0yMDBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfU1VDQ0VFRFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9BTFJFQURZX0VYSVNUU19TVFJFQU09NDU0XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX0FMUkVBRFlfRVhJU1RTX1NUUkVBTVwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9UUkFOU0NPRElOR19QQVJBTUVURVJfRVJST1I9NDUwXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1RSQU5TQ09ESU5HX1BBUkFNRVRFUl9FUlJPUlwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9CQURfU1RSRUFNPTQ1MV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9CQURfU1RSRUFNXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1BBUkFNRVRFUl9FUlJPUj00MDBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fUEFSQU1FVEVSX0VSUk9SXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1dPUktFUl9OT1RfRVhJU1Q9NDA0XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1dPUktFUl9OT1RfRVhJU1RcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0FVVEhPUklaRUQ9NDU2XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9BVVRIT1JJWkVEXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0ZBSUxFRF9MT0FEX0lNQUdFPTQ1N109XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9GQUlMRURfTE9BRF9JTUFHRVwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9SRVFVRVNUX1RPT19PRlRFTj00MjldPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVRVUVTVF9UT09fT0ZURU5cIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0ZPVU5EX1BVQkxJU0g9NDUyXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9GT1VORF9QVUJMSVNIXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9TVVBQT1JURUQ9NDUzXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9TVVBQT1JURURcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfTUFYX1NUUkVBTV9OVU09NDU1XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX01BWF9TVFJFQU1fTlVNXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0lOVEVSTkFMX1NFUlZFUl9FUlJPUj01MDBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9MT1NUPTUwMV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfTE9TVFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9SRVNPVVJDRV9MSU1JVD01MDJdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVTT1VSQ0VfTElNSVRcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX1FVSVQ9NTAzXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9RVUlUXCIsZVtlLkVSUk9SX0ZBSUxfU0VORF9NRVNTQUdFPTUwNF09XCJFUlJPUl9GQUlMX1NFTkRfTUVTU0FHRVwiLGVbZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0U9MzBdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfSEFORFNIQUtFXCIsZVtlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1Q9MzFdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfQ09OTkVDVFwiLGVbZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9QVUJMSVNIPTMyXT1cIlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX1BVQkxJU0hcIixlW2UuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1BVQkxJU0hfQlJPS0VOPTMzXT1cIlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9QVUJMSVNIX0JST0tFTlwiLGV9KHt9KTtmdW5jdGlvbiBleChlKXtpZighZS5jaGFubmVsTmFtZSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJpbnZhbGlkIGNoYW5uZWxOYW1lIGluIGluZm9cIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUudWlkKXRocm93IG5ldyB1UChoTy5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgdWlkIGluIGluZm8sIHVpZCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBlLnRva2VuJiZTTyhlLnRva2VuLFwiaW5mby50b2tlblwiLDEsMjA0NyksS1YoZS51aWQpLEhWKGUuY2hhbm5lbE5hbWUpLCEwfWxldCB0eD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLlNldFNka1Byb2ZpbGU9MF09XCJTZXRTZGtQcm9maWxlXCIsZVtlLlNldFNvdXJjZUNoYW5uZWw9MV09XCJTZXRTb3VyY2VDaGFubmVsXCIsZVtlLlNldFNvdXJjZVVzZXJJZD0yXT1cIlNldFNvdXJjZVVzZXJJZFwiLGVbZS5TZXREZXN0Q2hhbm5lbD0zXT1cIlNldERlc3RDaGFubmVsXCIsZVtlLlN0YXJ0UGFja2V0VHJhbnNmZXI9NF09XCJTdGFydFBhY2tldFRyYW5zZmVyXCIsZVtlLlN0b3BQYWNrZXRUcmFuc2Zlcj01XT1cIlN0b3BQYWNrZXRUcmFuc2ZlclwiLGVbZS5VcGRhdGVEZXN0Q2hhbm5lbD02XT1cIlVwZGF0ZURlc3RDaGFubmVsXCIsZVtlLlJlY29ubmVjdD03XT1cIlJlY29ubmVjdFwiLGVbZS5TZXRWaWRlb1Byb2ZpbGU9OF09XCJTZXRWaWRlb1Byb2ZpbGVcIixlfSh7fSksaXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuTkVUV09SS19ESVNDT05ORUNURUQ9XCJORVRXT1JLX0RJU0NPTk5FQ1RFRFwiLGUuTkVUV09SS19DT05ORUNURUQ9XCJORVRXT1JLX0NPTk5FQ1RFRFwiLGUuUEFDS0VUX0pPSU5FRF9TUkNfQ0hBTk5FTD1cIlBBQ0tFVF9KT0lORURfU1JDX0NIQU5ORUxcIixlLlBBQ0tFVF9KT0lORURfREVTVF9DSEFOTkVMPVwiUEFDS0VUX0pPSU5FRF9ERVNUX0NIQU5ORUxcIixlLlBBQ0tFVF9TRU5UX1RPX0RFU1RfQ0hBTk5FTD1cIlBBQ0tFVF9TRU5UX1RPX0RFU1RfQ0hBTk5FTFwiLGUuUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDPVwiUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDXCIsZS5QQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkM9XCJQQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkNcIixlLlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMPVwiUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxcIixlLlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMX1JFRlVTRUQ9XCJQQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9SRUZVU0VEXCIsZS5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9OT1RfQ0hBTkdFPVwiUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxfTk9UX0NIQU5HRVwiLGV9KHt9KSxueD1mdW5jdGlvbihlKXtyZXR1cm4gZS5SRUxBWV9TVEFURV9JRExFPVwiUkVMQVlfU1RBVEVfSURMRVwiLGUuUkVMQVlfU1RBVEVfQ09OTkVDVElORz1cIlJFTEFZX1NUQVRFX0NPTk5FQ1RJTkdcIixlLlJFTEFZX1NUQVRFX1JVTk5JTkc9XCJSRUxBWV9TVEFURV9SVU5OSU5HXCIsZS5SRUxBWV9TVEFURV9GQUlMVVJFPVwiUkVMQVlfU1RBVEVfRkFJTFVSRVwiLGV9KHt9KSxyeD1mdW5jdGlvbihlKXtyZXR1cm4gZS5SRUxBWV9PSz1cIlJFTEFZX09LXCIsZS5TRVJWRVJfQ09OTkVDVElPTl9MT1NUPVwiU0VSVkVSX0NPTk5FQ1RJT05fTE9TVFwiLGUuU1JDX1RPS0VOX0VYUElSRUQ9XCJTUkNfVE9LRU5fRVhQSVJFRFwiLGUuREVTVF9UT0tFTl9FWFBJUkVEPVwiREVTVF9UT0tFTl9FWFBJUkVEXCIsZX0oe30pLG94PWZ1bmN0aW9uKGUpe3JldHVybiBlLkhpZ2g9XCJoaWdoXCIsZS5Mb3c9XCJsb3dcIixlLkF1ZGlvPVwiYXVkaW9cIixlLlNjcmVlbj1cInNjcmVlblwiLGUuU2NyZWVuTG93PVwic2NyZWVuX2xvd1wiLGV9KHt9KSxzeD1mdW5jdGlvbihlKXtyZXR1cm4gZS5ESVNDT05ORUNUPVwiZGlzY29ubmVjdFwiLGUuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLGUuTkVUV09SS19RVUFMSVRZPVwibmV0d29yay1xdWFsaXR5XCIsZS5TVFJFQU1fVFlQRV9DSEFOR0U9XCJzdHJlYW0tdHlwZS1jaGFuZ2VcIixlLklTX1AyUF9ESVNDT05ORUNURUQ9XCJpcy1wMnAtZGlzXCIsZS5ESVNDT05ORUNUX1AyUD1cImRpcy1wMnBcIixlLlJFUVVFU1RfTkVXX0dBVEVXQVlfTElTVD1cInJlcS1nYXRlLXVybFwiLGUuTkVFRF9SRU5FV19TRVNTSU9OPVwibmVlZC1zaWRcIixlLlJFUVVFU1RfUDJQX0NPTk5FQ1RJT05fUEFSQU1TPVwicmVxdWVzdC1wMnAtY29ubmVjdGlvbi1wYXJhbXNcIixlLkpPSU5fUkVTUE9OU0U9XCJqb2luLXJlc3BvbnNlXCIsZS5SRVNFVF9DT05ORUNUSU9OX0VWRU5UUz1cInJlc2V0LWNvbm5lY3Rpb24tZXZlbnRzXCIsZS5QUkVfQ09OTkVDVF9QQz1cInByZS1jb25uZWN0X3BjXCIsZS5VUERBVEVfR0FURVdBWV9DT05GSUc9XCJ1cGRhdGUtZ2F0ZXdheS1jb25maWdcIixlLlZPU19GQUxMQkFDSz1cInZvcy1mYWxsYmFja1wiLGUuVk9TX0ZBTExCQUNLX1BST01JU0U9XCJ2b3MtZmFsbGJhY2stcHJvbWlzZVwiLGUuUkVTRVRfU0lHTkFMPVwicmVzZXQtc2lnbmFsXCIsZS5EQVRBQ0hBTk5FTF9GQUlMQkFDSz1cImRhdGFjaGFubmVsLWZhaWxiYWNrXCIsZX0oe30pLGF4PWZ1bmN0aW9uKGUpe3JldHVybiBlLlAyUF9ESVNDT05ORUNURUQ9XCJQMlBfRElTQ09OTkVDVEVEXCIsZS5BX1JPVU5EX1dTX0ZBSUxFRD1cIkFfUk9VTkRfV1NfRkFJTEVEXCIsZS5USU1FT1VUPVwiVElNRU9VVFwiLGUuVU5LTk9XTl9SRUFTT049XCJVTktOT1dOX1JFQVNPTlwiLGV9KHt9KSxjeD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLk5vdGhpbmc9MF09XCJOb3RoaW5nXCIsZVtlLkF1ZGlvPTFdPVwiQXVkaW9cIixlW2UuTHdvVmlkZW89Ml09XCJMd29WaWRlb1wiLGVbZS5WaWRlbz00XT1cIlZpZGVvXCIsZVtlLkRhdGE9OF09XCJEYXRhXCIsZVtlLkRhdGFTdHJlYW0wPTI1Nl09XCJEYXRhU3RyZWFtMFwiLGVbZS5EYXRhU3RyZWFtMT01MTJdPVwiRGF0YVN0cmVhbTFcIixlW2UuRGF0YVN0cmVhbTI9MTAyNF09XCJEYXRhU3RyZWFtMlwiLGVbZS5EYXRhU3RyZWFtMz0yMDQ4XT1cIkRhdGFTdHJlYW0zXCIsZVtlLkRhdGFTdHJlYW00PTQwOTZdPVwiRGF0YVN0cmVhbTRcIixlW2UuRGF0YVN0cmVhbTU9ODE5Ml09XCJEYXRhU3RyZWFtNVwiLGVbZS5EYXRhU3RyZWFtNj0xNjM4NF09XCJEYXRhU3RyZWFtNlwiLGVbZS5EYXRhU3RyZWFtNz0zMjc2OF09XCJEYXRhU3RyZWFtN1wiLGV9KHt9KSxkeD1mdW5jdGlvbihlKXtyZXR1cm4gZS5DSElOQT1cIkNISU5BXCIsZS5BU0lBPVwiQVNJQVwiLGUuTk9SVEhfQU1FUklDQT1cIk5PUlRIX0FNRVJJQ0FcIixlLkVVUk9QRT1cIkVVUk9QRVwiLGUuSkFQQU49XCJKQVBBTlwiLGUuSU5ESUE9XCJJTkRJQVwiLGUuS09SRUE9XCJLT1JFQVwiLGUuSEtNQz1cIkhLTUNcIixlLlVTPVwiVVNcIixlLk9DRUFOSUE9XCJPQ0VBTklBXCIsZS5TT1VUSF9BTUVSSUNBPVwiU09VVEhfQU1FUklDQVwiLGUuQUZSSUNBPVwiQUZSSUNBXCIsZS5PVkVSU0VBPVwiT1ZFUlNFQVwiLGUuR0xPQkFMPVwiR0xPQkFMXCIsZS5FWFRFTlNJT05TPVwiRVhURU5TSU9OU1wiLGV9KHt9KTtjb25zdCBseD1bZHguQUZSSUNBLGR4LkFTSUEsZHguQ0hJTkEsZHguRVVST1BFLGR4LkdMT0JBTCxkeC5JTkRJQSxkeC5KQVBBTixkeC5OT1JUSF9BTUVSSUNBLGR4Lk9DRUFOSUEsZHguT1ZFUlNFQSxkeC5TT1VUSF9BTUVSSUNBXTtsZXQgdXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQ0hJTkE9XCJDTlwiLGUuQVNJQT1cIkFTXCIsZS5OT1JUSF9BTUVSSUNBPVwiTkFcIixlLkVVUk9QRT1cIkVVXCIsZS5KQVBBTj1cIkpQXCIsZS5JTkRJQT1cIklOXCIsZS5LT1JFQT1cIktSXCIsZS5IS01DPVwiSEtcIixlLlVTPVwiVVNcIixlLk9DRUFOSUE9XCJPQ1wiLGUuU09VVEhfQU1FUklDQT1cIlNBXCIsZS5BRlJJQ0E9XCJBRlwiLGUuT1ZFUlNFQT1cIk9WRVJTRUFcIixlLkdMT0JBTD1cIkdMT0JBTFwiLGUuRVhURU5TSU9OUz1cIkdMT0JBTFwiLGV9KHt9KTtjb25zdCBoeD17Q0hJTkE6e30sQVNJQTp7Q09ERTp1eC5BU0lBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1hc2lhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1hc2lhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hc2lhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWFzaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYXNpYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFzaWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYXNpYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItYXNpYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hc2lhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtYXNpYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWFzaWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1hc2lhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJzb3V0aGVhc3QtYXNpYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sTk9SVEhfQU1FUklDQTp7Q09ERTp1eC5OT1JUSF9BTUVSSUNBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJlYXN0LXVzYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sRVVST1BFOntDT0RFOnV4LkVVUk9QRSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtZXVyb3BlLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1ldXJvcGUuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItZXVyb3BlMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItZXVyb3BlLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItZXVyb3BlMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtZXVyb3BlLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItZXVyb3BlLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtZXVyb3BlLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJldXJvcGUud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEpBUEFOOntDT0RFOnV4LkpBUEFOLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1qYXBhbi5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItamFwYW4uYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWphcGFuLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWphcGFuLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWphcGFuMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItamFwYW4uYWdvcmEuaW9cIixcInN1YS1hcC13ZWItamFwYW4yLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWphcGFuLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWphcGFuMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtamFwYW4uYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1qYXBhbi5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWphcGFuLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJqYXBhbi53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sSU5ESUE6e0NPREU6dXguSU5ESUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWluZGlhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1pbmRpYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItaW5kaWEyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1pbmRpYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1pbmRpYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItaW5kaWEyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1pbmRpYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWluZGlhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtaW5kaWEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImluZGlhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxLT1JFQTp7Q09ERTp1eC5LT1JFQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEta29yZWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWtvcmVhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1rb3JlYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWtvcmVhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWtvcmVhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1rb3JlYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWtvcmVhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTIta29yZWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1rb3JlYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wia29yZWEud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEhLTUM6e0NPREU6dXguSEtNQyxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtaGttYy5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItaGttYy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItaGttYy5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1oa21jLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWhrbWMyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1oa21jLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWhrbWMyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWhrbWMuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItaGttYzIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWhrbWMuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1oa21jLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtaGttYy5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wiaGttYy53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sVVM6e0NPREU6dXguVVMsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLXVzLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi11cy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItdXMuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItdXMuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItdXMyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi11cy5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi11czIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItdXMuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItdXMyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS11cy5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLXVzLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtdXMuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcInVzLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxPVkVSU0VBOntDT0RFOnV4Lk9WRVJTRUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLW92ZXJzZWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLW92ZXJzZWEuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1vdmVyc2VhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItb3ZlcnNlYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLW92ZXJzZWEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiXX0sR0xPQkFMOntDT0RFOnV4LkdMT0JBTCxXRUJDU19ET01BSU46W1wid2VicnRjMi1hcC13ZWItMS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wid2VicnRjMi1hcC13ZWItMy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJhcC1wcm94eS0xLmFnb3JhLmlvXCIsXCJhcC1wcm94eS0yLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLTEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItMy5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItMS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi0zLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLTEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItMy5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJ3ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sT0NFQU5JQTp7Q09ERTp1eC5PQ0VBTklBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1vY2VhbmlhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1vY2VhbmlhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1vY2VhbmlhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItb2NlYW5pYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItb2NlYW5pYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItb2NlYW5pYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1vY2VhbmlhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtb2NlYW5pYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW9jZWFuaWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1vY2VhbmlhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJvY2VhbmlhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxTT1VUSF9BTUVSSUNBOntDT0RFOnV4LlNPVVRIX0FNRVJJQ0EsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLXNvdXRoLWFtZXJpY2EyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcInNvdXRoLWFtZXJpY2Eud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEFGUklDQTp7Q09ERTp1eC5BRlJJQ0EsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWFmcmljYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItYWZyaWNhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hZnJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItYWZyaWNhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWFmcmljYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hZnJpY2EyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hZnJpY2EyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1hZnJpY2EuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1hZnJpY2EuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1zb3V0aC1hZnJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImFmcmljYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sRVhURU5TSU9OUzp7fX07cEQmJihoeC5DSElOQT17Q09ERTp1eC5DSElOQSxXRUJDU19ET01BSU46W1wid2VicnRjMi0yLmFwLnNkLXJ0bi5jb21cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcIndlYnJ0YzItNC5hcC5zZC1ydG4uY29tXCJdLFBST1hZX0NTOltcInByb3h5LXdlYi5hcC5zZC1ydG4uY29tXCJdLENEU19BUDpbXCJjZHMtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwiY2RzLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwic3VhLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sVUFQX0FQOltcInVhcC13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJ1YXAtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcIndlYi0zLnN0YXRzY29sbGVjdG9yLnNkLXJ0bi5jb21cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wid2ViLTQuc3RhdHNjb2xsZWN0b3Iuc2QtcnRuLmNvbVwiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWNoaW5hLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJlYXN0LWNuLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSk7bGV0IHB4PWZ1bmN0aW9uKGUpe3JldHVybiBlLlVQREFURV9CSVRSQVRFX0xJTUlUPVwidXBkYXRlX2JpdHJhdGVfbGltaXRcIixlLlVQREFURV9DTElFTlRfUk9MRV9PUFRJT05TPVwidXBkYXRlX2NsaWVudF9yb2xlX29wdGlvbnNcIixlLlVQREFURV9SRU1PVEVfVklERU9fU1RSRUFNX1RZUEU9XCJ1cGRhdGVfcmVtb3RlX3ZpZGVvX3N0cmVhbV90eXBlXCIsZS5GQUxMQkFDS19UT19ITFM9XCJmYWxsYmFja190b19obHNcIixlLlVQREFURV9WT1NfQ09ORklHVVJFPVwidXBkYXRlX3Zvc19jb25maWd1cmVcIixlfSh7fSk7ZnVuY3Rpb24gX3goZSl7cmV0dXJuISFlJiYoISghZS51cGxpbmt8fCFlLmlkKSYmKHZvaWQgMCE9PWUudXBsaW5rLm1heF9iaXRyYXRlJiZ2b2lkIDAhPT1lLnVwbGluay5taW5fYml0cmF0ZSkpfWNsYXNzIEV4IGV4dGVuZHMgTk97Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLGlBKHRoaXMsXCJvbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLHZvaWQgMCksaUEodGhpcyxcIm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsdm9pZCAwKSxpQSh0aGlzLFwib25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2VcIix2b2lkIDApLGlBKHRoaXMsXCJvbkRUTFNUcmFuc3BvcnRFcnJvclwiLHZvaWQgMCksaUEodGhpcyxcIm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2VcIix2b2lkIDApLGlBKHRoaXMsXCJvbkZpcnN0QXVkaW9SZWNlaXZlZFwiLHZvaWQgMCksaUEodGhpcyxcIm9uRmlyc3RWaWRlb1JlY2VpdmVkXCIsdm9pZCAwKSxpQSh0aGlzLFwib25GaXJzdEF1ZGlvRGVjb2RlZFwiLHZvaWQgMCksaUEodGhpcyxcIm9uRmlyc3RWaWRlb0RlY29kZWRcIix2b2lkIDApLGlBKHRoaXMsXCJvbkZpcnN0VmlkZW9SZW5kZXJcIix2b2lkIDApLGlBKHRoaXMsXCJvbkZpcnN0VmlkZW9CdWZmZXJSZWFkeVwiLHZvaWQgMCksaUEodGhpcyxcIm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0XCIsdm9pZCAwKSxpQSh0aGlzLFwib25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZFwiLHZvaWQgMCksaUEodGhpcyxcIm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkXCIsdm9pZCAwKSxpQSh0aGlzLFwib25JQ0VDYW5kaWRhdGVFcnJvclwiLHZvaWQgMCksaUEodGhpcyxcImdldExvY2FsVmlkZW9TdGF0c1wiLHZvaWQgMCl9fWNsYXNzIG14IGV4dGVuZHMgRXh7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLGlBKHRoaXMsXCJlc3RhYmxpc2hQcm9taXNlXCIsdm9pZCAwKX19bGV0IGZ4PWZ1bmN0aW9uKGUpe3JldHVybiBlLlZJREVPPVwidmlkZW9cIixlLkFVRElPPVwiYXVkaW9cIixlfSh7fSksU3g9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuVURQX1JFTEFZPVwidWRwX3JlbGF5XCIsZS5VRFBfVENQX1JFTEFZPVwidWRwX3RjcF9yZWxheVwiLGUuVENQX1JFTEFZPVwidGNwX3JlbGF5XCIsZS5SRUxBWT1cInJlbGF5XCIsZX0oe30pLGd4PWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuRklSU1RfQ09OTkVDVElPTj0wXT1cIkZJUlNUX0NPTk5FQ1RJT05cIixlW2UuVURQX1RDUF9SRVNUQVJUPTFdPVwiVURQX1RDUF9SRVNUQVJUXCIsZVtlLlJFTEFZX1JFU1RBUlQ9Ml09XCJSRUxBWV9SRVNUQVJUXCIsZVtlLlRDUF9SRVNUQVJUPTNdPVwiVENQX1JFU1RBUlRcIixlW2UuT0xEX0ZJUlNUX0NPTk5FQ1RJT049MTBdPVwiT0xEX0ZJUlNUX0NPTk5FQ1RJT05cIixlW2UuT0xEX1JFU1RBUlQ9MTFdPVwiT0xEX1JFU1RBUlRcIixlW2UuRElTQ09OTkVDVEVEX09SX0ZBSUxFRD0yMF09XCJESVNDT05ORUNURURfT1JfRkFJTEVEXCIsZX0oe30pO2NvbnN0IFR4PVtcImRpc2Nvbm5lY3RlZFwiLFwiZmFpbGVkXCJdO2xldCBSeD1mdW5jdGlvbihlKXtyZXR1cm4gZS5Mb2NhbFZpZGVvVHJhY2s9XCJ2aWRlb1RyYWNrXCIsZS5Mb2NhbEF1ZGlvVHJhY2s9XCJhdWRpb1RyYWNrXCIsZS5Mb2NhbFZpZGVvTG93VHJhY2s9XCJ2aWRlb0xvd1RyYWNrXCIsZX0oe30pLEN4PWZ1bmN0aW9uKGUpe3JldHVybiBlLk5ldz1cIm5ld1wiLGUuQ29ubmVjdGVkPVwiY29ubmVjdGVkXCIsZS5SZWNvbm5lY3Rpbmc9XCJyZWNvbm5lY3RpbmdcIixlLkRpc2Nvbm5lY3RlZD1cImRpc2Nvbm5lY3RlZFwiLGV9KHt9KSx2eD1mdW5jdGlvbihlKXtyZXR1cm4gZS5BdWRpb01ldGFkYXRhPVwiYXVkaW9NZXRhZGF0YVwiLGUuQXVkaW9QdHM9XCJhdWRpb1B0c1wiLGUuU3RhdGVDaGFuZ2U9XCJzdGF0ZUNoYW5nZVwiLGUuSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlPVwiaWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsZS5SZXF1ZXN0TXV0ZUxvY2FsPVwicmVxdWVzdE11dGVMb2NhbFwiLGUuUmVxdWVzdFVubXV0ZUxvY2FsPVwicmVxdWVzdFVubXV0ZUxvY2FsXCIsZS5SZXF1ZXN0UmVQdWJsaXNoPVwicmVxdWVzdFJlUHVibGlzaFwiLGUuUmVxdWVzdFJlUHVibGlzaERhdGFDaGFubmVsPVwicmVxdWVzdFJlUHVibGlzaERhdGFDaGFubmVsXCIsZS5SZXF1ZXN0UmVTdWJzY3JpYmU9XCJyZXF1ZXN0UmVTdWJzY3JpYmVcIixlLlJlcXVlc3RVcGxvYWRTdGF0cz1cInJlcXVlc3RVcGxvYWRTdGF0c1wiLGUuUmVxdWVzdFVwbG9hZD1cInJlcXVlc3RVcGxvYWRcIixlLk1lZGlhUmVjb25uZWN0U3RhcnQ9XCJNZWRpYVJlY29ubmVjdFN0YXJ0XCIsZS5NZWRpYVJlY29ubmVjdEVuZD1cIk1lZGlhUmVjb25uZWN0RW5kXCIsZS5OZWVkU2lnbmFsUlRUPVwiTmVlZFNpZ25hbFJUVFwiLGUuUmVxdWVzdFJlc3RhcnRJQ0U9XCJSZXF1ZXN0UmVzdGFydEljZVwiLGUuUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZT1cIlBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2VcIixlLlJlcXVlc3RSZWNvbm5lY3Q9XCJSZXF1ZXN0UmVjb25uZWN0XCIsZS5SZXF1ZXN0UmVjb25uZWN0UEM9XCJSZXF1ZXN0UmVjb25uZWN0UENcIixlLlJlcXVlc3RVbnB1Ymxpc2hGb3JSZWNvbm5lY3RQQz1cIlJlcXVlc3RVbnB1Ymxpc2hGb3JSZWNvbm5lY3RQQ1wiLGUuUDJQTG9zdD1cIlAyUExvc3RcIixlLlVwZGF0ZVZpZGVvRW5jb2Rlcj1cIlVwZGF0ZVZpZGVvRW5jb2RlclwiLGUuQ29ubmVjdGlvblR5cGVDaGFuZ2U9XCJDb25uZWN0aW9uVHlwZUNoYW5nZVwiLGUuUmVxdWVzdExvd1N0cmVhbVBhcmFtZXRlcj1cIlJlcXVlc3RMb3dTdHJlYW1QYXJhbWV0ZXJcIixlLlF1ZXJ5Q2xpZW50Q29ubmVjdGlvblN0YXRlPVwiUXVlcnlDbGllbnRDb25uZWN0aW9uU3RhdGVcIixlLkxvY2FsQ2FuZGlkYXRlPVwiTG9jYWxDYW5kaWRhdGVcIixlLlJlcXVlc3RQMlBNdXRlTG9jYWw9XCJyZXF1ZXN0UDJQTXV0ZUxvY2FsXCIsZS5SZXF1ZXN0UDJQVW5QdWJsaXNoPVwiUmVxdWVzdFAyUFVuUHVibGlzaFwiLGUuUmVxdWVzdFAyUFVubXV0ZVJlbW90ZT1cIlJlcXVlc3RQMlBVbm11dGVSZW1vdGVcIixlLlJlcXVlc3RQMlBNdXRlUmVtb3RlPVwiUmVxdWVzdFAyUE11dGVSZW1vdGVcIixlLlJlcXVlc3RQMlBSZXN0YXJ0SUNFPVwiUmVxdWVzdFAyUFJlc3RhcnRJQ0VcIixlLkZpcnN0VmlkZW9QcmVSZW5kZXI9XCJGaXJzdFZpZGVvUHJlUmVuZGVyXCIsZS5GaXJzdFZpZGVvQnVmZmVyUmVhZHk9XCJGaXJzdFZpZGVvQnVmZmVyUmVhZHlcIixlfSh7fSkseXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQ09OTkVDVElORz1cIkNPTk5FQ1RJTkdcIixlLlJFQ09OTkVDVElORz1cIlJFQ09OTkVDVElOR1wiLGUuQ09OTkVDVEVEPVwiQ09OTkVDVEVEXCIsZS5DTE9TRUQ9XCJDTE9TRURcIixlfSh7fSksSXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5DT05ORUNUX0FQPTBdPVwiQ09OTkVDVF9BUFwiLGVbZS5BUF9DT05ORUNURUQ9MV09XCJBUF9DT05ORUNURURcIixlW2UuQ09OTkVDVF9XT1JLRVJfTUFOQUdFUj0yXT1cIkNPTk5FQ1RfV09SS0VSX01BTkFHRVJcIixlW2UuV09SS0VSX01BTkFHRVJfQ09OTkVDVEVEPTNdPVwiV09SS0VSX01BTkFHRVJfQ09OTkVDVEVEXCIsZVtlLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRT00XT1cIkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRVwiLGVbZS5DT05ORUNUX1dPUktFUj01XT1cIkNPTk5FQ1RfV09SS0VSXCIsZVtlLldPUktFUl9DT05ORUNURUQ9Nl09XCJXT1JLRVJfQ09OTkVDVEVEXCIsZVtlLkNMT1NFRD03XT1cIkNMT1NFRFwiLGV9KHt9KSxBeD1mdW5jdGlvbihlKXtyZXR1cm4gZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsZS5TVEFURV9DSEFOR0U9XCJzdGF0ZS1jaGFuZ2VcIixlLklOU1BFQ1RfUkVTVUxUPVwiaW5zcGVjdC1yZXN1bHRcIixlLkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSz1cImNsaWVudC1sb2NhbC12aWRlby10cmFja1wiLGUuUkVRVUVTVF9ORVdfV09SS0VSX1VSTD1cInJlcXVlc3QtbmV3LXdvcmtlci11cmxcIixlfSh7fSksYng9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuTkVUV09SS19FUlJPUj1cIk5FVFdPUktfRVJST1JcIixlLlNFUlZFUl9FUlJPUj1cIlNFUlZFUl9FUlJPUlwiLGUuTVVMVElfSVA9XCJNVUxUSV9JUFwiLGUuVElNRU9VVD1cIlRJTUVPVVRcIixlLk9GRkxJTkU9XCJPRkZMSU5FXCIsZS5MRUFWRT1cIkxFQVZFXCIsZS5QMlBfRkFJTEVEPVwiUDJQX0ZBSUxFRFwiLGUuRkFMTEJBQ0s9XCJGQUxMQkFDS1wiLGV9KHt9KSx3eD1mdW5jdGlvbihlKXtyZXR1cm4gZS5DT05ORUNURUQ9XCJ0cmFuc21pdHRlcjpjb25uZWN0ZWRcIixlLlJFQ09OTkVDVElORz1cInRyYW5zbWl0dGVyOnJlY29ubmVjdGluZ1wiLGUuV0lMTF9SRUNPTk5FQ1Q9XCJ0cmFuc21pdHRlcjp3aWxsX3JlY29ubmVjdFwiLGUuQ0xPU0VEPVwidHJhbnNtaXR0ZXI6Y2xvc2VkXCIsZS5GQUlMRUQ9XCJ0cmFuc21pdHRlcjpmYWlsZWRcIixlLk9OX01FU1NBR0U9XCJ0cmFuc21pdHRlcjpvbl9tZXNzYWdlXCIsZS5SRVFVRVNUX05FV19VUkxTPVwidHJhbnNtaXR0ZXI6cmVxdWVzdF9uZXdfdXJsc1wiLGUuUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OPVwidHJhbnNtaXR0ZXI6cmVjb25uZWN0X2NyZWF0ZV9jb25uZWN0aW9uXCIsZS5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRT1cInRyYW5zbWl0dGVyOm9uX3Rva2VuX3ByaXZpbGVnZV9kaWRfZXhwaXJlXCIsZS5UT19DT05ORUNUX0RBVEFDSEFOTkVMPVwidHJhbnNtaXR0ZXI6dG9fY29ubmVjdF9kYXRhY2hhbm5lbFwiLGUuRkFJTEJBQ0s9XCJ0cmFuc21pdHRlcjpmYWlsYmFja1wiLGUuUFJFX0NPTk5FQ1RfUEM9XCJ0cmFuc21pdHRlcjpwcmVfY29ubmVjdF9wY1wiLGV9KHt9KSxPeD1mdW5jdGlvbihlKXtyZXR1cm4gZS5DQU1FUkFfQ0hBTkdFRD1cImNhbWVyYS1jaGFuZ2VkXCIsZS5NSUNST1BIT05FX0NIQU5HRUQ9XCJtaWNyb3Bob25lLWNoYW5nZWRcIixlLlBMQVlCQUNLX0RFVklDRV9DSEFOR0VEPVwicGxheWJhY2stZGV2aWNlLWNoYW5nZWRcIixlLkFVRElPX0FVVE9QTEFZX0ZBSUxFRD1cImF1ZGlvLWF1dG9wbGF5LWZhaWxlZFwiLGUuQVVUT1BMQVlfRkFJTEVEPVwiYXV0b3BsYXktZmFpbGVkXCIsZS5BVURJT19DT05URVhUX1NUQVRFX0NIQU5HRUQ9XCJhdWRpby1jb250ZXh0LXN0YXRlLWNoYW5nZWRcIixlLlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT049XCJzZWN1cml0eS1wb2xpY3ktdmlvbGF0aW9uXCIsZX0oe30pLE54PWZ1bmN0aW9uKGUpe3JldHVybiBlLkNPTk5FQ1RJTkc9XCJDT05ORUNUSU5HXCIsZS5SRUNPTk5FQ1RJTkc9XCJSRUNPTk5FQ1RJTkdcIixlLkNPTk5FQ1RFRD1cIkNPTk5FQ1RFRFwiLGUuQ0xPU0VEPVwiQ0xPU0VEXCIsZX0oe30pLER4PWZ1bmN0aW9uKGUpe3JldHVybiBlLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFPVwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixlLlNUQVRFX0NIQU5HRT1cInN0YXRlLWNoYW5nZVwiLGUuSU5TUEVDVF9SRVNVTFQ9XCJpbnNwZWN0LXJlc3VsdFwiLGUuQ0xJRU5UX0xPQ0FMX1ZJREVPX1RSQUNLPVwiY2xpZW50LWxvY2FsLXZpZGVvLXRyYWNrXCIsZS5SRVFVRVNUX05FV19XT1JLRVJfVVJMPVwicmVxdWVzdC1uZXctd29ya2VyLXVybFwiLGV9KHt9KSxQeD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkNPTk5FQ1RfQVA9MF09XCJDT05ORUNUX0FQXCIsZVtlLkFQX0NPTk5FQ1RFRD0xXT1cIkFQX0NPTk5FQ1RFRFwiLGVbZS5DT05ORUNUX1dPUktFUl9NQU5BR0VSPTJdPVwiQ09OTkVDVF9XT1JLRVJfTUFOQUdFUlwiLGVbZS5XT1JLRVJfTUFOQUdFUl9DT05ORUNURUQ9M109XCJXT1JLRVJfTUFOQUdFUl9DT05ORUNURURcIixlW2UuR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFPTRdPVwiR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFXCIsZVtlLkNPTk5FQ1RfV09SS0VSPTVdPVwiQ09OTkVDVF9XT1JLRVJcIixlW2UuV09SS0VSX0NPTk5FQ1RFRD02XT1cIldPUktFUl9DT05ORUNURURcIixlW2UuQ0xPU0VEPTddPVwiQ0xPU0VEXCIsZX0oe30pLEx4PWZ1bmN0aW9uKGUpe3JldHVybiBlLkNBTEw9XCJjYWxsXCIsZS5DQU5ESURBVEU9XCJjYW5kaWRhdGVcIixlLlBVQkxJU0g9XCJwdWJsaXNoXCIsZS5VTlBVQkxJU0g9XCJ1bnB1Ymxpc2hcIixlLkNPTlRST0w9XCJjb250cm9sXCIsZS5SRVNUQVJUX0lDRT1cInJlc3RhcnRfaWNlXCIsZS5BQ0s9XCJhY2tcIixlLlJFU1BPTlNFPVwicmVzcG9uc2VcIixlLkpPSU49XCJqb2luXCIsZS5DSEVDSz1cImNoZWNrXCIsZX0oe30pLGt4PWZ1bmN0aW9uKGUpe3JldHVybiBlLkFCT1JUPVwiYWJvcnRcIixlfSh7fSksTXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuTVVURV9MT0NBTF9BVURJTz1cIm11dGVfbG9jYWxfYXVkaW9cIixlLk1VVEVfTE9DQUxfVklERU89XCJtdXRlX2xvY2FsX3ZpZGVvXCIsZS5VTk1VVEVfTE9DQUxfQVVESU89XCJ1bm11dGVfbG9jYWxfYXVkaW9cIixlLlVOTVVURV9MT0NBTF9WSURFTz1cInVubXV0ZV9sb2NhbF92aWRlb1wiLGV9KHt9KSxVeD1mdW5jdGlvbihlKXtyZXR1cm4gZS5QMlBfVE9LRU5fVElNRU9VVD1cInAycF90b2tlbl90aW1lb3V0XCIsZS5QMlBfVE9LRU5fQ0hBTkdFRD1cInAycF90b2tlbl9jaGFuZ2VkXCIsZX0oe30pO2NvbnN0IFZ4PXtbUFYuQUNDRVNTX1BPSU5UXTp7W01WLk5PX0ZMQUdfU0VUXTp7ZGVzYzpcImZsYWcgaXMgemVyb1wiLHJldHJ5OiExfSxbTVYuRkxBR19TRVRfQlVUX0VNUFRZXTp7ZGVzYzpcImZsYWcgaXMgZW1wdHlcIixyZXRyeTohMX0sW01WLklOVkFMSURfRkFMR19TRVRdOntkZXNjOlwiaW52YWxpZCBmbGFnXCIscmV0cnk6ITF9LFtNVi5GTEFHX1NFVF9CVVRfTk9fUkVdOntkZXNjOlwiZmxhZyBzZXQgdW5pbGJzIGJ1dCBubyByZXF1ZXN0XCIscmV0cnk6ITF9LFtNVi5JTlZBTElEX1NFUlZJQ0VfSURdOntkZXNjOlwiaW52YWxpZCBzZXJ2aWNlIGlkXCIscmV0cnk6ITF9LFtNVi5OT19TRVJWSUNFX0FWQUlMQUJMRV06e2Rlc2M6XCJubyBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbTVYuTk9fU0VSVklDRV9BVkFJTEFCTEVfUDJQXTp7ZGVzYzpcIm5vIHVuaWxicyBwMnAgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW01WLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPSUNFXTp7ZGVzYzpcIm5vIHVuaWxicyB2b2ljZSBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbTVYuTk9fU0VSVklDRV9BVkFJTEFCTEVfV0VCUlRDXTp7ZGVzYzpcIm5vIHVuaWxicyB3ZWJydGMgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW01WLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NEU106e2Rlc2M6XCJubyBjZHMgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW01WLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NETl06e2Rlc2M6XCJubyBjZG4gZGlzcGF0Y2hlciBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbTVYuTk9fU0VSVklDRV9BVkFJTEFCTEVfVERTXTp7ZGVzYzpcIm5vIHRkcyBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbTVYuTk9fU0VSVklDRV9BVkFJTEFCTEVfUkVQT1JUXTp7ZGVzYzpcIm5vIHVuaWxicyByZXBvcnQgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW01WLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0FQUF9DRU5URVJdOntkZXNjOlwibm8gYXBwIGNlbnRlciBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbTVYuTk9fU0VSVklDRV9BVkFJTEFCTEVfRU5WMF06e2Rlc2M6XCJubyB1bmlsYnMgc2lnIGVudjAgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW01WLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPRVRdOntkZXNjOlwibm8gdW5pbGJzIHZvZXQgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW01WLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1NUUklOR19VSURdOntkZXNjOlwibm8gc3RyaW5nIHVpZCBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbTVYuTk9fU0VSVklDRV9BVkFJTEFCTEVfV0VCUlRDX1VOSUxCU106e2Rlc2M6XCJubyB3ZWJydGMgdW5pbGJzIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9fSxbUFYuVU5JTEJTXTp7W2tWLklOVkFMSURfVkVORE9SX0tFWV06e2Rlc2M6XCJpbnZhbGlkIHZlbmRvciBrZXksIGNhbiBub3QgZmluZCBhcHBpZFwiLHJldHJ5OiExfSxba1YuSU5WQUxJRF9DSEFOTkVMX05BTUVdOntkZXNjOlwiaW52YWxpZCBjaGFubmVsIG5hbWVcIixyZXRyeTohMX0sW2tWLklOVEVSTkFMX0VSUk9SXTp7ZGVzYzpcInVuaWxicyBpbnRlcm5hbCBlcnJvclwiLHJldHJ5OiExfSxba1YuTk9fQVVUSE9SSVpFRF06e2Rlc2M6XCJpbnZhbGlkIHRva2VuLCBhdXRob3JpemVkIGZhaWxlZFwiLHJldHJ5OiExfSxba1YuRFlOQU1JQ19LRVlfVElNRU9VVF06e2Rlc2M6XCJkeW5hbWljIGtleSBvciB0b2tlbiB0aW1lb3V0XCIscmV0cnk6ITF9LFtrVi5OT19BQ1RJVkVfU1RBVFVTXTp7ZGVzYzpcIm5vIGFjdGl2ZSBzdGF0dXNcIixyZXRyeTohMX0sW2tWLkRZTkFNSUNfS0VZX0VYUElSRURdOntkZXNjOlwiZHluYW1pYyBrZXkgZXhwaXJlZFwiLHJldHJ5OiExfSxba1YuU1RBVElDX1VTRV9EWU5BTUlDX0tFWV06e2Rlc2M6XCJzdGF0aWMgdXNlIGR5bmFtaWMga2V5XCIscmV0cnk6ITF9LFtrVi5EWU5BTUlDX1VTRV9TVEFUSUNfS0VZXTp7ZGVzYzpcImR5bmFtaWMgdXNlIHN0YXRpYyBrZXlcIixyZXRyeTohMX0sW2tWLlVTRVJfT1ZFUkxPQURdOntkZXNjOlwiYW1vdW50IG9mIHVzZXJzIG92ZXIgbG9hZFwiLHJldHJ5OiExfSxba1YuRk9SQklEREVOX1JFR0lPTl06e2Rlc2M6XCJ0aGUgcmVxdWVzdCBpcyBmb3JiaWRkZW4gaW4gdGhpcyBhcmVhXCIscmV0cnk6ITF9LFtrVi5DQU5OT1RfTUVFVF9BUkVBX0RFTUFORF06e2Rlc2M6XCJ1bmFibGUgdG8gYWxsb2NhdGUgc2VydmljZXMgaW4gdGhpcyBhcmVhXCIscmV0cnk6ITF9LFtrVi5SRVFfRE9XTkdSQURFX0ZBTExCQUNLXTp7ZGVzYzpcInJlcXVlc3QgZG93bmdyYWRlIGZhbGxiYWNrXCIscmV0cnk6ITF9fSxbUFYuU1RSSU5HX1VJRF9BTExPQ0FUT1JdOntbTFYuSUlJRUdBTF9BUFBJRF06e2Rlc2M6XCJpbnZhbGlkIGFwcGlkXCIscmV0cnk6ITF9LFtMVi5JSUlFR0FMX1VJRF06e2Rlc2M6XCJpbnZhbGlkIHN0cmluZyB1aWRcIixyZXRyeTohMX0sW0xWLklOVEVSTkFMX0VSUk9SXTp7ZGVzYzpcInN0cmluZyB1aWQgYWxsb2NhdG9yIGludGVybmFsIGVycm9yXCIscmV0cnk6ITB9fX07ZnVuY3Rpb24geHgoZSl7Y29uc3QgdD1WeFtNYXRoLmZsb29yKGUvMWU0KV07aWYoIXQpcmV0dXJue2Rlc2M6XCJ1bmtub3duIGVycm9yXCIscmV0cnk6ITF9O2NvbnN0IGk9dFtlJTFlNF07aWYoIWkpe2lmKE1hdGguZmxvb3IoZS8xZTQpPT09UFYuQUNDRVNTX1BPSU5UKXtjb25zdCB0PWUlMWU0O2lmKFwiMVwiPT09dC50b1N0cmluZygpWzBdKXJldHVybntkZXNjOmUudG9TdHJpbmcoKSxyZXRyeTohMX07aWYoXCIyXCI9PT10LnRvU3RyaW5nKClbMF0pcmV0dXJue2Rlc2M6ZS50b1N0cmluZygpLHJldHJ5OiEwfX1yZXR1cm57ZGVzYzpcInVua25vd24gZXJyb3JcIixyZXRyeTohMX19cmV0dXJuIGl9Y29uc3QgRng9e1tVVi5LX1RJTUVTVEFNUF9FWFBJUkVEXTp7ZGVzYzpcIktfVElNRVNUQU1QX0VYUElSRURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1VWLktfQ0hBTk5FTF9QRVJNSVNTSU9OX0lOVkFMSURdOntkZXNjOlwiS19DSEFOTkVMX1BFUk1JU1NJT05fSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuS19DRVJUSUZJQ0FURV9JTlZBTElEXTp7ZGVzYzpcIktfQ0VSVElGSUNBVEVfSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuS19DSEFOTkVMX05BTUVfRU1QVFldOntkZXNjOlwiS19DSEFOTkVMX05BTUVfRU1QVFlcIixhY3Rpb246XCJmYWlsZWRcIn0sW1VWLktfQ0hBTk5FTF9OT1RfRk9VTkRdOntkZXNjOlwiS19DSEFOTkVMX05PVF9GT1VORFwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuS19USUNLRVRfSU5WQUxJRF06e2Rlc2M6XCJLX1RJQ0tFVF9JTlZBTElEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5LX0NIQU5ORUxfQ09ORkxJQ1RFRF06e2Rlc2M6XCJLX0NIQU5ORUxfQ09ORkxJQ1RFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuS19TRVJWSUNFX05PVF9SRUFEWV06e2Rlc2M6XCJLX1NFUlZJQ0VfTk9UX1JFQURZXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbVVYuS19TRVJWSUNFX1RPT19IRUFWWV06e2Rlc2M6XCJLX1NFUlZJQ0VfVE9PX0hFQVZZXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbVVYuS19VSURfQkFOTkVEXTp7ZGVzYzpcIktfVUlEX0JBTk5FRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuS19JUF9CQU5ORURdOntkZXNjOlwiS19JUF9CQU5ORURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1VWLkRBVEFTVFJFQU0yX05PVF9BVkFJTEFCTEVdOntkZXNjOlwiREFUQVNUUkVBTTJfTk9UX0FWQUlMQUJMRVwiLGFjdGlvbjpcInF1aXRcIn0sW1VWLktfQVVUT19SRUJBTEFOQ0VdOntkZXNjOlwia19BVVRPX1JFQkFMQU5DRVwiLGFjdGlvbjpcInJlY292ZXJcIn0sW1VWLktfVk9TX0ZBTExCQUNLXTp7ZGVzYzpcIktfVk9TX0ZBTExCQUNLXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbVVYuRVJSX0lOVkFMSURfVkVORE9SX0tFWV06e2Rlc2M6XCJFUlJfSU5WQUxJRF9WRU5ET1JfS0VZXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5FUlJfSU5WQUxJRF9DSEFOTkVMX05BTUVdOntkZXNjOlwiRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5XQVJOX05PX0FWQUlMQUJMRV9DSEFOTkVMXTp7ZGVzYzpcIldBUk5fTk9fQVZBSUxBQkxFX0NIQU5ORUxcIixhY3Rpb246XCJmYWlsZWRcIn0sW1VWLldBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVF06e2Rlc2M6XCJXQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVRcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtVVi5XQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEXTp7ZGVzYzpcIldBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1VWLldBUk5fT1BFTl9DSEFOTkVMX1RJTUVPVVRdOntkZXNjOlwiV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVFwiLGFjdGlvbjpcInRyeU5leHRcIn0sW1VWLldBUk5fT1BFTl9DSEFOTkVMX1JFSkVDVEVEXTp7ZGVzYzpcIldBUk5fT1BFTl9DSEFOTkVMX1JFSkVDVEVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5XQVJOX1JFUVVFU1RfREVGRVJSRURdOntkZXNjOlwiV0FSTl9SRVFVRVNUX0RFRkVSUkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5FUlJfRFlOQU1JQ19LRVlfVElNRU9VVF06e2Rlc2M6XCJFUlJfRFlOQU1JQ19LRVlfVElNRU9VVFwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuRVJSX05PX0FVVEhPUklaRURdOntkZXNjOlwiRVJSX05PX0FVVEhPUklaRURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1VWLkVSUl9WT01fU0VSVklDRV9VTkFWQUlMQUJMRV06e2Rlc2M6XCJFUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEVcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtVVi5FUlJfTk9fQ0hBTk5FTF9BVkFJTEFCTEVfQ09ERV06e2Rlc2M6XCJFUlJfTk9fQ0hBTk5FTF9BVkFJTEFCTEVfQ09ERVwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFXTp7ZGVzYzpcIkVSUl9NQVNURVJfVk9DU19VTkFWQUlMQUJMRVwiLGFjdGlvbjpcInRyeU5leHRcIn0sW1VWLkVSUl9JTlRFUk5BTF9FUlJPUl06e2Rlc2M6XCJFUlJfSU5URVJOQUxfRVJST1JcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtVVi5FUlJfTk9fQUNUSVZFX1NUQVRVU106e2Rlc2M6XCJFUlJfTk9fQUNUSVZFX1NUQVRVU1wiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuRVJSX0lOVkFMSURfVUlEXTp7ZGVzYzpcIkVSUl9JTlZBTElEX1VJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuRVJSX0RZTkFNSUNfS0VZX0VYUElSRURdOntkZXNjOlwiRVJSX0RZTkFNSUNfS0VZX0VYUElSRURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1VWLkVSUl9TVEFUSUNfVVNFX0RZQU5NSUNfS0VdOntkZXNjOlwiRVJSX1NUQVRJQ19VU0VfRFlBTk1JQ19LRVwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuRVJSX0RZTkFNSUNfVVNFX1NUQVRJQ19LRV06e2Rlc2M6XCJFUlJfRFlOQU1JQ19VU0VfU1RBVElDX0tFXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5FUlJfTk9fVk9DU19BVkFJTEFCTEVdOntkZXNjOlwiRVJSX05PX1ZPQ1NfQVZBSUxBQkxFXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbVVYuRVJSX05PX1ZPU19BVkFJTEFCTEVdOntkZXNjOlwiRVJSX05PX1ZPU19BVkFJTEFCTEVcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtVVi5FUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVRdOntkZXNjOlwiRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbVVYuRVJSX0pPSU5fQllfTVVMVElfSVBdOntkZXNjOlwiRVJSX0pPSU5fQllfTVVMVElfSVBcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFtVVi5FUlJfTk9UX0pPSU5FRF06e2Rlc2M6XCJFUlJfTk9UX0pPSU5FRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1RdOntkZXNjOlwiRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1RcIixhY3Rpb246XCJxdWl0XCJ9LFtVVi5FUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTF06e2Rlc2M6XCJFUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTFwiLGFjdGlvbjpcInF1aXRcIn0sW1VWLkVSUl9JTlZBTElEX1NUUklOR1VJRF06e2Rlc2M6XCJFUlJfSU5WQUxJRF9TVFJJTkdVSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1VWLkVSUl9UT09fTUFOWV9VU0VSU106e2Rlc2M6XCJFUlJfVE9PX01BTllfVVNFUlNcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtVVi5FUlJfU0VUX0NMSUVOVF9ST0xFX1RJTUVPVVRdOntkZXNjOlwiRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5FUlJfU0VUX0NMSUVOVF9ST0xFX05PX1BFUk1JU1NJT05dOntkZXNjOlwiRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5FUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFXTp7ZGVzYzpcIkVSUl9TRVRfQ0xJRU5UX1JPTEVfQUxSRUFEWV9JTl9VU0VcIixhY3Rpb246XCJzdWNjZXNzXCJ9LFtVVi5FUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSURdOntkZXNjOlwiRVJSX1BVQkxJU0hfUkVRVUVTVF9JTlZBTElEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRF06e2Rlc2M6XCJFUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuRVJSX05PVF9TVVBQT1JURURfTUVTU0FHRV06e2Rlc2M6XCJFUlJfTk9UX1NVUFBPUlRFRF9NRVNTQUdFXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5FUlJfSUxMRUFHQUxfUExVR0lOXTp7ZGVzYzpcIkVSUl9JTExFQUdBTF9QTFVHSU5cIixhY3Rpb246XCJmYWlsZWRcIn0sW1VWLklMTEVHQUxfQ0xJRU5UX1JPTEVfTEVWRUxdOntkZXNjOlwiSUxMRUdBTF9DTElFTlRfUk9MRV9MRVZFTFwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuRVJSX1JFSk9JTl9UT0tFTl9JTlZBTElEXTp7ZGVzYzpcIkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbVVYuRVJSX1JFSk9JTl9VU0VSX05PVF9KT0lORURdOntkZXNjOlwiRVJSX1JFSk9JTl9OT1RfSk9JTkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5FUlJfSU5WQUxJRF9PUFRJT05BTF9JTkZPXTp7ZGVzYzpcIkVSUl9JTlZBTElEX09QVElPTkFMX0lORk9cIixhY3Rpb246XCJxdWl0XCJ9LFtVVi5FUlJfVEVTVF9SRUNPVkVSXTp7ZGVzYzpcIkVSUl9URVNUX1JFQ09WRVJcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFtVVi5FUlJfVEVTVF9UUllORVhUXTp7ZGVzYzpcIkVSUl9URVNUX1RSWU5FWFRcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFtVVi5FUlJfVEVTVF9SRVRSWV06e2Rlc2M6XCJFUlJfVEVTVF9SRVRSWVwiLGFjdGlvbjpcInJlY292ZXJcIn0sW1VWLklMTEVHQUxfQUVTX1BBU1NXT1JEXTp7ZGVzYzpcIkVSUl9URVNUX1JFVFJZXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtVVi5FUlJfVE9PX01BTllfQlJPQURDQVNURVJTXTp7ZGVzYzpcIkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlNcIixhY3Rpb246XCJmYWlsZWRcIn0sW1VWLkVSUl9UT09fTUFOWV9TVUJTQ1JJQkVSU106e2Rlc2M6XCJFUlJfVE9PX01BTllfU1VCU0NSSUJFUlNcIixhY3Rpb246XCJmYWlsZWRcIn0sW1VWLkVSUl9MSUNFTlNFX0lMTEVHQUxdOntkZXNjOlwiRVJSX0xJQ0VOU0VfSUxMRUdBTFwiLGFjdGlvbjpcInF1aXRcIn0sW1VWLkVSUl9MSUNFTlNFX01JU1NJTkddOntkZXNjOlwiRVJSX0xJQ0VOU0VfTUlTU0lOR1wiLGFjdGlvbjpcInF1aXRcIn0sW1VWLkVSUl9MSUNFTlNFX0VYUElSRURdOntkZXNjOlwiRVJSX0xJQ0VOU0VfRVhQSVJFRFwiLGFjdGlvbjpcInF1aXRcIn0sW1VWLkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERURdOntkZXNjOlwiRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRFwiLGFjdGlvbjpcInF1aXRcIn0sW1VWLkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEXCIsYWN0aW9uOlwicXVpdFwifSxbVVYuRVJSX0xJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0VdOntkZXNjOlwiRVJSX0xJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0VcIixhY3Rpb246XCJxdWl0XCJ9fTtmdW5jdGlvbiBCeChlKXtjb25zdCB0PUZ4W2VdO3JldHVybiB0fHx7ZGVzYzpcIlVOS05PV05fRVJST1JfXCIuY29uY2F0KGUpLGFjdGlvbjpcImZhaWxlZFwifX1mdW5jdGlvbiBqeChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gR3goZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/angoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6angoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gV3goZSx0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZTtjb25zdHtwcm94eTppLGhvc3Q6bixwb3J0OnJ9PWU7aWYodCl7Y29uc3QgZT1DRChcIkpPSU5fR0FURVdBWV9GQUxMQkFDS19QT1JUXCIpfHw0NDM7cmV0dXJuIDQ0Mz09PWU/XCJ3c3M6Ly9cIi5jb25jYXQobixcIi93cy8/cD1cIikuY29uY2F0KE51bWJlcihyKSsxNTApOlwid3NzOi8vXCIuY29uY2F0KG4sXCI6XCIpLmNvbmNhdChlLFwiL3dzLz9wPVwiKS5jb25jYXQoTnVtYmVyKHIpKzE1MCl9cmV0dXJuIGk/XCJ3c3M6Ly9cIi5jb25jYXQoaSxcIi93cy8/aD1cIikuY29uY2F0KG4sXCImcD1cIikuY29uY2F0KHIpOlwid3NzOi8vXCIuY29uY2F0KG4sXCI6XCIpLmNvbmNhdChyKX1jb25zdCBIeD0vd3NzOlxcL1xcLyguKylcXC93c1xcL1xcP2g9KC4rKSZwPShbMC05XSspXFwvPy8sS3g9L3dzczpcXC9cXC8oLispXFwvd3NcXC9cXD9wPShbMC05XSspXFwvPy8sWXg9L3dzczpcXC9cXC8oLispOihbMC05XSspXFwvPy8seng9L3dzczpcXC9cXC8oLlteXFwvXSspXFwvPy87bGV0IHF4PTA7Y2xhc3MgWHh7Y29uc3RydWN0b3IoZSx0KXtpQSh0aGlzLFwiaWRcIiwwKSxpQSh0aGlzLFwic3RvcmVcIix2b2lkIDApLGlBKHRoaXMsXCJyZWNvcmRJbmRleFwiLHZvaWQgMCksaUEodGhpcyxcIndlYnNvY2tldHNcIixbXSksaUEodGhpcyxcInRyeTQ0M1BvcnREdXJhdGlvblwiLDJlMyksaUEodGhpcyxcImZvcmNlQ2xvc2VXU0R1cmF0aW9uXCIsNWUzKSxpQSh0aGlzLFwidHJ5NDQzUG9ydFRpbWVvdXRcIixudWxsKSxpQSh0aGlzLFwiZm9yY2VDbG9zZVRpbWVvdXRcIixudWxsKSxpQSh0aGlzLFwiaXNUcnk0NDNQb3J0RmFpbGVkXCIsITEpLGlBKHRoaXMsXCJpc05vcm1hbFBvcnRGYWlsZWRcIiwhMSksaUEodGhpcyxcInVzZURvdWJsZURvbWFpblwiLCExKSxpQSh0aGlzLFwidXNlUHJveHlcIiwhMSksaUEodGhpcyxcInN0YXJ0VGltZVwiLERhdGUubm93KCkpLHRoaXMuaWQ9KytxeCx0aGlzLnRyeTQ0M1BvcnREdXJhdGlvbj1DRChcIkpPSU5fR0FURVdBWV9UUllfNDQzUE9SVF9EVVJBVElPTlwiKXx8MmUzLHRoaXMuZm9yY2VDbG9zZVdTRHVyYXRpb249ZXx8NWUzLHRoaXMuc3RvcmU9dH1jbG9zZUFsbFdlYnNvY2tldHMoKXt0aGlzLndlYnNvY2tldHMuZm9yRWFjaCgoZT0+e2Uub25vcGVuPW51bGwsZS5vbmNsb3NlPW51bGwsZS5vbm1lc3NhZ2U9bnVsbCxlLmNsb3NlKCl9KSksdGhpcy53ZWJzb2NrZXRzLmxlbmd0aD0wfWNsZWFyVGltZW91dCgpe3RoaXMuZm9yY2VDbG9zZVRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0KSx0aGlzLnRyeTQ0M1BvcnRUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy50cnk0NDNQb3J0VGltZW91dCksdGhpcy5mb3JjZUNsb3NlVGltZW91dD1udWxsLHRoaXMudHJ5NDQzUG9ydFRpbWVvdXQ9bnVsbH1sb2dnZXIoKXt2YXIgZTtjb25zdCB0PURhdGUubm93KCktdGhpcy5zdGFydFRpbWU7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaSkscj0wO3I8aTtyKyspbltyXT1hcmd1bWVudHNbcl07aVAuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3MgXCIuY29uY2F0KG51bGw9PT0oZT10aGlzLnN0b3JlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jbGllbnRJZCxcIiBcIikuY29uY2F0KHRoaXMuaWQsXCJdIFwiKS5jb25jYXQodCxcIm1zOlwiKSwuLi5uKX1jcmVhdGVXZWJTb2NrZXQoZSx0LGkpe3RoaXMubG9nZ2VyKFwiY3JlYXRlV2ViU29ja2V0OlwiLGUse2lzVHJ5NDQzUG9ydDp0LGhhc1RpbWVvdXREZXRlY3Rpb246aX0pO2NvbnN0IG49Q0QoXCJHQVRFV0FZX0RPTUFJTlNcIikscj1EYXRlLm5vdygpLG89W10scz1uLmZpbmQoKHQ9Pnt2YXIgaTtyZXR1cm4gTG4oaT1lLmhvc3QpLmNhbGwoaSx0KX0pKTtzfHwodGhpcy51c2VEb3VibGVEb21haW49ITEpO2NvbnN0IGE9W107aWYodGhpcy51c2VEb3VibGVEb21haW4pbi5mb3JFYWNoKChpPT57YS5wdXNoKFd4KEd4KEd4KHt9LGUpLHt9LHtob3N0OmUuaG9zdC5yZXBsYWNlKHMsaSl9KSx0KSl9KSk7ZWxzZXtjb25zdCBpPUd4KHt9LGUpO2lmKHQmJnMpe2NvbnN0IGU9bi5maW5kKChlPT5lIT09cykpO2UmJihpLmhvc3Q9aS5ob3N0LnJlcGxhY2UocyxlKSl9YS5wdXNoKFd4KGksdCkpfXRyeXthLmZvckVhY2goKGU9Pntjb25zdCB0PW5ldyBXZWJTb2NrZXQoZSk7dC5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIixvLnB1c2godCksdGhpcy5sb2dnZXIoXCJ3cyBpcyBjb25uZWN0aW5nOlwiLHQudXJsKX0pKX1jYXRjaChuKXtpZih0aGlzLmxvZ2dlcihcIndzIGNyZWF0ZSBmYWlsZWRcIiksby5mb3JFYWNoKChlPT5lLmNsb3NlKCkpKSxvLmxlbmd0aD0wLHRoaXMudXNlRG91YmxlRG9tYWluKXJldHVybiB0aGlzLnVzZURvdWJsZURvbWFpbj0hMSx0aGlzLmNyZWF0ZVdlYlNvY2tldChlLHQsaSk7aWYoIXQmJjQ0MyE9PU51bWJlcihlLnBvcnQpKXJldHVybiB0aGlzLmNyZWF0ZVdlYlNvY2tldChlLCEwLGkpO3Rocm93IG5ldyB1UChoTy5XU19FUlIsXCJpbml0IHdlYnNvY2tldCBmYWlsZWQhIEVycm9yOiBcIi5jb25jYXQobi50b1N0cmluZygpKSl9Y29uc3QgYz1DdygpO3RoaXMuc3RvcmUmJnRoaXMuc3RvcmUucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHt1cmxzOm8ubWFwKChlPT5lLnVybCkpLHNlcnZpY2U6XCJnYXRld2F5XCJ9LHRoaXMucmVjb3JkSW5kZXgpLG8uZm9yRWFjaCgoZT0+e2Uub25vcGVuPSgpPT57dGhpcy5sb2dnZXIoXCJvbm9wZW46IHdzIFwiLmNvbmNhdChlLnVybCxcIiBvcGVuIGNvc3QgXCIpLmNvbmNhdChEYXRlLm5vdygpLXIsXCJtc1wiKSksdGhpcy53ZWJzb2NrZXRzLmZvckVhY2goKHQ9Pnt0IT09ZSYmKHQub25vcGVuPW51bGwsdC5vbmNsb3NlPW51bGwsdC5vbm1lc3NhZ2U9bnVsbCx0LmNsb3NlKCksdGhpcy5sb2dnZXIoXCJjbG9zZSBiYWNrdXAgd2Vic29ja2V0OiBcIi5jb25jYXQodC51cmwpKSl9KSksdGhpcy53ZWJzb2NrZXRzLmxlbmd0aD0wLGMucmVzb2x2ZShlKX0sZS5vbmNsb3NlPWk9Pnt0aGlzLmxvZ2dlcihcIm9uY2xvc2U6IHdzIFwiLmNvbmNhdChlLnVybCxcIiBjbG9zZWQgY29zdCBcIikuY29uY2F0KERhdGUubm93KCktcixcIm1zIHN0YXRlOiBcIikuY29uY2F0KGUucmVhZHlTdGF0ZSkpO2NvbnN0IG49by5ldmVyeSgoZT0+ZS5yZWFkeVN0YXRlPT09V2ViU29ja2V0LkNMT1NFRHx8ZS5yZWFkeVN0YXRlPT09V2ViU29ja2V0LkNMT1NJTkcpKTt0aGlzLmxvZ2dlcihcIlwiLmNvbmNhdCh0P1wiNDQzXCI6XCI0N3h4XCIsXCIgd2Vic29ja2V0IGNsb3NlZCwgYWxsIGZhaWxlZDogXCIpLmNvbmNhdChuKSksbiYmKHR8fHRoaXMuaXNUcnk0NDNQb3J0RmFpbGVkfHx0aGlzLnVzZVByb3h5KT8odGhpcy5sb2dnZXIoXCJvbmNsb3NlOiBhbGwgd2Vic29ja2V0IGlzIGNsb3NlZCwgXCIuY29uY2F0KGkucmVhc29uKSksYy5yZWplY3Qoe2NvZGU6aS5jb2RlLHJlYXNvbjpheC5BX1JPVU5EX1dTX0ZBSUxFRH0pKTohdCYmbiYmIXRoaXMuaXNOb3JtYWxQb3J0RmFpbGVkJiZ0aGlzLnRyeTQ0M1BvcnRUaW1lb3V0JiYodGhpcy5sb2dnZXIoXCJhbGwgNDd4eCB3ZWJzb2NrZXQgaXMgY2xvc2VkLCB0cnkgNDQzIHBvcnRcIiksdGhpcy5jbGVhclRpbWVvdXQoKSxsKCkpLHQ/dGhpcy5pc1RyeTQ0M1BvcnRGYWlsZWQ9bjp0aGlzLmlzTm9ybWFsUG9ydEZhaWxlZD1ufSxlLm9ubWVzc2FnZT10PT50aGlzLmxvZ2dlcihcIlwiLmNvbmNhdChlLnVybCxcIiBvbm1lc3NhZ2U6IFwiKS5jb25jYXQodC5kYXRhKSl9KSksdGhpcy53ZWJzb2NrZXRzLnB1c2goLi4ubyk7Y29uc3QgZD0oKT0+e3RoaXMud2Vic29ja2V0cy5mb3JFYWNoKChlPT5lLnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTiYmZS5jbG9zZSgpKSl9LGw9KCk9PntpZihjLmlzUmVzb2x2ZWQpcmV0dXJuIGQoKTtEdygpLm9zPT09QXcuTUFDX09TJiZCdygpJiZkKCksdGhpcy5jcmVhdGVXZWJTb2NrZXQoZSwhMCwhMCkudGhlbigoZT0+e2MucmVzb2x2ZShlKX0pKS5jYXRjaCgoZT0+e3RoaXMuaXNOb3JtYWxQb3J0RmFpbGVkJiZjLnJlamVjdChlKSx0aGlzLmxvZ2dlcihcInRyeSA0NDMgcG9ydCB0byBjcmVhdGUgd3MgZmFpbGVkXCIpfSkpLHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5sb2dnZXIoXCI1cyB0aW1lb3V0IGNsb3NlIHVuLW9wZW5zLCBpc1dlYnNvY2tldCBjcmVhdGVkOiBcIixjLmlzUmVzb2x2ZWQpLHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQ9bnVsbCxkKCl9KSx0aGlzLmZvcmNlQ2xvc2VXU0R1cmF0aW9uKX07cmV0dXJuIGl8fCgoKT0+e2lmKHR8fHRoaXMudXNlUHJveHkpcmV0dXJuIHRoaXMubG9nZ2VyKFwiYWRkIDVzIHRpbWVvdXQgYXQgXCIuY29uY2F0KHQ/XCJ0cnktNDQzXCI6XCJwcm94eVwiLFwiIGNvbmRpdGlvblwiKSksdGhpcy5mb3JjZUNsb3NlVGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0PW51bGwsZCgpfSksdGhpcy5mb3JjZUNsb3NlV1NEdXJhdGlvbik7dGhpcy50cnk0NDNQb3J0VGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0aGlzLmxvZ2dlcihcIjJzIHRpbWVvdXQsIGlzV2Vic29ja2V0IGNyZWF0ZWQ6IFwiLGMuaXNSZXNvbHZlZCksdGhpcy50cnk0NDNQb3J0VGltZW91dD1udWxsLGwoKX0pLHRoaXMudHJ5NDQzUG9ydER1cmF0aW9uKX0pKCksYy5wcm9taXNlfWNob29zZUJlc3RXZWJzb2NrZXQoZSx0LGksbil7cmV0dXJuIHRoaXMudXNlRG91YmxlRG9tYWluPSEhdCxcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9ZnVuY3Rpb24oZSl7bGV0IHQsaSxuO3JldHVyblssdCxpLG5dPWUubWF0Y2goSHgpfHxbXSx0fHwoWyxpLG5dPWUubWF0Y2goS3gpfHxbXSksaSYmbnx8KFssaSxuXT1lLm1hdGNoKFl4KXx8W10pLGkmJm58fChbLGldPWUubWF0Y2goengpfHxbXSksaXx8aVAud2FybmluZyhcInVuLWRlc3RydWN0aWJsZSB1cmw6IFwiLGUpLHtwcm94eTp0LGhvc3Q6aSxwb3J0Om58fFwiNDQzXCJ9fShlKSksdGhpcy5yZWNvcmRJbmRleD1uLHRoaXMudXNlUHJveHk9ISFlLnByb3h5LGkmJnRoaXMudXNlUHJveHkmJihpUC53YXJuKFwiY2Fubm90IHVzZSA0NDMgb25seSB3aGVuIHVzZSBwcm94eVwiKSxpPSExKSx0aGlzLmNyZWF0ZVdlYlNvY2tldChlLCEhaSwhMSkuZmluYWxseSgoKCk9PnRoaXMuY2xlYXJUaW1lb3V0KCkpKX19ZnVuY3Rpb24gSngoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWNsYXNzIFF4IGV4dGVuZHMgTk97Z2V0IHVybCgpe3JldHVybiB0aGlzLndlYnNvY2tldCYmdGhpcy53ZWJzb2NrZXQudXJsfHx0aGlzLl93ZWJzb2NrZXRVcmx9Z2V0IHJlY29ubmVjdE1vZGUoKXtyZXR1cm4gdGhpcy5fcmVjb25uZWN0TW9kZX1zZXQgcmVjb25uZWN0TW9kZShlKXt2YXIgdDtMbih0PVtcInRyeU5leHRcIixcInJlY292ZXJcIl0pLmNhbGwodCxlKSYmdGhpcy5yZXNldFJlY29ubmVjdENvdW50KGUpLHRoaXMuX3JlY29ubmVjdE1vZGU9ZX1nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9c2V0IHN0YXRlKGUpe2UhPT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPWUsXCJyZWNvbm5lY3RpbmdcIj09PXRoaXMuX3N0YXRlP3RoaXMuZW1pdChXVi5SRUNPTk5FQ1RJTkcsdGhpcy5yZWNvbm5lY3RSZWFzb24pOlwiY29ubmVjdGVkXCI9PT10aGlzLl9zdGF0ZT90aGlzLmVtaXQoV1YuQ09OTkVDVEVEKTpcImNsb3NlZFwiPT09dGhpcy5fc3RhdGU/dGhpcy5lbWl0KFdWLkNMT1NFRCk6XCJmYWlsZWRcIj09PXRoaXMuX3N0YXRlJiZ0aGlzLmVtaXQoV1YuRkFJTEVEKSl9cmVzZXRSZWNvbm5lY3RDb3VudChlKXtpUC5kZWJ1ZyhcIndlYnNvY2tldCByZXNldCByZWNvbm5lY3QgY291bnQsIHJlYXNvbjogXCIrZSksdGhpcy5yZWNvbm5lY3RDb3VudD0wfWNvbnN0cnVjdG9yKGUsdCl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM10scj1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdLG89YXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTp2b2lkIDA7c3VwZXIoKSxpQSh0aGlzLFwiX3dlYnNvY2tldFVybFwiLG51bGwpLGlBKHRoaXMsXCJjb25uZWN0aW9uSURcIiwwKSxpQSh0aGlzLFwiY3VycmVudFVSTEluZGV4XCIsMCksaUEodGhpcyxcInVybHNcIixbXSksaUEodGhpcyxcIl9yZWNvbm5lY3RNb2RlXCIsXCJ0cnlOZXh0XCIpLGlBKHRoaXMsXCJyZWNvbm5lY3RSZWFzb25cIix2b2lkIDApLGlBKHRoaXMsXCJfaW5pdE11dGV4XCIsdm9pZCAwKSxpQSh0aGlzLFwibmFtZVwiLHZvaWQgMCksaUEodGhpcyxcIl9zdGF0ZVwiLFwiY2xvc2VkXCIpLGlBKHRoaXMsXCJyZWNvbm5lY3RJbnRlcnJ1cHRlclwiLHZvaWQgMCksaUEodGhpcyxcIndlYnNvY2tldFwiLHZvaWQgMCksaUEodGhpcyxcInJldHJ5Q29uZmlnXCIsdm9pZCAwKSxpQSh0aGlzLFwicmVjb25uZWN0Q291bnRcIiwwKSxpQSh0aGlzLFwiZm9yY2VDbG9zZVRpbWVvdXRcIiw1ZTMpLGlBKHRoaXMsXCJvbmxpbmVSZWNvbm5lY3RMaXN0ZW5lclwiLHZvaWQgMCksaUEodGhpcyxcInVzZUNvbXByZXNzXCIsdm9pZCAwKSxpQSh0aGlzLFwidHJ5RG91YmxlRG9tYWluXCIsITEpLGlBKHRoaXMsXCJ1c2U0NDNQb3J0T25seVwiLCExKSxpQSh0aGlzLFwid3NJbmZsYXRlTGVuZ3RoXCIsMCksaUEodGhpcyxcIndzRGVmbGF0ZUxlbmd0aFwiLDApLGlBKHRoaXMsXCJjbG9zZUVzdGFibGlzaGluZ1dzXCIsKCgpPT57fSkpLGlBKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksaUEodGhpcyxcImpvaW5HYXRld2F5UmVjb3JkSW5kZXhcIix2b2lkIDApLHRoaXMuc3RvcmU9byx0aGlzLm5hbWU9ZSx0aGlzLnJldHJ5Q29uZmlnPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0p4KE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aUEoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOkp4KE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfSh7fSx0KSx0aGlzLnVzZUNvbXByZXNzPWksdGhpcy50cnlEb3VibGVEb21haW49bix0aGlzLnVzZTQ0M1BvcnRPbmx5PXIsdGhpcy5faW5pdE11dGV4PW5ldyBQTihcIndlYnNvY2tldFwiLG8/by5jbGllbnRJZDp2b2lkIDApO2NvbnN0e3RpbWVvdXQ6cyx0aW1lb3V0RmFjdG9yOmF9PXQsYz1NYXRoLm1heCgzMDAsTWF0aC5mbG9vcigzKnMvNSkpLGQ9TWF0aC5tYXgoMS4yLE1hdGguZmxvb3IoOCphKS8xMCk7S08uT05MSU5FJiYodGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0PWMsdGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0RmFjdG9yPWQpLFFPLm9uKFlPLk5FVFdPUktfU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e2UhPT10JiYodGhpcy5yZXNldFJlY29ubmVjdENvdW50KFwibmV0d29yayBzdGF0ZSBjaGFuZ2U6IFwiLmNvbmNhdCh0LFwiIC0+IFwiKS5jb25jYXQoZSkpLGU9PT1LTy5PTkxJTkU/KHRoaXMucmV0cnlDb25maWcudGltZW91dD1jLHRoaXMucmV0cnlDb25maWcudGltZW91dEZhY3Rvcj1kKToodGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0PXMsdGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0RmFjdG9yPWEpKX0pKX1nZXRDb25uZWN0aW9uKCl7cmV0dXJuIHRoaXMud2Vic29ja2V0fHx2b2lkIDB9YXN5bmMgaW5pdChlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NWUzO2NvbnN0IGk9YXdhaXQgdGhpcy5faW5pdE11dGV4LmxvY2soKTt0aGlzLl9yZWNvbm5lY3RNb2RlPVwidHJ5TmV4dFwiLHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQ9dCx0aGlzLnVybHM9ZSx0aGlzLnN0YXRlPVwiY29ubmVjdGluZ1wiO3RyeXt2YXIgbjtjb25zdCBlPUN3KCksdD10aGlzLnVybHNbdGhpcy5jdXJyZW50VVJMSW5kZXhdO251bGw9PT0obj10aGlzLnN0b3JlKXx8dm9pZCAwPT09bnx8bi5iZWZvcmVDb25uZWN0KCksZnVuY3Rpb24oZSl7cmV0dXJuIShFUCgpfHxDRChcIlVTRV9ORVdfVE9LRU5cIil8fCFDRChcIkVOQUJMRV9QUkVBTExPQ19QQ1wiKSYmKG51bGw9PWV8fCFlLmF1dG9TdWJzY3JpYmV8fENEKFwiRk9SQ0VfRElTQUJMRV9BVVRPX1NVQlwiKSkpfSh0aGlzLnN0b3JlKSYmdGhpcy5lbWl0KHd4LlBSRV9DT05ORUNUX1BDKSx0aGlzLmNyZWF0ZVdlYlNvY2tldENvbm5lY3Rpb24odCkudGhlbihlLnJlc29sdmUpLmNhdGNoKGUucmVqZWN0KSx0aGlzLm9uY2UoV1YuQ0xPU0VELCgoKT0+e2UucmVqZWN0KG5ldyBwTyhoTy5XU19ESVNDT05ORUNUKSl9KSksdGhpcy5vbmNlKFdWLkNPTk5FQ1RFRCxlLnJlc29sdmUpLGF3YWl0IGUucHJvbWlzZX1jYXRjaChlKXt9ZmluYWxseXtpKCl9fWNsb3NlKGUsdCl7aWYodGhpcy5jdXJyZW50VVJMSW5kZXg9MCx0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJjbG9zZVwiKSx0aGlzLnJlY29ubmVjdEludGVycnVwdGVyJiZ0aGlzLnJlY29ubmVjdEludGVycnVwdGVyKCksdGhpcy53ZWJzb2NrZXQpe3RoaXMud2Vic29ja2V0Lm9uY2xvc2U9bnVsbCx0aGlzLndlYnNvY2tldC5vbm9wZW49bnVsbCx0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2U9bnVsbDtjb25zdCBlPXRoaXMud2Vic29ja2V0O3Q/c2V0VGltZW91dCgoKCk9PmUuY2xvc2UoKSksNTAwKTplLmNsb3NlKCksdGhpcy53ZWJzb2NrZXQ9dm9pZCAwLHRoaXMuX3dlYnNvY2tldFVybD1udWxsfXRoaXMuc3RhdGU9ZT9cImZhaWxlZFwiOlwiY2xvc2VkXCIsdGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzJiZ0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3MoKX1yZWNvbm5lY3QoZSx0KXtpZighdGhpcy53ZWJzb2NrZXQpcmV0dXJuIHZvaWQgaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSBjYW4gbm90IHJlY29ubmVjdCwgbm8gd2Vic29ja2V0XCIpKTt2b2lkIDAhPT1lJiYodGhpcy5yZWNvbm5lY3RNb2RlPWUpLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHJlY29ubmVjdCBpcyB0cmlnZ2VyZWQgaW5pdGlhdGl2ZVwiKSksXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuam9pbkdhdGV3YXlSZWNvcmRJbmRleCYmdGhpcy5zdG9yZSYmdGhpcy5zdG9yZS5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXR1czpcImVycm9yXCIsZXJyb3JzOltuZXcgRXJyb3IodCldfSx0aGlzLmpvaW5HYXRld2F5UmVjb3JkSW5kZXgpO2NvbnN0IGk9dGhpcy53ZWJzb2NrZXQub25jbG9zZTt0aGlzLndlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy53ZWJzb2NrZXQuY2xvc2UoKSxpJiZpLmJpbmQodGhpcy53ZWJzb2NrZXQpKHtjb2RlOjk5OTkscmVhc29uOnR9KX1zZW5kTWVzc2FnZShlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2lmKCF0aGlzLndlYnNvY2tldHx8dGhpcy53ZWJzb2NrZXQucmVhZHlTdGF0ZSE9PVdlYlNvY2tldC5PUEVOKXRocm93IG5ldyBwTyhoTy5XU19BQk9SVCxcIndlYnNvY2tldCBpcyBub3QgcmVhZHlcIik7dHJ5e3R8fChlPUpTT04uc3RyaW5naWZ5KGUpKSx0aGlzLndlYnNvY2tldC5zZW5kKGUpfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5XU19FUlIsXCJzZW5kIHdlYnNvY2tldCBtZXNzYWdlIGVycm9yXCIrZS50b1N0cmluZygpKX19c2V0V3NJbmZsYXRlRGF0YShlKXt0aGlzLndzRGVmbGF0ZUxlbmd0aD10aGlzLndzRGVmbGF0ZUxlbmd0aCtlLm9yaWdpbkxlbmd0aCx0aGlzLndzSW5mbGF0ZUxlbmd0aD10aGlzLndzSW5mbGF0ZUxlbmd0aCtlLmNvbXByZXNzZWRMZW5ndGh9Z2V0V3NJbmZsYXRlRGF0YSgpe2NvbnN0IGU9dGhpcy53c0luZmxhdGVMZW5ndGgsdD10aGlzLndzRGVmbGF0ZUxlbmd0aDtyZXR1cm4gdGhpcy5jbGVhcldzSW5mbGF0ZURhdGEoKSx7d3NJbmZsYXRlTGVuZ3RoOmUsd3NEZWZsYXRlTGVuZ3RoOnR9fWNsZWFyV3NJbmZsYXRlRGF0YSgpe3RoaXMud3NJbmZsYXRlTGVuZ3RoPTAsdGhpcy53c0RlZmxhdGVMZW5ndGg9MH1hc3luYyBjcmVhdGVXZWJTb2NrZXRDb25uZWN0aW9uKGUpe3ZhciB0O2NvbnN0IGk9Q3coKTt0aGlzLmNvbm5lY3Rpb25JRCs9MSx0aGlzLmpvaW5HYXRld2F5UmVjb3JkSW5kZXg9dm9pZCAwO2NvbnN0IG49ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLnN0b3JlKXx8dm9pZCAwPT09dHx8dC5zaWduYWxDaGFubmVsT3BlbigpLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHdlYnNvY2tldCBvcGVuZWQ6XCIpLGUpLHRoaXMucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsdGhpcy5zdGF0ZT1cImNvbm5lY3RlZFwiLHRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChcIm9wZW5lZFwiKSxpLnJlc29sdmUoKX0scj1hc3luYyBlPT57dmFyIHQ7aWYoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gd2Vic29ja2V0IGNsb3NlIFwiKS5jb25jYXQobnVsbD09PSh0PXRoaXMud2Vic29ja2V0KXx8dm9pZCAwPT09dD92b2lkIDA6dC51cmwsXCIsIGNvZGU6IFwiKS5jb25jYXQoZS5jb2RlLFwiLCByZWFzb246IFwiKS5jb25jYXQoZS5yZWFzb24sXCIsIGN1cnJlbnQgbW9kZTogXCIpLmNvbmNhdCh0aGlzLnJlY29ubmVjdE1vZGUpKSx0aGlzLnJlY29ubmVjdENvdW50Pj10aGlzLnJldHJ5Q29uZmlnLm1heFJldHJ5Q291bnQpaS5yZWplY3QobmV3IHBPKGhPLldTX0RJU0NPTk5FQ1QsXCJ3ZWJzb2NrZXQgY2xvc2U6IFwiLmNvbmNhdChlLmNvZGUpKSksdGhpcy5jbG9zZSgpO2Vsc2V7XCJjb25uZWN0ZWRcIj09PXRoaXMuc3RhdGUmJih0aGlzLnJlY29ubmVjdFJlYXNvbj1lLnJlYXNvbix0aGlzLnN0YXRlPVwicmVjb25uZWN0aW5nXCIpO2NvbnN0IHQ9WE8odGhpcyxXVi5XSUxMX1JFQ09OTkVDVCx0aGlzLnJlY29ubmVjdE1vZGUsZS5yZWFzb24pfHx0aGlzLnJlY29ubmVjdE1vZGUsbj1hd2FpdCB0aGlzLnJlY29ubmVjdFdpdGhBY3Rpb24odCk7aWYoXCJjbG9zZWRcIj09PXRoaXMuc3RhdGUpcmV0dXJuIHZvaWQgaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvbklELFwiXSB3cyBpcyBjbG9zZWQsIG5vIG5lZWQgdG8gcmVjb25uZWN0XCIpKTtpZighbilyZXR1cm4gaS5yZWplY3QobmV3IHBPKGhPLldTX0RJU0NPTk5FQ1QsXCJ3ZWJzb2NrZXQgcmVjb25uZWN0IGZhaWxlZDogXCIuY29uY2F0KGUuY29kZSkpKSx0aGlzLmNsb3NlKCEwKTtpLnJlc29sdmUoKX19LG89ZT0+e3RoaXMuZW1pdChXVi5PTl9NRVNTQUdFLGUpfSxzPWU9PntpUC53YXJuKFwiW1wiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25JRCxcIl0gd3Mgb3BlbiBlcnJvciBcIikuY29uY2F0KGUpKX07dGhpcy53ZWJzb2NrZXQmJih0aGlzLndlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy53ZWJzb2NrZXQuY2xvc2UoKSksQ0QoXCJHQVRFV0FZX1dTU19BRERSRVNTXCIpJiZ0aGlzLm5hbWUuc3RhcnRzV2l0aChcImdhdGV3YXlcIikmJihlPUNEKFwiR0FURVdBWV9XU1NfQUREUkVTU1wiKSksaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gc3RhcnQgY29ubmVjdCwgdXJsOlwiKSxlKTtjb25zdCBhPW51bGw9PT0odD10aGlzLnN0b3JlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXJ0VHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJwZW5kaW5nXCIsc2VydmljZTpcImdhdGV3YXlcIn0pO3RyeXt2YXIgYzt0aGlzLl93ZWJzb2NrZXRVcmw9V3goZSk7Y29uc3QgdD1hd2FpdCB0aGlzLmNob29zZUJlc3RXZWJzb2NrZXRDb25uZWN0aW9uKGUpO3RoaXMud2Vic29ja2V0PXQsbiYmbih0aGlzLndlYnNvY2tldC51cmwpLHRoaXMud2Vic29ja2V0Lm9uY2xvc2U9cix0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2U9byx0aGlzLndlYnNvY2tldC5vbmVycm9yPXMsbnVsbD09PShjPXRoaXMuc3RvcmUpfHx2b2lkIDA9PT1jfHxjLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LGEpLHRoaXMuam9pbkdhdGV3YXlSZWNvcmRJbmRleD1hfWNhdGNoKGUpe2NvbnN0IHQ9XCJjbG9zZWRcIj09PXRoaXMuc3RhdGUsbj1lIGluc3RhbmNlb2YgcE8sbz1uJiZlLmNvZGU9PT1oTy5XU19BQk9SVCxzPW4mJmUuY29kZT09PWhPLldTX0VSUixjPW4/ZS5tZXNzYWdlOmUmJihlLnJlYXNvbnx8ZS50b1N0cmluZygpKTtpUC53YXJuaW5nKFwiW2Nob29zZS1iZXN0LXdzXSBjaG9vc2VCZXN0V2Vic29ja2V0IGVycm9yOiBcIi5jb25jYXQoYykpLHRoaXMuc3RvcmUmJnRoaXMuc3RvcmUucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpvP1wiYWJvcnRlZFwiOlwiZXJyb3JcIixlcnJvcnM6W2VdfSxhKSx0fHxzPyhpLnJlamVjdCh0P25ldyBwTyhoTy5XU19ESVNDT05ORUNULFwid2Vic29ja2V0IGlzIGNsb3NlZDogXCIuY29uY2F0KGMpKTpuZXcgcE8oaE8uV1NfRVJSLFwiaW5pdCB3ZWJzb2NrZXQgZmFpbGVkOiBcIi5jb25jYXQoYykpKSxzJiZpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSBpbml0IHdlYnNvY2tldCBmYWlsZWQ6IFwiKS5jb25jYXQoYykpKTpyJiZyKGUpfXJldHVybiBpLnByb21pc2V9YXN5bmMgcmVjb25uZWN0V2l0aEFjdGlvbihlKXtsZXQgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO2lmKHRoaXMucmVjb25uZWN0Q291bnQ+PXRoaXMucmV0cnlDb25maWcubWF4UmV0cnlDb3VudClyZXR1cm4hMTtpZigwPT09dGhpcy51cmxzLmxlbmd0aClyZXR1cm4hMTtpZihcImNsb3NlZFwiPT09dGhpcy5zdGF0ZSlyZXR1cm4hMTtpUC53YXJuaW5nKFwiW2Nob29zZS1iZXN0LXdzXSBhY3Rpb246ID0+XCIsZSksdGhpcy5vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcnx8UU8uaXNPbmxpbmV8fCFRTy5vbmxpbmVXYWl0ZXJ8fCh0aGlzLm9ubGluZVJlY29ubmVjdExpc3RlbmVyPVFPLm9ubGluZVdhaXRlci50aGVuKCgoKT0+e3RoaXMub25saW5lUmVjb25uZWN0TGlzdGVuZXI9dm9pZCAwfSkpKTtsZXQgaT0hMDtpZih0aGlzLnJlY29ubmVjdEludGVycnVwdGVyPSgpPT5pPSExLHQpe2NvbnN0IHQ9TU4odGhpcy5yZWNvbm5lY3RDb3VudCx0aGlzLnJldHJ5Q29uZmlnKTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSB3YWl0IFwiKS5jb25jYXQodCxcIm1zIHRvIHJlY29ubmVjdCB3ZWJzb2NrZXQsIG1vZGU6IFwiKS5jb25jYXQoZSkpLGF3YWl0IHJwLnJhY2UoW2ZOKHQpLHRoaXMub25saW5lUmVjb25uZWN0TGlzdGVuZXJ8fG5ldyBycCgoKCk9Pnt9KSldKX1pZihcImNsb3NlZFwiPT09dGhpcy5fc3RhdGV8fCFpKXJldHVybiExO3RoaXMucmVjb25uZWN0Q291bnQrPTE7Y29uc3Qgbj1hc3luYyhlLHQpPT57dGhpcy5lbWl0KFdWLlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTix0KSxhd2FpdCB0aGlzLmNyZWF0ZVdlYlNvY2tldENvbm5lY3Rpb24oZSl9O3RyeXtpZihcInJldHJ5XCI9PT1lKWF3YWl0IG4odGhpcy51cmxzW3RoaXMuY3VycmVudFVSTEluZGV4XSxlKTtlbHNlIGlmKFwidHJ5TmV4dFwiPT09ZSl7aWYodGhpcy5jdXJyZW50VVJMSW5kZXgrPTEsdGhpcy5jdXJyZW50VVJMSW5kZXg+PXRoaXMudXJscy5sZW5ndGgpcmV0dXJuIHRoaXMucmVjb25uZWN0V2l0aEFjdGlvbihcInJlY292ZXJcIiwhMSk7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gd2Vic29ja2V0IHVybCBsZW5ndGg6IFwiKS5jb25jYXQodGhpcy51cmxzLmxlbmd0aCxcIiBjdXJyZW50IGluZGV4OiBcIikuY29uY2F0KHRoaXMuY3VycmVudFVSTEluZGV4KSksYXdhaXQgbih0aGlzLnVybHNbdGhpcy5jdXJyZW50VVJMSW5kZXhdLGUpfWVsc2VcInJlY292ZXJcIj09PWUmJihpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSByZXF1ZXN0IG5ldyB1cmxzXCIpKSx0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJyZWNvdmVyIG1vZGVcIiksdGhpcy51cmxzPWF3YWl0IHpPKHRoaXMsV1YuUkVRVUVTVF9ORVdfVVJMUyksdGhpcy5jdXJyZW50VVJMSW5kZXg9MCxhd2FpdCBuKHRoaXMudXJsc1t0aGlzLmN1cnJlbnRVUkxJbmRleF0sZSkpfWNhdGNoKGkpe3ZhciByO2lQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHJlY29ubmVjdCBmYWlsZWQgXCIpLmNvbmNhdChpJiZpLnRvU3RyaW5nKCkpKTtjb25zdCBuPW51bGw9PWl8fG51bGw9PT0ocj1pLmRhdGEpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmRlc2M7aWYoQXJyYXkuaXNBcnJheShuKSl7aWYoTG4obikuY2FsbChuLFwiZHluYW1pYyBrZXkgZXhwaXJlZFwiKSlyZXR1cm4gdGhpcy5lbWl0KFdWLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKSwhMTtpZihMbihuKS5jYWxsKG4sXCJyZXF1ZXN0IGRvd25ncmFkZSBmYWxsYmFja1wiKSlyZXR1cm4gdGhpcy5lbWl0KFdWLk9OX0ZBTExCQUNLKSwhMX1yZXR1cm4gdGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKGUsdCl9cmV0dXJuITB9fWNsYXNzIFp4IGV4dGVuZHMgUXh7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQsYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLGFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0sYXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTp2b2lkIDApfWFzeW5jIGNob29zZUJlc3RXZWJzb2NrZXRDb25uZWN0aW9uKGUsdCl7Y29uc3QgaT1DdygpLG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFh4KGUsdCl9KHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQsdGhpcy5zdG9yZSk7dGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzPSgpPT57aVAuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIGNsb3NlIGVzdGFibGlzaGluZyB3ZWJzb2NrZXRzXCIpLG4uY2xvc2VBbGxXZWJzb2NrZXRzKCksaS5yZWplY3QobmV3IHBPKGhPLldTX0FCT1JULFwiY2hvb3NlIGJlc3Qgd2Vic29ja2V0IGFib3J0ZWRcIikpfTtjb25zdCByPUNEKFwiR0FURVdBWV9ET01BSU5TXCIpO3JldHVybiBpUC5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gY3VycmVudERvbWFpbjogXCIsZSxcIiwgZG9tYWluczogXCIscixcInRvdGFsOiBcIi5jb25jYXQodGhpcy51cmxzLmxlbmd0aCksXCJjdXJyZW50OiBcIi5jb25jYXQodGhpcy5jdXJyZW50VVJMSW5kZXgrMSkpLG4uY2hvb3NlQmVzdFdlYnNvY2tldChlLHRoaXMudHJ5RG91YmxlRG9tYWluLHRoaXMudXNlNDQzUG9ydE9ubHksdCkudGhlbihpLnJlc29sdmUpLmNhdGNoKGkucmVqZWN0KSxpLnByb21pc2UuZmluYWxseSgoKCk9Pnt0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9dm9pZCAwfSkpfX1jbGFzcyAkeCBleHRlbmRzIFF4e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0LGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxhcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdLGFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06dm9pZCAwKX1hc3luYyBjaG9vc2VCZXN0V2Vic29ja2V0Q29ubmVjdGlvbihlLHQpe3JldHVybiBuZXcgcnAoKChpLG4pPT57bGV0IHI9ITE7Y29uc3Qgbz1bXTt0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9KCk9PntpUC5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gY2xvc2UgZXN0YWJsaXNoaW5nIHdlYnNvY2tldHNcIiksby5mb3JFYWNoKChlPT57ZS5vbmNsb3NlPW51bGwsZS5vbm9wZW49bnVsbCxlLm9ubWVzc2FnZT1udWxsLGUuY2xvc2UoKX0pKSxuKG5ldyBwTyhoTy5XU19BQk9SVCxcImNob29zZSBiZXN0IHdlYnNvY2tldCBhYm9ydGVkXCIpKX07Y29uc3Qgcz1DRChcIkdBVEVXQVlfRE9NQUlOU1wiKTtsZXQgYTtjb25zdCBjPWUuaW5kZXhPZihcIj9oPVwiKSxkPXMuZmluZCgodD0+LTEhPT1jP0xuKGUpLmNhbGwoZSx0LGMpOkxuKGUpLmNhbGwoZSx0KSkpO2lQLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSBjdXJyZW50RG9tYWluOiBcIixkLFwiLCBkb21haW5zOiBcIixzKTtsZXQgbD0hdGhpcy50cnlEb3VibGVEb21haW58fCFkO2lmKCFsJiZkKXt2YXIgdTtjb25zdCBoPURhdGUubm93KCk7dHJ5e3MuZm9yRWFjaCgodD0+e2NvbnN0IGk9LTE9PT1jP2UucmVwbGFjZShkLHQpOmUuc3Vic3RyKDAsYykrZS5zdWJzdHIoYykucmVwbGFjZShkLHQpLG49bmV3IFdlYlNvY2tldChpKTtuLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLG8ucHVzaChuKSxpUC5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gd3MgaXMgY29ubmVjdGluZzpcIixuLnVybCl9KSl9Y2F0Y2goZSl7Zm9yKGlQLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSB3cyBjcmVhdGUgZmFpbGVkLCBmYWxsYmFjayB0byBzaW5nbGUgdXJsXCIpLG8uZm9yRWFjaCgoZT0+ZS5jbG9zZSgpKSk7by5sZW5ndGg7KW8ucG9wKCk7bD0hMH1udWxsPT09KHU9dGhpcy5zdG9yZSl8fHZvaWQgMD09PXV8fHUucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHt1cmxzOm8ubWFwKChlPT5lLnVybCkpLHNlcnZpY2U6XCJnYXRld2F5XCJ9LHQpLG8uZm9yRWFjaCgoZT0+e2Uub25vcGVuPSgpPT57aWYocilyZXR1cm47Y29uc3QgdD1EYXRlLm5vdygpLWg7aVAuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIHdzIG9wZW4gY29zdCBcIi5jb25jYXQodCxcIm1zXCIpKSxvLmZpbHRlcigodD0+dCE9PWUpKS5mb3JFYWNoKChlPT57aVAuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdY2xvc2UgYmFja3VwIHdlYnNvY2tldDogXCIuY29uY2F0KGUudXJsKSksZS5jbG9zZSgpfSkpLHI9ITAsaShlKX0sZS5vbmNsb3NlPWU9PntpZihhPWUscilyZXR1cm47by5maW5kKChlPT4hKGUucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5DTE9TRUR8fGUucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5DTE9TSU5HKSkpfHwoaVAuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIGFsbCB3ZWJzb2NrZXQgaXMgY2xvc2VkXCIpLHI9ITAsbihhKSl9LGUub25tZXNzYWdlPXQ9PntpUC5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c11cIi5jb25jYXQoZS51cmwsXCIgb25tZXNzYWdlOiBcIikuY29uY2F0KHQuZGF0YSkpfX0pKSxmTih0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0KS50aGVuKCgoKT0+e28uZm9yRWFjaCgoZT0+e2UucmVhZHlTdGF0ZSE9PVdlYlNvY2tldC5PUEVOJiZlLmNsb3NlKCl9KSl9KSl9aWYobCl7dmFyIGg7bGV0IHI7aVAuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIHVzZSBzaW5nbGUgdXJsOiBcIixlKSxudWxsPT09KGg9dGhpcy5zdG9yZSl8fHZvaWQgMD09PWh8fGgucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHt1cmxzOltlXSxzZXJ2aWNlOlwiZ2F0ZXdheVwifSx0KTt0cnl7cj1uZXcgV2ViU29ja2V0KGUpLG8ucHVzaChyKSxyLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwifWNhdGNoKGUpe2NvbnN0IHQ9bmV3IHBPKGhPLldTX0VSUixcImluaXQgd2Vic29ja2V0IGZhaWxlZCEgRXJyb3I6IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKTtyZXR1cm4gaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl1cIikuY29uY2F0KHQpKSx2b2lkIG4odCl9ci5vbm9wZW49KCk9PntpKHIpfSxyLm9uY2xvc2U9ZT0+e24oZSl9LHIub25tZXNzYWdlPWU9PntpUC5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c11cIi5jb25jYXQoci51cmwsXCIgb25tZXNzYWdlOiBcIikuY29uY2F0KGUuZGF0YSkpfSxmTih0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0KS50aGVuKCgoKT0+e3ImJnIucmVhZHlTdGF0ZSE9PVdlYlNvY2tldC5PUEVOJiZyLmNsb3NlKCl9KSl9fSkpLnRoZW4oKGU9Pih0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9dm9pZCAwLGUpKSkuY2F0Y2goKGU9Pnt0aHJvdyB0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9dm9pZCAwLGV9KSl9fWNsYXNzIGVGIGV4dGVuZHMgTk97Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGV9c2V0IGNvbm5lY3Rpb25TdGF0ZShlKXtlIT09dGhpcy5fY29ubmVjdGlvblN0YXRlJiYodGhpcy5fY29ubmVjdGlvblN0YXRlPWUsZT09PVZWLkNPTk5FQ1RFRD90aGlzLmVtaXQoeFYuV1NfQ09OTkVDVEVEKTplPT09VlYuUkVDT05ORUNUSU5HP3RoaXMuZW1pdCh4Vi5XU19SRUNPTk5FQ1RJTkcsdGhpcy5fd2Vic29ja2V0UmVjb25uZWN0UmVhc29uKTplPT09VlYuQ0xPU0VEJiZ0aGlzLmVtaXQoeFYuV1NfQ0xPU0VELHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbikpfWdldCBjdXJyZW50VVJMSW5kZXgoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQuY3VycmVudFVSTEluZGV4fWdldCB1cmwoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQmJnRoaXMud2Vic29ja2V0LnVybHx8bnVsbH1nZXQgcnR0KCl7cmV0dXJuIHRoaXMucnR0Um9sbGluZy5tZWFuKCl9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLGlBKHRoaXMsXCJfX25hbWVfX1wiLFwiQWdvcmFSVENTaWduYWxcIiksaUEodGhpcyxcIl9kaXNjb25uZWN0ZWRSZWFzb25cIix2b2lkIDApLGlBKHRoaXMsXCJfd2Vic29ja2V0UmVjb25uZWN0UmVhc29uXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2Nvbm5lY3Rpb25TdGF0ZVwiLFZWLkNMT1NFRCksaUEodGhpcyxcInJlY29ubmVjdFRva2VuXCIsdm9pZCAwKSxpQSh0aGlzLFwid2Vic29ja2V0XCIsdm9pZCAwKSxpQSh0aGlzLFwib3BlbkNvbm5lY3Rpb25UaW1lXCIsdm9pZCAwKSxpQSh0aGlzLFwiY2xpZW50SWRcIix2b2lkIDApLGlBKHRoaXMsXCJsYXN0TXNnVGltZVwiLERhdGUubm93KCkpLGlBKHRoaXMsXCJ1cGxvYWRDYWNoZVwiLFtdKSxpQSh0aGlzLFwidXBsb2FkQ2FjaGVJbnRlcnZhbFwiLHZvaWQgMCksaUEodGhpcyxcInJ0dFJvbGxpbmdcIixuZXcgeE4oNSkpLGlBKHRoaXMsXCJwaW5ncG9uZ1RpbWVyXCIsdm9pZCAwKSxpQSh0aGlzLFwid3NJbmZsYXRlRGF0YVRpbWVyXCIsdm9pZCAwKSxpQSh0aGlzLFwicGluZ3BvbmdUaW1lb3V0Q291bnRcIiwwKSxpQSh0aGlzLFwib3J0Y1wiLHZvaWQgMCksaUEodGhpcyxcImpvaW5SZXNwb25zZVwiLHZvaWQgMCksaUEodGhpcyxcIm11bHRpSXBPcHRpb25cIix2b2lkIDApLGlBKHRoaXMsXCJpbml0RXJyb3JcIix2b2lkIDApLGlBKHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxpQSh0aGlzLFwic3RvcmVcIix2b2lkIDApLGlBKHRoaXMsXCJvbldlYnNvY2tldE1lc3NhZ2VcIiwoZT0+e2lmKGUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiB2b2lkIHRoaXMuZW1pdCh4Vi5PTl9CSU5BUllfREFUQSxlLmRhdGEpO2NvbnN0IHQ9SlNPTi5wYXJzZShlLmRhdGEpO2lmKHRoaXMubGFzdE1zZ1RpbWU9RGF0ZS5ub3coKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxcIl9pZFwiKSl7Y29uc3QgZT1cInJlcy1AXCIuY29uY2F0KHQuX2lkKTt0aGlzLmVtaXQoZSx0Ll9yZXN1bHQsdC5fbWVzc2FnZSl9ZWxzZSBpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxcIl90eXBlXCIpKXtpZih0aGlzLmVtaXQodC5fdHlwZSx0Ll9tZXNzYWdlKSx0Ll90eXBlPT09alYuT05fTk9USUZJQ0FUSU9OJiZ0aGlzLmhhbmRsZU5vdGlmaWNhdGlvbih0Ll9tZXNzYWdlKSx0Ll90eXBlPT09alYuT05fVVNFUl9CQU5ORUQpc3dpdGNoKHQuX21lc3NhZ2UuZXJyb3JfY29kZSl7Y2FzZSAxNDp0aGlzLmNsb3NlKFZPLlVJRF9CQU5ORUQpO2JyZWFrO2Nhc2UgMTU6dGhpcy5jbG9zZShWTy5JUF9CQU5ORUQpO2JyZWFrO2Nhc2UgMTY6dGhpcy5jbG9zZShWTy5DSEFOTkVMX0JBTk5FRCl9aWYodC5fdHlwZT09PWpWLk9OX1VTRVJfTElDRU5TRV9CQU5ORUQpc3dpdGNoKHQuX21lc3NhZ2UuZXJyb3JfY29kZSl7Y2FzZSBVVi5FUlJfTElDRU5TRV9NSVNTSU5HOnRoaXMuY2xvc2UoVk8uTElDRU5TRV9NSVNTSU5HKTticmVhaztjYXNlIFVWLkVSUl9MSUNFTlNFX0VYUElSRUQ6dGhpcy5jbG9zZShWTy5MSUNFTlNFX0VYUElSRUQpO2JyZWFrO2Nhc2UgVVYuRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRDp0aGlzLmNsb3NlKFZPLkxJQ0VOU0VfTUlOVVRFU19FWENFRURFRCk7YnJlYWs7Y2FzZSBVVi5FUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRDp0aGlzLmNsb3NlKFZPLkxJQ0VOU0VfUEVSSU9EX0lOVkFMSUQpO2JyZWFrO2Nhc2UgVVYuRVJSX0xJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0U6dGhpcy5jbG9zZShWTy5MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFKTticmVhaztjYXNlIFVWLkVSUl9MSUNFTlNFX0lMTEVHQUw6dGhpcy5jbG9zZShWTy5MSUNFTlNFX0lMTEVHQUwpO2JyZWFrO2RlZmF1bHQ6dGhpcy5jbG9zZSgpfX19KSksdGhpcy5jbGllbnRJZD1lLmNsaWVudElkLHRoaXMuc3BlYz1lLHRoaXMuc3RvcmU9dCx0aGlzLndlYnNvY2tldD1uZXcgWngoXCJnYXRld2F5LVwiLmNvbmNhdCh0aGlzLmNsaWVudElkKSx0aGlzLnNwZWMucmV0cnlDb25maWcsITAsQ0QoXCJKT0lOX0dBVEVXQVlfVVNFX0RVQUxfRE9NQUlOXCIpLENEKFwiSk9JTl9HQVRFV0FZX1VTRV80NDNQT1JUX09OTFlcIiksdCksdGhpcy5oYW5kbGVXZWJzb2NrZXRFdmVudHMoKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PVZWLkNPTk5FQ1RFRCYmdGhpcy5yZWNvbm5lY3QoXCJyZXRyeVwiLEhPLk9GRkxJTkUpfSkpfWFzeW5jIHJlcXVlc3QoZSx0LGksbil7Y29uc3Qgcj1TTig2LFwiXCIpLG89e19pZDpyLF90eXBlOmUsX21lc3NhZ2U6dH0scz10aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQsYT0oKT0+bmV3IHJwKCgodCxpKT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09VlYuQ09OTkVDVEVEKXJldHVybiB0KCk7Y29uc3Qgbj0oKT0+e3RoaXMub2ZmKHhWLldTX0NMT1NFRCxyKSx0KCl9LHI9KCk9Pnt0aGlzLm9mZih4Vi5XU19DT05ORUNURUQsbiksaShuZXcgdVAoaE8uV1NfQUJPUlQpKX07dGhpcy5vbmNlKHhWLldTX0NPTk5FQ1RFRCxuKSx0aGlzLm9uY2UoeFYuV1NfQ0xPU0VELHIpLGUhPT1GVi5QVUJMSVNIJiZlIT09RlYuUFVCTElTSF9EQVRBU1RSRUFNJiZlIT09RlYuU1VCU0NSSUJFJiZlIT09RlYuU1VCU0NSSUJFX0RBVEFTVFJFQU0mJmUhPT1GVi5VTlNVQlNDUklCRSYmZSE9PUZWLlVOU1VCU0NSSUJFX0RBVEFTVFJFQU0mJmUhPT1GVi5VTlBVQkxJU0gmJmUhPT1GVi5VTlBVQkxJU0hfREFUQVNUUkVBTSYmZSE9PUZWLkNPTlRST0wmJmUhPT1GVi5SRVNUQVJUX0lDRXx8dGhpcy5vbmNlKHhWLkRJU0NPTk5FQ1RfUDJQLCgoKT0+e2kobmV3IHVQKGhPLkRJU0NPTk5FQ1RfUDJQKSl9KSksZSE9PUZWLlBVQkxJU0gmJmUhPT1GVi5SRVNUQVJUX0lDRXx8dGhpcy5vbmNlKHhWLkFCT1JUX1AyUF9FWEVDVVRJT04sKCgpPT57aShuZXcgdVAoaE8uRElTQ09OTkVDVF9QMlApKX0pKX0pKTtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVZWLkNPTk5FQ1RJTkcmJnRoaXMuY29ubmVjdGlvblN0YXRlIT09VlYuUkVDT05ORUNUSU5HfHxlPT09RlYuSk9JTnx8ZT09PUZWLlJFSk9JTnx8YXdhaXQgYSgpLHRoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKG8sITApLG4pcmV0dXJuO2NvbnN0IGM9bmV3IHJwKCgoaSxuKT0+e2xldCBvPSExO2NvbnN0IGE9KG4scik9PntvPSEwLGkoe2lzU3VjY2VzczpcInN1Y2Nlc3NcIj09PW4sbWVzc2FnZTpyfHx7fX0pLHRoaXMub2ZmKHhWLldTX0NMT1NFRCxjKSx0aGlzLm9mZih4Vi5XU19SRUNPTk5FQ1RJTkcsYyksdGhpcy5lbWl0KHhWLlJFUVVFU1RfU1VDQ0VTUyxlLHQpfTt0aGlzLm9uY2UoXCJyZXMtQFwiLmNvbmNhdChyKSxhKTtjb25zdCBjPSgpPT57bihuZXcgdVAoaE8uV1NfQUJPUlQsXCJ0eXBlOiBcIi5jb25jYXQoZSkpKSx0aGlzLm9mZih4Vi5XU19DTE9TRUQsYyksdGhpcy5vZmYoeFYuV1NfUkVDT05ORUNUSU5HLGMpLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQociksYSl9O3RoaXMub25jZSh4Vi5XU19DTE9TRUQsYyksdGhpcy5vbmNlKHhWLldTX1JFQ09OTkVDVElORyxjKSxmTihDRChcIlNJR05BTF9SRVFVRVNUX1RJTUVPVVRcIikpLnRoZW4oKCgpPT57dGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklEIT09c3x8b3x8KGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHdzIHJlcXVlc3QgdGltZW91dCwgdHlwZTogXCIpLmNvbmNhdChlKSksdGhpcy5lbWl0KHhWLlJFUVVFU1RfVElNRU9VVCxlLHQpKX0pKX0pKTtsZXQgZD1udWxsO3RyeXtkPWF3YWl0IGN9Y2F0Y2gobil7aWYodGhpcy5jb25uZWN0aW9uU3RhdGU9PT1WVi5DTE9TRUR8fGU9PT1GVi5MRUFWRSl0aHJvdyBuZXcgdVAoaE8uV1NfQUJPUlQpO3JldHVybiF0aGlzLnNwZWMuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlfHxpP24udGhyb3coKTplPT09RlYuSk9JTnx8ZT09PUZWLlJFSk9JTj9udWxsOihhd2FpdCBhKCksYXdhaXQgdGhpcy5yZXF1ZXN0KGUsdCkpfWlmKGQuaXNTdWNjZXNzKXJldHVybiBkLm1lc3NhZ2U7Y29uc3QgbD1OdW1iZXIoZC5tZXNzYWdlLmVycm9yX2NvZGV8fGQubWVzc2FnZS5jb2RlKSx1PUJ4KGwpLGg9bmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJcIi5jb25jYXQodS5kZXNjLFwiOiBcIikuY29uY2F0KGQubWVzc2FnZS5lcnJvcl9zdHIpLHtjb2RlOmwsZGF0YTpkLm1lc3NhZ2UsZGVzYzp1LmRlc2N9KTtyZXR1cm5cInN1Y2Nlc3NcIj09PXUuYWN0aW9uP2QubWVzc2FnZTooaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklELFwiXSB1bmV4cGVjdGVkIHJlc3BvbnNlIGZyb20gdHlwZSBcIikuY29uY2F0KGUsXCIsIGVycm9yX2NvZGU6IFwiKS5jb25jYXQobCxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdCh1LmRlc2MsXCIsIGFjdGlvbjogXCIpLmNvbmNhdCh1LmFjdGlvbikpLGw9PT1VVi5FUlJfVE9PX01BTllfQlJPQURDQVNURVJTP2U9PT1GVi5KT0lOfHxlPT09RlYuUkVKT0lOPyh0aGlzLmluaXRFcnJvcj1oLHRoaXMuY2xvc2UoKSxoLnRocm93KCkpOmgudGhyb3coKTpcImZhaWxlZFwiPT09dS5hY3Rpb24/aC50aHJvdygpOlwicXVpdFwiPT09dS5hY3Rpb24/KHRoaXMuaW5pdEVycm9yPWgsdGhpcy5jbG9zZSgpLGgudGhyb3coKSk6KGw9PT1VVi5FUlJfSk9JTl9CWV9NVUxUSV9JUD8odGhpcy5tdWx0aUlwT3B0aW9uPWQubWVzc2FnZS5vcHRpb24saVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gZGV0ZWN0IG11bHRpIGlwLCByZWNvdmVyXCIpKSx0aGlzLnJlY29ubmVjdChcInJlY292ZXJcIixITy5NVUxUSV9JUCkpOnRoaXMucmVjb25uZWN0KHUuYWN0aW9uLEhPLlNFUlZFUl9FUlJPUiksZT09PUZWLkpPSU58fGU9PT1GVi5SRUpPSU4/bnVsbDphd2FpdCB0aGlzLnJlcXVlc3QoZSx0KSkpfXdhaXRNZXNzYWdlKGUsdCl7cmV0dXJuIG5ldyBycCgoaT0+e2NvbnN0IG49cj0+eyghdHx8dChyKSkmJih0aGlzLm9mZihlLG4pLGkocikpfTt0aGlzLm9uKGUsbil9KSl9dXBsb2FkV1JUQ1N0YXRzKGUpe2lmKCF0aGlzLnN0b3JlLnNlc3Npb25JZClyZXR1cm4gdm9pZCBpUC53YXJuKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBubyBzZXNzaW9uIGlkIHdoZW4gdXBsb2FkIHdydGMgc3RhdHNcIikpO2NvbnN0IHQ9e2x0czpEYXRlLm5vdygpLHNpZDp0aGlzLnN0b3JlLnNlc3Npb25JZCx1aWQ6dGhpcy5zdG9yZS5pbnRVaWQsc3RhdHM6ZX07dGhpcy51cGxvYWQoQlYuV1JUQ19TVEFUUyx0KX11cGxvYWQoZSx0KXtjb25zdCBpPXtfdHlwZTplLF9tZXNzYWdlOnR9O3RyeXt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShpKX1jYXRjaChlKXtjb25zdCB0PUNEKFwiTUFYX1VQTE9BRF9DQUNIRVwiKXx8NTA7dGhpcy51cGxvYWRDYWNoZS5wdXNoKGkpLHRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoPnQmJnRoaXMudXBsb2FkQ2FjaGUuc3BsaWNlKDAsMSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+MCYmIXRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCYmKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1WVi5DT05ORUNURUQpcmV0dXJuO2NvbnN0IGU9dGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKVswXTswPT09dGhpcy51cGxvYWRDYWNoZS5sZW5ndGgmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWwpLHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD12b2lkIDApLHRoaXMudXBsb2FkKGUuX3R5cGUsZS5fbWVzc2FnZSl9KSxDRChcIlVQTE9BRF9DQUNIRV9JTlRFUlZBTFwiKXx8MmUzKSl9fXNlbmQoZSx0KXtjb25zdCBpPXtfdHlwZTplLF9tZXNzYWdlOnR9O3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpfWluaXQoZSl7cmV0dXJuIHRoaXMuaW5pdEVycm9yPXZvaWQgMCx0aGlzLm11bHRpSXBPcHRpb249dm9pZCAwLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLm9wZW5Db25uZWN0aW9uVGltZT12b2lkIDAsbmV3IHJwKCgodCxpKT0+e3RoaXMub25jZSh4Vi5XU19DT05ORUNURUQsKCgpPT50KHRoaXMuam9pblJlc3BvbnNlKSkpLHRoaXMub25jZSh4Vi5XU19DTE9TRUQsKGU9PmkodGhpcy5pbml0RXJyb3J8fG5ldyB1UChoTy5XU19BQk9SVCxlKSkpKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1WVi5DT05ORUNUSU5HLHRoaXMud2Vic29ja2V0LmluaXQoZSkuY2F0Y2goaSksdGhpcy53c0luZmxhdGVEYXRhVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyKSx0aGlzLndzSW5mbGF0ZURhdGFUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5oYW5kbGVXc0luZmxhdGVEYXRhKCl9KSwyZTQpfSkpfWNsb3NlKGUpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyJiYodGhpcy5oYW5kbGVXc0luZmxhdGVEYXRhKCksd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy53c0luZmxhdGVEYXRhVGltZXIpLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyPXZvaWQgMCksdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1lfHxWTy5MRUFWRSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1WVi5DTE9TRUQsaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFwiKStcIndpbGwgY2xvc2Ugd2Vic29ja2V0IGluIHNpZ25hbFwiKSx0aGlzLndlYnNvY2tldC5jbG9zZSgpfWFzeW5jIGpvaW4oKXtpZighdGhpcy5qb2luUmVzcG9uc2Upe3RoaXMuZW1pdCh4Vi5BQk9SVF9QMlBfRVhFQ1VUSU9OKSx0aGlzLnN0b3JlLnNpZ25hbENvbm5lY3RlZCgpO2NvbnN0IGU9YXdhaXQgek8odGhpcyx4Vi5SRVFVRVNUX0pPSU5fSU5GTyk7dGhpcy5zdG9yZS5qb2luUmVxKCk7Y29uc3QgdD1hd2FpdCB0aGlzLnJlcXVlc3QoRlYuSk9JTixlKTtpZih0aGlzLm9ydGM9bnVsbD09ZT92b2lkIDA6ZS5vcnRjLHRoaXMuc3RvcmUuam9pblJlcCgpLCF0KXJldHVybiB0aGlzLmVtaXQoeFYuUkVQT1JUX0pPSU5fR0FURVdBWSxheC5USU1FT1VULHRoaXMudXJsfHxcIlwiKSwhMTt0aGlzLmpvaW5SZXNwb25zZT10LHRoaXMuZW1pdCh4Vi5KT0lOX1JFU1BPTlNFLHRoaXMuam9pblJlc3BvbnNlKSx0aGlzLnJlY29ubmVjdFRva2VuPXRoaXMuam9pblJlc3BvbnNlLnJlam9pbl90b2tlbn1yZXR1cm4gdGhpcy5jb25uZWN0aW9uU3RhdGU9VlYuQ09OTkVDVEVELHRoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuaGFuZGxlUGluZ1BvbmcuYmluZCh0aGlzKSwzZTMpLCEwfWFzeW5jIHJlam9pbigpe2lmKCF0aGlzLnJlY29ubmVjdFRva2VuKXRocm93IG5ldyB1UChoTy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCByZWpvaW4sIG5vIHJlam9pbiB0b2tlblwiKTtjb25zdCBlPUpPKHRoaXMseFYuUkVRVUVTVF9SRUpPSU5fSU5GTyk7ZS50b2tlbj10aGlzLnJlY29ubmVjdFRva2VuO2NvbnN0IHQ9YXdhaXQgdGhpcy5yZXF1ZXN0KEZWLlJFSk9JTixlKTtyZXR1cm4hIXQmJih0aGlzLmNvbm5lY3Rpb25TdGF0ZT1WVi5DT05ORUNURUQsdGhpcy5waW5ncG9uZ1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5oYW5kbGVQaW5nUG9uZy5iaW5kKHRoaXMpLDNlMyksdC5wZWVycyYmdC5wZWVycy5mb3JFYWNoKChlPT57dGhpcy5lbWl0KGpWLk9OX1VTRVJfT05MSU5FLHt1aWQ6ZS51aWR9KSxlLmF1ZGlvJiZ0aGlzLmVtaXQoalYuT05fQUREX0FVRElPX1NUUkVBTSx7dWlkOmUudWlkLHVpbnRfaWQ6ZS51aW50X2lkLGF1ZGlvOiEwLHNzcmNJZDplLmF1ZGlvX3NzcmN9KSxlLnZpZGVvJiZ0aGlzLmVtaXQoalYuT05fQUREX1ZJREVPX1NUUkVBTSx7dWlkOmUudWlkLHVpbnRfaWQ6ZS51aW50X2lkLHZpZGVvOiEwLHNzcmNJZDplLnZpZGVvX3NzcmN9KSxlLmF1ZGlvX211dGU/dGhpcy5lbWl0KGpWLk1VVEVfQVVESU8se3VpZDplLnVpZH0pOnRoaXMuZW1pdChqVi5VTk1VVEVfQVVESU8se3VpZDplLnVpZH0pLGUudmlkZW9fbXV0ZT90aGlzLmVtaXQoalYuTVVURV9WSURFTyx7dWlkOmUudWlkfSk6dGhpcy5lbWl0KGpWLlVOTVVURV9WSURFTyx7dWlkOmUudWlkfSksZS5hdWRpb19lbmFibGVfbG9jYWw/dGhpcy5lbWl0KGpWLkVOQUJMRV9MT0NBTF9BVURJTyx7dWlkOmUudWlkfSk6dGhpcy5lbWl0KGpWLkRJU0FCTEVfTE9DQUxfQVVESU8se3VpZDplLnVpZH0pLGUudmlkZW9fZW5hYmxlX2xvY2FsP3RoaXMuZW1pdChqVi5FTkFCTEVfTE9DQUxfVklERU8se3VpZDplLnVpZH0pOnRoaXMuZW1pdChqVi5ESVNBQkxFX0xPQ0FMX1ZJREVPLHt1aWQ6ZS51aWR9KSxlLmF1ZGlvfHxlLnZpZGVvfHx0aGlzLmVtaXQoalYuT05fUkVNT1ZFX1NUUkVBTSx7dWlkOmUudWlkLHVpbnRfaWQ6ZS51aW50X2lkfSl9KSksITApfXJlY29ubmVjdChlLHQpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMud2Vic29ja2V0LnJlY29ubmVjdChlLHQpfWFzeW5jIGRvd25ncmFkZUNvZGVjKGUpe2lmKCF0aGlzLm9ydGMpcmV0dXJuITE7Y29uc3QgdD17ZG93bmdyYWRlX2NvZGVjOmUsb3J0Yzp0aGlzLm9ydGN9O3JldHVybiEhYXdhaXQgdGhpcy5yZXF1ZXN0KEZWLkRPV05HUkFERV9DT0RFQyx0KX1oYW5kbGVOb3RpZmljYXRpb24oZSl7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY2VpdmUgbm90aWZpY2F0aW9uOiBcIiksZSk7Y29uc3QgdD1CeChlLmNvZGUpO2lmKDI4PT09ZS5jb2RlJiZcImRldGFpbFwiaW4gZSYmKGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY2VpdmUgcmVjb3ZlciBub3RpZmljYXRpb246IFwiKSxlLmRldGFpbCksdGhpcy5lbWl0KHhWLlJFQ09WRVJfTk9USUZJQ0FUSU9OLGUuZGV0YWlsKSksXCJzdWNjZXNzXCIhPT10LmFjdGlvbil7aWYoXCJmYWlsZWRcIiE9PXQuYWN0aW9uKXJldHVyblwicXVpdFwiPT09dC5hY3Rpb24/ZS5jb2RlPT09VVYuRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUwmJkNEKFwiSUdOT1JFX1VJRF9DSEVDS1wiKT92b2lkIHRoaXMuY2xvc2UoVk8uVUlEX0NPTkZMSUNUKTooXCJFUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTFwiPT09dC5kZXNjJiZ0aGlzLmNsb3NlKFZPLlVJRF9CQU5ORUQpLHZvaWQgdGhpcy5jbG9zZSgpKTplLmNvZGU9PT1VVi5LX1ZPU19GQUxMQkFDSyYmXCJkZXRhaWxcImluIGU/KGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY2VpdmUgdm9zIGZhbGxiYWNrIG5vdGlmaWNhdGlvbjogXCIpLGUuZGV0YWlsKSxcIkZBTExCQUNLQ05cIj09PWUuZGV0YWlsJiZDRChcIkVOQUJMRV9RVUFMSVRZX0ZBTExCQUNLXCIpP3ZvaWQgek8odGhpcyx4Vi5WT1NfRkFMTEJBQ0tfUFJPTUlTRSxlLmRldGFpbCkudGhlbigoKCk9Pnt0aGlzLnJlY29ubmVjdChcInJlY292ZXJcIix0LmRlc2MpfSkpLmNhdGNoKChlPT57aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGNhbmNlbCB2b3MgZmFsbGJhY2sgY24sIGVycm9yOiBcIiksZSl9KSk6XCJmYWxsYmFja19obHNcIj09PWUuZGV0YWlsJiZDRChcIkVOQUJMRV9GQUxMQkFDS19UT19ITFNcIik/KHRoaXMuZW1pdCh4Vi5WT1NfRkFMTEJBQ0ssZS5kZXRhaWwpLHZvaWQgdGhpcy5jbG9zZShWTy5GQUxMQkFDS19UT19ITFMpKTp0aGlzLnJlY29ubmVjdCh0LmFjdGlvbix0LmRlc2MpKTp2b2lkIHRoaXMucmVjb25uZWN0KHQuYWN0aW9uLEhPLlNFUlZFUl9FUlJPUik7aVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGlnbm9yZSBlcnJvcjogXCIpLHQuZGVzYyl9fWhhbmRsZVBpbmdQb25nKCl7aWYoIXRoaXMud2Vic29ja2V0fHxcImNvbm5lY3RlZFwiIT09dGhpcy53ZWJzb2NrZXQuc3RhdGUpcmV0dXJuO3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ+MCYmdGhpcy5ydHRSb2xsaW5nLmFkZCgzZTMpLHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQrPTE7Y29uc3QgZT1DRChcIlBJTkdfUE9OR19USU1FX09VVFwiKSx0PURhdGUubm93KCk7dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD49ZSYmKGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFBJTkctUE9ORyBUaW1lb3V0LiBMYXN0IFNvY2tldCBNZXNzYWdlOiBcIikuY29uY2F0KHQtdGhpcy5sYXN0TXNnVGltZSxcIm1zXCIpKSx0LXRoaXMubGFzdE1zZ1RpbWU+Q0QoXCJXRUJTT0NLRVRfVElNRU9VVF9NSU5cIikpP3RoaXMucmVjb25uZWN0KFwicmV0cnlcIixITy5USU1FT1VUKTp0aGlzLnJlcXVlc3QoRlYuUElORyx2b2lkIDAsITApLnRoZW4oKCgpPT57dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wO2NvbnN0IGU9RGF0ZS5ub3coKS10O3RoaXMucnR0Um9sbGluZy5hZGQoZSksQ0QoXCJSRVBPUlRfU1RBVFNcIikmJnRoaXMuc2VuZChGVi5QSU5HX0JBQ0sse3Bpbmdwb25nRWxhcHNlOmV9KX0pKS5jYXRjaCgoZT0+e30pKX1oYW5kbGVXc0luZmxhdGVEYXRhKCl7Y29uc3R7d3NJbmZsYXRlTGVuZ3RoOmUsd3NEZWZsYXRlTGVuZ3RoOnR9PXRoaXMud2Vic29ja2V0LmdldFdzSW5mbGF0ZURhdGEoKTswIT09ZSYmMCE9PXQmJnRoaXMudXBsb2FkKEJWLldTX0lORkxBVEVfREFUQV9MRU5HVEgse3dzX2RlZmxhdGVfbGVuZ3RoOnQsd3NfaW5mbGF0ZV9sZW5ndGg6ZX0pfWhhbmRsZVdlYnNvY2tldEV2ZW50cygpe3RoaXMud2Vic29ja2V0Lm9uKFdWLlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTiwoZT0+e3RoaXMuZW1pdCh4Vi5XU19SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sZSl9KSksdGhpcy53ZWJzb2NrZXQub24oV1YuT05fTUVTU0FHRSx0aGlzLm9uV2Vic29ja2V0TWVzc2FnZSksdGhpcy53ZWJzb2NrZXQub24oV1YuQ0xPU0VELCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPVZWLkNMT1NFRH0pKSx0aGlzLndlYnNvY2tldC5vbihXVi5GQUlMRUQsKCgpPT57dGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPVZPLk5FVFdPUktfRVJST1IsdGhpcy5jb25uZWN0aW9uU3RhdGU9VlYuQ0xPU0VEfSkpLHRoaXMud2Vic29ja2V0Lm9uKFdWLlJFQ09OTkVDVElORywoZT0+e3RoaXMuX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvbj1lLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PVZWLkNPTk5FQ1RFRD90aGlzLmNvbm5lY3Rpb25TdGF0ZT1WVi5SRUNPTk5FQ1RJTkc6dGhpcy5jb25uZWN0aW9uU3RhdGU9VlYuQ09OTkVDVElOR30pKSx0aGlzLndlYnNvY2tldC5vbihXVi5XSUxMX1JFQ09OTkVDVCwoKGUsdCxpKT0+e2NvbnN0IG49Sk8odGhpcyx4Vi5JU19QMlBfRElTQ09OTkVDVEVEKSxyPW58fFwicmV0cnlcIiE9PWU7biYmXCJyZXRyeVwiPT09ZSYmKGlQLmRlYnVnKFwiXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCIgcmVjb25uZWN0IG1vZGUgaXMgcmV0cnksIGJ1dCBwMnAgbG9zdCwgY2hhbmdlIHRvIHRyeU5leHRcIikpLGU9XCJ0cnlOZXh0XCIsdD1heC5QMlBfRElTQ09OTkVDVEVEKSxyJiYoaVAuZGVidWcoXCJcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIiB3aWxsIHJlbmV3U2Vzc2lvbiwgcmVjb25uZWN0IG1vZGU6IFwiKS5jb25jYXQoZSkpLHRoaXMuZW1pdCh4Vi5SRVBPUlRfSk9JTl9HQVRFV0FZLHR8fGF4LlVOS05PV05fUkVBU09OLHRoaXMudXJsfHxcIlwiKSx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLmVtaXQoeFYuRElTQ09OTkVDVF9QMlApKSxpKGUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKFdWLkNPTk5FQ1RFRCwoKCk9Pnt0aGlzLm9wZW5Db25uZWN0aW9uVGltZT1EYXRlLm5vdygpLHRoaXMucmVjb25uZWN0VG9rZW4/dGhpcy5yZWpvaW4oKS5jYXRjaCgoZT0+e2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlam9pbiBmYWlsZWQgXCIpLmNvbmNhdChlKSksdGhpcy5yZWNvbm5lY3QoXCJ0cnlOZXh0XCIsSE8uU0VSVkVSX0VSUk9SKX0pKTp0aGlzLmpvaW4oKS5jYXRjaCgoZT0+e2lmKHRoaXMuZW1pdCh4Vi5SRVBPUlRfSk9JTl9HQVRFV0FZLGUsdGhpcy51cmx8fFwiXCIpLGUgaW5zdGFuY2VvZiB1UCl7aWYoZS5jb2RlPT09aE8uVU5FWFBFQ1RFRF9SRVNQT05TRSYmZS5kYXRhLmNvZGU9PT1VVi5FUlJfTk9fQVVUSE9SSVpFRClyZXR1cm4gdGhpcy5pbml0RXJyb3I9bmV3IHVQKGhPLlRPS0VOX0VYUElSRSxcImR5bmFtaWMga2V5IGV4cGlyZWRcIiksdm9pZCB0aGlzLmNsb3NlKFZPLlRPS0VOX0VYUElSRSk7aVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGpvaW4gZ2F0ZXdheSByZXF1ZXN0IGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLHRoaXMuc3BlYy5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2U/dGhpcy5yZWNvbm5lY3QoXCJ0cnlOZXh0XCIsSE8uU0VSVkVSX0VSUk9SKToodGhpcy5pbml0RXJyb3I9ZSx0aGlzLmNsb3NlKCkpfX0pKX0pKSx0aGlzLndlYnNvY2tldC5vbihXVi5SRVFVRVNUX05FV19VUkxTLCgoZSx0KT0+e3pPKHRoaXMseFYuUkVRVUVTVF9SRUNPVkVSLHRoaXMubXVsdGlJcE9wdGlvbikudGhlbihlKS5jYXRjaCh0KX0pKSx0aGlzLndlYnNvY2tldC5vbihXVi5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSwoKCk9Pnt0aGlzLmVtaXQoalYuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKHd4LlBSRV9DT05ORUNUX1BDLCgoKT0+e3RoaXMuZW1pdCh4Vi5QUkVfQ09OTkVDVF9QQyl9KSksdGhpcy53ZWJzb2NrZXQub24oV1YuT05fRkFMTEJBQ0ssKCgpPT57Q0QoXCJFTkFCTEVfRkFMTEJBQ0tfVE9fSExTXCIpJiZ0aGlzLmVtaXQoeFYuVk9TX0ZBTExCQUNLLFwiZmFsbGJhY2tfaGxzXCIpfSkpfX1sZXQgdEY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuTkFUSVZFX1JUQz1cIm5hdGl2ZV9ydGNcIixlLk5BVElWRV9SVE09XCJuYXRpdmVfcnRtXCIsZS5XRUJfUlRDPVwid2ViX3J0Y1wiLGUuV0VCX1JUTT1cIndlYl9ydG1cIixlfSh7fSksaUY9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5DSE9PU0VfU0VSVkVSPTExXT1cIkNIT09TRV9TRVJWRVJcIixlW2UuQ0xPVURfUFJPWFk9MThdPVwiQ0xPVURfUFJPWFlcIixlW2UuQ0xPVURfUFJPWFlfNT0yMF09XCJDTE9VRF9QUk9YWV81XCIsZVtlLkNMT1VEX1BST1hZX0ZBTExCQUNLPTI2XT1cIkNMT1VEX1BST1hZX0ZBTExCQUNLXCIsZX0oe30pO2Z1bmN0aW9uIG5GKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiByRihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9uRihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpuRihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1sZXQgb0Y9MDtmdW5jdGlvbiBzRihlKXtjb25zdCB0PUNEKFwiVFVSTl9ET01BSU5TXCIpO29GPShvRisxKSV0Lmxlbmd0aDtjb25zdCBpPXRbb0ZdfHxcImVkZ2UuYWdvcmEuaW9cIjtyZXR1cm4gZS5tYXRjaCgvXltcXC5cXDpcXGRdKyQvKT9cIlwiLmNvbmNhdChlLnJlcGxhY2UoL1teXFxkXS9nLFwiLVwiKSxcIi5cIikuY29uY2F0KGkpOihpUC5kZWJ1ZyhcIkNhbm5vdCByZWNvZ25pemVkIGFzIGlwIGFkZHJlc3M6IFwiLmNvbmNhdChlLFwiLCB1c2UgYXMgaG9zdDJcIikpLGUpfWZ1bmN0aW9uIGFGKGUpe3RyeXtjb25zdCB0PUNEKFwiVFVSTl9ET01BSU5TXCIpLGk9Q0QoXCJHQVRFV0FZX0RPTUFJTlNcIikuY29uY2F0KHQpLmZpbmQoKHQ9PkxuKGUpLmNhbGwoZSx0KSkpO2lmKGkpe3JldHVybiBlLnNwbGl0KFwiLlwiLmNvbmNhdChpKSlbMF0ucmVwbGFjZSgvLS9nLFwiLlwiKX1yZXR1cm4gZX1jYXRjaCh0KXtyZXR1cm4gaVAuZGVidWcoXCJzZXJ2ZXJVcmxUb0lwIGVycm9yLCBmYWxsYmFjayB0byB1cmxcIixlKSxlfX1mdW5jdGlvbiBjRihlLHQpe2UuYWRkcmVzc2VzfHwoZS5hZGRyZXNzZXM9W10pO2NvbnN0IGk9ZnVuY3Rpb24oZSx0KXtpZihDRChcIkNPTk5FQ1RfR0FURVdBWV9XSVRIT1VUX0RPTUFJTlwiKSlyZXR1cm4gZS5tYXAoKGU9PntsZXR7aXA6dCxwb3J0Oml9PWU7cmV0dXJue2FkZHJlc3M6XCJcIi5jb25jYXQodCxcIjpcIikuY29uY2F0KGkpfX0pKTtjb25zdCBpPUNEKFwiR0FURVdBWV9ET01BSU5TXCIpO2xldCBuPWlbMV0mJkxuKHQpLmNhbGwodCxpWzFdKT8xOjA7cmV0dXJuIGUubWFwKChlPT57bGV0e2RvbWFpbl9wcmVmaXg6dCxwb3J0OnIsaXA6b309ZTtpZih0KXJldHVybnthZGRyZXNzOlwiXCIuY29uY2F0KHQsXCIuXCIpLmNvbmNhdChpW24rKyVpLmxlbmd0aF0sXCI6XCIpLmNvbmNhdChyKX07Y29uc3Qgcz0vXltcXC5cXDpcXGRdKyQvLnRlc3QobyksYT1zP1wiXCIuY29uY2F0KG8ucmVwbGFjZSgvW15cXGRdL2csXCItXCIpLFwiLlwiKS5jb25jYXQoaVtuKyslaS5sZW5ndGhdLFwiOlwiKS5jb25jYXQocik6XCJcIi5jb25jYXQobyxcIjpcIikuY29uY2F0KHIpO3JldHVybiBzfHxpUC5kZWJ1ZyhcIkNhbm5vdCByZWNvZ25pemVkIGFzIGlwIGFkZHJlc3M6IFwiLmNvbmNhdChvLFwiLCB1c2UgYXMgaG9zdDNcIikpLHtpcDpvLHBvcnQ6cixhZGRyZXNzOmF9fSkpfShlLmFkZHJlc3Nlcyx0KSxuPUFycmF5LmlzQXJyYXkoZS5kZXRhaWwpJiZlLmRldGFpbFsxOF07aWYobiYmXCJzdHJpbmdcIj09dHlwZW9mIG4pe2NvbnN0IGU9bi5zcGxpdChcIjtcIik7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciByO2NvbnN0IG49a2cocj1lW3RdKS5jYWxsKHIpO2lbdF0mJm4mJihpW3RdLmlwNj1uKX19Y29uc3Qgbz1lLmRldGFpbCYmZS5kZXRhaWwuY2FuZGlkYXRlO2xldCBzO2lmKG8pe2NvbnN0W2UsdF09by5zcGxpdChcIjpcIik7ZSYmdCYmKHM9e3BvcnQ6TnVtYmVyKHQpLGlwOmUsYWRkcmVzczpcIlwiLmNvbmNhdChlLFwiOlwiKS5jb25jYXQodCl9KX1yZXR1cm57Z2F0ZXdheUFkZHJzOmksYXBHYXRld2F5QWRkcmVzczpzLHVpZDplLnVpZCxjaWQ6ZS5jaWQsY2VydDplLmNlcnQsdmlkOmUuZGV0YWlsJiZlLmRldGFpbFs4XSx1bmlfbGJzX2lwOmUuZGV0YWlsJiZlLmRldGFpbFsxXSxyZXM6ZSxjc0lwOmUuZGV0YWlsJiZlLmRldGFpbFs1MDJdfX1mdW5jdGlvbiBkRihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9lOmUuZXhhY3R8fGUuaWRlYWx8fGUubWF4fHxlLm1pbnx8MH1mdW5jdGlvbiBsRihlKXtjb25zdCB0PWUuX2VuY29kZXJDb25maWc7aWYoIXQpcmV0dXJue307Y29uc3QgaT17cmVzb2x1dGlvbjp0LndpZHRoJiZ0LmhlaWdodD9cIlwiLmNvbmNhdChkRih0LndpZHRoKSxcInhcIikuY29uY2F0KGRGKHQuaGVpZ2h0KSk6dm9pZCAwLG1heFZpZGVvQlc6dC5iaXRyYXRlTWF4LG1pblZpZGVvQlc6dC5iaXRyYXRlTWlufTtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdC5mcmFtZVJhdGU/KGkubWF4RnJhbWVSYXRlPXQuZnJhbWVSYXRlLGkubWluRnJhbWVSYXRlPXQuZnJhbWVSYXRlKTp0LmZyYW1lUmF0ZSYmKGkubWF4RnJhbWVSYXRlPXQuZnJhbWVSYXRlLm1heHx8dC5mcmFtZVJhdGUuaWRlYWx8fHQuZnJhbWVSYXRlLmV4YWN0fHx0LmZyYW1lUmF0ZS5taW4saS5taW5GcmFtZVJhdGU9dC5mcmFtZVJhdGUubWlufHx0LmZyYW1lUmF0ZS5pZGVhbHx8dC5mcmFtZVJhdGUuZXhhY3R8fHQuZnJhbWVSYXRlLm1heCksaX1mdW5jdGlvbiB1RihlKXtyZXR1cm4gZT49MCYmZTwuMTc/MTplPj0uMTcmJmU8LjM2PzI6ZT49LjM2JiZlPC41OT8zOmU+PS41OSYmZTw9MT80OmU+MT81OjB9ZnVuY3Rpb24gaEYoZSx0KXtsZXQgaSxuLHI7c3dpdGNoKHQpe2Nhc2UgaUYuQ0hPT1NFX1NFUlZFUjpuPTQwOTYscj1cImNob29zZSBzZXJ2ZXJcIjticmVhaztjYXNlIGlGLkNMT1VEX1BST1hZOm49MTA0ODU3NixyPVwicHJveHlcIjticmVhaztjYXNlIGlGLkNMT1VEX1BST1hZXzU6bj00MTk0MzA0LHI9XCJwcm94eTVcIjticmVhaztjYXNlIGlGLkNMT1VEX1BST1hZX0ZBTExCQUNLOm49NDE5NDMxMCxyPVwicHJveHkgZmFsbGJhY2tcIjticmVhaztkZWZhdWx0OnRocm93IG5ldyB1UChoTy5VTkVYUEVDVEVEX0VSUk9SLFwibXVsdGkgdW5saWJzIHJlc3BvbnNlIHRyYW5zZm9ybWVyIGdldCB1bmtub3duIHNlcnZpY2UgaWRcIix7Y3NJcDplLmRldGFpbCYmZS5kZXRhaWxbNTAyXSxyZXRyeTohMX0pfWlmKGUucmVzcG9uc2VfYm9keS5mb3JFYWNoKCh0PT57dC5idWZmZXImJnQuYnVmZmVyLmZsYWc9PT1uJiYoaT17Y29kZTp0LmJ1ZmZlci5jb2RlLGFkZHJlc3NlczoodC5idWZmZXIuZWRnZXNfc2VydmljZXN8fFtdKS5tYXAoKGU9PnJGKHJGKHt9LGUpLHt9LHt0aWNrZXQ6dC5idWZmZXIuY2VydH0pKSksc2VydmVyX3RzOmUuZW50ZXJfdHMsdWlkOnQuYnVmZmVyLnVpZCxjaWQ6dC5idWZmZXIuY2lkLGNuYW1lOnQuYnVmZmVyLmNuYW1lLGRldGFpbDpyRihyRih7fSx0LmJ1ZmZlci5kZXRhaWwpLGUuZGV0YWlsKSxmbGFnOnQuYnVmZmVyLmZsYWcsb3BpZDplLm9waWQsY2VydDp0LmJ1ZmZlci5jZXJ0fSl9KSksIWkpdGhyb3cgbmV3IHVQKGhPLk1VTFRJX1VOSUxCU19SRVNQT05TRV9FUlJPUixcImNhbm5vdCBwYXJzZSByZXNwb25zZSBcIi5jb25jYXQocixcIiBmcm9tIG11bHRpIHVuaWxicyByZXNwb25zZVwiKSx7Y3NJcDplLmRldGFpbCYmZS5kZXRhaWxbNTAyXX0pO3JldHVybiBpfWFzeW5jIGZ1bmN0aW9uIHBGKGUsdCl7cmV0dXJuIGF3YWl0IHJwLmFsbChlLmFkZHJlc3Nlcy5tYXAoKGFzeW5jIGU9Pih7YWRkcmVzczpzRihlLmlwKSx0Y3Bwb3J0OmUucG9ydCx1ZHBwb3J0OmUucG9ydCx1c2VybmFtZTp0JiZDRChcIkVOQ1JZUFRfUFJPWFlfVVNFUk5BTUVfQU5EX1BTV1wiKSYmd2luZG93LmlzU2VjdXJlQ29udGV4dD90LnRvU3RyaW5nKCk6RUQudXNlcm5hbWUscGFzc3dvcmQ6dCYmQ0QoXCJFTkNSWVBUX1BST1hZX1VTRVJOQU1FX0FORF9QU1dcIikmJndpbmRvdy5pc1NlY3VyZUNvbnRleHQ/YXdhaXQgT08odC50b1N0cmluZygpKTpFRC5wYXNzd29yZH0pKSkpfWZ1bmN0aW9uIF9GKGUsdCl7Y29uc3QgaT10LmdldE1lZGlhU3RyZWFtVHJhY2soITApLmdldFNldHRpbmdzKCksbj10LnZpZGVvSGVpZ2h0fHxpLmhlaWdodCxyPXQudmlkZW9XaWR0aHx8aS53aWR0aDtyZXR1cm4gbiYmcj9NYXRoLm1heChNYXRoLm1pbihuLHIpL01hdGgubWluKGRGKGUuaGVpZ2h0KSxkRihlLndpZHRoKSksMSk6KGlQLndhcm5pbmcoXCJjYW4ndCBnZXQgb3JpLXRyYWNrJ3MgaGVpZ2h0LCBkZWZhdWx0IHNjYWxlIGRvd24gNCB0aW1lcyBmb3IgbG93IHN0cmVhbVwiKSw0KX1mdW5jdGlvbiBFRihlKXtsZXR7Y2FuZGlkYXRlVHlwZTp0LHJlbGF5UHJvdG9jb2w6aSx0eXBlOm4sYWRkcmVzczpyLHBvcnQ6byxwcm90b2NvbDpzfT1lO2NvbnN0IGE9e2NhbmRpZGF0ZVR5cGU6dCxyZWxheVByb3RvY29sOmkscHJvdG9jb2w6c307aWYoXCJsb2NhbC1jYW5kaWRhdGVcIiE9PW4pe2NvbnN0IGU9ci5zcGxpdChcIi5cIik7ZS5sZW5ndGg+PTQmJihlWzFdPVwiKlwiLGVbMl09XCIqXCIpLGEuYWRkcmVzcz1lLmpvaW4oXCIuXCIpLGEucG9ydD1vfXJldHVybiBhfWZ1bmN0aW9uIG1GKGUpe2NvbnN0IHQ9ZS5zcGxpdChcIjpcIiksaT1lLnNwbGl0KC9bLS5dLyksbj1MbihlKS5jYWxsKGUsXCItXCIpP1wiLVwiOlwiLlwiO2xldCByPWU7cmV0dXJuIHQubGVuZ3RoPjE/aS5sZW5ndGg+MT8oaVsxXT1cIioqXCIscj1pWzBdK24rXCIqKjpcIit0W3QubGVuZ3RoLTFdKTpyPXQubGVuZ3RoPjI/dFswXStuK1wiKio6XCIrdFt0Lmxlbmd0aC0xXTpcIioqOlwiK3RbdC5sZW5ndGgtMV06aS5sZW5ndGg+MSYmKHI9aVswXStuK1wiKipcIikscn1mdW5jdGlvbiBmRihlLHQpe3JldHVybiBlLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PmUuc2VuZGVyLnRyYWNrPT09dHx8ZS5yZWNlaXZlci50cmFjaz09PXQpKX1mdW5jdGlvbiBTRigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpDRChcIlNWQ19NT0RFXCIpO2lmKENEKFwiRU5BQkxFX1NWQ1wiKSlyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW4gaUR9KGUpP2U6aUQuTDFUM31jb25zdCBnRj17W2Z4LlZJREVPXTpbe2tleTpcImFicy1zZW5kLXRpbWVcIixleHRlbnNpb25OYW1lOlwiaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvYWJzLXNlbmQtdGltZVwifSx7a2V5OlwidmlkZW8tb3JpZW50YXRpb25cIixleHRlbnNpb25OYW1lOlwidXJuOjNncHA6dmlkZW8tb3JpZW50YXRpb25cIn0se2tleTpcImRyYWZ0LWhvbG1lci1ybWNhdC10cmFuc3BvcnQtd2lkZS1jYy1leHRlbnNpb25zLTAxXCIsZXh0ZW5zaW9uTmFtZTpcImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIn0se2tleTpcInBsYXlvdXQtZGVsYXlcIixleHRlbnNpb25OYW1lOlwiaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvcGxheW91dC1kZWxheVwifSx7a2V5OlwidmlkZW8tY29udGVudC10eXBlXCIsZXh0ZW5zaW9uTmFtZTpcImh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L3ZpZGVvLWNvbnRlbnQtdHlwZVwifSx7a2V5OlwiY29sb3Itc3BhY2VcIixleHRlbnNpb25OYW1lOlwiaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvY29sb3Itc3BhY2VcIn0se2tleTpcInZpZGVvLXRpbWluZ1wiLGV4dGVuc2lvbk5hbWU6XCJodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC92aWRlby10aW1pbmdcIn1dLFtmeC5BVURJT106W3trZXk6XCJzc3JjLWF1ZGlvLWxldmVsXCIsZXh0ZW5zaW9uTmFtZTpcInVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnNzcmMtYXVkaW8tbGV2ZWxcIn0se2tleTpcImRyYWZ0LWhvbG1lci1ybWNhdC10cmFuc3BvcnQtd2lkZS1jYy1leHRlbnNpb25zLTAxXCIsZXh0ZW5zaW9uTmFtZTpcImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIn0se2tleTpcImFicy1zZW5kLXRpbWVcIixleHRlbnNpb25OYW1lOlwiaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvYWJzLXNlbmQtdGltZVwifV19O2Z1bmN0aW9uIFRGKGUpe2Uuc2VuZCYmKHZGKGZ4LlZJREVPLGUuc2VuZC52aWRlb0V4dGVuc2lvbnMpLHZGKGZ4LkFVRElPLGUuc2VuZC5hdWRpb0V4dGVuc2lvbnMpKSxlLnJlY3YmJih2RihmeC5WSURFTyxlLnJlY3YudmlkZW9FeHRlbnNpb25zKSx2RihmeC5BVURJTyxlLnJlY3YuYXVkaW9FeHRlbnNpb25zKSksZS5zZW5kcmVjdiYmKHZGKGZ4LlZJREVPLGUuc2VuZHJlY3YudmlkZW9FeHRlbnNpb25zKSx2RihmeC5BVURJTyxlLnNlbmRyZWN2LmF1ZGlvRXh0ZW5zaW9ucykpfWZ1bmN0aW9uIFJGKGUsdCl7ZS5zZW5kJiYoQ0YoZnguVklERU8sZS5zZW5kLnZpZGVvRXh0ZW5zaW9ucyx0LnNlbmQudmlkZW9FeHRlbnNpb25zKSxDRihmeC5BVURJTyxlLnNlbmQuYXVkaW9FeHRlbnNpb25zLHQuc2VuZC5hdWRpb0V4dGVuc2lvbnMpKSxlLnJlY3YmJihDRihmeC5WSURFTyxlLnJlY3YudmlkZW9FeHRlbnNpb25zLHQucmVjdi52aWRlb0V4dGVuc2lvbnMpLENGKGZ4LkFVRElPLGUucmVjdi5hdWRpb0V4dGVuc2lvbnMsdC5yZWN2LmF1ZGlvRXh0ZW5zaW9ucykpfWZ1bmN0aW9uIENGKGUsdCxpKXt0LmZvckVhY2goKHQ9Pnt2YXIgbjtjb25zdCByPWdGW2VdLmZpbmQoKGU9Pnt2YXIgaTtsZXR7a2V5Om59PWU7cmV0dXJuIExuKGk9dC5leHRlbnNpb25OYW1lKS5jYWxsKGksbil9KSk7aWYoIXIpcmV0dXJuO2NvbnN0IG89aS5maW5kKChlPT57bGV0e2V4dGVuc2lvbk5hbWU6dH09ZTtyZXR1cm4gTG4odCkuY2FsbCh0LHIua2V5KX0pKTtvJiZMbihuPW8uZXh0ZW5zaW9uTmFtZSkuY2FsbChuLFwiZ2Rwcl9mb3JiaWRkZW5cIikmJih0LmV4dGVuc2lvbk5hbWU9by5leHRlbnNpb25OYW1lKX0pKX1mdW5jdGlvbiB2RihlLHQpe3QuZm9yRWFjaCgodD0+e3ZhciBpO2NvbnN0IG49Z0ZbZV0uZmluZCgoZT0+e3ZhciBpO2xldHtrZXk6bn09ZTtyZXR1cm4gTG4oaT10LmV4dGVuc2lvbk5hbWUpLmNhbGwoaSxuKX0pKTtMbihpPXQuZXh0ZW5zaW9uTmFtZSkuY2FsbChpLFwiZ2Rwcl9mb3JiaWRkZW5cIikmJm4mJih0LmV4dGVuc2lvbk5hbWU9bi5leHRlbnNpb25OYW1lKX0pKX1mdW5jdGlvbiB5RihlKXtyZXR1cm5cImh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L2Ficy1zZW5kLXRpbWVcIj09PWV8fExuKGUpLmNhbGwoZSxcImFicy1zZW5kLXRpbWVcIil9ZnVuY3Rpb24gSUYoZSl7cmV0dXJuXCJodHRwOi8vd3d3LmlldGYub3JnL2lkL2RyYWZ0LWhvbG1lci1ybWNhdC10cmFuc3BvcnQtd2lkZS1jYy1leHRlbnNpb25zLTAxXCI9PT1lfHxMbihlKS5jYWxsKGUsXCJkcmFmdC1ob2xtZXItcm1jYXQtdHJhbnNwb3J0LXdpZGUtY2MtZXh0ZW5zaW9ucy0wMVwiKX1mdW5jdGlvbiBBRihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gYkYoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/QUYoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6QUYoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gd0YoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7Y29uc3R7ZmlsdGVyUlRYOnIsZmlsdGVyVmlkZW9GZWM6byxmaWx0ZXJBdWRpb0ZlYzpzLGZpbHRlckF1ZGlvQ29kZWM6YSxmaWx0ZXJWaWRlb0NvZGVjOmMsdW5zdXBwb3J0ZWRWaWRlb1VwbGlua0NvZGVjOmQsdW5zdXBwb3J0ZWRWaWRlb0Rvd25saW5rQ29kZWM6bH09dCx7dXNlWFI6dX09aTtsZXQgaD1bXSxwPVtdLF89W10sRT1bXSxtPSExLGY9ITE7aWYoTEQoZSkubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e24mJm4hPT1lLmF0dHJpYnV0ZXMuZGlyZWN0aW9ufHwoXCJ2aWRlb1wiIT09ZS5tZWRpYS5tZWRpYVR5cGV8fG18fChwPWUuYXR0cmlidXRlcy5wYXlsb2FkcyxFPWUuYXR0cmlidXRlcy5leHRtYXBzLG09ITApLFwiYXVkaW9cIiE9PWUubWVkaWEubWVkaWFUeXBlfHxmfHwoaD1lLmF0dHJpYnV0ZXMucGF5bG9hZHMsXz1lLmF0dHJpYnV0ZXMuZXh0bWFwcyxmPSEwKSl9KSksIUV8fDA9PT1wLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHZpZGVvIGNhcGFiaWxpdGllcyBmcm9tIFNEUC5cIik7aWYoIV98fDA9PT1oLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGF1ZGlvIGNhcGFiaWxpdGllcyBmcm9tIFNEUC5cIik7aWYocC5mb3JFYWNoKChlPT57dmFyIHQ7bnVsbCE9PSh0PWUucnRwTWFwKSYmdm9pZCAwIT09dCYmdC5jbG9ja1JhdGUmJihlLnJ0cE1hcC5jbG9ja1JhdGU9cGFyc2VJbnQoZS5ydHBNYXAuY2xvY2tSYXRlKSksdSYmZS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJycnRyXCJ9KX0pKSxoLmZvckVhY2goKGU9Pnt2YXIgdDtudWxsIT09KHQ9ZS5ydHBNYXApJiZ2b2lkIDAhPT10JiZ0LmNsb2NrUmF0ZSYmKGUucnRwTWFwLmNsb2NrUmF0ZT1wYXJzZUludChlLnJ0cE1hcC5jbG9ja1JhdGUpKSx1JiZlLnJ0Y3BGZWVkYmFja3MucHVzaCh7dHlwZTpcInJydHJcIn0pfSkpLHImJihoPWguZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuXCJydHhcIiE9PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKX0pKSxwPXAuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuXCJydHhcIiE9PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKX0pKSksbyl7Y29uc3QgZT1wLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybi8ocmVkKXwodWxwZmVjKXwoZmxleGZlYykvaS50ZXN0KChudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZSl8fFwiXCIpfSkpLHQ9ekYoZSxwKS5tYXAoKGU9PmUucGF5bG9hZFR5cGUpKSxpPVsuLi5lLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZSkpLC4uLnRdO3A9cC5maWx0ZXIoKGU9PiFMbihpKS5jYWxsKGksZS5wYXlsb2FkVHlwZSkpKX1pZihzJiYoaD1oLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiEvKHJlZCl8KHVscGZlYyl8KGZsZXhmZWMpL2kudGVzdCgobnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUpfHxcIlwiKX0pKSksYSYmKG51bGw9PWE/dm9pZCAwOmEubGVuZ3RoKT4wJiYoaD1oLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBMbihhKS5jYWxsKGEsKG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKX0pKSksYyYmKG51bGw9PWM/dm9pZCAwOmMubGVuZ3RoKT4wKXtjb25zdCBlPXAuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIExuKGMpLmNhbGwoYywobnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl8fFwiXCIpfSkpO3A9ZS5jb25jYXQocj9bXTp6RihlLHApKX1jb25zdCBTPUNEKFwiVU5TVVBQT1JURURfVklERU9fQ09ERUNcIik7aWYoUyYmUy5sZW5ndGg+MCl7Y29uc3QgZT1wLmZpbHRlcigoZT0+ZS5ydHBNYXAmJkxuKFMpLmNhbGwoUyxlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSkpKSx0PXpGKGUscCksaT1lLmNvbmNhdCh0KS5tYXAoKGU9PmUucGF5bG9hZFR5cGUpKTtwPXAuZmlsdGVyKChlPT4hTG4oaSkuY2FsbChpLGUucGF5bG9hZFR5cGUpKSksaVAuZGVidWcoXCJ1bnN1cHBvcnRlZFZpZGVvQ29kZWM6IFwiLmNvbmNhdChTLFwiLCB0b0JlUmVtb3ZlZDogXCIpLmNvbmNhdChpKSl9aWYoZCYmZC5sZW5ndGg+MCYmXCJzZW5kb25seVwiPT09bil7Y29uc3QgZT1wLmZpbHRlcigoZT0+ZS5ydHBNYXAmJkxuKGQpLmNhbGwoZCxlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSkpKSx0PXpGKGUscCksaT1lLmNvbmNhdCh0KS5tYXAoKGU9PmUucGF5bG9hZFR5cGUpKTtwPXAuZmlsdGVyKChlPT4hTG4oaSkuY2FsbChpLGUucGF5bG9hZFR5cGUpKSksaVAuZGVidWcoXCJ1bnN1cHBvcnRlZFZpZGVvVXBsaW5rQ29kZWM6IFwiLmNvbmNhdChkLFwiLCB0b0JlUmVtb3ZlZDogXCIpLmNvbmNhdChpKSl9aWYobCYmbC5sZW5ndGg+MCYmXCJyZWN2b25seVwiPT09bil7Y29uc3QgZT1wLmZpbHRlcigoZT0+ZS5ydHBNYXAmJkxuKGwpLmNhbGwobCxlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSkpKSx0PXpGKGUscCksaT1lLmNvbmNhdCh0KS5tYXAoKGU9PmUucGF5bG9hZFR5cGUpKTtwPXAuZmlsdGVyKChlPT4hTG4oaSkuY2FsbChpLGUucGF5bG9hZFR5cGUpKSksaVAuZGVidWcoXCJ1bnN1cHBvcnRlZFZpZGVvRG93bmxpbmtDb2RlYzogXCIuY29uY2F0KGwsXCIsIHRvQmVSZW1vdmVkOiBcIikuY29uY2F0KGkpKX1yZXR1cm57YXVkaW9Db2RlY3M6aCx2aWRlb0NvZGVjczpwLGF1ZGlvRXh0ZW5zaW9uczpfLHZpZGVvRXh0ZW5zaW9uczpFfX1mdW5jdGlvbiBPRihlKXtjb25zdCB0PUxEKGUpO2xldCBpLG47Zm9yKGNvbnN0IGUgb2YgdC5tZWRpYURlc2NyaXB0aW9ucyl7aWYoIWkpe2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzLmljZVVmcmFnLG49ZS5hdHRyaWJ1dGVzLmljZVB3ZDtpZighdHx8IW4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBpY2VVZnJhZyBvciBpY2VQd2QgZnJvbSBTRFAuXCIpO2k9e2ljZVVmcmFnOnQsaWNlUHdkOm59fWlmKCFuKXtjb25zdCB0PWUuYXR0cmlidXRlcy5maW5nZXJwcmludHM7dC5sZW5ndGg+MCYmKG49e2ZpbmdlcnByaW50czp0fSl9fWlmKCFuJiZ0LmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzLmxlbmd0aD4wJiYobj17ZmluZ2VycHJpbnRzOnQuYXR0cmlidXRlcy5maW5nZXJwcmludHN9KSwhbnx8IWkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBpY2VQYXJhbWV0ZXJzIG9yIGR0bHNQYXJhbWV0ZXJzIGZyb20gU0RQLlwiKTtyZXR1cm57aWNlUGFyYW1ldGVyczppLGR0bHNQYXJhbWV0ZXJzOm59fWZ1bmN0aW9uIE5GKGUsdCl7Y29uc3QgaT1bXSxuPWUuYXR0cmlidXRlcy5zc3JjR3JvdXBzLmZpbHRlcigoZT0+XCJGSURcIj09PWUuc2VtYW50aWMpKSxyPWUuYXR0cmlidXRlcy5zc3JjR3JvdXBzLmZpbmQoKGU9PlwiU0lNXCI9PT1lLnNlbWFudGljKSksbz1lLmF0dHJpYnV0ZXMuc3NyY3M7aWYocilyLnNzcmNJZHMuZm9yRWFjaCgoZT0+e3ZhciByO2NvbnN0IG89bnVsbD09PShyPW4uZmluZCgodD0+dC5zc3JjSWRzWzBdPT09ZSkpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5zc3JjSWRzWzFdO2kucHVzaCh7c3NyY0lkOmUscnR4OnQ/bzp2b2lkIDB9KX0pKTtlbHNlIGlmKG4ubGVuZ3RoPjApe2NvbnN0IGU9blswXS5zc3JjSWRzWzBdLHI9blswXS5zc3JjSWRzWzFdO2kucHVzaCh7c3NyY0lkOmUscnR4OnQ/cjp2b2lkIDB9KX1lbHNle2lmKDA9PT1vLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJObyBzc3JjcyBmb3VuZCBvbiBsb2NhbCBtZWRpYSBkZXNjcmlwdGlvbi5cIik7aS5wdXNoKHtzc3JjSWQ6b1swXS5zc3JjSWR9KX1yZXR1cm4gaX1mdW5jdGlvbiBERihlLHQsaSl7Y29uc3R7Y25hbWU6bn09ZTtsZXQgcj1bXTt0JiYocj1QRih0KSksMD09PXIubGVuZ3RoJiYocj1lLmljZVBhcmFtZXRlcnMuY2FuZGlkYXRlcy5tYXAoKGU9Pih7Zm91bmRhdGlvbjplLmZvdW5kYXRpb24sY29tcG9uZW50SWQ6XCIxXCIsdHJhbnNwb3J0OmUucHJvdG9jb2wscHJpb3JpdHk6ZS5wcmlvcml0eS50b1N0cmluZygpLGNvbm5lY3Rpb25BZGRyZXNzOmUuaXAscG9ydDplLnBvcnQudG9TdHJpbmcoKSx0eXBlOmUudHlwZSxleHRlbnNpb246e319KSkpLGlQLmRlYnVnKFwiVXNpbmcgY2FuZGlkYXRlcyBmcm9tIGdhdGV3YXkuXCIpKTtjb25zdCBvPXtmaW5nZXJwcmludHM6ZS5kdGxzUGFyYW1ldGVycy5maW5nZXJwcmludHMubWFwKChlPT4oe2hhc2hGdW5jdGlvbjplLmFsZ29yaXRobSxmaW5nZXJwcmludDplLmZpbmdlcnByaW50fSkpKX0scz17aWNlVWZyYWc6ZS5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDplLmljZVBhcmFtZXRlcnMuaWNlUHdkfTtsZXQgYTtzd2l0Y2goZS5kdGxzUGFyYW1ldGVycy5yb2xlKXtjYXNlXCJzZXJ2ZXJcIjphPVwicGFzc2l2ZVwiO2JyZWFrO2Nhc2VcImNsaWVudFwiOmE9XCJhY3RpdmVcIjticmVhaztjYXNlXCJhdXRvXCI6YT1cImFjdHBhc3NcIn1jb25zdCBjPUhGKGUucnRwQ2FwYWJpbGl0aWVzKSxkPVtdO3JldHVybiBBcnJheS5pc0FycmF5KGkpJiZpLmxlbmd0aD4wJiZpLmZvckVhY2goKGU9PntkLnB1c2goe2tpbmQ6ZnguVklERU8sc3NyY01zZzpbe3NzcmNJZDplLnYscnR4OmUudl9ydHh9XSxtc2xhYmVsOlwiXCIuY29uY2F0KGUudixcIl9cIikuY29uY2F0KGUuYSl9LHtraW5kOmZ4LkFVRElPLHNzcmNNc2c6W3tzc3JjSWQ6ZS5hfV0sbXNsYWJlbDpcIlwiLmNvbmNhdChlLnYsXCJfXCIpLmNvbmNhdChlLmEpfSl9KSkse2R0bHNQYXJhbWV0ZXJzOm8saWNlUGFyYW1ldGVyczpzLGNhbmRpZGF0ZXM6cixydHBDYXBhYmlsaXRpZXM6YyxzZXR1cDphLGNuYW1lOm4scHJlU1NSQ3M6ZH19ZnVuY3Rpb24gUEYoZSl7bGV0IHQ9W107cmV0dXJuIGUuaXAmJlwibnVtYmVyXCI9PXR5cGVvZiBlLnBvcnQmJih0PVt7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLGNvbXBvbmVudElkOlwiMVwiLHRyYW5zcG9ydDpcInVkcFwiLHByaW9yaXR5OlwiMjEwMzI2NjMyM1wiLGNvbm5lY3Rpb25BZGRyZXNzOmUuaXAscG9ydDplLnBvcnQudG9TdHJpbmcoKSx0eXBlOlwiaG9zdFwiLGV4dGVuc2lvbjp7fX1dLGlQLmRlYnVnKFwiVXNpbmcgcmVtb3RlIGNhbmRpZGF0ZSBmcm9tIEFQIFwiLmNvbmNhdChtRihlLmlwKSxcIjpcIikuY29uY2F0KGUucG9ydCkpLGUuaXA2JiYodC5wdXNoKHtmb3VuZGF0aW9uOlwidWRwY2FuZGlkYXRlXCIsY29tcG9uZW50SWQ6XCIxXCIsdHJhbnNwb3J0OlwidWRwXCIscHJpb3JpdHk6XCIyMTAzMjY2MzIzXCIsY29ubmVjdGlvbkFkZHJlc3M6ZS5pcDYscG9ydDplLnBvcnQudG9TdHJpbmcoKSx0eXBlOlwiaG9zdFwiLGV4dGVuc2lvbjp7fX0pLGlQLmRlYnVnKFwiVXNpbmcgSVBWNiByZW1vdGUgY2FuZGlkYXRlIGZyb20gQVAgXCIuY29uY2F0KG1GKGUuaXA2KSxcIjpcIikuY29uY2F0KGUucG9ydCkpKSksdH1mdW5jdGlvbiBMRihlLHQsaSl7Y29uc3Qgbj1bXSxyPVtdO3JldHVybiBlLmZvckVhY2goKGU9PntsZXR7c3NyY0lkOm8scnR4OnN9PWU7Y29uc3QgYT1TTig4LFwidHJhY2stXCIpLGM9e3NzcmNJZDpvLGF0dHJpYnV0ZXM6YkYoe2xhYmVsOmEsbXNsYWJlbDppPWl8fFNOKDEwLFwiXCIpLG1zaWQ6XCJcIi5jb25jYXQoaSxcIiBcIikuY29uY2F0KGEpfSx0JiZ7Y25hbWU6dH0pfTtpZihuLnB1c2goYyksdm9pZCAwIT09cyl7Y29uc3QgZT17c3NyY0lkOnMsYXR0cmlidXRlczpiRih7bGFiZWw6YSxtc2xhYmVsOmksbXNpZDpcIlwiLmNvbmNhdChpLFwiIFwiKS5jb25jYXQoYSl9LHQmJntjbmFtZTp0fSl9O24ucHVzaChlKSxyLnB1c2goe3NlbWFudGljOlwiRklEXCIsc3NyY0lkczpbbyxzXX0pfX0pKSxlLmxlbmd0aD4xJiZyLnB1c2goe3NlbWFudGljOlwiU0lNXCIsc3NyY0lkczplLm1hcCgoZT0+e2xldHtzc3JjSWQ6dH09ZTtyZXR1cm4gdH0pKX0pLHtzc3JjczpuLHNzcmNHcm91cHM6cn19ZnVuY3Rpb24ga0YoZSx0KXt0IGluc3RhbmNlb2YgQmsmJmUuYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKChlPT57dmFyIGk7Y29uc3Qgbj1udWxsPT09KGk9ZS5ydHBNYXApfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpO2lmKCFufHwtMT09PVtcIm9wdXNcIixcInBjbXVcIixcInBjbWFcIixcImc3MjJcIl0uaW5kZXhPZihuKSlyZXR1cm47ZS5mbXRwfHwoZS5mbXRwPXtwYXJhbWV0ZXJzOnt9fSksXCJvcHVzXCI9PT1uJiZcIm51bWJlclwiPT10eXBlb2YgQ0QoXCJPUFVTX1BUSU1FXCIpP2UuZm10cC5wYXJhbWV0ZXJzLnB0aW1lPUNEKFwiT1BVU19QVElNRVwiKTplLmZtdHAucGFyYW1ldGVycy5taW5wdGltZT1cIjEwXCIsZS5mbXRwLnBhcmFtZXRlcnMudXNlaW5iYW5kZmVjPVwiMVwiO2NvbnN0IHI9dC5fZW5jb2RlckNvbmZpZztyJiYoXCJwY211XCIhPT1uJiZcInBjbWFcIiE9PW4mJlwiZzcyMlwiIT09biYmKHIuYml0cmF0ZSYmIUJ3KCkmJihlLmZtdHAucGFyYW1ldGVycy5tYXhhdmVyYWdlYml0cmF0ZT1cIlwiLmNvbmNhdChNYXRoLmZsb29yKDFlMypyLmJpdHJhdGUpKSksci5zYW1wbGVSYXRlJiYoZS5mbXRwLnBhcmFtZXRlcnMubWF4cGxheWJhY2tyYXRlPVwiXCIuY29uY2F0KHIuc2FtcGxlUmF0ZSksZS5mbXRwLnBhcmFtZXRlcnNbXCJzcHJvcC1tYXhjYXB0dXJlcmF0ZVwiXT1cIlwiLmNvbmNhdChyLnNhbXBsZVJhdGUpKSxyLnN0ZXJlbyYmKGUuZm10cC5wYXJhbWV0ZXJzLnN0ZXJlbz1cIjFcIixlLmZtdHAucGFyYW1ldGVyc1tcInNwcm9wLXN0ZXJlb1wiXT1cIjFcIikpLHQgaW5zdGFuY2VvZiBqayYmXCJvcHVzXCI9PT1uJiZ0Ll9jb25maWcuRFRYJiYoZS5mbXRwLnBhcmFtZXRlcnMudXNlZHR4PVwiMVwiKSl9KSl9ZnVuY3Rpb24gTUYoZSl7Y29uc3QgdD1lLmF0dHJpYnV0ZXMudW5yZWNvZ25pemVkLmZpbmRJbmRleCgoZT0+XCJ4LWdvb2dsZS1mbGFnXCI9PT1lLmF0dEZpZWxkJiZcImNvbmZlcmVuY2VcIj09PWUuYXR0VmFsdWUpKTstMSE9PXQmJmUuYXR0cmlidXRlcy51bnJlY29nbml6ZWQuc3BsaWNlKHQsMSl9ZnVuY3Rpb24gVUYoZSx0KXt2YXIgaTtpZihlLmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaCgoZT0+e3ZhciB0O1wiaDI2NFwiPT09KG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpJiZlLmZtdHAmJmUuZm10cC5wYXJhbWV0ZXJzJiZDRChcIkVOQUJMRV9VUF9TUFNfUFBTXCIpJiYoZS5mbXRwLnBhcmFtZXRlcnNbXCJzcHMtcHBzLWlkci1pbi1rZXlmcmFtZVwiXT1cIjFcIil9KSksISh0IGluc3RhbmNlb2Yga00mJnQuX2VuY29kZXJDb25maWcmJi0xPT09dC5faGludHMuaW5kZXhPZihWUC5TQ1JFRU5fVFJBQ0spKSlyZXR1cm47Y29uc3Qgbj10Ll9lbmNvZGVyQ29uZmlnO3BQKCkuc3VwcG9ydE1pbkJpdHJhdGUmJm4uYml0cmF0ZU1pbiYmZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9Pnt2YXIgdCxpO0xuKHQ9W1wiaDI2NFwiLFwiaDI2NVwiLFwidnA4XCIsXCJ2cDlcIixcImF2MVwiXSkuY2FsbCh0LChudWxsPT09KGk9ZS5ydHBNYXApfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKXx8XCJcIikmJihlLmZtdHB8fChlLmZtdHA9e3BhcmFtZXRlcnM6e319KSxlLmZtdHAucGFyYW1ldGVyc1tcIngtZ29vZ2xlLW1pbi1iaXRyYXRlXCJdPVwiXCIuY29uY2F0KG4uYml0cmF0ZU1pbikpfSkpLHBQKCkuc3VwcG9ydE1pbkJpdHJhdGUmJiFMbihpPXQuX2hpbnRzKS5jYWxsKGksVlAuTE9XX1NUUkVBTSkmJm4uYml0cmF0ZU1heCYmZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9Pnt2YXIgdCxpO0xuKHQ9W1wiaDI2NFwiLFwiaDI2NVwiLFwidnA4XCIsXCJ2cDlcIixcImF2MVwiXSkuY2FsbCh0LChudWxsPT09KGk9ZS5ydHBNYXApfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKXx8XCJcIikmJihlLmZtdHB8fChlLmZtdHA9e3BhcmFtZXRlcnM6e319KSxlLmZtdHAucGFyYW1ldGVyc1tcIngtZ29vZ2xlLXN0YXJ0LWJpdHJhdGVcIl09XCJcIi5jb25jYXQoQ0QoXCJYX0dPT0dMRV9TVEFSVF9CSVRSQVRFXCIpfHxNYXRoLmZsb29yKG4uYml0cmF0ZU1heCkpKX0pKX1mdW5jdGlvbiBWRihlKXtpZihcInZpZGVvXCIhPT1lLm1lZGlhLm1lZGlhVHlwZSlyZXR1cm47Y29uc3QgdD1EdygpO2lmKHQubmFtZSE9PWJ3LlNBRkFSSSYmdC5vcyE9PUF3LklPUylyZXR1cm47Y29uc3QgaT1lLmF0dHJpYnV0ZXMuZXh0bWFwcy5maW5kSW5kZXgoKGU9Pi92aWRlby1vcmllbnRhdGlvbi9nLnRlc3QoZS5leHRlbnNpb25OYW1lKSkpOy0xIT09aSYmZS5hdHRyaWJ1dGVzLmV4dG1hcHMuc3BsaWNlKGksMSl9ZnVuY3Rpb24geEYoZSx0LGkpe2lmKCF0KXJldHVybjtsZXQgbixyO2lmKFwidmlkZW9cIj09PWUubWVkaWEubWVkaWFUeXBlPyhuPWkudmlkZW9FeHRlbnNpb25zLHI9aS52aWRlb0NvZGVjcyk6KG49aS5hdWRpb0V4dGVuc2lvbnMscj1pLmF1ZGlvQ29kZWNzKSwhMD09PXQudHdjYyl7Y29uc3QgdD1uLmZpbmQoKGU9PklGKGUuZXh0ZW5zaW9uTmFtZSkpKTtpZih0KXtjb25zdCBpPXQuZXh0ZW5zaW9uTmFtZTtlLmF0dHJpYnV0ZXMuZXh0bWFwcy5maW5kKChlPT5JRihlLmV4dGVuc2lvbk5hbWUpKSl8fGUuYXR0cmlidXRlcy5leHRtYXBzLnB1c2goe2VudHJ5OnQuZW50cnksZXh0ZW5zaW9uTmFtZTppfSk7Y29uc3Qgbj1mdW5jdGlvbihlLHQpe3JldHVybiB0LmZpbHRlcigodD0+ISFlLmZpbmQoKGU9PmUucGF5bG9hZFR5cGU9PT10LnBheWxvYWRUeXBlJiYhIWUucnRjcEZlZWRiYWNrcy5maW5kKChlPT5cInRyYW5zcG9ydC1jY1wiPT09ZS50eXBlKSkpKSkpfShyLGUuYXR0cmlidXRlcy5wYXlsb2Fkcyk7bi5mb3JFYWNoKChlPT57ZS5ydGNwRmVlZGJhY2tzLmZpbmQoKGU9PlwidHJhbnNwb3J0LWNjXCI9PT1lLnR5cGUpKXx8ZS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJ0cmFuc3BvcnQtY2NcIn0pfSkpfX1lbHNlIGlmKCExPT09dC50d2NjKXtjb25zdCB0PWUuYXR0cmlidXRlcy5leHRtYXBzLmZpbmRJbmRleCgoZT0+SUYoZS5leHRlbnNpb25OYW1lKSkpOy0xIT09dCYmZS5hdHRyaWJ1dGVzLmV4dG1hcHMuc3BsaWNlKHQsMSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9Pntjb25zdCB0PWUucnRjcEZlZWRiYWNrcy5maW5kSW5kZXgoKGU9PlwidHJhbnNwb3J0LWNjXCI9PT1lLnR5cGUpKTstMSE9PXQmJmUucnRjcEZlZWRiYWNrcy5zcGxpY2UodCwxKX0pKX1pZighMD09PXQucmVtYil7Y29uc3QgdD1uLmZpbmQoKGU9PnlGKGUuZXh0ZW5zaW9uTmFtZSkpKTtpZih0KXtjb25zdCBpPXQuZXh0ZW5zaW9uTmFtZTtlLmF0dHJpYnV0ZXMuZXh0bWFwcy5maW5kKChlPT5lLmV4dGVuc2lvbk5hbWU9PT1pKSl8fGUuYXR0cmlidXRlcy5leHRtYXBzLnB1c2goe2VudHJ5OnQuZW50cnksZXh0ZW5zaW9uTmFtZTppfSk7Y29uc3Qgbj1mdW5jdGlvbihlLHQpe3JldHVybiB0LmZpbHRlcigodD0+ISFlLmZpbmQoKGU9PmUucGF5bG9hZFR5cGU9PT10LnBheWxvYWRUeXBlJiYhIWUucnRjcEZlZWRiYWNrcy5maW5kKChlPT5cImdvb2ctcmVtYlwiPT09ZS50eXBlKSkpKSkpfShyLGUuYXR0cmlidXRlcy5wYXlsb2Fkcyk7bi5mb3JFYWNoKChlPT57ZS5ydGNwRmVlZGJhY2tzLmZpbmQoKGU9PlwiZ29vZy1yZW1iXCI9PT1lLnR5cGUpKXx8ZS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJnb29nLXJlbWJcIn0pfSkpfX1lbHNlIGlmKCExPT09dC5yZW1iKXtjb25zdCB0PWUuYXR0cmlidXRlcy5leHRtYXBzLmZpbmRJbmRleCgoZT0+eUYoZS5leHRlbnNpb25OYW1lKSkpOy0xIT09dCYmZS5hdHRyaWJ1dGVzLmV4dG1hcHMuc3BsaWNlKHQsMSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9Pntjb25zdCB0PWUucnRjcEZlZWRiYWNrcy5maW5kSW5kZXgoKGU9PlwiZ29vZy1yZW1iXCI9PT1lLnR5cGUpKTstMSE9PXQmJmUucnRjcEZlZWRiYWNrcy5zcGxpY2UodCwxKX0pKX19ZnVuY3Rpb24gRkYoZSx0LGkpe2lmKEJ3KCkpcmV0dXJuO2lmKFwidmlkZW9cIiE9PWUubWVkaWEubWVkaWFUeXBlKXJldHVybjtpZighKHQgaW5zdGFuY2VvZiBrTSkpcmV0dXJuO2lmKFwidnA5XCIhPT1pJiZcInZwOFwiIT09aSlyZXR1cm47aWYoXCJ2cDhcIj09PWkmJiFDRChcIlNJTVVMQ0FTVFwiKSlyZXR1cm47aWYoXCJ2cDlcIj09PWkmJkNEKFwiRU5BQkxFX1NWQ1wiKSlyZXR1cm47aWYodm9pZCAwPT09dC5fc2NhbGFiaWxpdHlNb2RlfHx0Ll9zY2FsYWJpbGl0eU1vZGUubnVtU3BhdGlhbExheWVyczw9MSlyZXR1cm47Y29uc3Qgbj1cInZwOFwiPT09aT8yOnQuX3NjYWxhYmlsaXR5TW9kZS5udW1TcGF0aWFsTGF5ZXJzLHI9ZS5hdHRyaWJ1dGVzLnNzcmNzWzBdLG89ZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHMuZmluZCgoZT0+XCJGSURcIj09PWUuc2VtYW50aWMmJmUuc3NyY0lkc1swXT09PXIuc3NyY0lkKSkscz17c2VtYW50aWM6XCJTSU1cIixzc3JjSWRzOltyLnNzcmNJZF19O2ZvcihsZXQgdD0xO3Q8bjt0KyspZS5hdHRyaWJ1dGVzLnNzcmNzLnB1c2goe3NzcmNJZDpyLnNzcmNJZCt0LGF0dHJpYnV0ZXM6c04oci5hdHRyaWJ1dGVzKX0pLHMuc3NyY0lkcy5wdXNoKHIuc3NyY0lkK3QpLG8mJihlLmF0dHJpYnV0ZXMuc3NyY3MucHVzaCh7c3NyY0lkOm8uc3NyY0lkc1sxXSt0LGF0dHJpYnV0ZXM6c04oci5hdHRyaWJ1dGVzKX0pLGUuYXR0cmlidXRlcy5zc3JjR3JvdXBzLnB1c2goe3NlbWFudGljOlwiRklEXCIsc3NyY0lkczpbci5zc3JjSWQrdCxvLnNzcmNJZHNbMV0rdF19KSk7ZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHMudW5zaGlmdChzKX1hc3luYyBmdW5jdGlvbiBCRigpe3RyeXtjb25zdCBlPW5ldyBSVENQZWVyQ29ubmVjdGlvbjtlLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIixzZW5kRW5jb2RpbmdzOlt7c2NhbGFiaWxpdHlNb2RlOmlELkwxVDN9XX0pO2NvbnN0IHQ9YXdhaXQgZS5jcmVhdGVPZmZlcigpO2lmKCF0LnNkcClyZXR1cm4gdm9pZCBlLmNsb3NlKCk7Y29uc3QgaT1MRCh0LnNkcCkubWVkaWFEZXNjcmlwdGlvbnNbMF07aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZCgoZT0+XCJodHRwczovL2FvbWVkaWFjb2RlYy5naXRodWIuaW8vYXYxLXJ0cC1zcGVjLyNkZXBlbmRlbmN5LWRlc2NyaXB0b3ItcnRwLWhlYWRlci1leHRlbnNpb25cIj09PWUuZXh0ZW5zaW9uTmFtZSkpO3JldHVybiBlLmNsb3NlKCksbn1jYXRjaChlKXtyZXR1cm59fWFzeW5jIGZ1bmN0aW9uIGpGKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2NvbnN0IGk9bmV3IFJUQ1BlZXJDb25uZWN0aW9uO2kuYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSksaS5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInNlbmRvbmx5XCJ9KSxpLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pLGkuYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSk7Y29uc3Qgbj0oYXdhaXQgaS5jcmVhdGVPZmZlcigpKS5zZHAse3NlbmQ6cixyZWN2Om8sc2VuZHJlY3Y6c309ZnVuY3Rpb24oKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30saT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtjb25zdCBuPXdGKGksZSx0LFwic2VuZG9ubHlcIikscj13RihpLGUsdCxcInJlY3Zvbmx5XCIpLG89e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHM9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LGE9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119O2lmKFdGKG4scixcInZpZGVvRXh0ZW5zaW9uc1wiLG8scyxhKSxXRihuLHIsXCJ2aWRlb0NvZGVjc1wiLG8scyxhKSxXRihuLHIsXCJhdWRpb0V4dGVuc2lvbnNcIixvLHMsYSksV0YobixyLFwiYXVkaW9Db2RlY3NcIixvLHMsYSksQ0QoXCJSQUlTRV9IMjY0X0JBU0VMSU5FX1BSSU9SSVRZXCIpKXtjb25zdCBlPVtdLHQ9W107aWYoYS52aWRlb0NvZGVjcy5mb3JFYWNoKCgoaSxuKT0+e3ZhciByO2lmKFwiaDI2NFwiPT09KG51bGw9PT0ocj1pLnJ0cE1hcCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpKXt2YXIgbyxzO2NvbnN0IHI9YS52aWRlb0NvZGVjc1tuKzFdLGM9ciYmJEYoaSxyKSxkPW51bGw9PT0obz1pLmZtdHApfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnBhcmFtZXRlcnNbXCJwcm9maWxlLWxldmVsLWlkXCJdLGw9bnVsbD09PShzPWkuZm10cCl8fHZvaWQgMD09PXM/dm9pZCAwOnMucGFyYW1ldGVyc1tcInBhY2tldGl6YXRpb24tbW9kZVwiXTshZHx8ZCE9PUNEKFwiRklSU1RfSDI2NF9QUk9GSUxFX0xFVkVMX0lEXCIpfHxDRChcIkZJUlNUX1BBQ0tFVElaQVRJT05fTU9ERVwiKSYmbCE9PUNEKFwiRklSU1RfUEFDS0VUSVpBVElPTl9NT0RFXCIpP2M/dC5wdXNoKFtpLHJdKTp0LnB1c2goW2ldKTpjP2UucHVzaChbaSxyXSk6ZS5wdXNoKFtpXSl9fSkpLGUubGVuZ3RoPjAmJnQubGVuZ3RoPjApe2lQLmRlYnVnKFwicmFpc2luZyBIMjY0IGJhc2VsaW5lIHByb2ZpbGUgcHJpb3JpdHlcIiksYS52aWRlb0NvZGVjcy5mb3JFYWNoKCgoaSxuKT0+e3ZhciByO2lmKFwiaDI2NFwiPT09KG51bGw9PT0ocj1pLnJ0cE1hcCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpKXtjb25zdCByPSRGKGksYS52aWRlb0NvZGVjc1tuKzFdKSxvPWUuc2hpZnQoKXx8dC5zaGlmdCgpfHxbXTtvLmxlbmd0aD4wJiYocj9hLnZpZGVvQ29kZWNzLnNwbGljZShuLDIsLi4ubyk6YS52aWRlb0NvZGVjcy5zcGxpY2UobiwxLC4uLm8pKX19KSk7Y29uc3QgaT1zLnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0LGk7cmV0dXJuXCJoMjY0XCI9PT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSkmJihudWxsPT09KGk9ZS5mbXRwKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSkhPT1DRChcIkZJUlNUX0gyNjRfUFJPRklMRV9MRVZFTF9JRFwiKX0pKTtpZihpLmxlbmd0aD4wKXtjb25zdCBlPXpGKGkscy52aWRlb0NvZGVjcykubWFwKChlPT5lLnBheWxvYWRUeXBlKSksdD1bLi4uaS5tYXAoKGU9PmUucGF5bG9hZFR5cGUpKSwuLi5lXTtzLnZpZGVvQ29kZWNzPXMudmlkZW9Db2RlY3MuZmlsdGVyKChlPT4hTG4odCkuY2FsbCh0LGUucGF5bG9hZFR5cGUpKSl9Q0QoXCJGSUxURVJfU0VORF9IMjY0X0JBU0VMSU5FXCIpJiYoby52aWRlb0NvZGVjcz1vLnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0LGk7cmV0dXJuIShcImgyNjRcIj09PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpKSYmKG51bGw9PT0oaT1lLmZtdHApfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnBhcmFtZXRlcnNbXCJwcm9maWxlLWxldmVsLWlkXCJdKSE9PUNEKFwiRklSU1RfSDI2NF9QUk9GSUxFX0xFVkVMX0lEXCIpKX0pKSl9cmV0dXJue3NlbmQ6byxyZWN2OnMsc2VuZHJlY3Y6YX19cmV0dXJue3NlbmQ6byxyZWN2OnMsc2VuZHJlY3Y6YX19KGUsdCxuKTt0cnl7aS5jbG9zZSgpfWNhdGNoKGUpe31yZXR1cm57c2VuZDpyLHJlY3Y6byxzZW5kcmVjdjpzfX1mdW5jdGlvbiBHRigpe2NvbnN0IGU9e2F1ZGlvQ29kZWNzOltdLHZpZGVvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHQ9d0YoYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxcInJlY3Zvbmx5XCIpLGk9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LG49e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHI9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119O2lmKFdGKGUsdCxcInZpZGVvRXh0ZW5zaW9uc1wiLGksbixyKSxXRihlLHQsXCJ2aWRlb0NvZGVjc1wiLGksbixyKSxXRihlLHQsXCJhdWRpb0V4dGVuc2lvbnNcIixpLG4sciksV0YoZSx0LFwiYXVkaW9Db2RlY3NcIixpLG4sciksQ0QoXCJSQUlTRV9IMjY0X0JBU0VMSU5FX1BSSU9SSVRZXCIpKXtjb25zdCBlPXIudmlkZW9Db2RlY3MuZmluZEluZGV4KChlPT5lLnJ0cE1hcCYmXCJoMjY0XCI9PT1lLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSYmZS5mbXRwJiZcIjQyMDAxZlwiPT09ZS5mbXRwLnBhcmFtZXRlcnNbXCJwcm9maWxlLWxldmVsLWlkXCJdKSk7aWYoLTEhPT1lKXtjb25zdCB0PXIudmlkZW9Db2RlY3MuZmluZEluZGV4KChlPT5lLnJ0cE1hcCYmXCJoMjY0XCI9PT1lLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSkpO2lmKHQ8ZSl7aVAuZGVidWcoXCJyYWlzaW5nIEgyNjQgYmFzZWxpbmUgcHJvZmlsZSBwcmlvcml0eVwiKTtjb25zdCBpPXIudmlkZW9Db2RlY3NbZV07ci52aWRlb0NvZGVjcy5zcGxpY2UoZSwxKSxyLnZpZGVvQ29kZWNzLnNwbGljZSh0LDAsaSl9LTEhPT10JiYobi52aWRlb0NvZGVjcz1uLnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+IShlLnJ0cE1hcCYmXCJoMjY0XCI9PT1lLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSYmZS5mbXRwJiZcIjQyMDAxZlwiIT09ZS5mbXRwLnBhcmFtZXRlcnNbXCJwcm9maWxlLWxldmVsLWlkXCJdKSkpKX19cmV0dXJue3NlbmQ6aSxyZWN2Om4sc2VuZHJlY3Y6cn19ZnVuY3Rpb24gV0YoZSx0LGksbixyLG8pe2lmKFwidmlkZW9FeHRlbnNpb25zXCI9PT1pfHxcImF1ZGlvRXh0ZW5zaW9uc1wiPT09aSl7Y29uc3Qgcz1bXTtyZXR1cm4gZVtpXS5mb3JFYWNoKChlPT57dFtpXS5zb21lKCgodCxpKT0+e2lmKGUuZW50cnk9PT10LmVudHJ5JiZlLmV4dGVuc2lvbk5hbWU9PT10LmV4dGVuc2lvbk5hbWUpcmV0dXJuIHMucHVzaChpKSwhMH0pKT9vW2ldLnB1c2goZSk6bltpXS5wdXNoKGUpfSkpLHZvaWQgdFtpXS5mb3JFYWNoKCgoZSx0KT0+ey0xPT09cy5pbmRleE9mKHQpJiZyW2ldLnB1c2goZSl9KSl9aWYoXCJ2aWRlb0NvZGVjc1wiPT09aXx8XCJhdWRpb0NvZGVjc1wiPT09aSl7Y29uc3Qgcz1bXTtyZXR1cm4gZVtpXS5mb3JFYWNoKChlPT57dFtpXS5zb21lKCgodCxpKT0+e2lmKGUucGF5bG9hZFR5cGU9PT10LnBheWxvYWRUeXBlJiZKU09OLnN0cmluZ2lmeShlKT09PUpTT04uc3RyaW5naWZ5KHQpKXJldHVybiBzLnB1c2goaSksITB9KSk/b1tpXS5wdXNoKGUpOm5baV0ucHVzaChlKX0pKSx2b2lkIHRbaV0uZm9yRWFjaCgoKGUsdCk9PnstMT09PXMuaW5kZXhPZih0KSYmcltpXS5wdXNoKGUpfSkpfX1mdW5jdGlvbiBIRihlKXtjb25zdHtzZW5kOnQscmVjdjppLHNlbmRyZWN2Om59PWU7aWYoIW4pe2lmKCF0fHwhaSl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgbWVyZ2UgcnRwIGNhcGFiaWxpdGllcyBiZWNhdXNlIG9uZSBvZiBzZW5kIG9yIHJlY3YgaXMgZW1wdHkhXCIpO3JldHVybntzZW5kOnQscmVjdjppfX1sZXQgcixvO3JldHVybiB0PyhyPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxyLmF1ZGlvQ29kZWNzPVsuLi50LmF1ZGlvQ29kZWNzLC4uLm4uYXVkaW9Db2RlY3NdLHIudmlkZW9Db2RlY3M9Wy4uLnQudmlkZW9Db2RlY3MsLi4ubi52aWRlb0NvZGVjc10sci5hdWRpb0V4dGVuc2lvbnM9Wy4uLnQuYXVkaW9FeHRlbnNpb25zLC4uLm4uYXVkaW9FeHRlbnNpb25zXSxyLnZpZGVvRXh0ZW5zaW9ucz1bLi4udC52aWRlb0V4dGVuc2lvbnMsLi4ubi52aWRlb0V4dGVuc2lvbnNdKTpyPXNOKG4pLGk/KG89e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LG8uYXVkaW9Db2RlY3M9Wy4uLmkuYXVkaW9Db2RlY3MsLi4ubi5hdWRpb0NvZGVjc10sby52aWRlb0NvZGVjcz1bLi4uaS52aWRlb0NvZGVjcywuLi5uLnZpZGVvQ29kZWNzXSxvLmF1ZGlvRXh0ZW5zaW9ucz1bLi4uaS5hdWRpb0V4dGVuc2lvbnMsLi4ubi5hdWRpb0V4dGVuc2lvbnNdLG8udmlkZW9FeHRlbnNpb25zPVsuLi5pLnZpZGVvRXh0ZW5zaW9ucywuLi5uLnZpZGVvRXh0ZW5zaW9uc10pOm89c04obikse3NlbmQ6cixyZWN2Om99fWZ1bmN0aW9uIEtGKGUpe2lmKFwiYXVkaW9cIiE9PWUubWVkaWEubWVkaWFUeXBlKXJldHVybjtlLmF0dHJpYnV0ZXMucGF5bG9hZHMuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuXCJvcHVzXCI9PT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl9KSkuZm9yRWFjaCgoZT0+e2UuZm10cHx8KGUuZm10cD17cGFyYW1ldGVyczp7fX0pLGUuZm10cC5wYXJhbWV0ZXJzLnN0ZXJlbz1cIjFcIixlLmZtdHAucGFyYW1ldGVyc1tcInNwcm9wLXN0ZXJlb1wiXT1cIjFcIn0pKX1mdW5jdGlvbiBZRihlLHQsaSxuKXtsZXQgcj1bXTtpZihlPT09ZnguVklERU8pe2lmKENEKFwiSDI2NF9QUk9GSUxFX0xFVkVMX0lEXCIpJiZcImgyNjRcIj09PW4mJihyPXQudmlkZW9Db2RlY3MuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIExuKHQ9ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKS5jYWxsKHQsbikmJmUmJmUuZm10cCYmZS5mbXRwLnBhcmFtZXRlcnNbXCJwcm9maWxlLWxldmVsLWlkXCJdPT09Q0QoXCJIMjY0X1BST0ZJTEVfTEVWRUxfSURcIil9KSkpLCFBcnJheS5pc0FycmF5KHIpfHwwPT09ci5sZW5ndGgpe2xldCBlPVtdO2NvbnN0IG89W10scz1bXSxhPVtdO2lmKGkudmlkZW9Db2RlY3MuZm9yRWFjaCgodD0+e2NvbnN0IGk9dC5ydHBNYXAmJnQucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiO0xuKGkpLmNhbGwoaSxuKT9lLnB1c2godCk6TG4oaSkuY2FsbChpLFwidnA5XCIpP28ucHVzaCh0KTpMbihpKS5jYWxsKGksXCJ2cDhcIik/cy5wdXNoKHQpOkxuKGkpLmNhbGwoaSxcImgyNjRcIikmJmEucHVzaCh0KX0pKSwwPT09ZS5sZW5ndGgpe2xldCB0PVwiXCI7MCE9PW8ubGVuZ3RoPyhlPW8sdD1cInZwOVwiKTowIT09cy5sZW5ndGg/KGU9cyx0PVwidnA4XCIpOjAhPT1hLmxlbmd0aCYmKGU9YSx0PVwiaDI2NFwiKSxpUC53YXJuaW5nKFwiY29kZWMgXCIuY29uY2F0KG4sXCIgbm90IGluY2x1ZGVkIGluIHJ0cENhcGFiaWxpdGllcywgZmFsbGJhY2sgdG8gZGVmYXVsdCBwYXlsb2FkczogXCIpLmNvbmNhdCh0KSl9MCE9PWUubGVuZ3RoJiYocj10LnZpZGVvQ29kZWNzLmZpbHRlcigodD0+ZS5zb21lKChlPT5lLnBheWxvYWRUeXBlPT09dC5wYXlsb2FkVHlwZSkpKSkpfWlmKDA9PT1yLmxlbmd0aCYmKGlQLndhcm5pbmcoXCJjb2RlYyBcIi5jb25jYXQobixcIiBub3QgaW5jbHVkZWQgaW4gcnRwQ2FwYWJpbGl0aWVzLCBmYWxsYmFjayB0byBkZWZhdWx0IHBheWxvYWRzOiBcIikuY29uY2F0KHQudmlkZW9Db2RlY3NbMF0ucnRwTWFwJiZ0LnZpZGVvQ29kZWNzWzBdLnJ0cE1hcC5lbmNvZGluZ05hbWUpKSxyPXQudmlkZW9Db2RlY3MpLENEKFwiVVNFX1BVQl9SVFhcIil8fENEKFwiVVNFX1NVQl9SVFhcIikpe2NvbnN0IGU9ekYocix0LnZpZGVvQ29kZWNzKTtyPVsuLi5yLC4uLmVdfX1lbHNle3I9dC5hdWRpb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gTG4odD1lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpLmNhbGwodCxuKX0pKTtjb25zdCBlPXQuYXVkaW9Db2RlY3MuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIExuKHQ9ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKS5jYWxsKHQsXCJyZWRcIil9KSk7MD09PXIubGVuZ3RoJiYoaVAud2FybmluZyhcImNvZGVjIFwiLmNvbmNhdChuLFwiIG5vdCBpbmNsdWRlZCBpbiBydHBDYXBhYmlsaXRpZXMsIGZhbGxiYWNrIHRvIG9wdXNcIikpLHI9dC5hdWRpb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gTG4odD1lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpLmNhbGwodCxcIm9wdXNcIil9KSkpLENEKFwiRU5BQkxFX0FVRElPX1JFRFwiKSYmMCE9PWUubGVuZ3RoJiYocj1bLi4uZSwuLi5yXSl9cmV0dXJuIHJ9ZnVuY3Rpb24gekYoZSx0KXtjb25zdCBpPWUubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKCkpKTtyZXR1cm4gdC5maWx0ZXIoKGU9PmUucnRwTWFwJiZcInJ0eFwiPT09ZS5ydHBNYXAuZW5jb2RpbmdOYW1lJiZlLmZtdHAmJmUuZm10cC5wYXJhbWV0ZXJzLmFwdCYmTG4oaSkuY2FsbChpLGUuZm10cCYmZS5mbXRwLnBhcmFtZXRlcnMuYXB0KSkpfWFzeW5jIGZ1bmN0aW9uIHFGKGUsdCxpKXtjb25zdCBuPXQudG9TdHJpbmcoKSxyPUpGKG4sXCJvZmZlclwiLFwicmVtb3RlXCIsXCJleGNoYW5nZVNEUFwiKTthd2FpdCBlLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6bn0pO2NvbnN0IG89YXdhaXQgZS5jcmVhdGVBbnN3ZXIoKTtpZighby5zZHApdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGdldCBhbnN3ZXIgc2RwXCIpO2xldCBzPW8uc2RwO3M9WEYocyxpfHx7fSksbnVsbD09cnx8cihzfHxcIlwiKSxhd2FpdCBlLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6c30pfWZ1bmN0aW9uIFhGKGUsdCxpKXtjb25zdCBuPUxEKGUpLHt1c2VYUjpyfT10O3JldHVybiBuLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2goKGU9Pnt2YXIgdDtlLmF0dHJpYnV0ZXMubWlkJiYoQXJyYXkuaXNBcnJheShpKSYmIUxuKGkpLmNhbGwoaSxlLmF0dHJpYnV0ZXMubWlkKXx8KFwiYXVkaW9cIj09PWUubWVkaWEubWVkaWFUeXBlJiZLRihlKSxcInZpZGVvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSYmZnVuY3Rpb24oZSl7aWYoXCJ2aWRlb1wiIT09ZS5tZWRpYS5tZWRpYVR5cGUpcmV0dXJuO2lmKCFDRChcIkVOQUJMRV9ET1dOX1NQU19QUFNcIikpcmV0dXJuO2UuYXR0cmlidXRlcy5wYXlsb2Fkcy5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm5cImgyNjRcIj09PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKX0pKS5mb3JFYWNoKChlPT57ZS5mbXRwfHwoZS5mbXRwPXtwYXJhbWV0ZXJzOnt9fSksZS5mbXRwLnBhcmFtZXRlcnNbXCJzcHMtcHBzLWlkci1pbi1rZXlmcmFtZVwiXT1cIjFcIn0pKX0oZSksciYmTG4odD1bXCJhdWRpb1wiLFwidmlkZW9cIl0pLmNhbGwodCxlLm1lZGlhLm1lZGlhVHlwZSkmJmUuYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKChlPT57LTE9PT1lLnJ0Y3BGZWVkYmFja3MuZmluZEluZGV4KChlPT5cInJydHJcIj09PWUudHlwZSkpJiZlLnJ0Y3BGZWVkYmFja3MucHVzaCh7dHlwZTpcInJydHJcIn0pfSkpKSl9KSksa0Qobil9ZnVuY3Rpb24gSkYoZSx0LGksbil7aWYoQ0QoXCJTRFBfTE9HR0lOR1wiKSlyZXR1cm4gaVAudXBsb2FkKFwiZXhjaGFuZ2luZyBcIi5jb25jYXQoaSxcIiBcIikuY29uY2F0KHQsXCIgU0RQIGR1cmluZyBQMlBDb25uZWN0aW9uLlwiKS5jb25jYXQobixcIlxcblwiKSxlKSxcIm9mZmVyXCI9PT10P2U9PntKRihlLFwiYW5zd2VyXCIsXCJsb2NhbFwiPT09aT9cInJlbW90ZVwiOlwibG9jYWxcIixuKX06dm9pZCAwfWFzeW5jIGZ1bmN0aW9uIFFGKGUsdCxpKXt0cnl7dmFyIG47aWYoIXBQKCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnMpcmV0dXJuO2lmKCFmdW5jdGlvbihlKXtyZXR1cm5cInZwOVwiPT09ZXx8XCJhdjFcIj09PWV9KGUpfHwhQ0QoXCJFTkFCTEVfU1ZDXCIpKXJldHVybjtjb25zdCByPXt9LG89e30scz10LmdldFBhcmFtZXRlcnMoKSxhPW51bGw9PT0obj1zLmVuY29kaW5ncyl8fHZvaWQgMD09PW4/dm9pZCAwOm5bMF07by5zY2FsYWJpbGl0eU1vZGU9U0YoaSksYSYmT2JqZWN0LmFzc2lnbihhLG8pLE9iamVjdC5hc3NpZ24ocyxyKSxhd2FpdCB0LnNldFBhcmFtZXRlcnMocyksaVAuZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzIHNjYWxhYmlsaXR5TW9kZSBzdWNjZXNzOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkocy5lbmNvZGluZ3MpKSl9Y2F0Y2goZSl7aVAuZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzIHNjYWxhYmlsaXR5TW9kZSBmYWlsZWRcIixlKX19ZnVuY3Rpb24gWkYoZSl7Y29uc3QgdD1DRChcIkNPTVBBVElCTEVfU0RQX0VYVEVOU0lPTlwiKTtyZXR1cm4hIShBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wKSYmdC5zb21lKCh0PT5MbihlKS5jYWxsKGUsdCkpKX1mdW5jdGlvbiAkRihlLHQpe3RyeXt2YXIgaTtyZXR1cm4obnVsbD09PShpPWUuZm10cCl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGFyYW1ldGVycy5hcHQpPT09dC5wYXlsb2FkVHlwZS50b1N0cmluZygpfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBlQihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gdEIoZSx0KXtyZXR1cm4gdHlwZW9mIENEKGUpPT09dD9DRChlKTp2b2lkIDB9ZnVuY3Rpb24gaUIoKXt0cnl7Y29uc3QgZT1DRChcIkVYUEVSSU1FTlRTXCIpfHx7fTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8QXJyYXkuaXNBcnJheShlKT97fTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9lQihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTplQihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX0oe30sZSl9Y2F0Y2goZSl7cmV0dXJuIGlQLmRlYnVnKFwiaGFuZGxlIGdhdGV3YXkgYXR0cmlidXRlcyBmYWlsZWQ6IFwiLGUpLHt9fX1jb25zdCBuQj17fTtmdW5jdGlvbiByQihlKXsoIShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSkmJmlQLmRlYnVnKFwiaW5zdGFsbCBzZXJ2aWNlIFwiLmNvbmNhdChlLm5hbWUpKSxuQltlLm5hbWVdPWV9ZnVuY3Rpb24gb0IoZSl7Y29uc3QgdD1uQltlXTtpZighdCl0aHJvdyBuZXcgcE8oaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJcIi5jb25jYXQoZSxcIiBub3QgZm91bmQsIHBsZWFzZSB1c2UgQWdvcmFSVEMudXNlKFwiKS5jb25jYXQoZSxcIlNlcnZpY2UpIHRvIGxvYWQgaXQgZmlyc3RcIikpO3JldHVybiB0fWZ1bmN0aW9uIHNCKGUsdCl7cmV0dXJuIG9CKFwiRGF0YVN0cmVhbVwiKS5jcmVhdGUoZSx0KX1mdW5jdGlvbiBhQigpe3JldHVybiBvQihcIkludGVyY2VwdEZyYW1lXCIpLmNyZWF0ZSgpfWZ1bmN0aW9uIGNCKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBkQihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9jQihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpjQihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jb25zdCBsQj1uZXcgTWFwO2NsYXNzIHVCIGV4dGVuZHMgTk97Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfXNldCBzdGF0ZShlKXtpZihlPT09dGhpcy5fc3RhdGUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fc3RhdGU7dGhpcy5fc3RhdGU9ZSxcIkRJU0NPTk5FQ1RFRFwiPT09ZSYmdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uP3RoaXMuZW1pdChzeC5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSxlLHQsdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uKTp0aGlzLmVtaXQoc3guQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsZSx0KX1nZXQgam9pbkdhdGV3YXlTdGFydFRpbWUoKXtyZXR1cm4gdGhpcy5fam9pbkdhdGV3YXlTdGFydFRpbWV9c2V0IGpvaW5HYXRld2F5U3RhcnRUaW1lKGUpe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBzZXQgam9pbkdhdGV3YXlTdGFydFRpbWUgYXQgXCIpLmNvbmNhdChlKSksdGhpcy5fam9pbkdhdGV3YXlTdGFydFRpbWU9ZX1jb25zdHJ1Y3RvcihlLHQpe3ZhciBpLG4scjtzdXBlcigpLGlBKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksaUEodGhpcyxcImpvaW5JbmZvXCIsdm9pZCAwKSxpQSh0aGlzLFwia2V5XCIsdm9pZCAwKSxpQSh0aGlzLFwibnRwT2Zmc2V0XCIsMCksaUEodGhpcyxcInVzaW5nUHJveHlcIiwhMSksaUEodGhpcyxcInNpZ25hbFwiLHZvaWQgMCksaUEodGhpcyxcInJvbGVcIix2b2lkIDApLGlBKHRoaXMsXCJpc1ByZWFsbG9jYXRpb25cIix2b2lkIDApLGlBKHRoaXMsXCJpc1ByZVN1YlwiLHZvaWQgMCksaUEodGhpcyxcImluQ2hhbm5lbEluZm9cIix7am9pbkF0Om51bGwsZHVyYXRpb246MH0pLGlBKHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3N0YXRlXCIsXCJESVNDT05ORUNURURcIiksaUEodGhpcyxcIl9zdGF0c0NvbGxlY3RvclwiLHZvaWQgMCksaUEodGhpcyxcIl9kaXNjb25uZWN0ZWRSZWFzb25cIix2b2lkIDApLGlBKHRoaXMsXCJpc1NpZ25hbFJlY292ZXJcIiwhMSksaUEodGhpcyxcImhhc0NoYW5nZUJHUEFkZHJlc3NcIiwhMSksaUEodGhpcyxcInRyYWZmaWNTdGF0c0ludGVydmFsXCIsdm9pZCAwKSxpQSh0aGlzLFwibmV0d29ya1F1YWxpdHlJbnRlcnZhbFwiLHZvaWQgMCksaUEodGhpcyxcIl9qb2luR2F0ZXdheVN0YXJ0VGltZVwiLDApLGlBKHRoaXMsXCJfc2lnbmFsVGltZW91dFwiLCExKSxpQSh0aGlzLFwiX2NsaWVudFJvbGVPcHRpb25zXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2lzUHJvYWN0aXZlSm9pblwiLCExKSx0aGlzLnN0b3JlPWUsdGhpcy5zcGVjPXQsdGhpcy5zaWduYWw9dGhpcy5zdG9yZS51c2VQMlA/KGk9e3NwZWM6ZEIoZEIoe30sdCkse30se3JldHJ5Q29uZmlnOnQud2Vic29ja2V0UmV0cnlDb25maWd9KSxzdG9yZTplfSxudWxsPT09KG49KHI9b0IoXCJQMlBDaGFubmVsXCIpKS5jcmVhdGVTdWJtb2R1bGUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmNhbGwocixpKSk6dGhpcy5zdG9yZS51c2VEY1NpZ25hbD9mdW5jdGlvbihlKXtyZXR1cm4gb0IoXCJEYXRhQ2hhbm5lbFNpZ25hbFwiKS5jcmVhdGUoZSl9KHtzcGVjOmRCKGRCKHt9LHQpLHt9LHtyZXRyeUNvbmZpZzp0LndlYnNvY2tldFJldHJ5Q29uZmlnfSksc3RvcmU6ZX0pOm5ldyBlRihkQihkQih7fSx0KSx7fSx7cmV0cnlDb25maWc6dC53ZWJzb2NrZXRSZXRyeUNvbmZpZ30pLGUpLHRoaXMuX3N0YXRzQ29sbGVjdG9yPXQuc3RhdHNDb2xsZWN0b3IsdGhpcy5yb2xlPXQucm9sZXx8XCJhdWRpZW5jZVwiLHRoaXMuX2NsaWVudFJvbGVPcHRpb25zPXQuY2xpZW50Um9sZU9wdGlvbnMsdGhpcy5oYW5kbGVTaWduYWxFdmVudHMoKX1zZXRVc2luZ1Byb3h5KGUpe3RoaXMudXNpbmdQcm94eT1lfWFzeW5jIGpvaW4oZSx0LGkpe2lmKHRoaXMuc3RvcmUudXNlRGNTaWduYWwpe2xldCB0PSExO1wiZGlzYWJsZWRcIiE9PWUuY2xvdWRQcm94eVNlcnZlcj8oaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIERjIGlzIG5vdCBzdXBwb3J0ZWQsIGJlY2F1c2UgY2xvdWRQcm94eVNlcnZlciBhcmUgbm90IHN1cHBvcnRlZCAoXCIpLmNvbmNhdChlLmNsb3VkUHJveHlTZXJ2ZXIsXCIpXCIpKSx0PSEwKTpcIlwiLmNvbmNhdChlLmFwUmVzcG9uc2UuY2lkLFwiX1wiKS5jb25jYXQoZS5hcFJlc3BvbnNlLmNlcnQpLmxlbmd0aD4yNTV8fFwiXCIuY29uY2F0KGUuYXBSZXNwb25zZS5jaWQsXCJfXCIpLmNvbmNhdChlLmFwUmVzcG9uc2UuY2VydCkubGVuZ3RoPDIyPyhpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gRGMgaXMgbm90IHN1cHBvcnRlZCwgYmVjYXVzZSB0aWNrZXQgbGVuZ3RoIGlzIGluY29ycmVjdCwgaXQgaGFzIHRvIGJlIGJldHdlZW4gMjIgYW5kIDI1NVwiKSksdD0hMCk6ZS5hcFJlc3BvbnNlLmFkZHJlc3Nlcy5zb21lKChlPT5lLmZpbmdlcnByaW50KSl8fENEKFwiRklOR0VSUFJJTlRcIil8fChpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gRGMgaXMgbm90IHN1cHBvcnRlZCwgYmVjYXVzZSBmaW5nZXJwcmludCBkb2VzIG5vdCBleGlzdFwiKSksdD0hMCksdCYmdGhpcy5yZXNldFNpZ25hbCgpfXRoaXMuc3RvcmUuam9pbkdhdGV3YXlTdGFydCgpLFwiZGlzYWJsZWRcIiE9PWUuY2xvdWRQcm94eVNlcnZlciYmKHRoaXMuaGFzQ2hhbmdlQkdQQWRkcmVzcz0hMCk7Y29uc3Qgbj1EYXRlLm5vdygpO2xldCByPWxCLmdldChlLmNuYW1lKTtpZihyfHwocj1uZXcgTWFwLGxCLnNldChlLmNuYW1lLHIpKSx0aGlzLl9pc1Byb2FjdGl2ZUpvaW49ITAsci5oYXMoZS51aWQpKXtjb25zdCB0PW5ldyB1UChoTy5VSURfQ09ORkxJQ1QpO3Rocm93IGxQLmpvaW5HYXRld2F5KGUuc2lkLHtsdHM6bixzdWNjOiExLGVjOnQuY29kZSxhZGRyOm51bGwsdWlkOmUudWlkLGNpZDplLmNpZCxmaXJzdFN1Y2Nlc3M6dGhpcy5faXNQcm9hY3RpdmVKb2luLGlzUHJveHk6ISFlLnByb3h5U2VydmVyfHx0aGlzLnVzaW5nUHJveHksc2lnbmFsQ2hhbm5lbDp0aGlzLnN0b3JlLnVzZURjU2lnbmFsP1wiMVwiOlwiMFwiLHByZWxvYWQ6ZS5wcmVsb2FkfSksdH1yLnNldChlLnVpZCwhMCksdGhpcy5qb2luSW5mbz1lLHRoaXMua2V5PXQ7bGV0IG89MDt0aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lPW47Y29uc3Qgcz1lLnByb3h5U2VydmVyLGE9dGhpcy5zdG9yZS51c2VEY1NpZ25hbD9cImRhdGFjaGFubmVsXCI6XCJ3ZWJzb2NrZXRcIjt0cnl7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHVzZSBcIikuY29uY2F0KGEsXCIgam9pbiB1aWQgXCIpLmNvbmNhdChvKSk7Y29uc3QgdD1lLmdhdGV3YXlBZGRycy5tYXAoKHQ9PntsZXR7YWRkcmVzczppfT10O2NvbnN0W24scl09aS5zcGxpdChcIjpcIiksbz17aG9zdDpuLHBvcnQ6cn07cmV0dXJuIGUucHJveHlTZXJ2ZXImJihvLnByb3h5PWUucHJveHlTZXJ2ZXIpLG99KSk7bGV0IGk7aT10aGlzLnN0b3JlLnVzZURjU2lnbmFsP2F3YWl0IHRoaXMuc2lnbmFsLmluaXQoZS5hcFJlc3BvbnNlLmFkZHJlc3Nlcyk6YXdhaXQgdGhpcy5zaWduYWwuaW5pdCh0KSxvPWkudWlkLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBcIikuY29uY2F0KGEsXCIgam9pbiB1aWQgXCIpLmNvbmNhdChvLFwiIGNvc3QgXCIpLmNvbmNhdChEYXRlLm5vdygpLXRoaXMuam9pbkdhdGV3YXlTdGFydFRpbWUpKX1jYXRjaCh0KXt2YXIgYztpZih0LmNvZGU9PT1oTy5JTklUX0RBVEFDSEFOTkVMX1RJTUVPVVQmJlwiQWdvcmFSVENTaWduYWxcIj09PXRoaXMuc2lnbmFsLl9fbmFtZV9fKTtlbHNlIGxQLmpvaW5HYXRld2F5KGUuc2lkLHtsdHM6bixzdWNjOiExLGVjOihudWxsPT09KGM9dC5kYXRhKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5kZXNjKXx8dC5jb2RlLGVycm9yTXNnOnQubWVzc2FnZSxhZGRyOnRoaXMuc2lnbmFsLnVybCx1aWQ6ZS51aWQsY2lkOmUuY2lkLGZpcnN0U3VjY2Vzczp0aGlzLl9pc1Byb2FjdGl2ZUpvaW4saXNQcm94eTohIXN8fHRoaXMudXNpbmdQcm94eSxzaWduYWxDaGFubmVsOlwiRGF0YUNoYW5uZWxTaWduYWxcIj09PXRoaXMuc2lnbmFsLl9fbmFtZV9fP1wiMVwiOlwiMFwiLHByZWxvYWQ6ZS5wcmVsb2FkfSk7aWYodCYmdC5jb2RlPT09aE8uSU5JVF9EQVRBQ0hBTk5FTF9USU1FT1VUKXRocm93IGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFVzZXIgam9pbiBkYXRhY2hhbm5lbCBmYWlsZWRcIiksdC50b1N0cmluZygpKSx0aGlzLnJlc2V0U2lnbmFsKCksdDt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gVXNlciBqb2luIGZhaWxlZFwiKSx0LnRvU3RyaW5nKCkpLHIuZGVsZXRlKGUudWlkKSx0aGlzLnNpZ25hbC5jbG9zZSgpLHR9cmV0dXJuIHRoaXMuc3RhdGU9XCJDT05ORUNURURcIix0aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0PURhdGUubm93KCksaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIENvbm5lY3RlZCB0byBnYXRld2F5IHNlcnZlclwiKSksdGhpcy50cmFmZmljU3RhdHNJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy51cGRhdGVUcmFmZmljU3RhdHMoKS5jYXRjaCgoZT0+e2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdldCB0cmFmZmljIHN0YXRzIGVycm9yXCIpLGUudG9TdHJpbmcoKSl9KSl9KSwzZTMpLHRoaXMubmV0d29ya1F1YWxpdHlJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57bmF2aWdhdG9yJiZ2b2lkIDAhPT1uYXZpZ2F0b3Iub25MaW5lJiYhbmF2aWdhdG9yLm9uTGluZT90aGlzLmVtaXQoc3guTkVUV09SS19RVUFMSVRZLHtkb3dubGlua05ldHdvcmtRdWFsaXR5OjYsdXBsaW5rTmV0d29ya1F1YWxpdHk6Nn0pOnRoaXMuX3NpZ25hbFRpbWVvdXQ/dGhpcy5lbWl0KHN4Lk5FVFdPUktfUVVBTElUWSx7ZG93bmxpbmtOZXR3b3JrUXVhbGl0eTo1LHVwbGlua05ldHdvcmtRdWFsaXR5OjV9KTpcIkNPTk5FQ1RFRFwiPT09dGhpcy5zdGF0ZSYmdGhpcy5fc3RhdHNDb2xsZWN0b3IudHJhZmZpY1N0YXRzP3RoaXMuZW1pdChzeC5ORVRXT1JLX1FVQUxJVFkse3VwbGlua05ldHdvcmtRdWFsaXR5OnVGKHRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cy5CX3VucSksZG93bmxpbmtOZXR3b3JrUXVhbGl0eTp1Rih0aGlzLl9zdGF0c0NvbGxlY3Rvci50cmFmZmljU3RhdHMuQl9kbnEpfSk6dGhpcy5lbWl0KHN4Lk5FVFdPUktfUVVBTElUWSx7dXBsaW5rTmV0d29ya1F1YWxpdHk6MCxkb3dubGlua05ldHdvcmtRdWFsaXR5OjB9KX0pLDJlMyksdGhpcy5zdG9yZS5qb2luR2F0ZXdheUVuZCgpLG99YXN5bmMgbGVhdmUoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7aWYoXCJESVNDT05ORUNURURcIiE9PXRoaXMuc3RhdGUpe3QhPT1WTy5GQUxMQkFDSyYmKHRoaXMuc3RhdGU9XCJESVNDT05ORUNUSU5HXCIpO3RyeXtlfHx0aGlzLnNpZ25hbC5jb25uZWN0aW9uU3RhdGUhPT1WVi5DT05ORUNURUR8fGF3YWl0IGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT0xLzA/ZTpycC5yYWNlKFtlLG1OKHQpXSl9KHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuTEVBVkUsdm9pZCAwLCEwKSwzZTMpfWNhdGNoKGUpe2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGxlYXZlIHJlcXVlc3QgZmFpbGVkLCBpZ25vcmVcIiksZSl9dGhpcy5zaWduYWwuY2xvc2UodCksdCE9PVZPLkZBTExCQUNLJiYodGhpcy5zdGF0ZT1cIkRJU0NPTk5FQ1RFRFwiKSx0aGlzLnJlc2V0KCl9fWFzeW5jIHB1Ymxpc2goZSx0LGkpe2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7Y29uc3Qgbj17c3RhdGU6XCJvZmZlclwiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLG9ydGM6dCxtb2RlOnRoaXMuc3BlYy5tb2RlLGV4dGVuZDpDRChcIlBVQl9FWFRFTkRcIiksdHdjYzohIUNEKFwiUFVCTElTSF9UV0NDXCIpLHJ0eDohIUNEKFwiVVNFX1BVQl9SVFhcIil9O3RyeXtyZXR1cm4oYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5QVUJMSVNILG4sITApKS5fbWVzc2FnZX1jYXRjaChuKXtpZihpJiZuLmRhdGEmJm4uZGF0YS5jb2RlPT09VVYuRVJSX1BVQkxJU0hfUkVRVUVTVF9JTlZBTElEKXJldHVybiBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSByZWNlaXZlIHB1Ymxpc2ggZXJyb3IgY29kZSwgcmV0cnlcIiksbi50b1N0cmluZygpKSxhd2FpdCB0aGlzLnRyeVVucHViQmVmb3JlUmVwdWIoZSx0KSx0aGlzLnB1Ymxpc2goZSx0LCExKTt0aHJvdyBufX1hc3luYyBwdWJsaXNoRGF0YUNoYW5uZWwoZSx0LGkpe3ZhciBuO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7Y29uc3Qgcj17c3RyZWFtX2lkOnQuc3RyZWFtSWQsb3JkZXJlZDp0Lm9yZGVyZWQ/MTowLG1heF9yZXRyYW5zX3RpbWVzOm51bGwhPT0obj10Lm1heFJldHJhbnNtaXRzKSYmdm9pZCAwIT09bj9uOjEwLGNoYW5uZWxfaWQ6dC5jaGFubmVsSWQsbWV0YWRhdGE6dC5tZXRhZGF0YX07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuUFVCTElTSF9EQVRBU1RSRUFNLHIsITApfWNhdGNoKG4pe2lmKGkmJm4uZGF0YSYmbi5kYXRhLmNvZGU9PT1VVi5FUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSUQpcmV0dXJuIGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHJlY2VpdmUgcHVibGlzaCBkYXRhY2hhbm5lbHMgZXJyb3IgY29kZSwgcmV0cnlcIiksbi50b1N0cmluZygpKSxhd2FpdCB0aGlzLnRyeVVucHViRGF0YUNoYW5uZWxCZWZvcmVSZXB1YihlLHQpLHRoaXMucHVibGlzaERhdGFDaGFubmVsKGUsdCwhMSk7dGhyb3cgbn19YXN5bmMgdW5wdWJsaXNoKGUsdCl7dHJ5e2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5VTlBVQkxJU0gse3N0cmVhbV9pZDp0LG9ydGM6ZX0sITApfWNhdGNoKGUpe2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHVucHVibGlzaCB3YXJuaW5nOiBcIiksZSl9fWFzeW5jIHVucHVibGlzaERhdGFDaGFubmVsKGUpe3RyeXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuc3RhdGUpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2F3YWl0IHJwLmFsbChlLm1hcCgoZT0+dGhpcy5zaWduYWwucmVxdWVzdChGVi5VTlBVQkxJU0hfREFUQVNUUkVBTSx7Y2hhbm5lbF9pZDplfSwhMCkpKSl9Y2F0Y2goZSl7aVAud2FybmluZyhcInVucHVibGlzaCBkYXRhY2hhbm5lbHMgd2FybmluZzogXCIsZSl9fWFzeW5jIHByZXN1YnNjcmliZShlLHQsaSl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHJlc3Vic2NyaWJlIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2NvbnN0IG49e3N0cmVhbV9pZDplLHN0cmVhbV90eXBlOnQsbW9kZTp0aGlzLnNwZWMubW9kZSxjb2RlYzp0aGlzLnNwZWMuY29kZWMscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsdHdjYzohIUNEKFwiU1VCU0NSSUJFX1RXQ0NcIikscnR4OiEhQ0QoXCJVU0VfU1VCX1JUWFwiKXx8dm9pZCAwLGV4dGVuZDpDRChcIlNVQl9FWFRFTkRcIiksc3ZjOkFycmF5LmlzQXJyYXkoQ0QoXCJTVkNcIikpJiYwIT09Q0QoXCJTVkNcIikubGVuZ3RoP0NEKFwiU1ZDXCIpOnZvaWQgMH07dHJ5e3JldHVybiBhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KEZWLlBSRV9TVUJTQ1JJQkUsbiwhMCl9Y2F0Y2gobil7aWYoaSYmbi5kYXRhJiZuLmRhdGEuY29kZT09PVVWLkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEKXJldHVybiBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBwcmUtc3Vic2NyaWJlIGVycm9yLCByZXRyeVwiKSxuLnRvU3RyaW5nKCkpLHRoaXMucHJlc3Vic2NyaWJlKGUsdCwhMSk7dGhyb3cgbn19YXN5bmMgc3Vic2NyaWJlKGUsdCxpKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuc3RhdGUpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBzdWJzY3JpYmUgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7Y29uc3Qgbj17c3RyZWFtX2lkOmUsc3RyZWFtX3R5cGU6dC5zdHJlYW1fdHlwZSxtb2RlOnRoaXMuc3BlYy5tb2RlLGNvZGVjOnRoaXMuc3BlYy5jb2RlYyxwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCx0d2NjOiEhQ0QoXCJTVUJTQ1JJQkVfVFdDQ1wiKSxydHg6ISFDRChcIlVTRV9TVUJfUlRYXCIpLGV4dGVuZDpDRChcIlNVQl9FWFRFTkRcIiksc3NyY0lkOnQuc3NyY0lkLHN2YzpBcnJheS5pc0FycmF5KENEKFwiU1ZDXCIpKSYmMCE9PUNEKFwiU1ZDXCIpLmxlbmd0aD9DRChcIlNWQ1wiKTp2b2lkIDB9O3RyeXtyZXR1cm4oYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5TVUJTQ1JJQkUsbiwhMCkpLl9tZXNzYWdlfWNhdGNoKG4pe2lmKGkmJm4uZGF0YSYmbi5kYXRhLmNvZGU9PT1VVi5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRClyZXR1cm4gaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcmVjZWl2ZXIgc3Vic2NyaWJlIGVycm9yIGNvZGUsIHJldHJ5XCIpLG4udG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlVbnN1YkJlZm9yZVJlc3ViKGUsdCksYXdhaXQgdGhpcy5zdWJzY3JpYmUoZSx0LCExKTt0aHJvdyBufX1hc3luYyBzdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQsaSl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc3Vic2NyaWJlIGRhdGFjaGFubmVsIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2NvbnN0IG49e3VpZDplLHN0cmVhbV9pZDp0LmlkLGNoYW5uZWxfaWQ6dC5kYXRhY2hhbm5lbElkfTt0cnl7cmV0dXJuIHZvaWQgYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5TVUJTQ1JJQkVfREFUQVNUUkVBTSxuLCEwKX1jYXRjaChuKXtpZihpJiZuLmRhdGEmJm4uZGF0YS5jb2RlPT09VVYuRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSUQpcmV0dXJuIGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHJlY2VpdmVyIHN1YnNjcmliZSBkYXRhY2hhbm5lbCBlcnJvciBjb2RlLCByZXRyeVwiKSxuLnRvU3RyaW5nKCkpLGF3YWl0IHRoaXMudHJ5VW5zdWJEYXRhQ2hhbm5lbEJlZm9yZVJlc3ViKGUsdCksYXdhaXQgdGhpcy5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQsITEpO3Rocm93IG59fWFzeW5jIHN1YnNjcmliZUFsbChlLHQpe2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IG1hc3NTdWJzY3JpYmUgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7Y29uc3QgaT17cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsdXNlcnM6ZSxkdHg6ITEscnR4OiEhQ0QoXCJVU0VfU1VCX1JUWFwiKSx0d2NjOiEhQ0QoXCJTVUJTQ1JJQkVfVFdDQ1wiKSxzdmM6QXJyYXkuaXNBcnJheShDRChcIlNWQ1wiKSkmJjAhPT1DRChcIlNWQ1wiKS5sZW5ndGg/Q0QoXCJTVkNcIik6dm9pZCAwfTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuU1VCU0NSSUJFX1NUUkVBTVMsaSwhMCl9Y2F0Y2goaSl7aWYodCYmaS5kYXRhJiZpLmRhdGEuY29kZT09PVVWLkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEKXJldHVybiBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSByZWNlaXZlciBtYXNzU3Vic2NyaWJlIGVycm9yIGNvZGUsIHJldHJ5XCIpLGkudG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlNYXNzVW5zdWJCZWZvcmVSZXN1YihlKSxhd2FpdCB0aGlzLnN1YnNjcmliZUFsbChlLCExKTt0aHJvdyBpfX1hc3luYyBzZXRWaWRlb1Byb2ZpbGUoZSl7Y29uc3QgdD1mdW5jdGlvbihlKXtpZighKGUuYml0cmF0ZU1heCYmZS5iaXRyYXRlTWluJiZlLmZyYW1lUmF0ZSYmZS5oZWlnaHQmJmUud2lkdGgpKXJldHVybjtsZXQgdD1lLmZyYW1lUmF0ZSxpPWUud2lkdGgsbj1lLmhlaWdodCxyPSEwO3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0JiYodD10LmV4YWN0fHx0LmlkZWFsfHx0Lm1heHx8dC5taW58fDAsdHx8KHI9ITEpKSxcIm51bWJlclwiIT10eXBlb2YgaSYmKGk9aS5leGFjdHx8aS5pZGVhbHx8aS5tYXh8fGkubWlufHwwLGl8fChyPSExKSksXCJudW1iZXJcIiE9dHlwZW9mIG4mJihuPW4uZXhhY3R8fG4uaWRlYWx8fG4ubWF4fHxuLm1pbnx8MCx0fHwocj0hMSkpLHI/e3N0cmVhbV90eXBlOjAsd2lkdGg6aSxoZWlnaHQ6bixmcHM6dCxzdGFydF9icHM6MWUzKmUuYml0cmF0ZU1heCxtaW5fYnBzOjFlMyplLmJpdHJhdGVNaW4sdGFyZ2V0X2JwczoxZTMqZS5iaXRyYXRlTWF4fTp2b2lkIDB9KGUpO2lmKHQpcmV0dXJuIHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuU0VUX1ZJREVPX1BST0ZJTEUsdCk7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGVuY29kZXIgY29uZmlnIGlzIG5vdCBjb21wbGV0ZSwgZG8gbm90IHJlcG9ydCB0byBnYXRld2F5XCIpKX1hc3luYyB1bnN1YnNjcmliZShlLHQpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KEZWLlVOU1VCU0NSSUJFLHtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxvcnRjOmUsc3RyZWFtX2lkOnR9LCEwKX1jYXRjaChlKXtpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB1bnN1YnNjcmliZSB3YXJuaW5nOiBcIiksZSl9fWFzeW5jIHVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXt0cnl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTthd2FpdCBycC5hbGwoZS5tYXAoKGU9PnRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuVU5TVUJTQ1JJQkVfREFUQVNUUkVBTSx7c3RyZWFtX2lkOmUsdWlkOnR9LCEwKSkpKX1jYXRjaChlKXtpUC53YXJuaW5nKFwidW5zdWJzY3JpYmVEYXRhQ2hhbm5lbCB3YXJuaW5nOiBcIixlKX19YXN5bmMgbWFzc1Vuc3Vic2NyaWJlKGUpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KEZWLlVOU1VCU0NSSUJFX1NUUkVBTVMsZSwhMCl9Y2F0Y2goZSl7aVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gbWFzc1Vuc3Vic2NyaWJlQWxsIHdhcm5pbmc6IFwiKSxlKX19YXN5bmMgcmVjb25uZWN0UEMoZSl7Y29uc3R7aWNlUGFyYW1ldGVyczp0LGR0bHNQYXJhbWV0ZXJzOmkscnRwQ2FwYWJpbGl0aWVzOm59PWU7cmV0dXJue2dhdGV3YXlFc3RhYmxpc2hQYXJhbXM6YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5DT05ORUNUX1BDLHtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6dGhpcy5zdG9yZS51aWQsb3J0Yzp7aWNlUGFyYW1ldGVyczp0LGR0bHNQYXJhbWV0ZXJzOmkscnRwQ2FwYWJpbGl0aWVzOm59fSwhMCksZ2F0ZXdheUFkZHJlc3M6dGhpcy5nZXRDdXJyZW50R2F0ZXdheUFkZHJlc3MoKX19Z2V0R2F0ZXdheUluZm8oKXtyZXR1cm4gdGhpcy5zaWduYWwucmVxdWVzdChGVi5HQVRFV0FZX0lORk8pfWFzeW5jIHJlbmV3VG9rZW4oZSl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5SRU5FV19UT0tFTixlKSx0aGlzLmtleT1lLnRva2VufXVwZGF0ZUNsaWVudFJvbGUoZSx0KXt0JiYodGhpcy5fY2xpZW50Um9sZU9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSx0KSksQ0QoXCJDTElFTlRfUk9MRV9PUFRJT05TXCIpJiYoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFNldCByb2xlT3B0aW9ucyBmb3IgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShDRChcIkNMSUVOVF9ST0xFX09QVElPTlNcIikpLFwiIGluc3RlYWQgb2YgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0aGlzLl9jbGllbnRSb2xlT3B0aW9ucyksXCIgXCIpKSx0aGlzLl9jbGllbnRSb2xlT3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LENEKFwiQ0xJRU5UX1JPTEVfT1BUSU9OU1wiKSkpLHRoaXMucm9sZT1lfWFzeW5jIHNldENsaWVudFJvbGUoZSx0KXtpZih0JiYodGhpcy5fY2xpZW50Um9sZU9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSx0KSksQ0QoXCJDTElFTlRfUk9MRV9PUFRJT05TXCIpJiYodGhpcy5fY2xpZW50Um9sZU9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSxDRChcIkNMSUVOVF9ST0xFX09QVElPTlNcIikpLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBTZXQgcm9sZU9wdGlvbnMgZm9yIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoQ0QoXCJDTElFTlRfUk9MRV9PUFRJT05TXCIpKSxcIiBpbnN0ZWFkIG9mIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodGhpcy5fY2xpZW50Um9sZU9wdGlvbnMpLFwiIFwiKSkpLFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlKXJldHVybiB2b2lkKHRoaXMucm9sZT1lKTtsZXQgaSxuPTA7XCJhdWRpZW5jZVwiPT09ZT90aGlzLl9jbGllbnRSb2xlT3B0aW9ucyYmdGhpcy5fY2xpZW50Um9sZU9wdGlvbnMuZGVsYXk/KGk9dGhpcy5fY2xpZW50Um9sZU9wdGlvbnMuZGVsYXksbj0xKTpuPXRoaXMuX2NsaWVudFJvbGVPcHRpb25zJiZ0aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5sZXZlbD90aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5sZXZlbDoyOm49MDtjb25zdCByPU9iamVjdC5hc3NpZ24oe30sdCk7ZGVsZXRlIHIuZGVsYXksZGVsZXRlIHIubGV2ZWwsYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5TRVRfQ0xJRU5UX1JPTEUsZEIoZEIoe3JvbGU6ZSxsZXZlbDpuLGRlbGF5Oml9LHIpLHt9LHtjbGllbnRfdHM6RGF0ZS5ub3coKX0pKSx0aGlzLnJvbGU9ZX1hc3luYyBzZXREdWFsU3RyZWFtTW9kZShlLHQsaSl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5TRVRfRFVBTF9TVFJFQU1fTU9ERSx7bW9kZTplfSxpLHQpfWFzeW5jIHNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZShlLHQpe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuU1dJVENIX1ZJREVPX1NUUkVBTSx7c3RyZWFtX2lkOmUsc3RyZWFtX3R5cGU6dH0pfWFzeW5jIHNldERlZmF1bHRSZW1vdGVWaWRlb1N0cmVhbVR5cGUoZSl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5ERUZBVUxUX1ZJREVPX1NUUkVBTSx7c3RyZWFtX3R5cGU6ZX0pfWFzeW5jIHNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKGUsdCl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5TRVRfRkFMTEJBQ0tfT1BUSU9OLHtzdHJlYW1faWQ6ZSxmYWxsYmFja190eXBlOnR9KX1hc3luYyBwaWNrU1ZDTGF5ZXIoZSx0KXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KEZWLlBJQ0tfU1ZDX0xBWUVSLHtzdHJlYW1faWQ6ZSxzcGF0aWFsX2xheWVyOnQuc3BhdGlhbExheWVyLHRlbXBvcmFsX2xheWVyOnQudGVtcG9yYWxMYXllcn0pfWFzeW5jIHNldFJUTTJGbGFnKGUpe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuU0VUX1JUTTJfRkxBRyx7cnRtMl9mbGFnOmV9KX1hc3luYyBzZW5kRXh0ZW5zaW9uTWVzc2FnZShlLHQsaSl7aWYodGhpcy5zdG9yZS51c2VQMlApcmV0dXJuIHRoaXMuc2lnbmFsLnNlbmRFeHRlbnNpb25NZXNzYWdlKGUsdCxpKX1nZXRJbkNoYW5uZWxJbmZvKCl7cmV0dXJuIHRoaXMuaW5DaGFubmVsSW5mby5qb2luQXQmJih0aGlzLmluQ2hhbm5lbEluZm8uZHVyYXRpb249RGF0ZS5ub3coKS10aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0KSxkQih7fSx0aGlzLmluQ2hhbm5lbEluZm8pfWFzeW5jIHNldENvbmZpZ3VyZShlKXtpZihlJiZBcnJheS5pc0FycmF5KGUpJiYwIT09ZS5sZW5ndGgpcmV0dXJuIHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuQ09ORklHVVJFLGUpfWFzeW5jIGdldEdhdGV3YXlWZXJzaW9uKCl7cmV0dXJuKGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuR0FURVdBWV9JTkZPKSkudmVyc2lvbn1yZXNldCgpe2lmKHRoaXMuaW5DaGFubmVsSW5mby5qb2luQXQmJih0aGlzLmluQ2hhbm5lbEluZm8uZHVyYXRpb249RGF0ZS5ub3coKS10aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0LHRoaXMuaW5DaGFubmVsSW5mby5qb2luQXQ9bnVsbCksdGhpcy50cmFmZmljU3RhdHNJbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudHJhZmZpY1N0YXRzSW50ZXJ2YWwpLHRoaXMudHJhZmZpY1N0YXRzSW50ZXJ2YWw9dm9pZCAwKSx0aGlzLmpvaW5JbmZvKXtjb25zdCBlPWxCLmdldCh0aGlzLmpvaW5JbmZvLmNuYW1lKTtlJiZlLmRlbGV0ZSh0aGlzLmpvaW5JbmZvLnVpZCl9dGhpcy5qb2luSW5mbz12b2lkIDAsdGhpcy5rZXk9dm9pZCAwLHRoaXMubmV0d29ya1F1YWxpdHlJbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMubmV0d29ya1F1YWxpdHlJbnRlcnZhbCksdGhpcy5uZXR3b3JrUXVhbGl0eUludGVydmFsPXZvaWQgMCksdGhpcy51c2luZ1Byb3h5PSExfXVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCl7aWYoIXRoaXMuam9pbkluZm8pcmV0dXJuO2NvbnN0IGU9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuIHQ9ZS5zdGFydHNXaXRoKFwiZGNcIik/ZS5tYXRjaCgvKGRjXFw6XFwvXFwvKT8oW146XSspOihcXGQrKS8pOmUubWF0Y2goLyh3c3NcXDpcXC9cXC8pPyhbXjpdKyk6KFxcZCspLyksdD97dXNlcm5hbWU6RUQudXNlcm5hbWUscGFzc3dvcmQ6RUQucGFzc3dvcmQsdHVyblNlcnZlclVSTDp0WzJdLHRjcHBvcnQ6cGFyc2VJbnQodFszXSkrMzAsdWRwcG9ydDpwYXJzZUludCh0WzNdKSszMCxmb3JjZXR1cm46ITF9Om51bGx9KChcImRpc2FibGVkXCI9PT10aGlzLmpvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXI/dGhpcy5zaWduYWwudXJsOnRoaXMuam9pbkluZm8uZ2F0ZXdheUFkZHJzW3RoaXMuc2lnbmFsLmN1cnJlbnRVUkxJbmRleF0uYWRkcmVzcyl8fFwiXCIpO3RoaXMuam9pbkluZm8udHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXk9W10sZSYmXCJvZmZcIiE9PXRoaXMuam9pbkluZm8udHVyblNlcnZlci5tb2RlJiZcImRpc2FibGVkXCI9PT10aGlzLmpvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXImJnRoaXMuam9pbkluZm8udHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkucHVzaChkQihkQih7fSxFRCkse30se3R1cm5TZXJ2ZXJVUkw6ZS50dXJuU2VydmVyVVJMLHRjcHBvcnQ6ZS50Y3Bwb3J0LHVkcHBvcnQ6ZS51ZHBwb3J0LHVzZXJuYW1lOnRoaXMuam9pbkluZm8udWlkLnRvU3RyaW5nKCkscGFzc3dvcmQ6dGhpcy5qb2luSW5mby50b2tlbn0pKX1hc3luYyB1cGRhdGVUcmFmZmljU3RhdHMoKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSlyZXR1cm47Y29uc3QgZT1hd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KEZWLlRSQUZGSUNfU1RBVFMsdm9pZCAwLCEwKTtlLnRpbWVzdGFtcD1EYXRlLm5vdygpLG51bGwhPWUubnRwX29mZnNldCYmKHRoaXMubnRwT2Zmc2V0PWUubnRwX29mZnNldCksZS5wZWVyX2RlbGF5LmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cyYmdGhpcy5fc3RhdHNDb2xsZWN0b3IudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZCgodD0+dC5wZWVyX3VpZD09PWUucGVlcl91aWQpKTt0JiZ0LkJfc3QhPT1lLkJfc3QmJm9OKCgoKT0+e3RoaXMuZW1pdChzeC5TVFJFQU1fVFlQRV9DSEFOR0UsZS5wZWVyX3VpZCxlLkJfc3QpfSkpfSkpLHRoaXMuX3N0YXRzQ29sbGVjdG9yLnVwZGF0ZVRyYWZmaWNTdGF0cyhlKX1nZXRKb2luTWVzc2FnZShlKXt2YXIgdCxpLG4scjtpZighdGhpcy5qb2luSW5mb3x8IXRoaXMua2V5KXRocm93IG5ldyB1UChoTy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBnZW5lcmF0ZSBqb2luIG1lc3NhZ2UsIG5vIGpvaW4gaW5mb1wiKTtjb25zdCBvPU9iamVjdC5hc3NpZ24oe30sdGhpcy5qb2luSW5mby5hcFJlc3BvbnNlKTtsZXQgcz1DRChcIlJFUE9SVF9BUFBfU0NFTkFSSU9cIik7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHMpdHJ5e3M9SlNPTi5zdHJpbmdpZnkocyl9Y2F0Y2goZSl7cz12b2lkIDB9dmFyIGE7cyYmcy5sZW5ndGg+MTI4JiYocz12b2lkIDApLHRoaXMuc3RvcmUuaGFzU3RhcnRKb2luQ2hhbm5lbD0hMCx0aGlzLnN0b3JlLmlzQUJUZXN0U3VjY2Vzc3x8dGhpcy5lbWl0KHN4LlVQREFURV9HQVRFV0FZX0NPTkZJRyksYT10aGlzLnN0b3JlLmNsaWVudElkLExuKFlVKS5jYWxsKFlVLGEpfHxZVS5wdXNoKGEpO2NvbnN0IGM9bVAodGhpcy5zdG9yZSksZD0hKG51bGw9PT0odD10aGlzLmlzUHJlYWxsb2NhdGlvbil8fHZvaWQgMD09PXR8fCF0LmNhbGwodGhpcykpLGw9ZlAodGhpcy5zdG9yZSksdT1pQigpLGg9R3coODcpfHx4dygpfHxZdygxMTcpLHA9KGZ1bmN0aW9uKCl7Y29uc3QgZT1EdygpO2lmKGUubmFtZSE9PWJ3LlNBRkFSSXx8IWUuYnJvd3NlclZlcnNpb24pcmV0dXJuITE7Y29uc3QgdD1lLmJyb3dzZXJWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gTnVtYmVyKHRbMF0pPjE4fHwxOD09PU51bWJlcih0WzBdKSYmTnVtYmVyKHRbMV0pPj00fSgpfHxxdygxOCw0LCExKSkmJkp3KDE4LDYsITApJiZcImgyNjRcIj09PXRoaXMuc3BlYy5jb2RlYyYmQ0QoXCJFTkFCTEVfQUJTU0VORFRJTUVfQVNfU0VOVFRTXCIpLF89IShcIkNOXCIhPT0obnVsbD09PShpPW8uZGV0YWlsKXx8dm9pZCAwPT09aT92b2lkIDA6aVszXSl8fCFDRChcIkVOQUJMRV9RVUFMSVRZX0ZBTExCQUNLXCIpKSYmQ0QoXCJFTkFCTEVfUVVBTElUWV9GQUxMQkFDS1wiKSxFPSEhQ0QoXCJFTkFCTEVfQVBfTVVMVElfSVBcIikmJlwibXVsdGktaXBcIj09PShudWxsPT09KG49by5kZXRhaWwpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuWzVdKSxtPWRCKHtsaWNlbnNlOnRoaXMuam9pbkluZm8ubGljZW5zZSxwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzZXNzaW9uX2lkOnRoaXMuam9pbkluZm8uc2lkLGFwcF9pZDp0aGlzLmpvaW5JbmZvLmFwcElkLGNoYW5uZWxfa2V5OnRoaXMua2V5LGNoYW5uZWxfbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHNka192ZXJzaW9uOmhELGJyb3dzZXI6bmF2aWdhdG9yLnVzZXJBZ2VudCxwcm9jZXNzX2lkOkNEKFwiUFJPQ0VTU19JRFwiKSxtb2RlOnRoaXMuc3RvcmUudXNlUDJQP1wicDJwXCI6dGhpcy5zcGVjLm1vZGUsY29kZWM6dGhpcy5zcGVjLmNvZGVjLHJvbGU6dGhpcy5yb2xlLGhhc19jaGFuZ2VkX2dhdGV3YXk6RXx8dGhpcy5oYXNDaGFuZ2VCR1BBZGRyZXNzLGFwX3Jlc3BvbnNlOm8sZXh0ZW5kOkNEKFwiSk9JTl9FWFRFTkRcIiksZGV0YWlsczp7Njp0aGlzLmpvaW5JbmZvLnN0cmluZ1VpZCxjc2VydmljZV9tYXA6XCJwcm94eTNcIj09PXRoaXMuam9pbkluZm8uY2xvdWRQcm94eVNlcnZlcj9cIjFcIjpcInByb3h5NVwiPT09dGhpcy5qb2luSW5mby5jbG91ZFByb3h5U2VydmVyP1wiMlwiOnZvaWQgMH0sZmVhdHVyZXM6e3Jlam9pbjohMH0sb3B0aW9uYWxJbmZvOnRoaXMuam9pbkluZm8ub3B0aW9uYWxJbmZvLGFwcFNjZW5hcmlvOnMsYXR0cmlidXRlczp7dXNlckF0dHJpYnV0ZXM6ZEIoZEIoe2VuYWJsZUVuY29kZWRUcmFuc2Zvcm06KCEhQ0QoXCJFTkFCTEVfQVVESU9fTUVUQURBVEFcIil8fCEhQ0QoXCJFTkFCTEVfQVVESU9fUFRTXCIpKSYmaHx8ISFDRChcIkVOQUJMRV9BVURJT19UT1BOXCIpJiZIdyhidy5DSFJPTUUsODcsMTE2KXx8dm9pZCAwLGVuYWJsZUF1ZGlvTWV0YWRhdGE6ISFDRChcIkVOQUJMRV9BVURJT19NRVRBREFUQVwiKSYmaCxlbmFibGVBdWRpb1B0czohIUNEKFwiRU5BQkxFX0FVRElPX1BUU1wiKSYmaCx0b3BuU21vb3RoTGV2ZWw6Q0QoXCJUT1BOX1NNT09USF9MRVZFTFwiKSx0b3BuTmV3U3BlYWtlckRlbGF5OkNEKFwiVE9QTl9ORVdfU1BFQUtFUl9ERUxBWVwiKSx0b3BuU3dpdGNoSG9sZE1zOkNEKFwiVE9QTl9TV0lUQ0hfSE9MRF9NU1wiKSx0b3BuQXVkaW9HYWluOkNEKFwiVE9QTl9BVURJT19HQUlOXCIpLGVuYWJsZU5ldHdvcmtRdWFsaXR5UHJvYmU6dGhpcy5zdG9yZS5uZXR3b3JrUXVhbGl0eVByb2JlLGVuYWJsZVB1Ymxpc2hlZFVzZXJMaXN0OkNEKFwiRU5BQkxFX1BVQkxJU0hFRF9VU0VSX0xJU1RcIiksbWF4U3Vic2NyaXB0aW9uOkNEKFwiTUFYX1NVQlNDUklQVElPTlwiKSxzdWJzY3JpYmVBdWRpb0ZpbHRlclRvcE46dEIoXCJTVUJTQ1JJQkVfQVVESU9fRklMVEVSX1RPUE5cIixcIm51bWJlclwiKSxlbmFibGVQdWJsaXNoQXVkaW9GaWx0ZXI6dEIoXCJFTkFCTEVfUFVCTElTSF9BVURJT19GSUxURVJcIixcImJvb2xlYW5cIiksZW5hYmxlVXNlckxpY2Vuc2VDaGVjazp0QihcIkVOQUJMRV9VU0VSX0xJQ0VOU0VfQ0hFQ0tcIixcImJvb2xlYW5cIiksZW5hYmxlUlRYOiEwPT09Q0QoXCJVU0VfUFVCX1JUWFwiKXx8ITA9PT1DRChcIlVTRV9TVUJfUlRYXCIpfHx2b2lkIDAsZGlzYWJsZUZFQzpDRChcIkRJU0FCTEVfRkVDXCIpLGVuYWJsZU5UUFJlcG9ydDohIUNEKFwiRU5BQkxFX05UUF9SRVBPUlRcIil8fHZvaWQgMCxlbmFibGVJbnN0YW50VmlkZW86bCxlbmFibGVGdWxsbGlua0F2U3luYzohIUNEKFwiRU5BQkxFX0ZVTExfTElOS19BVl9TWU5DXCIpfHx2b2lkIDAsZW5hYmxlRGF0YVN0cmVhbTI6dEIoXCJFTkFCTEVfREFUQVNUUkVBTV8yXCIsXCJib29sZWFuXCIpLGVuYWJsZUF1dEZlZWRiYWNrOiEhQ0QoXCJGT1JDRV9FTkFCTEVfQVVUX0NDXCIpfHwhRVAoKSYmKCEhQ0QoXCJFTkFCTEVfQVVUX0ZFRURCQUNLXCIpfHx2b2lkIDApLHJ0bTJGbGFnOlwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmpvaW5JbmZvLnJ0bUZsYWc/dGhpcy5qb2luSW5mby5ydG1GbGFnOnZvaWQgMCxlbmFibGVVc2VyQXV0b1JlYmFsYW5jZUNoZWNrOiEhQ0QoXCJFTkFCTEVfVVNFUl9BVVRPX1JFQkFMQU5DRV9DSEVDS1wiKSxlbmFibGVYUjp0QihcIlVTRV9YUlwiLFwiYm9vbGVhblwiKSxlbmFibGVMb3NzYmFzZWRCd2U6dEIoXCJFTkFCTEVfTE9TU0JBU0VEX0JXRVwiLFwiYm9vbGVhblwiKSxlbmFibGVBdXRDQzohIUNEKFwiRk9SQ0VfRU5BQkxFX0FVVF9DQ1wiKXx8IUVQKCkmJighIUNEKFwiRU5BQkxFX0FVVF9DQ1wiKXx8dm9pZCAwKSxlbmFibGVDQ0ZhbGxiYWNrOnRCKFwiRU5BQkxFX0NDX0ZBTExCQUNLXCIsXCJib29sZWFuXCIpLGVuYWJsZVByZWFsbG9jUEM6ZCxwcmVTdWJOdW06Yz90QihcIlBSRV9TVUJfTlVNXCIsXCJudW1iZXJcIik6dm9pZCAwLGVuYWJsZVB1YlRXQ0M6dEIoXCJQVUJMSVNIX1RXQ0NcIixcImJvb2xlYW5cIiksZW5hYmxlU3ViVFdDQzp0QihcIlNVQlNDUklCRV9UV0NDXCIsXCJib29sZWFuXCIpLGVuYWJsZVB1YlJUWDp0QihcIlVTRV9QVUJfUlRYXCIsXCJib29sZWFuXCIpLGVuYWJsZVN1YlJUWDp0QihcIlVTRV9TVUJfUlRYXCIsXCJib29sZWFuXCIpLGVuYWJsZVN1YlNWQzpDRChcIkVOQUJMRV9TVkNcIik/Q0QoXCJFTkFCTEVfU1ZDX0RFRkFVTFRfQ09ERUNTXCIpOkFycmF5LmlzQXJyYXkoQ0QoXCJTVkNcIikpJiYwIT09Q0QoXCJTVkNcIikubGVuZ3RoP0NEKFwiU1ZDXCIpOnZvaWQgMCxlbmFibGVTdmNFeHRlbmRlZDpDRChcIkVOQUJMRV9TVkNcIikmJkFycmF5LmlzQXJyYXkoQ0QoXCJTVkNfRVhURU5ERURcIikpJiYwIT09Q0QoXCJTVkNfRVhURU5ERURcIikubGVuZ3RoP0NEKFwiU1ZDX0VYVEVOREVEXCIpOnZvaWQgMCxlbmFibGVWb3NGYWxsYmFjazpDRChcIkVOQUJMRV9WT1NfRkFMTEJBQ0tcIiksZW5hYmxlUXVhbGl0eUZhbGxiYWNrOl99LHUpLHt9LHthdWRpb0R1cGxpY2F0ZTp0QihcIkVOQUJMRV9BVURJT19SRURcIixcImJvb2xlYW5cIik/bnVsbCE9PShyPXRCKFwiQVVESU9fRFVQTElDQVRFX05VTVwiLFwibnVtYmVyXCIpKSYmdm9pZCAwIT09cj9yOjI6dm9pZCAwLHNlbnR0c1VzZXNBYnNTZW5kVGltZTohIXB8fHZvaWQgMCxlbmFibGVEdWFsU3RyZWFtRmxhZzp0QihcIkVOQUJMRV9EVUFMX1NUUkVBTV9GTEFHXCIsXCJib29sZWFuXCIpfSl9LGpvaW5fdHM6dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZX0sZSk7cmV0dXJuIHRoaXMuam9pbkluZm8uc3RyaW5nVWlkJiYobS5zdHJpbmdfdWlkPXRoaXMuam9pbkluZm8uc3RyaW5nVWlkKSx0aGlzLmpvaW5JbmZvLmFlc21vZGUmJnRoaXMuam9pbkluZm8uYWVzcGFzc3dvcmQmJihtLmFlc19tb2RlPXRoaXMuam9pbkluZm8uYWVzbW9kZSxDRChcIkVOQ1JZUFRfQUVTXCIpPyhtLmFlc19zZWNyZXQ9dGhpcy5qb2luSW5mby5hZXNwYXNzd29yZCxtLmFlc19lbmNyeXB0PSEwKTptLmFlc19zZWNyZXQ9dGhpcy5qb2luSW5mby5hZXNwYXNzd29yZCx0aGlzLmpvaW5JbmZvLmFlc3NhbHQmJihtLmFlc19zYWx0PXRoaXMuam9pbkluZm8uYWVzc2FsdCkpLG8uYWRkcmVzc2VzW3RoaXMuc2lnbmFsLndlYnNvY2tldC5jdXJyZW50VVJMSW5kZXhdJiYobS5hcF9yZXNwb25zZS50aWNrZXQ9by5hZGRyZXNzZXNbdGhpcy5zaWduYWwud2Vic29ja2V0LmN1cnJlbnRVUkxJbmRleF0udGlja2V0LGRlbGV0ZSBvLmFkZHJlc3Nlcyksdm9pZCAwIT09dGhpcy5qb2luSW5mby5kZWZhdWx0VmlkZW9TdHJlYW0mJihtLmRlZmF1bHRfdmlkZW9fc3RyZWFtPXRoaXMuam9pbkluZm8uZGVmYXVsdFZpZGVvU3RyZWFtKSxtfWdldFJlam9pbk1lc3NhZ2UoKXtpZighdGhpcy5qb2luSW5mbyl0aHJvdyBuZXcgdVAoaE8uVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2VuZXJhdGUgcmVqb2luIG1lc3NhZ2UsIG5vIGpvaW4gaW5mb1wiKTtyZXR1cm57c2Vzc2lvbl9pZDp0aGlzLmpvaW5JbmZvLnNpZCxjaGFubmVsX25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSxjaWQ6dGhpcy5qb2luSW5mby5jaWQsdWlkOnRoaXMuam9pbkluZm8udWlkLHZpZDpOdW1iZXIodGhpcy5qb2luSW5mby52aWQpfX1oYW5kbGVTaWduYWxFdmVudHMoKXt0aGlzLnNpZ25hbC5vbih4Vi5XU19SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sKGU9Pnt0aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lPURhdGUubm93KCl9KSksdGhpcy5zaWduYWwub24oeFYuV1NfUkVDT05ORUNUSU5HLChlPT57dGhpcy5qb2luSW5mbyYmbFAuV2ViU29ja2V0UXVpdCh0aGlzLmpvaW5JbmZvLnNpZCx7bHRzOkRhdGUubm93KCksc3VjYzotMSxjbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHVpZDp0aGlzLmpvaW5JbmZvLnVpZCxjaWQ6dGhpcy5qb2luSW5mby5jaWQsZXJyb3JDb2RlOmV8fEhPLk5FVFdPUktfRVJST1J9KSx0aGlzLmpvaW5JbmZvJiYodGhpcy5zdGF0ZT1cIlJFQ09OTkVDVElOR1wiLGxQLnNlc3Npb25Jbml0KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6KG5ldyBEYXRlKS5nZXRUaW1lKCksZXh0ZW5kOnRoaXMuaXNTaWduYWxSZWNvdmVyP3tyZWNvdmVyOiEwfTp7cmVqb2luOiEwfSxjbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLGFwcGlkOnRoaXMuam9pbkluZm8uYXBwSWQsbW9kZTp0aGlzLnNwZWMubW9kZSxzdHJpbmdVaWQ6dGhpcy5qb2luSW5mby5zdHJpbmdVaWQsY2hhbm5lbFByb2ZpbGU6XCJsaXZlXCI9PT10aGlzLnNwZWMubW9kZT8xOjAsY2hhbm5lbE1vZGU6MCxsc2lkOnRoaXMuam9pbkluZm8uc2lkLGNsaWVudFJvbGU6XCJhdWRpZW5jZVwiPT09dGhpcy5yb2xlPzI6MSxidWlsZEZvcm1hdDoxfSksdGhpcy5pc1NpZ25hbFJlY292ZXI9ITEsdGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZT1EYXRlLm5vdygpKX0pKSx0aGlzLnNpZ25hbC5vbih4Vi5XU19DTE9TRUQsKGU9PntsZXQgdDtzd2l0Y2goZSl7Y2FzZSBWTy5MRUFWRTp0PUhPLkxFQVZFO2JyZWFrO2Nhc2UgVk8uVUlEX0JBTk5FRDpjYXNlIFZPLklQX0JBTk5FRDpjYXNlIFZPLkNIQU5ORUxfQkFOTkVEOmNhc2UgVk8uU0VSVkVSX0VSUk9SOnQ9SE8uU0VSVkVSX0VSUk9SO2JyZWFrO2Nhc2UgVk8uRkFMTEJBQ0s6dD1ITy5GQUxMQkFDSzticmVhaztjYXNlIFZPLkxJQ0VOU0VfTUlTU0lORzpjYXNlIFZPLkxJQ0VOU0VfRVhQSVJFRDpjYXNlIFZPLkxJQ0VOU0VfTUlOVVRFU19FWENFRURFRDpjYXNlIFZPLkxJQ0VOU0VfUEVSSU9EX0lOVkFMSUQ6Y2FzZSBWTy5MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFOmNhc2UgVk8uTElDRU5TRV9JTExFR0FMOmNhc2UgVk8uVE9LRU5fRVhQSVJFOnQ9ZTticmVhaztkZWZhdWx0OnQ9SE8uTkVUV09SS19FUlJPUn1pUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3NpZ25hbF0gd2Vic29ja2V0IGNsb3NlZCwgcmVhc29uOiBcIikuY29uY2F0KHR8fFwidW5kZWZpbmVkIC0+IFwiK0hPLk5FVFdPUktfRVJST1IpKSx0aGlzLmpvaW5JbmZvJiZsUC5XZWJTb2NrZXRRdWl0KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6RGF0ZS5ub3coKSxzdWNjOmU9PT1WTy5MRUFWRT8xOi0xLGNuYW1lOnRoaXMuam9pbkluZm8uY25hbWUsdWlkOnRoaXMuam9pbkluZm8udWlkLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCxlcnJvckNvZGU6dH0pLHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1lLGUhPT1WTy5GQUxMQkFDSyYmKHRoaXMuc3RhdGU9XCJESVNDT05ORUNURURcIiksdGhpcy5yZXNldCgpfSkpLHRoaXMuc2lnbmFsLm9uKHhWLldTX0NPTk5FQ1RFRCwoKCk9PntpZih0aGlzLnVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCksdGhpcy5zdGF0ZT1cIkNPTk5FQ1RFRFwiLHRoaXMuam9pbkluZm8pe2lmKFwiYXVkaWVuY2VcIj09PXRoaXMucm9sZSl7Y29uc3QgZT1DRChcIkNMSUVOVF9ST0xFX09QVElPTlNcIil8fHRoaXMuX2NsaWVudFJvbGVPcHRpb25zO2UmJihlLmxldmVsfHxlLmRlbGF5KSYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBwYXRjaCB0byBzZW5kIHNldCBjbGllbnQgcm9sZSwgcm9sZTogXCIpLmNvbmNhdCh0aGlzLnJvbGUsXCIsIG1vZGU6IFwiKS5jb25jYXQodGhpcy5zcGVjLm1vZGUsXCIsIGxldmVsOiBcIikuY29uY2F0KGUubGV2ZWwsXCIsIGRlbGF5OiBcIikuY29uY2F0KGUuZGVsYXkpKSx0aGlzLnNldENsaWVudFJvbGUodGhpcy5yb2xlLGUpKX1pZihsUC5qb2luR2F0ZXdheSh0aGlzLmpvaW5JbmZvLnNpZCx7bHRzOnRoaXMuam9pbkdhdGV3YXlTdGFydFRpbWUsc3VjYzohMCxlYzpudWxsLHZpZDp0aGlzLmpvaW5JbmZvLnZpZCxhZGRyOnRoaXMuc2lnbmFsLnVybCx1aWQ6dGhpcy5qb2luSW5mby51aWQsY2lkOnRoaXMuam9pbkluZm8uY2lkLGZpcnN0U3VjY2Vzczp0aGlzLl9pc1Byb2FjdGl2ZUpvaW4saXNQcm94eTohIXRoaXMuam9pbkluZm8ucHJveHlTZXJ2ZXJ8fHRoaXMudXNpbmdQcm94eSxzaWduYWxDaGFubmVsOlwiRGF0YUNoYW5uZWxTaWduYWxcIj09PXRoaXMuc2lnbmFsLl9fbmFtZV9fP1wiMVwiOlwiMFwiLHByZWxvYWQ6dGhpcy5qb2luSW5mby5wcmVsb2FkLGlzQUJUZXN0U3VjY2Vzczp0aGlzLnN0b3JlLmlzQUJUZXN0U3VjY2Vzc30pLHRoaXMuX2lzUHJvYWN0aXZlSm9pbj0hMSx0aGlzLmpvaW5JbmZvLnVzZUxvY2FsQWNjZXNzUG9pbnQmJjE9PT10aGlzLmpvaW5JbmZvLnNldExvY2FsQVBWZXJzaW9uKXtjb25zdCBlPXRoaXMuc2lnbmFsLnVybCYmdGhpcy5zaWduYWwudXJsLm1hdGNoKC93c3NcXDpcXC9cXC8oW146XSspOihcXGQrKS8pO2lmKCFlKXJldHVybiB2b2lkIGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBzZXQgbG9jYWwgYWNjZXNzIHBvaW50IGFmdGVyIGpvaW5lZCBmYWlsZWQ6IFwiKS5jb25jYXQoZSkpO1JEKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLGVbMV0pLFJEKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixlWzFdKSxSRChcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQoZVsxXSxcIjo2NDQ0XCIpKX19fSkpLHRoaXMuc2lnbmFsLm9uKGpWLk9OX1VQTElOS19TVEFUUywoZT0+e3RoaXMuX3N0YXRzQ29sbGVjdG9yLnVwZGF0ZVVwbGlua1N0YXRzKGUpfSkpLHRoaXMuc2lnbmFsLm9uKHhWLlJFUVVFU1RfUkVDT1ZFUiwoKGUsdCxpKT0+e2lmKCF0aGlzLmpvaW5JbmZvKXJldHVybiBpKG5ldyB1UChoTy5VTkVYUEVDVEVEX0VSUk9SLFwiZ2F0ZXdheTogY2FuIG5vdCByZWNvdmVyLCBubyBqb2luIGluZm9cIikpO2UmJih0aGlzLmpvaW5JbmZvLm11bHRpSVA9ZSx0aGlzLmhhc0NoYW5nZUJHUEFkZHJlc3M9ITApLHRoaXMuaXNTaWduYWxSZWNvdmVyPSEwLHpPKHRoaXMsc3guUkVRVUVTVF9ORVdfR0FURVdBWV9MSVNUKS50aGVuKHQpLmNhdGNoKGkpfSkpLHRoaXMuc2lnbmFsLm9uKHhWLlJFUVVFU1RfSk9JTl9JTkZPLChhc3luYyhlLHQsaSk9Pnt2YXIgbixyLG87aWYodGhpcy51cGRhdGVUdXJuQ29uZmlnRnJvbVNpZ25hbCgpLHRoaXMuc3RvcmUudXNlUDJQKXJldHVybiB2b2lkIGUodGhpcy5nZXRKb2luTWVzc2FnZSh7b3J0Yzp7fX0pKTtjb25zdCBzPXNOKG51bGw9PT0obj10aGlzLmpvaW5JbmZvKXx8dm9pZCAwPT09bj92b2lkIDA6bi50dXJuU2VydmVyKTtpZihDRChcIk5FV19UVVJOX01PREVcIikmJnMmJlwiZGlzYWJsZWRcIj09PShudWxsPT09KHI9dGhpcy5qb2luSW5mbyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuY2xvdWRQcm94eVNlcnZlcikpe3ZhciBhO2xldCBlPXMuc2VydmVycy5tYXAoKGU9PlwidHVyblNlcnZlclVSTFwiaW4gZSYmQ0QoXCJVU0VfVFVSTl9JUFwiKT9kQihkQih7fSxlKSx7fSx7dHVyblNlcnZlclVSTDphRihlLnR1cm5TZXJ2ZXJVUkwpfSk6ZSkpLHQ9bnVsbD09PShhPXMuc2VydmVyc0Zyb21HYXRld2F5KXx8dm9pZCAwPT09YT92b2lkIDA6YS5tYXAoKGU9PkNEKFwiVVNFX1RVUk5fSVBcIik/ZEIoZEIoe30sZSkse30se3R1cm5TZXJ2ZXJVUkw6YUYoZS50dXJuU2VydmVyVVJMKX0pOmUpKTtjb25zdCBpPXRoaXMuc2lnbmFsLmN1cnJlbnRVUkxJbmRleDtpZihlLmxlbmd0aD4wKXtlPVtlW2klZS5sZW5ndGhdXSxzLnNlcnZlcnM9ZX1BcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wJiYodD1bdFswXV0scy5zZXJ2ZXJzRnJvbUdhdGV3YXk9dCksaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHVzZSBzaW5nbGUgdHVybiwgdXNlIHR1cm4gc2VydmVyIGluZGV4OiBcIikuY29uY2F0KGkpKX1jb25zdHtpY2VQYXJhbWV0ZXJzOmMsZHRsc1BhcmFtZXRlcnM6ZCxydHBDYXBhYmlsaXRpZXM6bH09YXdhaXQgek8odGhpcyxzeC5SRVFVRVNUX1AyUF9DT05ORUNUSU9OX1BBUkFNUyx7dHVyblNlcnZlcjpzLGNsb3VkUHJveHlTZXJ2ZXI6bnVsbD09PShvPXRoaXMuam9pbkluZm8pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmNsb3VkUHJveHlTZXJ2ZXJ9KTt0cnl7ZSh0aGlzLmdldEpvaW5NZXNzYWdlKHtvcnRjOntpY2VQYXJhbWV0ZXJzOmMsZHRsc1BhcmFtZXRlcnM6ZCxydHBDYXBhYmlsaXRpZXM6bCx2ZXJzaW9uOlwiMlwifX0pKX1jYXRjaChlKXt0KGUpfX0pKSx0aGlzLnNpZ25hbC5vbih4Vi5SRVFVRVNUX1JFSk9JTl9JTkZPLChlPT57ZSh0aGlzLmdldFJlam9pbk1lc3NhZ2UoKSl9KSksdGhpcy5zaWduYWwub24oeFYuUkVQT1JUX0pPSU5fR0FURVdBWSwoKGUsdCk9PntpZighdGhpcy5qb2luSW5mbylyZXR1cm47bGV0IGksbj1cIlwiO3ZhciByO2UgaW5zdGFuY2VvZiB1UD8oaT0obnVsbD09PShyPWUuZGF0YSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZGVzYyl8fGUuY29kZSxuPWUubWVzc2FnZSk6aT1lO2xQLmpvaW5HYXRld2F5KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZSxzdWNjOiExLGVjOmksZXJyb3JNc2c6bixhZGRyOnQsdWlkOnRoaXMuam9pbkluZm8udWlkLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCxmaXJzdFN1Y2Nlc3M6dGhpcy5faXNQcm9hY3RpdmVKb2luLGlzUHJveHk6ISF0aGlzLmpvaW5JbmZvLnByb3h5U2VydmVyfHx0aGlzLnVzaW5nUHJveHksc2lnbmFsQ2hhbm5lbDpcIkRhdGFDaGFubmVsU2lnbmFsXCI9PT10aGlzLnNpZ25hbC5fX25hbWVfXz9cIjFcIjpcIjBcIixwcmVsb2FkOnRoaXMuam9pbkluZm8ucHJlbG9hZH0pfSkpLHRoaXMuc2lnbmFsLm9uKHhWLklTX1AyUF9ESVNDT05ORUNURUQsKGU9PntlKEpPKHRoaXMsc3guSVNfUDJQX0RJU0NPTk5FQ1RFRCkpfSkpLHRoaXMuc2lnbmFsLm9uKHhWLkRJU0NPTk5FQ1RfUDJQLCgoKT0+e3RoaXMuZW1pdChzeC5ESVNDT05ORUNUX1AyUCl9KSksdGhpcy5zaWduYWwub24oeFYuUkVRVUVTVF9TVUNDRVNTLCgoKT0+e3RoaXMuX3NpZ25hbFRpbWVvdXQ9ITF9KSksdGhpcy5zaWduYWwub24oeFYuUkVRVUVTVF9USU1FT1VULCgoKT0+e3RoaXMuX3NpZ25hbFRpbWVvdXQ9ITB9KSksdGhpcy5zaWduYWwub24oeFYuSk9JTl9SRVNQT05TRSwoZT0+e2NvbnN0IHQ9dGhpcy5nZXRDdXJyZW50R2F0ZXdheUFkZHJlc3MoKTt0aGlzLmVtaXQoc3guSk9JTl9SRVNQT05TRSxlLHQpfSkpLHRoaXMuc2lnbmFsLm9uKHhWLlBSRV9DT05ORUNUX1BDLChhc3luYyhlLHQpPT57aWYodGhpcy5qb2luSW5mbyl7dmFyIGksbjt0aGlzLnVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCk7Y29uc3Qgbz10aGlzLmdldEN1cnJlbnRHYXRld2F5QWRkcmVzcygpLHM9c04obnVsbD09PShpPXRoaXMuam9pbkluZm8pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnR1cm5TZXJ2ZXIpO2lmKENEKFwiTkVXX1RVUk5fTU9ERVwiKSYmcyYmXCJkaXNhYmxlZFwiPT09KG51bGw9PT0obj10aGlzLmpvaW5JbmZvKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jbG91ZFByb3h5U2VydmVyKSl7dmFyIHI7bGV0IGU9cy5zZXJ2ZXJzLm1hcCgoZT0+XCJ0dXJuU2VydmVyVVJMXCJpbiBlJiZDRChcIlVTRV9UVVJOX0lQXCIpP2RCKGRCKHt9LGUpLHt9LHt0dXJuU2VydmVyVVJMOmFGKGUudHVyblNlcnZlclVSTCl9KTplKSksdD1udWxsPT09KHI9cy5zZXJ2ZXJzRnJvbUdhdGV3YXkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm1hcCgoZT0+Q0QoXCJVU0VfVFVSTl9JUFwiKT9kQihkQih7fSxlKSx7fSx7dHVyblNlcnZlclVSTDphRihlLnR1cm5TZXJ2ZXJVUkwpfSk6ZSkpO2NvbnN0IGk9dGhpcy5zaWduYWwuY3VycmVudFVSTEluZGV4O2lmKGUubGVuZ3RoPjApe2U9W2VbaSVlLmxlbmd0aF1dLHMuc2VydmVycz1lfUFycmF5LmlzQXJyYXkodCkmJnQubGVuZ3RoPjAmJih0PVt0WzBdXSxzLnNlcnZlcnNGcm9tR2F0ZXdheT10KSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdXNlIHNpbmdsZSB0dXJuLCB1c2UgdHVybiBzZXJ2ZXIgaW5kZXg6IFwiKS5jb25jYXQoaSxcIixpbiBwcmUgcGNcIikpfWNvbnN0IGE9Q0QoXCJGSU5HRVJQUklOVFwiKXx8dGhpcy5qb2luSW5mby5hcFJlc3BvbnNlLmFkZHJlc3Nlc1t0aGlzLnNpZ25hbC5jdXJyZW50VVJMSW5kZXhdLmZpbmdlcnByaW50O2lmKG8mJmEpe2NvbnN0IGk9UEYobyk7ek8odGhpcyxzeC5QUkVfQ09OTkVDVF9QQyx7Y2FuZGlkYXRlczppLGZpbmdlcnByaW50OmEsdHVyblNlcnZlcjpzfSkudGhlbigodD0+e251bGw9PWV8fGUodCl9KSkuY2F0Y2godHx8KCgpPT57fSkpfX19KSksdGhpcy5zaWduYWwub24oeFYuUkVDT1ZFUl9OT1RJRklDQVRJT04sKGU9Pnt0aGlzLmpvaW5JbmZvJiZcInN0cmluZ1wiPT10eXBlb2YgQ0QoXCJBUF9SRVFVRVNUX0RFVEFJTFwiKSYmKHRoaXMuam9pbkluZm8uYXBSZXF1ZXN0RGV0YWlsPVwiXCIuY29uY2F0KENEKFwiQVBfUkVRVUVTVF9ERVRBSUxcIiksXCI7XCIpLmNvbmNhdChlKSl9KSksdGhpcy5zaWduYWwub24oeFYuVk9TX0ZBTExCQUNLLChlPT57dGhpcy5lbWl0KHN4LlZPU19GQUxMQkFDSyxlKX0pKSx0aGlzLnNpZ25hbC5vbih4Vi5EQVRBQ0hBTk5FTF9GQUlMQkFDSywoZT0+e2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFVzZXIgam9pbiBkYXRhY2hhbm5lbCBmYWlsZWRcIikpLHRoaXMucmVzZXQoKSx0aGlzLnJlc2V0U2lnbmFsKCksdGhpcy5lbWl0KHN4LkRBVEFDSEFOTkVMX0ZBSUxCQUNLKX0pKX1hc3luYyB0cnlVbnN1YkJlZm9yZVJlc3ViKGUsdCl7dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuVU5TVUJTQ1JJQkUse3AycF9pZDp0aGlzLnN0b3JlLnAycElkLHN0cmVhbV9pZDplLG9ydGM6W3RdfSwhMCl9Y2F0Y2goZSl7dGhyb3cgaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdHJ5VW5zdWJCZWZvcmVSZXN1YiB3YXJuaW5nXCIpLGUpLGV9fWFzeW5jIHRyeVVuc3ViRGF0YUNoYW5uZWxCZWZvcmVSZXN1YihlLHQpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KEZWLlVOU1VCU0NSSUJFLHtzdHJlYW1faWQ6dC5pZH0sITApfWNhdGNoKGUpe3Rocm93IGlQLndhcm5pbmcoXCJ1bnN1YnNjcmliZSBkYXRhY2hhbm5lbCB3YXJuaW5nXCIsZSksZX19YXN5bmMgdHJ5VW5wdWJCZWZvcmVSZXB1YihlLHQpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KEZWLlVOUFVCTElTSCx7c3RyZWFtX2lkOmUsb3J0Yzp0fSwhMCl9Y2F0Y2goZSl7dGhyb3cgaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdHJ5VW5wdWJCZWZvcmVSZXB1YiB3YXJuaW5nOiBcIiksZSksZX19YXN5bmMgdHJ5VW5wdWJEYXRhQ2hhbm5lbEJlZm9yZVJlcHViKGUsdCl7dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuVU5QVUJMSVNIX0RBVEFTVFJFQU0se2NoYW5ubmVsX2lkOnQuY2hhbm5lbElkfSwhMCl9Y2F0Y2goZSl7dGhyb3cgaVAud2FybmluZyhcInVucHVibGlzaCBkYXRhc3RyZWFtIHdhcm5pbmc6IFwiLGUpLGV9fWFzeW5jIHRyeU1hc3NVbnN1YkJlZm9yZVJlc3ViKGUpe2NvbnN0IHQ9e3VzZXJzOmUubWFwKChlPT4oe3N0cmVhbV9pZDplLnN0cmVhbV9pZCxzdHJlYW1fdHlwZTplLnN0cmVhbV90eXBlfSkpKX07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuVU5TVUJTQ1JJQkVfU1RSRUFNUyx0LCEwKX1jYXRjaChlKXt0aHJvdyBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB0cnlNYXNzVW5zdWJCZWZvcmVSZXN1YiB3YXJuaW5nXCIpLGUpLGV9fWFzeW5jIG11dGVMb2NhbChlLHQpe2NvbnN0IGk9e2FjdGlvbjplLmZpbmQoKGU9PmUuc3RyZWFtX3R5cGU9PT1veC5BdWRpbykpP1wibXV0ZV9sb2NhbF9hdWRpb1wiOlwibXV0ZV9sb2NhbF92aWRlb1wiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLG9ydGM6ZSxzdHJlYW1faWQ6dH07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuQ09OVFJPTCxpLCEwLCEwKX1jYXRjaChlKXt0aHJvdyBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBnYXRld2F5IG11dGVMb2NhbCB3YXJuaW5nOiBcIiksZSksZX19YXN5bmMgdW5tdXRlTG9jYWwoZSx0KXtjb25zdCBpPXthY3Rpb246ZS5maW5kKChlPT5lLnN0cmVhbV90eXBlPT09b3guQXVkaW8pKT9cInVubXV0ZV9sb2NhbF9hdWRpb1wiOlwidW5tdXRlX2xvY2FsX3ZpZGVvXCIscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsb3J0YzplLHN0cmVhbV9pZDp0fTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5DT05UUk9MLGksITAsITApfWNhdGNoKGUpe3Rocm93IGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdhdGV3YXkgdW5tdXRlTG9jYWwgd2FybmluZzogXCIpLGUpLGV9fWFzeW5jIG11dGVSZW1vdGUoZSx0KXtjb25zdCBpPXthY3Rpb246ZT09PWZ4LkFVRElPP1wibXV0ZV9yZW1vdGVfYXVkaW9cIjpcIm11dGVfcmVtb3RlX3ZpZGVvXCIscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsc3RyZWFtX2lkOnR9O3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KEZWLkNPTlRST0wsaSwhMCwhMCl9Y2F0Y2goZSl7dGhyb3cgaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZ2F0ZXdheSBtdXRlUmVtb3RlIHdhcm5pbmc6IFwiKSxlKSxlfX1hc3luYyB1bm11dGVSZW1vdGUoZSx0KXtjb25zdCBpPXthY3Rpb246ZT09PWZ4LkFVRElPP1widW5tdXRlX3JlbW90ZV9hdWRpb1wiOlwidW5tdXRlX3JlbW90ZV92aWRlb1wiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLHN0cmVhbV9pZDp0fTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChGVi5DT05UUk9MLGksITAsITApfWNhdGNoKGUpe3Rocm93IGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdhdGV3YXkgdW5tdXRlUmVtb3RlIHdhcm5pbmc6IFwiKSxlKSxlfX11cGxvYWRXUlRDU3RhdHMoZSl7dGhpcy5zaWduYWwudXBsb2FkV1JUQ1N0YXRzKGUpfXVwbG9hZChlLHQpe3RoaXMuc2lnbmFsLnVwbG9hZChlLHQpfWdldFNpZ25hbFJUVCgpe3JldHVybiB0aGlzLnNpZ25hbC5ydHR9YXN5bmMgcmVzdGFydElDRShlKXtjb25zdCB0PXtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6dGhpcy5zdG9yZS51aWQsb3J0YzplfTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuUkVTVEFSVF9JQ0UsdCwhMCl9Y2F0Y2goZSl7dGhyb3cgaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5yZXN0YXJ0SUNFIHdhcm5pbmc6IFwiKSxlKSxlfX1yZWNvbm5lY3QoZSx0KXtcIkNPTk5FQ1RFRFwiPT09dGhpcy5zdGF0ZSYmdGhpcy5zaWduYWwucmVjb25uZWN0KGV8fHZvaWQgMCx0fHxITy5QMlBfRkFJTEVEKX1nZXRDdXJyZW50R2F0ZXdheUFkZHJlc3MoKXt2YXIgZSx0O2lmKCFDRChcIkdBVEVXQVlfV1NTX0FERFJFU1NcIikpcmV0dXJuIENEKFwiVVNFX0NBTkRJREFURV9GUk9NX0FQX0RFVEFJTFwiKSYmbnVsbCE9PShlPXRoaXMuam9pbkluZm8pJiZ2b2lkIDAhPT1lJiZlLmFwR2F0ZXdheUFkZHJlc3M/KGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB1c2UgY2FuZGlkYXRlIGZyb20gYXAgZGV0YWlsLCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHRoaXMuam9pbkluZm8uYXBHYXRld2F5QWRkcmVzcykpKSx0aGlzLmpvaW5JbmZvLmFwR2F0ZXdheUFkZHJlc3MpOm51bGwhPT0odD10aGlzLmpvaW5JbmZvKSYmdm9pZCAwIT09dCYmdC5nYXRld2F5QWRkcnM/dGhpcy5qb2luSW5mby5nYXRld2F5QWRkcnNbdGhpcy5zaWduYWwuY3VycmVudFVSTEluZGV4XTp2b2lkIDB9YXN5bmMgc2V0UHVibGlzaEF1ZGlvRmlsdGVyRW5hYmxlZChlKXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KEZWLlNFVF9QQVJBTUVURVIse2VuYWJsZVB1Ymxpc2hBdWRpb0ZpbHRlcjplfSl9ZG93bmdyYWRlQ29kZWMoZSl7dGhpcy5zaWduYWwuZG93bmdyYWRlQ29kZWMoZSl9cmVzZXRTaWduYWwoKXt0aGlzLnNpZ25hbCYmKHRoaXMuc2lnbmFsLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuc2lnbmFsLmNsb3NlKFZPLkZBTExCQUNLKSksdGhpcy5zdG9yZS51c2VEY1NpZ25hbD0hMSx0aGlzLnNpZ25hbD1uZXcgZUYoZEIoZEIoe30sdGhpcy5zcGVjKSx7fSx7cmV0cnlDb25maWc6dGhpcy5zcGVjLndlYnNvY2tldFJldHJ5Q29uZmlnfSksdGhpcy5zdG9yZSksdGhpcy5oYW5kbGVTaWduYWxFdmVudHMoKSx0aGlzLmVtaXQoc3guUkVTRVRfU0lHTkFMKX19bGV0IGhCPTAscEI9MDtmdW5jdGlvbiBfQihlLHQsaSxuKXtyZXR1cm4gbmV3IHJwKCgocixvKT0+e3QudGltZW91dD10LnRpbWVvdXR8fENEKFwiSFRUUF9DT05ORUNUX1RJTUVPVVRcIiksdC5yZXNwb25zZVR5cGU9dC5yZXNwb25zZVR5cGV8fFwianNvblwiLHQuZGF0YSYmIWk/KHQuZGF0YT1KU09OLnN0cmluZ2lmeSh0LmRhdGEpLGhCKz1fTih0LmRhdGEpKTppJiYodC5kYXRhLnNpemU/aEIrPXQuZGF0YS5zaXplOnQuZGF0YSBpbnN0YW5jZW9mIEZvcm1EYXRhP2hCKz1FTih0LmRhdGEpOmhCKz1fTihKU09OLnN0cmluZ2lmeSh0LmRhdGEpKSksdC5oZWFkZXJzPXQuaGVhZGVyc3x8e30sdC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdPXQuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXXx8XCJhcHBsaWNhdGlvbi9qc29uXCIsdC5tZXRob2Q9XCJQT1NUXCIsdC51cmw9ZSxUdy5yZXF1ZXN0KHQpLnRoZW4oKGU9PntcInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhP3BCKz1fTihlLmRhdGEpOmUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxlLmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5P3BCKz1lLmRhdGEuYnl0ZUxlbmd0aDpwQis9X04oSlNPTi5zdHJpbmdpZnkoZS5kYXRhKSksbiYmcih7ZGF0YTplLmRhdGEsaGVhZGVyczplLmhlYWRlcnN9KSxyKGUuZGF0YSl9KSkuY2F0Y2goKGU9PntUdy5pc0NhbmNlbChlKT9vKG5ldyB1UChoTy5PUEVSQVRJT05fQUJPUlRFRCxcImNhbmNlbCB0b2tlbiBjYW5jZWxlZFwiKSk6XCJFQ09OTkFCT1JURURcIj09PWUuY29kZT9vKG5ldyB1UChoTy5ORVRXT1JLX1RJTUVPVVQsZS5tZXNzYWdlKSk6ZS5yZXNwb25zZT9vKG5ldyB1UChoTy5ORVRXT1JLX1JFU1BPTlNFX0VSUk9SLGUucmVzcG9uc2Uuc3RhdHVzKSk6byhuZXcgdVAoaE8uTkVUV09SS19FUlJPUixlLm1lc3NhZ2UpKX0pKX0pKX1cbi8qISBmb3JtZGF0YS1wb2x5ZmlsbC4gTUlUIExpY2Vuc2UuIEppbW15IFc/cnRpbmcgPGh0dHBzOi8vamltbXkud2FydGluZy5zZS9vcGVuc291cmNlPiAqLyFmdW5jdGlvbigpe3ZhciBlO2Z1bmN0aW9uIGkoZSl7dmFyIHQ9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdDxlLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTplW3QrK119Ontkb25lOiEwfX19dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXM/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZT09QXJyYXkucHJvdG90eXBlfHxlPT1PYmplY3QucHJvdG90eXBlfHwoZVt0XT1pLnZhbHVlKSxlfTt2YXIgcixvPWZ1bmN0aW9uKGUpe2U9W1wib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzLGUsXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LFwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmLFwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0XTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoOysraSl7dmFyIG49ZVtpXTtpZihuJiZuLk1hdGg9PU1hdGgpcmV0dXJuIG59dGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBnbG9iYWwgb2JqZWN0XCIpfSh0aGlzKTtmdW5jdGlvbiBzKGUsdCl7aWYodCllOnt2YXIgaT1vO2U9ZS5zcGxpdChcIi5cIik7Zm9yKHZhciByPTA7cjxlLmxlbmd0aC0xO3IrKyl7dmFyIHM9ZVtyXTtpZighKHMgaW4gaSkpYnJlYWsgZTtpPWlbc119KHQ9dChyPWlbZT1lW2UubGVuZ3RoLTFdXSkpIT1yJiZudWxsIT10JiZuKGksZSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KX19ZnVuY3Rpb24gYShlKXtyZXR1cm4oZT17bmV4dDplfSlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yJiZlW1N5bWJvbC5pdGVyYXRvcl07cmV0dXJuIHQ/dC5jYWxsKGUpOntuZXh0OmkoZSl9fWlmKHMoXCJTeW1ib2xcIiwoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3RoaXMuQT1lLG4odGhpcyxcImRlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSl9aWYoZSlyZXR1cm4gZTt0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkF9O3ZhciBpPVwianNjb21wX3N5bWJvbF9cIisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKStcIl9cIixyPTA7cmV0dXJuIGZ1bmN0aW9uIGUobil7aWYodGhpcyBpbnN0YW5jZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTtyZXR1cm4gbmV3IHQoaSsobnx8XCJcIikrXCJfXCIrcisrLG4pfX0pKSxzKFwiU3ltYm9sLml0ZXJhdG9yXCIsKGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIGU7ZT1TeW1ib2woXCJTeW1ib2wuaXRlcmF0b3JcIik7Zm9yKHZhciB0PVwiQXJyYXkgSW50OEFycmF5IFVpbnQ4QXJyYXkgVWludDhDbGFtcGVkQXJyYXkgSW50MTZBcnJheSBVaW50MTZBcnJheSBJbnQzMkFycmF5IFVpbnQzMkFycmF5IEZsb2F0MzJBcnJheSBGbG9hdDY0QXJyYXlcIi5zcGxpdChcIiBcIikscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgcz1vW3Rbcl1dO1wiZnVuY3Rpb25cIj09dHlwZW9mIHMmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHMucHJvdG90eXBlW2VdJiZuKHMucHJvdG90eXBlLGUse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhKGkodGhpcykpfX0pfXJldHVybiBlfSkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5zZXRQcm90b3R5cGVPZilyPU9iamVjdC5zZXRQcm90b3R5cGVPZjtlbHNle3ZhciBkO2U6e3ZhciBsPXt9O3RyeXtsLl9fcHJvdG9fXz17YTohMH0sZD1sLmE7YnJlYWsgZX1jYXRjaChlKXt9ZD0hMX1yPWQ/ZnVuY3Rpb24oZSx0KXtpZihlLl9fcHJvdG9fXz10LGUuX19wcm90b19fIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKGUrXCIgaXMgbm90IGV4dGVuc2libGVcIik7cmV0dXJuIGV9Om51bGx9dmFyIHU9cjtmdW5jdGlvbiBoKCl7dGhpcy5tPSExLHRoaXMuaj1udWxsLHRoaXMudj12b2lkIDAsdGhpcy5oPTEsdGhpcy51PXRoaXMuQz0wLHRoaXMubD1udWxsfWZ1bmN0aW9uIHAoZSl7aWYoZS5tKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2UubT0hMH1mdW5jdGlvbiBfKGUsdCl7cmV0dXJuIGUuaD0zLHt2YWx1ZTp0fX1mdW5jdGlvbiBFKGUpe3RoaXMuZz1uZXcgaCx0aGlzLkc9ZX1mdW5jdGlvbiBtKGUsdCxpLG4pe3RyeXt2YXIgcj10LmNhbGwoZS5nLmosaSk7aWYoIShyIGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSXRlcmF0b3IgcmVzdWx0IFwiK3IrXCIgaXMgbm90IGFuIG9iamVjdFwiKTtpZighci5kb25lKXJldHVybiBlLmcubT0hMSxyO3ZhciBvPXIudmFsdWV9Y2F0Y2godCl7cmV0dXJuIGUuZy5qPW51bGwsZS5nLnModCksZihlKX1yZXR1cm4gZS5nLmo9bnVsbCxuLmNhbGwoZS5nLG8pLGYoZSl9ZnVuY3Rpb24gZihlKXtmb3IoO2UuZy5oOyl0cnl7dmFyIHQ9ZS5HKGUuZyk7aWYodClyZXR1cm4gZS5nLm09ITEse3ZhbHVlOnQudmFsdWUsZG9uZTohMX19Y2F0Y2godCl7ZS5nLnY9dm9pZCAwLGUuZy5zKHQpfWlmKGUuZy5tPSExLGUuZy5sKXtpZih0PWUuZy5sLGUuZy5sPW51bGwsdC5GKXRocm93IHQuRDtyZXR1cm57dmFsdWU6dC5yZXR1cm4sZG9uZTohMH19cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX1mdW5jdGlvbiBTKGUpe3RoaXMubmV4dD1mdW5jdGlvbih0KXtyZXR1cm4gZS5vKHQpfSx0aGlzLnRocm93PWZ1bmN0aW9uKHQpe3JldHVybiBlLnModCl9LHRoaXMucmV0dXJuPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3AoZS5nKTt2YXIgaT1lLmcuajtyZXR1cm4gaT9tKGUsXCJyZXR1cm5cImluIGk/aS5yZXR1cm46ZnVuY3Rpb24oZSl7cmV0dXJue3ZhbHVlOmUsZG9uZTohMH19LHQsZS5nLnJldHVybik6KGUuZy5yZXR1cm4odCksZihlKSl9KGUsdCl9LHRoaXNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfX1mdW5jdGlvbiBnKGUsdCl7cmV0dXJuIHQ9bmV3IFMobmV3IEUodCkpLHUmJmUucHJvdG90eXBlJiZ1KHQsZS5wcm90b3R5cGUpLHR9aWYoaC5wcm90b3R5cGUubz1mdW5jdGlvbihlKXt0aGlzLnY9ZX0saC5wcm90b3R5cGUucz1mdW5jdGlvbihlKXt0aGlzLmw9e0Q6ZSxGOiEwfSx0aGlzLmg9dGhpcy5DfHx0aGlzLnV9LGgucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXt0aGlzLmw9e3JldHVybjplfSx0aGlzLmg9dGhpcy51fSxFLnByb3RvdHlwZS5vPWZ1bmN0aW9uKGUpe3JldHVybiBwKHRoaXMuZyksdGhpcy5nLmo/bSh0aGlzLHRoaXMuZy5qLm5leHQsZSx0aGlzLmcubyk6KHRoaXMuZy5vKGUpLGYodGhpcykpfSxFLnByb3RvdHlwZS5zPWZ1bmN0aW9uKGUpe3JldHVybiBwKHRoaXMuZyksdGhpcy5nLmo/bSh0aGlzLHRoaXMuZy5qLnRocm93LGUsdGhpcy5nLm8pOih0aGlzLmcucyhlKSxmKHRoaXMpKX0scyhcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlfHxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBTdHJpbmcmJihlKz1cIlwiKTt2YXIgaT0wLG49ITEscj17bmV4dDpmdW5jdGlvbigpe2lmKCFuJiZpPGUubGVuZ3RoKXt2YXIgcj1pKys7cmV0dXJue3ZhbHVlOnQocixlW3JdKSxkb25lOiExfX1yZXR1cm4gbj0hMCx7ZG9uZTohMCx2YWx1ZTp2b2lkIDB9fX07cmV0dXJuIHJbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiByfSxyfSh0aGlzLChmdW5jdGlvbihlLHQpe3JldHVybltlLHRdfSkpfX0pKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgQmxvYiYmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBGb3JtRGF0YXx8IUZvcm1EYXRhLnByb3RvdHlwZS5rZXlzKSl7dmFyIFQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0KGVbaV0pfSxSPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xccj9cXG58XFxyL2csXCJcXHJcXG5cIil9LEM9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB0IGluc3RhbmNlb2YgQmxvYj8oaT12b2lkIDAhPT1pP1N0cmluZyhpK1wiXCIpOlwic3RyaW5nXCI9PXR5cGVvZiB0Lm5hbWU/dC5uYW1lOlwiYmxvYlwiLHQubmFtZT09PWkmJlwiW29iamVjdCBCbG9iXVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfHwodD1uZXcgRmlsZShbdF0saSkpLFtTdHJpbmcoZSksdF0pOltTdHJpbmcoZSksU3RyaW5nKHQpXX0sdj1mdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoPHQpdGhyb3cgbmV3IFR5cGVFcnJvcih0K1wiIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSBcIitlLmxlbmd0aCtcIiBwcmVzZW50LlwiKX0seT1cIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3c/d2luZG93Olwib2JqZWN0XCI9PXR5cGVvZiBzZWxmP3NlbGY6dGhpcyxJPXkuRm9ybURhdGEsQT15LlhNTEh0dHBSZXF1ZXN0JiZ5LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kLGI9eS5SZXF1ZXN0JiZ5LmZldGNoLHc9eS5uYXZpZ2F0b3ImJnkubmF2aWdhdG9yLnNlbmRCZWFjb24sTz15LkVsZW1lbnQmJnkuRWxlbWVudC5wcm90b3R5cGUsTj15LlN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnO04mJihCbG9iLnByb3RvdHlwZVtOXXx8KEJsb2IucHJvdG90eXBlW05dPVwiQmxvYlwiKSxcIkZpbGVcImluIHkmJiFGaWxlLnByb3RvdHlwZVtOXSYmKEZpbGUucHJvdG90eXBlW05dPVwiRmlsZVwiKSk7dHJ5e25ldyBGaWxlKFtdLFwiXCIpfWNhdGNoKGUpe3kuRmlsZT1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGU9bmV3IEJsb2IoZSxpfHx7fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSx7bmFtZTp7dmFsdWU6dH0sbGFzdE1vZGlmaWVkOnt2YWx1ZTorKGkmJnZvaWQgMCE9PWkubGFzdE1vZGlmaWVkP25ldyBEYXRlKGkubGFzdE1vZGlmaWVkKTpuZXcgRGF0ZSl9LHRvU3RyaW5nOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBGaWxlXVwifX19KSxOJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxOLHt2YWx1ZTpcIkZpbGVcIn0pLGV9fXZhciBEPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcbi9nLFwiJTBBXCIpLnJlcGxhY2UoL1xcci9nLFwiJTBEXCIpLnJlcGxhY2UoL1wiL2csXCIlMjJcIil9LFA9ZnVuY3Rpb24oZSl7dGhpcy5pPVtdO3ZhciB0PXRoaXM7ZSYmVChlLmVsZW1lbnRzLChmdW5jdGlvbihlKXtpZihlLm5hbWUmJiFlLmRpc2FibGVkJiZcInN1Ym1pdFwiIT09ZS50eXBlJiZcImJ1dHRvblwiIT09ZS50eXBlJiYhZS5tYXRjaGVzKFwiZm9ybSBmaWVsZHNldFtkaXNhYmxlZF0gKlwiKSlpZihcImZpbGVcIj09PWUudHlwZSl7dmFyIGk9ZS5maWxlcyYmZS5maWxlcy5sZW5ndGg/ZS5maWxlczpbbmV3IEZpbGUoW10sXCJcIix7dHlwZTpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifSldO1QoaSwoZnVuY3Rpb24oaSl7dC5hcHBlbmQoZS5uYW1lLGkpfSkpfWVsc2VcInNlbGVjdC1tdWx0aXBsZVwiPT09ZS50eXBlfHxcInNlbGVjdC1vbmVcIj09PWUudHlwZT9UKGUub3B0aW9ucywoZnVuY3Rpb24oaSl7IWkuZGlzYWJsZWQmJmkuc2VsZWN0ZWQmJnQuYXBwZW5kKGUubmFtZSxpLnZhbHVlKX0pKTpcImNoZWNrYm94XCI9PT1lLnR5cGV8fFwicmFkaW9cIj09PWUudHlwZT9lLmNoZWNrZWQmJnQuYXBwZW5kKGUubmFtZSxlLnZhbHVlKTooaT1cInRleHRhcmVhXCI9PT1lLnR5cGU/UihlLnZhbHVlKTplLnZhbHVlLHQuYXBwZW5kKGUubmFtZSxpKSl9KSl9O2lmKChlPVAucHJvdG90eXBlKS5hcHBlbmQ9ZnVuY3Rpb24oZSx0LGkpe3YoYXJndW1lbnRzLDIpLHRoaXMuaS5wdXNoKEMoZSx0LGkpKX0sZS5kZWxldGU9ZnVuY3Rpb24oZSl7dihhcmd1bWVudHMsMSk7dmFyIHQ9W107ZT1TdHJpbmcoZSksVCh0aGlzLmksKGZ1bmN0aW9uKGkpe2lbMF0hPT1lJiZ0LnB1c2goaSl9KSksdGhpcy5pPXR9LGUuZW50cmllcz1mdW5jdGlvbiBlKCl7dmFyIHQsaT10aGlzO3JldHVybiBnKGUsKGZ1bmN0aW9uKGUpe2lmKDE9PWUuaCYmKHQ9MCksMyE9ZS5oKXJldHVybiB0PGkuaS5sZW5ndGg/ZT1fKGUsaS5pW3RdKTooZS5oPTAsZT12b2lkIDApLGU7dCsrLGUuaD0yfSkpfSxlLmZvckVhY2g9ZnVuY3Rpb24oZSx0KXt2KGFyZ3VtZW50cywxKTtmb3IodmFyIGk9Yyh0aGlzKSxuPWkubmV4dCgpOyFuLmRvbmU7bj1pLm5leHQoKSl7dmFyIHI9YyhuLnZhbHVlKTtuPXIubmV4dCgpLnZhbHVlLHI9ci5uZXh0KCkudmFsdWUsZS5jYWxsKHQscixuLHRoaXMpfX0sZS5nZXQ9ZnVuY3Rpb24oZSl7dihhcmd1bWVudHMsMSk7dmFyIHQ9dGhpcy5pO2U9U3RyaW5nKGUpO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV1bMF09PT1lKXJldHVybiB0W2ldWzFdO3JldHVybiBudWxsfSxlLmdldEFsbD1mdW5jdGlvbihlKXt2KGFyZ3VtZW50cywxKTt2YXIgdD1bXTtyZXR1cm4gZT1TdHJpbmcoZSksVCh0aGlzLmksKGZ1bmN0aW9uKGkpe2lbMF09PT1lJiZ0LnB1c2goaVsxXSl9KSksdH0sZS5oYXM9ZnVuY3Rpb24oZSl7dihhcmd1bWVudHMsMSksZT1TdHJpbmcoZSk7Zm9yKHZhciB0PTA7dDx0aGlzLmkubGVuZ3RoO3QrKylpZih0aGlzLmlbdF1bMF09PT1lKXJldHVybiEwO3JldHVybiExfSxlLmtleXM9ZnVuY3Rpb24gZSgpe3ZhciB0LGksbixyLG89dGhpcztyZXR1cm4gZyhlLChmdW5jdGlvbihlKXtpZigxPT1lLmgmJih0PWMobyksaT10Lm5leHQoKSksMyE9ZS5oKXJldHVybiBpLmRvbmU/dm9pZChlLmg9MCk6KG49aS52YWx1ZSxyPWMobiksXyhlLHIubmV4dCgpLnZhbHVlKSk7aT10Lm5leHQoKSxlLmg9Mn0pKX0sZS5zZXQ9ZnVuY3Rpb24oZSx0LGkpe3YoYXJndW1lbnRzLDIpLGU9U3RyaW5nKGUpO3ZhciBuPVtdLHI9QyhlLHQsaSksbz0hMDtUKHRoaXMuaSwoZnVuY3Rpb24odCl7dFswXT09PWU/byYmKG89IW4ucHVzaChyKSk6bi5wdXNoKHQpfSkpLG8mJm4ucHVzaChyKSx0aGlzLmk9bn0sZS52YWx1ZXM9ZnVuY3Rpb24gZSgpe3ZhciB0LGksbixyLG89dGhpcztyZXR1cm4gZyhlLChmdW5jdGlvbihlKXtpZigxPT1lLmgmJih0PWMobyksaT10Lm5leHQoKSksMyE9ZS5oKXJldHVybiBpLmRvbmU/dm9pZChlLmg9MCk6KG49aS52YWx1ZSwocj1jKG4pKS5uZXh0KCksXyhlLHIubmV4dCgpLnZhbHVlKSk7aT10Lm5leHQoKSxlLmg9Mn0pKX0sUC5wcm90b3R5cGUuX2FzTmF0aXZlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBJLHQ9Yyh0aGlzKSxpPXQubmV4dCgpOyFpLmRvbmU7aT10Lm5leHQoKSl7dmFyIG49YyhpLnZhbHVlKTtpPW4ubmV4dCgpLnZhbHVlLG49bi5uZXh0KCkudmFsdWUsZS5hcHBlbmQoaSxuKX1yZXR1cm4gZX0sUC5wcm90b3R5cGUuX2Jsb2I9ZnVuY3Rpb24oKXt2YXIgZT1cIi0tLS1mb3JtZGF0YS1wb2x5ZmlsbC1cIitNYXRoLnJhbmRvbSgpLHQ9W10saT1cIi0tXCIrZSsnXFxyXFxuQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPVwiJztyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlLG4pe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3QucHVzaChpK0QoUihuKSkrJ1wiXFxyXFxuXFxyXFxuJytSKGUpK1wiXFxyXFxuXCIpOnQucHVzaChpK0QoUihuKSkrJ1wiOyBmaWxlbmFtZT1cIicrRChlLm5hbWUpKydcIlxcclxcbkNvbnRlbnQtVHlwZTogJysoZS50eXBlfHxcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKStcIlxcclxcblxcclxcblwiLGUsXCJcXHJcXG5cIil9KSksdC5wdXNoKFwiLS1cIitlK1wiLS1cIiksbmV3IEJsb2IodCx7dHlwZTpcIm11bHRpcGFydC9mb3JtLWRhdGE7IGJvdW5kYXJ5PVwiK2V9KX0sUC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVudHJpZXMoKX0sUC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgRm9ybURhdGFdXCJ9LE8mJiFPLm1hdGNoZXMmJihPLm1hdGNoZXM9Ty5tYXRjaGVzU2VsZWN0b3J8fE8ubW96TWF0Y2hlc1NlbGVjdG9yfHxPLm1zTWF0Y2hlc1NlbGVjdG9yfHxPLm9NYXRjaGVzU2VsZWN0b3J8fE8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9KGU9KHRoaXMuZG9jdW1lbnR8fHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChlKSkubGVuZ3RoOzA8PS0tdCYmZS5pdGVtKHQpIT09dGhpczspO3JldHVybi0xPHR9KSxOJiYoUC5wcm90b3R5cGVbTl09XCJGb3JtRGF0YVwiKSxBKXt2YXIgTD15LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyO3kuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oZSx0KXtMLmNhbGwodGhpcyxlLHQpLFwiY29udGVudC10eXBlXCI9PT1lLnRvTG93ZXJDYXNlKCkmJih0aGlzLkI9ITApfSx5LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe2UgaW5zdGFuY2VvZiBQPyhlPWUuX2Jsb2IoKSx0aGlzLkJ8fHRoaXMuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLGUudHlwZSksQS5jYWxsKHRoaXMsZSkpOkEuY2FsbCh0aGlzLGUpfX1iJiYoeS5mZXRjaD1mdW5jdGlvbihlLHQpe3JldHVybiB0JiZ0LmJvZHkmJnQuYm9keSBpbnN0YW5jZW9mIFAmJih0LmJvZHk9dC5ib2R5Ll9ibG9iKCkpLGIuY2FsbCh0aGlzLGUsdCl9KSx3JiYoeS5uYXZpZ2F0b3Iuc2VuZEJlYWNvbj1mdW5jdGlvbihlLHQpe3JldHVybiB0IGluc3RhbmNlb2YgUCYmKHQ9dC5fYXNOYXRpdmUoKSksdy5jYWxsKHRoaXMsZSx0KX0pLHkuRm9ybURhdGE9UH19KCk7Y29uc3QgRUI9KCk9Pntjb25zdCBlPUNEKFwiQVJFQVNcIik7MD09PWUubGVuZ3RoJiZlLnB1c2goZHguR0xPQkFMKTtyZXR1cm4gbnIoZSkuY2FsbChlLCgoZSx0LGkpPT57Y29uc3Qgbj1tQih0KTtyZXR1cm4gbj8wPT09aT9uOlwiXCIuY29uY2F0KGUsXCIsXCIpLmNvbmNhdChuKTplfSksXCJcIil9LG1CPWU9PmU9PT1keC5PVkVSU0VBP1wiXCIuY29uY2F0KHV4LkFTSUEsXCIsXCIpLmNvbmNhdCh1eC5FVVJPUEUsXCIsXCIpLmNvbmNhdCh1eC5BRlJJQ0EsXCIsXCIpLmNvbmNhdCh1eC5OT1JUSF9BTUVSSUNBLFwiLFwiKS5jb25jYXQodXguU09VVEhfQU1FUklDQSxcIixcIikuY29uY2F0KHV4Lk9DRUFOSUEpOnV4W2VdLGZCPWU9Pntjb25zdCB0PXtDT0RFOlwiXCIsV0VCQ1NfRE9NQUlOOltdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXSxQUk9YWV9DUzpbXSxDRFNfQVA6W10sQUNDT1VOVF9SRUdJU1RFUjpbXSxVQVBfQVA6W10sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXSxMT0dfVVBMT0FEX1NFUlZFUjpbXSxQUk9YWV9TRVJWRVJfVFlQRTM6W119O3JldHVybiBlLm1hcCgoZT0+e2NvbnN0IGk9aHhbZV0sbj1PYmplY3Qua2V5cyhpKTtuJiZuLm1hcCgoZT0+e1wiQ09ERVwiIT09ZSYmKHRbZV09dFtlXS5jb25jYXQoaVtlXSkpfSkpfSkpLHR9LFNCPXtHTE9CQUw6e0FTSUE6W2R4LkNISU5BLGR4LkpBUEFOLGR4LklORElBLGR4LktPUkVBLGR4LkhLTUNdLEVVUk9QRTpbXSxOT1JUSF9BTUVSSUNBOltkeC5VU10sU09VVEhfQU1FUklDQTpbXSxPQ0VBTklBOltdLEFGUklDQTpbXX19LGdCPU9iamVjdC5rZXlzKFNCW2R4LkdMT0JBTF0pLFRCPVtkeC5DSElOQSxkeC5OT1JUSF9BTUVSSUNBLGR4LkVVUk9QRSxkeC5BU0lBLGR4LkpBUEFOLGR4LklORElBLGR4Lk9DRUFOSUEsZHguU09VVEhfQU1FUklDQSxkeC5BRlJJQ0EsZHguS09SRUEsZHguSEtNQyxkeC5VU10sUkI9ZnVuY3Rpb24oZSx0KXtsZXQgaT1bXTtpZihMbihlKS5jYWxsKGUsZHguR0xPQkFMKSl7Y29uc3Qgbz1bZHguR0xPQkFMLGR4Lk9WRVJTRUFdLHM9T2JqZWN0LmtleXMoaHgpO2lmKHQ9PT1keC5HTE9CQUwpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLFwiR0xPQkFMIGlzIGFuIGludmFsaWQgZXhjbHVkZWRBcmVhIHZhbHVlXCIpO2lmKHQ9PT1keC5DSElOQSlpPVtkeC5PVkVSU0VBXTtlbHNlIGlmKHI9dCxMbihnQikuY2FsbChnQixyKSl7Y29uc3QgZT0obj10LFNCW2R4LkdMT0JBTF1bbl18fFtdKSxyPVsuLi5vLHQsLi4uZV07aT1zLmZpbHRlcigoZT0+IUxuKHIpLmNhbGwocixlKSkpfWVsc2UgaWYoZnVuY3Rpb24oZSl7bGV0IHQ9ITE7cmV0dXJuIGdCLmZvckVhY2goKGk9Pnt2YXIgbjtMbihuPVNCW2R4LkdMT0JBTF1baV0pLmNhbGwobixlKSYmKHQ9ITApfSkpLHR9KHQpKXtjb25zdCBlPWZ1bmN0aW9uKGUpe2xldCB0O3JldHVybiBnQi5mb3JFYWNoKChpPT57dmFyIG47TG4obj1TQltkeC5HTE9CQUxdW2ldKS5jYWxsKG4sZSkmJih0PWkpfSkpLHR9KHQpLG49Wy4uLm8sZSx0XTtpPXMuZmlsdGVyKChlPT4hTG4obikuY2FsbChuLGUpKSl9ZWxzZSBpPWU7aT1mdW5jdGlvbihlKXtjb25zdCB0PVtdO3JldHVybiBUQi5mb3JFYWNoKChpPT57TG4oZSkuY2FsbChlLGkpJiZ0LnB1c2goaSl9KSksdC5jb25jYXQoZS5maWx0ZXIoKGU9PiFMbihUQikuY2FsbChUQixlKSkpKX0oaSl9ZWxzZSBpPWU7dmFyIG4scjtyZXR1cm4gaX07ZnVuY3Rpb24gQ0IoZSl7dmFyIHQsaTtpZighZSYmTG4odD1DRChcIkFSRUFTXCIpKS5jYWxsKHQsZHguRVhURU5TSU9OUykpcmV0dXJuIGlQLmRlYnVnKFwidXBkYXRlIGFyZWEgZnJvbSBhcCA6IHJlc2V0XCIpLHZvaWQgdkIoV1UsITApO2lmKCFMbihpPUNEKFwiQVJFQVNcIikpLmNhbGwoaSxkeC5HTE9CQUwpfHwhZSlyZXR1cm47bGV0IG49aHguRVhURU5TSU9OUztuJiYobj17Q09ERTptQihkeC5FWFRFTlNJT05TKSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1cIi5jb25jYXQoZSxcIi5hcC5zZC1ydG4uY29tXCIpXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildLENEU19BUDpbXCJjZHMtYXAtd2ViLTEtXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIiksXCJjZHMtYXAtd2ViLTItXCIuY29uY2F0KGUsXCIuYXAuc2QtcnRuLmNvbVwiKV0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLTEtXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIiksXCJzdWEtYXAtd2ViLTItXCIuY29uY2F0KGUsXCIuYXAuc2QtcnRuLmNvbVwiKV0sVUFQX0FQOltcInVhcC1hcC13ZWItMS1cIi5jb25jYXQoZSxcIi5hZ29yYS5pb1wiKSxcInVhcC1hcC13ZWItMi1cIi5jb25jYXQoZSxcIi5hcC5zZC1ydG4uY29tXCIpXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJ3ZWJydGMtY2xvdWQtcHJveHktXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildfSxpUC5kZWJ1ZyhcInVwZGF0ZSBhcmVhIGZyb20gYXAgc3VjY2VzczogXCIuY29uY2F0KGUsXCIsY29uZmlnIGlzIFwiKSxuKSxSRChcIkFSRUFTXCIsW2R4LkVYVEVOU0lPTlNdLCEwKSxPYmplY3Qua2V5cyhuKS5tYXAoKGU9PntpZihcIkxPR19VUExPQURfU0VSVkVSXCI9PT1lfHxcIkVWRU5UX1JFUE9SVF9ET01BSU5cIj09PWV8fFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIj09PWV8fFwiUFJPWFlfU0VSVkVSX1RZUEUzXCI9PT1lKXtSRChlLG5bZV1bMF0pfWVsc2UgUkQoZSxuW2VdKX0pKSl9ZnVuY3Rpb24gdkIoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtjb25zdCBpPWxQLnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOkxPLlNFVF9BUkVBLG9wdGlvbnM6ZSx0YWc6a08uVFJBQ0VSfSk7dHJ5e2xldCBuPVtdO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYobj1bZV0pLEFycmF5LmlzQXJyYXkoZSkmJihlLmZvckVhY2goKGU9PntpZighTG4obHgpLmNhbGwobHgsZSkpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLFwiaW52YWxpZCBhcmVhIGNvZGVcIil9KSksbj1lKSxcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXtjb25zdHthcmVhQ29kZTp0LGV4Y2x1ZGVkQXJlYTppfT1lO2lmKCF0KXRocm93IG5ldyB1UChoTy5JTlZBTElEX1BBUkFNUyxcImFyZWEgY29kZSBpcyBuZWVkZWRcIik7bGV0IHI9dDtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHI9W3RdKSxuPWk/UkIocixpKTpyfWlmKCF0KXtpZih5RC5BUkVBUyl7Y29uc3QgZT1uZXcgdVAoaE8uUFJPSElCSVRFRF9PUEVSQVRJT04sXCJzZXRBcmVhIGlzIHByb2hpYml0ZWQgYmVjYXVzZSBvZiBjb25maWctZGlzdHJpYnV0ZVwiKTtyZXR1cm4gaS5vbkVycm9yKGUpLHZvaWQgaVAud2FybmluZyhcInNldEFyZWEgaXMgcHJvaGliaXRlZCBiZWNhdXNlIG9mIGNvbmZpZy1kaXN0cmlidXRlXCIpfWlmKExuKG4pLmNhbGwobixkeC5HTE9CQUwpJiZDRChcIkFSRUFTXCIpPT09ZHguRVhURU5TSU9OUyl7Y29uc3QgZT1uZXcgdVAoaE8uUFJPSElCSVRFRF9PUEVSQVRJT04sXCJzZXRBcmVhIGlzIHByb2hpYml0ZWQgYmVjYXVzZSBvZiBhcCBleHRlbnNpb25zXCIpO3JldHVybiBpLm9uRXJyb3IoZSksdm9pZCBpUC53YXJuaW5nKFwic2V0QXJlYSBpcyBwcm9oaWJpdGVkIGJlY2F1c2Ugb2YgYXAgZXh0ZW5zaW9uc1wiKX19UkQoXCJBUkVBU1wiLG4sdCk7Y29uc3Qgcj1mQihuKTtPYmplY3Qua2V5cyhyKS5tYXAoKGU9PntpZihcIkxPR19VUExPQURfU0VSVkVSXCI9PT1lfHxcIkVWRU5UX1JFUE9SVF9ET01BSU5cIj09PWV8fFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIj09PWV8fFwiUFJPWFlfU0VSVkVSX1RZUEUzXCI9PT1lKXtSRChlLHJbZV1bMF0pfWVsc2UgUkQoZSxyW2VdKX0pKSxpUC5kZWJ1ZyhcInNldCBhcmVhIHN1Y2Nlc3M6XCIsbi5qb2luKFwiLFwiKSl9Y2F0Y2goZSl7dGhyb3cgaS5vbkVycm9yKGUpLGV9aS5vblN1Y2Nlc3MoKX1mdW5jdGlvbiB5QihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gSUIoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/eUIoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6eUIoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9bGV0IEFCPTE7ZnVuY3Rpb24gYkIoZSx0LGksbixyKXtBQis9MTtjb25zdCBvPXtzaWQ6aS5zaWQsY29tbWFuZDpcImNvbnZlcmdlQWxsb2NhdGVFZGdlXCIsdWlkOlwiNjY2XCIsYXBwSWQ6aS5hcHBJZCx0czpNYXRoLmZsb29yKERhdGUubm93KCkvMWUzKSxzZXE6QUIscmVxdWVzdElkOkFCLHZlcnNpb246aEQsY25hbWU6aS5jbmFtZX0scz17c2VydmljZV9uYW1lOnQsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KG8pfTtsZXQgYSxjLGQ9ZVswXTtyZXR1cm4gVU4oKGFzeW5jKCk9PnthPURhdGUubm93KCk7Y29uc3QgZT1hd2FpdCBfQihkLHtkYXRhOnMsY2FuY2VsVG9rZW46bixoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOlwiMFwiLFwiWC1QYWNrZXQtVVJJXCI6XCI2MVwifX0pO2lmKGM9RGF0ZS5ub3coKS1hLDAhPT1lLmNvZGUpe2NvbnN0IHQ9bmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJsaXZlIHN0cmVhbWluZyBhcCBlcnJvciwgY29kZVwiK2UuY29kZSx7cmV0cnk6ITAscmVzcG9uc2VUaW1lOmN9KTt0aHJvdyBpUC5lcnJvcih0LnRvU3RyaW5nKCkpLHR9Y29uc3QgaT1KU09OLnBhcnNlKGUuanNvbl9ib2R5KTtpZigyMDAhPT1pLmNvZGUpe2NvbnN0IGU9bmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJsaXZlIHN0cmVhbWluZyBhcHAgY2VudGVyIGVycm9yLCBjb2RlOiBcIi5jb25jYXQoaS5jb2RlLFwiLCByZWFzb246IFwiKS5jb25jYXQoaS5yZWFzb24pLHtjb2RlOmkuY29kZSxyZXNwb25zZVRpbWU6Y30pO3Rocm93IGlQLmVycm9yKGUudG9TdHJpbmcoKSksZX1pZighaS5zZXJ2ZXJzfHwwPT09aS5zZXJ2ZXJzLmxlbmd0aCl7Y29uc3QgZT1uZXcgdVAoaE8uVU5FWFBFQ1RFRF9SRVNQT05TRSxcImxpdmUgc3RyZWFtaW5nIGFwcCBjZW50ZXIgZW1wdHkgc2VydmVyXCIse2NvZGU6aS5jb2RlLHJlc3BvbnNlVGltZTpjfSk7dGhyb3cgaVAuZXJyb3IoZS50b1N0cmluZygpKSxlfWNvbnN0IHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm57YWRkcmVzc0xpc3Q6ZS5zZXJ2ZXJzLm1hcCgoZT0+XCJ3c3M6Ly9cIi5jb25jYXQoZS5hZGRyZXNzLnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KENEKFwiV09SS0VSX0RPTUFJTlwiKSxcIjpcIikuY29uY2F0KGUud3NzLFwiP3NlcnZpY2VOYW1lPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHQpKSkpLHdvcmtlclRva2VuOmUud29ya2VyVG9rZW4sdmlkOmUudmlkfX0oaSx0KTtyZXR1cm4gQ0QoXCJMSVZFX1NUUkVBTUlOR19BRERSRVNTXCIpJiYoci5hZGRyZXNzTGlzdD1DRChcIkxJVkVfU1RSRUFNSU5HX0FERFJFU1NcIilpbnN0YW5jZW9mIEFycmF5P0NEKFwiTElWRV9TVFJFQU1JTkdfQUREUkVTU1wiKTpbQ0QoXCJMSVZFX1NUUkVBTUlOR19BRERSRVNTXCIpXSksSUIoSUIoe30scikse30se3Jlc3BvbnNlVGltZTpjfSl9KSwoKG4scik9PihsUC5hcHdvcmtlckV2ZW50KGkuc2lkLHtzdWNjZXNzOiEwLHNjOjIwMCxzZXJ2aWNlTmFtZTp0LHJlc3BvbnNlRGV0YWlsOkpTT04uc3RyaW5naWZ5KG4uYWRkcmVzc0xpc3QpLGZpcnN0U3VjY2VzczowPT09cixyZXNwb25zZVRpbWU6YyxzZXJ2ZXJJcDplW3IlZS5sZW5ndGhdfSksITEpKSwoKG4scik9PihsUC5hcHdvcmtlckV2ZW50KGkuc2lkLHtzdWNjZXNzOiExLHNjOm4uZGF0YSYmbi5kYXRhLmNvZGV8fDIwMCxzZXJ2aWNlTmFtZTp0LHJlc3BvbnNlVGltZTpjLHNlcnZlcklwOmVbciVlLmxlbmd0aF19KSwhIShuLmNvZGUhPT1oTy5PUEVSQVRJT05fQUJPUlRFRCYmbi5jb2RlIT09aE8uVU5FWFBFQ1RFRF9SRVNQT05TRXx8bi5kYXRhJiZuLmRhdGEucmV0cnkpJiYoZD1lWyhyKzEpJWUubGVuZ3RoXSwhMCkpKSxyKX1sZXQgd0I9MTtmdW5jdGlvbiBPQihlLHQsaSxuKXtsZXR7dXJsOnIsYXJlYUNvZGU6b309ZTtjb25zdHtjbGllbnRJZDpzLHNpZDphfT10LGM9RGF0ZS5ub3coKTtsZXQgZDtjb25zdCBsPXQucm9sZSxbdSxoXT1rQih0LG8sW2lGLkNIT09TRV9TRVJWRVJdKTtsZXQgcD1RTy5uZXR3b3JrU3RhdGU7cmV0dXJuIFVOKChhc3luYygpPT57cCYmUU8ubmV0d29ya1N0YXRlPT09S08uT0ZGTElORSYmUU8ub25saW5lV2FpdGVyJiZhd2FpdCBycC5yYWNlKFtRTy5vbmxpbmVXYWl0ZXIsZk4obiYmbi5tYXhSZXRyeVRpbWVvdXR8fGtOLm1heFJldHJ5VGltZW91dCldKSxwPVFPLm5ldHdvcmtTdGF0ZTtjb25zdHtkYXRhOmUsaGVhZGVyczpvfT1hd2FpdCBfQihyLHtkYXRhOnUsY2FuY2VsVG9rZW46aSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwibXVsdGlwYXJ0L2Zvcm0tZGF0YTtcIn19LCEwLCEwKTtkPVwiMVwiPT09by5odHRwMz8xOi0xLGxQLnJlcG9ydFJlc291cmNlVGltaW5nKHIsYSksREIoZSxyLHQsYyxbaUYuQ0hPT1NFX1NFUlZFUl0sZCk7Y29uc3Qgcz1oRihlLGlGLkNIT09TRV9TRVJWRVIpO3JldHVybiBQQihzKSxjRihzLHIpfSksKGU9PihlJiZsUC5qb2luQ2hvb3NlU2VydmVyKGEse3JvbGU6bCxsdHM6YyxzdWNjOiEwLGNzQWRkcjpyLG9waWQ6aCxzZXJ2ZXJMaXN0OmUuZ2F0ZXdheUFkZHJzLm1hcCgoZT0+ZS5hZGRyZXNzKSksZWM6bnVsbCxjaWQ6ZS5jaWQudG9TdHJpbmcoKSx1aWQ6ZS51aWQudG9TdHJpbmcoKSxjc0lwOmUuY3NJcCx1bmlsYnNTZXJ2ZXJJZHM6W2lGLkNIT09TRV9TRVJWRVJdLnRvU3RyaW5nKCksaXNIdHRwMzpkLGNvcnNzUmVnaW9uVGFnUmVxOnQuYXBSZXF1ZXN0RGV0YWlsLGNvcnNzUmVnaW9uVGFnUmVzOmUucmVzLmRldGFpbCYmZS5yZXMuZGV0YWlsWzM4XSx2aWQ6ZS52aWR9KSwhMSkpLChlPT5lLmNvZGUhPT1oTy5PUEVSQVRJT05fQUJPUlRFRCYmKGUuY29kZT09PWhPLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSP2UuZGF0YS5yZXRyeToobFAuam9pbkNob29zZVNlcnZlcihhLHtyb2xlOmwsbHRzOmMsc3VjYzohMSxjc0FkZHI6cixzZXJ2ZXJMaXN0Om51bGwsb3BpZDpoLGVjOmUuY29kZSxjc0lwOmUuZGF0YSYmZS5kYXRhLmNzSXAsdW5pbGJzU2VydmVySWRzOltpRi5DSE9PU0VfU0VSVkVSXS50b1N0cmluZygpLGV4dGVuZDpKU09OLnN0cmluZ2lmeSh7bmV0d29ya1N0YXRlOnB9KSxpc0h0dHAzOmQsY29yc3NSZWdpb25UYWdSZXE6dC5hcFJlcXVlc3REZXRhaWx9KSxpUC53YXJuaW5nKFwiW1wiLmNvbmNhdChzfHxcInNpZC1cIi5jb25jYXQoYS5zbGljZSgwLDYpKSxcIl0gQ2hvb3NlIHNlcnZlciBuZXR3b3JrIGVycm9yLCByZXRyeVwiKSxlKSwhMCkpKSxuKX1mdW5jdGlvbiBOQihlLHQsaSxuKXtsZXQgcix7dXJsOm8sYXJlYUNvZGU6cyxzZXJ2aWNlSWRzOmF9PWU7Y29uc3QgYz1EYXRlLm5vdygpLGQ9dC5yb2xlLFtsLHVdPWtCKHQscyxhKTtsZXQgaDtyZXR1cm4gVU4oKGFzeW5jKCk9PntoJiZRTy5uZXR3b3JrU3RhdGU9PT1LTy5PRkZMSU5FJiZRTy5vbmxpbmVXYWl0ZXImJmF3YWl0IHJwLnJhY2UoW1FPLm9ubGluZVdhaXRlcixmTihuJiZuLm1heFJldHJ5VGltZW91dHx8a04ubWF4UmV0cnlUaW1lb3V0KV0pLGg9UU8ubmV0d29ya1N0YXRlO2NvbnN0e2RhdGE6ZSxoZWFkZXJzOnN9PWF3YWl0IF9CKG8se2RhdGE6bCxjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvZm9ybS1kYXRhO1wifX0sITAsITApO3I9XCIxXCI9PT1zLmh0dHAzPzE6LTEsbFAucmVwb3J0UmVzb3VyY2VUaW1pbmcobyx0LnNpZCksREIoZSxvLHQsYyxhLHIpO2NvbnN0IGQ9aEYoZSxpRi5DSE9PU0VfU0VSVkVSKSx1PWhGKGUsXCJwcm94eTVcIj09PXQuY2xvdWRQcm94eVNlcnZlcj9pRi5DTE9VRF9QUk9YWV81OlwicHJveHkzXCI9PT10LmNsb3VkUHJveHlTZXJ2ZXJ8fFwicHJveHk0XCI9PT10LmNsb3VkUHJveHlTZXJ2ZXI/aUYuQ0xPVURfUFJPWFk6aUYuQ0xPVURfUFJPWFlfRkFMTEJBQ0spLHA9cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZShvKSxfPXBbcC5sZW5ndGgtMV07bGV0IEU7cmV0dXJuIF8mJihFPXtuYW1lOl8ubmFtZSxwcm90b2NvbDpcIm5leHRIb3BQcm90b2NvbFwiaW4gXz9fLm5leHRIb3BQcm90b2NvbDpcIlwiLGRuc2Nvc3Q6XCJkb21haW5Mb29rdXBFbmRcImluIF8mJlwiZG9tYWluTG9va3VwU3RhcnRcImluIF8mJlwibnVtYmVyXCI9PXR5cGVvZiBfLmRvbWFpbkxvb2t1cEVuZCYmXCJudW1iZXJcIj09dHlwZW9mIF8uZG9tYWluTG9va3VwU3RhcnQ/Xy5kb21haW5Mb29rdXBFbmQtXy5kb21haW5Mb29rdXBTdGFydDotMSx0Y3BUbHNDb3N0OlwiY29ubmVjdEVuZFwiaW4gXyYmXCJjb25uZWN0U3RhcnRcImluIF8mJlwibnVtYmVyXCI9PXR5cGVvZiBfLmNvbm5lY3RFbmQmJlwibnVtYmVyXCI9PXR5cGVvZiBfLmNvbm5lY3RTdGFydD9fLmNvbm5lY3RFbmQtXy5jb25uZWN0U3RhcnQ6LTEscmVxQ29zdDpcInJlcXVlc3RTdGFydFwiaW4gXyYmXCJudW1iZXJcIj09dHlwZW9mIF8ucmVxdWVzdFN0YXJ0JiZcInJlc3BvbnNlRW5kXCJpbiBfJiZcIm51bWJlclwiPT10eXBlb2YgXy5yZXNwb25zZUVuZD9fLnJlc3BvbnNlRW5kLV8ucmVxdWVzdFN0YXJ0Oi0xLGhhbmRsZUNvc3Q6XCJsZWF2ZV90c1wiaW4gZSYmXCJlbnRlcl90c1wiaW4gZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVhdmVfdHMmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmVudGVyX3RzP2UubGVhdmVfdHMtZS5lbnRlcl90czotMX0pLFBCKGQpLHtnYXRld2F5SW5mbzpjRihkLG8pLHByb3h5SW5mbzp1LHVybDpvLHJlc291cmNlVGltaW5nSW5mbzpFfX0pLChlPT57dmFyIGk7cmV0dXJuIGUuZ2F0ZXdheUluZm8mJmxQLmpvaW5DaG9vc2VTZXJ2ZXIodC5zaWQse3JvbGU6ZCxsdHM6YyxzdWNjOiEwLGNzQWRkcjpvLHNlcnZlckxpc3Q6ZS5nYXRld2F5SW5mby5nYXRld2F5QWRkcnMubWFwKChlPT5lLmFkZHJlc3MpKSxlYzpudWxsLG9waWQ6dSxjaWQ6ZS5nYXRld2F5SW5mby5jaWQudG9TdHJpbmcoKSx1aWQ6ZS5nYXRld2F5SW5mby51aWQudG9TdHJpbmcoKSxjc0lwOmUuZ2F0ZXdheUluZm8uY3NJcCx1bmlsYnNTZXJ2ZXJJZHM6YS50b1N0cmluZygpLGlzSHR0cDM6cixjb3Jzc1JlZ2lvblRhZ1JlcTp0LmFwUmVxdWVzdERldGFpbCxjb3Jzc1JlZ2lvblRhZ1JlczplLmdhdGV3YXlJbmZvLnJlcy5kZXRhaWwmJmUuZ2F0ZXdheUluZm8ucmVzLmRldGFpbFszOF0sdmlkOm51bGw9PT0oaT1lLmdhdGV3YXlJbmZvKXx8dm9pZCAwPT09aT92b2lkIDA6aS52aWQscmVzb3VyY2VUaW1pbmdJbmZvOmUucmVzb3VyY2VUaW1pbmdJbmZvP0pTT04uc3RyaW5naWZ5KGUucmVzb3VyY2VUaW1pbmdJbmZvKTp2b2lkIDB9KSxlLnByb3h5SW5mbyYmbFAuam9pbldlYlByb3h5QVAodC5zaWQse2x0czpjLHN1Y2VzczoxLGFwU2VydmVyQWRkcjpvLHR1cm5TZXJ2ZXJBZGRyTGlzdDplLnByb3h5SW5mby5hZGRyZXNzZXMubWFwKChlPT5lLmlwKSkuam9pbihcIixcIiksZXJyb3JDb2RlOm51bGwsZXZlbnRUeXBlOnQuY2xvdWRQcm94eVNlcnZlcix1bmlsYnNTZXJ2ZXJJZHM6YS50b1N0cmluZygpfSksITF9KSwoZT0+ZS5jb2RlIT09aE8uT1BFUkFUSU9OX0FCT1JURUQmJihlLmNvZGU9PT1oTy5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUj9lLmRhdGEucmV0cnk6KGxQLmpvaW5XZWJQcm94eUFQKHQuc2lkLHtsdHM6YyxzdWNlc3M6MCxhcFNlcnZlckFkZHI6byx0dXJuU2VydmVyQWRkckxpc3Q6bnVsbCxlcnJvckNvZGU6ZS5jb2RlLGV2ZW50VHlwZTp0LmNsb3VkUHJveHlTZXJ2ZXIsdW5pbGJzU2VydmVySWRzOmEudG9TdHJpbmcoKSxleHRlbmQ6SlNPTi5zdHJpbmdpZnkoe25ldHdvcmtTdGF0ZTpofSl9KSxpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBtdWx0aSB1bmlsYnMgbmV0d29yayBlcnJvciwgcmV0cnlcIiksZSksITApKSksbil9Y29uc3QgREI9KGUsdCxpLG4scixvKT0+e2NvbnN0e3NpZDpzLGNsaWVudElkOmEsY2xvdWRQcm94eVNlcnZlcjpjfT1pLGQ9W10sbD1hPT57NDA5Nj09PWEuZmxhZz9sUC5qb2luQ2hvb3NlU2VydmVyKHMse3JvbGU6aS5yb2xlLGx0czpuLHN1Y2M6ITEsY3NBZGRyOnQsb3BpZDplLm9waWQsc2VydmVyTGlzdDpudWxsLGVjOmEuZXJyb3IubWVzc2FnZSxjc0lwOmEuZXJyb3IuZGF0YSYmYS5lcnJvci5kYXRhLmNzSXAsdW5pbGJzU2VydmVySWRzOnIudG9TdHJpbmcoKSxpc0h0dHAzOm8sY29yc3NSZWdpb25UYWdSZXE6aS5hcFJlcXVlc3REZXRhaWx9KToxMDQ4NTc2IT09YS5mbGFnJiY0MTk0MzA0IT09YS5mbGFnJiY0MTk0MzEwIT09YS5mbGFnfHxsUC5qb2luV2ViUHJveHlBUChzLHtsdHM6bixzdWNlc3M6MCxhcFNlcnZlckFkZHI6dCx0dXJuU2VydmVyQWRkckxpc3Q6bnVsbCxlcnJvckNvZGU6YS5lcnJvci5jb2RlLGV2ZW50VHlwZTpjLHVuaWxic1NlcnZlcklkczpyLnRvU3RyaW5nKCl9KX07aWYoZS5yZXNwb25zZV9ib2R5LmZvckVhY2goKHQ9Pntjb25zdCBpPXQuYnVmZmVyLmNvZGU7aWYoMjM9PT10LnVyaSYmMD09PWkmJiF0LmJ1ZmZlci5lZGdlc19zZXJ2aWNlcylpZig0MTk0MzEwPT09dC5idWZmZXIuZmxhZylpUC53YXJuaW5nKFwibm8gZWRnZSBzZXJ2aWNlcyBpbiBhcCByZXNwb25zZSBvZiBwcm94eSBmYWxsYmFjaywgd2lsbCBub3Qgc2V0IHByb3h5IGluIGljZVNlcnZlcnNcIiksdC5idWZmZXIuZWRnZXNfc2VydmljZXM9W107ZWxzZXtjb25zdCBpPXtlcnJvcjpuZXcgdVAoaE8uQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsXCJubyBlZGdlIHNlcnZpY2VzIGluIGFwIHJlc3BvbnNlXCIse3JldHJ5OkNEKFwiTk9fRURHRVNfUkVUUllcIiksY3NJcDplLmRldGFpbFs1MDJdfSksZmxhZzp0LmJ1ZmZlci5mbGFnfTtkLnB1c2goaSksbChpKX1pZigwIT09aSl7Y29uc3Qgbj14eChpKSxyPXtlcnJvcjpuZXcgdVAoaE8uQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsbi5kZXNjLHtkZXNjOm4uZGVzYyxyZXRyeTpuLnJldHJ5LGNzSXA6ZS5kZXRhaWxbNTAyXX0pLGZsYWc6dC5idWZmZXIuZmxhZ307NDE5NDMxMD09PXQuYnVmZmVyLmZsYWc/aVAud2FybmluZyhyLmVycm9yLnRvU3RyaW5nKCkpOmQucHVzaChyKSxsKHIpfX0pKSxkLmxlbmd0aCl0aHJvdyBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdChhfHxcInNpZC1cIi5jb25jYXQocy5zbGljZSgwLDYpKSxcIl0gbXVsdGkgdW5pbGJzIFwiKS5jb25jYXQodCxcIiBmYWlsZWQsIFwiKS5jb25jYXQoZC5tYXAoKGU9PlwiZmxhZzogXCIuY29uY2F0KGUuZmxhZyxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdChlLmVycm9yLm1lc3NhZ2UsXCIsIHJldHJ5OiBcIikuY29uY2F0KGUuZXJyb3IuZGF0YS5yZXRyeSkpKS5qb2luKFwiIHwgXCIpKSksbmV3IHVQKGhPLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLGQubWFwKChlPT5cImZsYWc6IFwiLmNvbmNhdChlLmZsYWcsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQoZS5lcnJvci5tZXNzYWdlKSkpLmpvaW4oXCIgfCBcIikse3JldHJ5OiEhZC5maW5kKChlPT5lLmVycm9yLmRhdGEucmV0cnkpKSxjc0lwOmUuZGV0YWlsWzUwMl0sZGVzYzpbLi4ubmV3IFNldChkLm1hcCgoZT0+e3ZhciB0O3JldHVybiBudWxsPT1lfHxudWxsPT09KHQ9ZS5lcnJvcil8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LmRhdGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRlc2N9KSkuZmlsdGVyKChlPT4hIWUpKSldfSl9LFBCPWU9Pnt2YXIgdCxpLG4scjtpZihlLmFkZHJlc3NlcyYmMD09PWUuYWRkcmVzc2VzLmxlbmd0aCYmMD09PWUuY29kZSl0aHJvdyBuZXcgdVAoaE8uQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsXCJ2b2lkIGdhdGV3YXkgYWRkcmVzc1wiLHtyZXRyeTohMCxjc0lwOmUuZGV0YWlsJiZlLmRldGFpbFs1MDJdfSk7Q0QoXCJBUF9BUkVBXCIpJiYobnVsbCE9PShuPWUuZGV0YWlsKSYmdm9pZCAwIT09biYmblsyM10mJlwic3RyaW5nXCI9PXR5cGVvZihudWxsPT09KHI9ZS5kZXRhaWwpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyWzIzXSk/Q0IoZS5kZXRhaWxbMjNdLnRvTG93ZXJDYXNlKCkpOkNCKCkpO2lmKG51bGwhPT0odD1lLmRldGFpbCkmJnZvaWQgMCE9PXQmJnRbMTldJiZcInN0cmluZ1wiPT10eXBlb2YobnVsbD09PShpPWUuZGV0YWlsKXx8dm9pZCAwPT09aT92b2lkIDA6aVsxOV0pKXtjb25zdCB0PWUuZGV0YWlsWzE5XSxpPW51bGw9PXQ/dm9pZCAwOnQuc3BsaXQoXCI7XCIpO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXt2YXIgbztjb25zdCBuPWtnKG89aVt0XSkuY2FsbChvKTtlLmFkZHJlc3Nlc1t0XSYmaSYmKGUuYWRkcmVzc2VzW3RdLmZpbmdlcnByaW50PW4pfX1pZihDRChcIkdBVEVXQVlfQUREUkVTU1wiKSYmQ0QoXCJHQVRFV0FZX0FERFJFU1NcIikubGVuZ3RoPjApe2lQLmRlYnVnKFwiYXNzaWduIGdhdGV3YXkgYWRkcmVzcyB0b1wiLENEKFwiR0FURVdBWV9BRERSRVNTXCIpKTtjb25zdCB0PUNEKFwiR0FURVdBWV9BRERSRVNTXCIpLm1hcCgodD0+e3ZhciBpLG47Y29uc3Qgcj1udWxsIT09KGk9bnVsbD09PShuPWUuYWRkcmVzc2VzLmZpbmQoKGU9PmUuaXA9PT10LmlwJiZlLnBvcnQ9PT10LnBvcnQpKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZmluZ2VycHJpbnQpJiZ2b2lkIDAhPT1pP2k6XCJcIjtyZXR1cm57aXA6dC5pcCxwb3J0OnQucG9ydCx0aWNrZXQ6ZS5hZGRyZXNzZXNbMF0mJmUuYWRkcmVzc2VzWzBdLnRpY2tldCxmaW5nZXJwcmludDp0LmZpbmdlcnByaW50fHxyfX0pKTtlLmFkZHJlc3Nlcz10fX0sTEI9KGUsdCk9PntpZihlLnJlc3BvbnNlX2JvZHkmJmUucmVzcG9uc2VfYm9keS5sZW5ndGgpe2NvbnN0IHQ9ZS5yZXNwb25zZV9ib2R5WzBdO2lmKDAhPT10LmJ1ZmZlci5jb2RlKXtjb25zdCBlPXh4KHQuYnVmZmVyLmNvZGUpO3Rocm93IG5ldyB1UChoTy5VUERBVEVfVElDS0VUX0ZBSUxFRCxcIltcIi5jb25jYXQodC5idWZmZXIuY29kZSxcIl06IFwiKS5jb25jYXQoZS5kZXNjKSx7cmV0cnk6ZS5yZXRyeX0pfXJldHVybiB0LmJ1ZmZlci50aWNrZXR9dGhyb3cgaVAuZGVidWcoXCJ1cGRhdGUgdGlja2V0IHJlcXVlc3QgcmVjZWl2ZWQgYXAgcmVzcG9uc2Ugd2l0aG91dCByZXNwb25zZSBib2R5OlwiLHQpLG5ldyB1UChoTy5VUERBVEVfVElDS0VUX0ZBSUxFRCxcImNhbm5vdCBmaW5kIHJlc3BvbnNlIGJvZHkgZnJvbSBhcCByZXNwb25zZVwiLHtyZXRyeTohMX0pfSxrQj0oZSx0LGkpPT57Y29uc3Qgbj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAqKjEyKSxyPVwiaG9zdFwiPT09ZS5yb2xlP1wiMVwiOlwiYXVkaWVuY2VcIj09PWUucm9sZT9cIjJcIjp2b2lkIDAsbz17YXBwaWQ6ZS5hcHBJZCxjbGllbnRfdHM6RGF0ZS5ub3coKSxvcGlkOm4sc2lkOmUuc2lkLHJlcXVlc3RfYm9kaWVzOlt7dXJpOjIyLGJ1ZmZlcjp7Y25hbWU6ZS5jbmFtZSxkZXRhaWw6SUIoSUIoSUIoezY6ZS5zdHJpbmdVaWQsMTE6dCwxMjpDRChcIlVTRV9ORVdfVE9LRU5cIik/XCIxXCI6dm9pZCAwfSxyP3sxNzpyfTp7fSkse30sezIyOnR9LGUuYXBSZXF1ZXN0RGV0YWlsP3szMzplLmFwUmVxdWVzdERldGFpbH06e30pLGUuYXBSVE0/ezI2OlwiUlRNMlwifTp7fSksa2V5OmUudG9rZW4sc2VydmljZV9pZHM6aSx1aWQ6ZS51aWR8fDB9fV19O28ucmVxdWVzdF9ib2RpZXMuZm9yRWFjaCgodD0+e2UubXVsdGlJUCYmZS5tdWx0aUlQLmdhdGV3YXlfaXAmJih0LmJ1ZmZlci5kZXRhaWxbNV09SlNPTi5zdHJpbmdpZnkoe3ZvY3NfaXA6W2UubXVsdGlJUC51bmlfbGJzX2lwXSx2b3NfaXA6W2UubXVsdGlJUC5nYXRld2F5X2lwXX0pKX0pKTtjb25zdCBzPW5ldyBGb3JtRGF0YTtyZXR1cm4gcy5hcHBlbmQoXCJyZXF1ZXN0XCIsSlNPTi5zdHJpbmdpZnkobykpLFtzLG5dfSxNQj0oZSx0KT0+e2NvbnN0IGk9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKioxMiksbj17YXBwaWQ6ZS5hcHBJZCxjbGllbnRfdHM6RGF0ZS5ub3coKSxvcGlkOmksc2lkOmUuc2lkLHJlcXVlc3RfYm9kaWVzOlt7dXJpOjI4LGJ1ZmZlcjp7Y25hbWU6ZS5jbmFtZSxkZXRhaWw6ezE6XCJcIiw2OmUuc3RyaW5nVWlkLDEyOlwiMVwifSx0b2tlbjplLnRva2VuLHNlcnZpY2VfaWRzOnQsdWlkOmUudWlkfHwwLGVkZ2VzX3NlcnZpY2VzOmUuYXBSZXNwb25zZS5hZGRyZXNzZXMubWFwKChlPT4oe2lwOmUuaXAscG9ydDplLnBvcnR9KSkpfX1dfSxyPW5ldyBGb3JtRGF0YTtyZXR1cm4gci5hcHBlbmQoXCJyZXF1ZXN0XCIsSlNPTi5zdHJpbmdpZnkobikpLFtyLGldfTtsZXQgVUI9MDtmdW5jdGlvbiBWQihlKXtyZXR1cm4gcnAuYWxsKGUubWFwKChlPT5lLnRoZW4oKGU9Pnt0aHJvdyBlfSksKGU9PmUpKSkpKS50aGVuKChlPT57dGhyb3cgZX0pLChlPT5lKSl9Y29uc3QgeEI9YXN5bmMgZT0+e2xldHtmcmFnZW1lbnRMZW5ndGg6dCxyZWZlcmVuY2VMaXN0OmksYXN5bmNNYXBIYW5kbGVyOm4sYWxsRmFpbGVkaGFuZGxlcjpyLHByb21pc2VzQ29sbGVjdG9yOm99PWUscz0wO2NvbnN0IGE9dDtsZXQgYyxkPTA7Y29uc3QgbD1hc3luYygpPT57Y29uc3QgZT0oKCk9Pntjb25zdCBlPXMqYSx0PWUrYTtyZXR1cm4gaS5zbGljZShlLHQpLm1hcChuKX0pKCk7byYmby5wdXNoKC4uLmUpO3RyeXtjPWF3YWl0IFZCKGUpfWNhdGNoKGUpe2lmKGQrPWEscysrLCEoZD49aS5sZW5ndGgpKXJldHVybiB2b2lkIGF3YWl0IGwoKTtyKGUpfWUuZm9yRWFjaCgoZT0+ZS5jYW5jZWwoKSkpfTtyZXR1cm4gYXdhaXQgbCgpLGN9LEZCPWFzeW5jIGU9PntsZXR7cmVmZXJlbmNlTGlzdDp0LGFzeW5jTWFwSGFuZGxlcjppLGNsb3NlRm46bn09ZTtjb25zdCByPXQubGVuZ3RoO2xldCBvPTA7Y29uc3Qgcz1hc3luYygpPT57Y29uc3QgZT1pKHQuc2hpZnQoKSk7dHJ5e3JldHVybiBhd2FpdCBlfWNhdGNoKGUpe2lmKG8rKyxvPj1yfHxudWxsIT1uJiZuKGUpKXRocm93IGU7cmV0dXJuIHMoKX19O3JldHVybiBzKCl9O2FzeW5jIGZ1bmN0aW9uIEJCKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFZpZGVvRGVjb2RlcilyZXR1cm4hMDtsZXQgZTtjb25zdCB0PVsxOCwwLDEwLDEzLDAsMCwwLDMsMTgwLDI1MywxNDQsNiwxMzYsOCw4LDgsMzIsNTAsODUsMTYsNjYsMTI4LDIsOCwzMiwxMzIsMCw4LDAsMTgwLDkwLDIwNCwxNjksMTY2LDI0MiwxMDksMjQxLDE5MCwxNDMsMTQ5LDE2MCwxMzMsNCwxNDQsNDMsMTIyLDE2OCwxNTksMTIwLDE1OSwyMDUsMzksODIsMTMxLDU3LDUyLDg3LDE4Nyw2OCwyMywyNDgsMTM0LDIwNCwyMjYsOTcsMTcsNDksMTgzLDU1LDIzNiwyMTksMjQ5LDIyMSw5OCwyMDgsMjE1LDE5MCw1OSwxNzksMTY3LDIxMyw0NywxLDI0NiwxNTAsMTQsMTk0LDI0NSwxNTksODMsMzUsNjQsMTAzLDIxOCwzOCwyMSw4MiwzLDEzNSwyMSwxODUsODQsMjQ4LDEzNF0saT1bMTgsMCwxMCwxMywwLDAsMCwzLDE4MCwyNTMsMTQ0LDYsMTM2LDgsOCw4LDMyLDUwLDg3LDE2LDY2LDEyOCwyLDgsMzIsMTMyLDAsOCwwLDE4MCw5MCwyMDQsMTY5LDE2NiwyNDIsMTA5LDI0MSwxOTAsMTQzLDE0OCw2MiwxMzQsMTQwLDkyLDE3MiwxNDEsNzcsMzUsOTQsMTgxLDE2NCw2NSwxNjksNjUsMTU2LDE1NCw0MywyMjEsMTYyLDExLDI1Miw2NywxMDIsMTEzLDQ4LDEzNiwxMzcsMjE5LDYyLDQzLDExMywyMzksMjMsMTI2LDI1MCwxODYsMjUyLDEwLDEzOCwyMTgsMjUsMTkzLDI0NCw3NCw2OCwxOTQsMjA5LDEwNywyMyw1MiwyMDYsMTk5LDc4LDcyLDk4LDEwMywxNTEsNzEsOTYsNjIsNTEsMjEwLDE1OCw3MiwyMzEsMTU4XSxuPVsxOCwwLDEwLDEzLDAsMCwwLDMsMTgwLDI1MywxNDQsNiwxMzYsOCw4LDgsMzIsNTAsODcsMTYsNjYsMTI4LDIsOCwzMiwxMzIsMCw4LDAsMTgwLDkwLDIwNCwxNjksMTY2LDI0MiwxMDksMjQxLDE5MCwxNDMsMTQzLDIzMywxNjMsNTEsMTk2LDk4LDk1LDE1MSwyMjQsMjIsMTM0LDMzLDI0MCwxNTAsMjQ4LDY3LDE4LDM0LDE5NiwxNDIsODEsMjM4LDE3MywxNDAsODAsMjA1LDIzMiwxMzIsMTQ0LDY3LDEyLDEzMSwxNTcsNCwxNzEsMjQzLDg2LDEyMiwzNSw2LDE2NiwxODQsMjQzLDg1LDEyNiwxMywyMDYsMTAzLDE1Miw2MiwxNjgsMTYwLDE4NywyLDI0MSwxMzgsNTIsMjExLDcyLDEyMSwxMjgsMTUxLDYzLDE0NywxMjgsMTksNDJdLHI9WzE4LDAsNTAsMTM4LDEsNDgsMTkyLDY0LDI1MywyNDgsNjUsMTcsNjcsMTkyLDMyLDAsMTYsMCwwLDAsMCwwLDAsMCwxOTUsMTIsNDgsMTQ0LDY0LDMyLDAsMjA5LDc1LDYxLDksMjA0LDI1LDExNSw3OSwyMjYsMTE1LDYzLDYzLDIwOCw3MCwyMTAsMjIwLDE1MywxMjYsMjQxLDIzNywzNywxMDcsMTk1LDE1MywxLDk5LDExMiwyMzAsMTg5LDIwOSwxNjksMTMwLDEwLDExLDIyLDE2NywyMTUsMTU5LDIwNSwxOTcsNywxODMsMTYyLDI2LDQ4LDI1NCwxNDEsMTM0LDEwMywzMiwxNiwyMzUsNDUsMSwxNSwxOCwxMTksMTY5LDExMCwyMDYsMjUxLDUxLDExNSwyMDIsNjAsMTQ4LDEsNDYsMzksMTA5LDI1LDI4LDg2LDE2OCwxNSw3NywyMTEsMjM5LDIsNTgsNDMsMTQ2LDI2LDIzMCwxODQsODEsNDgsMTQwLDIyNiwyMjYsMjUwLDIyMiwxNDYsMTcxLDEzMywxNjQsMTMsMTg4LDE4MCw2NCwxMjIsMTQyLDE0NiwzMiwyMDgsMjM4LDE3MCwxOTMsMzUsNTMsNDQsMjI1XSxvPVsxOCwwLDUwLDEwNyw0OCwwLDEzMywxMjUsMjQ4LDY1LDI2LDE5NSw2NCw2MiwzMiwzMSwxNiwwLDAsMCwwLDAsMSw0LDE2LDY0LDE0NCw2NCwzMiwwLDIwNCwyNCwxMjIsNjUsNTYsMTY1LDE4LDUyLDIwNiwyMTgsNCwxODcsNTEsOTcsOSwyOSwxOTEsOTAsMjUzLDEwNiwxODUsMzEsMTk3LDE1NSw1MiwyMDUsMjQ1LDE4NSwyMDMsMTMxLDIwLDIyNiwyNSwxMjQsOTUsMTEzLDIyMCwxMTMsMTQxLDE1LDE1LDEwNCwyMTEsMTQ0LDE1MiwyMzcsMTUwLDE1NywxMjcsNTEsMTQzLDI0LDIzMSwyMTgsMTcxLDI1NSwxNzYsMjQxLDEyOCwyMjksMTQ5LDE1MCwxNDgsNjYsMjQ1LDIyOCw5MSwyNywxODIsMjI4LDEzNiw2MSwxODIsMjM3LDEzMyw0NSwyMjAsMjQsMTAzLDIxNCwxNTJdLHM9WzE4LDAsNTAsMTIyLDQ4LDEsOSwyNTMsMjQ4LDY1LDI2LDY3LDY0LDYyLDMyLDMxLDE2LDAsMCwwLDAsMCwxLDQsMTYsNjQsMTQ0LDY0LDMyLDAsMTk4LDE4MiwyMzEsMjQyLDIyMCwyMzUsMTYzLDE0MCwxMiwzNiwzNiwxNjYsNDYsMTMyLDIxMCw0LDcxLDIzLDIxOCwxMzIsMjcsMzAsMTcsNDUsMjQ0LDc5LDMxLDI0MywxOTUsMTM2LDEwMCwxNjksNzYsODgsMTQyLDg1LDIwNCwyMTcsMTIxLDE2OCwyOSwxNjMsMTk4LDE3LDI1MSwyMjMsNzMsMTIsMjEyLDI0NCwxMzksMTIzLDE1MSwxNzksNzUsMjE2LDk2LDIwOCwxMzYsNDAsMjI5LDQyLDU5LDE0OSwxMCwxMTYsMjI4LDg1LDk5LDkzLDIyMSwxMDgsMjU1LDE0MCwyNDgsMjAsMzAsMTY3LDEyMiwxMDksMjA2LDE2NCwxMDgsMTk3LDExMCwyNTEsMjMsMjQzLDEzMywxNjAsNjMsMTMsMjA3LDE3NywxMiwxMjhdLGE9YXdhaXQgbmV3IHJwKCgoYSxjKT0+e2xldCBkOyFhc3luYyBmdW5jdGlvbigpe2UmJlwiY2xvc2VkXCIhPT1lLnN0YXRlfHxhd2FpdCBhc3luYyBmdW5jdGlvbigpe2U9bmV3IFZpZGVvRGVjb2Rlcih7b3V0cHV0OmU9PntlLmNsb3NlKCksY2xlYXJUaW1lb3V0KGQpLGEoITApfSxlcnJvcjplPT57Y2xlYXJUaW1lb3V0KGQpLGEoITEpfX0pLGF3YWl0IGUuY29uZmlndXJlKHtjb2RlYzpcImF2MDEuMC4wNU0uMDhcIix3aWR0aDoxNjAsaGVpZ2h0OjkwfSl9KCk7Y29uc3QgYz1bdCxpLG4scixvLHNdO2ZvcihsZXQgdD0wO3Q8Yy5sZW5ndGg7dCsrKXtjb25zdCBpPW5ldyBFbmNvZGVkVmlkZW9DaHVuayh7dHlwZTowPT10P1wia2V5XCI6XCJkZWx0YVwiLHRpbWVzdGFtcDozMzMzMyp0LGR1cmF0aW9uOjMzMzMzLGRhdGE6bmV3IFVpbnQ4QXJyYXkoY1t0XSl9KTt0cnl7YXdhaXQgZS5kZWNvZGUoaSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgYSghMSl9fX0oKSxkPXNldFRpbWVvdXQoKCgpPT57YSghMSl9KSw1ZTMpfSkpO3JldHVybiBhfWFzeW5jIGZ1bmN0aW9uIGpCKGUsdCxpLG4pe2NvbnN0IHI9YXN5bmMgZnVuY3Rpb24oZSx0LGksbil7bGV0IHI9bnVsbDtjb25zdCBvPVtdLHM9YXN5bmMoKT0+e2NvbnN0IHI9Q0QoXCJXRUJDU19ET01BSU5cIikuc2xpY2UoMCxDRChcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoKHQ9Pih7dXJsOmUucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdChlLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdCh0K1wiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKTpcImh0dHBzOi8vXCIuY29uY2F0KHQsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpLGFyZWFDb2RlOkVCKCl9KSkpLHM9bi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXJ0VHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJwZW5kaW5nXCIsc2VydmljZTpcImNob29zZVNlcnZlclwiLHVybHM6ci5tYXAoKGU9PmUudXJsKSl9KSxhPWF3YWl0IHhCKHtmcmFnZW1lbnRMZW5ndGg6Q0QoXCJGUkFHRU1FTlRfTEVOR1RIXCIpLHJlZmVyZW5jZUxpc3Q6cixhc3luY01hcEhhbmRsZXI6bj0+KGlQLmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBDb25uZWN0IHRvIGNob29zZV9zZXJ2ZXI6XCIpLG4udXJsKSxPQihuLGUsdCxpKSksYWxsRmFpbGVkaGFuZGxlcjplPT57dGhyb3cgbi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6ZX0scyksZVswXX0scHJvbWlzZXNDb2xsZWN0b3I6b30pO3JldHVybiBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LHMpLGF9LGE9YXN5bmMoKT0+e2lmKGF3YWl0IGZOKDFlMyksbnVsbCE9PXIpcmV0dXJuIHI7Y29uc3Qgcz1DRChcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiKS5tYXAoKHQ9Pih7dXJsOmUucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdChlLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdCh0K1wiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKTpcImh0dHBzOi8vXCIuY29uY2F0KHQsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpLGFyZWFDb2RlOkVCKCl9KSkpLGE9bi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOnZvaWQgMCxzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJjaG9vc2VTZXJ2ZXJcIix1cmxzOnMubWFwKChlPT5lLnVybCkpfSksYz1hd2FpdCB4Qih7ZnJhZ2VtZW50TGVuZ3RoOkNEKFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OnMsYXN5bmNNYXBIYW5kbGVyOm49PihpUC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gQ29ubmVjdCB0byBiYWNrdXAgY2hvb3NlX3NlcnZlcjpcIiksbi51cmwpLE9CKG4sZSx0LGkpKSxhbGxGYWlsZWRoYW5kbGVyOmU9Pnt0aHJvdyBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJlcnJvclwiLGVycm9yczplfSxhKSxlWzBdfSxwcm9taXNlc0NvbGxlY3RvcjpvfSk7cmV0dXJuIG4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcInN1Y2Nlc3NcIn0sYSksY307dHJ5e3JldHVybiByPWF3YWl0IFZCKFtzKCksYSgpXSksby5sZW5ndGgmJm8uZm9yRWFjaCgoZT0+ZS5jYW5jZWwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2FuY2VsJiZlLmNhbmNlbCgpKSkscn1jYXRjaChlKXt0aHJvdyBlWzBdfX0oZSx0LGksbik7cmV0dXJue2dhdGV3YXlJbmZvOmF3YWl0IHJ9fWFzeW5jIGZ1bmN0aW9uIEdCKGUsdCxpLG4scil7Y29uc3Qgbz1lLmNsb3VkUHJveHlTZXJ2ZXI7aWYoXCJkaXNhYmxlZFwiPT09byl7aWYoIW4pcmV0dXJuO2lmKGUudXNlTG9jYWxBY2Nlc3NQb2ludClyZXR1cm4gYXdhaXQgakIoZSx0LGkscik7aWYoQ0QoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlcIikpe2NvbnN0e2dhdGV3YXlJbmZvOm4scHJveHlJbmZvOm99PWF3YWl0IHpCKGUsdCxpLHIpO2lmKGUudHVyblNlcnZlciYmXCJhdXRvXCIhPT1lLnR1cm5TZXJ2ZXIubW9kZSlyZXR1cm57Z2F0ZXdheUluZm86bn07Y29uc3QgYT1vLm1hcCgoZT0+KHt0dXJuU2VydmVyVVJMOmUuYWRkcmVzcyx0Y3Bwb3J0OmUudGNwcG9ydHx8RUQudGNwcG9ydCx1ZHBwb3J0OmUudWRwcG9ydHx8RUQudWRwcG9ydCx1c2VybmFtZTplLnVzZXJuYW1lfHxFRC51c2VybmFtZSxwYXNzd29yZDplLnBhc3N3b3JkfHxFRC5wYXNzd29yZCxmb3JjZXR1cm46ITEsc2VjdXJpdHk6ITB9KSkpO2lmKHIudXNlUDJQKXt2YXIgcztjb25zdCB0PW51bGwhPT0ocz1lLnVpZCkmJnZvaWQgMCE9PXM/czpuLnVpZCxpPVwiZ2xiOlwiLmNvbmNhdCh0LnRvU3RyaW5nKCkpLHI9YXdhaXQgT08oaSksYz1vLm1hcCgoZT0+KHt0dXJuU2VydmVyVVJMOmUuYWRkcmVzcyx0Y3Bwb3J0OmUudGNwcG9ydHx8RUQudGNwcG9ydCx1ZHBwb3J0OmUudWRwcG9ydHx8RUQudWRwcG9ydCx1c2VybmFtZTppLHBhc3N3b3JkOnIsZm9yY2V0dXJuOiExLHNlY3VyaXR5OiEwfSkpKTthLnB1c2goLi4uYyl9cmV0dXJuIGUudHVyblNlcnZlcj17bW9kZTpcIm1hbnVhbFwiLHNlcnZlcnM6YX0se2dhdGV3YXlJbmZvOm59fXJldHVybiBhd2FpdCBqQihlLHQsaSxyKX1jb25zdHtwcm94eUluZm86YSxnYXRld2F5SW5mbzpjfT1hd2FpdCB6QihlLHQsaSxyKSxkPXtnYXRld2F5SW5mbzpjfSxsPWEubWFwKChlPT4oe3R1cm5TZXJ2ZXJVUkw6ZS5hZGRyZXNzLHRjcHBvcnQ6XCJwcm94eTNcIj09PW8/dm9pZCAwOmUudGNwcG9ydD9lLnRjcHBvcnQ6RUQudGNwcG9ydCx1ZHBwb3J0OlwicHJveHk0XCI9PT1vP3ZvaWQgMDplLnVkcHBvcnQ/ZS51ZHBwb3J0OkVELnVkcHBvcnQsdXNlcm5hbWU6ZS51c2VybmFtZXx8RUQudXNlcm5hbWUscGFzc3dvcmQ6ZS5wYXNzd29yZHx8RUQucGFzc3dvcmQsZm9yY2V0dXJuOlwicHJveHk0XCIhPT1vLHNlY3VyaXR5OlwicHJveHk1XCI9PT1vfSkpKTtpZihyLnVzZVAyUCl7dmFyIHU7Y29uc3QgdD1udWxsIT09KHU9ZS51aWQpJiZ2b2lkIDAhPT11P3U6Yy51aWQsaT1cImdsYjpcIi5jb25jYXQodC50b1N0cmluZygpKSxuPWF3YWl0IE9PKGkpLHI9YS5tYXAoKGU9Pih7dHVyblNlcnZlclVSTDplLmFkZHJlc3MsdGNwcG9ydDpcInByb3h5M1wiPT09bz92b2lkIDA6ZS50Y3Bwb3J0fHxFRC50Y3Bwb3J0LHVkcHBvcnQ6XCJwcm94eTRcIj09PW8/dm9pZCAwOmUudWRwcG9ydHx8RUQudWRwcG9ydCx1c2VybmFtZTppLHBhc3N3b3JkOm4sZm9yY2V0dXJuOlwicHJveHk0XCIhPT1vLHNlY3VyaXR5OlwicHJveHk1XCI9PT1vfSkpKTtsLnB1c2goLi4ucil9cmV0dXJuIGUudHVyblNlcnZlcj17bW9kZTpcIm1hbnVhbFwiLHNlcnZlcnM6bH0saVAuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIHNldCBwcm94eSBzZXJ2ZXI6IFwiKS5jb25jYXQoZS5wcm94eVNlcnZlcixcIiwgbW9kZTogXCIpLmNvbmNhdChvKSksZH1hc3luYyBmdW5jdGlvbiBXQihlLHQsaSxuLHIpe2NvbnN0IG89Q0QoXCJBQ0NPVU5UX1JFR0lTVEVSXCIpLnNsaWNlKDAsQ0QoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSk7bGV0IHM9W107cz10LnByb3h5U2VydmVyP28ubWFwKChlPT5cImh0dHBzOi8vXCIuY29uY2F0KHQucHJveHlTZXJ2ZXIsXCIvYXAvP3VybD1cIikuY29uY2F0KGUrXCIvYXBpL3YxXCIpKSk6by5tYXAoKGU9PlwiaHR0cHM6Ly9cIi5jb25jYXQoZSxcIi9hcGkvdjFcIikpKTtjb25zdCBhPW51bGw9PXI/dm9pZCAwOnIucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJzdHJpbmdVSURcIix1cmxzOnN9KTt0cnl7Y29uc3Qgbz1hd2FpdCBhc3luYyBmdW5jdGlvbihlLHQsaSxuLHIpe2NvbnN0IG89RGF0ZS5ub3coKSxzPXtzaWQ6aS5zaWQsb3BpZDoxMCxhcHBpZDppLmFwcElkLHN0cmluZ191aWQ6dH07bGV0IGE9ZVswXTtjb25zdCBjPWF3YWl0IFVOKCgoKT0+X0IoYStcIlwiLmNvbmNhdCgtMT09PWEuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIsXCJhY3Rpb249c3RyaW5ndWlkXCIpLHtkYXRhOnMsY2FuY2VsVG9rZW46bixoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOjAsXCJYLVBhY2tldC1VUklcIjo3Mn19KSksKChpLG4pPT57aWYoMD09PWkuY29kZSl7aWYoaS51aWQ8PTB8fGkudWlkPj1NYXRoLnBvdygyLDMyKSl0aHJvdyBpUC5lcnJvcihcIkludmFsaWQgVWludCBVaWQgXCIuY29uY2F0KHQsXCIgPT4gXCIpLmNvbmNhdChpLnVpZCksaSksbFAucmVxVXNlckFjY291bnQocy5zaWQse2x0czpvLHN1Y2Nlc3M6ITEsc2VydmVyQWRkcjphLHN0cmluZ1VpZDpzLnN0cmluZ191aWQsdWlkOmkudWlkLGVycm9yQ29kZTpoTy5JTlZBTElEX1VJTlRfVUlEX0ZST01fU1RSSU5HX1VJRCxleHRlbmQ6c30pLG5ldyB1UChoTy5JTlZBTElEX1VJTlRfVUlEX0ZST01fU1RSSU5HX1VJRCk7cmV0dXJuIGxQLnJlcVVzZXJBY2NvdW50KHMuc2lkLHtsdHM6byxzdWNjZXNzOiEwLHNlcnZlckFkZHI6YSxzdHJpbmdVaWQ6cy5zdHJpbmdfdWlkLHVpZDppLnVpZCxlcnJvckNvZGU6bnVsbCxleHRlbmQ6c30pLCExfWNvbnN0IHI9eHgoaS5jb2RlKTtyZXR1cm4gci5yZXRyeSYmKGE9ZVsobisxKSVlLmxlbmd0aF0pLGxQLnJlcVVzZXJBY2NvdW50KHMuc2lkLHtsdHM6byxzdWNjZXNzOiExLHNlcnZlckFkZHI6YSxzdHJpbmdVaWQ6cy5zdHJpbmdfdWlkLHVpZDppLnVpZCxlcnJvckNvZGU6ci5kZXNjLGV4dGVuZDpzfSksci5yZXRyeX0pLCgodCxpKT0+dC5jb2RlIT09aE8uT1BFUkFUSU9OX0FCT1JURUQmJihsUC5yZXFVc2VyQWNjb3VudChzLnNpZCx7bHRzOm8sc3VjY2VzczohMSxzZXJ2ZXJBZGRyOmEsc3RyaW5nVWlkOnMuc3RyaW5nX3VpZCx1aWQ6bnVsbCxlcnJvckNvZGU6dC5jb2RlLGV4dGVuZDpzfSksYT1lWyhpKzEpJWUubGVuZ3RoXSwhMCkpLHIpO2lmKDAhPT1jLmNvZGUpe2NvbnN0IGU9eHgoYy5jb2RlKTt0aHJvdyBuZXcgdVAoaE8uVU5FWFBFQ1RFRF9SRVNQT05TRSxlLmRlc2MpfXJldHVybiBjfShzLGUsdCxpLG4pO3JldHVybiBudWxsPT1yfHxyLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhdHVzOlwic3VjY2Vzc1wiLGVuZFRzOkRhdGUubm93KCl9LGEpLG8udWlkfWNhdGNoKGUpe3Rocm93IG51bGw9PXJ8fHIucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGF0dXM6XCJlcnJvclwiLGVuZFRzOkRhdGUubm93KCksZXJyb3JzOltlXX0sYSksZX19YXN5bmMgZnVuY3Rpb24gSEIoZSx0LGkpe2NvbnN0IG49Q0QoXCJBQ0NPVU5UX1JFR0lTVEVSXCIpO2xldCByPVtdO3I9dC5wcm94eVNlcnZlcj9uLm1hcCgoZT0+XCJodHRwczovL1wiLmNvbmNhdCh0LnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChlK1wiL2FwaS92MVwiKSkpOm4ubWFwKChlPT5cImh0dHBzOi8vXCIuY29uY2F0KGUsXCIvYXBpL3YxXCIpKSk7dHJ5e2NvbnN0IG49YXdhaXQgRkIoe3JlZmVyZW5jZUxpc3Q6cixhc3luY01hcEhhbmRsZXI6bj0+YXN5bmMgZnVuY3Rpb24oZSx0LGksbil7Y29uc3Qgcj1EYXRlLm5vdygpLG89e3NpZDppLnNpZCxvcGlkOjEwLGFwcGlkOmkuYXBwSWQsc3RyaW5nX3VpZDp0fTt0cnl7Y29uc3QgdD1hd2FpdCBfQihlK1wiXCIuY29uY2F0KC0xPT09ZS5pbmRleE9mKFwiP1wiKT9cIj9cIjpcIiZcIixcImFjdGlvbj1zdHJpbmd1aWRcIikse2RhdGE6byxjYW5jZWxUb2tlbjpuLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjcyfX0pO2lmKDAhPT10LmNvZGUpe2NvbnN0IGU9eHgodC5jb2RlKTt0aHJvdyBuZXcgdVAoaE8uVU5FWFBFQ1RFRF9SRVNQT05TRSxcInByZWxvYWQgc3VhIGVycm9yOlwiLmNvbmNhdChlLmRlc2MpLGUpfWlmKHQudWlkPD0wfHx0LnVpZD49TWF0aC5wb3coMiwzMikpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfVUlOVF9VSURfRlJPTV9TVFJJTkdfVUlEKTtyZXR1cm57cmVxdWVzdFRpbWU6cix1cmw6ZSxyZXE6byx1aWQ6dC51aWQsZWxhcHNlOkRhdGUubm93KCktcn19Y2F0Y2goZSl7dGhyb3cgZX19KG4sZSx0LGkpLGNsb3NlRm46ZT0+ZS5jb2RlPT09aE8uT1BFUkFUSU9OX0FCT1JURUR8fGUuY29kZT09PWhPLlVORVhQRUNURURfUkVTUE9OU0UmJiFlLmRhdGEucmV0cnl9KTtyZXR1cm4gbn1jYXRjaChlKXt0aHJvdyBlfX1hc3luYyBmdW5jdGlvbiBLQihlLHQsaSl7Y29uc3Qgbj1DRChcIkNEU19BUFwiKS5zbGljZSgwLENEKFwiQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlRcIikpLm1hcCgodD0+ZS5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KGUucHJveHlTZXJ2ZXIsXCIvYXAvP3VybD1cIikuY29uY2F0KHQrXCIvYXBpL3YxXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQodCxcIi9hcGkvdjE/YWN0aW9uPWNvbmZpZ1wiKSkpLHI9bi5tYXAoKG49PmZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0IHI9RHcoKSxvPXtmbGFnOjY0LGNpcGhlcl9tZXRob2Q6MCxmZWF0dXJlczpJQihJQihJQihJQihJQih7aW5zdGFsbF9pZDp1RCgpLGRldmljZTpyLm5hbWUsc3lzdGVtOnIub3Msc3lzdGVtX2dlbmVyYWw6bmF2aWdhdG9yLnVzZXJBZ2VudCx2ZW5kb3I6dC5hcHBJZCx2ZXJzaW9uOmhELGNuYW1lOnQuY25hbWUsc2Vzc2lvbl9pZDp0LnNpZCxwcm94eVNlcnZlcjp0LnByb3h5U2VydmVyLHNka190eXBlOnRGLldFQl9SVEMsYnJvd3Nlcl9uYW1lOnIubmFtZSxicm93c2VyX3ZlcnNpb246ci52ZXJzaW9uLHVzZXJfYWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudCxjaGFubmVsX25hbWU6dC5jbmFtZX0sdC5zdHJpbmdVaWQmJntzdHJpbmdfdWlkOnQuc3RyaW5nVWlkfSksdC51aWQmJnt1aWQ6dC51aWQrXCJcIn0pLHIub3MmJntvc19uYW1lOnIub3N9KSxyLm9zVmVyc2lvbiYme29zX3ZlcnNpb246ci5vc1ZlcnNpb259KSx7fSx7ZGV0YWlsOlwiXCJ9KX07cmV0dXJuIFVOKCgoKT0+X0IoZSx7ZGF0YTpvLHRpbWVvdXQ6MWUzLGNhbmNlbFRva2VuOmksaGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjowLFwiWC1QYWNrZXQtVVJJXCI6NTR9fSkpLHZvaWQgMCwoZT0+ZS5jb2RlIT09aE8uT1BFUkFUSU9OX0FCT1JURUQpLG4pfShuLGUsdCxpKSkpO2xldCBvPW51bGwscz1udWxsLGE9e307dHJ5e289YXdhaXQgVkIocil9Y2F0Y2goZSl7aWYoZS5jb2RlPT09aE8uT1BFUkFUSU9OX0FCT1JURUQpdGhyb3cgZTtzPWV9ci5mb3JFYWNoKChlPT5lLmNhbmNlbCgpKSk7aWYobFAucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOkxPLlJFUVVFU1RfQ09ORklHX0RJU1RSSUJVVEUsb3B0aW9uczp7ZXJyb3I6cyxyZXM6b319KS5vblN1Y2Nlc3MoKSxvJiZvLnRlc3RfdGFncyl0cnl7YT1mdW5jdGlvbihlKXtpZighZS50ZXN0X3RhZ3MpcmV0dXJue307Y29uc3QgdD1lLnRlc3RfdGFncyxpPU9iamVjdC5rZXlzKHQpLG49e307cmV0dXJuIGkuZm9yRWFjaCgoZT0+e3ZhciBpO2NvbnN0IHI9a2coaT1lLnNsaWNlKDQpKS5jYWxsKGkpLG89SlNPTi5wYXJzZSh0W2VdKSxzPW9bMV07bltyXT17dGFnOm9bMF18fFwiXCIsdmFsdWU6c319KSksbn0obyl9Y2F0Y2goZSl7fXJldHVybiBhfWFzeW5jIGZ1bmN0aW9uIFlCKGUsdCl7Y29uc3QgaT1DRChcIldFQkNTX0RPTUFJTlwiKS5jb25jYXQoQ0QoXCJXRUJDU19ET01BSU5fQkFDS1VQX0xJU1RcIikpLm1hcCgoZT0+KHt1cmw6XCJodHRwczovL1wiLmNvbmNhdChlLFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxhcmVhQ29kZTpFQigpLHNlcnZpY2VJZHM6W2lGLkNIT09TRV9TRVJWRVIsaUYuQ0xPVURfUFJPWFlfRkFMTEJBQ0tdfSkpKTt0cnl7Y29uc3Qgbj1hd2FpdCBGQih7cmVmZXJlbmNlTGlzdDppLGFzeW5jTWFwSGFuZGxlcjppPT5hc3luYyBmdW5jdGlvbihlLHQsaSl7bGV0IG4se3VybDpyLGFyZWFDb2RlOm8sc2VydmljZUlkczpzfT1lO2NvbnN0IGE9RGF0ZS5ub3coKSxbYyxkXT1rQih0LG8scyk7bGV0IGw9UU8ubmV0d29ya1N0YXRlO3RyeXtsJiZRTy5uZXR3b3JrU3RhdGU9PT1LTy5PRkZMSU5FJiZRTy5vbmxpbmVXYWl0ZXImJmF3YWl0IHJwLnJhY2UoW1FPLm9ubGluZVdhaXRlcixmTihrTi5tYXhSZXRyeVRpbWVvdXQpXSksbD1RTy5uZXR3b3JrU3RhdGU7Y29uc3R7ZGF0YTplLGhlYWRlcnM6dH09YXdhaXQgX0Iocix7ZGF0YTpjLGNhbmNlbFRva2VuOmksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcIm11bHRpcGFydC9mb3JtLWRhdGE7XCJ9fSwhMCwhMCk7bj1cIjFcIj09PXQuaHR0cDM/MTotMTtjb25zdCBvPWU9Pntjb25zdCB0PVtdO2lmKGUucmVzcG9uc2VfYm9keS5mb3JFYWNoKChpPT57Y29uc3Qgbj1pLmJ1ZmZlci5jb2RlO2lmKDIzPT09aS51cmkmJjA9PT1uJiYhaS5idWZmZXIuZWRnZXNfc2VydmljZXMpaWYoNDE5NDMxMD09PWkuYnVmZmVyLmZsYWcpaS5idWZmZXIuZWRnZXNfc2VydmljZXM9W107ZWxzZXtjb25zdCBuPXtlcnJvcjpuZXcgdVAoaE8uQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsXCJubyBlZGdlIHNlcnZpY2VzIGluIGFwIHJlc3BvbnNlXCIse3JldHJ5OkNEKFwiTk9fRURHRVNfUkVUUllcIiksY3NJcDplLmRldGFpbFs1MDJdfSksZmxhZzppLmJ1ZmZlci5mbGFnfTt0LnB1c2gobil9aWYoMCE9PW4pe2NvbnN0IHI9eHgobiksbz17ZXJyb3I6bmV3IHVQKGhPLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLHIuZGVzYyx7ZGVzYzpyLmRlc2MscmV0cnk6ci5yZXRyeSxjc0lwOmUuZGV0YWlsWzUwMl19KSxmbGFnOmkuYnVmZmVyLmZsYWd9OzQxOTQzMTA9PT1pLmJ1ZmZlci5mbGFnP2lQLndhcm5pbmcoby5lcnJvci50b1N0cmluZygpKTp0LnB1c2gobyl9fSkpLHQubGVuZ3RoKXRocm93IG5ldyB1UChoTy5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUix0Lm1hcCgoZT0+XCJmbGFnOiBcIi5jb25jYXQoZS5mbGFnLFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KGUuZXJyb3IubWVzc2FnZSkpKS5qb2luKFwiIHwgXCIpLHtyZXRyeTohIXQuZmluZCgoZT0+ZS5lcnJvci5kYXRhLnJldHJ5KSksY3NJcDplLmRldGFpbFs1MDJdLGRlc2M6Wy4uLm5ldyBTZXQodC5tYXAoKGU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09ZXx8bnVsbD09PSh0PWUuZXJyb3IpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC5kYXRhKXx8dm9pZCAwPT09dD92b2lkIDA6dC5kZXNjfSkpLmZpbHRlcigoZT0+ISFlKSkpXX0pfTtvKGUpO2NvbnN0IHM9aEYoZSxpRi5DSE9PU0VfU0VSVkVSKSx1PWhGKGUsaUYuQ0xPVURfUFJPWFlfRkFMTEJBQ0spO3JldHVybiBQQihzKSx7Z2F0ZXdheUluZm86Y0YocyxyKSxwcm94eUluZm86dSxvcGlkOmQscmVxdWVzdFRpbWU6YSx1cmw6cixpc0h0dHAzOm4sZWxhcHNlOkRhdGUubm93KCktYX19Y2F0Y2goZSl7dGhyb3cgZX19KGksZSx0KSxjbG9zZUZuOmU9PmUuY29kZT09PWhPLk9QRVJBVElPTl9BQk9SVEVEfHxlLmNvZGU9PT1oTy5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUiYmIWUuZGF0YS5yZXRyeX0pO3JldHVybiBufWNhdGNoKGUpe3Rocm93IGV9fWFzeW5jIGZ1bmN0aW9uIHpCKGUsdCxpLG4pe2NvbnN0IHI9Q0QoXCJQUk9YWV9TRVJWRVJfVFlQRTNcIiksbz0oZSx0LGkpPT57bGV0IG49aXx8cjtyZXR1cm4gQXJyYXkuaXNBcnJheShuKSYmKG49dCUyPT0wJiZyWzFdfHxyWzBdKSxcImh0dHBzOi8vXCIuY29uY2F0KG4sXCIvYXAvP3VybD1cIikuY29uY2F0KGUpfTtsZXQgcz1udWxsO2NvbnN0IGE9W10sYz1hc3luYygpPT57Y29uc3Qgcj1DRChcIldFQkNTX0RPTUFJTlwiKS5zbGljZSgwLENEKFwiQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlRcIikpLm1hcCgoKHQsaSk9PntsZXQgbjtyZXR1cm4gbj1cImRpc2FibGVkXCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXImJmUucHJveHlTZXJ2ZXI/byhcIlwiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxpLGUucHJveHlTZXJ2ZXIpOlwiZGlzYWJsZWRcIj09PWUuY2xvdWRQcm94eVNlcnZlcnx8XCJmYWxsYmFja1wiPT09ZS5jbG91ZFByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodCxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6byhcIlwiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxpKSx7dXJsOm4sYXJlYUNvZGU6RUIoKSxzZXJ2aWNlSWRzOltpRi5DSE9PU0VfU0VSVkVSLFwicHJveHk1XCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXI/aUYuQ0xPVURfUFJPWFlfNTpcInByb3h5M1wiPT09ZS5jbG91ZFByb3h5U2VydmVyfHxcInByb3h5NFwiPT09ZS5jbG91ZFByb3h5U2VydmVyP2lGLkNMT1VEX1BST1hZOmlGLkNMT1VEX1BST1hZX0ZBTExCQUNLXX19KSkscz1uLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiY2hvb3NlU2VydmVyXCIsdXJsczpyLm1hcCgoZT0+ZS51cmwpKX0pLGM9YXdhaXQgeEIoe2ZyYWdlbWVudExlbmd0aDpDRChcIkZSQUdFTUVOVF9MRU5HVEhcIikscmVmZXJlbmNlTGlzdDpyLGFzeW5jTWFwSGFuZGxlcjpuPT4oaVAuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIENvbm5lY3QgdG8gY2hvb3NlX3NlcnZlcjpcIiksbi51cmwpLE5CKG4sZSx0LGkpKSxhbGxGYWlsZWRoYW5kbGVyOmU9Pnt0aHJvdyBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJlcnJvclwiLGVycm9yczplfSxzKSxlWzBdfSxwcm9taXNlc0NvbGxlY3RvcjphfSk7cmV0dXJuIG4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcInN1Y2Nlc3NcIn0scyksY30sZD1hc3luYygpPT57aWYoYXdhaXQgZk4oMWUzKSxudWxsIT09cylyZXR1cm4gcztjb25zdCByPUNEKFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIpLm1hcCgoKHQsaSk9PntsZXQgbjtyZXR1cm4gbj1cImRpc2FibGVkXCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXImJmUucHJveHlTZXJ2ZXI/byhcIlwiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxpLGUucHJveHlTZXJ2ZXIpOlwiZGlzYWJsZWRcIj09PWUuY2xvdWRQcm94eVNlcnZlcnx8XCJmYWxsYmFja1wiPT09ZS5jbG91ZFByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodCxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6byhcIlwiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxpKSx7dXJsOm4sYXJlYUNvZGU6RUIoKSxzZXJ2aWNlSWRzOltpRi5DSE9PU0VfU0VSVkVSLFwicHJveHk1XCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXI/aUYuQ0xPVURfUFJPWFlfNTpcInByb3h5M1wiPT09ZS5jbG91ZFByb3h5U2VydmVyfHxcInByb3h5NFwiPT09ZS5jbG91ZFByb3h5U2VydmVyP2lGLkNMT1VEX1BST1hZOmlGLkNMT1VEX1BST1hZX0ZBTExCQUNLXX19KSksYz1uLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiY2hvb3NlU2VydmVyXCIsdXJsczpyLm1hcCgoZT0+ZS51cmwpKX0pLGQ9YXdhaXQgeEIoe2ZyYWdlbWVudExlbmd0aDpDRChcIkZSQUdFTUVOVF9MRU5HVEhcIikscmVmZXJlbmNlTGlzdDpyLGFzeW5jTWFwSGFuZGxlcjpuPT4oaVAuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIENvbm5lY3QgdG8gYmFja3VwIGNob29zZV9zZXJ2ZXI6XCIpLG4udXJsKSxOQihuLGUsdCxpKSksYWxsRmFpbGVkaGFuZGxlcjplPT57dGhyb3cgbi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6ZX0sYyksZVswXX0scHJvbWlzZXNDb2xsZWN0b3I6YX0pO3JldHVybiBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LGMpLGR9O2xldCBsLHUsaDt0cnl7KHtnYXRld2F5SW5mbzpsLHByb3h5SW5mbzp1LHVybDpofT1hd2FpdCBWQihbYygpLGQoKV0pKX1jYXRjaChlKXt0aHJvdyBlWzBdfWlmKGEubGVuZ3RoJiZhLmZvckVhY2goKGU9PmUuY2FuY2VsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNhbmNlbCYmZS5jYW5jZWwoKSkpLCFsfHwhdSl0aHJvdyBuZXcgdVAoaE8uVU5FWFBFQ1RFRF9FUlJPUixcIm1pc3NpbmcgZ2F0ZXdheSBvciBwcm94eSByZXNwb25zZVwiKS5wcmludCgpO2lmKGUuYXBVcmw9aCxcImRpc2FibGVkXCIhPT1lLmNsb3VkUHJveHlTZXJ2ZXImJkFycmF5LmlzQXJyYXkocikmJmgpe2NvbnN0IHQ9L15odHRwcz86XFwvXFwvKC4rPykoXFwvLiopPyQvLmV4ZWMoaClbMV07TG4ocikuY2FsbChyLHQpJiYoZS5wcm94eVNlcnZlcj10LGlQLnNldFByb3h5U2VydmVyKHQpLGxQLnNldFByb3h5U2VydmVyKHQpKX1yZXR1cm4gcz17Z2F0ZXdheUluZm86bCxwcm94eUluZm86YXdhaXQgcEYodSxsLnVpZCl9LHN9YXN5bmMgZnVuY3Rpb24gcUIoZSx0LGkpe2NvbnN0IG49Q0QoXCJVQVBfQVBcIikuc2xpY2UoMCxDRChcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoKHQ9PmUucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdChlLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdCh0K1wiL2FwaS92MT9hY3Rpb249dWFwXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQodCxcIi9hcGkvdjE/YWN0aW9uPXVhcFwiKSkpLHI9bi5tYXAoKG49PmZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0IHI9e2NvbW1hbmQ6XCJjb252ZXJnZUFsbG9jYXRlRWRnZVwiLHNpZDp0LnNpZCxhcHBJZDp0LmFwcElkLHRva2VuOnQudG9rZW4sdHM6RGF0ZS5ub3coKSx2ZXJzaW9uOmhELGNuYW1lOnQuY25hbWUsdWlkOnQudWlkLnRvU3RyaW5nKCkscmVxdWVzdElkOndCLHNlcTp3Qn07d0IrPTE7Y29uc3Qgbz17c2VydmljZV9uYW1lOlwidGVsZV9jaGFubmVsXCIsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KHIpfTtyZXR1cm4gVU4oKGFzeW5jKCk9Pntjb25zdCB0PWF3YWl0IF9CKGUse2RhdGE6byxjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjYxfX0pO2lmKDAhPT10LmNvZGUpe2NvbnN0IGU9bmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJjcm9zcyBjaGFubmVsIGFwIGVycm9yLCBjb2RlXCIrdC5jb2RlLHtyZXRyeTohMH0pO3Rocm93IGlQLmVycm9yKGUudG9TdHJpbmcoKSksZX1jb25zdCBuPUpTT04ucGFyc2UodC5qc29uX2JvZHkpO2lmKDIwMCE9PW4uY29kZSl7Y29uc3QgZT1uZXcgdVAoaE8uVU5FWFBFQ1RFRF9SRVNQT05TRSxcImNyb3NzIGNoYW5uZWwgYXBwIGNlbnRlciBlcnJvciwgY29kZTogXCIuY29uY2F0KG4uY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KG4ucmVhc29uKSk7dGhyb3cgaVAuZXJyb3IoZS50b1N0cmluZygpKSxlfWlmKCFuLnNlcnZlcnN8fDA9PT1uLnNlcnZlcnMubGVuZ3RoKXtjb25zdCBlPW5ldyB1UChoTy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiY3Jvc3MgY2hhbm5lbCBhcHAgY2VudGVyIGVtcHR5IHNlcnZlclwiKTt0aHJvdyBpUC5lcnJvcihlLnRvU3RyaW5nKCkpLGV9cmV0dXJue3ZpZDpuLnZpZCx3b3JrZXJUb2tlbjpuLndvcmtlclRva2VuLGFkZHJlc3NMaXN0OihDRChcIkNIQU5ORUxfTUVESUFfUkVMQVlfU0VSVkVSU1wiKXx8bi5zZXJ2ZXJzKS5tYXAoKGU9Plwid3NzOi8vXCIuY29uY2F0KGUuYWRkcmVzcy5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChDRChcIldPUktFUl9ET01BSU5cIiksXCI6XCIpLmNvbmNhdChlLndzcykpKX19KSx2b2lkIDAsKGU9PiEhKGUuY29kZSE9PWhPLk9QRVJBVElPTl9BQk9SVEVEJiZlLmNvZGUhPT1oTy5VTkVYUEVDVEVEX1JFU1BPTlNFfHxlLmRhdGEmJmUuZGF0YS5yZXRyeSkpLG4pfShuLGUsdCxpKSkpO3RyeXtjb25zdCBlPWF3YWl0IFZCKHIpO3JldHVybiByLmZvckVhY2goKGU9PmUuY2FuY2VsKCkpKSxlfWNhdGNoKGUpe3Rocm93IGVbMF19fWFzeW5jIGZ1bmN0aW9uIFhCKGUsdCxpKXtsZXQgbj1udWxsO2NvbnN0IHI9W10sbz1hc3luYyBvPT57Y29uc3Qgcz1DRChvP1wiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCI6XCJXRUJDU19ET01BSU5cIikubWFwKCh0PT5lLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQodCtcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSkpO3JldHVybiBvJiYoYXdhaXQgZk4oMWUzKSxudWxsIT09bik/bjphd2FpdCB4Qih7ZnJhZ2VtZW50TGVuZ3RoOkNEKFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OnMsYXN5bmNNYXBIYW5kbGVyOm49PihpUC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gdXBkYXRlIHRpY2tldCwgQ29ubmVjdCB0byBcIikuY29uY2F0KG8/XCJiYWNrdXBcIjpcIlwiLFwiIGNob29zZV9zZXJ2ZXI6XCIpLG4pLGZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0W3JdPU1CKHQsW2lGLkNIT09TRV9TRVJWRVJdKTtsZXQgbz1RTy5uZXR3b3JrU3RhdGU7cmV0dXJuIFVOKChhc3luYygpPT57byYmUU8ubmV0d29ya1N0YXRlPT09S08uT0ZGTElORSYmUU8ub25saW5lV2FpdGVyJiZhd2FpdCBycC5yYWNlKFtRTy5vbmxpbmVXYWl0ZXIsZk4obiYmbi5tYXhSZXRyeVRpbWVvdXR8fGtOLm1heFJldHJ5VGltZW91dCldKSxvPVFPLm5ldHdvcmtTdGF0ZTtjb25zdCB0PWF3YWl0IF9CKGUse2RhdGE6cixjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvZm9ybS1kYXRhO1wifX0sITApO3JldHVybiBMQih0LGUpfSksKCgpPT4hMSksKGU9PmUuY29kZSE9PWhPLk9QRVJBVElPTl9BQk9SVEVEJiYoZS5jb2RlPT09aE8uVVBEQVRFX1RJQ0tFVF9GQUlMRUQ/ZS5kYXRhLnJldHJ5OihpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSB1cGRhdGUgdGlja2V0IG5ldHdvcmsgZXJyb3IsIHJldHJ5XCIpLGUpLCEwKSkpLG4pfShuLGUsdCxpKSksYWxsRmFpbGVkaGFuZGxlcjplPT57dGhyb3cgZVswXX0scHJvbWlzZXNDb2xsZWN0b3I6cn0pfTt0cnl7cmV0dXJuIG49YXdhaXQgVkIoW28oITEpLG8oITApXSksci5sZW5ndGgmJnIuZm9yRWFjaCgoZT0+ZS5jYW5jZWwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2FuY2VsJiZlLmNhbmNlbCgpKSksbn1jYXRjaChlKXt0aHJvdyBlWzBdfX1mdW5jdGlvbiBKQihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gUUIoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/SkIoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6SkIoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgWkIgZXh0ZW5kcyBOT3tnZXQgaXNTdWNjZXNzKCl7cmV0dXJuISF0aGlzLmNvbmZpZ3N9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLGlBKHRoaXMsXCJjb25maWdzXCIsdm9pZCAwKSxpQSh0aGlzLFwic3RvcmVcIix2b2lkIDApLGlBKHRoaXMsXCJqb2luSW5mb1wiLHZvaWQgMCksaUEodGhpcyxcImNhbmNlbFRva2VuXCIsdm9pZCAwKSxpQSh0aGlzLFwicmV0cnlDb25maWdcIix7dGltZW91dDozZTMsdGltZW91dEZhY3RvcjoxLjUsbWF4UmV0cnlDb3VudDoxLG1heFJldHJ5VGltZW91dDoxZTR9KSxpQSh0aGlzLFwiaW50ZXJ2YWxcIix2b2lkIDApLGlBKHRoaXMsXCJtdXRleFwiLHZvaWQgMCksaUEodGhpcyxcIm11dGFibGVQYXJhbXNSZWFkXCIsITEpLGlBKHRoaXMsXCJjb25maWdDYWNoZVwiLHt9KSxpQSh0aGlzLFwibGltaXRfYml0cmF0ZVwiLHZvaWQgMCksdGhpcy5tdXRleD1uZXcgUE4oXCJjb25maWctZGlzdHJpYnV0ZVwiLGUpLHRoaXMuc3RvcmU9dH1zdGFydEdldENvbmZpZ0Rpc3RyaWJ1dGUoZSx0KXt0aGlzLmpvaW5JbmZvPWUsdGhpcy5jYW5jZWxUb2tlbj10LHRoaXMuaW50ZXJ2YWwmJnRoaXMuc3RvcEdldENvbmZpZ0Rpc3RyaWJ1dGUoKSxDRChcIkVOQUJMRV9DT05GSUdfRElTVFJJQlVURVwiKSYmKHRoaXMudXBkYXRlQ29uZmlnRGlzdHJpYnV0ZSgpLHRoaXMuaW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e3RoaXMudXBkYXRlQ29uZmlnRGlzdHJpYnV0ZSgpfSksQ0QoXCJDT05GSUdfRElTVFJJQlVURV9JTlRFUlZBTFwiKSkpfXN0b3BHZXRDb25maWdEaXN0cmlidXRlKCl7dGhpcy5pbnRlcnZhbCYmY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKSx0aGlzLmludGVydmFsPXZvaWQgMCx0aGlzLmpvaW5JbmZvPXZvaWQgMCx0aGlzLmNhbmNlbFRva2VuPXZvaWQgMCx0aGlzLmNvbmZpZ3M9dm9pZCAwLHRoaXMubGltaXRfYml0cmF0ZT12b2lkIDB9YXN5bmMgYXdhaXRDb25maWdEaXN0cmlidXRlQ29tcGxldGUoKXtpZighdGhpcy5tdXRleC5pc0xvY2tlZClyZXR1cm47KGF3YWl0IHRoaXMubXV0ZXgubG9jaygpKSgpfWFzeW5jIHVwZGF0ZUNvbmZpZ0Rpc3RyaWJ1dGUoKXtpZighdGhpcy5tdXRhYmxlUGFyYW1zUmVhZCl7dGhpcy5tdXRhYmxlUGFyYW1zUmVhZD0hMDtsUC5yZXBvcnRBcGlJbnZva2UobnVsbCx7b3B0aW9uczp2b2lkIDAsbmFtZTpMTy5MT0FEX0NPTkZJR19GUk9NX0xPQ0FMU1RPUkFHRSx0YWc6a08uVFJBQ0VSfSkub25TdWNjZXNzKEpTT04uc3RyaW5naWZ5KHlEKSl9aWYoIXRoaXMuam9pbkluZm98fCF0aGlzLmNhbmNlbFRva2VufHwhdGhpcy5yZXRyeUNvbmZpZylyZXR1cm4gdm9pZCBpUC5kZWJ1ZyhcIltjb25maWctZGlzdHJpYnV0ZV0gZ2V0IGNvbmZpZyBkaXN0cmlidXRlIGludGVycnVwdGVkIGhhdmUgbm8gam9pbmluZm9cIik7bGV0IGU7Y29uc3QgdD1hd2FpdCB0aGlzLm11dGV4LmxvY2soKTt0cnl7ZT1hd2FpdCBLQih0aGlzLmpvaW5JbmZvLHRoaXMuY2FuY2VsVG9rZW4sdGhpcy5yZXRyeUNvbmZpZyksaVAuZGVidWcoXCJbY29uZmlnLWRpc3RyaWJ1dGVdIGdldCBjb25maWcgZGlzdHJpYnV0ZVwiLEpTT04uc3RyaW5naWZ5KGUpKTtjb25zdCBpPWZ1bmN0aW9uKGUpe3ZhciB0O2NvbnN0IGk9UXAodD1PYmplY3Qua2V5cyhlKS5maWx0ZXIoKGU9Pi9ed2VicnRjX25nX2dsb2JhbF9wYXJhbWV0ZXIvLnRlc3QoZSkpKSkuY2FsbCh0KTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKylmb3IobGV0IG49aS5sZW5ndGgtMTtuPnQ7bi0tKXtjb25zdCB0PWlbbl0scj1lW3RdLnZhbHVlO2lmKFwibnVtYmVyXCI9PXR5cGVvZiByLl9fcHJpb3JpdHkpe2NvbnN0IG89ci5fX3ByaW9yaXR5LHM9aVtuLTFdLGE9ZVtzXS52YWx1ZTtpZihcIm51bWJlclwiPT10eXBlb2YgYS5fX3ByaW9yaXR5KXtpZighKG8+YS5fX3ByaW9yaXR5KSljb250aW51ZTt7Y29uc3QgZT10O2lbbl09aVtuLTFdLGlbbi0xXT1lfX1lbHNle2NvbnN0IGU9dDtpW25dPWlbbi0xXSxpW24tMV09ZX19fWNvbnN0IG49RGF0ZS5ub3coKSxyPXt9O3JldHVybiBpLmZvckVhY2goKHQ9Pntjb25zdCBpPWVbdF0udmFsdWUuX19leHBpcmVzO2kmJmk8PW58fChyW3RdPWVbdF0pfSkpLHJ9KGUpO3RoaXMuY2FjaGVHbG9iYWxQYXJhbWV0ZXJDb25maWcoaSksdGhpcy5zdG9yZS5oYXNTdGFydEpvaW5DaGFubmVsfHwodGhpcy5zdG9yZS5pc0FCVGVzdFN1Y2Nlc3M9ITApLHRoaXMuY29uZmlncz1pfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IHVQKGhPLk5FVFdPUktfUkVTUE9OU0VfRVJST1IsZSk7aVAud2FybmluZyhcIltjb25maWctZGlzdHJpYnV0ZV0gXCIuY29uY2F0KHQudG9TdHJpbmcoKSkpfWZpbmFsbHl7dCgpfX1nZXRCaXRyYXRlTGltaXQoKXtyZXR1cm4gdGhpcy5saW1pdF9iaXRyYXRlfHx2b2lkIDB9aGFuZGxlQml0cmF0ZUxpbWl0KGUpe194KGUpJiYodGhpcy5saW1pdF9iaXRyYXRlP3RoaXMubGltaXRfYml0cmF0ZSYmdGhpcy5saW1pdF9iaXRyYXRlLmlkIT09ZS5pZCYmdGhpcy5lbWl0KHB4LlVQREFURV9CSVRSQVRFX0xJTUlULGUpOnRoaXMuZW1pdChweC5VUERBVEVfQklUUkFURV9MSU1JVCxlKSl9Z2V0TG93U3RyZWFtQ29uZmlnRGlzdHJpYnV0ZSgpe3JldHVybiB0aGlzLmxpbWl0X2JpdHJhdGUmJlFCKHt9LHRoaXMubGltaXRfYml0cmF0ZS5sb3dfc3RyZWFtX3VwbGluayl9aGFuZGxlQUJUZXN0Q29uZmlnRGlzdHJpYnV0ZShlKXt0cnl7Y29uc3QgdD17fSxpPU9iamVjdC5rZXlzKGUpLG49W107aS5mb3JFYWNoKChpPT57Y29uc3Qgcj1lW2ldLnZhbHVlO3RbaV09cjtjb25zdCBvPXIuX19pZDtpZihvJiZ0aGlzLmNvbmZpZ0NhY2hlW2ldJiZ0aGlzLmNvbmZpZ0NhY2hlW2ldLl9faWQ9PT1vKXJldHVybjtjb25zdCBzPXIuX190eXBlLGE9ZVtpXS52YWx1ZSxjPWVbaV0udGFnO2xldCBkPTA7cz9zPT09dkQuUkVBTFRJTUUmJihkPTEpOk9iamVjdC5rZXlzKGEpLnNvbWUoKGU9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChnRCxlKXx8IXFVKCkmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtRCxlKT8oZD0xLCEwKTp2b2lkIDApKSxuLnB1c2goe3RhZzpjLGlzQXBwbGllZDpkLGZlYXR1cmU6aSxwYXJhbXM6SlNPTi5zdHJpbmdpZnkocil9KX0pKSxuLmZvckVhY2goKGU9PntsZXR7dGFnOnQsZmVhdHVyZTppLHBhcmFtczpuLGlzQXBwbGllZDpyfT1lO3RoaXMuc3RvcmUuc2Vzc2lvbklkJiZsUC5hYlRlc3QodGhpcy5zdG9yZS5zZXNzaW9uSWQse2ludFN1Y2M6MSxpc0FwcGxpZWQ6cix0YWc6dCxmZWF0dXJlOmkscGFyYW1zOm4sY2lkOnRoaXMuc3RvcmUuY2lkLHVpZDp0aGlzLnN0b3JlLmludFVpZH0pfSkpLHRoaXMuY29uZmlnQ2FjaGU9dH1jYXRjaChlKXtpUC5kZWJ1ZyhcImhhbmRsZUFCVGVzdENvbmZpZ0Rpc3RyaWJ1dGUgZXJyb3JcIixlKX19Y2FjaGVHbG9iYWxQYXJhbWV0ZXJDb25maWcoZSl7Y29uc3QgdD1mdW5jdGlvbihlKXtjb25zdCB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57Y29uc3Qgbj1lW2ldLnZhbHVlLHI9bi5fX2V4cGlyZXMsbz1uLl9fdHlwZTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChlPT57XCJfX2lkXCI9PT1lfHxcIl9fdHlwZVwiPT09ZXx8XCJfX3ByaW9yaXR5XCI9PT1lfHxcIl9fZXhwaXJlc1wiPT09ZXx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl8fCh0W2VdPVFCKFFCKHt2YWx1ZTpuW2VdfSxyJiZ7ZXhwaXJlczpyfSksbyYme3R5cGU6b30pKX0pKX0pKSx0fShlKTt0cnl7dmFyIGk7Y29uc3Qgbj1udWxsPT09KGk9dC5MSU1JVF9CSVRSQVRFKXx8dm9pZCAwPT09aT92b2lkIDA6aS52YWx1ZTtkZWxldGUgdC5MSU1JVF9CSVRSQVRFLG4mJl94KG4pJiZ0aGlzLmhhbmRsZUJpdHJhdGVMaW1pdChuKSx0aGlzLmxpbWl0X2JpdHJhdGU9bix0aGlzLmhhbmRsZUdsb2JhbFBhcmFtZXRlckNvbmZpZyh0KSx0aGlzLmhhbmRsZUFCVGVzdENvbmZpZ0Rpc3RyaWJ1dGUoZSksZnVuY3Rpb24oZSl7dHJ5e2NvbnN0IHQ9RGF0ZS5ub3coKTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57Y29uc3R7dmFsdWU6bix0eXBlOnIsZXhwaXJlczpvfT1lW2ldO28mJm88PXR8fCgocj09PXZELlJFQUxUSU1FfHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZ0QsaSkpJiYoeURbaV09bixURFtpXT1uLGlQLmRlYnVnKFwiVXBkYXRlIHJlYWx0aW1lIHBhcmFtZXRlcnMgZnJvbSBjb25maWcgZGlzdHJpYnV0ZVwiLGksbikpLHJ8fHFVKCl8fCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobUQsaSl8fCh5RFtpXT1uLFREW2ldPW4saVAuZGVidWcoXCJVcGRhdGUgZ2F0ZXdheSBwYXJhbWV0ZXJzIGZyb20gY29uZmlnIGRpc3RyaWJ1dGVcIixpLG4pKSl9KSl9Y2F0Y2godCl7aVAuZXJyb3IoXCJFcnJvciB1cGRhdGUgY29uZmlnIGltbWVkaWF0ZWx5OiBcIi5jb25jYXQoZSksdC5tZXNzYWdlKX19KHQpO2NvbnN0IHI9SlNPTi5zdHJpbmdpZnkodCksbz13aW5kb3cuYnRvYShyKTt3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ3ZWJzZGtfbmdfZ2xvYmFsX3BhcmFtZXRlclwiLG8pLGlQLmRlYnVnKFwiQ2FjaGluZyBnbG9iYWwgcGFyYW1ldGVycyBcIi5jb25jYXQocikpfWNhdGNoKGUpe2lQLmVycm9yKFwiRXJyb3IgY2FjaGluZyBnbG9iYWwgcGFyYW1ldGVyczpcIixlLm1lc3NhZ2UpfX1oYW5kbGVHbG9iYWxQYXJhbWV0ZXJDb25maWcoZSl7dHJ5e2NvbnN0IHQ9RGF0ZS5ub3coKTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57c3dpdGNoKGkpe2Nhc2VcIkNMSUVOVF9ST0xFX09QVElPTlNcIjppZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoVEQsaSkpe2NvbnN0e3ZhbHVlOm4sZXhwaXJlczpyfT1lW2ldO2lmKHImJnI8PXQpcmV0dXJuO2JOKFREW2ldLG4pfHwoeURbaV09bixURFtpXT1uLHRoaXMuZW1pdChweC5VUERBVEVfQ0xJRU5UX1JPTEVfT1BUSU9OUyxuKSxpUC5kZWJ1ZyhcIlVwZGF0aW5nIGNsaWVudCByb2xlIG9wdGlvbnM6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShuKSkpKX1icmVhaztjYXNlXCJSRU1PVEVfVklERU9fU1RSRUFNX1RZUEVcIjppZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoVEQsaSkpe3ZhciBuO2NvbnN0e3ZhbHVlOnIsZXhwaXJlczpvfT1lW2ldO2lmKG8mJm88PXQpcmV0dXJuO1wibnVtYmVyXCI9PXR5cGVvZiByJiZMbihuPVswLDEsNCw1LDYsNyw4LDldKS5jYWxsKG4scikmJih5RFtpXT17dmFsdWU6cn0sVERbaV09cix0aGlzLmVtaXQocHguVVBEQVRFX1JFTU9URV9WSURFT19TVFJFQU1fVFlQRSxyKSxpUC5kZWJ1ZyhcIlVwZGF0aW5nIGNsaWVudCByZW1vdGUgc3RyZWFtIHR5cGU6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShyKSkpKX1icmVhaztjYXNlXCJFTkFCTEVfRk9SQ0VfSExTXCI6aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFRELGkpKXtjb25zdHt2YWx1ZTpuLGV4cGlyZXM6cn09ZVtpXTtpZihyJiZyPD10KXJldHVybjtiTihURFtpXSxuKXx8KHlEW2ldPW4sVERbaV09bix0aGlzLmVtaXQocHguRkFMTEJBQ0tfVE9fSExTLG4pLGlQLmRlYnVnKFwiVXBkYXRpbmcgZW5hYmxlIGZvcmNlIGhsczogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KG4pKSkpfWJyZWFrO2Nhc2VcIlZPU19DT05GSUdVUkVcIjppZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoVEQsaSkpe2NvbnN0e3ZhbHVlOm4sZXhwaXJlczpyfT1lW2ldO2lmKHImJnI8PXQpcmV0dXJuO2JOKFREW2ldLG4pfHwoeURbaV09bixURFtpXT1uLHRoaXMuZW1pdChweC5VUERBVEVfVk9TX0NPTkZJR1VSRSxuKSxpUC5kZWJ1ZyhcIlVwZGF0aW5nIHZvcyBjb25maWd1cmU6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShuKSkpKX19fSkpfWNhdGNoKGUpe2lQLmVycm9yKFwiRXJyb3IgaGFuZGxpbmcgZ2xvYmFsIHBhcmFtZXRlciBjb25maWc6XCIsZS5tZXNzYWdlKX19fWNsYXNzICRCIGV4dGVuZHMgTk97Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLGlBKHRoaXMsXCJyZXN1bHRTdG9yYWdlXCIsbmV3IE1hcCl9c2V0TG9jYWxBdWRpb1N0YXRzKGUsdCxpKXt0aGlzLnJlY29yZChcIkFVRElPX0lOUFVUX0xFVkVMX1RPT19MT1dcIixlLHRoaXMuY2hlY2tBdWRpb0lucHV0TGV2ZWwoaSx0KSksdGhpcy5yZWNvcmQoXCJTRU5EX0FVRElPX0JJVFJBVEVfVE9PX0xPV1wiLGUsdGhpcy5jaGVja1NlbmRBdWRpb0JpdHJhdGUoaSx0KSl9c2V0TG9jYWxWaWRlb1N0YXRzKGUsdCxpKXt0aGlzLnJlY29yZChcIlNFTkRfVklERU9fQklUUkFURV9UT09fTE9XXCIsZSx0aGlzLmNoZWNrU2VuZFZpZGVvQml0cmF0ZShpLHQpKSx0aGlzLnJlY29yZChcIkZSQU1FUkFURV9JTlBVVF9UT09fTE9XXCIsZSx0aGlzLmNoZWNrRnJhbWVyYXRlSW5wdXQoaSx0KSksdGhpcy5yZWNvcmQoXCJGUkFNRVJBVEVfU0VOVF9UT09fTE9XXCIsZSx0aGlzLmNoZWNrRnJhbWVyYXRlU2VudChpKSksIXQubXV0ZWQmJnRoaXMucmVjb3JkKFwiVklERU9fRU5DT0RFX0ZBSUxFRFwiLGUsdGhpcy5jaGVjUmVzb2x1dGlvblNlbnQoaSkpfXNldFJlbW90ZUF1ZGlvU3RhdHMoZSx0KXtjb25zdCBpPWUuZ2V0VXNlcklkKCk7dGhpcy5yZWNvcmQoXCJBVURJT19PVVRQVVRfTEVWRUxfVE9PX0xPV1wiLGksdGhpcy5jaGVja0F1ZGlvT3V0cHV0TGV2ZWwodCkpfXNldFJlbW90ZVZpZGVvU3RhdHMoZSx0KXtjb25zdCBpPWUuZ2V0VXNlcklkKCk7dGhpcy5yZWNvcmQoXCJSRUNWX1ZJREVPX0RFQ09ERV9GQUlMRURcIixpLHRoaXMuY2hlY2tWaWRlb0RlY29kZSh0KSl9cmVjb3JkKGUsdCxpKXtpZihDRChcIlNUQVRTX1VQREFURV9JTlRFUlZBTFwiKT41MDApcmV0dXJuO3RoaXMucmVzdWx0U3RvcmFnZS5oYXMoZSl8fHRoaXMucmVzdWx0U3RvcmFnZS5zZXQoZSx7cmVzdWx0OltdLGlzUHJldk5vcm1hbDohMH0pO2NvbnN0IG49dGhpcy5yZXN1bHRTdG9yYWdlLmdldChlKTtpZighbilyZXR1cm47bi5yZXN1bHQucHVzaChpKTtjb25zdCByPVwiVklERU9fRU5DT0RFX0ZBSUxFRFwiPT09ZT9DRChcIkVOQ09ERV9FWENFUFRJT05fVElNRVNcIik6NTtpZihuLnJlc3VsdC5sZW5ndGg+PXIpe3ZhciBvO2NvbnN0IGk9TG4obz1uLnJlc3VsdCkuY2FsbChvLCEwKTtuLmlzUHJldk5vcm1hbCYmIWkmJnRoaXMuZW1pdChcImV4Y2VwdGlvblwiLGVqW2VdLGUsdCksIW4uaXNQcmV2Tm9ybWFsJiZpJiZ0aGlzLmVtaXQoXCJleGNlcHRpb25cIixlaltlXSsyZTMsZStcIl9SRUNPVkVSXCIsdCksbi5pc1ByZXZOb3JtYWw9aSxuLnJlc3VsdD1bXX19Y2hlY2tBdWRpb091dHB1dExldmVsKGUpe3JldHVybiEoZS5yZWNlaXZlQml0cmF0ZT4wJiYwPT09ZS5yZWNlaXZlTGV2ZWwpfWNoZWNrQXVkaW9JbnB1dExldmVsKGUsdCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBXayYmIXQuaXNBY3RpdmV8fCghIXQubXV0ZWR8fDAhPT1lLnNlbmRWb2x1bWVMZXZlbCl9Y2hlY2tGcmFtZXJhdGVJbnB1dChlLHQpe2xldCBpPW51bGw7dC5fZW5jb2RlckNvbmZpZyYmdC5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGUmJihpPWRGKHQuX2VuY29kZXJDb25maWcuZnJhbWVSYXRlKSk7Y29uc3Qgbj1lLmNhcHR1cmVGcmFtZVJhdGU7cmV0dXJuIWl8fCFufHwhKGk+MTAmJm48NXx8aTwxMCYmaT49NSYmbjw9MSl9Y2hlY2tGcmFtZXJhdGVTZW50KGUpe3JldHVybiEoZS5jYXB0dXJlRnJhbWVSYXRlJiZlLnNlbmRGcmFtZVJhdGUmJmUuY2FwdHVyZUZyYW1lUmF0ZT41JiZlLnNlbmRGcmFtZVJhdGU8PTEpfWNoZWNSZXNvbHV0aW9uU2VudChlKXt2YXIgdDtyZXR1cm4hKCFlLmNvZGVjVHlwZXx8TG4odD1DRChcIkVOQ09ERV9FWENFUFRJT05fVkFMSURBVEVfQ09ERUNcIikpLmNhbGwodCxlLmNvZGVjVHlwZS50b0xvY2FsZUxvd2VyQ2FzZSgpKSl8fCghZS5jYXB0dXJlRnJhbWVSYXRlfHwwIT09ZS5zZW5kRnJhbWVSYXRlfHwwIT09ZS5zZW5kUmVzb2x1dGlvbldpZHRofHwwIT09ZS5zZW5kUmVzb2x1dGlvbkhlaWdodCl9Y2hlY2tTZW5kVmlkZW9CaXRyYXRlKGUsdCl7cmV0dXJuISF0Lm11dGVkfHwwIT09ZS5zZW5kQml0cmF0ZX1jaGVja1NlbmRBdWRpb0JpdHJhdGUoZSx0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFdrJiYhdC5pc0FjdGl2ZXx8KCEhdC5tdXRlZHx8MCE9PWUuc2VuZEJpdHJhdGUpfWNoZWNrVmlkZW9EZWNvZGUoZSl7cmV0dXJuIDA9PT1lLnJlY2VpdmVCaXRyYXRlfHwwIT09ZS5kZWNvZGVGcmFtZVJhdGV9fWNvbnN0IGVqPXtGUkFNRVJBVEVfSU5QVVRfVE9PX0xPVzoxMDAxLEZSQU1FUkFURV9TRU5UX1RPT19MT1c6MTAwMixTRU5EX1ZJREVPX0JJVFJBVEVfVE9PX0xPVzoxMDAzLFJFQ1ZfVklERU9fREVDT0RFX0ZBSUxFRDoxMDA1LEFVRElPX0lOUFVUX0xFVkVMX1RPT19MT1c6MjAwMSxBVURJT19PVVRQVVRfTEVWRUxfVE9PX0xPVzoyMDAyLFNFTkRfQVVESU9fQklUUkFURV9UT09fTE9XOjIwMDMsVklERU9fRU5DT0RFX0ZBSUxFRDoyMDA0fTtjb25zdCB0aj1uZXcgY2xhc3N7bWFya1N1YnNjcmliZVN0YXJ0KGUsdCl7cGVyZm9ybWFuY2UubWFyayhcImFnb3JhLXdlYi1zZGsvXCIuY29uY2F0KGUsXCIvc3Vic2NyaWJlLVwiKS5jb25jYXQodCkpfW1hcmtQdWJsaXNoU3RhcnQoZSx0KXtwZXJmb3JtYW5jZS5tYXJrKFwiYWdvcmEtd2ViLXNkay9cIi5jb25jYXQoZSxcIi9wdWJsaXNoLVwiKS5jb25jYXQodCkpfW1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQoZSx0KXtjb25zdCBpPXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoXCJhZ29yYS13ZWItc2RrL1wiLmNvbmNhdChlLFwiL3N1YnNjcmliZS1cIikuY29uY2F0KHQpKTtpZihpLmxlbmd0aD4wKXtjb25zdCBlPWlbaS5sZW5ndGgtMV07cmV0dXJuIE1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCktZS5zdGFydFRpbWUpfXJldHVybiAwfW1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KGUsdCl7Y29uc3QgaT1wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKFwiYWdvcmEtd2ViLXNkay9cIi5jb25jYXQoZSxcIi9wdWJsaXNoLVwiKS5jb25jYXQodCkpO2lmKGkubGVuZ3RoPjApe2NvbnN0IGU9aVtpLmxlbmd0aC0xXTtyZXR1cm4gTWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKS1lLnN0YXJ0VGltZSl9cmV0dXJuIDB9fTtmdW5jdGlvbiBpaihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gbmooZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/aWooT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6aWooT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3Mgcmp7Y29uc3RydWN0b3IoZSl7aUEodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxpQSh0aGlzLFwib25TdGF0c0V4Y2VwdGlvblwiLHZvaWQgMCksaUEodGhpcyxcIm9uVXBsb2FkUHVibGlzaER1cmF0aW9uXCIsdm9pZCAwKSxpQSh0aGlzLFwib25TdGF0c0NoYW5nZWRcIix2b2lkIDApLGlBKHRoaXMsXCJvblZpZGVvQ29kZWNDaGFuZ2VkXCIsdm9pZCAwKSxpQSh0aGlzLFwibG9jYWxTdGF0c1wiLG5ldyBNYXApLGlBKHRoaXMsXCJyZW1vdGVTdGF0c1wiLG5ldyBNYXApLGlBKHRoaXMsXCJ1cGRhdGVTdGF0c0ludGVydmFsXCIsdm9pZCAwKSxpQSh0aGlzLFwidHJhZmZpY1N0YXRzXCIsdm9pZCAwKSxpQSh0aGlzLFwidHJhZmZpY1N0YXRzUGVlckxpc3RcIixbXSksaUEodGhpcyxcInVwbGlua1N0YXRzXCIsdm9pZCAwKSxpQSh0aGlzLFwiZXhjZXB0aW9uTW9uaXRvclwiLHZvaWQgMCksaUEodGhpcyxcInAycENoYW5uZWxcIix2b2lkIDApLGlBKHRoaXMsXCJzY2FsYWJpbGl0eU1vZGVcIixpRC5MMVQxKSxpQSh0aGlzLFwidXBkYXRlU3RhdHNcIiwoKCk9Pnt0aGlzLnAycENoYW5uZWwmJih0aGlzLnVwZGF0ZVJlbW90ZVN0YXRzKHRoaXMucDJwQ2hhbm5lbCksdGhpcy51cGRhdGVMb2NhbFN0YXRzKHRoaXMucDJwQ2hhbm5lbCkpfSkpLHRoaXMuc3RvcmU9ZSx0aGlzLmV4Y2VwdGlvbk1vbml0b3I9bmV3ICRCLHRoaXMuZXhjZXB0aW9uTW9uaXRvci5vbihcImV4Y2VwdGlvblwiLCgoZSx0LGkpPT57dGhpcy5vblN0YXRzRXhjZXB0aW9uJiZ0aGlzLm9uU3RhdHNFeGNlcHRpb24oZSx0LGkpfSkpfXN0YXJ0VXBkYXRlU3RhdHMoKXt0aGlzLnVwZGF0ZVN0YXRzSW50ZXJ2YWx8fCh0aGlzLnVwZGF0ZVN0YXRzSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKHRoaXMudXBkYXRlU3RhdHMsMWUzKSl9c3RvcFVwZGF0ZVN0YXRzKCl7dGhpcy51cGRhdGVTdGF0c0ludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVTdGF0c0ludGVydmFsKSx0aGlzLnVwZGF0ZVN0YXRzSW50ZXJ2YWw9dm9pZCAwKX1yZXNldCgpe3RoaXMubG9jYWxTdGF0cz1uZXcgTWFwLHRoaXMucmVtb3RlU3RhdHM9bmV3IE1hcCx0aGlzLnRyYWZmaWNTdGF0cz12b2lkIDAsdGhpcy50cmFmZmljU3RhdHNQZWVyTGlzdD1bXSx0aGlzLnVwbGlua1N0YXRzPXZvaWQgMH1nZXRMb2NhbEF1ZGlvVHJhY2tTdGF0cygpe3JldHVybiB0aGlzLmxvY2FsU3RhdHMuZ2V0KFJ4LkxvY2FsQXVkaW9UcmFjayl8fG5qKHt9LFlQKX1nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpe3JldHVybiB0aGlzLmxvY2FsU3RhdHMuZ2V0KFJ4LkxvY2FsVmlkZW9UcmFjayl8fG5qKHt9LHpQKX1nZXRSZW1vdGVBdWRpb1RyYWNrU3RhdHMoZSl7Y29uc3QgdD0oZSx0KT0+e2lmKCF0aGlzLnRyYWZmaWNTdGF0cylyZXR1cm4gdDtjb25zdCBpPXRoaXMudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZCgodD0+dC5wZWVyX3VpZD09PWUpKTtyZXR1cm4gaSYmKHQucHVibGlzaER1cmF0aW9uPWkuQl9wcGFkKyhEYXRlLm5vdygpLXRoaXMudHJhZmZpY1N0YXRzLnRpbWVzdGFtcCkpLHR9LGk9e307aWYoZSl7dmFyIG47Y29uc3Qgcj1udWxsPT09KG49dGhpcy5yZW1vdGVTdGF0cy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmF1ZGlvU3RhdHM7ciYmKGlbZV09dChlLHIpKX1lbHNlIEFycmF5LmZyb20odGhpcy5yZW1vdGVTdGF0cy5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbbix7YXVkaW9TdGF0czpyfV09ZTtyJiYoaVtuXT10KG4scikpfSkpO3JldHVybiBpfWdldFJlbW90ZU5ldHdvcmtRdWFsaXR5U3RhdHMoZSl7Y29uc3QgdD17fTtpZihlKXt2YXIgaTtjb25zdCBuPW51bGw9PT0oaT10aGlzLnJlbW90ZVN0YXRzLmdldChlKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkubmV0d29ya1N0YXRzO24mJih0W2VdPW4pfWVsc2UgQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFtpLHtuZXR3b3JrU3RhdHM6bn1dPWU7biYmKHRbaV09bil9KSk7cmV0dXJuIHR9Z2V0TmV0d29ya1F1YWxpdHkoKXtsZXQgZT0wLHQ9MDtyZXR1cm4gdGhpcy50cmFmZmljU3RhdHMmJihlPXVGKHRoaXMudHJhZmZpY1N0YXRzLkJfdW5xKSx0PXVGKHRoaXMudHJhZmZpY1N0YXRzLkJfZG5xKSkse3VwbGlua05ldHdvcmtRdWFsaXR5OmUsZG93bmxpbmtOZXR3b3JrUXVhbGl0eTp0fX1nZXRSZW1vdGVWaWRlb1RyYWNrU3RhdHMoZSl7Y29uc3QgdD0oZSx0KT0+e2lmKCF0aGlzLnRyYWZmaWNTdGF0cylyZXR1cm4gdDtjb25zdCBpPXRoaXMudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZCgodD0+dC5wZWVyX3VpZD09PWUpKTtyZXR1cm4gaSYmKHQucHVibGlzaER1cmF0aW9uPWkuQl9wcHZkKyhEYXRlLm5vdygpLXRoaXMudHJhZmZpY1N0YXRzLnRpbWVzdGFtcCkpLHR9LGk9e307aWYoZSl7dmFyIG47Y29uc3Qgcj1udWxsPT09KG49dGhpcy5yZW1vdGVTdGF0cy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnZpZGVvU3RhdHM7ciYmKGlbZV09dChlLHIpKX1lbHNlIEFycmF5LmZyb20odGhpcy5yZW1vdGVTdGF0cy5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbbix7dmlkZW9TdGF0czpyfV09ZTtyJiYoaVtuXT10KG4scikpfSkpO3JldHVybiBpfWdldFJUQ1N0YXRzKCl7bGV0IGU9MCx0PTAsaT0wLG49MDtjb25zdCByPXRoaXMubG9jYWxTdGF0cy5nZXQoUnguTG9jYWxBdWRpb1RyYWNrKTtyJiYoZSs9ci5zZW5kQnl0ZXMsdCs9ci5zZW5kQml0cmF0ZSk7Y29uc3Qgbz10aGlzLmxvY2FsU3RhdHMuZ2V0KFJ4LkxvY2FsVmlkZW9UcmFjayk7byYmKGUrPW8uc2VuZEJ5dGVzLHQrPW8uc2VuZEJpdHJhdGUpO2NvbnN0IHM9dGhpcy5sb2NhbFN0YXRzLmdldChSeC5Mb2NhbFZpZGVvTG93VHJhY2spO3MmJihlKz1zLnNlbmRCeXRlcyx0Kz1zLnNlbmRCaXRyYXRlKSx0aGlzLnJlbW90ZVN0YXRzLmZvckVhY2goKGU9PntsZXR7YXVkaW9TdGF0czp0LHZpZGVvU3RhdHM6cn09ZTt0JiYoaSs9dC5yZWNlaXZlQnl0ZXMsbis9dC5yZWNlaXZlQml0cmF0ZSksciYmKGkrPXIucmVjZWl2ZUJ5dGVzLG4rPXIucmVjZWl2ZUJpdHJhdGUpfSkpO2xldCBhPTE7cmV0dXJuIHRoaXMudHJhZmZpY1N0YXRzJiYoYSs9dGhpcy50cmFmZmljU3RhdHMucGVlcl9kZWxheS5sZW5ndGgpLHtEdXJhdGlvbjowLFVzZXJDb3VudDphLFNlbmRCaXRyYXRlOnQsU2VuZEJ5dGVzOmUsUmVjdkJ5dGVzOmksUmVjdkJpdHJhdGU6bixPdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aDp0aGlzLnVwbGlua1N0YXRzP3RoaXMudXBsaW5rU3RhdHMuQl91YWIvMWUzOjAsUlRUOnRoaXMudHJhZmZpY1N0YXRzPzIqdGhpcy50cmFmZmljU3RhdHMuQl9hY2Q6MH19YWRkTG9jYWxTdGF0cyhlKXt0aGlzLmxvY2FsU3RhdHMuc2V0KGUsdm9pZCAwKX1yZW1vdmVMb2NhbFN0YXRzKGUpe2U/dGhpcy5sb2NhbFN0YXRzLmRlbGV0ZShlKTp0aGlzLmxvY2FsU3RhdHMuY2xlYXIoKX1hZGRSZW1vdGVTdGF0cyhlKXt0aGlzLnJlbW90ZVN0YXRzLnNldChlLHt9KX1yZW1vdmVSZW1vdGVTdGF0cyhlKXtlP3RoaXMucmVtb3RlU3RhdHMuZGVsZXRlKGUpOnRoaXMucmVtb3RlU3RhdHMuY2xlYXIoKX1hZGRQMlBDaGFubmVsKGUpe3RoaXMucDJwQ2hhbm5lbD1lfXVwZGF0ZVRyYWZmaWNTdGF0cyhlKXtlLnBlZXJfZGVsYXk9ZS5wZWVyX2RlbGF5LmZpbHRlcigoZT0+dm9pZCAwIT09ZS5CX3BwYWR8fHZvaWQgMCE9PWUuQl9wcHZkKSk7ZS5wZWVyX2RlbGF5LmZpbHRlcigoZT0+LTE9PT10aGlzLnRyYWZmaWNTdGF0c1BlZXJMaXN0LmluZGV4T2YoZS5wZWVyX3VpZCkpKS5mb3JFYWNoKChlPT57dmFyIHQ7Y29uc3QgaT1udWxsPT09KHQ9dGhpcy5wMnBDaGFubmVsKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRSZW1vdGVNZWRpYShlLnBlZXJfdWlkKSxuPW51bGwhPWkmJmkudmlkZW9TU1JDP3RqLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxpLnZpZGVvU1NSQyk6MCxyPW51bGwhPWkmJmkuYXVkaW9TU1JDP3RqLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxpLmF1ZGlvU1NSQyk6MDt2b2lkIDAhPT1lLkJfcHBhZCYmdm9pZCAwIT09ZS5CX3BwdmQmJih0aGlzLm9uVXBsb2FkUHVibGlzaER1cmF0aW9uJiZ0aGlzLm9uVXBsb2FkUHVibGlzaER1cmF0aW9uKGUucGVlcl91aWQsZS5CX3BwYWQsZS5CX3BwdmQsbj5yP246ciksdGhpcy50cmFmZmljU3RhdHNQZWVyTGlzdC5wdXNoKGUucGVlcl91aWQpKX0pKSx0aGlzLnRyYWZmaWNTdGF0cz1lfXVwZGF0ZVVwbGlua1N0YXRzKGUpe3RoaXMudXBsaW5rU3RhdHMmJnRoaXMudXBsaW5rU3RhdHMuQl9maXIhPT1lLkJfZmlyJiZpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl06IFBlcmlvZCBmaXIgY2hhbmdlcyB0byBcIikuY29uY2F0KGUuQl9maXIpKSx0aGlzLnVwbGlua1N0YXRzPWV9c3RhdGljIGlzUmVtb3RlVmlkZW9GcmVlemUoZSx0LGkpe2lmKCFlKXJldHVybiExO2NvbnN0IG49ISFpJiZ0LmZyYW1lc0RlY29kZUZyZWV6ZVRpbWU+aS5mcmFtZXNEZWNvZGVGcmVlemVUaW1lLHI9IWl8fHQuZnJhbWVzRGVjb2RlQ291bnQ+aS5mcmFtZXNEZWNvZGVDb3VudDtyZXR1cm4gbnx8IXJ9c3RhdGljIGlzUmVtb3RlQXVkaW9GcmVlemUoZSl7cmV0dXJuISFlJiZlLl9pc0ZyZWV6ZSgpfWlzTG9jYWxWaWRlb0ZyZWV6ZShlKXtyZXR1cm4hKCFlLmlucHV0RnJhbWV8fCFlLnNlbnRGcmFtZSkmJihlLmlucHV0RnJhbWUuZnJhbWVSYXRlPjUmJmUuc2VudEZyYW1lLmZyYW1lUmF0ZTwzKX11cGRhdGVMb2NhbFN0YXRzKGUpe0FycmF5LmZyb20odGhpcy5sb2NhbFN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaCgodD0+e2xldFtpLG5dPXQ7c3dpdGNoKGkpe2Nhc2UgUnguTG9jYWxWaWRlb1RyYWNrOmNhc2UgUnguTG9jYWxWaWRlb0xvd1RyYWNrOntjb25zdCB0PW4scz1uaih7fSx6UCksYT1lLmdldFN0YXRzKCksYz1lLmdldExvY2FsTWVkaWEoaSk7aWYoYSl7Y29uc3QgaT1hLnZpZGVvU2VuZC5maW5kKChlPT5lLnNzcmM9PT0obnVsbD09Yz92b2lkIDA6Yy5zc3Jjc1swXS5zc3JjSWQpKSk7aWYoaSl7Y29uc3Qgbj1lLmdldExvY2FsVmlkZW9TaXplKCksbz1lLmdldEVuY29kZXJDb25maWcoUnguTG9jYWxWaWRlb1RyYWNrKTt2YXIgcjtpZihcIkgyNjRcIj09PWkuY29kZWN8fFwiSDI2NVwiPT09aS5jb2RlY3x8XCJWUDhcIj09PWkuY29kZWN8fFwiVlA5XCI9PT1pLmNvZGVjfHxcIkFWMVhcIj09PWkuY29kZWN8fFwiQVYxXCI9PT1pLmNvZGVjKWlmKHMuY29kZWNUeXBlPWkuY29kZWMsKG51bGw9PXQ/dm9pZCAwOnQuY29kZWNUeXBlKSE9PWkuY29kZWMpbnVsbD09PShyPXRoaXMub25WaWRlb0NvZGVjQ2hhbmdlZCl8fHZvaWQgMD09PXJ8fHIuY2FsbCh0aGlzLGkuY29kZWMudG9Mb2NhbGVMb3dlckNhc2UoKSk7cy5zZW5kQnl0ZXM9aS5ieXRlcyxzLnNlbmRCaXRyYXRlPXQ/OCpNYXRoLm1heCgwLHMuc2VuZEJ5dGVzLXQuc2VuZEJ5dGVzKTowLGkuaW5wdXRGcmFtZT8ocy5jYXB0dXJlRnJhbWVSYXRlPWkuaW5wdXRGcmFtZS5mcmFtZVJhdGUscy5jYXB0dXJlUmVzb2x1dGlvbkhlaWdodD1pLmlucHV0RnJhbWUuaGVpZ2h0LHMuY2FwdHVyZVJlc29sdXRpb25XaWR0aD1pLmlucHV0RnJhbWUud2lkdGgpOm4mJihzLmNhcHR1cmVSZXNvbHV0aW9uV2lkdGg9bi53aWR0aCxzLmNhcHR1cmVSZXNvbHV0aW9uSGVpZ2h0PW4uaGVpZ2h0KSxpLnNlbnRGcmFtZT8ocy5zZW5kRnJhbWVSYXRlPWkuc2VudEZyYW1lLmZyYW1lUmF0ZSxzLnNlbmRSZXNvbHV0aW9uSGVpZ2h0PWkuc2VudEZyYW1lLmhlaWdodCxzLnNlbmRSZXNvbHV0aW9uV2lkdGg9aS5zZW50RnJhbWUud2lkdGgpOm4mJihzLnNlbmRSZXNvbHV0aW9uV2lkdGg9bi53aWR0aCxzLnNlbmRSZXNvbHV0aW9uSGVpZ2h0PW4uaGVpZ2h0KSxpLmF2Z0VuY29kZU1zJiYocy5lbmNvZGVEZWxheT1pLmF2Z0VuY29kZU1zKSxvJiZvLmJpdHJhdGVNYXg/cy50YXJnZXRTZW5kQml0cmF0ZT0xZTMqby5iaXRyYXRlTWF4OmkudGFyZ2V0Qml0cmF0ZSYmKHMudGFyZ2V0U2VuZEJpdHJhdGU9aS50YXJnZXRCaXRyYXRlKSxzLnNlbmRQYWNrZXRzPWkucGFja2V0cyxzLnNlbmRQYWNrZXRzTG9zdD1pLnBhY2tldHNMb3N0LHMuc2VuZEppdHRlck1zPWkuaml0dGVyTXMscy5zZW5kUnR0TXM9aS5ydHRNcyxzLnRvdGFsRHVyYXRpb249dD90LnRvdGFsRHVyYXRpb24rMToxLHMudG90YWxGcmVlemVUaW1lPXQ/dC50b3RhbEZyZWV6ZVRpbWU6MCx0aGlzLmlzTG9jYWxWaWRlb0ZyZWV6ZShpKSYmKHMudG90YWxGcmVlemVUaW1lKz0xKSxpLnNjYWxhYmlsaXR5TW9kZSYmdGhpcy5zY2FsYWJpbGl0eU1vZGUhPT1pLnNjYWxhYmlsaXR5TW9kZSYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXTogVGhlIHNjYWxhYmlsaXR5TW9kZSBvZiB0aGUgdmlkZW8gc2VuZGluZyBzdHJlYW0gaXMgXCIpLmNvbmNhdChpLnNjYWxhYmlsaXR5TW9kZSkpLHRoaXMuc2NhbGFiaWxpdHlNb2RlPWkuc2NhbGFiaWxpdHlNb2RlKX10aGlzLnRyYWZmaWNTdGF0cyYmKHMuY3VycmVudFBhY2tldExvc3NSYXRlPSh0aGlzLnRyYWZmaWNTdGF0cy5CX3B2bHI0fHwwKS8xMDApfXZhciBvO2lmKHRoaXMubG9jYWxTdGF0cy5zZXQoaSxzKSwobnVsbD09dD92b2lkIDA6dC5zZW5kUmVzb2x1dGlvbldpZHRoKSE9PXMuc2VuZFJlc29sdXRpb25XaWR0aHx8KG51bGw9PXQ/dm9pZCAwOnQuc2VuZFJlc29sdXRpb25IZWlnaHQpIT09cy5zZW5kUmVzb2x1dGlvbkhlaWdodCludWxsPT09KG89dGhpcy5vblN0YXRzQ2hhbmdlZCl8fHZvaWQgMD09PW98fG8uY2FsbCh0aGlzLFwicmVzb2x1dGlvblwiLHt3aWR0aDpzLnNlbmRSZXNvbHV0aW9uV2lkdGgsaGVpZ2h0OnMuc2VuZFJlc29sdXRpb25IZWlnaHR9KTtzJiZjJiZ0aGlzLmV4Y2VwdGlvbk1vbml0b3Iuc2V0TG9jYWxWaWRlb1N0YXRzKHRoaXMuc3RvcmUudWlkLGMudHJhY2sscyk7YnJlYWt9Y2FzZSBSeC5Mb2NhbEF1ZGlvVHJhY2s6e2NvbnN0IHQ9bixyPW5qKHt9LFlQKSxvPWUuZ2V0U3RhdHMoKSxzPWUuZ2V0TG9jYWxNZWRpYShpKTtpZihvKXtjb25zdCBpPW8uYXVkaW9TZW5kLmZpbmQoKGU9PmUuc3NyYz09PShudWxsPT1zP3ZvaWQgMDpzLnNzcmNzWzBdLnNzcmNJZCkpKTtpZihpKXtpZihcIm9wdXNcIiE9PWkuY29kZWMmJlwiYWFjXCIhPT1pLmNvZGVjJiZcIlBDTVVcIiE9PWkuY29kZWMmJlwiUENNQVwiIT09aS5jb2RlYyYmXCJHNzIyXCIhPT1pLmNvZGVjfHwoci5jb2RlY1R5cGU9aS5jb2RlYyksaS5pbnB1dExldmVsKXIuc2VuZFZvbHVtZUxldmVsPU1hdGgucm91bmQoMzI3NjcqaS5pbnB1dExldmVsKTtlbHNle2NvbnN0IHQ9ZS5nZXRMb2NhbEF1ZGlvVm9sdW1lKCk7dCYmKHIuc2VuZFZvbHVtZUxldmVsPU1hdGgucm91bmQoMzI3NjcqdCkpfXIuc2VuZEJ5dGVzPWkuYnl0ZXMsci5zZW5kUGFja2V0cz1pLnBhY2tldHMsci5zZW5kUGFja2V0c0xvc3Q9aS5wYWNrZXRzTG9zdCxyLnNlbmRKaXR0ZXJNcz1pLmppdHRlck1zLHIuc2VuZFJ0dE1zPWkucnR0TXMsci5zZW5kQml0cmF0ZT10PzgqTWF0aC5tYXgoMCxyLnNlbmRCeXRlcy10LnNlbmRCeXRlcyk6MH19dGhpcy50cmFmZmljU3RhdHMmJihyLmN1cnJlbnRQYWNrZXRMb3NzUmF0ZT0odGhpcy50cmFmZmljU3RhdHMuQl9wYWxyNHx8MCkvMTAwKSx0aGlzLmxvY2FsU3RhdHMuc2V0KFJ4LkxvY2FsQXVkaW9UcmFjayxyKSxyJiZzJiZ0aGlzLmV4Y2VwdGlvbk1vbml0b3Iuc2V0TG9jYWxBdWRpb1N0YXRzKHRoaXMuc3RvcmUudWlkLHMudHJhY2sscik7YnJlYWt9fX0pKX11cGRhdGVSZW1vdGVTdGF0cyhlKXtBcnJheS5mcm9tKHRoaXMucmVtb3RlU3RhdHMuZW50cmllcygpKS5mb3JFYWNoKCh0PT57dmFyIGksbjtsZXRbcix7dmlkZW9TdGF0czpvLGF1ZGlvU3RhdHM6cyx2aWRlb1BjU3RhdHM6YX1dPXQ7Y29uc3QgYz1zLGQ9byxsPWEsdT1uaih7fSxxUCksaD1uaih7fSxKUCkscD1uaih7fSxYUCkse2F1ZGlvVHJhY2s6Xyx2aWRlb1RyYWNrOkUsYXVkaW9TU1JDOm0sdmlkZW9TU1JDOmZ9PWUuZ2V0UmVtb3RlTWVkaWEocik7bGV0IFM7Uz10aGlzLnN0b3JlLnVzZVAyUD9lLmdldFN0YXRzKCEwKTplLmdldFN0YXRzKCk7Y29uc3QgZz1udWxsPT09KGk9Uyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuYXVkaW9SZWN2LmZpbmQoKGU9PmUuc3NyYz09PW0pKSxUPW51bGw9PT0obj1TKXx8dm9pZCAwPT09bj92b2lkIDA6bi52aWRlb1JlY3YuZmluZCgoZT0+ZS5zc3JjPT09ZikpLFI9dGhpcy50cmFmZmljU3RhdHMmJnRoaXMudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZCgoZT0+ZS5wZWVyX3VpZD09PXIpKTtpZihnJiYoXCJvcHVzXCIhPT1nLmNvZGVjJiZcImFhY1wiIT09Zy5jb2RlYyYmXCJQQ01VXCIhPT1nLmNvZGVjJiZcIlBDTUFcIiE9PWcuY29kZWMmJlwiRzcyMlwiIT09Zy5jb2RlY3x8KHUuY29kZWNUeXBlPWcuY29kZWMpLGcub3V0cHV0TGV2ZWw/dS5yZWNlaXZlTGV2ZWw9TWF0aC5yb3VuZCgzMjc2NypnLm91dHB1dExldmVsKTpfJiYodS5yZWNlaXZlTGV2ZWw9TWF0aC5yb3VuZCgzMjc2NypfLmdldFZvbHVtZUxldmVsKCkpKSx1LnJlY2VpdmVCeXRlcz1nLmJ5dGVzLHUucmVjZWl2ZVBhY2tldHM9Zy5wYWNrZXRzLHUucmVjZWl2ZVBhY2tldHNMb3N0PWcucGFja2V0c0xvc3QsdS5yZWNlaXZlUGFja2V0c0Rpc2NhcmRlZD1nLnBhY2tldHNEaXNjYXJkZWQsdS5wYWNrZXRMb3NzUmF0ZT11LnJlY2VpdmVQYWNrZXRzTG9zdC8odS5yZWNlaXZlUGFja2V0cyt1LnJlY2VpdmVQYWNrZXRzTG9zdCksdS5yZWNlaXZlQml0cmF0ZT1jPzgqTWF0aC5tYXgoMCx1LnJlY2VpdmVCeXRlcy1jLnJlY2VpdmVCeXRlcyk6MCx1LnRvdGFsRHVyYXRpb249Yz9jLnRvdGFsRHVyYXRpb24rMToxLHUudG90YWxGcmVlemVUaW1lPWM/Yy50b3RhbEZyZWV6ZVRpbWU6MCx1LmZyZWV6ZVJhdGU9dS50b3RhbEZyZWV6ZVRpbWUvdS50b3RhbER1cmF0aW9uLHUucmVjZWl2ZURlbGF5PWcuaml0dGVyQnVmZmVyTXMsdS50b3RhbER1cmF0aW9uPjEwJiZyai5pc1JlbW90ZUF1ZGlvRnJlZXplKF8pJiYodS50b3RhbEZyZWV6ZVRpbWUrPTEpKSxUKXt2YXIgQztcIkgyNjRcIiE9PVQuY29kZWMmJlwiSDI2NVwiIT09VC5jb2RlYyYmXCJWUDhcIiE9PVQuY29kZWMmJlwiVlA5XCIhPT1ULmNvZGVjJiZcIkFWMVhcIiE9PVQuY29kZWMmJlwiQVYxXCIhPT1ULmNvZGVjfHwoaC5jb2RlY1R5cGU9VC5jb2RlYyksaC5yZWNlaXZlQnl0ZXM9VC5ieXRlcyxoLnJlY2VpdmVCaXRyYXRlPWQ/OCpNYXRoLm1heCgwLGgucmVjZWl2ZUJ5dGVzLWQucmVjZWl2ZUJ5dGVzKTowLGguZGVjb2RlRnJhbWVSYXRlPVQuZGVjb2RlRnJhbWVSYXRlPDA/MDpULmRlY29kZUZyYW1lUmF0ZSxoLnJlbmRlckZyYW1lUmF0ZT1ULmRlY29kZUZyYW1lUmF0ZTwwPzA6VC5kZWNvZGVGcmFtZVJhdGUsVC5vdXRwdXRGcmFtZSYmKGgucmVuZGVyRnJhbWVSYXRlPVQub3V0cHV0RnJhbWUuZnJhbWVSYXRlKSxULnJlY2VpdmVkRnJhbWU/KGgucmVjZWl2ZUZyYW1lUmF0ZT1ULnJlY2VpdmVkRnJhbWUuZnJhbWVSYXRlLGgucmVjZWl2ZVJlc29sdXRpb25IZWlnaHQ9VC5yZWNlaXZlZEZyYW1lLmhlaWdodCxoLnJlY2VpdmVSZXNvbHV0aW9uV2lkdGg9VC5yZWNlaXZlZEZyYW1lLndpZHRoKTpFJiYoaC5yZWNlaXZlUmVzb2x1dGlvbkhlaWdodD1FLl92aWRlb0hlaWdodHx8MCxoLnJlY2VpdmVSZXNvbHV0aW9uV2lkdGg9RS5fdmlkZW9XaWR0aHx8MCksdm9pZCAwIT09VC5mcmFtZXNSYXRlRmlyZWZveCYmKGgucmVjZWl2ZUZyYW1lUmF0ZT1NYXRoLnJvdW5kKFQuZnJhbWVzUmF0ZUZpcmVmb3gpKSxoLnJlY2VpdmVQYWNrZXRzPVQucGFja2V0cyxoLnJlY2VpdmVQYWNrZXRzTG9zdD1ULnBhY2tldHNMb3N0LGgucGFja2V0TG9zc1JhdGU9aC5yZWNlaXZlUGFja2V0c0xvc3QvKGgucmVjZWl2ZVBhY2tldHMraC5yZWNlaXZlUGFja2V0c0xvc3QpO2NvbnN0IHQ9ZD9kLnRvdGFsRnJlZXplVGltZTowLGk9ZD9kLnRvdGFsRHVyYXRpb246MDtoLnRvdGFsRHVyYXRpb249ZD9kLnRvdGFsRHVyYXRpb24rMToxLGgudG90YWxGcmVlemVUaW1lPW51bGwhPT0oQz1ULnRvdGFsRnJlZXplc0R1cmF0aW9uKSYmdm9pZCAwIT09Qz9DOnR8fDAsaC5yZWNlaXZlRGVsYXk9VC5qaXR0ZXJCdWZmZXJNc3x8MDtjb25zdCBuPSEhZiYmZS5nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZik7dm9pZCAwPT09VC50b3RhbEZyZWV6ZXNEdXJhdGlvbiYmRSYmbiYmcmouaXNSZW1vdGVWaWRlb0ZyZWV6ZShFLFQsbCkmJihoLnRvdGFsRnJlZXplVGltZSs9MSksaC5mcmVlemVSYXRlPU1hdGgubWF4KDAsTWF0aC5taW4oKGgudG90YWxGcmVlemVUaW1lLXQpLyhoLnRvdGFsRHVyYXRpb24taSksMSkpfVImJih1LmVuZDJFbmREZWxheT1SLkJfYWQsaC5lbmQyRW5kRGVsYXk9Ui5CX3ZkLHUudHJhbnNwb3J0RGVsYXk9Ui5CX2VkLGgudHJhbnNwb3J0RGVsYXk9Ui5CX2VkLHUuY3VycmVudFBhY2tldExvc3NSYXRlPVIuQl9lYWxyNC8xMDAsaC5jdXJyZW50UGFja2V0TG9zc1JhdGU9Ui5CX2V2bHI0LzEwMCxwLnVwbGlua05ldHdvcmtRdWFsaXR5PVIuQl9wdW5xP1IuQl9wdW5xOjAscC5kb3dubGlua05ldHdvcmtRdWFsaXR5PVIuQl9wZG5xP1IuQl9wZG5xOjApLHRoaXMucmVtb3RlU3RhdHMuc2V0KHIse2F1ZGlvU3RhdHM6dSx2aWRlb1N0YXRzOmgsdmlkZW9QY1N0YXRzOlQsbmV0d29ya1N0YXRzOnB9KSxfJiZ0aGlzLmV4Y2VwdGlvbk1vbml0b3Iuc2V0UmVtb3RlQXVkaW9TdGF0cyhfLHUpLEUmJnRoaXMuZXhjZXB0aW9uTW9uaXRvci5zZXRSZW1vdGVWaWRlb1N0YXRzKEUsaCl9KSl9fWNsYXNzIG9qe2NvbnN0cnVjdG9yKCl7aUEodGhpcyxcImRlc3RDaGFubmVsTWVkaWFJbmZvc1wiLG5ldyBNYXApLGlBKHRoaXMsXCJzcmNDaGFubmVsTWVkaWFJbmZvXCIsdm9pZCAwKX1zZXRTcmNDaGFubmVsSW5mbyhlKXtleChlKSx0aGlzLnNyY0NoYW5uZWxNZWRpYUluZm89ZX1hZGREZXN0Q2hhbm5lbEluZm8oZSl7ZXgoZSksdGhpcy5kZXN0Q2hhbm5lbE1lZGlhSW5mb3Muc2V0KGUuY2hhbm5lbE5hbWUsZSl9cmVtb3ZlRGVzdENoYW5uZWxJbmZvKGUpe0hWKGUpLHRoaXMuZGVzdENoYW5uZWxNZWRpYUluZm9zLmRlbGV0ZShlKX1nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCl7cmV0dXJuIHRoaXMuc3JjQ2hhbm5lbE1lZGlhSW5mb31nZXREZXN0Q2hhbm5lbE1lZGlhSW5mbygpe3JldHVybiB0aGlzLmRlc3RDaGFubmVsTWVkaWFJbmZvc319ZnVuY3Rpb24gc2ooZSl7aWYoIShlIGluc3RhbmNlb2Ygb2opKXtyZXR1cm4gbmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLFwiQ29uZmlnIHNob3VsZCBiZSBpbnN0YW5jZSBvZiBbQ2hhbm5lbE1lZGlhUmVsYXlDb25maWd1cmF0aW9uXVwiKS50aHJvdygpfWNvbnN0IHQ9ZS5nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCksaT1lLmdldERlc3RDaGFubmVsTWVkaWFJbmZvKCk7aWYoIXQpe3JldHVybiBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJzcmNDaGFubmVsTWVkaWFJbmZvIHNob3VsZCBub3QgYmUgZW1wdHlcIikudGhyb3coKX1pZigwPT09aS5zaXplKXtyZXR1cm4gbmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLFwiZGVzdENoYW5uZWxNZWRpYUluZm8gc2hvdWxkIG5vdCBiZSBlbXB0eVwiKS50aHJvdygpfX1jbGFzcyBhantnZXQgaGFzVmlkZW8oKXtyZXR1cm4gdGhpcy5fdmlkZW9fZW5hYmxlZF8mJiF0aGlzLl92aWRlb19tdXRlZF8mJnRoaXMuX3ZpZGVvX2FkZGVkX31nZXQgaGFzQXVkaW8oKXtyZXR1cm4gdGhpcy5fYXVkaW9fZW5hYmxlZF8mJiF0aGlzLl9hdWRpb19tdXRlZF8mJnRoaXMuX2F1ZGlvX2FkZGVkX31nZXQgYXVkaW9UcmFjaygpe2lmKHRoaXMuaGFzQXVkaW98fHRoaXMuX2F1ZGlvX3ByZV9zdWJzY3JpYmVkKXJldHVybiB0aGlzLl9hdWRpb1RyYWNrfWdldCB2aWRlb1RyYWNrKCl7aWYodGhpcy5oYXNWaWRlb3x8dGhpcy5fdmlkZW9fcHJlX3N1YnNjcmliZWQpcmV0dXJuIHRoaXMuX3ZpZGVvVHJhY2t9Z2V0IGRhdGFDaGFubmVscygpe3JldHVybiB0aGlzLl9kYXRhQ2hhbm5lbHN9Y29uc3RydWN0b3IoZSx0KXtpQSh0aGlzLFwidWlkXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3VpbnRpZFwiLHZvaWQgMCksaUEodGhpcyxcIl90cnVzdF9pbl9yb29tX1wiLCEwKSxpQSh0aGlzLFwiX3RydXN0X2F1ZGlvX2VuYWJsZWRfc3RhdGVfXCIsITApLGlBKHRoaXMsXCJfdHJ1c3RfdmlkZW9fZW5hYmxlZF9zdGF0ZV9cIiwhMCksaUEodGhpcyxcIl90cnVzdF9hdWRpb19tdXRlX3N0YXRlX1wiLCEwKSxpQSh0aGlzLFwiX3RydXN0X3ZpZGVvX211dGVfc3RhdGVfXCIsITApLGlBKHRoaXMsXCJfYXVkaW9fbXV0ZWRfXCIsITEpLGlBKHRoaXMsXCJfdmlkZW9fbXV0ZWRfXCIsITEpLGlBKHRoaXMsXCJfYXVkaW9fZW5hYmxlZF9cIiwhMCksaUEodGhpcyxcIl92aWRlb19lbmFibGVkX1wiLCEwKSxpQSh0aGlzLFwiX2F1ZGlvX2FkZGVkX1wiLCExKSxpQSh0aGlzLFwiX3ZpZGVvX2FkZGVkX1wiLCExKSxpQSh0aGlzLFwiX2lzX3ByZV9jcmVhdGVkXCIsITEpLGlBKHRoaXMsXCJfdmlkZW9fcHJlX3N1YnNjcmliZWRcIiwhMSksaUEodGhpcyxcIl9hdWRpb19wcmVfc3Vic2NyaWJlZFwiLCExKSxpQSh0aGlzLFwiX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV9cIiwhMCksaUEodGhpcyxcIl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfXCIsITApLGlBKHRoaXMsXCJfYXVkaW9UcmFja1wiLHZvaWQgMCksaUEodGhpcyxcIl92aWRlb1RyYWNrXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2RhdGFDaGFubmVsc1wiLFtdKSxpQSh0aGlzLFwiX2F1ZGlvU1NSQ1wiLHZvaWQgMCksaUEodGhpcyxcIl92aWRlb1NTUkNcIix2b2lkIDApLGlBKHRoaXMsXCJfYXVkaW9PcnRjXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3ZpZGVvT3J0Y1wiLHZvaWQgMCksaUEodGhpcyxcIl9jbmFtZVwiLHZvaWQgMCksaUEodGhpcyxcIl9ydHhTc3JjSWRcIix2b2lkIDApLGlBKHRoaXMsXCJfdmlkZW9NaWRcIix2b2lkIDApLGlBKHRoaXMsXCJfYXVkaW9NaWRcIix2b2lkIDApLHRoaXMudWlkPWUsdGhpcy5fdWludGlkPXR9fWZ1bmN0aW9uIGNqKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBkaihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9jaihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpjaihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jb25zdCBsaj1lPT5cInY9MFxcbm89LSAwIDAgSU4gSVA0IDEyNy4wLjAuMVxcbnM9QWdvcmFHYXRld2F5XFxudD0wIDBcXG5hPWdyb3VwOkJVTkRMRSAwIDEgMlxcbmE9bXNpZC1zZW1hbnRpYzogV01TXFxuYT1pY2UtbGl0ZVwiLmNvbmNhdChlP1wiXFxuYT1leHRtYXAtYWxsb3ctbWl4ZWRcIjpcIlwiLFwiXFxubT12aWRlbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcXG5jPUlOIElQNCAxMjcuMC4wLjFcXG5hPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcbmE9c2VuZG9ubHlcXG5hPXJ0Y3AtbXV4XFxuYT1ydGNwLXJzaXplXFxuYT1taWQ6MFxcbm09YXVkaW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXFxuYz1JTiBJUDQgMTI3LjAuMC4xXFxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXG5hPXNlbmRvbmx5XFxuYT1ydGNwLW11eFxcbmE9cnRjcC1yc2l6ZVxcbmE9bWlkOjFcXG5tPWFwcGxpY2F0aW9uIDkgVURQL0RUTFMvU0NUUCB3ZWJydGMtZGF0YWNoYW5uZWxcXG5jPUlOIElQNCAxMjcuMC4wLjFcXG5hPW1pZDoyXFxuXCIpLHVqPVwiOVwiLGhqPTJlNCxwaj00ZTQ7bGV0IF9qPWNsYXNze2dldCBsb2NhbENhcGFiaWxpdGllcygpe3JldHVybiBzTih0aGlzLl9sb2NhbENhcGFiaWxpdGllcyl9Z2V0IHJ0cENhcGFiaWxpdGllcygpe3JldHVybiBzTih0aGlzLl9ydHBDYXBhYmlsaXRpZXMpfWdldCBjYW5kaWRhdGVzKCl7cmV0dXJuIHNOKHRoaXMuX2NhbmRpZGF0ZXMpfWdldCBpY2VQYXJhbWV0ZXJzKCl7cmV0dXJuIHNOKHRoaXMuX2ljZVBhcmFtZXRlcnMpfWdldCBkdGxzUGFyYW1ldGVycygpe3JldHVybiBzTih0aGlzLl9kdGxzUGFyYW1ldGVycyl9Y29uc3RydWN0b3IoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdO2lBKHRoaXMsXCJzZXNzaW9uRGVzY1wiLHZvaWQgMCksaUEodGhpcyxcIl9sb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksaUEodGhpcyxcIl9ydHBDYXBhYmlsaXRpZXNcIix2b2lkIDApLGlBKHRoaXMsXCJfY2FuZGlkYXRlc1wiLHZvaWQgMCksaUEodGhpcyxcIl9vcmlnaW5DYW5kaWRhdGVzXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2ljZVBhcmFtZXRlcnNcIix2b2lkIDApLGlBKHRoaXMsXCJfaXNVc2VFeHRtYXBBbGxvd01peGVkXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2lzVXNlTG9jYWxDb2RlY3NcIix2b2lkIDApLGlBKHRoaXMsXCJfaXNVc2VEYXRhQ2hhbm5lbFwiLHZvaWQgMCksaUEodGhpcyxcIl9kdGxzUGFyYW1ldGVyc1wiLHZvaWQgMCksaUEodGhpcyxcInNldHVwXCIsdm9pZCAwKSxpQSh0aGlzLFwiY3VycmVudE1pZEluZGV4XCIsdm9pZCAwKSxpQSh0aGlzLFwiY25hbWVcIix2b2lkIDApLGlBKHRoaXMsXCJ1c2VMb2NhbENvZGVjc01pZHNcIixbXSksaUEodGhpcyxcInByZWxvYWRTc3Jjc1wiLFtdKSxpQSh0aGlzLFwiZmlyZWZveFNzcmNNaWRNYXBcIixuZXcgTWFwKSx0aGlzLl9pc1VzZUV4dG1hcEFsbG93TWl4ZWQ9dCx0aGlzLl9pc1VzZUxvY2FsQ29kZWNzPWksdGhpcy5faXNVc2VEYXRhQ2hhbm5lbD1uLGU9c04oZSk7Y29uc3R7aWNlUGFyYW1ldGVyczpyLGR0bHNQYXJhbWV0ZXJzOm8sY2FuZGlkYXRlczpzLHJ0cENhcGFiaWxpdGllczphLHNldHVwOmMsbG9jYWxDYXBhYmlsaXRpZXM6ZCxjbmFtZTpsfT1lO3RoaXMuX3J0cENhcGFiaWxpdGllcz1hLHRoaXMuX2NhbmRpZGF0ZXM9cyx0aGlzLl9vcmlnaW5DYW5kaWRhdGVzPXNOKHMpLHRoaXMuX2ljZVBhcmFtZXRlcnM9cix0aGlzLl9kdGxzUGFyYW1ldGVycz1vLHRoaXMuX2xvY2FsQ2FwYWJpbGl0aWVzPWQsdGhpcy5zZXR1cD1jLHRoaXMuY25hbWU9bCxbdGhpcy5zZXNzaW9uRGVzY109dGhpcy51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMoYSksdGhpcy5jdXJyZW50TWlkSW5kZXg9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMX1jaGVja1ByZWxvYWRTc3JjcyhlKXtyZXR1cm4gZS5sZW5ndGg9PT10aGlzLnByZWxvYWRTc3Jjcy5sZW5ndGgmJmUuZXZlcnkoKGU9Pnt2YXIgdDtyZXR1cm4gTG4odD10aGlzLnByZWxvYWRTc3JjcykuY2FsbCh0LGUpfSkpfXByZWxvYWRSZW1vdGVNZWRpYShlKXtsZXQgdD0wO2NvbnN0IGk9W10sbj1bXTtmb3IoO2U+MDspe2NvbnN0IHI9W2RqKHtzc3JjSWQ6cGordH0sQ0QoXCJVU0VfU1VCX1JUWFwiKT97cnR4OnBqK3QrMX06e30pXSxvPVwiXCIuY29uY2F0KHBqK3QsXCJfXCIpLmNvbmNhdChoait0KSx7c3NyY3M6cyxzc3JjR3JvdXBzOmF9PUxGKHIsdGhpcy5jbmFtZSxDRChcIlNZTkNfR1JPVVBcIik/bzp2b2lkIDApLGM9dGhpcy5wcmVDcmVhdGVPclJlY3ljbGVTZW5kTWVkaWEoXCJ2aWRlb1wiLHMsYSx2b2lkIDApLGQ9W3tzc3JjSWQ6aGordH1dLGw9XCJcIi5jb25jYXQocGordCxcIl9cIikuY29uY2F0KGhqK3QpLHtzc3Jjczp1LHNzcmNHcm91cHM6aH09TEYoZCx0aGlzLmNuYW1lLENEKFwiU1lOQ19HUk9VUFwiKT9sOnZvaWQgMCkscD10aGlzLnByZUNyZWF0ZU9yUmVjeWNsZVNlbmRNZWRpYShcImF1ZGlvXCIsdSxoLHZvaWQgMCk7ZS0tLHQrPTIsaS5wdXNoKGMscCksbi5wdXNoKHNbMF0uc3NyY0lkLHVbMF0uc3NyY0lkKX1yZXR1cm4gdGhpcy51c2VMb2NhbENvZGVjc01pZHMucHVzaCguLi5pKSx0aGlzLnByZWxvYWRTc3Jjcz1uLHttaWRzOmkscHJlU1NSQ3M6bixpc0F2YWlsYWJsZTohMH19cHJlQ3JlYXRlT3JSZWN5Y2xlU2VuZE1lZGlhKGUsdCxpLG4pe2NvbnN0IHI9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZC52aWRlb0NvZGVjcyxvPXRoaXMuX2lzVXNlTG9jYWxDb2RlY3N8fDA9PT1yLmxlbmd0aD90aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnJlY3Y6dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZDtpUC5kZWJ1ZyhcImNyZWF0ZSBvciByZWN5Y2xlIHNlbmQgbWVkaWEgd2l0aG91dCByZW1vdGUgcnRwIGNhcGFiaWxpdGllcywgc3NyY3MgXCIsdFswXS5zc3JjSWQpO2NvbnN0IHM9ZT09PWZ4LlZJREVPP28udmlkZW9Db2RlY3M6by5hdWRpb0NvZGVjcyxhPWU9PT1meC5WSURFTz9vLnZpZGVvRXh0ZW5zaW9uczpvLmF1ZGlvRXh0ZW5zaW9uczt0aGlzLmN1cnJlbnRNaWRJbmRleCs9MTtjb25zdCBjPVwiXCIuY29uY2F0KHRoaXMuY3VycmVudE1pZEluZGV4KTtsZXQgZD17bWVkaWE6e21lZGlhVHlwZTplLHBvcnQ6dWoscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6cy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0aGlzLmNhbmRpZGF0ZXMsZXh0bWFwczphLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3Jjczp0LHNzcmNHcm91cHM6aSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6cyxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246XCJzZW5kb25seVwiLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdChjKX19O3JldHVybiBkPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MoZCxuKSx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2goZCksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCksY310b1N0cmluZygpe3JldHVybiBrRCh0aGlzLnNlc3Npb25EZXNjKX1zZW5kKGUsdCxpLG4pe2NvbnN0e3NzcmNzOnIsc3NyY0dyb3VwczpvfT1MRih0LHRoaXMuY25hbWUsQ0QoXCJTWU5DX0dST1VQXCIpP2k6dm9pZCAwKSxzPXRoaXMuZmluZFByZWxvYWRNZWRpYURlc2Mocik7aWYocyl7aWYoQncoKSYmdGhpcy5maXJlZm94U3NyY01pZE1hcC5zZXQoclswXS5zc3JjSWQscy5hdHRyaWJ1dGVzLm1pZCksbiYmKG4udHdjY3x8bi5yZW1iKSl7Y29uc3QgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2Yocyk7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbZV09dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhzLG4pLHttaWQ6cy5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITB9fXJldHVybnttaWQ6cy5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITF9fXtjb25zdCB0PXRoaXMuZmluZEF2YWlsYWJsZU1lZGlhSW5kZXgoZSxyKTtsZXQgaTtyZXR1cm4tMT09PXR8fDE9PT10JiYoVncoKXx8ZnVuY3Rpb24oKXtjb25zdCBlPUR3KCk7cmV0dXJuIShlLm5hbWUhPT1idy5DSFJPTUV8fCFlLm9zVmVyc2lvbikmJk51bWJlcihlLnZlcnNpb24pPD05MH0oKXx8Q0QoXCJFTkFCTEVfRU5DT0RFRF9UUkFOU0ZPUk1cIikmJlV3KCkpfHwwPT09dCYmIWZ1bmN0aW9uKGUpe2NvbnN0IHQ9RHcoKTtyZXR1cm4hKHQubmFtZSE9PWJ3LkZJUkVGT1h8fCF0Lm9zVmVyc2lvbikmJk51bWJlcih0LnZlcnNpb24pPT09ZX0oMTM4KSYmQ0QoXCJVU0VfU1VCX1JUWFwiKXx8WncoKT8oaT10aGlzLmNyZWF0ZU9yUmVjeWNsZVNlbmRNZWRpYShlLHIsbyxcInNlbmRvbmx5XCIsbiksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCkpOihpPXNOKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbdF0pLGkuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJzZW5kb25seVwiLGkuYXR0cmlidXRlcy5zc3Jjcz1yLGkuYXR0cmlidXRlcy5zc3JjR3JvdXBzPW8sdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1t0XT10aGlzLm11bmdTZW5kTWVkaWFEZXNjKGksbikpLEJ3KCkmJnRoaXMuZmlyZWZveFNzcmNNaWRNYXAuc2V0KHJbMF0uc3NyY0lkLGkuYXR0cmlidXRlcy5taWQpLHttaWQ6aS5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITB9fX1zZW5kRGF0YUNoYW5uZWwoKXtjb25zdHttZWRpYURlc2M6ZSxuZWVkRXhjaGFuZ2VTRFA6dH09dGhpcy5jcmVhdGVPclJlY3ljbGVEYXRhQ2hhbm5lbCgpO3JldHVybiB0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKSx7bWlkOmUuYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOnR9fWJhdGNoU2VuZChlKXtjb25zdCB0PWUubWFwKChlPT57bGV0e2tpbmQ6dCxzc3JjTXNnOmksbXNsYWJlbDpufT1lO3JldHVybiB0aGlzLnNlbmQodCxpLG4pfSkpLGk9W107bGV0IG49ITE7cmV0dXJuIHQuZm9yRWFjaCgoZT0+e2xldHttaWQ6dCxuZWVkRXhjaGFuZ2VTRFA6cn09ZTtyJiYobj0hMCksaS5wdXNoKHQpfSkpLHttaWRzOmksbmVlZEV4Y2hhbmdlU0RQOm59fXN0b3BTZW5kaW5nKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKHQ9PnQuYXR0cmlidXRlcy5taWQmJi0xIT09ZS5pbmRleE9mKHQuYXR0cmlidXRlcy5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAuc3RvcFNlbmRpbmcuXCIpO3QuZm9yRWFjaCgoZT0+e1wiMFwiPT09ZS5hdHRyaWJ1dGVzLm1pZHx8QncoKXx8WncoKT9lLmF0dHJpYnV0ZXMuc3NyY3M9W106KGUuYXR0cmlidXRlcy5zc3Jjcz1bXSxlLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIixlLm1lZGlhLnBvcnQ9XCIwXCIpfSkpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpfW11dGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbiBub3QgZm91bmQgd2l0aCBcIi5jb25jYXQoZSxcIiBpbiByZW1vdGUgU0RQIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAubXV0ZS5cIikpO3QuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifXVubXV0ZShlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9uIG5vdCBmb3VuZCB3aXRoIFwiLmNvbmNhdChlLFwiIGluIHJlbW90ZSBTRFAgd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC51bm11dGUuXCIpKTt0LmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwic2VuZG9ubHlcIn1tdXRlUmVtb3RlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKHQ9PkxuKGUpLmNhbGwoZSx0LmF0dHJpYnV0ZXMubWlkfHxcIlwiKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGVSZW1vdGUuXCIpO3QuZm9yRWFjaCgoZT0+e2UuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifSkpfXVubXV0ZVJlbW90ZShlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKCh0PT5MbihlKS5jYWxsKGUsdC5hdHRyaWJ1dGVzLm1pZHx8XCJcIikpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlUmVtb3RlLlwiKTt0LmZvckVhY2goKGU9PntlLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwicmVjdm9ubHlcIn0pKX1yZWNlaXZlKGUsdCxpLG4pe2UuZm9yRWFjaCgoKGUscik9Pnt0aGlzLmNyZWF0ZU9yUmVjeWNsZVJlY3ZNZWRpYShlLFtdLFwicmVjdm9ubHlcIix0LGksbltyXSl9KSksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCl9c3RvcFJlY2VpdmluZyhlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKCh0PT4tMSE9PWUuaW5kZXhPZih0LmF0dHJpYnV0ZXMubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMncyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5yZWNlaXZlLlwiKTt0LmZvckVhY2goKGU9PntlLm1lZGlhLnBvcnQ9XCIwXCIsZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9KSksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCl9dXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzY3x8TEQoKGk9dGhpcy5faXNVc2VFeHRtYXBBbGxvd01peGVkLHRoaXMuX2lzVXNlRGF0YUNoYW5uZWw/bGooaSk6XCJ2PTBcXG5vPS0gMCAwIElOIElQNCAxMjcuMC4wLjFcXG5zPUFnb3JhR2F0ZXdheVxcbnQ9MCAwXFxuYT1ncm91cDpCVU5ETEUgMCAxXFxuYT1tc2lkLXNlbWFudGljOiBXTVNcXG5hPWljZS1saXRlXCIuY29uY2F0KGk/XCJcXG5hPWV4dG1hcC1hbGxvdy1taXhlZFwiOlwiXCIsXCJcXG5tPXZpZGVvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxcbmM9SU4gSVA0IDEyNy4wLjAuMVxcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxuYT1zZW5kb25seVxcbmE9cnRjcC1tdXhcXG5hPXJ0Y3AtcnNpemVcXG5hPW1pZDowXFxubT1hdWRpbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcXG5jPUlOIElQNCAxMjcuMC4wLjFcXG5hPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcbmE9c2VuZG9ubHlcXG5hPXJ0Y3AtbXV4XFxuYT1ydGNwLXJzaXplXFxuYT1taWQ6MVxcblwiKSkpO3ZhciBpO3RoaXMuX3J0cENhcGFiaWxpdGllcz1lO2xldCBuPSExO2NvbnN0IHI9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZCxvPXRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCxzPXRoaXMubG9jYWxDYXBhYmlsaXRpZXMucmVjdixhPXMudmlkZW9Db2RlY3MsYz1zLmF1ZGlvQ29kZWNzLGQ9cy52aWRlb0V4dGVuc2lvbnMsbD1zLmF1ZGlvRXh0ZW5zaW9ucztmb3IoY29uc3QgZSBvZiB0Lm1lZGlhRGVzY3JpcHRpb25zKXt2YXIgdTtpZihcInNlbmRvbmx5XCIhPT1lLmF0dHJpYnV0ZXMuZGlyZWN0aW9ufHxcInN0cmluZ1wiIT10eXBlb2YgZS5hdHRyaWJ1dGVzLm1pZHx8IUxuKHU9dGhpcy51c2VMb2NhbENvZGVjc01pZHMpLmNhbGwodSxlLmF0dHJpYnV0ZXMubWlkKSl7aWYobj0hMCxlLmF0dHJpYnV0ZXMuaWNlVWZyYWc9dGhpcy5faWNlUGFyYW1ldGVycy5pY2VVZnJhZyxlLmF0dHJpYnV0ZXMuaWNlUHdkPXRoaXMuX2ljZVBhcmFtZXRlcnMuaWNlUHdkLGUuYXR0cmlidXRlcy5maW5nZXJwcmludHM9dGhpcy5fZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGUuYXR0cmlidXRlcy5jYW5kaWRhdGVzPXRoaXMuX2NhbmRpZGF0ZXMsZS5hdHRyaWJ1dGVzLnNldHVwPXRoaXMuc2V0dXAsXCJhcHBsaWNhdGlvblwiPT09ZS5tZWRpYS5tZWRpYVR5cGUmJihlLmF0dHJpYnV0ZXMuc2N0cFBvcnQ9XCI1MDAwXCIpLFwidmlkZW9cIj09PWUubWVkaWEubWVkaWFUeXBlKWlmKHRoaXMuX2lzVXNlTG9jYWxDb2RlY3MmJlwic2VuZG9ubHlcIj09PWUuYXR0cmlidXRlcy5kaXJlY3Rpb24pe3ZhciBoO2UubWVkaWEuZm10cz1hLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKSxlLmF0dHJpYnV0ZXMucGF5bG9hZHM9YSxlLmF0dHJpYnV0ZXMuZXh0bWFwcz1kO2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzLm1pZDtcInN0cmluZ1wiIT10eXBlb2YgdHx8TG4oaD10aGlzLnVzZUxvY2FsQ29kZWNzTWlkcykuY2FsbChoLHQpfHx0aGlzLnVzZUxvY2FsQ29kZWNzTWlkcy5wdXNoKHQpfWVsc2UgaWYoMD09PXIudmlkZW9Db2RlY3MubGVuZ3RoKXtjb25zdCB0PW8udmlkZW9Db2RlY3MuZmlsdGVyKChlPT57dmFyIHQsaTtyZXR1cm4gbnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6TG4oaT10LmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKS5jYWxsKGksXCJ2cDhcIil9KSk7MD09PXQubGVuZ3RoJiZ0LnB1c2goby52aWRlb0NvZGVjc1swXSksZS5tZWRpYS5mbXRzPXQubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcz10LGUuYXR0cmlidXRlcy5leHRtYXBzPVtdfWVsc2UgZS5tZWRpYS5mbXRzPXIudmlkZW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcz1yLnZpZGVvQ29kZWNzLGUuYXR0cmlidXRlcy5leHRtYXBzPXIudmlkZW9FeHRlbnNpb25zO2lmKFwiYXVkaW9cIj09PWUubWVkaWEubWVkaWFUeXBlKWlmKHRoaXMuX2lzVXNlTG9jYWxDb2RlY3MmJlwic2VuZG9ubHlcIj09PWUuYXR0cmlidXRlcy5kaXJlY3Rpb24pe3ZhciBwO2UubWVkaWEuZm10cz1jLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKSxlLmF0dHJpYnV0ZXMucGF5bG9hZHM9YyxlLmF0dHJpYnV0ZXMuZXh0bWFwcz1sO2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzLm1pZDtcInN0cmluZ1wiIT10eXBlb2YgdHx8TG4ocD10aGlzLnVzZUxvY2FsQ29kZWNzTWlkcykuY2FsbChwLHQpfHx0aGlzLnVzZUxvY2FsQ29kZWNzTWlkcy5wdXNoKHQpfWVsc2UgaWYoMD09PXIuYXVkaW9Db2RlY3MubGVuZ3RoKXtjb25zdCB0PW8uYXVkaW9Db2RlY3MuZmlsdGVyKChlPT57dmFyIHQsaTtyZXR1cm4gbnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6TG4oaT10LmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKS5jYWxsKGksXCJvcHVzXCIpfSkpfHxbby5hdWRpb0NvZGVjc1swXV07ZS5tZWRpYS5mbXRzPXQubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcz10LGUuYXR0cmlidXRlcy5leHRtYXBzPVtdfWVsc2UgZS5tZWRpYS5mbXRzPXIuYXVkaW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcz1yLmF1ZGlvQ29kZWNzLGUuYXR0cmlidXRlcy5leHRtYXBzPXIuYXVkaW9FeHRlbnNpb25zLEtGKGUpfX1yZXR1cm4gdGhpcy5zZXNzaW9uRGVzYz10LHRoaXMuY3VycmVudE1pZEluZGV4PXQubWVkaWFEZXNjcmlwdGlvbnMubGVuZ3RoLTEsW3RoaXMuc2Vzc2lvbkRlc2Msbl19dXBkYXRlQ2FuZGlkYXRlcyhlKXtjb25zdCB0PXRoaXMuX29yaWdpbkNhbmRpZGF0ZXMuZmlsdGVyKChlPT5cInVkcFwiPT09ZS50cmFuc3BvcnQpKSxpPVtdO2lmKHQuZm9yRWFjaCgoZT0+e2kucHVzaChkaihkaih7fSxlKSx7fSx7Zm91bmRhdGlvbjpcInRjcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcihlLnByaW9yaXR5KS0xK1wiXCIsdHJhbnNwb3J0OlwidGNwXCIscG9ydDpOdW1iZXIoZS5wb3J0KSs5MCtcIlwifSkpfSkpLDAhPT10Lmxlbmd0aCl7c3dpdGNoKGUpe2Nhc2UgU3guVENQX1JFTEFZOnRoaXMuX2NhbmRpZGF0ZXM9aTticmVhaztjYXNlIFN4LlVEUF9UQ1BfUkVMQVk6Y2FzZSBTeC5SRUxBWTp0aGlzLl9jYW5kaWRhdGVzPVsuLi50LC4uLmldO2JyZWFrO2RlZmF1bHQ6dGhpcy5fY2FuZGlkYXRlcz10fWZvcihjb25zdCBlIG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpZS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9dGhpcy5jYW5kaWRhdGVzfX1yZXN0YXJ0SUNFKGUpe2U9c04oZSksdGhpcy5faWNlUGFyYW1ldGVycz1lLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaCgodD0+e3QuYXR0cmlidXRlcy5pY2VVZnJhZz1lLmljZVVmcmFnLHQuYXR0cmlidXRlcy5pY2VQd2Q9ZS5pY2VQd2R9KSl9cHJlZGljdFJlY2VpdmluZ01pZHMoZSl7Y29uc3QgdD1bXTtmb3IobGV0IGk9MDtpPGU7aSsrKXQucHVzaCgodGhpcy5jdXJyZW50TWlkSW5kZXgraSsxKS50b1N0cmluZygxMCkpO3JldHVybiB0fWZpbmRBdmFpbGFibGVNZWRpYUluZGV4KGUsdCl7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KChpPT57Y29uc3Qgbj1pLm1lZGlhLm1lZGlhVHlwZT09PWUmJlwiMFwiIT09aS5tZWRpYS5wb3J0JiYoXCJzZW5kb25seVwiPT09aS5hdHRyaWJ1dGVzLmRpcmVjdGlvbnx8XCJzZW5kcmVjdlwiPT09aS5hdHRyaWJ1dGVzLmRpcmVjdGlvbikmJjA9PT1pLmF0dHJpYnV0ZXMuc3NyY3MubGVuZ3RoO2lmKEJ3KCkpe2lmKG4pe2NvbnN0IGU9dGhpcy5maXJlZm94U3NyY01pZE1hcC5nZXQodFswXS5zc3JjSWQpO3JldHVybiEoZXx8XCIwXCIhPT1pLmF0dHJpYnV0ZXMubWlkJiZcIjFcIiE9PWkuYXR0cmlidXRlcy5taWQpfHwhKCFlfHxlIT09aS5hdHRyaWJ1dGVzLm1pZCl9cmV0dXJuITF9cmV0dXJuIG59KSl9Y3JlYXRlT3JSZWN5Y2xlRGF0YUNoYW5uZWwoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zKWlmKFwiYXBwbGljYXRpb25cIj09PWUubWVkaWEubWVkaWFUeXBlKXJldHVybnttZWRpYURlc2M6ZSxuZWVkRXhjaGFuZ2VTRFA6ITF9O3RoaXMuY3VycmVudE1pZEluZGV4Kz0xO2NvbnN0IGU9XCJcIi5jb25jYXQodGhpcy5jdXJyZW50TWlkSW5kZXgpLHQ9e21lZGlhOnttZWRpYVR5cGU6XCJhcHBsaWNhdGlvblwiLHBvcnQ6dWoscHJvdG9zOltcIlVEUFwiLFwiRFRMU1wiLFwiU0NUUFwiXSxmbXRzOltcIndlYnJ0Yy1kYXRhY2hhbm5lbFwiXX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDp0aGlzLmljZVBhcmFtZXRlcnMuaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOnRoaXMuY2FuZGlkYXRlcyxleHRtYXBzOltdLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpbXSxzc3JjR3JvdXBzOltdLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpbXSxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxtaWQ6XCJcIi5jb25jYXQoZSksc2N0cFBvcnQ6XCI1MDAwXCJ9fTtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKHQpLHttZWRpYURlc2M6dCxuZWVkRXhjaGFuZ2VTRFA6ITB9fWNyZWF0ZU9yUmVjeWNsZVJlY3ZNZWRpYShlLHQsaSxuLHIsbyl7Y29uc3Qgcz1lLl9tZWRpYVN0cmVhbVRyYWNrLmtpbmQsYT10aGlzLnJ0cENhcGFiaWxpdGllcy5yZWN2LGM9WUYocyxhLHRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCxzPT09ZnguVklERU8/bjpyKSxkPXM9PT1meC5WSURFTz9hLnZpZGVvRXh0ZW5zaW9uczphLmF1ZGlvRXh0ZW5zaW9uczt0aGlzLmN1cnJlbnRNaWRJbmRleCs9MTtjb25zdCBsPVwiXCIuY29uY2F0KHRoaXMuY3VycmVudE1pZEluZGV4KTtsZXQgdT17bWVkaWE6e21lZGlhVHlwZTpzLHBvcnQ6dWoscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6Yy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0aGlzLmNhbmRpZGF0ZXMsZXh0bWFwczpkLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3Jjczp0LHNzcmNHcm91cHM6W10scnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOmMscnRjcDp7cG9ydDpcIjlcIixuZXRUeXBlOlwiSU5cIixhZGRyZXNzVHlwZTpcIklQNFwiLGFkZHJlc3M6XCIwLjAuMC4wXCJ9LHNldHVwOnRoaXMuc2V0dXAsZGlyZWN0aW9uOmkscnRjcE11eDohMCxydGNwUnNpemU6ITAsbWlkOlwiXCIuY29uY2F0KGwpfX07dT10aGlzLm11bmdSZWN2TWVkaWFEc2VjKHUsZSxvKTtjb25zdCBoPXRoaXMuZmluZEZpcnN0Q2xvc2VkTWVkaWEocyk7aWYoaCl7Y29uc3QgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YoaCk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tlXT11fWVsc2UgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKHUpO3JldHVybiB1fXVwZGF0ZVJlbW90ZUR0bHNQYXJhbWV0ZXJzKGUpe2NvbnN0IHQ9bmV3IFNldCh0aGlzLl9kdGxzUGFyYW1ldGVycy5maW5nZXJwcmludHMubWFwKChlPT5lLmZpbmdlcnByaW50KSkpLGk9bmV3IFNldChlLm1hcCgoZT0+ZS5maW5nZXJwcmludCkpKTtsZXQgbj0hMTt0LnNpemUhPT1pLnNpemUmJihuPSEwKTtmb3IoY29uc3QgZSBvZiB0KWkuaGFzKGUpfHwobj0hMCk7cmV0dXJuIG59dXBkYXRlUmVtb3RlQ29kZWMoZSx0LGkpe2NvbnN0IG49Wy4uLm5ldyBTZXQodGhpcy5fcnRwQ2FwYWJpbGl0aWVzLnJlY3YudmlkZW9Db2RlY3MubWFwKChlPT5lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpKS5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gTG4odD1PYmplY3Qua2V5cyhBRCkpLmNhbGwodCxlKX0pKSldLHI9bmV3IFNldCh0KTtpZihuLmV2ZXJ5KChlPT5yLmhhcyhlKSkpKXJldHVybiBpUC5kZWJ1ZyhcImNvZGVjcyBoYXMgbm90IGNoYW5nZWQsIG5vIG5lZWQgdG8gdXBkYXRlUmVtb3RlQ29kZWMsIGNvZGVjczogXCIuY29uY2F0KHQpKSwhMTtjb25zdCBvPXRoaXMuX3J0cENhcGFiaWxpdGllcy5yZWN2LnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+dC5zb21lKCh0PT57dmFyIGk7cmV0dXJuIExuKGk9ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKS5jYWxsKGksdCl9KSkpKTtpZigwPT09by5sZW5ndGgpcmV0dXJuIGlQLmRlYnVnKFwidXBkYXRlUmVtb3RlQ29kZWMgZmFpbGVkLCBiZWNhdXNlIGNhbm5vdCBmaW5kIG1hdGNoZWQgY29kZWMsIHJlbW90ZUNhcGFiaWxpdGllcyBjb2RlY3M6IFwiLmNvbmNhdChuLFwiIGNvZGVjczogXCIpLmNvbmNhdCh0KSksITE7Y29uc3Qgcz1bLi4ubmV3IFNldChvLm1hcCgoZT0+ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKSkpXTtsZXQgYTtpZihpUC5kZWJ1ZyhcInVwZGF0ZVJlbW90ZUNvZGVjLCBmcm9tIFwiLmNvbmNhdChuLFwiIHRvIFwiKS5jb25jYXQocykpLDA9PT1lLmxlbmd0aClhPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKChlPT5cInZpZGVvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSYmXCJyZWN2b25seVwiPT09ZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbikpO2Vsc2UgaWYoYT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+dC5hdHRyaWJ1dGVzLm1pZCYmXCJ2aWRlb1wiPT09dC5tZWRpYS5tZWRpYVR5cGUmJkxuKGUpLmNhbGwoZSx0LmF0dHJpYnV0ZXMubWlkKSYmXCJyZWN2b25seVwiPT09dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbikpLGEubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuIGlQLmRlYnVnKFwidXBkYXRlUmVtb3RlQ29kZWMgZmFpbGVkLCBiZWNhdXNlIGNhbm5vdCBmaW5kIG1pZHMsIG1pZHM6IFwiLmNvbmNhdChlLFwiLCBjb2RlY3M6IFwiKS5jb25jYXQodCkpLCExO2lmKENEKFwiVVNFX1BVQl9SVFhcIil8fENEKFwiVVNFX1NVQl9SVFhcIikpe2NvbnN0IGU9ekYobyx0aGlzLnJ0cENhcGFiaWxpdGllcy5yZWN2LnZpZGVvQ29kZWNzKTtvLnB1c2goLi4uZSl9dGhpcy5fcnRwQ2FwYWJpbGl0aWVzLnJlY3YudmlkZW9Db2RlY3M9bztjb25zdCBjPXRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCxkPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnJlY3YsbD1ZRihmeC5WSURFTyxkLGMsaSk7cmV0dXJuIGEuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9bC5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSk7aVAuZGVidWcoXCJ1cGRhdGVSZW1vdGVDb2RlYyBtaWQ6IFwiLmNvbmNhdChlLmF0dHJpYnV0ZXMubWlkLFwiLCBmcm9tXCIpLGUuYXR0cmlidXRlcy5wYXlsb2FkcyxcInRvXCIsbCksZS5hdHRyaWJ1dGVzLnBheWxvYWRzPWwsZS5tZWRpYS5mbXRzPXR9KSksaVAuZGVidWcoXCJ1cGRhdGVSZW1vdGVDb2RlYyBzdWNjZXNzLCBtaWRzOiBcIi5jb25jYXQoZSxcIiwgY29kZWNzOiBcIikuY29uY2F0KHQsXCIsIHJlbW90ZSByZWN2OiBcIikuY29uY2F0KHRoaXMuX3J0cENhcGFiaWxpdGllcy5yZWN2LnZpZGVvQ29kZWNzLmxlbmd0aCxcIiwgcmVtb3RlIHNlbmQ6IFwiKS5jb25jYXQodGhpcy5fcnRwQ2FwYWJpbGl0aWVzLnNlbmQudmlkZW9Db2RlY3MubGVuZ3RoKSksITB9Y3JlYXRlT3JSZWN5Y2xlU2VuZE1lZGlhKGUsdCxpLG4scil7Y29uc3Qgbz10aGlzLnJ0cENhcGFiaWxpdGllcy5zZW5kLnZpZGVvQ29kZWNzLHM9dGhpcy5faXNVc2VMb2NhbENvZGVjc3x8MD09PW8ubGVuZ3RoP3RoaXMubG9jYWxDYXBhYmlsaXRpZXMucmVjdjp0aGlzLnJ0cENhcGFiaWxpdGllcy5zZW5kLGE9ZT09PWZ4LlZJREVPP3MudmlkZW9Db2RlY3M6cy5hdWRpb0NvZGVjcyxjPWU9PT1meC5WSURFTz9zLnZpZGVvRXh0ZW5zaW9uczpzLmF1ZGlvRXh0ZW5zaW9uczt0aGlzLmN1cnJlbnRNaWRJbmRleCs9MTtjb25zdCBkPVwiXCIuY29uY2F0KHRoaXMuY3VycmVudE1pZEluZGV4KTtsZXQgbD17bWVkaWE6e21lZGlhVHlwZTplLHBvcnQ6dWoscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6YS5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0aGlzLmNhbmRpZGF0ZXMsZXh0bWFwczpjLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3Jjczp0LHNzcmNHcm91cHM6aSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6YSxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246bixydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6XCJcIi5jb25jYXQoZCl9fTtsPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MobCxyKTtjb25zdCB1PXRoaXMuZmluZEZpcnN0Q2xvc2VkTWVkaWEoZSk7aWYodSl7Y29uc3QgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YodSk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tlXT1sfWVsc2UgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKGwpO3JldHVybiBsfXVwZGF0ZUJ1bmRsZU1pZHMoKXt0aGlzLnNlc3Npb25EZXNjLmF0dHJpYnV0ZXMuZ3JvdXBzWzBdLmlkZW50aWZpY2F0aW9uVGFnPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKChlPT5cIjBcIiE9PWUubWVkaWEucG9ydCkpLm1hcCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZCkpfW11bmdSZWN2TWVkaWFEc2VjKGUsdCxpKXtjb25zdCBuPXNOKGUpO3JldHVybiBNRihuKSxrRihuLHQpLFVGKG4sdCksVkYobikseEYobixpLHRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCksbn1tdW5nU2VuZE1lZGlhRGVzYyhlLHQpe2NvbnN0IGk9c04oZSk7cmV0dXJuIGkuYXR0cmlidXRlcyYmaS5hdHRyaWJ1dGVzLnBheWxvYWRzJiZBcnJheS5pc0FycmF5KGkuYXR0cmlidXRlcy5wYXlsb2FkcykmJmkuYXR0cmlidXRlcy5wYXlsb2Fkcy5sZW5ndGg+MCYmaS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9PntlLnJ0cE1hcCYmXCJoMjY0XCI9PT1lLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSYmQ0QoXCJFTkFCTEVfRE9XTl9TUFNfUFBTXCIpJiYoZS5mbXRwJiZlLmZtdHAucGFyYW1ldGVyc3x8KGUuZm10cD17cGFyYW1ldGVyczp7fX0pLGUuZm10cC5wYXJhbWV0ZXJzW1wic3BzLXBwcy1pZHItaW4ta2V5ZnJhbWVcIl09XCIxXCIpfSkpLHhGKGksdCx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnJlY3YpLEtGKGkpLGl9dXBkYXRlUmVjdk1lZGlhKGUsdCl7Y29uc3QgaT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZigtMSE9PWkpe2NvbnN0IGU9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2ldLHQpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbaV09ZX19YnVtcE1pZChlKXt0aGlzLmN1cnJlbnRNaWRJbmRleCs9ZX1maW5kRmlyc3RDbG9zZWRNZWRpYShlKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT5CdygpP1wiMFwiPT09dC5tZWRpYS5wb3J0JiZ0Lm1lZGlhLm1lZGlhVHlwZT09PWU6XCIwXCI9PT10Lm1lZGlhLnBvcnQpKX1maW5kUHJlbG9hZE1lZGlhRGVzYyhlKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT57dmFyIGk7cmV0dXJuKG51bGw9PT0oaT10LmF0dHJpYnV0ZXMpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5zc3Jjc1swXSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc3NyY0lkKT09PWVbMF0uc3NyY0lkfSkpfWdldFNTUkMoZSl7dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmF0dHJpYnV0ZXMuc3NyY3N9fTtmdW5jdGlvbiBFaihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gbWooZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/RWooT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6RWooT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9dmFyIGZqPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuRE9XTj0wXT1cIkRPV05cIixlW2UuVVA9MV09XCJVUFwiLGV9KGZqfHx7fSk7Y29uc3QgU2o9bmV3IE1hcDtmdW5jdGlvbiBnaihlLHQsaSxuKXtsZXR7c2NhbGU6cn09ZTtpZigwPT09ciYmbj09PWZqLlVQfHxyPj10Lmxlbmd0aC0xJiZuPT09ZmouRE9XTilyZXR1cm4gZTtsZXQgbz1taihtaih7fSxlKSx7fSx7c2NhbGU6bj09PWZqLkRPV04/KytyOi0tcn0pO3N3aXRjaChpKXtjYXNlXCJtYWludGFpbi1mcmFtZXJhdGVcIjpvPW1qKG1qKHt9LG8pLHRbcl0ubW90aW9uKTticmVhaztjYXNlXCJtYWludGFpbi1yZXNvbHV0aW9uXCI6bz1taihtaih7fSxvKSx0W3JdLmRldGFpbCk7YnJlYWs7Y2FzZVwiYmFsYW5jZWRcIjpvPW1qKG1qKHt9LG8pLHRbcl0uYmFsYW5jZWQpfXJldHVybiBvfWZ1bmN0aW9uIFRqKGUsdCl7aWYodCl7Y29uc3QgaT17b3ZlclVzZTowLHVuZGVyVXNlOjAsYWRhcHRhdGlvbkxpc3Q6UmoodCl9O1NqLnNldChlLGkpfWVsc2UgU2ouZGVsZXRlKGUpfWZ1bmN0aW9uIFJqKGUpe2NvbnN0IHQ9bWooe30sZSkse2JpdHJhdGVNYXg6aSxmcmFtZVJhdGU6bixzY2FsZVJlc29sdXRpb25Eb3duQnk6cixiaXRyYXRlTWluOm99PXQse01JTl9GUkFNRV9SQVRFOnMsTUFYX1RIUkVTSE9MRF9GUkFNRVJBVEU6YSxNQVhfU0NBTEU6YyxCSVRSQVRFX01JTl9USFJFU0hPTEQ6ZCxCSVRSQVRFX01BWF9USFJFU0hPTEQ6bCxCV0VfU0NBTEVfVVBfVEhSRVNIT0xEOnUsQldFX1NDQUxFX0RPV05fVEhSRVNIT0xEOmgsUEVSRl9TQ0FMRV9ET1dOX1RIUkVTSE9MRDpwLFBFUkZfU0NBTEVfVVBfVEhSRVNIT0xEOl8sQkFMQU5DRV9CSVRSQVRFX0ZBQ1RPUjpFLEJBTEFOQ0VfRlJBTUVSQVRFX0ZBQ1RPUjptLEJBTEFOQ0VfUkVTT0xVVElPTl9GQUNUT1I6ZixNT1RJT05fUkVTT0xVVElPTl9GQUNUT1I6UyxNT1RJT05fQklUUkFURV9GQUNUT1I6ZyxERVRBSUxfRlJBTUVSQVRFX0ZBQ1RPUjpULERFVEFJTF9CSVRSQVRFX0ZBQ1RPUjpSfT1mRCxDPU1hdGgubWluKHQuZnJhbWVSYXRlLGEpLHY9W3tzY2FsZTowLHRocmVzaG9sZDp7YndlX2Rvd246TWF0aC5yb3VuZChNYXRoLnBvdyhoLDEpKmkpLGJ3ZV91cDppLGZwc19kb3duOk1hdGgucm91bmQoTWF0aC5wb3cocCwxKSpDKSxmcHNfdXA6bn0sYmFsYW5jZWQ6e3NjYWxlUmVzb2x1dGlvbkRvd25CeToxLGZyYW1lUmF0ZTpuLGJpdHJhdGVNYXg6aSxiaXRyYXRlTWluOm99LG1vdGlvbjp7c2NhbGVSZXNvbHV0aW9uRG93bkJ5OjEsZnJhbWVSYXRlOm4sYml0cmF0ZU1heDppLGJpdHJhdGVNaW46b30sZGV0YWlsOntzY2FsZVJlc29sdXRpb25Eb3duQnk6MSxmcmFtZVJhdGU6bixiaXRyYXRlTWF4OmksYml0cmF0ZU1pbjpvfX1dO2ZvcihsZXQgZT0xO2U8PWM7ZSsrKXtjb25zdCB0PXtid2VfdXA6TWF0aC5yb3VuZChNYXRoLnBvdyh1LGUpKmkpLGJ3ZV9kb3duOk1hdGgucm91bmQoTWF0aC5wb3coaCxlKzEpKmkpLGZwc191cDpNYXRoLnJvdW5kKE1hdGgucG93KF8sZSkqQyksZnBzX2Rvd246TWF0aC5yb3VuZChNYXRoLnBvdyhwLGUrMSkqQyl9LGE9e3NjYWxlUmVzb2x1dGlvbkRvd25CeTpyL01hdGgucG93KGYsZSksZnJhbWVSYXRlOk1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3cobSxlKSpuKSxzKSxiaXRyYXRlTWF4Ok1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3coRSxlKSppKSxsKSxiaXRyYXRlTWluOk1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3coRSxlKSpvKSxkKX0sYz17c2NhbGVSZXNvbHV0aW9uRG93bkJ5OnIvTWF0aC5wb3coUyxlKSxmcmFtZVJhdGU6bixiaXRyYXRlTWF4Ok1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3coZyxlKSppKSxsKSxiaXRyYXRlTWluOk1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3coZyxlKSpvKSxkKX0seT17c2NhbGVSZXNvbHV0aW9uRG93bkJ5OjEsZnJhbWVSYXRlOk1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3coVCxlKSpuKSxzKSxiaXRyYXRlTWF4Ok1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3coUixlKSppKSxsKSxiaXRyYXRlTWluOk1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3coUixlKSpvKSxkKX07di5wdXNoKHtzY2FsZTplLHRocmVzaG9sZDp0LGJhbGFuY2VkOmEsbW90aW9uOmMsZGV0YWlsOnl9KX1yZXR1cm4gdn1mdW5jdGlvbiBDaihlLHQsaSxuLHIsbyl7Y29uc3Qgcz1Tai5nZXQoZSl8fHtvdmVyVXNlOjAsdW5kZXJVc2U6MCxhZGFwdGF0aW9uTGlzdDpSaihyKX0se2FkYXB0YXRpb25MaXN0OmF9PXM7U2ouc2V0KGUscyk7Y29uc3R7T1ZFUlVTRV9USU1FU19USFJFU0hPTEQ6YyxVTkRFUlVTRV9USU1FU19USFJFU0hPTEQ6ZH09ZkQse3NjYWxlOmx9PW47bGV0IHUsaDtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdCYmdD4wJiZmdW5jdGlvbihlLHQsaSxuKXtpZih0Pj1pLmxlbmd0aClyZXR1cm4hMTtsZXR7dGhyZXNob2xkOntmcHNfZG93bjpyfX09aVt0XTtyZXR1cm4gQ0QoXCJGT1JDRV9BR19ISUdIX0ZSQU1FUkFURVwiKSYmXCJtYWludGFpbi1mcmFtZXJhdGVcIj09PW4mJihyPWlbMF0udGhyZXNob2xkLmZwc19kb3duKSxlPHJ9KHQsbCxhLG8pJiYocy5vdmVyVXNlKyssaD10RC5DUFUscy5vdmVyVXNlPmMpfHxcIm51bWJlclwiPT10eXBlb2YgaSYmaT4wJiZmdW5jdGlvbihlLHQsaSl7aWYodD49aS5sZW5ndGgpcmV0dXJuITE7Y29uc3R7dGhyZXNob2xkOntid2VfZG93bjpufX09aVt0XTtyZXR1cm4gZTxufShpLGwsYSkmJihzLm92ZXJVc2UrKyxoPXRELkJBTkRXSURUSCxzLm92ZXJVc2U+Yyk/KHMub3ZlclVzZT0wLHMudW5kZXJVc2U9MCx1PWdqKG4sYSxvLGZqLkRPV04pLFt1LGhdKTooXCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+MCYmXCJudW1iZXJcIj09dHlwZW9mIGkmJmk+MCYmZnVuY3Rpb24oZSx0LGksbil7aWYoMD09PXQpcmV0dXJuO2xldHt0aHJlc2hvbGQ6e2Zwc191cDpyfX09aVt0XTtyZXR1cm4gQ0QoXCJGT1JDRV9BR19ISUdIX0ZSQU1FUkFURVwiKSYmXCJtYWludGFpbi1mcmFtZXJhdGVcIj09PW4mJihyPWlbMV0udGhyZXNob2xkLmZwc191cCksZT5yfSh0LGwsYSxvKSYmZnVuY3Rpb24oZSx0LGkpe2lmKDA9PT10KXJldHVybjtjb25zdHt0aHJlc2hvbGQ6e2J3ZV91cDpufX09aVt0XTtyZXR1cm4gZT5ufShpLGwsYSkmJihzLnVuZGVyVXNlKysscy51bmRlclVzZT5kJiYocy5vdmVyVXNlPTAscy51bmRlclVzZT0wLHU9Z2oobixhLG8sZmouVVApLDA9PT11LnNjYWxlJiYoaD10RC5OT05FKSkpLFt1LGhdKX1mdW5jdGlvbiB2aihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24geWooZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/dmooT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6dmooT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gSWooZSl7dmFyIHQ7cmV0dXJuISFDRChcIkVOQUJMRV9BR19BREFQVEFUSU9OXCIpJiYoISEoZSBpbnN0YW5jZW9mIE1NfHxMbih0PWUuX2hpbnRzKS5jYWxsKHQsVlAuQ1VTVE9NX1RSQUNLKSkmJighIUNEKFwiRk9SQ0VfU1VQUE9SVF9BR19BREFQVEFUSU9OXCIpfHwhIShxdygxNCwwLCExKSYmWHcoMTcsNCwhMCl8fHp3KDE0KSYmSncoMTcsNCwhMCkpKSl9Y29uc3QgQWo9bmV3IE1hcDtmdW5jdGlvbiBiaihlLHQsaSxuLHIsbyl7aWYod2ooZSxpKSxyKHQpLFwiYmFsYW5jZWRcIiE9PW4mJlwibWFpbnRhaW4tZnJhbWVyYXRlXCIhPT1uJiZcIm1haW50YWluLXJlc29sdXRpb25cIiE9PW4pcmV0dXJuO2xldCBzPS0xO1RqKGUsdCk7Y29uc3QgYT13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57Y29uc3QgYT1Bai5nZXQoZSk7aWYoIUNEKFwiRU5BQkxFX0FHX0FEQVBUQVRJT05cIil8fCFhKXJldHVybiB3aihlLGkpLHZvaWQgcih0KTtjb25zdCBjPW8oKTtpZihjLnNlbmRQYWNrZXRzPjAmJmMuT3V0Z29pbmdBdmFpbGFibGVCYW5kd2lkdGg+MCl7aWYoLTE9PT1zKXJldHVybiB2b2lkKHM9RGF0ZS5ub3coKSk7aWYoRGF0ZS5ub3coKS1zPDFlMylyZXR1cm47Y29uc3Qgbz1jLnNlbmRGcmFtZVJhdGUsZD1jLk91dGdvaW5nQXZhaWxhYmxlQmFuZHdpZHRoLFtsLHVdPUNqKGUsbyxkLGEuYWRhcHRhdGlvbkNvbmZpZyx0LG4pO3UmJihpLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uPXUpLGwmJmEuYWRhcHRhdGlvbkNvbmZpZy5zY2FsZSE9PWwuc2NhbGUmJihpUC5kZWJ1ZyhcIltcIi5jb25jYXQoZSxcIl0gYXBwbHlBZGFwdGF0aW9uOiBcIikuY29uY2F0KGkucXVhbGl0eUxpbWl0YXRpb25SZWFzb24sXCJcXG4gICAgICAgICAgIHNlbmRGcHMgXCIpLmNvbmNhdChvLFwiLCBid2UgXCIpLmNvbmNhdChkLFwiLCBzd2l0Y2ggZnJvbSBcIikuY29uY2F0KGEuYWRhcHRhdGlvbkNvbmZpZy5zY2FsZSxcIiB0byBcIikuY29uY2F0KGwuc2NhbGUsXCIgXCIpKSxhLmFkYXB0YXRpb25Db25maWc9eWooeWooe30sYS5hZGFwdGF0aW9uQ29uZmlnKSxsKSxyKGwpKX19KSxDRChcIkNIRUNLX0xPQ0FMX1NUQVRTX0lOVEVSVkFMXCIpKSxjPXlqKHt9LHQpO0FqLnNldChlLHt0aW1lcjphLGFkYXB0YXRpb25Db25maWc6YyxvcmlnaW5Db25maWc6dCxhZGFwdGF0aW9uRnVuYzpyfSksaVAuZGVidWcoXCJbXCIuY29uY2F0KGUsXCJdIHN0YXJ0IGFkYXB0YXRpb24sIG9yaWdpbkNvbmZpZzogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0KSxcIiwgZGVncmFkYXRpb25QcmVmZXJlbmNlOiBcIikuY29uY2F0KG4pKX1mdW5jdGlvbiB3aihlLHQpe2NvbnN0IGk9QWouZ2V0KGUpO2lmKGkpe2NvbnN0e3RpbWVyOnR9PWk7d2luZG93LmNsZWFyVGltZW91dCh0KSxBai5kZWxldGUoZSl9dC5xdWFsaXR5TGltaXRhdGlvblJlYXNvbj10RC5OT05FLFRqKGUpfWZ1bmN0aW9uIE9qKGUsdCl7dmFyIGk7bGV0IG47c3dpdGNoKHQpe2Nhc2UgUnguTG9jYWxBdWRpb1RyYWNrOm49b3guQXVkaW87YnJlYWs7Y2FzZSBSeC5Mb2NhbFZpZGVvVHJhY2s6bj1MbihpPWUuX2hpbnRzKS5jYWxsKGksVlAuU0NSRUVOX1RSQUNLKT9veC5TY3JlZW46b3guSGlnaDticmVhaztjYXNlIFJ4LkxvY2FsVmlkZW9Mb3dUcmFjazpuPW94Lkxvd31yZXR1cm4gbn1mdW5jdGlvbiBOaihlKXtjb25zdCB0PXBQKCk7aWYoZS5zb21lKChlPT5lLl9ieXBhc3NXZWJBdWRpbykpKXRocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtpZighdC53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdCl0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyBiZWNhdXNlIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGF1ZGlvIG1peGluZ1wiKX1mdW5jdGlvbiBEaihlLHQpe05qKGUpO2NvbnN0IGk9dHx8bmV3IFdrO3JldHVybiBlLmZvckVhY2goKGU9PmkuYWRkQXVkaW9UcmFjayhlKSkpLGl9Y29uc3QgUGo9IXBQKCkuc3VwcG9ydFVuaWZpZWRQbGFufHxDRChcIkNIUk9NRV9GT1JDRV9QTEFOX0JcIikmJnNPKCk7ZnVuY3Rpb24gTGooZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKGUudXNlRGNTaWduYWwpcmV0dXJuIGk9e3NwZWM6dCxzdG9yZTplfSxvQihcIkRhdGFDaGFubmVsQ29ubmVjdGlvblwiKS5jcmVhdGUoaSk7dmFyIGk7Y29uc3Qgbj1Qaj9mdW5jdGlvbihlKXtyZXR1cm4gb0IoXCJQbGFuQkNvbm5lY3Rpb25cIikuY3JlYXRlKGUpfSh7c3BlYzp0LHN0b3JlOmV9KTpuZXcgRmoodCxlKTtyZXR1cm4gbn1mdW5jdGlvbiBraihlKXtyZXR1cm4gZSYmKFwiZGlzY29ubmVjdGVkXCI9PT1lLmljZUNvbm5lY3Rpb25TdGF0ZXx8XCJjaGVja2luZ1wiPT09ZS5pY2VDb25uZWN0aW9uU3RhdGV8fFwiZmFpbGVkXCI9PT1lLmljZUNvbm5lY3Rpb25TdGF0ZSl9ZnVuY3Rpb24gTWooZSl7dHJ5e2lmKGUuaWNlU2VydmVycylyZXR1cm4hMTtpZihlLnR1cm5TZXJ2ZXImJlwib2ZmXCIhPT1lLnR1cm5TZXJ2ZXIubW9kZSl7aWYoeE8oZS50dXJuU2VydmVyLnNlcnZlcnMpKXJldHVybiExO2lmKENEKFwiRk9SQ0VfVFVSTl9UQ1BcIil8fGUudHVyblNlcnZlci5zZXJ2ZXJzLmNvbmNhdChlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5fHxbXSkuc29tZSgoZT0+ZS5mb3JjZXR1cm4pKSlyZXR1cm4hMH1yZXR1cm4hMX1jYXRjaChlKXtyZXR1cm4hMX19dmFyIFVqO2Z1bmN0aW9uIFZqKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiB4aihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9WaihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpWaihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1sZXQgRmo9KFVqPWNsYXNzIGUgZXh0ZW5kcyBteHtnZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWdldCBwZWVyQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlfWdldCBpY2VDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGV9Z2V0IGR0bHNUcmFuc3BvcnRTdGF0ZSgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKVswXSl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LnRyYW5zcG9ydCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc3RhdGUpJiZ2b2lkIDAhPT1lP2U6bnVsbH1nZXQgbG9jYWxDb2RlY3MoKXtyZXR1cm5bLi4ubmV3IFNldCh0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzJiZ0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQudmlkZW9Db2RlY3MubWFwKChlPT5lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpKS5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gTG4odD1PYmplY3Qua2V5cyhBRCkpLmNhbGwodCxlKX0pKSldfWNvbnN0cnVjdG9yKHQsaSl7c3VwZXIodCxpKSxpQSh0aGlzLFwiaWRcIixTTig1LFwiY29ubmVjdGlvbi1cIikpLGlBKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksaUEodGhpcyxcInBlZXJDb25uZWN0aW9uXCIsdm9pZCAwKSxpQSh0aGlzLFwiZm9yY2VUdXJuXCIsITEpLGlBKHRoaXMsXCJyZW1vdGVTRFBcIix2b2lkIDApLGlBKHRoaXMsXCJpbml0aWFsT2ZmZXJcIix2b2lkIDApLGlBKHRoaXMsXCJ0cmFuc3BvcnRFdmVudFJlY2VpdmVyXCIsdm9pZCAwKSxpQSh0aGlzLFwic3RhdHNGaWx0ZXJcIix2b2lkIDApLGlBKHRoaXMsXCJleHRlbnNpb25cIix7dXNlWFI6Q0QoXCJVU0VfWFJcIil9KSxpQSh0aGlzLFwibG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLGlBKHRoaXMsXCJyZW1vdGVDb2RlY3NcIix2b2lkIDApLGlBKHRoaXMsXCJsb2NhbENhbmRpZGF0ZUNvdW50XCIsMCksaUEodGhpcyxcImFsbENhbmRpZGF0ZXNSZWNlaXZlZFwiLCExKSxpQSh0aGlzLFwiaXNQcmVhbGxvY2F0aW9uXCIsITEpLGlBKHRoaXMsXCJpc1ByZVJlbmRlclwiLCExKSxpQSh0aGlzLFwicHJlTWVkaWFNYXBcIixuZXcgTWFwKSxpQSh0aGlzLFwiZGF0YVN0cmVhbUNoYW5uZWxNYXBcIixuZXcgTWFwKSxpQSh0aGlzLFwiZXN0YWJsaXNoUHJvbWlzZVwiLHZvaWQgMCksaUEodGhpcyxcInJlY292ZXJlZERhdGFDaGFubmVsSWRzXCIsW10pLGlBKHRoaXMsXCJjdXJyZW50RGF0YUNoYW5uZWxJZFwiLDEpLGlBKHRoaXMsXCJzdXBwb3J0QVYxUnRwU3BlY1wiLCExKSxpQSh0aGlzLFwibXV0ZXhcIix2b2lkIDApLGlBKHRoaXMsXCJxdWFsaXR5TGltaXRhdGlvblJlYXNvblwiLHRELk5PTkUpLGlBKHRoaXMsXCJpc0ZpcnN0Q29ubmVjdGVkXCIsITEpLHRoaXMuc3RvcmU9aSx0aGlzLmZvcmNlVHVybj1Naih0KSx0aGlzLm11dGV4PW5ldyBQTihcIlAyUENvbm5lY3Rpb24tbXV0ZXhcIixpLmNsaWVudElkKSx0aGlzLnBlZXJDb25uZWN0aW9uPW5ldyBSVENQZWVyQ29ubmVjdGlvbihlLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCkse29wdGlvbmFsOlt7Z29vZ0RzY3A6ITB9XX0pLHRoaXMuaXNGaXJzdENvbm5lY3RlZD0hMSx0aGlzLnN0YXRzRmlsdGVyPWREKHRoaXMucGVlckNvbm5lY3Rpb24sQ0QoXCJTVEFUU19VUERBVEVfSU5URVJWQUxcIiksdm9pZCAwLEJ3KCk/MTIwMDp2b2lkIDApLHRoaXMuYmluZFBDRXZlbnRzKCksdGhpcy5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnN0b3JlLnAycElkPXRoaXMuc3RvcmUucDJwSWQrMSx0LmlzUHJlYWxsb2NhdGlvbiYmKHRoaXMuaXNQcmVhbGxvY2F0aW9uPSEwKSx0aGlzLmVzdGFibGlzaFByb21pc2U9dGhpcy5lc3RhYmxpc2goKX1nZXRQcmVNZWRpYShlKXtyZXR1cm4gdGhpcy5wcmVNZWRpYU1hcC5nZXQoZSl9aXNQcmVTdWIoKXtyZXR1cm4gdGhpcy5wcmVNZWRpYU1hcC5zaXplPjB9YXN5bmMgdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUsdCl7aWYodGhpcy5yZW1vdGVDb2RlY3M9dCwhdGhpcy5yZW1vdGVTRFApcmV0dXJuIHZvaWQgaVAuZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gY2Fubm90IHVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLCBsb2NhbCBjb2RlY3M6IFwiLmNvbmNhdCh0aGlzLmxvY2FsQ29kZWNzLFwiLCBjb2RlY3M6IFwiKS5jb25jYXQodCkpO2lmKHRoaXMucmVtb3RlU0RQLnVwZGF0ZVJlbW90ZUNvZGVjKGUsdCx0aGlzLnN0b3JlLmNvZGVjKSl7Y29uc3QgZT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksdD10aGlzLmxvZ1NEUEV4Y2hhbmdlKGUuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJtdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGUpO2NvbnN0IGk9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtudWxsPT10fHx0KGkpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6aX0pfWVsc2UgaVAuZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzIG5vIG5lZWQgdG8gZXhjaGFuZ2UgU0RQLlwiKX1hc3luYyBlc3RhYmxpc2goKXt0cnl7dGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KSx0aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pO2NvbnN0IHQ9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2lmKCF0LnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGluaXRpYWxPZmZlci5zZHAgd2hlbiB0cnlpbmcgdG8gZXN0YWJsaXNoIFBlZXJDb25uZWN0aW9uLlwiKTtjb25zdCBpPU9GKHQuc2RwKSxuPWF3YWl0IGpGKHtmaWx0ZXJSVFg6IUNEKFwiVVNFX1BVQl9SVFhcIikmJiFDRChcIlVTRV9TVUJfUlRYXCIpLGZpbHRlclZpZGVvRmVjOkNEKFwiRklMVEVSX1ZJREVPX0ZFQ1wiKSxmaWx0ZXJBdWRpb0ZlYzpDRChcIkZJTFRFUl9BVURJT19GRUNcIiksZmlsdGVyVmlkZW9Db2RlYzpDRChcIkZJTFRFUl9WSURFT19DT0RFQ1wiKSx1bnN1cHBvcnRlZFZpZGVvVXBsaW5rQ29kZWM6Q0QoXCJVTlNVUFBPUlRFRF9WSURFT19VUExJTktfQ09ERUNcIiksdW5zdXBwb3J0ZWRWaWRlb0Rvd25saW5rQ29kZWM6Q0QoXCJVTlNVUFBPUlRFRF9WSURFT19ET1dOTElOS19DT0RFQ1wiKX0sdGhpcy5leHRlbnNpb24pO2lmKHRoaXMubG9jYWxDYXBhYmlsaXRpZXM9SEYobiksdGhpcy5pbml0aWFsT2ZmZXI9dCxDRChcIkVOQUJMRV9TVkNcIikmJlwiYXYxXCI9PXRoaXMuc3RvcmUuY29kZWMpe2NvbnN0IHQ9YXdhaXQgQkYoKTt2YXIgZTtpZih0KXRoaXMuc3VwcG9ydEFWMVJ0cFNwZWM9ITAsbnVsbD09PShlPW4uc2VuZCl8fHZvaWQgMD09PWV8fGUudmlkZW9FeHRlbnNpb25zLnB1c2godCl9bGV0IHI7cmV0dXJuIHQuc2RwJiZaRih0LnNkcCkmJihyPXNOKG4pLFRGKHIpKSx4aih4aih7fSxpKSx7fSx7cnRwQ2FwYWJpbGl0aWVzOnJ8fG4sb2ZmZXJTRFA6dC5zZHB9KX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uR0VUX0xPQ0FMX0NPTk5FQ1RJT05fUEFSQU1TX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyBjb25uZWN0KGUpe3RyeXtpZighdGhpcy5pbml0aWFsT2ZmZXIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGVzdGFibGlzaCBQMlBDb25uZWN0aW9uIHdpdGhvdXQgaW5pdGlhbCBvZmZlci5cIik7dGhpcy5pbml0aWFsT2ZmZXIuc2RwJiZaRih0aGlzLmluaXRpYWxPZmZlci5zZHApJiZSRihlLnJ0cENhcGFiaWxpdGllcyx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzKSx0aGlzLnJlbW90ZVNEUD1uZXcgX2ooeGooeGooe30sZSkse30se2xvY2FsQ2FwYWJpbGl0aWVzOnRoaXMubG9jYWxDYXBhYmlsaXRpZXN9KSx0aGlzLnN1cHBvcnRBVjFSdHBTcGVjLCEoIUNEKFwiRU5BQkxFX1BSRV9TVUJfV0lUSF9QUkVfUENcIil8fCFDRChcIlBSRV9VU0VfTE9DQUxfQ09ERUNTXCIpKSYmbVAodGhpcy5zdG9yZSkpLGUucHJlYWxsb2NhdGlvbiYmKHRoaXMuaXNQcmVhbGxvY2F0aW9uPSEwKSxBcnJheS5pc0FycmF5KHRoaXMucmVtb3RlQ29kZWNzKSYmdGhpcy5yZW1vdGVDb2RlY3MubGVuZ3RoPjAmJnRoaXMucmVtb3RlU0RQLnVwZGF0ZVJlbW90ZUNvZGVjKFtdLHRoaXMucmVtb3RlQ29kZWNzLHRoaXMuc3RvcmUuY29kZWMpO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPVhGKHRoaXMuaW5pdGlhbE9mZmVyLnNkcCx0aGlzLmV4dGVuc2lvbiksbj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGl8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcImNvbm5lY3RcIik7dGhpcy5zdG9yZS5kZXNjcmlwdGlvblN0YXJ0KCksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6aX0pLG51bGw9PW58fG4odCksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDp0fSk7Y29uc3Qgcj10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpWzBdO2lmKG51bGwhPXImJnIucmVjZWl2ZXImJnRoaXMudHJ5QmluZFRyYW5zcG9ydEV2ZW50cyhyLnJlY2VpdmVyKSxtUCh0aGlzLnN0b3JlKSlpZihlLnByZWFsbG9jYXRpb24mJkNEKFwiRU5BQkxFX1BSRV9TVUJfV0lUSF9QUkVfUENcIikpe2NvbnN0IGU9Q0QoXCJQUkVfU1VCX05VTVwiKSx7bWlkczp0LHByZVNTUkNzOml9PXRoaXMucmVtb3RlU0RQLnByZWxvYWRSZW1vdGVNZWRpYShlKTthd2FpdCBxRih0aGlzLnBlZXJDb25uZWN0aW9uLHRoaXMucmVtb3RlU0RQLHRoaXMuZXh0ZW5zaW9uKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHByZWxvYWQgbWVkaWEsIGluIHByZSBwYyxhZGQgcHJlbG9hZCBzc3JjcyBcIikuY29uY2F0KGkpKSx0aGlzLnByZXNldE1lZGlhKHQsaSl9ZWxzZXtjb25zdHtwcmVTU1JDczp0PVtdfT1lLGk9dC5tYXAoKGU9PmUuc3NyY01zZ1swXS5zc3JjSWQpKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuO2NvbnN0e21pZHM6bn09dGhpcy5yZW1vdGVTRFAuYmF0Y2hTZW5kKHQubWFwKChlPT5PYmplY3QuYXNzaWduKHt9LGUpKSkpO2F3YWl0IHFGKHRoaXMucGVlckNvbm5lY3Rpb24sdGhpcy5yZW1vdGVTRFAsdGhpcy5leHRlbnNpb24pLGlQLmRlYnVnKFwiW1AyUENvbm5lY3Rpb24uY29ubmVjdF0gcHJlbG9hZCBtZWRpYSwgYWZ0ZXIgam9pbiwgYWRkIHByZWxvYWQgc3NyY3MgXCIuY29uY2F0KGkpKSx0aGlzLnByZXNldE1lZGlhKG4saSl9fWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5jb25uZWN0IGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1wcmVzZXRNZWRpYShlLHQpe2UuZm9yRWFjaCgoKGUsaSk9Pnt0aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZvckVhY2goKG49PntpZihudWxsIT1uLm1pZCYmZT09PW4ubWlkJiZuLnJlY2VpdmVyLnRyYWNrKXtjb25zdCByPW4ucmVjZWl2ZXIudHJhY2s7bGV0IG87XCJ2aWRlb1wiPT09ci5raW5kJiZDRChcIkVOQUJMRV9QUkVfUkVOREVSXCIpJiYobz1uZXcgWGsoe3RyYWNrSWQ6XCJ0cmFjay1cIi5jb25jYXQoci5raW5kLFwiLXVua25vd24tXCIpLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiX1wiKS5jb25jYXQoU04oNSxcIlwiKSl9LCEwKSxvLnVwZGF0ZVZpZGVvVHJhY2sociksby5vbkZpcnN0VmlkZW9GcmFtZVJlbmRlcj0oKT0+e3ZhciBlO2NvbnN0IG49dGhpcy5wcmVNZWRpYU1hcC5nZXQodFtpXSk7biYmKG4uZmlyc3RWaWRlb1JlbmRlcj1EYXRlLm5vdygpKSxudWxsPT09KGU9dGhpcy5vbkZpcnN0VmlkZW9SZW5kZXIpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyx0W2ldKX0sby5vblZpZGVvQnVmZmVyUmVhZHk9KCk9Pnt2YXIgZTtudWxsPT09KGU9dGhpcy5vbkZpcnN0VmlkZW9CdWZmZXJSZWFkeSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHRbaV0pfSxvLnBsYXkodGhpcy5zdG9yZS5zZXNzaW9uSWR8fHZvaWQgMCksdGhpcy5pc1ByZVJlbmRlcj0hMCksdGhpcy5wcmVNZWRpYU1hcC5zZXQodFtpXSx7bWlkOmUsdHJhY2s6cixwbGF5ZXI6byx0cmFuc2NlaXZlcjpufSl9fSkpLHRoaXMuc3RvcmUucGVlclJlY2VpdmVyKCl9KSl9Y2hlY2tEdGxzUGFyYW1ldGVycyhlKXtyZXR1cm4hIXRoaXMucmVtb3RlU0RQJiYoZS5sZW5ndGg+MCYmdGhpcy5yZW1vdGVTRFAudXBkYXRlUmVtb3RlRHRsc1BhcmFtZXRlcnMoZSkpfWFzeW5jIHVwZGF0ZVJlbW90ZUNvbm5lY3QoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVwZGF0ZVJlbW90ZUNvbm5lY3QgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtsZXQgdD0hMTtjb25zdHtydHBDYXBhYmlsaXRpZXM6aX09ZTtpZihbLHRdPXRoaXMucmVtb3RlU0RQLnVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhpKSxBcnJheS5pc0FycmF5KHRoaXMucmVtb3RlQ29kZWNzKSYmdGhpcy5yZW1vdGVDb2RlY3MubGVuZ3RoPjApe2NvbnN0IGU9dGhpcy5yZW1vdGVTRFAudXBkYXRlUmVtb3RlQ29kZWMoW10sdGhpcy5yZW1vdGVDb2RlY3MsdGhpcy5zdG9yZS5jb2RlYyk7dD10fHxlfWNvbnN0e3ByZVNTUkNzOm49W119PWUscj1uLm1hcCgoZT0+ZS5zc3JjTXNnWzBdLnNzcmNJZCkpO2lmKCF0aGlzLnJlbW90ZVNEUC5jaGVja1ByZWxvYWRTc3JjcyhyKSl7Y29uc3QgZT1bXSx0PVtdO2lmKEFycmF5LmZyb20odGhpcy5wcmVNZWRpYU1hcC5lbnRyaWVzKCkpLmV2ZXJ5KChpPT57bGV0W24se21pZDpyLHBsYXllcjpvLHRyYWNrOnN9XT1pO3JldHVybiBlLnB1c2gociksdC5wdXNoKG4pLHRoaXMucHJlTWVkaWFNYXAuZGVsZXRlKG4pLG8mJm8uZGVzdHJveSgpLCEwfSkpLGUubGVuZ3RoPjAmJih0aGlzLnJlbW90ZVNEUC5zdG9wU2VuZGluZyhlKSxhd2FpdCBxRih0aGlzLnBlZXJDb25uZWN0aW9uLHRoaXMucmVtb3RlU0RQLHRoaXMuZXh0ZW5zaW9uKSxpUC53YXJuKFwiW1AyUENvbm5lY3Rpb24udXBkYXRlUmVtb3RlQ29ubmVjdF0gcHJlbG9hZCBtZWRpYSwgZmFpbGVkLCBkZWwgcHJlbG9hZCBzc3JjcyBcIi5jb25jYXQodCkpLGxQLnJlcG9ydEFwaUludm9rZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7bmFtZTpMTy5QUkVMT0FEX01FRElBX0ZBSUxFRCxvcHRpb25zOltuLHRdLHRhZzprTy5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSksbi5sZW5ndGg+MCl7Y29uc3R7bWlkczplfT10aGlzLnJlbW90ZVNEUC5iYXRjaFNlbmQobi5tYXAoKGU9Pk9iamVjdC5hc3NpZ24oe30sZSkpKSk7YXdhaXQgcUYodGhpcy5wZWVyQ29ubmVjdGlvbix0aGlzLnJlbW90ZVNEUCx0aGlzLmV4dGVuc2lvbiksaVAuZGVidWcoXCJbUDJQQ29ubmVjdGlvbi51cGRhdGVSZW1vdGVDb25uZWN0XSBwcmVsb2FkIG1lZGlhLCBhZnRlciBqb2luLCBhZGQgcHJlbG9hZCBzc3JjcyBcIi5jb25jYXQocikpLHRoaXMucHJlc2V0TWVkaWEoZSxyKX19dD8oYXdhaXQgcUYodGhpcy5wZWVyQ29ubmVjdGlvbix0aGlzLnJlbW90ZVNEUCx0aGlzLmV4dGVuc2lvbiksaVAuZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gdXBkYXRlUmVtb3RlQ29ubmVjdCBieSBleGNoYW5naW5nIFNEUC5cIikpOmlQLmRlYnVnKFwiW1AyUENvbm5lY3Rpb25dIHVwZGF0ZVJlbW90ZUNvbm5lY3Qgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAsIGJlY2F1c2Ugbm8gbmVlZCB0byB1cGRhdGUgcmVtb3RlIGNvZGVjcyAodXNlIGxvY2FsIGNvZGVjcylcIil9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnVwZGF0ZVJlbW90ZUNvbm5lY3QgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fXNlbmQoZSx0LGkpe3ZhciBuPXRoaXM7cmV0dXJuIE1iKChmdW5jdGlvbiooKXtjb25zdCByPXlpZWxkIFZiKG4ubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5zZW5kXCIpKTt0cnl7aWYoIW4ucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc2VuZCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0IG89W10scz1TRigpO2UuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9bi5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihlLl9tZWRpYVN0cmVhbVRyYWNrLHhqKHtkaXJlY3Rpb246XCJzZW5kb25seVwifSxcInZpZGVvXCI9PT1lLnRyYWNrTWVkaWFUeXBlJiZuLnN1cHBvcnRBVjFSdHBTcGVjJiZzP3tzZW5kRW5jb2RpbmdzOlt7c2NhbGFiaWxpdHlNb2RlOnN9XX06e30pKTtvLnB1c2godCksZS5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodCl9KSksQncoKSYmITA9PT1DRChcIlNJTVVMQ0FTVFwiKSYmKHlpZWxkIFZiKG4uYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KG8sZSkpKTtjb25zdCBhPXlpZWxkIFZiKG4ucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSksYz1uLnJlbW90ZVNEUC5wcmVkaWN0UmVjZWl2aW5nTWlkcyhlLmxlbmd0aCksZD1uLm11bmdTZW5kT2ZmZXJTRFAoYS5zZHAsZSxjKSxsPUxEKGQpLHU9Yy5tYXAoKGU9Pntjb25zdCB0PWwubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXh0cmFjdCBzc3JjIGZyb20gbWVkaWFEZXNjcmlwdGlvbi5cIik7cmV0dXJuIE5GKHQsQ0QoXCJVU0VfUFVCX1JUWFwiKSl9KSk7bGV0IGg7dHJ5e2g9eWllbGQgdX1jYXRjaChyKXtoPVtdLG4ucmVtb3RlU0RQLnJlY2VpdmUoZSx0LGksaCk7Y29uc3Qgbz1uLnJlbW90ZVNEUC50b1N0cmluZygpO3Rocm93IHlpZWxkIFZiKG4ucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmR9KSkseWllbGQgVmIobi5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSkpLHlpZWxkIFZiKG4uc3RvcFNlbmRpbmcoYywhMCkpLHJ9bi5yZW1vdGVTRFAucmVjZWl2ZShlLHQsaSxoKTtjb25zdCBwPW4ucmVtb3RlU0RQLnRvU3RyaW5nKCksXz1uLmxvZ1NEUEV4Y2hhbmdlKGQsXCJvZmZlclwiLFwibG9jYWxcIixcInNlbmRcIik7cmV0dXJuIHlpZWxkIFZiKG4ucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmR9KSkseWllbGQgVmIobi5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyhvLGUpKSx5aWVsZCBWYihuLmFwcGx5U2VuZEVuY29kaW5ncyhvLGUpKSxudWxsPT1ffHxfKHApLHlpZWxkIFZiKG4ucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6cH0pKSxvLm1hcCgoKGUsdCk9Pntjb25zdCBpPWNbdF07cmV0dXJue2xvY2FsU1NSQzp1W3RdLGlkOmksdHJhbnNjZWl2ZXI6ZX19KSl9Y2F0Y2goZSl7dGhyb3cgZSBpbnN0YW5jZW9mIHBPP2U6bmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnNlbmQgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9ZmluYWxseXtyKCl9fSkpKCl9YXN5bmMgY3JlYXRlRGF0YUNoYW5uZWxzKGUsdCl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVscyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2xldCBpPXRoaXMuZGF0YVN0cmVhbUNoYW5uZWxNYXAuZ2V0KGUpO2lmKGkmJlwib3BlblwiPT09aS5yZWFkeVN0YXRlKWlQLmRlYnVnKFwiW1AyUENvbm5lY3Rpb25dIENoYW5uZWxzIGFyZSBhbHJlYWR5IGF2YWlsYWJsZSBhbmQgY2FuIGJlIHJldXNlZCBkaXJlY3RseS5cIik7ZWxzZXtjb25zdCB0PXRoaXMuY3VycmVudERhdGFDaGFubmVsSWQ8MTAyMz90aGlzLmN1cnJlbnREYXRhQ2hhbm5lbElkKys6dGhpcy5yZWNvdmVyZWREYXRhQ2hhbm5lbElkcy5zaGlmdCgpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcImNyZWF0ZSBEYXRhQ2hhbm5lbCBlcnJvciwgYmVjYXVzZSBjYW5ub3QgZ2V0IGRjIGlkXCIpO2k9dGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbChcImRhdGFzdHJlYW0tY2hhbm5lbFwiLHtpZDp0LG5lZ290aWF0ZWQ6ITAsb3JkZXJlZDohMSxtYXhSZXRyYW5zbWl0czpDRChcIkRBVEFTVFJFQU1fTUFYX1JFVFJBTlNNSVRTXCIpfSksaS5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLnNldChlLGkpfXQuZm9yRWFjaCgoZT0+e2UuX3VwZGF0ZU9yaWdpbkRhdGFDaGFubmVsKGkpfSkpO2NvbnN0e25lZWRFeGNoYW5nZVNEUDpufT10aGlzLnJlbW90ZVNEUC5zZW5kRGF0YUNoYW5uZWwoKTtpZihuKXtjb25zdCBlPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmV9KTtjb25zdCB0PWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHQpLGlQLmRlYnVnKFwiW1AyUENvbm5lY3Rpb25dIGNyZWF0ZURhdGFDaGFubmVscyBieSBleGNoYW5naW5nIFNEUC5cIil9ZWxzZSBpUC5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSBjcmVhdGVEYXRhQ2hhbm5lbHMgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpO3JldHVybn1jYXRjaChlKXt0aHJvdyBlIGluc3RhbmNlb2YgcE8/ZTpuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWxzIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wRGF0YUNoYW5uZWxzKGUpe3RyeXtjb25zdCB0PXRoaXMuZGF0YVN0cmVhbUNoYW5uZWxNYXAuZ2V0KGUpO3JldHVybiB0JiYodC5pZCYmdGhpcy5yZWNvdmVyZWREYXRhQ2hhbm5lbElkcy5wdXNoKHQuaWQpLHQuY2xvc2UoKSksdm9pZCB0aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmRlbGV0ZShlKX1jYXRjaChlKXt0aHJvdyBlIGluc3RhbmNlb2YgcE8/ZTpuZXcgcE8oaE8uREFUQUNIQU5ORUxfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zdG9wRGF0YUNoYW5uZWxzIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wU2VuZGluZyhlLHQpe2NvbnN0IGk9dD92b2lkIDA6YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nXCIpO3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9Pi0xIT09ZS5pbmRleE9mKHQubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiB0cnlpbmcgdG8gY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nLlwiKTt0Lm1hcCgoZT0+e3ZhciB0O3dqKHRoaXMuaWQrZS5taWQsdGhpcyksZS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiLG51bGw9PT0odD1lLnN0b3ApfHx2b2lkIDA9PT10fHx0LmNhbGwoZSl9KSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLmxvZ1NEUEV4Y2hhbmdlKG4uc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJzdG9wU2VuZGluZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obiksdGhpcy5yZW1vdGVTRFAuc3RvcFJlY2VpdmluZyhlKTtjb25zdCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7bnVsbD09cnx8cihvKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9ZmluYWxseXtpJiZpKCl9fWFzeW5jIHJlY2VpdmUoZSx0LGksbil7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnJlY2VpdmUgXCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKSk7Y29uc3R7bWlkOnIsbmVlZEV4Y2hhbmdlU0RQOm99PXRoaXMucmVtb3RlU0RQLnNlbmQoZSx0LGksbik7byYmKGF3YWl0IHFGKHRoaXMucGVlckNvbm5lY3Rpb24sdGhpcy5yZW1vdGVTRFAsdGhpcy5leHRlbnNpb24pLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIikuY29uY2F0KGUsXCIgYnkgZXhjaGFuZ2luZyBTRFAuXCIpKSk7Y29uc3Qgcz10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PmUubWlkPT09cikpO2lmKCFzKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdHJhbnNjZWl2ZXIgYWZ0ZXIgc2V0TG9jYWxEZXNjcmlwdGlvbi5cIik7cmV0dXJue3RyYWNrOnMucmVjZWl2ZXIudHJhY2ssaWQ6cix0cmFuc2NlaXZlcjpzfX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ucmVjZWl2ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgYmF0Y2hSZWNlaXZlKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5iYXRjaFJlY2VpdmUgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKTtjb25zdHttaWRzOnQsbmVlZEV4Y2hhbmdlU0RQOml9PXRoaXMucmVtb3RlU0RQLmJhdGNoU2VuZChlKTtyZXR1cm4gaSYmKGF3YWl0IHFGKHRoaXMucGVlckNvbm5lY3Rpb24sdGhpcy5yZW1vdGVTRFAsdGhpcy5leHRlbnNpb24pLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gYmF0Y2hSZWNlaXZlIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKSkpLHQubWFwKChlPT57Y29uc3QgdD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKHQ9PnQubWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdHJhbnNjZWl2ZXIgYWZ0ZXIgc2V0TG9jYWxEZXNjcmlwdGlvbi5cIik7cmV0dXJue3RyYWNrOnQucmVjZWl2ZXIudHJhY2ssaWQ6ZSx0cmFuc2NlaXZlcjp0fX0pKX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ucmVjZWl2ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgc3RvcFJlY2VpdmluZyhlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtlLmZvckVhY2goKGU9PntBcnJheS5mcm9tKHRoaXMucHJlTWVkaWFNYXAuZW50cmllcygpKS5zb21lKCh0PT57bGV0W2kse21pZDpuLHBsYXllcjpyfV09dDtpZihuPT09ZSlyZXR1cm4gdGhpcy5wcmVNZWRpYU1hcC5kZWxldGUoaSksciYmci5kZXN0cm95KCksITB9KSl9KSksdGhpcy5yZW1vdGVTRFAuc3RvcFNlbmRpbmcoZSk7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZSh0LFwib2ZmZXJcIixcInJlbW90ZVwiLFwic3RvcFJlY2VpdmluZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtudWxsPT1pfHxpKG4uc2RwfHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obil9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uIHN0b3BSZWNlaXZpbmcgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIG11dGVSZW1vdGUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLm11dGVSZW1vdGUgbWlkPVwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpKTt0aGlzLnJlbW90ZVNEUC5tdXRlKGUpO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPXRoaXMubG9nU0RQRXhjaGFuZ2UodCxcIm9mZmVyXCIsXCJyZW1vdGVcIixcIm11dGVSZW1vdGVcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7bnVsbD09aXx8aShuLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5tdXRlUmVtb3RlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyB1bm11dGVSZW1vdGUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVubXV0ZVJlbW90ZSBtaWQ9XCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIikpO3RoaXMucmVtb3RlU0RQLnVubXV0ZShlKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKHQsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJ1bm11dGVSZW1vdGVcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7bnVsbD09aXx8aShuLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi51bm11dGVSZW1vdGUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIG11dGVMb2NhbChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkJiYtMSE9PWUuaW5kZXhPZih0Lm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoZT0+e2UuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn0pKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxuPXRoaXMubG9nU0RQRXhjaGFuZ2UoaS5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcIm11dGVMb2NhbFwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSksdGhpcy5yZW1vdGVTRFAubXV0ZVJlbW90ZShlKTtjb25zdCByPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7bnVsbD09bnx8bihyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnJ9KX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyB1bm11dGVMb2NhbChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udW5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7Y29uc3QgdD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcigodD0+dC5taWQmJi0xIT09ZS5pbmRleE9mKHQubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGguXCIpO3QubWFwKChhc3luYyhlLHQpPT57ZS5kaXJlY3Rpb249XCJzZW5kb25seVwifSkpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLG49dGhpcy5sb2dTRFBFeGNoYW5nZShpLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwidW5tdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLnVubXV0ZVJlbW90ZShlKSxBcnJheS5pc0FycmF5KHRoaXMucmVtb3RlQ29kZWNzKSYmdGhpcy5yZW1vdGVDb2RlY3MubGVuZ3RoPjAmJnRoaXMucmVtb3RlU0RQLnVwZGF0ZVJlbW90ZUNvZGVjKGUsdGhpcy5yZW1vdGVDb2RlY3MsdGhpcy5zdG9yZS5jb2RlYyk7Y29uc3Qgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PW58fG4ociksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1yZXN0YXJ0SUNFKGUpe3ZhciB0PXRoaXM7cmV0dXJuIE1iKChmdW5jdGlvbiooKXtjb25zdCBpPXlpZWxkIFZiKHQubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5yZXN0YXJ0SUNFXCIpKTt0cnl7aWYoIXQucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIik7Y29uc3Qgbj1wUCgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24scj1DRChcIkZPUkNFX1RVUk5fVENQXCIpfHx0LmZvcmNlVHVybjtpZihlPT09U3guUkVMQVkmJiFuKXJldHVybjtpZihuJiYhcil7Y29uc3QgaT1lPT09U3guUkVMQVk/XCJyZWxheVwiOlwiYWxsXCIsbj10LnBlZXJDb25uZWN0aW9uLmdldENvbmZpZ3VyYXRpb24oKTtuLmljZVRyYW5zcG9ydFBvbGljeSE9PWkmJihpUC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdG9yZS5jbGllbnRJZCxcIl0gcmVzdGFydElDRSBjaGFuZ2UgaWNlVHJhbnNwb3J0UG9saWN5IGZyb20gW1wiKS5jb25jYXQobi5pY2VUcmFuc3BvcnRQb2xpY3ksXCJdIHRvIFtcIikuY29uY2F0KGksXCJdXCIpKSxuLmljZVRyYW5zcG9ydFBvbGljeT1pLHQucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihuKSl9dC5yZW1vdGVTRFAudXBkYXRlQ2FuZGlkYXRlcyhlKTtjb25zdCBvPXlpZWxkIFZiKHQucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoe2ljZVJlc3RhcnQ6ITB9KSk7aWYoIW8uc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlY2F1c2UgcmVzdGFydCBvZmZlciBTRFAgZG9lcyBub3QgZXhpc3QuXCIpO2NvbnN0IHM9T0Yoby5zZHApLHtyZW1vdGVJY2VQYXJhbWV0ZXJzOmF9PXlpZWxkIHMuaWNlUGFyYW1ldGVyczt0LnJlbW90ZVNEUC5yZXN0YXJ0SUNFKGEpO2NvbnN0IGM9dC5yZW1vdGVTRFAudG9TdHJpbmcoKSxkPXQubG9nU0RQRXhjaGFuZ2Uoby5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInJlc3RhcnRJQ0VcIik7dC5zdG9yZS5kZXNjcmlwdGlvblN0YXJ0KCkseWllbGQgVmIodC5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG8pKSxudWxsPT1kfHxkKGMpLHlpZWxkIFZiKHQucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6Y30pKX1jYXRjaChlKXtpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0b3JlLmNsaWVudElkLFwiXSByZXN0YXJ0IElDRSBmYWlsZWQsIGFib3J0IG9wZXJhdGlvblwiKSxlKX1maW5hbGx5e2koKX19KSkoKX1hc3luYyBleHRlbmRDYW5kaWRhdGUoKXtpZighdGhpcy5yZW1vdGVTRFB8fHRoaXMuaXNGaXJzdENvbm5lY3RlZClyZXR1cm47Y29uc3QgZT1hd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24uZXh0ZW5kQ2FuZGlkYXRlXCIpO3RyeXt0aGlzLnJlbW90ZVNEUC51cGRhdGVDYW5kaWRhdGVzKFN4LlRDUF9SRUxBWSksYXdhaXQgcUYodGhpcy5wZWVyQ29ubmVjdGlvbix0aGlzLnJlbW90ZVNEUCx0aGlzLmV4dGVuc2lvbil9Y2F0Y2goZSl7aVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZXh0ZW5kIGNhbmRpZGF0ZSBmYWlsZWQsIGFib3J0IG9wZXJhdGlvblwiKSxlKX1maW5hbGx5e2UoKX19Y2xvc2UoKXt2YXIgZTt0aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZvckVhY2goKGU9Pnt3aih0aGlzLmlkK2UubWlkLHRoaXMpfSkpLHRoaXMucHJlTWVkaWFNYXAuZm9yRWFjaCgoZT0+e2xldHtwbGF5ZXI6dH09ZTt0JiZ0LmRlc3Ryb3koKX0pKSx0aGlzLnByZU1lZGlhTWFwLmNsZWFyKCksdGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpLG51bGw9PT0oZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsXCJjbG9zZWRcIiksdGhpcy50cnlVbmJpbmRUcmFuc3BvcnRFdmVudHMoKSx0aGlzLnVuYmluZFBDRXZlbnRzKCksdGhpcy51bmJpbmRTdGF0c0V2ZW50cygpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLmRlc3Ryb3koKSx0aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmNsZWFyKCksdGhpcy5yZWNvdmVyZWREYXRhQ2hhbm5lbElkcz1bXSx0aGlzLmN1cnJlbnREYXRhQ2hhbm5lbElkPTF9Z2V0U3RhdHMoKXtyZXR1cm4geGooeGooe30sdGhpcy5zdGF0c0ZpbHRlci5nZXRTdGF0cygpKSx7fSx7cXVhbGl0eUxpbWl0YXRpb25SZWFzb246dGhpcy5xdWFsaXR5TGltaXRhdGlvblJlYXNvbn0pfWdldFJlbW90ZVZpZGVvSXNSZWFkeShlKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRWaWRlb0lzUmVhZHkoZSl9YXN5bmMgdXBkYXRlRW5jb2RlckNvbmZpZyhlLHQpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLG49dGhpcy5tdW5nU2VuZE9mZmVyU0RQKGkuc2RwLFt0XSxbZV0pO3RoaXMucmVtb3RlU0RQLnVwZGF0ZVJlY3ZNZWRpYShlLHQpO2NvbnN0IHI9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxvPXRoaXMubG9nU0RQRXhjaGFuZ2UobixcIm9mZmVyXCIsXCJsb2NhbFwiLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpufSksbnVsbD09b3x8byhyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnJ9KX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyB1cGRhdGVTZW5kUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkPT09ZSkpOzE9PT1pLmxlbmd0aCYmKHRoaXMuaXNWUDhTaW11bGNhc3QodCk/QncoKXx8YXdhaXQgdGhpcy5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyhpLFt0XSk6YXdhaXQgdGhpcy5hcHBseVNlbmRFbmNvZGluZ3MoaSxbdF0pKX1zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShlLHQpe3RoaXMuc3RhdHNGaWx0ZXIuc2V0VmlkZW9Jc1JlYWR5MihlLHQpfWFzeW5jIHJlcGxhY2VUcmFjayhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5lLm1pZD09PXQpKTtpJiZhd2FpdCBpLnNlbmRlci5yZXBsYWNlVHJhY2soZS5fbWVkaWFTdHJlYW1UcmFjayl9YXN5bmMgZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCl7Y29uc3QgZT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpO2lmKGUubGVuZ3RoPjAmJmVbMF0udHJhbnNwb3J0JiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQmJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXImJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKSl7Y29uc3QgdD1lWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQse2xvY2FsOmkscmVtb3RlOm59PXQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCk7cmV0dXJue2xvY2FsOnhqKHhqKHt9LHpOKSx7fSx7Y2FuZGlkYXRlVHlwZTppLnR5cGUscHJvdG9jb2w6aS5wcm90b2NvbCxhZGRyZXNzOmkuYWRkcmVzcyxwb3J0OmkucG9ydH0pLHJlbW90ZTp4aih4aih7fSx6Tikse30se2NhbmRpZGF0ZVR5cGU6bi50eXBlLHByb3RvY29sOm4ucHJvdG9jb2wsYWRkcmVzczpuLmFkZHJlc3MscG9ydDpuLnBvcnR9KX19cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCl9YmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7XCJjb25uZWN0ZWRcIj09PXRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlJiYodGhpcy5pc0ZpcnN0Q29ubmVjdGVkPSEwKSxudWxsPT09KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZWVycm9yPWU9PntpZihlJiYoZS5lcnJvckNvZGV8fGUuZXJyb3JUZXh0KSl7dmFyIHQ7Y29uc3QgaT1cImNvZGU6IFwiLmNvbmNhdChlLmVycm9yQ29kZSxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdChlLmVycm9yVGV4dCksbj1lLnBvcnQ/XCJsb2NhbDogXCIuY29uY2F0KGUucG9ydCk6XCJcIixyPW1GKGUudXJsfHxcIlwiKTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uSUNFQ2FuZGlkYXRlRXJyb3IoXCIpLmNvbmNhdChpLFwiKSwgdXJsOiBcIikuY29uY2F0KHJ8fFwiXCIsXCIsIGhvc3RfY2FuZGlkYXRlOlwiKS5jb25jYXQobikpLG51bGw9PT0odD10aGlzLm9uSUNFQ2FuZGlkYXRlRXJyb3IpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxpKX19LHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZT1lPT57ZSYmZS50YXJnZXQmJlwiaWNlR2F0aGVyaW5nU3RhdGVcImluIGUudGFyZ2V0JiZpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gUlRDUGVlckNvbm5lY3Rpb24ub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZShcIikuY29uY2F0KGUudGFyZ2V0LmljZUdhdGhlcmluZ1N0YXRlLFwiKVwiKSl9LHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9ZT0+e2UuY2FuZGlkYXRlP3RoaXMubG9jYWxDYW5kaWRhdGVDb3VudCs9MToodGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkPSEwLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSl9LHNldFRpbWVvdXQoKCgpPT57dGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWR8fCh0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gb25pY2VjYW5kaWRhdGUgdGltZW91dCwgbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpfSksQ0QoXCJDQU5ESURBVEVfVElNRU9VVFwiKSl9dW5iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGVlcnJvcj1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9udHJhY2s9bnVsbH1zdGF0aWMgcmVzb2x2ZVBDQ29uZmlndXJhdGlvbih0KXtjb25zdCBpPXtpY2VTZXJ2ZXJzOltdfSxuPXQuY2xvdWRQcm94eVNlcnZlcnx8XCJkaXNhYmxlZFwiO3JldHVybiB0LmljZVNlcnZlcnM/aS5pY2VTZXJ2ZXJzPXQuaWNlU2VydmVyczp0LnR1cm5TZXJ2ZXImJih4Tyh0LnR1cm5TZXJ2ZXIuc2VydmVycyk/aS5pY2VTZXJ2ZXJzPXQudHVyblNlcnZlci5zZXJ2ZXJzOkNEKFwiTkVXX1RVUk5fTU9ERVwiKSYmaS5pY2VTZXJ2ZXJzJiZcImRpc2FibGVkXCI9PT1uPyhDRChcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpP3QudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJmkuaWNlU2VydmVycy5wdXNoKC4uLmUubmV3VHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyh0LnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5KSk6aS5pY2VTZXJ2ZXJzLnB1c2goLi4uZS5uZXdUdXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKHQudHVyblNlcnZlci5zZXJ2ZXJzKSksQ0QoXCJORVdfRk9SQ0VfVFVSTlwiKSYmKGkuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIikpOlwib2ZmXCIhPT10LnR1cm5TZXJ2ZXIubW9kZSYmKGkuaWNlU2VydmVycyYmaS5pY2VTZXJ2ZXJzLnB1c2goLi4uZS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKHQudHVyblNlcnZlci5zZXJ2ZXJzKSksQ0QoXCJVU0VfVFVSTl9TRVJWRVJfT0ZfR0FURVdBWVwiKSYmaS5pY2VTZXJ2ZXJzJiZ0LnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5JiZpLmljZVNlcnZlcnMucHVzaCguLi5lLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnModC50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSkpLENEKFwiRk9SQ0VfVFVSTl9UQ1BcIik/aS5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiOnQudHVyblNlcnZlci5zZXJ2ZXJzLmNvbmNhdCh0LnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5fHxbXSkuZm9yRWFjaCgoZT0+e2UuZm9yY2V0dXJuJiYoaS5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiKX0pKSkpLENEKFwiRU5BQkxFX0VOQ09ERURfVFJBTlNGT1JNXCIpJiZwUCgpLnN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtJiYoaS5lbmNvZGVkSW5zZXJ0YWJsZVN0cmVhbXM9ITApLGl9c3RhdGljIHR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57ZS5zZWN1cml0eT9lLnRjcHBvcnQmJnQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuczpcIi5jb25jYXQoc0YoZS50dXJuU2VydmVyVVJMKSxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSk6KGUudWRwcG9ydCYmIUNEKFwiRk9SQ0VfVFVSTl9UQ1BcIikmJnQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChlLnVkcHBvcnQsXCI/dHJhbnNwb3J0PXVkcFwiKX0pLGUudGNwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSkpfSkpLHR9c3RhdGljIG5ld1R1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57Y29uc3QgaT1DRChcIk5FV19UVVJOX01PREVcIik7MT09PWk/dC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjozNDc4P3RyYW5zcG9ydD11ZHBcIil9KToyPT09aT90LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOjM0Nzg/dHJhbnNwb3J0PXRjcFwiKX0pOjM9PT1pP3QucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuczpcIi5jb25jYXQoc0YoZS50dXJuU2VydmVyVVJMKSxcIjo0NDM/dHJhbnNwb3J0PXRjcFwiKX0pOjQ9PT1pJiYodC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjozNDc4P3RyYW5zcG9ydD11ZHBcIil9KSx0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOjM0Nzg/dHJhbnNwb3J0PXRjcFwiKX0pLHQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuczpcIi5jb25jYXQoc0YoZS50dXJuU2VydmVyVVJMKSxcIjo0NDM/dHJhbnNwb3J0PXRjcFwiKX0pKX0pKSx0fXRyeUJpbmRUcmFuc3BvcnRFdmVudHMoZSl7Y29uc3QgdD1lLnRyYW5zcG9ydDtpZih0KXt0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXI9ZSx0Lm9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZTtudWxsIT10JiZ0LnN0YXRlJiYobnVsbD09PShlPXRoaXMub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyx0LnN0YXRlKSl9LHQub25lcnJvcj1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25EVExTVHJhbnNwb3J0RXJyb3IpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxcImVycm9yXCJpbiBlP2UuZXJyb3I6ZSl9O2NvbnN0IGk9dC5pY2VUcmFuc3BvcnQ7aSYmKGkub25zdGF0ZWNoYW5nZT0oKT0+e2NvbnN0IGU9bnVsbD09dD92b2lkIDA6dC5pY2VUcmFuc3BvcnQuc3RhdGU7dmFyIGk7ZSYmKG51bGw9PT0oaT10aGlzLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlKSl9LGkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyJiYoaS5vbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZT0oKT0+e2lmKGkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCkpe2NvbnN0e2xvY2FsOmUscmVtb3RlOnR9PWkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCl8fHt9O2lmKGUmJnQpe2NvbnN0IGk9ZS5hZGRyZXNzK1wiOlwiK2UucG9ydCxuPXQuYWRkcmVzcytcIjpcIit0LnBvcnQ7aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlOiBsb2NhbCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG1GKGkpKSxcIiwgcmVtb3RlIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobUYobikpKSl9fX0pKX19dHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCl7dGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyJiZ0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0JiYodGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwsdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5vbmVycm9yPW51bGwsdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQmJih0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0LmljZVRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwpKX1hc3luYyB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MoZSx0KXt2YXIgaSxuO2lmKCF0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpO3Q9aS5maW5kKCh0PT50LnRyYWNrPT09ZS5fbWVkaWFTdHJlYW1UcmFjaykpfWlmKCF0KXJldHVybiBpUC53YXJuKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gbm8gcnRwU2VuZGVyIGZvdW5kfVwiKSk7aWYodGhpcy5pc1ZQOFNpbXVsY2FzdChlKSlyZXR1cm4gaVAud2FybihcIlt1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3NdIFRyYWNrIGlzIFZQOCBzaW11bGNhc3QsIHBsZWFzZSBhcHBseSBzaW11bGNhc3QgZW5jb2RpbmdzXCIpO2lmKCFwUCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybiBpUC53YXJuKFwiW3VwZGF0ZVJ0cFNlbmRlckVuY29kaW5nc10gQnJvd3NlciBub3Qgc3VwcG9ydCBzZXQgcnRwLXNlbmRlciBwYXJhbWV0ZXJzXCIpO2NvbnN0IHI9e30sbz17fTtzd2l0Y2goZS5fb3B0aW1pemF0aW9uTW9kZSl7Y2FzZVwibW90aW9uXCI6ci5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1mcmFtZXJhdGVcIjticmVhaztjYXNlXCJkZXRhaWxcIjpyLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLXJlc29sdXRpb25cIjticmVhaztjYXNlXCJiYWxhbmNlZFwiOnIuZGVncmFkYXRpb25QcmVmZXJlbmNlPVwiYmFsYW5jZWRcIn1jb25zdCBzPWZGKHRoaXMucGVlckNvbm5lY3Rpb24sZS5fbWVkaWFTdHJlYW1UcmFjayksYT1KTChlKTtpZihJaihlKSYmcyYmdCYmYSYmdGhpcy5nZXRMb2NhbFZpZGVvU3RhdHMmJkxuKGk9W1widnA4XCIsXCJ2cDlcIl0pLmNhbGwoaSx0aGlzLnN0b3JlLmNvZGVjKSl7dmFyIGM7Y29uc3QgaT1yLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZXx8KExuKGM9ZS5faGludHMpLmNhbGwoYyxWUC5DVVNUT01fVFJBQ0spP0NEKFwiQ1VTVE9NX0FEQVBUQVRJT05fREVGQVVMVF9NT0RFXCIpOlwibWFpbnRhaW4tZnJhbWVyYXRlXCIpO2JqKHRoaXMuaWQrcy5taWQsYSx0aGlzLGksKGU9Pnt0JiZ0aGlzLnVwZGF0ZUFkYXB0YXRpb24odCxlKX0pLHRoaXMuZ2V0TG9jYWxWaWRlb1N0YXRzLmJpbmQodGhpcykpfWlmKGUuX2VuY29kZXJDb25maWcpe3ZhciBkO2NvbnN0e2JpdHJhdGVNYXg6dCxmcmFtZVJhdGU6aSxzY2FsZVJlc29sdXRpb25Eb3duQnk6bn09ZS5fZW5jb2RlckNvbmZpZzt0JiYoby5tYXhCaXRyYXRlPTFlMyp0KSwoTG4oZD1lLl9oaW50cykuY2FsbChkLFZQLkxPV19TVFJFQU0pfHxlLmlzVXNlU2NhbGVSZXNvbHV0aW9uRG93bkJ5KSYmKGkmJihvLm1heEZyYW1lcmF0ZT1kRihpKSksbiYmbj49MSYmKG8uc2NhbGVSZXNvbHV0aW9uRG93bkJ5PW4pKX1jb25zdHttYXhGcmFtZXJhdGU6bH09Q0QoXCJFTkNPREVSX0NPTkZJR19MSU1JVFwiKTtpZihsJiZcIm51bWJlclwiPT10eXBlb2YgbCYmKG8ubWF4RnJhbWVyYXRlPW8ubWF4RnJhbWVyYXRlP01hdGgubWluKG8ubWF4RnJhbWVyYXRlLGwpOmwpLENEKFwiRFNDUF9UWVBFXCIpJiZzTygpKXt2YXIgdTtjb25zdCBlPUNEKFwiRFNDUF9UWVBFXCIpO0xuKHU9W1widmVyeS1sb3dcIixcImxvd1wiLFwibWVkaXVtXCIsXCJoaWdoXCJdKS5jYWxsKHUsZSkmJihvLm5ldHdvcmtQcmlvcml0eT1lKX1jb25zdCBoPXQuZ2V0UGFyYW1ldGVycygpLHA9bnVsbD09PShuPWguZW5jb2RpbmdzKXx8dm9pZCAwPT09bj92b2lkIDA6blswXTtCdygpJiYhcCYmKHIuZW5jb2RpbmdzPVtvXSkscCYmT2JqZWN0LmFzc2lnbihwLG8pLE9iamVjdC5hc3NpZ24oaCxyKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5nczogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShoLmVuY29kaW5ncykpKSxhd2FpdCB0LnNldFBhcmFtZXRlcnMoaCksYXdhaXQgUUYodGhpcy5zdG9yZS5jb2RlYyx0LENEKFwiU1ZDX01PREVcIikpfWFzeW5jIHVwZGF0ZUFkYXB0YXRpb24oZSx0KXt2YXIgaSxuO2lmKCFlKXJldHVybiBpUC5kZWJ1ZyhcIlt1cGRhdGVBZGFwdGF0aW9uXSBubyBydHBTZW5kZXIgZm91bmRcIik7aWYoIXBQKCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnMpcmV0dXJuIGlQLmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIEJyb3dzZXIgbm90IHN1cHBvcnQgc2V0IHJ0cC1zZW5kZXIgcGFyYW1ldGVyc1wiKTtjb25zdCByPXt9LHtiaXRyYXRlTWF4Om8sZnJhbWVSYXRlOnMsc2NhbGVSZXNvbHV0aW9uRG93bkJ5OmF9PXQ7byYmKHIubWF4Qml0cmF0ZT0xZTMqbykscyYmKHIubWF4RnJhbWVyYXRlPWRGKHMpKSxhJiZhPj0xJiZMbihpPVtcInZwOFwiLFwidnA5XCJdKS5jYWxsKGksdGhpcy5zdG9yZS5jb2RlYykmJihyLnNjYWxlUmVzb2x1dGlvbkRvd25CeT1hKTtjb25zdCBjPWUuZ2V0UGFyYW1ldGVycygpLGQ9bnVsbD09PShuPWMuZW5jb2RpbmdzKXx8dm9pZCAwPT09bj92b2lkIDA6blswXTtkJiZPYmplY3QuYXNzaWduKGQsciksT2JqZWN0LmFzc2lnbihjLHt9KTt0cnl7YXdhaXQgZS5zZXRQYXJhbWV0ZXJzKGMpLGlQLmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5nczogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGMuZW5jb2RpbmdzKSkpfWNhdGNoKHQpeyEoXCJ0cmFuc3BvcnRcImluIGUpfHxlLnRyYW5zcG9ydCYmXCJjb25uZWN0ZWRcIj09PWUudHJhbnNwb3J0LnN0YXRlP1wiY29ubmVjdGVkXCIhPT10aGlzLnBlZXJDb25uZWN0aW9uU3RhdGU/aVAuZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gcGVlckNvbm5lY3Rpb24gbm90IGNvbm5lY3RlZH1cIik6aVAuZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzIGZhaWxlZFwiLHQpOmlQLmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIHJ0cFNlbmRlciB0cmFuc3BvcnQgbm90IGNvbm5lY3RlZH1cIil9fWFzeW5jIGFwcGx5U2VuZEVuY29kaW5ncyhlLHQpe3RyeXtpZighcFAoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm47aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm47Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49ZVtpXSxyPXRbaV07ciBpbnN0YW5jZW9mIGtNJiYhdGhpcy5pc1ZQOFNpbXVsY2FzdChyKSYmYXdhaXQgdGhpcy51cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MocixuLnNlbmRlcil9fWNhdGNoKGUpe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBBcHBseSBSVFBTZW5kRW5jb2RpbmdzIGZhaWxlZC5cIikpfX1tdW5nU2VuZE9mZmVyU0RQKGUsdCxpKXtjb25zdCBuPUxEKGUpO3JldHVybiB0LmZvckVhY2goKChlLHQpPT57Y29uc3Qgcj1pW3RdLG89bi5tZWRpYURlc2NyaXB0aW9ucy5maW5kKChlPT5lLmF0dHJpYnV0ZXMubWlkPT09cikpO28mJihrRihvLGUpLEZGKG8sZSx0aGlzLnN0b3JlLmNvZGVjKSl9KSksa0Qobil9YmluZFN0YXRzRXZlbnRzKCl7dGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9SZWNlaXZlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9SZWNlaXZlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD0oZSx0LGkpPT57dmFyIG47bnVsbD09PShuPXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZCl8fHZvaWQgMD09PW58fG4uY2FsbCh0aGlzLGUsdCxpKX0sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57dmFyIGk7bnVsbD09PShpPXRoaXMub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZCl8fHZvaWQgMD09PWl8fGkuY2FsbCh0aGlzLGUsdCl9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pnt2YXIgaTtudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZCl8fHZvaWQgMD09PWl8fGkuY2FsbCh0aGlzLGUsdCl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0KXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9fXVuYmluZFN0YXRzRXZlbnRzKCl7dGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9SZWNlaXZlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9SZWNlaXZlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD12b2lkIDB9YXN5bmMgYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KGUsdCl7aWYoZS5sZW5ndGg9PT10Lmxlbmd0aClmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIGksbixyLG8scztjb25zdCBjPWVbYV0sZD10W2FdO2lmKGQgaW5zdGFuY2VvZiBrTSYmIUxuKGk9ZC5faGludHMpLmNhbGwoaSxWUC5MT1dfU1RSRUFNKSYmbnVsbCE9PShuPWQuX2VuY29kZXJDb25maWcpJiZ2b2lkIDAhPT1uJiZuLmJpdHJhdGVNYXgmJihudWxsPT09KHI9ZC5fZW5jb2RlckNvbmZpZyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuYml0cmF0ZU1heCk+MjAwJiZudWxsIT09KG89ZC5fc2NhbGFiaWxpdHlNb2RlKSYmdm9pZCAwIT09byYmby5udW1TcGF0aWFsTGF5ZXJzJiYobnVsbD09PShzPWQuX3NjYWxhYmlsaXR5TW9kZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMubnVtU3BhdGlhbExheWVycyk+MSYmXCJ2cDhcIj09PXRoaXMuc3RvcmUuY29kZWMpe2NvbnN0IGU9e30sdD17aGlnaDoxZTMqKGQuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heC01MCksbWVkaXVtOjVlNH07ZS5lbmNvZGluZ3M9W3tyaWQ6XCJtXCIsYWN0aXZlOiEwLG1heEJpdHJhdGU6dC5tZWRpdW0sc2NhbGVSZXNvbHV0aW9uRG93bkJ5OjR9LHtyaWQ6XCJoXCIsYWN0aXZlOiEwLG1heEJpdHJhdGU6dC5oaWdofV07Y29uc3QgaT1jLnNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7YXdhaXQgYy5zZW5kZXIuc2V0UGFyYW1ldGVycyhPYmplY3QuYXNzaWduKGksZSkpfX19YXN5bmMgYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MoZSx0KXtpZighQncoKSYmZS5sZW5ndGg9PT10Lmxlbmd0aClmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj10W2ldO2lmKG4gaW5zdGFuY2VvZiBrTSYmdGhpcy5pc1ZQOFNpbXVsY2FzdChuKSl7Y29uc3QgdD1lW2ldLHI9e30sbz17aGlnaDoxZTMqKG4uX2VuY29kZXJDb25maWcuYml0cmF0ZU1heC01MCksbWVkaXVtOjVlNH07ci5lbmNvZGluZ3M9W3thY3RpdmU6ITAsYWRhcHRpdmVQdGltZTohMSxuZXR3b3JrUHJpb3JpdHk6XCJoaWdoXCIscHJpb3JpdHk6XCJoaWdoXCIsbWF4Qml0cmF0ZTpvLmhpZ2h9LHthY3RpdmU6ITAsYWRhcHRpdmVQdGltZTohMSxuZXR3b3JrUHJpb3JpdHk6XCJsb3dcIixwcmlvcml0eTpcImxvd1wiLG1heEJpdHJhdGU6by5tZWRpdW0sc2NhbGVSZXNvbHV0aW9uRG93bkJ5OjR9XTtjb25zdCBzPXQuc2VuZGVyLmdldFBhcmFtZXRlcnMoKTthd2FpdCB0LnNlbmRlci5zZXRQYXJhbWV0ZXJzKE9iamVjdC5hc3NpZ24ocyxyKSl9fX1pc1ZQOFNpbXVsY2FzdChlKXt2YXIgdCxpLG4scixvO3JldHVybiEhKGUgaW5zdGFuY2VvZiBrTSYmQ0QoXCJTSU1VTENBU1RcIikmJlwidnA4XCI9PT10aGlzLnN0b3JlLmNvZGVjJiYhTG4odD1lLl9oaW50cykuY2FsbCh0LFZQLkxPV19TVFJFQU0pJiZudWxsIT09KGk9ZS5fZW5jb2RlckNvbmZpZykmJnZvaWQgMCE9PWkmJmkuYml0cmF0ZU1heCYmKG51bGw9PT0obj1lLl9lbmNvZGVyQ29uZmlnKXx8dm9pZCAwPT09bj92b2lkIDA6bi5iaXRyYXRlTWF4KT4yMDAmJm51bGwhPT0ocj1lLl9zY2FsYWJpbGl0eU1vZGUpJiZ2b2lkIDAhPT1yJiZyLm51bVNwYXRpYWxMYXllcnMmJihudWxsPT09KG89ZS5fc2NhbGFiaWxpdHlNb2RlKXx8dm9pZCAwPT09bz92b2lkIDA6by5udW1TcGF0aWFsTGF5ZXJzKT4xKX1sb2dTRFBFeGNoYW5nZShlLHQsaSxuKXtpZihDRChcIlNEUF9MT0dHSU5HXCIpKXJldHVybiBpUC51cGxvYWQoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGV4Y2hhbmdpbmcgXCIpLmNvbmNhdChpLFwiIFwiKS5jb25jYXQodCxcIiBTRFAgZHVyaW5nIFAyUENvbm5lY3Rpb24uXCIpLmNvbmNhdChuLFwiXFxuXCIpLGUpLFwib2ZmZXJcIj09PXQ/ZT0+e3RoaXMubG9nU0RQRXhjaGFuZ2UoZSxcImFuc3dlclwiLFwibG9jYWxcIj09PWk/XCJyZW1vdGVcIjpcImxvY2FsXCIsbil9OnZvaWQgMH1hc3luYyBnZXRSZW1vdGVTU1JDKGUpe2lmKCF0aGlzLnJlbW90ZVNEUClyZXR1cm47Y29uc3QgdD10aGlzLnJlbW90ZVNEUC5nZXRTU1JDKGUpO3JldHVybiB0JiYwIT09dC5sZW5ndGg/dFswXS5zc3JjSWQ6dm9pZCAwfXNldENvbmZpZ3VyYXRpb24odCl7aWYocFAoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXtjb25zdCBpPWUucmVzb2x2ZVBDQ29uZmlndXJhdGlvbih0KTt0aGlzLnBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24oaSl9dC5pc1ByZWFsbG9jYXRpb24mJih0aGlzLmlzUHJlYWxsb2NhdGlvbj0hMCl9fSxEVihVai5wcm90b3R5cGUsXCJ1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXNcIixbQmpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVWoucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIpLFVqLnByb3RvdHlwZSksRFYoVWoucHJvdG90eXBlLFwiY29ubmVjdFwiLFtCal0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVai5wcm90b3R5cGUsXCJjb25uZWN0XCIpLFVqLnByb3RvdHlwZSksRFYoVWoucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlQ29ubmVjdFwiLFtCal0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVai5wcm90b3R5cGUsXCJ1cGRhdGVSZW1vdGVDb25uZWN0XCIpLFVqLnByb3RvdHlwZSksRFYoVWoucHJvdG90eXBlLFwiY3JlYXRlRGF0YUNoYW5uZWxzXCIsW0JqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFVqLnByb3RvdHlwZSxcImNyZWF0ZURhdGFDaGFubmVsc1wiKSxVai5wcm90b3R5cGUpLERWKFVqLnByb3RvdHlwZSxcInJlY2VpdmVcIixbQmpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVWoucHJvdG90eXBlLFwicmVjZWl2ZVwiKSxVai5wcm90b3R5cGUpLERWKFVqLnByb3RvdHlwZSxcImJhdGNoUmVjZWl2ZVwiLFtCal0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVai5wcm90b3R5cGUsXCJiYXRjaFJlY2VpdmVcIiksVWoucHJvdG90eXBlKSxEVihVai5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIsW0JqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFVqLnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIiksVWoucHJvdG90eXBlKSxEVihVai5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsW0JqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFVqLnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIiksVWoucHJvdG90eXBlKSxEVihVai5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIixbQmpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVWoucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIpLFVqLnByb3RvdHlwZSksRFYoVWoucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIsW0JqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFVqLnByb3RvdHlwZSxcIm11dGVMb2NhbFwiKSxVai5wcm90b3R5cGUpLERWKFVqLnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIsW0JqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFVqLnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIpLFVqLnByb3RvdHlwZSksRFYoVWoucHJvdG90eXBlLFwiY2xvc2VcIixbQmpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVWoucHJvdG90eXBlLFwiY2xvc2VcIiksVWoucHJvdG90eXBlKSxEVihVai5wcm90b3R5cGUsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIsW0JqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFVqLnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIiksVWoucHJvdG90eXBlKSxEVihVai5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiLFtCal0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVai5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiKSxVai5wcm90b3R5cGUpLERWKFVqLnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiLFtCal0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVai5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIiksVWoucHJvdG90eXBlKSxEVihVai5wcm90b3R5cGUsXCJ1cGRhdGVBZGFwdGF0aW9uXCIsW0JqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFVqLnByb3RvdHlwZSxcInVwZGF0ZUFkYXB0YXRpb25cIiksVWoucHJvdG90eXBlKSxEVihVai5wcm90b3R5cGUsXCJnZXRSZW1vdGVTU1JDXCIsW0JqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFVqLnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIiksVWoucHJvdG90eXBlKSxVaik7ZnVuY3Rpb24gQmooZSx0LGkpe2NvbnN0IG49ZVt0XTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gaS52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5tdXRleCxpPWF3YWl0IGUubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5cIi5jb25jYXQodCkpO3RyeXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShyKSxzPTA7czxyO3MrKylvW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gYXdhaXQgbi5hcHBseSh0aGlzLG8pfWZpbmFsbHl7aSgpfX0saX1mdW5jdGlvbiBqaihlLHQpe2xldCBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7aS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiZGlzcGxheTpub25lXCIpLG4uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6bm9uZVwiKSxpLnNldEF0dHJpYnV0ZShcIm11dGVkXCIsXCJcIiksaS5tdXRlZD0hMCxpLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJcIiksaS5hdXRvcGxheT0hMCxpLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksbi53aWR0aD1kRih0LndpZHRoKSxuLmhlaWdodD1kRih0LmhlaWdodCk7Y29uc3Qgcj1kRih0LmZyYW1lcmF0ZXx8MTUpO2RvY3VtZW50LmJvZHkuYXBwZW5kKGkpLGRvY3VtZW50LmJvZHkuYXBwZW5kKG4pO2xldCBvPWUuX21lZGlhU3RyZWFtVHJhY2s7aS5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtvXSksaS5wbGF5KCkuY2F0Y2goVE4pO2NvbnN0IHM9bi5nZXRDb250ZXh0KFwiMmRcIik7aWYoIXMpdGhyb3cgbmV3IHVQKGhPLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGdldCBjYW52YXMgY29udGV4dFwiKTtjb25zdCBhPXBQKCksYz1uLmNhcHR1cmVTdHJlYW0oYS5zdXBwb3J0UmVxdWVzdEZyYW1lPzA6cikuZ2V0VmlkZW9UcmFja3MoKVswXTtjLmNhbnZhc3x8KGMuY2FudmFzPW4pLG4uc3RhcnRDYXB0dXJlPSgpPT57aWYoIWkpcmV0dXJuIG4uc3RvcENhcHR1cmUmJm4uc3RvcENhcHR1cmUoKTtpZihpLnBhdXNlZCYmaS5wbGF5KCksaS52aWRlb0hlaWdodD4yJiZpLnZpZGVvV2lkdGg+Mil7Y29uc3QgZT1pLnZpZGVvV2lkdGgsdD1pLnZpZGVvSGVpZ2h0L2Uscj1uLndpZHRoKnQ7TWF0aC5hYnMoci1uLmhlaWdodCk+PTImJihpUC5kZWJ1ZyhcImFkanVzdCBsb3cgc3RyZWFtIHJlc29sdXRpb25cIixcIlwiLmNvbmNhdChuLndpZHRoLFwieFwiKS5jb25jYXQobi5oZWlnaHQsXCIgLT4gXCIpLmNvbmNhdChuLndpZHRoLFwieFwiKS5jb25jYXQocikpLG4uaGVpZ2h0PXIpfXMuZHJhd0ltYWdlKGksMCwwLG4ud2lkdGgsbi5oZWlnaHQpLGMucmVxdWVzdEZyYW1lJiZjLnJlcXVlc3RGcmFtZSgpLG8hPT1lLl9tZWRpYVN0cmVhbVRyYWNrJiYobz1lLl9tZWRpYVN0cmVhbVRyYWNrLGkuc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbb10pKX0sbi5zdG9wQ2FwdHVyZT1TTCgoKCk9Pm4uc3RhcnRDYXB0dXJlJiZuLnN0YXJ0Q2FwdHVyZSgpKSxyKTtjb25zdCBkPWMuc3RvcDtyZXR1cm4gYy5zdG9wPSgpPT57ZC5jYWxsKGMpLGkmJihpLnJlbW92ZSgpLGkuc3JjT2JqZWN0PW51bGwsaT1udWxsKSxuJiYobi53aWR0aD0wLG4ucmVtb3ZlKCksbi5zdG9wQ2FwdHVyZSYmbi5zdG9wQ2FwdHVyZSgpLG4uc3RhcnRDYXB0dXJlPXZvaWQgMCxuLnN0b3BDYXB0dXJlPXZvaWQgMCxuPW51bGwpLGlQLmRlYnVnKFwiY2xlYW4gbG93IHN0cmVhbSByZW5kZXJlclwiKX0sY312YXIgR2o9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5WaWRlb19TZW5kX1R5cGU9MTkwXT1cIlZpZGVvX1NlbmRfVHlwZVwiLGV9KEdqfHx7fSksV2o9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5WaWRlb19TZW5kX1FwX1N1bT0yMTQzXT1cIlZpZGVvX1NlbmRfUXBfU3VtXCIsZVtlLlZpZGVvX1NlbmRfRnJlZXplPTIwODJdPVwiVmlkZW9fU2VuZF9GcmVlemVcIixlW2UuVmlkZW9fUmVjdl9RcF9TdW09MjE0NF09XCJWaWRlb19SZWN2X1FwX1N1bVwiLGVbZS5WaWRlb19SZWN2X0ZyZWV6ZT0yMDg0XT1cIlZpZGVvX1JlY3ZfRnJlZXplXCIsZVtlLlZpZGVvX1JlbmRlcl9GcmVlemVfVGltZT0yMTA5XT1cIlZpZGVvX1JlbmRlcl9GcmVlemVfVGltZVwiLGVbZS5WaWRlb19SZW5kZXJfRnJlZXplX1RpbWVfUmVuZGVyPTIxNDddPVwiVmlkZW9fUmVuZGVyX0ZyZWV6ZV9UaW1lX1JlbmRlclwiLGVbZS5WaWRlb19SZW5kZXJfRnJlZXplX1RpbWVfUmVuZGVyMj0yMjIzXT1cIlZpZGVvX1JlbmRlcl9GcmVlemVfVGltZV9SZW5kZXIyXCIsZVtlLkF1ZGlvX1JlY3ZfRnJlZXplPTIwODNdPVwiQXVkaW9fUmVjdl9GcmVlemVcIixlfShXanx8e30pLEhqPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuVmlkZW9fU2VuZF9SZXRyYW5zbWl0PTIwNjJdPVwiVmlkZW9fU2VuZF9SZXRyYW5zbWl0XCIsZVtlLlZpZGVvX1NlbmRfVGFyZ2V0X0VuY29kZWQ9MjA2NF09XCJWaWRlb19TZW5kX1RhcmdldF9FbmNvZGVkXCIsZVtlLlZpZGVvX1NlbmRfQWN0dWFsX0VuY29kZWQ9MjA2MF09XCJWaWRlb19TZW5kX0FjdHVhbF9FbmNvZGVkXCIsZVtlLlZpZGVvX1NlbmRfVHJhbnNtaXQ9MjA2Nl09XCJWaWRlb19TZW5kX1RyYW5zbWl0XCIsZVtlLlZpZGVvX1NlbmRfQmFuZHdpZHRoPTIwNjFdPVwiVmlkZW9fU2VuZF9CYW5kd2lkdGhcIixlW2UuVmlkZW9fQ2FwdHVyZV9IZWlnaHQ9MjAzM109XCJWaWRlb19DYXB0dXJlX0hlaWdodFwiLGVbZS5WaWRlb19DYXB0dXJlX1dpZHRoPTIwMzVdPVwiVmlkZW9fQ2FwdHVyZV9XaWR0aFwiLGVbZS5WaWRlb19DYXB0dXJlX0ZyYW1lX1JhdGU9MjAzNF09XCJWaWRlb19DYXB0dXJlX0ZyYW1lX1JhdGVcIixlW2UuVmlkZW9fU2VuZF9Mb3dfSGVpZ2h0PTIwNzNdPVwiVmlkZW9fU2VuZF9Mb3dfSGVpZ2h0XCIsZVtlLlZpZGVvX1NlbmRfTG93X0ZyYW1lX1JhdGU9MjA3NV09XCJWaWRlb19TZW5kX0xvd19GcmFtZV9SYXRlXCIsZVtlLlZpZGVvX1NlbmRfTG93X1dpZHRoPTIwNzddPVwiVmlkZW9fU2VuZF9Mb3dfV2lkdGhcIixlW2UuVmlkZW9fU2VuZF9Mb3dfQml0cmF0ZT0yMDY5XT1cIlZpZGVvX1NlbmRfTG93X0JpdHJhdGVcIixlW2UuVmlkZW9fU2VuZF9Mb3dfUGFja2FnZV9Mb3N0PTIwNzBdPVwiVmlkZW9fU2VuZF9Mb3dfUGFja2FnZV9Mb3N0XCIsZVtlLlZpZGVvX1NlbmRfTG93X1BhY2thZ2VfUmF0ZT0yMDcxXT1cIlZpZGVvX1NlbmRfTG93X1BhY2thZ2VfUmF0ZVwiLGVbZS5WaWRlb19TZW5kX0ZyYW1lX1JhdGU9MjAwMl09XCJWaWRlb19TZW5kX0ZyYW1lX1JhdGVcIixlW2UuVmlkZW9fU2VuZF9XaWR0aD0yMDAzXT1cIlZpZGVvX1NlbmRfV2lkdGhcIixlW2UuVmlkZW9fU2VuZF9IZWlnaHQ9MjAwNF09XCJWaWRlb19TZW5kX0hlaWdodFwiLGVbZS5WaWRlb19TZW5kX0Rpc2FibGVkPTIwOTVdPVwiVmlkZW9fU2VuZF9EaXNhYmxlZFwiLGVbZS5WaWRlb19TZW5kX0FkYXB0YXRpb249MjAzMl09XCJWaWRlb19TZW5kX0FkYXB0YXRpb25cIixlW2UuVmlkZW9fU2VuZF9QbGF5ZXJfU3RhdHVzPTIxMjhdPVwiVmlkZW9fU2VuZF9QbGF5ZXJfU3RhdHVzXCIsZVtlLlZpZGVvX1NlbmRfTmFja3M9MjAwOV09XCJWaWRlb19TZW5kX05hY2tzXCIsZVtlLlZpZGVvX1NlbmRfUGxpcz0yMDEwXT1cIlZpZGVvX1NlbmRfUGxpc1wiLGVbZS5WaWRlb19TZW5kX0ZpcnM9MjAxMV09XCJWaWRlb19TZW5kX0ZpcnNcIixlW2UuVmlkZW9fU2VuZF9BdmdfRW5jb2RlPTIwMDddPVwiVmlkZW9fU2VuZF9BdmdfRW5jb2RlXCIsZVtlLlZpZGVvX1NlbmRfSHVnZV9GcmFtZV9TZW50PTIxNzRdPVwiVmlkZW9fU2VuZF9IdWdlX0ZyYW1lX1NlbnRcIixlW2UuVmlkZW9fU2VuZF9CeXRlc19SZXRyYW5zbWl0PTIxNzNdPVwiVmlkZW9fU2VuZF9CeXRlc19SZXRyYW5zbWl0XCIsZVtlLlZpZGVvX1NlbmRfUGFja2FnZXNfUmV0cmFuc21pdD0yMTcyXT1cIlZpZGVvX1NlbmRfUGFja2FnZXNfUmV0cmFuc21pdFwiLGVbZS5WaWRlb19TZW5kX0tleV9GcmFtZXNfRW5jb2RlZD0yMjA3XT1cIlZpZGVvX1NlbmRfS2V5X0ZyYW1lc19FbmNvZGVkXCIsZVtlLlZpZGVvX1NlbmRfQml0cmF0ZT0yMDEyXT1cIlZpZGVvX1NlbmRfQml0cmF0ZVwiLGVbZS5WaWRlb19TZW5kX1BhY2thZ2VfUmF0ZT0yMDMxXT1cIlZpZGVvX1NlbmRfUGFja2FnZV9SYXRlXCIsZVtlLlZpZGVvX1NlbmRfUGFja2FnZV9Mb3N0PTIwMDVdPVwiVmlkZW9fU2VuZF9QYWNrYWdlX0xvc3RcIixlW2UuQXVkaW9fQ2FwdHVyZV9QQ01fTGV2ZWw9MjEwNF09XCJBdWRpb19DYXB0dXJlX1BDTV9MZXZlbFwiLGVbZS5BdWRpb19TZW5kX0xldmVsPTIwMzhdPVwiQXVkaW9fU2VuZF9MZXZlbFwiLGVbZS5BdWRpb19TZW5kX0JpdHJhdGU9MjAzOV09XCJBdWRpb19TZW5kX0JpdHJhdGVcIixlW2UuQXVkaW9fU2VuZF9QYWNrYWdlX1JhdGU9MjA0MF09XCJBdWRpb19TZW5kX1BhY2thZ2VfUmF0ZVwiLGVbZS5BdWRpb19TZW5kX0FFQ19SZXR1cm5fTG9zcz0yMDQxXT1cIkF1ZGlvX1NlbmRfQUVDX1JldHVybl9Mb3NzXCIsZVtlLkF1ZGlvX1NlbmRfQUVDX1JldHVybl9Mb3NzX0VuaGFuY2VtZW50PTIwNDJdPVwiQXVkaW9fU2VuZF9BRUNfUmV0dXJuX0xvc3NfRW5oYW5jZW1lbnRcIixlW2UuQXVkaW9fU2VuZF9GcmVlemU9MjA4MV09XCJBdWRpb19TZW5kX0ZyZWV6ZVwiLGVbZS5BdWRpb19TZW5kX0Rpc2FibGVkPTIwOTZdPVwiQXVkaW9fU2VuZF9EaXNhYmxlZFwiLGVbZS5BdWRpb19TZW5kX0J5dGVzX1JldHJhbnNtaXQ9MjE3OV09XCJBdWRpb19TZW5kX0J5dGVzX1JldHJhbnNtaXRcIixlW2UuQXVkaW9fU2VuZF9QYWNrYWdlc19SZXRyYW5zbWl0PTIxODBdPVwiQXVkaW9fU2VuZF9QYWNrYWdlc19SZXRyYW5zbWl0XCIsZVtlLlZpZGVvX1JlY3ZfSGVpZ2h0PTIwMTldPVwiVmlkZW9fUmVjdl9IZWlnaHRcIixlW2UuVmlkZW9fUmVjdl9XaWR0aD0yMDE4XT1cIlZpZGVvX1JlY3ZfV2lkdGhcIixlW2UuVmlkZW9fUmVjdl9GcmFtZV9SYXRlX091dHB1dD0yMTU1XT1cIlZpZGVvX1JlY3ZfRnJhbWVfUmF0ZV9PdXRwdXRcIixlW2UuVmlkZW9fUmVjdl9KaXR0ZXJfQnVmZmVyPTIwMjNdPVwiVmlkZW9fUmVjdl9KaXR0ZXJfQnVmZmVyXCIsZVtlLlZpZGVvX1JlY3ZfQ3VycmVudF9EZWxheT0yMDI0XT1cIlZpZGVvX1JlY3ZfQ3VycmVudF9EZWxheVwiLGVbZS5WaWRlb19SZWN2X05hY2tzPTIwMjZdPVwiVmlkZW9fUmVjdl9OYWNrc1wiLGVbZS5WaWRlb19SZWN2X1BsaXM9MjAyN109XCJWaWRlb19SZWN2X1BsaXNcIixlW2UuVmlkZW9fUmVjdl9GaXJzPTIwMjhdPVwiVmlkZW9fUmVjdl9GaXJzXCIsZVtlLlZpZGVvX1JlY3ZfRGlzYWJsZWQ9MjEwMV09XCJWaWRlb19SZWN2X0Rpc2FibGVkXCIsZVtlLlZpZGVvX1JlY3ZfUGxheWVyX1N0YXR1cz0yMTI5XT1cIlZpZGVvX1JlY3ZfUGxheWVyX1N0YXR1c1wiLGVbZS5WaWRlb19SZWN2X0lfRnJhbWVfRGVsYXk9MjE0OV09XCJWaWRlb19SZWN2X0lfRnJhbWVfRGVsYXlcIixlW2UuVmlkZW9fUmVuZGVyX0ZyYW1lX1JhdGVfUmVuZGVyPTIwMjJdPVwiVmlkZW9fUmVuZGVyX0ZyYW1lX1JhdGVfUmVuZGVyXCIsZVtlLlZpZGVvX1JlbmRlcl9GcmVlemVfRHVyYXRpb249MjE1Nl09XCJWaWRlb19SZW5kZXJfRnJlZXplX0R1cmF0aW9uXCIsZVtlLkF1ZGlvX1JlbmRlcl9MZXZlbD0yMDQzXT1cIkF1ZGlvX1JlbmRlcl9MZXZlbFwiLGVbZS5BdWRpb19SZW5kZXJfRnJlZXplX1RpbWVfODBtcz0yMjI2XT1cIkF1ZGlvX1JlbmRlcl9GcmVlemVfVGltZV84MG1zXCIsZVtlLkF1ZGlvX1JlbmRlcl9GcmVlemVfVGltZV8yMDBtcz0yMjI3XT1cIkF1ZGlvX1JlbmRlcl9GcmVlemVfVGltZV8yMDBtc1wiLGVbZS5BdWRpb19SZW5kZXJfRnJlZXplX1NhbXBsZXNfODBtcz0yMjI4XT1cIkF1ZGlvX1JlbmRlcl9GcmVlemVfU2FtcGxlc184MG1zXCIsZVtlLkF1ZGlvX1JlbmRlcl9GcmVlemVfU2FtcGxlc18yMDBtcz0yMjI5XT1cIkF1ZGlvX1JlbmRlcl9GcmVlemVfU2FtcGxlc18yMDBtc1wiLGVbZS5BdWRpb19SZWN2X1BDTV9MZXZlbD0yMTA1XT1cIkF1ZGlvX1JlY3ZfUENNX0xldmVsXCIsZVtlLkF1ZGlvX1JlY3ZfRGlzYWJsZWQ9MjEwMl09XCJBdWRpb19SZWN2X0Rpc2FibGVkXCIsZVtlLkF1ZGlvX1JlY3ZfSml0dGVyX0J1ZmZlcj0yMDU0XT1cIkF1ZGlvX1JlY3ZfSml0dGVyX0J1ZmZlclwiLGVbZS5BdWRpb19SZWN2X0N1cnJlbnRfRGVsYXk9MjA0N109XCJBdWRpb19SZWN2X0N1cnJlbnRfRGVsYXlcIixlW2UuQXVkaW9fUmVjdl9QbGF5ZXJfU3RhdHVzPTIxMzBdPVwiQXVkaW9fUmVjdl9QbGF5ZXJfU3RhdHVzXCIsZVtlLkF1ZGlvX1JlY3ZfQml0cmF0ZT0yMDQ0XT1cIkF1ZGlvX1JlY3ZfQml0cmF0ZVwiLGVbZS5BdWRpb19SZWN2X0NvbmNlYWxlZF9TYW1wbGVzPTIxNDhdPVwiQXVkaW9fUmVjdl9Db25jZWFsZWRfU2FtcGxlc1wiLGVbZS5BdWRpb19SZWN2X1RvdGFsX1NhbXBsZXNfUmVjZWl2ZWQ9MjIyNF09XCJBdWRpb19SZWN2X1RvdGFsX1NhbXBsZXNfUmVjZWl2ZWRcIixlfShIanx8e30pLEtqPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuVmlkZW9fUmVuZGVyX0ZyYW1lX1JhdGVfRGVjb2RlPTIwMjFdPVwiVmlkZW9fUmVuZGVyX0ZyYW1lX1JhdGVfRGVjb2RlXCIsZVtlLlZpZGVvX1JlY3ZfRnJhbWVfUmF0ZT0yMDIwXT1cIlZpZGVvX1JlY3ZfRnJhbWVfUmF0ZVwiLGVbZS5WaWRlb19SZWN2X0ZyYW1lX0Ryb3BwZWQ9MjE4MV09XCJWaWRlb19SZWN2X0ZyYW1lX0Ryb3BwZWRcIixlW2UuVmlkZW9fUmVjdl9CeXRlc19SZXRyYW5zbWl0PTIxNzVdPVwiVmlkZW9fUmVjdl9CeXRlc19SZXRyYW5zbWl0XCIsZVtlLlZpZGVvX1JlY3ZfUGFja2FnZXNfUmV0cmFuc21pdD0yMTc2XT1cIlZpZGVvX1JlY3ZfUGFja2FnZXNfUmV0cmFuc21pdFwiLGVbZS5WaWRlb19SZWN2X1BhY2thZ2VzX0Rpc2NhcmRlZD0yMTk4XT1cIlZpZGVvX1JlY3ZfUGFja2FnZXNfRGlzY2FyZGVkXCIsZVtlLlZpZGVvX1JlY3ZfQXZnX0RlY29kZT0yMjAwXT1cIlZpZGVvX1JlY3ZfQXZnX0RlY29kZVwiLGVbZS5WaWRlb19SZWN2X0F2Z19Qcm9jZXNzaW5nX0RlbGF5PTIyMDJdPVwiVmlkZW9fUmVjdl9BdmdfUHJvY2Vzc2luZ19EZWxheVwiLGVbZS5WaWRlb19SZWN2X0F2Z19Bc3NlbWJseV9UaW1lPTIyMDNdPVwiVmlkZW9fUmVjdl9BdmdfQXNzZW1ibHlfVGltZVwiLGVbZS5WaWRlb19SZWN2X0F2Z19JbnRlcl9GcmFtZV9EZWxheT0yMjA0XT1cIlZpZGVvX1JlY3ZfQXZnX0ludGVyX0ZyYW1lX0RlbGF5XCIsZVtlLlZpZGVvX1JlY3ZfS2V5X0ZyYW1lc19EZWNvZGVkPTIyMDZdPVwiVmlkZW9fUmVjdl9LZXlfRnJhbWVzX0RlY29kZWRcIixlW2UuVmlkZW9fUmVjdl9QYWNrYWdlX0xvc3Q9MjAxNF09XCJWaWRlb19SZWN2X1BhY2thZ2VfTG9zdFwiLGVbZS5WaWRlb19SZWN2X0JpdHJhdGU9MjAyOV09XCJWaWRlb19SZWN2X0JpdHJhdGVcIixlW2UuVmlkZW9fUmVjdl9QYWNrYWdlX1JhdGU9MjA3OF09XCJWaWRlb19SZWN2X1BhY2thZ2VfUmF0ZVwiLGVbZS5BdWRpb19SZWN2X0ppdHRlcj0yMDU1XT1cIkF1ZGlvX1JlY3ZfSml0dGVyXCIsZVtlLkF1ZGlvX1JlY3ZfQnl0ZXNfUmV0cmFuc21pdD0yMTc4XT1cIkF1ZGlvX1JlY3ZfQnl0ZXNfUmV0cmFuc21pdFwiLGVbZS5BdWRpb19SZWN2X1BhY2thZ2VzX1JldHJhbnNtaXQ9MjE3N109XCJBdWRpb19SZWN2X1BhY2thZ2VzX1JldHJhbnNtaXRcIixlW2UuQXVkaW9fUmVjdl9QYWNrYWdlc19EaXNjYXJkZWQ9MjE5OV09XCJBdWRpb19SZWN2X1BhY2thZ2VzX0Rpc2NhcmRlZFwiLGVbZS5BdWRpb19SZWN2X0F2Z19Qcm9jZXNzaW5nX0RlbGF5PTIyMDFdPVwiQXVkaW9fUmVjdl9BdmdfUHJvY2Vzc2luZ19EZWxheVwiLGVbZS5BdWRpb19SZWN2X1BhY2thZ2VfUmF0ZT0yMDQ2XT1cIkF1ZGlvX1JlY3ZfUGFja2FnZV9SYXRlXCIsZVtlLkF1ZGlvX1JlY3ZfUGFja2FnZV9Mb3N0PTIwNDVdPVwiQXVkaW9fUmVjdl9QYWNrYWdlX0xvc3RcIixlW2UuQXVkaW9fUmVjdl9BVl9TeW5jX1RJTUU9MjIzN109XCJBdWRpb19SZWN2X0FWX1N5bmNfVElNRVwiLGV9KEtqfHx7fSksWWo9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5SVFQ9MjAwNl09XCJSVFRcIixlW2UuQ09OTl9UWVBFPTgwMV09XCJDT05OX1RZUEVcIixlW2UuU1RBVFNfVVBEQVRFX0lOVEVSVkFMPTIyMDVdPVwiU1RBVFNfVVBEQVRFX0lOVEVSVkFMXCIsZX0oWWp8fHt9KSx6aj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLlJUQ19QRUVSX0NPTk5FQ1RJT05fU1RBVEU9MjIxOV09XCJSVENfUEVFUl9DT05ORUNUSU9OX1NUQVRFXCIsZVtlLlBBR0VfVklTSUJJTElUWT0yMjMzXT1cIlBBR0VfVklTSUJJTElUWVwiLGV9KHpqfHx7fSkscWo9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5UcmFuc3BvcnRfU2VuZF9CaXRyYXRlPTIyMzRdPVwiVHJhbnNwb3J0X1NlbmRfQml0cmF0ZVwiLGVbZS5UcmFuc3BvcnRfUmVjdl9CaXRyYXRlPTIyMzVdPVwiVHJhbnNwb3J0X1JlY3ZfQml0cmF0ZVwiLGV9KHFqfHx7fSk7Y29uc3QgWGo9MWUzLEpqPTYsUWo9Myxaaj1NYXRoLm1heChKaixRaiw2MCk7ZnVuY3Rpb24gJGooZSx0LGkpe251bGwhPWkmJk51bWJlci5pc0Zpbml0ZShpKSYmKGVbdF09TWF0aC5yb3VuZChNYXRoLm1heCgwLGkpKSl9ZnVuY3Rpb24gZUcoZSl7Y29uc3QgdD17W1lqLkNPTk5fVFlQRV06MCxbWWouUlRUXTplLnJ0dCxbWWouU1RBVFNfVVBEQVRFX0lOVEVSVkFMXTplLnVwZGF0ZUludGVydmFsP01hdGgucm91bmQoTWF0aC5tYXgoMCxlLnVwZGF0ZUludGVydmFsKSk6dm9pZCAwfTtzd2l0Y2goZS5zZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGUuY2FuZGlkYXRlVHlwZSl7Y2FzZVwicmVsYXlcIjp7Y29uc3QgaT1lLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5sb2NhbENhbmRpZGF0ZS5yZWxheVByb3RvY29sO1widWRwXCI9PT1pJiYodFtZai5DT05OX1RZUEVdPTEpLFwidGNwXCI9PT1pJiYodFtZai5DT05OX1RZUEVdPTMpLFwidGxzXCI9PT1pJiYodFtZai5DT05OX1RZUEVdPTQpO2JyZWFrfWNhc2VcInNyZmx4XCI6dFtZai5DT05OX1RZUEVdPTI7YnJlYWs7Y2FzZVwidW5rbm93blwiOnRbWWouQ09OTl9UWVBFXT01O2JyZWFrO2RlZmF1bHQ6dFtZai5DT05OX1RZUEVdPTB9cmV0dXJuIHR9ZnVuY3Rpb24gdEcoZSl7bGV0IHQ9MDtzd2l0Y2goZSl7Y2FzZVwibm9uZVwiOnQ9MDticmVhaztjYXNlXCJjcHVcIjp0PTE7YnJlYWs7Y2FzZVwiYmFuZHdpZHRoXCI6dD0yO2JyZWFrO2Nhc2VcIm90aGVyXCI6dD0zfXJldHVybiB0fWNsYXNzIGlHIGV4dGVuZHMgTk97Y29uc3RydWN0b3IoZSl7c3VwZXIoKSxpQSh0aGlzLFwic3RvcmVcIix2b2lkIDApLGlBKHRoaXMsXCJ1cGxvYWRXUlRDU3RhdHNUaW1lclwiLHZvaWQgMCksaUEodGhpcyxcInVwbG9hZE91dGJvdW5kRGVub2lzZXJTdGF0c1RpbWVyXCIsdm9pZCAwKSxpQSh0aGlzLFwidXBsb2FkRXh0U3RhdHNUaW1lclwiLHZvaWQgMCksaUEodGhpcyxcInVwbG9hZEV4dFVzYWdlU3RhdHNUaW1lclwiLHZvaWQgMCksaUEodGhpcyxcInVwbG9hZEluYm91bmRFeHRTdGF0c1RpbWVyXCIsdm9pZCAwKSxpQSh0aGlzLFwicmVxdWVzdFN0YXRzXCIsdm9pZCAwKSxpQSh0aGlzLFwicmVxdWVzdFRyYW5zcG9ydFN0YXRzXCIsdm9pZCAwKSxpQSh0aGlzLFwicmVxdWVzdExvY2FsTWVkaWFcIix2b2lkIDApLGlBKHRoaXMsXCJyZXF1ZXN0UmVtb3RlTWVkaWFcIix2b2lkIDApLGlBKHRoaXMsXCJyZXF1ZXN0QWxsVHJhY2tzXCIsdm9pZCAwKSxpQSh0aGlzLFwicmVxdWVzdFZpZGVvSXNSZWFkeVwiLHZvaWQgMCksaUEodGhpcyxcInJlcXVlc3RVcGxvYWRTdGF0c1wiLHZvaWQgMCksaUEodGhpcyxcInJlcXVlc3RVcGxvYWRcIix2b2lkIDApLGlBKHRoaXMsXCJ1cGxvYWRPdXRib3VuZFN0YXJ0ZWRcIiwhMSksaUEodGhpcyxcInVwbG9hZEluYm91bmRTdGFydGVkXCIsITEpLGlBKHRoaXMsXCJ1cGxvYWRUcmFuc3BvcnRTdGFydGVkXCIsITEpLGlBKHRoaXMsXCJ1cGxvYWRCYXNlU3RhdHNTdGFydGVkXCIsITEpLGlBKHRoaXMsXCJ1cGxvYWRFeHRlbnNpb25Vc2FnZVN0YXJ0ZWRcIiwhMSksaUEodGhpcyxcImxhc3RSZWN2U3RhdHNcIix2b2lkIDApLGlBKHRoaXMsXCJsYXN0U2VuZFN0YXRzXCIsdm9pZCAwKSxpQSh0aGlzLFwibGFzdFJlZlJlY3ZTdGF0c1wiLHZvaWQgMCksaUEodGhpcyxcImxhc3RSZWZTZW5kU3RhdHNcIix2b2lkIDApLGlBKHRoaXMsXCJsYXN0Tm9ybWFsUmVjdlN0YXRzXCIsdm9pZCAwKSxpQSh0aGlzLFwibGFzdE5vcm1hbFNlbmRTdGF0c1wiLHZvaWQgMCksaUEodGhpcyxcImxhc3RFeHRlbmRTdGF0c1wiLHt9KSxpQSh0aGlzLFwibmVlZFVwbG9hZFN0YXRzXCIse30pLGlBKHRoaXMsXCJuZWVkVXBsb2FkUmVuZGVyRnJlZXplVGltZVwiLCEwKSxpQSh0aGlzLFwibGFzdFVwbG9hZENvbXBlbnNhdGVUaW1lXCIsLTEpLGlBKHRoaXMsXCJ1cGxvYWRDb21wZW5zYXRlRGVsdGFUaW1lXCIsMCksdGhpcy5zdG9yZT1lfXVwbG9hZFdSVENTdGF0cyhlKXtpZighdGhpcy5yZXF1ZXN0U3RhdHN8fCF0aGlzLnJlcXVlc3RVcGxvYWRTdGF0cylyZXR1cm47Y29uc3QgdD1lJVFqPT0wLGk9ZSVKaj09MCxuPWUlNjA9PTA7bGV0IHIsbztpZih0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWQmJihyPXRoaXMucmVxdWVzdFN0YXRzKCksdGhpcy5zdG9yZS51c2VQMlAmJihvPXRoaXMucmVxdWVzdFN0YXRzKCEwKSkpLCFyJiZ0aGlzLnVwbG9hZE91dGJvdW5kU3RhcnRlZCYmKHI9dGhpcy5yZXF1ZXN0U3RhdHMoKSksIW8mJnRoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWQmJihvPXRoaXMucmVxdWVzdFN0YXRzKCEwKSkscnx8byl7dmFyIHM7Y29uc3QgYT17fTtpZih0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWQmJnIpe2NvbnN0IGU9dGhpcy5nZXRUcmFuc3BvcnRTdGF0cyhyLHQ/dGhpcy5sYXN0UmVmU2VuZFN0YXRzOnZvaWQgMCxvLHQpO2UmJihhLm1pc2M9W2VdKX1pZih0aGlzLnVwbG9hZE91dGJvdW5kU3RhcnRlZCYmcil7Y29uc3QgZT10aGlzLmdldE91dGJvdW5kU3RhdHMocixpP3RoaXMubGFzdE5vcm1hbFNlbmRTdGF0czp2b2lkIDAsdD90aGlzLmxhc3RSZWZTZW5kU3RhdHM6dm9pZCAwLHRoaXMubGFzdFNlbmRTdGF0cyxuKTtlJiYoYS5vdXRib3VuZD1bZV0pfWlmKHRoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWQmJm8pe3RoaXMudXBsb2FkQ29tcGVuc2F0ZVN0YXRzKGUpO2NvbnN0IG49dGhpcy5nZXRJbmJvdW5kU3RhdHMobyxpP3RoaXMubGFzdE5vcm1hbFJlY3ZTdGF0czp2b2lkIDAsdD90aGlzLmxhc3RSZWZSZWN2U3RhdHM6dm9pZCAwLHRoaXMubGFzdFJlY3ZTdGF0cyk7biYmKGEuaW5ib3VuZD1uKX1jb25zdCBjPW51bGw9PT0ocz10aGlzLnJlcXVlc3RUcmFuc3BvcnRTdGF0cyl8fHZvaWQgMD09PXM/dm9pZCAwOnMuY2FsbCh0aGlzKS5jb25uZWN0U3RhdGU7aWYoYyYmKEFycmF5LmlzQXJyYXkoYS5taXNjKT9hLm1pc2NbMF0mJmEubWlzY1swXS5hZGRpdGlvbiYmKGEubWlzY1swXS5hZGRpdGlvblt6ai5SVENfUEVFUl9DT05ORUNUSU9OX1NUQVRFXT1uRFtjXSk6YS5taXNjPVt7YWRkaXRpb246e1t6ai5SVENfUEVFUl9DT05ORUNUSU9OX1NUQVRFXTpuRFtjXX19XSksZVUubmVlZFVwbG9hZFN0YXRzLmxlbmd0aD4wfHxpKXtjb25zdCBlPWVVLm5lZWRVcGxvYWRTdGF0cy5zaGlmdCgpfHwoXCJ2aXNpYmxlXCI9PT1lVS52aXNpYmlsaXR5PzE6MCk7QXJyYXkuaXNBcnJheShhLm1pc2MpP2EubWlzY1swXSYmYS5taXNjWzBdLmFkZGl0aW9uJiYoYS5taXNjWzBdLmFkZGl0aW9uW3pqLlBBR0VfVklTSUJJTElUWV09ZSk6YS5taXNjPVt7YWRkaXRpb246e1t6ai5QQUdFX1ZJU0lCSUxJVFldOmV9fV19dGhpcy5uZWVkVXBsb2FkU3RhdHMuc2VuZFR5cGUmJihBcnJheS5pc0FycmF5KGEub3V0Ym91bmQpJiZhLm91dGJvdW5kWzBdJiZhLm91dGJvdW5kWzBdLmhpZ2gmJihhLm91dGJvdW5kWzBdLmhpZ2hbR2ouVmlkZW9fU2VuZF9UeXBlXT10aGlzLm5lZWRVcGxvYWRTdGF0cy5zZW5kVHlwZSksdGhpcy5uZWVkVXBsb2FkU3RhdHMuc2VuZFR5cGU9dm9pZCAwKSx0aGlzLnJlcXVlc3RVcGxvYWRTdGF0cyhhKX10aGlzLmxhc3RSZWN2U3RhdHM9byx0aGlzLmxhc3RTZW5kU3RhdHM9cixpJiYodGhpcy5sYXN0Tm9ybWFsUmVjdlN0YXRzPW8sdGhpcy5sYXN0Tm9ybWFsU2VuZFN0YXRzPXIpLHQmJih0aGlzLmxhc3RSZWZSZWN2U3RhdHM9byx0aGlzLmxhc3RSZWZTZW5kU3RhdHM9cil9c3RhcnRVcGxvYWRXUlRDU3RhdHMoKXtpZih0aGlzLnVwbG9hZFdSVENTdGF0c1RpbWVyKXJldHVybjt0aGlzLnVwbG9hZEJhc2VTdGF0c1N0YXJ0ZWQ9ITAsZVUuc3RhcnRDb2xsZWN0U3RhdHMoKTtsZXQgZT0xO3RoaXMudXBsb2FkV1JUQ1N0YXRzVGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e2lmKCF0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWQmJiF0aGlzLnVwbG9hZEluYm91bmRTdGFydGVkJiYhdGhpcy51cGxvYWRPdXRib3VuZFN0YXJ0ZWQpe2lmKHRoaXMudXBsb2FkQmFzZVN0YXRzU3RhcnRlZCl7dmFyIHQsaTtjb25zdCBlPW51bGw9PT0odD10aGlzLnJlcXVlc3RUcmFuc3BvcnRTdGF0cyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzKTtyZXR1cm4gdm9pZChlJiYobnVsbD09PShpPXRoaXMucmVxdWVzdFVwbG9hZFN0YXRzKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMse21pc2M6W3thZGRpdGlvbjp7W3pqLlJUQ19QRUVSX0NPTk5FQ1RJT05fU1RBVEVdOm5EW2UuY29ubmVjdFN0YXRlXX19XX0pKSl9cmV0dXJuIHRoaXMuc3RvcFVwbG9hZFdSVENTdGF0cygpfXRoaXMudXBsb2FkV1JUQ1N0YXRzKGUpLCsrZT09PVpqKzEmJihlPTEpfSksWGopfXVwbG9hZENvbXBlbnNhdGVTdGF0cyhlKXtpZighdGhpcy5yZXF1ZXN0U3RhdHN8fCF0aGlzLnJlcXVlc3RVcGxvYWRTdGF0c3x8IXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKXJldHVybjtjb25zdCB0PWUlUWo9PTAmJnRoaXMubmVlZFVwbG9hZFJlbmRlckZyZWV6ZVRpbWU7aWYoIXRoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWR8fCF0KXJldHVybjtpZigtMT09PXRoaXMubGFzdFVwbG9hZENvbXBlbnNhdGVUaW1lKXJldHVybiB2b2lkKHRoaXMubGFzdFVwbG9hZENvbXBlbnNhdGVUaW1lPURhdGUubm93KCkpO2NvbnN0IGk9TWF0aC5tYXgoLTZlMyxEYXRlLm5vdygpLXRoaXMubGFzdFVwbG9hZENvbXBlbnNhdGVUaW1lLTZlMyk7aWYodGhpcy51cGxvYWRDb21wZW5zYXRlRGVsdGFUaW1lKz1pLHRoaXMubGFzdFVwbG9hZENvbXBlbnNhdGVUaW1lPURhdGUubm93KCksdGhpcy51cGxvYWRDb21wZW5zYXRlRGVsdGFUaW1lPDZlMylyZXR1cm47Y29uc3Qgbj1NYXRoLm1pbihNYXRoLmZsb29yKHRoaXMudXBsb2FkQ29tcGVuc2F0ZURlbHRhVGltZS82ZTMpLDEwKTt0aGlzLnVwbG9hZENvbXBlbnNhdGVEZWx0YVRpbWUtPTZlMypuO2NvbnN0IHI9dGhpcy5yZXF1ZXN0U3RhdHMoITApO25ldyBBcnJheShuKS5maWxsKDApLmZvckVhY2goKCgpPT57aWYoIXRoaXMucmVxdWVzdFN0YXRzfHwhdGhpcy5yZXF1ZXN0VXBsb2FkU3RhdHN8fCF0aGlzLnJlcXVlc3RSZW1vdGVNZWRpYSlyZXR1cm47Y29uc3QgZT17fTtpZih0aGlzLnVwbG9hZEluYm91bmRTdGFydGVkJiZyKXtjb25zdCB0PXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKCl8fFtdLGk9W107dC5mb3JFYWNoKChlPT57bGV0W3Qsbl09ZTtjb25zdCBvPXtwZWVyOnQudWlkfTtpZigodC5fdmlkZW9TU1JDJiZ0aGlzLnJlcXVlc3RWaWRlb0lzUmVhZHkmJnRoaXMucmVxdWVzdFZpZGVvSXNSZWFkeSh0Ll92aWRlb1NTUkMpfHwhMSkmJm4uaGFzKGZ4LlZJREVPKSYmdC52aWRlb1RyYWNrKXtjb25zdCBlPWZ1bmN0aW9uKGUsdCxpKXtpZighdC52aWRlb1JlY3YuZmluZCgodD0+dC5zc3JjPT09ZSkpKXJldHVybjtjb25zdCBuPXt9O2lmKGkmJmkuX3BsYXllcil7Y29uc3QgZT1pLl9wbGF5ZXIse3JlbmRlckZyZWV6ZUFjY1RpbWUyOnQsdmlkZW9FbGVtZW50U3RhdHVzOnJ9PWU7aWYoXCJ2aXNpYmxlXCI9PT1lVS52aXNpYmlsaXR5JiZyPT09dEwuUExBWUlORyYmcFAoKS5zdXBwb3J0UmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayl7Y29uc3QgaT1NYXRoLm1pbig2ZTMsdCk7ZS5yZW5kZXJGcmVlemVBY2NUaW1lMj1NYXRoLm1heCgwLHQtaSksJGoobixXai5WaWRlb19SZW5kZXJfRnJlZXplX1RpbWVfUmVuZGVyMixpKSxDRChcIlVTRV9ORVdfUkVOREVSX0ZSRUVaRV9USU1FXCIpJiYkaihuLFdqLlZpZGVvX1JlbmRlcl9GcmVlemVfVGltZV9SZW5kZXIsaSl9fXJldHVybiBufSh0Ll92aWRlb1NTUkMscix0LnZpZGVvVHJhY2spO2UmJihvLnZpZGVvPWUpfW8udmlkZW8mJmkucHVzaChvKX0pKSxpLmxlbmd0aD4wJiYoZS5pbmJvdW5kPWksdGhpcy5yZXF1ZXN0VXBsb2FkU3RhdHMoZSkpfX0pKX1zdG9wVXBsb2FkV1JUQ1N0YXRzKCl7d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRXUlRDU3RhdHNUaW1lciksdGhpcy51cGxvYWRXUlRDU3RhdHNUaW1lcj12b2lkIDAsdGhpcy5sYXN0U2VuZFN0YXRzJiYodGhpcy5sYXN0U2VuZFN0YXRzLnZpZGVvU2VuZD1bXSx0aGlzLmxhc3RTZW5kU3RhdHMuYXVkaW9TZW5kPVtdLHRoaXMubGFzdFNlbmRTdGF0cz12b2lkIDApLHRoaXMubGFzdFJlY3ZTdGF0cyYmKHRoaXMubGFzdFJlY3ZTdGF0cy52aWRlb1JlY3Y9W10sdGhpcy5sYXN0UmVjdlN0YXRzLmF1ZGlvUmVjdj1bXSx0aGlzLmxhc3RSZWN2U3RhdHM9dm9pZCAwKSx0aGlzLmxhc3RSZWZTZW5kU3RhdHMmJih0aGlzLmxhc3RSZWZTZW5kU3RhdHMudmlkZW9TZW5kPVtdLHRoaXMubGFzdFJlZlNlbmRTdGF0cy5hdWRpb1NlbmQ9W10sdGhpcy5sYXN0UmVmU2VuZFN0YXRzPXZvaWQgMCksdGhpcy5sYXN0UmVmUmVjdlN0YXRzJiYodGhpcy5sYXN0UmVmUmVjdlN0YXRzLnZpZGVvUmVjdj1bXSx0aGlzLmxhc3RSZWZSZWN2U3RhdHMuYXVkaW9SZWN2PVtdLHRoaXMubGFzdFJlZlJlY3ZTdGF0cz12b2lkIDApLHRoaXMubGFzdE5vcm1hbFNlbmRTdGF0cyYmKHRoaXMubGFzdE5vcm1hbFNlbmRTdGF0cy52aWRlb1NlbmQ9W10sdGhpcy5sYXN0Tm9ybWFsU2VuZFN0YXRzLmF1ZGlvU2VuZD1bXSx0aGlzLmxhc3ROb3JtYWxTZW5kU3RhdHM9dm9pZCAwKSx0aGlzLmxhc3ROb3JtYWxSZWN2U3RhdHMmJih0aGlzLmxhc3ROb3JtYWxSZWN2U3RhdHMudmlkZW9SZWN2PVtdLHRoaXMubGFzdE5vcm1hbFJlY3ZTdGF0cy5hdWRpb1JlY3Y9W10sdGhpcy5sYXN0Tm9ybWFsUmVjdlN0YXRzPXZvaWQgMCksdGhpcy5sYXN0RXh0ZW5kU3RhdHM9e30sdGhpcy5uZWVkVXBsb2FkU3RhdHM9e30sdGhpcy5sYXN0VXBsb2FkQ29tcGVuc2F0ZVRpbWU9LTEsdGhpcy51cGxvYWRDb21wZW5zYXRlRGVsdGFUaW1lPTAsdGhpcy5uZWVkVXBsb2FkUmVuZGVyRnJlZXplVGltZT0hMH1nZXRUcmFuc3BvcnRTdGF0cyhlLHQsaSxuKXtpZighdGhpcy5yZXF1ZXN0U3RhdHMpcmV0dXJuO2lmKCFuKXJldHVybiBudWxsPT1lLnJ0dD92b2lkIDA6e2FkZGl0aW9uOntbWWouUlRUXTplLnJ0dCxbWWouQ09OTl9UWVBFXTp2b2lkIDAsW1lqLlNUQVRTX1VQREFURV9JTlRFUlZBTF06ZS51cGRhdGVJbnRlcnZhbHx8dm9pZCAwfX07Y29uc3Qgcj1lRyhlKTtpZih0aGlzLnN0b3JlLnVzZVAyUCl7aWYoaSl7Y29uc3QgZT1lRyhpKTtyW1lqLkNPTk5fVFlQRV0mJmVbWWouQ09OTl9UWVBFXSYmKHJbWWouQ09OTl9UWVBFXSs9ZVtZai5DT05OX1RZUEVdPDwzKX1yW1lqLkNPTk5fVFlQRV0/cltZai5DT05OX1RZUEVdKz0xMTA6cltZai5DT05OX1RZUEVdPTExMH1lbHNle3JbWWouQ09OTl9UWVBFXT9yW1lqLkNPTk5fVFlQRV0rPTEwMDpyW1lqLkNPTk5fVFlQRV09MTAwO2NvbnN0IGk9ZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybltNYXRoLmNlaWwoOCooZS50cmFuc3BvcnQuYnl0ZXNTZW50LXQudHJhbnNwb3J0LmJ5dGVzU2VudCkvKGUudGltZXN0YW1wLXQudGltZXN0YW1wKSksTWF0aC5jZWlsKDgqKGUudHJhbnNwb3J0LmJ5dGVzUmVjZWl2ZWQtdC50cmFuc3BvcnQuYnl0ZXNSZWNlaXZlZCkvKGUudGltZXN0YW1wLXQudGltZXN0YW1wKSldO3JldHVyblswLDBdfShlLHQpO3JbcWouVHJhbnNwb3J0X1NlbmRfQml0cmF0ZV09aVswXSxyW3FqLlRyYW5zcG9ydF9SZWN2X0JpdHJhdGVdPWlbMV19cmV0dXJue2FkZGl0aW9uOnJ9fWdldE91dGJvdW5kU3RhdHMoZSx0LGksbixyKXtpZighdGhpcy5yZXF1ZXN0VXBsb2FkU3RhdHN8fCF0aGlzLnJlcXVlc3RMb2NhbE1lZGlhKXJldHVybjtjb25zdCBvPXRoaXMucmVxdWVzdExvY2FsTWVkaWEoKTtpZighb3x8MD09PW8ubGVuZ3RoKXJldHVybjtsZXQgcyxhLGM7cmV0dXJuIG8uZm9yRWFjaCgobj0+e2xldFtvLHt0cmFjazpkLHNzcmNzOmx9XT1uO3N3aXRjaChvKXtjYXNlIFJ4LkxvY2FsVmlkZW9Mb3dUcmFjazpjYXNlIFJ4LkxvY2FsVmlkZW9UcmFjazppZihvPT09UnguTG9jYWxWaWRlb1RyYWNrKXt2YXIgdTtjb25zdCBuPWZ1bmN0aW9uKGUsdCxpLG4scixvKXtjb25zdCBzPXQudmlkZW9TZW5kLmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZighcylyZXR1cm47Y29uc3QgYT17fSx7c2VudEZyYW1lOmMsaW5wdXRGcmFtZTpkfT1zO2lmKG4mJigkaihhLFdqLlZpZGVvX1NlbmRfUXBfU3VtLHMucXBTdW1QZXJGcmFtZSksZCYmYykpe2NvbnN0IGU9ZC5mcmFtZVJhdGUsdD1jLmZyYW1lUmF0ZTthW1dqLlZpZGVvX1NlbmRfRnJlZXplXT1mdW5jdGlvbihlLHQpe2xldCBpPSEwO3JldHVybiBpPSEoZTw9NSkmJihlPD0xMD90PDM6ZTw9MjA/dDw0OnQ8NSksaX0oZSx0KT8xOjB9aWYocil7c3dpdGNoKGMmJigkaihhLEhqLlZpZGVvX1NlbmRfSGVpZ2h0LGMuaGVpZ2h0KSwkaihhLEhqLlZpZGVvX1NlbmRfV2lkdGgsYy53aWR0aCksJGooYSxIai5WaWRlb19TZW5kX0ZyYW1lX1JhdGUsYy5mcmFtZVJhdGUpKSxhW0hqLlZpZGVvX1NlbmRfRGlzYWJsZWRdPWkuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJiFpLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWR8fGkuX21lZGlhU3RyZWFtVHJhY2smJiFpLl9tZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ/MTowLHMuYWRhcHRpb25DaGFuZ2VSZWFzb24pe2Nhc2VcIm5vbmVcIjphW0hqLlZpZGVvX1NlbmRfQWRhcHRhdGlvbl09MDticmVhaztjYXNlXCJjcHVcIjphW0hqLlZpZGVvX1NlbmRfQWRhcHRhdGlvbl09MTticmVhaztjYXNlXCJiYW5kd2lkdGhcIjphW0hqLlZpZGVvX1NlbmRfQWRhcHRhdGlvbl09MjticmVhaztjYXNlXCJvdGhlclwiOmFbSGouVmlkZW9fU2VuZF9BZGFwdGF0aW9uXT0zfWxldCBuPTA7cy5hZGFwdGlvbkNoYW5nZVJlYXNvbiYmKG4rPXRHKHMuYWRhcHRpb25DaGFuZ2VSZWFzb24pKSx0LnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uJiYobis9dEcodC5xdWFsaXR5TGltaXRhdGlvblJlYXNvbik8PDMpLGFbSGouVmlkZW9fU2VuZF9BZGFwdGF0aW9uXT1uLGFbSGouVmlkZW9fU2VuZF9QbGF5ZXJfU3RhdHVzXT1uTFtpLl9wbGF5ZXI/aS5fcGxheWVyLnZpZGVvRWxlbWVudFN0YXR1czpcInVuaW5pdFwiXSwkaihhLEhqLlZpZGVvX1NlbmRfTmFja3Mscy5uYWNrc0NvdW50KSwkaihhLEhqLlZpZGVvX1NlbmRfUGxpcyxzLnBsaXNDb3VudCksJGooYSxIai5WaWRlb19TZW5kX0ZpcnMscy5maXJzQ291bnQpLCRqKGEsSGouVmlkZW9fU2VuZF9BdmdfRW5jb2RlLHMuYXZnRW5jb2RlTXMpLCRqKGEsSGouVmlkZW9fU2VuZF9IdWdlX0ZyYW1lX1NlbnQscy5odWdlRnJhbWVzU2VudCksJGooYSxIai5WaWRlb19TZW5kX0J5dGVzX1JldHJhbnNtaXQscy5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50KSwkaihhLEhqLlZpZGVvX1NlbmRfUGFja2FnZXNfUmV0cmFuc21pdCxzLnJldHJhbnNtaXR0ZWRQYWNrZXRzU2VudCksJGooYSxIai5WaWRlb19TZW5kX0tleV9GcmFtZXNfRW5jb2RlZCxzLmtleUZyYW1lc0VuY29kZWQpO2NvbnN0IG89ci52aWRlb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKG8pe2xldCBlPVhqKlFqO28udGltZXN0YW1wJiZzLnRpbWVzdGFtcCYmKGU9cy50aW1lc3RhbXAtby50aW1lc3RhbXApLG51bGwhPW8ucGFja2V0cyYmbnVsbCE9cy5wYWNrZXRzJiYkaihhLEhqLlZpZGVvX1NlbmRfUGFja2FnZV9SYXRlLDFlMyoocy5wYWNrZXRzLW8ucGFja2V0cykvZSksbnVsbCE9cy5wYWNrZXRzTG9zdCYmbnVsbCE9by5wYWNrZXRzTG9zdCYmJGooYSxIai5WaWRlb19TZW5kX1BhY2thZ2VfTG9zdCxzLnBhY2tldHNMb3N0LW8ucGFja2V0c0xvc3QpLG51bGwhPW8uYnl0ZXMmJm51bGwhPXMuYnl0ZXMmJiRqKGEsSGouVmlkZW9fU2VuZF9CaXRyYXRlLDgqKHMuYnl0ZXMtby5ieXRlcykvZSl9fXJldHVybiBhfShsWzBdLnNzcmNJZCxlLGQsdCxpKSxvPVwiQ2FtZXJhVmlkZW9UcmFja1wiPT09ZC5fX2NsYXNzTmFtZV9fPzM6TG4odT1kLl9oaW50cykuY2FsbCh1LFZQLlNDUkVFTl9UUkFDSyk/NzoxMDsodGhpcy5sYXN0RXh0ZW5kU3RhdHMuc2VuZFR5cGUhPT1vfHxyKSYmKHRoaXMubmVlZFVwbG9hZFN0YXRzPXtzZW5kVHlwZTpvfSx0aGlzLmxhc3RFeHRlbmRTdGF0cy5zZW5kVHlwZT1vKTtjb25zdCBzPWQmJmZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0IHI9dC52aWRlb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKCFyKXJldHVybiBudWxsO2NvbnN0IG89e307aWYobil7Y29uc3QgZT1yLmlucHV0RnJhbWUsdD1lJiZlLmhlaWdodHx8aS52aWRlb0hlaWdodHx8MCxuPWUmJmUud2lkdGh8fGkudmlkZW9XaWR0aHx8MCxzPWUmJmUuZnJhbWVSYXRlfHwwOyRqKG8sSGouVmlkZW9fQ2FwdHVyZV9IZWlnaHQsdCksJGoobyxIai5WaWRlb19DYXB0dXJlX1dpZHRoLG4pLCRqKG8sSGouVmlkZW9fQ2FwdHVyZV9GcmFtZV9SYXRlLHMpfXJldHVybiBvfShsWzBdLnNzcmNJZCxlLGQsISFpKSxjPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT17fTtyZXR1cm4gdCYmKCRqKGksSGouVmlkZW9fU2VuZF9SZXRyYW5zbWl0LGUuYml0cmF0ZS5yZXRyYW5zbWl0KSwkaihpLEhqLlZpZGVvX1NlbmRfVGFyZ2V0X0VuY29kZWQsZS5iaXRyYXRlLnRhcmdldEVuY29kZWQpLCRqKGksSGouVmlkZW9fU2VuZF9BY3R1YWxfRW5jb2RlZCxlLmJpdHJhdGUuYWN0dWFsRW5jb2RlZCksJGooaSxIai5WaWRlb19TZW5kX1RyYW5zbWl0LGUuYml0cmF0ZS50cmFuc21pdCksJGooaSxIai5WaWRlb19TZW5kX0JhbmR3aWR0aCxlLnNlbmRCYW5kd2lkdGgpKSxpfShlLCEhaSk7YT1PYmplY3QuYXNzaWduKHt9LG4scyxjKX1lbHNlIGM9ZnVuY3Rpb24oZSx0LGksbixyKXtjb25zdCBvPXQudmlkZW9TZW5kLmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZighbylyZXR1cm47Y29uc3Qgcz17fTtpZihuKXtjb25zdCB0PW8uc2VudEZyYW1lO3QmJigkaihzLEhqLlZpZGVvX1NlbmRfTG93X0hlaWdodCx0LmhlaWdodCksJGoocyxIai5WaWRlb19TZW5kX0xvd19XaWR0aCx0LndpZHRoKSwkaihzLEhqLlZpZGVvX1NlbmRfTG93X0ZyYW1lX1JhdGUsdC5mcmFtZVJhdGUpKTtjb25zdCBpPW4udmlkZW9TZW5kLmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZihpKXtsZXQgZT1YaipKajtpLnRpbWVzdGFtcCYmby50aW1lc3RhbXAmJihlPW8udGltZXN0YW1wLWkudGltZXN0YW1wKSxudWxsIT1pLnBhY2tldHMmJm51bGwhPW8ucGFja2V0cyYmJGoocyxIai5WaWRlb19TZW5kX0xvd19QYWNrYWdlX1JhdGUsMWUzKihvLnBhY2tldHMtaS5wYWNrZXRzKS9lKSxudWxsIT1vLnBhY2tldHNMb3N0JiZudWxsIT1pLnBhY2tldHNMb3N0JiYkaihzLEhqLlZpZGVvX1NlbmRfTG93X1BhY2thZ2VfTG9zdCxvLnBhY2tldHNMb3N0LWkucGFja2V0c0xvc3QpLG51bGwhPWkuYnl0ZXMmJm51bGwhPW8uYnl0ZXMmJiRqKHMsSGouVmlkZW9fU2VuZF9Mb3dfQml0cmF0ZSw4KihvLmJ5dGVzLWkuYnl0ZXMpL2UpfX1yZXR1cm4gc30obFswXS5zc3JjSWQsZSwwLGkpO2JyZWFrO2Nhc2UgUnguTG9jYWxBdWRpb1RyYWNrOnM9ZCYmZnVuY3Rpb24oZSx0LGksbixyLG8pe2NvbnN0IHM9dC5hdWRpb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKCFzKXJldHVybjtjb25zdCBhPXt9O2lmKHIpe2FbSGouQXVkaW9fU2VuZF9EaXNhYmxlZF09aS5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmIWkuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZHx8aS5fbWVkaWFTdHJlYW1UcmFjayYmIWkuX21lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD8xOjA7Y29uc3QgdD0xMDAqaS5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSxuPXMuaW5wdXRMZXZlbDtpZihudWxsIT1uKXtjb25zdCBlPU1hdGguY2VpbCg1MCpNYXRoLmxvZzEwKDEwMCpuKzEpKTskaihhLEhqLkF1ZGlvX1NlbmRfTGV2ZWwsZSl9JGooYSxIai5BdWRpb19DYXB0dXJlX1BDTV9MZXZlbCx0KSwkaihhLEhqLkF1ZGlvX1NlbmRfQUVDX1JldHVybl9Mb3NzLHMuYWVjUmV0dXJuTG9zcyksJGooYSxIai5BdWRpb19TZW5kX0FFQ19SZXR1cm5fTG9zc19FbmhhbmNlbWVudCxzLmFlY1JldHVybkxvc3NFbmhhbmNlbWVudCksJGooYSxIai5BdWRpb19TZW5kX0J5dGVzX1JldHJhbnNtaXQscy5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50KSwkaihhLEhqLkF1ZGlvX1NlbmRfUGFja2FnZXNfUmV0cmFuc21pdCxzLnJldHJhbnNtaXR0ZWRQYWNrZXRzU2VudCksYVtIai5BdWRpb19TZW5kX0ZyZWV6ZV09MDtjb25zdCBvPXIuYXVkaW9TZW5kLmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZihvKXtsZXQgZT1YaipKajtvLnRpbWVzdGFtcCYmcy50aW1lc3RhbXAmJihlPXMudGltZXN0YW1wLW8udGltZXN0YW1wKSxudWxsIT1vLmJ5dGVzJiZudWxsIT1zLmJ5dGVzJiYkaihhLEhqLkF1ZGlvX1NlbmRfQml0cmF0ZSw4KihzLmJ5dGVzLW8uYnl0ZXMpL2UpLG51bGwhPW8ucGFja2V0cyYmbnVsbCE9cy5wYWNrZXRzJiYkaihhLEhqLkF1ZGlvX1NlbmRfUGFja2FnZV9SYXRlLDFlMyoocy5wYWNrZXRzLW8ucGFja2V0cykvZSl9fXJldHVybiBhfShsWzBdLnNzcmNJZCxlLGQsMCxpKX19KSkse2hpZ2g6YSxsb3c6YyxhdWRpbzpzfX1nZXRJbmJvdW5kU3RhdHMoZSx0LGksbil7aWYoIXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKXJldHVybjtjb25zdCByPXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKCl8fFtdLG89W107cmV0dXJuIHIuZm9yRWFjaCgocj0+e2xldFtzLGFdPXI7Y29uc3QgYz17cGVlcjpzLnVpZH07bGV0IGQ7aWYoYS5oYXMoZnguVklERU8pJiZzLnZpZGVvVHJhY2spe2NvbnN0IHI9cy5fdmlkZW9TU1JDJiZ0aGlzLnJlcXVlc3RWaWRlb0lzUmVhZHkmJnRoaXMucmVxdWVzdFZpZGVvSXNSZWFkeShzLl92aWRlb1NTUkMpfHwhMSxvPXMudmlkZW9UcmFjaz9mdW5jdGlvbihlLHQsaSxuLHIsbyxzLGEpe2NvbnN0IGM9dC52aWRlb1JlY3YuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKCFjKXJldHVybjtjb25zdCBkPXt9LHtyZWNlaXZlZEZyYW1lOmwsb3V0cHV0RnJhbWU6dSxkZWNvZGVGcmFtZVJhdGU6aH09YzskaihkLEtqLlZpZGVvX1JlbmRlcl9GcmFtZV9SYXRlX0RlY29kZSxoKSxjLmZyYW1lc1JhdGVGaXJlZm94JiYkaihkLEtqLlZpZGVvX1JlY3ZfRnJhbWVfUmF0ZSxjLmZyYW1lc1JhdGVGaXJlZm94KSxsJiYkaihkLEtqLlZpZGVvX1JlY3ZfRnJhbWVfUmF0ZSxsLmZyYW1lUmF0ZSksJGooZCxLai5WaWRlb19SZWN2X0ZyYW1lX0Ryb3BwZWQsYy5mcmFtZXNEcm9wcGVkQ291bnQpLCRqKGQsS2ouVmlkZW9fUmVjdl9CeXRlc19SZXRyYW5zbWl0LGMucmV0cmFuc21pdHRlZEJ5dGVzUmVjZWl2ZWQpLCRqKGQsS2ouVmlkZW9fUmVjdl9QYWNrYWdlc19SZXRyYW5zbWl0LGMucmV0cmFuc21pdHRlZFBhY2tldHNSZWNlaXZlZCksJGooZCxLai5WaWRlb19SZWN2X1BhY2thZ2VzX0Rpc2NhcmRlZCxjLnBhY2tldHNEaXNjYXJkZWQpLCRqKGQsS2ouVmlkZW9fUmVjdl9BdmdfRGVjb2RlLGMuYXZnRGVjb2RlTXMpLCRqKGQsS2ouVmlkZW9fUmVjdl9BdmdfUHJvY2Vzc2luZ19EZWxheSxjLmF2Z1Byb2Nlc3NpbmdEZWxheU1zKSwkaihkLEtqLlZpZGVvX1JlY3ZfQXZnX0Fzc2VtYmx5X1RpbWUsYy5hdmdGcmFtZXNBc3NlbWJsZWRGcm9tTXVsdGlwbGVQYWNrZXRzTXMpLCRqKGQsS2ouVmlkZW9fUmVjdl9BdmdfSW50ZXJfRnJhbWVfRGVsYXksYy5hdmdJbnRlckZyYW1lRGVsYXlNcyksJGooZCxLai5WaWRlb19SZWN2X0tleV9GcmFtZXNfRGVjb2RlZCxjLmtleUZyYW1lc0RlY29kZWQpO2NvbnN0IHA9YSYmYS52aWRlb1JlY3YuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKHApe2NvbnN0IGU9dC50aW1lc3RhbXAtYS50aW1lc3RhbXB8fFhqO251bGwhPWMucGFja2V0c0xvc3QmJm51bGwhPXAucGFja2V0c0xvc3QmJiRqKGQsS2ouVmlkZW9fUmVjdl9QYWNrYWdlX0xvc3QsYy5wYWNrZXRzTG9zdC1wLnBhY2tldHNMb3N0KSxudWxsIT1wLmJ5dGVzJiZudWxsIT1jLmJ5dGVzJiYkaihkLEtqLlZpZGVvX1JlY3ZfQml0cmF0ZSw4KihjLmJ5dGVzLXAuYnl0ZXMpL2UpLG51bGwhPXAucGFja2V0cyYmbnVsbCE9Yy5wYWNrZXRzJiYkaihkLEtqLlZpZGVvX1JlY3ZfUGFja2FnZV9SYXRlLDFlMyooYy5wYWNrZXRzLXAucGFja2V0cykvZSl9Y29uc3QgXz1vJiZvLnZpZGVvUmVjdi5maW5kKCh0PT50LnNzcmM9PT1lKSk7aWYoXyYmKCRqKGQsV2ouVmlkZW9fUmVjdl9RcF9TdW0sYy5xcFN1bVBlckZyYW1lKSxkW1dqLlZpZGVvX1JlY3ZfRnJlZXplXT1uJiZyai5pc1JlbW90ZVZpZGVvRnJlZXplKGksYyxfKT8xOjApLHMpe3ZhciBFO2NvbnN0IHQ9cy52aWRlb1JlY3YuZmluZCgodD0+dC5zc3JjPT09ZSkpO2w/KCRqKGQsSGouVmlkZW9fUmVjdl9IZWlnaHQsbC5oZWlnaHQpLCRqKGQsSGouVmlkZW9fUmVjdl9XaWR0aCxsLndpZHRoKSk6aSYmKCRqKGQsSGouVmlkZW9fUmVjdl9IZWlnaHQsaS5fdmlkZW9IZWlnaHR8fDApLCRqKGQsSGouVmlkZW9fUmVjdl9XaWR0aCxpLl92aWRlb1dpZHRofHwwKSksdSYmJGooZCxIai5WaWRlb19SZWN2X0ZyYW1lX1JhdGVfT3V0cHV0LHUuZnJhbWVSYXRlKTtjb25zdCBuPW51bGw9PT0oRT1pLl9wbGF5ZXIpfHx2b2lkIDA9PT1FP3ZvaWQgMDpFLnJlbmRGcmFtZVJhdGUudG9GaXhlZCgwKTtpZihuJiYkaihkLEhqLlZpZGVvX1JlbmRlcl9GcmFtZV9SYXRlX1JlbmRlciwrbiksJGooZCxIai5WaWRlb19SZWN2X0ppdHRlcl9CdWZmZXIsYy5qaXR0ZXJCdWZmZXJNcyksJGooZCxIai5WaWRlb19SZWN2X0N1cnJlbnRfRGVsYXksYy5jdXJyZW50RGVsYXlNcyksJGooZCxIai5WaWRlb19SZWN2X0ZpcnMsYy5maXJzQ291bnQpLCRqKGQsSGouVmlkZW9fUmVjdl9OYWNrcyxjLm5hY2tzQ291bnQpLCRqKGQsSGouVmlkZW9fUmVjdl9QbGlzLGMucGxpc0NvdW50KSxpKXtkW0hqLlZpZGVvX1JlY3ZfRGlzYWJsZWRdPWkuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZCYmaS5fbWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPzA6MTtjb25zdCBlPWkuX3BsYXllcjtpZihlKXtjb25zdHtmcmVlemVUaW1lQ291bnRlckxpc3Q6aSxyZW5kZXJGcmVlemVBY2NUaW1lOm4scmVuZGVyRnJlZXplQWNjVGltZTI6byx2aWRlb0VsZW1lbnRTdGF0dXM6c309ZTtpZihpJiZpLmxlbmd0aD4wJiYkaihkLFdqLlZpZGVvX1JlbmRlcl9GcmVlemVfVGltZSxpLnNwbGljZSgwLDEpWzBdKSxyJiZcInZpc2libGVcIj09PWVVLnZpc2liaWxpdHkmJnM9PT10TC5QTEFZSU5HJiZwUCgpLnN1cHBvcnRSZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKXtjb25zdCB0PU1hdGgubWluKDZlMyxvKTtlLnJlbmRlckZyZWV6ZUFjY1RpbWUyPU1hdGgubWF4KDAsby10KSwkaihkLFdqLlZpZGVvX1JlbmRlcl9GcmVlemVfVGltZV9SZW5kZXIyLHQpO2NvbnN0IGk9TWF0aC5taW4oNmUzLG4pO2UucmVuZGVyRnJlZXplQWNjVGltZT1NYXRoLm1heCgwLG4taSksJGooZCxXai5WaWRlb19SZW5kZXJfRnJlZXplX1RpbWVfUmVuZGVyLENEKFwiVVNFX05FV19SRU5ERVJfRlJFRVpFX1RJTUVcIik/dDppKX1pZihcIm51bWJlclwiPT10eXBlb2YgYy50b3RhbEZyZWV6ZXNEdXJhdGlvbil7Y29uc3QgZT10JiZ0LnRvdGFsRnJlZXplc0R1cmF0aW9uP2MudG90YWxGcmVlemVzRHVyYXRpb24tdC50b3RhbEZyZWV6ZXNEdXJhdGlvbjpjLnRvdGFsRnJlZXplc0R1cmF0aW9uOyRqKGQsSGouVmlkZW9fUmVuZGVyX0ZyZWV6ZV9EdXJhdGlvbiwxZTMqZSl9fX1pZihkW0hqLlZpZGVvX1JlY3ZfUGxheWVyX1N0YXR1c109bkxbaS5fcGxheWVyP2kuX3BsYXllci52aWRlb0VsZW1lbnRTdGF0dXM6XCJ1bmluaXRcIl0sdCYmdm9pZCAwIT09Yy50b3RhbEludGVyRnJhbWVEZWxheSYmdm9pZCAwIT09Yy50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXkmJnZvaWQgMCE9PXQudG90YWxJbnRlckZyYW1lRGVsYXkmJnZvaWQgMCE9PXQudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5KXtjb25zdCBlPWMudG90YWxJbnRlckZyYW1lRGVsYXktdC50b3RhbEludGVyRnJhbWVEZWxheSxpPWMudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5LXQudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5LG49Yy5mcmFtZXNEZWNvZGVDb3VudC10LmZyYW1lc0RlY29kZUNvdW50LHI9ZS9uKjFlMyxvPU1hdGgucm91bmQoMWUzKk1hdGguc3FydCgoaS1NYXRoLnBvdyhlLDIpL24pL24pKTshaXNOYU4obykmJnIrbz5NYXRoLm1heCgzKnIscisxNTApJiYoZFtIai5WaWRlb19SZWN2X0lfRnJhbWVfRGVsYXldPW8pfX1yZXR1cm4gZH0ocy5fdmlkZW9TU1JDLGUscy52aWRlb1RyYWNrLCEwPT09cix0aGlzLm5lZWRVcGxvYWRSZW5kZXJGcmVlemVUaW1lLHQsaSxuKTp2b2lkIDA7aWYobyYmKGMudmlkZW89bykscy52aWRlb1RyYWNrKXtjb25zdCB0PWUudmlkZW9SZWN2LmZpbmQoKGU9PmUuc3NyYz09PXMuX3ZpZGVvU1NSQykpO3QmJnQuZXN0aW1hdGVkUGxheW91dFRpbWVzdGFtcCYmKGQ9dC5lc3RpbWF0ZWRQbGF5b3V0VGltZXN0YW1wKX19aWYoYS5oYXMoZnguQVVESU8pJiZzLmF1ZGlvVHJhY2spe2NvbnN0IHI9cy5hdWRpb1RyYWNrP2Z1bmN0aW9uKGUsdCxpLG4scixvKXtjb25zdCBzPXQuYXVkaW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZighcylyZXR1cm47Y29uc3QgYT17fTskaihhLEtqLkF1ZGlvX1JlY3ZfSml0dGVyLHMuaml0dGVyTXMpLCRqKGEsS2ouQXVkaW9fUmVjdl9CeXRlc19SZXRyYW5zbWl0LHMucmV0cmFuc21pdHRlZEJ5dGVzUmVjZWl2ZWQpLCRqKGEsS2ouQXVkaW9fUmVjdl9QYWNrYWdlc19SZXRyYW5zbWl0LHMucmV0cmFuc21pdHRlZFBhY2tldHNSZWNlaXZlZCksJGooYSxLai5BdWRpb19SZWN2X1BhY2thZ2VzX0Rpc2NhcmRlZCxzLnBhY2tldHNEaXNjYXJkZWQpLCRqKGEsS2ouQXVkaW9fUmVjdl9BdmdfUHJvY2Vzc2luZ19EZWxheSxzLmF2Z1Byb2Nlc3NpbmdEZWxheU1zKTtjb25zdCBjPW8mJm8uYXVkaW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZihjKXtjb25zdCBlPVhqO251bGwhPXMucGFja2V0cyYmbnVsbCE9Yy5wYWNrZXRzJiYkaihhLEtqLkF1ZGlvX1JlY3ZfUGFja2FnZV9SYXRlLDFlMyoocy5wYWNrZXRzLWMucGFja2V0cykvZSksbnVsbCE9cy5wYWNrZXRzTG9zdCYmbnVsbCE9Yy5wYWNrZXRzTG9zdCYmJGooYSxLai5BdWRpb19SZWN2X1BhY2thZ2VfTG9zdCxzLnBhY2tldHNMb3N0LWMucGFja2V0c0xvc3QpfWlmKG4pe2NvbnN0e3JlY2VpdmVkRnJhbWVzOmUsZHJvcHBlZEZyYW1lczp0fT1zO251bGwhPWUmJm51bGwhPXQmJihhW1dqLkF1ZGlvX1JlY3ZfRnJlZXplXT0wPT09KGQ9ZSl8fDEwMCp0L2Q+MjA/MTowKX12YXIgZDtpZihyKXtjb25zdCB0PTEwMCppLl9zb3VyY2UuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpLG49cy5vdXRwdXRMZXZlbDtpZihudWxsIT1uKXtjb25zdCBlPU1hdGguY2VpbCg1MCpNYXRoLmxvZzEwKDEwMCpuKzEpKTskaihhLEhqLkF1ZGlvX1JlbmRlcl9MZXZlbCxlKX0kaihhLEhqLkF1ZGlvX1JlY3ZfUENNX0xldmVsLHQpLGkmJihhW0hqLkF1ZGlvX1JlY3ZfRGlzYWJsZWRdPWkuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZCYmaS5fbWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPzA6MSksJGooYSxIai5BdWRpb19SZWN2X0ppdHRlcl9CdWZmZXIscy5qaXR0ZXJCdWZmZXJNcyksJGooYSxIai5BdWRpb19SZWN2X0N1cnJlbnRfRGVsYXkscy5qaXR0ZXJCdWZmZXJNcyksYVtIai5BdWRpb19SZWN2X1BsYXllcl9TdGF0dXNdPW5MW3hMLmdldFBsYXllclN0YXRlKGkuZ2V0VHJhY2tJZCgpKV07Y29uc3Qgbz1yLmF1ZGlvUmVjdi5maW5kKCh0PT50LnNzcmM9PT1lKSk7aWYobyl7bnVsbCE9by5ieXRlcyYmbnVsbCE9cy5ieXRlcyYmJGooYSxIai5BdWRpb19SZWN2X0JpdHJhdGUsOCoocy5ieXRlcy1vLmJ5dGVzKS8oWGoqUWopKTtjb25zdCBlPXMuY29uY2VhbGVkU2FtcGxlcy1vLmNvbmNlYWxlZFNhbXBsZXM7ZT4wJiYkaihhLEhqLkF1ZGlvX1JlY3ZfQ29uY2VhbGVkX1NhbXBsZXMsZSk7Y29uc3QgdD1zLnRvdGFsU2FtcGxlc1JlY2VpdmVkLW8udG90YWxTYW1wbGVzUmVjZWl2ZWQ7dD4wJiYkaihhLEhqLkF1ZGlvX1JlY3ZfVG90YWxfU2FtcGxlc19SZWNlaXZlZCx0KTtjb25zdCBpPXMuZnJlZXplU2FtcGxlczgwLW8uZnJlZXplU2FtcGxlczgwO2k+MCYmJGooYSxIai5BdWRpb19SZW5kZXJfRnJlZXplX1NhbXBsZXNfODBtcyxpKTtjb25zdCBuPXMuZnJlZXplU2FtcGxlczIwMC1vLmZyZWV6ZVNhbXBsZXMyMDA7bj4wJiYkaihhLEhqLkF1ZGlvX1JlbmRlcl9GcmVlemVfU2FtcGxlc18yMDBtcyxuKTtjb25zdCByPXMuZnJlZXplTXM4MC1vLmZyZWV6ZU1zODA7JGooYSxIai5BdWRpb19SZW5kZXJfRnJlZXplX1RpbWVfODBtcyxyPDA/MDpyKTtjb25zdCBjPXMuZnJlZXplTXMyMDAtby5mcmVlemVNczIwMDskaihhLEhqLkF1ZGlvX1JlbmRlcl9GcmVlemVfVGltZV8yMDBtcyxjPDA/MDpjKX19cmV0dXJuIGF9KHMuX2F1ZGlvU1NSQyxlLHMuYXVkaW9UcmFjayx0LGksbik6dm9pZCAwO2lmKHImJihjLmF1ZGlvPXIpLHMuYXVkaW9UcmFjayYmZCl7Y29uc3QgdD1lLmF1ZGlvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1zLl9hdWRpb1NTUkMpKTtpZih0JiZ0LmVzdGltYXRlZFBsYXlvdXRUaW1lc3RhbXApe2NvbnN0IGU9dC5lc3RpbWF0ZWRQbGF5b3V0VGltZXN0YW1wLWQ7Yy5hdWRpbz9jLmF1ZGlvW0tqLkF1ZGlvX1JlY3ZfQVZfU3luY19USU1FXT1lOmMuYXVkaW89e1tLai5BdWRpb19SZWN2X0FWX1N5bmNfVElNRV06ZX19fX0oYy52aWRlb3x8Yy5hdWRpbykmJm8ucHVzaChjKX0pKSx0aGlzLm5lZWRVcGxvYWRSZW5kZXJGcmVlemVUaW1lPSF0aGlzLm5lZWRVcGxvYWRSZW5kZXJGcmVlemVUaW1lLG99c3RhcnRVcGxvYWRUcmFuc3BvcnRTdGF0cygpe3RoaXMudXBsb2FkVHJhbnNwb3J0U3RhcnRlZD0hMCx0aGlzLnVwbG9hZFdSVENTdGF0c1RpbWVyfHx0aGlzLnN0YXJ0VXBsb2FkV1JUQ1N0YXRzKCl9c3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCl7dGhpcy51cGxvYWRUcmFuc3BvcnRTdGFydGVkPSExfXN0YXJ0VXBsb2FkT3V0Ym91bmRTdGF0cygpe3RoaXMudXBsb2FkT3V0Ym91bmRTdGFydGVkfHwodGhpcy51cGxvYWRPdXRib3VuZFN0YXJ0ZWQ9ITAsdGhpcy51cGxvYWRXUlRDU3RhdHNUaW1lcnx8dGhpcy5zdGFydFVwbG9hZFdSVENTdGF0cygpLHRoaXMudXBsb2FkT3V0Ym91bmREZW5vaXNlclN0YXRzVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkT3V0Ym91bmREZW5vaXNlclN0YXRzVGltZXIpLHRoaXMudXBsb2FkT3V0Ym91bmREZW5vaXNlclN0YXRzVGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e2lmKCF0aGlzLnJlcXVlc3RBbGxUcmFja3N8fCF0aGlzLnJlcXVlc3RVcGxvYWQpcmV0dXJuO2NvbnN0IGU9KHRoaXMucmVxdWVzdEFsbFRyYWNrcygpfHxbXSkuZmluZCgoZT0+ZSBpbnN0YW5jZW9mIGprKSk7aWYoZSYmZS5fZXh0ZXJuYWwuZ2V0RGVub2lzZXJTdGF0cyl7Y29uc3QgdD1lLl9leHRlcm5hbC5nZXREZW5vaXNlclN0YXRzKCk7dCYmdGhpcy5yZXF1ZXN0VXBsb2FkKEJWLkRFTk9JU0VSX1NUQVRTLHQpfX0pLDJlMyksdGhpcy51cGxvYWRFeHRTdGF0c1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZEV4dFN0YXRzVGltZXIpLHRoaXMudXBsb2FkRXh0U3RhdHNUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57aWYoIXRoaXMucmVxdWVzdEFsbFRyYWNrc3x8IXRoaXMucmVxdWVzdFVwbG9hZClyZXR1cm47dGhpcy5yZXF1ZXN0QWxsVHJhY2tzKCkuZm9yRWFjaCgoZT0+e2UuZ2V0UHJvY2Vzc29yU3RhdHMoKS5mb3JFYWNoKChlPT57dGhpcy5yZXF1ZXN0VXBsb2FkJiZ0aGlzLnJlcXVlc3RVcGxvYWQoZS50eXBlLGUuc3RhdHMpfSkpfSkpfSksMmUzKSl9c3RvcFVwbG9hZE91dGJvdW5kU3RhdHMoKXt0aGlzLnVwbG9hZE91dGJvdW5kU3RhcnRlZCYmKHRoaXMudXBsb2FkT3V0Ym91bmRTdGFydGVkPSExLHRoaXMubGFzdFNlbmRTdGF0cyYmKHRoaXMubGFzdFNlbmRTdGF0cy52aWRlb1NlbmQ9W10sdGhpcy5sYXN0U2VuZFN0YXRzLmF1ZGlvU2VuZD1bXSx0aGlzLmxhc3RTZW5kU3RhdHM9dm9pZCAwKSx0aGlzLmxhc3RSZWZTZW5kU3RhdHMmJih0aGlzLmxhc3RSZWZTZW5kU3RhdHMudmlkZW9TZW5kPVtdLHRoaXMubGFzdFJlZlNlbmRTdGF0cy5hdWRpb1NlbmQ9W10sdGhpcy5sYXN0UmVmU2VuZFN0YXRzPXZvaWQgMCksdGhpcy5sYXN0Tm9ybWFsU2VuZFN0YXRzJiYodGhpcy5sYXN0Tm9ybWFsU2VuZFN0YXRzLnZpZGVvU2VuZD1bXSx0aGlzLmxhc3ROb3JtYWxTZW5kU3RhdHMuYXVkaW9TZW5kPVtdLHRoaXMubGFzdE5vcm1hbFNlbmRTdGF0cz12b2lkIDApLHRoaXMubGFzdEV4dGVuZFN0YXRzPXt9LHRoaXMubmVlZFVwbG9hZFN0YXRzPXt9LHRoaXMudXBsb2FkT3V0Ym91bmREZW5vaXNlclN0YXRzVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkT3V0Ym91bmREZW5vaXNlclN0YXRzVGltZXIpLHRoaXMudXBsb2FkT3V0Ym91bmREZW5vaXNlclN0YXRzVGltZXI9dm9pZCAwLHRoaXMudXBsb2FkRXh0U3RhdHNUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRFeHRTdGF0c1RpbWVyKSx0aGlzLnVwbG9hZEV4dFN0YXRzVGltZXI9dm9pZCAwKX1zdGFydFVwbG9hZEluYm91bmRTdGF0cygpe3RoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWR8fCh0aGlzLnVwbG9hZEluYm91bmRTdGFydGVkPSEwLHRoaXMudXBsb2FkV1JUQ1N0YXRzVGltZXJ8fHRoaXMuc3RhcnRVcGxvYWRXUlRDU3RhdHMoKSx0aGlzLnVwbG9hZEluYm91bmRFeHRTdGF0c1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZEluYm91bmRFeHRTdGF0c1RpbWVyKSx0aGlzLnVwbG9hZEluYm91bmRFeHRTdGF0c1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntpZighdGhpcy5yZXF1ZXN0VXBsb2FkfHwhdGhpcy5yZXF1ZXN0UmVtb3RlTWVkaWEpcmV0dXJuOyh0aGlzLnJlcXVlc3RSZW1vdGVNZWRpYSgpfHxbXSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7aWYoaS5oYXMoZnguVklERU8pJiZ0LnZpZGVvVHJhY2spe3QudmlkZW9UcmFjay5nZXRQcm9jZXNzb3JTdGF0cygpLmZvckVhY2goKGU9Pnt0aGlzLnJlcXVlc3RVcGxvYWQmJnRoaXMucmVxdWVzdFVwbG9hZChlLnR5cGUsZS5zdGF0cyl9KSl9aWYoaS5oYXMoZnguQVVESU8pJiZ0LmF1ZGlvVHJhY2spe3QuYXVkaW9UcmFjay5nZXRQcm9jZXNzb3JTdGF0cygpLmZvckVhY2goKGU9Pnt0aGlzLnJlcXVlc3RVcGxvYWQmJnRoaXMucmVxdWVzdFVwbG9hZChlLnR5cGUsZS5zdGF0cyl9KSl9fSkpfSksMmUzKSl9c3RvcFVwbG9hZEluYm91bmRTdGF0cygpe3RoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWQmJih0aGlzLnVwbG9hZEluYm91bmRTdGFydGVkPSExLHRoaXMubGFzdFJlY3ZTdGF0cyYmKHRoaXMubGFzdFJlY3ZTdGF0cy52aWRlb1JlY3Y9W10sdGhpcy5sYXN0UmVjdlN0YXRzLmF1ZGlvUmVjdj1bXSx0aGlzLmxhc3RSZWN2U3RhdHM9dm9pZCAwKSx0aGlzLmxhc3RSZWZSZWN2U3RhdHMmJih0aGlzLmxhc3RSZWZSZWN2U3RhdHMudmlkZW9SZWN2PVtdLHRoaXMubGFzdFJlZlJlY3ZTdGF0cy5hdWRpb1JlY3Y9W10sdGhpcy5sYXN0UmVmUmVjdlN0YXRzPXZvaWQgMCksdGhpcy5sYXN0Tm9ybWFsUmVjdlN0YXRzJiYodGhpcy5sYXN0Tm9ybWFsUmVjdlN0YXRzLnZpZGVvUmVjdj1bXSx0aGlzLmxhc3ROb3JtYWxSZWN2U3RhdHMuYXVkaW9SZWN2PVtdLHRoaXMubGFzdE5vcm1hbFJlY3ZTdGF0cz12b2lkIDApLHRoaXMubGFzdFVwbG9hZENvbXBlbnNhdGVUaW1lPS0xLHRoaXMudXBsb2FkQ29tcGVuc2F0ZURlbHRhVGltZT0wLHRoaXMubmVlZFVwbG9hZFJlbmRlckZyZWV6ZVRpbWU9ITAsdGhpcy51cGxvYWRJbmJvdW5kRXh0U3RhdHNUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRJbmJvdW5kRXh0U3RhdHNUaW1lciksdGhpcy51cGxvYWRJbmJvdW5kRXh0U3RhdHNUaW1lcj12b2lkIDApfXN0YXJ0VXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpe2lmKHRoaXMudXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGFydGVkKXJldHVybjt0aGlzLnVwbG9hZEV4dGVuc2lvblVzYWdlU3RhcnRlZD0hMCx0aGlzLnVwbG9hZEV4dFVzYWdlU3RhdHNUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRFeHRVc2FnZVN0YXRzVGltZXIpO2NvbnN0IGU9bmV3IE1hcDt0aGlzLnVwbG9hZEV4dFVzYWdlU3RhdHNUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKGFzeW5jKCk9Pntjb25zdCB0PURhdGUubm93KCksaT17Y29ubmVjdGlvbkludGVydmFsOkNEKFwiRVhURU5TSU9OX1VTQUdFX1VQTE9BRF9JTlRFUlZBTFwiKS8xZTMsZGV0YWlsczpbXSxsdHM6dH07bGV0IG49W107Y29uc3Qgcj10aGlzLnJlcXVlc3RBbGxUcmFja3MmJnRoaXMucmVxdWVzdEFsbFRyYWNrcygpfHxbXTtmb3IoY29uc3QgZSBvZiByKSFlLm11dGVkJiZlLmVuYWJsZWQmJihuPW4uY29uY2F0KGF3YWl0IGUuZ2V0UHJvY2Vzc29yVXNhZ2UoKSkpO2NvbnN0IG89dGhpcy5yZXF1ZXN0UmVtb3RlTWVkaWEmJnRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKCl8fFtdO2Zvcihjb25zdFtlLHRdb2Ygbyl0LmhhcyhmeC5WSURFTykmJmUudmlkZW9UcmFjayYmKG49bi5jb25jYXQoYXdhaXQgZS52aWRlb1RyYWNrLmdldFByb2Nlc3NvclVzYWdlKCkpKSx0LmhhcyhmeC5BVURJTykmJmUuYXVkaW9UcmFjayYmKG49bi5jb25jYXQoYXdhaXQgZS5hdWRpb1RyYWNrLmdldFByb2Nlc3NvclVzYWdlKCkpKTtpZigwPT09bi5sZW5ndGgpcmV0dXJuO2kuZGV0YWlscz1mdW5jdGlvbihlLHQpe2NvbnN0IGk9e307Zm9yKGNvbnN0e2lkOnMsdmFsdWU6YSxsZXZlbDpjLGRpcmVjdGlvbjpkfW9mIGUpe3ZhciBuO2NvbnN0IGU9bnVsbCE9PShuPXQuZ2V0KHMpKSYmdm9pZCAwIT09bj9uOjAsbD0yPT09YT9lK0NEKFwiRVhURU5TSU9OX1VTQUdFX1VQTE9BRF9JTlRFUlZBTFwiKS8xZTM6ZTt2YXIgcixvO3Quc2V0KHMsbCksaVtzXT8oMj09PWEmJihpW3NdLnZhbHVlPWEpLGM+aVtzXS5sZXZlbCYmKGlbc10ubGV2ZWw9YyksXCJyZW1vdGVcIj09PWQmJihpW3NdLnJlbW90ZVVpZENvdW50Kz0xKSxpW3NdLnRvdGFsVHM9bnVsbCE9PShyPXQuZ2V0KHMpKSYmdm9pZCAwIT09cj9yOjApOmlbc109e3ZhbHVlOmEsbGV2ZWw6YyxyZW1vdGVVaWRDb3VudDpcImxvY2FsXCI9PT1kPzA6MSx0b3RhbFRzOm51bGwhPT0obz10LmdldChzKSkmJnZvaWQgMCE9PW8/bzowfX1yZXR1cm4gT2JqZWN0LmtleXMoaSkubWFwKChlPT57Y29uc3R7bGV2ZWw6dCx2YWx1ZTpuLHRvdGFsVHM6cn09aVtlXTtyZXR1cm57aWQ6ZSxsZXZlbDp0LHZhbHVlOm4sdG90YWxUczpyfX0pKX0obixlKTtjb25zdCBzPURhdGUubm93KCksYT1zPnQ/czp0KzE7dGhpcy5yZXF1ZXN0VXBsb2FkJiZ0aGlzLnJlcXVlc3RVcGxvYWQoQlYuRVhURU5TSU9OX1VTQUdFX1NUQVRTLHt1c2FnZVN0YXRzOmksc2VuZFRzOmF9KX0pLENEKFwiRVhURU5TSU9OX1VTQUdFX1VQTE9BRF9JTlRFUlZBTFwiKSl9c3RvcFVwbG9hZEV4dGVuc2lvblVzYWdlU3RhdHMoKXt0aGlzLnVwbG9hZEV4dGVuc2lvblVzYWdlU3RhcnRlZCYmKHRoaXMudXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGFydGVkPSExLHRoaXMudXBsb2FkRXh0VXNhZ2VTdGF0c1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZEV4dFVzYWdlU3RhdHNUaW1lciksdGhpcy51cGxvYWRFeHRVc2FnZVN0YXRzVGltZXI9dm9pZCAwKX1zdG9wVXBsb2FkQmFzZVN0YXRzKCl7dGhpcy51cGxvYWRCYXNlU3RhdHNTdGFydGVkPSExLGVVLnN0b3BDb2xsZWN0U3RhdHMoKX19Y29uc3Qgbkc9Q0QoXCJJQ0VfUkVTVEFSVF9JTlRFUlZBTFwiKTtsZXQgckc9bmV3IE1hcCxvRz1uZXcgTWFwLHNHPVtTeC5VRFBfVENQX1JFTEFZLFN4LlRDUF9SRUxBWSxTeC5SRUxBWV0sYUc9Q0QoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlfRk9SQ0VcIikmJnBQKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbjtmdW5jdGlvbiBjRyhlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO2NvbnN0IGk9ckcuZ2V0KGUuaWQpO2kmJih3aW5kb3cuY2xlYXJUaW1lb3V0KGkpLHJHLmRlbGV0ZShlLmlkKSk7Y29uc3Qgbj1vRy5nZXQoZS5pZCk7dCYmbiYmbi5pbmRleD09PXNHLmxlbmd0aC0xJiYoaVAuZGVidWcoXCJbXCIuY29uY2F0KGUuaWQsXCJdIHJlc2V0IElDRSByZXN0YXJ0IHBvbGljeVwiKSksb0cuZGVsZXRlKGUuaWQpKX1mdW5jdGlvbiBkRyhlLHQsaSl7aWYoMD09PXJHLnNpemUmJjA9PT1vRy5zaXplJiYoQXJyYXkuaXNBcnJheShDRChcIlJFU1RBUlRfU0VRVUVOQ0VcIikpJiZDRChcIlJFU1RBUlRfU0VRVUVOQ0VcIikubGVuZ3RoPjAmJiFmdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKz0xKXtjb25zdCBuPWVbaV07aWYoZS5maWx0ZXIoKGU9PmU9PT1uKSkubGVuZ3RoIT09dC5maWx0ZXIoKGU9PmU9PT1uKSkubGVuZ3RoKXJldHVybiExfXJldHVybiEwfShzRyxDRChcIlJFU1RBUlRfU0VRVUVOQ0VcIikpJiYoc0c9Q0QoXCJSRVNUQVJUX1NFUVVFTkNFXCIpLmZpbHRlcigoZT0+e3ZhciB0O2lmKExuKHQ9T2JqZWN0LnZhbHVlcyhTeCkpLmNhbGwodCxlKSlyZXR1cm4hMH0pKSxpUC5kZWJ1ZyhcInVzZSByZWNvbm5lY3Rpb24gcG9saWN5IGZyb20gY29uZmlnIGRpc3RyaWJ1dGlvbiwgcXVldWVzOiBcIi5jb25jYXQoc0cuam9pbihcIiA9PiBcIikpKSksYUc9Q0QoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlfRk9SQ0VcIikmJnBQKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbiksMD09PXNHLmxlbmd0aClyZXR1cm4gdm9pZCBpKCk7bGV0IG4se2luZGV4OnI9MCx0eXBlOm99PW9HLmdldChlLmlkKXx8e307aWYoYUcmJm89PT1TeC5SRUxBWSlyZXR1cm4gdm9pZCBpKCk7bGV0IHM9byYmcj49c0cubGVuZ3RoLTE7aWYoYUcpbz1TeC5SRUxBWTtlbHNle2lmKHMpcmV0dXJuIHZvaWQgaSgpO28/KHIrKyxvPXNHW3JdKToobz1zR1swXSxyPTApfWlQLmRlYnVnKFwiW1wiLmNvbmNhdChlLmlkLFwiXSBjaG9vc2UgSUNFIHJlc3RhcnQgcG9saWN5OiBcIikuY29uY2F0KG8sXCIsIGluZGV4OiBcIikuY29uY2F0KHIpKSx0KG8pLG9HLnNldChlLmlkLHtpbmRleDpyLHR5cGU6b30pLG49d2luZG93LnNldFRpbWVvdXQoKCgpPT5kRyhlLHQsaSkpLG5HKSxyRy5zZXQoZS5pZCxuKX12YXIgbEc7ZnVuY3Rpb24gdUcoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGhHKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3VHKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aUEoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnVHKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHBHKGUpe3ZhciB0LGksbixyPTI7Zm9yKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJihpPUZiLG49U3ltYm9sLml0ZXJhdG9yKTtyLS07KXtpZihpJiZudWxsIT0odD1lW2ldKSlyZXR1cm4gdC5jYWxsKGUpO2lmKG4mJm51bGwhPSh0PWVbbl0pKXJldHVybiBuZXcgX0codC5jYWxsKGUpKTtpPVwiQEBhc3luY0l0ZXJhdG9yXCIsbj1cIkBAaXRlcmF0b3JcIn10aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGlzIG5vdCBhc3luYyBpdGVyYWJsZVwiKX1mdW5jdGlvbiBfRyhlKXtmdW5jdGlvbiB0KGUpe2lmKE9iamVjdChlKSE9PWUpcmV0dXJuIHJwLnJlamVjdChuZXcgVHlwZUVycm9yKGUrXCIgaXMgbm90IGFuIG9iamVjdC5cIikpO3ZhciB0PWUuZG9uZTtyZXR1cm4gcnAucmVzb2x2ZShlLnZhbHVlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm57dmFsdWU6ZSxkb25lOnR9fSkpfXJldHVybiBfRz1mdW5jdGlvbihlKXt0aGlzLnM9ZSx0aGlzLm49ZS5uZXh0fSxfRy5wcm90b3R5cGU9e3M6bnVsbCxuOm51bGwsbmV4dDpmdW5jdGlvbigpe3JldHVybiB0KHRoaXMubi5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHJldHVybjpmdW5jdGlvbihlKXt2YXIgaT10aGlzLnMucmV0dXJuO3JldHVybiB2b2lkIDA9PT1pP3JwLnJlc29sdmUoe3ZhbHVlOmUsZG9uZTohMH0pOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHRocm93OmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucy5yZXR1cm47cmV0dXJuIHZvaWQgMD09PWk/cnAucmVqZWN0KGUpOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9fSxuZXcgX0coZSl9bGV0IEVHPShsRz1jbGFzcyBleHRlbmRzIE5Pe2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7Y29uc3QgdD10aGlzLl9zdGF0ZTt0aGlzLl9zdGF0ZT1lLHRoaXMuZW1pdCh2eC5TdGF0ZUNoYW5nZSx0LHRoaXMuX3N0YXRlKX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksaUEodGhpcyxcImlzUGxhbkJcIix2b2lkIDApLGlBKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksaUEodGhpcyxcInN0YXRzVXBsb2FkZXJcIix2b2lkIDApLGlBKHRoaXMsXCJjb25uZWN0aW9uXCIsdm9pZCAwKSxpQSh0aGlzLFwibG9jYWxUcmFja01hcFwiLG5ldyBNYXApLGlBKHRoaXMsXCJyZW1vdGVVc2VyTWFwXCIsbmV3IE1hcCksaUEodGhpcyxcImxvY2FsRGF0YUNoYW5uZWxzXCIsW10pLGlBKHRoaXMsXCJyZW1vdGVEYXRhQ2hhbm5lbE1hcFwiLG5ldyBNYXApLGlBKHRoaXMsXCJwZW5kaW5nTG9jYWxUcmFja3NcIixbXSksaUEodGhpcyxcInBlbmRpbmdSZW1vdGVUcmFja3NcIixbXSksaUEodGhpcyxcInBlbmRpbmdMb2NhbERhdGFDaGFubmVsc1wiLFtdKSxpQSh0aGlzLFwicGVuZGluZ1JlbW90ZURhdGFDaGFubmVsc1wiLFtdKSxpQSh0aGlzLFwic3RhdHNDb2xsZWN0b3JcIix2b2lkIDApLGlBKHRoaXMsXCJzaG91bGRGb3J3YXJkUDJQQ3JlYXRpb25cIix2b2lkIDApLGlBKHRoaXMsXCJpY2VGYWlsZWRDb3VudFwiLDApLGlBKHRoaXMsXCJkdGxzRmFpbGVkQ291bnRcIiwwKSxpQSh0aGlzLFwibXV0ZXhcIix2b2lkIDApLGlBKHRoaXMsXCJfc3RhdGVcIixDeC5EaXNjb25uZWN0ZWQpLGlBKHRoaXMsXCJfcGNTdGF0c1VwbG9hZFR5cGVcIixDRChcIk5FV19JQ0VfUkVTVEFSVFwiKT9neC5GSVJTVF9DT05ORUNUSU9OOmd4Lk9MRF9GSVJTVF9DT05ORUNUSU9OKSxpQSh0aGlzLFwiX2lzU3RhcnRSZXN0YXJ0SWNlXCIsITEpLGlBKHRoaXMsXCJfcmVzdGFydFRpbWVyXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2lzVHJ5Q29ubmVjdGluZ1wiLCExKSxpQSh0aGlzLFwiX2ljZUVycm9yXCIsbnVsbCksaUEodGhpcyxcIl9mb3JjZVR1cm5cIiwhMSksaUEodGhpcyxcIl9pc1dhaXRQY1RvUmVQdWJcIiwhMSksaUEodGhpcyxcImhhbmRsZU11dGVMb2NhbFRyYWNrXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwuaGFuZGxlTXV0ZUxvY2FsVHJhY2tcIik7dHJ5e2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgaShuZXcgcE8oaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3QgY2FsbCBQMlBDaGFubmVsLmhhbmRsZU11dGVMb2NhbFRyYWNrIGJlZm9yZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKSk7Y29uc3Qgcj10aGlzLmZpbHRlclRvYmVNdXRlZFRyYWNrcyhlKTtpZigwPT09ci5sZW5ndGgpcmV0dXJuIHZvaWQgdCgpO2NvbnN0IG89ci5maW5kKChlPT5cInZpZGVvTG93VHJhY2tcIj09PWVbMF0pKTtpZihvKXtjb25zdCBlPW9bMV07dGhpcy5zdG9yZS5lbmFibGVJbnN0YW50TXV0ZVJlc3RvcmU/KGUudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsIG11dGVMb2NhbExvd1RyYWNrIHdpdGhvdXQgY2xvc2Ugc2VuZGVyIGJlY2F1c2UgZW5hYmxlSW5zdGFudE11dGVSZXN0b3JlIGlzIHRydWVcIikpKTplLnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKX10aGlzLnN0b3JlLmVuYWJsZUluc3RhbnRNdXRlUmVzdG9yZT9pUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsIG11dGVMb2NhbFRyYWNrIHdpdGhvdXQgY2xvc2Ugc2VuZGVyIGJlY2F1c2UgZW5hYmxlSW5zdGFudE11dGVSZXN0b3JlIGlzIHRydWVcIikpOmF3YWl0IHRoaXMuY29ubmVjdGlvbi5tdXRlTG9jYWwoci5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSk7Y29uc3Qgcz10aGlzLmNyZWF0ZU11dGVNZXNzYWdlKHIpO2F3YWl0IHFPKHRoaXMsdnguUmVxdWVzdE11dGVMb2NhbCxzKSx0KCl9Y2F0Y2goZSl7aShlKX1maW5hbGx5e24oKX19KSksaUEodGhpcyxcImhhbmRsZVVubXV0ZUxvY2FsVHJhY2tcIiwoYXN5bmMoZSx0LGkpPT57Y29uc3Qgbj1hd2FpdCB0aGlzLm11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbC5oYW5kbGVVbm11dGVMb2NhbFRyYWNrXCIpO3RyeXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09Q3guQ29ubmVjdGVkKXJldHVybiB2b2lkIGkobmV3IHBPKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbC5oYW5kbGVVbm11dGVMb2NhbFRyYWNrIGJlZm9yZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKSk7Y29uc3Qgcj10aGlzLmZpbHRlclRvYmVVbm11dGVkVHJhY2tzKGUpO2lmKDA9PT1yLmxlbmd0aClyZXR1cm4gdm9pZCB0KCk7Y29uc3Qgbz1yLmZpbmQoKGU9PlwidmlkZW9Mb3dUcmFja1wiPT09ZVswXSkpO2lmKG8pe2NvbnN0IHQ9b1sxXTtpZih0aGlzLnN0b3JlLmVuYWJsZUluc3RhbnRNdXRlUmVzdG9yZSl0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITAsaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbCB1bm11dGVMb2NhbExvd1RyYWNrIHdpdGhvdXQgY2xvc2Ugc2VuZGVyIGJlY2F1c2UgZW5hYmxlSW5zdGFudE11dGVSZXN0b3JlIGlzIHRydWVcIikpO2Vsc2V7aWYodC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCksIUNEKFwiRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikmJnBQKCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyl7Y29uc3QgaT1lLl9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk7dC50cmFjay5fbWVkaWFTdHJlYW1UcmFjaz1pLHQudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9aX1lbHNle2NvbnN0IGk9amooZSxKTyh0aGlzLHZ4LlJlcXVlc3RMb3dTdHJlYW1QYXJhbWV0ZXIpKTt0LnRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrPWksdC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1pfWF3YWl0IG5ldyBycCgoKGUsaSk9Pnt0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayh0LnRyYWNrLGUsaSwhMCl9KSl9fXRoaXMuc3RvcmUuZW5hYmxlSW5zdGFudE11dGVSZXN0b3JlP2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwgdW5tdXRlTG9jYWxUcmFjayB3aXRob3V0IGNsb3NlIHNlbmRlciBiZWNhdXNlIGVuYWJsZUluc3RhbnRNdXRlUmVzdG9yZSBpcyB0cnVlXCIpKTphd2FpdCB0aGlzLmNvbm5lY3Rpb24udW5tdXRlTG9jYWwoci5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSk7Y29uc3Qgcz10aGlzLmNyZWF0ZVVubXV0ZU1lc3NhZ2Uocik7YXdhaXQgcU8odGhpcyx2eC5SZXF1ZXN0VW5tdXRlTG9jYWwscyksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXtuKCl9fSkpLGlBKHRoaXMsXCJoYW5kbGVVcGRhdGVWaWRlb0VuY29kZXJcIiwoYXN5bmMoZSx0LGksbik9PntsZXQgcjtufHwocj1hd2FpdCB0aGlzLm11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbC5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXJcIikpO3RyeXtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb1RyYWNrKTtpZighdGhpcy5jb25uZWN0aW9ufHwhaXx8aS50cmFjayE9PWV8fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgdCgpO2NvbnN0e2lkOm4sdHJhY2s6c309aTthd2FpdCB0aGlzLmNvbm5lY3Rpb24udXBkYXRlU2VuZFBhcmFtZXRlcnMobixzKSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24udXBkYXRlRW5jb2RlckNvbmZpZyhuLHMpLHRoaXMuZW1pdCh2eC5VcGRhdGVWaWRlb0VuY29kZXIscyksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXt2YXIgbztudWxsPT09KG89cil8fHZvaWQgMD09PW98fG8oKX19KSksaUEodGhpcyxcImhhbmRsZVVwZGF0ZVZpZGVvU2VuZFBhcmFtZXRlcnNcIiwoYXN5bmMoZSx0LGkpPT57Y29uc3Qgbj1hd2FpdCB0aGlzLm11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbC5oYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzXCIpO3RyeXtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb1RyYWNrKTtpZighdGhpcy5jb25uZWN0aW9ufHwhaXx8aS50cmFjayE9PWV8fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgdCgpO2NvbnN0e2lkOnIsdHJhY2s6b309aTthd2FpdCB0aGlzLmNvbm5lY3Rpb24udXBkYXRlU2VuZFBhcmFtZXRlcnMocixvKSx0KCl9Y2F0Y2goZSl7aShlKX1maW5hbGx5e24oKX19KSksaUEodGhpcyxcImhhbmRsZVJlcGxhY2VNaXhpbmdUcmFja1wiLChhc3luYyhlLHQsaSxuKT0+e2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgdCgpO2NvbnN0IHI9RGooW2VdKTtsZXQgbztpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uIHdpbGwgcmVwbGFjZSBhdWRpb1RyYWNrIFtcIikuY29uY2F0KHIuZ2V0VHJhY2tJZCgpLFwiXVwiKSksXCJib29sZWFuXCI9PXR5cGVvZiBuJiZufHwobz1hd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuaGFuZGxlUmVwbGFjZU1peGluZ1RyYWNrXCIpKTt0cnl7YXdhaXQgdGhpcy5yZXBsYWNlVHJhY2soZSxyKSx0KCl9Y2F0Y2goZSl7aShlKX1maW5hbGx5e3ZhciBzO251bGw9PT0ocz1vKXx8dm9pZCAwPT09c3x8cygpfX0pKSxpQSh0aGlzLFwiaGFuZGxlUmVwbGFjZVRyYWNrXCIsKGFzeW5jKGUsdCxpLG4pPT57bGV0IHI7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwgaGFuZGxlUmVwbGFjZVRyYWNrIGZvciBbdHJhY2staWQtXCIpLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl1cIikpLFwiYm9vbGVhblwiPT10eXBlb2YgbiYmbnx8KHI9YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLmhhbmRsZVJlcGxhY2VUcmFja1wiKSk7dHJ5e3ZhciBvO2NvbnN0IGk9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKCF0aGlzLmNvbm5lY3Rpb258fCFpfHx0aGlzLnN0YXRlIT09Q3guQ29ubmVjdGVkKXJldHVybiB2b2lkIHQoKTtpZihhd2FpdChudWxsPT09KG89dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09bz92b2lkIDA6by5yZXBsYWNlVHJhY2soZSxpWzFdLmlkKSksdGhpcy5pc1BsYW5CKXtjb25zdCB0PWlbMV07dC5pZD1lLl9tZWRpYVN0cmVhbVRyYWNrLmlkLHRoaXMubG9jYWxUcmFja01hcC5zZXQoaVswXSx0KX1pZihpWzBdPT09UnguTG9jYWxWaWRlb1RyYWNrJiYhQ0QoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmcFAoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb0xvd1RyYWNrKTtpZih0KXtjb25zdCBpPWUuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTt0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSx0LnRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrPWksdC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1pLGF3YWl0IG5ldyBycCgoKGUsaSk9Pnt0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayh0LnRyYWNrLGUsaSwhMCl9KSl9fXQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7dmFyIHM7bnVsbD09PShzPXIpfHx2b2lkIDA9PT1zfHxzKCl9fSkpLGlBKHRoaXMsXCJoYW5kbGVHZXRSVENTdGF0c1wiLChlPT57ZSh0aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJUQ1N0YXRzKCkpfSkpLGlBKHRoaXMsXCJoYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHNcIiwoZT0+e2UodGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpKX0pKSxpQSh0aGlzLFwiaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzXCIsKGU9PntlKHRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0TG9jYWxBdWRpb1RyYWNrU3RhdHMoKSl9KSksaUEodGhpcyxcImhhbmRsZUdldFJlbW90ZVZpZGVvU3RhdHNcIiwoZT0+dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVWaWRlb1RyYWNrU3RhdHMoZS51aWQpW2UudWlkXSkpLGlBKHRoaXMsXCJoYW5kbGVHZXRSZW1vdGVBdWRpb1N0YXRzXCIsKGU9PnRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlQXVkaW9UcmFja1N0YXRzKGUudWlkKVtlLnVpZF0pKSx0aGlzLnN0b3JlPWUsdGhpcy5zdGF0c0NvbGxlY3Rvcj10LHRoaXMuc3RhdHNDb2xsZWN0b3IuYWRkUDJQQ2hhbm5lbCh0aGlzKSx0aGlzLnN0YXRzVXBsb2FkZXI9bmV3IGlHKHRoaXMuc3RvcmUpLHRoaXMuYmluZFN0YXRzVXBsb2FkZXJFdmVudHMoKSx0aGlzLm11dGV4PW5ldyBQTihcIlAyUENoYW5uZWwtbXV0ZXhcIix0aGlzLnN0b3JlLmNsaWVudElkKSx0aGlzLmlzUGxhbkI9IXBQKCkuc3VwcG9ydFVuaWZpZWRQbGFufHxDRChcIkNIUk9NRV9GT1JDRV9QTEFOX0JcIikmJnNPKCksdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb249Q0QoXCJGT1JXQVJEX1AyUF9DUkVBVElPTlwiKSYmcFAoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uJiZvTygpLHRoaXMuc2hvdWxkRm9yd2FyZFAyUENyZWF0aW9uJiYodGhpcy5jb25uZWN0aW9uPUxqKHRoaXMuc3RvcmUpLHRoaXMuZW1pdCh2eC5QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlLHRoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuY29ubmVjdGlvbikpfWFzeW5jIHN0YXJ0UDJQQ29ubmVjdGlvbihlLHQpe3ZhciBpO3RoaXMuc3RhdGU9Q3guTmV3LHRoaXMuX2ZvcmNlVHVybj1NaihlKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gZm9yY2VUdXJuOiBcIikuY29uY2F0KHRoaXMuX2ZvcmNlVHVybikpO2NvbnN0IG49dGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJlwiY2xvc2VkXCI9PT0obnVsbD09PShpPXRoaXMuY29ubmVjdGlvbil8fHZvaWQgMD09PWk/dm9pZCAwOmkucGVlckNvbm5lY3Rpb25TdGF0ZSk7aWYoKCF0aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbnx8bnx8dCkmJigobnx8dCkmJnRoaXMuY29ubmVjdGlvbiYmKGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwuc3RhcnRQMlBDb25uZWN0aW9uIEZvcndhcmRQMlAgY2xvc2VkLlwiKSksdGhpcy5yZXNldENvbm5lY3Rpb24odGhpcy5jb25uZWN0aW9uKSksdGhpcy5jb25uZWN0aW9uPUxqKHRoaXMuc3RvcmUsZSksdGhpcy5lbWl0KHZ4LlBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2UsdGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGUpLHRoaXMuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5jb25uZWN0aW9uKSksIXRoaXMuY29ubmVjdGlvbil0aHJvdyBuZXcgcE8oaE8uVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBQMlBDaGFubmVsLnN0YXJ0Q29ubmVjdGlvbiBiZWZvcmUgUDJQQ29ubmVjdGlvbiBpbml0aWFsaXphdGlvbiAuXCIpO3JldHVybiB0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZT1DRChcIk5FV19JQ0VfUkVTVEFSVFwiKT9neC5GSVJTVF9DT05ORUNUSU9OOmd4Lk9MRF9GSVJTVF9DT05ORUNUSU9OLHRoaXMuX2lzVHJ5Q29ubmVjdGluZz0hMCx0aGlzLl9pc1N0YXJ0UmVzdGFydEljZT0hMSx0aGlzLl9pY2VFcnJvcj1udWxsLHRoaXMuY29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGUpLHRoaXMuY29ubmVjdGlvbi5lc3RhYmxpc2hQcm9taXNlfWFzeW5jIGNvbm5lY3QoZSl7aWYoIXRoaXMuY29ubmVjdGlvbil0aHJvdyBuZXcgcE8oaE8uVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBQMlBDaGFubmVsLmNvbm5lY3QgYmVmb3JlIFAyUENoYW5uZWwuc3RhcnRQMlBDb25uZWN0aW9uIC5cIik7aWYoIXRoaXMuaXNQcmVhbGxvY2F0aW9uKCl8fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpe3RoaXMuc3RvcmUucGVlckNvbm5lY3Rpb25TdGFydCgpO2NvbnN0IHQ9YXdhaXQgdGhpcy5jb25uZWN0aW9uLmNvbm5lY3QoZSk7cmV0dXJuIHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpLHRoaXMuc3RhdGU9Q3guQ29ubmVjdGVkLHR9aWYodGhpcy5jb25uZWN0aW9uIGluc3RhbmNlb2YgRmope2lmKHRoaXMuY29ubmVjdGlvbi5jaGVja0R0bHNQYXJhbWV0ZXJzKGUuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzKSl7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGR0bHMgcGFyYW1ldGVycyBtaXNtYXRjaCwgdHJ5IG5leHQuXCIpKTtyZXR1cm4gbFAucmVwb3J0QXBpSW52b2tlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtuYW1lOkxPLk1JU01BVENIX0RUTFNfUEFSQU1FVEVSUyxvcHRpb25zOltlLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50c10sdGFnOmtPLlRSQUNFUn0pLm9uU3VjY2VzcygpLHZvaWQgc2V0VGltZW91dCgoKCk9Pnt0aGlzLmVtaXQodnguUmVxdWVzdFJlY29ubmVjdCl9KSl9fWF3YWl0IHRoaXMuY29ubmVjdGlvbi51cGRhdGVSZW1vdGVDb25uZWN0KGUpfXVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlKXtjb25zdCB0PUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKChlPT57dmFyIHQ7bGV0W2ldPWU7cmV0dXJuIExuKHQ9W1J4LkxvY2FsVmlkZW9Mb3dUcmFjayxSeC5Mb2NhbFZpZGVvVHJhY2tdKS5jYWxsKHQsaSl9KSksaT10Lm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpLG49dC5tYXAoKGU9PntsZXRbdF09ZTtyZXR1cm4gdH0pKTtpZih0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBGanx8dGhpcy5jb25uZWN0aW9uJiZcIm5hbWVcImluIHRoaXMuY29ubmVjdGlvbiYmXCJEYXRhQ2hhbm5lbENvbm5lY3Rpb25cIj09PXRoaXMuY29ubmVjdGlvbi5uYW1lKXtpZihsUC51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXModGhpcy5zdG9yZS5zZXNzaW9uSWQse3RyYWNrVHlwZXM6SlNPTi5zdHJpbmdpZnkobiksbG9jYWxDb2RlY3M6SlNPTi5zdHJpbmdpZnkodGhpcy5jb25uZWN0aW9uLmxvY2FsQ29kZWNzKSxyZW1vdGVDb2RlY3M6SlNPTi5zdHJpbmdpZnkoZSl9KSwhTG4oZSkuY2FsbChlLHRoaXMuc3RvcmUuY29kZWMpKXtjb25zdCB0PVtcInZwOVwiLFwidnA4XCIsXCJoMjY0XCJdLmZpbmQoKHQ9PkxuKGUpLmNhbGwoZSx0KSkpO3QmJih0aGlzLnN0b3JlLmNvZGVjPXQsaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCIgdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXSBkZWZhdWx0IGNvZGVjIGlzIG5vdCBhdmFpbGFibGUsIGhlbmNlIHRoZSBmYWxsYmFjayB0byBcIikuY29uY2F0KHQsXCIuXCIpKSl9dGhpcy5jb25uZWN0aW9uLnVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhpLGUpfX1hc3luYyBnZXRFc3RhYmxpc2hQYXJhbXMoKXt2YXIgZTtyZXR1cm4gdGhpcy5jb25uZWN0aW9uJiZcIm5hbWVcImluIHRoaXMuY29ubmVjdGlvbiYmXCJEYXRhQ2hhbm5lbENvbm5lY3Rpb25cIj09PXRoaXMuY29ubmVjdGlvbi5uYW1lJiZcImNsb3NlZFwiIT09dGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGV8fHRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIEZqJiZcImNsb3NlZFwiIT09dGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGUmJkxuKGU9W0N4Lk5ldyxDeC5Db25uZWN0ZWRdKS5jYWxsKGUsdGhpcy5zdGF0ZSk/dGhpcy5jb25uZWN0aW9uLmVzdGFibGlzaFByb21pc2U6dm9pZCAwfWFzeW5jIHB1Ymxpc2hEYXRhQ2hhbm5lbChlKXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09Q3guQ29ubmVjdGVkKXtpZih0aGlzLnN0YXRlPT09Q3guRGlzY29ubmVjdGVkKXRocm93IG5ldyBwTyhoTy5VTkVYUEVDVEVEX0VSUk9SLFwiUGVlckNvbm5lY3Rpb24gYWxyZWFkeSBkaXNjb25uZWN0ZWQuXCIpO3JldHVybiBlLmZvckVhY2goKGU9Pnt2YXIgdDtMbih0PXRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzKS5jYWxsKHQsZSl8fHRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLnB1c2goZSl9KSksW119Y29uc3QgdD10aGlzLmZpbHRlclRvYmVQdWJsaXNoZWREYXRhQ2hhbm5lbHMoZSk7cmV0dXJuIDA9PT10Lmxlbmd0aD9bXToodC5mb3JFYWNoKChlPT57Y29uc3QgdD1EYXRlLm5vdygpO3RoaXMuc3RvcmUucHVibGlzaChlLmlkLnRvU3RyaW5nKCksXCJkYXRhY2hhbm5lbFwiLHQpfSkpLGF3YWl0IHRoaXMuY29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHModGhpcy5zdG9yZS51aWQsdCksdC5mb3JFYWNoKChlPT57dGhpcy5sb2NhbERhdGFDaGFubmVscy5wdXNoKGUpO2NvbnN0IHQ9RGF0ZS5ub3coKTt0aGlzLnN0b3JlLnB1Ymxpc2goZS5pZCtcIlwiLFwiZGF0YWNoYW5uZWxcIix2b2lkIDAsdCl9KSksZS5tYXAoKGU9Pih7c3RyZWFtSWQ6ZS5pZCxvcmRlcmVkOmUub3JkZXJlZCxtYXhSZXRyYW5zbWl0czplLm1heFJldHJhbnNtaXRzLG1ldGFkYXRhOmUubWV0YWRhdGEsY2hhbm5lbElkOmUuX29yaWdpbkRhdGFDaGFubmVsSWR9KSkpKX1wdWJsaXNoKGUsdCxpKXt2YXIgbj10aGlzO3JldHVybiBNYigoZnVuY3Rpb24qKCl7Y29uc3Qgcj15aWVsZCBWYihuLm11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwucHVibGlzaFwiKSk7dHJ5e3ZhciBvO2NvbnN0IHM9bi5jb25uZWN0aW9uJiZMbihvPVtcImRpc2Nvbm5lY3RlZFwiLFwiZmFpbGVkXCJdKS5jYWxsKG8sbi5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGUpO2lmKCFuLmNvbm5lY3Rpb258fG4uc3RhdGUhPT1DeC5Db25uZWN0ZWR8fHMpe2lmKG4uc3RhdGU9PT1DeC5EaXNjb25uZWN0ZWQpdGhyb3cgbmV3IHBPKGhPLlVORVhQRUNURURfRVJST1IsXCJQZWVyQ29ubmVjdGlvbiBhbHJlYWR5IGRpc2Nvbm5lY3RlZC5cIik7bi50aHJvd0lmVHJhY2tUeXBlTm90TWF0Y2goZSk7Y29uc3QgdD1lLmZpbHRlcigoZT0+LTE9PT1uLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKGUpKSk7cmV0dXJuIG4ucGVuZGluZ0xvY2FsVHJhY2tzPW4ucGVuZGluZ0xvY2FsVHJhY2tzLmNvbmNhdCh0KSx2b2lkKHMmJihuLl9pc1dhaXRQY1RvUmVQdWI9ITApKX1uLnN0b3JlLnB1YklkPW4uc3RvcmUucHViSWQrMSx0ai5tYXJrUHVibGlzaFN0YXJ0KG4uc3RvcmUuY2xpZW50SWQsbi5zdG9yZS5wdWJJZCk7Y29uc3QgYT1uLmZpbHRlclRvYmVQdWJsaXNoZWRUcmFja3MoZSx0LGkpO2lmKDA9PT1hLmxlbmd0aClyZXR1cm4gdm9pZCh5aWVsZCBWYihuLnRyeVRvVW5tdXRlQXVkaW8oZSkpKTt5aWVsZCp4YihwRyhuLmRvUHVibGlzaChuLmNvbm5lY3Rpb24sYSkpKX1maW5hbGx5e3IoKX19KSkoKX1kb1B1Ymxpc2goZSx0KXt2YXIgaT10aGlzO3JldHVybiBNYigoZnVuY3Rpb24qKCl7dC5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTpufT1lO2NvbnN0IHI9RGF0ZS5ub3coKTtpLnN0b3JlLnB1Ymxpc2godC5nZXRUcmFja0lkKCksbj09PVJ4LkxvY2FsQXVkaW9UcmFjaz9cImF1ZGlvXCI6XCJ2aWRlb1wiLHIpfSkpLGkuYmluZExvY2FsVHJhY2tFdmVudHModCk7Y29uc3Qgbj10Lm1hcCgoZT0+e2xldHt0cmFjazp0fT1lO3JldHVybiB0fSkpLHI9eWllbGQgVmIoZS5zZW5kKG4saS5zdG9yZS5jb2RlYyxpLnN0b3JlLmF1ZGlvQ29kZWMpKSxvPSh5aWVsZCBWYihyLm5leHQoKSkpLnZhbHVlLHM9aS5jcmVhdGVHYXRld2F5UHVibGlzaE1lc3NhZ2UodCxvKTtsZXQgYTt0cnl7YT15aWVsZCBzfWNhdGNoKGUpe3Rocm93IHIudGhyb3coZSksKG51bGw9PWU/dm9pZCAwOmUuY29kZSk9PT1oTy5XU19BQk9SVCYmdC5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnR9PWU7LTE9PT1pLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKHQpJiZpLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKHQpfSkpLGkudW5iaW5kTG9jYWxUcmFja0V2ZW50cyh0KSxlfWNvbnN0IGM9aS5tYXBQdWJSZXNUb1JlbW90ZUNvbmZpZyhzLGEsbiksZD0oeWllbGQgVmIoci5uZXh0KGMpKSkudmFsdWU7aWYoaS5zdGF0ZT09PUN4LkRpc2Nvbm5lY3RlZCl0aHJvdyBuZXcgcE8oaE8uVU5FWFBFQ1RFRF9FUlJPUixcIlBlZXJDb25uZWN0aW9uIGFscmVhZHkgZGlzY29ubmVjdGVkLlwiKTtDRChcIkVOQUJMRV9WSURFT19TRUlcIik7Y29uc3QgbD1DRChcIkVOQUJMRV9FTkNPREVEX1RSQU5TRk9STVwiKSx1PUNEKFwiRU5BQkxFX0FVRElPX01FVEFEQVRBXCIpO24uZm9yRWFjaCgoYXN5bmMgZT0+e2NvbnN0IHQ9ZS5nZXRSVENSdHBUcmFuc2NlaXZlcigpO2lmKCF0fHwhbClyZXR1cm47Y29uc3R7aW50ZXJjZXB0TG9jYWxWaWRlb0ZyYW1lOmksaW50ZXJjZXB0TG9jYWxBdWRpb0ZyYW1lOm59PWFCKCk7ZS50cmFja01lZGlhVHlwZT09PWZ4LlZJREVPP2F3YWl0IGkodC5zZW5kZXIsZSk6ZS50cmFja01lZGlhVHlwZT09PWZ4LkFVRElPJiZhd2FpdCBuKHQuc2VuZGVyLHttZXRhZGF0YTp1PygpPT57Y29uc3QgdD1lLm1ldGFkYXRhLnNoaWZ0KCk7cmV0dXJuIHQmJnQudmFsdWV9OnZvaWQgMH0pfSkpLHQuZm9yRWFjaCgoZT0+e2xldHt0eXBlOnR9PWU7aS5zdGF0c0NvbGxlY3Rvci5hZGRMb2NhbFN0YXRzKHQpfSkpLGkuYXNzaWduTG9jYWxUcmFja3ModCxkKSxpLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRPdXRib3VuZFN0YXRzKCksdC5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTpufT1lO2NvbnN0IHI9RGF0ZS5ub3coKTtpLnN0b3JlLnB1Ymxpc2godC5nZXRUcmFja0lkKCksbj09PVJ4LkxvY2FsQXVkaW9UcmFjaz9cImF1ZGlvXCI6XCJ2aWRlb1wiLHZvaWQgMCxyKX0pKX0pKSgpfWFzeW5jIHVwZGF0ZVZpZGVvU3RyZWFtUGFyYW1ldGVyKGUsdCl7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHQpO2lmKCFpfHwhdGhpcy5jb25uZWN0aW9uKXJldHVybjtpZighKGkudHJhY2sgaW5zdGFuY2VvZiBrTSkpcmV0dXJuIGlQLndhcm4oXCJbdXBkYXRlVmlkZW9TdHJlYW1QYXJhbWV0ZXJdOiB0cmFjayBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgTG9jYWxWaWRlb1RyYWNrXCIpO2NvbnN0e3RyYWNrOm59PWkscj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9e307cmV0dXJuIGUuaGVpZ2h0JiZlLndpZHRoJiYoaS5zY2FsZVJlc29sdXRpb25Eb3duQnk9X0YoZSx0KSksaS5tYXhGcmFtZXJhdGU9ZS5mcmFtZXJhdGU/ZEYoZS5mcmFtZXJhdGUpOnZvaWQgMCxpLm1heEJpdHJhdGU9ZS5iaXRyYXRlPzFlMyplLmJpdHJhdGU6dm9pZCAwLGl9KGUsbik7aWYobi5fZW5jb2RlckNvbmZpZ3x8KG4uX2VuY29kZXJDb25maWc9e30pLHQhPT1SeC5Mb2NhbFZpZGVvTG93VHJhY2t8fCFDRChcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZwUCgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2RpbmcpbnVsbCE9ci5zY2FsZVJlc29sdXRpb25Eb3duQnkmJihuLl9lbmNvZGVyQ29uZmlnLnNjYWxlUmVzb2x1dGlvbkRvd25CeT1yLnNjYWxlUmVzb2x1dGlvbkRvd25CeSk7ZWxzZXtjb25zdCB0PW4uX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s7aWYoIXQuY2FudmFzKXJldHVybiBpUC53YXJuKFwiW1wiLmNvbmNhdChuLmdldFRyYWNrSWQoKSxcIl0gbm8gY2FudmFzIG9uIHRyYWNrXCIpKTshZnVuY3Rpb24oZSx0KXtjb25zdCBpPWUuY2FudmFzO3Qud2lkdGgmJihpLndpZHRoPWRGKHQud2lkdGgpKSx0LmhlaWdodCYmKGkuaGVpZ2h0PWRGKHQuaGVpZ2h0KSksdC5mcmFtZXJhdGUmJihpLnN0b3BDYXB0dXJlJiZpLnN0b3BDYXB0dXJlKCksaS5zdG9wQ2FwdHVyZT1TTCgoKCk9PnshaS5zdGFydENhcHR1cmUmJmkuc3RvcENhcHR1cmUmJmkuc3RvcENhcHR1cmUoKSxpLnN0YXJ0Q2FwdHVyZSYmaS5zdGFydENhcHR1cmUoKX0pLGRGKHQuZnJhbWVyYXRlKSkpfSh0LGUpfW51bGwhPXIubWF4Qml0cmF0ZSYmKG4uX2VuY29kZXJDb25maWcuYml0cmF0ZU1heD1yLm1heEJpdHJhdGUvMWUzKSxudWxsIT1yLm1heEZyYW1lcmF0ZSYmKG4uX2VuY29kZXJDb25maWcuZnJhbWVSYXRlJiZcIm9iamVjdFwiPT10eXBlb2Ygbi5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGU/bi5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGUubWF4PXIubWF4RnJhbWVyYXRlOm4uX2VuY29kZXJDb25maWcuZnJhbWVSYXRlPXttYXg6ci5tYXhGcmFtZXJhdGV9KSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQobi5nZXRUcmFja0lkKCksXCJdIExvd1N0cmVhbUVuY29kZXJDb25maWc6ICwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShuLl9lbmNvZGVyQ29uZmlnKSkpLGF3YWl0IHRoaXMuY29ubmVjdGlvbi51cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3Mobil9cHVibGlzaExvd1N0cmVhbShlKXt2YXIgdD10aGlzO3JldHVybiBNYigoZnVuY3Rpb24qKCl7aWYoIXQuY29ubmVjdGlvbnx8dC5zdGF0ZSE9PUN4LkNvbm5lY3RlZClyZXR1cm47Y29uc3QgaT15aWVsZCBWYih0Lm11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbC5wdWJsaXNoTG93U3RyZWFtXCIpKTt0cnl7Y29uc3Qgcj10LmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsVmlkZW9UcmFjayk7aWYoIXIpdGhyb3cgbmV3IHBPKGhPLlVORVhQRUNURURfRVJST1IsXCJDb3VsZCBub3QgZmluZCBoaWdoIHN0cmVhbVwiKTtpZih0LmxvY2FsVHJhY2tNYXAuaGFzKFJ4LkxvY2FsVmlkZW9Mb3dUcmFjaykpdGhyb3cgbmV3IHBPKGhPLlVORVhQRUNURURfRVJST1IsXCJbXCIuY29uY2F0KHQuc3RvcmUuY2xpZW50SWQsXCJdIENhbid0IHB1Ymxpc2ggbG93IHN0cmVhbSB3aGVuIHN0cmVhbSBhbHJlYWR5IHB1Ymxpc2hcIikpO2NvbnN0IG89W3t0cmFjazp0LmdldExvd1ZpZGVvVHJhY2soci50cmFjayxlKSx0eXBlOlJ4LkxvY2FsVmlkZW9Mb3dUcmFja31dO2lmKHlpZWxkKnhiKHBHKHQuZG9QdWJsaXNoKHQuY29ubmVjdGlvbixvKSkpLHIudHJhY2subXV0ZWR8fCFyLnRyYWNrLmVuYWJsZWQpe3ZhciBuO2NvbnN0IGU9bnVsbD09PShuPXQubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb0xvd1RyYWNrKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaWQ7dm9pZCAwIT09ZSYmKHlpZWxkIFZiKHQuY29ubmVjdGlvbi5tdXRlTG9jYWwoW2VdKSkpfX1maW5hbGx5e2koKX19KSkoKX1hc3luYyByZXB1Ymxpc2goKXt0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5sZW5ndGg+MCYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBFbWl0IFAyUENoYW5uZWxFdmVudHMuUmVxdWVzdFJlUHVibGlzaCB0byByZXB1Ymxpc2ggdHJhY2tzLlwiKSksYXdhaXQgek8odGhpcyx2eC5SZXF1ZXN0UmVQdWJsaXNoLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzKSx0aGlzLmVtaXQodnguTWVkaWFSZWNvbm5lY3RFbmQsdGhpcy5zdG9yZS51aWQpLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzPVtdKSx0aGlzLnBlbmRpbmdMb2NhbERhdGFDaGFubmVscy5sZW5ndGg+MCYmKGlQLmRlYnVnKFwiRW1pdCBQMlBDaGFubmVsRXZlbnRzLlJlcXVlc3RSZVB1Ymxpc2hEYXRhQ2hhbm5lbCB0byByZXB1Ymxpc2ggZGF0YWNoYW5uZWxzLlwiKSxhd2FpdCB6Tyh0aGlzLHZ4LlJlcXVlc3RSZVB1Ymxpc2hEYXRhQ2hhbm5lbCx0aGlzLnBlbmRpbmdMb2NhbERhdGFDaGFubmVscyksdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHM9W10pLHRoaXMuX2lzV2FpdFBjVG9SZVB1Yj0hMX1hc3luYyByZVN1YnNjcmliZShlKXtmb3IobGV0IGU9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdHt1c2VyOnQsa2luZDppfT10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3NbZV07KGkhPT1meC5BVURJT3x8dC5fYXVkaW9fYWRkZWRfJiZ0Ll9hdWRpb1NTUkMpJiYoaSE9PWZ4LlZJREVPfHx0Ll92aWRlb19hZGRlZF8mJnQuX3ZpZGVvU1NSQyl8fHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UoZSwxKX1pZihlKWF3YWl0IHpPKHRoaXMsdnguUmVxdWVzdFJlU3Vic2NyaWJlLHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcyk7ZWxzZSBmb3IoY29uc3R7dXNlcjplLGtpbmQ6dH1vZiB0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MpYXdhaXQgdGhpcy5zdWJzY3JpYmUoZSx0LHQ9PT1meC5WSURFTz9lLl92aWRlb1NTUkM6ZS5fYXVkaW9TU1JDKTt0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZm9yRWFjaCgoZT0+e2xldHt1c2VyOnR9PWU7dGhpcy5lbWl0KHZ4Lk1lZGlhUmVjb25uZWN0RW5kLHQudWlkKX0pKSx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3M9W119YXN5bmMgdW5wdWJsaXNoKGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgZS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc3BsaWNlKHQsMSl9KSk7Y29uc3QgdD10aGlzLmZpbHRlclRvYmVVbnB1Ymxpc2hlZFRyYWNrcyhlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuO2NvbnN0IGk9dC5maW5kKChlPT5cInZpZGVvTG93VHJhY2tcIj09PWVbMF0pKTtpZihpKXtpWzFdLnRyYWNrLmNsb3NlKCl9cmV0dXJuIHRoaXMuZG9VbnB1Ymxpc2godGhpcy5jb25uZWN0aW9uLHQpfWFzeW5jIHVucHVibGlzaERhdGFDaGFubmVsKGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgZS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdMb2NhbERhdGFDaGFubmVscy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMuc3BsaWNlKHQsMSl9KSk7Y29uc3QgdD10aGlzLmZpbHRlclRvYmVVbnB1Ymxpc2hlZERhdGFDaGFubmVscyhlKTtyZXR1cm4gMCE9PXQubGVuZ3RoPyh0LmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuc3BsaWNlKHQsMSl9KSksMD09PXRoaXMubG9jYWxEYXRhQ2hhbm5lbHMubGVuZ3RoJiZhd2FpdCB0aGlzLmNvbm5lY3Rpb24uc3RvcERhdGFDaGFubmVscyh0aGlzLnN0b3JlLnVpZCksdC5tYXAoKGU9PmUuaWQpKSk6dm9pZCAwfWFzeW5jIHVucHVibGlzaExvd1N0cmVhbSgpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbFZpZGVvTG93VHJhY2spO2lmKCFlKXJldHVybjtlLnRyYWNrLmNsb3NlKCk7Y29uc3QgdD1bW1J4LkxvY2FsVmlkZW9Mb3dUcmFjayxlXV07cmV0dXJuIHRoaXMuZG9VbnB1Ymxpc2godGhpcy5jb25uZWN0aW9uLHQpfWFzeW5jIGRvVW5wdWJsaXNoKGUsdCl7Y29uc3QgaT10aGlzLmNyZWF0ZUdhdGV3YXlVbnB1Ymxpc2hNZXNzYWdlKHQpO3JldHVybiBhd2FpdCBlLnN0b3BTZW5kaW5nKHQubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSkpLHRoaXMud2l0aGRyYXdMb2NhbFRyYWNrcyh0KSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHModC5tYXAoKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7cmV0dXJue3R5cGU6dCx0cmFjazppfX0pKSksdC5mb3JFYWNoKChlPT57bGV0W3RdPWU7dGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVMb2NhbFN0YXRzKHQpfSkpLDA9PT10aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZSYmdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCksaX1hc3luYyBzdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpdGhyb3cgbmV3IHBPKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IHN1YnNjcmliZSByZW1vdGUgdXNlciB3aGVuIHBlZXJDb25uZWN0aW9uIGRpc2Nvbm5lY3RlZC5cIik7Y29uc3QgaT10LmZpbHRlcigodD0+e3ZhciBpO3JldHVybiEobnVsbCE9PShpPXRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuZ2V0KGUpKSYmdm9pZCAwIT09aSYmaS5nZXQodC5pZCkpfSkpO2lmKDAhPT1pLmxlbmd0aClyZXR1cm4gYXdhaXQgdGhpcy5jb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVscyhlLnVpZCxpKSxpLmZvckVhY2goKHQ9Pnt2YXIgaTt0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmhhcyhlKT9udWxsPT09KGk9dGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5nZXQoZSkpfHx2b2lkIDA9PT1pfHxpLnNldCh0LmlkLHQpOnRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuc2V0KGUsbmV3IE1hcChbW3QuaWQsdF1dKSk7Y29uc3Qgbj10aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMuZmluZEluZGV4KChpPT57bGV0e3VzZXI6bixpZDpyfT1pO3JldHVybiBuLnVpZD09PWUudWlkJiZyPT09dC5pZH0pKTstMSE9PW4mJnRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscy5zcGxpY2UobiwxKX0pKSxpLm1hcCgoZT0+ZS5pZCkpfWFzeW5jIHN1YnNjcmliZShlLHQsaSxuLHIpe3ZhciBvO2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpdGhyb3cgbmV3IHBPKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IHN1YnNjcmliZSByZW1vdGUgdXNlciB3aGVuIHBlZXJDb25uZWN0aW9uIGRpc2Nvbm5lY3RlZC5cIik7aWYobnVsbCE9PShvPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSkpJiZ2b2lkIDAhPT1vJiZvLmhhcyh0KSlyZXR1cm47bGV0IHMsYSxjLGQ7Y29uc3QgbD10aGlzLmNvbm5lY3Rpb24uZ2V0UHJlTWVkaWEoaSk7aWYobClpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gcHJlU1NSQ01hcCBoYXMgc3NyY0lkOiBcIikuY29uY2F0KGksXCIsIG5vIG5lZWQgdG8gc2VuZCBzdWIgdG8gZ2F0ZXdheS5cIikpLGM9bC50cmFuc2NlaXZlcixzPWwudHJhY2ssYT1sLm1pZCxkPWwucGxheWVyLGwuZmlyc3RWaWRlb1JlbmRlciYmdGhpcy5zdG9yZS5maXJzdFZpZGVvRnJhbWVEZWNvZGVkKGUudWlkLHtmaXJzdFByZVJlbmRlcjpsLmZpcnN0VmlkZW9SZW5kZXJ9KTtlbHNlIGlmKHIpe2NvbnN0IGk9ci5maW5kKChlPT57bGV0e3N0cmVhbV90eXBlOml9PWU7cmV0dXJuIGk9PT10fSkpO2lmKCFpKXRocm93IG5ldyBwTyhoTy5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IHN1YnNjcmliZSB0byByZW1vdGUgXCIuY29uY2F0KHQsXCIgZm9yIHVzZXI6IFwiKS5jb25jYXQoZS51aWQsXCIgYmVjYXVzZSBzdWJzY3JpYmUgYW5zd2VyIGZyb20gZ2F0ZXdheSBkb2VzIG5vdCBjb250YWluIHN0cmVhbV90eXBlOiBcIikuY29uY2F0KHQsXCIuXCIpKTtjb25zdCBuPWF3YWl0IHRoaXMuY29ubmVjdGlvbi5yZWNlaXZlKHQsaS5zc3JjcyxTdHJpbmcoZS5fdWludGlkKSxpLmF0dHJpYnV0ZXMpOyh0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBGanx8XCJuYW1lXCJpbiB0aGlzLmNvbm5lY3Rpb24mJlwiRGF0YUNoYW5uZWxDb25uZWN0aW9uXCI9PT10aGlzLmNvbm5lY3Rpb24ubmFtZSkmJihjPW4udHJhbnNjZWl2ZXIpLHM9bi50cmFjayxhPW4uaWR9ZWxzZXtjb25zdCByPWF3YWl0IHRoaXMuY29ubmVjdGlvbi5yZWNlaXZlKHQsW3tzc3JjSWQ6aSxydHg6bn1dLFN0cmluZyhlLl91aW50aWQpLHZvaWQgMCk7KHRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIEZqfHxcIm5hbWVcImluIHRoaXMuY29ubmVjdGlvbiYmXCJEYXRhQ2hhbm5lbENvbm5lY3Rpb25cIj09PXRoaXMuY29ubmVjdGlvbi5uYW1lKSYmKGM9ci50cmFuc2NlaXZlcikscz1yLnRyYWNrLGE9ci5pZH1pZih0PT09ZnguQVVESU8/KGUuX2F1ZGlvVHJhY2s/ZS5fYXVkaW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhzKTooZS5fYXVkaW9UcmFjaz1uZXcgJE0ocyxlLnVpZCxlLl91aW50aWQsdGhpcy5zdG9yZSksaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSBhdWRpbyB0cmFjazogXCIpLmNvbmNhdChlLl9hdWRpb1RyYWNrLmdldFRyYWNrSWQoKSkpKSxjJiZlLl9hdWRpb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihjKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLGUuX2F1ZGlvVHJhY2spKTooZS5fdmlkZW9UcmFjaz9lLl92aWRlb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKHMpOihlLl92aWRlb1RyYWNrPW5ldyBaTShzLGUudWlkLGUuX3VpbnRpZCx0aGlzLnN0b3JlLGQpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGNyZWF0ZSByZW1vdGUgdmlkZW8gdHJhY2s6IFwiKS5jb25jYXQoZS5fdmlkZW9UcmFjay5nZXRUcmFja0lkKCkpKSxlLl92aWRlb1RyYWNrLm9uY2UoV1AuUExBWV9TVEFSVCwoKCk9Pnt0aGlzLnN0b3JlLmZpcnN0VmlkZW9GcmFtZURlY29kZWQoZS51aWQse3BsYXlTdGFydDpEYXRlLm5vdygpfSl9KSksZS5fdmlkZW9UcmFjay5vbmNlKFdQLlBMQVlfRU5ELCgoKT0+e3RoaXMuc3RvcmUuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZChlLnVpZCx7cGxheUVuZDpEYXRlLm5vdygpfSksdGhpcy5yZXBvcnRWaWRlb0ZpcnN0RnJhbWVSZW5kZXIoZSl9KSksZD9lLl92aWRlb1RyYWNrLm9uY2UoV1AuRklSU1RfRlJBTUVfUkVOREVSLCgoKT0+e3RoaXMuc3RvcmUuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZChlLnVpZCx7Zmlyc3RSZW5kZXI6RGF0ZS5ub3coKX0pLHRoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lUmVuZGVyKGUpfSkpOmUuX3ZpZGVvVHJhY2sub25jZShXUC5GSVJTVF9GUkFNRV9ERUNPREVELCgoKT0+e3RoaXMuc3RvcmUuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZChlLnVpZCx7Zmlyc3RSZW5kZXI6RGF0ZS5ub3coKX0pLHRoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lUmVuZGVyKGUpfSkpKSxjJiZlLl92aWRlb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihjKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLGUuX3ZpZGVvVHJhY2spKSxjJiZDRChcIkVOQUJMRV9FTkNPREVEX1RSQU5TRk9STVwiKSl7Y29uc3R7aW50ZXJjZXB0UmVtb3RlVmlkZW9GcmFtZTppLGludGVyY2VwdFJlbW90ZUF1ZGlvRnJhbWU6bn09YUIoKTt0PT1meC5WSURFTz9hd2FpdCBpKGMucmVjZWl2ZXIse29uU2VpOkNEKFwiRU5BQkxFX1ZJREVPX1NFSVwiKSYmKHQ9Pnt2YXIgaTtyZXR1cm4gbnVsbD09PShpPWUuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1pP3ZvaWQgMDppLl9vblNlaSh0KX0pLG9uRmlyc3RGcmFtZTplPT57dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKFdEKHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50Ll92aWRlb1NTUkM9PT1lLnNzcmMpKTtpJiZ0aGlzLnN0b3JlLmZpcnN0VmlkZW9GcmFtZURlY29kZWQoaS51aWQse2ZpcnN0UmVjZWl2ZWRFbmNvZGVkRnJhbWU6RGF0ZS5ub3coKSxmcmFtZVR5cGU6ZS50eXBlLHJ0cFRpbWVzdGFtcDplLnJ0cFRpbWVzdGFtcCxmcmFtZVBheWxvYWRUeXBlOmUucGF5bG9hZFR5cGUsZnJhbWVEYXRhTGVuZ3RoOmUubGVuZ3RoLG1pbWVUeXBlOmUubWltZVR5cGV9KX19KTp0PT1meC5BVURJTyYmYXdhaXQgbihjLnJlY2VpdmVyLHtlbmFibGVUb3BuOiEhQ0QoXCJFTkFCTEVfQVVESU9fVE9QTlwiKSxlbmFibGVNZXRhZGF0YTohIUNEKFwiRU5BQkxFX0FVRElPX01FVEFEQVRBXCIpLGVuYWJsZVB0czohIUNEKFwiRU5BQkxFX0FVRElPX1BUU1wiKSxvbk1ldGFkYXRhOmU9Pnt0aGlzLnNhZmVFbWl0KHZ4LkF1ZGlvTWV0YWRhdGEsZSl9LG9uUHRzOmU9Pnt0aGlzLnNhZmVFbWl0KHZ4LkF1ZGlvUHRzLGUpfX0pfWNvbnN0IHU9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTt1P3Uuc2V0KHQsYSk6dGhpcy5yZW1vdGVVc2VyTWFwLnNldChlLG5ldyBNYXAoW1t0LGFdXSkpLHRoaXMuc3RhdHNDb2xsZWN0b3IuYWRkUmVtb3RlU3RhdHMoZS51aWQpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZEluYm91bmRTdGF0cygpO2NvbnN0IGg9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZpbmRJbmRleCgoaT0+e2xldHt1c2VyOm4sa2luZDpyfT1pO3JldHVybiBuLnVpZD09PWUudWlkJiZ0PT09cn0pKTstMSE9PWgmJih0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKGgsMSksdGhpcy5lbWl0KHZ4Lk1lZGlhUmVjb25uZWN0RW5kLGUudWlkKSl9YXN5bmMgbWFzc1N1YnNjcmliZShlKXtyZXR1cm4gdGhpcy5tYXNzU3Vic2NyaWJlTm9Mb2NrKGUpfWFzeW5jIG1hc3NTdWJzY3JpYmVOb0xvY2soZSl7aWYoIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PUN4LkNvbm5lY3RlZCl0aHJvdyBuZXcgcE8oaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3Qgc3Vic2NyaWJlQWxsIHJlbW90ZSB1c2VycyB3aGVuIHBlZXJDb25uZWN0aW9uIGRpc2Nvbm5lY3RlZC5cIik7ZT1lLmZpbHRlcigoZT0+e3ZhciB0O2xldHt1c2VyOmksbWVkaWFUeXBlOm59PWU7cmV0dXJuIShudWxsIT09KHQ9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChpKSkmJnZvaWQgMCE9PXQmJnQuaGFzKG4pKX0pKTtjb25zdCB0PVtdLGk9bmV3IE1hcDtlLmZvckVhY2goKGU9PntpZighdGhpcy5jb25uZWN0aW9uKXJldHVybjtjb25zdCBuPXRoaXMuY29ubmVjdGlvbi5nZXRQcmVNZWRpYShlLnNzcmNJZCk7aWYobil7Y29uc3R7dHJhY2s6dCxtaWQ6cix0cmFuc2NlaXZlcjpvLHBsYXllcjpzfT1uO2kuc2V0KGUuc3NyY0lkLHt0cmFjazp0LGlkOnIsdHJhbnNjZWl2ZXI6byxwbGF5ZXI6c30pfWVsc2UgdC5wdXNoKGUpfSkpO2NvbnN0IG49YXdhaXQgdGhpcy5jb25uZWN0aW9uLmJhdGNoUmVjZWl2ZSh0Lm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOmksc3NyY0lkOm4scnR4U3NyY0lkOnJ9PWU7cmV0dXJue2tpbmQ6aSxzc3JjTXNnOlt7c3NyY0lkOm4scnR4OnJ9XSxtc2xhYmVsOlN0cmluZyh0Ll91aW50aWQpfX0pKSk7dC5mb3JFYWNoKCgoZSx0KT0+e2kuc2V0KGUuc3NyY0lkLG5bdF0pfSkpO2Zvcihjb25zdHt1c2VyOnQsbWVkaWFUeXBlOm4sc3NyY0lkOnJ9b2YgZSl7Y29uc3QgZT1pLmdldChyKTtpZighZSlyZXR1cm4gdm9pZCBpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY2Fubm90IGZpbmQgXCIpLmNvbmNhdCh0LnVpZCxcIiBzdWJzY3JpYmUgZGF0YSxcIikuY29uY2F0KG4sXCIsIFwiKS5jb25jYXQocikpO2NvbnN0e3RyYWNrOm8saWQ6cyx0cmFuc2NlaXZlcjphLHBsYXllcjpjfT1lO2lmKGEmJkNEKFwiRU5BQkxFX0VOQ09ERURfVFJBTlNGT1JNXCIpKXtjb25zdHtpbnRlcmNlcHRSZW1vdGVWaWRlb0ZyYW1lOmUsaW50ZXJjZXB0UmVtb3RlQXVkaW9GcmFtZTppfT1hQigpO249PWZ4LlZJREVPP2F3YWl0IGUoYS5yZWNlaXZlcix7b25TZWk6Q0QoXCJFTkFCTEVfVklERU9fU0VJXCIpJiYoZT0+e3ZhciBpO3JldHVybiBudWxsPT09KGk9dC5fdmlkZW9UcmFjayl8fHZvaWQgMD09PWk/dm9pZCAwOmkuX29uU2VpKGUpfSksb25GaXJzdEZyYW1lOmU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oV0QodD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX3ZpZGVvU1NSQz09PWUuc3NyYykpO2kmJnRoaXMuc3RvcmUuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZChpLnVpZCx7Zmlyc3RSZWNlaXZlZEVuY29kZWRGcmFtZTpEYXRlLm5vdygpLGZyYW1lVHlwZTplLnR5cGUscnRwVGltZXN0YW1wOmUucnRwVGltZXN0YW1wLGZyYW1lUGF5bG9hZFR5cGU6ZS5wYXlsb2FkVHlwZSxmcmFtZURhdGFMZW5ndGg6ZS5sZW5ndGgsbWltZVR5cGU6ZS5taW1lVHlwZX0pfX0pOm49PWZ4LkFVRElPJiZhd2FpdCBpKGEucmVjZWl2ZXIse2VuYWJsZVRvcG46ISFDRChcIkVOQUJMRV9BVURJT19UT1BOXCIpLGVuYWJsZU1ldGFkYXRhOiEhQ0QoXCJFTkFCTEVfQVVESU9fTUVUQURBVEFcIiksZW5hYmxlUHRzOiEhQ0QoXCJFTkFCTEVfQVVESU9fUFRTXCIpLG9uTWV0YWRhdGE6ZT0+e3RoaXMuc2FmZUVtaXQodnguQXVkaW9NZXRhZGF0YSxlKX0sb25QdHM6ZT0+e3RoaXMuc2FmZUVtaXQodnguQXVkaW9QdHMsZSl9fSl9aWYobj09PWZ4LkFVRElPPyh0Ll9hdWRpb1RyYWNrP3QuX2F1ZGlvVHJhY2suX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2sobyk6KHQuX2F1ZGlvVHJhY2s9bmV3ICRNKG8sdC51aWQsdC5fdWludGlkLHRoaXMuc3RvcmUpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGNyZWF0ZSByZW1vdGUgYXVkaW8gdHJhY2s6IFwiKS5jb25jYXQodC5fYXVkaW9UcmFjay5nZXRUcmFja0lkKCkpKSksYSYmdC5fYXVkaW9UcmFjay5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoYSksdGhpcy5iaW5kUmVtb3RlVHJhY2tFdmVudHModCx0Ll9hdWRpb1RyYWNrKSk6KHQuX3ZpZGVvVHJhY2s/dC5fdmlkZW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhvKToodC5fdmlkZW9UcmFjaz1uZXcgWk0obyx0LnVpZCx0Ll91aW50aWQsdGhpcy5zdG9yZSxjKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIHZpZGVvIHRyYWNrOiBcIikuY29uY2F0KHQuX3ZpZGVvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLGEmJnQuX3ZpZGVvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGEpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQsdC5fdmlkZW9UcmFjaykpLENEKFwiRU5BQkxFX1ZJREVPX1NFSVwiKSYmYSl7Y29uc3R7aW50ZXJjZXB0UmVtb3RlVmlkZW9GcmFtZTplLGludGVyY2VwdFJlbW90ZUF1ZGlvRnJhbWU6aX09YUIoKTtuPT1meC5WSURFTz9hd2FpdCBlKGEucmVjZWl2ZXIse29uU2VpOmU9Pnt2YXIgaTtudWxsPT09KGk9dC5fdmlkZW9UcmFjayl8fHZvaWQgMD09PWl8fGkuX29uU2VpKGUpfSxvbkZpcnN0RnJhbWU6ZT0+e3ZhciB0O2NvbnN0IGk9QXJyYXkuZnJvbShXRCh0PXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbCh0KSkuZmluZCgodD0+dC5fdmlkZW9TU1JDPT09ZS5zc3JjKSk7aSYmdGhpcy5zdG9yZS5maXJzdFZpZGVvRnJhbWVEZWNvZGVkKGkudWlkLHtmaXJzdFJlY2VpdmVkRW5jb2RlZEZyYW1lOkRhdGUubm93KCksZnJhbWVUeXBlOmUudHlwZSxydHBUaW1lc3RhbXA6ZS5ydHBUaW1lc3RhbXAsZnJhbWVQYXlsb2FkVHlwZTplLnBheWxvYWRUeXBlLGZyYW1lRGF0YUxlbmd0aDplLmxlbmd0aCxtaW1lVHlwZTplLm1pbWVUeXBlfSl9fSk6bj09ZnguQVVESU8mJmF3YWl0IGkoYS5yZWNlaXZlcil9Y29uc3QgZD10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO2Q/ZC5zZXQobixzKTp0aGlzLnJlbW90ZVVzZXJNYXAuc2V0KHQsbmV3IE1hcChbW24sc11dKSksdGhpcy5zdGF0c0NvbGxlY3Rvci5hZGRSZW1vdGVTdGF0cyh0LnVpZCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkSW5ib3VuZFN0YXRzKCk7Y29uc3QgbD10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZmluZEluZGV4KChlPT57bGV0e3VzZXI6aSxraW5kOnJ9PWU7cmV0dXJuIGkudWlkPT09dC51aWQmJm49PT1yfSkpOy0xIT09bCYmKHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UobCwxKSx0aGlzLmVtaXQodnguTWVkaWFSZWNvbm5lY3RFbmQsdC51aWQpKX19YXN5bmMgdW5zdWJzY3JpYmUoZSx0LGkpe2NvbnN0IG49dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZpbHRlcigoaT0+e2xldHt1c2VyOm4sa2luZDpyfT1pO3JldHVybiB2b2lkIDAhPT10P24udWlkPT09ZS51aWQmJnQ9PT1yOm4udWlkPT09ZS51aWR9KSk7aWYobi5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuaW5kZXhPZihlKTt0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKHQsMSl9KSksdGhpcy5jb25uZWN0aW9uJiZ0aGlzLnN0YXRlPT09Q3guQ29ubmVjdGVkfHxpfHxuLmZvckVhY2goKHQ9PntsZXR7a2luZDppfT10O3ZhciBuO2lmKGk9PT1meC5BVURJTyludWxsPT09KG49ZS5fYXVkaW9UcmFjayl8fHZvaWQgMD09PW58fG4uX2Rlc3Ryb3koKSxlLl9hdWRpb1RyYWNrPXZvaWQgMDtlbHNlIGlmKGk9PT1meC5WSURFTyl7dmFyIHI7bnVsbD09PShyPWUuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1yfHxyLl9kZXN0cm95KCksZS5fdmlkZW9UcmFjaz12b2lkIDB9fSkpLCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IHI9dGhpcy5maWx0ZXJUb2JlVW5TdWJzY3JpYmVkVHJhY2tzKGUsdCk7aWYoMD09PXIubGVuZ3RoKXJldHVybjthd2FpdCB0aGlzLmNvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyhyLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKTtjb25zdCBvPXRoaXMuY3JlYXRlVW5zdWJzY3JpYmVNZXNzYWdlKHIpO3JldHVybiB0aGlzLndpdGhkcmF3UmVtb3RlVHJhY2tzKHIpLDA9PT10aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSYmdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRJbmJvdW5kU3RhdHMoKSxyLmZvckVhY2goKGU9PntsZXRbdCx7a2luZDpufV09ZTt2YXIgcixvO249PT1meC5WSURFTyYmdC5fdmlkZW9TU1JDJiYobnVsbD09PShyPXRoaXMuY29ubmVjdGlvbil8fHZvaWQgMD09PXJ8fHIuc2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkodC5fdmlkZW9TU1JDLCExKSk7aWYobj09PWZ4LlZJREVPKXRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHModC5fdmlkZW9UcmFjayksaXx8KG51bGw9PT0obz10Ll92aWRlb1RyYWNrKXx8dm9pZCAwPT09b3x8by5fZGVzdHJveSgpLHQuX3ZpZGVvVHJhY2s9dm9pZCAwKTtlbHNlIGlmKG49PT1meC5BVURJTyl7dmFyIHM7aWYodGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0Ll9hdWRpb1RyYWNrKSwhaSludWxsPT09KHM9dC5fYXVkaW9UcmFjayl8fHZvaWQgMD09PXN8fHMuX2Rlc3Ryb3koKSx0Ll9hdWRpb1RyYWNrPXZvaWQgMH19KSksb31hc3luYyB1bnN1YnNjcmliZURhdGFDaGFubmVsKGUsdCl7aWYodC5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMuZmluZEluZGV4KCh0PT50LmlkPT09ZS5pZCkpOy0xIT09dCYmdGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzLnNwbGljZSh0LDEpfSkpLCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IGk9dGhpcy5maWx0ZXJUb2JlVW5TdWJzY3JpYmVkRGF0YUNoYW5uZWxzKGUsdCk7aWYoMD09PWkubGVuZ3RoKXJldHVybjt0LmZvckVhY2goKGU9PntlLl9jbG9zZSgpfSkpO2NvbnN0IG49dGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5nZXQoZSk7cmV0dXJuIGkuZm9yRWFjaCgoZT0+e24mJm4uZGVsZXRlKGUuaWQpfSkpLG4mJjA9PT1uLnNpemUmJih0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmRlbGV0ZShlKSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24uc3RvcERhdGFDaGFubmVscyhlLnVpZCkpLGkubWFwKChlPT5lLmlkKSl9YXN5bmMgbWFzc1Vuc3Vic2NyaWJlKGUpe3JldHVybiB0aGlzLm1hc3NVbnN1YnNjcmliZU5vTG9jayhlKX1hc3luYyBtYXNzVW5zdWJzY3JpYmVOb0xvY2soZSl7bGV0IHQ9W107Zm9yKGNvbnN0e3VzZXI6aSxtZWRpYVR5cGU6bn1vZiBlKXtjb25zdCBlPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maWx0ZXIoKGU9PntsZXR7dXNlcjp0LGtpbmQ6cn09ZTtyZXR1cm4gdm9pZCAwIT09bj90LnVpZD09PWkudWlkJiZuPT09cjp0LnVpZD09PWkudWlkfSkpO2UuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmluZGV4T2YoZSk7dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZSh0LDEpfSkpLHQ9dC5jb25jYXQoZSl9aWYoIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PUN4LkNvbm5lY3RlZClyZXR1cm4gdm9pZCB0LmZvckVhY2goKGU9PntsZXR7dXNlcjp0LGtpbmQ6aX09ZTt2YXIgbjtpZihpPT09ZnguQVVESU8pbnVsbD09PShuPXQuX2F1ZGlvVHJhY2spfHx2b2lkIDA9PT1ufHxuLl9kZXN0cm95KCksdC5fYXVkaW9UcmFjaz12b2lkIDA7ZWxzZSBpZihpPT09ZnguVklERU8pe3ZhciByO251bGw9PT0ocj10Ll92aWRlb1RyYWNrKXx8dm9pZCAwPT09cnx8ci5fZGVzdHJveSgpLHQuX3ZpZGVvVHJhY2s9dm9pZCAwfX0pKTtjb25zdCBpPW5yKGUpLmNhbGwoZSwoKGUsdCk9PntsZXR7dXNlcjppLG1lZGlhVHlwZTpufT10O2NvbnN0IHI9dGhpcy5maWx0ZXJUb2JlVW5TdWJzY3JpYmVkVHJhY2tzKGksbik7cmV0dXJuIGUuY29uY2F0KHIpfSksW10pO2lmKDA9PT1pLmxlbmd0aClyZXR1cm47YXdhaXQgdGhpcy5jb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcoaS5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSk7Y29uc3Qgbj10aGlzLmNyZWF0ZVVuc3Vic2NyaWJlQWxsTWVzc2FnZShpKTtyZXR1cm4gdGhpcy53aXRoZHJhd1JlbW90ZVRyYWNrcyhpKSwwPT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJnRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkSW5ib3VuZFN0YXRzKCksaS5mb3JFYWNoKChlPT57bGV0W3Qse2tpbmQ6aX1dPWU7dmFyIG4scjtpPT09ZnguVklERU8mJnQuX3ZpZGVvU1NSQyYmKG51bGw9PT0obj10aGlzLmNvbm5lY3Rpb24pfHx2b2lkIDA9PT1ufHxuLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KHQuX3ZpZGVvU1NSQywhMSkpO2lmKGk9PT1meC5WSURFTyl0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX3ZpZGVvVHJhY2spLG51bGw9PT0ocj10Ll92aWRlb1RyYWNrKXx8dm9pZCAwPT09cnx8ci5fZGVzdHJveSgpLHQuX3ZpZGVvVHJhY2s9dm9pZCAwO2Vsc2UgaWYoaT09PWZ4LkFVRElPKXt2YXIgbzt0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX2F1ZGlvVHJhY2spLG51bGw9PT0obz10Ll9hdWRpb1RyYWNrKXx8dm9pZCAwPT09b3x8by5fZGVzdHJveSgpLHQuX2F1ZGlvVHJhY2s9dm9pZCAwfX0pKSxufWlzUHJlU3ViU2NyaWJlKGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuITE7cmV0dXJuISF0aGlzLmNvbm5lY3Rpb24uZ2V0UHJlTWVkaWEoZSl9YXN5bmMgbXV0ZVJlbW90ZShlLHQpe2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IGk9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighaSlyZXR1cm4gdm9pZCBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIuXCIpKTtpZighaS5nZXQodCkpcmV0dXJuIHZvaWQgaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiIG1lZGlhIHR5cGUgXCIpLmNvbmNhdCh0LFwiLlwiKSk7Y29uc3Qgbj10PT09ZnguVklERU8/ZS5fdmlkZW9TU1JDOmUuX2F1ZGlvU1NSQzt2b2lkIDAhPT1uJiZ0aGlzLmNvbm5lY3Rpb24uc2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkobiwhMSl9YXN5bmMgdW5tdXRlUmVtb3RlKGUsdCl7cmV0dXJuIHRoaXMudW5tdXRlUmVtb3RlTm9Mb2NrKGUsdCl9YXN5bmMgdW5tdXRlUmVtb3RlTm9Mb2NrKGUsdCl7aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm47Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO2lmKCFpKXJldHVybiB2b2lkIGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwudW5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiLlwiKSk7aS5nZXQodCl8fGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwudW5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiIG1lZGlhIHR5cGUgXCIpLmNvbmNhdCh0LFwiLlwiKSl9YWRkQXVkaW9NZXRhZGF0YShlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxBdWRpb1RyYWNrKSxpPXQmJnQudHJhY2s7aSYmaS5tZXRhZGF0YS5wdXNoKGUpfWdldEFsbFRyYWNrcyhlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxBdWRpb1RyYWNrKTtpZigobnVsbD09dD92b2lkIDA6dC50cmFjaylpbnN0YW5jZW9mIFdrKXtjb25zdCBpPXQudHJhY2s7cmV0dXJuIEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKChlPT57bGV0W3RdPWU7cmV0dXJuIHQhPT1SeC5Mb2NhbEF1ZGlvVHJhY2t9KSkuZmlsdGVyKCh0PT57bGV0W2ldPXQ7cmV0dXJuIShlJiZpPT09UnguTG9jYWxWaWRlb0xvd1RyYWNrKX0pKS5tYXAoKGU9PntsZXRbLHt0cmFjazp0fV09ZTtyZXR1cm4gdH0pKS5jb25jYXQoaS50cmFja0xpc3QpfXJldHVybiBBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbHRlcigodD0+e2xldFtpXT10O3JldHVybiEoZSYmaT09PVJ4LkxvY2FsVmlkZW9Mb3dUcmFjayl9KSkubWFwKChlPT57bGV0Wyx7dHJhY2s6dH1dPWU7cmV0dXJuIHR9KSl9Z2V0QWxsRGF0YUNoYW5uZWxzKCl7cmV0dXJuIHRoaXMubG9jYWxEYXRhQ2hhbm5lbHN9cmVwb3J0UHVibGlzaEV2ZW50KGUsdCxpLG4scil7aWYoZSl7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsQXVkaW9UcmFjayksbz1uP3RoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb0xvd1RyYWNrKTp0aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsVmlkZW9UcmFjayk7bFAucHVibGlzaCh0aGlzLnN0b3JlLnNlc3Npb25JZCx7ZXZlbnRFbGFwc2U6dGoubWVhc3VyZUZyb21QdWJsaXNoU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0aGlzLnN0b3JlLnB1YklkKSxzdWNjOmUsZWM6dCxhdWRpb05hbWU6bnVsbD09aT92b2lkIDA6aS50cmFjay5nZXRUcmFja0xhYmVsKCksdmlkZW9OYW1lOm51bGw9PW8/dm9pZCAwOm8udHJhY2suZ2V0VHJhY2tMYWJlbCgpLHNjcmVlbnNoYXJlOi0xIT09KG51bGw9PW8/dm9pZCAwOm8udHJhY2suX2hpbnRzLmluZGV4T2YoVlAuU0NSRUVOX1RSQUNLKSksYXVkaW86ISFpLHZpZGVvOiEhbyxwMnBpZDp0aGlzLnN0b3JlLnAycElkLHB1Ymxpc2hSZXF1ZXN0aWQ6dGhpcy5zdG9yZS5wdWJJZCxleHRlbmQ6cn0pfWVsc2V7dmFyIG87aXx8KGk9W10pO2NvbnN0IHM9aS5maW5kKChlPT5lIGluc3RhbmNlb2YgQmspKSxhPW4/bnVsbD09PShvPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb1RyYWNrKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8udHJhY2s6aS5maW5kKChlPT5lIGluc3RhbmNlb2Yga00pKTtsUC5wdWJsaXNoKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtldmVudEVsYXBzZTp0ai5tZWFzdXJlRnJvbVB1Ymxpc2hTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHRoaXMuc3RvcmUucHViSWQpLHN1Y2M6ZSxlYzp0LGF1ZGlvTmFtZTpudWxsPT1zP3ZvaWQgMDpzLmdldFRyYWNrTGFiZWwoKSx2aWRlb05hbWU6bnVsbD09YT92b2lkIDA6YS5nZXRUcmFja0xhYmVsKCksc2NyZWVuc2hhcmU6LTEhPT0obnVsbD09YT92b2lkIDA6YS5faGludHMuaW5kZXhPZihWUC5TQ1JFRU5fVFJBQ0spKSxhdWRpbzohIXMsdmlkZW86ISFhLHAycGlkOnRoaXMuc3RvcmUucDJwSWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLGV4dGVuZDpyfSl9fXJlcG9ydFN1YnNjcmliZUV2ZW50KGUsdCxpLG4pe2NvbnN0IHI9bj09PWZ4LlZJREVPP2kuX3ZpZGVvU1NSQzppLl9hdWRpb1NTUkM7ciYmbFAuc3Vic2NyaWJlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtzdWNjOmUsZWM6dCx2aWRlbzpuPT09ZnguVklERU8sYXVkaW86bj09PWZ4LkFVRElPLHBlZXJpZDppLnVpZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6cixwMnBpZDp0aGlzLnN0b3JlLnAycElkLGV2ZW50RWxhcHNlOnRqLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxyKSxwcmVTc3JjOnRoaXMuaXNQcmVTdWJTY3JpYmUocil9KX1yZXNldCgpe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnJlc2V0XCIpKSx0aGlzLm11dGV4PW5ldyBQTihcIlAyUENoYW5uZWwtbXV0ZXhcIix0aGlzLnN0b3JlLmNsaWVudElkKSx0aGlzLmNvbm5lY3Rpb24mJih0aGlzLnJlc2V0Q29ubmVjdGlvbih0aGlzLmNvbm5lY3Rpb24pLHRoaXMuY29ubmVjdGlvbj12b2lkIDApLHRoaXMuc2hvdWxkRm9yd2FyZFAyUENyZWF0aW9uJiYodGhpcy5jb25uZWN0aW9uPUxqKHRoaXMuc3RvcmUpLHRoaXMuZW1pdCh2eC5QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlLHRoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuY29ubmVjdGlvbikpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkT3V0Ym91bmRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkSW5ib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRUcmFuc3BvcnRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkQmFzZVN0YXRzKCksdGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKCksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMudW5iaW5kUnRwVHJhbnNjZWl2ZXIoKTtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxBdWRpb1RyYWNrKTtpZigobnVsbD09ZT92b2lkIDA6ZS50cmFjaylpbnN0YW5jZW9mIFdrKXtpZihlLnRyYWNrLnRyYWNrTGlzdC5sZW5ndGg+MCl7Y29uc3QgdD1lLnRyYWNrO2UudHJhY2sudHJhY2tMaXN0LmZvckVhY2goKGU9Pnt0LnJlbW92ZUF1ZGlvVHJhY2soZSl9KSl9ZS50cmFjay5jbG9zZSgpfXRoaXMubG9jYWxUcmFja01hcC5jbGVhcigpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlUmVtb3RlU3RhdHMoKSx0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZUxvY2FsU3RhdHMoKSx0aGlzLmljZUZhaWxlZENvdW50PTAsdGhpcy5kdGxzRmFpbGVkQ291bnQ9MCx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcz1bXSx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3M9W10sdGhpcy5sb2NhbERhdGFDaGFubmVscz1bXSx0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmNsZWFyKCksdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHM9W10sdGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzPVtdLHRoaXMuc3RhdGU9Q3guRGlzY29ubmVjdGVkfWdldFN0YXRzKCl7dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLmNvbm5lY3Rpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3ZhciB0O3JldHVybihudWxsPT09KHQ9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSkpfHwhMX1nZXRMb2NhbEF1ZGlvVm9sdW1lKCl7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsQXVkaW9UcmFjayk7aWYoZSlyZXR1cm4gZS50cmFjay5nZXRWb2x1bWVMZXZlbCgpfWdldExvY2FsVmlkZW9TaXplKCl7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsVmlkZW9UcmFjayk7aWYoZSlyZXR1cm57d2lkdGg6ZS50cmFjay52aWRlb1dpZHRofHwwLGhlaWdodDplLnRyYWNrLnZpZGVvSGVpZ2h0fHwwfX1nZXRFbmNvZGVyQ29uZmlnKGUpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChlKTtyZXR1cm4gdCYmdC50cmFjayBpbnN0YW5jZW9mIGtNfHx0JiZ0LnRyYWNrIGluc3RhbmNlb2YgQms/dC50cmFjay5fZW5jb2RlckNvbmZpZzp2b2lkIDB9Z2V0TG9jYWxNZWRpYShlKXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmdldChlKX1oYXNMb2NhbE1lZGlhKCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5zaXplPjB9aGFzUmVtb3RlTWVkaWEoZSx0KXtpZighZSlyZXR1cm4gdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU+MDtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7cmV0dXJuISFpJiYoIXR8fGkuaGFzKHQpKX1hc3luYyBoYXNSZW1vdGVNZWRpYVdpdGhMb2NrKGUsdCl7aWYoIWUpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO3JldHVybiEhaSYmKCF0fHxpLmhhcyh0KSl9Z2V0UmVtb3RlTWVkaWEoZSl7dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKFdEKHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50LnVpZD09PWUpKTtyZXR1cm4gaT97YXVkaW9UcmFjazppLmF1ZGlvVHJhY2ssYXVkaW9TU1JDOmkuX2F1ZGlvU1NSQyx2aWRlb1RyYWNrOmkudmlkZW9UcmFjayx2aWRlb1NTUkM6aS5fdmlkZW9TU1JDfTp7fX1nZXRBdWRpb0xldmVscygpe2xldCBlPUFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkubWFwKChlPT57bGV0W3RdPWU7cmV0dXJue3VpZDp0LnVpZCxsZXZlbDp0LmF1ZGlvVHJhY2s/MTAwKnQuYXVkaW9UcmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKTowfX0pKTtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxBdWRpb1RyYWNrKTtyZXR1cm4gdCYmZS5wdXNoKHtsZXZlbDoxMDAqdC50cmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSx1aWQ6dGhpcy5zdG9yZS51aWR9KSxlPVFwKGUpLmNhbGwoZSwoKGUsdCk9PmUubGV2ZWwtdC5sZXZlbCkpLGV9YXN5bmMgZGlzY29ubmVjdEZvclJlY29ubmVjdCgpe3RoaXMuY29ubmVjdGlvbiYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QgY2xvc2luZyBQMlBDb25uZWN0aW9uXCIpKSx0aGlzLnN0YXRlPUN4LlJlY29ubmVjdGluZyxDRChcIktFRVBfTEFTVF9GUkFNRVwiKSYmMCE9PXRoaXMucmVtb3RlVXNlck1hcC5zaXplJiZBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdF09ZTt2YXIgaTt0Ll92aWRlb1RyYWNrJiZ0Ll92aWRlb1RyYWNrLl9wbGF5ZXImJihudWxsPT09KGk9dC5fdmlkZW9UcmFjay5fcGxheWVyLmdldFZpZGVvRWxlbWVudCgpKXx8dm9pZCAwPT09aXx8aS5wYXVzZSgpLHQuX3ZpZGVvVHJhY2suX3BsYXllci5pc0tlZXBMYXN0RnJhbWU9ITAsdC5fdmlkZW9UcmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpfSkpLHRoaXMucmVzZXRDb25uZWN0aW9uKHRoaXMuY29ubmVjdGlvbiksdGhpcy5jb25uZWN0aW9uPXZvaWQgMCx0aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbiYmKHRoaXMuY29ubmVjdGlvbj1Maih0aGlzLnN0b3JlKSx0aGlzLmVtaXQodnguUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZSx0aGlzLmNvbm5lY3Rpb24ucGVlckNvbm5lY3Rpb25TdGF0ZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSwwIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJihBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9Pnt2YXIgdDtsZXRbaSx7dHJhY2s6bn1dPWU7c3dpdGNoKGkpe2Nhc2UgUnguTG9jYWxWaWRlb1RyYWNrOkxuKHQ9bi5faGludHMpLmNhbGwodCxWUC5MT1dfU1RSRUFNKT9uLmNsb3NlKCk6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MucHVzaChuKTticmVhaztjYXNlIFJ4LkxvY2FsQXVkaW9UcmFjazpuIGluc3RhbmNlb2YgV2s/dGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuY29uY2F0KG4udHJhY2tMaXN0KTp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKG4pO2Nhc2UgUnguTG9jYWxWaWRlb0xvd1RyYWNrOn19KSksdGhpcy5lbWl0KHZ4Lk1lZGlhUmVjb25uZWN0U3RhcnQsdGhpcy5zdG9yZS51aWQpKSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoKSx0aGlzLmxvY2FsVHJhY2tNYXAuY2xlYXIoKSwwIT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7QXJyYXkuZnJvbShXRChpKS5jYWxsKGkpKS5mb3JFYWNoKChlPT57dGhpcy5zZXRQZW5kaW5nUmVtb3RlTWVkaWEodCxlKX0pKSx0aGlzLmVtaXQodnguTWVkaWFSZWNvbm5lY3RTdGFydCx0LnVpZCl9KSksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLDAhPT10aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmxlbmd0aCYmKHRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuZm9yRWFjaCgoZT0+e3RoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLnB1c2goZSl9KSksdGhpcy5sb2NhbERhdGFDaGFubmVscy5sZW5ndGg9MCksMCE9PXRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuc2l6ZSYmKEFycmF5LmZyb20odGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO0FycmF5LmZyb20oV0QoaSkuY2FsbChpKSkuZm9yRWFjaCgoZT0+e3RoaXMuc2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKHQsZSl9KSl9KSksdGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5jbGVhcigpKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZE91dGJvdW5kU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZEluYm91bmRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkVHJhbnNwb3J0U3RhdHMoKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbCBkaXNjb25uZWN0ZWQsIHdhaXRpbmcgdG8gcmVjb25uZWN0LlwiKSkpfWhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChlLHQpe2Zvcihjb25zdCBpIG9mIHRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscyl7Y29uc3R7dXNlcjpuLGlkOnJ9PWk7aWYoKGUgaW5zdGFuY2VvZiBhaj9lLnVpZDplKT09PW4udWlkJiZyPT09dClyZXR1cm4hMH1yZXR1cm4hMX1zZXRQZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWwoZSx0KXt0aGlzLmhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChlLHQpfHx0aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMucHVzaCh7dXNlcjplLGlkOnR9KX1oYXNQZW5kaW5nUmVtb3RlTWVkaWEoZSx0KXtmb3IoY29uc3QgaSBvZiB0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Mpe2NvbnN0e3VzZXI6bixraW5kOnJ9PWk7aWYoKGUgaW5zdGFuY2VvZiBhaj9lLnVpZDplKT09PW4udWlkJiZ0PT09cilyZXR1cm4hMH1yZXR1cm4hMX1zZXRQZW5kaW5nUmVtb3RlTWVkaWEoZSx0KXt0aGlzLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShlLHQpfHx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MucHVzaCh7dXNlcjplLGtpbmQ6dH0pfXJlc3RhcnRJQ0UoZSl7dmFyIHQ9dGhpcztyZXR1cm4gTWIoKGZ1bmN0aW9uKigpe2lmKCF0LmNvbm5lY3Rpb258fHQuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IGk9eWllbGQgVmIodC5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnJlc3RhcnRJQ0VcIikpO2xldCBuO3RyeXtuPXlpZWxkIFZiKHQuY29ubmVjdGlvbi5yZXN0YXJ0SUNFKGUpKTtjb25zdCByPXlpZWxkIFZiKG4ubmV4dCgpKTtpZihyLmRvbmUpcmV0dXJuO2NvbnN0IG89ci52YWx1ZSxzPXlpZWxkIG87c3dpdGNoKGtqKHQuY29ubmVjdGlvbikmJnQucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHQuX3BjU3RhdHNVcGxvYWRUeXBlKSxlKXtjYXNlIFN4LlVEUF9UQ1BfUkVMQVk6dC5fcGNTdGF0c1VwbG9hZFR5cGU9Z3guVURQX1RDUF9SRVNUQVJUO2JyZWFrO2Nhc2UgU3guVENQX1JFTEFZOnQuX3BjU3RhdHNVcGxvYWRUeXBlPWd4LlRDUF9SRVNUQVJUO2JyZWFrO2Nhc2UgU3guUkVMQVk6dC5fcGNTdGF0c1VwbG9hZFR5cGU9Z3guUkVMQVlfUkVTVEFSVDticmVhaztkZWZhdWx0OnQuX3BjU3RhdHNVcGxvYWRUeXBlPWd4Lk9MRF9SRVNUQVJUfXQuX2lzVHJ5Q29ubmVjdGluZz0hMCxuLm5leHQocyl9Y2F0Y2goZSl7dmFyIHI7bnVsbD09PShyPW4pfHx2b2lkIDA9PT1yfHxyLnRocm93KGUpfWZpbmFsbHl7aSgpfX0pKSgpfWdldFVwbGlua05ldHdvcmtRdWFsaXR5KCl7aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm4gMDtjb25zdCBlPXRoaXMuY29ubmVjdGlvbi5nZXRTdGF0cygpLHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbFZpZGVvVHJhY2spLGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbEF1ZGlvVHJhY2spLG49ZS52aWRlb1NlbmQuZmluZCgoZT0+ZS5zc3JjPT09KG51bGw9PXQ/dm9pZCAwOnQuc3NyY3NbMF0uc3NyY0lkKSkpLHI9ZS5hdWRpb1NlbmQuZmluZCgoZT0+ZS5zc3JjPT09KG51bGw9PWk/dm9pZCAwOmkuc3NyY3NbMF0uc3NyY0lkKSkpO2lmKCFufHwhcilyZXR1cm4gMTtjb25zdCBvPVhPKHRoaXMsdnguTmVlZFNpZ25hbFJUVCkscz1uP24ucnR0TXM6dm9pZCAwLGE9cj9yLnJ0dE1zOnZvaWQgMCxjPXMmJmE/KHMrYSkvMjpzfHxhLGQ9KGMmJm8/KGMrbykvMjpjfHxvKXx8MCxsPTEwMCplLnNlbmRQYWNrZXRMb3NzUmF0ZSouNy81MCsuMypkLzE1MDAsdT1sPC4xNz8xOmw8LjM2PzI6bDwuNTk/MzpsPC4xPzQ6NSxoPW51bGw9PXQ/dm9pZCAwOnQudHJhY2s7aWYoaCYmaC5fZW5jb2RlckNvbmZpZyYmLTE9PT1oLl9oaW50cy5pbmRleE9mKFZQLlNDUkVFTl9UUkFDSykpe2NvbnN0IHQ9aC5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LGk9ZS5iaXRyYXRlLmFjdHVhbEVuY29kZWQ7aWYodCYmaSl7Y29uc3QgZT0oMWUzKnQtaSkvKDFlMyp0KTtyZXR1cm4gSFVbZTwuMTU/MDplPC4zPzE6ZTwuNDU/MjplPC42PzM6NF1bdV19fXJldHVybiB1fWdldERvd25saW5rTmV0d29ya1F1YWxpdHkoKXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiAwO2NvbnN0IGU9dGhpcy5jb25uZWN0aW9uLmdldFN0YXRzKCk7bGV0IHQ9MDtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKChpPT57bGV0W25dPWk7Y29uc3Qgcj1uLl9hdWRpb1NTUkMsbz1uLl92aWRlb1NTUkMscz1lLmF1ZGlvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1yKSksYT1lLnZpZGVvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1vKSk7aWYoIXMmJiFhKXJldHVybiB2b2lkKHQrPTEpO2NvbnN0IGM9WE8odGhpcyx2eC5OZWVkU2lnbmFsUlRUKSxkPWUucnR0LGw9KGQmJmM/KGQrYykvMjpkfHxjKXx8MCx1PXM/cy5qaXR0ZXJNczp2b2lkIDAsaD1lLnJlY3ZQYWNrZXRMb3NzUmF0ZTtsZXQgcD0uNypoKjEwMC81MCsuMypsLzE1MDA7dSYmKHA9LjYqaCoxMDAvNTArLjIqbC8xNTAwKy4yKnUvNDAwKTt0Kz1wPC4xPzE6cDwuMTc/MjpwPC4zNj8zOnA8LjU5PzQ6NX0pKSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT4wP01hdGgucm91bmQodC90aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSk6dH1hc3luYyBtdXRlTG9jYWxUcmFjayhlKXtyZXR1cm4gbmV3IHJwKCgodCxpKT0+e3RoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2soZSx0LGkpfSkpfWFzeW5jIHJlcGxhY2VUcmFjayhlLHQpe3ZhciBpO2lmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsIHJlcGxhY2VUcmFjayBmcm9tIFtcIikuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSB0byBbXCIpLmNvbmNhdCh0LmdldFRyYWNrSWQoKSxcIl1cIikpLCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IG49QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKCFuKXJldHVybjtjb25zdCByPW5bMF07aWYoZSE9PXQmJih0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoW3t0cmFjazplLHR5cGU6cn1dKSx0aGlzLmJpbmRMb2NhbFRyYWNrRXZlbnRzKFt7dHJhY2s6dCx0eXBlOnJ9XSksblsxXS50cmFjaz10KSxhd2FpdChudWxsPT09KGk9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09aT92b2lkIDA6aS5yZXBsYWNlVHJhY2sodCxuWzFdLmlkKSksdGhpcy5pc1BsYW5CKXtjb25zdCBlPW5bMV07ZS5pZD10Ll9tZWRpYVN0cmVhbVRyYWNrLmlkLHRoaXMubG9jYWxUcmFja01hcC5zZXQocixlKX1pZihyPT09UnguTG9jYWxWaWRlb1RyYWNrJiYhQ0QoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmcFAoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb0xvd1RyYWNrKTtpZih0KXtjb25zdCBpPWUuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTt0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSx0LnRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrPWksdC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1pLGF3YWl0IG5ldyBycCgoKGUsaSk9Pnt0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayh0LnRyYWNrLGUsaSwhMCl9KSl9fX1maWx0ZXJUb2JlUHVibGlzaGVkVHJhY2tzKGUsdCxpKXtjb25zdCBuPVtdLHI9dGhpcy5nZXRBbGxUcmFja3MoKTtlPXJOKGU9ZS5maWx0ZXIoKGU9Pi0xPT09ci5pbmRleE9mKGUpKSkpO2xldCBvLHM9ITE7Y29uc3QgYT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsQXVkaW9UcmFjayk7Zm9yKGNvbnN0IHIgb2YgZSl7aWYociBpbnN0YW5jZW9mIGtNJiYodGhpcy5sb2NhbFRyYWNrTWFwLmhhcyhSeC5Mb2NhbFZpZGVvVHJhY2spfHxzP25ldyBwTyhoTy5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKS50aHJvdygpOihuLnB1c2goe3RyYWNrOnIsdHlwZTpSeC5Mb2NhbFZpZGVvVHJhY2t9KSxzPSEwKSx0KSl7Y29uc3QgZT10aGlzLmdldExvd1ZpZGVvVHJhY2socixpKTtuLnB1c2goe3RyYWNrOmUsdHlwZTpSeC5Mb2NhbFZpZGVvTG93VHJhY2t9KX1pZihyIGluc3RhbmNlb2YgQmspaWYoYSl7Y29uc3QgZT1hLnRyYWNrO2lmKGUgaW5zdGFuY2VvZiBXaylOaihbcl0pLGUuYWRkQXVkaW9UcmFjayhyKSx0aGlzLmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMociwhMCk7ZWxzZXtjb25zdCB0PURqKFtlLHJdKTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uIHdpbGwgcmVwbGFjZSBhdWRpb1RyYWNrIFtcIikuY29uY2F0KHQuZ2V0VHJhY2tJZCgpLFwiXVwiKSksdGhpcy5yZXBsYWNlVHJhY2soZSx0KX19ZWxzZSBpZihvIGluc3RhbmNlb2YgV2spTmooW3JdKSxvLmFkZEF1ZGlvVHJhY2socik7ZWxzZSBpZihvfHwhci5fdXNlQXVkaW9FbGVtZW50JiZwUCgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0JiYhci5fYnlwYXNzV2ViQXVkaW8pe289RGoobz9bcixvXTpbcl0pfWVsc2Ugbz1yfXJldHVybiBvJiYoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbiB3aWxsIHNlbmQgYXVkaW9UcmFjayBbXCIpLmNvbmNhdChvLmdldFRyYWNrSWQoKSxcIl1cIikpLG4ucHVzaCh7dHJhY2s6byx0eXBlOlJ4LkxvY2FsQXVkaW9UcmFja30pKSxufWZpbHRlclRvYmVVbnB1Ymxpc2hlZFRyYWNrcyhlKXtjb25zdCB0PVtdLGk9dGhpcy5nZXRBbGxUcmFja3MoKTtlPXJOKGU9ZS5maWx0ZXIoKGU9Pi0xIT09aS5pbmRleE9mKGUpKSkpO2Zvcihjb25zdCBpIG9mIGUpe2lmKGkgaW5zdGFuY2VvZiBCayl7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsQXVkaW9UcmFjayk7aWYoIWUpY29udGludWU7ZS50cmFjayBpbnN0YW5jZW9mIFdrPyhlLnRyYWNrLnJlbW92ZUF1ZGlvVHJhY2soaSksdGhpcy51bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMoaSksMD09PWUudHJhY2sudHJhY2tMaXN0Lmxlbmd0aCYmKHQucHVzaChbUnguTG9jYWxBdWRpb1RyYWNrLGVdKSxlLnRyYWNrLmNsb3NlKCkpKTp0LnB1c2goW1J4LkxvY2FsQXVkaW9UcmFjayxlXSl9aWYoaSBpbnN0YW5jZW9mIGtNKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb1RyYWNrKTtpZighZSljb250aW51ZTt0LnB1c2goW1J4LkxvY2FsVmlkZW9UcmFjayxlXSk7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsVmlkZW9Mb3dUcmFjayk7aSYmdC5wdXNoKFtSeC5Mb2NhbFZpZGVvTG93VHJhY2ssaV0pfX1yZXR1cm4gdH1maWx0ZXJUb2JlUHVibGlzaGVkRGF0YUNoYW5uZWxzKGUpe3JldHVybiBlPShlPXJOKGUpKS5maWx0ZXIoKGU9Pi0xPT09dGhpcy5sb2NhbERhdGFDaGFubmVscy5maW5kSW5kZXgoKHQ9PnQuaWQ9PT1lLmlkKSkpKX1maWx0ZXJUb2JlVW5wdWJsaXNoZWREYXRhQ2hhbm5lbHMoZSl7cmV0dXJuIGU9KGU9KGU9ck4oZSkpLmZpbHRlcigoZT0+LTEhPT10aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmluZGV4T2YoZSkpKSkuZmlsdGVyKChlPT5lLl9vcmlnaW5EYXRhQ2hhbm5lbCkpfWJpbmRMb2NhbFRyYWNrRXZlbnRzKGUpe2UuZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6aX09ZTtzd2l0Y2goaSl7Y2FzZSBSeC5Mb2NhbFZpZGVvVHJhY2s6dC5hZGRMaXN0ZW5lcihVUC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHMpLHQuYWRkTGlzdGVuZXIoVVAuR0VUX1JUQ19TVEFUUyx0aGlzLmhhbmRsZUdldFJUQ1N0YXRzKSx0LmFkZExpc3RlbmVyKFVQLk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKFVQLk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksdC5hZGRMaXN0ZW5lcihVUC5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9FbmNvZGVyKSx0LmFkZExpc3RlbmVyKFVQLk5FRURfVVBEQVRFX1ZJREVPX1NFTkRfUEFSQU1FVEVSUyx0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvU2VuZFBhcmFtZXRlcnMpLHQuYWRkTGlzdGVuZXIoVVAuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSx0LmFkZExpc3RlbmVyKFVQLk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKFVQLk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayk7YnJlYWs7Y2FzZSBSeC5Mb2NhbEF1ZGlvVHJhY2s6dGhpcy5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKHQpO2Nhc2UgUnguTG9jYWxWaWRlb0xvd1RyYWNrOn19KSl9YmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhlLHQpe2UgaW5zdGFuY2VvZiBXaz9lLnRyYWNrTGlzdC5mb3JFYWNoKChlPT57ZS5hZGRMaXN0ZW5lcihVUC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihVUC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoVVAuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxlLmFkZExpc3RlbmVyKFVQLk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKFVQLk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayl9KSk6KGUuYWRkTGlzdGVuZXIoVVAuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxlLmFkZExpc3RlbmVyKFVQLk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKFVQLk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihVUC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihVUC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLHR8fChlLmFkZExpc3RlbmVyKFVQLk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksZS5hZGRMaXN0ZW5lcihVUC5ORUVEX1JFUExBQ0VfTUlYSU5HX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZU1peGluZ1RyYWNrKSkpfXVuYmluZExvY2FsVHJhY2tFdmVudHMoZSl7ZXx8KGU9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5tYXAoKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7cmV0dXJue3RyYWNrOmksdHlwZTp0fX0pKSksZS5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTppfT1lO3N3aXRjaChpKXtjYXNlIFJ4LkxvY2FsVmlkZW9UcmFjazp0Lm9mZihVUC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHMpLHQub2ZmKFVQLkdFVF9SVENfU1RBVFMsdGhpcy5oYW5kbGVHZXRSVENTdGF0cyksdC5vZmYoVVAuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQub2ZmKFVQLk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksdC5vZmYoVVAuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlciksdC5vZmYoVVAuTkVFRF9VUERBVEVfVklERU9fU0VORF9QQVJBTUVURVJTLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9TZW5kUGFyYW1ldGVycyksdC5vZmYoVVAuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSx0Lm9mZihVUC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5vZmYoVVAuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTticmVhaztjYXNlIFJ4LkxvY2FsQXVkaW9UcmFjazp0aGlzLnVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyh0KTtjYXNlIFJ4LkxvY2FsVmlkZW9Mb3dUcmFjazp9fSkpfXVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhlKXtlIGluc3RhbmNlb2YgV2s/ZS50cmFja0xpc3QuZm9yRWFjaCgoZT0+e2Uub2ZmKFVQLk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZihVUC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUub2ZmKFVQLkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5vZmYoVVAuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKFVQLk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayl9KSk6KGUub2ZmKFVQLkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5vZmYoVVAuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKFVQLk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5vZmYoVVAuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSxlLm9mZihVUC5ORUVEX1JFUExBQ0VfTUlYSU5HX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZU1peGluZ1RyYWNrKSxlLm9mZihVUC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoVVAuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSl9YmluZFJlbW90ZVRyYWNrRXZlbnRzKGUsdCl7dCBpbnN0YW5jZW9mIFpNJiZ0LmFkZExpc3RlbmVyKFVQLkdFVF9TVEFUUywodD0+e3QodGhpcy5oYW5kbGVHZXRSZW1vdGVWaWRlb1N0YXRzKGUpKX0pKSx0IGluc3RhbmNlb2YgJE0mJnQuYWRkTGlzdGVuZXIoVVAuR0VUX1NUQVRTLCh0PT57dCh0aGlzLmhhbmRsZUdldFJlbW90ZUF1ZGlvU3RhdHMoZSkpfSkpfXVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGUpe2UmJmUucmVtb3ZlQWxsTGlzdGVuZXJzKFVQLkdFVF9TVEFUUyl9dW5iaW5kQWxsUmVtb3RlVHJhY2tFdmVudHMoKXtBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO2kuaGFzKGZ4LkFVRElPKSYmdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0Ll9hdWRpb1RyYWNrKSxpLmhhcyhmeC5WSURFTykmJnRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHModC5fdmlkZW9UcmFjayl9KSl9Y3JlYXRlR2F0ZXdheVB1Ymxpc2hNZXNzYWdlKGUsdCl7cmV0dXJuIGUubWFwKCgoZSxpKT0+e3ZhciBuO2xldCByLG8se3RyYWNrOnMsdHlwZTphfT1lO3N3aXRjaChhKXtjYXNlIFJ4LkxvY2FsQXVkaW9UcmFjazpyPW94LkF1ZGlvLG89e2R0eDpzIGluc3RhbmNlb2YgamsmJnMuX2NvbmZpZy5EVFgsaHE6ITEsbHE6ITEsc3RlcmVvOiExLHNwZWVjaDohMX07YnJlYWs7Y2FzZSBSeC5Mb2NhbFZpZGVvVHJhY2s6cj1MbihuPXMuX2hpbnRzKS5jYWxsKG4sVlAuU0NSRUVOX1RSQUNLKT9veC5TY3JlZW46b3guSGlnaCxvPWhHKGhHKHt9LGxGKHMpKSx7fSx7Y29kZWM6dGhpcy5zdG9yZS5jb2RlYyxzdmNfbW9kZTpTRigpfSk7YnJlYWs7Y2FzZSBSeC5Mb2NhbFZpZGVvTG93VHJhY2s6cj1veC5Mb3csbz1oRyhoRyh7fSxsRihzKSkse30se2NvZGVjOnRoaXMuc3RvcmUuY29kZWMsc3ZjX21vZGU6U0YoKX0pfXJldHVybntzdHJlYW1fdHlwZTpyLGF0dHJpYnV0ZXM6byxzc3Jjczp0W2ldfX0pKX1jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpvLGlkOnN9XT1lO3N3aXRjaChuKXtjYXNlIFJ4LkxvY2FsVmlkZW9UcmFjazppPUxuKHQ9ci5faGludHMpLmNhbGwodCxWUC5TQ1JFRU5fVFJBQ0spP294LlNjcmVlbjpveC5IaWdoO2JyZWFrO2Nhc2UgUnguTG9jYWxBdWRpb1RyYWNrOmk9b3guQXVkaW87YnJlYWs7Y2FzZSBSeC5Mb2NhbFZpZGVvTG93VHJhY2s6aT1veC5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6byxtaWQ6c319KSl9YXNzaWduTG9jYWxUcmFja3MoZSx0KXtlLmZvckVhY2goKChlLGkpPT57bGV0e3RyYWNrOm4sdHlwZTpyfT1lO3RoaXMubG9jYWxUcmFja01hcC5zZXQocix7dHJhY2s6bixpZDp0W2ldLmlkLHNzcmNzOnRbaV0ubG9jYWxTU1JDfSl9KSl9d2l0aGRyYXdMb2NhbFRyYWNrcyhlKXtlLmZvckVhY2goKGU9PntsZXRbdF09ZTt0aGlzLmxvY2FsVHJhY2tNYXAuZGVsZXRlKHQpfSkpfWJpbmRDb25uZWN0aW9uRXZlbnRzKGUpe2Uub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9YXN5bmMgdD0+e2lmKGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZShcIikuY29uY2F0KHQsXCIpXCIpKSx0aGlzLmVtaXQodnguUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZSx0KSxcImNvbm5lY3RpbmdcIj09PXQmJmUgaW5zdGFuY2VvZiBGaiYmIUJ3KCkmJkNEKFwiRklSU1RfVENQX0NBTkRJREFURVwiKSYmd2luZG93LnNldFRpbWVvdXQoKCgpPT57XCJjb25uZWN0aW5nXCI9PT10JiZlLmV4dGVuZENhbmRpZGF0ZSgpfSksQ0QoXCJGSVJTVF9UQ1BfQ0FORElEQVRFX0lOVEVSVkFMXCIpKSxcImNvbm5lY3RlZFwiIT09dHx8dGhpcy5zdG9yZS5rZXlNZXRyaWNzLnBlZXJDb25uZWN0aW9uRW5kfHx0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uRW5kKCksXCJjb25uZWN0ZWRcIj09PXQpe3RoaXMuX3Jlc3RhcnRUaW1lciYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fcmVzdGFydFRpbWVyKSx0aGlzLl9yZXN0YXJ0VGltZXI9dm9pZCAwKSxlIGluc3RhbmNlb2YgRmomJmNHKGUsITApLHRoaXMuX2lzVHJ5Q29ubmVjdGluZyYmdGhpcy5yZXBvcnRQQ1N0YXRzKERhdGUubm93KCksITAsdGhpcy5fcGNTdGF0c1VwbG9hZFR5cGUpLHRoaXMuX2lzVHJ5Q29ubmVjdGluZz0hMSx0aGlzLl9pc1N0YXJ0UmVzdGFydEljZT0hMSx0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZT1neC5ESVNDT05ORUNURURfT1JfRkFJTEVEO2lmKFwiQ09OTkVDVEVEXCI9PT1YTyh0aGlzLHZ4LlF1ZXJ5Q2xpZW50Q29ubmVjdGlvblN0YXRlKSYmdGhpcy5faXNXYWl0UGNUb1JlUHViKXtjb25zdCBlPXRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLm1hcCgoZT0+ZS5nZXRUcmFja0lkKCkpKSx0PXRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLm1hcCgoZT0+XCJkY19cIi5jb25jYXQoZS5pZCkpKTtsUC5yZXBvcnRBcGlJbnZva2UodGhpcy5zdG9yZS5zZXNzaW9uSWQse25hbWU6TE8uUkVQVUJfQUZURVJfUENfQ09OTkVDVEVELG9wdGlvbnM6ZS5jb25jYXQodCksdGFnOmtPLlRSQUNFUn0pLm9uU3VjY2VzcygpLHRoaXMucmVwdWJsaXNoKCl9fWlmKENEKFwiTkVXX0lDRV9SRVNUQVJUXCIpJiZlIGluc3RhbmNlb2YgRmomJiFCdygpJiYhdGhpcy5fZm9yY2VUdXJuJiYhdGhpcy5zdG9yZS51c2VEY1NpZ25hbCl7aWYoTG4oVHgpLmNhbGwoVHgsdCkpe2lmKHRoaXMuX2lzU3RhcnRSZXN0YXJ0SWNlKXJldHVybjt0aGlzLl9pc1N0YXJ0UmVzdGFydEljZT0hMDtjb25zdCB0PXQ9PntpZihraihlKSl7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDaGFubmVsXSB0cnkgdG8gcmVzdGFydElDRSwgdHlwZSBpcyBcIikuY29uY2F0KHQpKTtcIkNPTk5FQ1RFRFwiPT09WE8odGhpcyx2eC5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZSkmJnRoaXMuZW1pdCh2eC5SZXF1ZXN0UmVzdGFydElDRSx0KX19LGk9KCk9PntraihlKSYmKHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQgdGltZW91dCwgZm9yY2UgcmVjb25uZWN0XCIpKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5lbWl0KHZ4LlAyUExvc3QpKSwwKSx0aGlzLmljZUZhaWxlZENvdW50Kz0xLHRoaXMucmVxdWVzdFJlY29ubmVjdCgpKX07cmV0dXJuIHZvaWQodGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2RHKGUsdCxpKX0pLDgwMCkpfX1lbHNle2lmKFwiZGlzY29ubmVjdGVkXCI9PT10JiZcImRpc2Nvbm5lY3RlZFwiPT09ZS5pY2VDb25uZWN0aW9uU3RhdGUpcmV0dXJuIHNldFRpbWVvdXQoKCgpPT57aWYoXCJkaXNjb25uZWN0ZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlJiZDRChcIklDRV9SRVNUQVJUXCIpKXtcIkNPTk5FQ1RFRFwiPT09WE8odGhpcyx2eC5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZSkmJnRoaXMuZW1pdCh2eC5SZXF1ZXN0UmVzdGFydElDRSl9fSksODAwKSx2b2lkIHNldFRpbWVvdXQoKCgpPT57XCJkaXNjb25uZWN0ZWRcIj09PWUucGVlckNvbm5lY3Rpb25TdGF0ZSYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24gZGlzY29ubmVjdGVkIHRpbWVvdXQgNDAwMG1zLCBmb3JjZSByZWNvbm5lY3RcIikpLHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSx0aGlzLl9pc1RyeUNvbm5lY3Rpbmc9ITEsc2V0VGltZW91dCgoKCk9PnRoaXMuZW1pdCh2eC5QMlBMb3N0KSksMCksdGhpcy5pY2VGYWlsZWRDb3VudCs9MSx0aGlzLnJlcXVlc3RSZWNvbm5lY3QoKSl9KSw0ZTMpO1wiZmFpbGVkXCI9PT10JiYoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbiBzdGF0ZSBmYWlsZWQsIGZvcmNlIHJlY29ubmVjdFwiKSksdGhpcy5yZXBvcnRQQ1N0YXRzKERhdGUubm93KCksITEsdGhpcy5fcGNTdGF0c1VwbG9hZFR5cGUpLHNldFRpbWVvdXQoKCgpPT50aGlzLmVtaXQodnguUDJQTG9zdCkpLDApLHRoaXMuaWNlRmFpbGVkQ291bnQrPTEsYXdhaXQgdGhpcy5yZXF1ZXN0UmVjb25uZWN0KCkpfX0sZS5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZT1lPT57XCJjb25uZWN0ZWRcIiE9PWV8fHRoaXMuc3RvcmUua2V5TWV0cmljcy5pY2VDb25uZWN0aW9uRW5kfHx0aGlzLnN0b3JlLmljZUNvbm5lY3Rpb25FbmQoKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSksbFAucmVwb3J0QXBpSW52b2tlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtuYW1lOlwiSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsb3B0aW9uczplLHRhZzprTy5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSx0aGlzLmVtaXQodnguSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlLGUpfSxlLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9ZT0+e2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpfSxlLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9PntpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSl9LGUub25EVExTVHJhbnNwb3J0RXJyb3I9ZT0+e2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkRUTFNUcmFuc3BvcnRFcnJvcihcIikuY29uY2F0KGUsXCIpXCIpKX0sZS5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oV0QodD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX2F1ZGlvU1NSQz09PWUpKTt2YXIgbjtpJiYodGhpcy5zdG9yZS5zdWJzY3JpYmUoaS51aWQsXCJhdWRpb1wiLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpLG51bGw9PT0obj1pLmF1ZGlvVHJhY2spfHx2b2lkIDA9PT1ufHxuLmVtaXQoV1AuRklSU1RfRlJBTUVfREVDT0RFRCksbFAuZmlyc3RSZW1vdGVGcmFtZSh0aGlzLnN0b3JlLnNlc3Npb25JZCxzUC5GSVJTVF9BVURJT19ERUNPREUsYVAuRklSU1RfQVVESU9fREVDT0RFLHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6dGoubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KSl9LGUub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O2NvbnN0IGk9QXJyYXkuZnJvbShXRCh0PXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbCh0KSkuZmluZCgodD0+dC5fYXVkaW9TU1JDPT09ZSkpO2kmJmxQLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsc1AuRklSU1RfQVVESU9fUkVDRUlWRUQsYVAuRklSU1RfQVVESU9fUkVDRUlWRUQse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTp0ai5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pfSxlLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsdCxpKT0+e3ZhciBuO2NvbnN0IHI9QXJyYXkuZnJvbShXRChuPXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbChuKSkuZmluZCgodD0+dC5fdmlkZW9TU1JDPT09ZSkpO3ImJnRoaXMuc3RvcmUuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZChyLnVpZCx7Zmlyc3REZWNvZGVkOkRhdGUubm93KCl9KSx0aGlzLnJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQoZSx0LGkpfSxlLm9uRmlyc3RWaWRlb1JlbmRlcj1lPT57dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKFdEKHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50Ll92aWRlb1NTUkM9PT1lKSk7aSYmKHRoaXMuc3RvcmUuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZChpLnVpZCx7Zmlyc3RQcmVSZW5kZXI6RGF0ZS5ub3coKX0pLHRoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lUmVuZGVyKGkpLHRoaXMuZW1pdCh2eC5GaXJzdFZpZGVvUHJlUmVuZGVyLGkudWlkLGUpKX0sZS5vbkZpcnN0VmlkZW9SZWNlaXZlZD1lPT57dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKFdEKHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50Ll92aWRlb1NTUkM9PT1lKSk7aSYmKHRoaXMuc3RvcmUuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZChpLnVpZCx7Zmlyc3RSZWNlaXZlZDpEYXRlLm5vdygpfSksbFAuZmlyc3RSZW1vdGVGcmFtZSh0aGlzLnN0b3JlLnNlc3Npb25JZCxzUC5GSVJTVF9WSURFT19SRUNFSVZFRCxhUC5GSVJTVF9WSURFT19SRUNFSVZFRCx7cGVlcjppLl91aW50aWQsc3Vic2NyaWJlRWxhcHNlOnRqLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxlKSxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZSxwMnBpZDp0aGlzLnN0b3JlLnAycElkfSkpfSxlLm9uRmlyc3RWaWRlb0J1ZmZlclJlYWR5PWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oV0QodD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX3ZpZGVvU1NSQz09PWUpKTtpJiZ0aGlzLmVtaXQodnguRmlyc3RWaWRlb0J1ZmZlclJlYWR5LGkudWlkLGUpfSxlLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pntjb25zdCBpPVwicmVsYXlcIj09PWUuY2FuZGlkYXRlVHlwZSxuPVwicmVsYXlcIj09PXQuY2FuZGlkYXRlVHlwZTtcInVua25vd25cIiE9PXQuY2FuZGlkYXRlVHlwZSYmaT09PW58fHRoaXMuZW1pdCh2eC5Db25uZWN0aW9uVHlwZUNoYW5nZSxpKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQoXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShFRih0KSksXCIgLT4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShFRihlKSksXCIpXCIpKX0sZS5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQoXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShFRih0KSksXCIgLT4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShFRihlKSksXCIpXCIpKX0sZS5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dGhpcy5yZXBvcnRWaWRlb0ZpcnN0RnJhbWVEZWNvZGVkKGUsdm9pZCAwLHZvaWQgMCwhMCl9LGUuZ2V0TG9jYWxWaWRlb1N0YXRzPSgpPT57Y29uc3QgZT10aGlzLnN0YXRzQ29sbGVjdG9yLmdldExvY2FsVmlkZW9UcmFja1N0YXRzKCksdD10aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJUQ1N0YXRzKCk7cmV0dXJuIGhHKGhHKHt9LGUpLHQpfSxlLm9uSUNFQ2FuZGlkYXRlRXJyb3I9ZT0+e3RoaXMuX2ljZUVycm9yPWV9fWZhbGxiYWNrQ29ubmVjdGlvbigpe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ2hhbm5lbF0gdHJ5IHRvIGZhbGxiYWNrIGNvbm5lY3Rpb25cIikpLHRoaXMuc3RhdGU9PT1DeC5Db25uZWN0ZWQ/KGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ2hhbm5lbF0gZmFsbGJhY2sgdG8gd2Vic29ja2V0IGJ1dCBQMlBDaGFubmVsIHN0YXRlIHN0aWxsIGNvbm5lY3RlZCwgZGlzY29ubmVjdCBmaXJzdFwiKSksdGhpcy5kaXNjb25uZWN0Rm9yUmVjb25uZWN0KCkpOih0aGlzLmNvbm5lY3Rpb24mJnRoaXMucmVzZXRDb25uZWN0aW9uKHRoaXMuY29ubmVjdGlvbiksdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJih0aGlzLmNvbm5lY3Rpb249TGoodGhpcy5zdG9yZSksdGhpcy5lbWl0KHZ4LlBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2UsdGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGUpLHRoaXMuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5jb25uZWN0aW9uKSkpfXJlc2V0Q29ubmVjdGlvbihlKXtlIGluc3RhbmNlb2YgRmomJmZ1bmN0aW9uKGUpe29HLmRlbGV0ZShlLmlkKSxjRyhlKX0oZSksZS5jbG9zZSgpLHRoaXMuZW1pdCh2eC5QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlLFwiY2xvc2VkXCIpLGZ1bmN0aW9uKGUpe2Uub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRFcnJvcj12b2lkIDAsZS5vbkZpcnN0QXVkaW9EZWNvZGVkPXZvaWQgMCxlLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCxlLm9uRmlyc3RWaWRlb0RlY29kZWQ9dm9pZCAwLGUub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLGUub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD12b2lkIDAsZS5nZXRMb2NhbFZpZGVvU3RhdHM9dm9pZCAwfShlKSx0aGlzLl9pc1dhaXRQY1RvUmVQdWI9ITF9ZmlsdGVyVG9iZU11dGVkVHJhY2tzKGUpe2NvbnN0IHQ9W107aWYoLTE9PT10aGlzLmdldEFsbFRyYWNrcygpLmluZGV4T2YoZSkpcmV0dXJuIHQ7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsQXVkaW9UcmFjayk7aWYoZSBpbnN0YW5jZW9mIEJrJiYobnVsbD09aT92b2lkIDA6aS50cmFjaylpbnN0YW5jZW9mIFdrKXJldHVybiBpLnRyYWNrLmlzQWN0aXZlfHx0LnB1c2goW1J4LkxvY2FsQXVkaW9UcmFjayxpXSksdDtjb25zdCBuPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZCgodD0+e2xldFsse3RyYWNrOml9XT10O3JldHVybiBlPT09aX0pKTtpZihuJiYodC5wdXNoKG4pLG5bMF09PT1SeC5Mb2NhbFZpZGVvVHJhY2spKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb0xvd1RyYWNrKTtlJiZ0LnB1c2goW1J4LkxvY2FsVmlkZW9Mb3dUcmFjayxlXSl9cmV0dXJuIHR9ZmlsdGVyVG9iZVVubXV0ZWRUcmFja3MoZSl7Y29uc3QgdD1bXSxpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxBdWRpb1RyYWNrKTtpZihlIGluc3RhbmNlb2YgQmsmJihudWxsPT1pP3ZvaWQgMDppLnRyYWNrKWluc3RhbmNlb2YgV2spcmV0dXJuIGkudHJhY2suaXNBY3RpdmUmJnQucHVzaChbUnguTG9jYWxBdWRpb1RyYWNrLGldKSx0O2NvbnN0IG49QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKG4paWYoblswXT09PVJ4LkxvY2FsVmlkZW9UcmFjayl7dC5wdXNoKG4pO2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbFZpZGVvTG93VHJhY2spO2UmJnQucHVzaChbUnguTG9jYWxWaWRlb0xvd1RyYWNrLGVdKX1lbHNlIHQucHVzaChuKTtyZXR1cm4gdH1jcmVhdGVNdXRlTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpvLGlkOnN9XT1lO3N3aXRjaChuKXtjYXNlIFJ4LkxvY2FsQXVkaW9UcmFjazppPW94LkF1ZGlvO2JyZWFrO2Nhc2UgUnguTG9jYWxWaWRlb1RyYWNrOmk9TG4odD1yLl9oaW50cykuY2FsbCh0LFZQLlNDUkVFTl9UUkFDSyk/b3guU2NyZWVuOm94LkhpZ2g7YnJlYWs7Y2FzZSBSeC5Mb2NhbFZpZGVvTG93VHJhY2s6aT1veC5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6byxtaWQ6c319KSl9Y3JlYXRlVW5tdXRlTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpvLGlkOnN9XT1lO3N3aXRjaChuKXtjYXNlIFJ4LkxvY2FsQXVkaW9UcmFjazppPW94LkF1ZGlvO2JyZWFrO2Nhc2UgUnguTG9jYWxWaWRlb1RyYWNrOmk9TG4odD1yLl9oaW50cykuY2FsbCh0LFZQLlNDUkVFTl9UUkFDSyk/b3guU2NyZWVuOm94LkhpZ2g7YnJlYWs7Y2FzZSBSeC5Mb2NhbFZpZGVvTG93VHJhY2s6aT1veC5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6byxtaWQ6c319KSl9ZmlsdGVyVG9iZVVuU3Vic2NyaWJlZFRyYWNrcyhlLHQpe2NvbnN0IGk9W10sbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO2lmKCFuKXJldHVybiBpO2lmKHQpe2NvbnN0IHI9bi5nZXQodCk7aWYoIXIpcmV0dXJuIGk7aS5wdXNoKFtlLHtraW5kOnQsaWQ6cn1dKX1lbHNlIEFycmF5LmZyb20obi5lbnRyaWVzKCkpLmZvckVhY2goKHQ9PntsZXRbbixyXT10O2kucHVzaChbZSx7a2luZDpuLGlkOnJ9XSl9KSk7cmV0dXJuIGl9ZmlsdGVyVG9iZVVuU3Vic2NyaWJlZERhdGFDaGFubmVscyhlLHQpe2NvbnN0IGk9W107cmV0dXJuIHQuZm9yRWFjaCgodD0+e3ZhciBuO251bGwhPT0obj10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldChlKSkmJnZvaWQgMCE9PW4mJm4uaGFzKHQuaWQpJiZpLnB1c2godCl9KSksaX1jcmVhdGVVbnN1YnNjcmliZU1lc3NhZ2UoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57bGV0W2kse2tpbmQ6bixpZDpyfV09ZTtzd2l0Y2gobil7Y2FzZSBmeC5WSURFTzpyZXR1cm4gdm9pZChpLl92aWRlb1NTUkMmJnQucHVzaCh7c3RyZWFtX3R5cGU6ZnguVklERU8sc3NyY0lkOmkuX3ZpZGVvU1NSQ30pKTtjYXNlIGZ4LkFVRElPOnJldHVybiB2b2lkKGkuX2F1ZGlvU1NSQyYmdC5wdXNoKHtzdHJlYW1fdHlwZTpmeC5BVURJTyxzc3JjSWQ6aS5fYXVkaW9TU1JDfSkpfX0pKSx0fWNyZWF0ZVVuc3Vic2NyaWJlQWxsTWVzc2FnZShlKXtjb25zdCB0PW5ldyBNYXA7cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2xldFtpLHtraW5kOm59XT1lO2lmKHQuaGFzKGkpKXtsZXQgZT10LmdldChpKTtuPT09ZnguVklERU8/ZXw9Y3guVmlkZW86ZXw9Y3guQXVkaW8sdC5zZXQoaSxlKX1lbHNlIG49PT1meC5WSURFTz90LnNldChpLGN4LlZpZGVvKTp0LnNldChpLGN4LkF1ZGlvKX0pKSx7dXNlcnM6QXJyYXkuZnJvbSh0LmVudHJpZXMoKSkubWFwKChlPT57bGV0W3QsaV09ZTtyZXR1cm57c3RyZWFtX2lkOnQudWlkLHN0cmVhbV90eXBlOml9fSkpfX13aXRoZHJhd1JlbW90ZVRyYWNrcyhlKXtlLmZvckVhY2goKGU9PntsZXRbdCx7a2luZDppfV09ZTtjb25zdCBuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7biYmKG4uZGVsZXRlKGkpLDA9PT1BcnJheS5mcm9tKG4uZW50cmllcygpKS5sZW5ndGgmJnRoaXMucmVtb3RlVXNlck1hcC5kZWxldGUodCkpfSkpfWFzeW5jIHVwZGF0ZUJpdHJhdGVMaW1pdChlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb1RyYWNrKSxpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb0xvd1RyYWNrKTt0JiYoYXdhaXQgdC50cmFjay5zZXRCaXRyYXRlTGltaXQoZS51cGxpbmspLGF3YWl0IG5ldyBycCgoKGUsaSk9Pnt0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvRW5jb2Rlcih0LnRyYWNrLGUsaSwhMCl9KSkpLGkmJmUubG93X3N0cmVhbV91cGxpbmsmJihhd2FpdCBpLnRyYWNrLnNldEJpdHJhdGVMaW1pdCh7bWF4X2JpdHJhdGU6ZS5sb3dfc3RyZWFtX3VwbGluay5iaXRyYXRlLG1pbl9iaXRyYXRlOmUubG93X3N0cmVhbV91cGxpbmsuYml0cmF0ZXx8MH0pLGF3YWl0IG5ldyBycCgoKGUsdCk9Pnt0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlcihpLnRyYWNrLGUsdCwhMCl9KSkpfWlzUDJQRGlzY29ubmVjdGVkKCl7aWYodGhpcy5jb25uZWN0aW9uKXtyZXR1cm5cImNvbm5lY3RlZFwiIT09dGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGV9cmV0dXJuITB9aXNQcmVhbGxvY2F0aW9uKCl7cmV0dXJuISghdGhpcy5jb25uZWN0aW9ufHwhKFwibmFtZVwiaW4gdGhpcy5jb25uZWN0aW9uKXx8XCJEYXRhQ2hhbm5lbENvbm5lY3Rpb25cIiE9PXRoaXMuY29ubmVjdGlvbi5uYW1lfHxcImNsb3NlZFwiPT09dGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGUpfHx0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBGaiYmdGhpcy5jb25uZWN0aW9uLmlzUHJlYWxsb2NhdGlvbn1pc1ByZVN1Yigpe3JldHVybih0aGlzLmNvbm5lY3Rpb24mJlwibmFtZVwiaW4gdGhpcy5jb25uZWN0aW9uJiZcIkRhdGFDaGFubmVsQ29ubmVjdGlvblwiPT09dGhpcy5jb25uZWN0aW9uLm5hbWUmJlwiY2xvc2VkXCIhPT10aGlzLmNvbm5lY3Rpb24ucGVlckNvbm5lY3Rpb25TdGF0ZXx8dGhpcy5jb25uZWN0aW9uIGluc3RhbmNlb2YgRmopJiZ0aGlzLmNvbm5lY3Rpb24uaXNQcmVTdWIoKX1pc1ByZVJlbmRlcigpe3JldHVybiB0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBGaiYmdGhpcy5jb25uZWN0aW9uLmlzUHJlUmVuZGVyfW1hcFB1YlJlc1RvUmVtb3RlQ29uZmlnKGUsdCxpKXtyZXR1cm4gZS5tYXAoKChlLG4pPT57dmFyIHI7bGV0e3N0cmVhbV90eXBlOm99PWU7Y29uc3Qgcz1udWxsPT09KHI9dC5maW5kKChlPT57bGV0e3N0cmVhbV90eXBlOnR9PWU7cmV0dXJuIG89PT10fSkpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hdHRyaWJ1dGVzO2lmKHMmJkNEKFwiRElTQUJMRV9TQ1JFRU5fU0hBUkVfUkVNQlwiKSl7Y29uc3QgZT1pW25dLl9oaW50czsoTG4oZSkuY2FsbChlLFZQLlNDUkVFTl9UUkFDSyl8fExuKGUpLmNhbGwoZSxWUC5TQ1JFRU5fTE9XX1RSQUNLKSkmJihzLnJlbWI9ITEsaVAuZGVidWcoXCJkaXNhYmxlIHJlbWIgZm9yIHNjcmVlbiBzaGFyZSwgaGludHM6XCIsZSkpfXJldHVybiBzfSkpfWFzeW5jIHRyeVRvVW5tdXRlQXVkaW8oZSl7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXWluc3RhbmNlb2YgQmspe3ZhciB0O2NvbnN0IG49dGhpcy5maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyhlW2ldKTtpZigwPT09bi5sZW5ndGgpY29udGludWU7YXdhaXQobnVsbD09PSh0PXRoaXMuY29ubmVjdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQudW5tdXRlTG9jYWwobi5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSkpO2NvbnN0IHI9dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKG4pO3JldHVybiB2b2lkIGF3YWl0IHFPKHRoaXMsdnguUmVxdWVzdFVubXV0ZUxvY2FsLHIpfX1iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpe3RoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0U3RhdHM9KCk9PnRoaXMuZ2V0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdExvY2FsTWVkaWE9KCk9PkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RSZW1vdGVNZWRpYT0oKT0+QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFZpZGVvSXNSZWFkeT1lPT57dmFyIHQ7cmV0dXJuIShudWxsPT09KHQ9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09dHx8IXQuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpKX0sdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RVcGxvYWQ9KGUsdCk9PnRoaXMuZW1pdCh2eC5SZXF1ZXN0VXBsb2FkLGUsdCksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RVcGxvYWRTdGF0cz1lPT50aGlzLmVtaXQodnguUmVxdWVzdFVwbG9hZFN0YXRzLGUpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0QWxsVHJhY2tzPSgpPT50aGlzLmdldEFsbFRyYWNrcygpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0VHJhbnNwb3J0U3RhdHM9KCk9Pnt2YXIgZTtyZXR1cm57Y29ubmVjdFN0YXRlOihudWxsPT09KGU9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wZWVyQ29ubmVjdGlvblN0YXRlKXx8XCJjbG9zZWRcIn19fXVuYmluZFN0YXRzVXBsb2FkZXJFdmVudHMoKXt0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFN0YXRzPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdExvY2FsTWVkaWE9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0UmVtb3RlTWVkaWE9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0VmlkZW9Jc1JlYWR5PXZvaWQgMH1hc3luYyByZXF1ZXN0UmVjb25uZWN0KCl7dGhpcy5kdGxzRmFpbGVkQ291bnQrPTEsYXdhaXQgZk4oTU4odGhpcy5kdGxzRmFpbGVkQ291bnQsa04pKSx0aGlzLmVtaXQodnguUmVxdWVzdFJlY29ubmVjdCl9YXN5bmMgcmVjb25uZWN0UDJQKCl7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLHQ9dGhpcy5jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZShlKTtBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLHQubGVuZ3RoPjAmJmF3YWl0IHpPKHRoaXMsdnguUmVxdWVzdFVucHVibGlzaEZvclJlY29ubmVjdFBDLHQpLHRoaXMuZGlzY29ubmVjdEZvclJlY29ubmVjdCgpLHRoaXMuZW1pdCh2eC5SZXF1ZXN0UmVjb25uZWN0UEMpfWNhblB1Ymxpc2hMb3dTdHJlYW0oKXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmhhcyhSeC5Mb2NhbFZpZGVvVHJhY2spfHx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2Yga00pKX10aHJvd0lmVHJhY2tUeXBlTm90TWF0Y2goZSl7aWYoZS5maWx0ZXIoKGU9PmUgaW5zdGFuY2VvZiBrTSkpLmxlbmd0aD4xKXRocm93IG5ldyBwTyhoTy5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKTtpZihlLmZpbHRlcigoZT0+ZSBpbnN0YW5jZW9mIEJrKSkubGVuZ3RoPjEmJihlLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiBCayYmZS5fYnlwYXNzV2ViQXVkaW8pKXx8IXBQKCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3QpKXRocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IE1lZGlhU3RyZWFtRGVzdE5vZGVcIik7Zm9yKGNvbnN0IHQgb2YgZSl7aWYodCBpbnN0YW5jZW9mIGtNJiZ0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2Yga00pKSl0aHJvdyBuZXcgcE8oaE8uQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLUyk7aWYodCBpbnN0YW5jZW9mIEJrJiZ0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2YgQmspKSYmKCFwUCgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0fHx0Ll9ieXBhc3NXZWJBdWRpb3x8dGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZSgoZT0+ZSBpbnN0YW5jZW9mIEJrJiZlLl9ieXBhc3NXZWJBdWRpbykpKSl0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBNZWRpYVN0cmVhbURlc3ROb2RlXCIpfX1nZXRMb3dWaWRlb1RyYWNrKGUsdCl7dmFyIGk7Y29uc3Qgbj0hQ0QoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmcFAoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nLHI9aEcoaEcoe30se3dpZHRoOjE2MCxoZWlnaHQ6MTIwLGZyYW1lcmF0ZToxNSxiaXRyYXRlOjUwfSksdCk7bGV0IG87bz1uP2UuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTpqaihlLHIpO2NvbnN0IHM9U04oOCxcInRyYWNrLWxvdy1cIiksYT1uZXcga00obyxoRyhoRyh7fSxuJiZ7c2NhbGVSZXNvbHV0aW9uRG93bkJ5Ol9GKHIsZSl9KSx7fSx7ZnJhbWVSYXRlOnIuZnJhbWVyYXRlLGJpdHJhdGVNYXg6ci5iaXRyYXRlLGJpdHJhdGVNaW46ci5iaXRyYXRlfSksdm9pZCAwLHZvaWQgMCxzKTtyZXR1cm4gYS5vbihqUC5UUkFOU0NFSVZFUl9VUERBVEVELCh0PT57ZS5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodCx4UC5MT1dfU1RSRUFNKX0pKSxhLl9oaW50cy5wdXNoKFZQLkxPV19TVFJFQU0pLExuKGk9ZS5faGludHMpLmNhbGwoaSxWUC5TQ1JFRU5fVFJBQ0spJiZhLl9oaW50cy5wdXNoKFZQLlNDUkVFTl9MT1dfVFJBQ0spLGUub24oXCJzZWktdG8tc2VuZFwiLChlPT57YS5lbWl0KFwic2VpLXRvLXNlbmRcIixlKX0pKSxlLmFkZExpc3RlbmVyKFVQLk5FRURfQ0xPU0UsKCgpPT57YS5jbG9zZSgpfSkpLGF9YXN5bmMgZ2xvYmFsTG9jaygpe3JldHVybiB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuZ2xvYmFsTG9ja1wiKX1hc3luYyByZXBvcnRQQ1N0YXRzKGUsdCxpKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106bnVsbDtpZih0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIEZqKXt2YXIgcixvLHMsYTtjb25zdCBjPXRoaXMuc3RvcmUua2V5TWV0cmljcy5kZXNjcmlwdGlvblN0YXJ0fHwwLHtpY2VDb25uZWN0aW9uU3RhdGU6ZCxkdGxzVHJhbnNwb3J0U3RhdGU6bCxwZWVyQ29ubmVjdGlvblN0YXRlOnV9PXRoaXMuY29ubmVjdGlvbix7bG9jYWw6aCxyZW1vdGU6cH09YXdhaXQgdGhpcy5jb25uZWN0aW9uLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO2xQLnBjU3RhdHModGhpcy5zdG9yZS5zZXNzaW9uSWQse3N0YXJ0VGltZTpjLGV2ZW50RWxhcHNlOmUtY3x8MCxpY2Vjb25uZWN0aW9uc2F0ZTpkLGR0bHNzdGF0ZTpsLGNvbm5lY3Rpb25zdGF0ZTp1LGludFN1Y2M6dD8xOjIsZXJyb3I6dGhpcy5faWNlRXJyb3J8fG58fFwiXCIsc2VsZWN0ZWRMb2NhbENhbmRpZGF0ZVByb3RvY29sOm51bGwhPT0ocj1udWxsPT1oP3ZvaWQgMDpoLnByb3RvY29sKSYmdm9pZCAwIT09cj9yOlwiXCIsc2VsZWN0ZWRMb2NhbENhbmRpZGF0ZVR5cGU6bnVsbCE9PShvPWguY2FuZGlkYXRlVHlwZSkmJnZvaWQgMCE9PW8/bzpcIlwiLHNlbGVjdGVkTG9jYWxDYW5kaWRhdGVBZGRyZXNzOlwiXCIuY29uY2F0KGguYWRkcmVzcyxcIjpcIikuY29uY2F0KGgucG9ydCksc2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVQcm90b2NvbDpudWxsIT09KHM9cC5wcm90b2NvbCkmJnZvaWQgMCE9PXM/czpcIlwiLHNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlVHlwZTpudWxsIT09KGE9cC5jYW5kaWRhdGVUeXBlKSYmdm9pZCAwIT09YT9hOlwiXCIsc2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVBZGRyZXNzOlwiXCIuY29uY2F0KHAuYWRkcmVzcyxcIjpcIikuY29uY2F0KHAucG9ydCkscmVzdGFydENudDppLHByZWFsbG9jYXRpb246dGhpcy5jb25uZWN0aW9uLmlzUHJlYWxsb2NhdGlvbn0pLHRoaXMuX2ljZUVycm9yPW51bGx9fXJlcG9ydFZpZGVvRmlyc3RGcmFtZVJlbmRlcihlKXtjb25zdCB0PXRoaXMuc3RvcmUua2V5TWV0cmljcyxpPXQuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZC5maW5kKCh0PT50LnVzZXJJZD09PWUudWlkKSk7aWYoIWkpcmV0dXJuO2NvbnN0e2lzSW50ZXJuYWxVcGxvYWQ6bixpc0V4dGVybmFsVXBsb2FkOnJ9PWk7aWYobiYmcilyZXR1cm47Y29uc3R7c3Vic2NyaWJlRW5kOm8sZmlyc3RQcmVSZW5kZXI6cyxwZWVyUHVibGlzaER1cmF0aW9uOmEscGVlclB1YlN0YXR1c01zOmN9PWk7bGV0e2ZpcnN0UmVuZGVyOmQ9MH09aTtpZihvJiYoZHx8cykmJmEmJmMpe2kuaXNJbnRlcm5hbFVwbG9hZD0hMDtjb25zdHtwbGF5RW5kOm59PWk7biYmKGkuaXNFeHRlcm5hbFVwbG9hZD0hMCk7Y29uc3R7Zmlyc3RQcmVSZW5kZXI6cj0wfT1pO2Q9cnx8ZDtjb25zdCBzPWUudmlkZW9UcmFjayxsPXtwZWVyOmUuX3VpbnRpZCx3aWR0aDoobnVsbD09cz92b2lkIDA6cy5fdmlkZW9XaWR0aCl8fDAsaGVpZ2h0OihudWxsPT1zP3ZvaWQgMDpzLl92aWRlb0hlaWdodCl8fDAsc3NyYzplLl92aWRlb1NTUkN8fDAscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxwZWVyUHVibGlzaER1cmF0aW9uOmEscGVlclB1YlN0YXR1c01zOmMsam9pbkNoYW5uZWxTdGFydDp0LmpvaW5TdGFydHx8MCxwcmVsb2FkU3RhcnQ6dC5wcmVsb2FkU3RhcnR8fDAscHJlbG9hZEVuZDp0LnByZWxvYWRFbmR8fDAsYXBTdGFydDp0LnJlcXVlc3RBUFN0YXJ0fHwwLGFwRW5kOnQucmVxdWVzdEFQRW5kfHwwLHN1YUVuZDp0LnJlcXVlc3RTVUFFbmR8fDAsYmVmb3JlQ29ubmVjdDp0LmJlZm9yZUNvbm5lY3R8fDAscGVlclJlY2VpdmVyOnQucGVlclJlY2VpdmVyfHwwLGljZTp0LmljZUNvbm5lY3Rpb25FbmR8fDAscGM6dC5wZWVyQ29ubmVjdGlvbkVuZHx8MCxzaWduYWxDb25uZWN0ZWQ6dC5zaWduYWxDb25uZWN0ZWR8fDAsam9pblJlcTp0LmpvaW5SZXF8fDAsam9pblJlczp0LmpvaW5SZXB8fDAsdXNlckpvaW5Ob3RpZnk6aS51c2VySm9pbk5vdGlmeXx8MCx2aWRlb0FkZE5vdGlmeTppLnZpZGVvQWRkTm90aWZ5fHwwLHN1YnNjcmliZVN0YXJ0Omkuc3Vic2NyaWJlU3RhcnR8fDAsc3Vic2NyaWJlRW5kOmkuc3Vic2NyaWJlRW5kfHwwLGZpcnN0UmVjZWl2ZWQ6aS5maXJzdFJlY2VpdmVkfHwwLGZpcnN0RGVjb2RlZDppLmZpcnN0RGVjb2RlZHx8MCxmaXJzdFByZVJlbmRlcjpyfHwwLGZpcnN0UmVuZGVyOm4/TWF0aC5tYXgoZCxuKTpNYXRoLm1heChkLG8pLHBsYXlTdGFydDppLnBsYXlTdGFydHx8MCxwbGF5RW5kOmkucGxheUVuZHx8MCxpc1ByZVN1YjohKCFlLl92aWRlb1NTUkN8fCF0aGlzLmlzUHJlU3ViU2NyaWJlKGUuX3ZpZGVvU1NSQykpLGlzUHJlUGM6dGhpcy5pc1ByZWFsbG9jYXRpb24oKSxpc1ByZUluc3RhbnRWaWRlbzpmUCh0aGlzLnN0b3JlKSxmaXJzdFJlY2VpdmVkRW5jb2RlZEZyYW1lOmkuZmlyc3RSZWNlaXZlZEVuY29kZWRGcmFtZXx8MCxmcmFtZVR5cGU6aS5mcmFtZVR5cGV8fFwiXCIscnRwVGltZXN0YW1wOmkucnRwVGltZXN0YW1wfHwwLGZyYW1lUGF5bG9hZFR5cGU6aS5mcmFtZVBheWxvYWRUeXBlfHwwLGZyYW1lRGF0YUxlbmd0aDppLmZyYW1lRGF0YUxlbmd0aHx8MCxtaW1lVHlwZTppLm1pbWVUeXBlfHxcIlwifTtsUC5maXJzdFhMQVBlZXJGaXJzdFZpZGVvRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsbCl9fXJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQoZSx0LGksbil7dmFyIHI7Y29uc3Qgbz1BcnJheS5mcm9tKFdEKHI9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHIpKS5maW5kKCh0PT50Ll92aWRlb1NTUkM9PT1lKSk7aWYobyl7bnx8dGhpcy5zdG9yZS5zdWJzY3JpYmUoby51aWQsXCJ2aWRlb1wiLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKTtjb25zdCByPXRoaXMuc3RvcmUua2V5TWV0cmljcyxzPXIuc3Vic2NyaWJlLmZpbmQoKGU9PmUudXNlcklkPT09by51aWQmJlwidmlkZW9cIj09PWUudHlwZSkpO2xQLmZpcnN0UmVtb3RlVmlkZW9EZWNvZGUodGhpcy5zdG9yZS5zZXNzaW9uSWQsc1AuRklSU1RfVklERU9fREVDT0RFLGFQLkZJUlNUX1ZJREVPX0RFQ09ERSx7cGVlcjpvLl91aW50aWQsdmlkZW93aWR0aDp0LHZpZGVvaGVpZ2h0Omksc3Vic2NyaWJlRWxhcHNlOnRqLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxlKSxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZSxwMnBpZDp0aGlzLnN0b3JlLnAycElkLGFwRW5kOnIucmVxdWVzdEFQRW5kfHwwLGFwU3RhcnQ6ci5yZXF1ZXN0QVBTdGFydHx8MCxqb2luR3dFbmQ6ci5qb2luR2F0ZXdheUVuZHx8MCxqb2luR3dTdGFydDpyLmpvaW5HYXRld2F5U3RhcnR8fDAscGNFbmQ6ci5wZWVyQ29ubmVjdGlvbkVuZHx8MCxwY1N0YXJ0OnIucGVlckNvbm5lY3Rpb25TdGFydHx8MCxzdWJzY3JpYmVyRW5kOihudWxsPT1zP3ZvaWQgMDpzLnN1YnNjcmliZUVuZCl8fDAsc3Vic2NyaWJlclN0YXJ0OihudWxsPT1zP3ZvaWQgMDpzLnN1YnNjcmliZVN0YXJ0KXx8MCx2aWRlb0FkZE5vdGlmeToobnVsbD09cz92b2lkIDA6cy5zdHJlYW1BZGRlZCl8fDAsc3RhdGU6bj8xOjAsZmlyc3RGcmFtZToobnVsbD09cz92b2lkIDA6cy5maXJzdEZyYW1lKXx8MH0pfX1hc3luYyByZW1vdGVNZWRpYVNzcmNDaGFuZ2VkKGUsdCxpKXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiExO2NvbnN0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighbilyZXR1cm4hMTtjb25zdCByPW4uZ2V0KHQpO2lmKCFyKXJldHVybiExO2NvbnN0IG89YXdhaXQgdGhpcy5jb25uZWN0aW9uLmdldFJlbW90ZVNTUkMocik7cmV0dXJuIHZvaWQgMCE9PW8mJm8hPT1pfXVuYmluZFJ0cFRyYW5zY2VpdmVyKCl7MCE9PXRoaXMubG9jYWxUcmFja01hcC5zaXplJiZBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7dD09PVJ4LkxvY2FsVmlkZW9Mb3dUcmFjaz9pLl91cGRhdGVSdHBUcmFuc2NlaXZlcih2b2lkIDAseFAuTE9XX1NUUkVBTSk6aS5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodm9pZCAwKX0pKX19LERWKGxHLnByb3RvdHlwZSxcInN0YXJ0UDJQQ29ubmVjdGlvblwiLFttR10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsRy5wcm90b3R5cGUsXCJzdGFydFAyUENvbm5lY3Rpb25cIiksbEcucHJvdG90eXBlKSxEVihsRy5wcm90b3R5cGUsXCJjb25uZWN0XCIsW21HXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGxHLnByb3RvdHlwZSxcImNvbm5lY3RcIiksbEcucHJvdG90eXBlKSxEVihsRy5wcm90b3R5cGUsXCJ1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXNcIixbbUddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobEcucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIpLGxHLnByb3RvdHlwZSksRFYobEcucHJvdG90eXBlLFwicHVibGlzaERhdGFDaGFubmVsXCIsW21HXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGxHLnByb3RvdHlwZSxcInB1Ymxpc2hEYXRhQ2hhbm5lbFwiKSxsRy5wcm90b3R5cGUpLERWKGxHLnByb3RvdHlwZSxcInVucHVibGlzaFwiLFttR10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsRy5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIiksbEcucHJvdG90eXBlKSxEVihsRy5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hEYXRhQ2hhbm5lbFwiLFttR10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsRy5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hEYXRhQ2hhbm5lbFwiKSxsRy5wcm90b3R5cGUpLERWKGxHLnByb3RvdHlwZSxcInVucHVibGlzaExvd1N0cmVhbVwiLFttR10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsRy5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hMb3dTdHJlYW1cIiksbEcucHJvdG90eXBlKSxEVihsRy5wcm90b3R5cGUsXCJzdWJzY3JpYmVEYXRhQ2hhbm5lbFwiLFttR10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsRy5wcm90b3R5cGUsXCJzdWJzY3JpYmVEYXRhQ2hhbm5lbFwiKSxsRy5wcm90b3R5cGUpLERWKGxHLnByb3RvdHlwZSxcInN1YnNjcmliZVwiLFttR10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsRy5wcm90b3R5cGUsXCJzdWJzY3JpYmVcIiksbEcucHJvdG90eXBlKSxEVihsRy5wcm90b3R5cGUsXCJtYXNzU3Vic2NyaWJlXCIsW21HXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGxHLnByb3RvdHlwZSxcIm1hc3NTdWJzY3JpYmVcIiksbEcucHJvdG90eXBlKSxEVihsRy5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZVwiLFttR10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsRy5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZVwiKSxsRy5wcm90b3R5cGUpLERWKGxHLnByb3RvdHlwZSxcInVuc3Vic2NyaWJlRGF0YUNoYW5uZWxcIixbbUddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobEcucHJvdG90eXBlLFwidW5zdWJzY3JpYmVEYXRhQ2hhbm5lbFwiKSxsRy5wcm90b3R5cGUpLERWKGxHLnByb3RvdHlwZSxcIm1hc3NVbnN1YnNjcmliZVwiLFttR10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsRy5wcm90b3R5cGUsXCJtYXNzVW5zdWJzY3JpYmVcIiksbEcucHJvdG90eXBlKSxEVihsRy5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsW21HXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGxHLnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIiksbEcucHJvdG90eXBlKSxEVihsRy5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIixbbUddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobEcucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIpLGxHLnByb3RvdHlwZSksRFYobEcucHJvdG90eXBlLFwiaGFzUmVtb3RlTWVkaWFXaXRoTG9ja1wiLFttR10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsRy5wcm90b3R5cGUsXCJoYXNSZW1vdGVNZWRpYVdpdGhMb2NrXCIpLGxHLnByb3RvdHlwZSksRFYobEcucHJvdG90eXBlLFwiZGlzY29ubmVjdEZvclJlY29ubmVjdFwiLFttR10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsRy5wcm90b3R5cGUsXCJkaXNjb25uZWN0Rm9yUmVjb25uZWN0XCIpLGxHLnByb3RvdHlwZSksRFYobEcucHJvdG90eXBlLFwidXBkYXRlQml0cmF0ZUxpbWl0XCIsW21HXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGxHLnByb3RvdHlwZSxcInVwZGF0ZUJpdHJhdGVMaW1pdFwiKSxsRy5wcm90b3R5cGUpLERWKGxHLnByb3RvdHlwZSxcInJlbW90ZU1lZGlhU3NyY0NoYW5nZWRcIixbbUddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobEcucHJvdG90eXBlLFwicmVtb3RlTWVkaWFTc3JjQ2hhbmdlZFwiKSxsRy5wcm90b3R5cGUpLGxHKTtmdW5jdGlvbiBtRyhlLHQsaSl7Y29uc3Qgbj1lW3RdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiBpLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLm11dGV4LGk9YXdhaXQgZS5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLlwiLmNvbmNhdCh0KSk7dHJ5e2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KHIpLHM9MDtzPHI7cysrKW9bc109YXJndW1lbnRzW3NdO3JldHVybiBhd2FpdCBuLmFwcGx5KHRoaXMsbyl9ZmluYWxseXtpKCl9fSxpfWZ1bmN0aW9uIGZHKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBTRyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9mRyhPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpmRyhPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jb25zdCBnRz1EYXRlLm5vdygpLFRHPTIwLFJHPW5ldyBNYXAsQ0c9bmV3IE1hcDthc3luYyBmdW5jdGlvbiB2RyhlKXtjb25zdCB0PVJHLmdldChlKSxpPUFycmF5LmlzQXJyYXkodCkmJnRbdC5sZW5ndGgtMV0sbj1DRy5nZXQoZSk7aWYoIWkpcmV0dXJuIHZvaWQobi5pc1N5bmNpbmc9ITEpO2NvbnN0IHI9e3VpZDppLnVpZCxwYXlsb2FkOmkucGF5bG9hZH07MD09PW4uZmlyc3RSZWN2VHMmJihuLmZpcnN0UmVjdlRzPWkucmVjdlRzLG4uZmlyc3RTZW5kVHM9aS5zZW5kVHMpO2NvbnN0IG89aS5zZW5kVHMtbi5maXJzdFNlbmRUcyxzPW8tKERhdGUubm93KCktbi5maXJzdFJlY3ZUcyk7cz4wJiYobi5maXJzdFJlY3ZUcz1EYXRlLm5vdygpLW8pO2xldCBhPWkubWVkaWFEZWxheStzO2E8PTA/KHQucG9wKCkseUcoaS5jb250ZXh0LHIpLGE9MCk6YT1NYXRoLm1pbihhLFRHKSxzZXRUaW1lb3V0KCgoKT0+dC5sZW5ndGgmJnZHKGUpKSxhKX1mdW5jdGlvbiB5RyhlLHQpe2Uuc2FmZUVtaXQoR08uU1RSRUFNX01FU1NBR0UsdC51aWQsdC5wYXlsb2FkKSxlLm9uU3RyZWFtTWVzc2FnZSYmZS5vblN0cmVhbU1lc3NhZ2UodCl9ZnVuY3Rpb24gSUcoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsaT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtpZighZS5zeW5jV2l0aEF1ZGlvKXJldHVybiB5RyhpLHt1aWQ6ZS51aWQscGF5bG9hZDplLnBheWxvYWR9KTtjb25zdCBuPVwiXCIuY29uY2F0KGkuaWQsXCItXCIpLmNvbmNhdChlLnVpZCkscj1SRy5nZXQobil8fFtdLG89ci5maW5kSW5kZXgoKHQ9PmUuc2VuZFRzPj10LnNlbmRUcykpLHM9U0coU0coe30sZSkse30se2NvbnRleHQ6aSxtZWRpYURlbGF5OnQscmVjdlRzOkRhdGUubm93KCl9KTstMT09PW8/ci5wdXNoKHMpOnIuc3BsaWNlKG8sMCxzKSxSRy5zZXQobixyKTtsZXQgYT0hMTt2YXIgYztDRy5oYXMobik/YT0hKG51bGw9PT0oYz1DRy5nZXQobikpfHx2b2lkIDA9PT1jfHwhYy5pc1N5bmNpbmcpOkNHLnNldChuLHtpc1N5bmNpbmc6YSxmaXJzdFJlY3ZUczowLGZpcnN0U2VuZFRzOjB9KTthfHx2RyhuKX1jb25zdCBBRz1EdygpLm5hbWU7ZnVuY3Rpb24gYkcoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIHdHKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2JHKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aUEoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmJHKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNvbnN0IE9HPVwid2Vic2RrX25nX2NhY2hlX3BhcmFtZXRlclwiLE5HPUNEKFwiTUFYX1BSRUxPQURfQVNZTkNfTEVOR1RIXCIpLERHPTFlNCxQRz1uZXcgTWFwLExHPVtdO2xldCBrRz1udWxsLE1HPTAsVUc9MDtjb25zdCBWRz1uZXcgTWFwLHhHPW5ldyBVaW50OEFycmF5KFsyNDEsMTQxLDEyNywyMTIsMTAzLDEzOSwyMDAsMjI1LDI1MSwxNTcsMTI3LDEzOSwxNDMsMiwyMiwxNjNdKSxGRz1mdW5jdGlvbihlLHQpe2NvbnN0IGk9W107bGV0IG49MDtjb25zdCByPWFzeW5jKCk9Pntjb25zdCBlPWkuc2hpZnQoKTtlJiZhd2FpdCBlKCksaS5sZW5ndGg+MCYmbjx0P3IoKTpuLS19O3JldHVybiBhc3luYyBmdW5jdGlvbigpe2Zvcih2YXIgbz1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KG8pLGE9MDthPG87YSsrKXNbYV09YXJndW1lbnRzW2FdO3JldHVybiBuZXcgcnAoKGFzeW5jKG8sYSk9PntpLnB1c2goKGFzeW5jKCk9Pnt0cnl7Y29uc3QgdD1hd2FpdCBlKC4uLnMpO28odCl9Y2F0Y2goZSl7YShlKX19KSksbjx0JiYobisrLHIoKSl9KSl9fShHRyxORyksQkc9VHcuQ2FuY2VsVG9rZW4uc291cmNlKCk7Y2xhc3Mgakd7Y29uc3RydWN0b3IoKXtpQSh0aGlzLFwiX2F1ZGlvQ29udGV4dFwiLG51bGwpfWNyZWF0ZU11dGVBdWRpb1RyYWNrKCl7dGhpcy5fYXVkaW9Db250ZXh0PW5ldyBBdWRpb0NvbnRleHQ7Y29uc3QgZT10aGlzLl9hdWRpb0NvbnRleHQuc2FtcGxlUmF0ZSx0PTEwKmUsaT10aGlzLl9hdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyKDIsdCxlKSxuPXRoaXMuX2F1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtuLmJ1ZmZlcj1pO2NvbnN0IHI9dGhpcy5fYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKTtuLmNvbm5lY3Qociksbi5zdGFydCgpO3JldHVybiByLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdfWNsb3NlKCl7dGhpcy5fYXVkaW9Db250ZXh0JiYodGhpcy5fYXVkaW9Db250ZXh0LmNsb3NlKCksdGhpcy5fYXVkaW9Db250ZXh0PW51bGwpfX1hc3luYyBmdW5jdGlvbiBHRyhlLHQsaSxuLHIsbyxzKXt0cnl7aWYoIUNEKFwiRU5BQkxFX1BSRUxPQURcIikpcmV0dXJuO2lmKCFwUCgpLnN1cHBvcnRXZWJDcnlwdG8pcmV0dXJuIHZvaWQgZE4oKCgpPT57aVAud2FybihcIllvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHByZWxvYWRpbmcsIHRoaXMgZmVhdHVyZSAgYmUgcnVuIGluIGEgc2VjdXJlIGVudmlyb25tZW50XCIpfSksXCJwcmVsb2FkX3dlYmNyeXB0b19ub3Rfc3VwcG9ydGVkXCIpO2lmKCFpJiZudWxsIT09aSl0aHJvdyBuZXcgcE8oaE8uSU5WQUxJRF9QQVJBTVMsXCJJbnZhbGlkIHRva2VuOiBcIi5jb25jYXQoaSxcIi4gSWYgeW91IGRvbiBub3QgdXNlIHRva2VuLCBzZXQgaXQgdG8gbnVsbFwiKSk7aSYmU08oaSxcInRva2VuXCIsMSwyMDQ3KSxTTyhlLFwiYXBwaWRcIiwxLDIwNDcpLEhWKHQpLG4mJktWKG4pO2NvbnN0IGE9Z04oKTtpUC5kZWJ1ZyhcInByZWxvYWQgY2hhbm5lbCBcIi5jb25jYXQodCxcIiwgdWlkIGlzIFwiKS5jb25jYXQobikpO2NvbnN0IGM9e2FwcElkOmUsY25hbWU6dCx0b2tlbjppfHxlLHVpZDpcInN0cmluZ1wiIT10eXBlb2Ygbj9uOm51bGwsc2lkOmEscHJveHlTZXJ2ZXI6cixyb2xlOnN9O2xldCBkLGw7XCJzdHJpbmdcIj09dHlwZW9mIG4/KGMuc3RyaW5nVWlkPW4sW2wsZF09YXdhaXQgcnAuYWxsKFtIQihuLHtzaWQ6YSxhcHBJZDplfSxCRy50b2tlbiksWUIod0cod0coe30sYykse30se3Rva2VuOml8fGUsdWlkOjB9KSxCRy50b2tlbildKSxjLnVpZD1sLnVpZCxkLmdhdGV3YXlJbmZvLnVpZD1jLnVpZCxkLmdhdGV3YXlJbmZvLnJlcy51aWQ9Yy51aWQpOihvJiYoYy5zdHJpbmdVaWQ9byksZD1hd2FpdCBZQihjLEJHLnRva2VuKSk7Y29uc3QgdT17c2lkOmEsYXBwSWQ6ZSxjbmFtZTp0LHRva2VuOml8fGUsdWlkOmMuc3RyaW5nVWlkfHxuLGludFVpZDpjLnVpZHx8ZC5nYXRld2F5SW5mby51aWQsc3RyaW5nVWlkOmMuc3RyaW5nVWlkLHRzOkRhdGUubm93KCksc3VhOmwsYXA6ZH07YXdhaXQgS0codSksTUcrK31jYXRjaChlKXt0aHJvdyBVRysrLGZ1bmN0aW9uKGUpe2tHfHwoa0c9d2luZG93LnNldFRpbWVvdXQoKCgpPT57bGV0IHQ9XCJcIjtWRy5mb3JFYWNoKCgoZSxpKT0+e3QrPVwiXCIuY29uY2F0KGksXCI6IFwiKS5jb25jYXQoZSxcIiA7XCIpfSkpLGxQLnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOkxPLlBSRUxPQUQsb3B0aW9uczp7c3VjY2VzczpNRyxmYWlsZWQ6VUcsZXJyOnR9fSkub25FcnJvcihlKSxNRz0wLFVHPTAsVkcuY2xlYXIoKSxrRz1udWxsfSksREcpKTtjb25zdCB0PVZHLmdldChlLmNvZGUpfHwwO1ZHLnNldChlLmNvZGUsdCsxKX0oZSksZX19YXN5bmMgZnVuY3Rpb24gV0coZSl7dHJ5e2lmKENEKFwiQVBfUkVRVUVTVF9ERVRBSUxcIil8fENEKFwiRU5BQkxFX1JPTEVfU0VMRUNUX0VER0VcIikpcmV0dXJuO2NvbnN0IHQ9SEcoZSk7aWYoIXR8fFwiZGlzYWJsZWRcIiE9PWUuY2xvdWRQcm94eVNlcnZlcilyZXR1cm47Y29uc3QgaT1hd2FpdCBhc3luYyBmdW5jdGlvbihlLHQpe3RyeXtjb25zdCBpPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcInJhd1wiLGhOKHQpLFwiQUVTLUdDTVwiLCExLFtcImRlY3J5cHRcIl0pLG49YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZGVjcnlwdCh7bmFtZTpcIkFFUy1HQ01cIixpdjp4R30saSxsTihlKSk7cmV0dXJuIEpTT04ucGFyc2Uod2luZG93LmF0b2IodU4obmV3IFVpbnQ4QXJyYXkobikpKSl9Y2F0Y2goZSl7cmV0dXJufX0odCxlLnRva2VufHxlLmFwcElkKTtpZighaSlyZXR1cm47aWYoIWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1lLmNuYW1lPT09dC5jbmFtZSYmZS5hcHBJZD09PXQuYXBwSWQmJmUudG9rZW49PT10LnRva2VuO2lmKCFpKXJldHVybiExO3JldHVybiB0LnN0cmluZ1VpZD9lLnN0cmluZ1VpZD09PXQuc3RyaW5nVWlkOlwibnVtYmVyXCI9PXR5cGVvZiB0LnVpZD9lLnVpZD09PXQudWlkOmUudWlkPT10LnVpZH0oaSxlKSlyZXR1cm47aWYoaSYmRGF0ZS5ub3coKS1pLnRzPENEKFwiQVBfQ0FDSEVfTElGRVRJTUVcIikpcmV0dXJuIGl9Y2F0Y2goZSl7aVAud2FybihcIkVycm9yIGdldCBwcmVsb2FkSW5mb1wiLGUubWVzc2FnZSl9fWZ1bmN0aW9uIEhHKGUpe2xldCB0O3RyeXtpZih0PVhHKE9HKSwhdClyZXR1cm47Y29uc3QgaT1KU09OLnBhcnNlKHQpLG49UUcoZSkscj1mdW5jdGlvbihlLHQpe2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKWlmKHQoZVtpXSkpcmV0dXJuIGk7cmV0dXJuLTF9KGksKGU9Pm4gaW4gZSkpO2lmKC0xPT09cilyZXR1cm47Y29uc3Qgbz1pLnNwbGljZShyLDEpWzBdO3JldHVybiBKRyhPRyxKU09OLnN0cmluZ2lmeShpKSksb1tuXX1jYXRjaChlKXtpUC53YXJuKFwiRXJyb3IgZGVsZXRlIHByZWxvYWQgaW5mbzogXCIuY29uY2F0KHQpLGUubWVzc2FnZSksSkcoT0csXCJcIil9fWFzeW5jIGZ1bmN0aW9uIEtHKGUpe2xldCB0O3RyeXtlLnVpZCYmSEcoe2FwcElkOmUuYXBwSWQsY25hbWU6ZS5jbmFtZSx0b2tlbjplLnRva2VuLHVpZDplLnVpZCxzdHJpbmdVaWQ6ZS5zdHJpbmdVaWR9KTtjb25zdCBpPVFHKGUpLG49YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXt0cnl7Y29uc3QgaT1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIixoTih0KSxcIkFFUy1HQ01cIiwhMSxbXCJlbmNyeXB0XCJdKSxuPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6XCJBRVMtR0NNXCIsaXY6eEd9LGksbE4od2luZG93LmJ0b2EoSlNPTi5zdHJpbmdpZnkoZSkpKSk7cmV0dXJuIHVOKG5ldyBVaW50OEFycmF5KG4pKX1jYXRjaChlKXtyZXR1cm59fShlLGUudG9rZW58fGUuYXBwSWQpO2lmKCFuKXJldHVybjt0PVhHKE9HKTtjb25zdCByPXQ/SlNPTi5wYXJzZSh0KTpbXTtyLnB1c2goe1tpXTpufSksci5sZW5ndGg+Q0QoXCJBUF9DQUNIRV9OVU1cIikmJnIuc2hpZnQoKSxKRyhPRyxKU09OLnN0cmluZ2lmeShyKSl9Y2F0Y2goZSl7aVAud2FybihcIkVycm9yIGNhY2hpbmcgc2VydmVyIHBhcmFtZXRlcnM6XCIsZS5tZXNzYWdlKSxKRyhPRyxcIlwiKX19ZnVuY3Rpb24gWUcoZSl7aWYoZSl7bGV0IHQ9UEcuZ2V0KGUpO3QmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHQpLHQ9bnVsbCxQRy5kZWxldGUoZSkpLExuKExHKS5jYWxsKExHLGUpfHxcImRpc2FibGVkXCIhPT1lLmNsb3VkUHJveHlTZXJ2ZXJ8fExHLnB1c2goZSl9aWYoUEcuc2l6ZTxDRChcIkFQX0NBQ0hFX05VTVwiKSYmTEcubGVuZ3RoPjApe2NvbnN0IGU9TEcuc2hpZnQoKTtQRy5zZXQoZSx3aW5kb3cuc2V0VGltZW91dCgoYXN5bmMoKT0+e2NvbnN0e2FwcElkOnQsY25hbWU6aSx0b2tlbjpuLHN0cmluZ1VpZDpyLHVpZDpvLHByb3h5U2VydmVyOnMscm9sZTphfT1lO3RyeXthd2FpdCBGRyh0LGksbixvLHMscixhKSxQRy5oYXMoZSkmJllHKGUpfWNhdGNoKHQpe2lQLndhcm4oXCJ1cGRhdGUgcHJlbG9hZCBmYWlsZWRcIix0Lm1lc3NhZ2UpLHpHKGUpfX0pLENEKFwiQVBfVVBEQVRFX0lOVEVSVkFMXCIpKSl9fWZ1bmN0aW9uIHpHKGUpe2NvbnN0IHQ9TEcuaW5kZXhPZihlKTstMSE9PXQmJkxHLnNwbGljZSh0LDEpO2xldCBpPVBHLmdldChlKTtpJiYod2luZG93LmNsZWFyVGltZW91dChpKSxpPW51bGwsUEcuZGVsZXRlKGUpLFlHKCkpfWZ1bmN0aW9uIHFHKGUsdCl7Y29uc3QgaT1lLnN1YSxuPWUuYXA7dCYmaSYmbFAucmVxVXNlckFjY291bnQoZS5zaWQse2x0czppLnJlcXVlc3RUaW1lLGVsYXBzZTppLmVsYXBzZSxzdWNjZXNzOiEwLHNlcnZlckFkZHI6aS51cmwsc3RyaW5nVWlkOnQsdWlkOmUuaW50VWlkLGVycm9yQ29kZTpudWxsLGV4dGVuZDppLnJlcX0pLGxQLnJlcG9ydFJlc291cmNlVGltaW5nKGUuYXAudXJsLGUuc2lkKSxsUC5qb2luV2ViUHJveHlBUChlLnNpZCx7bHRzOm4ucmVxdWVzdFRpbWUsZWxhcHNlOm4uZWxhcHNlLHN1Y2VzczoxLGFwU2VydmVyQWRkcjpuLnVybCx0dXJuU2VydmVyQWRkckxpc3Q6bi5wcm94eUluZm8uYWRkcmVzc2VzLm1hcCgoZT0+ZS5pcCkpLmpvaW4oXCIsXCIpLGV2ZW50VHlwZTpcImRpc2FibGVkXCIsdW5pbGJzU2VydmVySWRzOltpRi5DSE9PU0VfU0VSVkVSLGlGLkNMT1VEX1BST1hZX0ZBTExCQUNLXS50b1N0cmluZygpfSksbFAuam9pbkNob29zZVNlcnZlcihlLnNpZCx7bHRzOm4ucmVxdWVzdFRpbWUsZWxhcHNlOm4uZWxhcHNlLHN1Y2M6ITAsY3NBZGRyOm4udXJsLG9waWQ6bi5vcGlkLHNlcnZlckxpc3Q6bi5nYXRld2F5SW5mby5nYXRld2F5QWRkcnMubWFwKChlPT5lLmFkZHJlc3MpKSxlYzpudWxsLGNpZDpuLmdhdGV3YXlJbmZvLmNpZC50b1N0cmluZygpLHVpZDpuLmdhdGV3YXlJbmZvLnVpZC50b1N0cmluZygpLGNzSXA6bi5nYXRld2F5SW5mby5jc0lwLHVuaWxic1NlcnZlcklkczpbaUYuQ0hPT1NFX1NFUlZFUl0udG9TdHJpbmcoKSxpc0h0dHAzOm4uaXNIdHRwM30pfWZ1bmN0aW9uIFhHKGUpe3JldHVybiB3aW5kb3cuYXRvYih3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSl8fFwiXCIpfWZ1bmN0aW9uIEpHKGUsdCl7d2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsd2luZG93LmJ0b2EodCkpfWZ1bmN0aW9uIFFHKGUpe2xldCB0PVwiXCIuY29uY2F0KGUuYXBwSWQsXCJfXCIpLmNvbmNhdChlLmNuYW1lKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZS51aWQmJih0Kz1cIl9zX1wiLmNvbmNhdChlLnVpZCkpLFwibnVtYmVyXCI9PXR5cGVvZiBlLnVpZCYmKHQrPVwiX1wiLmNvbmNhdChlLnVpZCkpLGUudG9rZW4mJih0Kz1cIl9cIi5jb25jYXQoZS50b2tlbikpLE9OKHQpfWZ1bmN0aW9uIFpHKGUpe2xldCB0PWZ1bmN0aW9uKCl7Y29uc3QgZT1pVy5wb3AoKTtyZXR1cm4gZT8oZS5vZmZzZXQ9ZS5saW1pdD0wLGUpOntieXRlczpuZXcgVWludDhBcnJheSg2NCksb2Zmc2V0OjAsbGltaXQ6MH19KCk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7bGV0IGk9ZS5hcHBJZDt2b2lkIDAhPT1pJiYocFcodCwxMCksZFcodCxpKSk7bGV0IG49ZS5jaWQ7dm9pZCAwIT09biYmKHBXKHQsMTYpLHBXKHQsbikpO2xldCByPWUuY25hbWU7dm9pZCAwIT09ciYmKHBXKHQsMjYpLGRXKHQscikpO2xldCBvPWUuZGV2aWNlSWQ7dm9pZCAwIT09byYmKHBXKHQsMzQpLGRXKHQsbykpO2xldCBzPWUuZWxhcHNlO3ZvaWQgMCE9PXMmJihwVyh0LDQwKSxFVyh0LHMpKTtsZXQgYT1lLmZpbGVTaXplO3ZvaWQgMCE9PWEmJihwVyh0LDQ4KSxFVyh0LHRXKGEpKSk7bGV0IGM9ZS5oZWlnaHQ7dm9pZCAwIT09YyYmKHBXKHQsNTYpLEVXKHQsdFcoYykpKTtsZXQgZD1lLmpwZzt2b2lkIDAhPT1kJiYocFcodCw2NikscFcodCxkLmxlbmd0aCksYVcodCxkKSk7bGV0IGw9ZS5uZXR3b3JrVHlwZTt2b2lkIDAhPT1sJiYocFcodCw3MiksRVcodCx0VyhsKSkpO2xldCB1PWUub3NUeXBlO3ZvaWQgMCE9PXUmJihwVyh0LDgwKSxFVyh0LHRXKHUpKSk7bGV0IGg9ZS5yZXF1ZXN0SWQ7dm9pZCAwIT09aCYmKHBXKHQsOTApLGRXKHQsaCkpO2xldCBwPWUuc2RrVmVyc2lvbjt2b2lkIDAhPT1wJiYocFcodCw5OCksZFcodCxwKSk7bGV0IF89ZS5zZXF1ZW5jZTt2b2lkIDAhPT1fJiYocFcodCwxMDQpLEVXKHQsdFcoXykpKTtsZXQgRT1lLnNpZDt2b2lkIDAhPT1FJiYocFcodCwxMTQpLGRXKHQsRSkpO2xldCBtPWUudGltZXN0YW1wO3ZvaWQgMCE9PW0mJihwVyh0LDEyMCksRVcodCxtKSk7bGV0IGY9ZS51aWQ7dm9pZCAwIT09ZiYmKHBXKHQsMTI4KSxwVyh0LGYpKTtsZXQgUz1lLnZpZDt2b2lkIDAhPT1TJiYocFcodCwxMzYpLHBXKHQsUykpO2xldCBnPWUud2lkdGg7dm9pZCAwIT09ZyYmKHBXKHQsMTQ0KSxFVyh0LHRXKGcpKSk7bGV0IFQ9ZS5zZXJ2aWNlO3ZvaWQgMCE9PVQmJihwVyh0LDE1MikscFcodCxUKSk7bGV0IFI9ZS5jYWxsYmFja0RhdGE7dm9pZCAwIT09UiYmKHBXKHQsMTYyKSxwVyh0LFIubGVuZ3RoKSxhVyh0LFIpKTtsZXQgQz1lLnRpY2tldDt2b2lkIDAhPT1DJiYocFcodCwxNzApLGRXKHQsQykpO2xldCB2PWUudmVuZG9yQ29uZmlnczt2b2lkIDAhPT12JiYocFcodCwxNzgpLGRXKHQsdikpfShlLHQpLGZ1bmN0aW9uKGUpe2xldCB0PWUuYnl0ZXMsaT1lLmxpbWl0O3JldHVybiB0Lmxlbmd0aD09PWk/dDp0LnN1YmFycmF5KDAsaSl9KHQpfWZ1bmN0aW9uICRHKGUpe3JldHVybiBmdW5jdGlvbihlKXtsZXQgdD17fTtlOmZvcig7IXJXKGUpOyl7bGV0IGk9aFcoZSk7c3dpdGNoKGk+Pj4zKXtjYXNlIDA6YnJlYWsgZTtjYXNlIDE6dC5jb2RlPWhXKGUpO2JyZWFrO2Nhc2UgMjp0Lm1zZz1jVyhlLGhXKGUpKTticmVhaztjYXNlIDM6dC5yZXF1ZXN0SWQ9Y1coZSxoVyhlKSk7YnJlYWs7Y2FzZSA0OnQudGltZXN0YW1wPV9XKGUsITEpO2JyZWFrO2RlZmF1bHQ6ZVcoZSw3JmkpfX1yZXR1cm4gdH0oe2J5dGVzOnQ9ZSxvZmZzZXQ6MCxsaW1pdDp0Lmxlbmd0aH0pO3ZhciB0fWZ1bmN0aW9uIGVXKGUsdCl7c3dpdGNoKHQpe2Nhc2UgMDpmb3IoOzEyOCZsVyhlKTspO2JyZWFrO2Nhc2UgMjpuVyhlLGhXKGUpKTticmVhaztjYXNlIDU6blcoZSw0KTticmVhaztjYXNlIDE6blcoZSw4KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVuaW1wbGVtZW50ZWQgdHlwZTogXCIrdCl9fWZ1bmN0aW9uIHRXKGUpe3JldHVybntsb3c6ZXw9MCxoaWdoOmU+PjMxLHVuc2lnbmVkOmU+PTB9fWxldCBpVz1bXTtmdW5jdGlvbiBuVyhlLHQpe2lmKGUub2Zmc2V0K3Q+ZS5saW1pdCl0aHJvdyBuZXcgRXJyb3IoXCJTa2lwIHBhc3QgbGltaXRcIik7ZS5vZmZzZXQrPXR9ZnVuY3Rpb24gclcoZSl7cmV0dXJuIGUub2Zmc2V0Pj1lLmxpbWl0fWZ1bmN0aW9uIG9XKGUsdCl7bGV0IGk9ZS5ieXRlcyxuPWUub2Zmc2V0LHI9ZS5saW1pdCxvPW4rdDtpZihvPmkubGVuZ3RoKXtsZXQgdD1uZXcgVWludDhBcnJheSgyKm8pO3Quc2V0KGkpLGUuYnl0ZXM9dH1yZXR1cm4gZS5vZmZzZXQ9byxvPnImJihlLmxpbWl0PW8pLG59ZnVuY3Rpb24gc1coZSx0KXtsZXQgaT1lLm9mZnNldDtpZihpK3Q+ZS5saW1pdCl0aHJvdyBuZXcgRXJyb3IoXCJSZWFkIHBhc3QgbGltaXRcIik7cmV0dXJuIGUub2Zmc2V0Kz10LGl9ZnVuY3Rpb24gYVcoZSx0KXtsZXQgaT1vVyhlLHQubGVuZ3RoKTtlLmJ5dGVzLnNldCh0LGkpfWZ1bmN0aW9uIGNXKGUsdCl7bGV0IGk9c1coZSx0KSxuPVN0cmluZy5mcm9tQ2hhckNvZGUscj1lLmJ5dGVzLG89XCLvv71cIixzPVwiXCI7Zm9yKGxldCBlPTA7ZTx0O2UrKyl7bGV0IGEsYyxkLGwsdT1yW2UraV07MD09KDEyOCZ1KT9zKz1uKHUpOjE5Mj09KDIyNCZ1KT9lKzE+PXQ/cys9bzooYT1yW2UraSsxXSwxMjghPSgxOTImYSk/cys9bzoobD0oMzEmdSk8PDZ8NjMmYSxsPDEyOD9zKz1vOihzKz1uKGwpLGUrKykpKToyMjQ9PSgyNDAmdSk/ZSsyPj10P3MrPW86KGE9cltlK2krMV0sYz1yW2UraSsyXSwzMjg5NiE9KDQ5MzQ0JihhfGM8PDgpKT9zKz1vOihsPSgxNSZ1KTw8MTJ8KDYzJmEpPDw2fDYzJmMsbDwyMDQ4fHxsPj01NTI5NiYmbDw9NTczNDM/cys9bzoocys9bihsKSxlKz0yKSkpOjI0MD09KDI0OCZ1KT9lKzM+PXQ/cys9bzooYT1yW2UraSsxXSxjPXJbZStpKzJdLGQ9cltlK2krM10sODQyMTUwNCE9KDEyNjMyMjU2JihhfGM8PDh8ZDw8MTYpKT9zKz1vOihsPSg3JnUpPDwxOHwoNjMmYSk8PDEyfCg2MyZjKTw8Nnw2MyZkLGw8NjU1MzZ8fGw+MTExNDExMT9zKz1vOihsLT02NTUzNixzKz1uKDU1Mjk2KyhsPj4xMCksNTYzMjArKDEwMjMmbCkpLGUrPTMpKSk6cys9b31yZXR1cm4gc31mdW5jdGlvbiBkVyhlLHQpe2xldCBpPXQubGVuZ3RoLG49MDtmb3IobGV0IGU9MDtlPGk7ZSsrKXtsZXQgcj10LmNoYXJDb2RlQXQoZSk7cj49NTUyOTYmJnI8PTU2MzE5JiZlKzE8aSYmKHI9KHI8PDEwKSt0LmNoYXJDb2RlQXQoKytlKS01NjYxMzg4OCksbis9cjwxMjg/MTpyPDIwNDg/MjpyPDY1NTM2PzM6NH1wVyhlLG4pO2xldCByPW9XKGUsbiksbz1lLmJ5dGVzO2ZvcihsZXQgZT0wO2U8aTtlKyspe2xldCBuPXQuY2hhckNvZGVBdChlKTtuPj01NTI5NiYmbjw9NTYzMTkmJmUrMTxpJiYobj0objw8MTApK3QuY2hhckNvZGVBdCgrK2UpLTU2NjEzODg4KSxuPDEyOD9vW3IrK109bjoobjwyMDQ4P29bcisrXT1uPj42JjMxfDE5Mjoobjw2NTUzNj9vW3IrK109bj4+MTImMTV8MjI0OihvW3IrK109bj4+MTgmN3wyNDAsb1tyKytdPW4+PjEyJjYzfDEyOCksb1tyKytdPW4+PjYmNjN8MTI4KSxvW3IrK109NjMmbnwxMjgpfX1mdW5jdGlvbiBsVyhlKXtyZXR1cm4gZS5ieXRlc1tzVyhlLDEpXX1mdW5jdGlvbiB1VyhlLHQpe2xldCBpPW9XKGUsMSk7ZS5ieXRlc1tpXT10fWZ1bmN0aW9uIGhXKGUpe2xldCB0LGk9MCxuPTA7ZG97dD1sVyhlKSxpPDMyJiYobnw9KDEyNyZ0KTw8aSksaSs9N313aGlsZSgxMjgmdCk7cmV0dXJuIG59ZnVuY3Rpb24gcFcoZSx0KXtmb3IodD4+Pj0wO3Q+PTEyODspdVcoZSwxMjcmdHwxMjgpLHQ+Pj49Nzt1VyhlLHQpfWZ1bmN0aW9uIF9XKGUsdCl7bGV0IGksbj0wLHI9MCxvPTA7cmV0dXJuIGk9bFcoZSksbj0xMjcmaSwxMjgmaSYmKGk9bFcoZSksbnw9KDEyNyZpKTw8NywxMjgmaSYmKGk9bFcoZSksbnw9KDEyNyZpKTw8MTQsMTI4JmkmJihpPWxXKGUpLG58PSgxMjcmaSk8PDIxLDEyOCZpJiYoaT1sVyhlKSxyPTEyNyZpLDEyOCZpJiYoaT1sVyhlKSxyfD0oMTI3JmkpPDw3LDEyOCZpJiYoaT1sVyhlKSxyfD0oMTI3JmkpPDwxNCwxMjgmaSYmKGk9bFcoZSkscnw9KDEyNyZpKTw8MjEsMTI4JmkmJihpPWxXKGUpLG89MTI3JmksMTI4JmkmJihpPWxXKGUpLG98PSgxMjcmaSk8PDcpKSkpKSkpKSkse2xvdzpufHI8PDI4LGhpZ2g6cj4+PjR8bzw8MjQsdW5zaWduZWQ6dH19ZnVuY3Rpb24gRVcoZSx0KXtsZXQgaT10Lmxvdz4+PjAsbj0odC5sb3c+Pj4yOHx0LmhpZ2g8PDQpPj4+MCxyPXQuaGlnaD4+PjI0LG89MD09PXI/MD09PW4/aTwxNjM4ND9pPDEyOD8xOjI6aTwxPDwyMT8zOjQ6bjwxNjM4ND9uPDEyOD81OjY6bjwxPDwyMT83Ojg6cjwxMjg/OToxMCxzPW9XKGUsbyksYT1lLmJ5dGVzO3N3aXRjaChvKXtjYXNlIDEwOmFbcys5XT1yPj4+NyYxO2Nhc2UgOTphW3MrOF09OSE9PW8/MTI4fHI6MTI3JnI7Y2FzZSA4OmFbcys3XT04IT09bz9uPj4+MjF8MTI4Om4+Pj4yMSYxMjc7Y2FzZSA3OmFbcys2XT03IT09bz9uPj4+MTR8MTI4Om4+Pj4xNCYxMjc7Y2FzZSA2OmFbcys1XT02IT09bz9uPj4+N3wxMjg6bj4+PjcmMTI3O2Nhc2UgNTphW3MrNF09NSE9PW8/MTI4fG46MTI3Jm47Y2FzZSA0OmFbcyszXT00IT09bz9pPj4+MjF8MTI4Omk+Pj4yMSYxMjc7Y2FzZSAzOmFbcysyXT0zIT09bz9pPj4+MTR8MTI4Omk+Pj4xNCYxMjc7Y2FzZSAyOmFbcysxXT0yIT09bz9pPj4+N3wxMjg6aT4+PjcmMTI3O2Nhc2UgMTphW3NdPTEhPT1vPzEyOHxpOjEyNyZpfX1jb25zdCBtVz17fSxmVz17fSxTVz00Mjk0OTY3Mjk2LGdXPVNXKlNXLFRXPWdXLzIsUlc9QVcoMCwhMCksQ1c9QVcoMCksdlc9YlcoMCwtMjE0NzQ4MzY0OCwhMSkseVc9YlcoLTEsMjE0NzQ4MzY0NywhMSksSVc9YlcoLTEsLTEsITApO2Z1bmN0aW9uIEFXKGUsdCl7bGV0IGksbixyO3JldHVybiB0PyhyPTA8PShlPj4+PTApJiZlPDI1NikmJihuPWZXW2VdLG4pP246KGk9YlcoZSwwLCEwKSxyJiYoZldbZV09aSksaSk6KHI9LTEyODw9KGV8PTApJiZlPDEyOCkmJihuPW1XW2VdLG4pP246KGk9YlcoZSxlPDA/LTE6MCwhMSksciYmKG1XW2VdPWkpLGkpfWZ1bmN0aW9uIGJXKGUsdCxpKXtyZXR1cm57bG93OjB8ZSxoaWdoOjB8dCx1bnNpZ25lZDohIWl9fWZ1bmN0aW9uIHdXKGUsdCl7aWYoaXNOYU4oZSkpcmV0dXJuIHQ/Ulc6Q1c7aWYodCl7aWYoZTwwKXJldHVybiBSVztpZihlPj1nVylyZXR1cm4gSVd9ZWxzZXtpZihlPD0tVFcpcmV0dXJuIHZXO2lmKGUrMT49VFcpcmV0dXJuIHlXfXJldHVybiBlPDA/dD9SVzpDVzpiVyhlJVNXfDAsZS9TV3wwLHQpfWZ1bmN0aW9uIE9XKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1jbGFzcyBOVyBleHRlbmRzIE5Pe2dldCBjb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlfXNldCBjb25uZWN0aW9uU3RhdGUoZSl7aWYodGhpcy5fY29ubmVjdGlvblN0YXRlPT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9jb25uZWN0aW9uU3RhdGU7dGhpcy5fY29ubmVjdGlvblN0YXRlPWUsdGhpcy5lbWl0KER4LkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLGUsdCl9Z2V0IHF1YWxpdHkoKXtyZXR1cm4gdGhpcy5fcXVhbGl0eX1zZXQgcXVhbGl0eShlKXt0aGlzLl9xdWFsaXR5PWU+MT8xOmU8LjE/LjE6ZSx0aGlzLl9xdWFsaXR5VGltZXImJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3F1YWxpdHlUaW1lciksdGhpcy5fcXVhbGl0eVRpbWVyPW51bGwpLHRoaXMuX3F1YWxpdHk+PTF8fCh0aGlzLl9xdWFsaXR5VGltZXI9d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5xdWFsaXR5PXRoaXMuX3F1YWxpdHkvdGhpcy5fcXVhbGl0eVJhdGlvfSksNmU0KSl9Y29uc3RydWN0b3IoZSl7dmFyIHQ7c3VwZXIoKSxpQSh0aGlzLFwibmFtZVwiLFwiQWdvcmFSVENJbWFnZU1vZGVyYXRpb25cIiksaUEodGhpcyxcIl9jb25uZWN0aW9uU3RhdGVcIixOeC5DT05ORUNUSU5HKSxpQSh0aGlzLFwiX3NlcXVlbmNlXCIsMCksaUEodGhpcyxcIl9tb2RlcmF0aW9uU3RhcnRUaW1lXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3dvcmtlckNvbm5lY3Rpb25cIix2b2lkIDApLGlBKHRoaXMsXCJfd29ya2VyTWVzc2FnZUxlbmd0aExpbWl0XCIsdm9pZCAwKSxpQSh0aGlzLFwiX3F1YWxpdHlSYXRpb1wiLHZvaWQgMCksaUEodGhpcyxcIl9jb25uZWN0SW5mb1wiLHZvaWQgMCksaUEodGhpcyxcIl9jYW5jZWxUb2tlblNvdXJjZVwiLFR3LkNhbmNlbFRva2VuLnNvdXJjZSgpKSxpQSh0aGlzLFwiX3JldHJ5Q29uZmlnXCIsdm9pZCAwKSxpQSh0aGlzLFwiX21vZGVyYXRpb25JbnRlcnZhbFwiLHZvaWQgMCksaUEodGhpcyxcIl9tb2RlcmF0aW9uVGltZXJcIixudWxsKSxpQSh0aGlzLFwiX21vZGVyYXRpb25Nb2RlXCIsMSksaUEodGhpcyxcIl9xdWFsaXR5XCIsMSksaUEodGhpcyxcIl9xdWFsaXR5VGltZXJcIixudWxsKSxpQSh0aGlzLFwiX3RpY2tldFwiLHZvaWQgMCksaUEodGhpcyxcIl9tb2RlcmF0aW9uSW50ZXJ2YWxNaW5pbXVtXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3VwbG9hZEZhaWxlZE51bVwiLDApLGlBKHRoaXMsXCJfdXBsb2FkTnVtXCIsMCksaUEodGhpcyxcIl91cGxvYWRUaW1lclwiLG51bGwpLGlBKHRoaXMsXCJfZXh0cmFJbmZvXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3ZlbmRvclwiLFwiXCIpLGlBKHRoaXMsXCJfZW5jb2RlclwiLG5ldyBUZXh0RW5jb2RlciksaUEodGhpcyxcIl9tb2RlcmF0aW9uSWRcIix2b2lkIDApLGlBKHRoaXMsXCJpbnNwZWN0SW1hZ2VcIiwoKCk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PU54LkNPTk5FQ1RFRCl0aHJvdyBuZXcgdVAoaE8uT1BFUkFUSU9OX0FCT1JURUQsXCJpbWFnZSBtb2RlcmF0aW9uIHNlcnZpY2UgY29ubmVjdGlvbiBzdGF0dXMgaXMgXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlKSk7dGhpcy5fbW9kZXJhdGlvblRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fbW9kZXJhdGlvblRpbWVyKSx0aGlzLl9tb2RlcmF0aW9uVGltZXI9bnVsbCksdGhpcy5fbW9kZXJhdGlvblRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PU54LkNPTk5FQ1RFRD90aGlzLnJlcXVlc3RUb0luc3BlY3RJbWFnZSgpOmlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIE1vZGVyYXRpb24gU3RhdGUgaXMgbm90IGNvbm5lY3RlZCAsIFwiKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZSl9KSx0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWw8dGhpcy5fbW9kZXJhdGlvbkludGVydmFsTWluaW11bT90aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWxNaW5pbXVtOnRoaXMuX21vZGVyYXRpb25JbnRlcnZhbCksdGhpcy5yZXF1ZXN0VG9JbnNwZWN0SW1hZ2UoKX0pKSx0aGlzLl9tb2RlcmF0aW9uSWQ9U04oNSxcImltYWdlLW1vZGVyYXRpb24tXCIpLHRoaXMuX3dvcmtlck1lc3NhZ2VMZW5ndGhMaW1pdD1DRChcIklNQUdFX01PREVSQVRJT05fV09SS0VSX01FU1NBR0VfTEVOR1RIX0xJTUlUXCIpLHRoaXMuX21vZGVyYXRpb25JbnRlcnZhbE1pbmltdW09Q0QoXCJJTUFHRV9NT0RFUkFUSU9OX0lOVEVSVkFMX01JTklNVU1cIiksdGhpcy5fbW9kZXJhdGlvbkludGVydmFsPW51bGwhPT0odD1lLmludGVydmFsKSYmdm9pZCAwIT09dD90OjFlMyxlLmV4dHJhSW5mbyYmKHRoaXMuX2V4dHJhSW5mbz10aGlzLl9lbmNvZGVyLmVuY29kZShlLmV4dHJhSW5mbykpLGUudmVuZG9yJiYodGhpcy5fdmVuZG9yPWUudmVuZG9yKSx0aGlzLl9xdWFsaXR5UmF0aW89Q0QoXCJJTUFHRV9NT0RFUkFUSU9OX1FVQUxJVFlfUkFUSU9cIiksdGhpcy5fbW9kZXJhdGlvblN0YXJ0VGltZT1OdW1iZXIoRGF0ZS5ub3coKSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbj1uZXcgJHgoXCJ3b3JrZXItXCIrdGhpcy5fbW9kZXJhdGlvbklkLGtOKSx0aGlzLm9uKER4LlNUQVRFX0NIQU5HRSwoKGUsdCk9PntpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbW9kZXJhdGlvbklkLFwiXSBNb2RlcmF0aW9uIG9wZXJhdGlvbiA6XCIpLmNvbmNhdChQeFtlXSxcIiBcIikuY29uY2F0KHR8fFwiXCIpKX0pKSx0aGlzLmhhbmRsZVdvcmtlckV2ZW50cygpfWFzeW5jIGluaXQoZSx0KXt0aGlzLmVtaXQoRHguU1RBVEVfQ0hBTkdFLFB4LkNPTk5FQ1RfQVApLHRoaXMuX2Nvbm5lY3RJbmZvPWU7Y29uc3QgaT10aGlzLl9jYW5jZWxUb2tlblNvdXJjZS50b2tlbjtyZXR1cm4gdGhpcy5fcmV0cnlDb25maWc9dCxuZXcgcnAoKChuLHIpPT57dGhpcy5vbihEeC5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSwoKGUsdCk9PntlPT09TnguQ09OTkVDVEVEJiZuKCl9KSksdGhpcy5yZXF1ZXN0QVAoZSxpLHQpLnRoZW4oKGU9Pnt0aGlzLmNvbm5lY3RXb3JrZXIoZSl9KSkuY2F0Y2goKGU9PntyKGUpfSkpfSkpfXVwZGF0ZUNvbmZpZyhlKXt2YXIgdDt0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWw9bnVsbCE9PSh0PWUuaW50ZXJ2YWwpJiZ2b2lkIDAhPT10P3Q6MWUzLGUuZXh0cmFJbmZvJiYodGhpcy5fZXh0cmFJbmZvPXRoaXMuX2VuY29kZXIuZW5jb2RlKGUuZXh0cmFJbmZvKSksZS52ZW5kb3ImJih0aGlzLl92ZW5kb3I9ZS52ZW5kb3IpLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIHVwZGF0ZUNvbmZpZzogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpLHRoaXMuY29ubmVjdGlvblN0YXRlPT09TnguQ09OTkVDVEVEJiZ0aGlzLmluc3BlY3RJbWFnZSgpfWFzeW5jIHJlcXVlc3RBUChlLHQsaSl7Y29uc3Qgbj1DRChcIldFQkNTX0RPTUFJTlwiKS5tYXAoKGU9PlwiaHR0cHM6Ly9cIi5jb25jYXQoZSxcIi9hcGkvdjFcIikpKSxyPWF3YWl0IGZ1bmN0aW9uKGUsdCxpLG4pe2xldHthcHBJZDpyLGFyZWFDb2RlOm8sY25hbWU6cyxzaWQ6YSx0b2tlbjpjLHVpZDpkfT10O1VCKys7Y29uc3QgbD1cIm1vZGVyYXRpb25fcGx1Z2luXCIsdT17c2VydmljZV9uYW1lOmwsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KHthcHBJZDpyLGFyZWFDb2RlOm8sY25hbWU6cyxjb21tYW5kOlwiYWxsb2NhdGVFZGdlXCIscmVxdWVzdElkOlVCLHNlcTpVQixzaWQ6YSxhcHBUb2tlbjpjLHRzOkRhdGUubm93KCksdWlkOmQrXCJcIn0pfTtsZXQgaCxwLF89ZVswXTtyZXR1cm4gVU4oKGFzeW5jKCk9PntoPURhdGUubm93KCk7Y29uc3QgZT1hd2FpdCBfQihfLHtkYXRhOnUsY2FuY2VsVG9rZW46aSxoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOlwiMFwiLFwiWC1QYWNrZXQtVVJJXCI6XCI2MVwifSxwYXJhbXM6e2FjdGlvbjpcIndydGNfZ2F0ZXdheVwifX0pO2lmKHA9RGF0ZS5ub3coKS1oLDAhPT1lLmNvZGUpe2NvbnN0IHQ9bmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlcnJvciwgY29kZVwiK2UuY29kZSx7cmV0cnk6ITAscmVzcG9uc2VUaW1lOnB9KTt0aHJvdyBpUC5lcnJvcih0LnRvU3RyaW5nKCkpLHR9Y29uc3QgdD1KU09OLnBhcnNlKGUuanNvbl9ib2R5KTtpZigyMDAhPT10LmNvZGUpe2NvbnN0IGU9bmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlcnJvciwgY29kZTogXCIuY29uY2F0KHQuY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KHQucmVhc29uKSx7Y29kZTp0LmNvZGUscmVzcG9uc2VUaW1lOnB9KTt0aHJvdyBpUC5lcnJvcihlLnRvU3RyaW5nKCkpLGV9aWYoIXQuc2VydmVyc3x8IUFycmF5LmlzQXJyYXkodC5zZXJ2ZXJzKXx8MD09PXQuc2VydmVycy5sZW5ndGgpe2NvbnN0IGU9bmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlbXB0eSBzZXJ2ZXJcIix7Y29kZTp0LmNvZGUscmVzcG9uc2VUaW1lOnB9KTt0aHJvdyBpUC5lcnJvcihlLnRvU3RyaW5nKCkpLGV9aWYoIXQuc2VydmVycy5zb21lKChlPT4hIWUud3NzKSkpe2NvbnN0IGU9bmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlbXB0eSBwb3J0XCIse2NvZGU6dC5jb2RlLHJlc3BvbnNlVGltZTpwfSk7dGhyb3cgaVAuZXJyb3IoZS50b1N0cmluZygpKSxlfWNvbnN0IG49Q0QoXCJJTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9XU1NcIik7aWYobilyZXR1cm57YWRkcmVzc0xpc3Q6W25dLHdvcmtlclRva2VuOnQud29ya2VyVG9rZW4sdmlkOnQudmlkLHJlc3BvbnNlVGltZTpwfTtjb25zdCByPUNEKFwiSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfSE9TVFwiKSxvPXQuc2VydmVycy5tYXAoKGU9PntsZXR7YWRkcmVzczp0LHdzczppfT1lO2lmKHQmJmkpcmV0dXJuXCJ3c3M6Ly9cIi5jb25jYXQodC5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChyLFwiOlwiKS5jb25jYXQoaSxcIi9tb2RlcmF0aW9uXCIpfSkpLmZpbHRlcigoZT0+ISFlKSk7cmV0dXJue2FkZHJlc3NMaXN0Om8sd29ya2VyVG9rZW46dC53b3JrZXJUb2tlbix2aWQ6dC52aWQsdGlja2V0OnQuYXBwVGlja2V0LHJlc3BvbnNlVGltZTpwfX0pLCgodCxpKT0+KGxQLmFwd29ya2VyRXZlbnQoYSx7c3VjY2VzczohMCxzYzoyMDAsc2VydmljZU5hbWU6bCxyZXNwb25zZURldGFpbDpKU09OLnN0cmluZ2lmeSh0LmFkZHJlc3NMaXN0KSxmaXJzdFN1Y2Nlc3M6MD09PWkscmVzcG9uc2VUaW1lOnAsc2VydmVySXA6ZVtpJWUubGVuZ3RoXX0pLCExKSksKCh0LGkpPT4obFAuYXB3b3JrZXJFdmVudChhLHtzdWNjZXNzOiExLHNjOnQuZGF0YSYmdC5kYXRhLmNvZGV8fDIwMCxzZXJ2aWNlTmFtZTpsLHJlc3BvbnNlVGltZTpwLHNlcnZlcklwOmVbaSVlLmxlbmd0aF19KSwhISh0LmNvZGUhPT1oTy5PUEVSQVRJT05fQUJPUlRFRCYmdC5jb2RlIT09aE8uVU5FWFBFQ1RFRF9SRVNQT05TRXx8dC5kYXRhJiZ0LmRhdGEucmV0cnkpJiYoXz1lWyhpKzEpJWUubGVuZ3RoXSwhMCkpKSxuKX0obixlLHQsaSk7dGhpcy5lbWl0KER4LlNUQVRFX0NIQU5HRSxQeC5BUF9DT05ORUNURUQpO2NvbnN0e2FkZHJlc3NMaXN0Om8sdGlja2V0OnN9PXI7cmV0dXJuIHRoaXMuX3RpY2tldD1zLG99YXN5bmMgY29ubmVjdFdvcmtlcihlKXt0aGlzLmVtaXQoRHguU1RBVEVfQ0hBTkdFLFB4LkNPTk5FQ1RfV09SS0VSKSxhd2FpdCB0aGlzLl93b3JrZXJDb25uZWN0aW9uLmluaXQoZSwxZTQpfWhhbmRsZVdvcmtlckV2ZW50cygpe3RoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oV1YuQ09OTkVDVEVELChhc3luYygpPT57dGhpcy5lbWl0KER4LlNUQVRFX0NIQU5HRSxQeC5XT1JLRVJfQ09OTkVDVEVELHRoaXMuX3dvcmtlckNvbm5lY3Rpb24udXJsKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1OeC5DT05ORUNURUR9KSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5vbihXVi5DTE9TRUQsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9TnguQ0xPU0VEfSkpLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oV1YuRkFJTEVELCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPU54LkNMT1NFRH0pKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKFdWLlJFQ09OTkVDVElORywoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT10aGlzLmNvbm5lY3Rpb25TdGF0ZT09PU54LkNPTk5FQ1RFRD9OeC5SRUNPTk5FQ1RJTkc6TnguQ09OTkVDVElOR30pKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKFdWLk9OX01FU1NBR0UsKGFzeW5jIGU9PntpZihlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7Y29uc3QgdD0kRyhuZXcgVWludDhBcnJheShlLmRhdGEpKTtDRChcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSYmaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gUmVzcG9uc2UgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGltYWdlIG1vZGVyYXRpb24gXCIpLEpTT04uc3RyaW5naWZ5KHQpKSx0aGlzLl91cGxvYWROdW0rKyx2b2lkIDA9PT10LmNvZGV8fDA9PT10LmNvZGV8fCh0aGlzLl91cGxvYWRGYWlsZWROdW0rKyxpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fbW9kZXJhdGlvbklkLFwiXSBFcnJvciByZXNwb25zZSBmcm9tIHdvcmtlLCBjb2RlIGlzIFwiKS5jb25jYXQodC5jb2RlLFwiLCBtc2cgaXMgXCIpLmNvbmNhdCh0Lm1zZykpLHRoaXMuX3VwbG9hZFRpbWVyfHwodGhpcy5fdXBsb2FkVGltZXI9d2luZG93LnNldFRpbWVvdXQoKCgpPT57bFAucmVwb3J0QXBpSW52b2tlKHRoaXMuX2Nvbm5lY3RJbmZvLnNpZHx8bnVsbCx7bmFtZTpMTy5JTUFHRV9NT0RFUkFUSU9OX1VQTE9BRCxvcHRpb25zOlt0aGlzLl91cGxvYWRGYWlsZWROdW0sdGhpcy5fdXBsb2FkTnVtLHQuY29kZV0sdGFnOmtPLlRSQUNFUn0pLm9uRXJyb3IobmV3IHVQKGhPLklNQUdFX01PREVSQVRJT05fVVBMT0FEX0ZBSUxFRCx0Lm1zZykpLHRoaXMuX3VwbG9hZFRpbWVyPW51bGx9KSxDRChcIklNQUdFX01PREVSQVRJT05fVVBMT0FEX1JFUE9SVF9JTlRFUlZBTFwiKSkpKX1lbHNlIGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIFVuZXhwZWN0ZWQgbWVzc2FnZSB0eXBlIGZyb20gd29ya2VyXCIpKX0pKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKFdWLldJTExfUkVDT05ORUNULCgoZSx0LGkpPT57XCJyZWNvdmVyXCI9PT1lJiZpKGUpLGkoXCJ0cnlOZXh0XCIpfSkpLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oV1YuUkVRVUVTVF9ORVdfVVJMUywoKGUsdCk9Pnt0aGlzLnJlcXVlc3RBUCh0aGlzLl9jb25uZWN0SW5mbyx0aGlzLl9jYW5jZWxUb2tlblNvdXJjZS50b2tlbix0aGlzLl9yZXRyeUNvbmZpZykudGhlbihlKS5jYXRjaCh0KX0pKX1zdGF0aWMgaW50VG9Mb25nKGUpe3JldHVybntsb3c6ZXw9MCxoaWdoOmU+PjMxLHVuc2lnbmVkOmU+PTB9fWFzeW5jIHJlcXVlc3RUb0luc3BlY3RJbWFnZSgpe2NvbnN0IGU9WE8odGhpcyxEeC5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0spLHQ9e2FwcElkOnRoaXMuX2Nvbm5lY3RJbmZvLmFwcElkLGNuYW1lOnRoaXMuX2Nvbm5lY3RJbmZvLmNuYW1lLGNpZDp0aGlzLl9jb25uZWN0SW5mby5jaWQsc2lkOnRoaXMuX2Nvbm5lY3RJbmZvLnNpZCx1aWQ6dGhpcy5fY29ubmVjdEluZm8udWlkLHZpZDp0aGlzLl9jb25uZWN0SW5mby52aWR9O2lmKGUpe2lmKCFlLmlzUGxheWluZylyZXR1cm4gdm9pZChDRChcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSYmaVAuZGVidWcoXCJPbmx5IHRoZSB0cmFjayBiZWluZyBwbGF5ZWQgY2FuIGJlIGluc3BlY3RlZFwiKSk7dGhpcy5fc2VxdWVuY2UrKztjb25zdCBpPWF3YWl0IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLHQpO3RoaXMuX3dvcmtlckNvbm5lY3Rpb24uc2VuZE1lc3NhZ2UoaSwhMCwhMCl9ZWxzZSBDRChcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSYmaVAuZGVidWcoXCJPbmx5IHRoZSB0cmFjayBiZWluZyBwdWJsaXNoZWQgY2FuIGJlIGluc3BlY3RlZFwiKX1hc3luYyBnZW5lcmF0ZVJlcXVlc3REYXRhKGUsdCl7bGV0e2FwcElkOmksY25hbWU6bixjaWQ6cix2aWQ6byxzaWQ6cyx1aWQ6YX09dDtjb25zdCBjPURhdGUubm93KCksZD1hd2FpdCBlLmdldEN1cnJlbnRGcmFtZUltYWdlKFwiaW1hZ2UvanBlZ1wiLHRoaXMucXVhbGl0eSksbD1hd2FpdCBRTChkLGksbiksdT10aGlzLl9zZXF1ZW5jZStcIi1cIityK1wiLVwiK2ErXCItXCIrYytcIi1cIitTTigxMixcIlwiKSxoPXthcHBJZDppLGNpZDpyLGNuYW1lOm4sZGV2aWNlSWQ6XCJcIixlbGFwc2U6TlcuaW50VG9Mb25nKE51bWJlcihjLXRoaXMuX21vZGVyYXRpb25TdGFydFRpbWUpKSxmaWxlU2l6ZTpkLmJ1ZmZlci5ieXRlTGVuZ3RoLGhlaWdodDpkLmhlaWdodCx3aWR0aDpkLndpZHRoLGpwZzpsLG5ldHdvcmtUeXBlOjYsb3NUeXBlOjcscmVxdWVzdElkOnUsc2RrVmVyc2lvbjpcIjQuMjQuMVwiLHNlcXVlbmNlOnRoaXMuX3NlcXVlbmNlLHNpZDpzLHRpbWVzdGFtcDp3VyhjKSx1aWQ6YSx2aWQ6byxzZXJ2aWNlOnRoaXMuX21vZGVyYXRpb25Nb2RlLHRpY2tldDp0aGlzLl90aWNrZXQsY2FsbGJhY2tEYXRhOnRoaXMuX2V4dHJhSW5mbyx2ZW5kb3JDb25maWdzOnRoaXMuX3ZlbmRvcn07dm9pZCAwPT09dGhpcy5fZXh0cmFJbmZvJiZkZWxldGUgaC5jYWxsYmFja0RhdGE7Y29uc3QgcD1aRyhoKTtpZihwLmJ5dGVMZW5ndGg8dGhpcy5fd29ya2VyTWVzc2FnZUxlbmd0aExpbWl0KXtpZihDRChcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSl7Y29uc3QgZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9PVyhPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpPVyhPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX0oe30saCk7ZGVsZXRlIGUuanBnLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIFJlcXVlc3QgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGltYWdlIG1vZGVyYXRpb24gc2VydmljZTogXCIpLEpTT04uc3RyaW5naWZ5KGUpKX1yZXR1cm4gcH17Y29uc3QgdD10aGlzLnF1YWxpdHkqdGhpcy5fcXVhbGl0eVJhdGlvO3JldHVybiB0aGlzLnF1YWxpdHk9dCxhd2FpdCB0aGlzLmdlbmVyYXRlUmVxdWVzdERhdGEoZSx7YXBwSWQ6aSxjbmFtZTpuLGNpZDpyLHZpZDpvLHNpZDpzLHVpZDphfSl9fWNsb3NlKCl7dGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UuY2FuY2VsKCksdGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2U9VHcuQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy5fd29ya2VyQ29ubmVjdGlvbiYmdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMuX21vZGVyYXRpb25UaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fbW9kZXJhdGlvblRpbWVyKSx0aGlzLl9tb2RlcmF0aW9uVGltZXI9bnVsbCx0aGlzLl91cGxvYWRUaW1lciYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl91cGxvYWRUaW1lciksdGhpcy5fdXBsb2FkVGltZXI9bnVsbCx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1OeC5DTE9TRUQsdGhpcy5lbWl0KER4LlNUQVRFX0NIQU5HRSxQeC5DTE9TRUQpfX1mdW5jdGlvbiBEVyhlKXtpZihtTyhlLmludGVydmFsLFwiaW50ZXJ2YWxcIiwxZTMsMS8wKSxlJiZlLmV4dHJhSW5mbyYmZS5leHRyYUluZm8ubGVuZ3RoPjEwMjQpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLFwiY29uZmlnLmV4dHJhSW5mbyBsZW5ndGggY2Fubm90IGV4Y2VlZCAxMDI0IGJ5dGVzXCIpO2lmKGUmJmUudmVuZG9yJiZlLnZlbmRvci5sZW5ndGg+MTAyNCl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJjb25maWcudmVuZG9yIGxlbmd0aCBjYW5ub3QgZXhjZWVkIDEwMjQgYnl0ZXNcIil9Y29uc3QgUFc9e25hbWU6XCJJbWFnZU1vZGVyYXRpb25cIixjcmVhdGU6ZnVuY3Rpb24oZSl7bGV0e2NvbmZpZzp0fT1lO3JldHVybiBEVyh0KSxuZXcgTlcodCl9fTt2YXIgTFcsa1csTVcsVVcsVlcseFcsRlcsQlcsalcsR1csV1csSFcsS1csWVcselcscVcsWFcsSlcsUVcsWlcsJFcsZUgsdEgsaUgsbkgsckgsb0gsc0gsYUgsY0gsZEgsbEgsdUgsaEgscEgsX0gsRUgsbUgsZkgsU0gsZ0gsVEgsUkg7ZnVuY3Rpb24gQ0goZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIHZIKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0NIKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aUEoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOkNIKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfVBOLnNldExvZ2dlcihpUCk7bGV0IHlIPShMVz1kUCgpLGtXPWRQKHthcmdzTWFwOihlLHQpPT57aWYoIUFycmF5LmlzQXJyYXkodCkpe2lmKCEodCBpbnN0YW5jZW9mIGxMKSlyZXR1cm5bdF07dD1bdF19cmV0dXJuIHQubWFwKChlPT5lP09iamVjdChlKS50b1N0cmluZygpOlwibnVsbFwiKSl9fSksTVc9ZFAoe2FyZ3NNYXA6KGUsdCk9Pih0fHwodD1bXSksQXJyYXkuaXNBcnJheSh0KXx8dC50cmFja01lZGlhVHlwZSE9PUhQLkRBVEE/KEFycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksdC5tYXAoKGU9PmUuZ2V0VHJhY2tJZCgpKSkpOlt0LmdldENoYW5uZWxJZCgpXSl9KSxVVz1kUCh7YXJnc01hcDooZSx0LGksbik9PltcIm9iamVjdFwiPT10eXBlb2YgdD90LnVpZDp0LGksbl19KSxWVz1kUCh7YXJnc01hcDooZSx0LGkpPT5bdCxpXX0pLHhXPWRQKHthcmdzTWFwOihlLHQpPT50Lm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJuW251bGw9PXQ/dm9pZCAwOnQudWlkLGldfSkpfSksRlc9ZFAoe2FyZ3NNYXA6KGUsdCxpLG4pPT5bXCJvYmplY3RcIj09dHlwZW9mIHQ/dC51aWQ6dCxpLG5dfSksQlc9ZFAoe2FyZ3NNYXA6KGUsdCk9PnQubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aX09ZTtyZXR1cm57dWlkOm51bGw9PXQ/dm9pZCAwOnQudWlkLG1lZGlhVHlwZTppfX0pKX0pLGpXPWRQKCksR1c9ZFAoKSxXVz1kUCgpLEhXPWRQKCksS1c9ZFAoKSxZVz1kUCgpLHpXPWRQKCkscVc9ZFAoKSxYVz1kUCgpLEpXPWRQKCksUVc9ZFAoKSxaVz1kUCgpLCRXPWRQKCksZUg9ZFAoKSx0SD1kUCgpLGlIPWRQKCksbkg9ZFAoe2FyZ3NNYXA6KGUsdCk9Plt0XX0pLHJIPWRQKCksb0g9ZFAoKSxzSD1kUCgpLGFIPWRQKCksY0g9ZFAoKSxkSD1kUCgpLGxIPWRQKCksdUg9ZFAoKSxoSD1kUCh7YXJnc01hcDooZSx0KT0+KEFycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksW0pTT04uc3RyaW5naWZ5KHQpXSl9KSxwSD1kUCgpLF9IPWRQKCksRUg9ZFAoKSxtSD1kUCgpLGZIPWRQKCksU0g9ZFAoKSxnSD1kUCh7cmVwb3J0UmVzdWx0OiEwfSksVEg9ZFAoKSxSSD1jbGFzcyBleHRlbmRzIE5Pe2dldCBjb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5zdGF0ZX1nZXQgcmVtb3RlVXNlcnMoKXtyZXR1cm4gdGhpcy5fdXNlcnN9Z2V0IGxvY2FsVHJhY2tzKCl7cmV0dXJuIHRoaXMuX3AycENoYW5uZWwuZ2V0QWxsVHJhY2tzKCEwKX1nZXQgdWlkKCl7cmV0dXJuIHRoaXMuX3VpZH1nZXQgY2hhbm5lbE5hbWUoKXtyZXR1cm4gdGhpcy5fY2hhbm5lbE5hbWV9Z2V0IGxvY2FsRGF0YUNoYW5uZWxzKCl7cmV0dXJuIHRoaXMuX3AycENoYW5uZWwuZ2V0QWxsRGF0YUNoYW5uZWxzKCl9Z2V0IG1vZGUoKXtyZXR1cm4gdGhpcy5fY29uZmlnLm1vZGV9Z2V0IHJvbGUoKXt2YXIgZTtyZXR1cm4obnVsbD09PShlPXRoaXMuX2NvbmZpZyl8fHZvaWQgMD09PWU/dm9pZCAwOmUucm9sZSl8fFwiYXVkaWVuY2VcIn1nZXQgY29kZWMoKXtyZXR1cm4gdGhpcy5fY29uZmlnLmNvZGVjfWdldCBhdWRpb0NvZGVjKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5hdWRpb0NvZGVjfHxcIm9wdXNcIn1nZXQgaXNTdHJpbmdVSUQoKXtyZXR1cm4hIXRoaXMuX2pvaW5JbmZvJiYhIXRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZH1nZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiQ2xpZW50XCJ9Y29uc3RydWN0b3IoZSx0KXtsZXQgaTtpZihzdXBlcigpLGlBKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksaUEodGhpcyxcIl91aWRcIix2b2lkIDApLGlBKHRoaXMsXCJfY2hhbm5lbE5hbWVcIix2b2lkIDApLGlBKHRoaXMsXCJfdWludFVpZFwiLHZvaWQgMCksaUEodGhpcyxcIl91c2Vyc1wiLFtdKSxpQSh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksaUEodGhpcyxcIl9jbGllbnRJZFwiLHZvaWQgMCksaUEodGhpcyxcIl9hcHBJZFwiLHZvaWQgMCksaUEodGhpcyxcIl9zZXNzaW9uSWRcIixudWxsKSxpQSh0aGlzLFwiX2tleVwiLHZvaWQgMCksaUEodGhpcyxcIl9ydG1Db25maWdcIix7fSksaUEodGhpcyxcIl9qb2luSW5mb1wiLHZvaWQgMCksaUEodGhpcyxcIl9nYXRld2F5XCIsdm9pZCAwKSxpQSh0aGlzLFwiX3N0YXRzQ29sbGVjdG9yXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2NvbmZpZ0Rpc3RyaWJ1dGVcIix2b2lkIDApLGlBKHRoaXMsXCJfbGVhdmVNdXRleFwiLHZvaWQgMCksaUEodGhpcyxcIl9wdWJsaXNoTXV0ZXhcIix2b2lkIDApLGlBKHRoaXMsXCJfcmVuZXdUb2tlbk11dGV4XCIsdm9pZCAwKSxpQSh0aGlzLFwiX3N1YnNjcmliZU11dGV4XCIsdm9pZCAwKSxpQSh0aGlzLFwiX2VuY3J5cHRpb25Nb2RlXCIsXCJub25lXCIpLGlBKHRoaXMsXCJfZW5jcnlwdGlvblNlY3JldFwiLG51bGwpLGlBKHRoaXMsXCJfZW5jcnlwdGlvblNhbHRcIixudWxsKSxpQSh0aGlzLFwiX2VuY3J5cHREYXRhU3RyZWFtXCIsITEpLGlBKHRoaXMsXCJfZW5jcnlwdERhdGFTdHJlYW1LZXlcIixudWxsKSxpQSh0aGlzLFwiX2VuY3J5cHREYXRhU3RyZWFtSXZcIixudWxsKSxpQSh0aGlzLFwiX3Byb3h5U2VydmVyXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3R1cm5TZXJ2ZXJcIix7c2VydmVyczpbXSxtb2RlOlwiYXV0b1wifSksaUEodGhpcyxcIl9jbG91ZFByb3h5U2VydmVyTW9kZVwiLFwiZGlzYWJsZWRcIiksaUEodGhpcyxcIl9pc0R1YWxTdHJlYW1FbmFibGVkXCIsITEpLGlBKHRoaXMsXCJfZGVmYXVsdFN0cmVhbUZhbGxiYWNrVHlwZVwiLHZvaWQgMCksaUEodGhpcyxcIl9sb3dTdHJlYW1QYXJhbWV0ZXJcIix2b2lkIDApLGlBKHRoaXMsXCJfc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXBcIixuZXcgTWFwKSxpQSh0aGlzLFwiX3JlbW90ZVN0cmVhbVR5cGVDYWNoZU1hcFwiLG5ldyBNYXApLGlBKHRoaXMsXCJfYXhpb3NDYW5jZWxTb3VyY2VcIixUdy5DYW5jZWxUb2tlbi5zb3VyY2UoKSksaUEodGhpcyxcIl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbFwiLHZvaWQgMCksaUEodGhpcyxcIl9uZXR3b3JrUXVhbGl0eUludGVydmFsXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3VzZXJPZmZsaW5lVGltZW91dFwiLHZvaWQgMCksaUEodGhpcyxcIl9zdHJlYW1SZW1vdmVkVGltZW91dFwiLHZvaWQgMCksaUEodGhpcyxcIl9ydGVEZXRhaWxJbnRlcnZhbFwiLHZvaWQgMCksaUEodGhpcyxcIl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50XCIsdm9pZCAwKSxpQSh0aGlzLFwiX2xpdmVSYXdTdHJlYW1pbmdDbGllbnRcIix2b2lkIDApLGlBKHRoaXMsXCJfY2hhbm5lbE1lZGlhUmVsYXlDbGllbnRcIix2b2lkIDApLGlBKHRoaXMsXCJfbmV0d29ya1F1YWxpdHlTZW5zaXRpdml0eVwiLFwibm9ybWFsXCIpLGlBKHRoaXMsXCJfcDJwQ2hhbm5lbFwiLHZvaWQgMCksaUEodGhpcyxcIl91c2VMb2NhbEFjY2Vzc1BvaW50XCIsITEpLGlBKHRoaXMsXCJfc2V0TG9jYWxBUFZlcnNpb25cIix2b2lkIDApLGlBKHRoaXMsXCJfam9pbkFuZE5vdExlYXZlWWV0XCIsITEpLGlBKHRoaXMsXCJfbnVtYmVyT2ZKb2luQ291bnRcIiwwKSxpQSh0aGlzLFwiX2pvaW5SZXNwb25zZVwiLG51bGwpLGlBKHRoaXMsXCJfcmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZVwiLHZvaWQgMCksaUEodGhpcyxcIl9pbnNwZWN0XCIsdm9pZCAwKSxpQSh0aGlzLFwiX21vZGVyYXRpb25cIix2b2lkIDApLGlBKHRoaXMsXCJfbGljZW5zZVwiLHZvaWQgMCksaUEodGhpcyxcIl9wZW5kaW5nUHVibGlzaGVkVXNlcnNcIixbXSksaUEodGhpcyxcIm50cEFsaWduRXJyb3JDb3VudFwiLDApLGlBKHRoaXMsXCJyZW1vdGVJbmJvdW5kT2Zmc2V0XCIsMCksaUEodGhpcyxcIl9wZWVyQ29ubmVjdGlvblN0YXRlXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3BlbmRpbmdSdHBDYXBhYmlsaXR5Q2hhbmdlXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2ZhbGxiYWNrU2VydmVySW5mb1wiLHZvaWQgMCksaUEodGhpcyxcIl9kdWFsU3RyZWFtTW9kZVwiLHZvaWQgMCksaUEodGhpcyxcIl9oYW5kbGVMb2NhbFRyYWNrRW5hYmxlXCIsKChlLHQsaSk9Pnt0aGlzLnB1Ymxpc2goZSwhMSkudGhlbih0KS5jYXRjaChpKX0pKSxpQSh0aGlzLFwiX2hhbmRsZUxvY2FsVHJhY2tEaXNhYmxlXCIsKChlLHQsaSk9Pnt0aGlzLnVucHVibGlzaChlKS50aGVuKHQpLmNhdGNoKGkpfSkpLGlBKHRoaXMsXCJfaGFuZGxlVXNlck9ubGluZVwiLChlPT57aWYoQ0QoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJnpVKGUudWlkLHRoaXMuY2hhbm5lbE5hbWUpKXJldHVybiB2b2lkIGlQLmRlYnVnKFwiW1wiLmNvbmNhdChlLnVpZCxcIl0gd2lsbCBiZSBpZ25vcmVkIGluIGxvY2FsXCIpKTt0aGlzLmlzU3RyaW5nVUlEJiZcInN0cmluZ1wiIT10eXBlb2YgZS51aWQmJmlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU3RyaW5nVUlEIGlzIE1peGVkIHdpdGggVWludFVJRFwiKSk7Y29uc3QgdD10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUudWlkKSk7aWYodCl0Ll90cnVzdF9pbl9yb29tXz0hMCx0Ll9pc19wcmVfY3JlYXRlZCYmKHQuX2lzX3ByZV9jcmVhdGVkPSExLHRoaXMuc2FmZUVtaXQoR08uVVNFUl9KT0lORUQsdCkpO2Vsc2V7Y29uc3QgdD1uZXcgYWooZS51aWQsZS51aW50X2lkfHxlLnVpZCk7dGhpcy5fdXNlcnMucHVzaCh0KSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgb25saW5lXCIpLGUudWlkKSx0aGlzLnN0b3JlLmZpcnN0VmlkZW9GcmFtZURlY29kZWQodC51aWQse3VzZXJKb2luTm90aWZ5OkRhdGUubm93KCl9KSx0aGlzLnNhZmVFbWl0KEdPLlVTRVJfSk9JTkVELHQpfX0pKSxpQSh0aGlzLFwiX2hhbmRsZVVzZXJPZmZsaW5lXCIsKGU9PntpZihDRChcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmelUoZS51aWQsdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fdXNlcnMuZmluZCgodD0+dC51aWQ9PT1lLnVpZCkpO3QmJih0aGlzLl9oYW5kbGVSZW1vdmVTdHJlYW0oZSksdGhpcy5faGFuZGxlUmVtb3ZlRGF0YUNoYW5uZWxzKGUpLHQuX2F1ZGlvX3ByZV9zdWJzY3JpYmVkfHx0Ll92aWRlb19wcmVfc3Vic2NyaWJlZD90Ll9pc19wcmVfY3JlYXRlZD0hMDpuTih0aGlzLl91c2Vycyx0KSx0aGlzLl9yZW1vdGVTdHJlYW1UeXBlQ2FjaGVNYXAuZGVsZXRlKHQudWlkKSx0aGlzLl9zdHJlYW1GYWxsYmFja1R5cGVDYWNoZU1hcC5kZWxldGUodC51aWQpLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBvZmZsaW5lXCIpLGUudWlkLFwicmVhc29uOlwiLGUucmVhc29uKSx0aGlzLnNhZmVFbWl0KEdPLlVTRVJfTEVBVkVELHQsZS5yZWFzb24pKX0pKSxpQSh0aGlzLFwiX2hhbmRsZUFkZEF1ZGlvT3JWaWRlb1N0cmVhbVwiLCgoZSx0LGksbixyLG8scyxhKT0+e2lmKENEKFwiQkxPQ0tfTE9DQUxfQ0xJRU5UXCIpJiZ6VSh0LHRoaXMuY2hhbm5lbE5hbWUpKXJldHVybjtjb25zdCBjPXRoaXMuX3VzZXJzLmZpbmQoKGU9PmUudWlkPT09dCkpO2lmKCFjKXJldHVybiB2b2lkIGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9hZGRfc3RyZWFtKVwiKSk7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdHJlYW0gYWRkZWQgd2l0aCB1aWQgXCIpLmNvbmNhdCh0LFwiLCB0eXBlIFwiKS5jb25jYXQoZSkpLHRoaXMuc3RvcmUuc3Vic2NyaWJlKGMudWlkLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSksXCJ2aWRlb1wiPT09ZSYmdGhpcy5zdG9yZS5maXJzdFZpZGVvRnJhbWVEZWNvZGVkKGMudWlkLHt2aWRlb0FkZE5vdGlmeTpEYXRlLm5vdygpfSk7Y29uc3QgZD1cImF1ZGlvXCI9PT1lP2MuaGFzQXVkaW86Yy5oYXNWaWRlbztjLl91aW50aWR8fChjLl91aW50aWQ9b3x8dCksXCJhdWRpb1wiPT09ZT9jLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwOmMuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsXCJhdWRpb1wiPT09ZT8oYy5fYXVkaW9fYWRkZWRfPSEwLHZvaWQgMCE9PWkmJihjLl9hdWRpb1NTUkM9aSksdm9pZCAwIT09biYmKGMuX2NuYW1lPW4pLHMmJihjLl9hdWRpb09ydGM9cykpOihjLl92aWRlb19hZGRlZF89ITAsdm9pZCAwIT09aSYmKGMuX3ZpZGVvU1NSQz1pKSx2b2lkIDAhPT1uJiYoYy5fY25hbWU9biksdm9pZCAwIT09YSYmKGMuX3J0eFNzcmNJZD1hKSxzJiYoYy5fdmlkZW9PcnRjPXMpKSwoXCJhdWRpb1wiPT09ZT9jLmhhc0F1ZGlvOmMuaGFzVmlkZW8pJiYhZCYmKGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGMudWlkLFwiIHB1Ymxpc2hlZCBcIikuY29uY2F0KGUpKSx0aGlzLnNhZmVFbWl0KEdPLlVTRVJfUFVCTElTSEVELGMsZSkpLFwidmlkZW9cIj09PWU/bFAub25HYXRld2F5U3RyZWFtKHRoaXMuX3Nlc3Npb25JZCxzUC5PTl9BRERfVklERU9fU1RSRUFNLGFQLk9OX0FERF9WSURFT19TVFJFQU0se3BlZXI6b3x8dCxzc3JjOmMuX3ZpZGVvU1NSQ30pOmxQLm9uR2F0ZXdheVN0cmVhbSh0aGlzLl9zZXNzaW9uSWQsc1AuT05fQUREX0FVRElPX1NUUkVBTSxhUC5PTl9BRERfQVVESU9fU1RSRUFNLHtwZWVyOm98fHQsc3NyYzpjLl9hdWRpb1NTUkN9KSx0aGlzLl9wMnBDaGFubmVsLnJlbW90ZU1lZGlhU3NyY0NoYW5nZWQoYyxlLGkpLnRoZW4oKHQ9PntpZih0JiYoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBcIikuY29uY2F0KGUsXCIgZm9yIHVzZXIgXCIpLmNvbmNhdChjLnVpZCxcIiBhZnRlciByZWpvaW4gYmVjYXVzZSBTU1JDIGlkIGNoYW5nZWQuXCIpKSx0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgRUcpKXJldHVybiB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKGMsZSwhMCkudGhlbigoKCk9PnRoaXMuX3N1YnNjcmliZShjLGUsITApLmNhdGNoKChlPT57aVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpfSkpKSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5oYXNQZW5kaW5nUmVtb3RlTWVkaWEoYyxlKSYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgXCIpLmNvbmNhdChlLFwiIGZvciB1c2VyIFwiKS5jb25jYXQoYy51aWQsXCIgYWZ0ZXIgcmVjb25uZWN0LlwiKSksdGhpcy5fc3Vic2NyaWJlKGMsZSwhMCkuY2F0Y2goKGU9PntpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIGVycm9yXCIpLGUudG9TdHJpbmcoKSl9KSkpO2NvbnN0IGw9dGhpcy5fZ2V0RW5jb2RpbmdOYW1lKHIpO1widmlkZW9cIj09PWUmJihcInVua25vd25cIj09PWw/dGhpcy5zYWZlRW1pdChHTy5BVjFfREVDT0RBQkxFX1JFU1VMVCwhMSk6VncoKXx8ancoKXx8KG51bGw9PWw/dm9pZCAwOmwudG9Mb2NhbGVMb3dlckNhc2UoKSkhPT1BRC5hdjF8fEJCKCkudGhlbigoZT0+e0NEKFwiRkxTX0VOQUJMRV9BVjFfREVDT0RFX0RFVEVDVFwiKSYmdGhpcy5zYWZlRW1pdChHTy5BVjFfREVDT0RBQkxFX1JFU1VMVCxlKSxlfHx0aGlzLl9nYXRld2F5LmRvd25ncmFkZUNvZGVjKGwpfSkpKX0pKSxpQSh0aGlzLFwiX2hhbmRsZVJlbW92ZVN0cmVhbVwiLChlPT57aWYoQ0QoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJnpVKGUudWlkLHRoaXMuY2hhbm5lbE5hbWUpKXJldHVybjtjb25zdCB0PXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZS51aWQpKTtpZighdClyZXR1cm4gdm9pZCBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9yZW1vdmVfc3RyZWFtKVwiKSk7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdHJlYW0gcmVtb3ZlZCB3aXRoIHVpZCBcIikuY29uY2F0KGUudWlkKSk7bGV0IGk9KCk9Pnt9O3QuaGFzQXVkaW8mJnQuaGFzVmlkZW8/aT0oKT0+e2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiIHVucHVibGlzaGVkIGF1ZGlvIHRyYWNrXCIpKSx0aGlzLnNhZmVFbWl0KEdPLlVTRVJfVU5QVUJMSVNIRUQsdCxcImF1ZGlvXCIpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiIHVucHVibGlzaGVkIHZpZGVvIHRyYWNrXCIpKSx0aGlzLnNhZmVFbWl0KEdPLlVTRVJfVU5QVUJMSVNIRUQsdCxcInZpZGVvXCIpfTp0Lmhhc1ZpZGVvP2k9KCk9PntpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiB1bnB1Ymxpc2hlZCB2aWRlbyB0cmFja1wiKSksdGhpcy5zYWZlRW1pdChHTy5VU0VSX1VOUFVCTElTSEVELHQsXCJ2aWRlb1wiKX06dC5oYXNBdWRpbyYmKGk9KCk9PntpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiB1bnB1Ymxpc2hlZCBhdWRpbyB0cmFja1wiKSksdGhpcy5zYWZlRW1pdChHTy5VU0VSX1VOUFVCTElTSEVELHQsXCJhdWRpb1wiKX0pLHQuX3ZpZGVvX3ByZV9zdWJzY3JpYmVkfHx0Ll9hdWRpb19wcmVfc3Vic2NyaWJlZHx8KHQuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsdC5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCx0Ll9hdWRpb19hZGRlZF89ITEsdC5fdmlkZW9fYWRkZWRfPSExLHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBFRyYmdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZSh0KS50aGVuKChlPT57aWYoZSlyZXR1cm4gdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZShlLHQudWlkKX0pKSx0Ll9hdWRpb1NTUkM9dm9pZCAwLHQuX3ZpZGVvU1NSQz12b2lkIDAsdC5fYXVkaW9PcnRjPXZvaWQgMCx0Ll92aWRlb09ydGM9dm9pZCAwLHQuX3J0eFNzcmNJZD12b2lkIDApLGxQLm9uR2F0ZXdheVN0cmVhbSh0aGlzLl9zZXNzaW9uSWQsc1AuT05fUkVNT1ZFX1NUUkVBTSxhUC5PTl9SRU1PVkVfU1RSRUFNLHtwZWVyOmUudWludF9pZHx8ZS51aWR9KSxpKCl9KSksaUEodGhpcyxcIl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZVwiLCgoZSx0LGkpPT57aWYoQ0QoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJnpVKHQsdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO2NvbnN0IG49dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT10KSk7aWYoIW4pcmV0dXJuIHZvaWQgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKGRpc2FibGVfbG9jYWwpXCIpKTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGxvY2FsIFwiKS5jb25jYXQoZSxcIiBcIikuY29uY2F0KGk/XCJlbmFibGVkXCI6XCJkaXNhYmxlZFwiLFwiIHdpdGggdWlkIFwiKS5jb25jYXQodCkpO2NvbnN0IHI9XCJhdWRpb1wiPT09ZT9uLmhhc0F1ZGlvOm4uaGFzVmlkZW87aWYoXCJhdWRpb1wiPT09ZSl7bi5fdHJ1c3RfYXVkaW9fZW5hYmxlZF9zdGF0ZV89ITA7Y29uc3QgZT1uLl9hdWRpb19lbmFibGVkXztpZihuLl9hdWRpb19lbmFibGVkXz1pLG4uX2F1ZGlvX2VuYWJsZWRfPT09ZSlyZXR1cm47e2NvbnN0IGU9bi5fYXVkaW9fZW5hYmxlZF8/XCJlbmFibGUtbG9jYWwtYXVkaW9cIjpcImRpc2FibGUtbG9jYWwtYXVkaW9cIjtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXItaW5mby11cGRhdGVkLCB1aWQ6IFwiKS5jb25jYXQodCxcIiwgbXNnOiBcIikuY29uY2F0KGUpKSx0aGlzLnNhZmVFbWl0KEdPLlVTRVJfSU5GT19VUERBVEVELHQsZSl9fWVsc2V7bi5fdHJ1c3RfdmlkZW9fZW5hYmxlZF9zdGF0ZV89ITA7Y29uc3QgZT1uLl92aWRlb19lbmFibGVkXztpZihuLl92aWRlb19lbmFibGVkXz1pLG4uX3ZpZGVvX2VuYWJsZWRfPT09ZSlyZXR1cm47e2NvbnN0IGU9bi5fdmlkZW9fZW5hYmxlZF8/XCJlbmFibGUtbG9jYWwtdmlkZW9cIjpcImRpc2FibGUtbG9jYWwtdmlkZW9cIjtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXItaW5mby11cGRhdGUsIHVpZDogXCIpLmNvbmNhdCh0LFwiLCBtc2c6IFwiKS5jb25jYXQoZSkpLHRoaXMuc2FmZUVtaXQoR08uVVNFUl9JTkZPX1VQREFURUQsdCxlKX19Y29uc3Qgbz1cImF1ZGlvXCI9PT1lP24uaGFzQXVkaW86bi5oYXNWaWRlbztyZXR1cm4gciE9PW8/IXImJm8/KGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHQsXCIgcHVibGlzaGVkIFwiKS5jb25jYXQoZSkpLHZvaWQgdGhpcy5zYWZlRW1pdChHTy5VU0VSX1BVQkxJU0hFRCxuLGUpKTooXCJ2aWRlb1wiPT09ZSYmbi5fdmlkZW9UcmFjayYmbi5fdmlkZW9UcmFjay5fZGVzdHJveSgpLFwiYXVkaW9cIj09PWUmJm4uX2F1ZGlvVHJhY2ssdGhpcy5fcDJwQ2hhbm5lbC5tdXRlUmVtb3RlKG4sZSksaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodCxcIiB1bnB1Ymxpc2hlZCBcIikuY29uY2F0KGUpKSx2b2lkIHRoaXMuc2FmZUVtaXQoR08uVVNFUl9VTlBVQkxJU0hFRCxuLGUpKTp2b2lkIDB9KSksaUEodGhpcyxcIl9oYW5kbGVNdXRlU3RyZWFtXCIsKChlLHQsaSk9PntpZihDRChcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmelUoZSx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZWNlaXZlIG11dGUgbWVzc2FnZVwiKSxlLHQsaSk7Y29uc3Qgbj10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUpKTtpZighbilyZXR1cm4gdm9pZCBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHJlbW90ZSB1c2VyLCBpZ25vcmUgbXV0ZSBldmVudCwgdWlkOiBcIikuY29uY2F0KGUpKTtjb25zdCByPVwiYXVkaW9cIj09PXQ/bi5oYXNBdWRpbzpuLmhhc1ZpZGVvO2lmKFwiYXVkaW9cIj09PXQpe24uX3RydXN0X2F1ZGlvX211dGVfc3RhdGVfPSEwO2NvbnN0IHQ9bi5fYXVkaW9fbXV0ZWRfO2lmKG4uX2F1ZGlvX211dGVkXz1pLG4uX2F1ZGlvX211dGVkXz09PXQpcmV0dXJuO3tjb25zdCB0PW4uX2F1ZGlvX211dGVkXz9cIm11dGUtYXVkaW9cIjpcInVubXV0ZS1hdWRpb1wiO2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZSwgdWlkOiBcIikuY29uY2F0KGUsXCIsIG1zZzogXCIpLmNvbmNhdCh0KSksdGhpcy5zYWZlRW1pdChHTy5VU0VSX0lORk9fVVBEQVRFRCxlLHQpfX1lbHNle24uX3RydXN0X3ZpZGVvX211dGVfc3RhdGVfPSEwO2NvbnN0IHQ9bi5fdmlkZW9fbXV0ZWRfO2lmKG4uX3ZpZGVvX211dGVkXz1pLG4uX3ZpZGVvX211dGVkXz09PXQpcmV0dXJuO3tjb25zdCB0PW4uX3ZpZGVvX211dGVkXz9cIm11dGUtdmlkZW9cIjpcInVubXV0ZS12aWRlb1wiO2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZSwgdWlkOiBcIikuY29uY2F0KGUsXCIsIG1zZzogXCIpLmNvbmNhdCh0KSksdGhpcy5zYWZlRW1pdChHTy5VU0VSX0lORk9fVVBEQVRFRCxlLHQpfX1jb25zdCBvPVwiYXVkaW9cIj09PXQ/bi5oYXNBdWRpbzpuLmhhc1ZpZGVvO2lmKHIhPT1vKXtpZighciYmbyl7cmV0dXJuKFwiYXVkaW9cIj09PXQ/bi5fYXVkaW9TU1JDOm4uX3ZpZGVvU1NSQyk/KGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGUsXCIgcHVibGlzaGVkIFwiKS5jb25jYXQodCkpLHZvaWQgdGhpcy5zYWZlRW1pdChHTy5VU0VSX1BVQkxJU0hFRCxuLHQpKTp2b2lkIGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGUsXCIgcmVjZWl2ZSBcIikuY29uY2F0KHQsXCIgdW5tdXRlIG1lc3NhZ2UgIGJlZm9yZSBhZGQgc3RyZWFtIG1lc3NhZ2UsIFwiKS5jb25jYXQodCxcIiBTU1JDIGRvZXNuJ3QgZXhpc3QgeWV0LlwiKSl9XCJ2aWRlb1wiPT09dCYmbi5fdmlkZW9UcmFjayYmIW4uX3ZpZGVvX3ByZV9zdWJzY3JpYmVkJiZuLl92aWRlb1RyYWNrLl9kZXN0cm95KCksXCJhdWRpb1wiPT09dCYmbi5fYXVkaW9UcmFjayx0aGlzLl9wMnBDaGFubmVsLm11dGVSZW1vdGUobix0KSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLFwiIHVucHVibGlzaGVkIFwiKS5jb25jYXQodCkpLHRoaXMuc2FmZUVtaXQoR08uVVNFUl9VTlBVQkxJU0hFRCxuLHQpfX0pKSxpQSh0aGlzLFwiX2hhbmRsZVAyUExvc3RcIiwoYXN5bmMgZT0+e2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVjZWl2ZSBwMnAgbG9zdFwiKSxlKSxwYXJzZUludChlLnAycGlkLDEwKT09PXRoaXMuc3RvcmUucDJwSWQ/YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5yZXF1ZXN0UmVjb25uZWN0KCk6aVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFAyUExvc3Qgc3RyZWFtIG5vdCBmb3VuZFwiKSxlKX0pKSxpQSh0aGlzLFwiX2hhbmRsZVRva2VuV2lsbEV4cGlyZVwiLCgoKT0+e2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVjZWl2ZWQgbWVzc2FnZSBvblRva2VuUHJpdmlsZWdlV2lsbEV4cGlyZVwiKSksdGhpcy5zYWZlRW1pdChHTy5PTl9UT0tFTl9QUklWSUxFR0VfV0lMTF9FWFBJUkUpfSkpLGlBKHRoaXMsXCJfaGFuZGxlQmVmb3JlVW5sb2FkXCIsKGU9PntcImJlZm9yZXVubG9hZFwiPT09ZS50eXBlJiZ2b2lkIDAhPT1lLnJldHVyblZhbHVlJiZcIlwiIT09ZS5yZXR1cm5WYWx1ZXx8KHRoaXMubGVhdmUoKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBsZWF2ZSBvbmJlZm9yZXVubG9hZCBvciBwYWdlaGlkZVwiKSkpfSkpLGlBKHRoaXMsXCJfaGFuZGxlVXBkYXRlTmV0d29ya1F1YWxpdHlcIiwoKCk9PntpZihcIm5vcm1hbFwiPT09dGhpcy5fbmV0d29ya1F1YWxpdHlTZW5zaXRpdml0eSlyZXR1cm47aWYobmF2aWdhdG9yJiZ2b2lkIDAhPT1uYXZpZ2F0b3Iub25MaW5lJiYhbmF2aWdhdG9yLm9uTGluZSlyZXR1cm4gdm9pZCB0aGlzLnNhZmVFbWl0KEdPLk5FVFdPUktfUVVBTElUWSx7ZG93bmxpbmtOZXR3b3JrUXVhbGl0eTo2LHVwbGlua05ldHdvcmtRdWFsaXR5OjZ9KTtjb25zdCBlPXtkb3dubGlua05ldHdvcmtRdWFsaXR5OjAsdXBsaW5rTmV0d29ya1F1YWxpdHk6MH07ZS51cGxpbmtOZXR3b3JrUXVhbGl0eT10aGlzLl9wMnBDaGFubmVsLmdldFVwbGlua05ldHdvcmtRdWFsaXR5KCksZS5kb3dubGlua05ldHdvcmtRdWFsaXR5PXRoaXMuX3AycENoYW5uZWwuZ2V0RG93bmxpbmtOZXR3b3JrUXVhbGl0eSgpLHRoaXMuc2FmZUVtaXQoR08uTkVUV09SS19RVUFMSVRZLGUpfSkpLGlBKHRoaXMsXCJfaGFuZGxlUDJQQWRkQXVkaW9PclZpZGVvU3RyZWFtXCIsKChlLHQsaSxuKT0+e2NvbnN0IHI9dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT10KSk7aWYoIXIpcmV0dXJuIHZvaWQgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2FkZF9zdHJlYW0pXCIpKTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0cmVhbSBhZGRlZCB3aXRoIHVpZCBcIikuY29uY2F0KHQsXCIsIHR5cGUgXCIpLmNvbmNhdChlKSksdGhpcy5zdG9yZS5zdWJzY3JpYmUoci51aWQsZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKTtjb25zdCBvPVwiYXVkaW9cIj09PWU/ci5oYXNBdWRpbzpyLmhhc1ZpZGVvO1wiYXVkaW9cIj09PWU/ci5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMDpyLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLFwiYXVkaW9cIj09PWU/KHIuX2F1ZGlvX2FkZGVkXz0hMCx2b2lkIDAhPT1pJiYoci5fYXVkaW9TU1JDPWkpLHZvaWQgMCE9PW4mJihyLl9hdWRpb01pZD1uKSk6KHIuX3ZpZGVvX2FkZGVkXz0hMCx2b2lkIDAhPT1pJiYoci5fdmlkZW9TU1JDPWkpLHZvaWQgMCE9PW4mJihyLl92aWRlb01pZD1uKSksKFwiYXVkaW9cIj09PWU/ci5oYXNBdWRpbzpyLmhhc1ZpZGVvKSYmIW8mJihpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChyLnVpZCxcIiBwdWJsaXNoZWQgXCIpLmNvbmNhdChlKSksdGhpcy5zYWZlRW1pdChHTy5VU0VSX1BVQkxJU0hFRCxyLGUpKSx0aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShyLGUpJiYoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBcIikuY29uY2F0KGUsXCIgZm9yIHVzZXIgXCIpLmNvbmNhdChyLnVpZCxcIiBhZnRlciByZWNvbm5lY3QuXCIpKSx0aGlzLl9zdWJzY3JpYmUocixlLCEwKS5jYXRjaCgoZT0+e2lQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZXJyb3JcIiksZS50b1N0cmluZygpKX0pKSl9KSksdGhpcy5fY29uZmlnPWUsdGhpcy5fY2xpZW50SWQ9dHx8U04oNSxcImNsaWVudC1cIiksdGhpcy5zdG9yZT1uZXcgY2xhc3N7Y29uc3RydWN0b3IoZSx0LGksbixyKXtkTyh0aGlzLFwic3RhdGVcIix2b2lkIDApLHRoaXMuc3RhdGU9e2NvZGVjOmUsYXVkaW9Db2RlYzp0LG1vZGU6aSxjbGllbnRJZDpuLHNlc3Npb25JZDpudWxsLHAycElkOjAsZGNJZDowLHB1YklkOjAsc3ViSWQ6MCxrZXlNZXRyaWNzOntwdWJsaXNoOltdLHN1YnNjcmliZTpbXSxmaXJzdFZpZGVvRnJhbWVEZWNvZGVkOltdfSxqb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzOltdLGNsb3VkUHJveHlTZXJ2ZXJNb2RlOlwiZGlzYWJsZWRcIix1c2VQMlA6ITEscDJwVHJhbnNwb3J0Ol9ELkRlZmF1bHQsaGFzU3RhcnRKb2luQ2hhbm5lbDohMSxpc0FCVGVzdFN1Y2Nlc3M6ITEscnRlVXJsOnZvaWQgMCxydGVTaWQ6dm9pZCAwLGF1dG9TdWJzY3JpYmU6ITEsZW5hYmxlSW5zdGFudE11dGVSZXN0b3JlOiExLG5ldHdvcmtRdWFsaXR5UHJvYmU6ITEsdXNlRGNTaWduYWw6ISFyfX1kaXNwYXRjaChlKXt0aGlzLnN0YXRlPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKHQudHlwZSl7Y2FzZSBJRC5TRVRfU0VTU0lPTl9JRDpyZXR1cm4gdU8odU8oe30sZSkse30se3Nlc3Npb25JZDp0LnNlc3Npb25JZH0pO2Nhc2UgSUQuU0VUX1AyUF9JRDpyZXR1cm4gdU8odU8oe30sZSkse30se3AycElkOnQucDJwSWR9KTtjYXNlIElELlNFVF9VSUQ6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHt1aWQ6dC51aWR9KTtjYXNlIElELlNFVF9JTlRfVUlEOnJldHVybiB1Tyh1Tyh7fSxlKSx7fSx7aW50VWlkOnQuaW50VWlkfSk7Y2FzZSBJRC5TRVRfUFVCX0lEOnJldHVybiB1Tyh1Tyh7fSxlKSx7fSx7cHViSWQ6dC5wdWJJZH0pO2Nhc2UgSUQuS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRDpyZXR1cm4gdU8odU8oe30sZSkse30se2tleU1ldHJpY3M6dU8odU8oe30sZS5rZXlNZXRyaWNzKSx7fSx7Y2xpZW50Q3JlYXRlZDp0Lm1ldHJpY30pfSk7Y2FzZSBJRC5LRVlfTUVUUklDX0pPSU5fU1RBUlQ6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se2pvaW5TdGFydDp0Lm1ldHJpY30pfSk7Y2FzZSBJRC5LRVlfTUVUUklDX1BSRUxPQURfU1RBUlQ6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se3ByZWxvYWRTdGFydDp0Lm1ldHJpY30pfSk7Y2FzZSBJRC5LRVlfTUVUUklDX1BSRUxPQURfRU5EOnJldHVybiB1Tyh1Tyh7fSxlKSx7fSx7a2V5TWV0cmljczp1Tyh1Tyh7fSxlLmtleU1ldHJpY3MpLHt9LHtwcmVsb2FkRW5kOnQubWV0cmljfSl9KTtjYXNlIElELktFWV9NRVRSSUNfSk9JTl9FTkQ6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se2pvaW5FbmQ6dC5tZXRyaWN9KX0pO2Nhc2UgSUQuS0VZX01FVFJJQ19SRVFVRVNUX0FQX1NUQVJUOnJldHVybiB1Tyh1Tyh7fSxlKSx7fSx7a2V5TWV0cmljczp1Tyh1Tyh7fSxlLmtleU1ldHJpY3MpLHt9LHtyZXF1ZXN0QVBTdGFydDp0Lm1ldHJpY30pfSk7Y2FzZSBJRC5LRVlfTUVUUklDX1JFUVVFU1RfQVBfRU5EOnJldHVybiB1Tyh1Tyh7fSxlKSx7fSx7a2V5TWV0cmljczp1Tyh1Tyh7fSxlLmtleU1ldHJpY3MpLHt9LHtyZXF1ZXN0QVBFbmQ6dC5tZXRyaWN9KX0pO2Nhc2UgSUQuS0VZX01FVFJJQ19SRVFVRVNUX1NVQV9FTkQ6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se3JlcXVlc3RTVUFFbmQ6dC5tZXRyaWN9KX0pO2Nhc2UgSUQuS0VZX01FVFJJQ19CRUZPUkVfQ09OTkVDVDpyZXR1cm4gdU8odU8oe30sZSkse30se2tleU1ldHJpY3M6dU8odU8oe30sZS5rZXlNZXRyaWNzKSx7fSx7YmVmb3JlQ29ubmVjdDp0Lm1ldHJpY30pfSk7Y2FzZSBJRC5LRVlfTUVUUklDX1BFRVJfUkVDRUlWRVI6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se3BlZXJSZWNlaXZlcjp0Lm1ldHJpY30pfSk7Y2FzZSBJRC5LRVlfTUVUUklDX1NJR05BTF9DT05ORUNURUQ6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se3NpZ25hbENvbm5lY3RlZDp0Lm1ldHJpY30pfSk7Y2FzZSBJRC5LRVlfTUVUUklDX0pPSU5fUkVROnJldHVybiB1Tyh1Tyh7fSxlKSx7fSx7a2V5TWV0cmljczp1Tyh1Tyh7fSxlLmtleU1ldHJpY3MpLHt9LHtqb2luUmVxOnQubWV0cmljfSl9KTtjYXNlIElELktFWV9NRVRSSUNfSk9JTl9SRVA6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se2pvaW5SZXA6dC5tZXRyaWN9KX0pO2Nhc2UgSUQuS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfU1RBUlQ6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se2pvaW5HYXRld2F5U3RhcnQ6dC5tZXRyaWN9KX0pO2Nhc2UgSUQuS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfRU5EOnJldHVybiB1Tyh1Tyh7fSxlKSx7fSx7a2V5TWV0cmljczp1Tyh1Tyh7fSxlLmtleU1ldHJpY3MpLHt9LHtqb2luR2F0ZXdheUVuZDp0Lm1ldHJpY30pfSk7Y2FzZSBJRC5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVDpyZXR1cm4gdU8odU8oe30sZSkse30se2tleU1ldHJpY3M6dU8odU8oe30sZS5rZXlNZXRyaWNzKSx7fSx7cGVlckNvbm5lY3Rpb25TdGFydDp0Lm1ldHJpY30pfSk7Y2FzZSBJRC5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9FTkQ6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se3BlZXJDb25uZWN0aW9uRW5kOnQubWV0cmljfSl9KTtjYXNlIElELktFWV9NRVRSSUNfREVTQ1JJUFRJT05fU1RBUlQ6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se2Rlc2NyaXB0aW9uU3RhcnQ6dC5tZXRyaWN9KX0pO2Nhc2UgSUQuS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOOnJldHVybiB1Tyh1Tyh7fSxlKSx7fSx7a2V5TWV0cmljczp1Tyh1Tyh7fSxlLmtleU1ldHJpY3MpLHt9LHtzaWduYWxDaGFubmVsT3Blbjp0Lm1ldHJpY30pfSk7Y2FzZSBJRC5LRVlfTUVUUklDX0lDRV9DT05ORUNUSU9OX0VORDpyZXR1cm4gdU8odU8oe30sZSkse30se2tleU1ldHJpY3M6dU8odU8oe30sZS5rZXlNZXRyaWNzKSx7fSx7aWNlQ29ubmVjdGlvbkVuZDp0Lm1ldHJpY30pfSk7Y2FzZSBJRC5LRVlfTUVUUklDX1BVQkxJU0g6e2NvbnN0IGk9ZS5rZXlNZXRyaWNzLnB1Ymxpc2gsbj1pLmZpbmRJbmRleCgoZT0+ZS50cmFja0lkPT09dC5tZXRyaWMudHJhY2tJZCkpO3JldHVybi0xIT09bj8oaVtuXT11Tyh1Tyh7fSxpW25dKSx0Lm1ldHJpYyksdU8odU8oe30sZSkse30se2tleU1ldHJpY3M6dU8odU8oe30sZS5rZXlNZXRyaWNzKSx7fSx7cHVibGlzaDpbLi4uaV19KX0pKTp1Tyh1Tyh7fSxlKSx7fSx7a2V5TWV0cmljczp1Tyh1Tyh7fSxlLmtleU1ldHJpY3MpLHt9LHtwdWJsaXNoOlsuLi5lLmtleU1ldHJpY3MucHVibGlzaCx0Lm1ldHJpY119KX0pfWNhc2UgSUQuS0VZX01FVFJJQ19TVUJTQ1JJQkU6e2NvbnN0IGk9ZS5rZXlNZXRyaWNzLnN1YnNjcmliZSxuPWkuZmluZEluZGV4KChlPT5lLnVzZXJJZD09PXQubWV0cmljLnVzZXJJZCYmZS50eXBlPT09dC5tZXRyaWMudHlwZSkpO3JldHVybi0xIT09bj8oaVtuXT11Tyh1Tyh7fSxpW25dKSx0Lm1ldHJpYyksdU8odU8oe30sZSkse30se2tleU1ldHJpY3M6dU8odU8oe30sZS5rZXlNZXRyaWNzKSx7fSx7c3Vic2NyaWJlOlsuLi5pXX0pfSkpOnVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se3N1YnNjcmliZTpbLi4uZS5rZXlNZXRyaWNzLnN1YnNjcmliZSx0Lm1ldHJpY119KX0pfWNhc2UgSUQuS0VZX01FVFJJQ19GSVJTVF9WSURFT19GUkFNRV9ERUNPREVEOntjb25zdCBpPWUua2V5TWV0cmljcy5maXJzdFZpZGVvRnJhbWVEZWNvZGVkLG49aS5maW5kSW5kZXgoKGU9PmUudXNlcklkPT09dC5tZXRyaWMudXNlcklkKSk7cmV0dXJuLTEhPT1uPyhpW25dPXVPKHVPKHt9LGlbbl0pLHQubWV0cmljKSx1Tyh1Tyh7fSxlKSx7fSx7a2V5TWV0cmljczp1Tyh1Tyh7fSxlLmtleU1ldHJpY3MpLHt9LHtmaXJzdFZpZGVvRnJhbWVEZWNvZGVkOlsuLi5pXX0pfSkpOnVPKHVPKHt9LGUpLHt9LHtrZXlNZXRyaWNzOnVPKHVPKHt9LGUua2V5TWV0cmljcykse30se2ZpcnN0VmlkZW9GcmFtZURlY29kZWQ6Wy4uLmUua2V5TWV0cmljcy5maXJzdFZpZGVvRnJhbWVEZWNvZGVkLHQubWV0cmljXX0pfSl9Y2FzZSBJRC5SRVNFVF9GSVJTVF9WSURFT19GUkFNRV9ERUNPREVEOnJldHVybiBlLmtleU1ldHJpY3MuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZD1bXSxlO2Nhc2UgSUQuU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFOnJldHVybiBlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPXQubW9kZSxlO2Nhc2UgSUQuUkVDT1JEX0pPSU5fQ0hBTk5FTF9TRVJWSUNFOnJldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0LmluZGV4P2Uuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bLi4uZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzLHQucmVjb3JkXTooZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzW3QuaW5kZXhdPXVPKHVPKHt9LGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc1t0LmluZGV4XSksdC5yZWNvcmQpLGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bLi4uZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzXSksZTtjYXNlIElELlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFM6cmV0dXJuIGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bXSxlO2Nhc2UgSUQuUkVTRVRfS0VZX01FVFJJQ1M6cmV0dXJuIGUua2V5TWV0cmljcz17cHVibGlzaDpbXSxzdWJzY3JpYmU6W10sZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZDpbXX0sZTtjYXNlIElELlNFVF9VU0VfUDJQOnJldHVybiB1Tyh1Tyh7fSxlKSx7fSx7dXNlUDJQOnQudmFsfSk7Y2FzZSBJRC5TRVRfVFJBTlNQT1JUX1RZUEU6cmV0dXJuIHVPKHVPKHt9LGUpLHt9LHtwMnBUcmFuc3BvcnQ6dC52YWx9KTtjYXNlIElELlNFVF9SVEVfVVJMOnJldHVybiB1Tyh1Tyh7fSxlKSx7fSx7cnRlVXJsOnQucnRlVXJsfSk7Y2FzZSBJRC5TRVRfUlRFX1NJRDpyZXR1cm4gdU8odU8oe30sZSkse30se3J0ZVNpZDp0LnJ0ZVNpZH0pO2RlZmF1bHQ6cmV0dXJuIGV9fSh0aGlzLnN0YXRlLGUpfWdldCB1c2VEY1NpZ25hbCgpe3JldHVybiB0aGlzLnN0YXRlLnVzZURjU2lnbmFsfXNldCB1c2VEY1NpZ25hbChlKXt0aGlzLnN0YXRlLnVzZURjU2lnbmFsPWV9c2V0IGF1dG9TdWJzY3JpYmUoZSl7dGhpcy5zdGF0ZS5hdXRvU3Vic2NyaWJlPWV9Z2V0IGF1dG9TdWJzY3JpYmUoKXtyZXR1cm4gdGhpcy5zdGF0ZS5hdXRvU3Vic2NyaWJlfXNldCBlbmFibGVJbnN0YW50TXV0ZVJlc3RvcmUoZSl7dGhpcy5zdGF0ZS5lbmFibGVJbnN0YW50TXV0ZVJlc3RvcmU9ZX1nZXQgZW5hYmxlSW5zdGFudE11dGVSZXN0b3JlKCl7cmV0dXJuIHRoaXMuc3RhdGUuZW5hYmxlSW5zdGFudE11dGVSZXN0b3JlfXNldCBuZXR3b3JrUXVhbGl0eVByb2JlKGUpe3RoaXMuc3RhdGUubmV0d29ya1F1YWxpdHlQcm9iZT1lfWdldCBuZXR3b3JrUXVhbGl0eVByb2JlKCl7cmV0dXJuIHRoaXMuc3RhdGUubmV0d29ya1F1YWxpdHlQcm9iZX1zZXQgc2Vzc2lvbklkKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuU0VUX1NFU1NJT05fSUQsc2Vzc2lvbklkOmV9KX1nZXQgc2Vzc2lvbklkKCl7cmV0dXJuIHRoaXMuc3RhdGUuc2Vzc2lvbklkfXNldCBydGVVcmwoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpJRC5TRVRfUlRFX1VSTCxydGVVcmw6ZX0pfWdldCBydGVVcmwoKXtyZXR1cm4gdGhpcy5zdGF0ZS5ydGVVcmx9c2V0IHJ0ZVNpZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELlNFVF9SVEVfU0lELHJ0ZVNpZDplfSl9Z2V0IHJ0ZVNpZCgpe3JldHVybiB0aGlzLnN0YXRlLnJ0ZVNpZH1zZXQgY2lkKGUpe3RoaXMuc3RhdGUuY2lkPWV9Z2V0IGNpZCgpe3JldHVybiB0aGlzLnN0YXRlLmNpZH1zZXQgY29kZWMoZSl7dGhpcy5zdGF0ZS5jb2RlYz1lfWdldCBjb2RlYygpe3JldHVybiB0aGlzLnN0YXRlLmNvZGVjfWdldCBtb2RlKCl7cmV0dXJuIHRoaXMuc3RhdGUubW9kZX1nZXQgYXVkaW9Db2RlYygpe3JldHVybiB0aGlzLnN0YXRlLmF1ZGlvQ29kZWN9Z2V0IGNsaWVudElkKCl7cmV0dXJuIHRoaXMuc3RhdGUuY2xpZW50SWR9c2V0IHAycElkKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuU0VUX1AyUF9JRCxwMnBJZDplfSl9Z2V0IHAycElkKCl7cmV0dXJuIHRoaXMuc3RhdGUucDJwSWR9c2V0IGRjSWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpJRC5TRVRfRENfSUQsZGNJZDplfSl9Z2V0IGRjSWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5kY0lkfXNldCB1aWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpJRC5TRVRfVUlELHVpZDplfSl9Z2V0IHVpZCgpe3JldHVybiB0aGlzLnN0YXRlLnVpZH1zZXQgaW50VWlkKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuU0VUX0lOVF9VSUQsaW50VWlkOmV9KX1nZXQgaW50VWlkKCl7cmV0dXJuIHRoaXMuc3RhdGUuaW50VWlkfXNldCBwdWJJZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELlNFVF9QVUJfSUQscHViSWQ6ZX0pfWdldCBwdWJJZCgpe3JldHVybiB0aGlzLnN0YXRlLnB1YklkfXNldCBjbG91ZFByb3h5U2VydmVyTW9kZShlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELlNFVF9DTE9VRF9QUk9YWV9TRVJWRVJfTU9ERSxtb2RlOmV9KX1nZXQgY2xvdWRQcm94eVNlcnZlck1vZGUoKXtyZXR1cm4gdGhpcy5zdGF0ZS5jbG91ZFByb3h5U2VydmVyTW9kZX1zZXQgdXNlUDJQKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuU0VUX1VTRV9QMlAsdmFsOmV9KX1nZXQgdXNlUDJQKCl7cmV0dXJuIHRoaXMuc3RhdGUudXNlUDJQfXNldCBwMnBUcmFuc3BvcnQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpJRC5TRVRfVFJBTlNQT1JUX1RZUEUsdmFsOmV9KX1nZXQgcDJwVHJhbnNwb3J0KCl7cmV0dXJuIHRoaXMuc3RhdGUucDJwVHJhbnNwb3J0fXNldCBoYXNTdGFydEpvaW5DaGFubmVsKGUpe3RoaXMuc3RhdGUuaGFzU3RhcnRKb2luQ2hhbm5lbD1lfWdldCBoYXNTdGFydEpvaW5DaGFubmVsKCl7cmV0dXJuIHRoaXMuc3RhdGUuaGFzU3RhcnRKb2luQ2hhbm5lbH1zZXQgaXNBQlRlc3RTdWNjZXNzKGUpe3RoaXMuc3RhdGUuaXNBQlRlc3RTdWNjZXNzPWV9Z2V0IGlzQUJUZXN0U3VjY2Vzcygpe3JldHVybiB0aGlzLnN0YXRlLmlzQUJUZXN0U3VjY2Vzc31jbGllbnRDcmVhdGVkKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpJRC5LRVlfTUVUUklDX0NMSUVOVF9DUkVBVEVELG1ldHJpYzpEYXRlLm5vdygpfSl9am9pblN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpJRC5LRVlfTUVUUklDX0pPSU5fU1RBUlQsbWV0cmljOkRhdGUubm93KCl9KX1wcmVsb2FkU3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELktFWV9NRVRSSUNfUFJFTE9BRF9TVEFSVCxtZXRyaWM6RGF0ZS5ub3coKX0pfXByZWxvYWRFbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELktFWV9NRVRSSUNfUFJFTE9BRF9FTkQsbWV0cmljOkRhdGUubm93KCl9KX1qb2luRW5kKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpJRC5LRVlfTUVUUklDX0pPSU5fRU5ELG1ldHJpYzpEYXRlLm5vdygpfSl9cmVxdWVzdEFQU3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVCxtZXRyaWM6RGF0ZS5ub3coKX0pfXJlcXVlc3RBUEVuZCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuS0VZX01FVFJJQ19SRVFVRVNUX0FQX0VORCxtZXRyaWM6RGF0ZS5ub3coKX0pfXJlcXVlc3RTVUFFbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELktFWV9NRVRSSUNfUkVRVUVTVF9TVUFfRU5ELG1ldHJpYzpEYXRlLm5vdygpfSl9YmVmb3JlQ29ubmVjdCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuS0VZX01FVFJJQ19CRUZPUkVfQ09OTkVDVCxtZXRyaWM6RGF0ZS5ub3coKX0pfXBlZXJSZWNlaXZlcigpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuS0VZX01FVFJJQ19QRUVSX1JFQ0VJVkVSLG1ldHJpYzpEYXRlLm5vdygpfSl9c2lnbmFsQ29ubmVjdGVkKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpJRC5LRVlfTUVUUklDX1NJR05BTF9DT05ORUNURUQsbWV0cmljOkRhdGUubm93KCl9KX1qb2luUmVxKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpJRC5LRVlfTUVUUklDX0pPSU5fUkVRLG1ldHJpYzpEYXRlLm5vdygpfSl9am9pblJlcCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuS0VZX01FVFJJQ19KT0lOX1JFUCxtZXRyaWM6RGF0ZS5ub3coKX0pfWpvaW5HYXRld2F5U3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX1NUQVJULG1ldHJpYzpEYXRlLm5vdygpfSl9am9pbkdhdGV3YXlFbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORCxtZXRyaWM6RGF0ZS5ub3coKX0pfXBlZXJDb25uZWN0aW9uU3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX1NUQVJULG1ldHJpYzpEYXRlLm5vdygpfSl9cGVlckNvbm5lY3Rpb25FbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX0VORCxtZXRyaWM6RGF0ZS5ub3coKX0pfWZpcnN0VmlkZW9GcmFtZURlY29kZWQoZSx0KXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELktFWV9NRVRSSUNfRklSU1RfVklERU9fRlJBTUVfREVDT0RFRCxtZXRyaWM6dU8oe3VzZXJJZDplfSx0KX0pfWRlc2NyaXB0aW9uU3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELktFWV9NRVRSSUNfREVTQ1JJUFRJT05fU1RBUlQsbWV0cmljOkRhdGUubm93KCl9KX1zaWduYWxDaGFubmVsT3Blbigpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOLG1ldHJpYzpEYXRlLm5vdygpfSl9aWNlQ29ubmVjdGlvbkVuZCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuS0VZX01FVFJJQ19JQ0VfQ09OTkVDVElPTl9FTkQsbWV0cmljOkRhdGUubm93KCl9KX1wdWJsaXNoKGUsdCxpLG4pe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuS0VZX01FVFJJQ19QVUJMSVNILG1ldHJpYzp1Tyh1Tyh7dHJhY2tJZDplLHR5cGU6dH0saSYme3B1Ymxpc2hTdGFydDppfSksbiYme3B1Ymxpc2hFbmQ6bn0pfSl9c3Vic2NyaWJlKGUsdCxpLG4scixvLHMpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuS0VZX01FVFJJQ19TVUJTQ1JJQkUsbWV0cmljOnVPKHVPKHVPKHVPKHVPKHt1c2VySWQ6ZSx0eXBlOnR9LGkmJntzdWJzY3JpYmVTdGFydDppfSksbiYme3N1YnNjcmliZUVuZDpufSksciYme2ZpcnN0RnJhbWU6cn0pLG8mJntzdHJlYW1BZGRlZDpvfSkscyYme2ZpcnN0RGVjb2RlZDpzfSl9KX1tYXNzU3Vic2NyaWJlKGUsdCxpLG4pe2UuZm9yRWFjaCgoZT0+e3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuS0VZX01FVFJJQ19TVUJTQ1JJQkUsbWV0cmljOnVPKHVPKHVPKHt1c2VySWQ6ZS51c2VySWQsdHlwZTplLnR5cGV9LHQmJntzdWJzY3JpYmVTdGFydDp0fSksaSYme3N1YnNjcmliZUVuZDppfSksbiYme2ZpcnN0RnJhbWU6bn0pfSl9KSl9Z2V0IGtleU1ldHJpY3MoKXtyZXR1cm4gdGhpcy5zdGF0ZS5rZXlNZXRyaWNzfXJlY29yZEpvaW5DaGFubmVsU2VydmljZShlLHQpe1wiZ2F0ZXdheVwiPT09ZS5zZXJ2aWNlJiZBcnJheS5pc0FycmF5KGUudXJscykmJihlLnVybHM9ZS51cmxzLm1hcCgoZT0+ZS5yZXBsYWNlKC8oXFxkKyktXFxkKy1cXGQrLShcXGQrKS8sXCIkMS0qLSotJDJcIikpKSk7dHJ5e3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0Pyh0aGlzLmRpc3BhdGNoKHt0eXBlOklELlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRSxyZWNvcmQ6dU8odU8oe30sZSkse30se3Nlc3Npb25JZDp0aGlzLnNlc3Npb25JZCxjbG91ZFByb3h5TW9kZTp0aGlzLmNsb3VkUHJveHlTZXJ2ZXJNb2RlLHVpZDp0aGlzLnVpZH0pfSksdGhpcy5zdGF0ZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzLmxlbmd0aC0xKToodDwwfHx0Pj10aGlzLnN0YXRlLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHMubGVuZ3RofHx0aGlzLmRpc3BhdGNoKHt0eXBlOklELlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRSxyZWNvcmQ6ZSxpbmRleDp0fSksdCl9Y2F0Y2goZSl7cmV0dXJuIDB9fXJlc2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcygpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuUkVTRVRfSk9JTl9DSEFOTkVMX1NFUlZJQ0VfUkVDT1JEU30pfXJlc2V0S2V5TWV0cmljcygpe3RoaXMuZGlzcGF0Y2goe3R5cGU6SUQuUkVTRVRfS0VZX01FVFJJQ1N9KX1yZXNldEZpcnN0VmlkZW9GcmFtZURlY29kZWQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOklELlJFU0VUX0ZJUlNUX1ZJREVPX0ZSQU1FX0RFQ09ERUR9KX1nZXQgam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcygpe3RyeXtyZXR1cm4gdGhpcy5zdGF0ZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzfWNhdGNoKGUpe3JldHVybltdfX19KGUuY29kZWMsZS5hdWRpb0NvZGVjLGUubW9kZSx0aGlzLl9jbGllbnRJZCwxPT09Q0QoXCJTSUdOQUxfQ0hBTk5FTFwiKSksdGhpcy5fbGVhdmVNdXRleD1uZXcgUE4oXCJjbGllbnQtbGVhdmVcIix0aGlzLl9jbGllbnRJZCksdGhpcy5fcHVibGlzaE11dGV4PW5ldyBQTihcImNsaWVudC1wdWJsaXNoXCIsdGhpcy5fY2xpZW50SWQpLHRoaXMuX3JlbmV3VG9rZW5NdXRleD1uZXcgUE4oXCJjbGllbnQtcmVuZXd0b2tlblwiLHRoaXMuX2NsaWVudElkKSx0aGlzLl9zdWJzY3JpYmVNdXRleD1uZXcgUE4oXCJjbGllbnQtc3Vic2NyaWJlXCIsdGhpcy5fY2xpZW50SWQpLHRoaXMuc3RvcmUuY2xpZW50Q3JlYXRlZCgpLGUucHJveHlTZXJ2ZXImJnRoaXMuc2V0UHJveHlTZXJ2ZXIoZS5wcm94eVNlcnZlciwhMCksZS50dXJuU2VydmVyJiZ0aGlzLnNldFR1cm5TZXJ2ZXIoZS50dXJuU2VydmVyLCEwKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gSW5pdGlhbGl6aW5nIEFnb3JhUlRDIGNsaWVudCB2XCIpLmNvbmNhdChoRCxcIiBidWlsZDogXCIpLmNvbmNhdChTRCxcIiwgbW9kZTogXCIpLmNvbmNhdCh0aGlzLm1vZGUsXCIsIGNvZGVjOiBcIikuY29uY2F0KHRoaXMuY29kZWMpKSxlLmNsaWVudFJvbGVPcHRpb25zKXRyeXtqTyhlLmNsaWVudFJvbGVPcHRpb25zKSxpPU9iamVjdC5hc3NpZ24oe30sZS5jbGllbnRSb2xlT3B0aW9ucyl9Y2F0Y2goZSl7aVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFwiKS5jb25jYXQoZS50b1N0cmluZygpKSl9dmFyIG47dGhpcy5fc3RhdHNDb2xsZWN0b3I9bmV3IHJqKHRoaXMuc3RvcmUpLHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uU3RhdHNFeGNlcHRpb249KGUsdCxpKT0+e2lQLndhcm4oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZWNlaXZlIGV4Y2VwdGlvbiBtc2csIGNvZGU6IFwiKS5jb25jYXQoZSxcIiwgbXNnOiBcIikuY29uY2F0KHQsXCIsIHVpZDogXCIpLmNvbmNhdChpKSksZT09PWVqLlZJREVPX0VOQ09ERV9GQUlMRUQmJnRoaXMubG9jYWxUcmFja3MuZm9yRWFjaCgoZT0+e2UgaW5zdGFuY2VvZiBNTSYmQ0QoXCJFTkFCTEVfRU5DT0RFX0VYQ0VQVElPTlwiKSYmZS5maW5kQ2xvc2VzdFByb2ZpbGUoKX0pKSx0aGlzLnNhZmVFbWl0KEdPLkVYQ0VQVElPTix7Y29kZTplLG1zZzp0LHVpZDppfSl9LHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uVXBsb2FkUHVibGlzaER1cmF0aW9uPShlLHQsaSxuKT0+e2NvbnN0IHI9dGhpcy5fdXNlcnMuZmluZCgodD0+dC51aWQ9PT1lKSk7aWYocil7dGhpcy5zdG9yZS5rZXlNZXRyaWNzJiYodGhpcy5zdG9yZS5maXJzdFZpZGVvRnJhbWVEZWNvZGVkKHIudWlkLHtwZWVyUHVibGlzaER1cmF0aW9uOmkscGVlclB1YlN0YXR1c01zOkRhdGUubm93KCl9KSx0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFZpZGVvRmlyc3RGcmFtZVJlbmRlcihyKSksbFAucGVlclB1Ymxpc2hTdGF0dXModGhpcy5fc2Vzc2lvbklkLHtzdWJzY3JpYmVFbGFwc2U6bixhdWRpb1B1Ymxpc2hEdXJhdGlvbjp0LHZpZGVvUHVibGlzaER1cmF0aW9uOmkscGVlcjpyLl91aW50aWR9KX19LHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uVmlkZW9Db2RlY0NoYW5nZWQ9ZT0+e2lmKENEKFwiVklERU9fU1RBTkRBUkRfQklUUkFURV9WRVJTSU9OXCIpJiYoXCJhdjFcIj09PWV8fFwiaDI2NVwiPT09ZXx8XCJoMjY0XCI9PT1lKSl7Y29uc3QgdD10aGlzLmxvY2FsVHJhY2tzLmZpbmQoKGU9PmUgaW5zdGFuY2VvZiBrTSkpO3QmJjEhPT10Ll9zYXZlRW5jb2RlQml0cmF0ZVJhdGlvJiZ0LnNldFNhdmVFbmNvZGVCaXRyYXRlUmF0aW8oXCJoMjY0XCI9PT1lP0NEKFwiQkFTRUxJTkVfTU9SRV9IMjY0X0JJVFJBVEVfUkFUSU9cIik6dm9pZCAwKX19LHRoaXMuc3RvcmUudXNlUDJQPVwicDJwXCI9PT1lLm1vZGUsdGhpcy5fZ2F0ZXdheT1uZXcgdUIodGhpcy5zdG9yZSx7Y2xpZW50SWQ6dGhpcy5fY2xpZW50SWQsbW9kZTp0aGlzLm1vZGUsY29kZWM6dGhpcy5jb2RlYyx3ZWJzb2NrZXRSZXRyeUNvbmZpZzplLndlYnNvY2tldFJldHJ5Q29uZmlnfHxrTixodHRwUmV0cnlDb25maWc6ZS5odHRwUmV0cnlDb25maWd8fGtOLGZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZTp2b2lkIDA9PT1lLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZXx8ZS5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2Usc3RhdHNDb2xsZWN0b3I6dGhpcy5fc3RhdHNDb2xsZWN0b3Iscm9sZTplLnJvbGUsY2xpZW50Um9sZU9wdGlvbnM6aX0pLHRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGU9bmV3IFpCKHRoaXMuX2NsaWVudElkLHRoaXMuc3RvcmUpLHRoaXMuc3RvcmUudXNlUDJQPyh0aGlzLl9wMnBDaGFubmVsPShuPXtzdG9yZTp0aGlzLnN0b3JlLHN0YXRzQ29sbGVjdG9yOnRoaXMuX3N0YXRzQ29sbGVjdG9yfSxvQihcIlAyUENoYW5uZWxcIikuY3JlYXRlKG4pKSx0aGlzLl9oYW5kbGVQMlBFdmVudHMoKSk6dGhpcy5fcDJwQ2hhbm5lbD1uZXcgRUcodGhpcy5zdG9yZSx0aGlzLl9zdGF0c0NvbGxlY3RvciksdGhpcy5faGFuZGxlUDJQQ2hhbm5lbEV2ZW50cygpLHRoaXMuX2hhbmRsZUdhdGV3YXlFdmVudHMoKSx0aGlzLl9oYW5kbGVHYXRld2F5U2lnbmFsRXZlbnRzKCl9YXN5bmMgam9pbk1ldGEoZSx0LGksbixyKXtsZXQgbz0hKGFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdKXx8YXJndW1lbnRzWzVdLHM9YXJndW1lbnRzLmxlbmd0aD42JiZ2b2lkIDAhPT1hcmd1bWVudHNbNl0mJmFyZ3VtZW50c1s2XTtSRChcIkpPSU5fR0FURVdBWV9VU0VfNDQzUE9SVF9PTkxZXCIsbyksUkQoXCJKT0lOX0dBVEVXQVlfVVNFX0RVQUxfRE9NQUlOXCIscyk7Y29uc3QgYT10aGlzLl9nYXRld2F5LnNpZ25hbC53ZWJzb2NrZXQ7cmV0dXJuIGEgaW5zdGFuY2VvZiBaeCYmKGEudXNlNDQzUG9ydE9ubHk9byxhLnRyeURvdWJsZURvbWFpbj1zKSxhc3luYyBmdW5jdGlvbihlLHQsaSl7dncuZ2V0KGUpfHx2dy5zZXQoZSxbXSkseXcuZ2V0KGUpfHx5dy5zZXQoZSx0KSxJdy5nZXQoZSl8fEl3LnNldChlLDApO2NvbnN0IG49dncuZ2V0KGUpLHI9eXcuZ2V0KGUpO2lmKCFufHwhcil0aHJvdyBuZXcgRXJyb3IoXCJjb25jdXJyZW50OiBkZWZlclF1ZXVlIG9yIG1heENvbmN1cnJlbmN5IGlzIG51bGxcIik7aWYoSXcuZ2V0KGUpPT09cil7Y29uc3QgZT1DdygpO24ucHVzaChlKSxhd2FpdCBlLnByb21pc2V9SXcuc2V0KGUsSXcuZ2V0KGUpKzEpO2Zvcih2YXIgbz1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KG8+Mz9vLTM6MCksYT0zO2E8bzthKyspc1thLTNdPWFyZ3VtZW50c1thXTtjb25zdCBjPWF3YWl0IGkoLi4ucyk7cmV0dXJuIEl3LnNldChlLEl3LmdldChlKS0xKSxJdy5nZXQoZSk9PT1yLTEmJm4ubGVuZ3RoPjAmJihuWzBdLnJlc29sdmUoKSxuLnNoaWZ0KCkpLDA9PT1Jdy5nZXQoZSkmJih2dy5zZXQoZSxbXSkseXcuc2V0KGUsMCksSXcuc2V0KGUsMCkpLGN9KFwiY2xpZW50LmpvaW5cIixDRChcIkpPSU5fTUFYX0NPTkNVUlJFTkNZXCIpLHRoaXMuam9pbi5iaW5kKHRoaXMpLGUsdCxpLG4scil9YXN5bmMgam9pbihlLHQsaSxuLHIpe2NvbnN0IG89Kyt0aGlzLl9udW1iZXJPZkpvaW5Db3VudDt0aGlzLnN0b3JlLmpvaW5TdGFydCgpLG4mJih0aGlzLnN0b3JlLnVpZD1uKTtjb25zdCBzPVwiSFRUUFNcIj09PShWTnx8Vk58fChWTj0od2luZG93LmxvY2F0aW9uLnByb3RvY29sLnNwbGl0KFwiOlwiKVswXXx8XCJcIikudG9VcHBlckNhc2UoKSxWTikpLGE9V04oKT93aW5kb3cuaXNTZWN1cmVDb250ZXh0OlwiQnJvd3NlciBOb3QgU3VwcG9ydFwiO2lmKCFXTigpJiYhc3x8IXdpbmRvdy5pc1NlY3VyZUNvbnRleHQpe2NvbnN0IGU9XCJUaGUgd2Vic2l0ZSBtdXN0IGJlIHJ1bm5pbmcgaW4gYSBzZWN1cmUgY29udGV4dCAoQWJvdXQgc2VjdXJlIGNvbnRleHQ6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NlY3VyaXR5L1NlY3VyZV9Db250ZXh0cyApLCBvdGhlcndpc2UgdGhlIG1lZGlhIGNvbGxlY3Rpb24gd2lsbCBiZSByZXN0cmljdGVkIGJ5IHRoZSBicm93c2VyXCI7aVAud2FybmluZyhlKX1sZXQgYztsUC5zZXRBcHBJZChlKTt0cnl7aWYoIWkmJm51bGwhPT1pKXRocm93IG5ldyB1UChoTy5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgdG9rZW46IFwiLmNvbmNhdChpLFwiLiBJZiB5b3UgZG9uIG5vdCB1c2UgdG9rZW4sIHNldCBpdCB0byBudWxsXCIpKTtpZihpJiZTTyhpLFwidG9rZW5cIiwxLDIwNDcpLFNPKGUsXCJhcHBpZFwiLDEsMjA0NyksSFYodCksbiYmS1YobikscilpZihcInN0cmluZ1wiPT10eXBlb2YgcilTTyhyLFwib3B0aW9uYWxJbmZvXCIsMSwyNTYpLGM9cjtlbHNle2lmKFwib2JqZWN0XCIhPXR5cGVvZiByKXRocm93IG5ldyB1UChoTy5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgb3B0aW9uczogb3B0aW9ucyBpcyBub3QgYSBzdHJpbmcgb3Igb2JqZWN0XCIpO3tjb25zdHthdXRvU3Vic2NyaWJlOmUsZW5hYmxlSW5zdGFudE11dGVSZXN0b3JlOnQsbmV0d29ya1F1YWxpdHlQcm9iZTppfT1yO2UmJihfTyhlLFwiYXV0b1N1YnNjcmliZVwiKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gam9pbjogYXV0b1N1YnNjcmliZTogXCIpLmNvbmNhdChlKSksdGhpcy5zdG9yZS5hdXRvU3Vic2NyaWJlPWUpLHQmJihfTyh0LFwiZW5hYmxlSW5zdGFudE11dGVSZXN0b3JlXCIpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luOiBlbmFibGVJbnN0YW50TXV0ZVJlc3RvcmU6IFwiKS5jb25jYXQodCkpLHRoaXMuc3RvcmUuZW5hYmxlSW5zdGFudE11dGVSZXN0b3JlPXQpLGkmJihfTyhpLFwibmV0d29ya1F1YWxpdHlQcm9iZVwiKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gam9pbjogbmV0d29ya1F1YWxpdHlQcm9iZTogXCIpLmNvbmNhdChpKSksdGhpcy5zdG9yZS5uZXR3b3JrUXVhbGl0eVByb2JlPWkpfX19Y2F0Y2gocil7dGhyb3cgbFAucmVwb3J0QXBpSW52b2tlKGdOKCkse25hbWU6TE8uSk9JTixvcHRpb25zOltlLHQsaSxuXSxzdGF0ZXM6e2lzSHR0cHM6cyxpc1NlY3VyZUNvbnRleHQ6YX0sdGFnOmtPLlRSQUNFUn0pLm9uRXJyb3Iocikscn1pZih0aGlzLl9sZWF2ZU11dGV4LmlzTG9ja2VkKXtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGpvaW46IHdhaXRpbmcgbGVhdmUgb3BlcmF0aW9uXCIpKTsoYXdhaXQgdGhpcy5fbGVhdmVNdXRleC5sb2NrKCkpKCksaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luOiBjb250aW51ZVwiKSl9aWYodGhpcy5fam9pbkFuZE5vdExlYXZlWWV0PSEwLFwiRElTQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl7Y29uc3Qgcj1uZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBpbiBjb25uZWN0aW5nL2Nvbm5lY3RlZCBzdGF0ZVwiKSk7dGhyb3cgbFAucmVwb3J0QXBpSW52b2tlKGdOKCkse25hbWU6TE8uSk9JTixvcHRpb25zOltlLHQsaSxuXSxzdGF0ZXM6e2lzSHR0cHM6cyxpc1NlY3VyZUNvbnRleHQ6YX0sdGFnOmtPLlRSQUNFUn0pLm9uRXJyb3Iocikscn10aGlzLl9nYXRld2F5LnN0YXRlPVwiQ09OTkVDVElOR1wiLHRoaXMuc3RvcmUucHJlbG9hZFN0YXJ0KCk7Y29uc3QgZD1hd2FpdCBXRyh7YXBwSWQ6ZSxjbmFtZTp0LHVpZDpuLHN0cmluZ1VpZDpcInN0cmluZ1wiPT10eXBlb2Ygbj9uOnZvaWQgMCx0b2tlbjppfHxlLGNsb3VkUHJveHlTZXJ2ZXI6dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGV9KTtpZih0aGlzLnN0b3JlLnByZWxvYWRFbmQoKSwhdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0KXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIENsaWVudCBhbHJlYWR5IGxlZnRcIikpO2NvbnN0IGw9KG51bGw9PWQ/dm9pZCAwOmQuc2lkKXx8Z04oKTtpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3RhcnQgam9pbiBjaGFubmVsIFwiKS5jb25jYXQodCxcIiwgam9pbiBudW1iZXI6IFwiKS5jb25jYXQobykpLHRoaXMuX3Nlc3Npb25JZHx8KHRoaXMuX3Nlc3Npb25JZD1sLHRoaXMuc3RvcmUuc2Vzc2lvbklkPXRoaXMuX3Nlc3Npb25JZCk7Y29uc3QgdT1sUC5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkLHtpZDp0aGlzLl9jbGllbnRJZCxuYW1lOkxPLkpPSU4sb3B0aW9uczpbZSx0LGksbl0sc3RhdGVzOntpc0h0dHBzOnMsaXNTZWN1cmVDb250ZXh0OmF9LHRhZzprTy5UUkFDRVJ9KSxoPXZIKHZIKHZIKHt9LHRoaXMuX3J0bUNvbmZpZykse30se3JvbGU6dGhpcy5yb2xlLGNsaWVudElkOnRoaXMuX2NsaWVudElkLGFwcElkOmUsc2lkOnRoaXMuX3Nlc3Npb25JZCxjbmFtZTp0LHVpZDpcInN0cmluZ1wiIT10eXBlb2Ygbj9uOm51bGwsdHVyblNlcnZlcjp0aGlzLl90dXJuU2VydmVyLHByb3h5U2VydmVyOnRoaXMuX3Byb3h5U2VydmVyLHRva2VuOml8fGUsY2xvdWRQcm94eVNlcnZlcjp0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSxvcHRpb25hbEluZm86YyxsaWNlbnNlOnRoaXMuX2xpY2Vuc2UsdXNlTG9jYWxBY2Nlc3NQb2ludDp0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50LHByZWxvYWQ6ISFkfSx2b2lkIDAhPT10aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlJiZ7ZGVmYXVsdFZpZGVvU3RyZWFtOnRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGV9KSx7fSx7YXBSZXF1ZXN0RGV0YWlsOkNEKFwiQVBfUkVRVUVTVF9ERVRBSUxcIil8fHZvaWQgMH0pO2lmKHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQmJihoLnNldExvY2FsQVBWZXJzaW9uPXRoaXMuX3NldExvY2FsQVBWZXJzaW9uKSxcInN0cmluZ1wiPT10eXBlb2YgbiYmKGguc3RyaW5nVWlkPW4sdGhpcy5fdWludFVpZD8oaC51aWQ9dGhpcy5fdWludFVpZCx0aGlzLl91aW50VWlkPXZvaWQgMCk6aC51aWQ9MCksXCJub25lXCIhPT10aGlzLl9lbmNyeXB0aW9uTW9kZSYmdGhpcy5fZW5jcnlwdGlvblNlY3JldCl7aWYoaC5hZXNtb2RlPXRoaXMuX2VuY3J5cHRpb25Nb2RlLGguYWVzcGFzc3dvcmQ9YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD13aW5kb3cuYXRvYihcIk1JR2ZNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0R05BRENCaVFLQmdRRENNblhBSGtLSUdBTSt4NE4yMmdDSStXeXVcXG5TVE05enRrVDN1WXNsVFQyUHVLbVpmUHpoSDZrVmRPN1BUakdDT1puQXN5YjNvVHRXYXQwS2N4UTRqeHZxUVYrXFxuSHZZbDNpSTFZZDR2bDJjM3FSTUpQTHRSRGZOeGEyTWN4Z3E3ZTlhRVVpYnpkZDBzdCtPSkF5M3RPai9ZMGFWeVxcbnhRaVlEejN2cWE2YlAyOWFkd0lEQVFBQlwiKSxpPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcih0Lmxlbmd0aCkpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSs9MSlpW2VdPXQuY2hhckNvZGVBdChlKTtyZXR1cm4gaX0oKSxpPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcInNwa2lcIix0LHtuYW1lOlwiUlNBLU9BRVBcIixoYXNoOlwiU0hBLTI1NlwifSwhMCxbXCJlbmNyeXB0XCJdKSxuPWJPKGUpLHI9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZTpcIlJTQS1PQUVQXCJ9LGksbik7cmV0dXJuIGZ1bmN0aW9uKGUpe2xldCB0PVwiXCI7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKz0xKXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtpXSk7cmV0dXJuIHdpbmRvdy5idG9hKHQpfShuZXcgVWludDhBcnJheShyKSl9KSh0aGlzLl9lbmNyeXB0aW9uU2VjcmV0KSwhdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0KXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIENsaWVudCBhbHJlYWR5IGxlZnRcIikpO3RoaXMuX2VuY3J5cHRpb25TYWx0JiYoaC5hZXNzYWx0PXRoaXMuX2VuY3J5cHRpb25TYWx0KX1pZih0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbSYmKFwiYWVzLTEyOC1nY20yXCI9PT10aGlzLl9lbmNyeXB0aW9uTW9kZXx8XCJhZXMtMjU2LWdjbTJcIj09PXRoaXMuX2VuY3J5cHRpb25Nb2RlKSlpZih0aGlzLl9lbmNyeXB0aW9uU2FsdCYmdGhpcy5fZW5jcnlwdGlvblNlY3JldClpZih3aW5kb3cuY3J5cHRvLnN1YnRsZSl7Y29uc3QgZT1uZXcgVGV4dEVuY29kZXIsdD1DRChcIlVTRV9QVVJFX0VOQ1JZUFRJT05fTUFTVEVSX0tFWVwiKT9lLmVuY29kZShoLmFwcElkK3RoaXMuX2VuY3J5cHRpb25TZWNyZXQrdGhpcy5fZW5jcnlwdGlvblNlY3JldCk6ZS5lbmNvZGUoaC5hcHBJZCtoLmNuYW1lK3RoaXMuX2VuY3J5cHRpb25TZWNyZXQpO3RoaXMuX2VuY3J5cHREYXRhU3RyZWFtSXY9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIsdCxcIlBCS0RGMlwiLCExLFtcImRlcml2ZUJpdHNcIixcImRlcml2ZUtleVwiXSkscj1cImFlcy0xMjgtZ2NtMlwiPT09ZT8xMjg6MjU2LG89YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZGVyaXZlQml0cyh7bmFtZTpcIlBCS0RGMlwiLGl0ZXJhdGlvbnM6T0QsaGFzaDpcIlNIQS0yNTZcIixzYWx0Oml9LG4scit3RCk7cmV0dXJuIG5ldyBVaW50OEFycmF5KG8pLnN1YmFycmF5KHIvOCl9KHRoaXMuX2VuY3J5cHRpb25Nb2RlLHQsbE4odGhpcy5fZW5jcnlwdGlvblNhbHQpKSx0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUtleT1hd2FpdCBhc3luYyBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIix0LFwiUEJLREYyXCIsITEsW1wiZGVyaXZlQml0c1wiLFwiZGVyaXZlS2V5XCJdKSxyPVwiYWVzLTEyOC1nY20yXCI9PT1lPzEyODoyNTY7cmV0dXJuIGF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRlcml2ZUtleSh7bmFtZTpcIlBCS0RGMlwiLGl0ZXJhdGlvbnM6T0QsaGFzaDpcIlNIQS0yNTZcIixzYWx0Oml9LG4se25hbWU6XCJBRVMtR0NNXCIsbGVuZ3RoOnJ9LCEwLFtcImVuY3J5cHRcIixcImRlY3J5cHRcIl0pfSh0aGlzLl9lbmNyeXB0aW9uTW9kZSx0LGxOKHRoaXMuX2VuY3J5cHRpb25TYWx0KSl9ZWxzZSBhP2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBlbmNyeXB0IGRhdGFzdHJlYW0gbXVzdCBiZSBydW5uaW5nIGluIGEgc2VjdXJlIGNvbnRleHQsIGZhbGxiYWNrIHRvIHBsYWluIGRhdGEgc3RyZWFtXCIpKTppUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY3VycmVudCBicm93c2VyIGRvIG5vdCBzdXBwb3J0IFdlYkNyeXB0byAsZmFsbGJhY2sgdG8gcGxhaW4gZGF0YSBzdHJlYW1cIikpLHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtPSExO2Vsc2UgdGhpcy5fZW5jcnlwdERhdGFTdHJlYW09ITEsaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBubyBzYWx0IC8gc2VjcmV0LCBjYW5ub3Qgc3VwcG9ydCBlbmNyeXB0IGRhdGEgc3RyZWFtLCBmYWxsYmFjayB0byBwbGFpbiBkYXRhIHN0cmVhbVwiKSk7dGhpcy5fc3RhcnRTZXNzaW9uKHRoaXMuX3Nlc3Npb25JZCx7Y2hhbm5lbDp0LGFwcElkOmUsc3RyaW5nVWlkOmguc3RyaW5nVWlkfSk7Y29uc3QgcD10aGlzLl9zZXNzaW9uSWQ7c2V0VGltZW91dCgoKCk9PntcIkNPTk5FQ1RJTkdcIj09PXRoaXMuY29ubmVjdGlvblN0YXRlJiZwPT09dGhpcy5fc2Vzc2lvbklkJiZsUC5qb2luQ2hhbm5lbFRpbWVvdXQodGhpcy5fc2Vzc2lvbklkLDUpfSksNWUzKTt0cnl7dmFyIF87bGV0IG47Y29uc3Qgcj1oLmNsb3VkUHJveHlTZXJ2ZXI7aWYoTG4oXz1bXCJwcm94eTNcIixcInByb3h5NFwiLFwicHJveHk1XCJdKS5jYWxsKF8scikpe2NvbnN0IGU9Q0QoXCJQUk9YWV9TRVJWRVJfVFlQRTNcIik7QXJyYXkuaXNBcnJheShlKT9oLnByb3h5U2VydmVyPWVbMF06aC5wcm94eVNlcnZlcj1lfWlmKGxQLnNldFByb3h5U2VydmVyKGgucHJveHlTZXJ2ZXIpLGlQLnNldFByb3h5U2VydmVyKGgucHJveHlTZXJ2ZXIpLHRoaXMuc3RvcmUucmVxdWVzdEFQU3RhcnQoKSxkKXtpZihpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGdldCBzZXJ2ZXJJbmZvIFN1Y2Nlc3MgZnJvbSBQcmVsb2FkIENhY2hlIFwiKS5jb25jYXQoaC5zdHJpbmdVaWQ/XCIsIFwiLmNvbmNhdChoLnN0cmluZ1VpZCxcIiA9PiBcIikuY29uY2F0KGQuaW50VWlkKTpcIlwiLFwiIFwiKSksaC5zdHJpbmdVaWQmJiFoLnVpZCYmKGgudWlkPWQuaW50VWlkKSxuPXtnYXRld2F5SW5mbzpkLmFwLmdhdGV3YXlJbmZvfSxDRChcIkpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWVwiKSYmXCJhdXRvXCI9PT1oLnR1cm5TZXJ2ZXIubW9kZSlpZigwPT09ZC5hcC5wcm94eUluZm8uYWRkcmVzc2VzLmxlbmd0aClpUC53YXJuaW5nKFwibm8gZWRnZSBzZXJ2aWNlcyBpbiBhcCByZXNwb25zZSBvZiBwcm94eSBmYWxsYmFjaywgd2lsbCBub3Qgc2V0IHByb3h5IGluIGljZVNlcnZlcnNcIik7ZWxzZXtjb25zdCBlPShhd2FpdCBwRihkLmFwLnByb3h5SW5mbyxkLmFwLmdhdGV3YXlJbmZvLnVpZCkpLm1hcCgoZT0+KHt0dXJuU2VydmVyVVJMOmUuYWRkcmVzcyx0Y3Bwb3J0OmUudGNwcG9ydHx8RUQudGNwcG9ydCx1ZHBwb3J0OmUudWRwcG9ydHx8RUQudWRwcG9ydCx1c2VybmFtZTplLnVzZXJuYW1lfHxFRC51c2VybmFtZSxwYXNzd29yZDplLnBhc3N3b3JkfHxFRC5wYXNzd29yZCxmb3JjZXR1cm46ITEsc2VjdXJpdHk6ITB9KSkpO2gudHVyblNlcnZlcj17bW9kZTpcIm1hbnVhbFwiLHNlcnZlcnM6ZX19cUcoZCxoLnN0cmluZ1VpZCl9ZWxzZXtpZihoLnN0cmluZ1VpZCYmIWgudWlkKXtsZXQgZTtbZSxuXT1hd2FpdCBycC5hbGwoW1dCKGguc3RyaW5nVWlkLGgsdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8a04sdGhpcy5zdG9yZSkuZmluYWxseSgoKCk9Pnt0aGlzLnN0b3JlLnJlcXVlc3RTVUFFbmQoKX0pKSxHQihoLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fGtOLCEwLHRoaXMuc3RvcmUpLmZpbmFsbHkoKCgpPT57dGhpcy5zdG9yZS5yZXF1ZXN0QVBFbmQoKX0pKV0pLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZ2V0VXNlckFjY291bnQgU3VjY2VzcyBcIikuY29uY2F0KGguc3RyaW5nVWlkLFwiID0+IFwiKS5jb25jYXQoZSkpLGgudWlkPWUsbi5nYXRld2F5SW5mby51aWQ9ZSxuLmdhdGV3YXlJbmZvLnJlcy51aWQ9ZX1lbHNlIG49YXdhaXQgR0IoaCx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbix0aGlzLl9jb25maWcuaHR0cFJldHJ5Q29uZmlnfHxrTiwhMCx0aGlzLnN0b3JlKTtpZighdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0KXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIENsaWVudCBhbHJlYWR5IGxlZnRcIikpfXRoaXMuc3RvcmUucmVxdWVzdEFQRW5kKCksc2V0VGltZW91dCgoKCk9Pnt0aGlzLl9jb25maWdEaXN0cmlidXRlLnN0YXJ0R2V0Q29uZmlnRGlzdHJpYnV0ZShoLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuKSx0aGlzLl9jb25maWdEaXN0cmlidXRlLm9uKHB4LlVQREFURV9CSVRSQVRFX0xJTUlULChlPT57dGhpcy5fcDJwQ2hhbm5lbC51cGRhdGVCaXRyYXRlTGltaXQoZSl9KSksdGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5vbihweC5VUERBVEVfQ0xJRU5UX1JPTEVfT1BUSU9OUywoZT0+e3RoaXMuX3NldENsaWVudFJvbGVPcHRpb25zKGUpfSkpLHRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUub24ocHguVVBEQVRFX1JFTU9URV9WSURFT19TVFJFQU1fVFlQRSwoZT0+e3ZhciB0O0xuKHQ9WzAsMSw0LDUsNiw3LDgsOV0pLmNhbGwodCxlKSYmKHRoaXMucmVtb3RlVXNlcnMuZm9yRWFjaCgodD0+e3RoaXMuX3JlbW90ZVN0cmVhbVR5cGVDYWNoZU1hcC5nZXQodC51aWQpIT09ZSYmdGhpcy5zZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGUodC51aWQsZSl9KSksdGhpcy5zZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlKGUpKX0pKSx0aGlzLl9jb25maWdEaXN0cmlidXRlLm9uKHB4LkZBTExCQUNLX1RPX0hMUywoZT0+e2UmJnRoaXMuc2FmZUVtaXQoR08uRkFMTEJBQ0tfVE9fSExTLFdPLkNPTkZJRyl9KSksdGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5vbihweC5VUERBVEVfVk9TX0NPTkZJR1VSRSwoZT0+e3RoaXMuX2dhdGV3YXkuc2V0Q29uZmlndXJlKGUpLmNhdGNoKChlPT57aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCB2b3MgY29uZmlnIGZhaWxlZFwiKSxlKX0pKX0pKX0pLDApLHRoaXMuX2tleT1pfHxlO2NvbnN0IG89bi5nYXRld2F5SW5mbyxzPWgudWlkP2gudWlkOm8udWlkO3RoaXMuX2pvaW5JbmZvPXZIKHZIKHt9LGgpLHt9LHtjaWQ6by5jaWQsdWlkOnMsdmlkOm8udmlkLGFwUmVzcG9uc2U6by5yZXMsYXBHYXRld2F5QWRkcmVzczpvLmFwR2F0ZXdheUFkZHJlc3MsdW5pX2xic19pcDpvLnVuaV9sYnNfaXAsZ2F0ZXdheUFkZHJzOm8uZ2F0ZXdheUFkZHJzfSksdGhpcy5zdG9yZS5pbnRVaWQ9cyx0aGlzLnN0b3JlLmNpZD1vLmNpZDtjb25zdCBhPWF3YWl0IHRoaXMuX2pvaW5HYXRld2F5KCk7aWYoIXRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldCl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBsZWZ0XCIpKTt1Lm9uU3VjY2VzcyhhKSx0aGlzLl9hcHBJZD1lLHRoaXMuX2NoYW5uZWxOYW1lPWguY25hbWUsdGhpcy5fdWlkPWEsdGhpcy5zdG9yZS51aWQ9YSxzZXRUaW1lb3V0KCgoKT0+e3RoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWwpLHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKHRoaXMuX2hhbmRsZVVwZGF0ZU5ldHdvcmtRdWFsaXR5LDJlMyksIVZ3KCkmJnRoaXMuc3RvcmUudXNlRGNTaWduYWw/KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsdGhpcy5faGFuZGxlQmVmb3JlVW5sb2FkKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsdGhpcy5faGFuZGxlQmVmb3JlVW5sb2FkKSk6d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoVncoKT9cImJlZm9yZXVubG9hZFwiOlwicGFnZWhpZGVcIix0aGlzLl9oYW5kbGVCZWZvcmVVbmxvYWQpLHRoaXMuX3N0YXRzQ29sbGVjdG9yLnN0YXJ0VXBkYXRlU3RhdHMoKX0pLDApO2NvbnN0IGM9aC5zdHJpbmdVaWQ/XCJzdHJpbmcgdWlkOiBcIi5jb25jYXQoaC5zdHJpbmdVaWQsXCIsdWlkOiBcIikuY29uY2F0KGgudWlkKTpcInVpZDogXCIuY29uY2F0KHRoaXMuX3VpZCk7cmV0dXJuIGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBKb2luaW5nIGNoYW5uZWwgc3VjY2VzczogY2hhbm5lbDogXCIpLmNvbmNhdCh0LFwiLFwiKS5jb25jYXQoYykpLHNldFRpbWVvdXQoKCgpPT57aVAuc3RhcnRVcGxvYWQoKX0pLDVlMyksdGhpcy5zdG9yZS5qb2luRW5kKCksRT10aGlzLExuKEtVKS5jYWxsKEtVLEUpfHxLVS5wdXNoKEUpLFwiZGlzYWJsZWRcIj09PXRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlJiZwUCgpLnN1cHBvcnRXZWJDcnlwdG8mJkNEKFwiRU5BQkxFX1BSRUxPQURcIikmJllHKHRoaXMuX2pvaW5JbmZvKSx0aGlzLl9ydGVEZXRhaWxJbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3J0ZURldGFpbEludGVydmFsKSx0aGlzLl9ydGVEZXRhaWxJbnRlcnZhbD12b2lkIDApLHRoaXMuX3Nlc3Npb25JZCYmbFAucmVwb3J0UnRlRGV0YWlsKHRoaXMuX3Nlc3Npb25JZCksdGhpcy5fcnRlRGV0YWlsSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e3RoaXMuX3Nlc3Npb25JZCYmbFAucmVwb3J0UnRlRGV0YWlsKHRoaXMuX3Nlc3Npb25JZCl9KSxDRChcIlJURV9ERVRBSUxfUkVQT1JUX0lOVEVSVkFMXCIpfHw2ZTQpLGF9Y2F0Y2goZSl7Y29uc3QgdD1BcnJheS5pc0FycmF5KGUpP2VbMF06ZTt0aHJvdyB0JiZ0LmNvZGU9PT1oTy5PUEVSQVRJT05fQUJPUlRFRD9pUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gam9pbiBudW1iZXI6IFwiKS5jb25jYXQobyxcIiwgSm9pbmluZyBjaGFubmVsIGZhaWxlZCwgcm9sbGJhY2tcIiksdCk6aVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luIG51bWJlcjogXCIpLmNvbmNhdChvLFwiLCBKb2luaW5nIGNoYW5uZWwgZmFpbGVkLCByb2xsYmFja1wiKSx0KSx0LmNvZGUhPT1oTy5PUEVSQVRJT05fQUJPUlRFRCYmdGhpcy5fbnVtYmVyT2ZKb2luQ291bnQ9PT1vJiYodGhpcy5fZ2F0ZXdheS5zdGF0ZT1cIkRJU0NPTk5FQ1RFRFwiLHRoaXMuX3Jlc2V0KCkpLHUub25FcnJvcih0KSx0fXZhciBFfWFzeW5jIF9qb2luR2F0ZXdheSgpe2lmKCF0aGlzLl9qb2luSW5mb3x8IXRoaXMuX2tleSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04pO3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5fZ2F0ZXdheS5qb2luKHRoaXMuX2pvaW5JbmZvLHRoaXMuX2tleSwhKFwiZGlzYWJsZWRcIiE9PXRoaXMuX2pvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXJ8fHRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyfHwhQ0QoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfU0lHTkFMX1BST1hZXCIpKSl9Y2F0Y2goZSl7aWYoZS5jb2RlPT09aE8uSU5JVF9EQVRBQ0hBTk5FTF9USU1FT1VUKXtpZih0aGlzLl9nYXRld2F5LmxlYXZlKCEwLFZPLkZBTExCQUNLKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGpvaW4gYnkgZGF0YWNoYW5uZWwgdGltZW91dCwgZmFsbGJhY2sgdG8gd2Vic29ja2V0XCIpKSwhdGhpcy5fam9pbkluZm98fCF0aGlzLl9rZXkpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OKTtyZXR1cm4gbFAucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZCx7bmFtZTpMTy5EQVRBQ0hBTk5FTF9GQUlMQkFDSyxvcHRpb25zOlt0aGlzLnN0b3JlLmNsaWVudElkXSx0YWc6a08uVFJBQ0VSfSkub25TdWNjZXNzKCksYXdhaXQgdGhpcy5fam9pbkdhdGV3YXkoKX10aHJvdyBlfX1hc3luYyBsZWF2ZSgpe2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBMZWF2aW5nIGNoYW5uZWxcIikpO2NvbnN0IGU9KCk9PnshVncoKSYmdGhpcy5zdG9yZS51c2VEY1NpZ25hbD8od2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIix0aGlzLl9oYW5kbGVCZWZvcmVVbmxvYWQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIix0aGlzLl9oYW5kbGVCZWZvcmVVbmxvYWQpKTp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihWdygpP1wiYmVmb3JldW5sb2FkXCI6XCJwYWdlaGlkZVwiLHRoaXMuX2hhbmRsZUJlZm9yZVVubG9hZCksdGhpcy5fcmVzZXQoKSxmdW5jdGlvbihlKXtjb25zdCB0PUtVLmluZGV4T2YoZSk7LTEhPT10JiZLVS5zcGxpY2UodCwxKX0odGhpcyksdGhpcy5fc3RhdHNDb2xsZWN0b3Iuc3RvcFVwZGF0ZVN0YXRzKCl9O3RoaXMuc3RvcmUudXNlRGNTaWduYWx8fGUoKTtjb25zdCB0PWF3YWl0IHRoaXMuX2xlYXZlTXV0ZXgubG9jaygpO2lmKFwiRElTQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSlyZXR1cm4gaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIExlYXZpbmcgY2hhbm5lbCByZXBlYXRlZCwgc3VjY2Vzc1wiKSksdm9pZCB0KCk7YXdhaXQgdGhpcy5fZ2F0ZXdheS5sZWF2ZShcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUsVk8uTEVBVkUpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBMZWF2aW5nIGNoYW5uZWwgc3VjY2Vzc1wiKSksdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0PSExLHRoaXMuc3RvcmUucmVzZXRKb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzKCksdCgpLHRoaXMuc3RvcmUudXNlRGNTaWduYWwmJmUoKX1hc3luYyBwdWJsaXNoKGUpe2xldCB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoIUFycmF5LmlzQXJyYXkoZSkpe2lmKCEoZSBpbnN0YW5jZW9mIGxMKSlyZXR1cm4gdGhpcy5fcHVibGlzaERhdGFDaGFubmVsKGUpO2U9W2VdfWlmKDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJwYXJhbSBsaXN0IGlzIGVtcHR5XCIpO2NvbnN0IGk9ZTtpZihcImF1ZGllbmNlXCI9PT10aGlzLl9nYXRld2F5LnJvbGUpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiYXVkaWVuY2UgY2FuIG5vdCBwdWJsaXNoIHN0cmVhbVwiKTtmb3IoY29uc3QgZSBvZiBpKXtpZighKGUgaW5zdGFuY2VvZiBsTCkpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLFwicGFyYW1ldGVyIGlzIG5vdCBsb2NhbCB0cmFja1wiKTtpZighZS5fZW5hYmxlZCYmdCl0aHJvdyBuZXcgdVAoaE8uVFJBQ0tfSVNfRElTQUJMRUQsXCJjYW4gbm90IHB1Ymxpc2ggYSBkaXNhYmxlZCB0cmFjazogXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpKSl9aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFB1Ymxpc2hpbmcgdHJhY2tzLCBpZCBcIikuY29uY2F0KGkubWFwKChlPT5cIlwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIiBcIikpKSkpO2NvbnN0IG49YXdhaXQgdGhpcy5fcHVibGlzaE11dGV4LmxvY2soKTthd2FpdCB0aGlzLl9jb25maWdEaXN0cmlidXRlLmF3YWl0Q29uZmlnRGlzdHJpYnV0ZUNvbXBsZXRlKCksdCYmaS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLl9jb25maWdEaXN0cmlidXRlLmdldEJpdHJhdGVMaW1pdCgpO2UgaW5zdGFuY2VvZiBrTSYmdCYmZS5zZXRCaXRyYXRlTGltaXQodC51cGxpbmspfSkpO3RyeXthd2FpdCB0aGlzLl9wdWJsaXNoSGlnaFN0cmVhbShpKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUHVibGlzaCBzdWNjZXNzLCBpZCBcIikuY29uY2F0KGkubWFwKChlPT5cIlwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIiBcIikpKSkpfWNhdGNoKGUpe3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcHVibGlzaCBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9ZmluYWxseXtuKCl9fWFzeW5jIF9wdWJsaXNoRGF0YUNoYW5uZWwoZSl7aWYobnVsbD09ZSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJwYXJhbWV0ZXIgaXMgbm90IGxvY2FsIHRyYWNrIG9yIGRhdGFjaGFubmVsIGNvbmZpZywgY29uZmlnIGlzIFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpO21PKGUuaWQsXCJpZFwiLDAsNjU1MzUsITApLF9PKGUub3JkZXJlZCxcIm9yZGVyZWRcIiksU08oZS5tZXRhZGF0YSxcIm1ldGFkYXRhXCIsMCw1MTIpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBQdWJsaXNoaW5nIGRhdGFjaGFubmVscywgaWQgXCIpLmNvbmNhdChlLmlkKSk7Y29uc3QgdD1hd2FpdCB0aGlzLl9wdWJsaXNoTXV0ZXgubG9jaygpO3RyeXtpZigtMSE9PXRoaXMuX3AycENoYW5uZWwuZ2V0QWxsRGF0YUNoYW5uZWxzKCkuZmluZEluZGV4KCh0PT50LmlkPT09ZS5pZCkpKXRocm93IG5ldyB1UChoTy5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgaWQ6IFwiLmNvbmNhdChlLmlkLFwiLiBJZiB5b3Ugd2FudCB0byByZXB1Ymxpc2ggdGhlIGRhdGFjaGFubmVsLCB1bnB1Ymxpc2ggZmlyc3RcIikpO2lmKCF0aGlzLl9qb2luSW5mb3x8dm9pZCAwPT09dGhpcy5fdWlkKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHB1Ymxpc2ggZGF0YWNoYW5uZWwsIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIGRhdGFjaGFubmVsIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7aWYoXCJhdXRvXCI9PT10aGlzLl90dXJuU2VydmVyLm1vZGUmJkNEKFwiRk9SQ0VfVFVSTlwiKSYmIUNEKFwiVFVSTl9FTkFCTEVfVENQXCIpJiYhQ0QoXCJUVVJOX0VOQUJMRV9VRFBcIikpdGhyb3cgbmV3IHVQKGhPLlVORVhQRUNURURfRVJST1IsXCJmb3JjZSBUVVJOIFdpdGggTm8gVFVSTiBDb25maWd1cmF0aW9uXCIpO2NvbnN0IGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHNCKGUsITEpfShlKSxuPWF3YWl0IHRoaXMuX3AycENoYW5uZWwucHVibGlzaERhdGFDaGFubmVsKFtpXSk7aWYobi5sZW5ndGg+MCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGkuX29yaWdpbkRhdGFDaGFubmVsSWQpdGhyb3cgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHB1Ymxpc2ggd2l0aCBtZWRpYVR5cGUgZGF0YWNoYW5uZWwsIGNhbm5vdCBnZXQgUlRDRGF0YWNoYW5uZWwgaWRcIikpLG5ldyB1UChoTy5DUkVBVEVfREFUQUNIQU5ORUxfRVJST1IpO3RyeXthd2FpdCBycC5hbGwobi5tYXAoKGU9PnRoaXMuX3VpZCYmdGhpcy5fZ2F0ZXdheS5wdWJsaXNoRGF0YUNoYW5uZWwodGhpcy5fdWlkLGUsITApKSkpLGF3YWl0IGkuX3dhaXRUaWxsT3BlbigpfWNhdGNoKGUpe2lmKGUuY29kZSE9PWhPLkRJU0NPTk5FQ1RfUDJQKXRocm93IGV9fXJldHVybiBpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUHVibGlzaCBkYXRhQ2hhbm5lbHMgc3VjY2VzcywgaWQgXCIpLmNvbmNhdChpLmlkKSksaX1jYXRjaChlKXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHB1Ymxpc2ggZGF0YWNoYW5uZWxzIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1maW5hbGx5e3QoKX19YXN5bmMgdW5wdWJsaXNoKGUpe2lmKCF0aGlzLl9qb2luSW5mb3x8dm9pZCAwPT09dGhpcy5fdWlkKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHVucHVibGlzaCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7bGV0IHQ9W107aWYoZSlpZihBcnJheS5pc0FycmF5KGUpKXQ9ZTtlbHNle2lmKCEoZSBpbnN0YW5jZW9mIGxMKSlyZXR1cm4gdGhpcy5fdW5wdWJsaXNoRGF0YUNoYW5uZWwoW2VdKTt0PVtlXX1lbHNlIHRoaXMuc3RvcmUudXNlUDJQfHxhd2FpdCB0aGlzLl91bnB1Ymxpc2hEYXRhQ2hhbm5lbCgpLHQ9dGhpcy5fcDJwQ2hhbm5lbC5nZXRBbGxUcmFja3MoITApO2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBVbnB1Ymxpc2ggdHJhY2tzLCB0cmFja3MgXCIpLmNvbmNhdCh0Lm1hcCgoZT0+XCJcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCIgXCIpKSksXCIgXCIpKTtjb25zdCBpPWF3YWl0IHRoaXMuX3B1Ymxpc2hNdXRleC5sb2NrKCk7dHJ5e2lmKHRoaXMuc3RvcmUudXNlUDJQKXtjb25zdCBlPWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5wdWJsaXNoKHQpO2UmJmF3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoTHguVU5QVUJMSVNILHt1bnB1Yk1zZzplfSwhMCl9ZWxzZXtjb25zdCBlPWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5wdWJsaXNoKHQpO2UmJmF3YWl0IHRoaXMuX2dhdGV3YXkudW5wdWJsaXNoKGUsdGhpcy5fdWlkKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gVW5wdWJsaXNoIHN1Y2Nlc3MsdHJhY2tzIFwiKS5jb25jYXQodC5tYXAoKGU9PlwiXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpKSkpKSl9fWNhdGNoKGUpe3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5wdWJsaXNoIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1maW5hbGx5e2kmJmkoKX19YXN5bmMgX3VucHVibGlzaERhdGFDaGFubmVsKGUpe3ZvaWQgMCE9PWUmJjAhPT1lLmxlbmd0aHx8KGU9dGhpcy5fcDJwQ2hhbm5lbC5nZXRBbGxEYXRhQ2hhbm5lbHMoKSksaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFVucHVibGlzaCBkYXRhY2hhbm5lbHMsIGRhdGFjaGFubmVscyBcIikuY29uY2F0KGUubWFwKChlPT5cIlwiLmNvbmNhdChlLmlkLFwiIFwiKSkpLFwiIFwiKSk7Y29uc3QgdD1hd2FpdCB0aGlzLl9wdWJsaXNoTXV0ZXgubG9jaygpO3RyeXtjb25zdCBpPWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5wdWJsaXNoRGF0YUNoYW5uZWwoZSk7aSYmYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnB1Ymxpc2hEYXRhQ2hhbm5lbChpKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gVW5wdWJsaXNoIGRhdGFDaGFubmVsIHN1Y2Nlc3MsZGF0YUNoYW5uZWwgXCIpLmNvbmNhdChlLm1hcCgoZT0+XCJcIi5jb25jYXQoZS5pZCkpKSkpfWNhdGNoKGUpe3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5wdWJsaXNoIGRhdGFDaGFubmVsIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1maW5hbGx5e3QmJnQoKX19YXN5bmMgc3Vic2NyaWJlKGUsdCxpKXtpZighKGUgaW5zdGFuY2VvZiBhaikpe2NvbnN0IHQ9dGhpcy5yZW1vdGVVc2Vycy5maW5kKCh0PT50LnVpZD09PWUpKTtpZighdCl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO2U9dH1yZXR1cm5cImRhdGFjaGFubmVsXCI9PT10P3RoaXMuX3N1YnNjcmliZURhdGFDaGFubmVsKGUsaSk6dGhpcy5fc3Vic2NyaWJlKGUsdCl9YXN5bmMgcHJlc3Vic2NyaWJlKGUsdCl7aWYoRU8odCxcIm1lZGlhVHlwZVwiLFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSksdGhpcy5zdG9yZS51c2VQMlApdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuJ3QgcHJlc3ViIGF0IHAycCBtb2RlXCIpO2lmKCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4ndCBwcmVzdWIgd2hlbiBub3Qgam9pblwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4ndCBwcmVzdWIgaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtjb25zdCBpPXQ9PT1meC5BVURJTyxuPXQ9PT1meC5WSURFTyxyPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTt0cnl7Y29uc3R7c3NyY0lkOm8sb3J0YzpzLHJ0eFNzcmNJZDphLGNuYW1lOmMsdWludF9pZDpkfT1hd2FpdCB0aGlzLl9nYXRld2F5LnByZXN1YnNjcmliZShlLHQsITApO2lmKG51bGw9PW8pdGhyb3cgbmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJubyBzc3JjIGlkXCIpO2xldCBsPXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZSkpO2x8fChsPW5ldyBhaihlLGR8fGUpLGwuX2lzX3ByZV9jcmVhdGVkPSEwLHRoaXMuX3VzZXJzLnB1c2gobCkpLGMmJihsLl9jbmFtZT1jKSxsLl91aW50aWR8fChsLl91aW50aWQ9ZHx8ZSksaSYmKGwuX2F1ZGlvU1NSQz1vLGwuX2F1ZGlvX3ByZV9zdWJzY3JpYmVkPSEwLHMmJihsLl9hdWRpb09ydGM9cykpLG4mJihsLl92aWRlb1NTUkM9byxsLl92aWRlb19wcmVfc3Vic2NyaWJlZD0hMCxzJiYobC5fdmlkZW9PcnRjPXMpLG51bGwhPWEmJihsLl9ydHhTc3JjSWQ9YSkpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwcmVzdWIgc3VjY2VlZCBzc3JjOiBcIikuY29uY2F0KG8pKSxhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN1YnNjcmliZShsLHQsbyxhLHMpO2NvbnN0IHU9aT9sLl9hdWRpb1RyYWNrOmwuX3ZpZGVvVHJhY2s7aWYoIXUpdGhyb3cgbmV3IHVQKGhPLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgcmVtb3RlIHRyYWNrIGluIHVzZXJcIik7cmV0dXJuIGkmJihsLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLGwuX2F1ZGlvX2FkZGVkXz0hMCksbiYmKGwuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsbC5fdmlkZW9fYWRkZWRfPSEwKSx1fWNhdGNoKHQpe3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcHJlc3ViIHVzZXIgXCIpLmNvbmNhdChlLFwiIGVycm9yXCIpLHQpLHR9ZmluYWxseXtyKCl9fWFzeW5jIF9zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQpe3ZhciBpO2lmKG1PKHQsXCJjaGFubmVsSWRcIiwwLDY1NTM1LCEwKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIGRhdGFjaGFubmVsLCBub3Qgam9pbmVkXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBkYXRhY2hhbm5lbCBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2NvbnN0IG49dGhpcy5fdXNlcnMuZmluZCgodD0+dD09PWUpKTtpZighbil0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLG5ldyB1UChoTy5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7aWYoIWUuaGFzQXVkaW8mJiFlLmhhc1ZpZGVvJiYwPT09ZS5fZGF0YUNoYW5uZWxzLmxlbmd0aCl0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKSksbmV3IHVQKGhPLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIik7Y29uc3Qgcj1udWxsPT09KGk9ZS5fZGF0YUNoYW5uZWxzKXx8dm9pZCAwPT09aT92b2lkIDA6aS5maW5kKChlPT5lLmlkPT09dCkpO2lmKCFyKXRocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiB3aXRoIG1lZGlhVHlwZSBkYXRhY2hhbm5lbCwgcmVtb3RlIGRhdGFjaGFubmVsIGlzIG5vdCBwdWJsaXNoZWRcIikpLG5ldyB1UChoTy5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTtjb25zdCBvPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTtpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBkYXRhY2hhbm5lbFwiKSk7dHJ5e2NvbnN0IHQ9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLFtyXSk7aWYodCYmTG4odCkuY2FsbCh0LHIuaWQpKXRyeXt2YXIgcztpZihcIm51bWJlclwiIT10eXBlb2Ygci5fb3JpZ2luRGF0YUNoYW5uZWxJZCl0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIgd2l0aCBtZWRpYVR5cGUgZGF0YWNoYW5uZWwsIGNhbm5vdCBnZXQgUlRDRGF0YWNoYW5uZWxcIikpLG5ldyB1UChoTy5DUkVBVEVfREFUQUNIQU5ORUxfRVJST1IpO2NvbnN0IHQ9e2lkOnIuaWQsZGF0YWNoYW5uZWxJZDpyLl9vcmlnaW5EYXRhQ2hhbm5lbElkLG9yZGVyZWQ6ci5vcmRlcmVkLG1heFJldHJhbnNtaXRzOnIubWF4UmV0cmFuc21pdHMsbWV0YWRhdGE6bnVsbCE9PShzPXIubWV0YWRhdGEpJiZ2b2lkIDAhPT1zP3M6XCJcIn07YXdhaXQgdGhpcy5fZ2F0ZXdheS5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLnVpZCx0LCEwKSxhd2FpdCByLl93YWl0VGlsbE9wZW4oKX1jYXRjaCh0KXtpZigobnVsbD09dD92b2lkIDA6dC5jb2RlKSE9PWhPLldTX0FCT1JUKXRocm93IGF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLFtyXSksdDthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxbcl0pLHRoaXMuX3AycENoYW5uZWwuc2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKGUsci5pZCl9cmV0dXJuIGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgc3VjY2VzcyB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogZGF0YWNoYW5uZWxcIikpLHJ9ZmluYWxseXtvKCl9fWFzeW5jIF9wMnBTdWJzY3JpYmUoZSx0LGkpe2lmKEVPKHQsXCJtZWRpYVR5cGVcIixbXCJhdWRpb1wiLFwidmlkZW9cIl0pLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtLCBub3Qgam9pbmVkXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtjb25zdCBuPXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQ9PT1lKSk7aWYoIW4pe2NvbnN0IHQ9bmV3IHVQKGhPLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHR9aWYoIWUuaGFzQXVkaW8mJiFlLmhhc1ZpZGVvKXtjb25zdCB0PW5ldyB1UChoTy5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgcHVibGlzaGVkXCIpO3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdXNlciBpcyBub3QgcHVibGlzaGVkXCIpKSx0fWlmKCFpJiYoXCJhdWRpb1wiPT09dCYmIWUuaGFzQXVkaW98fFwidmlkZW9cIj09PXQmJiFlLmhhc1ZpZGVvKSl7Y29uc3QgaT1uZXcgdVAoaE8uUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7dGhyb3cgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiIHdpdGggbWVkaWFUeXBlIFwiKS5jb25jYXQodCxcIiwgcmVtb3RlIHRyYWNrIGlzIG5vdCBwdWJsaXNoZWRcIikpLGl9Y29uc3Qgcj1hd2FpdCB0aGlzLl9zdWJzY3JpYmVNdXRleC5sb2NrKCk7aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdCh0KSk7dHJ5e2lmKGF3YWl0IHRoaXMuX3AycENoYW5uZWwuaGFzUmVtb3RlTWVkaWFXaXRoTG9jayhlLHQpKWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5tdXRlUmVtb3RlKGUsdCk7ZWxzZSB0cnl7Y29uc3QgaT1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvU1NSQzplLl92aWRlb1NTUkMsbj1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvTWlkOmUuX3ZpZGVvTWlkO3RoaXMuc3RvcmUuc3Vic2NyaWJlKGUudWlkLHQsRGF0ZS5ub3coKSksdGhpcy5zdG9yZS51c2VQMlAmJmF3YWl0IHRoaXMuX3AycENoYW5uZWwuc3Vic2NyaWJlKGUsdCxpLG4pfWNhdGNoKGUpe3Rocm93IGV9aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSBzdWNjZXNzIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KHQpKSx2b2lkIDAhPT10aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlJiZ0aGlzLnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKGUudWlkLHRoaXMuX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGUpLmNhdGNoKChlPT57aVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gc2V0IGZhbGxiYWNrIGZhaWxlZFwiKSxlKX0pKTtjb25zdCBpPVwiYXVkaW9cIj09PXQ/ZS5fYXVkaW9UcmFjazplLl92aWRlb1RyYWNrO2lmKCFpKXRocm93IG5ldyB1UChoTy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHJlbW90ZSB0cmFjayBpbiB1c2VyIG9iamVjdFwiKTtyZXR1cm4gaX1jYXRjaCh0KXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgZXJyb3JcIiksdCksdH1maW5hbGx5e3IoKX19YXN5bmMgX3N1YnNjcmliZShlLHQsaSl7aWYodGhpcy5zdG9yZS51c2VQMlApcmV0dXJuIHRoaXMuX3AycFN1YnNjcmliZShlLHQpO2lmKEVPKHQsXCJtZWRpYVR5cGVcIixbXCJhdWRpb1wiLFwidmlkZW9cIl0pLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtLCBub3Qgam9pbmVkXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtjb25zdCBuPXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQ9PT1lKSk7aWYoIW4pe2NvbnN0IHQ9bmV3IHVQKGhPLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHR9aWYoIWUuaGFzQXVkaW8mJiFlLmhhc1ZpZGVvKXtjb25zdCB0PW5ldyB1UChoTy5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgcHVibGlzaGVkXCIpO3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdXNlciBpcyBub3QgcHVibGlzaGVkXCIpKSx0fWlmKCEoaXx8KFwiYXVkaW9cIiE9PXR8fGUuaGFzQXVkaW8mJnZvaWQgMCE9PWUuX2F1ZGlvU1NSQykmJihcInZpZGVvXCIhPT10fHxlLmhhc1ZpZGVvJiZ2b2lkIDAhPT1lLl92aWRlb1NTUkMpKSl7Y29uc3QgaT1uZXcgdVAoaE8uUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7dGhyb3cgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiIHdpdGggbWVkaWFUeXBlIFwiKS5jb25jYXQodCxcIiwgcmVtb3RlIHRyYWNrIGlzIG5vdCBwdWJsaXNoZWRcIikpLGl9bGV0IHI9XCJhdWRpb1wiPT09dD9lLl9hdWRpb1NTUkM6ZS5fdmlkZW9TU1JDLG89XCJhdWRpb1wiPT09dD9lLl9hdWRpb09ydGM6ZS5fdmlkZW9PcnRjLHM9XCJ2aWRlb1wiPT09dD9lLl9ydHhTc3JjSWQ6dm9pZCAwLGE9e3N0cmVhbV90eXBlOlwiYXVkaW9cIj09PXQ/ZnguQVVESU86ZnguVklERU8sc3NyY0lkOnJ9O1widmlkZW9cIj09PXQmJnRoaXMuc3RvcmUuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZChlLnVpZCx7c3Vic2NyaWJlU3RhcnQ6RGF0ZS5ub3coKX0pO2NvbnN0IGM9YXdhaXQgdGhpcy5fc3Vic2NyaWJlTXV0ZXgubG9jaygpO2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQodCkpO3RyeXtpZihhd2FpdCB0aGlzLl9wMnBDaGFubmVsLmhhc1JlbW90ZU1lZGlhV2l0aExvY2soZSx0KSlhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVubXV0ZVJlbW90ZShlLHQpO2Vsc2UgdHJ5e2NvbnN0IGk9XCJhdWRpb1wiPT09dD9lLl9hdWRpb1NTUkM6ZS5fdmlkZW9TU1JDO3ZvaWQgMCE9PWkmJmkhPT1yJiYocj1pLG89XCJhdWRpb1wiPT09dD9lLl9hdWRpb09ydGM6ZS5fdmlkZW9PcnRjLHM9XCJ2aWRlb1wiPT09dD9lLl9ydHhTc3JjSWQ6dm9pZCAwLGE9e3N0cmVhbV90eXBlOlwiYXVkaW9cIj09PXQ/ZnguQVVESU86ZnguVklERU8sc3NyY0lkOnJ9KSx0ai5tYXJrU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxyKSx0aGlzLnN0b3JlLnN1YnNjcmliZShlLnVpZCx0LERhdGUubm93KCkpLGF3YWl0IHRoaXMuX3AycENoYW5uZWwuc3Vic2NyaWJlKGUsdCxyLHMsbyk7dHJ5e3RoaXMuX3AycENoYW5uZWwuaXNQcmVTdWJTY3JpYmUocil8fGF3YWl0IHRoaXMuX2dhdGV3YXkuc3Vic2NyaWJlKGUudWlkLGEsITApfWNhdGNoKGkpe2lmKChudWxsPT1pP3ZvaWQgMDppLmNvZGUpIT09aE8uV1NfQUJPUlQpdGhyb3cgYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZShlLHQpLGk7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZShlLHQsITApLHRoaXMuX3AycENoYW5uZWwuc2V0UGVuZGluZ1JlbW90ZU1lZGlhKGUsdCl9dGhpcy5zdG9yZS5zdWJzY3JpYmUoZS51aWQsdCx2b2lkIDAsRGF0ZS5ub3coKSksdGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRTdWJzY3JpYmVFdmVudCghMCxudWxsLGUsdCl9Y2F0Y2goaSl7dGhyb3cgdGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRTdWJzY3JpYmVFdmVudCghMSxudWxsPT1pP3ZvaWQgMDppLmNvZGUsZSx0KSxpfWlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgc3VjY2VzcyB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdCh0KSksdm9pZCAwIT09dGhpcy5fZGVmYXVsdFN0cmVhbUZhbGxiYWNrVHlwZSYmdGhpcy5zZXRTdHJlYW1GYWxsYmFja09wdGlvbihlLnVpZCx0aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlKS5jYXRjaCgoZT0+e2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCBmYWxsYmFjayBmYWlsZWRcIiksZSl9KSk7Y29uc3QgaT1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvVHJhY2s6ZS5fdmlkZW9UcmFjaztpZighaSl0aHJvdyBuZXcgdVAoaE8uVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCByZW1vdGUgdHJhY2sgaW4gdXNlciBvYmplY3RcIik7cmV0dXJuXCJ2aWRlb1wiPT09dCYmKHRoaXMuc3RvcmUuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZChlLnVpZCx7c3Vic2NyaWJlRW5kOkRhdGUubm93KCl9KSx0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFZpZGVvRmlyc3RGcmFtZVJlbmRlcihlKSksaX1jYXRjaCh0KXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgZXJyb3JcIiksdCksdH1maW5hbGx5e2MoKX19YXN5bmMgbWFzc1N1YnNjcmliZShlKXtpZihnTyhlLFwic3Vic2NyaWJlTGlzdFwiKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIHN0cmVhbSwgbm90IGpvaW5lZFwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7Y29uc3QgdD1EYXRlLm5vdygpLGk9bmV3IE1hcCxuPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTtpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl1zdGFydCBtYXNzU3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJuXCJ1c2VyOiBcIi5jb25jYXQobnVsbD09dD92b2lkIDA6dC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChpKX0pKS5qb2luKFwiOyBcIikpKTtjb25zdCByPShlPVsuLi5lXSkubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aX09ZTtyZXR1cm57dXNlcjp0LG1lZGlhVHlwZTppfX0pKSxvPWF3YWl0IHRoaXMuX3AycENoYW5uZWwuZ2xvYmFsTG9jaygpO3RyeXt2YXIgcztmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgbj1lW3RdLHt1c2VyOm8sbWVkaWFUeXBlOnN9PW47aWYoRU8ocyxcIm1lZGlhVHlwZVwiLFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSksIW8pe2NvbnN0IGU9bmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLFwidXNlciBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdCBpbiBzdWJzY3JpYmVMaXN0IGl0ZW1cIik7dGhyb3cgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0IGluIHN1YnNjcmliZUxpc3QgaXRlbVwiKSksZX1jb25zdCBhPXRoaXMuX3VzZXJzLmZpbmQoKGU9PmU9PT1vKSk7aWYoIWEpe2NvbnN0IGk9bmV3IHVQKGhPLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTtpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgbWFzc1N1YnNjcmliZSBcIikuY29uY2F0KG8udWlkLFwiLCB0aGlzIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSxyW3RdLmVycm9yPWksZS5zcGxpY2UodCwxKTtjb250aW51ZX1pZihcImF1ZGlvXCI9PT1zJiYoIW8uaGFzQXVkaW98fHZvaWQgMD09PW8uX2F1ZGlvU1NSQyl8fFwidmlkZW9cIj09PXMmJighby5oYXNWaWRlb3x8dm9pZCAwPT09by5fdmlkZW9TU1JDKSl7Y29uc3QgaT1uZXcgdVAoaE8uUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7aVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KG8udWlkLFwiIHdpdGggbWVkaWFUeXBlIFwiKS5jb25jYXQocyxcIiwgcmVtb3RlIHVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKSksclt0XS5lcnJvcj1pLGUuc3BsaWNlKHQsMSk7Y29udGludWV9Y29uc3QgYz1jeC5WaWRlb3xjeC5Md29WaWRlbyxkPWkuZ2V0KG8pO2lmKGQpe2lmKFwidmlkZW9cIj09PXM/ZCZjOmQmY3guQXVkaW8pe2Uuc3BsaWNlKHQsMSksaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlcGVhdCBtYXNzU3Vic2NyaWJlIHVzZXI6XCIpLmNvbmNhdChvLnVpZCxcIiwgbWVkaWFUeXBlOlwiKS5jb25jYXQocyxcIiB0d2ljZVwiKSk7Y29udGludWV9aS5zZXQobyxkfChcInZpZGVvXCI9PT1zP2M6Y3guQXVkaW8pKX1lbHNlIGkuc2V0KG8sXCJ2aWRlb1wiPT09cz9jOmN4LkF1ZGlvKX1mb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgbj1lW3RdLHt1c2VyOnIsbWVkaWFUeXBlOm99PW4scz1jeC5WaWRlb3xjeC5Md29WaWRlbztpZih0aGlzLl9wMnBDaGFubmVsLmhhc1JlbW90ZU1lZGlhKHIsbykpe2F3YWl0IHRoaXMuX3AycENoYW5uZWwudW5tdXRlUmVtb3RlTm9Mb2NrKHIsbyk7Y29uc3Qgbj1pLmdldChyKTtpLnNldChyLFwidmlkZW9cIj09PW8/bl5zOm5eY3guQXVkaW8pLGUuc3BsaWNlKHQsMSl9fXRoaXMuc3RvcmUubWFzc1N1YnNjcmliZShlLm1hcCgoZT0+KHt1c2VySWQ6ZS51c2VyLnVpZCx0eXBlOmUubWVkaWFUeXBlfSkpKSx0KTtsZXQgYT1ucihzPUFycmF5LmZyb20oaS5lbnRyaWVzKCkpKS5jYWxsKHMsKChlLHQpPT57bGV0W2ksbl09dDtpZigwPT09bilyZXR1cm4gZTtjb25zdCByPXtzdHJlYW1faWQ6aS51aWQsc3RyZWFtX3R5cGU6bn07cmV0dXJuIG4mY3guQXVkaW8mJihyLmF1ZGlvX3NzcmM9aS5fYXVkaW9TU1JDKSxuJmN4LlZpZGVvJiYoci52aWRlb19zc3JjPWkuX3ZpZGVvU1NSQyksZS5wdXNoKHIpLGV9KSxbXSk7dHJ5e2UubGVuZ3RoPjAmJmF3YWl0IHRoaXMuX3AycENoYW5uZWwubWFzc1N1YnNjcmliZU5vTG9jayhlLm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJue3VzZXI6dCxtZWRpYVR5cGU6aSxzc3JjSWQ6aT09PWZ4LlZJREVPP3QuX3ZpZGVvU1NSQzp0Ll9hdWRpb1NTUkMscnR4U3NyY0lkOmk9PT1meC5WSURFTz90Ll9ydHhTc3JjSWQ6dm9pZCAwfX0pKSk7Y29uc3QgaT1uZXcgTWFwO2lmKGE9YS5maWx0ZXIoKGU9PmUudmlkZW9fc3NyYyYmIXRoaXMuX3AycENoYW5uZWwuaXNQcmVTdWJTY3JpYmUoZS52aWRlb19zc3JjKXx8ZS5hdWRpb19zc3JjJiYhdGhpcy5fcDJwQ2hhbm5lbC5pc1ByZVN1YlNjcmliZShlLmF1ZGlvX3NzcmMpfHwhZS52aWRlb19zc3JjJiYhZS5hdWRpb19zc3JjKSksYS5sZW5ndGg+MCl7Y29uc3QgZT1hd2FpdCB0aGlzLl9nYXRld2F5LnN1YnNjcmliZUFsbChhLCEwKTsoKG51bGw9PWU/dm9pZCAwOmUudXNlcnMpfHxbXSkuZm9yRWFjaCgoZT0+e2xldHtzdHJlYW1faWQ6dCx2aWRlb19lcnJvcl9jb2RlOm4sYXVkaW9fZXJyb3JfY29kZTpyLGVycm9yX2NvZGU6b309ZTsobnx8cnx8bykmJmkuc2V0KHQse3ZpZGVvX2Vycm9yX2NvZGU6bixhdWRpb19lcnJvcl9jb2RlOnIsZXJyb3JfY29kZTpvfSl9KSl9aWYoQXJyYXkuZnJvbShpLmVudHJpZXMoKSkubGVuZ3RoPjApe2NvbnN0IGU9W107QXJyYXkuZnJvbShpLmVudHJpZXMoKSkuZm9yRWFjaCgodD0+e2xldFtpLG5dPXQ7Y29uc3Qgcj10aGlzLnJlbW90ZVVzZXJzLmZpbmQoKGU9PmUudWlkPT09aSkpO2lmKHIpe2xldCB0O24uZXJyb3JfY29kZXx8bi52aWRlb19lcnJvcl9jb2RlJiZuLmF1ZGlvX2Vycm9yX2NvZGU/dD12b2lkIDA6bi52aWRlb19lcnJvcl9jb2RlP3Q9ZnguVklERU86bi5hdWRpb19lcnJvcl9jb2RlJiYodD1meC5BVURJTyksZS5wdXNoKHt1c2VyOnIsbWVkaWFUeXBlOnR9KX19KSksZS5sZW5ndGg+MCYmYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tYXNzVW5zdWJzY3JpYmVOb0xvY2soZSl9Zm9yKGNvbnN0IGUgb2Ygcil7Y29uc3QgdD1pLmdldChlLnVzZXIudWlkKTtpZih0KXtjb25zdCBpPXQuZXJyb3JfY29kZXx8XCJhdWRpb1wiPT09ZS5tZWRpYVR5cGUmJnQuYXVkaW9fZXJyb3JfY29kZXx8XCJ2aWRlb1wiPT09ZS5tZWRpYVR5cGUmJnQudmlkZW9fZXJyb3JfY29kZTtpZihpKXtjb25zdCB0PUJ4KGkpO2lQLmVycm9yKFwidXNlcjpcIi5jb25jYXQoZS51c2VyLnVpZCxcIiBtZWRpYVR5cGU6XCIpLmNvbmNhdChlLm1lZGlhVHlwZSxcIiBoYXMgbWFzc1N1YnNjcmliZSBlcnJvciBcIikuY29uY2F0KHQuZGVzYykpLGUuZXJyb3I9bmV3IHVQKGhPLlNVQlNDUklCRV9GQUlMRUQsXCJjb2RlIFwiLmNvbmNhdChpLFwiOiBcIikuY29uY2F0KHQuZGVzYykpfX1lLmVycm9yfHwoXCJ2aWRlb1wiPT09ZS5tZWRpYVR5cGU/ZS50cmFjaz1lLnVzZXIudmlkZW9UcmFjazplLnRyYWNrPWUudXNlci5hdWRpb1RyYWNrKX1yZXR1cm4gdGhpcy5zdG9yZS5tYXNzU3Vic2NyaWJlKHIuZmlsdGVyKChlPT4hZS5lcnJvcikpLm1hcCgoZT0+KHt1c2VySWQ6ZS51c2VyLnVpZCx0eXBlOmUubWVkaWFUeXBlfSkpKSx2b2lkIDAsRGF0ZS5ub3coKSksci5mb3JFYWNoKChlPT57dmFyIGk7bFAuc3Vic2NyaWJlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtzdWNjOiEhZS5lcnJvcixlYzoobnVsbD09PShpPWUuZXJyb3IpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNvZGUpfHxudWxsLHZpZGVvOmUubWVkaWFUeXBlPT09ZnguVklERU8sYXVkaW86ZS5tZWRpYVR5cGU9PT1meC5BVURJTyxwZWVyaWQ6ZS51c2VyLnVpZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZS5tZWRpYVR5cGU9PT1meC5WSURFTz9lLnVzZXIuX3ZpZGVvU1NSQzplLnVzZXIuX2F1ZGlvU1NSQyxwMnBpZDp0aGlzLnN0b3JlLnAycElkLGV2ZW50RWxhcHNlOk1hdGguZmxvb3IocGVyZm9ybWFuY2Uubm93KCktdCkscHJlU3NyYzp0aGlzLl9wMnBDaGFubmVsLmlzUHJlU3ViU2NyaWJlKGUudXNlci5fdmlkZW9TU1JDKX0sITApfSkpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBtYXNzU3Vic2NyaWJlIHN1Y2Nlc3MgXCIpLmNvbmNhdChlLm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJuXCJ1c2VyOiBcIi5jb25jYXQobnVsbD09dD92b2lkIDA6dC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChpKX0pKS5qb2luKFwiOyBcIikpKSxyfWNhdGNoKHQpe3Rocm93IGF3YWl0IHRoaXMuX3AycENoYW5uZWwubWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKGUpLHR9fWZpbmFsbHl7bygpLG4oKX19YXN5bmMgdW5zdWJzY3JpYmUoZSx0LGkpe2lmKCEoZSBpbnN0YW5jZW9mIGFqKSl7Y29uc3QgdD10aGlzLnJlbW90ZVVzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyB1UChoTy5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7ZT10fWlmKHR8fHRoaXMuc3RvcmUudXNlUDJQKXtpZihcImRhdGFjaGFubmVsXCI9PT10KXJldHVybiB0aGlzLl91bnN1YnNjcmliZURhdGFDaGFubmVsKGUsaSl9ZWxzZSBhd2FpdCB0aGlzLl91bnN1YnNjcmliZURhdGFDaGFubmVsKGUsaSk7aWYodCYmRU8odCxcIm1lZGlhVHlwZVwiLFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHVuc3Vic2NyaWJlIHN0cmVhbSwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtjb25zdCBuPXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQ9PT1lKSk7aWYoIW4pe2NvbnN0IHQ9bmV3IHVQKGhPLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgdW5zdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHR9aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHVpZDogXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KHQpKTtjb25zdCByPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTt0cnl7aWYodGhpcy5zdG9yZS51c2VQMlApYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZShlLHQpO2Vsc2V7Y29uc3QgaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKGUsdCk7aSYmYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZShpLGUudWlkKSx0JiZcImF1ZGlvXCIhPT10fHwoZS5fYXVkaW9fcHJlX3N1YnNjcmliZWQ9ITEpLHQmJlwidmlkZW9cIiE9PXR8fChlLl92aWRlb19wcmVfc3Vic2NyaWJlZD0hMSksZS5faXNfcHJlX2NyZWF0ZWQmJm5OKHRoaXMuX3VzZXJzLGUpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSBzdWNjZXNzIHVpZDogXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KHQpKX19Y2F0Y2godCl7aWYodC5jb2RlPT09aE8uRElTQ09OTkVDVF9QMlApcmV0dXJuIHZvaWQgaVAud2FybmluZyhcImRpc2Nvbm5lY3RpbmcgcDJwLCBhYm9ydCB1bnN1YnNjcmliZSByZXF1ZXN0LlwiKTt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBlcnJvclwiKSx0LnRvU3RyaW5nKCkpLHR9ZmluYWxseXtyKCl9fWFzeW5jIF91bnN1YnNjcmliZURhdGFDaGFubmVsKGUsdCl7aWYodCYmbU8odCxcImlkXCIsMCw2NTUzNSwhMCksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHVuc3Vic2NyaWJlIGRhdGFjaGFubmVsLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2NvbnN0IGk9dGhpcy5fdXNlcnMuZmluZCgodD0+dD09PWUpKTtpZighaSl7Y29uc3QgdD1uZXcgdVAoaE8uSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCB1bnN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiLCB1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKSksdH1sZXQgbjtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7Y29uc3QgaT1lLl9kYXRhQ2hhbm5lbHMuZmluZCgoZT0+ZS5pZD09PXQpKTtpJiYobj1baV0pfWVsc2Ugbj1lLl9kYXRhQ2hhbm5lbHM7aWYodm9pZCAwPT09bil7Y29uc3QgaT1uZXcgdVAoaE8uUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7dGhyb3cgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHVuc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIgd2l0aCBjaGFubmVsSWQgXCIpLmNvbmNhdCh0LFwiLCByZW1vdGUgZGF0YWNoYW5uZWwgaXMgbm90IHB1Ymxpc2hlZFwiKSksaX1pUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgdWlkOiBcIikuY29uY2F0KGUudWlkLFwiLCBtZWRpYVR5cGU6IGRhdGFjaGFubmVsLCBpZHM6IFwiKS5jb25jYXQobi5tYXAoKGU9PmUuaWQpKSkpO3RyeXtjb25zdCB0PWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLG4pO3QmJmF3YWl0IHRoaXMuX2dhdGV3YXkudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbCh0LGUudWlkKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgZGF0YWNoYW5uZWwgc3VjY2VzcyB1aWQ6IFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogZGF0YWNoYW5uZWwsIGlkczogXCIpLmNvbmNhdCh0KSl9Y2F0Y2godCl7aWYodC5jb2RlPT09aE8uRElTQ09OTkVDVF9QMlApcmV0dXJuIHZvaWQgaVAud2FybmluZyhcImRpc2Nvbm5lY3RpbmcgcDJwLCBhYm9ydCB1bnN1YnNjcmliZSByZXF1ZXN0LlwiKTt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBlcnJvclwiKSx0LnRvU3RyaW5nKCkpLHR9fWFzeW5jIG1hc3NVbnN1YnNjcmliZShlKXtpZihnTyhlLFwidW5zdWJzY3JpYmVMaXN0XCIpLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCB1bnN1YnNjcmliZUFsbCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0YXJ0IG1hc3NVbnN1YnNjcmliZSBcIikuY29uY2F0KGUubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aX09ZTtyZXR1cm5cInVzZXI6IFwiLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0LnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KGksXCI7XCIpfSkpLmpvaW4oKSkpLGU9Wy4uLmVdO2NvbnN0IHQ9bmV3IE1hcDtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSl7Y29uc3R7dXNlcjpuLG1lZGlhVHlwZTpyfT1lW2ldO2lmKCFuKXtjb25zdCBlPW5ldyB1UChoTy5JTlZBTElEX1BBUkFNUyxcInVzZXIgcHJvcGVydHkgZG9lcyBub3QgZXhpc3QgaW4gdW5zdWJzY3JpYmVMaXN0IGl0ZW1cIik7dGhyb3cgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0IGluIHVuc3Vic2NyaWJlTGlzdCBpdGVtXCIpKSxlfUVPKHIsXCJtZWRpYVR5cGVcIixbXCJ2aWRlb1wiLFwiYXVkaW9cIix2b2lkIDBdKTtjb25zdCBvPXRoaXMuX3VzZXJzLmZpbmQoKGU9PmU9PT1uKSk7aWYoIW8pe2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHVuc3Vic2NyaWJlIFwiKS5jb25jYXQobi51aWQsXCIsIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSxlLnNwbGljZShpLDEpO2NvbnRpbnVlfWNvbnN0IHM9Y3guVmlkZW98Y3guTHdvVmlkZW87aWYodC5oYXMobikpe2NvbnN0IG89dC5nZXQobik7bGV0IGE7c3dpdGNoKHIpe2Nhc2VcInZpZGVvXCI6YT1vJnM7YnJlYWs7Y2FzZVwiYXVkaW9cIjphPW8mY3guQXVkaW87YnJlYWs7ZGVmYXVsdDphPW8mKGN4LkF1ZGlvfHMpfWlmKGEpe2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXBlYXQgbWFzc1Vuc3Vic2NyaWJlIHVzZXI6XCIpLmNvbmNhdChuLnVpZCxcIixtZWRpYVR5cGU6XCIpLmNvbmNhdChyLFwiIHR3aWNlLlwiKSksZS5zcGxpY2UoaSwxKTtjb250aW51ZX1yP1wiYXVkaW9cIj09PXI/dC5zZXQobixvfGN4LkF1ZGlvKTpcInZpZGVvXCI9PT1yJiZ0LnNldChuLG98cyk6dC5zZXQobixvfGN4LkF1ZGlvfHMpfWVsc2Ugcj9cImF1ZGlvXCI9PT1yP3Quc2V0KG4sY3guQXVkaW8pOlwidmlkZW9cIj09PXImJnQuc2V0KG4scyk6dC5zZXQobixjeC5BdWRpb3xzKX10cnl7Y29uc3QgdD1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLm1hc3NVbnN1YnNjcmliZShlKTt0JiZhd2FpdCB0aGlzLl9nYXRld2F5Lm1hc3NVbnN1YnNjcmliZSh0KSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbWFzc1Vuc3Vic2NyaWJlIHN1Y2Nlc3MgXCIpLmNvbmNhdChlLm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJuXCJ1c2VyOiBcIi5jb25jYXQobnVsbD09dD92b2lkIDA6dC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChpLFwiO1wiKX0pKS5qb2luKCkpKX1jYXRjaChlKXtpZihlLmNvZGU9PT1oTy5ESVNDT05ORUNUX1AyUClyZXR1cm4gdm9pZCBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZGlzY29ubmVjdGluZyBwMnAsIGFib3J0IHVuc3Vic2NyaWJlIHJlcXVlc3QuXCIpKTt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG1hc3NVbnN1YnNjcmliZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9fWFzeW5jIHNldExvd1N0cmVhbVBhcmFtZXRlcihlKXshZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbmV3IHBPKGhPLklOVkFMSURfUEFSQU1TKTtUTyhlLndpZHRoKXx8Zk8oZS53aWR0aCxcInN0cmVhbVBhcmFtZXRlci53aWR0aFwiKSxUTyhlLmhlaWdodCl8fGZPKGUuaGVpZ2h0LFwic3RyZWFtUGFyYW1ldGVyLmhlaWdodFwiKSxUTyhlLmZyYW1lcmF0ZSl8fGZPKGUuZnJhbWVyYXRlLFwic3RyZWFtUGFyYW1ldGVyLmZyYW1lcmF0ZVwiKSxUTyhlLmJpdHJhdGUpfHxtTyhlLmJpdHJhdGUsXCJzdHJlYW1QYXJhbWV0ZXIuYml0cmF0ZVwiKX0oZSksKCFlLndpZHRoJiZlLmhlaWdodHx8ZS53aWR0aCYmIWUuaGVpZ2h0KSYmaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFRoZSB3aWR0aCBhbmQgaGVpZ2h0IHBhcmFtZXRlcnMgdGFrZSBlZmZlY3Qgb25seSB3aGVuIGJvdGggYXJlIHNldFwiKSksaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBsb3cgc3RyZWFtIHBhcmFtZXRlciB0b1wiKSxKU09OLnN0cmluZ2lmeShlKSk7Y29uc3QgdD10aGlzLl9jb25maWdEaXN0cmlidXRlLmdldExvd1N0cmVhbUNvbmZpZ0Rpc3RyaWJ1dGUoKTtpZih0JiZ0LmJpdHJhdGUmJmUuYml0cmF0ZSYmdC5iaXRyYXRlPGUuYml0cmF0ZSYmKGUuYml0cmF0ZT10LmJpdHJhdGUpLHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcj1lLHRoaXMuX2lzRHVhbFN0cmVhbUVuYWJsZWQpcmV0dXJuIHRoaXMuX3AycENoYW5uZWwudXBkYXRlVmlkZW9TdHJlYW1QYXJhbWV0ZXIoZSxSeC5Mb2NhbFZpZGVvTG93VHJhY2spfWFzeW5jIHNldER1YWxTdHJlYW1Nb2RlKGUsdCl7RU8oZSxcIm1vZGVcIixbMCwxLC0xXSk7dHJ5e3N3aXRjaCh0JiZhd2FpdCB0aGlzLnNldExvd1N0cmVhbVBhcmFtZXRlcih0KSx0aGlzLl9kdWFsU3RyZWFtTW9kZT1lLHRoaXMuX2pvaW5JbmZvP3RoaXMuX2dhdGV3YXkuc2V0RHVhbFN0cmVhbU1vZGUoZSkuY2F0Y2goKGU9PntpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGR1YWwgc3RyZWFtIG1vZGUgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSl9KSk6aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBoYXZlbid0IGpvaW5lZCB5ZXQsIGNhY2hlIGR1YWwgc3RyZWFtIG1vZGUgXCIpLmNvbmNhdChlKSksZSl7Y2FzZSBCTy5BVVRPX1NJTVVMQ0FTVF9TVFJFQU06aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBkdWFsIHN0cmVhbSBtb2RlIHRvIFwiKS5jb25jYXQoZSkpO2JyZWFrO2Nhc2UgQk8uRElTQUJMRV9TSU1VTENBU1RfU1RSRU06cmV0dXJuIHRoaXMuZGlzYWJsZUR1YWxTdHJlYW0oKTtjYXNlIEJPLkVOQUJMRV9TSU1VTENBU1RfU1RSRUFNOnJldHVybiB0aGlzLmVuYWJsZUR1YWxTdHJlYW0oKX19Y2F0Y2goZSl7dGhyb3cgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgZHVhbCBzdHJlYW0gbW9kZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9fWFzeW5jIGVuYWJsZUR1YWxTdHJlYW0oKXtpZighcFAoKS5zdXBwb3J0RHVhbFN0cmVhbSl0aHJvdyBsUC5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITAsc3VjYzohMX0pLG5ldyB1UChoTy5OT1RfU1VQUE9SVEVELFwiWW91ciBicm93c2VyIGlzIG5vdCBzdXBwb3J0IGR1YWwgc3RyZWFtXCIpO2lmKHRoaXMuX2lzRHVhbFN0cmVhbUVuYWJsZWQpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiRHVhbCBzdHJlYW0gaXMgYWxyZWFkeSBlbmFibGVkXCIpO2lmKHRoaXMuX3AycENoYW5uZWwuY2FuUHVibGlzaExvd1N0cmVhbSgpKXRyeXthd2FpdCB0aGlzLl9wdWJsaXNoTG93U3RyZWFtKCl9Y2F0Y2goZSl7dGhyb3cgbFAuc3RyZWFtU3dpdGNoKHRoaXMuX3Nlc3Npb25JZCx7bHRzOkRhdGUubm93KCksaXNkdWFsOiEwLHN1Y2M6ITF9KSxlfXRoaXMuX2lzRHVhbFN0cmVhbUVuYWJsZWQ9ITAsdGhpcy5fZHVhbFN0cmVhbU1vZGU9Qk8uRU5BQkxFX1NJTVVMQ0FTVF9TVFJFQU0sdGhpcy5fam9pbkluZm8mJnRoaXMuX2dhdGV3YXkuc2V0RHVhbFN0cmVhbU1vZGUodGhpcy5fZHVhbFN0cmVhbU1vZGUsITAsITApLmNhdGNoKChlPT57aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB0cnkgdG8gaW5mb3JtIGdhdGV3YXkgdG8gc2V0IGR1YWwgc3RyZWFtIG1vZGUgdG8gXCIpLmNvbmNhdCh0aGlzLl9kdWFsU3RyZWFtTW9kZSxcIiAsYnV0IGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpfSkpLGxQLnN0cmVhbVN3aXRjaCh0aGlzLl9zZXNzaW9uSWQse2x0czpEYXRlLm5vdygpLGlzZHVhbDohMCxzdWNjOiEwfSksaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGVuYWJsZSBkdWFsIHN0cmVhbVwiKSl9YXN5bmMgZGlzYWJsZUR1YWxTdHJlYW0oKXtpZih0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkKXtpZighdGhpcy5fam9pbkluZm8pcmV0dXJuIHRoaXMuX2lzRHVhbFN0cmVhbUVuYWJsZWQ9ITEsdm9pZCBpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZGlzYWJsZSBkdWFsIHN0cmVhbSBiZWZvcmUgam9pblwiKSk7aWYodGhpcy5fcDJwQ2hhbm5lbC5nZXRMb2NhbE1lZGlhKFJ4LkxvY2FsVmlkZW9Mb3dUcmFjaykpdHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2hMb3dTdHJlYW0oKTtlJiZhd2FpdCB0aGlzLl9nYXRld2F5LnVucHVibGlzaChlLHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKX1jYXRjaChlKXt0aHJvdyBsUC5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITEsc3VjYzohMX0pLGV9dGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZD0hMSx0aGlzLl9kdWFsU3RyZWFtTW9kZT1CTy5ESVNBQkxFX1NJTVVMQ0FTVF9TVFJFTSx0aGlzLl9qb2luSW5mbyYmdGhpcy5fZ2F0ZXdheS5zZXREdWFsU3RyZWFtTW9kZSh0aGlzLl9kdWFsU3RyZWFtTW9kZSwhMCwhMCkuY2F0Y2goKGU9PntpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHRyeSB0byBpbmZvcm0gZ2F0ZXdheSB0byBzZXQgZHVhbCBzdHJlYW0gbW9kZSB0byBcIikuY29uY2F0KHRoaXMuX2R1YWxTdHJlYW1Nb2RlLFwiICxidXQgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSl9KSksbFAuc3RyZWFtU3dpdGNoKHRoaXMuX3Nlc3Npb25JZCx7bHRzOkRhdGUubm93KCksaXNkdWFsOiExLHN1Y2M6ITB9KSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZGlzYWJsZSBkdWFsIHN0cmVhbVwiKSl9fWFzeW5jIHNldENsaWVudFJvbGUoZSx0KXtpZihmdW5jdGlvbihlKXtFTyhlLFwicm9sZVwiLFtcImF1ZGllbmNlXCIsXCJob3N0XCJdKX0oZSksdCYmak8odCksXCJydGNcIj09PXRoaXMubW9kZXx8XCJwMnBcIj09PXRoaXMubW9kZSl0aHJvdyBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl1cIikuY29uY2F0KHRoaXMubW9kZSxcIiBtb2RlIGNhbiBub3QgdXNlIHNldENsaWVudFJvbGVcIikpLG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIlwiLmNvbmNhdCh0aGlzLm1vZGUsXCIgbW9kZSBjYW4gbm90IHVzZSBzZXRDbGllbnRSb2xlXCIpKTtpZih0JiZ0LmxldmVsJiZcImhvc3RcIj09PWUpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiaG9zdCBtb2RlIGNhbiBub3Qgc2V0IGF1ZGllbmNlIGxhdGVuY3kgbGV2ZWxcIik7aWYoXCJhdWRpZW5jZVwiPT09ZSYmdGhpcy5fcDJwQ2hhbm5lbC5oYXNMb2NhbE1lZGlhKCkpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBzZXQgY2xpZW50IHJvbGUgdG8gYXVkaWVuY2Ugd2hlbiBwdWJsaXNoaW5nIHN0cmVhbVwiKTtjb25zdCBpPXRoaXMuX2NvbmZpZy5yb2xlO2lmKHRoaXMuX2pvaW5JbmZvJiYodGhpcy5fam9pbkluZm8ucm9sZT1lKSxlIT09aSYmQ0QoXCJFTkFCTEVfUk9MRV9TRUxFQ1RfRURHRVwiKT8odGhpcy5fZ2F0ZXdheS51cGRhdGVDbGllbnRSb2xlKGUsdCksdGhpcy5fY29uZmlnLnJvbGU9ZSx0aGlzLl9nYXRld2F5LnJlY29ubmVjdChcInJlY292ZXJcIixITy5SRUdJT05BTF9ESVNUUklCVVRJT04pKTooYXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXRDbGllbnRSb2xlKGUsdCksdGhpcy5fY29uZmlnLnJvbGU9ZSksaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBjbGllbnQgcm9sZSB0byBcIikuY29uY2F0KGUsXCIsIGxldmVsOiBcIikuY29uY2F0KHQmJnQubGV2ZWwpKSxcImF1ZGllbmNlXCI9PT1pJiZcImF1ZGllbmNlXCIhPT1lJiZ0aGlzLl9wZW5kaW5nUnRwQ2FwYWJpbGl0eUNoYW5nZSYmdGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIEVHKXtjb25zdHt2aWRlb19jb2RlYzplfT10aGlzLl9wZW5kaW5nUnRwQ2FwYWJpbGl0eUNoYW5nZTt0aGlzLl9wMnBDaGFubmVsLnVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlLm1hcCgoZT0+ZS50b0xvd2VyQ2FzZSgpKSkuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIExuKHQ9T2JqZWN0LmtleXMoQUQpKS5jYWxsKHQsZSl9KSkpfX1hc3luYyBfc2V0Q2xpZW50Um9sZU9wdGlvbnMoZSl7aWYoXCJydGNcIj09PXRoaXMubW9kZXx8XCJwMnBcIj09PXRoaXMubW9kZSlyZXR1cm47aWYoXCJhdWRpZW5jZVwiIT09dGhpcy5fY29uZmlnLnJvbGV8fHRoaXMuX3AycENoYW5uZWwuaGFzTG9jYWxNZWRpYSgpKXJldHVybjtsZXQgdD0hMTt0cnl7ZSYmak8oZSksYXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXRDbGllbnRSb2xlKHRoaXMuX2NvbmZpZy5yb2xlLGUpLHQ9ITB9Y2F0Y2goZSl7fWZpbmFsbHl7aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBjbGllbnQgcm9sZSBvcHRpb25zIFwiKS5jb25jYXQodD9cInN1Y2NlZWRcIjpcImZhaWxlZFwiLFwiLCBvcHRpb25zIGlzIFwiKS5jb25jYXQoZSkpfX1nZXRSZW1vdGVJbmJvdW5kT2Zmc2V0KCl7dmFyIGU7Y29uc3QgdD1udWxsPT09KGU9dGhpcy5fcDJwQ2hhbm5lbC5nZXRTdGF0cygpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5hdWRpb1NlbmRbMF07aWYoIXR8fCF0LnRpbWVzdGFtcClyZXR1cm4gMDtjb25zdCBpPXQudGltZXN0YW1wLURhdGUubm93KCk7cmV0dXJuIE1hdGguYWJzKGkpPjFlMyt0LnJ0dE1zKzEwMD90aGlzLm50cEFsaWduRXJyb3JDb3VudCs9MTp0aGlzLm50cEFsaWduRXJyb3JDb3VudD0wLHRoaXMubnRwQWxpZ25FcnJvckNvdW50Pj0zP2k6MH1nZXROdHBXYWxsVGltZUluTXMoKXtyZXR1cm5cInZpc2libGVcIj09PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSYmKHRoaXMucmVtb3RlSW5ib3VuZE9mZnNldD10aGlzLmdldFJlbW90ZUluYm91bmRPZmZzZXQoKSksdGhpcy5yZW1vdGVJbmJvdW5kT2Zmc2V0K0RhdGUubm93KCkrdGhpcy5fZ2F0ZXdheS5udHBPZmZzZXR9c2V0UHJveHlTZXJ2ZXIoZSx0KXtpZihTTyhlLFwicHJveHlTZXJ2ZXJcIiksIXQpe2lmKFwiRElTQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJTZXQgcHJveHkgc2VydmVyIGJlZm9yZSBqb2luIGNoYW5uZWxcIik7aWYoXCJkaXNhYmxlZFwiIT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGV8fHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIHByb3h5XCIpfXRoaXMuX3Byb3h5U2VydmVyPWUsbFAuc2V0UHJveHlTZXJ2ZXIodGhpcy5fcHJveHlTZXJ2ZXIpLGlQLnNldFByb3h5U2VydmVyKHRoaXMuX3Byb3h5U2VydmVyKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU2V0IHByb3h5IHNlcnZlciBcIikuY29uY2F0KHQ/XCJieSBpbml0aWFsaXplIGNhbGxcIjpcIlwiLFwiIHN1Y2Nlc3MuXCIpKX1zZXRUdXJuU2VydmVyKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSwhdCl7aWYoXCJESVNDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIlNldCB0dXJuIHNlcnZlciBiZWZvcmUgam9pbiBjaGFubmVsXCIpO2lmKFwiZGlzYWJsZWRcIiE9PXRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlfHx0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50KXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIllvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBwcm94eVwiKX1pZih4TyhlKSlyZXR1cm4gdGhpcy5fdHVyblNlcnZlcj17c2VydmVyczplLG1vZGU6XCJvcmlnaW5hbC1tYW51YWxcIn0sdm9pZCBpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU2V0IG9yaWdpbmFsIHR1cm5zZXJ2ZXIgXCIpLmNvbmNhdCh0P1wiYnkgaW5pdGlhbGl6ZSBjYWxsXCI6XCJcIixcIiBzdWNjZXNzOiBcIikuY29uY2F0KGUubWFwKChlPT5lLnVybHMpKS5qb2luKFwiLFwiKSxcIi5cIikpO2UuZm9yRWFjaCgoZT0+Rk8oZSkpKSx0aGlzLl90dXJuU2VydmVyPXtzZXJ2ZXJzOmUsbW9kZTpcIm1hbnVhbFwifSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU2V0IHR1cm5zZXJ2ZXIgXCIpLmNvbmNhdCh0P1wiYnkgaW5pdGlhbGl6ZSBjYWxsXCI6XCJcIixcIiBzdWNjZXNzLlwiKSl9c2V0TGljZW5zZShlKXtpZihcIkRJU0NPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpe3Rocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcInlvdSBzaG91bGQgc2V0IGxpY2Vuc2UgYmVmb3JlIGpvaW4gY2hhbm5lbFwiKX1pZihTTyhlLFwibGljZW5zZVwiLDMyLDMyKSwhL15bQS1aYS16XFxkXSskLy50ZXN0KGUpKXRocm93IG5ldyB1UChoTy5JTlZBTElEX1BBUkFNUyxcImxpY2Vuc2Ugc2hvdWxkIG9ubHkgY29udGFpbnMgY2hhcmFjdGVycyBmcm9tIEEtWiBhLXogMC05XCIpO3RoaXMuX2xpY2Vuc2U9ZSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGxpY2Vuc2Ugc3VjY2Vzc1wiKSxlKX1zdGFydFByb3h5U2VydmVyKGUpe2lmKFwiRElTQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJTdGFydCBwcm94eSBzZXJ2ZXIgYmVmb3JlIGpvaW4gY2hhbm5lbFwiKTtpZih0aGlzLl9wcm94eVNlcnZlcnx8XCJtYW51YWxcIj09PXRoaXMuX3R1cm5TZXJ2ZXIubW9kZXx8dGhpcy5fdXNlTG9jYWxBY2Nlc3NQb2ludCl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgcHJveHlcIik7Y29uc3QgdD1bMyw0LDVdO2xldCBpO3N3aXRjaCh2b2lkIDA9PT1lJiYoZT0zKSxlKXtjYXNlIDE6Y2FzZSAyOnRocm93IG5ldyB1UChoTy5OT1RfU1VQUE9SVEVELFwicHJveHkgbW9kZSAxLzIgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgbm90IHN1cHBvcnRlZC5cIik7Y2FzZSAzOmk9XCJwcm94eTNcIjticmVhaztjYXNlIDQ6aT1cInByb3h5NFwiO2JyZWFrO2Nhc2UgNTppPVwicHJveHk1XCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJwcm94eSBzZXJ2ZXIgbW9kZSBtdXN0IGJlIFwiLmNvbmNhdCh0LmpvaW4oXCJ8XCIpKSl9dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGU9aSx0aGlzLnN0b3JlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPWksaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBjbG91ZCBwcm94eSBzZXJ2ZXIgbW9kZSB0b1wiKSx0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSl9c3RvcFByb3h5U2VydmVyKCl7aWYoXCJESVNDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIlN0b3AgcHJveHkgc2VydmVyIGFmdGVyIGxlYXZlIGNoYW5uZWxcIik7bFAuc2V0UHJveHlTZXJ2ZXIoKSxpUC5zZXRQcm94eVNlcnZlcigpLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIix0aGlzLnN0b3JlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIixpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGNsb3VkIHByb3h5IHNlcnZlciBtb2RlIHRvXCIpLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlKSx0aGlzLl9wcm94eVNlcnZlcj12b2lkIDAsdGhpcy5fdHVyblNlcnZlcj17bW9kZTpcImF1dG9cIixzZXJ2ZXJzOltdfX1zZXRMb2NhbEFjY2Vzc1BvaW50c1YyKGUpe2lmKCFlLmFjY2Vzc1BvaW50cyl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJhY2Nlc3NQb2ludHMgaXMgcmVxdWlyZWQuXCIpO2dPKGUuYWNjZXNzUG9pbnRzLnNlcnZlckxpc3QsXCJhY2Nlc3NQb2ludHMuc2VydmVyTGlzdFwiKSxTTyhlLmFjY2Vzc1BvaW50cy5kb21haW4sXCJhY2Nlc3NQb2ludHMuZG9tYWluXCIpO2NvbnN0IHQ9KGUsdCk9PnttTyhlLHQsMCw2NTUzNSwhMCl9O2xldCBpPTQ0MztpZihlLmFjY2Vzc1BvaW50cy5wb3J0JiYodChlLmFjY2Vzc1BvaW50cy5wb3J0LFwiYWNjZXNzUG9pbnRzLnBvcnRcIiksaT1lLmFjY2Vzc1BvaW50cy5wb3J0KSx0aGlzLl9wcm94eVNlcnZlcnx8XCJkaXNhYmxlZFwiIT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwic2V0IGxvY2FsIGFjY2VzcyBwb2ludCBmYWlsZWQsIFlvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBjbG91ZCBwcm94eVwiKTtDRChcIkNMT1NFX0FGQl9GT1JfTE9DQUxfQVBcIikmJihSRChcIkpPSU5fV0lUSF9GQUxMQkFDS19TSUdOQUxfUFJPWFlcIiwhMSksUkQoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlcIiwhMSkpO2NvbnN0IG49L14oKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKXszfShcXGR7MSwyfXwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKSQvLHI9ZS5hY2Nlc3NQb2ludHMuZG9tYWluLG89ZS5hY2Nlc3NQb2ludHMuc2VydmVyTGlzdC5tYXAoKGU9Pm4udGVzdChlKT9cIlwiLmNvbmNhdChlLnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KHIpOmUpKSxzPW8ubWFwKChlPT5cIlwiLmNvbmNhdChlLFwiOlwiKS5jb25jYXQoaSkpKTt0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50PSEwLHRoaXMuX3NldExvY2FsQVBWZXJzaW9uPTIsUkQoXCJXRUJDU19ET01BSU5cIixzKSxSRChcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiLHMpLFJEKFwiR0FURVdBWV9ET01BSU5TXCIsW3JdKSxlLnJlcG9ydCYmZS5yZXBvcnQuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkoZS5yZXBvcnQuaG9zdG5hbWUpJiZlLnJlcG9ydC5ob3N0bmFtZS5sZW5ndGg/KGdPKGUucmVwb3J0Lmhvc3RuYW1lLFwicmVwb3J0Lmhvc3RuYW1lXCIpLFJEKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLGUucmVwb3J0Lmhvc3RuYW1lWzBdKSxSRChcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIsZS5yZXBvcnQuaG9zdG5hbWVbMV18fGUucmVwb3J0Lmhvc3RuYW1lWzBdKSk6KFJEKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLG9bMF0pLFJEKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixvWzFdfHxvWzBdKSk7bGV0IGE9NjQ0MztlLnJlcG9ydCYmZS5yZXBvcnQucG9ydCYmKHQoZS5yZXBvcnQucG9ydCxcInJlcG9ydC5wb3J0XCIpLGE9ZS5yZXBvcnQucG9ydCksUkQoXCJTVEFUU19DT0xMRUNUT1JfUE9SVFwiLGEpLGUucmVwb3J0P1JEKFwiRU5BQkxFX0VWRU5UX1JFUE9SVFwiLCEwKTpSRChcIkVOQUJMRV9FVkVOVF9SRVBPUlRcIiwhMSk7bGV0IGM9XCJcIjtlLmxvZyYmZS5sb2cuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkoZS5sb2cuaG9zdG5hbWUpJiZlLmxvZy5ob3N0bmFtZS5sZW5ndGg/KGdPKGUubG9nLmhvc3RuYW1lLFwibG9nLmhvc3RuYW1lXCIpLGM9ZS5sb2cuaG9zdG5hbWVbMF0pOmM9b1swXTtsZXQgZD02NDQ0O2UubG9nJiZlLmxvZy5wb3J0JiYodChlLmxvZy5wb3J0LFwibG9nLnBvcnRcIiksZD1lLmxvZy5wb3J0KSxSRChcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQoYyxcIjpcIikuY29uY2F0KGQpKTtsZXQgbD1bXTtlLmNkcyYmZS5jZHMuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkoZS5jZHMuaG9zdG5hbWUpJiZlLmNkcy5ob3N0bmFtZS5sZW5ndGg/KGdPKGUuY2RzLmhvc3RuYW1lLFwiY2RzLmhvc3RuYW1lXCIpLGw9ZS5jZHMuaG9zdG5hbWUpOmw9bztsZXQgdT00NDM7ZS5jZHMmJmUuY2RzLnBvcnQmJih0KGUuY2RzLnBvcnQsXCJjZHMucG9ydFwiKSx1PWUuY2RzLnBvcnQpLFJEKFwiQ0RTX0FQXCIsbC5tYXAoKGU9PlwiXCIuY29uY2F0KGUsXCI6XCIpLmNvbmNhdCh1KSkpKSxlLmNkcz9SRChcIkVOQUJMRV9DT05GSUdfRElTVFJJQlVURVwiLCEwKTpSRChcIkVOQUJMRV9DT05GSUdfRElTVFJJQlVURVwiLCExKSxpUC5pbmZvKFwic2V0IGxvY2FsIGFjY2VzcyBwb2ludCB2MiBzdWNjZXNzXCIpfXNldExvY2FsQWNjZXNzUG9pbnRzKGUsdCl7aWYoZ08oZSxcInNlcnZlckxpc3RcIiksU08odCxcImRvbWFpblwiKSx0aGlzLl9wcm94eVNlcnZlcnx8XCJkaXNhYmxlZFwiIT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwic2V0IGxvY2FsIGFjY2VzcyBwb2ludCBmYWlsZWQsIFlvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBjbG91ZCBwcm94eVwiKTtjb25zdCBpPS9eKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pJC87ZT1lLm1hcCgoZT0+aS50ZXN0KGUpP1wiXCIuY29uY2F0KGUucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQodCk6ZSkpLHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQ9ITAsdGhpcy5fc2V0TG9jYWxBUFZlcnNpb249MSxSRChcIldFQkNTX0RPTUFJTlwiLGUpLFJEKFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIsZSksUkQoXCJHQVRFV0FZX0RPTUFJTlNcIixbdF0pLFJEKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLGVbMF0pLFJEKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixlWzFdfHxlWzBdKSxSRChcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQoZVswXSxcIjo2NDQ0XCIpKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGxvY2FsIGFjY2VzcyBwb2ludCBzdWNjZXNzXCIpKX1hc3luYyBzZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlKGUpe2lmKEVPKGUsXCJzdHJlYW1UeXBlXCIsWzAsMSw0LDUsNiw3LDgsOV0pLHRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGU9ZSx0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXREZWZhdWx0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKGUpLHRoaXMuX2pvaW5JbmZvLmRlZmF1bHRWaWRlb1N0cmVhbT10aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlfWNhdGNoKGUpe3Rocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGRlZmF1bHQgcmVtb3RlIHZpZGVvIHN0cmVhbSB0eXBlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1lbHNlIGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gaGF2ZW4ndCBqb2luZWQgeWV0LCBjYWNoZSByZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlIFwiKS5jb25jYXQoZSkpfWFzeW5jIHNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZShlLHQpe0VPKHQsXCJzdHJlYW1UeXBlXCIsWzAsMSw0LDUsNiw3LDgsOV0pO3RyeXthd2FpdCB0aGlzLl9nYXRld2F5LnNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZShlLHQpLHNldFRpbWVvdXQoKCgpPT57Y29uc3QgdD10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUpKTt0JiZ0LnZpZGVvVHJhY2smJnQudmlkZW9UcmFjay51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfSksMmUzKX1jYXRjaChlKXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCByZW1vdGUgdmlkZW8gc3RyZWFtIHR5cGUgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfWlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgcmVtb3RlIFwiKS5jb25jYXQoZSxcIiB2aWRlbyBzdHJlYW0gdHlwZSB0byBcIikuY29uY2F0KHQpKSx0aGlzLl9yZW1vdGVTdHJlYW1UeXBlQ2FjaGVNYXAuc2V0KGUsdCl9YXN5bmMgc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24oZSx0KXtFTyh0LFwiZmFsbGJhY2tUeXBlXCIsWzAsMSwyLDMsNCw1LDYsNyw4XSk7dHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkuc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24oZSx0KX1jYXRjaChlKXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBzdHJlYW0gZmFsbGJhY2sgb3B0aW9uXCIpLGUudG9TdHJpbmcoKSksZX1pUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IHJlbW90ZSBcIikuY29uY2F0KGUsXCIgc3RyZWFtIGZhbGxiYWNrIHR5cGUgdG8gXCIpLmNvbmNhdCh0KSksdGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXAuc2V0KGUsdCl9c2V0RW5jcnlwdGlvbkNvbmZpZyhlLHQsaSxuKXshZnVuY3Rpb24oZSl7RU8oZSxcImVuY3J5cHRpb25Nb2RlXCIsW1wiYWVzLTEyOC14dHNcIixcImFlcy0yNTYteHRzXCIsXCJhZXMtMTI4LWVjYlwiLFwic200LTEyOC1lY2JcIixcImFlcy0xMjgtZ2NtXCIsXCJhZXMtMjU2LWdjbVwiLFwiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIixcIm5vbmVcIl0pfShlKSxTTyh0LFwic2VjcmV0XCIpO2NvbnN0IHI9W1wiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIl07aWYoTG4ocikuY2FsbChyLGUpKXtpZighaXx8IShpIGluc3RhbmNlb2YgVWludDhBcnJheSYmMzI9PT1pLmxlbmd0aCkpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLFwic2FsdCBtdXN0IGJlIGFuIFVpbnQ4QXJyYXkgYW5kIGV4YWN0bHkgZXF1YWwgdG8gMzIgYnl0ZXNcIil9ZWxzZSBpZihpKXRocm93IG5ldyB1UChoTy5JTlZBTElEX1BBUkFNUyxcImN1cnJlbnQgZW5jcnlwdCBtb2RlIGRvZXMgbm90IG5lZWQgc2FsdFwiKTtpZihuKXtpZihfTyhuLFwiZW5jcnlwdERhdGFTdHJlYW1cIiksIUxuKHIpLmNhbGwocixlKSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJjdXJyZW50IGVuY3J5cHQgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IGRhdGEgc3RyZWFtXCIpO3RoaXMuX2VuY3J5cHREYXRhU3RyZWFtPSEwfW5ldyBSZWdFeHAoXCJeKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qWzAtOV0pKD89LipbIUAjJCVeJiosLjw+Py86OydcXFwifHt9XFxcXFtcXFxcXV0pKD89Lns4LH0pXCIpLnRlc3QodCl8fGlQLndhcm5pbmcoXCJUaGUgc2VjcmV0IGlzIG5vdCBzdHJvbmc6XFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgMSBsb3dlcmNhc2UgYWxwaGFiZXRpY2FsIGNoYXJhY3RlcixcXG4gICAgICBUaGUgc2VjcmV0IG11c3QgY29udGFpbiBhdCBsZWFzdCAxIHVwcGVyY2FzZSBhbHBoYWJldGljYWwgY2hhcmFjdGVyLFxcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBjb250YWluIGF0IGxlYXN0IDEgbnVtZXJpYyBjaGFyYWN0ZXIsXFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIHNwZWNpYWwgY2hhcmFjdGVyLFxcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBiZSBlaWdodCBjaGFyYWN0ZXJzIG9yIGxvbmdlci5cXG4gICAgICBcIiksdGhpcy5fZW5jcnlwdGlvbk1vZGU9ZSx0aGlzLl9lbmNyeXB0aW9uU2VjcmV0PXQsaSYmKHRoaXMuX2VuY3J5cHRpb25TYWx0PXVOKGkpKX1hc3luYyByZW5ld1Rva2VuKGUpe2lmKFNPKGUsXCJ0b2tlblwiLDEsMjA0NyksIXRoaXMuX2tleXx8IXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcInJlbmV3VG9rZW4gc2hvdWxkIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHVzZXIgam9pblwiKTtjb25zdCB0PXRoaXMuX2tleTt0aGlzLl9rZXk9ZSx0aGlzLl9qb2luSW5mbyYmKHRoaXMuX2pvaW5JbmZvLnRva2VuPWUpO2NvbnN0IGk9YXdhaXQgdGhpcy5fcmVuZXdUb2tlbk11dGV4LmxvY2soKTt0cnl7aWYoQ0QoXCJVU0VfTkVXX1RPS0VOXCIpKXtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0YXJ0IHJlbmV3IHRva2VuIHdpdGggdGlja2V0IGZyb20gdW5pbGJzXCIpKTtjb25zdCB0PWF3YWl0IFhCKHRoaXMuX2pvaW5JbmZvLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fGtOKTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGdldCB0aWNrZXQgZnJvbSB1bmlsYnMgc3VjY2Vzc1wiKSksYXdhaXQgdGhpcy5fZ2F0ZXdheS5yZW5ld1Rva2VuKHt0b2tlbjplLHRpY2tldDp0fSl9ZWxzZSBpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0YXJ0IHJlbmV3IHRva2VuIHdpdGhvdXQgdGlja2V0XCIpKSxhd2FpdCB0aGlzLl9nYXRld2F5LnJlbmV3VG9rZW4oe3Rva2VuOmV9KTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbmV3VG9rZW4gc3VjY2Vzc1wiKSl9Y2F0Y2goZSl7dGhyb3cgdGhpcy5fa2V5PXQsdGhpcy5fam9pbkluZm8udG9rZW49dCxpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbmV3VG9rZW4gZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksZX1maW5hbGx5e2koKX19ZW5hYmxlQXVkaW9Wb2x1bWVJbmRpY2F0b3IoKXt0aGlzLl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbD9pUC53YXJuaW5nKFwieW91IGhhdmUgYWxyZWFkeSBlbmFibGVkIGF1ZGlvIHZvbHVtZSBpbmRpY2F0b3IhXCIpOnRoaXMuX2F1ZGlvVm9sdW1lSW5kaWNhdGlvbkludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pntjb25zdCBlPXRoaXMuX3AycENoYW5uZWwuZ2V0QXVkaW9MZXZlbHMoKTt0aGlzLnNhZmVFbWl0KEdPLlZPTFVNRV9JTkRJQ0FUT1IsZSl9KSxDRChcIkFVRElPX1ZPTFVNRV9JTkRJQ0FUSU9OX0lOVEVSVkFMXCIpfHwyZTMpfWdldFJUQ1N0YXRzKCl7Y29uc3QgZT10aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXRSVENTdGF0cygpLHQ9dGhpcy5fZ2F0ZXdheS5nZXRJbkNoYW5uZWxJbmZvKCk7cmV0dXJuIGUuRHVyYXRpb249TWF0aC5yb3VuZCh0LmR1cmF0aW9uLzFlMyksZX1hc3luYyBzdGFydExpdmVTdHJlYW1pbmcoZSx0KXtpZighdCl7aWYoXCJoMjY0XCIhPT10aGlzLmNvZGVjKXRocm93IG5ldyB1UChoTy5MSVZFX1NUUkVBTUlOR19JTlZBTElEX1JBV19TVFJFQU0sXCJyYXcgc3RyZWFtaW5nIGlzIG9ubHkgc3VwcG9ydCBoMjY0XCIpO2lmKCF0aGlzLl9wMnBDaGFubmVsLmhhc0xvY2FsTWVkaWEoKSl0aHJvdyBuZXcgdVAoaE8uTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9SQVdfU1RSRUFNLFwiY2FuIG5vdCBmaW5kIHN0cmVhbSB0byByYXcgc3RyZWFtaW5nXCIpfWlmKHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQmJnRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQuaGFzVXJsKGUpfHx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50JiZ0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50Lmhhc1VybChlKSl0aHJvdyBuZXcgdVAoaE8uTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVCk7Y29uc3QgaT10P1lWLlRSQU5TQ09ERTpZVi5SQVc7cmV0dXJuIHRoaXMuX2NyZWF0ZUxpdmVTdHJlYW1pbmdDbGllbnQoaSkuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhlLGkpfXNldExpdmVUcmFuc2NvZGluZyhlKXtyZXR1cm4gdGhpcy5fY3JlYXRlTGl2ZVN0cmVhbWluZ0NsaWVudChZVi5UUkFOU0NPREUpLnNldFRyYW5zY29kaW5nQ29uZmlnKGUpfWFzeW5jIHN0b3BMaXZlU3RyZWFtaW5nKGUpe2NvbnN0IHQ9W3RoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQsdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudF0uZmlsdGVyKCh0PT50JiZ0Lmhhc1VybChlKSkpO2lmKCF0Lmxlbmd0aCl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJjYW4gbm90IGZpbmQgbGl2ZSBzdHJlYW1pbmcgdXJsIHRvIHN0b3BcIik7YXdhaXQgcnAuYWxsKHQubWFwKCh0PT50JiZ0LnN0b3BMaXZlU3RyZWFtaW5nVGFzayhlKSkpKX1hc3luYyBzdGFydENoYW5uZWxNZWRpYVJlbGF5KGUpe3NqKGUpO2NvbnN0IHQ9dGhpcy5fY3JlYXRlQ2hhbm5lbE1lZGlhUmVsYXlDbGllbnQoKTthd2FpdCB0LnN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXkoZSl9YXN5bmMgdXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkoZSl7c2ooZSk7Y29uc3QgdD10aGlzLl9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpO2F3YWl0IHQudXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkoZSl9YXN5bmMgc3RvcENoYW5uZWxNZWRpYVJlbGF5KCl7Y29uc3QgZT10aGlzLl9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpO2F3YWl0IGUuc3RvcENoYW5uZWxNZWRpYVJlbGF5KCksdGhpcy5fc3RhdHNDb2xsZWN0b3Iub25TdGF0c0NoYW5nZWQmJih0aGlzLl9zdGF0c0NvbGxlY3Rvci5vblN0YXRzQ2hhbmdlZD12b2lkIDApfXNlbmRBdWRpb01ldGFkYXRhKGUpe3RoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBFRyYmdGhpcy5fcDJwQ2hhbm5lbC5hZGRBdWRpb01ldGFkYXRhKGUpfWFzeW5jIHNlbmRTdHJlYW1NZXNzYWdlKGUpe3ZhciB0O2xldCBpPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2VuZCBkYXRhIHN0cmVhbSwgbm90IGpvaW5lZFwiKTtpZigoXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSYmKGU9e3BheWxvYWQ6ZX0pLFwic3RyaW5nXCI9PXR5cGVvZiBlLnBheWxvYWQpe2NvbnN0IHQ9bmV3IFRleHRFbmNvZGVyO2UucGF5bG9hZD10LmVuY29kZShlLnBheWxvYWQpfWxldCBuPSExO3RoaXMuX2VuY3J5cHREYXRhU3RyZWFtJiZ0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUl2JiZ0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUtleSYmd2luZG93LmNyeXB0by5zdWJ0bGUmJkxuKHQ9W1wiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIl0pLmNhbGwodCx0aGlzLl9lbmNyeXB0aW9uTW9kZSkmJihuPSEwLGUucGF5bG9hZD1hd2FpdCBhc3luYyBmdW5jdGlvbihlLHQsaSl7dmFyIG47Y29uc3Qgcj1ucihuPUFycmF5LmZyb20oaSkpLmNhbGwobiwoKGUsdCk9PmUrdCksMCksbz17c2VydmVyVHM6MCxzZXE6REQrKyxsZW5ndGg6aS5sZW5ndGgsY2hlY2tTdW06cn0scz1uZXcgVWludDhBcnJheShJTihyLDIpKSxhPW5ldyBBcnJheUJ1ZmZlcihORCksYz1uZXcgRGF0YVZpZXcoYSk7Yy5zZXRVaW50MzIoMCxvLnNlcnZlclRzKSxjLnNldFVpbnQxNig0LG8uc2VxKSxjLnNldFVpbnQxNig2LG8ubGVuZ3RoKSxjLnNldFVpbnQxNig4LG8uY2hlY2tTdW0pO2NvbnN0IGQ9MTYtaS5sZW5ndGglMTY7aT1wTihpLG5ldyBVaW50OEFycmF5KGQpKTtjb25zdCBsPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6XCJBRVMtR0NNXCIsaXY6ZSx0YWdMZW5ndGg6YkQsYWRkaXRpb25hbERhdGE6c30sdCxpKTtyZXR1cm4gcE4obmV3IFVpbnQ4QXJyYXkoYSksbmV3IFVpbnQ4QXJyYXkobCkpfSh0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUl2LHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtS2V5LGUucGF5bG9hZCkpO2lmKG5ldyBCbG9iKFtlLnBheWxvYWRdKS5zaXplPjEwMjQpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLG4/XCJlbmNyeXB0ZWQgc3RyZWFtIG1lc3NhZ2Ugb3V0IG9mIHJhbmdlLlwiOlwic3RyZWFtIG1lc3NhZ2Ugb3V0IG9mIHJhbmdlLlwiKTtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5zaWduYWwucmVxdWVzdChGVi5EQVRBX1NUUkVBTSx7cGF5bG9hZDp1TihlLnBheWxvYWQpLHN5bmNXaXRoQXVkaW86ZS5zeW5jV2l0aEF1ZGlvLHNlbmRUczpEYXRlLm5vdygpLWdHfSwhaSl9c2VuZE1ldGFkYXRhKGUpe2lmKCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHNlbmQgbWV0YWRhdGEsIG5vdCBqb2luZWRcIik7aWYobmV3IEJsb2IoW2VdKS5zaXplPjEwMjQpdGhyb3cgbmV3IHVQKGhPLk1FVEFEQVRBX09VVF9PRl9SQU5HRSk7cmV0dXJuIHRoaXMuX2dhdGV3YXkuc2lnbmFsLnJlcXVlc3QoRlYuU0VORF9NRVRBREFUQSx7c2Vzc2lvbl9pZDp0aGlzLl9qb2luSW5mby5zaWQsbWV0YWRhdGE6dU4oZSl9KX1hc3luYyBzZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZShlKXtpZihBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLGUuZm9yRWFjaChyUCksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2VuZCBjdXN0b20gcmVwb3J0LCBub3Qgam9pbmVkXCIpO2F3YWl0IGxQLnNlbmRDdXN0b21SZXBvcnRNZXNzYWdlKHRoaXMuX2pvaW5JbmZvLnNpZCxlKX1nZXRMb2NhbEF1ZGlvU3RhdHMoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0TG9jYWxBdWRpb1RyYWNrU3RhdHMoKX1nZXRSZW1vdGVBdWRpb1N0YXRzKCl7cmV0dXJuIHRoaXMuX3N0YXRzQ29sbGVjdG9yLmdldFJlbW90ZUF1ZGlvVHJhY2tTdGF0cygpfWdldExvY2FsVmlkZW9TdGF0cygpe3JldHVybiB0aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpfWdldFJlbW90ZVZpZGVvU3RhdHMoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlVmlkZW9UcmFja1N0YXRzKCl9Z2V0UmVtb3RlTmV0d29ya1F1YWxpdHkoKXtjb25zdCBlPXRoaXMuX3N0YXRzQ29sbGVjdG9yLmdldFJlbW90ZU5ldHdvcmtRdWFsaXR5U3RhdHMoKTtpZihDRChcIkRFTEVURV9ORVFfQUZURVJfVVNFUl9MRUFWRVwiKSl7Y29uc3QgdD10aGlzLl91c2Vycy5tYXAoKGU9PmUudWlkK1wiXCIpKTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57TG4odCkuY2FsbCh0LGkpfHxkZWxldGUgZVtpXX0pKX1yZXR1cm4gZX1nZXROZXR3b3JrUXVhbGl0eSgpe3JldHVybiB0aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXROZXR3b3JrUXVhbGl0eSgpfWFzeW5jIHBpY2tTVkNMYXllcihlLHQpe0VPKHQuc3BhdGlhbExheWVyLFwic3BhdGlhbExheWVyXCIsWzAsMSwyLDNdKSxFTyh0LnRlbXBvcmFsTGF5ZXIsXCJ0ZW1wb3JhbExheWVyXCIsWzAsMSwyLDNdKTt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5waWNrU1ZDTGF5ZXIoZSx0KX1jYXRjaChlKXt0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHBpY2sgU1ZDIGxheWVyIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLGV9fWFzeW5jIHNldFJUTUNvbmZpZyhlKXtjb25zdHthcFJUTTp0PSExLHJ0bUZsYWc6aX09ZTtpZihfTyh0LFwiYXBSVE1cIiksbU8oaSxcInJ0bUZsYWdcIiwwKSx0aGlzLl9ydG1Db25maWcuYXBSVE09dCx0aGlzLl9ydG1Db25maWcucnRtRmxhZz1pLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0UlRNY29uZmlnIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSksXCIgaW4gXCIpLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSksKFwiQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZXx8XCJSRUNPTk5FQ1RJTkdcIj09PXRoaXMuY29ubmVjdGlvblN0YXRlKSYmdGhpcy5fam9pbkluZm8pcmV0dXJuIHRoaXMuX2pvaW5JbmZvLmFwUlRNPXQsdGhpcy5fam9pbkluZm8ucnRtRmxhZz1pLHRoaXMuX2dhdGV3YXkuc2V0UlRNMkZsYWcoaSl9X3Jlc2V0KCl7aWYoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXNldCBjbGllbnRcIikpLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9WVUuaW5kZXhPZihlKTstMSE9PXQmJllVLnNwbGljZSh0LDEpfSh0aGlzLl9jbGllbnRJZCksdGhpcy5zdG9yZS5oYXNTdGFydEpvaW5DaGFubmVsPSExLHRoaXMuc3RvcmUuaXNBQlRlc3RTdWNjZXNzPSExLHRoaXMuc3RvcmUuYXV0b1N1YnNjcmliZT0hMSx0aGlzLl9wZW5kaW5nUnRwQ2FwYWJpbGl0eUNoYW5nZT12b2lkIDAsdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UuY2FuY2VsKCksdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2U9VHcuQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXA9bmV3IE1hcCx0aGlzLl9yZW1vdGVTdHJlYW1UeXBlQ2FjaGVNYXA9bmV3IE1hcCx0aGlzLl9jb25maWdEaXN0cmlidXRlLnN0b3BHZXRDb25maWdEaXN0cmlidXRlKCksdGhpcy5fam9pbkluZm8mJnpHKHRoaXMuX2pvaW5JbmZvKSx0aGlzLl9ydGVEZXRhaWxJbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3J0ZURldGFpbEludGVydmFsKSx0aGlzLl9ydGVEZXRhaWxJbnRlcnZhbD12b2lkIDAsdGhpcy5fc2Vzc2lvbklkJiZsUC5yZXBvcnRSdGVEZXRhaWwodGhpcy5fc2Vzc2lvbklkKSksdGhpcy5fZmFsbGJhY2tTZXJ2ZXJJbmZvPXZvaWQgMCx0aGlzLl9qb2luSW5mbz12b2lkIDAsdGhpcy5fcHJveHlTZXJ2ZXI9dm9pZCAwLHRoaXMuX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGU9dm9pZCAwLHRoaXMuX3Nlc3Npb25JZCYmbFAucmVtb3ZlU2lkKHRoaXMuX3Nlc3Npb25JZCksdGhpcy5fc2Vzc2lvbklkPW51bGwsdGhpcy5zdG9yZS5zZXNzaW9uSWQ9bnVsbCx0aGlzLnN0b3JlLnJlc2V0Rmlyc3RWaWRlb0ZyYW1lRGVjb2RlZCgpLHRoaXMuX3N0YXRzQ29sbGVjdG9yLnJlc2V0KCksdGhpcy5fa2V5PXZvaWQgMCx0aGlzLl9hcHBJZD12b2lkIDAsdGhpcy5fdWlkPXZvaWQgMCx0aGlzLnN0b3JlLnVpZD12b2lkIDAsdGhpcy5fY2hhbm5lbE5hbWU9dm9pZCAwLHRoaXMuX2VuY3J5cHRpb25Nb2RlPVwibm9uZVwiLHRoaXMuX2VuY3J5cHRpb25TZWNyZXQ9bnVsbCx0aGlzLl9lbmNyeXB0aW9uU2FsdD1udWxsLHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtS2V5PW51bGwsdGhpcy5fZW5jcnlwdERhdGFTdHJlYW1Jdj1udWxsLHRoaXMuX3BlbmRpbmdQdWJsaXNoZWRVc2Vycz1bXSx0aGlzLl91c2Vycy5mb3JFYWNoKChlPT57ZS5fYXVkaW9UcmFjayYmZS5fYXVkaW9UcmFjay5fZGVzdHJveSgpLGUuX3ZpZGVvVHJhY2smJmUuX3ZpZGVvVHJhY2suX2Rlc3Ryb3koKSxlLl9kYXRhQ2hhbm5lbHMmJihlLl9kYXRhQ2hhbm5lbHMuZm9yRWFjaCgoZT0+ZS5fY2xvc2UoKSkpLGUuX2RhdGFDaGFubmVscy5sZW5ndGg9MCl9KSksdGhpcy5fdXNlcnM9W10sdGhpcy5fYXVkaW9Wb2x1bWVJbmRpY2F0aW9uSW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbCksdGhpcy5fYXVkaW9Wb2x1bWVJbmRpY2F0aW9uSW50ZXJ2YWw9dm9pZCAwKSxcImZhbGxiYWNrXCI9PT10aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSYmKHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIix0aGlzLnN0b3JlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIiksdGhpcy5fcDJwQ2hhbm5lbC5yZXNldCgpLHRoaXMuX3B1Ymxpc2hNdXRleD1uZXcgUE4oXCJjbGllbnQtcHVibGlzaFwiLHRoaXMuX2NsaWVudElkKSx0aGlzLl9zdWJzY3JpYmVNdXRleD1uZXcgUE4oXCJjbGllbnQtc3Vic2NyaWJlXCIsdGhpcy5fY2xpZW50SWQpLHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9uZXR3b3JrUXVhbGl0eUludGVydmFsKSx0aGlzLl9uZXR3b3JrUXVhbGl0eUludGVydmFsPXZvaWQgMCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCYmKHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQudGVybWluYXRlKCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50PXZvaWQgMCksdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudCYmKHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQudGVybWluYXRlKCksdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50PXZvaWQgMCksdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQmJih0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudC5kaXNwb3NlKCksdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQ9dm9pZCAwKSx0aGlzLl9pbnNwZWN0KXRyeXt0aGlzLl9pbnNwZWN0LmNsb3NlKCksdGhpcy5faW5zcGVjdD12b2lkIDB9Y2F0Y2goZSl7fWlmKHRoaXMuX21vZGVyYXRpb24pdHJ5e3RoaXMuc2V0SW1hZ2VNb2RlcmF0aW9uKCExKX1jYXRjaChlKXt9fV9zdGFydFNlc3Npb24oZSx0KXt2YXIgaTtjb25zdCBuPWV8fGdOKCk7ZT9pUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG5ldyBTZXNzaW9uIFwiKS5jb25jYXQobikpOmlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVuZXdTZXNzaW9uIFwiKS5jb25jYXQodGhpcy5fc2Vzc2lvbklkLFwiID0+IFwiKS5jb25jYXQobikpO2NvbnN0IHI9ZT9cIlwiOnRoaXMuX3Nlc3Npb25JZHx8XCJcIjt0aGlzLl9zZXNzaW9uSWQ9bix0aGlzLnN0b3JlLnNlc3Npb25JZD1uLGxQLmFkZFNpZChuKTtjb25zdCBvPXtsdHM6KG5ldyBEYXRlKS5nZXRUaW1lKCksbW9kZTp0aGlzLm1vZGUsYnVpbGRGb3JtYXQ6MSxzdHJpbmdVaWQ6KG51bGw9PXQ/dm9pZCAwOnQuc3RyaW5nVWlkKXx8KG51bGw9PT0oaT10aGlzLl9qb2luSW5mbyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc3RyaW5nVWlkKSxjaGFubmVsUHJvZmlsZTpcImxpdmVcIj09PXRoaXMubW9kZT8xOjAsY2hhbm5lbE1vZGU6MCxpc0FCVGVzdFN1Y2Nlc3M6TnVtYmVyKHRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuaXNTdWNjZXNzKSxsc2lkOnIsY2xpZW50Um9sZTpcImF1ZGllbmNlXCI9PT10aGlzLnJvbGU/MjoxLHJ0ZVVybDp0aGlzLnN0b3JlLnJ0ZVVybCxydGVTaWQ6dGhpcy5zdG9yZS5ydGVTaWR9O2xQLnNlc3Npb25Jbml0KHRoaXMuX3Nlc3Npb25JZCx2SCh7Y25hbWU6dC5jaGFubmVsLGFwcGlkOnQuYXBwSWR9LG8pKSx0aGlzLl9qb2luSW5mbyYmKHRoaXMuX2pvaW5JbmZvLnNpZD1uKSx0aGlzLl9nYXRld2F5LmpvaW5JbmZvJiYodGhpcy5fZ2F0ZXdheS5qb2luSW5mby5zaWQ9bil9YXN5bmMgX3B1Ymxpc2hIaWdoU3RyZWFtKGUpe2lmKCF0aGlzLl9qb2luSW5mb3x8dm9pZCAwPT09dGhpcy5fdWlkKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHB1Ymxpc2ggc3RyZWFtLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtpZihcImF1dG9cIj09PXRoaXMuX3R1cm5TZXJ2ZXIubW9kZSYmQ0QoXCJGT1JDRV9UVVJOXCIpJiYhQ0QoXCJUVVJOX0VOQUJMRV9UQ1BcIikmJiFDRChcIlRVUk5fRU5BQkxFX1VEUFwiKSl0aHJvdyBuZXcgdVAoaE8uVU5FWFBFQ1RFRF9FUlJPUixcImZvcmNlIFRVUk4gV2l0aCBObyBUVVJOIENvbmZpZ3VyYXRpb25cIik7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwdWJsaXNoIGhpZ2ggc3RyZWFtXCIpKTt0cnl7Y29uc3QgaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnB1Ymxpc2goZSx0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkLHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcik7aWYodGhpcy5zdG9yZS51c2VQMlApe2NvbnN0IGU9KGF3YWl0IGkubmV4dCgpKS52YWx1ZTtpZihlKXt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZW5kRXh0ZW5zaW9uTWVzc2FnZShMeC5QVUJMSVNILGUsITApfWNhdGNoKGUpe3Rocm93IGkudGhyb3coZSksZX1hd2FpdCBpLm5leHQoKX10aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMCxudWxsKX1lbHNle2NvbnN0IG49KGF3YWl0IGkubmV4dCgpKS52YWx1ZTtpZihuKXt2YXIgdDtsZXQgZTt0cnl7ZT1hd2FpdCB0aGlzLl9nYXRld2F5LnB1Ymxpc2godGhpcy5fdWlkLG4sITApfWNhdGNoKGUpe2lmKGUuY29kZSE9PWhPLkRJU0NPTk5FQ1RfUDJQKXRocm93IGkudGhyb3coZSksZX1hd2FpdCBpLm5leHQoKG51bGw9PT0odD1lKXx8dm9pZCAwPT09dD92b2lkIDA6dC5vcnRjKXx8W10pfXRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCEwLG51bGwpO2Zvcihjb25zdCB0IG9mIGUpdCBpbnN0YW5jZW9mIGtNJiZ0Ll9lbmNvZGVyQ29uZmlnJiZ0aGlzLl9nYXRld2F5LnNldFZpZGVvUHJvZmlsZSh0Ll9lbmNvZGVyQ29uZmlnKS5jYXRjaCgoZT0+e2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3RvcCBzZXRWaWRlb1Byb2ZpbGUsIGJlY2F1c2Ugd2Vic29ja2V0IGlzIGNsb3NlZFwiKSl9KSksIXQubXV0ZWQmJnQuZW5hYmxlZHx8YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tdXRlTG9jYWxUcmFjayh0KX19Y2F0Y2godCl7aWYodGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRQdWJsaXNoRXZlbnQoITEsbnVsbD09dD92b2lkIDA6dC5jb2RlLGUpLChudWxsPT10P3ZvaWQgMDp0LmNvZGUpPT09aE8uV1NfQUJPUlQpcmV0dXJuO3Rocm93IHR9fWFzeW5jIF9wdWJsaXNoTG93U3RyZWFtKCl7aWYoIXRoaXMuX2pvaW5JbmZvfHx2b2lkIDA9PT10aGlzLl91aWQpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgcHVibGlzaCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHN0cmVhbSBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcHVibGlzaCBsb3cgc3RyZWFtXCIpKTtjb25zdCBlPXRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuZ2V0TG93U3RyZWFtQ29uZmlnRGlzdHJpYnV0ZSgpO2UmJmUuYml0cmF0ZSYmKHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcnx8KHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcj17d2lkdGg6MTYwLGhlaWdodDoxMjAsZnJhbWVyYXRlOjE1LGJpdHJhdGU6NTB9KSx0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXImJnRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlci5iaXRyYXRlJiZlLmJpdHJhdGU8dGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyLmJpdHJhdGUmJih0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXIuYml0cmF0ZT1lLmJpdHJhdGUpKTt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnB1Ymxpc2hMb3dTdHJlYW0odGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyKSxpPShhd2FpdCBlLm5leHQoKSkudmFsdWU7aWYoaSl7dmFyIHQ7bGV0IG47dHJ5e249YXdhaXQgdGhpcy5fZ2F0ZXdheS5wdWJsaXNoKHRoaXMuX3VpZCxpLCEwKX1jYXRjaCh0KXtpZih0LmNvZGUhPT1oTy5ESVNDT05ORUNUX1AyUCl0aHJvdyBlLnRocm93KHQpLHR9ZS5uZXh0KChudWxsPT09KHQ9bil8fHZvaWQgMD09PXQ/dm9pZCAwOnQub3J0Yyl8fFtdKSx0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMCxudWxsLHZvaWQgMCwhMCl9fWNhdGNoKGUpe2lmKHRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCExLG51bGw9PWU/dm9pZCAwOmUuY29kZSx2b2lkIDAsITApLChudWxsPT1lP3ZvaWQgMDplLmNvZGUpPT09aE8uV1NfQUJPUlQpcmV0dXJuO3Rocm93IGV9fV9jcmVhdGVMaXZlU3RyZWFtaW5nQ2xpZW50KGUpe2NvbnN0IHQ9KCk9PntpZighdGhpcy5fam9pbkluZm98fCF0aGlzLl9hcHBJZCl7cmV0dXJuIG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgY3JlYXRlIGxpdmUgc3RyZWFtaW5nIGNsaWVudCwgcGxlYXNlIGpvaW4gY2hhbm5lbCBmaXJzdFwiKS50aHJvdygpfWNvbnN0IGU9KHQ9e2pvaW5JbmZvOnRoaXMuX2pvaW5JbmZvLGFwcElkOnRoaXMuX2FwcElkLHdlYnNvY2tldFJldHJ5Q29uZmlnOnRoaXMuX2NvbmZpZy53ZWJzb2NrZXRSZXRyeUNvbmZpZyxodHRwUmV0cnlDb25maWc6dGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ30sb0IoXCJMaXZlU3RyZWFtaW5nXCIpLmNyZWF0ZSh0KSk7dmFyIHQ7cmV0dXJuIGUub25MaXZlU3RyZWFtRXJyb3I9KGUsdCk9PntsUC5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkLHtuYW1lOkxPLk9OX0xJVkVfU1RSRUFNX0VSUk9SLG9wdGlvbnM6W2UsdF0sdGFnOmtPLlRSQUNFUn0pLm9uU3VjY2VzcygpLHRoaXMuc2FmZUVtaXQoR08uTElWRV9TVFJFQU1JTkdfRVJST1IsZSx0KX0sZS5vbkxpdmVTdHJlYW1XYXJuaW5nPShlLHQpPT57bFAucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZCx7bmFtZTpMTy5PTl9MSVZFX1NUUkVBTV9XQVJOSU5HLG9wdGlvbnM6W2UsdF0sdGFnOmtPLlRSQUNFUn0pLm9uU3VjY2VzcygpLHRoaXMuc2FmZUVtaXQoR08uTElWRV9TVFJFQU1JTkdfV0FSTklORyxlLHQpfSxlLm9uKFpWLlJFUVVFU1RfV09SS0VSX01BTkFHRVJfTElTVCwoKGUsdCxpKT0+e2lmKCF0aGlzLl9qb2luSW5mbylyZXR1cm4gaShuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IGZpbmQgam9pbiBpbmZvIHRvIGdldCB3b3JrZXIgbWFuYWdlclwiKSk7KGFzeW5jIGZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0IHI9Q0QoXCJVQVBfQVBcIikuc2xpY2UoMCxDRChcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoKGU9PnQucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0LnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChlK1wiL2FwaS92MT9hY3Rpb249dWFwXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoZSxcIi9hcGkvdjE/YWN0aW9uPXVhcFwiKSkpO3JldHVybiBhd2FpdCBiQihyLGUsdCxpLG4pfSkoZSx0aGlzLl9qb2luSW5mbyx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbixrTikudGhlbih0KS5jYXRjaChpKX0pKSxlfTtyZXR1cm4gZT09PVlWLlJBVz8odGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudD10aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50fHx0KCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCk6KHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQ9dGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudHx8dCgpLHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQpfV9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpe2lmKCF0aGlzLl9qb2luSW5mbyl7cmV0dXJuIG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgY3JlYXRlIGNoYW5uZWwgbWVkaWEgcmVsYXkgY2xpZW50LCBwbGVhc2Ugam9pbiBjaGFubmVsIGZpcnN0XCIpLnRocm93KCl9aWYoIXRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50KXtjb25zdHtzZW5kUmVzb2x1dGlvbldpZHRoOnQsc2VuZFJlc29sdXRpb25IZWlnaHQ6aX09dGhpcy5nZXRMb2NhbFZpZGVvU3RhdHMoKSxuPShlPXtqb2luSW5mbzp0aGlzLl9qb2luSW5mbyxjbGllbnRJZDp0aGlzLl9jbGllbnRJZCx3ZWJzb2NrZXRSZXRyeUNvbmZpZzp0aGlzLl9jb25maWcud2Vic29ja2V0UmV0cnlDb25maWcsaHR0cFJldHJ5Q29uZmlnOnRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWcscmVzb2x1dGlvbjp7d2lkdGg6dCxoZWlnaHQ6aX19LG9CKFwiQ2hhbm5lbE1lZGlhUmVsYXlcIikuY3JlYXRlKGUpKTtuLm9uKFwic3RhdGVcIiwoZT0+e2U9PT1ueC5SRUxBWV9TVEFURV9GQUlMVVJFJiZuJiZuLmRpc3Bvc2UoKSx0aGlzLnNhZmVFbWl0KEdPLkNIQU5ORUxfTUVESUFfUkVMQVlfU1RBVEUsZSl9KSksbi5vbihcImV2ZW50XCIsKGU9Pnt0aGlzLnNhZmVFbWl0KEdPLkNIQU5ORUxfTUVESUFfUkVMQVlfRVZFTlQsZSl9KSksdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQ9bix0aGlzLl9zdGF0c0NvbGxlY3Rvci5vblN0YXRzQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO1wicmVzb2x1dGlvblwiPT09ZSYmKG51bGw9PT0oaT10aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudCl8fHZvaWQgMD09PWl8fGkuc2V0VmlkZW9Qcm9maWxlKHQpKX19dmFyIGU7cmV0dXJuIHRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50fV9oYW5kbGVVcGRhdGVEYXRhQ2hhbm5lbChlLHQpe2NvbnN0e2FkZGVkOmksZGVsZXRlZDpufT1lLHI9W107aWYodCl7Y29uc3QgZT1bXTt0aGlzLl91c2Vycy5mb3JFYWNoKCh0PT57dC5fZGF0YUNoYW5uZWxzLmZvckVhY2goKG49PntpLmV2ZXJ5KChlPT5lLnVpZCE9PXQuX3VpbnRpZHx8ZS5zdHJlYW1faWQhPT1uLmlkKSkmJmUucHVzaCh7dWlkOnQuX3VpbnRpZCxzdHJlYW1faWQ6bi5pZCxvcmRlcmVkOm4ub3JkZXJlZCxtYXhfcmV0cmFuc190aW1lczpuLm1heFJldHJhbnNtaXRzLG1ldGFkYXRhOm4ubWV0YWRhdGF9KX0pKX0pKSxlLmxlbmd0aD4wJiZ0aGlzLl9oYW5kbGVVcGRhdGVEYXRhQ2hhbm5lbCh7YWRkZWQ6W10sZGVsZXRlZDplfSl9QXJyYXkuaXNBcnJheShpKSYmaS5sZW5ndGg+MCYmaS5mb3JFYWNoKChlPT57Y29uc3R7dWlkOmksc3RyZWFtX2lkOm4sb3JkZXJlZDpvLG1heF9yZXRyYW5zX3RpbWVzOnMsbWV0YWRhdGE6YX09ZSxjPXRoaXMuX3VzZXJzLmZpbmQoKGU9PmUuX3VpbnRpZD09PWkpKTtpZighYylyZXR1cm4gdm9pZCBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEob25fYWRkX2RhdGFfY2hhbm5lbClcIikpO2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZGF0YV9jaGFubmVsIGFkZGVkIHdpdGggdWlkIFwiKS5jb25jYXQoaSkpLExuKHIpLmNhbGwocixjKXx8ci5wdXNoKGMpLGMuX3VpbnRpZHx8KGMuX3VpbnRpZD1pKTtpZighKC0xIT09Yy5fZGF0YUNoYW5uZWxzLmZpbmRJbmRleCgodD0+dC5pZD09PWUuc3RyZWFtX2lkKSkpKXtjb25zdCBlPXtpZDpuLG9yZGVyZWQ6ISFvLG1heFJldHJhbnNtaXRzOnMsbWV0YWRhdGE6YX0saT1mdW5jdGlvbihlKXtyZXR1cm4gc0IoZSwhMCl9KGUpO2MuX2RhdGFDaGFubmVscy5wdXNoKGkpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGMudWlkLFwiIHB1Ymxpc2hlZCBkYXRhY2hhbm5lbFwiKSksdHx8dGhpcy5zYWZlRW1pdChHTy5VU0VSX1BVQkxJU0hFRCxjLFwiZGF0YWNoYW5uZWxcIixlKX10aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChjLGUuc3RyZWFtX2lkKSYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZGF0YWNoYW5uZWwgZm9yIHVzZXIgXCIpLmNvbmNhdChjLnVpZCxcIiBhZnRlciByZWNvbm5lY3QuXCIpKSx0aGlzLl9zdWJzY3JpYmVEYXRhQ2hhbm5lbChjLGUuc3RyZWFtX2lkKS5jYXRjaCgoZT0+e2lQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZGF0YWNoYW5uZWwgZXJyb3JcIiksZS50b1N0cmluZygpKX0pKSl9KSksdCYmKHRoaXMuc2FmZUVtaXQoR08uUFVCTElTSEVEX1VTRVJfTElTVCx0aGlzLl9wZW5kaW5nUHVibGlzaGVkVXNlcnMpLHRoaXMuX3BlbmRpbmdQdWJsaXNoZWRVc2Vycz1bXSksQXJyYXkuaXNBcnJheShuKSYmbi5sZW5ndGg+MCYmbi5mb3JFYWNoKChlPT57Y29uc3R7dWlkOnQsc3RyZWFtX2lkOml9PWUsbj10aGlzLl91c2Vycy5maW5kKChlPT5lLl91aW50aWQ9PT10KSk7aWYoIW4pcmV0dXJuIHZvaWQgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2RlbGV0ZV9kYXRhX2NoYW5uZWwpXCIpKTtjb25zdCByPW4uX2RhdGFDaGFubmVscy5maW5kKCh0PT50LmlkPT09ZS5zdHJlYW1faWQpKTtyJiYoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkYXRhX3N0cmVhbSBkZWxldGUgd2l0aCB1aWQgXCIpLmNvbmNhdCh0KSksdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZURhdGFDaGFubmVsKG4sW3JdKS50aGVuKChlPT57aWYobi5fZGF0YUNoYW5uZWxzPW4uX2RhdGFDaGFubmVscy5maWx0ZXIoKGU9PmUhPT1yKSksZSlyZXR1cm4gdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZURhdGFDaGFubmVsKGUsbi51aWQpfSkpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHQsXCIgdW5wdWJsaXNoZWQgZGF0YWNoYW5uZWwgLGlkOlwiKS5jb25jYXQoci5pZCkpLHRoaXMuc2FmZUVtaXQoR08uVVNFUl9VTlBVQkxJU0hFRCxuLFwiZGF0YWNoYW5uZWxcIixyLl9jb25maWcpKX0pKX1fZ2V0RW5jb2RpbmdOYW1lKGUpe3ZhciB0LGk7aWYoIXRoaXMuX2pvaW5SZXNwb25zZSlyZXR1cm47Y29uc3Qgbj1udWxsPT09KHQ9dGhpcy5fam9pblJlc3BvbnNlLm9ydGMucnRwQ2FwYWJpbGl0aWVzLnNlbmRyZWN2KXx8dm9pZCAwPT09dD92b2lkIDA6dC52aWRlb0NvZGVjcztpZighbilyZXR1cm47Zm9yKGNvbnN0IHQgb2Ygbil7dmFyIHI7aWYodC5wYXlsb2FkVHlwZT09PWUpcmV0dXJuIG51bGw9PXR8fG51bGw9PT0ocj10LnJ0cE1hcCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZW5jb2RpbmdOYW1lfWNvbnN0IG89bnVsbD09PShpPXRoaXMuX2pvaW5SZXNwb25zZS5vcnRjLnJ0cENhcGFiaWxpdGllcy5yZWN2KXx8dm9pZCAwPT09aT92b2lkIDA6aS52aWRlb0NvZGVjcztpZihvKWZvcihjb25zdCB0IG9mIG8pe3ZhciBzO2lmKHQucGF5bG9hZFR5cGU9PT1lKXJldHVybiBudWxsPT10fHxudWxsPT09KHM9dC5ydHBNYXApfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmVuY29kaW5nTmFtZX1yZXR1cm4gMD09PWU/XCJ1bmtub3duXCI6dm9pZCAwfV9oYW5kbGVSZW1vdmVEYXRhQ2hhbm5lbHMoZSl7Y29uc3QgdD10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUudWlkKSk7aWYodCl7aWYodm9pZCAwIT09dC5fZGF0YUNoYW5uZWxzJiZ0Ll9kYXRhQ2hhbm5lbHMubGVuZ3RoPjApe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZGF0YWNoYW5uZWwgcmVtb3ZlZCB3aXRoIHVpZCBcIikuY29uY2F0KGUudWlkKSk7Y29uc3QgaT0oKT0+e2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiIHVucHVibGlzaGVkIGRhdGFjaGFubmVsXCIpKSx0Ll9kYXRhQ2hhbm5lbHMuZm9yRWFjaCgoZT0+e3RoaXMuc2FmZUVtaXQoR08uVVNFUl9VTlBVQkxJU0hFRCx0LFwiZGF0YWNoYW5uZWxcIixlLl9jb25maWcpfSkpfTt0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwodCx0Ll9kYXRhQ2hhbm5lbHMpLnRoZW4oKGU9PntpZihlKXJldHVybiB0aGlzLl9nYXRld2F5LnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0LnVpZCl9KSksaSgpfX1lbHNlIGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX3JlbW92ZV9kYXRhY2hhbm5lbClcIikpfV9oYW5kbGVHYXRld2F5RXZlbnRzKCl7dGhpcy5fZ2F0ZXdheS5vbihzeC5VUERBVEVfR0FURVdBWV9DT05GSUcsKCgpPT57IWZ1bmN0aW9uKCl7bGV0IGU7dHJ5e2U9d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid2Vic2RrX25nX2dsb2JhbF9wYXJhbWV0ZXJcIil9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgaVAuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHNkayBjb25maWdcIixlLm1lc3NhZ2UpfWlmKGUpdHJ5e2NvbnN0IHQ9SlNPTi5wYXJzZSh3aW5kb3cuYXRvYihlKSksaT1EYXRlLm5vdygpO09iamVjdC5rZXlzKHQpLmZvckVhY2goKGU9Pntjb25zdHt2YWx1ZTpuLHR5cGU6cixleHBpcmVzOm99PXRbZV07byYmbzw9aXx8cnx8cVUoKXx8IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtRCxlKXx8KHlEW2VdPW4sVERbZV09bixpUC5kZWJ1ZyhcIlVwZGF0ZSBnYXRld2F5IHBhcmFtZXRlcnMgZnJvbSBjb25maWcgZGlzdHJpYnV0ZVwiLGUsbikpfSkpfWNhdGNoKGUpe2lQLmVycm9yKFwiRXJyb3IgdXBkYXRlIGNvbmZpZyBmcm9tIGxvY2FsIGNhY2hlXCIsZS5tZXNzYWdlKX19KCl9KSksdGhpcy5fZ2F0ZXdheS5vbihzeC5ESVNDT05ORUNUX1AyUCwoYXN5bmMoKT0+e2F3YWl0IHRoaXMuX3AycENoYW5uZWwuZGlzY29ubmVjdEZvclJlY29ubmVjdCgpfSkpLHRoaXMuX2dhdGV3YXkub24oc3guQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsKChlLHQsaSk9Pnt2YXIgbjtpZihpPT09Vk8uRkFMTEJBQ0spcmV0dXJuO2NvbnN0IHI9KCk9Pnt0aGlzLnNhZmVFbWl0KEdPLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLGUsdCxpKX07aWYobFAucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZHx8KG51bGw9PT0obj10aGlzLl9nYXRld2F5LmpvaW5JbmZvKXx8dm9pZCAwPT09bj92b2lkIDA6bi5zaWQpfHxudWxsLHtuYW1lOkxPLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLG9wdGlvbnM6W2UsdCxpXSx0YWc6a08uVFJBQ0VSfSkub25TdWNjZXNzKEpTT04uc3RyaW5naWZ5KHtjdXI6ZSxwcmV2OnQscmVhc29uOml9KSksaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNpZ25hbCBjb25uZWN0aW9uIHN0YXRlIGNoYW5nZTogXCIpLmNvbmNhdCh0LFwiIC0+IFwiKS5jb25jYXQoZSkpLFwiRElTQ09OTkVDVEVEXCI9PT1lKXJldHVybiB0aGlzLl9yZXNldCgpLHZvaWQgcigpO2lmKFwiUkVDT05ORUNUSU5HXCI9PT1lKXRoaXMuX3VzZXJzLmZvckVhY2goKGU9PntlLl90cnVzdF9pbl9yb29tXz0hMSxlLl90cnVzdF9hdWRpb19lbmFibGVkX3N0YXRlXz0hMSxlLl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlXz0hMSxlLl90cnVzdF9hdWRpb19tdXRlX3N0YXRlXz0hMSxlLl90cnVzdF92aWRlb19tdXRlX3N0YXRlXz0hMSxlLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSExLGUuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITEsZS5faXNfcHJlX2NyZWF0ZWR8fChlLl9hdWRpb19wcmVfc3Vic2NyaWJlZHx8KGUuX2F1ZGlvU1NSQz12b2lkIDAsZS5fYXVkaW9PcnRjPXZvaWQgMCksZS5fdmlkZW9fcHJlX3N1YnNjcmliZWR8fChlLl92aWRlb1NTUkM9dm9pZCAwLGUuX3ZpZGVvT3J0Yz12b2lkIDAsZS5fcnR4U3NyY0lkPXZvaWQgMCksZS5fY25hbWU9dm9pZCAwKX0pKSx0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0KSx0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dCksdGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0PXZvaWQgMCx0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dD12b2lkIDA7ZWxzZSBpZihcIkNPTk5FQ1RFRFwiPT09ZSl7dmFyIG87dGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXAuZm9yRWFjaCgoKGUsdCk9Pnt0aGlzLl9nYXRld2F5LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKHQsZSkuY2F0Y2goKGU9PntpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBzZXQgc3RyZWFtIGZhbGxiYWNrIG9wdGlvbiBmYWlsZWRcIiksZSl9KSl9KSksdGhpcy5fcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwLmZvckVhY2goKChlLHQpPT57dGhpcy5fZ2F0ZXdheS5zZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGUodCxlKS5jYXRjaCgoZT0+e2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCByZW1vdGUgc3RyZWFtIHR5cGUgZmFpbGVkXCIpLGUpfSkpfSkpLENEKFwiVk9TX0NPTkZJR1VSRVwiKSYmQXJyYXkuaXNBcnJheShDRChcIlZPU19DT05GSUdVUkVcIikpJiZDRChcIlZPU19DT05GSUdVUkVcIikubGVuZ3RoPjAmJih0aGlzLl9nYXRld2F5LnNldENvbmZpZ3VyZShDRChcIlZPU19DT05GSUdVUkVcIikpLmNhdGNoKChlPT57aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCB2b3MgY29uZmlnIGZhaWxlZFwiKSxlKX0pKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHdzIGNvbm5lY3RlZCBhdXRvIHNldCB2b3MgY29uZmlnXCIpKSksdm9pZCAwIT09dGhpcy5fcmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSYmdm9pZCAwPT09KG51bGw9PT0obz10aGlzLl9qb2luSW5mbyl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZGVmYXVsdFZpZGVvU3RyZWFtKSYmdGhpcy5zZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlKHRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUpLnRoZW4oKCgpPT57aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlIGFmdGVyIGdhdGV3YXkgY29ubmVjdGVkXCIpKX0pKS5jYXRjaCgoZT0+e2lQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSBhZnRlciBnYXRld2F5IGZhaWxlZCwgXCIpLmNvbmNhdChlKSl9KSksdGhpcy5fZHVhbFN0cmVhbU1vZGUmJnRoaXMuX2dhdGV3YXkuc2V0RHVhbFN0cmVhbU1vZGUodGhpcy5fZHVhbFN0cmVhbU1vZGUpLmNhdGNoKChlPT57aVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gc2V0IGR1YWwgc3RyZWFtIG1vZGUgZmFpbGVkXCIpLGUpfSkpLHRoaXMuc3RvcmUudXNlUDJQfHwodGhpcy5fcDJwQ2hhbm5lbC5yZXB1Ymxpc2goKSx0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoKCgpPT57aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXJldHVybjt0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQ9dm9pZCAwO3RoaXMuX3VzZXJzLmZpbHRlcigoZT0+IWUuX3RydXN0X2luX3Jvb21fKSkuZm9yRWFjaCgoZT0+e2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBvZmZsaW5lIHRpbWVvdXQsIGVtaXQgdXNlciBvZmZsaW5lIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVVc2VyT2ZmbGluZSh7dWlkOmUudWlkfSl9KSl9KSwzZTMpLHRoaXMuX3N0cmVhbVJlbW92ZWRUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e1wiQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuX3N0cmVhbVJlbW92ZWRUaW1lb3V0PXZvaWQgMCx0aGlzLl91c2Vycy5mb3JFYWNoKChlPT57ZS5fdHJ1c3RfYXVkaW9fbXV0ZV9zdGF0ZV98fChpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggYXVkaW8gdW5tdXRlIGV2ZW50IFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLGZ4LkFVRElPLCExKSksZS5fdHJ1c3RfdmlkZW9fbXV0ZV9zdGF0ZV98fChpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggdmlkZW8gdW5tdXRlIGV2ZW50IFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLGZ4LlZJREVPLCExKSksZS5fdHJ1c3RfYXVkaW9fZW5hYmxlZF9zdGF0ZV98fChpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggZW5hYmxlIGxvY2FsIGF1ZGlvIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZShcImF1ZGlvXCIsZS51aWQsITApKSxlLl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlX3x8KGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBkaXNwYXRjaCBlbmFibGUgbG9jYWwgdmlkZW8gXCIpLmNvbmNhdChlLnVpZCkpLHRoaXMuX2hhbmRsZVNldFN0cmVhbUxvY2FsRW5hYmxlKFwidmlkZW9cIixlLnVpZCwhMCkpLGUuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV98fChpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggcmVzZXQgdmlkZW8gc3RyZWFtIGFkZGVkIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVSZXNldEFkZFN0cmVhbShlLFwidmlkZW9cIikpLGUuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV98fChpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggcmVzZXQgYXVkaW8gc3RyZWFtIGFkZGVkIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVSZXNldEFkZFN0cmVhbShlLFwiYXVkaW9cIikpLGUuX3ZpZGVvX2FkZGVkX3x8ZS5fYXVkaW9fYWRkZWRffHwoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIHN0cmVhbSByZW1vdmUgXCIpLmNvbmNhdChlLnVpZCkpLHRoaXMuX2hhbmRsZVJlbW92ZVN0cmVhbSh7dWlkOmUudWlkLHVpbnRfaWQ6ZS5fdWludGlkfSkpfSkpKX0pLDFlMykpfXIoKX0pKSx0aGlzLl9nYXRld2F5Lm9uKHN4LlJFUVVFU1RfTkVXX0dBVEVXQVlfTElTVCwoYXN5bmMoZSx0KT0+e2lmKCF0aGlzLl9qb2luSW5mbylyZXR1cm4gdChuZXcgdVAoaE8uVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgcmVjb3Zlciwgbm8gam9pbiBpbmZvXCIpKTt0cnl7bGV0IHQ7aWYodGhpcy5fZmFsbGJhY2tTZXJ2ZXJJbmZvKXQ9dGhpcy5fZmFsbGJhY2tTZXJ2ZXJJbmZvLHRoaXMuX2ZhbGxiYWNrU2VydmVySW5mbz12b2lkIDAsdGhpcy5fam9pbkluZm8ucHJlbG9hZD0hMSxsUC5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkLHtuYW1lOkxPLlZPU19GQUxMQkFDS19DTixvcHRpb25zOntjdXI6dC5nYXRld2F5SW5mby5nYXRld2F5QWRkcnMscHJldjp0aGlzLl9qb2luSW5mby5nYXRld2F5QWRkcnMsaXNfZG9uZTohMH0sdGFnOmtPLlRSQUNFUn0pLm9uU3VjY2VzcygpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2UgZmFsbGJhY2sgY24gc2VydmVyIGluZm9cIikpO2Vsc2V7Y29uc3QgZT1hd2FpdCBXRyh2SCh2SCh7fSx0aGlzLl9qb2luSW5mbykse30se3VpZDp0aGlzLl9qb2luSW5mby51aWQsc3RyaW5nVWlkOnZvaWQgMH0pKTtlPyh0PWUuYXAscUcoZSksdGhpcy5fam9pbkluZm8ucHJlbG9hZD0hMCk6KHQ9YXdhaXQgakIodGhpcy5fam9pbkluZm8sdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8a04sdGhpcy5zdG9yZSksdGhpcy5fam9pbkluZm8ucHJlbG9hZD0hMSl9dGhpcy5fam9pbkluZm8mJih0aGlzLl9qb2luSW5mby5hcFJlc3BvbnNlPXQuZ2F0ZXdheUluZm8ucmVzLHRoaXMuX2pvaW5JbmZvLmdhdGV3YXlBZGRycz10LmdhdGV3YXlJbmZvLmdhdGV3YXlBZGRycyx0aGlzLl9qb2luSW5mby51bmlfbGJzX2lwPXQuZ2F0ZXdheUluZm8udW5pX2xic19pcCk7Y29uc3QgaT1bXTt0LmdhdGV3YXlJbmZvLmdhdGV3YXlBZGRycy5mb3JFYWNoKChlPT57bGV0e2FkZHJlc3M6dH09ZTtjb25zdFtuLHJdPXQuc3BsaXQoXCI6XCIpO3RoaXMuX2pvaW5JbmZvJiZ0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlcj9pLnB1c2goe3Byb3h5OnRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyLGhvc3Q6bixwb3J0OnJ9KTppLnB1c2goe2hvc3Q6bixwb3J0OnJ9KX0pKSxlKGkpfWNhdGNoKGUpe3QoZSl9fSkpLHRoaXMuX2dhdGV3YXkub24oc3guTkVUV09SS19RVUFMSVRZLChlPT57XCJub3JtYWxcIj09PXRoaXMuX25ldHdvcmtRdWFsaXR5U2Vuc2l0aXZpdHkmJnRoaXMuc2FmZUVtaXQoR08uTkVUV09SS19RVUFMSVRZLGUpfSkpLHRoaXMuX2dhdGV3YXkub24oc3guU1RSRUFNX1RZUEVfQ0hBTkdFLCgoZSx0KT0+e3RoaXMuc2FmZUVtaXQoR08uU1RSRUFNX1RZUEVfQ0hBTkdFRCxlLHQpO2xQLnJlcG9ydEFwaUludm9rZSh0aGlzLl9zZXNzaW9uSWQse25hbWU6TE8uU1RSRUFNX1RZUEVfQ0hBTkdFLG9wdGlvbnM6W2UsdF0sdGFnOmtPLlRSQUNFUn0pLm9uU3VjY2VzcyhKU09OLnN0cmluZ2lmeSh7dWlkOmUsc3RyZWFtVHlwZTp0fSkpfSkpLHRoaXMuX2dhdGV3YXkuaXNQcmVTdWI9KCk9PlwiaXNQcmVTdWJcImluIHRoaXMuX3AycENoYW5uZWwmJnRoaXMuX3AycENoYW5uZWwuaXNQcmVTdWIoKSx0aGlzLl9nYXRld2F5LmlzUHJlYWxsb2NhdGlvbj0oKT0+XCJpc1ByZWFsbG9jYXRpb25cImluIHRoaXMuX3AycENoYW5uZWwmJnRoaXMuX3AycENoYW5uZWwuaXNQcmVhbGxvY2F0aW9uKCksdGhpcy5fZ2F0ZXdheS5vbihzeC5JU19QMlBfRElTQ09OTkVDVEVELChlPT57dGhpcy5fcDJwQ2hhbm5lbC5pc1AyUERpc2Nvbm5lY3RlZCgpP2UoITApOnRoaXMuX3AycENoYW5uZWwuaGFzTG9jYWxNZWRpYSgpfHx0aGlzLl9wMnBDaGFubmVsLmhhc1JlbW90ZU1lZGlhKCk/ZSghMSk6ZSghMCl9KSksdGhpcy5fZ2F0ZXdheS5vbihzeC5SRVFVRVNUX1AyUF9DT05ORUNUSU9OX1BBUkFNUywoYXN5bmMoZSx0LGkpPT57dHJ5e2xldCBpPWF3YWl0IHRoaXMuX3AycENoYW5uZWwuZ2V0RXN0YWJsaXNoUGFyYW1zKCk7aSYmXCJpc1ByZWFsbG9jYXRpb25cImluIHRoaXMuX3AycENoYW5uZWwmJnRoaXMuX3AycENoYW5uZWwuaXNQcmVhbGxvY2F0aW9uKCl8fChpPWF3YWl0IHRoaXMuX3AycENoYW5uZWwuc3RhcnRQMlBDb25uZWN0aW9uKGUpKSx0KGkpfWNhdGNoKGUpe2koZSl9fSkpLHRoaXMuX2dhdGV3YXkub24oc3guSk9JTl9SRVNQT05TRSwoKGUsdCk9PntpZih0aGlzLnN0b3JlLnVzZVAyUClyZXR1cm47bGV0IGk7dGhpcy5fam9pblJlc3BvbnNlPWUsZS5hdHRyaWJ1dGVzP2k9ZS5hdHRyaWJ1dGVzLnVzZXJBdHRyaWJ1dGVzLnByZVN1YlNzcmNzOmlQLmRlYnVnKFwibm8gYXR0cmlidXRlcyBpbiBqb2luUmVzcG9uc2VcIik7Y29uc3Qgbj1ERihlLm9ydGMsdCxpKTt0aGlzLl9wMnBDaGFubmVsLmNvbm5lY3Qobil9KSksdGhpcy5fZ2F0ZXdheS5vbihzeC5QUkVfQ09OTkVDVF9QQywoYXN5bmMoZSx0LGkpPT57Y29uc3R7Y2FuZGlkYXRlczpuLGZpbmdlcnByaW50OnIsdHVyblNlcnZlcjpvfT1lO2lmKHRoaXMuX2pvaW5JbmZvJiZuLmxlbmd0aD4wJiYhdGhpcy5fcDJwQ2hhbm5lbC5pc1BsYW5CKXtjb25zdHtjZXJ0OmUsY2lkOmF9PXRoaXMuX2pvaW5JbmZvLmFwUmVzcG9uc2UsYz1cIlwiLmNvbmNhdChhLFwiX1wiKS5jb25jYXQoZSk7aWYoYy5sZW5ndGg8NHx8Yy5sZW5ndGg+MjU2KXJldHVybiB2b2lkIGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdWZyYWcgbGVuZ3RoIGlzIG5vdCB2YWxpZCwgbGVuZ3RoOiBcIikuY29uY2F0KGMubGVuZ3RoKSk7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdGFydFAyUENvbm5lY3Rpb24oe3R1cm5TZXJ2ZXI6byxjbG91ZFByb3h5U2VydmVyOnRoaXMuX2pvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXIsaXNQcmVhbGxvY2F0aW9uOiEwfSk7dHJ5e3ZhciBzO3QoYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5jb25uZWN0KHtpY2VQYXJhbWV0ZXJzOntpY2VVZnJhZzpcIlwiLmNvbmNhdChhLFwiX1wiKS5jb25jYXQoZSksaWNlUHdkOlwiXCIuY29uY2F0KGEsXCJfXCIpLmNvbmNhdChlKX0sZHRsc1BhcmFtZXRlcnM6e2ZpbmdlcnByaW50czpbe2hhc2hGdW5jdGlvbjpcInNoYS0yNTZcIixmaW5nZXJwcmludDpudWxsIT09KHM9Q0QoXCJGSU5HRVJQUklOVFwiKSkmJnZvaWQgMCE9PXM/czpyfV19LGNhbmRpZGF0ZXM6bixydHBDYXBhYmlsaXRpZXM6e3NlbmQ6e2F1ZGlvQ29kZWNzOltdLHZpZGVvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHJlY3Y6e2F1ZGlvQ29kZWNzOltdLHZpZGVvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0V4dGVuc2lvbnM6W119fSxzZXR1cDpcImFjdGl2ZVwiLGNuYW1lOlwiby9pMTR1OXBKcnhSS0FzdVwiLHByZWFsbG9jYXRpb246ITB9KSl9Y2F0Y2goZSl7ZS5jb2RlJiZlLmNvZGU9PT1oTy5FWENIQU5HRV9TRFBfRkFJTEVEJiZhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbih7dHVyblNlcnZlcjpvLGNsb3VkUHJveHlTZXJ2ZXI6dGhpcy5fam9pbkluZm8uY2xvdWRQcm94eVNlcnZlcn0sITApLGkoZSl9fX0pKSx0aGlzLl9nYXRld2F5Lm9uKHN4LlZPU19GQUxMQkFDSywoZT0+e1wiZmFsbGJhY2tfaGxzXCI9PT1lJiZ0aGlzLnNhZmVFbWl0KEdPLkZBTExCQUNLX1RPX0hMUyxXTy5WT1NFUlJPUil9KSksdGhpcy5fZ2F0ZXdheS5vbihzeC5SRVNFVF9TSUdOQUwsKCgpPT57dGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIEVHJiZ0aGlzLl9wMnBDaGFubmVsLmZhbGxiYWNrQ29ubmVjdGlvbigpLHRoaXMuX2hhbmRsZUdhdGV3YXlTaWduYWxFdmVudHMoKX0pKSx0aGlzLl9nYXRld2F5Lm9uKHN4LkRBVEFDSEFOTkVMX0ZBSUxCQUNLLCgoKT0+e2xQLnJlcG9ydEFwaUludm9rZSh0aGlzLl9zZXNzaW9uSWQse25hbWU6TE8uREFUQUNIQU5ORUxfRkFJTEJBQ0ssb3B0aW9uczp7fSx0YWc6a08uVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5fam9pbkdhdGV3YXkoKX0pKX1faGFuZGxlR2F0ZXdheVNpZ25hbEV2ZW50cygpe3RoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLk9OX1VTRVJfT05MSU5FLHRoaXMuX2hhbmRsZVVzZXJPbmxpbmUpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLk9OX1VTRVJfT0ZGTElORSx0aGlzLl9oYW5kbGVVc2VyT2ZmbGluZSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oalYuT05fQUREX0FVRElPX1NUUkVBTSwoZT0+dGhpcy5faGFuZGxlQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwiYXVkaW9cIixlLnVpZCxlLnNzcmNJZCxlLmNuYW1lLGUucHQsZS51aW50X2lkLGUub3J0YykpKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihqVi5PTl9BRERfVklERU9fU1RSRUFNLChlPT50aGlzLl9oYW5kbGVBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJ2aWRlb1wiLGUudWlkLGUuc3NyY0lkLGUuY25hbWUsZS5wdCxlLnVpbnRfaWQsZS5vcnRjLGUucnR4U3NyY0lkKSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLk9OX1JFTU9URV9EQVRBU1RSRUFNX1VQREFURSwoZT0+e3RoaXMuX2hhbmRsZVVwZGF0ZURhdGFDaGFubmVsKGUpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLk9OX1JFTU9URV9GVUxMX0RBVEFTVFJFQU1fSU5GTywoZT0+e3RoaXMuX2hhbmRsZVVwZGF0ZURhdGFDaGFubmVsKHthZGRlZDplLmRhdGFzdHJlYW1zfHxbXSxkZWxldGVkOltdfSwhMCl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oalYuT05fUkVNT1ZFX1NUUkVBTSx0aGlzLl9oYW5kbGVSZW1vdmVTdHJlYW0pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLk9OX1AyUF9MT1NULHRoaXMuX2hhbmRsZVAyUExvc3QpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLk1VVEVfQVVESU8sKGU9PnRoaXMuX2hhbmRsZU11dGVTdHJlYW0oZS51aWQsZnguQVVESU8sITApKSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oalYuVU5NVVRFX0FVRElPLChlPT50aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLGZ4LkFVRElPLCExKSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLk1VVEVfVklERU8sKGU9PnRoaXMuX2hhbmRsZU11dGVTdHJlYW0oZS51aWQsZnguVklERU8sITApKSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oalYuVU5NVVRFX1ZJREVPLChlPT50aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLGZ4LlZJREVPLCExKSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLlJFQ0VJVkVfTUVUQURBVEEsKGU9Pntjb25zdCB0PWxOKGUubWV0YWRhdGEpO3RoaXMuc2FmZUVtaXQoR08uUkVDRUlWRV9NRVRBREFUQSxlLnVpZCx0KX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihqVi5PTl9EQVRBX1NUUkVBTSwoYXN5bmMgZT0+e3ZhciB0O2lmKCFlKXJldHVybjtsZXQgaT1sTihlLnBheWxvYWQpO2lmKHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtJiZ0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUl2JiZ0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUtleSYmd2luZG93LmNyeXB0by5zdWJ0bGUmJkxuKHQ9W1wiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIl0pLmNhbGwodCx0aGlzLl9lbmNyeXB0aW9uTW9kZSkpe2lmKGUucGF5bG9hZC5sZW5ndGg8TkQpdGhyb3cgbmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJwYXlsb2FkIGxlbmd0aCBcIi5jb25jYXQoZS5wYXlsb2FkLmxlbmd0aCxcIiBpcyBsZXNzIHRoYW4gaGVhZGVyIGxlbmd0aCBcIikuY29uY2F0KE5EKSk7Y29uc3QgdD1hd2FpdCBhc3luYyBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1pLnN1YmFycmF5KDAsTkQpLHI9bi5zbGljZSg4LE5EKSxvPShyWzBdPDw4KStyWzFdLHM9KG5bNl08PDgpK25bN10sYT1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHtuYW1lOlwiQUVTLUdDTVwiLGl2OmUsdGFnTGVuZ3RoOmJELGFkZGl0aW9uYWxEYXRhOm5ldyBVaW50OEFycmF5KElOKG8sMikpfSx0LGkuc3ViYXJyYXkoTkQpKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSkuc3ViYXJyYXkoMCxzKX0odGhpcy5fZW5jcnlwdERhdGFTdHJlYW1Jdix0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUtleSxpKTtpPXR9bGV0IG49MDtpZihlLm9yZGVyZWR8fGUuc3luY1dpdGhBdWRpbyl7Y29uc3QgdD10aGlzLl9wMnBDaGFubmVsLmdldFN0YXRzKCksaT10aGlzLnJlbW90ZVVzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZS51aWQpKSxyPW51bGw9PXQ/dm9pZCAwOnQuYXVkaW9SZWN2LmZpbmQoKGU9PmUuc3NyYz09PShudWxsPT1pP3ZvaWQgMDppLl9hdWRpb1NTUkMpKSk7bj1udWxsPT1yP3ZvaWQgMDpyLmppdHRlckJ1ZmZlck1zfShudWxsPT1ufHxOdW1iZXIuaXNOYU4obikpJiYobj0wKSxJRyh2SCh2SCh7fSxlKSx7fSx7cGF5bG9hZDppfSksbix7aWQ6dGhpcy5fY2xpZW50SWQsb25TdHJlYW1NZXNzYWdlOlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25TdHJlYW1NZXNzYWdlP3RoaXMub25TdHJlYW1NZXNzYWdlLmJpbmQodGhpcyk6dm9pZCAwLHNhZmVFbWl0OnRoaXMuc2FmZUVtaXQuYmluZCh0aGlzKX0pfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLk9OX0NSWVBUX0VSUk9SLCgoKT0+e2ROKCgoKT0+e2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBvbiBjcnlwdCBlcnJvclwiKSksdGhpcy5zYWZlRW1pdChHTy5DUllQVF9FUlJPUil9KSx0aGlzLl9zZXNzaW9uSWQpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLk9OX1RPS0VOX1BSSVZJTEVHRV9XSUxMX0VYUElSRSx0aGlzLl9oYW5kbGVUb2tlbldpbGxFeHBpcmUpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFLCgoKT0+e2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZWNlaXZlZCBtZXNzYWdlIG9uVG9rZW5Qcml2aWxlZ2VEaWRFeHBpcmUsIHBsZWFzZSBnZXQgbmV3IHRva2VuIGFuZCBqb2luIGFnYWluXCIpKSx0aGlzLl9nYXRld2F5LmxlYXZlKCEwLFZPLlRPS0VOX0VYUElSRSksdGhpcy5zYWZlRW1pdChHTy5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSksdGhpcy5fcmVzZXQoKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihqVi5PTl9TVFJFQU1fRkFMTEJBQ0tfVVBEQVRFLChlPT57aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdHJlYW0gZmFsbGJhY2sgcGVlcklkOiBcIikuY29uY2F0KGUuc3RyZWFtX2lkLFwiLCBhdHRyOiBcIikuY29uY2F0KGUuc3RyZWFtX3R5cGUpKSx0aGlzLnNhZmVFbWl0KEdPLlNUUkVBTV9GQUxMQkFDSyxlLnN0cmVhbV9pZCwxPT09ZS5zdHJlYW1fdHlwZT9cImZhbGxiYWNrXCI6XCJyZWNvdmVyXCIpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLkVOQUJMRV9NVUxUSV9TVFJFQU0sKGU9Pnt0aGlzLl9kdWFsU3RyZWFtTW9kZT09PUJPLkFVVE9fU0lNVUxDQVNUX1NUUkVBTSYmdGhpcy5lbmFibGVEdWFsU3RyZWFtKCkuY2F0Y2goKGU9PntpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBkdWFsIHN0cmVhbSBtb2RlIGVycm9yXCIpLGUudG9TdHJpbmcoKSl9KSl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oalYuT05fUFVCTElTSF9TVFJFQU0sKGU9Pnt0aGlzLnVpZD09PXRoaXMuX3VpZCYmKHRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCEwLG51bGwsdm9pZCAwLCExLEpTT04uc3RyaW5naWZ5KHtwcm94eTplLnByb3h5fSkpLGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBvbiBwdWJsaXNoIHN0cmVhbSwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihqVi5FTkFCTEVfTE9DQUxfVklERU8sKGU9Pnt0aGlzLl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZShcInZpZGVvXCIsZS51aWQsITApfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLkRJU0FCTEVfTE9DQUxfVklERU8sKGU9Pnt0aGlzLl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZShcInZpZGVvXCIsZS51aWQsITEpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKHhWLlJFUVVFU1RfVElNRU9VVCwoKGUsdCk9PntpZih0aGlzLl9qb2luSW5mbylzd2l0Y2goZSl7Y2FzZSBGVi5QVUJMSVNIOntpZighdClyZXR1cm47Y29uc3QgZT10Lm9ydGM7aWYoZSl7dmFyIGksbjtjb25zdCByPWUuc29tZSgoZT0+e2xldHtzdHJlYW1fdHlwZTp0fT1lO3JldHVybiB0PT09b3guQXVkaW99KSksbz1lLnNvbWUoKGU9PntsZXR7c3RyZWFtX3R5cGU6dH09ZTtyZXR1cm4gdCE9PW94LkF1ZGlvfSkpLHM9ZS5zb21lKChlPT57bGV0e3N0cmVhbV90eXBlOnR9PWU7cmV0dXJuIHQ9PT1veC5TY3JlZW58fHQ9PT1veC5TY3JlZW5Mb3d9KSk7XCJvZmZlclwiPT09dC5zdGF0ZSYmbFAucHVibGlzaCh0aGlzLl9qb2luSW5mby5zaWQse2V2ZW50RWxhcHNlOnRqLm1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdGhpcy5zdG9yZS5wdWJJZCksc3VjYzohMSxlYzpoTy5USU1FT1VULGF1ZGlvOnIsdmlkZW86byxwMnBpZDp0LnAycF9pZCxwdWJsaXNoUmVxdWVzdGlkOnRoaXMuc3RvcmUucHViSWQsc2NyZWVuc2hhcmU6cyxhdWRpb05hbWU6cj9udWxsPT09KGk9ZS5maW5kKChlPT57bGV0e3N0cmVhbV90eXBlOnR9PWU7cmV0dXJuIHQ9PT1veC5BdWRpb30pKSl8fHZvaWQgMD09PWl8fG51bGw9PT0oaT1pLnNzcmNzWzBdKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zc3JjSWQudG9TdHJpbmcoKTp2b2lkIDAsdmlkZW9OYW1lOm8/bnVsbD09PShuPWUuZmluZCgoZT0+e2xldHtzdHJlYW1fdHlwZTp0fT1lO3JldHVybiB0IT09b3guQXVkaW99KSkpfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi5zc3Jjc1swXSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3NyY0lkLnRvU3RyaW5nKCk6dm9pZCAwfSl9YnJlYWt9Y2FzZSBGVi5TVUJTQ1JJQkU6dCYmbFAuc3Vic2NyaWJlKHRoaXMuX2pvaW5JbmZvLnNpZCx7c3VjYzohMSxlYzpoTy5USU1FT1VULGF1ZGlvOnQuc3RyZWFtX3R5cGU9PT1meC5BVURJTyx2aWRlbzp0LnN0cmVhbV90eXBlPT09ZnguVklERU8scGVlcmlkOnQuc3RyZWFtX2lkLHN1YnNjcmliZVJlcXVlc3RpZDp0LnNzcmNJZCxwMnBpZDp0aGlzLnN0b3JlLnAycElkLGV2ZW50RWxhcHNlOnRqLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0LnNzcmNJZCkscHJlU3NyYzp0aGlzLl9wMnBDaGFubmVsLmlzUHJlU3ViU2NyaWJlKHQuc3NyY0lkKX0pfX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihqVi5PTl9QMlBfT0ssKGU9Pnt0aGlzLnVpZCx0aGlzLl91aWR9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oalYuT05fUFVCTElTSEVEX1VTRVJfTElTVCwoZT0+e2lmKG51bGw9PWV8fCFlLnVzZXJzKXJldHVybjtDRChcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmKGUudXNlcnM9ZS51c2Vycy5maWx0ZXIoKGU9PiF6VShlLnN0cmluZ19pZHx8ZS5zdHJlYW1faWQsdGhpcy5jaGFubmVsTmFtZSkpKSk7Y29uc3QgdD1bXSxpPVtdO2Zvcihjb25zdCBuIG9mIGUudXNlcnMpe2xldCBlPXRoaXMuX3VzZXJzLmZpbmQoKGU9PmUuX3VpbnRpZD09PW4uc3RyZWFtX2lkKSk7ZT9lLl90cnVzdF9pbl9yb29tXz0hMDooZT1uZXcgYWoobi5zdHJpbmdfaWR8fG4uc3RyZWFtX2lkLG4uc3RyZWFtX2lkKSx0aGlzLl91c2Vycy5wdXNoKGUpLHRoaXMuc3RvcmUuZmlyc3RWaWRlb0ZyYW1lRGVjb2RlZChlLnVpZCx7dXNlckpvaW5Ob3RpZnk6RGF0ZS5ub3coKX0pLDA9PT10aGlzLmdldExpc3RlbmVycyhHTy5QVUJMSVNIRURfVVNFUl9MSVNUKS5sZW5ndGgmJihpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgb25saW5lXCIpLG4uc3RyZWFtX2lkKSx0aGlzLnNhZmVFbWl0KEdPLlVTRVJfSk9JTkVELGUpKSk7Y29uc3Qgcj1jeC5BdWRpbyZuLnN0cmVhbV90eXBlLG89KGN4LlZpZGVvfGN4Lkx3b1ZpZGVvKSZuLnN0cmVhbV90eXBlLHM9MCE9KDY1MjgwJm4uc3RyZWFtX3R5cGUpLGE9ciYmZS5oYXNBdWRpbyxjPW8mJmUuaGFzVmlkZW87byYmKGUuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsZS5fdmlkZW9fYWRkZWRfPSEwLGUuX3ZpZGVvU1NSQz1uLnZpZGVvX3NzcmMsZS5fcnR4U3NyY0lkPW4udmlkZW9fcnR4KSxyJiYoZS5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCxlLl9hdWRpb19hZGRlZF89ITAsZS5fYXVkaW9TU1JDPW4uYXVkaW9fc3NyYyksciYmIWEmJjA9PT10aGlzLmdldExpc3RlbmVycyhHTy5QVUJMSVNIRURfVVNFUl9MSVNUKS5sZW5ndGgmJihpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBwdWJsaXNoZWQgYXVkaW9cIikpLHRoaXMuc2FmZUVtaXQoR08uVVNFUl9QVUJMSVNIRUQsZSxcImF1ZGlvXCIpKSxvJiYhYyYmMD09PXRoaXMuZ2V0TGlzdGVuZXJzKEdPLlBVQkxJU0hFRF9VU0VSX0xJU1QpLmxlbmd0aCYmKGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiIHB1Ymxpc2hlZCB2aWRlb1wiKSksdGhpcy5zYWZlRW1pdChHTy5VU0VSX1BVQkxJU0hFRCxlLFwidmlkZW9cIikpLChyJiYhYXx8byYmIWN8fHMpJiZ0LnB1c2goZSksbyYmdGhpcy5fcDJwQ2hhbm5lbC5oYXNQZW5kaW5nUmVtb3RlTWVkaWEoZSxcInZpZGVvXCIpJiZpLnB1c2goe3VzZXI6ZSxtZWRpYVR5cGU6XCJ2aWRlb1wifSksciYmdGhpcy5fcDJwQ2hhbm5lbC5oYXNQZW5kaW5nUmVtb3RlTWVkaWEoZSxcImF1ZGlvXCIpJiZpLnB1c2goe3VzZXI6ZSxtZWRpYVR5cGU6XCJhdWRpb1wifSl9aS5sZW5ndGg+MCYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUkUgbWFzc1N1YnNjcmliZSBhZnRlciByZWNvbm5lY3QgXCIpLmNvbmNhdChpLm1hcCgoZT0+XCJ1c2VyOiBcIi5jb25jYXQoZS51c2VyLnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KGUubWVkaWFUeXBlKSkpLmpvaW4oXCI7IFwiKSxcIiBcIikpLHRoaXMubWFzc1N1YnNjcmliZShpKS5jYXRjaCgoZT0+e2lQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbWFzcyByZXN1YnNjcmliZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpfSkpKSx0aGlzLmdldExpc3RlbmVycyhHTy5QVUJMSVNIRURfVVNFUl9MSVNUKS5sZW5ndGg+MD9DRChcIkVOQUJMRV9EQVRBU1RSRUFNXzJcIik/dGhpcy5fcGVuZGluZ1B1Ymxpc2hlZFVzZXJzPXQ6KGlQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjbGllbnQgZW1pdCB1c2VyLWxpc3QgZXZlbnQsIHVzZXJzOiBcIikuY29uY2F0KHQubWFwKChlPT5lLnVpZCkpLmpvaW4oXCIsIFwiKSkpLHRoaXMuc2FmZUVtaXQoR08uUFVCTElTSEVEX1VTRVJfTElTVCx0KSk6aVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNsaWVudCBub3QgZW1pdCB1c2VyLWxpc3QgZXZlbnQgY2FzZSB0aGVyZSBpcyBubyB1c2VyLWxpc3QgbGlzdGVuZXIsIHVzZXJzOiBcIikuY29uY2F0KHQubWFwKChlPT5lLnVpZCkpLmpvaW4oXCIsIFwiKSkpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGpWLk9OX1JUUF9DQVBBQklMSVRZX0NIQU5HRSwoZT0+e2NvbnN0e3ZpZGVvX2NvZGVjOnR9PWU7aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIEVHKXtpZihcImF1ZGllbmNlXCI9PT10aGlzLnJvbGUmJkNEKFwiVVBEQVRFX1JUUF9DQVBfSU5fSE9TVFwiKSlyZXR1cm4gdGhpcy5fcGVuZGluZ1J0cENhcGFiaWxpdHlDaGFuZ2U9ZSx2b2lkIGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbm8gbmVlZCB0byBjaGFuZ2UgcnRwIGNhcGFiaWxpdHkgYmVjYXVzZSBvZiBhdWRpZW5jZSwgcGFyYW1zOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSk7dGhpcy5fcDJwQ2hhbm5lbC51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXModC5tYXAoKGU9PmUudG9Mb3dlckNhc2UoKSkpLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBMbih0PU9iamVjdC5rZXlzKEFEKSkuY2FsbCh0LGUpfSkpKX19KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oeFYuVk9TX0ZBTExCQUNLX1BST01JU0UsKGFzeW5jKGUsdCxpKT0+e2lmKFwiRkFMTEJBQ0tDTlwiPT09ZSYmQ0QoXCJFTkFCTEVfUVVBTElUWV9GQUxMQkFDS1wiKSl7aWYoIXRoaXMuX2pvaW5JbmZvKXJldHVybiBpKG5ldyB1UChoTy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCByZWNvdmVyLCBubyBqb2luIGluZm9cIikpO2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB0cnkgZmFsbGJhY2sgdG8gY24sIHN0YXJ0IHJlcXVlc3QgbmV3IHNlcnZlciBpbmZvXCIpKTtjb25zdCByPXRoaXMuX2pvaW5JbmZvLmFwUmVxdWVzdERldGFpbDt0cnl7dGhpcy5fam9pbkluZm8uYXBSZXF1ZXN0RGV0YWlsPWU7Y29uc3Qgbj1hd2FpdCBqQih0aGlzLl9qb2luSW5mbyx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbix0aGlzLl9jb25maWcuaHR0cFJldHJ5Q29uZmlnfHxrTix0aGlzLnN0b3JlKTtpZihDRChcIlFVQUxJVFlfRkFMTEJBQ0tfUkVIRUFSU0FMXCIpKXJldHVybiBsUC5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkLHtuYW1lOkxPLlZPU19GQUxMQkFDS19DTixvcHRpb25zOntjdXI6bi5nYXRld2F5SW5mby5nYXRld2F5QWRkcnMscHJldjp0aGlzLl9qb2luSW5mby5nYXRld2F5QWRkcnMsaXNfZG9uZTohMX0sdGFnOmtPLlRSQUNFUn0pLm9uU3VjY2VzcygpLHRoaXMuX2pvaW5JbmZvLmFwUmVxdWVzdERldGFpbD1yLHZvaWQgaSgpO3RoaXMuX2ZhbGxiYWNrU2VydmVySW5mbz1uLHQoKX1jYXRjaChlKXt2YXIgbjtjb25zdCB0PW51bGw9PWV8fG51bGw9PT0obj1lLmRhdGEpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRlc2M7Q0QoXCJRVUFMSVRZX0ZBTExCQUNLX1JFSEVBUlNBTFwiKT8obFAucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZCx7bmFtZTpMTy5WT1NfRkFMTEJBQ0tfQ04sb3B0aW9uczp7Y3VyOlwiZmFpbGVkLCBlcnJvclJlYXNvbjogXCIrdHx8XCJ1bmtub3duXCIscHJldjp0aGlzLl9qb2luSW5mby5nYXRld2F5QWRkcnMsaXNfZG9uZTohMX0sdGFnOmtPLlRSQUNFUn0pLm9uU3VjY2VzcygpLHRoaXMuX2pvaW5JbmZvLmFwUmVxdWVzdERldGFpbD1yKTpBcnJheS5pc0FycmF5KHQpJiZMbih0KS5jYWxsKHQsXCJyZXF1ZXN0IGRvd25ncmFkZSBmYWxsYmFja1wiKSYmdGhpcy5zYWZlRW1pdChHTy5GQUxMQkFDS19UT19ITFMsV08uQVBfRVJST1IpLGkoZSl9fWVsc2UgaSgpfSkpfV9oYW5kbGVQMlBFdmVudHMoKXt0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihqVi5PTl9VU0VSX09GRkxJTkUsKCgpPT57dGhpcy5fcDJwQ2hhbm5lbC5kaXNjb25uZWN0Rm9yUmVjb25uZWN0KCl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oTHguUFVCTElTSCwoKGUsdCxpKT0+e2NvbnN0e3VpZDpufT1lO2UuZm9yRWFjaCgoZT0+e2NvbnN0e2tpbmQ6cixzc3JjczpvLG1pZDpzLGlzTXV0ZWQ6YX09ZTt0aGlzLl9oYW5kbGVQMlBBZGRBdWRpb09yVmlkZW9TdHJlYW0ocixuLG9bMF0uc3NyY0lkLHMpO2NvbnN0IGM9dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT1uKSk7cmV0dXJuIGMmJnRoaXMuc3RvcmUudXNlUDJQP3RoaXMuX3AycENoYW5uZWwubW9ja1N1YnNjcmliZShjLHIsb1swXS5zc3JjSWQscykudGhlbigoKCk9Pnt0KCl9KSkuY2F0Y2goaSk6dCgpLHRoaXMuX2hhbmRsZU11dGVTdHJlYW0obixyLCEhYSl9KSl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oTHguQ0FMTCwoYXN5bmMoZSx0LGkpPT57aWYodGhpcy5zdG9yZS51c2VQMlApdHJ5e3ZhciBuO3QoYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdGFydFAyUCh7dHVyblNlcnZlcjpudWxsPT09KG49dGhpcy5fam9pbkluZm8pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnR1cm5TZXJ2ZXJ9LGUpKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbih4Vi5QMlBfQ09OTkVDVElPTiwoYXN5bmMgZT0+e3RoaXMuc3RvcmUudXNlUDJQJiYoYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbCkucDJwQ29ubmVjdChlKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihMeC5VTlBVQkxJU0gsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuc3RvcmUudXNlUDJQKXtjb25zdHt1bnB1Yk1zZzpuLHVpZDpyfT1lLG89dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT1yKSk7aWYoIW8pcmV0dXJuIGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgcmVtb3RlIHVzZXIsIGlnbm9yZSBtdXRlIGV2ZW50LCB1aWQ6IFwiKS5jb25jYXQocikpLHZvaWQgdCgpO3RyeXtuLmZvckVhY2goKGFzeW5jIGU9PntsZXR7c3RyZWFtX3R5cGU6dH09ZTtjb25zdCBpPXQ9PT1veC5BdWRpbz9meC5BVURJTzpmeC5WSURFTzthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKG8saSksdGhpcy5faGFuZGxlTXV0ZVN0cmVhbShyLGksITApfSkpLHQoKX1jYXRjaChlKXtpKGUpfX19KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oTHguQ09OVFJPTCwoYXN5bmMoZSx0KT0+e2NvbnN0e2FjdGlvbjppfT1lO3N3aXRjaChpKXtjYXNlIE14Lk1VVEVfTE9DQUxfVklERU86dGhpcy5faGFuZGxlTXV0ZVN0cmVhbSh0LGZ4LlZJREVPLCEwKTticmVhaztjYXNlIE14Lk1VVEVfTE9DQUxfQVVESU86dGhpcy5faGFuZGxlTXV0ZVN0cmVhbSh0LGZ4LkFVRElPLCEwKTticmVhaztjYXNlIE14LlVOTVVURV9MT0NBTF9WSURFTzp0aGlzLl9oYW5kbGVQMlBBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJ2aWRlb1wiLHQpLHRoaXMuX2hhbmRsZU11dGVTdHJlYW0odCxmeC5WSURFTywhMSk7YnJlYWs7Y2FzZSBNeC5VTk1VVEVfTE9DQUxfQVVESU86dGhpcy5faGFuZGxlUDJQQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwiYXVkaW9cIix0KSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKHQsZnguQVVESU8sITEpfX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihMeC5SRVNUQVJUX0lDRSwoYXN5bmMoZSx0LGkpPT57aWYodGhpcy5zdG9yZS51c2VQMlApdHJ5e2NvbnN0e2RpcmVjdGlvbjppLGljZVBhcmFtZXRlcjpufT1lO2lmKGkhPT1HVi5TRU5EX09OTFl8fG4pe3QoYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5yZXN0YXJ0SUNFKGksbikpfWVsc2UgdGhpcy5fcDJwQ2hhbm5lbC5oYW5kbGVEaXNjb25uZWN0KGkpLHQoKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihMeC5DQU5ESURBVEUsKGU9PntpZih0aGlzLnN0b3JlLnVzZVAyUCl7Y29uc3R7Y2FuZGlkYXRlOnQsZGlyZWN0aW9uOml9PWU7dGhpcy5fcDJwQ2hhbm5lbC5hZGRSZW1vdGVDYW5kaWRhdGUodCxpKX19KSksdGhpcy5fcDJwQ2hhbm5lbC5vbih2eC5SZXF1ZXN0UDJQUmVzdGFydElDRSwoYXN5bmMoZSx0LGkpPT57dHJ5e2NvbnN0e2RpcmVjdGlvbjppfT1lO3QoYXdhaXQgdGhpcy5fZ2F0ZXdheS5zZW5kRXh0ZW5zaW9uTWVzc2FnZShMeC5SRVNUQVJUX0lDRSxlLGk9PT1HVi5TRU5EX09OTFkpKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LkxvY2FsQ2FuZGlkYXRlLChlPT57dGhpcy5fZ2F0ZXdheS5zZW5kRXh0ZW5zaW9uTWVzc2FnZShMeC5DQU5ESURBVEUsSlNPTi5zdHJpbmdpZnkoZSksITApfSkpLHRoaXMuX3AycENoYW5uZWwub24odnguUmVxdWVzdFAyUE11dGVMb2NhbCwoYXN5bmMoZSx0LGkpPT57dHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoTHguQ09OVFJPTCxlLCEwKSx0KCl9Y2F0Y2goZSl7aShlKX19KSksdGhpcy5fcDJwQ2hhbm5lbC5vbih2eC5SZXF1ZXN0UDJQVW5tdXRlUmVtb3RlLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS51bm11dGVSZW1vdGUoZSx0aGlzLl9qb2luSW5mby5zdHJpbmdVaWR8fHRoaXMuX2pvaW5JbmZvLnVpZCksdCgpfWNhdGNoKGUpe2UuY29kZT09PWhPLkRJU0NPTk5FQ1RfUDJQP3QoKTppKGUpfWVsc2UgdCgpfSkpLHRoaXMuX3AycENoYW5uZWwub24odnguUmVxdWVzdFAyUE11dGVSZW1vdGUsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX2pvaW5JbmZvKXRyeXthd2FpdCB0aGlzLl9nYXRld2F5Lm11dGVSZW1vdGUoZSx0aGlzLl9qb2luSW5mby5zdHJpbmdVaWR8fHRoaXMuX2pvaW5JbmZvLnVpZCksdCgpfWNhdGNoKGUpe2UuY29kZT09PWhPLkRJU0NPTk5FQ1RfUDJQP3QoKTppKGUpfWVsc2UgdCgpfSkpLHRoaXMuX3AycENoYW5uZWwub24odnguU3RhdGVDaGFuZ2UsKChlLHQpPT57dD09PUN4LkNvbm5lY3RlZCYmdGhpcy5fcDJwQ2hhbm5lbC5yZXB1Ymxpc2goKX0pKX1faGFuZGxlUDJQQ2hhbm5lbEV2ZW50cygpe3RoaXMuX3AycENoYW5uZWwub24odnguUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZSwoZT0+e2NvbnN0IHQ9dGhpcy5fcGVlckNvbm5lY3Rpb25TdGF0ZTtlIT09dCYmKHRoaXMuc2FmZUVtaXQoR08uUEVFUkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLGUsdCksdGhpcy5fcGVlckNvbm5lY3Rpb25TdGF0ZT1lKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LlJlcXVlc3RNdXRlTG9jYWwsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX2pvaW5JbmZvKXRyeXthd2FpdCB0aGlzLl9nYXRld2F5Lm11dGVMb2NhbChlLHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKSx0KCl9Y2F0Y2goZSl7ZS5jb2RlPT09aE8uRElTQ09OTkVDVF9QMlA/dCgpOmkoZSl9ZWxzZSB0KCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbih2eC5SZXF1ZXN0VW5tdXRlTG9jYWwsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX2pvaW5JbmZvKXRyeXthd2FpdCB0aGlzLl9nYXRld2F5LnVubXV0ZUxvY2FsKGUsdGhpcy5fam9pbkluZm8uc3RyaW5nVWlkfHx0aGlzLl9qb2luSW5mby51aWQpLHQoKX1jYXRjaChlKXtlLmNvZGU9PT1oTy5ESVNDT05ORUNUX1AyUD90KCk6aShlKX1lbHNlIHQoKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LlJlcXVlc3RSZVB1Ymxpc2gsKChlLHQsaSk9Pnt0aGlzLnB1Ymxpc2goZSwhMSkudGhlbih0KS5jYXRjaChpKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LlJlcXVlc3RSZVB1Ymxpc2hEYXRhQ2hhbm5lbCwoKGUsdCxpKT0+e3JwLmFsbChlLm1hcCgoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wdWJsaXNoRGF0YUNoYW5uZWwoW2VdKTt0cnl7dC5mb3JFYWNoKChlPT57dGhpcy5fdWlkJiZ0aGlzLl9nYXRld2F5LnB1Ymxpc2hEYXRhQ2hhbm5lbCh0aGlzLl91aWQsZSwhMCl9KSl9Y2F0Y2goZSl7aWYoZS5jb2RlIT09aE8uRElTQ09OTkVDVF9QMlApdGhyb3cgZX19KSkpLnRoZW4odCkuY2F0Y2goaSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbih2eC5SZXF1ZXN0UmVTdWJzY3JpYmUsKGFzeW5jKGUsdCxpKT0+e3RyeXtmb3IoY29uc3R7dXNlcjp0LGtpbmQ6aX1vZiBlKWk9PT1meC5WSURFTz9hd2FpdCB0aGlzLnN1YnNjcmliZSh0LFwidmlkZW9cIik6YXdhaXQgdGhpcy5zdWJzY3JpYmUodCxcImF1ZGlvXCIpO3QoKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LlJlcXVlc3RVcGxvYWQsKChlLHQpPT57dGhpcy5fZ2F0ZXdheS51cGxvYWQoZSx0KX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LlJlcXVlc3RVcGxvYWRTdGF0cywoZT0+e3RoaXMuX2dhdGV3YXkudXBsb2FkV1JUQ1N0YXRzKGUpfSkpLHRoaXMuX3AycENoYW5uZWwub24odnguTWVkaWFSZWNvbm5lY3RTdGFydCwoZT0+e3RoaXMuc2FmZUVtaXQoR08uTUVESUFfUkVDT05ORUNUX1NUQVJULGUpfSkpLHRoaXMuX3AycENoYW5uZWwub24odnguTWVkaWFSZWNvbm5lY3RFbmQsKGU9Pnt0aGlzLnNhZmVFbWl0KEdPLk1FRElBX1JFQ09OTkVDVF9FTkQsZSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbih2eC5OZWVkU2lnbmFsUlRULChlPT57ZSh0aGlzLl9nYXRld2F5LmdldFNpZ25hbFJUVCgpKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LlJlcXVlc3RSZXN0YXJ0SUNFLChhc3luYyBlPT57aWYodGhpcy5zdG9yZS51c2VQMlApcmV0dXJuO2NvbnN0IHQ9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5yZXN0YXJ0SUNFKGUpLGk9YXdhaXQgdC5uZXh0KCk7aWYoaS5kb25lKXJldHVybjtjb25zdCBuPWkudmFsdWU7bGV0IHI7dHJ5e3I9YXdhaXQgdGhpcy5fZ2F0ZXdheS5yZXN0YXJ0SUNFKHtpY2VQYXJhbWV0ZXJzOm59KX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0LnRocm93KGUpfWNvbnN0e2ljZVBhcmFtZXRlcnM6b309ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmljZVBhcmFtZXRlcnM7cmV0dXJue2ljZVBhcmFtZXRlcnM6e2ljZVVmcmFnOnQuaWNlVWZyYWcsaWNlUHdkOnQuaWNlUHdkfX19KHIpO2F3YWl0IHQubmV4dCh7cmVtb3RlSWNlUGFyYW1ldGVyczpvfSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbih2eC5SZXF1ZXN0UmVjb25uZWN0LChhc3luYygpPT57dGhpcy5fZ2F0ZXdheS5yZWNvbm5lY3QoKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LlJlcXVlc3RSZWNvbm5lY3RQQywoYXN5bmMoKT0+e3ZhciBlO2NvbnN0e2ljZVBhcmFtZXRlcnM6dCxkdGxzUGFyYW1ldGVyczppLHJ0cENhcGFiaWxpdGllczpufT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbih7dHVyblNlcnZlcjpudWxsPT09KGU9dGhpcy5fam9pbkluZm8pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnR1cm5TZXJ2ZXJ9KSx7Z2F0ZXdheUVzdGFibGlzaFBhcmFtczpyLGdhdGV3YXlBZGRyZXNzOm99PWF3YWl0IHRoaXMuX2dhdGV3YXkucmVjb25uZWN0UEMoe2ljZVBhcmFtZXRlcnM6dCxkdGxzUGFyYW1ldGVyczppLHJ0cENhcGFiaWxpdGllczpufSkscz1ERihyLG8pO2F3YWl0IHRoaXMuX3AycENoYW5uZWwuY29ubmVjdChzKSxhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnJlcHVibGlzaCgpLGF3YWl0IHRoaXMuX3AycENoYW5uZWwucmVTdWJzY3JpYmUoKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LlJlcXVlc3RVbnB1Ymxpc2hGb3JSZWNvbm5lY3RQQywoYXN5bmMoZSx0LGkpPT57dGhpcy5fam9pbkluZm8mJnZvaWQgMCE9PXRoaXMuX3VpZD8oYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnB1Ymxpc2goZSx0aGlzLl91aWQpLHQoKSk6aSgpfSkpLHRoaXMuX3AycENoYW5uZWwub24odnguUDJQTG9zdCwoKCk9Pnt0aGlzLnNhZmVFbWl0KEdPLlAyUF9MT1NULHRoaXMuc3RvcmUudWlkKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LlVwZGF0ZVZpZGVvRW5jb2RlciwoZT0+e2UuX2VuY29kZXJDb25maWcmJnRoaXMuX2dhdGV3YXkuc2V0VmlkZW9Qcm9maWxlKGUuX2VuY29kZXJDb25maWcpfSkpLHRoaXMuX3AycENoYW5uZWwub24odnguQ29ubmVjdGlvblR5cGVDaGFuZ2UsKGU9Pnt0aGlzLnNhZmVFbWl0KEdPLklTX1VTSU5HX0NMT1VEX1BST1hZLGUpLHRoaXMuX2dhdGV3YXkuc2V0VXNpbmdQcm94eShlKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LkZpcnN0VmlkZW9CdWZmZXJSZWFkeSwoKGUsdCk9Pnt0aGlzLnNhZmVFbWl0KEdPLkZJUlNUX1ZJREVPX0JVRkZFUl9SRUFEWSxlLHQpfSkpLHRoaXMuX3AycENoYW5uZWwub24odnguRmlyc3RWaWRlb1ByZVJlbmRlciwoKGUsdCk9Pnt0aGlzLnNhZmVFbWl0KEdPLkZJUlNUX1ZJREVPX1BSRV9SRU5ERVIsZSx0KX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKHZ4LlJlcXVlc3RMb3dTdHJlYW1QYXJhbWV0ZXIsKGU9PntlKHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcnx8e3dpZHRoOjE2MCxoZWlnaHQ6MTIwLGZyYW1lcmF0ZToxNSxiaXRyYXRlOjUwfSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbih2eC5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZSwoZT0+e2UodGhpcy5jb25uZWN0aW9uU3RhdGUpfSkpLHRoaXMuX3AycENoYW5uZWwub24odnguQXVkaW9NZXRhZGF0YSwoZT0+e3RoaXMuc2FmZUVtaXQoR08uQVVESU9fTUVUQURBVEEsZSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbih2eC5BdWRpb1B0cywoZT0+e3RoaXMuc2FmZUVtaXQoR08uQVVESU9fUFRTLE51bWJlcihlKSl9KSl9Z2V0S2V5TWV0cmljcygpe3JldHVybiB0aGlzLnN0b3JlLmtleU1ldHJpY3N9YXN5bmMgZW5hYmxlQ29udGVudEluc3BlY3QoZSl7aWYoIXRoaXMuX2pvaW5JbmZvfHxcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBjcmVhdGUgY29udGVudCBpbnNwZWN0LCBwbGVhc2Ugam9pbiBjaGFubmVsIGZpcnN0XCIpKTtpZih0aGlzLl9pbnNwZWN0KXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIEluc3BlY3QgY29udGVudCBzZXJ2aWNlIGFscmVhZHkgaW4gY29ubmVjdGluZy9jb25uZWN0ZWQgc3RhdGVcIikpO3RyeXtjb25zdCBpPSh0PXtjb25maWc6ZX0sb0IoXCJDb250ZW50SW5zcGVjdFwiKS5jcmVhdGUodCkpO3RoaXMuX2luc3BlY3Q9aSx0aGlzLmhhbmRsZVZpZGVvSW5zcGVjdEV2ZW50cyhpKTtjb25zdHthcHBJZDpuLGNuYW1lOnIsc2lkOm8sdG9rZW46cyx1aWQ6YSxjaWQ6Yyx2aWQ6ZH09dGhpcy5fam9pbkluZm87YXdhaXQgaS5pbml0KHthcHBJZDpuLGFyZWFDb2RlOlwiXCIsY25hbWU6cixzaWQ6byx0b2tlbjpzLHVpZDphLGNpZDpjLHZpZDpkP051bWJlcihkKTowfSxrTil9Y2F0Y2goZSl7dGhyb3cgQXJyYXkuaXNBcnJheShlKT9lWzBdOmV9dmFyIHR9aGFuZGxlVmlkZW9JbnNwZWN0RXZlbnRzKGUpe2Uub24oQXguQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsKCh0LGkpPT57aWYodGhpcy5zYWZlRW1pdChHTy5DT05URU5UX0lOU1BFQ1RfQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsdCxpKSxpPT09eXguQ09OTkVDVEVEKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpcmV0dXJuIHZvaWQgdGhpcy5zYWZlRW1pdChHTy5DT05URU5UX0lOU1BFQ1RfRVJST1IsbmV3IHVQKGhPLk9QRVJBVElPTl9BQk9SVEVELFwiQ29udGVudCBpbnNwZWN0IHdhcyBjYW5jZWxsZWQgYmVjYXVzZSBpdCBsZWZ0IHRoZSBjaGFubmVsXCIpKTtlLmluc3BlY3RJbWFnZSgpfX0pKSxlLm9uKEF4LklOU1BFQ1RfUkVTVUxULCgoZSx0KT0+e3ZhciBpO2lmKChudWxsPT10P3ZvaWQgMDp0LmNvZGUpPT09aE8uSU5WQUxJRF9PUEVSQVRJT04mJlwiRElTQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSlyZXR1cm4gaVAuZGVidWcoXCJTdG9wIGluc3BlY3QgY29udGVudCBiZWNhdXNlIHRoYXQgaGFzIGxlZnQgY2hhbm5lbFwiKSxudWxsPT10aGlzfHxudWxsPT09KGk9dGhpcy5faW5zcGVjdCl8fHZvaWQgMD09PWl8fGkuY2xvc2UoKSx2b2lkKHRoaXMuX2luc3BlY3Q9dm9pZCAwKTt0aGlzLnNhZmVFbWl0KEdPLkNPTlRFTlRfSU5TUEVDVF9SRVNVTFQsZSx0KX0pKSxlLm9uKEF4LkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSywoZT0+e2UodGhpcy5sb2NhbFRyYWNrcy5maWx0ZXIoKGU9PlwidmlkZW9cIj09PWUudHJhY2tNZWRpYVR5cGUpKVswXSl9KSl9YXN5bmMgZGlzYWJsZUNvbnRlbnRJbnNwZWN0KCl7aWYoIXRoaXMuX2luc3BlY3QpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gaW5zcGVjdFZpZGVvQ29udGVudCBub3Qgc3RhcnRlZFwiKSk7dHJ5e3RoaXMuX2luc3BlY3QuY2xvc2UoKSx0aGlzLl9pbnNwZWN0PXZvaWQgMH1jYXRjaChlKXt0aHJvdyBBcnJheS5pc0FycmF5KGUpP2VbMF06ZX19YXN5bmMgc2V0SW1hZ2VNb2RlcmF0aW9uKGUsdCl7aWYoX08oZSxcImVuYWJsZWRcIiksZSl7aWYoIXQpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLFwiY29uZmlnIGlzIHJlcXVpcmVkXCIpO2lmKERXKHQpLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IGNyZWF0ZSBpbWFnZSBtb2RlcmF0aW9uLCBwbGVhc2Ugam9pbiBjaGFubmVsIGZpcnN0XCIpO3RyeXtpZih0aGlzLl9tb2RlcmF0aW9uKXRoaXMuX21vZGVyYXRpb24udXBkYXRlQ29uZmlnKHQpO2Vsc2V7Y29uc3QgZT0oaT17Y29uZmlnOnR9LG9CKFwiSW1hZ2VNb2RlcmF0aW9uXCIpLmNyZWF0ZShpKSk7dGhpcy5fbW9kZXJhdGlvbj1lLHRoaXMuaGFuZGxlSW1hZ2VNb2RlcmF0aW9uRXZlbnRzKGUpO2NvbnN0e2FwcElkOm4sY25hbWU6cixzaWQ6byx0b2tlbjpzLHVpZDphLGNpZDpjLHZpZDpkfT10aGlzLl9qb2luSW5mbzthd2FpdCBlLmluaXQoe2FwcElkOm4sYXJlYUNvZGU6XCJcIixjbmFtZTpyLHNpZDpvLHRva2VuOnMsdWlkOmEsY2lkOmMsdmlkOmQ/TnVtYmVyKGQpOjB9LGtOKX19Y2F0Y2goZSl7dGhyb3cgQXJyYXkuaXNBcnJheShlKT9lWzBdOmV9fWVsc2V7dmFyIGk7aWYoIXRoaXMuX21vZGVyYXRpb24pdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gaW1hZ2UgbW9kZXJhdGlvbiBub3Qgc3RhcnRlZFwiKSk7dHJ5e3RoaXMuX21vZGVyYXRpb24uY2xvc2UoKSx0aGlzLl9tb2RlcmF0aW9uLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX21vZGVyYXRpb249dm9pZCAwfWNhdGNoKGUpe3Rocm93IEFycmF5LmlzQXJyYXkoZSk/ZVswXTplfX19aGFuZGxlSW1hZ2VNb2RlcmF0aW9uRXZlbnRzKGUpe2Uub24oRHguQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsKCh0LGkpPT57aWYodGhpcy5zYWZlRW1pdChHTy5JTUFHRV9NT0RFUkFUSU9OX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLHQsaSksdD09PU54LkNPTk5FQ1RFRCl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IHRoaXMuc2V0SW1hZ2VNb2RlcmF0aW9uKCExKSxuZXcgdVAoaE8uT1BFUkFUSU9OX0FCT1JURUQsXCJJbWFnZSBtb2RlcmF0aW9uIHdhcyBjYW5jZWxsZWQgYmVjYXVzZSBpdCBsZWZ0IHRoZSBjaGFubmVsXCIpO2UuaW5zcGVjdEltYWdlKCl9fSkpLGUub24oRHguQ0xJRU5UX0xPQ0FMX1ZJREVPX1RSQUNLLChlPT57ZSh0aGlzLmxvY2FsVHJhY2tzLmZpbHRlcigoZT0+XCJ2aWRlb1wiPT09ZS50cmFja01lZGlhVHlwZSkpWzBdKX0pKX1zZXRQMlBUcmFuc3BvcnQoZSl7aWYoZnVuY3Rpb24oZSl7RU8oZSxcInRyYW5zcG9ydFwiLFtcImRlZmF1bHRcIixcImF1dG9cIixcInJlbGF5XCIsXCJzZC1ydG5cIl0pfShlKSxcInAycFwiIT09dGhpcy5tb2RlKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIm9ubHkgcDJwIG1vZGUgY2FuIHNldCBwMnBUcmFuc3BvcnRcIik7dGhpcy5zdG9yZS5wMnBUcmFuc3BvcnQ9ZSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGNsaWVudCBwMnBUcmFuc3BvcnQgdG8gXCIpLmNvbmNhdChlKSl9Z2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcygpe3JldHVybiBpUC5kZWJ1ZyhcImdldEpvaW5DaGFubmVsU2VydmljZVJlY29yZHNcIiksdGhpcy5zdG9yZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzfWFzeW5jIHNldFB1Ymxpc2hBdWRpb0ZpbHRlckVuYWJsZWQoZSl7X08oZSxcImVuYWJsZWRcIiksUkQoXCJFTkFCTEVfUFVCTElTSF9BVURJT19GSUxURVJcIixlKSx0aGlzLl9qb2luSW5mbyYmYXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXRQdWJsaXNoQXVkaW9GaWx0ZXJFbmFibGVkKGUpfV9zZXRSdGVJbmZvKGUsdCl7dGhpcy5zdG9yZS5ydGVVcmw9ZSx0aGlzLnN0b3JlLnJ0ZVNpZD10fV9pc1ByZVJlbmRlcigpe3JldHVyblwiaXNQcmVSZW5kZXJcImluIHRoaXMuX3AycENoYW5uZWwmJnRoaXMuX3AycENoYW5uZWwuaXNQcmVSZW5kZXIoKX1faGFuZGxlUmVzZXRBZGRTdHJlYW0oZSx0KXtzd2l0Y2godCl7Y2FzZVwiYXVkaW9cIjplLl9hdWRpb19hZGRlZF89ITEsZS5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMDticmVhaztjYXNlXCJ2aWRlb1wiOmUuX3ZpZGVvX2FkZGVkXz0hMSxlLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwfX19LERWKFJILnByb3RvdHlwZSxcImxlYXZlXCIsW0xXXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcImxlYXZlXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwicHVibGlzaFwiLFtrV10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJwdWJsaXNoXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwidW5wdWJsaXNoXCIsW01XXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInVucHVibGlzaFwiKSxSSC5wcm90b3R5cGUpLERWKFJILnByb3RvdHlwZSxcInN1YnNjcmliZVwiLFtVV10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJzdWJzY3JpYmVcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJwcmVzdWJzY3JpYmVcIixbVlddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwicHJlc3Vic2NyaWJlXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwibWFzc1N1YnNjcmliZVwiLFt4V10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJtYXNzU3Vic2NyaWJlXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwidW5zdWJzY3JpYmVcIixbRlddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwidW5zdWJzY3JpYmVcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJtYXNzVW5zdWJzY3JpYmVcIixbQlddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwibWFzc1Vuc3Vic2NyaWJlXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwic2V0TG93U3RyZWFtUGFyYW1ldGVyXCIsW2pXXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInNldExvd1N0cmVhbVBhcmFtZXRlclwiKSxSSC5wcm90b3R5cGUpLERWKFJILnByb3RvdHlwZSxcInNldER1YWxTdHJlYW1Nb2RlXCIsW0dXXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInNldER1YWxTdHJlYW1Nb2RlXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwiZW5hYmxlRHVhbFN0cmVhbVwiLFtXV10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJlbmFibGVEdWFsU3RyZWFtXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwiZGlzYWJsZUR1YWxTdHJlYW1cIixbSFddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwiZGlzYWJsZUR1YWxTdHJlYW1cIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzZXRDbGllbnRSb2xlXCIsW0tXXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInNldENsaWVudFJvbGVcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJfc2V0Q2xpZW50Um9sZU9wdGlvbnNcIixbWVddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwiX3NldENsaWVudFJvbGVPcHRpb25zXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwic2V0UHJveHlTZXJ2ZXJcIixbelddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwic2V0UHJveHlTZXJ2ZXJcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzZXRUdXJuU2VydmVyXCIsW3FXXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInNldFR1cm5TZXJ2ZXJcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzZXRMaWNlbnNlXCIsW1hXXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInNldExpY2Vuc2VcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzdGFydFByb3h5U2VydmVyXCIsW0pXXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInN0YXJ0UHJveHlTZXJ2ZXJcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzdG9wUHJveHlTZXJ2ZXJcIixbUVddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwic3RvcFByb3h5U2VydmVyXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwic2V0TG9jYWxBY2Nlc3NQb2ludHNWMlwiLFtaV10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJzZXRMb2NhbEFjY2Vzc1BvaW50c1YyXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwic2V0TG9jYWxBY2Nlc3NQb2ludHNcIixbJFddLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwic2V0TG9jYWxBY2Nlc3NQb2ludHNcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlXCIsW2VIXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInNldFJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGVcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGVcIixbdEhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwic2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwic2V0U3RyZWFtRmFsbGJhY2tPcHRpb25cIixbaUhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwic2V0U3RyZWFtRmFsbGJhY2tPcHRpb25cIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzZXRFbmNyeXB0aW9uQ29uZmlnXCIsW25IXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInNldEVuY3J5cHRpb25Db25maWdcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJyZW5ld1Rva2VuXCIsW3JIXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInJlbmV3VG9rZW5cIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJlbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvclwiLFtvSF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJlbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvclwiKSxSSC5wcm90b3R5cGUpLERWKFJILnByb3RvdHlwZSxcInN0YXJ0TGl2ZVN0cmVhbWluZ1wiLFtzSF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJzdGFydExpdmVTdHJlYW1pbmdcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzZXRMaXZlVHJhbnNjb2RpbmdcIixbYUhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwic2V0TGl2ZVRyYW5zY29kaW5nXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwic3RvcExpdmVTdHJlYW1pbmdcIixbY0hdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwic3RvcExpdmVTdHJlYW1pbmdcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzdGFydENoYW5uZWxNZWRpYVJlbGF5XCIsW2RIXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXlcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJ1cGRhdGVDaGFubmVsTWVkaWFSZWxheVwiLFtsSF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJ1cGRhdGVDaGFubmVsTWVkaWFSZWxheVwiKSxSSC5wcm90b3R5cGUpLERWKFJILnByb3RvdHlwZSxcInN0b3BDaGFubmVsTWVkaWFSZWxheVwiLFt1SF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJzdG9wQ2hhbm5lbE1lZGlhUmVsYXlcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZVwiLFtoSF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJzZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZVwiKSxSSC5wcm90b3R5cGUpLERWKFJILnByb3RvdHlwZSxcInBpY2tTVkNMYXllclwiLFtwSF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJwaWNrU1ZDTGF5ZXJcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzZXRSVE1Db25maWdcIixbX0hdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwic2V0UlRNQ29uZmlnXCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwiZW5hYmxlQ29udGVudEluc3BlY3RcIixbRUhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwiZW5hYmxlQ29udGVudEluc3BlY3RcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJkaXNhYmxlQ29udGVudEluc3BlY3RcIixbbUhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUkgucHJvdG90eXBlLFwiZGlzYWJsZUNvbnRlbnRJbnNwZWN0XCIpLFJILnByb3RvdHlwZSksRFYoUkgucHJvdG90eXBlLFwic2V0SW1hZ2VNb2RlcmF0aW9uXCIsW2ZIXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInNldEltYWdlTW9kZXJhdGlvblwiKSxSSC5wcm90b3R5cGUpLERWKFJILnByb3RvdHlwZSxcInNldFAyUFRyYW5zcG9ydFwiLFtTSF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSSC5wcm90b3R5cGUsXCJzZXRQMlBUcmFuc3BvcnRcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJnZXRKb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzXCIsW2dIXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcImdldEpvaW5DaGFubmVsU2VydmljZVJlY29yZHNcIiksUkgucHJvdG90eXBlKSxEVihSSC5wcm90b3R5cGUsXCJzZXRQdWJsaXNoQXVkaW9GaWx0ZXJFbmFibGVkXCIsW1RIXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFJILnByb3RvdHlwZSxcInNldFB1Ymxpc2hBdWRpb0ZpbHRlckVuYWJsZWRcIiksUkgucHJvdG90eXBlKSxSSCk7ZnVuY3Rpb24gSUgoKXt2YXIgZTtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NvZGVjOlwidnA4XCIsYXVkaW9Db2RlYzpcIm9wdXNcIixtb2RlOlwicnRjXCJ9O2NvbnN0IGk9U04oNSxcImNsaWVudC1cIiksbj1sUC5yZXBvcnRBcGlJbnZva2UobnVsbCx7aWQ6aSxuYW1lOkxPLkNSRUFURV9DTElFTlQsb3B0aW9uczpbdF0sdGFnOmtPLlRSQUNFUn0pO3RyeXshZnVuY3Rpb24oZSl7RU8oZS5jb2RlYyxcImNvbmZpZy5jb2RlY1wiLFtcInZwOFwiLFwidnA5XCIsXCJhdjFcIixcImgyNjRcIixcImgyNjVcIl0pLEVPKGUubW9kZSxcImNvbmZpZy5tb2RlXCIsW1wicnRjXCIsXCJsaXZlXCIsXCJwMnBcIl0pLHZvaWQgMCE9PWUuYXVkaW9Db2RlYyYmRU8oZS5hdWRpb0NvZGVjLFwiY29uZmlnLmF1ZGlvQ29kZWNcIixbXCJvcHVzXCIsXCJwY211XCIsXCJwY21hXCIsXCJnNzIyXCJdKSx2b2lkIDAhPT1lLnByb3h5U2VydmVyJiZTTyhlLnByb3h5U2VydmVyLFwiY29uZmlnLnByb3h5U2VydmVyXCIsMSwxZTQpLHZvaWQgMCE9PWUudHVyblNlcnZlciYmRk8oZS50dXJuU2VydmVyKSx2b2lkIDAhPT1lLmh0dHBSZXRyeUNvbmZpZyYmTU8oZS5odHRwUmV0cnlDb25maWcpLHZvaWQgMCE9PWUud2Vic29ja2V0UmV0cnlDb25maWcmJk1PKGUud2Vic29ja2V0UmV0cnlDb25maWcpfSh0KX1jYXRjaChlKXt0aHJvdyBuLm9uRXJyb3IoZSksZX1yZXR1cm4oWHcoMTYsMCwhMCl8fEp3KDE2LDAsITApKSYmKFwidnA5XCI9PT10LmNvZGVjJiYodC5jb2RlYz1cInZwOFwiLGlQLmRlYnVnKFwiYnJvd3NlciBub3Qgc3VwcG9ydCB2cDksIGZvcmNlIHVzZSB2cDhcIikpLFJEKFwiVU5TVVBQT1JURURfVklERU9fQ09ERUNcIixbXCJ2cDlcIl0pKSx2b2lkIDA9PT10LmF1ZGlvQ29kZWMmJih0LmF1ZGlvQ29kZWM9XCJvcHVzXCIpLG4ub25TdWNjZXNzKCksbmV3IHlIKHZIKHZIKHtmb3JjZVdhaXRHYXRld2F5UmVzcG9uc2U6ITB9LHQpLHt9LHtyb2xlOkxuKGU9W1wicnRjXCIsXCJwMnBcIl0pLmNhbGwoZSx0Lm1vZGUpP1wiaG9zdFwiOnQucm9sZXx8XCJhdWRpZW5jZVwifSksaSl9ZnVuY3Rpb24gQUgoKXtsZXQgZT0hMTtjb25zdCB0PUR3KCk7cmV0dXJuKHQubmFtZT09PWJ3LkNIUk9NRSYmTnVtYmVyKHQudmVyc2lvbik+PTU4JiYoXCJXZWJLaXRcIiE9PU93LmVuZ2luZS5uYW1lfHxmdW5jdGlvbigpe2NvbnN0IGU9RHcoKTtpZihNdygpKXtpZihlLm9zPT09QXcuTUFDX09TKXJldHVybiEwO2lmKGUub3M9PT1Bdy5JT1Mpe2NvbnN0IGU9T3cub3MudmVyc2lvbiYmT3cub3MudmVyc2lvbi5zcGxpdChcIi5cIik7aWYoZSYmMTQ9PT1OdW1iZXIoZVswXSkmJmVbMV0mJk51bWJlcihlWzFdKT49MylyZXR1cm4hMDtpZihlJiZOdW1iZXIoZVswXSk+MTQpcmV0dXJuITB9fXJldHVybiExfSgpKXx8dC5uYW1lPT09YncuRklSRUZPWCYmTnVtYmVyKHQudmVyc2lvbik+PTU2fHx0Lm5hbWU9PT1idy5PUEVSQSYmTnVtYmVyKHQudmVyc2lvbik+PTQ1fHx0Lm5hbWU9PT1idy5TQUZBUkkmJk51bWJlcih0LnZlcnNpb24pPj0xMXx8XCJXZWJLaXRcIj09PXQubmFtZSYmKGp3KCl8fGlPKCkpJiZ0Lm9zVmVyc2lvbiYmTnVtYmVyKHQub3NWZXJzaW9uLnNwbGl0KFwiLlwiKVswXSk+PTExfHxuTygpfHxEdygpLm5hbWU9PT1idy5RUSkmJihlPSEwKSxlfWNsYXNzIGJIe2NvbnN0cnVjdG9yKGUsdCl7aUEodGhpcyxcImlkXCIsMCksaUEodGhpcyxcImVsZW1lbnRcIix2b2lkIDApLGlBKHRoaXMsXCJwZWVyUGFpclwiLHZvaWQgMCksaUEodGhpcyxcImNvbnRleHRcIix2b2lkIDApLGlBKHRoaXMsXCJhdWRpb1BsYXllckVsZW1lbnRcIix2b2lkIDApLGlBKHRoaXMsXCJhdWRpb1RyYWNrXCIsdm9pZCAwKSxiSC5jb3VudCs9MSx0aGlzLmlkPWJILmNvdW50LHRoaXMuZWxlbWVudD1lLHRoaXMuY29udGV4dD10fWluaXRQZWVycygpe3RoaXMucGVlclBhaXI9W25ldyBSVENQZWVyQ29ubmVjdGlvbixuZXcgUlRDUGVlckNvbm5lY3Rpb25dLHRoaXMucGVlclBhaXJbMV0ub250cmFjaz1lPT57Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7dC5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtlLnRyYWNrXSksdC5wbGF5KCksdGhpcy5hdWRpb1BsYXllckVsZW1lbnQ9dH19YXN5bmMgc3dpdGNoU2RwKCl7aWYoIXRoaXMucGVlclBhaXIpcmV0dXJuO2NvbnN0IGU9YXN5bmMoZSx0KT0+e2NvbnN0IGk9XCJvZmZlclwiPT09dD9hd2FpdCBlLmNyZWF0ZU9mZmVyKCk6YXdhaXQgZS5jcmVhdGVBbnN3ZXIoKTtyZXR1cm4gYXdhaXQgZS5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLFwiY29tcGxldGVcIj09PWUuaWNlR2F0aGVyaW5nU3RhdGU/ZS5sb2NhbERlc2NyaXB0aW9uOm5ldyBycCgodD0+e2Uub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZT0oKT0+e1wiY29tcGxldGVcIj09PWUuaWNlR2F0aGVyaW5nU3RhdGUmJnQoZS5sb2NhbERlc2NyaXB0aW9uKX19KSl9LHQ9YXN5bmMoZSx0KT0+YXdhaXQgZS5zZXRSZW1vdGVEZXNjcmlwdGlvbih0KTt0cnl7Y29uc3QgaT1hd2FpdCBlKHRoaXMucGVlclBhaXJbMF0sXCJvZmZlclwiKTthd2FpdCB0KHRoaXMucGVlclBhaXJbMV0saSk7Y29uc3Qgbj1hd2FpdCBlKHRoaXMucGVlclBhaXJbMV0sXCJhbnN3ZXJcIik7YXdhaXQgdCh0aGlzLnBlZXJQYWlyWzBdLG4pfWNhdGNoKGUpe3Rocm93IG5ldyB1UChoTy5MT0NBTF9BRUNfRVJST1IsZS50b1N0cmluZygpKS5wcmludCgpfX1hc3luYyBnZXRUcmFja3NGcm9tTWVkaWFFbGVtZW50KGUpe2lmKHRoaXMuYXVkaW9UcmFjaylyZXR1cm4gdGhpcy5hdWRpb1RyYWNrO2xldCB0O3RyeXtlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCYmKGUuY2FwdHVyZVN0cmVhbT9lLmNhcHR1cmVTdHJlYW0oKTplLm1vekNhcHR1cmVTdHJlYW0oKSksdD10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpO3RoaXMuY29udGV4dC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoZSkuY29ubmVjdCh0KX1jYXRjaChlKXt0aHJvdyBuZXcgdVAoaE8uTE9DQUxfQUVDX0VSUk9SLGUudG9TdHJpbmcoKSkucHJpbnQoKX1pZighdCl7dGhyb3cgbmV3IHVQKGhPLkxPQ0FMX0FFQ19FUlJPUixcIm5vIGRlc3Qgbm9kZSB3aGVuIGxvY2FsIGFlY1wiKS5wcmludCgpfWNvbnN0IGk9dC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTtyZXR1cm4gdGhpcy5hdWRpb1RyYWNrPWksaX1nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuZWxlbWVudH1hc3luYyBzdGFydEVjaG9DYW5jZWxsYXRpb24oKXt0aGlzLmNvbnRleHQucmVzdW1lKCksdGhpcy5wZWVyUGFpciYmdGhpcy5jbG9zZSgpLHRoaXMuaW5pdFBlZXJzKCk7Y29uc3QgZT10aGlzLmVsZW1lbnQsdD1hd2FpdCB0aGlzLmdldFRyYWNrc0Zyb21NZWRpYUVsZW1lbnQoZSk7dGhpcy5wZWVyUGFpciYmdGhpcy5wZWVyUGFpclswXS5hZGRUcmFjayh0KSxhd2FpdCB0aGlzLnN3aXRjaFNkcCgpfWNsb3NlKCl7aVAuZGVidWcoXCJjbG9zZSBlY2hvIGNhbmNlbGxhdGlvbiB1bml0LCBpZCBpc1wiLHRoaXMuaWQpLHRoaXMuYXVkaW9QbGF5ZXJFbGVtZW50JiZ0aGlzLmF1ZGlvUGxheWVyRWxlbWVudC5wYXVzZSgpLHRoaXMucGVlclBhaXImJnRoaXMucGVlclBhaXIuZm9yRWFjaCgoZT0+e2UuY2xvc2UoKX0pKSx0aGlzLnBlZXJQYWlyPXZvaWQgMCx0aGlzLmF1ZGlvUGxheWVyRWxlbWVudD12b2lkIDB9fXZhciB3SCxPSDtpQShiSCxcImNvdW50XCIsMCk7Y29uc3QgTkg9d2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtjb25zdCBESD1uZXcod0g9ZFAoe3JlcG9ydDpsUH0pLERWKChPSD1jbGFzc3tjb25zdHJ1Y3Rvcigpe2lBKHRoaXMsXCJ1bml0c1wiLFtdKSxpQSh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCl9cHJvY2Vzc0V4dGVybmFsTWVkaWFBRUMoZSl7aWYoIXRoaXMuX2RvZXNFbnZpcm9ubWVudE5lZWRBRUMoKSlyZXR1cm4gaVAuZGVidWcoXCJ0aGUgc3lzdGVtIGRvZXMgbm90IG5lZWQgdG8gcHJvY2VzcyBsb2NhbCBhZWNcIiksLTE7dGhpcy5jb250ZXh0fHwodGhpcy5jb250ZXh0PW5ldyBOSCk7bGV0IHQ9dGhpcy51bml0cy5maW5kKCh0PT50JiZ0LmdldEVsZW1lbnQoKT09PWUpKTtyZXR1cm4gdHx8KHQ9bmV3IGJIKGUsdGhpcy5jb250ZXh0KSx0aGlzLnVuaXRzLnB1c2godCkpLHQuc3RhcnRFY2hvQ2FuY2VsbGF0aW9uKCksaVAuZGVidWcoXCJzdGFydCBwcm9jZXNzaW5nIGxvY2FsIGF1ZGlvIGVjaG8gY2FuY2VsbGF0aW9uLCBpZCBpc1wiLHQuaWQpLHQuaWR9X2RvZXNFbnZpcm9ubWVudE5lZWRBRUMoKXtyZXR1cm4gRHcoKS5uYW1lIT09YncuU0FGQVJJfX0pLnByb3RvdHlwZSxcInByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDXCIsW3dIXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9ILnByb3RvdHlwZSxcInByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDXCIpLE9ILnByb3RvdHlwZSksT0gpO2Z1bmN0aW9uIFBIKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBMSChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9QSChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpQSChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jb25zdCBrSD13aW5kb3d8fGRvY3VtZW50O2Z1bmN0aW9uIE1IKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07aWYoIWtIKXJldHVybjtjb25zdCBpPVJKLl9jc3BFdmVudEhhbmRsZXJQb2ludGVyO2lmKGkmJnQpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihpLHQpO2NvbnN0IG49ZT0+e2lmKCEoZSYmZS5ibG9ja2VkVVJJJiYoUkoub25TZWN1cml0eVBvbGljeVZpb2xhdGlvbnx8UkouZ2V0TGlzdGVuZXJzKE94LlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT04pLmxlbmd0aD4wKSkpcmV0dXJuO2NvbnN0IHQ9ZS5ibG9ja2VkVVJJO0NEKFwiQ1NQX0RFVEVDVEVEX0hPU1ROQU1FX0xJU1RcIikuc29tZSgoZT0+TG4odCkuY2FsbCh0LGUpKSkmJihSSi5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSSi5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uJiZSSi5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uKGUpLFJKLmdldExpc3RlbmVycyhPeC5TRUNVUklUWV9QT0xJQ1lfVklPTEFUSU9OKS5sZW5ndGg+MCYmUkouc2FmZUVtaXQoT3guU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTixlKSl9O2kmJmtILnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWN1cml0eXBvbGljeXZpb2xhdGlvblwiLGkpLCh0fHxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxSSi5nZXRMaXN0ZW5lcnMoT3guU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTikubGVuZ3RoPjApJiZrSC5hZGRFdmVudExpc3RlbmVyKFwic2VjdXJpdHlwb2xpY3l2aW9sYXRpb25cIixuKSxSSi5fY3NwRXZlbnRIYW5kbGVyUG9pbnRlcj1ufXZhciBVSD1sLFZIPXJULHhIPVJlZ0V4cC5wcm90b3R5cGUsRkg9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT14SHx8VUgoeEgsZSk/VkgoZSk6ZS5mbGFnc30sQkg9aShGSCk7ZnVuY3Rpb24gakgoZSl7bGV0IHQ9ZS5sZW5ndGg7Zm9yKDstLXQ+PTA7KWVbdF09MH1jb25zdCBHSD0yNTYsV0g9Mjg2LEhIPTMwLEtIPTE1LFlIPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDBdKSx6SD1uZXcgVWludDhBcnJheShbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10pLHFIPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSksWEg9bmV3IFVpbnQ4QXJyYXkoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxKSD1uZXcgQXJyYXkoNTc2KTtqSChKSCk7Y29uc3QgUUg9bmV3IEFycmF5KDYwKTtqSChRSCk7Y29uc3QgWkg9bmV3IEFycmF5KDUxMik7akgoWkgpO2NvbnN0ICRIPW5ldyBBcnJheSgyNTYpO2pIKCRIKTtjb25zdCBlSz1uZXcgQXJyYXkoMjkpO2pIKGVLKTtjb25zdCB0Sz1uZXcgQXJyYXkoSEgpO2Z1bmN0aW9uIGlLKGUsdCxpLG4scil7dGhpcy5zdGF0aWNfdHJlZT1lLHRoaXMuZXh0cmFfYml0cz10LHRoaXMuZXh0cmFfYmFzZT1pLHRoaXMuZWxlbXM9bix0aGlzLm1heF9sZW5ndGg9cix0aGlzLmhhc19zdHJlZT1lJiZlLmxlbmd0aH1sZXQgbkssckssb0s7ZnVuY3Rpb24gc0soZSx0KXt0aGlzLmR5bl90cmVlPWUsdGhpcy5tYXhfY29kZT0wLHRoaXMuc3RhdF9kZXNjPXR9akgodEspO2NvbnN0IGFLPWU9PmU8MjU2P1pIW2VdOlpIWzI1NisoZT4+PjcpXSxjSz0oZSx0KT0+e2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZ0LGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXQ+Pj44JjI1NX0sZEs9KGUsdCxpKT0+e2UuYmlfdmFsaWQ+MTYtaT8oZS5iaV9idWZ8PXQ8PGUuYmlfdmFsaWQmNjU1MzUsY0soZSxlLmJpX2J1ZiksZS5iaV9idWY9dD4+MTYtZS5iaV92YWxpZCxlLmJpX3ZhbGlkKz1pLTE2KTooZS5iaV9idWZ8PXQ8PGUuYmlfdmFsaWQmNjU1MzUsZS5iaV92YWxpZCs9aSl9LGxLPShlLHQsaSk9PntkSyhlLGlbMip0XSxpWzIqdCsxXSl9LHVLPShlLHQpPT57bGV0IGk9MDtkb3tpfD0xJmUsZT4+Pj0xLGk8PD0xfXdoaWxlKC0tdD4wKTtyZXR1cm4gaT4+PjF9LGhLPShlLHQsaSk9Pntjb25zdCBuPW5ldyBBcnJheSgxNik7bGV0IHIsbyxzPTA7Zm9yKHI9MTtyPD1LSDtyKyspcz1zK2lbci0xXTw8MSxuW3JdPXM7Zm9yKG89MDtvPD10O28rKyl7bGV0IHQ9ZVsyKm8rMV07MCE9PXQmJihlWzIqb109dUsoblt0XSsrLHQpKX19LHBLPWU9PntsZXQgdDtmb3IodD0wO3Q8V0g7dCsrKWUuZHluX2x0cmVlWzIqdF09MDtmb3IodD0wO3Q8SEg7dCsrKWUuZHluX2R0cmVlWzIqdF09MDtmb3IodD0wO3Q8MTk7dCsrKWUuYmxfdHJlZVsyKnRdPTA7ZS5keW5fbHRyZWVbNTEyXT0xLGUub3B0X2xlbj1lLnN0YXRpY19sZW49MCxlLnN5bV9uZXh0PWUubWF0Y2hlcz0wfSxfSz1lPT57ZS5iaV92YWxpZD44P2NLKGUsZS5iaV9idWYpOmUuYmlfdmFsaWQ+MCYmKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPWUuYmlfYnVmKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MH0sRUs9KGUsdCxpLG4pPT57Y29uc3Qgcj0yKnQsbz0yKmk7cmV0dXJuIGVbcl08ZVtvXXx8ZVtyXT09PWVbb10mJm5bdF08PW5baV19LG1LPShlLHQsaSk9Pntjb25zdCBuPWUuaGVhcFtpXTtsZXQgcj1pPDwxO2Zvcig7cjw9ZS5oZWFwX2xlbiYmKHI8ZS5oZWFwX2xlbiYmRUsodCxlLmhlYXBbcisxXSxlLmhlYXBbcl0sZS5kZXB0aCkmJnIrKywhRUsodCxuLGUuaGVhcFtyXSxlLmRlcHRoKSk7KWUuaGVhcFtpXT1lLmhlYXBbcl0saT1yLHI8PD0xO2UuaGVhcFtpXT1ufSxmSz0oZSx0LGkpPT57bGV0IG4scixvLHMsYT0wO2lmKDAhPT1lLnN5bV9uZXh0KWRve249MjU1JmUucGVuZGluZ19idWZbZS5zeW1fYnVmK2ErK10sbis9KDI1NSZlLnBlbmRpbmdfYnVmW2Uuc3ltX2J1ZithKytdKTw8OCxyPWUucGVuZGluZ19idWZbZS5zeW1fYnVmK2ErK10sMD09PW4/bEsoZSxyLHQpOihvPSRIW3JdLGxLKGUsbytHSCsxLHQpLHM9WUhbb10sMCE9PXMmJihyLT1lS1tvXSxkSyhlLHIscykpLG4tLSxvPWFLKG4pLGxLKGUsbyxpKSxzPXpIW29dLDAhPT1zJiYobi09dEtbb10sZEsoZSxuLHMpKSl9d2hpbGUoYTxlLnN5bV9uZXh0KTtsSyhlLDI1Nix0KX0sU0s9KGUsdCk9Pntjb25zdCBpPXQuZHluX3RyZWUsbj10LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxyPXQuc3RhdF9kZXNjLmhhc19zdHJlZSxvPXQuc3RhdF9kZXNjLmVsZW1zO2xldCBzLGEsYyxkPS0xO2ZvcihlLmhlYXBfbGVuPTAsZS5oZWFwX21heD01NzMscz0wO3M8bztzKyspMCE9PWlbMipzXT8oZS5oZWFwWysrZS5oZWFwX2xlbl09ZD1zLGUuZGVwdGhbc109MCk6aVsyKnMrMV09MDtmb3IoO2UuaGVhcF9sZW48MjspYz1lLmhlYXBbKytlLmhlYXBfbGVuXT1kPDI/KytkOjAsaVsyKmNdPTEsZS5kZXB0aFtjXT0wLGUub3B0X2xlbi0tLHImJihlLnN0YXRpY19sZW4tPW5bMipjKzFdKTtmb3IodC5tYXhfY29kZT1kLHM9ZS5oZWFwX2xlbj4+MTtzPj0xO3MtLSltSyhlLGkscyk7Yz1vO2Rve3M9ZS5oZWFwWzFdLGUuaGVhcFsxXT1lLmhlYXBbZS5oZWFwX2xlbi0tXSxtSyhlLGksMSksYT1lLmhlYXBbMV0sZS5oZWFwWy0tZS5oZWFwX21heF09cyxlLmhlYXBbLS1lLmhlYXBfbWF4XT1hLGlbMipjXT1pWzIqc10raVsyKmFdLGUuZGVwdGhbY109KGUuZGVwdGhbc10+PWUuZGVwdGhbYV0/ZS5kZXB0aFtzXTplLmRlcHRoW2FdKSsxLGlbMipzKzFdPWlbMiphKzFdPWMsZS5oZWFwWzFdPWMrKyxtSyhlLGksMSl9d2hpbGUoZS5oZWFwX2xlbj49Mik7ZS5oZWFwWy0tZS5oZWFwX21heF09ZS5oZWFwWzFdLCgoZSx0KT0+e2NvbnN0IGk9dC5keW5fdHJlZSxuPXQubWF4X2NvZGUscj10LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxvPXQuc3RhdF9kZXNjLmhhc19zdHJlZSxzPXQuc3RhdF9kZXNjLmV4dHJhX2JpdHMsYT10LnN0YXRfZGVzYy5leHRyYV9iYXNlLGM9dC5zdGF0X2Rlc2MubWF4X2xlbmd0aDtsZXQgZCxsLHUsaCxwLF8sRT0wO2ZvcihoPTA7aDw9S0g7aCsrKWUuYmxfY291bnRbaF09MDtmb3IoaVsyKmUuaGVhcFtlLmhlYXBfbWF4XSsxXT0wLGQ9ZS5oZWFwX21heCsxO2Q8NTczO2QrKylsPWUuaGVhcFtkXSxoPWlbMippWzIqbCsxXSsxXSsxLGg+YyYmKGg9YyxFKyspLGlbMipsKzFdPWgsbD5ufHwoZS5ibF9jb3VudFtoXSsrLHA9MCxsPj1hJiYocD1zW2wtYV0pLF89aVsyKmxdLGUub3B0X2xlbis9XyooaCtwKSxvJiYoZS5zdGF0aWNfbGVuKz1fKihyWzIqbCsxXStwKSkpO2lmKDAhPT1FKXtkb3tmb3IoaD1jLTE7MD09PWUuYmxfY291bnRbaF07KWgtLTtlLmJsX2NvdW50W2hdLS0sZS5ibF9jb3VudFtoKzFdKz0yLGUuYmxfY291bnRbY10tLSxFLT0yfXdoaWxlKEU+MCk7Zm9yKGg9YzswIT09aDtoLS0pZm9yKGw9ZS5ibF9jb3VudFtoXTswIT09bDspdT1lLmhlYXBbLS1kXSx1Pm58fChpWzIqdSsxXSE9PWgmJihlLm9wdF9sZW4rPShoLWlbMip1KzFdKSppWzIqdV0saVsyKnUrMV09aCksbC0tKX19KShlLHQpLGhLKGksZCxlLmJsX2NvdW50KX0sZ0s9KGUsdCxpKT0+e2xldCBuLHIsbz0tMSxzPXRbMV0sYT0wLGM9NyxkPTQ7Zm9yKDA9PT1zJiYoYz0xMzgsZD0zKSx0WzIqKGkrMSkrMV09NjU1MzUsbj0wO248PWk7bisrKXI9cyxzPXRbMioobisxKSsxXSwrK2E8YyYmcj09PXN8fChhPGQ/ZS5ibF90cmVlWzIqcl0rPWE6MCE9PXI/KHIhPT1vJiZlLmJsX3RyZWVbMipyXSsrLGUuYmxfdHJlZVszMl0rKyk6YTw9MTA/ZS5ibF90cmVlWzM0XSsrOmUuYmxfdHJlZVszNl0rKyxhPTAsbz1yLDA9PT1zPyhjPTEzOCxkPTMpOnI9PT1zPyhjPTYsZD0zKTooYz03LGQ9NCkpfSxUSz0oZSx0LGkpPT57bGV0IG4scixvPS0xLHM9dFsxXSxhPTAsYz03LGQ9NDtmb3IoMD09PXMmJihjPTEzOCxkPTMpLG49MDtuPD1pO24rKylpZihyPXMscz10WzIqKG4rMSkrMV0sISgrK2E8YyYmcj09PXMpKXtpZihhPGQpZG97bEsoZSxyLGUuYmxfdHJlZSl9d2hpbGUoMCE9LS1hKTtlbHNlIDAhPT1yPyhyIT09byYmKGxLKGUscixlLmJsX3RyZWUpLGEtLSksbEsoZSwxNixlLmJsX3RyZWUpLGRLKGUsYS0zLDIpKTphPD0xMD8obEsoZSwxNyxlLmJsX3RyZWUpLGRLKGUsYS0zLDMpKToobEsoZSwxOCxlLmJsX3RyZWUpLGRLKGUsYS0xMSw3KSk7YT0wLG89ciwwPT09cz8oYz0xMzgsZD0zKTpyPT09cz8oYz02LGQ9Myk6KGM9NyxkPTQpfX07bGV0IFJLPSExO2NvbnN0IENLPShlLHQsaSxuKT0+e2RLKGUsMCsobj8xOjApLDMpLF9LKGUpLGNLKGUsaSksY0soZSx+aSksaSYmZS5wZW5kaW5nX2J1Zi5zZXQoZS53aW5kb3cuc3ViYXJyYXkodCx0K2kpLGUucGVuZGluZyksZS5wZW5kaW5nKz1pfTt2YXIgdks9ZT0+e1JLfHwoKCgpPT57bGV0IGUsdCxpLG4scjtjb25zdCBvPW5ldyBBcnJheSgxNik7Zm9yKGk9MCxuPTA7bjwyODtuKyspZm9yKGVLW25dPWksZT0wO2U8MTw8WUhbbl07ZSsrKSRIW2krK109bjtmb3IoJEhbaS0xXT1uLHI9MCxuPTA7bjwxNjtuKyspZm9yKHRLW25dPXIsZT0wO2U8MTw8ekhbbl07ZSsrKVpIW3IrK109bjtmb3Iocj4+PTc7bjxISDtuKyspZm9yKHRLW25dPXI8PDcsZT0wO2U8MTw8ekhbbl0tNztlKyspWkhbMjU2K3IrK109bjtmb3IodD0wO3Q8PUtIO3QrKylvW3RdPTA7Zm9yKGU9MDtlPD0xNDM7KUpIWzIqZSsxXT04LGUrKyxvWzhdKys7Zm9yKDtlPD0yNTU7KUpIWzIqZSsxXT05LGUrKyxvWzldKys7Zm9yKDtlPD0yNzk7KUpIWzIqZSsxXT03LGUrKyxvWzddKys7Zm9yKDtlPD0yODc7KUpIWzIqZSsxXT04LGUrKyxvWzhdKys7Zm9yKGhLKEpILDI4NyxvKSxlPTA7ZTxISDtlKyspUUhbMiplKzFdPTUsUUhbMiplXT11SyhlLDUpO25LPW5ldyBpSyhKSCxZSCwyNTcsV0gsS0gpLHJLPW5ldyBpSyhRSCx6SCwwLEhILEtIKSxvSz1uZXcgaUsobmV3IEFycmF5KDApLHFILDAsMTksNyl9KSgpLFJLPSEwKSxlLmxfZGVzYz1uZXcgc0soZS5keW5fbHRyZWUsbkspLGUuZF9kZXNjPW5ldyBzSyhlLmR5bl9kdHJlZSxySyksZS5ibF9kZXNjPW5ldyBzSyhlLmJsX3RyZWUsb0spLGUuYmlfYnVmPTAsZS5iaV92YWxpZD0wLHBLKGUpfSx5Sz0oZSx0LGksbik9PntsZXQgcixvLHM9MDtlLmxldmVsPjA/KDI9PT1lLnN0cm0uZGF0YV90eXBlJiYoZS5zdHJtLmRhdGFfdHlwZT0oZT0+e2xldCB0LGk9NDA5MzYyNDQ0Nztmb3IodD0wO3Q8PTMxO3QrKyxpPj4+PTEpaWYoMSZpJiYwIT09ZS5keW5fbHRyZWVbMip0XSlyZXR1cm4gMDtpZigwIT09ZS5keW5fbHRyZWVbMThdfHwwIT09ZS5keW5fbHRyZWVbMjBdfHwwIT09ZS5keW5fbHRyZWVbMjZdKXJldHVybiAxO2Zvcih0PTMyO3Q8R0g7dCsrKWlmKDAhPT1lLmR5bl9sdHJlZVsyKnRdKXJldHVybiAxO3JldHVybiAwfSkoZSkpLFNLKGUsZS5sX2Rlc2MpLFNLKGUsZS5kX2Rlc2MpLHM9KGU9PntsZXQgdDtmb3IoZ0soZSxlLmR5bl9sdHJlZSxlLmxfZGVzYy5tYXhfY29kZSksZ0soZSxlLmR5bl9kdHJlZSxlLmRfZGVzYy5tYXhfY29kZSksU0soZSxlLmJsX2Rlc2MpLHQ9MTg7dD49MyYmMD09PWUuYmxfdHJlZVsyKlhIW3RdKzFdO3QtLSk7cmV0dXJuIGUub3B0X2xlbis9MyoodCsxKSs1KzUrNCx0fSkoZSkscj1lLm9wdF9sZW4rMys3Pj4+MyxvPWUuc3RhdGljX2xlbiszKzc+Pj4zLG88PXImJihyPW8pKTpyPW89aSs1LGkrNDw9ciYmLTEhPT10P0NLKGUsdCxpLG4pOjQ9PT1lLnN0cmF0ZWd5fHxvPT09cj8oZEsoZSwyKyhuPzE6MCksMyksZksoZSxKSCxRSCkpOihkSyhlLDQrKG4/MTowKSwzKSwoKGUsdCxpLG4pPT57bGV0IHI7Zm9yKGRLKGUsdC0yNTcsNSksZEsoZSxpLTEsNSksZEsoZSxuLTQsNCkscj0wO3I8bjtyKyspZEsoZSxlLmJsX3RyZWVbMipYSFtyXSsxXSwzKTtUSyhlLGUuZHluX2x0cmVlLHQtMSksVEsoZSxlLmR5bl9kdHJlZSxpLTEpfSkoZSxlLmxfZGVzYy5tYXhfY29kZSsxLGUuZF9kZXNjLm1heF9jb2RlKzEscysxKSxmSyhlLGUuZHluX2x0cmVlLGUuZHluX2R0cmVlKSkscEsoZSksbiYmX0soZSl9LElLPShlLHQsaSk9PihlLnBlbmRpbmdfYnVmW2Uuc3ltX2J1ZitlLnN5bV9uZXh0KytdPXQsZS5wZW5kaW5nX2J1ZltlLnN5bV9idWYrZS5zeW1fbmV4dCsrXT10Pj44LGUucGVuZGluZ19idWZbZS5zeW1fYnVmK2Uuc3ltX25leHQrK109aSwwPT09dD9lLmR5bl9sdHJlZVsyKmldKys6KGUubWF0Y2hlcysrLHQtLSxlLmR5bl9sdHJlZVsyKigkSFtpXStHSCsxKV0rKyxlLmR5bl9kdHJlZVsyKmFLKHQpXSsrKSxlLnN5bV9uZXh0PT09ZS5zeW1fZW5kKSxBSz1lPT57ZEsoZSwyLDMpLGxLKGUsMjU2LEpIKSwoZT0+ezE2PT09ZS5iaV92YWxpZD8oY0soZSxlLmJpX2J1ZiksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTApOmUuYmlfdmFsaWQ+PTgmJihlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmZS5iaV9idWYsZS5iaV9idWY+Pj04LGUuYmlfdmFsaWQtPTgpfSkoZSl9LGJLPXtfdHJfaW5pdDp2SyxfdHJfc3RvcmVkX2Jsb2NrOkNLLF90cl9mbHVzaF9ibG9jazp5SyxfdHJfdGFsbHk6SUssX3RyX2FsaWduOkFLfTt2YXIgd0s9KGUsdCxpLG4pPT57bGV0IHI9NjU1MzUmZXwwLG89ZT4+PjE2JjY1NTM1fDAscz0wO2Zvcig7MCE9PWk7KXtzPWk+MmUzPzJlMzppLGktPXM7ZG97cj1yK3RbbisrXXwwLG89bytyfDB9d2hpbGUoLS1zKTtyJT02NTUyMSxvJT02NTUyMX1yZXR1cm4gcnxvPDwxNnwwfTtjb25zdCBPSz1uZXcgVWludDMyQXJyYXkoKCgpPT57bGV0IGUsdD1bXTtmb3IodmFyIGk9MDtpPDI1NjtpKyspe2U9aTtmb3IodmFyIG49MDtuPDg7bisrKWU9MSZlPzM5ODgyOTIzODReZT4+PjE6ZT4+PjE7dFtpXT1lfXJldHVybiB0fSkoKSk7dmFyIE5LPShlLHQsaSxuKT0+e2NvbnN0IHI9T0ssbz1uK2k7ZV49LTE7Zm9yKGxldCBpPW47aTxvO2krKyllPWU+Pj44XnJbMjU1JihlXnRbaV0pXTtyZXR1cm4tMV5lfSxESz17MjpcIm5lZWQgZGljdGlvbmFyeVwiLDE6XCJzdHJlYW0gZW5kXCIsMDpcIlwiLFwiLTFcIjpcImZpbGUgZXJyb3JcIixcIi0yXCI6XCJzdHJlYW0gZXJyb3JcIixcIi0zXCI6XCJkYXRhIGVycm9yXCIsXCItNFwiOlwiaW5zdWZmaWNpZW50IG1lbW9yeVwiLFwiLTVcIjpcImJ1ZmZlciBlcnJvclwiLFwiLTZcIjpcImluY29tcGF0aWJsZSB2ZXJzaW9uXCJ9LFBLPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfTUVNX0VSUk9SOi00LFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9O2NvbnN0e190cl9pbml0OkxLLF90cl9zdG9yZWRfYmxvY2s6a0ssX3RyX2ZsdXNoX2Jsb2NrOk1LLF90cl90YWxseTpVSyxfdHJfYWxpZ246Vkt9PWJLLHtaX05PX0ZMVVNIOnhLLFpfUEFSVElBTF9GTFVTSDpGSyxaX0ZVTExfRkxVU0g6QkssWl9GSU5JU0g6akssWl9CTE9DSzpHSyxaX09LOldLLFpfU1RSRUFNX0VORDpISyxaX1NUUkVBTV9FUlJPUjpLSyxaX0RBVEFfRVJST1I6WUssWl9CVUZfRVJST1I6ekssWl9ERUZBVUxUX0NPTVBSRVNTSU9OOnFLLFpfRklMVEVSRUQ6WEssWl9IVUZGTUFOX09OTFk6SkssWl9STEU6UUssWl9GSVhFRDpaSyxaX0RFRkFVTFRfU1RSQVRFR1k6JEssWl9VTktOT1dOOmVZLFpfREVGTEFURUQ6dFl9PVBLLGlZPTI4NixuWT0zMCxyWT0xOSxvWT0yKmlZKzEsc1k9MTUsYVk9MjU4LGNZPTI2MixkWT00MixsWT0xMTMsdVk9NjY2LGhZPShlLHQpPT4oZS5tc2c9REtbdF0sdCkscFk9ZT0+MiplLShlPjQ/OTowKSxfWT1lPT57bGV0IHQ9ZS5sZW5ndGg7Zm9yKDstLXQ+PTA7KWVbdF09MH0sRVk9ZT0+e2xldCB0LGksbixyPWUud19zaXplO3Q9ZS5oYXNoX3NpemUsbj10O2Rve2k9ZS5oZWFkWy0tbl0sZS5oZWFkW25dPWk+PXI/aS1yOjB9d2hpbGUoLS10KTt0PXIsbj10O2Rve2k9ZS5wcmV2Wy0tbl0sZS5wcmV2W25dPWk+PXI/aS1yOjB9d2hpbGUoLS10KX07bGV0IG1ZPShlLHQsaSk9Pih0PDxlLmhhc2hfc2hpZnReaSkmZS5oYXNoX21hc2s7Y29uc3QgZlk9ZT0+e2NvbnN0IHQ9ZS5zdGF0ZTtsZXQgaT10LnBlbmRpbmc7aT5lLmF2YWlsX291dCYmKGk9ZS5hdmFpbF9vdXQpLDAhPT1pJiYoZS5vdXRwdXQuc2V0KHQucGVuZGluZ19idWYuc3ViYXJyYXkodC5wZW5kaW5nX291dCx0LnBlbmRpbmdfb3V0K2kpLGUubmV4dF9vdXQpLGUubmV4dF9vdXQrPWksdC5wZW5kaW5nX291dCs9aSxlLnRvdGFsX291dCs9aSxlLmF2YWlsX291dC09aSx0LnBlbmRpbmctPWksMD09PXQucGVuZGluZyYmKHQucGVuZGluZ19vdXQ9MCkpfSxTWT0oZSx0KT0+e01LKGUsZS5ibG9ja19zdGFydD49MD9lLmJsb2NrX3N0YXJ0Oi0xLGUuc3Ryc3RhcnQtZS5ibG9ja19zdGFydCx0KSxlLmJsb2NrX3N0YXJ0PWUuc3Ryc3RhcnQsZlkoZS5zdHJtKX0sZ1k9KGUsdCk9PntlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT10fSxUWT0oZSx0KT0+e2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXQ+Pj44JjI1NSxlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmdH0sUlk9KGUsdCxpLG4pPT57bGV0IHI9ZS5hdmFpbF9pbjtyZXR1cm4gcj5uJiYocj1uKSwwPT09cj8wOihlLmF2YWlsX2luLT1yLHQuc2V0KGUuaW5wdXQuc3ViYXJyYXkoZS5uZXh0X2luLGUubmV4dF9pbityKSxpKSwxPT09ZS5zdGF0ZS53cmFwP2UuYWRsZXI9d0soZS5hZGxlcix0LHIsaSk6Mj09PWUuc3RhdGUud3JhcCYmKGUuYWRsZXI9TksoZS5hZGxlcix0LHIsaSkpLGUubmV4dF9pbis9cixlLnRvdGFsX2luKz1yLHIpfSxDWT0oZSx0KT0+e2xldCBpLG4scj1lLm1heF9jaGFpbl9sZW5ndGgsbz1lLnN0cnN0YXJ0LHM9ZS5wcmV2X2xlbmd0aCxhPWUubmljZV9tYXRjaDtjb25zdCBjPWUuc3Ryc3RhcnQ+ZS53X3NpemUtY1k/ZS5zdHJzdGFydC0oZS53X3NpemUtY1kpOjAsZD1lLndpbmRvdyxsPWUud19tYXNrLHU9ZS5wcmV2LGg9ZS5zdHJzdGFydCthWTtsZXQgcD1kW28rcy0xXSxfPWRbbytzXTtlLnByZXZfbGVuZ3RoPj1lLmdvb2RfbWF0Y2gmJihyPj49MiksYT5lLmxvb2thaGVhZCYmKGE9ZS5sb29rYWhlYWQpO2Rve2lmKGk9dCxkW2krc109PT1fJiZkW2krcy0xXT09PXAmJmRbaV09PT1kW29dJiZkWysraV09PT1kW28rMV0pe28rPTIsaSsrO2Rve313aGlsZShkWysrb109PT1kWysraV0mJmRbKytvXT09PWRbKytpXSYmZFsrK29dPT09ZFsrK2ldJiZkWysrb109PT1kWysraV0mJmRbKytvXT09PWRbKytpXSYmZFsrK29dPT09ZFsrK2ldJiZkWysrb109PT1kWysraV0mJmRbKytvXT09PWRbKytpXSYmbzxoKTtpZihuPWFZLShoLW8pLG89aC1hWSxuPnMpe2lmKGUubWF0Y2hfc3RhcnQ9dCxzPW4sbj49YSlicmVhaztwPWRbbytzLTFdLF89ZFtvK3NdfX19d2hpbGUoKHQ9dVt0JmxdKT5jJiYwIT0tLXIpO3JldHVybiBzPD1lLmxvb2thaGVhZD9zOmUubG9va2FoZWFkfSx2WT1lPT57Y29uc3QgdD1lLndfc2l6ZTtsZXQgaSxuLHI7ZG97aWYobj1lLndpbmRvd19zaXplLWUubG9va2FoZWFkLWUuc3Ryc3RhcnQsZS5zdHJzdGFydD49dCsodC1jWSkmJihlLndpbmRvdy5zZXQoZS53aW5kb3cuc3ViYXJyYXkodCx0K3QtbiksMCksZS5tYXRjaF9zdGFydC09dCxlLnN0cnN0YXJ0LT10LGUuYmxvY2tfc3RhcnQtPXQsZS5pbnNlcnQ+ZS5zdHJzdGFydCYmKGUuaW5zZXJ0PWUuc3Ryc3RhcnQpLEVZKGUpLG4rPXQpLDA9PT1lLnN0cm0uYXZhaWxfaW4pYnJlYWs7aWYoaT1SWShlLnN0cm0sZS53aW5kb3csZS5zdHJzdGFydCtlLmxvb2thaGVhZCxuKSxlLmxvb2thaGVhZCs9aSxlLmxvb2thaGVhZCtlLmluc2VydD49Mylmb3Iocj1lLnN0cnN0YXJ0LWUuaW5zZXJ0LGUuaW5zX2g9ZS53aW5kb3dbcl0sZS5pbnNfaD1tWShlLGUuaW5zX2gsZS53aW5kb3dbcisxXSk7ZS5pbnNlcnQmJihlLmluc19oPW1ZKGUsZS5pbnNfaCxlLndpbmRvd1tyKzMtMV0pLGUucHJldltyJmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPXIscisrLGUuaW5zZXJ0LS0sIShlLmxvb2thaGVhZCtlLmluc2VydDwzKSk7KTt9d2hpbGUoZS5sb29rYWhlYWQ8Y1kmJjAhPT1lLnN0cm0uYXZhaWxfaW4pfSx5WT0oZSx0KT0+e2xldCBpLG4scixvPWUucGVuZGluZ19idWZfc2l6ZS01PmUud19zaXplP2Uud19zaXplOmUucGVuZGluZ19idWZfc2l6ZS01LHM9MCxhPWUuc3RybS5hdmFpbF9pbjtkb3tpZihpPTY1NTM1LHI9ZS5iaV92YWxpZCs0Mj4+MyxlLnN0cm0uYXZhaWxfb3V0PHIpYnJlYWs7aWYocj1lLnN0cm0uYXZhaWxfb3V0LXIsbj1lLnN0cnN0YXJ0LWUuYmxvY2tfc3RhcnQsaT5uK2Uuc3RybS5hdmFpbF9pbiYmKGk9bitlLnN0cm0uYXZhaWxfaW4pLGk+ciYmKGk9ciksaTxvJiYoMD09PWkmJnQhPT1qS3x8dD09PXhLfHxpIT09bitlLnN0cm0uYXZhaWxfaW4pKWJyZWFrO3M9dD09PWpLJiZpPT09bitlLnN0cm0uYXZhaWxfaW4/MTowLGtLKGUsMCwwLHMpLGUucGVuZGluZ19idWZbZS5wZW5kaW5nLTRdPWksZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmctM109aT4+OCxlLnBlbmRpbmdfYnVmW2UucGVuZGluZy0yXT1+aSxlLnBlbmRpbmdfYnVmW2UucGVuZGluZy0xXT1+aT4+OCxmWShlLnN0cm0pLG4mJihuPmkmJihuPWkpLGUuc3RybS5vdXRwdXQuc2V0KGUud2luZG93LnN1YmFycmF5KGUuYmxvY2tfc3RhcnQsZS5ibG9ja19zdGFydCtuKSxlLnN0cm0ubmV4dF9vdXQpLGUuc3RybS5uZXh0X291dCs9bixlLnN0cm0uYXZhaWxfb3V0LT1uLGUuc3RybS50b3RhbF9vdXQrPW4sZS5ibG9ja19zdGFydCs9bixpLT1uKSxpJiYoUlkoZS5zdHJtLGUuc3RybS5vdXRwdXQsZS5zdHJtLm5leHRfb3V0LGkpLGUuc3RybS5uZXh0X291dCs9aSxlLnN0cm0uYXZhaWxfb3V0LT1pLGUuc3RybS50b3RhbF9vdXQrPWkpfXdoaWxlKDA9PT1zKTtyZXR1cm4gYS09ZS5zdHJtLmF2YWlsX2luLGEmJihhPj1lLndfc2l6ZT8oZS5tYXRjaGVzPTIsZS53aW5kb3cuc2V0KGUuc3RybS5pbnB1dC5zdWJhcnJheShlLnN0cm0ubmV4dF9pbi1lLndfc2l6ZSxlLnN0cm0ubmV4dF9pbiksMCksZS5zdHJzdGFydD1lLndfc2l6ZSxlLmluc2VydD1lLnN0cnN0YXJ0KTooZS53aW5kb3dfc2l6ZS1lLnN0cnN0YXJ0PD1hJiYoZS5zdHJzdGFydC09ZS53X3NpemUsZS53aW5kb3cuc2V0KGUud2luZG93LnN1YmFycmF5KGUud19zaXplLGUud19zaXplK2Uuc3Ryc3RhcnQpLDApLGUubWF0Y2hlczwyJiZlLm1hdGNoZXMrKyxlLmluc2VydD5lLnN0cnN0YXJ0JiYoZS5pbnNlcnQ9ZS5zdHJzdGFydCkpLGUud2luZG93LnNldChlLnN0cm0uaW5wdXQuc3ViYXJyYXkoZS5zdHJtLm5leHRfaW4tYSxlLnN0cm0ubmV4dF9pbiksZS5zdHJzdGFydCksZS5zdHJzdGFydCs9YSxlLmluc2VydCs9YT5lLndfc2l6ZS1lLmluc2VydD9lLndfc2l6ZS1lLmluc2VydDphKSxlLmJsb2NrX3N0YXJ0PWUuc3Ryc3RhcnQpLGUuaGlnaF93YXRlcjxlLnN0cnN0YXJ0JiYoZS5oaWdoX3dhdGVyPWUuc3Ryc3RhcnQpLHM/NDp0IT09eEsmJnQhPT1qSyYmMD09PWUuc3RybS5hdmFpbF9pbiYmZS5zdHJzdGFydD09PWUuYmxvY2tfc3RhcnQ/Mjoocj1lLndpbmRvd19zaXplLWUuc3Ryc3RhcnQsZS5zdHJtLmF2YWlsX2luPnImJmUuYmxvY2tfc3RhcnQ+PWUud19zaXplJiYoZS5ibG9ja19zdGFydC09ZS53X3NpemUsZS5zdHJzdGFydC09ZS53X3NpemUsZS53aW5kb3cuc2V0KGUud2luZG93LnN1YmFycmF5KGUud19zaXplLGUud19zaXplK2Uuc3Ryc3RhcnQpLDApLGUubWF0Y2hlczwyJiZlLm1hdGNoZXMrKyxyKz1lLndfc2l6ZSxlLmluc2VydD5lLnN0cnN0YXJ0JiYoZS5pbnNlcnQ9ZS5zdHJzdGFydCkpLHI+ZS5zdHJtLmF2YWlsX2luJiYocj1lLnN0cm0uYXZhaWxfaW4pLHImJihSWShlLnN0cm0sZS53aW5kb3csZS5zdHJzdGFydCxyKSxlLnN0cnN0YXJ0Kz1yLGUuaW5zZXJ0Kz1yPmUud19zaXplLWUuaW5zZXJ0P2Uud19zaXplLWUuaW5zZXJ0OnIpLGUuaGlnaF93YXRlcjxlLnN0cnN0YXJ0JiYoZS5oaWdoX3dhdGVyPWUuc3Ryc3RhcnQpLHI9ZS5iaV92YWxpZCs0Mj4+MyxyPWUucGVuZGluZ19idWZfc2l6ZS1yPjY1NTM1PzY1NTM1OmUucGVuZGluZ19idWZfc2l6ZS1yLG89cj5lLndfc2l6ZT9lLndfc2l6ZTpyLG49ZS5zdHJzdGFydC1lLmJsb2NrX3N0YXJ0LChuPj1vfHwobnx8dD09PWpLKSYmdCE9PXhLJiYwPT09ZS5zdHJtLmF2YWlsX2luJiZuPD1yKSYmKGk9bj5yP3I6bixzPXQ9PT1qSyYmMD09PWUuc3RybS5hdmFpbF9pbiYmaT09PW4/MTowLGtLKGUsZS5ibG9ja19zdGFydCxpLHMpLGUuYmxvY2tfc3RhcnQrPWksZlkoZS5zdHJtKSkscz8zOjEpfSxJWT0oZSx0KT0+e2xldCBpLG47Zm9yKDs7KXtpZihlLmxvb2thaGVhZDxjWSl7aWYodlkoZSksZS5sb29rYWhlYWQ8Y1kmJnQ9PT14SylyZXR1cm4gMTtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9aWYoaT0wLGUubG9va2FoZWFkPj0zJiYoZS5pbnNfaD1tWShlLGUuaW5zX2gsZS53aW5kb3dbZS5zdHJzdGFydCszLTFdKSxpPWUucHJldltlLnN0cnN0YXJ0JmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPWUuc3Ryc3RhcnQpLDAhPT1pJiZlLnN0cnN0YXJ0LWk8PWUud19zaXplLWNZJiYoZS5tYXRjaF9sZW5ndGg9Q1koZSxpKSksZS5tYXRjaF9sZW5ndGg+PTMpaWYobj1VSyhlLGUuc3Ryc3RhcnQtZS5tYXRjaF9zdGFydCxlLm1hdGNoX2xlbmd0aC0zKSxlLmxvb2thaGVhZC09ZS5tYXRjaF9sZW5ndGgsZS5tYXRjaF9sZW5ndGg8PWUubWF4X2xhenlfbWF0Y2gmJmUubG9va2FoZWFkPj0zKXtlLm1hdGNoX2xlbmd0aC0tO2Rve2Uuc3Ryc3RhcnQrKyxlLmluc19oPW1ZKGUsZS5pbnNfaCxlLndpbmRvd1tlLnN0cnN0YXJ0KzMtMV0pLGk9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydH13aGlsZSgwIT0tLWUubWF0Y2hfbGVuZ3RoKTtlLnN0cnN0YXJ0Kyt9ZWxzZSBlLnN0cnN0YXJ0Kz1lLm1hdGNoX2xlbmd0aCxlLm1hdGNoX2xlbmd0aD0wLGUuaW5zX2g9ZS53aW5kb3dbZS5zdHJzdGFydF0sZS5pbnNfaD1tWShlLGUuaW5zX2gsZS53aW5kb3dbZS5zdHJzdGFydCsxXSk7ZWxzZSBuPVVLKGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0Kys7aWYobiYmKFNZKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gMX1yZXR1cm4gZS5pbnNlcnQ9ZS5zdHJzdGFydDwyP2Uuc3Ryc3RhcnQ6Mix0PT09aks/KFNZKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0PzM6NCk6ZS5zeW1fbmV4dCYmKFNZKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT8xOjJ9LEFZPShlLHQpPT57bGV0IGksbixyO2Zvcig7Oyl7aWYoZS5sb29rYWhlYWQ8Y1kpe2lmKHZZKGUpLGUubG9va2FoZWFkPGNZJiZ0PT09eEspcmV0dXJuIDE7aWYoMD09PWUubG9va2FoZWFkKWJyZWFrfWlmKGk9MCxlLmxvb2thaGVhZD49MyYmKGUuaW5zX2g9bVkoZSxlLmluc19oLGUud2luZG93W2Uuc3Ryc3RhcnQrMy0xXSksaT1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0KSxlLnByZXZfbGVuZ3RoPWUubWF0Y2hfbGVuZ3RoLGUucHJldl9tYXRjaD1lLm1hdGNoX3N0YXJ0LGUubWF0Y2hfbGVuZ3RoPTIsMCE9PWkmJmUucHJldl9sZW5ndGg8ZS5tYXhfbGF6eV9tYXRjaCYmZS5zdHJzdGFydC1pPD1lLndfc2l6ZS1jWSYmKGUubWF0Y2hfbGVuZ3RoPUNZKGUsaSksZS5tYXRjaF9sZW5ndGg8PTUmJihlLnN0cmF0ZWd5PT09WEt8fDM9PT1lLm1hdGNoX2xlbmd0aCYmZS5zdHJzdGFydC1lLm1hdGNoX3N0YXJ0PjQwOTYpJiYoZS5tYXRjaF9sZW5ndGg9MikpLGUucHJldl9sZW5ndGg+PTMmJmUubWF0Y2hfbGVuZ3RoPD1lLnByZXZfbGVuZ3RoKXtyPWUuc3Ryc3RhcnQrZS5sb29rYWhlYWQtMyxuPVVLKGUsZS5zdHJzdGFydC0xLWUucHJldl9tYXRjaCxlLnByZXZfbGVuZ3RoLTMpLGUubG9va2FoZWFkLT1lLnByZXZfbGVuZ3RoLTEsZS5wcmV2X2xlbmd0aC09Mjtkb3srK2Uuc3Ryc3RhcnQ8PXImJihlLmluc19oPW1ZKGUsZS5pbnNfaCxlLndpbmRvd1tlLnN0cnN0YXJ0KzMtMV0pLGk9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCl9d2hpbGUoMCE9LS1lLnByZXZfbGVuZ3RoKTtpZihlLm1hdGNoX2F2YWlsYWJsZT0wLGUubWF0Y2hfbGVuZ3RoPTIsZS5zdHJzdGFydCsrLG4mJihTWShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIDF9ZWxzZSBpZihlLm1hdGNoX2F2YWlsYWJsZSl7aWYobj1VSyhlLDAsZS53aW5kb3dbZS5zdHJzdGFydC0xXSksbiYmU1koZSwhMSksZS5zdHJzdGFydCsrLGUubG9va2FoZWFkLS0sMD09PWUuc3RybS5hdmFpbF9vdXQpcmV0dXJuIDF9ZWxzZSBlLm1hdGNoX2F2YWlsYWJsZT0xLGUuc3Ryc3RhcnQrKyxlLmxvb2thaGVhZC0tfXJldHVybiBlLm1hdGNoX2F2YWlsYWJsZSYmKG49VUsoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnQtMV0pLGUubWF0Y2hfYXZhaWxhYmxlPTApLGUuaW5zZXJ0PWUuc3Ryc3RhcnQ8Mj9lLnN0cnN0YXJ0OjIsdD09PWpLPyhTWShlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD8zOjQpOmUuc3ltX25leHQmJihTWShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/MToyfTtmdW5jdGlvbiBiWShlLHQsaSxuLHIpe3RoaXMuZ29vZF9sZW5ndGg9ZSx0aGlzLm1heF9sYXp5PXQsdGhpcy5uaWNlX2xlbmd0aD1pLHRoaXMubWF4X2NoYWluPW4sdGhpcy5mdW5jPXJ9Y29uc3Qgd1k9W25ldyBiWSgwLDAsMCwwLHlZKSxuZXcgYlkoNCw0LDgsNCxJWSksbmV3IGJZKDQsNSwxNiw4LElZKSxuZXcgYlkoNCw2LDMyLDMyLElZKSxuZXcgYlkoNCw0LDE2LDE2LEFZKSxuZXcgYlkoOCwxNiwzMiwzMixBWSksbmV3IGJZKDgsMTYsMTI4LDEyOCxBWSksbmV3IGJZKDgsMzIsMTI4LDI1NixBWSksbmV3IGJZKDMyLDEyOCwyNTgsMTAyNCxBWSksbmV3IGJZKDMyLDI1OCwyNTgsNDA5NixBWSldO2Z1bmN0aW9uIE9ZKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9dFksdGhpcy5sYXN0X2ZsdXNoPS0xLHRoaXMud19zaXplPTAsdGhpcy53X2JpdHM9MCx0aGlzLndfbWFzaz0wLHRoaXMud2luZG93PW51bGwsdGhpcy53aW5kb3dfc2l6ZT0wLHRoaXMucHJldj1udWxsLHRoaXMuaGVhZD1udWxsLHRoaXMuaW5zX2g9MCx0aGlzLmhhc2hfc2l6ZT0wLHRoaXMuaGFzaF9iaXRzPTAsdGhpcy5oYXNoX21hc2s9MCx0aGlzLmhhc2hfc2hpZnQ9MCx0aGlzLmJsb2NrX3N0YXJ0PTAsdGhpcy5tYXRjaF9sZW5ndGg9MCx0aGlzLnByZXZfbWF0Y2g9MCx0aGlzLm1hdGNoX2F2YWlsYWJsZT0wLHRoaXMuc3Ryc3RhcnQ9MCx0aGlzLm1hdGNoX3N0YXJ0PTAsdGhpcy5sb29rYWhlYWQ9MCx0aGlzLnByZXZfbGVuZ3RoPTAsdGhpcy5tYXhfY2hhaW5fbGVuZ3RoPTAsdGhpcy5tYXhfbGF6eV9tYXRjaD0wLHRoaXMubGV2ZWw9MCx0aGlzLnN0cmF0ZWd5PTAsdGhpcy5nb29kX21hdGNoPTAsdGhpcy5uaWNlX21hdGNoPTAsdGhpcy5keW5fbHRyZWU9bmV3IFVpbnQxNkFycmF5KDIqb1kpLHRoaXMuZHluX2R0cmVlPW5ldyBVaW50MTZBcnJheSgyKigyKm5ZKzEpKSx0aGlzLmJsX3RyZWU9bmV3IFVpbnQxNkFycmF5KDIqKDIqclkrMSkpLF9ZKHRoaXMuZHluX2x0cmVlKSxfWSh0aGlzLmR5bl9kdHJlZSksX1kodGhpcy5ibF90cmVlKSx0aGlzLmxfZGVzYz1udWxsLHRoaXMuZF9kZXNjPW51bGwsdGhpcy5ibF9kZXNjPW51bGwsdGhpcy5ibF9jb3VudD1uZXcgVWludDE2QXJyYXkoc1krMSksdGhpcy5oZWFwPW5ldyBVaW50MTZBcnJheSgyKmlZKzEpLF9ZKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyBVaW50MTZBcnJheSgyKmlZKzEpLF9ZKHRoaXMuZGVwdGgpLHRoaXMuc3ltX2J1Zj0wLHRoaXMubGl0X2J1ZnNpemU9MCx0aGlzLnN5bV9uZXh0PTAsdGhpcy5zeW1fZW5kPTAsdGhpcy5vcHRfbGVuPTAsdGhpcy5zdGF0aWNfbGVuPTAsdGhpcy5tYXRjaGVzPTAsdGhpcy5pbnNlcnQ9MCx0aGlzLmJpX2J1Zj0wLHRoaXMuYmlfdmFsaWQ9MH1jb25zdCBOWT1lPT57aWYoIWUpcmV0dXJuIDE7Y29uc3QgdD1lLnN0YXRlO3JldHVybiF0fHx0LnN0cm0hPT1lfHx0LnN0YXR1cyE9PWRZJiY1NyE9PXQuc3RhdHVzJiY2OSE9PXQuc3RhdHVzJiY3MyE9PXQuc3RhdHVzJiY5MSE9PXQuc3RhdHVzJiYxMDMhPT10LnN0YXR1cyYmdC5zdGF0dXMhPT1sWSYmdC5zdGF0dXMhPT11WT8xOjB9LERZPWU9PntpZihOWShlKSlyZXR1cm4gaFkoZSxLSyk7ZS50b3RhbF9pbj1lLnRvdGFsX291dD0wLGUuZGF0YV90eXBlPWVZO2NvbnN0IHQ9ZS5zdGF0ZTtyZXR1cm4gdC5wZW5kaW5nPTAsdC5wZW5kaW5nX291dD0wLHQud3JhcDwwJiYodC53cmFwPS10LndyYXApLHQuc3RhdHVzPTI9PT10LndyYXA/NTc6dC53cmFwP2RZOmxZLGUuYWRsZXI9Mj09PXQud3JhcD8wOjEsdC5sYXN0X2ZsdXNoPS0yLExLKHQpLFdLfSxQWT1lPT57Y29uc3QgdD1EWShlKTtyZXR1cm4gdD09PVdLJiYoZT0+e2Uud2luZG93X3NpemU9MiplLndfc2l6ZSxfWShlLmhlYWQpLGUubWF4X2xhenlfbWF0Y2g9d1lbZS5sZXZlbF0ubWF4X2xhenksZS5nb29kX21hdGNoPXdZW2UubGV2ZWxdLmdvb2RfbGVuZ3RoLGUubmljZV9tYXRjaD13WVtlLmxldmVsXS5uaWNlX2xlbmd0aCxlLm1heF9jaGFpbl9sZW5ndGg9d1lbZS5sZXZlbF0ubWF4X2NoYWluLGUuc3Ryc3RhcnQ9MCxlLmJsb2NrX3N0YXJ0PTAsZS5sb29rYWhlYWQ9MCxlLmluc2VydD0wLGUubWF0Y2hfbGVuZ3RoPWUucHJldl9sZW5ndGg9MixlLm1hdGNoX2F2YWlsYWJsZT0wLGUuaW5zX2g9MH0pKGUuc3RhdGUpLHR9LExZPShlLHQsaSxuLHIsbyk9PntpZighZSlyZXR1cm4gS0s7bGV0IHM9MTtpZih0PT09cUsmJih0PTYpLG48MD8ocz0wLG49LW4pOm4+MTUmJihzPTIsbi09MTYpLHI8MXx8cj45fHxpIT09dFl8fG48OHx8bj4xNXx8dDwwfHx0Pjl8fG88MHx8bz5aS3x8OD09PW4mJjEhPT1zKXJldHVybiBoWShlLEtLKTs4PT09biYmKG49OSk7Y29uc3QgYT1uZXcgT1k7cmV0dXJuIGUuc3RhdGU9YSxhLnN0cm09ZSxhLnN0YXR1cz1kWSxhLndyYXA9cyxhLmd6aGVhZD1udWxsLGEud19iaXRzPW4sYS53X3NpemU9MTw8YS53X2JpdHMsYS53X21hc2s9YS53X3NpemUtMSxhLmhhc2hfYml0cz1yKzcsYS5oYXNoX3NpemU9MTw8YS5oYXNoX2JpdHMsYS5oYXNoX21hc2s9YS5oYXNoX3NpemUtMSxhLmhhc2hfc2hpZnQ9fn4oKGEuaGFzaF9iaXRzKzMtMSkvMyksYS53aW5kb3c9bmV3IFVpbnQ4QXJyYXkoMiphLndfc2l6ZSksYS5oZWFkPW5ldyBVaW50MTZBcnJheShhLmhhc2hfc2l6ZSksYS5wcmV2PW5ldyBVaW50MTZBcnJheShhLndfc2l6ZSksYS5saXRfYnVmc2l6ZT0xPDxyKzYsYS5wZW5kaW5nX2J1Zl9zaXplPTQqYS5saXRfYnVmc2l6ZSxhLnBlbmRpbmdfYnVmPW5ldyBVaW50OEFycmF5KGEucGVuZGluZ19idWZfc2l6ZSksYS5zeW1fYnVmPWEubGl0X2J1ZnNpemUsYS5zeW1fZW5kPTMqKGEubGl0X2J1ZnNpemUtMSksYS5sZXZlbD10LGEuc3RyYXRlZ3k9byxhLm1ldGhvZD1pLFBZKGUpfTt2YXIga1k9KGUsdCk9PntpZihOWShlKXx8dD5HS3x8dDwwKXJldHVybiBlP2hZKGUsS0spOktLO2NvbnN0IGk9ZS5zdGF0ZTtpZighZS5vdXRwdXR8fDAhPT1lLmF2YWlsX2luJiYhZS5pbnB1dHx8aS5zdGF0dXM9PT11WSYmdCE9PWpLKXJldHVybiBoWShlLDA9PT1lLmF2YWlsX291dD96SzpLSyk7Y29uc3Qgbj1pLmxhc3RfZmx1c2g7aWYoaS5sYXN0X2ZsdXNoPXQsMCE9PWkucGVuZGluZyl7aWYoZlkoZSksMD09PWUuYXZhaWxfb3V0KXJldHVybiBpLmxhc3RfZmx1c2g9LTEsV0t9ZWxzZSBpZigwPT09ZS5hdmFpbF9pbiYmcFkodCk8PXBZKG4pJiZ0IT09akspcmV0dXJuIGhZKGUsekspO2lmKGkuc3RhdHVzPT09dVkmJjAhPT1lLmF2YWlsX2luKXJldHVybiBoWShlLHpLKTtpZihpLnN0YXR1cz09PWRZJiYwPT09aS53cmFwJiYoaS5zdGF0dXM9bFkpLGkuc3RhdHVzPT09ZFkpe2xldCB0PXRZKyhpLndfYml0cy04PDw0KTw8OCxuPS0xO2lmKG49aS5zdHJhdGVneT49Skt8fGkubGV2ZWw8Mj8wOmkubGV2ZWw8Nj8xOjY9PT1pLmxldmVsPzI6Myx0fD1uPDw2LDAhPT1pLnN0cnN0YXJ0JiYodHw9MzIpLHQrPTMxLXQlMzEsVFkoaSx0KSwwIT09aS5zdHJzdGFydCYmKFRZKGksZS5hZGxlcj4+PjE2KSxUWShpLDY1NTM1JmUuYWRsZXIpKSxlLmFkbGVyPTEsaS5zdGF0dXM9bFksZlkoZSksMCE9PWkucGVuZGluZylyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLFdLfWlmKDU3PT09aS5zdGF0dXMpaWYoZS5hZGxlcj0wLGdZKGksMzEpLGdZKGksMTM5KSxnWShpLDgpLGkuZ3poZWFkKWdZKGksKGkuZ3poZWFkLnRleHQ/MTowKSsoaS5nemhlYWQuaGNyYz8yOjApKyhpLmd6aGVhZC5leHRyYT80OjApKyhpLmd6aGVhZC5uYW1lPzg6MCkrKGkuZ3poZWFkLmNvbW1lbnQ/MTY6MCkpLGdZKGksMjU1JmkuZ3poZWFkLnRpbWUpLGdZKGksaS5nemhlYWQudGltZT4+OCYyNTUpLGdZKGksaS5nemhlYWQudGltZT4+MTYmMjU1KSxnWShpLGkuZ3poZWFkLnRpbWU+PjI0JjI1NSksZ1koaSw5PT09aS5sZXZlbD8yOmkuc3RyYXRlZ3k+PUpLfHxpLmxldmVsPDI/NDowKSxnWShpLDI1NSZpLmd6aGVhZC5vcyksaS5nemhlYWQuZXh0cmEmJmkuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKGdZKGksMjU1JmkuZ3poZWFkLmV4dHJhLmxlbmd0aCksZ1koaSxpLmd6aGVhZC5leHRyYS5sZW5ndGg+PjgmMjU1KSksaS5nemhlYWQuaGNyYyYmKGUuYWRsZXI9TksoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZywwKSksaS5nemluZGV4PTAsaS5zdGF0dXM9Njk7ZWxzZSBpZihnWShpLDApLGdZKGksMCksZ1koaSwwKSxnWShpLDApLGdZKGksMCksZ1koaSw5PT09aS5sZXZlbD8yOmkuc3RyYXRlZ3k+PUpLfHxpLmxldmVsPDI/NDowKSxnWShpLDMpLGkuc3RhdHVzPWxZLGZZKGUpLDAhPT1pLnBlbmRpbmcpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSxXSztpZig2OT09PWkuc3RhdHVzKXtpZihpLmd6aGVhZC5leHRyYSl7bGV0IHQ9aS5wZW5kaW5nLG49KDY1NTM1JmkuZ3poZWFkLmV4dHJhLmxlbmd0aCktaS5nemluZGV4O2Zvcig7aS5wZW5kaW5nK24+aS5wZW5kaW5nX2J1Zl9zaXplOyl7bGV0IHI9aS5wZW5kaW5nX2J1Zl9zaXplLWkucGVuZGluZztpZihpLnBlbmRpbmdfYnVmLnNldChpLmd6aGVhZC5leHRyYS5zdWJhcnJheShpLmd6aW5kZXgsaS5nemluZGV4K3IpLGkucGVuZGluZyksaS5wZW5kaW5nPWkucGVuZGluZ19idWZfc2l6ZSxpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+dCYmKGUuYWRsZXI9TksoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy10LHQpKSxpLmd6aW5kZXgrPXIsZlkoZSksMCE9PWkucGVuZGluZylyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLFdLO3Q9MCxuLT1yfWxldCByPW5ldyBVaW50OEFycmF5KGkuZ3poZWFkLmV4dHJhKTtpLnBlbmRpbmdfYnVmLnNldChyLnN1YmFycmF5KGkuZ3ppbmRleCxpLmd6aW5kZXgrbiksaS5wZW5kaW5nKSxpLnBlbmRpbmcrPW4saS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPnQmJihlLmFkbGVyPU5LKGUuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctdCx0KSksaS5nemluZGV4PTB9aS5zdGF0dXM9NzN9aWYoNzM9PT1pLnN0YXR1cyl7aWYoaS5nemhlYWQubmFtZSl7bGV0IHQsbj1pLnBlbmRpbmc7ZG97aWYoaS5wZW5kaW5nPT09aS5wZW5kaW5nX2J1Zl9zaXplKXtpZihpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKGUuYWRsZXI9TksoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1uLG4pKSxmWShlKSwwIT09aS5wZW5kaW5nKXJldHVybiBpLmxhc3RfZmx1c2g9LTEsV0s7bj0wfXQ9aS5nemluZGV4PGkuZ3poZWFkLm5hbWUubGVuZ3RoPzI1NSZpLmd6aGVhZC5uYW1lLmNoYXJDb2RlQXQoaS5nemluZGV4KyspOjAsZ1koaSx0KX13aGlsZSgwIT09dCk7aS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm4mJihlLmFkbGVyPU5LKGUuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksaS5nemluZGV4PTB9aS5zdGF0dXM9OTF9aWYoOTE9PT1pLnN0YXR1cyl7aWYoaS5nemhlYWQuY29tbWVudCl7bGV0IHQsbj1pLnBlbmRpbmc7ZG97aWYoaS5wZW5kaW5nPT09aS5wZW5kaW5nX2J1Zl9zaXplKXtpZihpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKGUuYWRsZXI9TksoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1uLG4pKSxmWShlKSwwIT09aS5wZW5kaW5nKXJldHVybiBpLmxhc3RfZmx1c2g9LTEsV0s7bj0wfXQ9aS5nemluZGV4PGkuZ3poZWFkLmNvbW1lbnQubGVuZ3RoPzI1NSZpLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQoaS5nemluZGV4KyspOjAsZ1koaSx0KX13aGlsZSgwIT09dCk7aS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm4mJihlLmFkbGVyPU5LKGUuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSl9aS5zdGF0dXM9MTAzfWlmKDEwMz09PWkuc3RhdHVzKXtpZihpLmd6aGVhZC5oY3JjKXtpZihpLnBlbmRpbmcrMj5pLnBlbmRpbmdfYnVmX3NpemUmJihmWShlKSwwIT09aS5wZW5kaW5nKSlyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLFdLO2dZKGksMjU1JmUuYWRsZXIpLGdZKGksZS5hZGxlcj4+OCYyNTUpLGUuYWRsZXI9MH1pZihpLnN0YXR1cz1sWSxmWShlKSwwIT09aS5wZW5kaW5nKXJldHVybiBpLmxhc3RfZmx1c2g9LTEsV0t9aWYoMCE9PWUuYXZhaWxfaW58fDAhPT1pLmxvb2thaGVhZHx8dCE9PXhLJiZpLnN0YXR1cyE9PXVZKXtsZXQgbj0wPT09aS5sZXZlbD95WShpLHQpOmkuc3RyYXRlZ3k9PT1KSz8oKGUsdCk9PntsZXQgaTtmb3IoOzspe2lmKDA9PT1lLmxvb2thaGVhZCYmKHZZKGUpLDA9PT1lLmxvb2thaGVhZCkpe2lmKHQ9PT14SylyZXR1cm4gMTticmVha31pZihlLm1hdGNoX2xlbmd0aD0wLGk9VUsoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnRdKSxlLmxvb2thaGVhZC0tLGUuc3Ryc3RhcnQrKyxpJiYoU1koZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiAxfXJldHVybiBlLmluc2VydD0wLHQ9PT1qSz8oU1koZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/Mzo0KTplLnN5bV9uZXh0JiYoU1koZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpPzE6Mn0pKGksdCk6aS5zdHJhdGVneT09PVFLPygoZSx0KT0+e2xldCBpLG4scixvO2NvbnN0IHM9ZS53aW5kb3c7Zm9yKDs7KXtpZihlLmxvb2thaGVhZDw9YVkpe2lmKHZZKGUpLGUubG9va2FoZWFkPD1hWSYmdD09PXhLKXJldHVybiAxO2lmKDA9PT1lLmxvb2thaGVhZClicmVha31pZihlLm1hdGNoX2xlbmd0aD0wLGUubG9va2FoZWFkPj0zJiZlLnN0cnN0YXJ0PjAmJihyPWUuc3Ryc3RhcnQtMSxuPXNbcl0sbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSkpe289ZS5zdHJzdGFydCthWTtkb3t9d2hpbGUobj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmcjxvKTtlLm1hdGNoX2xlbmd0aD1hWS0oby1yKSxlLm1hdGNoX2xlbmd0aD5lLmxvb2thaGVhZCYmKGUubWF0Y2hfbGVuZ3RoPWUubG9va2FoZWFkKX1pZihlLm1hdGNoX2xlbmd0aD49Mz8oaT1VSyhlLDEsZS5tYXRjaF9sZW5ndGgtMyksZS5sb29rYWhlYWQtPWUubWF0Y2hfbGVuZ3RoLGUuc3Ryc3RhcnQrPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPTApOihpPVVLKGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0KyspLGkmJihTWShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIDF9cmV0dXJuIGUuaW5zZXJ0PTAsdD09PWpLPyhTWShlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD8zOjQpOmUuc3ltX25leHQmJihTWShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/MToyfSkoaSx0KTp3WVtpLmxldmVsXS5mdW5jKGksdCk7aWYoMyE9PW4mJjQhPT1ufHwoaS5zdGF0dXM9dVkpLDE9PT1ufHwzPT09bilyZXR1cm4gMD09PWUuYXZhaWxfb3V0JiYoaS5sYXN0X2ZsdXNoPS0xKSxXSztpZigyPT09biYmKHQ9PT1GSz9WSyhpKTp0IT09R0smJihrSyhpLDAsMCwhMSksdD09PUJLJiYoX1koaS5oZWFkKSwwPT09aS5sb29rYWhlYWQmJihpLnN0cnN0YXJ0PTAsaS5ibG9ja19zdGFydD0wLGkuaW5zZXJ0PTApKSksZlkoZSksMD09PWUuYXZhaWxfb3V0KSlyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLFdLfXJldHVybiB0IT09aks/V0s6aS53cmFwPD0wP0hLOigyPT09aS53cmFwPyhnWShpLDI1NSZlLmFkbGVyKSxnWShpLGUuYWRsZXI+PjgmMjU1KSxnWShpLGUuYWRsZXI+PjE2JjI1NSksZ1koaSxlLmFkbGVyPj4yNCYyNTUpLGdZKGksMjU1JmUudG90YWxfaW4pLGdZKGksZS50b3RhbF9pbj4+OCYyNTUpLGdZKGksZS50b3RhbF9pbj4+MTYmMjU1KSxnWShpLGUudG90YWxfaW4+PjI0JjI1NSkpOihUWShpLGUuYWRsZXI+Pj4xNiksVFkoaSw2NTUzNSZlLmFkbGVyKSksZlkoZSksaS53cmFwPjAmJihpLndyYXA9LWkud3JhcCksMCE9PWkucGVuZGluZz9XSzpISyl9LE1ZPShlLHQpPT57bGV0IGk9dC5sZW5ndGg7aWYoTlkoZSkpcmV0dXJuIEtLO2NvbnN0IG49ZS5zdGF0ZSxyPW4ud3JhcDtpZigyPT09cnx8MT09PXImJm4uc3RhdHVzIT09ZFl8fG4ubG9va2FoZWFkKXJldHVybiBLSztpZigxPT09ciYmKGUuYWRsZXI9d0soZS5hZGxlcix0LGksMCkpLG4ud3JhcD0wLGk+PW4ud19zaXplKXswPT09ciYmKF9ZKG4uaGVhZCksbi5zdHJzdGFydD0wLG4uYmxvY2tfc3RhcnQ9MCxuLmluc2VydD0wKTtsZXQgZT1uZXcgVWludDhBcnJheShuLndfc2l6ZSk7ZS5zZXQodC5zdWJhcnJheShpLW4ud19zaXplLGkpLDApLHQ9ZSxpPW4ud19zaXplfWNvbnN0IG89ZS5hdmFpbF9pbixzPWUubmV4dF9pbixhPWUuaW5wdXQ7Zm9yKGUuYXZhaWxfaW49aSxlLm5leHRfaW49MCxlLmlucHV0PXQsdlkobik7bi5sb29rYWhlYWQ+PTM7KXtsZXQgZT1uLnN0cnN0YXJ0LHQ9bi5sb29rYWhlYWQtMjtkb3tuLmluc19oPW1ZKG4sbi5pbnNfaCxuLndpbmRvd1tlKzMtMV0pLG4ucHJldltlJm4ud19tYXNrXT1uLmhlYWRbbi5pbnNfaF0sbi5oZWFkW24uaW5zX2hdPWUsZSsrfXdoaWxlKC0tdCk7bi5zdHJzdGFydD1lLG4ubG9va2FoZWFkPTIsdlkobil9cmV0dXJuIG4uc3Ryc3RhcnQrPW4ubG9va2FoZWFkLG4uYmxvY2tfc3RhcnQ9bi5zdHJzdGFydCxuLmluc2VydD1uLmxvb2thaGVhZCxuLmxvb2thaGVhZD0wLG4ubWF0Y2hfbGVuZ3RoPW4ucHJldl9sZW5ndGg9MixuLm1hdGNoX2F2YWlsYWJsZT0wLGUubmV4dF9pbj1zLGUuaW5wdXQ9YSxlLmF2YWlsX2luPW8sbi53cmFwPXIsV0t9LFVZPXtkZWZsYXRlSW5pdDooZSx0KT0+TFkoZSx0LHRZLDE1LDgsJEspLGRlZmxhdGVJbml0MjpMWSxkZWZsYXRlUmVzZXQ6UFksZGVmbGF0ZVJlc2V0S2VlcDpEWSxkZWZsYXRlU2V0SGVhZGVyOihlLHQpPT5OWShlKXx8MiE9PWUuc3RhdGUud3JhcD9LSzooZS5zdGF0ZS5nemhlYWQ9dCxXSyksZGVmbGF0ZTprWSxkZWZsYXRlRW5kOmU9PntpZihOWShlKSlyZXR1cm4gS0s7Y29uc3QgdD1lLnN0YXRlLnN0YXR1cztyZXR1cm4gZS5zdGF0ZT1udWxsLHQ9PT1sWT9oWShlLFlLKTpXS30sZGVmbGF0ZVNldERpY3Rpb25hcnk6TVksZGVmbGF0ZUluZm86XCJwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpXCJ9O2NvbnN0IFZZPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KTt2YXIgeFk9e2Fzc2lnbjpmdW5jdGlvbihlKXtjb25zdCB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmb3IoO3QubGVuZ3RoOyl7Y29uc3QgaT10LnNoaWZ0KCk7aWYoaSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGkpdGhyb3cgbmV3IFR5cGVFcnJvcihpK1wibXVzdCBiZSBub24tb2JqZWN0XCIpO2Zvcihjb25zdCB0IGluIGkpVlkoaSx0KSYmKGVbdF09aVt0XSl9fXJldHVybiBlfSxmbGF0dGVuQ2h1bmtzOmU9PntsZXQgdD0wO2ZvcihsZXQgaT0wLG49ZS5sZW5ndGg7aTxuO2krKyl0Kz1lW2ldLmxlbmd0aDtjb25zdCBpPW5ldyBVaW50OEFycmF5KHQpO2ZvcihsZXQgdD0wLG49MCxyPWUubGVuZ3RoO3Q8cjt0Kyspe2xldCByPWVbdF07aS5zZXQocixuKSxuKz1yLmxlbmd0aH1yZXR1cm4gaX19O2xldCBGWT0hMDt0cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKX1jYXRjaChlKXtGWT0hMX1jb25zdCBCWT1uZXcgVWludDhBcnJheSgyNTYpO2ZvcihsZXQgZT0wO2U8MjU2O2UrKylCWVtlXT1lPj0yNTI/NjplPj0yNDg/NTplPj0yNDA/NDplPj0yMjQ/MzplPj0xOTI/MjoxO0JZWzI1NF09QllbMjU0XT0xO3ZhciBqWT17c3RyaW5nMmJ1ZjplPT57aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgVGV4dEVuY29kZXImJlRleHRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUpcmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpO2xldCB0LGksbixyLG8scz1lLmxlbmd0aCxhPTA7Zm9yKHI9MDtyPHM7cisrKWk9ZS5jaGFyQ29kZUF0KHIpLDU1Mjk2PT0oNjQ1MTImaSkmJnIrMTxzJiYobj1lLmNoYXJDb2RlQXQocisxKSw1NjMyMD09KDY0NTEyJm4pJiYoaT02NTUzNisoaS01NTI5Njw8MTApKyhuLTU2MzIwKSxyKyspKSxhKz1pPDEyOD8xOmk8MjA0OD8yOmk8NjU1MzY/Mzo0O2Zvcih0PW5ldyBVaW50OEFycmF5KGEpLG89MCxyPTA7bzxhO3IrKylpPWUuY2hhckNvZGVBdChyKSw1NTI5Nj09KDY0NTEyJmkpJiZyKzE8cyYmKG49ZS5jaGFyQ29kZUF0KHIrMSksNTYzMjA9PSg2NDUxMiZuKSYmKGk9NjU1MzYrKGktNTUyOTY8PDEwKSsobi01NjMyMCkscisrKSksaTwxMjg/dFtvKytdPWk6aTwyMDQ4Pyh0W28rK109MTkyfGk+Pj42LHRbbysrXT0xMjh8NjMmaSk6aTw2NTUzNj8odFtvKytdPTIyNHxpPj4+MTIsdFtvKytdPTEyOHxpPj4+NiY2Myx0W28rK109MTI4fDYzJmkpOih0W28rK109MjQwfGk+Pj4xOCx0W28rK109MTI4fGk+Pj4xMiY2Myx0W28rK109MTI4fGk+Pj42JjYzLHRbbysrXT0xMjh8NjMmaSk7cmV0dXJuIHR9LGJ1ZjJzdHJpbmc6KGUsdCk9Pntjb25zdCBpPXR8fGUubGVuZ3RoO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFRleHREZWNvZGVyJiZUZXh0RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlKXJldHVybihuZXcgVGV4dERlY29kZXIpLmRlY29kZShlLnN1YmFycmF5KDAsdCkpO2xldCBuLHI7Y29uc3Qgbz1uZXcgQXJyYXkoMippKTtmb3Iocj0wLG49MDtuPGk7KXtsZXQgdD1lW24rK107aWYodDwxMjgpe29bcisrXT10O2NvbnRpbnVlfWxldCBzPUJZW3RdO2lmKHM+NClvW3IrK109NjU1MzMsbis9cy0xO2Vsc2V7Zm9yKHQmPTI9PT1zPzMxOjM9PT1zPzE1Ojc7cz4xJiZuPGk7KXQ9dDw8Nnw2MyZlW24rK10scy0tO3M+MT9vW3IrK109NjU1MzM6dDw2NTUzNj9vW3IrK109dDoodC09NjU1MzYsb1tyKytdPTU1Mjk2fHQ+PjEwJjEwMjMsb1tyKytdPTU2MzIwfDEwMjMmdCl9fXJldHVybigoZSx0KT0+e2lmKHQ8NjU1MzQmJmUuc3ViYXJyYXkmJkZZKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsZS5sZW5ndGg9PT10P2U6ZS5zdWJhcnJheSgwLHQpKTtsZXQgaT1cIlwiO2ZvcihsZXQgbj0wO248dDtuKyspaSs9U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKTtyZXR1cm4gaX0pKG8scil9LHV0Zjhib3JkZXI6KGUsdCk9PnsodD10fHxlLmxlbmd0aCk+ZS5sZW5ndGgmJih0PWUubGVuZ3RoKTtsZXQgaT10LTE7Zm9yKDtpPj0wJiYxMjg9PSgxOTImZVtpXSk7KWktLTtyZXR1cm4gaTwwfHwwPT09aT90OmkrQllbZVtpXV0+dD9pOnR9fTt2YXIgR1k9ZnVuY3Rpb24oKXt0aGlzLmlucHV0PW51bGwsdGhpcy5uZXh0X2luPTAsdGhpcy5hdmFpbF9pbj0wLHRoaXMudG90YWxfaW49MCx0aGlzLm91dHB1dD1udWxsLHRoaXMubmV4dF9vdXQ9MCx0aGlzLmF2YWlsX291dD0wLHRoaXMudG90YWxfb3V0PTAsdGhpcy5tc2c9XCJcIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTB9O2NvbnN0IFdZPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcse1pfTk9fRkxVU0g6SFksWl9TWU5DX0ZMVVNIOktZLFpfRlVMTF9GTFVTSDpZWSxaX0ZJTklTSDp6WSxaX09LOnFZLFpfU1RSRUFNX0VORDpYWSxaX0RFRkFVTFRfQ09NUFJFU1NJT046SlksWl9ERUZBVUxUX1NUUkFURUdZOlFZLFpfREVGTEFURUQ6Wll9PVBLO2Z1bmN0aW9uICRZKGUpe3RoaXMub3B0aW9ucz14WS5hc3NpZ24oe2xldmVsOkpZLG1ldGhvZDpaWSxjaHVua1NpemU6MTYzODQsd2luZG93Qml0czoxNSxtZW1MZXZlbDo4LHN0cmF0ZWd5OlFZfSxlfHx7fSk7bGV0IHQ9dGhpcy5vcHRpb25zO3QucmF3JiZ0LndpbmRvd0JpdHM+MD90LndpbmRvd0JpdHM9LXQud2luZG93Qml0czp0Lmd6aXAmJnQud2luZG93Qml0cz4wJiZ0LndpbmRvd0JpdHM8MTYmJih0LndpbmRvd0JpdHMrPTE2KSx0aGlzLmVycj0wLHRoaXMubXNnPVwiXCIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IEdZLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDtsZXQgaT1VWS5kZWZsYXRlSW5pdDIodGhpcy5zdHJtLHQubGV2ZWwsdC5tZXRob2QsdC53aW5kb3dCaXRzLHQubWVtTGV2ZWwsdC5zdHJhdGVneSk7aWYoaSE9PXFZKXRocm93IG5ldyBFcnJvcihES1tpXSk7aWYodC5oZWFkZXImJlVZLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLHQuaGVhZGVyKSx0LmRpY3Rpb25hcnkpe2xldCBlO2lmKGU9XCJzdHJpbmdcIj09dHlwZW9mIHQuZGljdGlvbmFyeT9qWS5zdHJpbmcyYnVmKHQuZGljdGlvbmFyeSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09V1kuY2FsbCh0LmRpY3Rpb25hcnkpP25ldyBVaW50OEFycmF5KHQuZGljdGlvbmFyeSk6dC5kaWN0aW9uYXJ5LGk9VVkuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGUpLGkhPT1xWSl0aHJvdyBuZXcgRXJyb3IoREtbaV0pO3RoaXMuX2RpY3Rfc2V0PSEwfX1mdW5jdGlvbiBleihlLHQpe2NvbnN0IGk9bmV3ICRZKHQpO2lmKGkucHVzaChlLCEwKSxpLmVycil0aHJvdyBpLm1zZ3x8REtbaS5lcnJdO3JldHVybiBpLnJlc3VsdH0kWS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe2NvbnN0IGk9dGhpcy5zdHJtLG49dGhpcy5vcHRpb25zLmNodW5rU2l6ZTtsZXQgcixvO2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7Zm9yKG89dD09PX5+dD90OiEwPT09dD96WTpIWSxcInN0cmluZ1wiPT10eXBlb2YgZT9pLmlucHV0PWpZLnN0cmluZzJidWYoZSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09V1kuY2FsbChlKT9pLmlucHV0PW5ldyBVaW50OEFycmF5KGUpOmkuaW5wdXQ9ZSxpLm5leHRfaW49MCxpLmF2YWlsX2luPWkuaW5wdXQubGVuZ3RoOzspaWYoMD09PWkuYXZhaWxfb3V0JiYoaS5vdXRwdXQ9bmV3IFVpbnQ4QXJyYXkobiksaS5uZXh0X291dD0wLGkuYXZhaWxfb3V0PW4pLChvPT09S1l8fG89PT1ZWSkmJmkuYXZhaWxfb3V0PD02KXRoaXMub25EYXRhKGkub3V0cHV0LnN1YmFycmF5KDAsaS5uZXh0X291dCkpLGkuYXZhaWxfb3V0PTA7ZWxzZXtpZihyPVVZLmRlZmxhdGUoaSxvKSxyPT09WFkpcmV0dXJuIGkubmV4dF9vdXQ+MCYmdGhpcy5vbkRhdGEoaS5vdXRwdXQuc3ViYXJyYXkoMCxpLm5leHRfb3V0KSkscj1VWS5kZWZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChyKSx0aGlzLmVuZGVkPSEwLHI9PT1xWTtpZigwIT09aS5hdmFpbF9vdXQpe2lmKG8+MCYmaS5uZXh0X291dD4wKXRoaXMub25EYXRhKGkub3V0cHV0LnN1YmFycmF5KDAsaS5uZXh0X291dCkpLGkuYXZhaWxfb3V0PTA7ZWxzZSBpZigwPT09aS5hdmFpbF9pbilicmVha31lbHNlIHRoaXMub25EYXRhKGkub3V0cHV0KX1yZXR1cm4hMH0sJFkucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihlKXt0aGlzLmNodW5rcy5wdXNoKGUpfSwkWS5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24oZSl7ZT09PXFZJiYodGhpcy5yZXN1bHQ9eFkuZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcykpLHRoaXMuY2h1bmtzPVtdLHRoaXMuZXJyPWUsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZ307dmFyIHR6PXtEZWZsYXRlOiRZLGRlZmxhdGU6ZXosZGVmbGF0ZVJhdzpmdW5jdGlvbihlLHQpe3JldHVybih0PXR8fHt9KS5yYXc9ITAsZXooZSx0KX0sZ3ppcDpmdW5jdGlvbihlLHQpe3JldHVybih0PXR8fHt9KS5nemlwPSEwLGV6KGUsdCl9LGNvbnN0YW50czpQS307Y29uc3QgaXo9MTYyMDk7dmFyIG56PWZ1bmN0aW9uKGUsdCl7bGV0IGksbixyLG8scyxhLGMsZCxsLHUsaCxwLF8sRSxtLGYsUyxnLFQsUixDLHYseSxJO2NvbnN0IEE9ZS5zdGF0ZTtpPWUubmV4dF9pbix5PWUuaW5wdXQsbj1pKyhlLmF2YWlsX2luLTUpLHI9ZS5uZXh0X291dCxJPWUub3V0cHV0LG89ci0odC1lLmF2YWlsX291dCkscz1yKyhlLmF2YWlsX291dC0yNTcpLGE9QS5kbWF4LGM9QS53c2l6ZSxkPUEud2hhdmUsbD1BLnduZXh0LHU9QS53aW5kb3csaD1BLmhvbGQscD1BLmJpdHMsXz1BLmxlbmNvZGUsRT1BLmRpc3Rjb2RlLG09KDE8PEEubGVuYml0cyktMSxmPSgxPDxBLmRpc3RiaXRzKS0xO2U6ZG97cDwxNSYmKGgrPXlbaSsrXTw8cCxwKz04LGgrPXlbaSsrXTw8cCxwKz04KSxTPV9baCZtXTt0OmZvcig7Oyl7aWYoZz1TPj4+MjQsaD4+Pj1nLHAtPWcsZz1TPj4+MTYmMjU1LDA9PT1nKUlbcisrXT02NTUzNSZTO2Vsc2V7aWYoISgxNiZnKSl7aWYoMD09KDY0JmcpKXtTPV9bKDY1NTM1JlMpKyhoJigxPDxnKS0xKV07Y29udGludWUgdH1pZigzMiZnKXtBLm1vZGU9MTYxOTE7YnJlYWsgZX1lLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZVwiLEEubW9kZT1pejticmVhayBlfVQ9NjU1MzUmUyxnJj0xNSxnJiYocDxnJiYoaCs9eVtpKytdPDxwLHArPTgpLFQrPWgmKDE8PGcpLTEsaD4+Pj1nLHAtPWcpLHA8MTUmJihoKz15W2krK108PHAscCs9OCxoKz15W2krK108PHAscCs9OCksUz1FW2gmZl07aTpmb3IoOzspe2lmKGc9Uz4+PjI0LGg+Pj49ZyxwLT1nLGc9Uz4+PjE2JjI1NSwhKDE2JmcpKXtpZigwPT0oNjQmZykpe1M9RVsoNjU1MzUmUykrKGgmKDE8PGcpLTEpXTtjb250aW51ZSBpfWUubXNnPVwiaW52YWxpZCBkaXN0YW5jZSBjb2RlXCIsQS5tb2RlPWl6O2JyZWFrIGV9aWYoUj02NTUzNSZTLGcmPTE1LHA8ZyYmKGgrPXlbaSsrXTw8cCxwKz04LHA8ZyYmKGgrPXlbaSsrXTw8cCxwKz04KSksUis9aCYoMTw8ZyktMSxSPmEpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixBLm1vZGU9aXo7YnJlYWsgZX1pZihoPj4+PWcscC09ZyxnPXItbyxSPmcpe2lmKGc9Ui1nLGc+ZCYmQS5zYW5lKXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsQS5tb2RlPWl6O2JyZWFrIGV9aWYoQz0wLHY9dSwwPT09bCl7aWYoQys9Yy1nLGc8VCl7VC09Zztkb3tJW3IrK109dVtDKytdfXdoaWxlKC0tZyk7Qz1yLVIsdj1JfX1lbHNlIGlmKGw8Zyl7aWYoQys9YytsLWcsZy09bCxnPFQpe1QtPWc7ZG97SVtyKytdPXVbQysrXX13aGlsZSgtLWcpO2lmKEM9MCxsPFQpe2c9bCxULT1nO2Rve0lbcisrXT11W0MrK119d2hpbGUoLS1nKTtDPXItUix2PUl9fX1lbHNlIGlmKEMrPWwtZyxnPFQpe1QtPWc7ZG97SVtyKytdPXVbQysrXX13aGlsZSgtLWcpO0M9ci1SLHY9SX1mb3IoO1Q+MjspSVtyKytdPXZbQysrXSxJW3IrK109dltDKytdLElbcisrXT12W0MrK10sVC09MztUJiYoSVtyKytdPXZbQysrXSxUPjEmJihJW3IrK109dltDKytdKSl9ZWxzZXtDPXItUjtkb3tJW3IrK109SVtDKytdLElbcisrXT1JW0MrK10sSVtyKytdPUlbQysrXSxULT0zfXdoaWxlKFQ+Mik7VCYmKElbcisrXT1JW0MrK10sVD4xJiYoSVtyKytdPUlbQysrXSkpfWJyZWFrfX1icmVha319d2hpbGUoaTxuJiZyPHMpO1Q9cD4+MyxpLT1ULHAtPVQ8PDMsaCY9KDE8PHApLTEsZS5uZXh0X2luPWksZS5uZXh0X291dD1yLGUuYXZhaWxfaW49aTxuP24taSs1OjUtKGktbiksZS5hdmFpbF9vdXQ9cjxzP3MtcisyNTc6MjU3LShyLXMpLEEuaG9sZD1oLEEuYml0cz1wfTtjb25zdCByej0xNSxvej1uZXcgVWludDE2QXJyYXkoWzMsNCw1LDYsNyw4LDksMTAsMTEsMTMsMTUsMTcsMTksMjMsMjcsMzEsMzUsNDMsNTEsNTksNjcsODMsOTksMTE1LDEzMSwxNjMsMTk1LDIyNywyNTgsMCwwXSksc3o9bmV3IFVpbnQ4QXJyYXkoWzE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE3LDE3LDE3LDE3LDE4LDE4LDE4LDE4LDE5LDE5LDE5LDE5LDIwLDIwLDIwLDIwLDIxLDIxLDIxLDIxLDE2LDcyLDc4XSksYXo9bmV3IFVpbnQxNkFycmF5KFsxLDIsMyw0LDUsNyw5LDEzLDE3LDI1LDMzLDQ5LDY1LDk3LDEyOSwxOTMsMjU3LDM4NSw1MTMsNzY5LDEwMjUsMTUzNywyMDQ5LDMwNzMsNDA5Nyw2MTQ1LDgxOTMsMTIyODksMTYzODUsMjQ1NzcsMCwwXSksY3o9bmV3IFVpbnQ4QXJyYXkoWzE2LDE2LDE2LDE2LDE3LDE3LDE4LDE4LDE5LDE5LDIwLDIwLDIxLDIxLDIyLDIyLDIzLDIzLDI0LDI0LDI1LDI1LDI2LDI2LDI3LDI3LDI4LDI4LDI5LDI5LDY0LDY0XSk7dmFyIGR6PShlLHQsaSxuLHIsbyxzLGEpPT57Y29uc3QgYz1hLmJpdHM7bGV0IGQsbCx1LGgscCxfLEU9MCxtPTAsZj0wLFM9MCxnPTAsVD0wLFI9MCxDPTAsdj0wLHk9MCxJPW51bGw7Y29uc3QgQT1uZXcgVWludDE2QXJyYXkoMTYpLGI9bmV3IFVpbnQxNkFycmF5KDE2KTtsZXQgdyxPLE4sRD1udWxsO2ZvcihFPTA7RTw9cno7RSsrKUFbRV09MDtmb3IobT0wO208bjttKyspQVt0W2krbV1dKys7Zm9yKGc9YyxTPXJ6O1M+PTEmJjA9PT1BW1NdO1MtLSk7aWYoZz5TJiYoZz1TKSwwPT09UylyZXR1cm4gcltvKytdPTIwOTcxNTIwLHJbbysrXT0yMDk3MTUyMCxhLmJpdHM9MSwwO2ZvcihmPTE7ZjxTJiYwPT09QVtmXTtmKyspO2ZvcihnPGYmJihnPWYpLEM9MSxFPTE7RTw9cno7RSsrKWlmKEM8PD0xLEMtPUFbRV0sQzwwKXJldHVybi0xO2lmKEM+MCYmKDA9PT1lfHwxIT09UykpcmV0dXJuLTE7Zm9yKGJbMV09MCxFPTE7RTxyejtFKyspYltFKzFdPWJbRV0rQVtFXTtmb3IobT0wO208bjttKyspMCE9PXRbaSttXSYmKHNbYlt0W2krbV1dKytdPW0pO2lmKDA9PT1lPyhJPUQ9cyxfPTIwKToxPT09ZT8oST1veixEPXN6LF89MjU3KTooST1heixEPWN6LF89MCkseT0wLG09MCxFPWYscD1vLFQ9ZyxSPTAsdT0tMSx2PTE8PGcsaD12LTEsMT09PWUmJnY+ODUyfHwyPT09ZSYmdj41OTIpcmV0dXJuIDE7Zm9yKDs7KXt3PUUtUixzW21dKzE8Xz8oTz0wLE49c1ttXSk6c1ttXT49Xz8oTz1EW3NbbV0tX10sTj1JW3NbbV0tX10pOihPPTk2LE49MCksZD0xPDxFLVIsbD0xPDxULGY9bDtkb3tsLT1kLHJbcCsoeT4+UikrbF09dzw8MjR8Tzw8MTZ8TnwwfXdoaWxlKDAhPT1sKTtmb3IoZD0xPDxFLTE7eSZkOylkPj49MTtpZigwIT09ZD8oeSY9ZC0xLHkrPWQpOnk9MCxtKyssMD09LS1BW0VdKXtpZihFPT09UylicmVhaztFPXRbaStzW21dXX1pZihFPmcmJih5JmgpIT09dSl7Zm9yKDA9PT1SJiYoUj1nKSxwKz1mLFQ9RS1SLEM9MTw8VDtUK1I8UyYmKEMtPUFbVCtSXSwhKEM8PTApKTspVCsrLEM8PD0xO2lmKHYrPTE8PFQsMT09PWUmJnY+ODUyfHwyPT09ZSYmdj41OTIpcmV0dXJuIDE7dT15Jmgsclt1XT1nPDwyNHxUPDwxNnxwLW98MH19cmV0dXJuIDAhPT15JiYocltwK3ldPUUtUjw8MjR8NjQ8PDE2fDApLGEuYml0cz1nLDB9O2NvbnN0e1pfRklOSVNIOmx6LFpfQkxPQ0s6dXosWl9UUkVFUzpoeixaX09LOnB6LFpfU1RSRUFNX0VORDpfeixaX05FRURfRElDVDpFeixaX1NUUkVBTV9FUlJPUjpteixaX0RBVEFfRVJST1I6ZnosWl9NRU1fRVJST1I6U3osWl9CVUZfRVJST1I6Z3osWl9ERUZMQVRFRDpUen09UEssUno9MTYxODAsQ3o9MTYxOTAsdno9MTYxOTEseXo9MTYxOTIsSXo9MTYxOTQsQXo9MTYxOTksYno9MTYyMDAsd3o9MTYyMDYsT3o9MTYyMDksTno9ZT0+KGU+Pj4yNCYyNTUpKyhlPj4+OCY2NTI4MCkrKCg2NTI4MCZlKTw8OCkrKCgyNTUmZSk8PDI0KTtmdW5jdGlvbiBEeigpe3RoaXMuc3RybT1udWxsLHRoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgVWludDE2QXJyYXkoMzIwKSx0aGlzLndvcms9bmV3IFVpbnQxNkFycmF5KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wfWNvbnN0IFB6PWU9PntpZighZSlyZXR1cm4gMTtjb25zdCB0PWUuc3RhdGU7cmV0dXJuIXR8fHQuc3RybSE9PWV8fHQubW9kZTxSenx8dC5tb2RlPjE2MjExPzE6MH0sTHo9ZT0+e2lmKFB6KGUpKXJldHVybiBtejtjb25zdCB0PWUuc3RhdGU7cmV0dXJuIGUudG90YWxfaW49ZS50b3RhbF9vdXQ9dC50b3RhbD0wLGUubXNnPVwiXCIsdC53cmFwJiYoZS5hZGxlcj0xJnQud3JhcCksdC5tb2RlPVJ6LHQubGFzdD0wLHQuaGF2ZWRpY3Q9MCx0LmZsYWdzPS0xLHQuZG1heD0zMjc2OCx0LmhlYWQ9bnVsbCx0LmhvbGQ9MCx0LmJpdHM9MCx0LmxlbmNvZGU9dC5sZW5keW49bmV3IEludDMyQXJyYXkoODUyKSx0LmRpc3Rjb2RlPXQuZGlzdGR5bj1uZXcgSW50MzJBcnJheSg1OTIpLHQuc2FuZT0xLHQuYmFjaz0tMSxwen0sa3o9ZT0+e2lmKFB6KGUpKXJldHVybiBtejtjb25zdCB0PWUuc3RhdGU7cmV0dXJuIHQud3NpemU9MCx0LndoYXZlPTAsdC53bmV4dD0wLEx6KGUpfSxNej0oZSx0KT0+e2xldCBpO2lmKFB6KGUpKXJldHVybiBtejtjb25zdCBuPWUuc3RhdGU7cmV0dXJuIHQ8MD8oaT0wLHQ9LXQpOihpPTUrKHQ+PjQpLHQ8NDgmJih0Jj0xNSkpLHQmJih0PDh8fHQ+MTUpP216OihudWxsIT09bi53aW5kb3cmJm4ud2JpdHMhPT10JiYobi53aW5kb3c9bnVsbCksbi53cmFwPWksbi53Yml0cz10LGt6KGUpKX0sVXo9KGUsdCk9PntpZighZSlyZXR1cm4gbXo7Y29uc3QgaT1uZXcgRHo7ZS5zdGF0ZT1pLGkuc3RybT1lLGkud2luZG93PW51bGwsaS5tb2RlPVJ6O2NvbnN0IG49TXooZSx0KTtyZXR1cm4gbiE9PXB6JiYoZS5zdGF0ZT1udWxsKSxufTtsZXQgVnoseHosRno9ITA7Y29uc3QgQno9ZT0+e2lmKEZ6KXtWej1uZXcgSW50MzJBcnJheSg1MTIpLHh6PW5ldyBJbnQzMkFycmF5KDMyKTtsZXQgdD0wO2Zvcig7dDwxNDQ7KWUubGVuc1t0KytdPTg7Zm9yKDt0PDI1NjspZS5sZW5zW3QrK109OTtmb3IoO3Q8MjgwOyllLmxlbnNbdCsrXT03O2Zvcig7dDwyODg7KWUubGVuc1t0KytdPTg7Zm9yKGR6KDEsZS5sZW5zLDAsMjg4LFZ6LDAsZS53b3JrLHtiaXRzOjl9KSx0PTA7dDwzMjspZS5sZW5zW3QrK109NTtkeigyLGUubGVucywwLDMyLHh6LDAsZS53b3JrLHtiaXRzOjV9KSxGej0hMX1lLmxlbmNvZGU9VnosZS5sZW5iaXRzPTksZS5kaXN0Y29kZT14eixlLmRpc3RiaXRzPTV9LGp6PShlLHQsaSxuKT0+e2xldCByO2NvbnN0IG89ZS5zdGF0ZTtyZXR1cm4gbnVsbD09PW8ud2luZG93JiYoby53c2l6ZT0xPDxvLndiaXRzLG8ud25leHQ9MCxvLndoYXZlPTAsby53aW5kb3c9bmV3IFVpbnQ4QXJyYXkoby53c2l6ZSkpLG4+PW8ud3NpemU/KG8ud2luZG93LnNldCh0LnN1YmFycmF5KGktby53c2l6ZSxpKSwwKSxvLnduZXh0PTAsby53aGF2ZT1vLndzaXplKToocj1vLndzaXplLW8ud25leHQscj5uJiYocj1uKSxvLndpbmRvdy5zZXQodC5zdWJhcnJheShpLW4saS1uK3IpLG8ud25leHQpLChuLT1yKT8oby53aW5kb3cuc2V0KHQuc3ViYXJyYXkoaS1uLGkpLDApLG8ud25leHQ9bixvLndoYXZlPW8ud3NpemUpOihvLnduZXh0Kz1yLG8ud25leHQ9PT1vLndzaXplJiYoby53bmV4dD0wKSxvLndoYXZlPG8ud3NpemUmJihvLndoYXZlKz1yKSkpLDB9O3ZhciBHej0oZSx0KT0+e2xldCBpLG4scixvLHMsYSxjLGQsbCx1LGgscCxfLEUsbSxmLFMsZyxULFIsQyx2LHk9MDtjb25zdCBJPW5ldyBVaW50OEFycmF5KDQpO2xldCBBLGI7Y29uc3Qgdz1uZXcgVWludDhBcnJheShbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pO2lmKFB6KGUpfHwhZS5vdXRwdXR8fCFlLmlucHV0JiYwIT09ZS5hdmFpbF9pbilyZXR1cm4gbXo7aT1lLnN0YXRlLGkubW9kZT09PXZ6JiYoaS5tb2RlPXl6KSxzPWUubmV4dF9vdXQscj1lLm91dHB1dCxjPWUuYXZhaWxfb3V0LG89ZS5uZXh0X2luLG49ZS5pbnB1dCxhPWUuYXZhaWxfaW4sZD1pLmhvbGQsbD1pLmJpdHMsdT1hLGg9Yyx2PXB6O2U6Zm9yKDs7KXN3aXRjaChpLm1vZGUpe2Nhc2UgUno6aWYoMD09PWkud3JhcCl7aS5tb2RlPXl6O2JyZWFrfWZvcig7bDwxNjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWlmKDImaS53cmFwJiYzNTYxNT09PWQpezA9PT1pLndiaXRzJiYoaS53Yml0cz0xNSksaS5jaGVjaz0wLElbMF09MjU1JmQsSVsxXT1kPj4+OCYyNTUsaS5jaGVjaz1OSyhpLmNoZWNrLEksMiwwKSxkPTAsbD0wLGkubW9kZT0xNjE4MTticmVha31pZihpLmhlYWQmJihpLmhlYWQuZG9uZT0hMSksISgxJmkud3JhcCl8fCgoKDI1NSZkKTw8OCkrKGQ+PjgpKSUzMSl7ZS5tc2c9XCJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrXCIsaS5tb2RlPU96O2JyZWFrfWlmKCgxNSZkKSE9PVR6KXtlLm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsaS5tb2RlPU96O2JyZWFrfWlmKGQ+Pj49NCxsLT00LEM9OCsoMTUmZCksMD09PWkud2JpdHMmJihpLndiaXRzPUMpLEM+MTV8fEM+aS53Yml0cyl7ZS5tc2c9XCJpbnZhbGlkIHdpbmRvdyBzaXplXCIsaS5tb2RlPU96O2JyZWFrfWkuZG1heD0xPDxpLndiaXRzLGkuZmxhZ3M9MCxlLmFkbGVyPWkuY2hlY2s9MSxpLm1vZGU9NTEyJmQ/MTYxODk6dnosZD0wLGw9MDticmVhaztjYXNlIDE2MTgxOmZvcig7bDwxNjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWlmKGkuZmxhZ3M9ZCwoMjU1JkJIKGkpKSE9PVR6KXtlLm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsaS5tb2RlPU96O2JyZWFrfWlmKDU3MzQ0JkJIKGkpKXtlLm1zZz1cInVua25vd24gaGVhZGVyIGZsYWdzIHNldFwiLGkubW9kZT1PejticmVha31pLmhlYWQmJihpLmhlYWQudGV4dD1kPj44JjEpLDUxMiZCSChpKSYmNCZpLndyYXAmJihJWzBdPTI1NSZkLElbMV09ZD4+PjgmMjU1LGkuY2hlY2s9TksoaS5jaGVjayxJLDIsMCkpLGQ9MCxsPTAsaS5tb2RlPTE2MTgyO2Nhc2UgMTYxODI6Zm9yKDtsPDMyOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltvKytdPDxsLGwrPTh9aS5oZWFkJiYoaS5oZWFkLnRpbWU9ZCksNTEyJkJIKGkpJiY0Jmkud3JhcCYmKElbMF09MjU1JmQsSVsxXT1kPj4+OCYyNTUsSVsyXT1kPj4+MTYmMjU1LElbM109ZD4+PjI0JjI1NSxpLmNoZWNrPU5LKGkuY2hlY2ssSSw0LDApKSxkPTAsbD0wLGkubW9kZT0xNjE4MztjYXNlIDE2MTgzOmZvcig7bDwxNjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWkuaGVhZCYmKGkuaGVhZC54ZmxhZ3M9MjU1JmQsaS5oZWFkLm9zPWQ+PjgpLDUxMiZCSChpKSYmNCZpLndyYXAmJihJWzBdPTI1NSZkLElbMV09ZD4+PjgmMjU1LGkuY2hlY2s9TksoaS5jaGVjayxJLDIsMCkpLGQ9MCxsPTAsaS5tb2RlPTE2MTg0O2Nhc2UgMTYxODQ6aWYoMTAyNCZCSChpKSl7Zm9yKDtsPDE2Oyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltvKytdPDxsLGwrPTh9aS5sZW5ndGg9ZCxpLmhlYWQmJihpLmhlYWQuZXh0cmFfbGVuPWQpLDUxMiZCSChpKSYmNCZpLndyYXAmJihJWzBdPTI1NSZkLElbMV09ZD4+PjgmMjU1LGkuY2hlY2s9TksoaS5jaGVjayxJLDIsMCkpLGQ9MCxsPTB9ZWxzZSBpLmhlYWQmJihpLmhlYWQuZXh0cmE9bnVsbCk7aS5tb2RlPTE2MTg1O2Nhc2UgMTYxODU6aWYoMTAyNCZCSChpKSYmKHA9aS5sZW5ndGgscD5hJiYocD1hKSxwJiYoaS5oZWFkJiYoQz1pLmhlYWQuZXh0cmFfbGVuLWkubGVuZ3RoLGkuaGVhZC5leHRyYXx8KGkuaGVhZC5leHRyYT1uZXcgVWludDhBcnJheShpLmhlYWQuZXh0cmFfbGVuKSksaS5oZWFkLmV4dHJhLnNldChuLnN1YmFycmF5KG8sbytwKSxDKSksNTEyJkJIKGkpJiY0Jmkud3JhcCYmKGkuY2hlY2s9TksoaS5jaGVjayxuLHAsbykpLGEtPXAsbys9cCxpLmxlbmd0aC09cCksaS5sZW5ndGgpKWJyZWFrIGU7aS5sZW5ndGg9MCxpLm1vZGU9MTYxODY7Y2FzZSAxNjE4NjppZigyMDQ4JkJIKGkpKXtpZigwPT09YSlicmVhayBlO3A9MDtkb3tDPW5bbytwKytdLGkuaGVhZCYmQyYmaS5sZW5ndGg8NjU1MzYmJihpLmhlYWQubmFtZSs9U3RyaW5nLmZyb21DaGFyQ29kZShDKSl9d2hpbGUoQyYmcDxhKTtpZig1MTImQkgoaSkmJjQmaS53cmFwJiYoaS5jaGVjaz1OSyhpLmNoZWNrLG4scCxvKSksYS09cCxvKz1wLEMpYnJlYWsgZX1lbHNlIGkuaGVhZCYmKGkuaGVhZC5uYW1lPW51bGwpO2kubGVuZ3RoPTAsaS5tb2RlPTE2MTg3O2Nhc2UgMTYxODc6aWYoNDA5NiZCSChpKSl7aWYoMD09PWEpYnJlYWsgZTtwPTA7ZG97Qz1uW28rcCsrXSxpLmhlYWQmJkMmJmkubGVuZ3RoPDY1NTM2JiYoaS5oZWFkLmNvbW1lbnQrPVN0cmluZy5mcm9tQ2hhckNvZGUoQykpfXdoaWxlKEMmJnA8YSk7aWYoNTEyJkJIKGkpJiY0Jmkud3JhcCYmKGkuY2hlY2s9TksoaS5jaGVjayxuLHAsbykpLGEtPXAsbys9cCxDKWJyZWFrIGV9ZWxzZSBpLmhlYWQmJihpLmhlYWQuY29tbWVudD1udWxsKTtpLm1vZGU9MTYxODg7Y2FzZSAxNjE4ODppZig1MTImQkgoaSkpe2Zvcig7bDwxNjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWlmKDQmaS53cmFwJiZkIT09KDY1NTM1JmkuY2hlY2spKXtlLm1zZz1cImhlYWRlciBjcmMgbWlzbWF0Y2hcIixpLm1vZGU9T3o7YnJlYWt9ZD0wLGw9MH1pLmhlYWQmJihpLmhlYWQuaGNyYz1CSChpKT4+OSYxLGkuaGVhZC5kb25lPSEwKSxlLmFkbGVyPWkuY2hlY2s9MCxpLm1vZGU9dno7YnJlYWs7Y2FzZSAxNjE4OTpmb3IoO2w8MzI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1lLmFkbGVyPWkuY2hlY2s9TnooZCksZD0wLGw9MCxpLm1vZGU9Q3o7Y2FzZSBDejppZigwPT09aS5oYXZlZGljdClyZXR1cm4gZS5uZXh0X291dD1zLGUuYXZhaWxfb3V0PWMsZS5uZXh0X2luPW8sZS5hdmFpbF9pbj1hLGkuaG9sZD1kLGkuYml0cz1sLEV6O2UuYWRsZXI9aS5jaGVjaz0xLGkubW9kZT12ejtjYXNlIHZ6OmlmKHQ9PT11enx8dD09PWh6KWJyZWFrIGU7Y2FzZSB5ejppZihpLmxhc3Qpe2Q+Pj49NyZsLGwtPTcmbCxpLm1vZGU9d3o7YnJlYWt9Zm9yKDtsPDM7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1zd2l0Y2goaS5sYXN0PTEmZCxkPj4+PTEsbC09MSwzJmQpe2Nhc2UgMDppLm1vZGU9MTYxOTM7YnJlYWs7Y2FzZSAxOmlmKEJ6KGkpLGkubW9kZT1Beix0PT09aHope2Q+Pj49MixsLT0yO2JyZWFrIGV9YnJlYWs7Y2FzZSAyOmkubW9kZT0xNjE5NjticmVhaztjYXNlIDM6ZS5tc2c9XCJpbnZhbGlkIGJsb2NrIHR5cGVcIixpLm1vZGU9T3p9ZD4+Pj0yLGwtPTI7YnJlYWs7Y2FzZSAxNjE5Mzpmb3IoZD4+Pj03JmwsbC09NyZsO2w8MzI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1pZigoNjU1MzUmZCkhPShkPj4+MTZeNjU1MzUpKXtlLm1zZz1cImludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHNcIixpLm1vZGU9T3o7YnJlYWt9aWYoaS5sZW5ndGg9NjU1MzUmZCxkPTAsbD0wLGkubW9kZT1Jeix0PT09aHopYnJlYWsgZTtjYXNlIEl6OmkubW9kZT0xNjE5NTtjYXNlIDE2MTk1OmlmKHA9aS5sZW5ndGgscCl7aWYocD5hJiYocD1hKSxwPmMmJihwPWMpLDA9PT1wKWJyZWFrIGU7ci5zZXQobi5zdWJhcnJheShvLG8rcCkscyksYS09cCxvKz1wLGMtPXAscys9cCxpLmxlbmd0aC09cDticmVha31pLm1vZGU9dno7YnJlYWs7Y2FzZSAxNjE5Njpmb3IoO2w8MTQ7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1pZihpLm5sZW49MjU3KygzMSZkKSxkPj4+PTUsbC09NSxpLm5kaXN0PTErKDMxJmQpLGQ+Pj49NSxsLT01LGkubmNvZGU9NCsoMTUmZCksZD4+Pj00LGwtPTQsaS5ubGVuPjI4Nnx8aS5uZGlzdD4zMCl7ZS5tc2c9XCJ0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9sc1wiLGkubW9kZT1PejticmVha31pLmhhdmU9MCxpLm1vZGU9MTYxOTc7Y2FzZSAxNjE5Nzpmb3IoO2kuaGF2ZTxpLm5jb2RlOyl7Zm9yKDtsPDM7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1pLmxlbnNbd1tpLmhhdmUrK11dPTcmZCxkPj4+PTMsbC09M31mb3IoO2kuaGF2ZTwxOTspaS5sZW5zW3dbaS5oYXZlKytdXT0wO2lmKGkubGVuY29kZT1pLmxlbmR5bixpLmxlbmJpdHM9NyxBPXtiaXRzOmkubGVuYml0c30sdj1keigwLGkubGVucywwLDE5LGkubGVuY29kZSwwLGkud29yayxBKSxpLmxlbmJpdHM9QS5iaXRzLHYpe2UubXNnPVwiaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0XCIsaS5tb2RlPU96O2JyZWFrfWkuaGF2ZT0wLGkubW9kZT0xNjE5ODtjYXNlIDE2MTk4OmZvcig7aS5oYXZlPGkubmxlbitpLm5kaXN0Oyl7Zm9yKDt5PWkubGVuY29kZVtkJigxPDxpLmxlbmJpdHMpLTFdLG09eT4+PjI0LGY9eT4+PjE2JjI1NSxTPTY1NTM1JnksIShtPD1sKTspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWlmKFM8MTYpZD4+Pj1tLGwtPW0saS5sZW5zW2kuaGF2ZSsrXT1TO2Vsc2V7aWYoMTY9PT1TKXtmb3IoYj1tKzI7bDxiOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltvKytdPDxsLGwrPTh9aWYoZD4+Pj1tLGwtPW0sMD09PWkuaGF2ZSl7ZS5tc2c9XCJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0XCIsaS5tb2RlPU96O2JyZWFrfUM9aS5sZW5zW2kuaGF2ZS0xXSxwPTMrKDMmZCksZD4+Pj0yLGwtPTJ9ZWxzZSBpZigxNz09PVMpe2ZvcihiPW0rMztsPGI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1kPj4+PW0sbC09bSxDPTAscD0zKyg3JmQpLGQ+Pj49MyxsLT0zfWVsc2V7Zm9yKGI9bSs3O2w8Yjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWQ+Pj49bSxsLT1tLEM9MCxwPTExKygxMjcmZCksZD4+Pj03LGwtPTd9aWYoaS5oYXZlK3A+aS5ubGVuK2kubmRpc3Qpe2UubXNnPVwiaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdFwiLGkubW9kZT1PejticmVha31mb3IoO3AtLTspaS5sZW5zW2kuaGF2ZSsrXT1DfX1pZihpLm1vZGU9PT1PeilicmVhaztpZigwPT09aS5sZW5zWzI1Nl0pe2UubXNnPVwiaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrXCIsaS5tb2RlPU96O2JyZWFrfWlmKGkubGVuYml0cz05LEE9e2JpdHM6aS5sZW5iaXRzfSx2PWR6KDEsaS5sZW5zLDAsaS5ubGVuLGkubGVuY29kZSwwLGkud29yayxBKSxpLmxlbmJpdHM9QS5iaXRzLHYpe2UubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aHMgc2V0XCIsaS5tb2RlPU96O2JyZWFrfWlmKGkuZGlzdGJpdHM9NixpLmRpc3Rjb2RlPWkuZGlzdGR5bixBPXtiaXRzOmkuZGlzdGJpdHN9LHY9ZHooMixpLmxlbnMsaS5ubGVuLGkubmRpc3QsaS5kaXN0Y29kZSwwLGkud29yayxBKSxpLmRpc3RiaXRzPUEuYml0cyx2KXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2VzIHNldFwiLGkubW9kZT1PejticmVha31pZihpLm1vZGU9QXosdD09PWh6KWJyZWFrIGU7Y2FzZSBBejppLm1vZGU9Yno7Y2FzZSBiejppZihhPj02JiZjPj0yNTgpe2UubmV4dF9vdXQ9cyxlLmF2YWlsX291dD1jLGUubmV4dF9pbj1vLGUuYXZhaWxfaW49YSxpLmhvbGQ9ZCxpLmJpdHM9bCxueihlLGgpLHM9ZS5uZXh0X291dCxyPWUub3V0cHV0LGM9ZS5hdmFpbF9vdXQsbz1lLm5leHRfaW4sbj1lLmlucHV0LGE9ZS5hdmFpbF9pbixkPWkuaG9sZCxsPWkuYml0cyxpLm1vZGU9PT12eiYmKGkuYmFjaz0tMSk7YnJlYWt9Zm9yKGkuYmFjaz0wO3k9aS5sZW5jb2RlW2QmKDE8PGkubGVuYml0cyktMV0sbT15Pj4+MjQsZj15Pj4+MTYmMjU1LFM9NjU1MzUmeSwhKG08PWwpOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltvKytdPDxsLGwrPTh9aWYoZiYmMD09KDI0MCZmKSl7Zm9yKGc9bSxUPWYsUj1TO3k9aS5sZW5jb2RlW1IrKChkJigxPDxnK1QpLTEpPj5nKV0sbT15Pj4+MjQsZj15Pj4+MTYmMjU1LFM9NjU1MzUmeSwhKGcrbTw9bCk7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1kPj4+PWcsbC09ZyxpLmJhY2srPWd9aWYoZD4+Pj1tLGwtPW0saS5iYWNrKz1tLGkubGVuZ3RoPVMsMD09PWYpe2kubW9kZT0xNjIwNTticmVha31pZigzMiZmKXtpLmJhY2s9LTEsaS5tb2RlPXZ6O2JyZWFrfWlmKDY0JmYpe2UubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlXCIsaS5tb2RlPU96O2JyZWFrfWkuZXh0cmE9MTUmZixpLm1vZGU9MTYyMDE7Y2FzZSAxNjIwMTppZihpLmV4dHJhKXtmb3IoYj1pLmV4dHJhO2w8Yjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWkubGVuZ3RoKz1kJigxPDxpLmV4dHJhKS0xLGQ+Pj49aS5leHRyYSxsLT1pLmV4dHJhLGkuYmFjays9aS5leHRyYX1pLndhcz1pLmxlbmd0aCxpLm1vZGU9MTYyMDI7Y2FzZSAxNjIwMjpmb3IoO3k9aS5kaXN0Y29kZVtkJigxPDxpLmRpc3RiaXRzKS0xXSxtPXk+Pj4yNCxmPXk+Pj4xNiYyNTUsUz02NTUzNSZ5LCEobTw9bCk7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1pZigwPT0oMjQwJmYpKXtmb3IoZz1tLFQ9ZixSPVM7eT1pLmRpc3Rjb2RlW1IrKChkJigxPDxnK1QpLTEpPj5nKV0sbT15Pj4+MjQsZj15Pj4+MTYmMjU1LFM9NjU1MzUmeSwhKGcrbTw9bCk7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1kPj4+PWcsbC09ZyxpLmJhY2srPWd9aWYoZD4+Pj1tLGwtPW0saS5iYWNrKz1tLDY0JmYpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSBjb2RlXCIsaS5tb2RlPU96O2JyZWFrfWkub2Zmc2V0PVMsaS5leHRyYT0xNSZmLGkubW9kZT0xNjIwMztjYXNlIDE2MjAzOmlmKGkuZXh0cmEpe2ZvcihiPWkuZXh0cmE7bDxiOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltvKytdPDxsLGwrPTh9aS5vZmZzZXQrPWQmKDE8PGkuZXh0cmEpLTEsZD4+Pj1pLmV4dHJhLGwtPWkuZXh0cmEsaS5iYWNrKz1pLmV4dHJhfWlmKGkub2Zmc2V0PmkuZG1heCl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLGkubW9kZT1PejticmVha31pLm1vZGU9MTYyMDQ7Y2FzZSAxNjIwNDppZigwPT09YylicmVhayBlO2lmKHA9aC1jLGkub2Zmc2V0PnApe2lmKHA9aS5vZmZzZXQtcCxwPmkud2hhdmUmJmkuc2FuZSl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLGkubW9kZT1PejticmVha31wPmkud25leHQ/KHAtPWkud25leHQsXz1pLndzaXplLXApOl89aS53bmV4dC1wLHA+aS5sZW5ndGgmJihwPWkubGVuZ3RoKSxFPWkud2luZG93fWVsc2UgRT1yLF89cy1pLm9mZnNldCxwPWkubGVuZ3RoO3A+YyYmKHA9YyksYy09cCxpLmxlbmd0aC09cDtkb3tyW3MrK109RVtfKytdfXdoaWxlKC0tcCk7MD09PWkubGVuZ3RoJiYoaS5tb2RlPWJ6KTticmVhaztjYXNlIDE2MjA1OmlmKDA9PT1jKWJyZWFrIGU7cltzKytdPWkubGVuZ3RoLGMtLSxpLm1vZGU9Yno7YnJlYWs7Y2FzZSB3ejppZihpLndyYXApe2Zvcig7bDwzMjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGR8PW5bbysrXTw8bCxsKz04fWlmKGgtPWMsZS50b3RhbF9vdXQrPWgsaS50b3RhbCs9aCw0Jmkud3JhcCYmaCYmKGUuYWRsZXI9aS5jaGVjaz1CSChpKT9OSyhpLmNoZWNrLHIsaCxzLWgpOndLKGkuY2hlY2sscixoLHMtaCkpLGg9Yyw0Jmkud3JhcCYmKEJIKGkpP2Q6TnooZCkpIT09aS5jaGVjayl7ZS5tc2c9XCJpbmNvcnJlY3QgZGF0YSBjaGVja1wiLGkubW9kZT1PejticmVha31kPTAsbD0wfWkubW9kZT0xNjIwNztjYXNlIDE2MjA3OmlmKGkud3JhcCYmQkgoaSkpe2Zvcig7bDwzMjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWlmKDQmaS53cmFwJiZkIT09KDQyOTQ5NjcyOTUmaS50b3RhbCkpe2UubXNnPVwiaW5jb3JyZWN0IGxlbmd0aCBjaGVja1wiLGkubW9kZT1PejticmVha31kPTAsbD0wfWkubW9kZT0xNjIwODtjYXNlIDE2MjA4OnY9X3o7YnJlYWsgZTtjYXNlIE96OnY9Zno7YnJlYWsgZTtjYXNlIDE2MjEwOnJldHVybiBTejtkZWZhdWx0OnJldHVybiBten1yZXR1cm4gZS5uZXh0X291dD1zLGUuYXZhaWxfb3V0PWMsZS5uZXh0X2luPW8sZS5hdmFpbF9pbj1hLGkuaG9sZD1kLGkuYml0cz1sLChpLndzaXplfHxoIT09ZS5hdmFpbF9vdXQmJmkubW9kZTxPeiYmKGkubW9kZTx3enx8dCE9PWx6KSkmJmp6KGUsZS5vdXRwdXQsZS5uZXh0X291dCxoLWUuYXZhaWxfb3V0KSx1LT1lLmF2YWlsX2luLGgtPWUuYXZhaWxfb3V0LGUudG90YWxfaW4rPXUsZS50b3RhbF9vdXQrPWgsaS50b3RhbCs9aCw0Jmkud3JhcCYmaCYmKGUuYWRsZXI9aS5jaGVjaz1CSChpKT9OSyhpLmNoZWNrLHIsaCxlLm5leHRfb3V0LWgpOndLKGkuY2hlY2sscixoLGUubmV4dF9vdXQtaCkpLGUuZGF0YV90eXBlPWkuYml0cysoaS5sYXN0PzY0OjApKyhpLm1vZGU9PT12ej8xMjg6MCkrKGkubW9kZT09PUF6fHxpLm1vZGU9PT1Jej8yNTY6MCksKDA9PT11JiYwPT09aHx8dD09PWx6KSYmdj09PXB6JiYodj1neiksdn0sV3o9e2luZmxhdGVSZXNldDpreixpbmZsYXRlUmVzZXQyOk16LGluZmxhdGVSZXNldEtlZXA6THosaW5mbGF0ZUluaXQ6ZT0+VXooZSwxNSksaW5mbGF0ZUluaXQyOlV6LGluZmxhdGU6R3osaW5mbGF0ZUVuZDplPT57aWYoUHooZSkpcmV0dXJuIG16O2xldCB0PWUuc3RhdGU7cmV0dXJuIHQud2luZG93JiYodC53aW5kb3c9bnVsbCksZS5zdGF0ZT1udWxsLHB6fSxpbmZsYXRlR2V0SGVhZGVyOihlLHQpPT57aWYoUHooZSkpcmV0dXJuIG16O2NvbnN0IGk9ZS5zdGF0ZTtyZXR1cm4gMD09KDImaS53cmFwKT9tejooaS5oZWFkPXQsdC5kb25lPSExLHB6KX0saW5mbGF0ZVNldERpY3Rpb25hcnk6KGUsdCk9Pntjb25zdCBpPXQubGVuZ3RoO2xldCBuLHIsbztyZXR1cm4gUHooZSk/bXo6KG49ZS5zdGF0ZSwwIT09bi53cmFwJiZuLm1vZGUhPT1Dej9tejpuLm1vZGU9PT1DeiYmKHI9MSxyPXdLKHIsdCxpLDApLHIhPT1uLmNoZWNrKT9mejoobz1qeihlLHQsaSxpKSxvPyhuLm1vZGU9MTYyMTAsU3opOihuLmhhdmVkaWN0PTEscHopKSl9LGluZmxhdGVJbmZvOlwicGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifTt2YXIgSHo9ZnVuY3Rpb24oKXt0aGlzLnRleHQ9MCx0aGlzLnRpbWU9MCx0aGlzLnhmbGFncz0wLHRoaXMub3M9MCx0aGlzLmV4dHJhPW51bGwsdGhpcy5leHRyYV9sZW49MCx0aGlzLm5hbWU9XCJcIix0aGlzLmNvbW1lbnQ9XCJcIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9O2NvbnN0IEt6PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcse1pfTk9fRkxVU0g6WXosWl9GSU5JU0g6enosWl9PSzpxeixaX1NUUkVBTV9FTkQ6WHosWl9ORUVEX0RJQ1Q6SnosWl9TVFJFQU1fRVJST1I6UXosWl9EQVRBX0VSUk9SOlp6LFpfTUVNX0VSUk9SOiR6fT1QSztmdW5jdGlvbiBlcShlKXt0aGlzLm9wdGlvbnM9eFkuYXNzaWduKHtjaHVua1NpemU6NjU1MzYsd2luZG93Qml0czoxNSx0bzpcIlwifSxlfHx7fSk7Y29uc3QgdD10aGlzLm9wdGlvbnM7dC5yYXcmJnQud2luZG93Qml0cz49MCYmdC53aW5kb3dCaXRzPDE2JiYodC53aW5kb3dCaXRzPS10LndpbmRvd0JpdHMsMD09PXQud2luZG93Qml0cyYmKHQud2luZG93Qml0cz0tMTUpKSwhKHQud2luZG93Qml0cz49MCYmdC53aW5kb3dCaXRzPDE2KXx8ZSYmZS53aW5kb3dCaXRzfHwodC53aW5kb3dCaXRzKz0zMiksdC53aW5kb3dCaXRzPjE1JiZ0LndpbmRvd0JpdHM8NDgmJjA9PSgxNSZ0LndpbmRvd0JpdHMpJiYodC53aW5kb3dCaXRzfD0xNSksdGhpcy5lcnI9MCx0aGlzLm1zZz1cIlwiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBHWSx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7bGV0IGk9V3ouaW5mbGF0ZUluaXQyKHRoaXMuc3RybSx0LndpbmRvd0JpdHMpO2lmKGkhPT1xeil0aHJvdyBuZXcgRXJyb3IoREtbaV0pO2lmKHRoaXMuaGVhZGVyPW5ldyBIeixXei5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSx0aGlzLmhlYWRlciksdC5kaWN0aW9uYXJ5JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQuZGljdGlvbmFyeT90LmRpY3Rpb25hcnk9alkuc3RyaW5nMmJ1Zih0LmRpY3Rpb25hcnkpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PUt6LmNhbGwodC5kaWN0aW9uYXJ5KSYmKHQuZGljdGlvbmFyeT1uZXcgVWludDhBcnJheSh0LmRpY3Rpb25hcnkpKSx0LnJhdyYmKGk9V3ouaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLHQuZGljdGlvbmFyeSksaSE9PXF6KSkpdGhyb3cgbmV3IEVycm9yKERLW2ldKX1mdW5jdGlvbiB0cShlLHQpe2NvbnN0IGk9bmV3IGVxKHQpO2lmKGkucHVzaChlKSxpLmVycil0aHJvdyBpLm1zZ3x8REtbaS5lcnJdO3JldHVybiBpLnJlc3VsdH1lcS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe2NvbnN0IGk9dGhpcy5zdHJtLG49dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxyPXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5O2xldCBvLHMsYTtpZih0aGlzLmVuZGVkKXJldHVybiExO2ZvcihzPXQ9PT1+fnQ/dDohMD09PXQ/eno6WXosXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09S3ouY2FsbChlKT9pLmlucHV0PW5ldyBVaW50OEFycmF5KGUpOmkuaW5wdXQ9ZSxpLm5leHRfaW49MCxpLmF2YWlsX2luPWkuaW5wdXQubGVuZ3RoOzspe2ZvcigwPT09aS5hdmFpbF9vdXQmJihpLm91dHB1dD1uZXcgVWludDhBcnJheShuKSxpLm5leHRfb3V0PTAsaS5hdmFpbF9vdXQ9biksbz1Xei5pbmZsYXRlKGkscyksbz09PUp6JiZyJiYobz1Xei5pbmZsYXRlU2V0RGljdGlvbmFyeShpLHIpLG89PT1xej9vPVd6LmluZmxhdGUoaSxzKTpvPT09WnomJihvPUp6KSk7aS5hdmFpbF9pbj4wJiZvPT09WHomJmkuc3RhdGUud3JhcD4wJiYwIT09ZVtpLm5leHRfaW5dOylXei5pbmZsYXRlUmVzZXQoaSksbz1Xei5pbmZsYXRlKGkscyk7c3dpdGNoKG8pe2Nhc2UgUXo6Y2FzZSBaejpjYXNlIEp6OmNhc2UgJHo6cmV0dXJuIHRoaXMub25FbmQobyksdGhpcy5lbmRlZD0hMCwhMX1pZihhPWkuYXZhaWxfb3V0LGkubmV4dF9vdXQmJigwPT09aS5hdmFpbF9vdXR8fG89PT1YeikpaWYoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50byl7bGV0IGU9alkudXRmOGJvcmRlcihpLm91dHB1dCxpLm5leHRfb3V0KSx0PWkubmV4dF9vdXQtZSxyPWpZLmJ1ZjJzdHJpbmcoaS5vdXRwdXQsZSk7aS5uZXh0X291dD10LGkuYXZhaWxfb3V0PW4tdCx0JiZpLm91dHB1dC5zZXQoaS5vdXRwdXQuc3ViYXJyYXkoZSxlK3QpLDApLHRoaXMub25EYXRhKHIpfWVsc2UgdGhpcy5vbkRhdGEoaS5vdXRwdXQubGVuZ3RoPT09aS5uZXh0X291dD9pLm91dHB1dDppLm91dHB1dC5zdWJhcnJheSgwLGkubmV4dF9vdXQpKTtpZihvIT09cXp8fDAhPT1hKXtpZihvPT09WHopcmV0dXJuIG89V3ouaW5mbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQobyksdGhpcy5lbmRlZD0hMCwhMDtpZigwPT09aS5hdmFpbF9pbilicmVha319cmV0dXJuITB9LGVxLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5jaHVua3MucHVzaChlKX0sZXEucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKGUpe2U9PT1xeiYmKFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbihcIlwiKTp0aGlzLnJlc3VsdD14WS5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9ZSx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfTt2YXIgaXE9e0luZmxhdGU6ZXEsaW5mbGF0ZTp0cSxpbmZsYXRlUmF3OmZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9dHx8e30pLnJhdz0hMCx0cShlLHQpfSx1bmd6aXA6dHEsY29uc3RhbnRzOlBLfTtjb25zdHtEZWZsYXRlOm5xLGRlZmxhdGU6cnEsZGVmbGF0ZVJhdzpvcSxnemlwOnNxfT10eix7SW5mbGF0ZTphcSxpbmZsYXRlOmNxLGluZmxhdGVSYXc6ZHEsdW5nemlwOmxxfT1pcTt2YXIgdXE9cnEsaHE9b3EscHE9Y3EsX3E9ZHEsRXE9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5PTkVfQllURT0wXT1cIk9ORV9CWVRFXCIsZVtlLlRXT19CWVRFPTFdPVwiVFdPX0JZVEVcIixlfShFcXx8e30pO2NsYXNzIG1xe2NvbnN0cnVjdG9yKCl7aUEodGhpcyxcIl9zZXF1ZW5jZVwiLDApLGlBKHRoaXMsXCJfc3RhcnRUaW1lXCIsRGF0ZS5ub3coKSksaUEodGhpcyxcImlzVXNlT25lQnl0ZVwiLCEwKX1nZXQgc3RhcnRUaW1lKCl7Y29uc3QgZT1EYXRlLm5vdygpLXRoaXMuX3N0YXJ0VGltZTtyZXR1cm4gZTxNYXRoLnBvdygyLDE2KT9lOih0aGlzLl9zdGFydFRpbWUrPU1hdGgucG93KDIsMTYpLHRoaXMuc3RhcnRUaW1lKX1nZXQgc2VxdWVuY2UoKXtyZXR1cm4gdGhpcy5fc2VxdWVuY2U8TWF0aC5wb3coMiwzMik/dGhpcy5fc2VxdWVuY2UrKzoodGhpcy5fc2VxdWVuY2UtPU1hdGgucG93KDIsMzIpLHRoaXMuc2VxdWVuY2UpfXNlcmlhbGl6ZShlKXtjb25zdCB0PXtjb21tb25QYWNrZXRIZWFkZXI6e2xlbmd0aDowLHJlc2VydmVkOjAsZXh0ZW5zaW9uOjAsc2VxdWVuY2U6dGhpcy5zZXF1ZW5jZX0sY29tbW9uU3RyZWFtSGVhZGVyOnRoaXMuc3RhcnRUaW1lLGV4dGVuc2lvbjp2b2lkIDAscGF5bG9hZDplfTtpZihlLmJ5dGVMZW5ndGg+MTI4KXtjb25zdCBpPW5ldyBVaW50OEFycmF5KDQpO2kuc2V0KFsxLDAsMCwwXSk7Y29uc3Qgbj17aWQ6MCxsZW5ndGg6NCxkYXRhOmkuYnVmZmVyfSxyPXtwcm9maWxlOnRoaXMuaXNVc2VPbmVCeXRlPzA6MSxsZW5ndGg6dGhpcy5pc1VzZU9uZUJ5dGU/NTo2LGRhdGFzOltuXX07dC5jb21tb25QYWNrZXRIZWFkZXIuZXh0ZW5zaW9uPTEsdC5leHRlbnNpb249cix0LnBheWxvYWQ9dGhpcy5jb21wcmVzcyhlKSx0LmNvbW1vblBhY2tldEhlYWRlci5sZW5ndGg9OCsodC5leHRlbnNpb24ubGVuZ3RoKzIpK3QucGF5bG9hZC5ieXRlTGVuZ3RofWVsc2UgdC5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoPTgrdC5wYXlsb2FkLmJ5dGVMZW5ndGg7Q0QoXCJTSE9XX0RBVEFTVFJFQU0yX0xPR1wiKSYmaVAuZGVidWcoXCJzZW5kIGRhdGEgaGVhZGVyOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodC5jb21tb25QYWNrZXRIZWFkZXIpKSk7Y29uc3QgaT1uZXcgQXJyYXlCdWZmZXIodC5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoKSxuPW5ldyBVaW50OEFycmF5KGkpLHI9bmV3IERhdGFWaWV3KGkpO2xldCBvPTA7aWYoci5zZXRVaW50MTYobyx0LmNvbW1vblBhY2tldEhlYWRlci5leHRlbnNpb248PDE1fHQuY29tbW9uUGFja2V0SGVhZGVyLnJlc2VydmVkPDwxNHx0LmNvbW1vblBhY2tldEhlYWRlci5sZW5ndGgsITApLG8rPTIsci5zZXRVaW50MzIobyx0LmNvbW1vblBhY2tldEhlYWRlci5zZXF1ZW5jZSwhMCksbys9NCxyLnNldFVpbnQxNihvLHQuY29tbW9uU3RyZWFtSGVhZGVyLCEwKSxvKz0yLHQuZXh0ZW5zaW9uKXtjb25zdCBlPXRoaXMuc2VyaWFsaXplRXh0ZW5zaW9uKHQuZXh0ZW5zaW9uKTtuLnNldChuZXcgVWludDhBcnJheShlKSxvKSxvKz1lLmJ5dGVMZW5ndGh9aWYobi5zZXQobmV3IFVpbnQ4QXJyYXkodC5wYXlsb2FkKSxvKSxvKz10LnBheWxvYWQuYnl0ZUxlbmd0aCxvIT09dC5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoKXRocm93IEVycm9yKFwic2VyaWFsaXplIGVycm9yIVwiKTtyZXR1cm4gaX1kZXNlcmlhbGl6ZShlKXtpZihlLmJ5dGVMZW5ndGg8NClyZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO2NvbnN0IHQ9bmV3IERhdGFWaWV3KGUpO2xldCBpPTA7Y29uc3Qgbj10LmdldFVpbnQxNihpLCEwKTtpKz0yO2NvbnN0IHI9e2xlbmd0aDoxNjM4MyZuLHJlc2VydmVkOigxNjM4NCZuKT4+MTQsZXh0ZW5zaW9uOigzMjc2OCZuKT4+MTUsc2VxdWVuY2U6dC5nZXRVaW50MTYoaSsyLCEwKTw8MTZ8dC5nZXRVaW50MTYoaSwhMCl9O2xldCBvLHM7aWYoaSs9NCxDRChcIlNIT1dfREFUQVNUUkVBTTJfTE9HXCIpJiZpUC5kZWJ1ZyhcInJlY2VpdmUgZGF0YSBoZWFkZXI6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShyKSkpLHQuZ2V0VWludDE2KGksITApLGkrPTIsci5leHRlbnNpb24pe3M9dGhpcy5kZXNlcmlhbGl6ZUV4dGVuc2lvbihlLnNsaWNlKGkpKSxpKz0yK3MubGVuZ3RoLG89ZS5zbGljZShpKTtsZXQgdD0hMTtpZihzLmRhdGFzLmxlbmd0aD4wKXtjb25zdCBlPXMuZGF0YXMuZmluZCgoZT0+MD09PWUuaWQpKTtpZihlKXt0PTE9PSgxJm5ldyBEYXRhVmlldyhlLmRhdGEpLmdldFVpbnQzMigwLCEwKSl9fW89dD90aGlzLmRlY29tcHJlc3Mobyk6b31lbHNlIG89ZS5zbGljZSg4KTtyZXR1cm4gb31zZXJpYWxpemVFeHRlbnNpb24oZSl7Y29uc3R7cHJvZmlsZTp0LGxlbmd0aDppLGRhdGFzOm59PWUscj1uZXcgQXJyYXlCdWZmZXIoaSsyKSxvPW5ldyBVaW50OEFycmF5KHIpLHM9bmV3IERhdGFWaWV3KHIpO2xldCBhPTA7aWYocy5zZXRVaW50OChhKyssdCkscy5zZXRVaW50OChhKyssaSksbi5mb3JFYWNoKChlPT57dD8ocy5zZXRVaW50OChhKyssZS5pZCkscy5zZXRVaW50OChhKyssZS5sZW5ndGgpLG8uc2V0KG5ldyBVaW50OEFycmF5KGUuZGF0YSksYSksYSs9ZS5kYXRhLmJ5dGVMZW5ndGgpOihzLnNldFVpbnQ4KGErKyxlLmlkfGUubGVuZ3RoPDw0KSxvLnNldChuZXcgVWludDhBcnJheShlLmRhdGEpLGEpLGErPWUuZGF0YS5ieXRlTGVuZ3RoKX0pKSxhIT09aSsyKXRocm93IEVycm9yKFwic2VyaWFsaXplIGV4dGVuc2lvbiBlcnJvciwgaXMgXCIuY29uY2F0KGEsXCIhPT1cIikuY29uY2F0KGkrMikpO3JldHVybiByfWRlc2VyaWFsaXplRXh0ZW5zaW9uKGUpe2NvbnN0IHQ9bmV3IERhdGFWaWV3KGUpO2xldCBpPTA7Y29uc3Qgbj10LmdldFVpbnQ4KGkpO2krKztjb25zdCByPXQuZ2V0VWludDgoaSk7aSsrO2NvbnN0IG89bj09PUVxLlRXT19CWVRFLHM9W10sYT1uZXcgRGF0YVZpZXcoZSwyKTtsZXQgYz0wO2Zvcig7YzxyOyl7bGV0IGU9MCx0PTAsaT1uZXcgQXJyYXlCdWZmZXIoMCk7bz8oZT1hLmdldFVpbnQ4KGMpLGMrKyx0PWEuZ2V0VWludDgoYyksYysrKTooZT0xNSZhLmdldFVpbnQ4KGMpLHQ9YS5nZXRVaW50OChjKT4+NCxjKyspLHQ+MCYmKGk9YS5idWZmZXIuc2xpY2UoYysyLGMrMit0KSxjKz1pLmJ5dGVMZW5ndGgpLHMucHVzaCh7aWQ6ZSxsZW5ndGg6dCxkYXRhOml9KX1pZihjIT09cil0aHJvdyBFcnJvcihcInBhcnNlIGVycm9yXCIpO3JldHVybntwcm9maWxlOm4sbGVuZ3RoOnIsZGF0YXM6c319ZGVjb21wcmVzcyhlKXtyZXR1cm4gcHEobmV3IFVpbnQ4QXJyYXkoZSkpfWNvbXByZXNzKGUpe3JldHVybiB1cShuZXcgVWludDhBcnJheShlKSl9fWNvbnN0IGZxPXtuYW1lOlwiRGF0YVN0cmVhbVwiLGNyZWF0ZTooZSx0KT0+e2NvbnN0IGk9dD9uZXcgaVUoZSk6bmV3IG5VKGUpO3JldHVybiBpLnVzZURhdGFTdHJlYW0obmV3IG1xKSxpfX07Y2xhc3MgU3EgZXh0ZW5kcyBOT3tjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoKSxpQSh0aGlzLFwid3NcIix2b2lkIDApLGlBKHRoaXMsXCJyZXF1ZXN0SWRcIiwxKSxpQSh0aGlzLFwiaGVhcnRCZWF0VGltZXJcIix2b2lkIDApLGlBKHRoaXMsXCJqb2luSW5mb1wiLHZvaWQgMCksaUEodGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxpQSh0aGlzLFwib25PcGVuXCIsKCgpPT57dGhpcy5lbWl0KFwib3BlblwiKSx0aGlzLnN0YXJ0SGVhcnRCZWF0Q2hlY2soKX0pKSxpQSh0aGlzLFwib25DbG9zZVwiLChlPT57dGhpcy5lbWl0KFwiY2xvc2VcIiksdGhpcy5kaXNwb3NlKCl9KSksaUEodGhpcyxcIm9uTWVzc2FnZVwiLChlPT57Y29uc3QgdD1KU09OLnBhcnNlKGUuZGF0YSk7aWYoIXR8fFwic2VydmVyUmVzcG9uc2VcIiE9PXQuY29tbWFuZHx8IXQucmVxdWVzdElkKXJldHVybiB0JiZcInNlcnZlclN0YXR1c1wiPT09dC5jb21tYW5kJiZ0LnNlcnZlclN0YXR1cyYmdC5zZXJ2ZXJTdGF0dXMuY29tbWFuZD8odGhpcy5lbWl0KFwic3RhdHVzXCIsdC5zZXJ2ZXJTdGF0dXMpLHZvaWQgdGhpcy5lbWl0KHQuc2VydmVyU3RhdHVzLmNvbW1hbmQsdC5zZXJ2ZXJTdGF0dXMpKTp2b2lkIDA7dGhpcy5lbWl0KFwicmVxX1wiLmNvbmNhdCh0LnJlcXVlc3RJZCksdCl9KSksdGhpcy5qb2luSW5mbz1lLHRoaXMuY2xpZW50SWQ9dCx0aGlzLndzPW5ldyAkeChcImNyb3NzLWNoYW5uZWwtXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLGkpLHRoaXMud3Mub24oV1YuUkVDT05ORUNUSU5HLCgoKT0+e3RoaXMud3MucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsdGhpcy5lbWl0KFwicmVjb25uZWN0aW5nXCIpfSkpLHRoaXMud3Mub24oV1YuQ09OTkVDVEVELHRoaXMub25PcGVuKSx0aGlzLndzLm9uKFdWLk9OX01FU1NBR0UsdGhpcy5vbk1lc3NhZ2UpLHRoaXMud3Mub24oV1YuQ0xPU0VELHRoaXMub25DbG9zZSl9aXNDb25uZWN0KCl7cmV0dXJuXCJjb25uZWN0ZWRcIj09PXRoaXMud3Muc3RhdGV9c2VuZE1lc3NhZ2UoZSl7Y29uc3QgdD10aGlzLnJlcXVlc3RJZCsrO3JldHVybiBlLnJlcXVlc3RJZD10LGUuc2VxPXQsdGhpcy53cy5zZW5kTWVzc2FnZShlKSx0fXdhaXRTdGF0dXMoZSl7cmV0dXJuIG5ldyBycCgoKHQsaSk9Pntjb25zdCBuPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2kobmV3IHVQKGhPLlRJTUVPVVQsXCJ3YWl0IHN0YXR1cyB0aW1lb3V0LCBzdGF0dXM6IFwiLmNvbmNhdChlKSkpfSksNWUzKTt0aGlzLm9uY2UoZSwocj0+e3dpbmRvdy5jbGVhclRpbWVvdXQobiksci5zdGF0ZSYmMCE9PXIuc3RhdGU/aShuZXcgdVAoaE8uQ1JPU1NfQ0hBTk5FTF9XQUlUX1NUQVRVU19FUlJPUixcIndhaXQgc3RhdHVzIGVycm9yLCBzdGF0dXM6IFwiLmNvbmNhdChlKSkpOnQodm9pZCAwKX0pKSx0aGlzLm9uY2UoXCJkaXNwb3NlXCIsKCgpPT57d2luZG93LmNsZWFyVGltZW91dChuKSxpKG5ldyB1UChoTy5XU19BQk9SVCkpfSkpfSkpfWFzeW5jIHJlcXVlc3QoZSl7aWYoXCJjbG9zZWRcIj09PXRoaXMud3Muc3RhdGUpdGhyb3cgbmV3IHVQKGhPLldTX0RJU0NPTk5FQ1QpO2NvbnN0IHQ9KCk9Pm5ldyBycCgoKGUsdCk9Pnt0aGlzLndzLm9uY2UoV1YuQ0xPU0VELCgoKT0+dChuZXcgdVAoaE8uV1NfQUJPUlQpKSkpLHRoaXMud3Mub25jZShXVi5DT05ORUNURUQsZSl9KSk7XCJjb25uZWN0ZWRcIiE9PXRoaXMud3Muc3RhdGUmJmF3YWl0IHQoKTtjb25zdCBpPXRoaXMuc2VuZE1lc3NhZ2UoZSksbj1uZXcgcnAoKChlLHQpPT57Y29uc3Qgbj0oKT0+e3QobmV3IHVQKGhPLldTX0FCT1JUKSl9O3RoaXMud3Mub25jZShXVi5SRUNPTk5FQ1RJTkcsbiksdGhpcy53cy5vbmNlKFdWLkNMT1NFRCxuKSx0aGlzLm9uY2UoXCJyZXFfXCIuY29uY2F0KGkpLGUpLGZOKDNlMykudGhlbigoKCk9Pnt0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlcV9cIi5jb25jYXQoaSkpLHRoaXMud3Mub2ZmKFdWLlJFQ09OTkVDVElORyxuKSx0aGlzLndzLm9mZihXVi5DTE9TRUQsbiksdChuZXcgdVAoaE8uVElNRU9VVCxcImNyb3NzIGNoYW5uZWwgd3MgcmVxdWVzdCB0aW1lb3V0XCIpKX0pKX0pKSxyPWF3YWl0IG47aWYoIXJ8fDIwMCE9PXIuY29kZSl0aHJvdyBuZXcgdVAoaE8uQ1JPU1NfQ0hBTk5FTF9TRVJWRVJfRVJST1JfUkVTUE9OU0UsXCJyZXNwb25zZTogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHIpKSk7cmV0dXJuIHJ9YXN5bmMgY29ubmVjdChlKXt0aGlzLndzLnJlbW92ZUFsbExpc3RlbmVycyhXVi5SRVFVRVNUX05FV19VUkxTKSx0aGlzLndzLm9uKFdWLlJFUVVFU1RfTkVXX1VSTFMsKHQ9Pnt0KGUpfSkpLGF3YWl0IHRoaXMud3MuaW5pdChlKX1kaXNwb3NlKCl7dGhpcy5jbGVhckhlYXJ0QmVhdENoZWNrKCksdGhpcy5lbWl0KFwiZGlzcG9zZVwiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMud3MuY2xvc2UoKX1zZW5kUGluZyhlKXtjb25zdCB0PXRoaXMucmVxdWVzdElkKys7cmV0dXJuIGUucmVxdWVzdElkPXQsdGhpcy53cy5zZW5kTWVzc2FnZShlKSx0fXN0YXJ0SGVhcnRCZWF0Q2hlY2soKXt0aGlzLmhlYXJ0QmVhdFRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0QmVhdFRpbWVyKSx0aGlzLmhlYXJ0QmVhdFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLnNlbmRQaW5nKHtjb21tYW5kOlwicGluZ1wiLGFwcElkOnRoaXMuam9pbkluZm8uYXBwSWQsY25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSx1aWQ6dGhpcy5qb2luSW5mby51aWQudG9TdHJpbmcoKSxzaWQ6dGhpcy5qb2luSW5mby5zaWQsdHM6K25ldyBEYXRlLHJlcXVlc3RJZDowfSl9KSwzZTMpfWNsZWFySGVhcnRCZWF0Q2hlY2soKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0QmVhdFRpbWVyKSx0aGlzLmhlYXJ0QmVhdFRpbWVyPXZvaWQgMH19Y2xhc3MgZ3EgZXh0ZW5kcyBOT3tzZXQgc3RhdGUoZSl7ZSE9PXRoaXMuX3N0YXRlJiYoZSE9PW54LlJFTEFZX1NUQVRFX0ZBSUxVUkUmJih0aGlzLmVycm9yQ29kZT1yeC5SRUxBWV9PSyksdGhpcy5lbWl0KFwic3RhdGVcIixlLHRoaXMuZXJyb3JDb2RlKSx0aGlzLl9zdGF0ZT1lKX1nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9Y29uc3RydWN0b3IoZSx0LGksbixyKXtzdXBlcigpLGlBKHRoaXMsXCJqb2luSW5mb1wiLHZvaWQgMCksaUEodGhpcyxcInNpZFwiLHZvaWQgMCksaUEodGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxpQSh0aGlzLFwiY2FuY2VsVG9rZW5cIixUdy5DYW5jZWxUb2tlbi5zb3VyY2UoKSksaUEodGhpcyxcIndvcmtlclRva2VuXCIsdm9pZCAwKSxpQSh0aGlzLFwicmVxdWVzdElkXCIsMCksaUEodGhpcyxcInNpZ25hbFwiLHZvaWQgMCksaUEodGhpcyxcInByZXZDaGFubmVsTWVkaWFDb25maWdcIix2b2lkIDApLGlBKHRoaXMsXCJodHRwUmV0cnlDb25maWdcIix2b2lkIDApLGlBKHRoaXMsXCJfcmVzb2x1dGlvblwiLHZvaWQgMCksaUEodGhpcyxcIl9zdGF0ZVwiLG54LlJFTEFZX1NUQVRFX0lETEUpLGlBKHRoaXMsXCJlcnJvckNvZGVcIixyeC5SRUxBWV9PSyksaUEodGhpcyxcIm9uU3RhdHVzXCIsKGU9PntpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gQ2hhbm5lbE1lZGlhU3RhdHVzOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSksZSYmZS5jb21tYW5kJiYoXCJvbkF1ZGlvUGFja2V0UmVjZWl2ZWRcIj09PWUuY29tbWFuZCYmdGhpcy5lbWl0KFwiZXZlbnRcIixpeC5QQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkMpLFwib25WaWRlb1BhY2tldFJlY2VpdmVkXCI9PT1lLmNvbW1hbmQmJnRoaXMuZW1pdChcImV2ZW50XCIsaXguUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDKSxcIm9uU3JjVG9rZW5Qcml2aWxlZ2VEaWRFeHBpcmVcIj09PWUuY29tbWFuZCYmKHRoaXMuZXJyb3JDb2RlPXJ4LlNSQ19UT0tFTl9FWFBJUkVELHRoaXMuc3RhdGU9bnguUkVMQVlfU1RBVEVfRkFJTFVSRSksXCJvbkRlc3RUb2tlblByaXZpbGVnZURpZEV4cGlyZVwiPT09ZS5jb21tYW5kJiYodGhpcy5lcnJvckNvZGU9cnguREVTVF9UT0tFTl9FWFBJUkVELHRoaXMuc3RhdGU9bnguUkVMQVlfU1RBVEVfRkFJTFVSRSkpfSkpLGlBKHRoaXMsXCJvblJlY29ubmVjdFwiLChhc3luYygpPT57aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIENoYW5uZWxNZWRpYVNvY2tldCBkaXNjb25uZWN0LCByZWNvbm5lY3RpbmdcIikpLHRoaXMuZW1pdChcImV2ZW50XCIsaXguTkVUV09SS19ESVNDT05ORUNURUQpLHRoaXMuc3RhdGU9bnguUkVMQVlfU1RBVEVfSURMRSx0aGlzLnByZXZDaGFubmVsTWVkaWFDb25maWcmJnRoaXMuc2VuZFN0YXJ0UmVsYXlNZXNzYWdlKHRoaXMucHJldkNoYW5uZWxNZWRpYUNvbmZpZykuY2F0Y2goKGU9Pnt0aGlzLnN0YXRlIT09bnguUkVMQVlfU1RBVEVfSURMRSYmKGlQLmVycm9yKFwiYXV0byByZXN0YXJ0IGNoYW5uZWwgbWVkaWEgcmVsYXkgZmFpbGVkXCIsZS50b1N0cmluZygpKSx0aGlzLmVycm9yQ29kZT1yeC5TRVJWRVJfQ09OTkVDVElPTl9MT1NULHRoaXMuc3RhdGU9bnguUkVMQVlfU1RBVEVfRkFJTFVSRSl9KSl9KSksdGhpcy5qb2luSW5mbz1lLHRoaXMuY2xpZW50SWQ9dCx0aGlzLnNpZD1nTigpLHRoaXMuc2lnbmFsPW5ldyBTcSh0aGlzLmpvaW5JbmZvLHRoaXMuY2xpZW50SWQsaSksdGhpcy5odHRwUmV0cnlDb25maWc9bix0aGlzLl9yZXNvbHV0aW9uPXJ9YXN5bmMgc3RhcnRDaGFubmVsTWVkaWFSZWxheShlKXtpZih0aGlzLnN0YXRlIT09bnguUkVMQVlfU1RBVEVfSURMRSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04pO3RoaXMuc3RhdGU9bnguUkVMQVlfU1RBVEVfQ09OTkVDVElORyxhd2FpdCB0aGlzLmNvbm5lY3QoKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogY29ubmVjdCBzdWNjZXNzXCIpKTt0cnl7YXdhaXQgdGhpcy5zZW5kU3RhcnRSZWxheU1lc3NhZ2UoZSl9Y2F0Y2goZSl7aWYoZS5kYXRhJiZlLmRhdGEuc2VydmVyUmVzcG9uc2UmJlwiU2V0U291cmNlQ2hhbm5lbFwiPT09ZS5kYXRhLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpdGhyb3cgbmV3IHVQKGhPLkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fU1JDKTtpZihlLmRhdGEmJmUuZGF0YS5zZXJ2ZXJSZXNwb25zZSYmXCJTZXREZXN0Q2hhbm5lbFN0YXR1c1wiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXRocm93IG5ldyB1UChoTy5DUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX0RFU1QpO2lmKGUuZGF0YSYmZS5kYXRhLnNlcnZlclJlc3BvbnNlJiZcIlN0YXJ0UGFja2V0VHJhbnNmZXJcIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZCl0aHJvdyBuZXcgdVAoaE8uQ1JPU1NfQ0hBTk5FTF9GQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVCk7dGhyb3cgZX10aGlzLnByZXZDaGFubmVsTWVkaWFDb25maWc9ZX1hc3luYyB1cGRhdGVDaGFubmVsTWVkaWFSZWxheShlKXtpZih0aGlzLnN0YXRlIT09bnguUkVMQVlfU1RBVEVfUlVOTklORyl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04pO2F3YWl0IHRoaXMuc2VuZFVwZGF0ZU1lc3NhZ2UoZSksdGhpcy5wcmV2Q2hhbm5lbE1lZGlhQ29uZmlnPWV9YXN5bmMgc2V0VmlkZW9Qcm9maWxlKGUpe2lmKHRoaXMuX3Jlc29sdXRpb249ZSx0aGlzLnN0YXRlIT09bnguUkVMQVlfU1RBVEVfUlVOTklORyl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9PUEVSQVRJT04pO2NvbnN0IHQ9dGhpcy5nZW5NZXNzYWdlKHR4LlNldFZpZGVvUHJvZmlsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdCh0KSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogc2V0VmlkZW9Qcm9maWxlIHN1Y2Nlc3NcIikpfWFzeW5jIHN0b3BDaGFubmVsTWVkaWFSZWxheSgpe2F3YWl0IHRoaXMuc2VuZFN0b3BSZWxheU1lc3NhZ2UoKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RvcENoYW5uZWxNZWRpYVJlbGF5OiBzZW5kIHN0b3AgbWVzc2FnZSBzdWNjZXNzXCIpKSx0aGlzLnN0YXRlPW54LlJFTEFZX1NUQVRFX0lETEUsdGhpcy5kaXNwb3NlKCl9ZGlzcG9zZSgpe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBkaXNwb3NlQ2hhbm5lbE1lZGlhUmVsYXlcIikpLHRoaXMuY2FuY2VsVG9rZW4uY2FuY2VsKCksdGhpcy5jYW5jZWxUb2tlbj1Udy5DYW5jZWxUb2tlbi5zb3VyY2UoKSx0aGlzLnN0YXRlPW54LlJFTEFZX1NUQVRFX0lETEUsdGhpcy5lbWl0KFwiZGlzcG9zZVwiKSx0aGlzLnNpZ25hbC5kaXNwb3NlKCksdGhpcy5wcmV2Q2hhbm5lbE1lZGlhQ29uZmlnPXZvaWQgMH1hc3luYyBjb25uZWN0KCl7Y29uc3QgZT1hd2FpdCBxQih0aGlzLmpvaW5JbmZvLHRoaXMuY2FuY2VsVG9rZW4udG9rZW4sdGhpcy5odHRwUmV0cnlDb25maWcpO3RoaXMud29ya2VyVG9rZW49ZS53b3JrZXJUb2tlbixhd2FpdCB0aGlzLnNpZ25hbC5jb25uZWN0KGUuYWRkcmVzc0xpc3QpLHRoaXMuZW1pdChcImV2ZW50XCIsaXguTkVUV09SS19DT05ORUNURUQpLHRoaXMuc2lnbmFsLm9uKFwic3RhdHVzXCIsdGhpcy5vblN0YXR1cyksdGhpcy5zaWduYWwub24oXCJyZWNvbm5lY3RpbmdcIix0aGlzLm9uUmVjb25uZWN0KX1hc3luYyBzZW5kU3RhcnRSZWxheU1lc3NhZ2UoZSl7Y29uc3QgdD10aGlzLmdlbk1lc3NhZ2UodHguU2V0U2RrUHJvZmlsZSxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KHQpLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXRTZGtQcm9maWxlIHN1Y2Nlc3NcIikpO2NvbnN0IGk9dGhpcy5nZW5NZXNzYWdlKHR4LlNldFNvdXJjZUNoYW5uZWwsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChpKSxhd2FpdCB0aGlzLnNpZ25hbC53YWl0U3RhdHVzKFwiU2V0U291cmNlQ2hhbm5lbFN0YXR1c1wiKSx0aGlzLmVtaXQoXCJldmVudFwiLGl4LlBBQ0tFVF9KT0lORURfU1JDX0NIQU5ORUwpLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXRTb3VyY2VDaGFubmVsIHN1Y2Nlc3NcIikpO2NvbnN0IG49dGhpcy5nZW5NZXNzYWdlKHR4LlNldFNvdXJjZVVzZXJJZCxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KG4pLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXRTb3VyY2VVc2VySWQgc3VjY2Vzc1wiKSk7Y29uc3Qgcj10aGlzLmdlbk1lc3NhZ2UodHguU2V0RGVzdENoYW5uZWwsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChyKSxhd2FpdCB0aGlzLnNpZ25hbC53YWl0U3RhdHVzKFwiU2V0RGVzdENoYW5uZWxTdGF0dXNcIiksdGhpcy5lbWl0KFwiZXZlbnRcIixpeC5QQUNLRVRfSk9JTkVEX0RFU1RfQ0hBTk5FTCksaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IFNldERlc3RDaGFubmVsIHN1Y2Nlc3NcIikpO2NvbnN0IG89dGhpcy5nZW5NZXNzYWdlKHR4LlN0YXJ0UGFja2V0VHJhbnNmZXIsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChvKSx0aGlzLmVtaXQoXCJldmVudFwiLGl4LlBBQ0tFVF9TRU5UX1RPX0RFU1RfQ0hBTk5FTCksdGhpcy5zdGF0ZT1ueC5SRUxBWV9TVEFURV9SVU5OSU5HLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTdGFydFBhY2tldFRyYW5zZmVyIHN1Y2Nlc3NcIikpLHRoaXMuc2V0VmlkZW9Qcm9maWxlKHRoaXMuX3Jlc29sdXRpb24pfWFzeW5jIHNlbmRVcGRhdGVNZXNzYWdlKGUpe2NvbnN0IHQ9dGhpcy5nZW5NZXNzYWdlKHR4LlVwZGF0ZURlc3RDaGFubmVsLGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QodCksdGhpcy5lbWl0KFwiZXZlbnRcIixpeC5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTCksaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHNlbmRVcGRhdGVNZXNzYWdlOiBVcGRhdGVEZXN0Q2hhbm5lbCBzdWNjZXNzXCIpKX1hc3luYyBzZW5kU3RvcFJlbGF5TWVzc2FnZSgpe2NvbnN0IGU9dGhpcy5nZW5NZXNzYWdlKHR4LlN0b3BQYWNrZXRUcmFuc2Zlcik7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChlKSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc2VuZFN0b3BSZWxheU1lc3NhZ2U6IFN0b3BQYWNrZXRUcmFuc2ZlciBzdWNjZXNzXCIpKX1nZW5NZXNzYWdlKGUsdCl7Y29uc3QgaT1bXSxuPVtdLHI9W107dGhpcy5yZXF1ZXN0SWQrPTE7Y29uc3Qgbz17YXBwSWQ6dGhpcy5qb2luSW5mby5hcHBJZCxjbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHVpZDp0aGlzLmpvaW5JbmZvLnVpZC50b1N0cmluZygpLHNka1ZlcnNpb246aEQsc2lkOnRoaXMuc2lkLHRzOkRhdGUubm93KCkscmVxdWVzdElkOnRoaXMucmVxdWVzdElkLHNlcTp0aGlzLnJlcXVlc3RJZCxhbGxvY2F0ZTohMCxjbGllbnRSZXF1ZXN0Ont9fTtcIjQuMjQuMVwiPT09by5zZGtWZXJzaW9uJiYoby5zZGtWZXJzaW9uPVwiMC4wLjFcIik7bGV0IHM9bnVsbCxhPW51bGw7c3dpdGNoKGUpe2Nhc2UgdHguU2V0U2RrUHJvZmlsZTpyZXR1cm4gby5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0U2RrUHJvZmlsZVwiLHR5cGU6XCJtdWx0aV9jaGFubmVsXCJ9LG87Y2FzZSB0eC5TZXRTb3VyY2VDaGFubmVsOmlmKGE9dCYmdC5nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCksIWEpdGhyb3cgbmV3IHVQKGhPLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgc291cmNlIGNvbmZpZ1wiKTtyZXR1cm4gby5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0U291cmNlQ2hhbm5lbFwiLHVpZDpcIjBcIixjaGFubmVsTmFtZTphLmNoYW5uZWxOYW1lLHRva2VuOmEudG9rZW58fHRoaXMuam9pbkluZm8uYXBwSWR9LG87Y2FzZSB0eC5TZXRTb3VyY2VVc2VySWQ6aWYoYT10JiZ0LmdldFNyY0NoYW5uZWxNZWRpYUluZm8oKSwhYSl0aHJvdyBuZXcgdVAoaE8uVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCBzb3VyY2UgY29uZmlnXCIpO3JldHVybiBvLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTZXRTb3VyY2VVc2VySWRcIix1aWQ6YS51aWQrXCJcIn0sbztjYXNlIHR4LlNldERlc3RDaGFubmVsOmlmKHM9dCYmdC5nZXREZXN0Q2hhbm5lbE1lZGlhSW5mbygpLCFzKXRocm93IG5ldyB1UChoTy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIGRlc3QgY29uZmlnXCIpO3JldHVybiBzLmZvckVhY2goKGU9PntpLnB1c2goZS5jaGFubmVsTmFtZSksbi5wdXNoKGUudWlkK1wiXCIpLHIucHVzaChlLnRva2VufHx0aGlzLmpvaW5JbmZvLmFwcElkKX0pKSxvLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTZXREZXN0Q2hhbm5lbFwiLGNoYW5uZWxOYW1lOmksdWlkOm4sdG9rZW46cn0sbztjYXNlIHR4LlN0YXJ0UGFja2V0VHJhbnNmZXI6cmV0dXJuIG8uY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlN0YXJ0UGFja2V0VHJhbnNmZXJcIn0sbztjYXNlIHR4LlJlY29ubmVjdDpyZXR1cm4gby5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiUmVjb25uZWN0XCJ9LG87Y2FzZSB0eC5TdG9wUGFja2V0VHJhbnNmZXI6cmV0dXJuIG8uY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlN0b3BQYWNrZXRUcmFuc2ZlclwifSxvO2Nhc2UgdHguVXBkYXRlRGVzdENoYW5uZWw6aWYocz10JiZ0LmdldERlc3RDaGFubmVsTWVkaWFJbmZvKCksIXMpdGhyb3cgbmV3IHVQKGhPLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgZGVzdCBjb25maWdcIik7cmV0dXJuIHMuZm9yRWFjaCgoZT0+e2kucHVzaChlLmNoYW5uZWxOYW1lKSxuLnB1c2goZS51aWQrXCJcIiksci5wdXNoKGUudG9rZW58fHRoaXMuam9pbkluZm8uYXBwSWQpfSkpLG8uY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlVwZGF0ZURlc3RDaGFubmVsXCIsY2hhbm5lbE5hbWU6aSx1aWQ6bix0b2tlbjpyfSxvO2Nhc2UgdHguU2V0VmlkZW9Qcm9maWxlOm8uY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFZpZGVvUHJvZmlsZVwiLHdpZHRoOnRoaXMuX3Jlc29sdXRpb24ud2lkdGgsaGVpZ2h0OnRoaXMuX3Jlc29sdXRpb24uaGVpZ2h0fX1yZXR1cm4gb319Y29uc3QgVHE9e25hbWU6XCJDaGFubmVsTWVkaWFSZWxheVwiLGNyZWF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGdxKGUuam9pbkluZm8sZS5jbGllbnRJZCxlLndlYnNvY2tldFJldHJ5Q29uZmlnfHxrTixlLmh0dHBSZXRyeUNvbmZpZ3x8a04sZS5yZXNvbHV0aW9uKX19O2Z1bmN0aW9uIFJxKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBDcShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9ScShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpScShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyB2cSBleHRlbmRzIE5Pe2NvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKCksaUEodGhpcyxcInNwZWNcIix2b2lkIDApLGlBKHRoaXMsXCJ0b2tlblwiLHZvaWQgMCksaUEodGhpcyxcIndlYnNvY2tldFwiLHZvaWQgMCksaUEodGhpcyxcInBpbmdwb25nVGltZXJcIix2b2lkIDApLGlBKHRoaXMsXCJyZWNvbm5lY3RNb2RlXCIsXCJyZXRyeVwiKSxpQSh0aGlzLFwic2VydmljZU1vZGVcIix2b2lkIDApLGlBKHRoaXMsXCJyZXFJZFwiLDApLGlBKHRoaXMsXCJjb21tYW5kUmVxSWRcIiwwKSxpQSh0aGlzLFwiaGFuZGxlV2ViU29ja2V0T3BlblwiLCgoKT0+e3RoaXMucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsdGhpcy5zdGFydFBpbmdQb25nKCl9KSksaUEodGhpcyxcImhhbmRsZVdlYlNvY2tldE1lc3NhZ2VcIiwoZT0+e2lmKCFlLmRhdGEpcmV0dXJuO2NvbnN0IHQ9SlNPTi5wYXJzZShlLmRhdGEpO3QucmVxdWVzdElkP3RoaXMuZW1pdChcIkBcIi5jb25jYXQodC5yZXF1ZXN0SWQsXCItXCIpLmNvbmNhdCh0LnNpZCksdCk6KGxQLndvcmtlckV2ZW50KHRoaXMuc3BlYy5zaWQse2FjdGlvblR5cGU6XCJzdGF0dXNcIixzZXJ2ZXJDb2RlOnQuY29kZSx3b3JrZXJUeXBlOnRoaXMuc2VydmljZU1vZGU9PT1ZVi5UUkFOU0NPREU/MToyfSksdGhpcy5lbWl0KFFWLlBVQkxJU0hfU1RSRUFNX1NUQVRVUyx0KSl9KSksdGhpcy5zcGVjPXQsdGhpcy50b2tlbj1lLHRoaXMuc2VydmljZU1vZGU9bix0aGlzLndlYnNvY2tldD1uZXcgJHgoXCJsaXZlLXN0cmVhbWluZ1wiLGkpLHRoaXMud2Vic29ja2V0Lm9uKFdWLkNPTk5FQ1RFRCx0aGlzLmhhbmRsZVdlYlNvY2tldE9wZW4pLHRoaXMud2Vic29ja2V0Lm9uKFdWLk9OX01FU1NBR0UsdGhpcy5oYW5kbGVXZWJTb2NrZXRNZXNzYWdlKSx0aGlzLndlYnNvY2tldC5vbihXVi5SRVFVRVNUX05FV19VUkxTLCgoZSx0KT0+e3pPKHRoaXMsUVYuUkVRVUVTVF9ORVdfQUREUkVTUykudGhlbihlKS5jYXRjaCh0KX0pKSx0aGlzLndlYnNvY2tldC5vbihXVi5SRUNPTk5FQ1RJTkcsKCgpPT57dGhpcy53ZWJzb2NrZXQucmVjb25uZWN0TW9kZT10aGlzLnJlY29ubmVjdE1vZGV9KSl9aW5pdChlKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQuaW5pdChlKX1hc3luYyByZXF1ZXN0KGUsdCxpLG4pe3RoaXMucmVxSWQrPTEsXCJyZXF1ZXN0XCI9PT1lJiYodGhpcy5jb21tYW5kUmVxSWQrPTEpO2NvbnN0IHI9dGhpcy5jb21tYW5kUmVxSWQsbz10aGlzLnJlcUlkO2lmKCFvfHwhdGhpcy53ZWJzb2NrZXQpdGhyb3cgbmV3IHVQKGhPLlVORVhQRUNURURfRVJST1IpO2NvbnN0IHM9Q3Eoe2NvbW1hbmQ6ZSxzZGtWZXJzaW9uOlwiNC4yNC4xXCI9PT1oRD9cIjAuMC4xXCI6aEQsc2VxOm8scmVxdWVzdElkOm8sYWxsb2NhdGU6aSxjbmFtZTp0aGlzLnNwZWMuY25hbWUsYXBwSWQ6dGhpcy5zcGVjLmFwcElkLHNpZDp0aGlzLnNwZWMuc2lkLHVpZDp0aGlzLnNwZWMudWlkLnRvU3RyaW5nKCksdHM6TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyl9LHQpO2lmKFwiY2xvc2VkXCI9PT10aGlzLndlYnNvY2tldC5zdGF0ZSl0aHJvdyBuZXcgdVAoaE8uV1NfRElTQ09OTkVDVCk7Y29uc3QgYT0oKT0+bmV3IHJwKCgoZSx0KT0+e3RoaXMud2Vic29ja2V0Lm9uY2UoV1YuQ0xPU0VELCgoKT0+dChuZXcgdVAoaE8uV1NfQUJPUlQpKSkpLHRoaXMud2Vic29ja2V0Lm9uY2UoV1YuQ09OTkVDVEVELGUpfSkpO1wiY29ubmVjdGVkXCIhPT10aGlzLndlYnNvY2tldC5zdGF0ZSYmYXdhaXQgYSgpLHMuY2xpZW50UmVxdWVzdCYmKHMuY2xpZW50UmVxdWVzdC53b3JrZXJUb2tlbj10aGlzLnRva2VuKTtjb25zdCBjPW5ldyBycCgoKGUsdCk9Pntjb25zdCBpPSgpPT57dChuZXcgdVAoaE8uV1NfQUJPUlQpKX07dGhpcy53ZWJzb2NrZXQub25jZShXVi5SRUNPTk5FQ1RJTkcsaSksdGhpcy53ZWJzb2NrZXQub25jZShXVi5DTE9TRUQsaSksdGhpcy5vbmNlKFwiQFwiLmNvbmNhdChvLFwiLVwiKS5jb25jYXQodGhpcy5zcGVjLnNpZCksKHQ9PntlKHQpfSkpfSkpO24mJmxQLndvcmtlckV2ZW50KHRoaXMuc3BlYy5zaWQsQ3EoQ3Eoe30sbikse30se3JlcXVlc3RJZDpyLGFjdGlvblR5cGU6XCJyZXF1ZXN0XCIscGF5bG9hZDpKU09OLnN0cmluZ2lmeSh0LmNsaWVudFJlcXVlc3QpLHNlcnZlckNvZGU6MCxjb2RlOjB9KSk7Y29uc3QgZD1EYXRlLm5vdygpO3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKHMpO2xldCBsPW51bGw7dHJ5e2w9YXdhaXQgY31jYXRjaChuKXtpZihcImNsb3NlZFwiPT09dGhpcy53ZWJzb2NrZXQuc3RhdGUpdGhyb3cgbjtyZXR1cm4gYXdhaXQgYSgpLGF3YWl0IHRoaXMucmVxdWVzdChlLHQsaSl9cmV0dXJuIG4mJmxQLndvcmtlckV2ZW50KHRoaXMuc3BlYy5zaWQsQ3EoQ3Eoe30sbikse30se3JlcXVlc3RJZDpyLGFjdGlvblR5cGU6XCJyZXNwb25zZVwiLHBheWxvYWQ6SlNPTi5zdHJpbmdpZnkobC5zZXJ2ZXJSZXNwb25zZSksc2VydmVyQ29kZTpsLmNvZGUsc3VjY2VzczoyMDA9PT1sLmNvZGUscmVzcG9uc2VUaW1lOkRhdGUubm93KCktZH0pKSwyMDAhPT1sLmNvZGUmJnRoaXMuaGFuZGxlUmVzcG9uc2VFcnJvcihsKSxsfXRyeU5leHRBZGRyZXNzKCl7dGhpcy5yZWNvbm5lY3RNb2RlPVwidHJ5TmV4dFwiLHRoaXMud2Vic29ja2V0LnJlY29ubmVjdChcInRyeU5leHRcIil9Y2xvc2UoKXtjb25zdCBlPVwiNC4yNC4xXCI9PT1oRD9cIjAuMC4xXCI6aEQ7dGhpcy5yZXFJZCs9MSxcImNvbm5lY3RlZFwiPT09dGhpcy53ZWJzb2NrZXQuc3RhdGU/KHRoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKHtjb21tYW5kOlwicmVxdWVzdFwiLGFwcElkOnRoaXMuc3BlYy5hcHBJZCxjbmFtZTp0aGlzLnNwZWMuY25hbWUsdWlkOnRoaXMuc3BlYy51aWQudG9TdHJpbmcoKSxzZGtWZXJzaW9uOmUsc2lkOnRoaXMuc3BlYy5zaWQsc2VxOnRoaXMucmVxSWQsdHM6TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMykscmVxdWVzdElkOnRoaXMucmVxSWQsY2xpZW50UmVxdWVzdDp7Y29tbWFuZDpcIkRlc3Ryb3lXb3JrZXJcIn19KSx0aGlzLndlYnNvY2tldC5jbG9zZSghMSwhMCkpOnRoaXMud2Vic29ja2V0LmNsb3NlKCExKSx0aGlzLnBpbmdwb25nVGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApfWhhbmRsZVJlc3BvbnNlRXJyb3IoZSl7c3dpdGNoKGUuY29kZSl7Y2FzZSAkVi5MSVZFX1NUUkVBTV9SRVNQT05TRV9BTFJFQURZX0VYSVNUU19TVFJFQU06cmV0dXJuIHZvaWQgaVAud2FybmluZyhcImxpdmUgc3RyZWFtIHJlc3BvbnNlIGFscmVhZHkgZXhpc3RzIHN0cmVhbVwiKTtjYXNlICRWLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1RSQU5TQ09ESU5HX1BBUkFNRVRFUl9FUlJPUjpjYXNlICRWLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0JBRF9TVFJFQU06Y2FzZSAkVi5MSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9QQVJBTUVURVJfRVJST1I6cmV0dXJuIG5ldyB1UChoTy5MSVZFX1NUUkVBTUlOR19JTlZBTElEX0FSR1VNRU5ULFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKTtjYXNlICRWLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1dPUktFUl9OT1RfRVhJU1Q6aWYoXCJVbnB1Ymxpc2hTdHJlYW1cIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZClyZXR1cm47dGhyb3cgbmV3IHVQKGhPLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImxpdmUgc3RyZWFtIHJlc3BvbnNlIHdtIHdvcmtlciBub3QgZXhpc3RcIix7cmV0cnk6ITB9KTtjYXNlICRWLkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9BVVRIT1JJWkVEOnJldHVybiBuZXcgdVAoaE8uTElWRV9TVFJFQU1JTkdfUFVCTElTSF9TVFJFQU1fTk9UX0FVVEhPUklaRUQsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO2Nhc2UgJFYuTElWRV9TVFJFQU1fUkVTUE9OU0VfRkFJTEVEX0xPQURfSU1BR0U6e2NvbnN0IHQ9bmV3IHVQKGhPLkxJVkVfU1RSRUFNSU5HX1dBUk5fRkFJTEVEX0xPQURfSU1BR0UpO3JldHVybiB0aGlzLmVtaXQoUVYuV0FSTklORyx0LGUuc2VydmVyUmVzcG9uc2UudXJsKX1jYXNlICRWLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFUVVFU1RfVE9PX09GVEVOOntjb25zdCB0PW5ldyB1UChoTy5MSVZFX1NUUkVBTUlOR19XQVJOX0ZSRVFVRU5UX1JFUVVFU1QpO3JldHVybiB0aGlzLmVtaXQoUVYuV0FSTklORyx0LGUuc2VydmVyUmVzcG9uc2UudXJsKX1jYXNlICRWLkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9GT1VORF9QVUJMSVNIOnRocm93IG5ldyB1UChoTy5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJsaXZlIHN0cmVhbSByZXNwb25zZSB3bSB3b3JrZXIgbm90IGV4aXN0XCIse3JldHJ5OiEwfSk7Y2FzZSAkVi5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfU1VQUE9SVEVEOnJldHVybiBuZXcgdVAoaE8uTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfTk9UX1NVUFBPUlRFRCxcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCk7Y2FzZSAkVi5MSVZFX1NUUkVBTV9SRVNQT05TRV9NQVhfU1RSRUFNX05VTTp7Y29uc3QgdD1uZXcgdVAoaE8uTElWRV9TVFJFQU1JTkdfV0FSTl9TVFJFQU1fTlVNX1JFQUNIX0xJTUlUKTtyZXR1cm4gdGhpcy5lbWl0KFFWLldBUk5JTkcsdCxlLnNlcnZlclJlc3BvbnNlLnVybCl9Y2FzZSAkVi5MSVZFX1NUUkVBTV9SRVNQT05TRV9JTlRFUk5BTF9TRVJWRVJfRVJST1I6cmV0dXJuIG5ldyB1UChoTy5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO2Nhc2UgJFYuTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVTT1VSQ0VfTElNSVQ6dGhyb3cgbmV3IHVQKGhPLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImxpdmUgc3RyZWFtIHJlc291cmNlIGxpbWl0XCIse3JldHJ5OiEwLGNoYW5nZUFkZHJlc3M6ITB9KTtjYXNlICRWLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9MT1NUOmNhc2UgJFYuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX1FVSVQ6aWYoXCJVbnB1Ymxpc2hTdHJlYW1cIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZClyZXR1cm47dGhyb3cgbmV3IHVQKGhPLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImVycm9yIGZhaWwgc2VuZCBtZXNzYWdlXCIse3JldHJ5OiEwLGNoYW5nZUFkZHJlc3M6ITB9KTtjYXNlICRWLkVSUk9SX0ZBSUxfU0VORF9NRVNTQUdFOmlmKFwiVW5wdWJsaXNoU3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpcmV0dXJuO2lmKFwiVXBkYXRlVHJhbnNjb2RpbmdcIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZHx8XCJDb250cm9sU3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpcmV0dXJuIG5ldyB1UChoTy5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlcnJvciBmYWlsIHNlbmQgbWVzc2FnZVwiLHtjb2RlOmUuY29kZX0pLnRocm93KCk7dGhyb3cgbmV3IHVQKGhPLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImVycm9yIGZhaWwgc2VuZCBtZXNzYWdlXCIse3JldHJ5OiEwLGNoYW5nZUFkZHJlc3M6ITB9KTtjYXNlICRWLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9QVUJMSVNIX0JST0tFTjpjYXNlICRWLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1Q6Y2FzZSAkVi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0U6Y2FzZSAkVi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9QVUJMSVNIOnJldHVybiBuZXcgdVAoaE8uTElWRV9TVFJFQU1JTkdfQ0ROX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKX19c3RhcnRQaW5nUG9uZygpe3RoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e1wiY29ubmVjdGVkXCI9PT10aGlzLndlYnNvY2tldC5zdGF0ZSYmdGhpcy5yZXF1ZXN0KFwicGluZ1wiLHt9KS5jYXRjaChUTil9KSw2ZTMpfX1mdW5jdGlvbiB5cShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gSXEoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/eXEoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6eXEoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgQXEgZXh0ZW5kcyBOT3tjb25zdHJ1Y3RvcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06a04saT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06a047c3VwZXIoKSxpQSh0aGlzLFwib25MaXZlU3RyZWFtV2FybmluZ1wiLHZvaWQgMCksaUEodGhpcyxcIm9uTGl2ZVN0cmVhbUVycm9yXCIsdm9pZCAwKSxpQSh0aGlzLFwic3BlY1wiLHZvaWQgMCksaUEodGhpcyxcInJldHJ5VGltZW91dFwiLDFlNCksaUEodGhpcyxcImNvbm5lY3Rpb25cIix2b2lkIDApLGlBKHRoaXMsXCJodHRwUmV0cnlDb25maWdcIix2b2lkIDApLGlBKHRoaXMsXCJ3c1JldHJ5Q29uZmlnXCIsdm9pZCAwKSxpQSh0aGlzLFwic3RyZWFtaW5nVGFza3NcIixuZXcgTWFwKSxpQSh0aGlzLFwiaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2tcIiwhMSksaUEodGhpcyxcInRhc2tNdXRleFwiLG5ldyBQTihcImxpdmUtc3RyZWFtaW5nXCIpKSxpQSh0aGlzLFwiY2FuY2VsVG9rZW5cIixUdy5DYW5jZWxUb2tlbi5zb3VyY2UoKSksaUEodGhpcyxcInRyYW5zY29kaW5nQ29uZmlnXCIsdm9pZCAwKSxpQSh0aGlzLFwidWFwUmVzcG9uc2VcIix2b2lkIDApLGlBKHRoaXMsXCJsYXN0VGFza0lkXCIsMSksaUEodGhpcyxcInN0YXR1c0Vycm9yXCIsbmV3IE1hcCksdGhpcy5zcGVjPWUsdGhpcy5odHRwUmV0cnlDb25maWc9aSx0aGlzLndzUmV0cnlDb25maWc9dH1hc3luYyBzZXRUcmFuc2NvZGluZ0NvbmZpZyhlKXtjb25zdCB0PUlxKElxKHt9LEpWKSxlKTs2NiE9PXQudmlkZW9Db2RlY1Byb2ZpbGUmJjc3IT09dC52aWRlb0NvZGVjUHJvZmlsZSYmMTAwIT09dC52aWRlb0NvZGVjUHJvZmlsZSYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHNldCB0cmFuc2NvZGluZyBjb25maWcsIGZpeCB2aWRlbyBjb2RlYyBwcm9maWxlOiBcIikuY29uY2F0KHQudmlkZW9Db2RlY1Byb2ZpbGUsXCIgLT4gMTAwXCIpKSx0LnZpZGVvQ29kZWNQcm9maWxlPTEwMCksdC50cmFuc2NvZGluZ1VzZXJzfHwodC50cmFuc2NvZGluZ1VzZXJzPXQudXNlckNvbmZpZ3MpLHQudHJhbnNjb2RpbmdVc2VycyYmKHQudHJhbnNjb2RpbmdVc2Vycz10LnRyYW5zY29kaW5nVXNlcnMubWFwKChlPT5JcShJcShJcSh7fSx6ViksZSkse30se3pPcmRlcjplLnpPcmRlcj9lLnpPcmRlcisxOjF9KSkpKSxmdW5jdGlvbihlKXtUTyhlLndpZHRoKXx8bU8oZS53aWR0aCxcImNvbmZpZy53aWR0aFwiLDAsMWU0KSxUTyhlLmhlaWdodCl8fG1PKGUuaGVpZ2h0LFwiY29uZmlnLmhlaWdodFwiLDAsMWU0KSxUTyhlLnZpZGVvQml0cmF0ZSl8fG1PKGUudmlkZW9CaXRyYXRlLFwiY29uZmlnLnZpZGVvQml0cmF0ZVwiLDEsMWU2KSxUTyhlLnZpZGVvRnJhbWVSYXRlKXx8bU8oZS52aWRlb0ZyYW1lUmF0ZSxcImNvbmZpZy52aWRlb0ZyYW1lUmF0ZVwiKSxUTyhlLmxvd0xhdGVuY3kpfHxfTyhlLmxvd0xhdGVuY3ksXCJjb25maWcubG93TGF0ZW5jeVwiKSxUTyhlLmF1ZGlvU2FtcGxlUmF0ZSl8fEVPKGUuYXVkaW9TYW1wbGVSYXRlLFwiY29uZmlnLmF1ZGlvU2FtcGxlUmF0ZVwiLFszMmUzLDQ0MTAwLDQ4ZTNdKSxUTyhlLmF1ZGlvQml0cmF0ZSl8fG1PKGUuYXVkaW9CaXRyYXRlLFwiY29uZmlnLmF1ZGlvQml0cmF0ZVwiLDEsMTI4KSxUTyhlLmF1ZGlvQ2hhbm5lbHMpfHxFTyhlLmF1ZGlvQ2hhbm5lbHMsXCJjb25maWcuYXVkaW9DaGFubmVsc1wiLFsxLDIsMyw0LDVdKSxUTyhlLnZpZGVvR29wKXx8bU8oZS52aWRlb0dvcCxcImNvbmZpZy52aWRlb0dvcFwiKSxUTyhlLnZpZGVvQ29kZWNQcm9maWxlKXx8RU8oZS52aWRlb0NvZGVjUHJvZmlsZSxcImNvbmZpZy52aWRlb0NvZGVjUHJvZmlsZVwiLFs2Niw3NywxMDBdKSxUTyhlLnVzZXJDb3VudCl8fG1PKGUudXNlckNvdW50LFwiY29uZmlnLnVzZXJDb3VudFwiLDAsMTcpLFRPKGUuYmFja2dyb3VuZENvbG9yKXx8bU8oZS5iYWNrZ3JvdW5kQ29sb3IsXCJjb25maWcuYmFja2dyb3VuZENvbG9yXCIsMCwxNjc3NzIxNSksVE8oZS51c2VyQ29uZmlnRXh0cmFJbmZvKXx8U08oZS51c2VyQ29uZmlnRXh0cmFJbmZvLFwiY29uZmlnLnVzZXJDb25maWdFeHRyYUluZm9cIiwwLDQwOTYsITEpLGUudHJhbnNjb2RpbmdVc2VycyYmIVRPKGUudHJhbnNjb2RpbmdVc2VycykmJihnTyhlLnRyYW5zY29kaW5nVXNlcnMsXCJjb25maWcudHJhbnNjb2RpbmdVc2Vyc1wiKSxlLnRyYW5zY29kaW5nVXNlcnMuZm9yRWFjaCgoKGUsdCk9PntLVihlLnVpZCksVE8oZS54KXx8bU8oZS54LFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdCh0LFwiXS54XCIpLDAsMWU0KSxUTyhlLnkpfHxtTyhlLnksXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KHQsXCJdLnlcIiksMCwxZTQpLFRPKGUud2lkdGgpfHxtTyhlLndpZHRoLFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdCh0LFwiXS53aWR0aFwiKSwwLDFlNCksVE8oZS5oZWlnaHQpfHxtTyhlLmhlaWdodCxcInRyYW5zY29kaW5nVXNlcltcIi5jb25jYXQodCxcIl0uaGVpZ2h0XCIpLDAsMWU0KSxUTyhlLnpPcmRlcil8fG1PKGUuek9yZGVyLTEsXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KHQsXCJdLnpPcmRlclwiKSwwLDEwMCksVE8oZS5hbHBoYSl8fG1PKGUuYWxwaGEsXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KHQsXCJdLmFscGhhXCIpLDAsMSwhMSl9KSkpLFRPKGUud2F0ZXJtYXJrKXx8WFYoZS53YXRlcm1hcmssXCJ3YXRlcm1hcmtcIiksVE8oZS5iYWNrZ3JvdW5kSW1hZ2UpfHxYVihlLmJhY2tncm91bmRJbWFnZSxcImJhY2tncm91bmRJbWFnZVwiKSxlLmltYWdlcyYmIVRPKGUuaW1hZ2VzKSYmKGdPKGUuaW1hZ2VzLFwiY29uZmlnLmltYWdlc1wiKSxlLmltYWdlcy5mb3JFYWNoKCgoZSx0KT0+e1hWKGUsXCJpbWFnZXNbXCIuY29uY2F0KHQsXCJdXCIpKX0pKSl9KHQpO2NvbnN0IGk9W107dC5pbWFnZXMmJmkucHVzaCguLi50LmltYWdlcy5tYXAoKGU9PklxKElxKElxKHt9LHFWKSxlKSx7fSx7ek9yZGVyOjI1NX0pKSkpLHQuYmFja2dyb3VuZEltYWdlJiYoaS5wdXNoKElxKElxKElxKHt9LHFWKSx0LmJhY2tncm91bmRJbWFnZSkse30se3pPcmRlcjowfSkpLGRlbGV0ZSB0LmJhY2tncm91bmRJbWFnZSksdC53YXRlcm1hcmsmJihpLnB1c2goSXEoSXEoSXEoe30scVYpLHQud2F0ZXJtYXJrKSx7fSx7ek9yZGVyOjI1NX0pKSxkZWxldGUgdC53YXRlcm1hcmspLHQuaW1hZ2VzPWksdC50cmFuc2NvZGluZ1VzZXJzJiYodC51c2VyQ29uZmlncz10LnRyYW5zY29kaW5nVXNlcnMubWFwKChlPT5JcSh7fSxlKSkpLHQudXNlckNvdW50PXQudHJhbnNjb2RpbmdVc2Vycy5sZW5ndGgsZGVsZXRlIHQudHJhbnNjb2RpbmdVc2Vycyk7Y29uc3Qgbj0odC51c2VyQ29uZmlnc3x8W10pLm1hcCgoZT0+XCJudW1iZXJcIj09dHlwZW9mIGUudWlkP3JwLnJlc29sdmUoZS51aWQpOldCKGUudWlkLHRoaXMuc3BlYyx0aGlzLmNhbmNlbFRva2VuLnRva2VuLHRoaXMuaHR0cFJldHJ5Q29uZmlnKSkpO2lmKChhd2FpdCBycC5hbGwobikpLmZvckVhY2goKChlLGkpPT57dC51c2VyQ29uZmlncyYmdC51c2VyQ29uZmlnc1tpXSYmKHQudXNlckNvbmZpZ3NbaV0udWlkPWUpfSkpLHRoaXMudHJhbnNjb2RpbmdDb25maWc9dCx0aGlzLmNvbm5lY3Rpb24pdHJ5e3ZhciByO2NvbnN0IGU9YXdhaXQgdGhpcy5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJVcGRhdGVUcmFuc2NvZGluZ1wiLHRyYW5zY29kaW5nQ29uZmlnOnRoaXMudHJhbnNjb2RpbmdDb25maWd9fSwhMSx7Y29tbWFuZDpcIlVwZGF0ZVRyYW5zY29kaW5nXCIsd29ya2VyVHlwZToxLHJlcXVlc3RCeVVzZXI6ITAsdGlkOkFycmF5LmZyb20ocHAocj10aGlzLnN0cmVhbWluZ1Rhc2tzKS5jYWxsKHIpKS5tYXAoKGU9PmUudGFza0lkKSkuam9pbihcIiNcIil9KTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSB1cGRhdGUgbGl2ZSB0cmFuc2NvZGluZyBjb25maWcgc3VjY2VzcywgY29kZTogXCIpLmNvbmNhdChlLmNvZGUsXCIsIGNvbmZpZzpcIiksSlNPTi5zdHJpbmdpZnkodGhpcy50cmFuc2NvZGluZ0NvbmZpZykpfWNhdGNoKGUpe2lmKCFlLmRhdGF8fCFlLmRhdGEucmV0cnkpdGhyb3cgZTtlLmRhdGEuY2hhbmdlQWRkcmVzcyYmdGhpcy5jb25uZWN0aW9uLnRyeU5leHRBZGRyZXNzKCksdGhpcy5zdHJlYW1pbmdUYXNrcy5mb3JFYWNoKCh0PT57aVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBsaXZlIHN0cmVhbWluZyByZWNlaXZlIGVycm9yXCIpLGUudG9TdHJpbmcoKSxcInRyeSB0byByZXB1Ymxpc2hcIix0LnVybCksdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKHQudXJsLHQubW9kZSxlKS50aGVuKCgoKT0+e2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIGxpdmUgc3RyZWFtaW5nIHJlcHVibGlzaCBcIikuY29uY2F0KHQudXJsLFwiIHN1Y2Nlc3NcIikpfSkpLmNhdGNoKChlPT57aVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gbGl2ZSBzdHJlYW1pbmcgcmVwdWJsaXNoIGZhaWxlZFwiKSx0LnVybCxlLnRvU3RyaW5nKCkpLHRoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IodC51cmwsZSl9KSl9KSl9fWFzeW5jIHN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soZSx0LGkpe2lmKCF0aGlzLnRyYW5zY29kaW5nQ29uZmlnJiZ0PT09WVYuVFJBTlNDT0RFKXRocm93IG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIltMaXZlU3RyZWFtaW5nXSBubyB0cmFuc2NvZGluZyBjb25maWcgZm91bmQsIGNhbiBub3Qgc3RhcnQgdHJhbnNjb2Rpbmcgc3RyZWFtaW5nIHRhc2tcIik7Y29uc3Qgbj17Y29tbWFuZDpcIlB1Ymxpc2hTdHJlYW1cIix0czpEYXRlLm5vdygpLHVybDplLHVpZDp0aGlzLnNwZWMudWlkLnRvU3RyaW5nKCksYXV0b0Rlc3Ryb3lUaW1lOjEwMCxhY2NlcHRJbWFnZVRpbWVvdXQ6ITB9O2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHN0YXJ0IGxpdmUgc3RyZWFtaW5nIFwiKS5jb25jYXQoZSxcIiwgbW9kZTogXCIpLmNvbmNhdCh0KSk7Y29uc3Qgcj1hd2FpdCB0aGlzLnRhc2tNdXRleC5sb2NrKCk7aWYoIXRoaXMuY29ubmVjdGlvbiYmaSlyZXR1cm4gdm9pZCByKCk7aWYodGhpcy5zdHJlYW1pbmdUYXNrcy5nZXQoZSkmJiFpKXJldHVybiByKCksbmV3IHVQKGhPLkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1QpLnRocm93KCk7dHJ5e3RoaXMuY29ubmVjdGlvbnx8KHRoaXMuY29ubmVjdGlvbj1hd2FpdCB0aGlzLmNvbm5lY3QodCkpfWNhdGNoKGUpe3Rocm93IHIoKSxlfXN3aXRjaCh0KXtjYXNlIFlWLlRSQU5TQ09ERTpuLnRyYW5zY29kaW5nQ29uZmlnPUlxKHt9LHRoaXMudHJhbnNjb2RpbmdDb25maWcpO2Nhc2UgWVYuUkFXOn10aGlzLnVhcFJlc3BvbnNlJiZ0aGlzLnVhcFJlc3BvbnNlLnZpZCYmKG4udmlkPXRoaXMudWFwUmVzcG9uc2UudmlkKSx0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrPSEwO2NvbnN0IG89dGhpcy5sYXN0VGFza0lkKys7dHJ5e2NvbnN0IHM9bmV3IHJwKCgodCxuKT0+e2ZOKHRoaXMucmV0cnlUaW1lb3V0KS50aGVuKCgoKT0+e2lmKGkpcmV0dXJuIG4oaSk7Y29uc3QgdD10aGlzLnN0YXR1c0Vycm9yLmdldChlKTtyZXR1cm4gdD8odGhpcy5zdGF0dXNFcnJvci5kZWxldGUoZSksbih0KSk6dm9pZCAwfSkpfSkpLGE9YXdhaXQgcnAucmFjZShbdGhpcy5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6bn0sITAse3VybDplLGNvbW1hbmQ6XCJQdWJsaXNoU3RyZWFtXCIsd29ya2VyVHlwZTp0PT09WVYuVFJBTlNDT0RFPzE6MixyZXF1ZXN0QnlVc2VyOiFpLHRpZDpvLnRvU3RyaW5nKCl9KSxzXSk7dGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaz0hMSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBsaXZlIHN0cmVhbWluZyBzdGFydGVkLCBjb2RlOiBcIikuY29uY2F0KGEuY29kZSkpLHRoaXMuc3RyZWFtaW5nVGFza3Muc2V0KGUse2NsaWVudFJlcXVlc3Q6bixtb2RlOnQsdXJsOmUsdGFza0lkOm99KSxyKCl9Y2F0Y2gobil7aWYocigpLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEsIW4uZGF0YXx8IW4uZGF0YS5yZXRyeXx8aSl0aHJvdyBuO3JldHVybiBuLmRhdGEuY2hhbmdlQWRkcmVzcz8odGhpcy5jb25uZWN0aW9uLnRyeU5leHRBZGRyZXNzKCksYXdhaXQgdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsdCxuKSk6YXdhaXQgdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsdCxuKX19c3RvcExpdmVTdHJlYW1pbmdUYXNrKGUpe3JldHVybiBuZXcgcnAoKCh0LGkpPT57Y29uc3Qgbj10aGlzLnN0cmVhbWluZ1Rhc2tzLmdldChlKTtpZighbnx8IXRoaXMuY29ubmVjdGlvbilyZXR1cm4gbmV3IHVQKGhPLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgc3RyZWFtaW5nIHRhc2sgdG8gc3RvcFwiKS50aHJvdygpO2NvbnN0IHI9bi5tb2RlO24uYWJvcnRUYXNrPSgpPT57aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gc3RvcCBsaXZlIHN0cmVhbWluZyBzdWNjZXNzKHdvcmtlciBleGNlcHRpb24pXCIpKSx0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShlKSx0KCl9LHRoaXMuY29ubmVjdGlvbi5yZXF1ZXN0KFwicmVxdWVzdFwiLHtjbGllbnRSZXF1ZXN0Ontjb21tYW5kOlwiVW5wdWJsaXNoU3RyZWFtXCIsdXJsOm4udXJsfX0sITEse3VybDplLGNvbW1hbmQ6XCJVblB1Ymxpc2hTdHJlYW1cIix3b3JrZXJUeXBlOnI9PT1ZVi5UUkFOU0NPREU/MToyLHJlcXVlc3RCeVVzZXI6ITAsdGlkOih0aGlzLmxhc3RUYXNrSWQrKykudG9TdHJpbmcoKX0pLnRoZW4oKGk9PntpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBzdG9wIGxpdmUgc3RyZWFtaW5nIHN1Y2Nlc3MsIGNvZGU6IFwiKS5jb25jYXQoaS5jb2RlKSksdGhpcy5zdHJlYW1pbmdUYXNrcy5kZWxldGUoZSksMD09PXRoaXMuc3RyZWFtaW5nVGFza3Muc2l6ZSYmKHRoaXMuY29ubmVjdGlvbiYmdGhpcy5jb25uZWN0aW9uLmNsb3NlKCksdGhpcy5jb25uZWN0aW9uPXZvaWQgMCksdCgpfSkpLmNhdGNoKGkpfSkpfXJlc2V0QWxsVGFzaygpe3ZhciBlO2NvbnN0IHQ9QXJyYXkuZnJvbShwcChlPXRoaXMuc3RyZWFtaW5nVGFza3MpLmNhbGwoZSkpO3RoaXMudGVybWluYXRlKCk7Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soZS51cmwsZS5tb2RlKS5jYXRjaCgodD0+e3RoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IoZS51cmwsdCl9KSl9dGVybWluYXRlKCl7dGhpcy5jYW5jZWxUb2tlbiYmdGhpcy5jYW5jZWxUb2tlbi5jYW5jZWwoKSx0aGlzLnN0cmVhbWluZ1Rhc2tzPW5ldyBNYXAsdGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaz0hMSx0aGlzLnN0YXR1c0Vycm9yPW5ldyBNYXAsdGhpcy5jYW5jZWxUb2tlbj1Udy5DYW5jZWxUb2tlbi5zb3VyY2UoKSx0aGlzLnVhcFJlc3BvbnNlPXZvaWQgMCx0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMuY29ubmVjdGlvbj12b2lkIDB9YXN5bmMgY29ubmVjdChlKXtpZih0aGlzLmNvbm5lY3Rpb24pdGhyb3cgbmV3IHVQKGhPLlVORVhQRUNURURfRVJST1IsXCJsaXZlIHN0cmVhbWluZyBjb25uZWN0aW9uIGhhcyBhbHJlYWR5IGNvbm5lY3RlZFwiKTtjb25zdCB0PWF3YWl0IHpPKHRoaXMsWlYuUkVRVUVTVF9XT1JLRVJfTUFOQUdFUl9MSVNULGUpO3JldHVybiB0aGlzLnVhcFJlc3BvbnNlPXQsdGhpcy5jb25uZWN0aW9uPW5ldyB2cSh0LndvcmtlclRva2VuLHRoaXMuc3BlYyx0aGlzLndzUmV0cnlDb25maWcsZSksdGhpcy5jb25uZWN0aW9uLm9uKFFWLldBUk5JTkcsKChlLHQpPT50aGlzLm9uTGl2ZVN0cmVhbVdhcm5pbmcmJnRoaXMub25MaXZlU3RyZWFtV2FybmluZyh0LGUpKSksdGhpcy5jb25uZWN0aW9uLm9uKFFWLlBVQkxJU0hfU1RSRUFNX1NUQVRVUywoZT0+dGhpcy5oYW5kbGVQdWJsaXNoU3RyZWFtU2VydmVyKGUpKSksdGhpcy5jb25uZWN0aW9uLm9uKFFWLlJFUVVFU1RfTkVXX0FERFJFU1MsKCh0LGkpPT57aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm4gaShuZXcgdVAoaE8uVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2V0IG5ldyBsaXZlIHN0cmVhbWluZyBhZGRyZXNzIGxpc3RcIikpO3pPKHRoaXMsWlYuUkVRVUVTVF9XT1JLRVJfTUFOQUdFUl9MSVNULGUpLnRoZW4oKGU9Pnt0aGlzLnVhcFJlc3BvbnNlPWUsdChlLmFkZHJlc3NMaXN0KX0pKS5jYXRjaChpKX0pKSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24uaW5pdCh0LmFkZHJlc3NMaXN0KSx0aGlzLmNvbm5lY3Rpb259aGFuZGxlUHVibGlzaFN0cmVhbVNlcnZlcihlKXtjb25zdCB0PWUuc2VydmVyU3RhdHVzJiZlLnNlcnZlclN0YXR1cy51cmx8fFwiZW1wdHlfdXJsXCIsaT10aGlzLnN0cmVhbWluZ1Rhc2tzLmdldCh0KSxuPWUucmVhc29uO3N3aXRjaChlLmNvZGUpe2Nhc2UgJFYuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1BVQkxJU0hfQlJPS0VOOmNhc2UgJFYuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfQ09OTkVDVDpjYXNlICRWLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0hBTkRTSEFLRTpjYXNlICRWLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX1BVQkxJU0g6e2NvbnN0IG49bmV3IHVQKGhPLkxJVkVfU1RSRUFNSU5HX0NETl9FUlJPUixcIlwiLHtjb2RlOmUuY29kZX0pO2lmKGkpcmV0dXJuIGlQLmVycm9yKG4udG9TdHJpbmcoKSksdGhpcy5vbkxpdmVTdHJlYW1FcnJvciYmdGhpcy5vbkxpdmVTdHJlYW1FcnJvcih0LG4pO2lmKCF0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrKXJldHVybjt0aGlzLnN0YXR1c0Vycm9yLnNldCh0LG4pfWNhc2UgJFYuTElWRV9TVFJFQU1fUkVTUE9OU0VfRkFJTEVEX0xPQURfSU1BR0U6e2NvbnN0IGU9bmV3IHVQKGhPLkxJVkVfU1RSRUFNSU5HX1dBUk5fRkFJTEVEX0xPQURfSU1BR0Usbik7cmV0dXJuIHRoaXMub25MaXZlU3RyZWFtV2FybmluZyYmdGhpcy5vbkxpdmVTdHJlYW1XYXJuaW5nKHQsZSl9Y2FzZSAkVi5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfTE9TVDpjYXNlICRWLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9RVUlUOnt2YXIgcjtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybjt0aGlzLmNvbm5lY3Rpb24udHJ5TmV4dEFkZHJlc3MoKTtjb25zdCB0PUFycmF5LmZyb20ocHAocj10aGlzLnN0cmVhbWluZ1Rhc2tzKS5jYWxsKHIpKTtmb3IoY29uc3QgaSBvZiB0KWkuYWJvcnRUYXNrP2kuYWJvcnRUYXNrKCk6KGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gcHVibGlzaCBzdHJlYW0gc3RhdHVzIGNvZGVcIiksZS5jb2RlLFwidHJ5IHRvIHJlcHVibGlzaFwiLGkudXJsKSx0aGlzLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soaS51cmwsaS5tb2RlLG5ldyB1UChoTy5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJcIix7Y29kZTplLmNvZGV9KSkudGhlbigoKCk9PntpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSByZXB1Ymxpc2ggbGl2ZSBzdHJlYW0gc3VjY2Vzc1wiKSxpLnVybCl9KSkuY2F0Y2goKGU9PntpUC5lcnJvcihlLnRvU3RyaW5nKCkpLHRoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IoaS51cmwsZSl9KSkpO3JldHVybn19fWhhc1VybChlKXtyZXR1cm4gdGhpcy5zdHJlYW1pbmdUYXNrcy5oYXMoZSl9fWNvbnN0IGJxPXtuYW1lOlwiTGl2ZVN0cmVhbWluZ1wiLGNyZWF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IEFxKGUuam9pbkluZm8sZS53ZWJzb2NrZXRSZXRyeUNvbmZpZ3x8a04sZS5odHRwUmV0cnlDb25maWd8fGtOKX19O2Z1bmN0aW9uIHdxKGUpe2xldCB0PUZxKCk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7bGV0IGk9ZS5hcHBJZDt2b2lkIDAhPT1pJiYoJHEodCwxMCksWXEodCxpKSk7bGV0IG49ZS5jaWQ7dm9pZCAwIT09biYmKCRxKHQsMTYpLCRxKHQsbikpO2xldCByPWUuY25hbWU7dm9pZCAwIT09ciYmKCRxKHQsMjYpLFlxKHQscikpO2xldCBvPWUuZGV2aWNlSWQ7dm9pZCAwIT09byYmKCRxKHQsMzQpLFlxKHQsbykpO2xldCBzPWUuZWxhcHNlO3ZvaWQgMCE9PXMmJigkcSh0LDQwKSxlWCh0LHMpKTtsZXQgYT1lLmZpbGVTaXplO3ZvaWQgMCE9PWEmJigkcSh0LDQ4KSxlWCh0LFZxKGEpKSk7bGV0IGM9ZS5oZWlnaHQ7dm9pZCAwIT09YyYmKCRxKHQsNTYpLGVYKHQsVnEoYykpKTtsZXQgZD1lLmpwZzt2b2lkIDAhPT1kJiYoJHEodCw2NiksJHEodCxkLmxlbmd0aCksZnVuY3Rpb24oZSx0KXtsZXQgaT1XcShlLHQubGVuZ3RoKTtlLmJ5dGVzLnNldCh0LGkpfSh0LGQpKTtsZXQgbD1lLm5ldHdvcmtUeXBlO3ZvaWQgMCE9PWwmJigkcSh0LDcyKSxlWCh0LFZxKGwpKSk7bGV0IHU9ZS5vc1R5cGU7dm9pZCAwIT09dSYmKCRxKHQsODApLGVYKHQsVnEodSkpKTtsZXQgaD1lLnJlcXVlc3RJZDt2b2lkIDAhPT1oJiYoJHEodCw5MCksWXEodCxoKSk7bGV0IHA9ZS5zZGtWZXJzaW9uO3ZvaWQgMCE9PXAmJigkcSh0LDk4KSxZcSh0LHApKTtsZXQgXz1lLnNlcXVlbmNlO3ZvaWQgMCE9PV8mJigkcSh0LDEwNCksZVgodCxWcShfKSkpO2xldCBFPWUuc2lkO3ZvaWQgMCE9PUUmJigkcSh0LDExNCksWXEodCxFKSk7bGV0IG09ZS50aW1lc3RhbXA7dm9pZCAwIT09bSYmKCRxKHQsMTIwKSxlWCh0LG0pKTtsZXQgZj1lLnVpZDt2b2lkIDAhPT1mJiYoJHEodCwxMjgpLCRxKHQsZikpO2xldCBTPWUudmlkO3ZvaWQgMCE9PVMmJigkcSh0LDEzNiksJHEodCxTKSk7bGV0IGc9ZS53aWR0aDt2b2lkIDAhPT1nJiYoJHEodCwxNDQpLGVYKHQsVnEoZykpKTtsZXQgVD1lLnNlcnZpY2U7dm9pZCAwIT09VCYmKCRxKHQsMTUyKSwkcSh0LFQpKTtsZXQgUj1lLmNhbGxiYWNrRGF0YTt2b2lkIDAhPT1SJiYoJHEodCwxNjIpLFlxKHQsUikpO2xldCBDPWUuanBnRW5jcnlwdGlvbjt2b2lkIDAhPT1DJiYoJHEodCwxNjgpLCRxKHQsQykpO2xldCB2PWUucmVxdWVzdFR5cGU7dm9pZCAwIT09diYmKCRxKHQsMTc2KSwkcSh0LHYpKTtsZXQgeT1lLnNjb3JlUG9ybjt2b2lkIDAhPT15JiYoJHEodCwxODUpLFFxKHQseSkpO2xldCBJPWUuc2NvcmVTZXh5O3ZvaWQgMCE9PUkmJigkcSh0LDE5MyksUXEodCxJKSk7bGV0IEE9ZS5zY29yZU5ldXRyYWw7dm9pZCAwIT09QSYmKCRxKHQsMjAxKSxRcSh0LEEpKTtsZXQgYj1lLnNjZW5lO3ZvaWQgMCE9PWImJigkcSh0LDIwOCksJHEodCxiKSk7bGV0IHc9ZS5vc3NGaWxlUHJlZml4O3ZvaWQgMCE9PXcmJigkcSh0LDIxOCksWXEodCx3KSk7bGV0IE89ZS5zZXJ2aWNlVmVuZG9yO2lmKHZvaWQgMCE9PU8pZm9yKGxldCBlIG9mIE8peyRxKHQsMjI2KTtsZXQgaT1GcSgpO0RxKGUsaSksJHEodCxpLmxpbWl0KSx6cSh0LGkpLEJxKGkpfX0oZSx0KSxmdW5jdGlvbihlKXtsZXQgdD1lLmJ5dGVzLGk9ZS5saW1pdDtyZXR1cm4gdC5sZW5ndGg9PT1pP3Q6dC5zdWJhcnJheSgwLGkpfSh0KX1mdW5jdGlvbiBPcShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7bGV0IHQ9e307ZTpmb3IoOyFHcShlKTspe2xldCBpPVpxKGUpO3N3aXRjaChpPj4+Myl7Y2FzZSAwOmJyZWFrIGU7Y2FzZSAxOnQuY29kZT1acShlKTticmVhaztjYXNlIDI6dC5tc2c9S3EoZSxacShlKSk7YnJlYWs7Y2FzZSAzOntsZXQgaT1QcShlKTt0LmRhdGE9TnEoZSksZS5saW1pdD1pO2JyZWFrfWRlZmF1bHQ6THEoZSw3JmkpfX1yZXR1cm4gdH0oe2J5dGVzOnQ9ZSxvZmZzZXQ6MCxsaW1pdDp0Lmxlbmd0aH0pO3ZhciB0fWZ1bmN0aW9uIE5xKGUpe2xldCB0PXt9O2U6Zm9yKDshR3EoZSk7KXtsZXQgaT1acShlKTtzd2l0Y2goaT4+PjMpe2Nhc2UgMDpicmVhayBlO2Nhc2UgMTp0LnJlcXVlc3RJZD1LcShlLFpxKGUpKTticmVhaztjYXNlIDI6dC5yZXF1ZXN0VHlwZT1acShlKT4+PjA7YnJlYWs7Y2FzZSAzOnQuc2NvcmVQb3JuPUpxKGUpO2JyZWFrO2Nhc2UgNDp0LnNjb3JlU2V4eT1KcShlKTticmVhaztjYXNlIDU6dC5zY29yZU5ldXRyYWw9SnEoZSk7YnJlYWs7Y2FzZSA2OnQucmVxdWVzdFNjZW5lPVpxKGUpPj4+MDticmVhaztjYXNlIDc6dC5zY2VuZT1acShlKT4+PjA7YnJlYWs7ZGVmYXVsdDpMcShlLDcmaSl9fXJldHVybiB0fWZ1bmN0aW9uIERxKGUsdCl7bGV0IGk9ZS5zZXJ2aWNlO3ZvaWQgMCE9PWkmJigkcSh0LDgpLCRxKHQsaSkpO2xldCBuPWUudmVuZG9yO3ZvaWQgMCE9PW4mJigkcSh0LDE2KSwkcSh0LG4pKTtsZXQgcj1lLnRva2VuO3ZvaWQgMCE9PXImJigkcSh0LDI2KSxZcSh0LHIpKTtsZXQgbz1lLmNhbGxiYWNrVXJsO3ZvaWQgMCE9PW8mJigkcSh0LDM0KSxZcSh0LG8pKX1mdW5jdGlvbiBQcShlKXtsZXQgdD1acShlKSxpPWUubGltaXQ7cmV0dXJuIGUubGltaXQ9ZS5vZmZzZXQrdCxpfWZ1bmN0aW9uIExxKGUsdCl7c3dpdGNoKHQpe2Nhc2UgMDpmb3IoOzEyOCZxcShlKTspO2JyZWFrO2Nhc2UgMjpqcShlLFpxKGUpKTticmVhaztjYXNlIDU6anEoZSw0KTticmVhaztjYXNlIDE6anEoZSw4KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVuaW1wbGVtZW50ZWQgdHlwZTogXCIrdCl9fWxldCBrcT1uZXcgRmxvYXQzMkFycmF5KDEpO25ldyBVaW50OEFycmF5KGtxLmJ1ZmZlcik7bGV0IE1xPW5ldyBGbG9hdDY0QXJyYXkoMSksVXE9bmV3IFVpbnQ4QXJyYXkoTXEuYnVmZmVyKTtmdW5jdGlvbiBWcShlKXtyZXR1cm57bG93OmV8PTAsaGlnaDplPj4zMSx1bnNpZ25lZDplPj0wfX1sZXQgeHE9W107ZnVuY3Rpb24gRnEoKXtjb25zdCBlPXhxLnBvcCgpO3JldHVybiBlPyhlLm9mZnNldD1lLmxpbWl0PTAsZSk6e2J5dGVzOm5ldyBVaW50OEFycmF5KDY0KSxvZmZzZXQ6MCxsaW1pdDowfX1mdW5jdGlvbiBCcShlKXt4cS5wdXNoKGUpfWZ1bmN0aW9uIGpxKGUsdCl7aWYoZS5vZmZzZXQrdD5lLmxpbWl0KXRocm93IG5ldyBFcnJvcihcIlNraXAgcGFzdCBsaW1pdFwiKTtlLm9mZnNldCs9dH1mdW5jdGlvbiBHcShlKXtyZXR1cm4gZS5vZmZzZXQ+PWUubGltaXR9ZnVuY3Rpb24gV3EoZSx0KXtsZXQgaT1lLmJ5dGVzLG49ZS5vZmZzZXQscj1lLmxpbWl0LG89bit0O2lmKG8+aS5sZW5ndGgpe2xldCB0PW5ldyBVaW50OEFycmF5KDIqbyk7dC5zZXQoaSksZS5ieXRlcz10fXJldHVybiBlLm9mZnNldD1vLG8+ciYmKGUubGltaXQ9byksbn1mdW5jdGlvbiBIcShlLHQpe2xldCBpPWUub2Zmc2V0O2lmKGkrdD5lLmxpbWl0KXRocm93IG5ldyBFcnJvcihcIlJlYWQgcGFzdCBsaW1pdFwiKTtyZXR1cm4gZS5vZmZzZXQrPXQsaX1mdW5jdGlvbiBLcShlLHQpe2xldCBpPUhxKGUsdCksbj1TdHJpbmcuZnJvbUNoYXJDb2RlLHI9ZS5ieXRlcyxvPVwi77+9XCIscz1cIlwiO2ZvcihsZXQgZT0wO2U8dDtlKyspe2xldCBhLGMsZCxsLHU9cltlK2ldOzA9PSgxMjgmdSk/cys9bih1KToxOTI9PSgyMjQmdSk/ZSsxPj10P3MrPW86KGE9cltlK2krMV0sMTI4IT0oMTkyJmEpP3MrPW86KGw9KDMxJnUpPDw2fDYzJmEsbDwxMjg/cys9bzoocys9bihsKSxlKyspKSk6MjI0PT0oMjQwJnUpP2UrMj49dD9zKz1vOihhPXJbZStpKzFdLGM9cltlK2krMl0sMzI4OTYhPSg0OTM0NCYoYXxjPDw4KSk/cys9bzoobD0oMTUmdSk8PDEyfCg2MyZhKTw8Nnw2MyZjLGw8MjA0OHx8bD49NTUyOTYmJmw8PTU3MzQzP3MrPW86KHMrPW4obCksZSs9MikpKToyNDA9PSgyNDgmdSk/ZSszPj10P3MrPW86KGE9cltlK2krMV0sYz1yW2UraSsyXSxkPXJbZStpKzNdLDg0MjE1MDQhPSgxMjYzMjI1NiYoYXxjPDw4fGQ8PDE2KSk/cys9bzoobD0oNyZ1KTw8MTh8KDYzJmEpPDwxMnwoNjMmYyk8PDZ8NjMmZCxsPDY1NTM2fHxsPjExMTQxMTE/cys9bzoobC09NjU1MzYscys9big1NTI5NisobD4+MTApLDU2MzIwKygxMDIzJmwpKSxlKz0zKSkpOnMrPW99cmV0dXJuIHN9ZnVuY3Rpb24gWXEoZSx0KXtsZXQgaT10Lmxlbmd0aCxuPTA7Zm9yKGxldCBlPTA7ZTxpO2UrKyl7bGV0IHI9dC5jaGFyQ29kZUF0KGUpO3I+PTU1Mjk2JiZyPD01NjMxOSYmZSsxPGkmJihyPShyPDwxMCkrdC5jaGFyQ29kZUF0KCsrZSktNTY2MTM4ODgpLG4rPXI8MTI4PzE6cjwyMDQ4PzI6cjw2NTUzNj8zOjR9JHEoZSxuKTtsZXQgcj1XcShlLG4pLG89ZS5ieXRlcztmb3IobGV0IGU9MDtlPGk7ZSsrKXtsZXQgbj10LmNoYXJDb2RlQXQoZSk7bj49NTUyOTYmJm48PTU2MzE5JiZlKzE8aSYmKG49KG48PDEwKSt0LmNoYXJDb2RlQXQoKytlKS01NjYxMzg4OCksbjwxMjg/b1tyKytdPW46KG48MjA0OD9vW3IrK109bj4+NiYzMXwxOTI6KG48NjU1MzY/b1tyKytdPW4+PjEyJjE1fDIyNDoob1tyKytdPW4+PjE4Jjd8MjQwLG9bcisrXT1uPj4xMiY2M3wxMjgpLG9bcisrXT1uPj42JjYzfDEyOCksb1tyKytdPTYzJm58MTI4KX19ZnVuY3Rpb24genEoZSx0KXtsZXQgaT1XcShlLHQubGltaXQpLG49ZS5ieXRlcyxyPXQuYnl0ZXM7Zm9yKGxldCBlPTAsbz10LmxpbWl0O2U8bztlKyspbltlK2ldPXJbZV19ZnVuY3Rpb24gcXEoZSl7cmV0dXJuIGUuYnl0ZXNbSHEoZSwxKV19ZnVuY3Rpb24gWHEoZSx0KXtsZXQgaT1XcShlLDEpO2UuYnl0ZXNbaV09dH1mdW5jdGlvbiBKcShlKXtsZXQgdD1IcShlLDgpLGk9ZS5ieXRlcztyZXR1cm4gVXFbMF09aVt0KytdLFVxWzFdPWlbdCsrXSxVcVsyXT1pW3QrK10sVXFbM109aVt0KytdLFVxWzRdPWlbdCsrXSxVcVs1XT1pW3QrK10sVXFbNl09aVt0KytdLFVxWzddPWlbdCsrXSxNcVswXX1mdW5jdGlvbiBRcShlLHQpe2xldCBpPVdxKGUsOCksbj1lLmJ5dGVzO01xWzBdPXQsbltpKytdPVVxWzBdLG5baSsrXT1VcVsxXSxuW2krK109VXFbMl0sbltpKytdPVVxWzNdLG5baSsrXT1VcVs0XSxuW2krK109VXFbNV0sbltpKytdPVVxWzZdLG5baSsrXT1VcVs3XX1mdW5jdGlvbiBacShlKXtsZXQgdCxpPTAsbj0wO2Rve3Q9cXEoZSksaTwzMiYmKG58PSgxMjcmdCk8PGkpLGkrPTd9d2hpbGUoMTI4JnQpO3JldHVybiBufWZ1bmN0aW9uICRxKGUsdCl7Zm9yKHQ+Pj49MDt0Pj0xMjg7KVhxKGUsMTI3JnR8MTI4KSx0Pj4+PTc7WHEoZSx0KX1mdW5jdGlvbiBlWChlLHQpe2xldCBpPXQubG93Pj4+MCxuPSh0Lmxvdz4+PjI4fHQuaGlnaDw8NCk+Pj4wLHI9dC5oaWdoPj4+MjQsbz0wPT09cj8wPT09bj9pPDE2Mzg0P2k8MTI4PzE6MjppPDE8PDIxPzM6NDpuPDE2Mzg0P248MTI4PzU6NjpuPDE8PDIxPzc6ODpyPDEyOD85OjEwLHM9V3EoZSxvKSxhPWUuYnl0ZXM7c3dpdGNoKG8pe2Nhc2UgMTA6YVtzKzldPXI+Pj43JjE7Y2FzZSA5OmFbcys4XT05IT09bz8xMjh8cjoxMjcmcjtjYXNlIDg6YVtzKzddPTghPT1vP24+Pj4yMXwxMjg6bj4+PjIxJjEyNztjYXNlIDc6YVtzKzZdPTchPT1vP24+Pj4xNHwxMjg6bj4+PjE0JjEyNztjYXNlIDY6YVtzKzVdPTYhPT1vP24+Pj43fDEyODpuPj4+NyYxMjc7Y2FzZSA1OmFbcys0XT01IT09bz8xMjh8bjoxMjcmbjtjYXNlIDQ6YVtzKzNdPTQhPT1vP2k+Pj4yMXwxMjg6aT4+PjIxJjEyNztjYXNlIDM6YVtzKzJdPTMhPT1vP2k+Pj4xNHwxMjg6aT4+PjE0JjEyNztjYXNlIDI6YVtzKzFdPTIhPT1vP2k+Pj43fDEyODppPj4+NyYxMjc7Y2FzZSAxOmFbc109MSE9PW8/MTI4fGk6MTI3Jml9fWZ1bmN0aW9uIHRYKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1jb25zdCBpWD1uZXcgTWFwKFtbXCJtb2RlcmF0aW9uXCIsMV0sW1wic3VwZXJ2aXNlXCIsMl1dKTtjbGFzcyBuWCBleHRlbmRzIE5Pe2dldCBjb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlfXNldCBjb25uZWN0aW9uU3RhdGUoZSl7aWYodGhpcy5fY29ubmVjdGlvblN0YXRlPT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9jb25uZWN0aW9uU3RhdGU7dGhpcy5fY29ubmVjdGlvblN0YXRlPWUsdGhpcy5lbWl0KEF4LkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLHQsZSl9Z2V0IGluc3BlY3RUeXBlKCl7cmV0dXJuIHRoaXMuX2luc3BlY3RUeXBlfXNldCBpbnNwZWN0VHlwZShlKXt2YXIgdDt0aGlzLl9pbnNwZWN0TW9kZT1ucih0PWUubWFwKChlPT5pWC5nZXQoZSl8fDApKSkuY2FsbCh0LCgoZSx0KT0+ZSt0KSksdGhpcy5faW5zcGVjdFR5cGU9ZX1nZXQgcXVhbGl0eSgpe3JldHVybiB0aGlzLl9xdWFsaXR5fXNldCBxdWFsaXR5KGUpe3RoaXMuX3F1YWxpdHk9ZT4xPzE6ZTwuMT8uMTplLHRoaXMucXVhbGl0eVRpbWVyJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLnF1YWxpdHlUaW1lciksdGhpcy5xdWFsaXR5VGltZXI9bnVsbCksdGhpcy5fcXVhbGl0eT49MXx8KHRoaXMucXVhbGl0eVRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3RoaXMucXVhbGl0eT10aGlzLl9xdWFsaXR5L3RoaXMucXVhbGl0eVJhdGlvfSksNmU0KSl9Y29uc3RydWN0b3IoZSl7c3VwZXIoKSxpQSh0aGlzLFwibmFtZVwiLFwiQWdvcmFSVENWaWRlb0NvbnRlbnRJbnNwZWN0XCIpLGlBKHRoaXMsXCJfY29ubmVjdGlvblN0YXRlXCIseXguQ09OTkVDVElORyksaUEodGhpcyxcIl9pbm5lckNvbm5lY3Rpb25TdGF0ZVwiLHZvaWQgMCksaUEodGhpcyxcInNlcXVlbmNlXCIsMCksaUEodGhpcyxcImluc3BlY3RTdGFydFRpbWVcIix2b2lkIDApLGlBKHRoaXMsXCJ3b3JrZXJNYW5hZ2VyQ29ubmVjdGlvblwiLHZvaWQgMCksaUEodGhpcyxcIndvcmtlckNvbm5lY3Rpb25cIix2b2lkIDApLGlBKHRoaXMsXCJ3b3JrZXJNZXNzYWdlTGVuZ3RoTGltaXRcIix2b2lkIDApLGlBKHRoaXMsXCJpbnNwZWN0SW50ZXJ2YWxNaW5pbXVtXCIsdm9pZCAwKSxpQSh0aGlzLFwicXVhbGl0eVJhdGlvXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2Nvbm5lY3RJbmZvXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2NhbmNlbFRva2VuU291cmNlXCIsVHcuQ2FuY2VsVG9rZW4uc291cmNlKCkpLGlBKHRoaXMsXCJfcmV0cnlDb25maWdcIix2b2lkIDApLGlBKHRoaXMsXCJ3bVNlcXVlbmNlXCIsMCksaUEodGhpcyxcImluc3BlY3RJbnRlcnZhbFwiLHZvaWQgMCksaUEodGhpcyxcImluc3BlY3RUaW1lclwiLG51bGwpLGlBKHRoaXMsXCJvc3NGaWxlUHJlZml4XCIsdm9pZCAwKSxpQSh0aGlzLFwiZXh0cmFJbmZvXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2luc3BlY3RUeXBlXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2luc3BlY3RNb2RlXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3F1YWxpdHlcIiwxKSxpQSh0aGlzLFwicXVhbGl0eVRpbWVyXCIsbnVsbCksaUEodGhpcyxcIl9pbnNwZWN0SWRcIix2b2lkIDApLGlBKHRoaXMsXCJfbmVlZFdvcmtVcmxPbmx5XCIsITEpLGlBKHRoaXMsXCJpbnNwZWN0SW1hZ2VcIiwoKCk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PXl4LkNPTk5FQ1RFRCl0aHJvdyBuZXcgdVAoaE8uT1BFUkFUSU9OX0FCT1JURUQsXCJjb250ZW50IGluc3BlY3Qgc2VydmljZSBjb25uZWN0aW9uIHN0YXR1cyBpcyBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUpKTt0aGlzLmluc3BlY3RUaW1lciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW5zcGVjdFRpbWVyKSx0aGlzLmluc3BlY3RUaW1lcj1udWxsKSx0aGlzLmluc3BlY3RUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT15eC5DT05ORUNURUQ/dGhpcy5yZXF1ZXN0VG9JbnNwZWN0SW1hZ2UoKTppUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBJbnNwZWN0IFN0YXRlIGlzIG5vdCBjb25uZWN0ZWQgLCBcIiksdGhpcy5jb25uZWN0aW9uU3RhdGUpfSksdGhpcy5pbnNwZWN0SW50ZXJ2YWw8dGhpcy5pbnNwZWN0SW50ZXJ2YWxNaW5pbXVtP3RoaXMuaW5zcGVjdEludGVydmFsTWluaW11bTp0aGlzLmluc3BlY3RJbnRlcnZhbCksdGhpcy5yZXF1ZXN0VG9JbnNwZWN0SW1hZ2UoKX0pKSx0aGlzLl9pbnNwZWN0SWQ9U04oNSxcImluc3BlY3QtXCIpLHRoaXMud29ya2VyTWVzc2FnZUxlbmd0aExpbWl0PUNEKFwiVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRV9MRU5HVEhfTElNSVRcIiksdGhpcy5pbnNwZWN0SW50ZXJ2YWxNaW5pbXVtPUNEKFwiVklERU9fSU5TUEVDVF9JTlRFUlZBTF9NSU5JTVVNXCIpLHRoaXMucXVhbGl0eVJhdGlvPUNEKFwiVklERU9fSU5TUEVDVF9RVUFMSVRZX1JBVElPXCIpLHRoaXMuaW5zcGVjdEludGVydmFsPWUuaW50ZXJ2YWwsdGhpcy5vc3NGaWxlUHJlZml4PWUub3NzRmlsZVByZWZpeCx0aGlzLmV4dHJhSW5mbz1lLmV4dHJhSW5mbyx0aGlzLmluc3BlY3RUeXBlPWUuaW5zcGVjdFR5cGUsdGhpcy5pbnNwZWN0U3RhcnRUaW1lPU51bWJlcihEYXRlLm5vdygpKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uPW5ldyAkeChcIndvcmtlci1tYW5hZ2VyLVwiK3RoaXMuX2luc3BlY3RJZCxrTiksdGhpcy5vbihBeC5TVEFURV9DSEFOR0UsKChlLHQpPT57dGhpcy5faW5uZXJDb25uZWN0aW9uU3RhdGU9ZSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBJbnNwZWN0IG9wZXJhdGlvbiA6XCIpLmNvbmNhdChJeFtlXSxcIiBcIikuY29uY2F0KHR8fFwiXCIpKX0pKSx0aGlzLmhhbmRsZVdvcmtlck1hbmFnZXJFdmVudHMoKSx0aGlzLndvcmtlckNvbm5lY3Rpb249bmV3ICR4KFwid29ya2VyLVwiK3RoaXMuX2luc3BlY3RJZCxrTiksdGhpcy5oYW5kbGVXb3JrZXJFdmVudHMoKX1hc3luYyBpbml0KGUsdCl7dGhpcy5lbWl0KEF4LlNUQVRFX0NIQU5HRSxJeC5DT05ORUNUX0FQKSx0aGlzLl9jb25uZWN0SW5mbz1lO2NvbnN0IGk9dGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UudG9rZW47cmV0dXJuIHRoaXMuX3JldHJ5Q29uZmlnPXQsbmV3IHJwKCgobixyKT0+e3RoaXMub24oQXguQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsKChlLHQpPT57dD09PXl4LkNPTk5FQ1RFRCYmbigpfSkpLHRoaXMucmVxdWVzdEFQKGUsaSx0KS50aGVuKChlPT57dGhpcy5jb25uZWN0V29ya2VyTWFuYWdlcihlKX0pKS5jYXRjaCgoZT0+e3IoZSl9KSl9KSl9YXN5bmMgcmVxdWVzdEFQKGUsdCxpKXtjb25zdCBuPUNEKFwiV0VCQ1NfRE9NQUlOXCIpLm1hcCgoZT0+XCJodHRwczovL1wiLmNvbmNhdChlLFwiL2FwaS92MVwiKSkpLHI9YXdhaXQgZnVuY3Rpb24oZSx0LGksbil7bGV0e2FwcElkOnIsYXJlYUNvZGU6byxjbmFtZTpzLHNpZDphLHRva2VuOmMsdWlkOmR9PXQ7VUIrKztjb25zdCBsPVwiaW1hZ2VfbW9kZXJhdGlvbl9hcGlcIix1PXtzZXJ2aWNlX25hbWU6bCxqc29uX2JvZHk6SlNPTi5zdHJpbmdpZnkoe2FwcElkOnIsYXJlYUNvZGU6byxjbmFtZTpzLGNvbW1hbmQ6XCJhbGxvY2F0ZUVkZ2VcIixyZXF1ZXN0SWQ6VUIsc2VxOlVCLHNpZDphLHRva2VuOmMsdHM6RGF0ZS5ub3coKSx1aWQ6ZCtcIlwifSl9O2xldCBoLHAsXz1lWzBdO3JldHVybiBVTigoYXN5bmMoKT0+e2g9RGF0ZS5ub3coKTtjb25zdCBlPWF3YWl0IF9CKF8se2RhdGE6dSxjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6XCIwXCIsXCJYLVBhY2tldC1VUklcIjpcIjYxXCJ9LHBhcmFtczp7YWN0aW9uOlwid3J0Y19nYXRld2F5XCJ9fSk7aWYocD1EYXRlLm5vdygpLWgsMCE9PWUuY29kZSl7Y29uc3QgdD1uZXcgdVAoaE8uVU5FWFBFQ1RFRF9SRVNQT05TRSxcImltYWdlIGluc3BlY3QgYXAgZXJyb3IsIGNvZGVcIitlLmNvZGUse3JldHJ5OiEwLHJlc3BvbnNlVGltZTpwfSk7dGhyb3cgaVAuZXJyb3IodC50b1N0cmluZygpKSx0fWNvbnN0IHQ9SlNPTi5wYXJzZShlLmpzb25fYm9keSk7aWYoMjAwIT09dC5jb2RlKXtjb25zdCBlPW5ldyB1UChoTy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiaW1hZ2UgaW5zcGVjdCBhcCBlcnJvciwgY29kZTogXCIuY29uY2F0KHQuY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KHQucmVhc29uKSx7Y29kZTp0LmNvZGUscmVzcG9uc2VUaW1lOnB9KTt0aHJvdyBpUC5lcnJvcihlLnRvU3RyaW5nKCkpLGV9aWYoIXQuc2VydmVyc3x8IUFycmF5LmlzQXJyYXkodC5zZXJ2ZXJzKXx8MD09PXQuc2VydmVycy5sZW5ndGgpe2NvbnN0IGU9bmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJpbWFnZSBpbnNwZWN0IGFwIGVtcHR5IHNlcnZlclwiLHtjb2RlOnQuY29kZSxyZXNwb25zZVRpbWU6cH0pO3Rocm93IGlQLmVycm9yKGUudG9TdHJpbmcoKSksZX1jb25zdCBuPUNEKFwiVklERU9fSU5TUEVDVF9XT1JLRVJfTUFOQUdFUl9XU1NcIik7aWYobilyZXR1cm57YWRkcmVzc0xpc3Q6W25dLHdvcmtlclRva2VuOnQud29ya2VyVG9rZW4sdmlkOnQudmlkLHJlc3BvbnNlVGltZTpwfTtjb25zdCByPUNEKFwiVklERU9fSU5TUEVDVF9XT1JLRVJfTUFOQUdFUl9IT1NUXCIpLG89Q0QoXCJWSURFT19JTlNQRUNUX1dPUktFUl9NQU5BR0VSX1BPUlRcIikscz10LnNlcnZlcnMubWFwKChlPT57bGV0e2FkZHJlc3M6dCx3c3M6aX09ZTtpZih0JiZpKXJldHVyblwid3NzOi8vXCIuY29uY2F0KHQucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQocixcIjpcIikuY29uY2F0KG98fGkpfSkpLmZpbHRlcigoZT0+ISFlKSk7cmV0dXJue2FkZHJlc3NMaXN0OnMsd29ya2VyVG9rZW46dC53b3JrZXJUb2tlbix2aWQ6dC52aWQscmVzcG9uc2VUaW1lOnB9fSksKCh0LGkpPT4obFAuYXB3b3JrZXJFdmVudChhLHtzdWNjZXNzOiEwLHNjOjIwMCxzZXJ2aWNlTmFtZTpsLHJlc3BvbnNlRGV0YWlsOkpTT04uc3RyaW5naWZ5KHQuYWRkcmVzc0xpc3QpLGZpcnN0U3VjY2VzczowPT09aSxyZXNwb25zZVRpbWU6cCxzZXJ2ZXJJcDplW2klZS5sZW5ndGhdfSksITEpKSwoKHQsaSk9PihsUC5hcHdvcmtlckV2ZW50KGEse3N1Y2Nlc3M6ITEsc2M6dC5kYXRhJiZ0LmRhdGEuY29kZXx8MjAwLHNlcnZpY2VOYW1lOmwscmVzcG9uc2VUaW1lOnAsc2VydmVySXA6ZVtpJWUubGVuZ3RoXX0pLCEhKHQuY29kZSE9PWhPLk9QRVJBVElPTl9BQk9SVEVEJiZ0LmNvZGUhPT1oTy5VTkVYUEVDVEVEX1JFU1BPTlNFfHx0LmRhdGEmJnQuZGF0YS5yZXRyeSkmJihfPWVbKGkrMSklZS5sZW5ndGhdLCEwKSkpLG4pfShuLGUsdCxpKTt0aGlzLmVtaXQoQXguU1RBVEVfQ0hBTkdFLEl4LkFQX0NPTk5FQ1RFRCk7Y29uc3R7YWRkcmVzc0xpc3Q6b309cjtyZXR1cm4gdGhpcy53bVNlcXVlbmNlKyssb31hc3luYyBjb25uZWN0V29ya2VyTWFuYWdlcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3RoaXMuX25lZWRXb3JrVXJsT25seT10LHRoaXMuZW1pdChBeC5TVEFURV9DSEFOR0UsSXguQ09OTkVDVF9XT1JLRVJfTUFOQUdFUiksYXdhaXQgdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5pbml0KGUsMWU0KX1hc3luYyBjb25uZWN0V29ya2VyKGUpe2F3YWl0IHRoaXMud29ya2VyQ29ubmVjdGlvbi5pbml0KFtlXSl9aGFuZGxlV29ya2VyTWFuYWdlckV2ZW50cygpe3RoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oV1YuQ09OTkVDVEVELChhc3luYygpPT57dGhpcy5lbWl0KEF4LlNUQVRFX0NIQU5HRSxJeC5XT1JLRVJfTUFOQUdFUl9DT05ORUNURUQsdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi51cmwpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24uc2VuZE1lc3NhZ2Uoe2FwcElkOnRoaXMuX2Nvbm5lY3RJbmZvLmFwcElkLGNuYW1lOnRoaXMuX2Nvbm5lY3RJbmZvLmNuYW1lLHVpZDp0aGlzLl9jb25uZWN0SW5mby51aWQrXCJcIixzZGtWZXJzaW9uOlwiNC4yNC4xXCIsc2lkOnRoaXMuX2Nvbm5lY3RJbmZvLnNpZCxzZXE6dGhpcy53bVNlcXVlbmNlLHRzOk51bWJlcihEYXRlLm5vdygpKSxyZXF1ZXN0SWQ6TWF0aC5mbG9vcigxZTEyKk1hdGgucmFuZG9tKCkpLGFsbG9jYXRlOiEwLGNsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJqb2luXCJ9fSwhMCl9KSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5vbihXVi5DTE9TRUQsKCgpPT57dGhpcy5faW5uZXJDb25uZWN0aW9uU3RhdGU8SXguR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFJiZpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBJbnNwZWN0IHdvcmtlciBtYW5hZ2VyIGlzIGNsb3NlZCBiZWZvcmUgY29ubmVjdGluZyB3b3JrZXJcIikpfSkpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oV1YuRkFJTEVELCgoKT0+e3RoaXMuX2lubmVyQ29ubmVjdGlvblN0YXRlPEl4LkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSYmaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gQ29ubmVjdGluZyBpbnNwZWN0IHdvcmtlciBtYW5hZ2VyIGlzIGZhaWxlZCBiZWZvcmUgY29ubmVjdGluZyB3b3JrZXJcIikpfSkpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oV1YuUkVDT05ORUNUSU5HLCgoKT0+e3RoaXMuX2lubmVyQ29ubmVjdGlvblN0YXRlPEl4LkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSYmaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gSW5zcGVjdCB3b3JrZXIgbWFuYWdlciBpcyByZWNvbm5lY3RpbmcgYmVmb3JlIGNvbm5lY3Rpbmcgd29ya2VyXCIpKX0pKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKFdWLk9OX01FU1NBR0UsKGFzeW5jIGU9Pnt0aGlzLmVtaXQoQXguU1RBVEVfQ0hBTkdFLEl4LkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSk7Y29uc3QgdD10aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLnVybDt0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLmNsb3NlKCk7Y29uc3QgaT1KU09OLnBhcnNlKGUuZGF0YSk7aWYoMjAwIT09aS5jb2RlKXRocm93IGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIFVuZXhwZWN0ZWQgY29kZSBcIikuY29uY2F0KGkuY29kZSxcIiBmcm9tIHdvcmtlciBtYW5hZ2VyXCIpKSxuZXcgdVAoaE8uVU5FWFBFQ1RFRF9SRVNQT05TRSxcInJlc3BvbnNlIGNvZGUgb2Ygd29ya2VyIGlzIHVuZXhwZWN0ZWRcIixpKTtpZighKGkuc2VydmVyUmVzcG9uc2UmJmkuc2VydmVyUmVzcG9uc2UucG9ydFdzcyYmdCkpdGhyb3cgaVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gVW5leHBlY3RlZCBjb250ZW50IGZyb20gd29ya2VyIG1hbmFnZXIgOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGkpKSksbmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJyZXNwb25zZSBjb250ZW50IG9mIHdvcmtlciBpcyB1bmV4cGVjdGVkXCIsaSk7e2NvbnN0IGU9Q0QoXCJWSURFT19JTlNQRUNUX1dPUktFUl9QT1JUXCIpfHxpLnNlcnZlclJlc3BvbnNlLnBvcnRXc3Msbj10LnJlcGxhY2UoLzpcXGQrXFwvPyQvLFwiOlwiLmNvbmNhdChlKSk7dGhpcy5lbWl0KEF4LlNUQVRFX0NIQU5HRSxJeC5DT05ORUNUX1dPUktFUixuKSx0aGlzLl9uZWVkV29ya1VybE9ubHk/dGhpcy5lbWl0KEF4LlJFUVVFU1RfTkVXX1dPUktFUl9VUkwsbik6YXdhaXQgdGhpcy5jb25uZWN0V29ya2VyKG4pfX0pKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKFdWLldJTExfUkVDT05ORUNULCgoZSx0LGkpPT57aShlKX0pKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKFdWLlJFUVVFU1RfTkVXX1VSTFMsKChlLHQpPT57dGhpcy5yZXF1ZXN0QVAodGhpcy5fY29ubmVjdEluZm8sdGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UudG9rZW4sdGhpcy5fcmV0cnlDb25maWcpLnRoZW4oZSkuY2F0Y2godCl9KSl9aGFuZGxlV29ya2VyRXZlbnRzKCl7dGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFdWLkNPTk5FQ1RFRCwoYXN5bmMoKT0+e3RoaXMuZW1pdChBeC5TVEFURV9DSEFOR0UsSXguV09SS0VSX0NPTk5FQ1RFRCx0aGlzLndvcmtlckNvbm5lY3Rpb24udXJsKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT15eC5DT05ORUNURUR9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFdWLk9OX01FU1NBR0UsKGFzeW5jIGU9PntpZihlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7Y29uc3QgaT1PcShuZXcgVWludDhBcnJheShlLmRhdGEpKTtpZihDRChcIlNIT1dfVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRVwiKSYmaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gUmVzcG9uc2UgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGluc3BlY3QgY29udGVudCBcIiksSlNPTi5zdHJpbmdpZnkoaSkpLDIwMD09PWkuY29kZSl7aWYoQXJyYXkuaXNBcnJheSh0aGlzLmluc3BlY3RUeXBlKSYmMT09PXRoaXMuaW5zcGVjdFR5cGUubGVuZ3RoJiZcInN1cGVydmlzZVwiPT09dGhpcy5pbnNwZWN0VHlwZVswXSlyZXR1cm4gdm9pZCB0aGlzLmVtaXQoQXguSU5TUEVDVF9SRVNVTFQsdm9pZCAwLHZvaWQgMCk7aWYoaS5kYXRhJiZpLmRhdGEuc2NvcmVQb3JuJiZpLmRhdGEuc2NvcmVTZXh5JiZpLmRhdGEuc2NvcmVOZXV0cmFsKXt2YXIgdDtjb25zdCBlPXtwb3JuOmkuZGF0YS5zY29yZVBvcm4sc2V4eTppLmRhdGEuc2NvcmVTZXh5LG5ldXRyYWw6aS5kYXRhLnNjb3JlTmV1dHJhbH0sbj1ucih0PU9iamVjdC5rZXlzKGUpKS5jYWxsKHQsKCh0LGkpPT5lW3RdPmVbaV0/dDppKSxcInBvcm5cIikscj1PYmplY3Qua2V5cyhlKS5maW5kKChlPT5lPT09bikpO3RoaXMuZW1pdChBeC5JTlNQRUNUX1JFU1VMVCxyKX1lbHNlIHRoaXMuZW1pdChBeC5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsbmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsaS5jb2RlK1wiXCIsXCJUaGVyZSBpcyBhbiB1bmV4cGVjdGVkIGRhdGEgb24gbWVzc2FnZVwiKSl9ZWxzZSB0aGlzLmVtaXQoQXguSU5TUEVDVF9SRVNVTFQsdm9pZCAwLG5ldyB1UChoTy5VTkVYUEVDVEVEX1JFU1BPTlNFLGkuY29kZStcIlwiLGkubXNnKSl9ZWxzZSBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBVbmV4cGVjdGVkIG1lc3NhZ2UgdHlwZSBmcm9tIHdvcmtlclwiKSksdGhpcy5lbWl0KEF4LklOU1BFQ1RfUkVTVUxULHZvaWQgMCxuZXcgdVAoaE8uVU5FWFBFQ1RFRF9SRVNQT05TRSxcImludmFsaWQgd29ya2VyIG1lc3NhZ2UgdHlwZVwiKSl9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFdWLkNMT1NFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT15eC5DTE9TRUR9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFdWLkZBSUxFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT15eC5DTE9TRUR9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFdWLlJFQ09OTkVDVElORywoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT10aGlzLmNvbm5lY3Rpb25TdGF0ZT09PXl4LkNPTk5FQ1RFRD95eC5SRUNPTk5FQ1RJTkc6eXguQ09OTkVDVElOR30pKSx0aGlzLndvcmtlckNvbm5lY3Rpb24ub24oV1YuV0lMTF9SRUNPTk5FQ1QsKChlLHQsaSk9PntcInJlY292ZXJcIj09PWUmJmkoZSksaShcInRyeU5leHRcIil9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFdWLlJFUVVFU1RfTkVXX1VSTFMsKChlLHQpPT57dGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMub25jZShBeC5SRVFVRVNUX05FV19XT1JLRVJfVVJMLCh0PT57ZShbdF0pfSkpLHRoaXMucmVxdWVzdEFQKHRoaXMuX2Nvbm5lY3RJbmZvLHRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuLHRoaXMuX3JldHJ5Q29uZmlnKS50aGVuKChlPT57dGhpcy5jb25uZWN0V29ya2VyTWFuYWdlcihlLCEwKX0pKS5jYXRjaCgoZT0+e3QoZSl9KSl9KSl9YXN5bmMgcmVxdWVzdFRvSW5zcGVjdEltYWdlKCl7dGhpcy5zZXF1ZW5jZSsrO2NvbnN0IGU9WE8odGhpcyxBeC5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0spLHQ9e2FwcElkOnRoaXMuX2Nvbm5lY3RJbmZvLmFwcElkLGNuYW1lOnRoaXMuX2Nvbm5lY3RJbmZvLmNuYW1lLGNpZDp0aGlzLl9jb25uZWN0SW5mby5jaWQsc2lkOnRoaXMuX2Nvbm5lY3RJbmZvLnNpZCx1aWQ6dGhpcy5fY29ubmVjdEluZm8udWlkLHZpZDp0aGlzLl9jb25uZWN0SW5mby52aWR9O2lmKGUpe2lmKCFlLmlzUGxheWluZylyZXR1cm4gdm9pZCB0aGlzLmVtaXQoQXguSU5TUEVDVF9SRVNVTFQsdm9pZCAwLG5ldyB1UChoTy5JTlZBTElEX09QRVJBVElPTixcIk9ubHkgdGhlIHRyYWNrIGJlaW5nIHBsYXllZCBjYW4gYmUgaW5zcGVjdGVkXCIpKTtjb25zdCBpPWF3YWl0IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLHQpO3RoaXMud29ya2VyQ29ubmVjdGlvbi5zZW5kTWVzc2FnZShpLCEwLCEwKX1lbHNlIHRoaXMuZW1pdChBeC5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsbmV3IHVQKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiT25seSB0aGUgdHJhY2sgYmVpbmcgcHVibGlzaGVkIGNhbiBiZSBpbnNwZWN0ZWRcIikpfWFzeW5jIGdlbmVyYXRlUmVxdWVzdERhdGEoZSx0KXtsZXR7YXBwSWQ6aSxjbmFtZTpuLGNpZDpyLHZpZDpvLHNpZDpzLHVpZDphfT10O2NvbnN0IGM9RGF0ZS5ub3coKSxkPWF3YWl0IGUuZ2V0Q3VycmVudEZyYW1lSW1hZ2UoXCJpbWFnZS9qcGVnXCIsdGhpcy5xdWFsaXR5KSxsPWF3YWl0IFFMKGQsaSxuKSx1PXRoaXMuc2VxdWVuY2UrXCItXCIrcitcIi1cIithK1wiLVwiK2MrXCItXCIrU04oMTIsXCJcIiksaD17YXBwSWQ6aSxjaWQ6cixjbmFtZTpuLGRldmljZUlkOlwiXCIsZWxhcHNlOihwPU51bWJlcihjLXRoaXMuaW5zcGVjdFN0YXJ0VGltZSkse2xvdzpwfD0wLGhpZ2g6cD4+MzEsdW5zaWduZWQ6cD49MH0pLGZpbGVTaXplOmwuYnl0ZUxlbmd0aCxqcGdFbmNyeXB0aW9uOjIsaGVpZ2h0OmQuaGVpZ2h0LHdpZHRoOmQud2lkdGgsanBnOmwsbmV0d29ya1R5cGU6Nixvc1R5cGU6NyxyZXF1ZXN0SWQ6dSxzZGtWZXJzaW9uOlwiNC4yNC4xXCIsc2VxdWVuY2U6dGhpcy5zZXF1ZW5jZSxzaWQ6cyx0aW1lc3RhbXA6d1coYyksdWlkOmEsdmlkOm8sc2VydmljZTp0aGlzLl9pbnNwZWN0TW9kZSxjYWxsYmFja0RhdGE6dGhpcy5leHRyYUluZm8sb3NzRmlsZVByZWZpeDp0aGlzLm9zc0ZpbGVQcmVmaXh9O3ZhciBwO3ZvaWQgMD09PXRoaXMuZXh0cmFJbmZvJiZkZWxldGUgaC5jYWxsYmFja0RhdGEsdm9pZCAwPT09dGhpcy5vc3NGaWxlUHJlZml4JiZkZWxldGUgaC5vc3NGaWxlUHJlZml4O2NvbnN0IF89d3EoaCk7aWYoXy5ieXRlTGVuZ3RoPHRoaXMud29ya2VyTWVzc2FnZUxlbmd0aExpbWl0KXtpZihDRChcIlNIT1dfVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRVwiKSl7Y29uc3QgZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj90WChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTp0WChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX0oe30saCk7ZGVsZXRlIGUuanBnLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIFJlcXVlc3QgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGluc3BlY3QgY29udGVudCBcIiksSlNPTi5zdHJpbmdpZnkoZSkpfXJldHVybiBffXtjb25zdCB0PXRoaXMucXVhbGl0eSp0aGlzLnF1YWxpdHlSYXRpbztyZXR1cm4gdGhpcy5xdWFsaXR5PXQsYXdhaXQgdGhpcy5nZW5lcmF0ZVJlcXVlc3REYXRhKGUse2FwcElkOmksY25hbWU6bixjaWQ6cix2aWQ6byxzaWQ6cyx1aWQ6YX0pfX1jbG9zZSgpe3RoaXMuX2NhbmNlbFRva2VuU291cmNlLmNhbmNlbCgpLHRoaXMuX2NhbmNlbFRva2VuU291cmNlPVR3LkNhbmNlbFRva2VuLnNvdXJjZSgpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24mJnRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLndvcmtlckNvbm5lY3Rpb24mJnRoaXMud29ya2VyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMuaW5zcGVjdFRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmluc3BlY3RUaW1lciksdGhpcy5pbnNwZWN0VGltZXI9bnVsbCx0aGlzLmNvbm5lY3Rpb25TdGF0ZT15eC5DTE9TRUQsdGhpcy5lbWl0KEF4LlNUQVRFX0NIQU5HRSxJeC5DTE9TRUQpfX1jb25zdCByWD17bmFtZTpcIkNvbnRlbnRJbnNwZWN0XCIsY3JlYXRlOmZ1bmN0aW9uKGUpe2xldHtjb25maWc6dH09ZTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbmV3IHVQKGhPLklOVkFMSURfUEFSQU1TLFwiaW5zcGVjdENvbmZpZyBpcyBuZWNlc3NhcnkuXCIpO2lmKCFlLmluc3BlY3RUeXBlfHwhQXJyYXkuaXNBcnJheShlLmluc3BlY3RUeXBlKSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJpbnNwZWN0Q29uZmlnLmluc3BlY3RUeXBlIGlzIG5lY2Vzc2FyeSBhbmQgaXMgYW4gaW5zdGFuY2Ugb2YgQXJyYXkuXCIpO3tjb25zdCB0PVsuLi5uZXcgU2V0KGUuaW5zcGVjdFR5cGUpXTt0LmZvckVhY2goKGU9Pnt2YXIgdDtpZighTG4odD1bXCJzdXBlcnZpc2VcIixcIm1vZGVyYXRpb25cIl0pLmNhbGwodCxlKSl0aHJvdyBuZXcgdVAoaE8uSU5WQUxJRF9QQVJBTVMsXCJcIi5jb25jYXQoZSxcIiBpcyBub3QgYSB2YWxpZCBpbnNwZWN0IHR5cGUuXCIpKX0pKSxlLmluc3BlY3RUeXBlPXR9aWYoZSYmZS5leHRyYUluZm8mJmUuZXh0cmFJbmZvLmxlbmd0aD4xMDI0KXRocm93IG5ldyB1UChoTy5JTlZBTElEX1BBUkFNUyxcImluc3BlY3RDb25maWcuZXh0cmFJbmZvIGxlbmd0aCBjYW5ub3QgZXhjZWVkIDEwMjQgYnl0ZXNcIil9KHQpLG5ldyBuWCh0KX19O3ZhciBvWD1pKCQuT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyksc1g9T2ksYVg9cWkuaW5kZXhPZixjWD1XbixkWD15KFtdLmluZGV4T2YpLGxYPSEhZFgmJjEvZFgoWzFdLDEsLTApPDA7c1goe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOmxYfHwhY1goXCJpbmRleE9mXCIpfSx7aW5kZXhPZjpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gbFg/ZFgodGhpcyxlLHQpfHwwOmFYKHRoaXMsZSx0KX19KTt2YXIgdVg9WmkoXCJBcnJheVwiLFwiaW5kZXhPZlwiKSxoWD1sLHBYPXVYLF9YPUFycmF5LnByb3RvdHlwZSxFWD1mdW5jdGlvbihlKXt2YXIgdD1lLmluZGV4T2Y7cmV0dXJuIGU9PT1fWHx8aFgoX1gsZSkmJnQ9PT1fWC5pbmRleE9mP3BYOnR9LG1YPWkoRVgpO2Z1bmN0aW9uIGZYKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgaSxuLHI9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBpPXt9O2Zvcih2YXIgbiBpbiBlKWlmKHt9Lmhhc093blByb3BlcnR5LmNhbGwoZSxuKSl7aWYoLTEhPT1tWCh0KS5jYWxsKHQsbikpY29udGludWU7aVtuXT1lW25dfXJldHVybiBpfShlLHQpO2lmKG9YKXt2YXIgbz1vWChlKTtmb3Iobj0wO248by5sZW5ndGg7bisrKWk9b1tuXSwtMT09PW1YKHQpLmNhbGwodCxpKSYme30ucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLGkpJiYocltpXT1lW2ldKX1yZXR1cm4gcn1sZXQgU1g9Y2xhc3N7Z2V0IGxvY2FsQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIHNOKHRoaXMuX2xvY2FsQ2FwYWJpbGl0aWVzKX1nZXQgcnRwQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIHNOKHRoaXMuX3J0cENhcGFiaWxpdGllcyl9Z2V0IGNhbmRpZGF0ZXMoKXtyZXR1cm4gc04odGhpcy5fY2FuZGlkYXRlcyl9Z2V0IGljZVBhcmFtZXRlcnMoKXtyZXR1cm4gc04odGhpcy5faWNlUGFyYW1ldGVycyl9Z2V0IGR0bHNQYXJhbWV0ZXJzKCl7cmV0dXJuIHNOKHRoaXMuX2R0bHNQYXJhbWV0ZXJzKX1jb25zdHJ1Y3RvcihlKXtpQSh0aGlzLFwic2Vzc2lvbkRlc2NcIix2b2lkIDApLGlBKHRoaXMsXCJfbG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLGlBKHRoaXMsXCJfcnRwQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2NhbmRpZGF0ZXNcIix2b2lkIDApLGlBKHRoaXMsXCJfaWNlUGFyYW1ldGVyc1wiLHZvaWQgMCksaUEodGhpcyxcIl9kdGxzUGFyYW1ldGVyc1wiLHZvaWQgMCksaUEodGhpcyxcInNldHVwXCIsdm9pZCAwKSxpQSh0aGlzLFwiY3VycmVudE1pZEluZGV4XCIsdm9pZCAwKSxpQSh0aGlzLFwiY25hbWVcIixcIm8vaTE0dTlwSnJ4UktBc3VcIiksaUEodGhpcyxcImZpcmVmb3hTc3JjTWlkTWFwXCIsbmV3IE1hcCksZT1zTihlKTtjb25zdHtyZW1vdGVJY2VQYXJhbWV0ZXJzOnQscmVtb3RlRHRsc1BhcmFtZXRlcnM6aSxjYW5kaWRhdGVzOm4scmVtb3RlUlRQQ2FwYWJpbGl0aWVzOnIsbG9jYWxDYXBhYmlsaXRpZXM6byxkaXJlY3Rpb246cyxzZXR1cDphLHZpZGVvQ29kZWM6YyxhdWRpb0NvZGVjOmR9PWU7bGV0IGw7dGhpcy5zZXR1cD1hLGw9cz09PUdWLlJFQ0VJVkVfT05MWT9MRChcInY9MFxcbm89LSAwIDAgSU4gSVA0IDEyNy4wLjAuMVxcbnM9QWdvcmFHYXRld2F5XFxudD0wIDBcXG5hPWdyb3VwOkJVTkRMRSAwIDFcXG5hPW1zaWQtc2VtYW50aWM6IFdNU1xcbmE9ZXh0bWFwLWFsbG93LW1peGVkXFxubT12aWRlbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcXG5jPUlOIElQNCAxMjcuMC4wLjFcXG5hPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcbmE9c2VuZG9ubHlcXG5hPXJ0Y3AtbXV4XFxuYT1ydGNwLXJzaXplXFxuYT1taWQ6MFxcbm09YXVkaW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXFxuYz1JTiBJUDQgMTI3LjAuMC4xXFxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXG5hPXNlbmRvbmx5XFxuYT1ydGNwLW11eFxcbmE9cnRjcC1yc2l6ZVxcbmE9bWlkOjFcXG5cIik6TEQoXCJ2PTBcXG5vPS0gMCAwIElOIElQNCAxMjcuMC4wLjFcXG5zPUFnb3JhR2F0ZXdheVxcbnQ9MCAwXFxuYT1ncm91cDpCVU5ETEUgMCAxXFxuYT1tc2lkLXNlbWFudGljOiBXTVNcXG5hPWV4dG1hcC1hbGxvdy1taXhlZFxcbm09dmlkZW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXFxuYz1JTiBJUDQgMTI3LjAuMC4xXFxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXG5hPXJlY3Zvbmx5XFxuYT1ydGNwLW11eFxcbmE9cnRjcC1yc2l6ZVxcbmE9bWlkOjBcXG5tPWF1ZGlvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxcbmM9SU4gSVA0IDEyNy4wLjAuMVxcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxuYT1yZWN2b25seVxcbmE9cnRjcC1tdXhcXG5hPXJ0Y3AtcnNpemVcXG5hPW1pZDoxXFxuXCIpLHRoaXMuX3J0cENhcGFiaWxpdGllcz1yLHRoaXMuX2NhbmRpZGF0ZXM9bix0aGlzLl9pY2VQYXJhbWV0ZXJzPXQsdGhpcy5fZHRsc1BhcmFtZXRlcnM9aSx0aGlzLl9sb2NhbENhcGFiaWxpdGllcz1vO2NvbnN0IHU9cz09PUdWLlJFQ0VJVkVfT05MWT90aGlzLnJ0cENhcGFiaWxpdGllcy5zZW5kOnRoaXMucnRwQ2FwYWJpbGl0aWVzLnJlY3YsaD1zPT09R1YuUkVDRUlWRV9PTkxZP3RoaXMuX2xvY2FsQ2FwYWJpbGl0aWVzLnJlY3Y6dGhpcy5fbG9jYWxDYXBhYmlsaXRpZXMuc2VuZCxwPXM9PT1HVi5SRUNFSVZFX09OTFk/ci5zZW5kLnZpZGVvQ29kZWNzOllGKGZ4LlZJREVPLHUsaCxjKSxfPXM9PT1HVi5SRUNFSVZFX09OTFk/ci5zZW5kLmF1ZGlvQ29kZWNzOllGKGZ4LkFVRElPLHUsaCxkKTtmb3IoY29uc3QgZSBvZiBsLm1lZGlhRGVzY3JpcHRpb25zKWUuYXR0cmlidXRlcy5pY2VVZnJhZz10LmljZVVmcmFnLGUuYXR0cmlidXRlcy5pY2VQd2Q9dC5pY2VQd2QsZS5hdHRyaWJ1dGVzLmZpbmdlcnByaW50cz1pLmZpbmdlcnByaW50cyxlLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz1uLGUuYXR0cmlidXRlcy5zZXR1cD10aGlzLnNldHVwLFwiYXBwbGljYXRpb25cIj09PWUubWVkaWEubWVkaWFUeXBlJiYoZS5hdHRyaWJ1dGVzLnNjdHBQb3J0PVwiNTAwMFwiKSxcInZpZGVvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSYmKGUubWVkaWEuZm10cz1wLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKSxlLmF0dHJpYnV0ZXMucGF5bG9hZHM9cCxlLmF0dHJpYnV0ZXMuZXh0bWFwcz11LnZpZGVvRXh0ZW5zaW9ucyksXCJhdWRpb1wiPT09ZS5tZWRpYS5tZWRpYVR5cGUmJihlLm1lZGlhLmZtdHM9Xy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzPV8sZS5hdHRyaWJ1dGVzLmV4dG1hcHM9dS5hdWRpb0V4dGVuc2lvbnMsS0YoZSkpO3RoaXMuc2Vzc2lvbkRlc2M9bCx0aGlzLmN1cnJlbnRNaWRJbmRleD1sLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aC0xfXRvU3RyaW5nKCl7cmV0dXJuIGtEKHRoaXMuc2Vzc2lvbkRlc2MpfWhhc01pZChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLmV2ZXJ5KChlPT50aGlzLmhhc01pZChlKSkpOnRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuc29tZSgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKX1zZW5kKGUsdCxpLG4scil7aT1pLnJlcGxhY2UoLyAvZyxcIi1cIik7Y29uc3R7c3NyY3M6byxzc3JjR3JvdXBzOnN9PUxGKHQsdGhpcy5jbmFtZSxDRChcIlNZTkNfR1JPVVBcIik/aTp2b2lkIDApLGE9dGhpcy5maW5kUHJlbG9hZE1lZGlhRGVzYyhvKTtpZihhKXtpZihCdygpJiZ0aGlzLmZpcmVmb3hTc3JjTWlkTWFwLnNldChvWzBdLnNzcmNJZCxhLmF0dHJpYnV0ZXMubWlkKSxyJiYoci50d2NjfHxyLnJlbWIpKXtjb25zdCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuaW5kZXhPZihhKTtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tlXT10aGlzLm11bmdTZW5kTWVkaWFEZXNjKGEscikse21pZDphLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDohMH19cmV0dXJue21pZDphLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDohMX19e2NvbnN0IHQ9dGhpcy5maW5kQXZhaWxhYmxlTWVkaWFJbmRleChlLG8sbik7bGV0IGk7cmV0dXJuLTE9PT10PyhpPXRoaXMuY3JlYXRlT3JSZWN5Y2xlU2VuZE1lZGlhKGUsbyxzLFwic2VuZG9ubHlcIixuLHIpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpKTooaT1zTih0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW3RdKSxpLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwic2VuZG9ubHlcIixpLmF0dHJpYnV0ZXMuc3NyY3M9byxpLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1zLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbdF09dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhpLHIpKSxCdygpJiZ0aGlzLmZpcmVmb3hTc3JjTWlkTWFwLnNldChvWzBdLnNzcmNJZCxpLmF0dHJpYnV0ZXMubWlkKSx7bmVlZEV4Y2hhbmdlU0RQOiEwLG1pZDppLmF0dHJpYnV0ZXMubWlkfX19c3RvcFNlbmRpbmcoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+dC5hdHRyaWJ1dGVzLm1pZCYmLTEhPT1lLmluZGV4T2YodC5hdHRyaWJ1dGVzLm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5zdG9wU2VuZGluZy5cIik7dC5mb3JFYWNoKChlPT57ZS5hdHRyaWJ1dGVzLnNzcmNzPVtdfSkpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpfXJlY2VpdmUoZSx0LGkpe2NvbnN0IG49W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2NvbnN0IHI9ZS5fbWVkaWFTdHJlYW1UcmFjay5raW5kLG89dGhpcy5maW5kQXZhaWxhYmxlUmVjdk1lZGlhSW5kZXgocik7bGV0IHMsYT0hMTstMT09PW8/KGE9ITAscz10aGlzLmNyZWF0ZU9yUmVjeWNsZVJlY3ZNZWRpYShlLFtdLFwicmVjdm9ubHlcIix0LGkpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpKToocz1zTih0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW29dKSxzLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwicmVjdm9ubHlcIiksbi5wdXNoKHttaWQ6cy5hdHRyaWJ1dGVzLm1pZCxuZWVkQ3JlYXRlVHJhbnNjZWl2ZXI6YX0pfSkpLG59c3RvcFJlY2VpdmluZyhlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKCh0PT4tMSE9PWUuaW5kZXhPZih0LmF0dHJpYnV0ZXMubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMncyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5yZWNlaXZlLlwiKTt0LmZvckVhY2goKGU9PntlLm1lZGlhLnBvcnQ9XCIwXCIsZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9KSksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCl9YWRkUmVtb3RlQ2FuZGlkYXRlKGUpe2NvbnN0e2ZvdW5kYXRpb246dCxwcm90b2NvbDppLGFkZHJlc3M6bixwb3J0OnIsdHlwZTpvLHJlbGF0ZWRBZGRyZXNzOnMscmVsYXRlZFBvcnQ6YSxwcmlvcml0eTpjfT1uZXcgUlRDSWNlQ2FuZGlkYXRlKGUpLGQ9e2ZvdW5kYXRpb246bnVsbCE9dD90OlwiXCIsY29tcG9uZW50SWQ6XCIxXCIsdHJhbnNwb3J0Om51bGwhPWk/aTpcIlwiLHByaW9yaXR5OmM/YytcIlwiOlwiXCIsY29ubmVjdGlvbkFkZHJlc3M6bnVsbCE9bj9uOlwiXCIscG9ydDpyP3IrXCJcIjpcIlwiLHR5cGU6bz9vK1wiXCI6XCJcIixyZWxBZGRyOm51bGwhPXM/czpcIlwiLHJlbFBvcnQ6YT9hK1wiXCI6XCJcIixleHRlbnNpb246e319O3RoaXMuY2FuZGlkYXRlcy5zb21lKChlPT5lLnByaW9yaXR5PT09ZC5wcmlvcml0eSYmZS5jb25uZWN0aW9uQWRkcmVzcz09PWQuY29ubmVjdGlvbkFkZHJlc3MmJmUucG9ydD09PWQucG9ydCkpfHwodGhpcy5fY2FuZGlkYXRlcy5wdXNoKGQpLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e2UuYXR0cmlidXRlcy5jYW5kaWRhdGVzPXRoaXMuY2FuZGlkYXRlc30pKSl9Y2xlYXJSZW1vdGVDYW5kaWRhdGUoKXt0aGlzLl9jYW5kaWRhdGVzPVtdLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbMF0uYXR0cmlidXRlcy5jYW5kaWRhdGVzPXRoaXMuX2NhbmRpZGF0ZXN9Y3JlYXRlT3JSZWN5Y2xlUmVjdk1lZGlhKGUsdCxpLG4scil7Y29uc3Qgbz1lLl9tZWRpYVN0cmVhbVRyYWNrLmtpbmQscz10aGlzLnJ0cENhcGFiaWxpdGllcy5yZWN2LGE9WUYobyxzLHRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCxvPT09ZnguQVVESU8/cjpuKSxjPW89PT1meC5WSURFTz9zLnZpZGVvRXh0ZW5zaW9uczpzLmF1ZGlvRXh0ZW5zaW9ucyxkPVwiXCIuY29uY2F0KCsrdGhpcy5jdXJyZW50TWlkSW5kZXgpO2xldCBsPXttZWRpYTp7bWVkaWFUeXBlOm8scG9ydDpcIjlcIixwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czphLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDp0aGlzLmljZVBhcmFtZXRlcnMuaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOltdLGV4dG1hcHM6YyxmaW5nZXJwcmludHM6dGhpcy5kdGxzUGFyYW1ldGVycy5maW5nZXJwcmludHMsaW1hZ2VhdHRyOltdLG1zaWRzOltdLHJlbW90ZUNhbmRpZGF0ZXNMaXN0OltdLHJpZHM6W10sc3NyY3M6dCxzc3JjR3JvdXBzOltdLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczphLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjppLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdChkKX19O2w9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyhsLGUpO2NvbnN0IHU9dGhpcy5maW5kRmlyc3RDbG9zZWRNZWRpYShvKTtpZih1KXtjb25zdCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuaW5kZXhPZih1KTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2VdPWx9ZWxzZSB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2gobCk7cmV0dXJuIGx9bXV0ZVJlbW90ZShlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKCh0PT5MbihlKS5jYWxsKGUsdC5hdHRyaWJ1dGVzLm1pZHx8XCJcIikpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlUmVtb3RlLlwiKTt0LmZvckVhY2goKGU9PntlLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn0pKX11bm11dGVSZW1vdGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+TG4oZSkuY2FsbChlLHQuYXR0cmlidXRlcy5taWR8fFwiXCIpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAubXV0ZVJlbW90ZS5cIik7dC5mb3JFYWNoKChlPT57ZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInJlY3Zvbmx5XCJ9KSl9ZmluZEF2YWlsYWJsZU1lZGlhSW5kZXgoZSx0LGkpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCgobj0+e2NvbnN0IHI9bi5tZWRpYS5tZWRpYVR5cGU9PT1lJiZcIjBcIiE9PW4ubWVkaWEucG9ydCYmKFwic2VuZG9ubHlcIj09PW4uYXR0cmlidXRlcy5kaXJlY3Rpb258fFwic2VuZHJlY3ZcIj09PW4uYXR0cmlidXRlcy5kaXJlY3Rpb24pJiYwPT09bi5hdHRyaWJ1dGVzLnNzcmNzLmxlbmd0aDtpZihCdygpKXtpZihyKXtjb25zdCBlPXRoaXMuZmlyZWZveFNzcmNNaWRNYXAuZ2V0KHRbMF0uc3NyY0lkKTtyZXR1cm4hKGV8fFwiMFwiIT09bi5hdHRyaWJ1dGVzLm1pZCYmXCIxXCIhPT1uLmF0dHJpYnV0ZXMubWlkKXx8ISghZXx8ZSE9PW4uYXR0cmlidXRlcy5taWQpfXJldHVybiExfXJldHVybiByJiZuLmF0dHJpYnV0ZXMubWlkPT09aX0pKX1maW5kQXZhaWxhYmxlUmVjdk1lZGlhSW5kZXgoZSl7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KCh0PT57Y29uc3QgaT10Lm1lZGlhLm1lZGlhVHlwZT09PWUmJlwiMFwiIT09dC5tZWRpYS5wb3J0JiYoXCJyZWN2b25seVwiPT09dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbnx8XCJzZW5kcmVjdlwiPT09dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbik7cmV0dXJuXCIwXCIhPT10LmF0dHJpYnV0ZXMubWlkJiZcIjFcIiE9PXQuYXR0cmlidXRlcy5taWQmJml9KSl9cHJlZGljdFJlY2VpdmluZ01pZHMoZSl7Y29uc3QgdD1bXTtmb3IobGV0IGk9MDtpPGU7aSsrKXQucHVzaCgodGhpcy5jdXJyZW50TWlkSW5kZXgraSsxKS50b1N0cmluZygxMCkpO3JldHVybiB0fXJlc3RhcnRJQ0UoZSl7ZT1zTihlKSx0aGlzLl9pY2VQYXJhbWV0ZXJzPWUsdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKCh0PT57dC5hdHRyaWJ1dGVzLmljZVVmcmFnPWUuaWNlVWZyYWcsdC5hdHRyaWJ1dGVzLmljZVB3ZD1lLmljZVB3ZH0pKX1jcmVhdGVPclJlY3ljbGVTZW5kTWVkaWEoZSx0LGksbixyLG8pe2NvbnN0IHM9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZCxhPWU9PT1meC5WSURFTz9zLnZpZGVvQ29kZWNzOnMuYXVkaW9Db2RlY3MsYz1lPT09ZnguVklERU8/cy52aWRlb0V4dGVuc2lvbnM6cy5hdWRpb0V4dGVuc2lvbnM7QncoKSYmKHI9XCJcIi5jb25jYXQoKyt0aGlzLmN1cnJlbnRNaWRJbmRleCkpO2xldCBkPXttZWRpYTp7bWVkaWFUeXBlOmUscG9ydDpcIjlcIixwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czphLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDp0aGlzLmljZVBhcmFtZXRlcnMuaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOltdLGV4dG1hcHM6YyxmaW5nZXJwcmludHM6dGhpcy5kdGxzUGFyYW1ldGVycy5maW5nZXJwcmludHMsaW1hZ2VhdHRyOltdLG1zaWRzOltdLHJlbW90ZUNhbmRpZGF0ZXNMaXN0OltdLHJpZHM6W10sc3NyY3M6dCxzc3JjR3JvdXBzOmkscnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOmEscnRjcDp7cG9ydDpcIjlcIixuZXRUeXBlOlwiSU5cIixhZGRyZXNzVHlwZTpcIklQNFwiLGFkZHJlc3M6XCIwLjAuMC4wXCJ9LHNldHVwOnRoaXMuc2V0dXAsZGlyZWN0aW9uOm4scnRjcE11eDohMCxydGNwUnNpemU6ITAsbWlkOnJ9fTtkPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MoZCxvKTtjb25zdCBsPXRoaXMuZmluZEZpcnN0Q2xvc2VkTWVkaWEoZSk7aWYobCl7Y29uc3QgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YobCk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tlXT1kfWVsc2UgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKGQpO3JldHVybiBkfW11bmdSZWN2TWVkaWFEc2VjKGUsdCxpKXtjb25zdCBuPXNOKGUpO3JldHVybiBNRihuKSxrRihuLHQpLFVGKG4sdCksVkYobikseEYobixpLHRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCksbn1tdW5nU2VuZE1lZGlhRGVzYyhlLHQpe2NvbnN0IGk9c04oZSk7cmV0dXJuIHhGKGksdCx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnJlY3YpLEtGKGkpLGl9dXBkYXRlUmVjdk1lZGlhKGUsdCl7Y29uc3QgaT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZigtMSE9PWkpe2NvbnN0IGU9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2ldLHQpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbaV09ZX19dXBkYXRlQnVuZGxlTWlkcygpe3RoaXMuc2Vzc2lvbkRlc2MuYXR0cmlidXRlcy5ncm91cHNbMF0uaWRlbnRpZmljYXRpb25UYWc9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKGU9PlwiMFwiIT09ZS5tZWRpYS5wb3J0KSkubWFwKChlPT5lLmF0dHJpYnV0ZXMubWlkKSl9ZmluZFByZWxvYWRNZWRpYURlc2MoZSl7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+e3ZhciBpO3JldHVybihudWxsPT09KGk9dC5hdHRyaWJ1dGVzKXx8dm9pZCAwPT09aXx8bnVsbD09PShpPWkuc3NyY3NbMF0pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNzcmNJZCk9PT1lWzBdLnNzcmNJZH0pKX1maW5kRmlyc3RDbG9zZWRNZWRpYShlKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT5CdygpP1wiMFwiPT09dC5tZWRpYS5wb3J0JiZ0Lm1lZGlhLm1lZGlhVHlwZT09PWU6XCIwXCI9PT10Lm1lZGlhLnBvcnQpKX19O2NvbnN0IGdYPVtcInNkcFwiXTt2YXIgVFg7ZnVuY3Rpb24gUlgoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIENYKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP1JYKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aUEoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOlJYKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWxldCB2WD0oVFg9Y2xhc3MgZSBleHRlbmRzIEV4e2dldCBjdXJyZW50TG9jYWxEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRMb2NhbERlc2NyaXB0aW9ufWdldCBjdXJyZW50UmVtb3RlRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb259Z2V0IHBlZXJDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGV9Z2V0IGljZUNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZX1nZXQgZHRsc1RyYW5zcG9ydFN0YXRlKCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9PShlPW51bGw9PT0odD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpWzBdKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQudHJhbnNwb3J0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5zdGF0ZSkmJnZvaWQgMCE9PWU/ZTpudWxsfWdldCBsb2NhbENvZGVjcygpe3JldHVybltdfXNldCBpc0luUmVzdGFydEljZShlKXt0aGlzLl9pc0luUmVzdGFydEljZT1lfWdldCBpc0luUmVzdGFydEljZSgpe3JldHVybiB0aGlzLl9pc0luUmVzdGFydEljZX1jb25zdHJ1Y3Rvcih0LGksbil7c3VwZXIodCxpKSxpQSh0aGlzLFwiZGlyZWN0aW9uXCIsdm9pZCAwKSxpQSh0aGlzLFwibmFtZVwiLHZvaWQgMCksaUEodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxpQSh0aGlzLFwic3BlY1wiLHZvaWQgMCksaUEodGhpcyxcInBlZXJDb25uZWN0aW9uXCIsdm9pZCAwKSxpQSh0aGlzLFwiaW5pdGlhbE9mZmVyXCIsdm9pZCAwKSxpQSh0aGlzLFwidHJhbnNwb3J0XCIsdm9pZCAwKSxpQSh0aGlzLFwic3RhdHNGaWx0ZXJcIix2b2lkIDApLGlBKHRoaXMsXCJsb2NhbENhbmRpZGF0ZUNvdW50XCIsMCksaUEodGhpcyxcIl9pc0luUmVzdGFydEljZVwiLCExKSxpQSh0aGlzLFwibXV0ZXhcIix2b2lkIDApLGlBKHRoaXMsXCJvbkxvY2FsQ2FuZGlkYXRlXCIsdm9pZCAwKSxpQSh0aGlzLFwicmVtb3RlU0RQXCIsdm9pZCAwKSxpQSh0aGlzLFwicGVuZGluZ0NhbmRpZGF0ZXNcIixbXSksaUEodGhpcyxcImxvY2FsQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxpQSh0aGlzLFwiaXNSZWFkeVwiLCExKSxpQSh0aGlzLFwicmVzdGFydENudFwiLDApLGlBKHRoaXMsXCJjdXJUdXJuU2VydmVySW5kZXhcIiwwKSx0aGlzLnN0b3JlPWksdGhpcy5zcGVjPXQsdGhpcy5tdXRleD1uZXcgUE4oXCJQMlBDb25uZWN0aW9uLW11dGV4XCIsaS5jbGllbnRJZCksdGhpcy5wZWVyQ29ubmVjdGlvbj1uZXcgUlRDUGVlckNvbm5lY3Rpb24oZS5yZXNvbHZlUENDb25maWd1cmF0aW9uKHQsaS5wMnBUcmFuc3BvcnQpLHtvcHRpb25hbDpbe2dvb2dEc2NwOiEwfV19KSx0aGlzLmRpcmVjdGlvbj1udWxsIT1uP246R1YuU0VORF9PTkxZLHRoaXMubmFtZT10aGlzLmRpcmVjdGlvbj09PUdWLlNFTkRfT05MWT9cInNlbmRQMlBDb25uZWN0aW9uXCI6XCJyZWN2UDJQQ29ubmVjdGlvblwiLHRoaXMuc3RhdHNGaWx0ZXI9ZEQodGhpcy5wZWVyQ29ubmVjdGlvbixDRChcIlNUQVRTX1VQREFURV9JTlRFUlZBTFwiKSx2b2lkIDAsQncoKT8xMjAwOnZvaWQgMCksdGhpcy5iaW5kUENFdmVudHMoKSx0aGlzLmJpbmRTdGF0c0V2ZW50cygpLHRoaXMuc3RvcmUucDJwSWQ9dGhpcy5zdG9yZS5wMnBJZCsxfWFzeW5jIGVzdGFibGlzaChlKXt0cnl7Y29uc3QgdD1hd2FpdCBqRigpO2lmKHRoaXMubG9jYWxDYXBhYmlsaXRpZXM9SEYodCksZSl7Y29uc3R7c2RwOnR9PWUsaT1mWChlLGdYKSxuPWZ1bmN0aW9uKCl7Y29uc3QgZT17YXVkaW9Db2RlY3M6W10sdmlkZW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0sdD13Rihhcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LFwic2VuZG9ubHlcIiksaT17YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0sbj17YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0scj17YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX07aWYoV0YodCxlLFwidmlkZW9FeHRlbnNpb25zXCIsaSxuLHIpLFdGKHQsZSxcInZpZGVvQ29kZWNzXCIsaSxuLHIpLFdGKHQsZSxcImF1ZGlvRXh0ZW5zaW9uc1wiLGksbixyKSxXRih0LGUsXCJhdWRpb0NvZGVjc1wiLGksbixyKSxDRChcIlJBSVNFX0gyNjRfQkFTRUxJTkVfUFJJT1JJVFlcIikpe2NvbnN0IGU9ci52aWRlb0NvZGVjcy5maW5kSW5kZXgoKGU9PmUucnRwTWFwJiZcImgyNjRcIj09PWUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpJiZlLmZtdHAmJlwiNDIwMDFmXCI9PT1lLmZtdHAucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl0pKTtpZigtMSE9PWUpe2NvbnN0IHQ9ci52aWRlb0NvZGVjcy5maW5kSW5kZXgoKGU9PmUucnRwTWFwJiZcImgyNjRcIj09PWUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpKSk7aWYodDxlKXtpUC5kZWJ1ZyhcInJhaXNpbmcgSDI2NCBiYXNlbGluZSBwcm9maWxlIHByaW9yaXR5XCIpO2NvbnN0IGk9ci52aWRlb0NvZGVjc1tlXTtyLnZpZGVvQ29kZWNzLnNwbGljZShlLDEpLHIudmlkZW9Db2RlY3Muc3BsaWNlKHQsMCxpKX0tMSE9PXQmJkNEKFwiRklMVEVSX1NFTkRfSDI2NF9CQVNFTElORVwiKSYmKGkudmlkZW9Db2RlY3M9aS52aWRlb0NvZGVjcy5maWx0ZXIoKGU9PiEoZS5ydHBNYXAmJlwiaDI2NFwiPT09ZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkmJmUuZm10cCYmXCI0MjAwMWZcIiE9PWUuZm10cC5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSkpKSl9fXJldHVybntzZW5kOmkscmVjdjpuLHNlbmRyZWN2OnJ9fSh7fSx7fSx0KTt0aGlzLnJlbW90ZVNEUD1uZXcgU1goe3JlbW90ZUljZVBhcmFtZXRlcnM6aS5pY2VQYXJhbWV0ZXJzLHJlbW90ZUR0bHNQYXJhbWV0ZXJzOmkuZHRsc1BhcmFtZXRlcnMsY2FuZGlkYXRlczpbXSxyZW1vdGVSVFBDYXBhYmlsaXRpZXM6bixsb2NhbENhcGFiaWxpdGllczp0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLGRpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbixzZXR1cDpcImFjdHBhc3NcIix2aWRlb0NvZGVjOnRoaXMuc3RvcmUuY29kZWMsYXVkaW9Db2RlYzp0aGlzLnN0b3JlLmF1ZGlvQ29kZWN9KSxhd2FpdCB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKX0pLHRoaXMuaXNSZWFkeT0hMDtjb25zdCByPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7aWYoIXIuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgYW5zd2VyIHNkcCB3aGVuIHRyeWluZyB0byBlc3RhYmxpc2ggUGVlckNvbm5lY3Rpb24uXCIpO2NvbnN0IG89T0Yoci5zZHApO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihyKTtjb25zdCBzPWF3YWl0IEdGKHt9LHt9LHIuc2RwKTt0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzPUhGKHMpO2NvbnN0IGE9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKVswXTtyZXR1cm4gbnVsbCE9YSYmYS5yZWNlaXZlciYmYS5yZWNlaXZlci50cmFuc3BvcnQmJnRoaXMudHJ5QmluZFRyYW5zcG9ydEV2ZW50cyhhLnJlY2VpdmVyLnRyYW5zcG9ydCksQ1goQ1goe30sbykse30se3NkcDpyLnNkcH0pfXt0aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pLHRoaXMucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSk7Y29uc3QgZT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7aWYoIWUuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgaW5pdGlhbE9mZmVyLnNkcCB3aGVuIHRyeWluZyB0byBlc3RhYmxpc2ggUGVlckNvbm5lY3Rpb24uXCIpO2NvbnN0IHQ9T0YoZS5zZHApO3JldHVybiB0aGlzLmluaXRpYWxPZmZlcj1lLENYKENYKHt9LHQpLHt9LHtzZHA6ZS5zZHB9KX19Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRUQsZS50b1N0cmluZygpKX19YXN5bmMgY29ubmVjdChlKXt0cnl7aWYoIXRoaXMuaW5pdGlhbE9mZmVyKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlc3RhYmxpc2ggUDJQQ29ubmVjdGlvbiB3aXRob3V0IGluaXRpYWwgb2ZmZXIuXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih0aGlzLmluaXRpYWxPZmZlcik7Y29uc3R7c2RwOnQsaWNlUGFyYW1ldGVyczppLGR0bHNQYXJhbWV0ZXJzOm59PWUscj1hd2FpdCBHRih7fSx7fSx0KTt0aGlzLnJlbW90ZVNEUD1uZXcgU1goe3JlbW90ZUljZVBhcmFtZXRlcnM6aSxyZW1vdGVEdGxzUGFyYW1ldGVyczpuLGNhbmRpZGF0ZXM6W10scmVtb3RlUlRQQ2FwYWJpbGl0aWVzOnIsbG9jYWxDYXBhYmlsaXRpZXM6dGhpcy5sb2NhbENhcGFiaWxpdGllcyxkaXJlY3Rpb246dGhpcy5kaXJlY3Rpb24sc2V0dXA6XCJhY3RpdmVcIix2aWRlb0NvZGVjOnRoaXMuc3RvcmUuY29kZWMsYXVkaW9Db2RlYzp0aGlzLnN0b3JlLmF1ZGlvQ29kZWN9KSxhd2FpdCB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCl9KTtjb25zdCBvPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKClbMF07bnVsbCE9byYmby5zZW5kZXImJm8uc2VuZGVyLnRyYW5zcG9ydCYmdGhpcy50cnlCaW5kVHJhbnNwb3J0RXZlbnRzKG8uc2VuZGVyLnRyYW5zcG9ydCl9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmNvbm5lY3QgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIGFkZFJlbW90ZUNhbmRpZGF0ZShlKXt0cnl7ZSYmdGhpcy5wZW5kaW5nQ2FuZGlkYXRlcy5wdXNoKGUpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3RlRGVzY3JpcHRpb24mJnRoaXMuaXNSZWFkeSYmKHRoaXMucGVuZGluZ0NhbmRpZGF0ZXMuZm9yRWFjaCgoZT0+e3RoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGUpfSkpLHRoaXMucGVuZGluZ0NhbmRpZGF0ZXM9W10pfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5BRERfQ0FORElEQVRFX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uYWRkUmVtb3RlQ2FuZGlkYXRlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1zZW5kKGUsdCxpKXt2YXIgbj10aGlzO3JldHVybiBNYigoZnVuY3Rpb24qKCl7Y29uc3Qgcj15aWVsZCBWYihuLm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24uc2VuZFwiKSk7dHJ5e2lmKCFuLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnNlbmQgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtjb25zdCBvPVtdLHM9bi5yZW1vdGVTRFAucmVjZWl2ZShlLHQsaSk7ZS5mb3JFYWNoKCgoZSx0KT0+e2lmKHNbdF0ubmVlZENyZWF0ZVRyYW5zY2VpdmVyKXtjb25zdCB0PW4ucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoZS5fbWVkaWFTdHJlYW1UcmFjayx7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pO28ucHVzaCh0KSxlLl91cGRhdGVSdHBUcmFuc2NlaXZlcih0KX1lbHNle2NvbnN0IGk9bi5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5lLm1pZD09PXNbdF0ubWlkKSk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGZpbmQgdHJhbnNjZWl2ZXIgd2hlbiBzZW5kUGVlcmNvbm5lY3Rpb24gc2VuZCwgbWlkIGlzIFwiLmNvbmNhdChzW3RdLm1pZCkpO28ucHVzaChpKSxlLl91cGRhdGVSdHBUcmFuc2NlaXZlcihpKX19KSksQncoKSYmITA9PT1DRChcIlNJTVVMQ0FTVFwiKSYmKHlpZWxkIFZiKG4uYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KG8sZSkpKTtjb25zdCBhPXMubWFwKChlPT5lLm1pZCkpLGM9eWllbGQgVmIobi5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpKSxkPW4ubXVuZ1NlbmRPZmZlclNEUChjLnNkcCxlLGEpLGw9TEQoZCksdT1hLm1hcCgoZT0+e2NvbnN0IHQ9bC5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBleHRyYWN0IHNzcmMgZnJvbSBtZWRpYURlc2NyaXB0aW9uLlwiKTtyZXR1cm4gTkYodCxDRChcIlVTRV9QVUJfUlRYXCIpKX0pKSxoPW8ubWFwKCgoZSx0KT0+e2NvbnN0IGk9YVt0XTtyZXR1cm57bG9jYWxTU1JDOnVbdF0saWQ6aX19KSk7eWllbGQgVmIobi5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6ZH0pKTt0cnl7eWllbGQgaH1jYXRjaChlKXtjb25zdCB0PW4ucmVtb3RlU0RQLnRvU3RyaW5nKCk7dGhyb3cgeWllbGQgVmIobi5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6ZH0pKSx5aWVsZCBWYihuLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnR9KSkseWllbGQgVmIobi5zdG9wU2VuZGluZyhhLCEwKSksZX15aWVsZCBWYihuLmFwcGx5U2ltdWxjYXN0RW5jb2RpbmdzKG8sZSkpLHlpZWxkIFZiKG4uYXBwbHlTZW5kRW5jb2RpbmdzKG8sZSkpO2NvbnN0IHA9bi5yZW1vdGVTRFAudG9TdHJpbmcoKSxfPW4ubG9nU0RQRXhjaGFuZ2UoZCxcIm9mZmVyXCIsXCJsb2NhbFwiLFwic2VuZFwiKTtyZXR1cm4gbnVsbD09X3x8XyhwKSx5aWVsZCBWYihuLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnB9KSksby5tYXAoKChlLHQpPT57Y29uc3QgaT1hW3RdO3JldHVybntsb2NhbFNTUkM6dVt0XSxpZDppfX0pKX1jYXRjaChlKXt0aHJvdyBlIGluc3RhbmNlb2YgcE8/ZTpuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc2VuZCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX1maW5hbGx5e3IoKX19KSkoKX1hc3luYyBzdG9wU2VuZGluZyhlLHQpe2NvbnN0IGk9dD92b2lkIDA6YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nXCIpO3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9Pi0xIT09ZS5pbmRleE9mKHQubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggKFwiLmNvbmNhdCh0Lmxlbmd0aCxcIikgZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggKFwiKS5jb25jYXQoZS5sZW5ndGgsXCIpIHdoZW4gdHJ5aW5nIHRvIGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZy5cIikpO3QubWFwKChlPT57dmFyIHQ7ZS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiLG51bGw9PT0odD1lLnN0b3ApfHx2b2lkIDA9PT10fHx0LmNhbGwoZSl9KSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLmxvZ1NEUEV4Y2hhbmdlKG4uc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJzdG9wU2VuZGluZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obiksdGhpcy5yZW1vdGVTRFAuc3RvcFJlY2VpdmluZyhlKTtjb25zdCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7bnVsbD09cnx8cihvKSxhd2FpdCB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9ZmluYWxseXtpJiZpKCl9fWFzeW5jIHJlY2VpdmUoZSx0LGksbil7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnJlY2VpdmUgXCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKSk7Y29uc3R7bWlkOnIsbmVlZEV4Y2hhbmdlU0RQOm99PXRoaXMucmVtb3RlU0RQLnNlbmQoZSx0LGksbik7aWYobyl7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZSh0LFwib2ZmZXJcIixcInJlbW90ZVwiLFwicmVjZWl2ZVwiKTthd2FpdCB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKSxvPXRoaXMubXVuZ1JlY2VpdmVBbnN3ZXJTRFAobi5zZHAscixlKTtudWxsPT1pfHxpKG98fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSksaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDb25uZWN0aW9uXSByZWNlaXZlIFwiKS5jb25jYXQoZSxcIiBieSBleGNoYW5naW5nIFNEUC5cIikpfWVsc2UgaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDb25uZWN0aW9uXSByZWNlaXZlIFwiKS5jb25jYXQoZSxcIiBubyBuZWVkIHRvIGV4Y2hhbmdlIFNEUC5cIikpO2NvbnN0IHM9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5lLm1pZD09PXIpKTtpZighc3x8bnVsbD09PXMubWlkKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdHJhbnNjZWl2ZXIgYWZ0ZXIgc2V0TG9jYWxEZXNjcmlwdGlvbi5cIik7cmV0dXJue3RyYWNrOnMucmVjZWl2ZXIudHJhY2ssbWlkOnMubWlkLHRyYW5zY2VpdmVyOnN9fWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBtb2NrUmVjZWl2ZShlLHQsaSxuKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ucmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpKTtjb25zdHttaWQ6cixuZWVkRXhjaGFuZ2VTRFA6b309dGhpcy5yZW1vdGVTRFAuc2VuZChlLHQsaSxuKTtpZihvKXtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKHQsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJyZWNlaXZlXCIpO2F3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpLG89dGhpcy5tdW5nUmVjZWl2ZUFuc3dlclNEUChuLnNkcCxyLGUpO251bGw9PWl8fGkob3x8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHJlY2VpdmUgXCIpLmNvbmNhdChlLFwiIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKSl9ZWxzZSBpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHJlY2VpdmUgXCIpLmNvbmNhdChlLFwiIG5vIG5lZWQgdG8gZXhjaGFuZ2UgU0RQLlwiKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BSZWNlaXZpbmcoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7dGhpcy5yZW1vdGVTRFAuc3RvcFNlbmRpbmcoZSk7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZSh0LFwib2ZmZXJcIixcInJlbW90ZVwiLFwic3RvcFJlY2VpdmluZ1wiKTthd2FpdCB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtudWxsPT1pfHxpKG4uc2RwfHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obil9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uIHN0b3BSZWNlaXZpbmcgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHJlc3RhcnRJQ0UodCl7dHJ5e2lmKHRoaXMuc3RvcmUucDJwVHJhbnNwb3J0PT09X0QuQXV0byYmKHRoaXMuc3RvcmUucDJwVHJhbnNwb3J0PV9ELlNkUnRuLHBQKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbiYmdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGUucmVzb2x2ZVBDQ29uZmlndXJhdGlvbih0aGlzLnNwZWMsdGhpcy5zdG9yZS5wMnBUcmFuc3BvcnQpKSksdGhpcy5yZXN0YXJ0Q250PjMmJih0aGlzLnJlc3RhcnRDbnQ9MCxwUCgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24mJnRoaXMucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihlLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odGhpcy5zcGVjLHRoaXMuc3RvcmUucDJwVHJhbnNwb3J0LCsrdGhpcy5jdXJUdXJuU2VydmVySW5kZXgpKSksIXQpe3RoaXMucmVzdGFydENudCsrLHRoaXMuaXNSZWFkeT0hMTtjb25zdCBlPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoe2ljZVJlc3RhcnQ6ITB9KTtpZighZS5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVjYXVzZSByZXN0YXJ0IG9mZmVyIFNEUCBkb2VzIG5vdCBleGlzdC5cIik7Y29uc3R7aWNlUGFyYW1ldGVyczp0fT1PRihlLnNkcCk7cmV0dXJuIHRoaXMuc3RvcmUuZGVzY3JpcHRpb25TdGFydCgpLHRoaXMuZGlyZWN0aW9uPT09R1YuU0VORF9PTkxZJiZhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZSksdH1pZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2lmKHRoaXMucmVtb3RlU0RQLnJlc3RhcnRJQ0UodCksdGhpcy5zdG9yZS5kZXNjcmlwdGlvblN0YXJ0KCksdGhpcy5kaXJlY3Rpb249PT1HVi5SRUNFSVZFX09OTFkpe3RoaXMucmVzdGFydENudCsrLGF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0aGlzLnJlbW90ZVNEUC50b1N0cmluZygpfSk7Y29uc3QgZT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2lmKCFlLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGFuc3dlciBzZHAgd2hlbiB0cnlpbmcgdG8gaWNlUmVzdGFydC5cIik7Y29uc3R7aWNlUGFyYW1ldGVyczp0fT1PRihlLnNkcCk7cmV0dXJuIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihlKSx0fWF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKX0pLHRoaXMuaXNSZWFkeT0hMH1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19Y2xvc2UoKXt2YXIgZTt0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCksdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLG51bGw9PT0oZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsXCJjbG9zZWRcIiksdGhpcy50cnlVbmJpbmRUcmFuc3BvcnRFdmVudHMoKSx0aGlzLnVuYmluZFBDRXZlbnRzKCksdGhpcy51bmJpbmRTdGF0c0V2ZW50cygpLHRoaXMudHJhbnNwb3J0PXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLmRlc3Ryb3koKX1nZXRTdGF0cygpe3JldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3JldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFZpZGVvSXNSZWFkeShlKX1hc3luYyB1cGRhdGVFbmNvZGVyQ29uZmlnKGUsdCl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVwZGF0ZUVuY29kZXJDb25maWcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksbj10aGlzLm11bmdTZW5kT2ZmZXJTRFAoaS5zZHAsW3RdLFtlXSk7dGhpcy5yZW1vdGVTRFAudXBkYXRlUmVjdk1lZGlhKGUsdCk7Y29uc3Qgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLG89dGhpcy5sb2dTRFBFeGNoYW5nZShuLFwib2ZmZXJcIixcImxvY2FsXCIsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOm59KSxudWxsPT1vfHxvKHIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6cn0pfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELGUudG9TdHJpbmcoKSl9fWFzeW5jIHVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGUsdCl7Y29uc3QgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcigodD0+dC5taWQ9PT1lKSk7MT09PWkubGVuZ3RoJiYodGhpcy5pc1ZQOFNpbXVsY2FzdCh0KT9CdygpfHxhd2FpdCB0aGlzLmFwcGx5U2ltdWxjYXN0RW5jb2RpbmdzKGksW3RdKTphd2FpdCB0aGlzLmFwcGx5U2VuZEVuY29kaW5ncyhpLFt0XSkpfXNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KGUsdCl7dGhpcy5zdGF0c0ZpbHRlci5zZXRWaWRlb0lzUmVhZHkyKGUsdCl9YXN5bmMgcmVwbGFjZVRyYWNrKGUsdCl7Y29uc3QgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PmUubWlkPT09dCkpO2kmJmF3YWl0IGkuc2VuZGVyLnJlcGxhY2VUcmFjayhlLl9tZWRpYVN0cmVhbVRyYWNrKX1hc3luYyBnZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKXtjb25zdCBlPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVjZWl2ZXJzKCk7aWYoZS5sZW5ndGg+MCYmZVswXS50cmFuc3BvcnQmJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydCYmZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpciYmZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpKXtjb25zdCB0PWVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydCx7bG9jYWw6aSxyZW1vdGU6bn09dC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKTtyZXR1cm57bG9jYWw6Q1goQ1goe30sek4pLHt9LHtjYW5kaWRhdGVUeXBlOmkudHlwZSxwcm90b2NvbDppLnByb3RvY29sLGFkZHJlc3M6aS5hZGRyZXNzLHBvcnQ6aS5wb3J0fSkscmVtb3RlOkNYKENYKHt9LHpOKSx7fSx7Y2FuZGlkYXRlVHlwZTpuLnR5cGUscHJvdG9jb2w6bi5wcm90b2NvbCxhZGRyZXNzOm4uYWRkcmVzcyxwb3J0Om4ucG9ydH0pfX1yZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKX1iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGUsdDtMbihlPVtcImNvbm5lY3RlZFwiLFwiY29tcGxldGVkXCJdKS5jYWxsKGUsdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpJiYodGhpcy5pc1JlYWR5PSExKSxudWxsPT09KHQ9dGhpcy5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO1wiY29ubmVjdGVkXCI9PT10aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZSYmKHRoaXMucmVzdGFydENudD0wKSxudWxsPT09KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlKX0sdGhpcy5zdGFydElDRUNhbmRpZGF0ZSgpfXN0YXJ0SUNFQ2FuZGlkYXRlKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZXx8KHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudD0wLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9ZT0+e2lmKGUuY2FuZGlkYXRlKXt2YXIgdDtpZihlLmNhbmRpZGF0ZS5jYW5kaWRhdGUpbnVsbD09PSh0PXRoaXMub25Mb2NhbENhbmRpZGF0ZSl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUuY2FuZGlkYXRlLnRvSlNPTigpKTt0aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQrPTF9ZWxzZSBpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCl9KX11bmJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZWVycm9yPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub250cmFjaz1udWxsfXN0YXRpYyByZXNvbHZlUENDb25maWd1cmF0aW9uKHQsaSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjA7Y29uc3Qgcj17aWNlU2VydmVyczpbXX07dmFyIG87dC5pY2VTZXJ2ZXJzP3IuaWNlU2VydmVycz10LmljZVNlcnZlcnM6dC50dXJuU2VydmVyJiZcIm9mZlwiIT09dC50dXJuU2VydmVyLm1vZGUmJih4Tyh0LnR1cm5TZXJ2ZXIuc2VydmVycyk/ci5pY2VTZXJ2ZXJzPXQudHVyblNlcnZlci5zZXJ2ZXJzOihyLmljZVNlcnZlcnMmJnIuaWNlU2VydmVycy5wdXNoKC4uLmUudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyh0LnR1cm5TZXJ2ZXIuc2VydmVycyxpLG4pKSxDRChcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpJiZyLmljZVNlcnZlcnMmJnQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJnIuaWNlU2VydmVycy5wdXNoKC4uLmUudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyh0LnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5LGksbikpLExuKG89W19ELlJlbGF5LF9ELlNkUnRuXSkuY2FsbChvLGkpJiYoci5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiKSxDRChcIkZPUkNFX1RVUk5fVENQXCIpP3IuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIjp0LnR1cm5TZXJ2ZXIuc2VydmVycy5jb25jYXQodC50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheXx8W10pLmZvckVhY2goKGU9PntlLmZvcmNldHVybiYmKHIuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIil9KSkpKTtyZXR1cm4gQ0QoXCJFTkFCTEVfRU5DT0RFRF9UUkFOU0ZPUk1cIikmJnBQKCkuc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm0mJihyLmVuY29kZWRJbnNlcnRhYmxlU3RyZWFtcz0hMCksaVAuZGVidWcoXCJQMlBDb25uZWN0aW9uIHAycFRyYW5zcG9ydCBpcyBcIi5jb25jYXQoaSkpLHJ9c3RhdGljIHR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZSx0KXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MDtjb25zdCBuPVtdLHI9ZS5maWx0ZXIoKGU9PmUudGNwcG9ydCkpO2lQLmRlYnVnKFwiUDJQQ29ubmVjdGlvbiB0dXJuU2VydmVycyBpcyBcIi5jb25jYXQocixcIiwgY3VycmVudCBpbmRleCBpcyBcIikuY29uY2F0KGkpKTtjb25zdCBvPXIubGVuZ3RoPmk/cltpXTpyWzBdO3N3aXRjaCh0KXtjYXNlIF9ELlNkUnRuOmNvbnN0IHQ9ZS5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gTG4odD1lLnVzZXJuYW1lKS5jYWxsKHQsXCJnbGI6XCIpJiZlLnR1cm5TZXJ2ZXJVUkw9PWUudHVyblNlcnZlclVSTH0pKSxyPXQubGVuZ3RoPmk/dFtpXTp0WzBdO3ImJihuLnB1c2goe3VzZXJuYW1lOnIudXNlcm5hbWUsY3JlZGVudGlhbDpyLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoc0Yoci50dXJuU2VydmVyVVJMKSxcIjpcIikuY29uY2F0KHIudGNwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksbi5wdXNoKHt1c2VybmFtZTpyLnVzZXJuYW1lLGNyZWRlbnRpYWw6ci5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChzRihyLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQoci50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSk7YnJlYWs7Y2FzZSBfRC5SZWxheTpvJiYobi5wdXNoKHt1c2VybmFtZTpvLnVzZXJuYW1lLGNyZWRlbnRpYWw6by5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KG8udHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KG8udGNwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksbi5wdXNoKHt1c2VybmFtZTpvLnVzZXJuYW1lLGNyZWRlbnRpYWw6by5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChzRihvLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQoby50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSk7YnJlYWs7ZGVmYXVsdDpvJiYobi5wdXNoKHt1c2VybmFtZTpvLnVzZXJuYW1lLGNyZWRlbnRpYWw6by5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KG8udHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KG8udGNwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksbi5wdXNoKHt1c2VybmFtZTpvLnVzZXJuYW1lLGNyZWRlbnRpYWw6by5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChzRihvLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQoby50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSxuLnB1c2goe3VzZXJuYW1lOm8udXNlcm5hbWUsY3JlZGVudGlhbDpvLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwic3R1bjpcIi5jb25jYXQoby50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoby50Y3Bwb3J0KX0pKX1yZXR1cm4gbn10cnlCaW5kVHJhbnNwb3J0RXZlbnRzKGUpe2lmKGUpe3RoaXMudHJhbnNwb3J0PWUsZS5vbnN0YXRlY2hhbmdlPSgpPT57dmFyIHQ7bnVsbCE9ZSYmZS5zdGF0ZSYmKG51bGw9PT0odD10aGlzLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZS5zdGF0ZSkpfSxlLm9uZXJyb3I9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRFRMU1RyYW5zcG9ydEVycm9yKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsXCJlcnJvclwiaW4gZT9lLmVycm9yOmUpfTtjb25zdCB0PWUuaWNlVHJhbnNwb3J0O3QmJih0Lm9uc3RhdGVjaGFuZ2U9KCk9Pntjb25zdCB0PW51bGw9PWU/dm9pZCAwOmUuaWNlVHJhbnNwb3J0LnN0YXRlO3ZhciBpO3QmJihudWxsPT09KGk9dGhpcy5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsdCkpfSx0LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpciYmKHQub25zZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2U9KCk9PntpZih0LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpKXtjb25zdHtsb2NhbDplLHJlbW90ZTppfT10LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpfHx7fTtpZihlJiZpKXtjb25zdCB0PWUuYWRkcmVzcytcIjpcIitlLnBvcnQsbj1pLmFkZHJlc3MrXCI6XCIraS5wb3J0O2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIHNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZTogbG9jYWwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShtRih0KSksXCIsIHJlbW90ZSBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG1GKG4pKSkpfX19KSl9fXRyeVVuYmluZFRyYW5zcG9ydEV2ZW50cygpe3RoaXMudHJhbnNwb3J0JiYodGhpcy50cmFuc3BvcnQub25zdGF0ZWNoYW5nZT1udWxsLHRoaXMudHJhbnNwb3J0Lm9uZXJyb3I9bnVsbCx0aGlzLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQmJih0aGlzLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQub25zdGF0ZWNoYW5nZT1udWxsKSl9YXN5bmMgdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKGUsdCl7dmFyIGk7aWYoIXQpe3Q9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmluZCgodD0+dC50cmFjaz09PWUuX21lZGlhU3RyZWFtVHJhY2spKX1pZighdClyZXR1cm4gaVAud2FybihcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIG5vIHJ0cFNlbmRlciBmb3VuZH1cIikpO2lmKHRoaXMuaXNWUDhTaW11bGNhc3QoZSkpcmV0dXJuIGlQLndhcm4oXCJbdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzXSBUcmFjayBpcyBWUDggc2ltdWxjYXN0LCBwbGVhc2UgYXBwbHkgc2ltdWxjYXN0IGVuY29kaW5nc1wiKTtpZighcFAoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm4gaVAud2FybihcIlt1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3NdIEJyb3dzZXIgbm90IHN1cHBvcnQgc2V0IHJ0cC1zZW5kZXIgcGFyYW1ldGVyc1wiKTtjb25zdCBuPXt9LHI9e307c3dpdGNoKGUuX29wdGltaXphdGlvbk1vZGUpe2Nhc2VcIm1vdGlvblwiOm4uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwibWFpbnRhaW4tZnJhbWVyYXRlXCI7YnJlYWs7Y2FzZVwiZGV0YWlsXCI6bi5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1yZXNvbHV0aW9uXCI7YnJlYWs7ZGVmYXVsdDpuLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cImJhbGFuY2VkXCJ9aWYoZS5fZW5jb2RlckNvbmZpZyl7dmFyIG87Y29uc3R7Yml0cmF0ZU1heDp0LGZyYW1lUmF0ZTppLHNjYWxlUmVzb2x1dGlvbkRvd25CeTpufT1lLl9lbmNvZGVyQ29uZmlnO3QmJihyLm1heEJpdHJhdGU9MWUzKnQpLExuKG89ZS5faGludHMpLmNhbGwobyxWUC5MT1dfU1RSRUFNKSYmKGkmJihyLm1heEZyYW1lcmF0ZT1kRihpKSksbiYmbj49MSYmKHIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5PW4pKX1pZihDRChcIkRTQ1BfVFlQRVwiKSYmc08oKSl7dmFyIHM7Y29uc3QgZT1DRChcIkRTQ1BfVFlQRVwiKTtMbihzPVtcInZlcnktbG93XCIsXCJsb3dcIixcIm1lZGl1bVwiLFwiaGlnaFwiXSkuY2FsbChzLGUpJiYoci5uZXR3b3JrUHJpb3JpdHk9ZSl9Y29uc3QgYT10LmdldFBhcmFtZXRlcnMoKSxjPW51bGw9PT0oaT1hLmVuY29kaW5ncyl8fHZvaWQgMD09PWk/dm9pZCAwOmlbMF07QncoKSYmIWMmJihuLmVuY29kaW5ncz1bcl0pLGMmJk9iamVjdC5hc3NpZ24oYyxyKSxPYmplY3QuYXNzaWduKGEsbiksaVAuZGVidWcoXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3M6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoYS5lbmNvZGluZ3MpKSksYXdhaXQgdC5zZXRQYXJhbWV0ZXJzKGEpfWFzeW5jIGFwcGx5U2VuZEVuY29kaW5ncyhlLHQpe3RyeXtpZighcFAoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm47aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm47Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49ZVtpXSxyPXRbaV07ciBpbnN0YW5jZW9mIGtNJiYhdGhpcy5pc1ZQOFNpbXVsY2FzdChyKSYmYXdhaXQgdGhpcy51cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MocixuLnNlbmRlcil9fWNhdGNoKGUpe2lQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBBcHBseSBSVFBTZW5kRW5jb2RpbmdzIGZhaWxlZC5cIikpfX1tdW5nU2VuZE9mZmVyU0RQKGUsdCxpKXtjb25zdCBuPUxEKGUpO3JldHVybiB0LmZvckVhY2goKChlLHQpPT57Y29uc3Qgcj1pW3RdLG89bi5tZWRpYURlc2NyaXB0aW9ucy5maW5kKChlPT5lLmF0dHJpYnV0ZXMubWlkPT09cikpO28mJihrRihvLGUpLEZGKG8sZSx0aGlzLnN0b3JlLmNvZGVjKSl9KSksa0Qobil9YmluZFN0YXRzRXZlbnRzKCl7dGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9SZWNlaXZlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9SZWNlaXZlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD0oZSx0LGkpPT57dmFyIG47bnVsbD09PShuPXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZCl8fHZvaWQgMD09PW58fG4uY2FsbCh0aGlzLGUsdCxpKX0sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57dmFyIGk7bnVsbD09PShpPXRoaXMub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZCl8fHZvaWQgMD09PWl8fGkuY2FsbCh0aGlzLGUsdCl9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pnt2YXIgaTtudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZCl8fHZvaWQgMD09PWl8fGkuY2FsbCh0aGlzLGUsdCl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0KXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9fXVuYmluZFN0YXRzRXZlbnRzKCl7dGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9SZWNlaXZlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9SZWNlaXZlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD12b2lkIDB9YXN5bmMgYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KGUsdCl7aWYoZS5sZW5ndGg9PT10Lmxlbmd0aClmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIGksbixyLG8scztjb25zdCBjPWVbYV0sZD10W2FdO2lmKGQgaW5zdGFuY2VvZiBrTSYmIUxuKGk9ZC5faGludHMpLmNhbGwoaSxWUC5MT1dfU1RSRUFNKSYmbnVsbCE9PShuPWQuX2VuY29kZXJDb25maWcpJiZ2b2lkIDAhPT1uJiZuLmJpdHJhdGVNYXgmJihudWxsPT09KHI9ZC5fZW5jb2RlckNvbmZpZyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuYml0cmF0ZU1heCk+MjAwJiZudWxsIT09KG89ZC5fc2NhbGFiaWxpdHlNb2RlKSYmdm9pZCAwIT09byYmby5udW1TcGF0aWFsTGF5ZXJzJiYobnVsbD09PShzPWQuX3NjYWxhYmlsaXR5TW9kZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMubnVtU3BhdGlhbExheWVycyk+MSYmXCJ2cDhcIj09PXRoaXMuc3RvcmUuY29kZWMpe2NvbnN0IGU9e30sdD17aGlnaDoxZTMqKGQuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heC01MCksbWVkaXVtOjVlNH07ZS5lbmNvZGluZ3M9W3tyaWQ6XCJtXCIsYWN0aXZlOiEwLG1heEJpdHJhdGU6dC5tZWRpdW0sc2NhbGVSZXNvbHV0aW9uRG93bkJ5OjR9LHtyaWQ6XCJoXCIsYWN0aXZlOiEwLG1heEJpdHJhdGU6dC5oaWdofV07Y29uc3QgaT1jLnNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7YXdhaXQgYy5zZW5kZXIuc2V0UGFyYW1ldGVycyhPYmplY3QuYXNzaWduKGksZSkpfX19YXN5bmMgYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MoZSx0KXtpZighQncoKSYmZS5sZW5ndGg9PT10Lmxlbmd0aClmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj10W2ldO2lmKG4gaW5zdGFuY2VvZiBrTSYmdGhpcy5pc1ZQOFNpbXVsY2FzdChuKSl7Y29uc3QgdD1lW2ldLHI9e30sbz17aGlnaDoxZTMqKG4uX2VuY29kZXJDb25maWcuYml0cmF0ZU1heC01MCksbWVkaXVtOjVlNH07ci5lbmNvZGluZ3M9W3thY3RpdmU6ITAsYWRhcHRpdmVQdGltZTohMSxuZXR3b3JrUHJpb3JpdHk6XCJoaWdoXCIscHJpb3JpdHk6XCJoaWdoXCIsbWF4Qml0cmF0ZTpvLmhpZ2h9LHthY3RpdmU6ITAsYWRhcHRpdmVQdGltZTohMSxuZXR3b3JrUHJpb3JpdHk6XCJsb3dcIixwcmlvcml0eTpcImxvd1wiLG1heEJpdHJhdGU6by5tZWRpdW0sc2NhbGVSZXNvbHV0aW9uRG93bkJ5OjR9XTtjb25zdCBzPXQuc2VuZGVyLmdldFBhcmFtZXRlcnMoKTthd2FpdCB0LnNlbmRlci5zZXRQYXJhbWV0ZXJzKE9iamVjdC5hc3NpZ24ocyxyKSl9fX1pc1ZQOFNpbXVsY2FzdChlKXt2YXIgdCxpLG4scixvO3JldHVybiEhKGUgaW5zdGFuY2VvZiBrTSYmQ0QoXCJTSU1VTENBU1RcIikmJlwidnA4XCI9PT10aGlzLnN0b3JlLmNvZGVjJiYhTG4odD1lLl9oaW50cykuY2FsbCh0LFZQLkxPV19TVFJFQU0pJiZudWxsIT09KGk9ZS5fZW5jb2RlckNvbmZpZykmJnZvaWQgMCE9PWkmJmkuYml0cmF0ZU1heCYmKG51bGw9PT0obj1lLl9lbmNvZGVyQ29uZmlnKXx8dm9pZCAwPT09bj92b2lkIDA6bi5iaXRyYXRlTWF4KT4yMDAmJm51bGwhPT0ocj1lLl9zY2FsYWJpbGl0eU1vZGUpJiZ2b2lkIDAhPT1yJiZyLm51bVNwYXRpYWxMYXllcnMmJihudWxsPT09KG89ZS5fc2NhbGFiaWxpdHlNb2RlKXx8dm9pZCAwPT09bz92b2lkIDA6by5udW1TcGF0aWFsTGF5ZXJzKT4xKX1sb2dTRFBFeGNoYW5nZShlLHQsaSxuKXtpZihDRChcIlNEUF9MT0dHSU5HXCIpKXJldHVybiBpUC51cGxvYWQoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGV4Y2hhbmdpbmcgXCIpLmNvbmNhdChpLFwiIFwiKS5jb25jYXQodCxcIiBTRFAgZHVyaW5nIFAyUENvbm5lY3Rpb24uXCIpLmNvbmNhdChuLFwiXFxuXCIpLGUpLFwib2ZmZXJcIj09PXQ/ZT0+e3RoaXMubG9nU0RQRXhjaGFuZ2UoZSxcImFuc3dlclwiLFwibG9jYWxcIj09PWk/XCJyZW1vdGVcIjpcImxvY2FsXCIsbil9OnZvaWQgMH1hc3luYyBtdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLm11dGVMb2NhbCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT50Lm1pZCYmLTEhPT1lLmluZGV4T2YodC5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7dC5tYXAoKGU9PntlLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9KSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksbj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGkuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJtdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLm11dGVSZW1vdGUoZSk7Y29uc3Qgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PW58fG4ociksYXdhaXQgdGhpcy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdW5tdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkJiYtMSE9PWUuaW5kZXhPZih0Lm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoYXN5bmMgZT0+e2UuZGlyZWN0aW9uPVwic2VuZG9ubHlcIn0pKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxuPXRoaXMubG9nU0RQRXhjaGFuZ2UoaS5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInVubXV0ZUxvY2FsXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSx0aGlzLnJlbW90ZVNEUC51bm11dGVSZW1vdGUoZSk7Y29uc3Qgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PW58fG4ociksYXdhaXQgdGhpcy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBnZXRSZW1vdGVTU1JDKGUsdCl7dmFyIGk7aWYodD1udWxsIT10P3Q6bnVsbD09PShpPXRoaXMuY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zZHApe3ZhciBuO2NvbnN0IGk9bnVsbD09PShuPUxEKHQpLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmF0dHJpYnV0ZXMuc3NyY3M7cmV0dXJuIG51bGw9PWk/dm9pZCAwOmlbMF0uc3NyY0lkfX1hc3luYyBzZXRSZW1vdGVEZXNjcmlwdGlvbihlKXt2YXIgdDthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpLExuKHQ9W1wiY29ubmVjdGVkXCIsXCJjb21wbGV0ZWRcIl0pLmNhbGwodCx0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSl8fCh0aGlzLmlzUmVhZHk9ITAsdGhpcy5hZGRSZW1vdGVDYW5kaWRhdGUoKSl9bXVuZ1JlY2VpdmVBbnN3ZXJTRFAoZSx0LGkpe2NvbnN0IG49TEQoZSkscj1uLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT10KSk7cmV0dXJuIHImJmk9PT1meC5BVURJTyYmXCJhdWRpb1wiPT09ci5tZWRpYS5tZWRpYVR5cGUmJktGKHIpLGtEKG4pfX0sRFYoVFgucHJvdG90eXBlLFwiZXN0YWJsaXNoXCIsW3lYXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFRYLnByb3RvdHlwZSxcImVzdGFibGlzaFwiKSxUWC5wcm90b3R5cGUpLERWKFRYLnByb3RvdHlwZSxcImNvbm5lY3RcIixbeVhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVFgucHJvdG90eXBlLFwiY29ubmVjdFwiKSxUWC5wcm90b3R5cGUpLERWKFRYLnByb3RvdHlwZSxcInJlY2VpdmVcIixbeVhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVFgucHJvdG90eXBlLFwicmVjZWl2ZVwiKSxUWC5wcm90b3R5cGUpLERWKFRYLnByb3RvdHlwZSxcIm1vY2tSZWNlaXZlXCIsW3lYXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFRYLnByb3RvdHlwZSxcIm1vY2tSZWNlaXZlXCIpLFRYLnByb3RvdHlwZSksRFYoVFgucHJvdG90eXBlLFwic3RvcFJlY2VpdmluZ1wiLFt5WF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihUWC5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIpLFRYLnByb3RvdHlwZSksRFYoVFgucHJvdG90eXBlLFwicmVzdGFydElDRVwiLFt5WF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihUWC5wcm90b3R5cGUsXCJyZXN0YXJ0SUNFXCIpLFRYLnByb3RvdHlwZSksRFYoVFgucHJvdG90eXBlLFwiY2xvc2VcIixbeVhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVFgucHJvdG90eXBlLFwiY2xvc2VcIiksVFgucHJvdG90eXBlKSxEVihUWC5wcm90b3R5cGUsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIsW3lYXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFRYLnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIiksVFgucHJvdG90eXBlKSxEVihUWC5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiLFt5WF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihUWC5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiKSxUWC5wcm90b3R5cGUpLERWKFRYLnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiLFt5WF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihUWC5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIiksVFgucHJvdG90eXBlKSxEVihUWC5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIixbeVhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVFgucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIpLFRYLnByb3RvdHlwZSksRFYoVFgucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIixbeVhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVFgucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIiksVFgucHJvdG90eXBlKSxUWCk7ZnVuY3Rpb24geVgoZSx0LGkpe2NvbnN0IG49ZVt0XTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gaS52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5tdXRleCxpPWF3YWl0IGUubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5cIi5jb25jYXQodCkpO3RyeXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShyKSxzPTA7czxyO3MrKylvW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gYXdhaXQgbi5hcHBseSh0aGlzLG8pfWZpbmFsbHl7aSgpfX0saX1sZXQgSVg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuU0VORF9PTkxZPVwiU0VORF9PTkxZXCIsZS5SRUNFSVZFX09OTFk9XCJSRUNFSVZFX09OTFlcIixlfSh7fSk7dmFyIEFYLGJYLHdYLE9YLE5YLERYLFBYLExYLGtYLE1YLFVYLFZYO2Z1bmN0aW9uIHhYKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBGWChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj94WChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lBKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTp4WChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1sZXQgQlg9KEFYPWpYKElYLlNFTkRfT05MWSksYlg9algoSVguU0VORF9PTkxZKSx3WD1qWCgpLE9YPWpYKElYLlJFQ0VJVkVfT05MWSksTlg9algoSVguUkVDRUlWRV9PTkxZKSxEWD1qWChJWC5SRUNFSVZFX09OTFkpLFBYPWpYKElYLlJFQ0VJVkVfT05MWSksTFg9algoSVguUkVDRUlWRV9PTkxZKSxrWD1qWChJWC5SRUNFSVZFX09OTFkpLE1YPWpYKCksVVg9algoSVguUkVDRUlWRV9PTkxZKSxWWD1jbGFzcyBleHRlbmRzIE5Pe2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7Y29uc3QgdD10aGlzLl9zdGF0ZTt0aGlzLl9zdGF0ZT1lLHRoaXMuZW1pdCh2eC5TdGF0ZUNoYW5nZSx0LHRoaXMuX3N0YXRlKX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksaUEodGhpcyxcImlzUGxhbkJcIiwhMSksaUEodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxpQSh0aGlzLFwic3RhdHNVcGxvYWRlclwiLHZvaWQgMCksaUEodGhpcyxcInNlbmRDb25uZWN0aW9uXCIsdm9pZCAwKSxpQSh0aGlzLFwicmVjdkNvbm5lY3Rpb25cIix2b2lkIDApLGlBKHRoaXMsXCJsb2NhbFRyYWNrTWFwXCIsbmV3IE1hcCksaUEodGhpcyxcInJlbW90ZVVzZXJNYXBcIixuZXcgTWFwKSxpQSh0aGlzLFwibG9jYWxEYXRhQ2hhbm5lbHNcIixbXSksaUEodGhpcyxcInBlbmRpbmdMb2NhbFRyYWNrc1wiLFtdKSxpQSh0aGlzLFwicGVuZGluZ1JlbW90ZVRyYWNrc1wiLFtdKSxpQSh0aGlzLFwic3RhdHNDb2xsZWN0b3JcIix2b2lkIDApLGlBKHRoaXMsXCJkdGxzRmFpbGVkQ291bnRcIiwwKSxpQSh0aGlzLFwic2VuZE11dGV4XCIsdm9pZCAwKSxpQSh0aGlzLFwicmVjdk11dGV4XCIsdm9pZCAwKSxpQSh0aGlzLFwiX3N0YXRlXCIsQ3guRGlzY29ubmVjdGVkKSxpQSh0aGlzLFwiX3Jlc3RhcnRTdGF0ZXNcIixbXCJkaXNjb25uZWN0ZWRcIixcImZhaWxlZFwiXSksaUEodGhpcyxcInJlY29ubmVjdEludGVydmFsXCIsdm9pZCAwKSxpQSh0aGlzLFwidXBsb2FkVW5wbGlua1N0YXJ0ZWRcIiwhMSksaUEodGhpcyxcInVwbG9hZERvd25saW5rU3RhcnRlZFwiLCExKSxpQSh0aGlzLFwidXBsaW5rU3RhdGVVcGxvYWRJbnRlcnZhbFwiLHZvaWQgMCksaUEodGhpcyxcImRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbFwiLHZvaWQgMCksaUEodGhpcyxcImhhbmRsZU11dGVMb2NhbFRyYWNrXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsMi5oYW5kbGVNdXRlTG9jYWxUcmFja1wiKTt0cnl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgaShuZXcgcE8oaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3QgY2FsbCBQMlBDaGFubmVsMi5oYW5kbGVNdXRlTG9jYWxUcmFjayBiZWZvcmUgc2VuZENvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpKTtjb25zdCBzPXRoaXMuZmlsdGVyVG9iZU11dGVkVHJhY2tzKGUpO2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gdm9pZCB0KCk7Y29uc3QgYT1zLmZpbmQoKGU9PlwidmlkZW9Mb3dUcmFja1wiPT09ZVswXSkpO2lmKGEpe2FbMV0udHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpfWF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24ubXV0ZUxvY2FsKHMubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSkpO2xldCBjPSExO3ZhciByLG87aWYoXCJ2aWRlb1wiPT09ZS50cmFja01lZGlhVHlwZSljPSEobnVsbD09PShyPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxBdWRpb1RyYWNrKSl8fHZvaWQgMD09PXJ8fCFyLnRyYWNrLl9tdXRlZCk7ZWxzZSBjPXZvaWQgMD09PShudWxsPT09KG89dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbFZpZGVvVHJhY2spKXx8dm9pZCAwPT09bz92b2lkIDA6by5pZCk7Y29uc3QgZD10aGlzLmNyZWF0ZU11dGVNZXNzYWdlKHMpO2F3YWl0IHFPKHRoaXMsdnguUmVxdWVzdE11dGVMb2NhbCxkKTtjb25zdCBsPVwidmlkZW9cIj09PWUudHJhY2tNZWRpYVR5cGU/TXguTVVURV9MT0NBTF9WSURFTzpNeC5NVVRFX0xPQ0FMX0FVRElPO2F3YWl0IHFPKHRoaXMsdnguUmVxdWVzdFAyUE11dGVMb2NhbCx7YWN0aW9uOmwsbWVzc2FnZTpkLGlzTXV0ZUFsbDpjfSksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXtuKCl9fSkpLGlBKHRoaXMsXCJoYW5kbGVVbm11dGVMb2NhbFRyYWNrXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsMi5oYW5kbGVVbm11dGVMb2NhbFRyYWNrXCIpO3RyeXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PUN4LkNvbm5lY3RlZClyZXR1cm4gdm9pZCBpKG5ldyBwTyhoTy5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBjYWxsIFAyUENoYW5uZWwyLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2sgYmVmb3JlIHNlbmRDb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKSk7Y29uc3Qgcj10aGlzLmZpbHRlclRvYmVVbm11dGVkVHJhY2tzKGUpO2lmKDA9PT1yLmxlbmd0aClyZXR1cm4gdm9pZCB0KCk7YXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi51bm11dGVMb2NhbChyLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKTtjb25zdCBvPXRoaXMuY3JlYXRlVW5tdXRlTWVzc2FnZShyKSxzPVwidmlkZW9cIj09PWUudHJhY2tNZWRpYVR5cGU/TXguVU5NVVRFX0xPQ0FMX1ZJREVPOk14LlVOTVVURV9MT0NBTF9BVURJTzthd2FpdCBxTyh0aGlzLHZ4LlJlcXVlc3RQMlBNdXRlTG9jYWwse2FjdGlvbjpzLG1lc3NhZ2U6b30pLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxpQSh0aGlzLFwiaGFuZGxlVXBkYXRlVmlkZW9FbmNvZGVyXCIsKGFzeW5jKGUsdCxpLG4pPT57bGV0IHI7XCJib29sZWFuXCI9PXR5cGVvZiBuJiZufHwocj1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwyLmhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlclwiKSk7dHJ5e2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbFZpZGVvVHJhY2spO2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHwhaXx8aS50cmFjayE9PWV8fHRoaXMuc3RhdGUhPT1DeC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgdCgpO2NvbnN0e2lkOm4sdHJhY2s6c309aTtuJiYoYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi51cGRhdGVTZW5kUGFyYW1ldGVycyhuLHMpLGF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24udXBkYXRlRW5jb2RlckNvbmZpZyhuLHMpLHRoaXMuZW1pdCh2eC5VcGRhdGVWaWRlb0VuY29kZXIscykpLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7dmFyIG87bnVsbD09PShvPXIpfHx2b2lkIDA9PT1vfHxvKCl9fSkpLGlBKHRoaXMsXCJoYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsMi5oYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzXCIpO3RyeXtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb1RyYWNrKTtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8IWl8fGkudHJhY2shPT1lfHx0aGlzLnN0YXRlIT09Q3guQ29ubmVjdGVkKXJldHVybiB2b2lkIHQoKTtjb25zdHtpZDpyLHRyYWNrOm99PWk7ciYmYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi51cGRhdGVTZW5kUGFyYW1ldGVycyhyLG8pLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxpQSh0aGlzLFwiaGFuZGxlUmVwbGFjZVRyYWNrXCIsKGFzeW5jKGUsdCxpLG4pPT57bGV0IHI7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyIGhhbmRsZVJlcGxhY2VUcmFjayBmb3IgW3RyYWNrLWlkLVwiKS5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdXCIpKSxcImJvb2xlYW5cIj09dHlwZW9mIG4mJm58fChyPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLmhhbmRsZVJlcGxhY2VUcmFja1wiKSk7dHJ5e3ZhciBvO2NvbnN0IGk9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHwhaXx8dm9pZCAwPT09aVsxXS5pZHx8dGhpcy5zdGF0ZSE9PUN4LkNvbm5lY3RlZClyZXR1cm4gdm9pZCB0KCk7aWYoYXdhaXQobnVsbD09PShvPXRoaXMuc2VuZENvbm5lY3Rpb24pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnJlcGxhY2VUcmFjayhlLGlbMV0uaWQpKSxpWzBdPT09UnguTG9jYWxWaWRlb1RyYWNrJiZwUCgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbFZpZGVvTG93VHJhY2spO2lmKHQpe2NvbnN0IGk9ZS5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpO3QudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLHQudHJhY2suX21lZGlhU3RyZWFtVHJhY2s9aSx0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWksYXdhaXQgbmV3IHJwKCgoZSxpKT0+e3RoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKHQudHJhY2ssZSxpLCEwKX0pKX19dCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXt2YXIgcztudWxsPT09KHM9cil8fHZvaWQgMD09PXN8fHMoKX19KSksaUEodGhpcyxcImhhbmRsZUdldExvY2FsVmlkZW9TdGF0c1wiLChlPT57ZSh0aGlzLnN0YXRzQ29sbGVjdG9yLmdldExvY2FsVmlkZW9UcmFja1N0YXRzKCkpfSkpLGlBKHRoaXMsXCJoYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHNcIiwoZT0+e2UodGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbEF1ZGlvVHJhY2tTdGF0cygpKX0pKSxpQSh0aGlzLFwiaGFuZGxlR2V0UmVtb3RlVmlkZW9TdGF0c1wiLChlPT50aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJlbW90ZVZpZGVvVHJhY2tTdGF0cyhlLnVpZClbZS51aWRdKSksaUEodGhpcyxcImhhbmRsZUdldFJlbW90ZUF1ZGlvU3RhdHNcIiwoZT0+dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVBdWRpb1RyYWNrU3RhdHMoZS51aWQpW2UudWlkXSkpLHRoaXMuc3RvcmU9ZSx0aGlzLnN0YXRzQ29sbGVjdG9yPXQsdGhpcy5zdGF0c0NvbGxlY3Rvci5hZGRQMlBDaGFubmVsKHRoaXMpLHRoaXMuc3RhdHNVcGxvYWRlcj1uZXcgaUcoZSksdGhpcy5iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpLHRoaXMuc2VuZE11dGV4PW5ldyBQTihcIlAyUENoYW5uZWwyLXNlbmQtbXV0ZXhcIixlLmNsaWVudElkKSx0aGlzLnJlY3ZNdXRleD1uZXcgUE4oXCJQMlBDaGFubmVsMi1yZWN2LW11dGV4XCIsZS5jbGllbnRJZCksdGhpcy5yZWNvbm5lY3RJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57W3RoaXMuc2VuZENvbm5lY3Rpb24sdGhpcy5yZWN2Q29ubmVjdGlvbl0uZm9yRWFjaCgoZT0+e2UmJihcImRpc2Nvbm5lY3RlZFwiIT09ZS5pY2VDb25uZWN0aW9uU3RhdGUmJlwiZmFpbGVkXCIhPT1lLmljZUNvbm5lY3Rpb25TdGF0ZXx8dGhpcy5oYW5kbGVEaXNjb25uZWN0KGUuZGlyZWN0aW9uKSl9KSl9KSxDRChcIklDRV9SRVNUQVJUX0lOVEVSVkFMXCIpKX1hc3luYyBzdGFydFAyUENvbm5lY3Rpb24oZSx0KXt0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgc3RhcnRQMlBDb25uZWN0aW9uLlwiKX1hc3luYyBjb25uZWN0KGUpe3Rocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBjb25uZWN0LlwiKX1hc3luYyBzdGFydFAyUChlLHQpe2xldCBpO3RyeXtpZih0KXt0aGlzLnJlY3ZDb25uZWN0aW9uJiYoaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5zdGFydFAyUCByZXNldCByZWN2Q29ubmVjdGlvbi5cIikpLHRoaXMucmVjdkNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5yZWN2Q29ubmVjdGlvbikpLGk9YXdhaXQgdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5zdGFydFAyUFwiKSx0aGlzLnJlY3ZDb25uZWN0aW9uPW5ldyB2WChlLHRoaXMuc3RvcmUsR1YuUkVDRUlWRV9PTkxZKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMucmVjdkNvbm5lY3Rpb24pO2NvbnN0IG49YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5lc3RhYmxpc2godCk7cmV0dXJue2ljZVBhcmFtZXRlcnM6bi5pY2VQYXJhbWV0ZXJzLGR0bHNQYXJhbWV0ZXJzOm4uZHRsc1BhcmFtZXRlcnMsc2RwOm4uc2RwfX17dGhpcy5zdGF0ZT1DeC5OZXcsdGhpcy5zZW5kQ29ubmVjdGlvbiYmKGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwuc3RhcnRQMlAgcmVzZXQgc2VuZENvbm5lY3Rpb24uXCIpKSx0aGlzLnNlbmRDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuc2VuZENvbm5lY3Rpb24pKSxpPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuc3RhcnRQMlBcIiksdGhpcy5zZW5kQ29ubmVjdGlvbj1uZXcgdlgoZSx0aGlzLnN0b3JlKSx0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uU3RhcnQoKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuc2VuZENvbm5lY3Rpb24pO2NvbnN0IHQ9YXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5lc3RhYmxpc2goKTtyZXR1cm57aWNlUGFyYW1ldGVyczp0LmljZVBhcmFtZXRlcnMsZHRsc1BhcmFtZXRlcnM6dC5kdGxzUGFyYW1ldGVycyxzZHA6dC5zZHB9fX1maW5hbGx5e2kmJmkoKX19YXN5bmMgcDJwQ29ubmVjdChlKXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbil0aHJvdyBuZXcgcE8oaE8uVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBQMlBDaGFubmVsMi5wMnBDb25uZWN0IGJlZm9yZSBQMlBDaGFubmVsMi5zdGFydFAyUENvbm5lY3Rpb24gLlwiKTt0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uU3RhcnQoKSxhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLmNvbm5lY3QoZSksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkVHJhbnNwb3J0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy5zdGF0ZT1DeC5Db25uZWN0ZWR9YXN5bmMgYWRkUmVtb3RlQ2FuZGlkYXRlKGUsdCl7aWYodD09PUdWLlJFQ0VJVkVfT05MWSl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb24pdGhyb3cgbmV3IHBPKGhPLlVORVhQRUNURURfRVJST1IsXCJDYW5ub3QgUDJQQ2hhbm5lbDIuY29ubmVjdCBiZWZvcmUgUDJQQ2hhbm5lbDIuYWRkUmVtb3RlQ2FuZGlkYXRlIC5cIik7YXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5hZGRSZW1vdGVDYW5kaWRhdGUoZSl9ZWxzZXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbil0aHJvdyBuZXcgcE8oaE8uVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBQMlBDaGFubmVsMi5jb25uZWN0IGJlZm9yZSBQMlBDaGFubmVsMi5hZGRSZW1vdGVDYW5kaWRhdGUgLlwiKTthd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLmFkZFJlbW90ZUNhbmRpZGF0ZShlKX19cHVibGlzaChlLHQsaSl7dmFyIG49dGhpcztyZXR1cm4gTWIoKGZ1bmN0aW9uKigpe2NvbnN0IHI9eWllbGQgVmIobi5zZW5kTXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5wdWJsaXNoXCIpKTt0cnl7aWYoIW4uc2VuZENvbm5lY3Rpb258fG4uc3RhdGUhPT1DeC5Db25uZWN0ZWQpe24udGhyb3dJZlRyYWNrVHlwZU5vdE1hdGNoKGUpO2NvbnN0IHQ9ZS5maWx0ZXIoKGU9Pi0xPT09bi5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihlKSkpO3JldHVybiB2b2lkKG4ucGVuZGluZ0xvY2FsVHJhY2tzPW4ucGVuZGluZ0xvY2FsVHJhY2tzLmNvbmNhdCh0KSl9bi5zdG9yZS5wdWJJZD1uLnN0b3JlLnB1YklkKzEsdGoubWFya1B1Ymxpc2hTdGFydChuLnN0b3JlLmNsaWVudElkLG4uc3RvcmUucHViSWQpO2NvbnN0IG89bi5maWx0ZXJUb2JlUHVibGlzaGVkVHJhY2tzKGUsdCxpKTtpZigwPT09by5sZW5ndGgpcmV0dXJuIHZvaWQoeWllbGQgVmIobi50cnlUb1VubXV0ZUF1ZGlvKGUpKSk7by5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTppfT1lO2NvbnN0IHI9RGF0ZS5ub3coKTtuLnN0b3JlLnB1Ymxpc2godC5nZXRUcmFja0lkKCksaT09PVJ4LkxvY2FsQXVkaW9UcmFjaz9cImF1ZGlvXCI6XCJ2aWRlb1wiLHIpfSkpLG4uYmluZExvY2FsVHJhY2tFdmVudHMobyk7Y29uc3Qgcz15aWVsZCBWYihuLnNlbmRDb25uZWN0aW9uLnNlbmQoby5tYXAoKGU9PntsZXR7dHJhY2s6dH09ZTtyZXR1cm4gdH0pKSxuLnN0b3JlLmNvZGVjLG4uc3RvcmUuYXVkaW9Db2RlYykpLGE9KHlpZWxkIFZiKHMubmV4dCgpKSkudmFsdWUsYz1uLmNyZWF0ZUdhdGV3YXlQdWJsaXNoTWVzc2FnZShvLGEpO3RyeXt5aWVsZCBjfWNhdGNoKGUpe3Rocm93IHMudGhyb3coZSksKG51bGw9PWU/dm9pZCAwOmUuY29kZSk9PT1oTy5XU19BQk9SVCYmby5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnR9PWU7LTE9PT1uLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKHQpJiZuLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKHQpfSkpLG4udW5iaW5kTG9jYWxUcmFja0V2ZW50cyhvKSxlfXlpZWxkIFZiKHMubmV4dCgpKSxvLmZvckVhY2goKGU9PntsZXR7dHlwZTp0fT1lO24uc3RhdHNDb2xsZWN0b3IuYWRkTG9jYWxTdGF0cyh0KX0pKSxuLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRPdXRib3VuZFN0YXRzKCksbi5hc3NpZ25Mb2NhbFRyYWNrcyhvLGEpLG8uZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6aX09ZTtjb25zdCByPURhdGUubm93KCk7bi5zdG9yZS5wdWJsaXNoKHQuZ2V0VHJhY2tJZCgpLGk9PT1SeC5Mb2NhbEF1ZGlvVHJhY2s/XCJhdWRpb1wiOlwidmlkZW9cIix2b2lkIDAscil9KSksbi5zdGFydFVwbG9hZFVwbGlua1N0YXRlKCl9ZmluYWxseXtyKCl9fSkpKCl9YXN5bmMgdW5wdWJsaXNoKGUpe2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09Q3guQ29ubmVjdGVkKXJldHVybiB2b2lkKDA9PT1lLmxlbmd0aD90aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5sZW5ndGg9MDp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcz10aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5maWx0ZXIoKHQ9PiFMbihlKS5jYWxsKGUsdCkpKSk7Y29uc3QgdD10aGlzLmZpbHRlclRvYmVVbnB1Ymxpc2hlZFRyYWNrcyhlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuO2NvbnN0IGk9dC5maW5kKChlPT5cInZpZGVvTG93VHJhY2tcIj09PWVbMF0pKTtpZihpKXtpWzFdLnRyYWNrLmNsb3NlKCl9Y29uc3Qgbj10aGlzLmNyZWF0ZUdhdGV3YXlVbnB1Ymxpc2hNZXNzYWdlKHQpO2lmKGF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uc3RvcFNlbmRpbmcodC5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSksdGhpcy53aXRoZHJhd0xvY2FsVHJhY2tzKHQpLHRoaXMudW5iaW5kTG9jYWxUcmFja0V2ZW50cyh0Lm1hcCgoZT0+e2xldFt0LHt0cmFjazppfV09ZTtyZXR1cm57dHlwZTp0LHRyYWNrOml9fSkpKSx0LmZvckVhY2goKGU9PntsZXRbdF09ZTt0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZUxvY2FsU3RhdHModCl9KSksMD09PXRoaXMubG9jYWxUcmFja01hcC5zaXplJiYodGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCksdGhpcy5zdG9wVXBsb2FkVXBsaW5rU3RhdGUoKSksdGhpcy5zZW5kQ29ubmVjdGlvbiYmdGhpcy5zdGF0ZT09PUN4LkNvbm5lY3RlZCl7aWYoaSl7aVsxXS50cmFjay5jbG9zZSgpfXJldHVybiBufWUuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNwbGljZSh0LDEpfSkpfXN0YXJ0VXBsb2FkVXBsaW5rU3RhdGUoKXtpZih0aGlzLnVwbG9hZFVucGxpbmtTdGFydGVkKXJldHVybjt0aGlzLnVwbG9hZFVucGxpbmtTdGFydGVkPSEwLHRoaXMudXBsaW5rU3RhdGVVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxpbmtTdGF0ZVVwbG9hZEludGVydmFsKTtjb25zdCBlPSgpPT57Y29uc3QgZT1bXSx0PVtdO0FycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoaT0+e2xldFtuLHt0cmFjazpyLHNzcmNzOm99XT1pO2NvbnN0IHM9e3N0cmVhbV90eXBlOk9qKHIsbiksc3NyY3M6b307ci5fbXV0ZWR8fCFyLl9lbmFibGVkP2UucHVzaChzKTp0LnB1c2gocyl9KSksZS5sZW5ndGg+MCYmZS5mb3JFYWNoKChlPT57cU8odGhpcyx2eC5SZXF1ZXN0TXV0ZUxvY2FsLFtlXSl9KSksdC5sZW5ndGg+MCYmdC5mb3JFYWNoKChlPT57cU8odGhpcyx2eC5SZXF1ZXN0VW5tdXRlTG9jYWwsW2VdKX0pKX07ZSgpLHRoaXMudXBsaW5rU3RhdGVVcGxvYWRJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57ZSgpfSksM2UzKX1zdG9wVXBsb2FkVXBsaW5rU3RhdGUoKXt0aGlzLnVwbG9hZFVucGxpbmtTdGFydGVkJiYodGhpcy51cGxvYWRVbnBsaW5rU3RhcnRlZD0hMSx0aGlzLnVwbGlua1N0YXRlVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsaW5rU3RhdGVVcGxvYWRJbnRlcnZhbCkpfXB1Ymxpc2hMb3dTdHJlYW0oZSl7cmV0dXJuIE1iKChmdW5jdGlvbiooKXt0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgcHVibGlzaExvd1N0cmVhbS5cIil9KSkoKX1hc3luYyByZXB1Ymxpc2goKXt0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5sZW5ndGg+MCYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBFbWl0IFAyUENoYW5uZWxFdmVudHMuUmVxdWVzdFJlUHVibGlzaCB0byByZXB1Ymxpc2ggdHJhY2tzLlwiKSksYXdhaXQgek8odGhpcyx2eC5SZXF1ZXN0UmVQdWJsaXNoLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzKSx0aGlzLmVtaXQodnguTWVkaWFSZWNvbm5lY3RFbmQsdGhpcy5zdG9yZS51aWQpLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzPVtdKX1hc3luYyB1bnB1Ymxpc2hMb3dTdHJlYW0oKXt0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgdW5wdWJsaXNoTG93U3RyZWFtLlwiKX1hc3luYyBzdWJzY3JpYmUoZSx0LGksbil7dmFyIHI7aWYoIXRoaXMucmVjdkNvbm5lY3Rpb24pdGhyb3cgbmV3IHBPKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IHN1YnNjcmliZSByZW1vdGUgdXNlciB3aGVuIHJlY3ZDb25uZWN0aW9uIGRpc2Nvbm5lY3RlZC5cIik7aWYobnVsbCE9PShyPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSkpJiZ2b2lkIDAhPT1yJiZyLmhhcyh0KSlyZXR1cm47Y29uc3R7dHJhY2s6byxtaWQ6cyx0cmFuc2NlaXZlcjphfT1hd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLnJlY2VpdmUodCxbe3NzcmNJZDppfV0sU3RyaW5nKGUudWlkKSxuKTt0PT09ZnguQVVESU8/KGUuX2F1ZGlvVHJhY2s/ZS5fYXVkaW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhvKTooZS5fYXVkaW9UcmFjaz1uZXcgJE0obyxlLnVpZCxlLl91aW50aWQsdGhpcy5zdG9yZSksaVAuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSBhdWRpbyB0cmFjazogXCIpLmNvbmNhdChlLl9hdWRpb1RyYWNrLmdldFRyYWNrSWQoKSkpKSxhJiZlLl9hdWRpb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihhKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLGUuX2F1ZGlvVHJhY2spKTooZS5fdmlkZW9TU1JDPWksZS5fdmlkZW9UcmFjaz9lLl92aWRlb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKG8pOihlLl92aWRlb1RyYWNrPW5ldyBaTShvLGUudWlkLGUuX3VpbnRpZCx0aGlzLnN0b3JlKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIHZpZGVvIHRyYWNrOiBcIikuY29uY2F0KGUuX3ZpZGVvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLGEmJmUuX3ZpZGVvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGEpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGUsZS5fdmlkZW9UcmFjaykpO2NvbnN0IGM9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtjP2Muc2V0KHQscyk6dGhpcy5yZW1vdGVVc2VyTWFwLnNldChlLG5ldyBNYXAoW1t0LHNdXSkpLHRoaXMuc3RhdHNDb2xsZWN0b3IuYWRkUmVtb3RlU3RhdHMoZS51aWQpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZEluYm91bmRTdGF0cygpLHRoaXMuc3RhcnRVcGxvYWREb3dubGlua1N0YXRlKCk7Y29uc3QgZD10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZmluZEluZGV4KChpPT57bGV0e3VzZXI6bixraW5kOnJ9PWk7cmV0dXJuIG4udWlkPT09ZS51aWQmJnQ9PT1yfSkpOy0xIT09ZCYmKHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UoZCwxKSx0aGlzLmVtaXQodnguTWVkaWFSZWNvbm5lY3RFbmQsZS51aWQpKX1hc3luYyBtb2NrU3Vic2NyaWJlKGUsdCxpLG4pe2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXRocm93IG5ldyBwTyhoTy5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiByZWN2Q29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2F3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24ubW9ja1JlY2VpdmUodCxbe3NzcmNJZDppfV0sU3RyaW5nKGUudWlkKSxuKX1hc3luYyB1bnN1YnNjcmliZShlLHQsaSl7Y29uc3Qgbj10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZmlsdGVyKChpPT57bGV0e3VzZXI6bixraW5kOnJ9PWk7cmV0dXJuIHZvaWQgMCE9PXQ/bi51aWQ9PT1lLnVpZCYmdD09PXI6bi51aWQ9PT1lLnVpZH0pKTtpZihuLmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5pbmRleE9mKGUpO3RoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UodCwxKX0pKSx0aGlzLnJlY3ZDb25uZWN0aW9ufHxpfHxuLmZvckVhY2goKHQ9PntsZXR7a2luZDppfT10O3ZhciBuO2lmKGk9PT1meC5BVURJTyludWxsPT09KG49ZS5fYXVkaW9UcmFjayl8fHZvaWQgMD09PW58fG4uX2Rlc3Ryb3koKSxlLl9hdWRpb1RyYWNrPXZvaWQgMDtlbHNlIGlmKGk9PT1meC5WSURFTyl7dmFyIHI7bnVsbD09PShyPWUuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1yfHxyLl9kZXN0cm95KCksZS5fdmlkZW9UcmFjaz12b2lkIDB9fSkpLCF0aGlzLnJlY3ZDb25uZWN0aW9uKXJldHVybjtjb25zdCByPXRoaXMuZmlsdGVyVG9iZVVuU3Vic2NyaWJlZFRyYWNrcyhlLHQpOzAhPT1yLmxlbmd0aCYmKGF3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyhyLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKSx0aGlzLndpdGhkcmF3UmVtb3RlVHJhY2tzKHIpLDA9PT10aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSYmKHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkSW5ib3VuZFN0YXRzKCksdGhpcy5zdG9wVXBsb2FkRG93bmxpbmtTdGF0ZSgpKSxyLmZvckVhY2goKGU9PntsZXRbdCx7a2luZDpufV09ZTt2YXIgcixvO249PT1meC5WSURFTyYmdC5fdmlkZW9TU1JDJiYobnVsbD09PShyPXRoaXMucmVjdkNvbm5lY3Rpb24pfHx2b2lkIDA9PT1yfHxyLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KHQuX3ZpZGVvU1NSQywhMSkpO2lmKG49PT1meC5WSURFTyl0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX3ZpZGVvVHJhY2spLGl8fChudWxsPT09KG89dC5fdmlkZW9UcmFjayl8fHZvaWQgMD09PW98fG8uX2Rlc3Ryb3koKSx0Ll92aWRlb1RyYWNrPXZvaWQgMCk7ZWxzZSBpZihuPT09ZnguQVVESU8pe3ZhciBzO2lmKHRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHModC5fYXVkaW9UcmFjayksIWkpbnVsbD09PShzPXQuX2F1ZGlvVHJhY2spfHx2b2lkIDA9PT1zfHxzLl9kZXN0cm95KCksdC5fYXVkaW9UcmFjaz12b2lkIDB9fSkpLHIuZm9yRWFjaCgoZT0+e2xldFsse2tpbmQ6dH1dPWU7cU8odGhpcyx2eC5SZXF1ZXN0UDJQTXV0ZVJlbW90ZSx0KX0pKSl9c3RhcnRVcGxvYWREb3dubGlua1N0YXRlKCl7aWYodGhpcy51cGxvYWREb3dubGlua1N0YXJ0ZWQpcmV0dXJuO3RoaXMudXBsb2FkRG93bmxpbmtTdGFydGVkPSEwLHRoaXMuZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbCk7Y29uc3QgZT0oKT0+QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKChlPT57bGV0Wyx0XT1lO1tmeC5WSURFTyxmeC5BVURJT10uZm9yRWFjaCgoZT0+e3QuaGFzKGUpP3FPKHRoaXMsdnguUmVxdWVzdFAyUFVubXV0ZVJlbW90ZSxlKTpxTyh0aGlzLHZ4LlJlcXVlc3RQMlBNdXRlUmVtb3RlLGUpfSkpfSkpO2UoKSx0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57ZSgpfSksM2UzKX1zdG9wVXBsb2FkRG93bmxpbmtTdGF0ZSgpe3RoaXMudXBsb2FkRG93bmxpbmtTdGFydGVkJiYodGhpcy51cGxvYWREb3dubGlua1N0YXJ0ZWQ9ITEsdGhpcy5kb3dubGlua1N0YXRzVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsKSl9Z2V0QWxsRGF0YUNoYW5uZWxzKCl7cmV0dXJuIHRoaXMubG9jYWxEYXRhQ2hhbm5lbHN9YXN5bmMgbWFzc1N1YnNjcmliZShlKXt0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgbWFzc1N1YnNjcmliZS5cIil9YXN5bmMgbWFzc1N1YnNjcmliZU5vTG9jayhlKXt0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgbWFzc1N1YnNjcmliZU5vTG9jay5cIil9YXN5bmMgbWFzc1Vuc3Vic2NyaWJlKGUpe3Rocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBtYXNzVW5zdWJzY3JpYmUuXCIpfWFzeW5jIG1hc3NVbnN1YnNjcmliZU5vTG9jayhlKXt0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgbWFzc1Vuc3Vic2NyaWJlTm9Mb2NrLlwiKX1hc3luYyBtdXRlUmVtb3RlKGUsdCl7aWYoIXRoaXMucmVjdkNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IGk9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighaSlyZXR1cm4gdm9pZCBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiLlwiKSk7aWYoIWkuZ2V0KHQpKXJldHVybiB2b2lkIGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgbWVkaWEgdHlwZSBcIikuY29uY2F0KHQsXCIuXCIpKTtjb25zdCBuPXQ9PT1meC5WSURFTz9lLl92aWRlb1NTUkM6ZS5fYXVkaW9TU1JDO3ZvaWQgMCE9PW4mJnRoaXMucmVjdkNvbm5lY3Rpb24uc2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkobiwhMSl9YXN5bmMgdW5tdXRlUmVtb3RlKGUsdCl7cmV0dXJuIHRoaXMudW5tdXRlUmVtb3RlTm9Mb2NrKGUsdCl9YXN5bmMgdW5tdXRlUmVtb3RlTm9Mb2NrKGUsdCl7aWYoIXRoaXMucmVjdkNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IGk9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighaSlyZXR1cm4gdm9pZCBpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi51bm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIuXCIpKTtpLmdldCh0KXx8aVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIudW5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiIG1lZGlhIHR5cGUgXCIpLmNvbmNhdCh0LFwiLlwiKSl9Z2V0QWxsVHJhY2tzKGUpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbEF1ZGlvVHJhY2spO2lmKChudWxsPT10P3ZvaWQgMDp0LnRyYWNrKWluc3RhbmNlb2YgV2spe2NvbnN0IGk9dC50cmFjaztyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maWx0ZXIoKGU9PntsZXRbdF09ZTtyZXR1cm4gdCE9PVJ4LkxvY2FsQXVkaW9UcmFja30pKS5maWx0ZXIoKHQ9PntsZXRbaV09dDtyZXR1cm4hKGUmJmk9PT1SeC5Mb2NhbFZpZGVvTG93VHJhY2spfSkpLm1hcCgoZT0+e2xldFsse3RyYWNrOnR9XT1lO3JldHVybiB0fSkpLmNvbmNhdChpLnRyYWNrTGlzdCl9cmV0dXJuIEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKCh0PT57bGV0W2ldPXQ7cmV0dXJuIShlJiZpPT09UnguTG9jYWxWaWRlb0xvd1RyYWNrKX0pKS5tYXAoKGU9PntsZXRbLHt0cmFjazp0fV09ZTtyZXR1cm4gdH0pKX1yZXBvcnRQdWJsaXNoRXZlbnQoZSx0LGksbixyKXtpZihlKXtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxBdWRpb1RyYWNrKSxvPW4/dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbFZpZGVvTG93VHJhY2spOnRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb1RyYWNrKTtsUC5wdWJsaXNoKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtldmVudEVsYXBzZTp0ai5tZWFzdXJlRnJvbVB1Ymxpc2hTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHRoaXMuc3RvcmUucHViSWQpLHN1Y2M6ZSxlYzp0LGF1ZGlvTmFtZTpudWxsPT1pP3ZvaWQgMDppLnRyYWNrLmdldFRyYWNrTGFiZWwoKSx2aWRlb05hbWU6bnVsbD09bz92b2lkIDA6by50cmFjay5nZXRUcmFja0xhYmVsKCksc2NyZWVuc2hhcmU6LTEhPT0obnVsbD09bz92b2lkIDA6by50cmFjay5faGludHMuaW5kZXhPZihWUC5TQ1JFRU5fVFJBQ0spKSxhdWRpbzohIWksdmlkZW86ISFvLHAycGlkOnRoaXMuc3RvcmUucDJwSWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLGV4dGVuZDpyfSl9ZWxzZXt2YXIgbztpfHwoaT1bXSk7Y29uc3Qgcz1pLmZpbmQoKGU9PmUgaW5zdGFuY2VvZiBCaykpLGE9bj9udWxsPT09KG89dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbFZpZGVvVHJhY2spKXx8dm9pZCAwPT09bz92b2lkIDA6by50cmFjazppLmZpbmQoKGU9PmUgaW5zdGFuY2VvZiBrTSkpO2xQLnB1Ymxpc2godGhpcy5zdG9yZS5zZXNzaW9uSWQse2V2ZW50RWxhcHNlOnRqLm1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdGhpcy5zdG9yZS5wdWJJZCksc3VjYzplLGVjOnQsYXVkaW9OYW1lOm51bGw9PXM/dm9pZCAwOnMuZ2V0VHJhY2tMYWJlbCgpLHZpZGVvTmFtZTpudWxsPT1hP3ZvaWQgMDphLmdldFRyYWNrTGFiZWwoKSxzY3JlZW5zaGFyZTotMSE9PShudWxsPT1hP3ZvaWQgMDphLl9oaW50cy5pbmRleE9mKFZQLlNDUkVFTl9UUkFDSykpLGF1ZGlvOiEhcyx2aWRlbzohIWEscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxwdWJsaXNoUmVxdWVzdGlkOnRoaXMuc3RvcmUucHViSWQsZXh0ZW5kOnJ9KX19cmVwb3J0U3Vic2NyaWJlRXZlbnQoZSx0LGksbil7Y29uc3Qgcj1uPT09ZnguVklERU8/aS5fdmlkZW9TU1JDOmkuX2F1ZGlvU1NSQztyJiZsUC5zdWJzY3JpYmUodGhpcy5zdG9yZS5zZXNzaW9uSWQse3N1Y2M6ZSxlYzp0LHZpZGVvOm49PT1meC5WSURFTyxhdWRpbzpuPT09ZnguQVVESU8scGVlcmlkOmkudWlkLHN1YnNjcmliZVJlcXVlc3RpZDpuPT09ZnguVklERU8/aS5fdmlkZW9TU1JDOmkuX2F1ZGlvU1NSQyxwMnBpZDp0aGlzLnN0b3JlLnAycElkLGV2ZW50RWxhcHNlOnRqLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxyKX0pfXJlc2V0KCl7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLnJlc2V0XCIpKSx0aGlzLnNlbmRNdXRleD1uZXcgUE4oXCJQMlBDaGFubmVsMi1zZW5kLW11dGV4XCIsdGhpcy5zdG9yZS5jbGllbnRJZCksdGhpcy5zZW5kTXV0ZXg9bmV3IFBOKFwiUDJQQ2hhbm5lbDItcmVjdi1tdXRleFwiLHRoaXMuc3RvcmUuY2xpZW50SWQpLHRoaXMuc2VuZENvbm5lY3Rpb24mJih0aGlzLnNlbmRDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuc2VuZENvbm5lY3Rpb24pLHRoaXMuc2VuZENvbm5lY3Rpb249dm9pZCAwKSx0aGlzLnJlY3ZDb25uZWN0aW9uJiYodGhpcy5yZWN2Q29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnJlY3ZDb25uZWN0aW9uKSx0aGlzLnJlY3ZDb25uZWN0aW9uPXZvaWQgMCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRJbmJvdW5kU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy5zdG9wVXBsb2FkVXBsaW5rU3RhdGUoKSx0aGlzLnN0b3BVcGxvYWREb3dubGlua1N0YXRlKCksdGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKCksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMudW5iaW5kUnRwVHJhbnNjZWl2ZXIoKTtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxBdWRpb1RyYWNrKTtpZigobnVsbD09ZT92b2lkIDA6ZS50cmFjaylpbnN0YW5jZW9mIFdrKXtpZihlLnRyYWNrLnRyYWNrTGlzdC5sZW5ndGg+MCl7Y29uc3QgdD1lLnRyYWNrO2UudHJhY2sudHJhY2tMaXN0LmZvckVhY2goKGU9Pnt0LnJlbW92ZUF1ZGlvVHJhY2soZSl9KSl9ZS50cmFjay5jbG9zZSgpfXRoaXMubG9jYWxUcmFja01hcC5jbGVhcigpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlUmVtb3RlU3RhdHMoKSx0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZUxvY2FsU3RhdHMoKSx0aGlzLmR0bHNGYWlsZWRDb3VudD0wLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzPVtdLHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcz1bXSx0aGlzLnJlY29ubmVjdEludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RJbnRlcnZhbCksdGhpcy5yZWNvbm5lY3RJbnRlcnZhbD12b2lkIDApLHRoaXMuc3RhdGU9Q3guRGlzY29ubmVjdGVkfWdldFN0YXRzKGUpe3ZhciB0LGk7cmV0dXJuIGU/bnVsbD09PShpPXRoaXMucmVjdkNvbm5lY3Rpb24pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldFN0YXRzKCk6bnVsbD09PSh0PXRoaXMuc2VuZENvbm5lY3Rpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3ZhciB0O3JldHVybihudWxsPT09KHQ9dGhpcy5yZWN2Q29ubmVjdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpKXx8ITF9Z2V0TG9jYWxBdWRpb1ZvbHVtZSgpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUpcmV0dXJuIGUudHJhY2suZ2V0Vm9sdW1lTGV2ZWwoKX1nZXRMb2NhbFZpZGVvU2l6ZSgpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbFZpZGVvVHJhY2spO2lmKGUpcmV0dXJue3dpZHRoOmUudHJhY2sudmlkZW9XaWR0aHx8MCxoZWlnaHQ6ZS50cmFjay52aWRlb0hlaWdodHx8MH19Z2V0RW5jb2RlckNvbmZpZyhlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoZSk7cmV0dXJuIHQmJnQudHJhY2sgaW5zdGFuY2VvZiBrTXx8dCYmdC50cmFjayBpbnN0YW5jZW9mIEJrP3QudHJhY2suX2VuY29kZXJDb25maWc6dm9pZCAwfWdldExvY2FsTWVkaWEoZSl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5nZXQoZSl9aGFzTG9jYWxNZWRpYSgpe3JldHVybiB0aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZT4wfWhhc1JlbW90ZU1lZGlhKGUsdCl7aWYoIWUpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO3JldHVybiEhaSYmKCF0fHxpLmhhcyh0KSl9YXN5bmMgaGFzUmVtb3RlTWVkaWFXaXRoTG9jayhlLHQpe2lmKCFlKXJldHVybiB0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT4wO2NvbnN0IGk9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtyZXR1cm4hIWkmJighdHx8aS5oYXModCkpfWdldFJlbW90ZU1lZGlhKGUpe3ZhciB0O2NvbnN0IGk9QXJyYXkuZnJvbShXRCh0PXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbCh0KSkuZmluZCgodD0+dC51aWQ9PT1lKSk7cmV0dXJuIGk/e2F1ZGlvVHJhY2s6aS5hdWRpb1RyYWNrLGF1ZGlvU1NSQzppLl9hdWRpb1NTUkMsdmlkZW9UcmFjazppLnZpZGVvVHJhY2ssdmlkZW9TU1JDOmkuX3ZpZGVvU1NSQ306e319Z2V0QXVkaW9MZXZlbHMoKXtsZXQgZT1BcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLm1hcCgoZT0+e2xldFt0XT1lO3JldHVybnt1aWQ6dC51aWQsbGV2ZWw6dC5hdWRpb1RyYWNrPzEwMCp0LmF1ZGlvVHJhY2suX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCk6MH19KSk7Y29uc3QgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsQXVkaW9UcmFjayk7cmV0dXJuIHQmJmUucHVzaCh7bGV2ZWw6MTAwKnQudHJhY2suX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCksdWlkOnRoaXMuc3RvcmUudWlkfSksZT1RcChlKS5jYWxsKGUsKChlLHQpPT5lLmxldmVsLXQubGV2ZWwpKSxlfWFzeW5jIGRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKXt0aGlzLnNlbmRDb25uZWN0aW9uJiZ0aGlzLnJlY3ZDb25uZWN0aW9uJiYoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QgY2xvc2luZyBQMlBDb25uZWN0aW9uXCIpKSx0aGlzLnN0YXRlPUN4LlJlY29ubmVjdGluZyxDRChcIktFRVBfTEFTVF9GUkFNRVwiKSYmMCE9PXRoaXMucmVtb3RlVXNlck1hcC5zaXplJiZBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdF09ZTt2YXIgaTt0Ll92aWRlb1RyYWNrJiZ0Ll92aWRlb1RyYWNrLl9wbGF5ZXImJihudWxsPT09KGk9dC5fdmlkZW9UcmFjay5fcGxheWVyLmdldFZpZGVvRWxlbWVudCgpKXx8dm9pZCAwPT09aXx8aS5wYXVzZSgpLHQuX3ZpZGVvVHJhY2suX3BsYXllci5pc0tlZXBMYXN0RnJhbWU9ITAsdC5fdmlkZW9UcmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpfSkpLHRoaXMuc2VuZENvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5zZW5kQ29ubmVjdGlvbiksdGhpcy5zZW5kQ29ubmVjdGlvbj12b2lkIDAsdGhpcy5yZWN2Q29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnJlY3ZDb25uZWN0aW9uKSx0aGlzLnJlY3ZDb25uZWN0aW9uPXZvaWQgMCwwIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJihBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9Pnt2YXIgdDtsZXRbaSx7dHJhY2s6bn1dPWU7c3dpdGNoKGkpe2Nhc2UgUnguTG9jYWxWaWRlb1RyYWNrOkxuKHQ9bi5faGludHMpLmNhbGwodCxWUC5MT1dfU1RSRUFNKT9uLmNsb3NlKCk6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MucHVzaChuKTticmVhaztjYXNlIFJ4LkxvY2FsQXVkaW9UcmFjazpuIGluc3RhbmNlb2YgV2s/dGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuY29uY2F0KG4udHJhY2tMaXN0KTp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKG4pO2Nhc2UgUnguTG9jYWxWaWRlb0xvd1RyYWNrOn19KSksdGhpcy5lbWl0KHZ4Lk1lZGlhUmVjb25uZWN0U3RhcnQsdGhpcy5zdG9yZS51aWQpKSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoKSx0aGlzLmxvY2FsVHJhY2tNYXAuY2xlYXIoKSwwIT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7QXJyYXkuZnJvbShXRChpKS5jYWxsKGkpKS5mb3JFYWNoKChlPT57dGhpcy5zZXRQZW5kaW5nUmVtb3RlTWVkaWEodCxlKX0pKSx0aGlzLmVtaXQodnguTWVkaWFSZWNvbm5lY3RTdGFydCx0LnVpZCl9KSksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLHRoaXMuc3RvcFVwbG9hZFVwbGlua1N0YXRlKCksdGhpcy5zdG9wVXBsb2FkRG93bmxpbmtTdGF0ZSgpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkT3V0Ym91bmRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkSW5ib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRUcmFuc3BvcnRTdGF0cygpLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMiBkaXNjb25uZWN0ZWQsIHdhaXRpbmcgdG8gcmVjb25uZWN0LlwiKSkpfWhhc1BlbmRpbmdSZW1vdGVNZWRpYShlLHQpe2Zvcihjb25zdCBpIG9mIHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcyl7Y29uc3R7dXNlcjpuLGtpbmQ6cn09aTtpZigoZSBpbnN0YW5jZW9mIGFqP2UudWlkOmUpPT09bi51aWQmJnQ9PT1yKXJldHVybiEwfXJldHVybiExfXNldFBlbmRpbmdSZW1vdGVNZWRpYShlLHQpe3RoaXMuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKGUsdCl8fHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5wdXNoKHt1c2VyOmUsa2luZDp0fSl9YXN5bmMgcmVzdGFydElDRShlLHQpe2xldCBpLG47aWYoZT09PUdWLlNFTkRfT05MWSl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb24pdGhyb3cgbmV3IHBPKGhPLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbDIuaGFuZGxlTXV0ZUxvY2FsVHJhY2sgYmVmb3JlIHNlbmRDb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKTtpPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwucmVzdGFydElDRVwiKSxuPXRoaXMuc2VuZENvbm5lY3Rpb259ZWxzZXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbil0aHJvdyBuZXcgcE8oaE8uSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3QgY2FsbCBQMlBDaGFubmVsMi5oYW5kbGVNdXRlTG9jYWxUcmFjayBiZWZvcmUgcmVjdkNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpO2k9YXdhaXQgdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5yZXN0YXJ0SUNFXCIpLG49dGhpcy5yZWN2Q29ubmVjdGlvbn10cnl7aWYodCl7Y29uc3QgZT1hd2FpdCBuLnJlc3RhcnRJQ0UodCk7cmV0dXJuIG4uaXNJblJlc3RhcnRJY2U9ITEsZX17Y29uc3QgZT1hd2FpdCBuLnJlc3RhcnRJQ0UoKTtpZihlKXtjb25zdCB0PWF3YWl0IHpPKHRoaXMsdnguUmVxdWVzdFAyUFJlc3RhcnRJQ0Use2RpcmVjdGlvbjpHVi5SRUNFSVZFX09OTFksaWNlUGFyYW1ldGVyOmV9KTthd2FpdCBuLnJlc3RhcnRJQ0UodCksbi5pc0luUmVzdGFydEljZT0hMX19fWZpbmFsbHl7aSgpfX1nZXRVcGxpbmtOZXR3b3JrUXVhbGl0eSgpe2lmKCF0aGlzLnNlbmRDb25uZWN0aW9uKXJldHVybiAwO2NvbnN0IGU9dGhpcy5zZW5kQ29ubmVjdGlvbi5nZXRTdGF0cygpLHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbFZpZGVvVHJhY2spLGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbEF1ZGlvVHJhY2spLG49ZS52aWRlb1NlbmQuZmluZCgoZT0+e3ZhciBpO3JldHVybiBlLnNzcmM9PT0obnVsbD09dHx8bnVsbD09PShpPXQuc3NyY3MpfHx2b2lkIDA9PT1pP3ZvaWQgMDppWzBdLnNzcmNJZCl9KSkscj1lLmF1ZGlvU2VuZC5maW5kKChlPT57dmFyIHQ7cmV0dXJuIGUuc3NyYz09PShudWxsPT1pfHxudWxsPT09KHQ9aS5zc3Jjcyl8fHZvaWQgMD09PXQ/dm9pZCAwOnRbMF0uc3NyY0lkKX0pKTtpZighbnx8IXIpcmV0dXJuIDE7Y29uc3Qgbz1YTyh0aGlzLHZ4Lk5lZWRTaWduYWxSVFQpLHM9bj9uLnJ0dE1zOnZvaWQgMCxhPXI/ci5ydHRNczp2b2lkIDAsYz1zJiZhPyhzK2EpLzI6c3x8YSxkPShjJiZvPyhjK28pLzI6Y3x8byl8fDAsbD0xMDAqZS5zZW5kUGFja2V0TG9zc1JhdGUqLjcvNTArLjMqZC8xNTAwLHU9bDwuMTc/MTpsPC4zNj8yOmw8LjU5PzM6bDwuMT80OjUsaD1udWxsPT10P3ZvaWQgMDp0LnRyYWNrO2lmKGgmJmguX2VuY29kZXJDb25maWcmJi0xPT09aC5faGludHMuaW5kZXhPZihWUC5TQ1JFRU5fVFJBQ0spKXtjb25zdCB0PWguX2VuY29kZXJDb25maWcuYml0cmF0ZU1heCxpPWUuYml0cmF0ZS5hY3R1YWxFbmNvZGVkO2lmKHQmJmkpe2NvbnN0IGU9KDFlMyp0LWkpLygxZTMqdCk7cmV0dXJuIEhVW2U8LjE1PzA6ZTwuMz8xOmU8LjQ1PzI6ZTwuNj8zOjRdW3VdfX1yZXR1cm4gdX1nZXREb3dubGlua05ldHdvcmtRdWFsaXR5KCl7aWYoIXRoaXMucmVjdkNvbm5lY3Rpb24pcmV0dXJuIDA7Y29uc3QgZT10aGlzLnJlY3ZDb25uZWN0aW9uLmdldFN0YXRzKCk7bGV0IHQ9MDtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKChpPT57bGV0W25dPWk7Y29uc3Qgcj1uLl9hdWRpb1NTUkMsbz1uLl92aWRlb1NTUkMscz1lLmF1ZGlvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1yKSksYT1lLnZpZGVvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1vKSk7aWYoIXMmJiFhKXJldHVybiB2b2lkKHQrPTEpO2NvbnN0IGM9WE8odGhpcyx2eC5OZWVkU2lnbmFsUlRUKSxkPWUucnR0LGw9KGQmJmM/KGQrYykvMjpkfHxjKXx8MCx1PXM/cy5qaXR0ZXJNczp2b2lkIDAsaD1lLnJlY3ZQYWNrZXRMb3NzUmF0ZTtsZXQgcD0uNypoKjEwMC81MCsuMypsLzE1MDA7dSYmKHA9LjYqaCoxMDAvNTArLjIqbC8xNTAwKy4yKnUvNDAwKTt0Kz1wPC4xPzE6cDwuMTc/MjpwPC4zNj8zOnA8LjU5PzQ6NX0pKSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT4wP01hdGgucm91bmQodC90aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSk6dH1hc3luYyBtdXRlTG9jYWxUcmFjayhlKXtyZXR1cm4gbmV3IHJwKCgodCxpKT0+e3RoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2soZSx0LGkpfSkpfWZpbHRlclRvYmVQdWJsaXNoZWRUcmFja3MoZSx0LGkpe2NvbnN0IG49W10scj1wUCgpLG89dGhpcy5nZXRBbGxUcmFja3MoKTtlPXJOKGU9ZS5maWx0ZXIoKGU9Pi0xPT09by5pbmRleE9mKGUpKSkpO2xldCBzPSExLGE9ITE7Zm9yKGNvbnN0IG8gb2YgZSl7aWYobyBpbnN0YW5jZW9mIGtNJiYodGhpcy5sb2NhbFRyYWNrTWFwLmhhcyhSeC5Mb2NhbFZpZGVvVHJhY2spfHxzP25ldyBwTyhoTy5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKS50aHJvdygpOihuLnB1c2goe3RyYWNrOm8sdHlwZTpSeC5Mb2NhbFZpZGVvVHJhY2t9KSxzPSEwKSx0KSl7Y29uc3QgZT10aGlzLmdldExvd1ZpZGVvVHJhY2sobyxpKTtuLnB1c2goe3RyYWNrOmUsdHlwZTpSeC5Mb2NhbFZpZGVvTG93VHJhY2t9KX1pZihvIGluc3RhbmNlb2YgQmspe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUpe2lmKCEoZS50cmFjayBpbnN0YW5jZW9mIFdrKSl0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYXVkaW8gbWl4aW5nXCIpO2lmKG8uX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtlLnRyYWNrLmFkZEF1ZGlvVHJhY2sobyksdGhpcy5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKG8sITApfWVsc2UgaWYoYSl7Y29uc3QgZT1uLmZpbmQoKGU9PntsZXR7dHlwZTp0fT1lO3JldHVybiB0PT09UnguTG9jYWxBdWRpb1RyYWNrfSkpO2lmKCEoZS50cmFjayBpbnN0YW5jZW9mIFdrKSl0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYXVkaW8gbWl4aW5nXCIpO2lmKG8uX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtlLnRyYWNrLmFkZEF1ZGlvVHJhY2sobyl9ZWxzZXtpZighci53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdHx8byBpbnN0YW5jZW9mIFdrfHxvLl9ieXBhc3NXZWJBdWRpbyluLnB1c2goe3RyYWNrOm8sdHlwZTpSeC5Mb2NhbEF1ZGlvVHJhY2t9KTtlbHNle2NvbnN0IGU9bmV3IFdrO2UuYWRkQXVkaW9UcmFjayhvKSxuLnB1c2goe3RyYWNrOmUsdHlwZTpSeC5Mb2NhbEF1ZGlvVHJhY2t9KX1hPSEwfX19cmV0dXJuIG59ZmlsdGVyVG9iZVVucHVibGlzaGVkVHJhY2tzKGUpe2NvbnN0IHQ9W10saT10aGlzLmdldEFsbFRyYWNrcygpO2U9ck4oZT1lLmZpbHRlcigoZT0+LTEhPT1pLmluZGV4T2YoZSkpKSk7Zm9yKGNvbnN0IGkgb2YgZSl7aWYoaSBpbnN0YW5jZW9mIEJrKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxBdWRpb1RyYWNrKTtpZighZSljb250aW51ZTtlLnRyYWNrIGluc3RhbmNlb2YgV2s/KGUudHJhY2sucmVtb3ZlQXVkaW9UcmFjayhpKSx0aGlzLnVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhpKSwwPT09ZS50cmFjay50cmFja0xpc3QubGVuZ3RoJiYodC5wdXNoKFtSeC5Mb2NhbEF1ZGlvVHJhY2ssZV0pLGUudHJhY2suY2xvc2UoKSkpOnQucHVzaChbUnguTG9jYWxBdWRpb1RyYWNrLGVdKX1pZihpIGluc3RhbmNlb2Yga00pe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbFZpZGVvVHJhY2spO2lmKCFlKWNvbnRpbnVlO3QucHVzaChbUnguTG9jYWxWaWRlb1RyYWNrLGVdKTtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb0xvd1RyYWNrKTtpJiZ0LnB1c2goW1J4LkxvY2FsVmlkZW9Mb3dUcmFjayxpXSl9fXJldHVybiB0fWJpbmRMb2NhbFRyYWNrRXZlbnRzKGUpe2UuZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6aX09ZTtzd2l0Y2goaSl7Y2FzZSBSeC5Mb2NhbFZpZGVvVHJhY2s6dC5hZGRMaXN0ZW5lcihVUC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHMpLHQuYWRkTGlzdGVuZXIoVVAuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoVVAuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKFVQLk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIpLHQuYWRkTGlzdGVuZXIoVVAuTkVFRF9VUERBVEVfVklERU9fU0VORF9QQVJBTUVURVJTLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9TZW5kUGFyYW1ldGVycyksdC5hZGRMaXN0ZW5lcihVUC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spLHQuYWRkTGlzdGVuZXIoVVAuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoVVAuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTticmVhaztjYXNlIFJ4LkxvY2FsQXVkaW9UcmFjazp0aGlzLmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHModCk7Y2FzZSBSeC5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pKX1iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKGUsdCl7ZSBpbnN0YW5jZW9mIFdrP2UudHJhY2tMaXN0LmZvckVhY2goKGU9PntlLmFkZExpc3RlbmVyKFVQLk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKFVQLk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihVUC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUuYWRkTGlzdGVuZXIoVVAuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoVVAuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKX0pKTooZS5hZGRMaXN0ZW5lcihVUC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUuYWRkTGlzdGVuZXIoVVAuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoVVAuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKFVQLk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKFVQLk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksdHx8ZS5hZGRMaXN0ZW5lcihVUC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spKX11bmJpbmRMb2NhbFRyYWNrRXZlbnRzKGUpe2V8fChlPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkubWFwKChlPT57bGV0W3Qse3RyYWNrOml9XT1lO3JldHVybnt0cmFjazppLHR5cGU6dH19KSkpLGUuZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6aX09ZTtzd2l0Y2goaSl7Y2FzZSBSeC5Mb2NhbFZpZGVvVHJhY2s6dC5vZmYoVVAuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxWaWRlb1N0YXRzKSx0Lm9mZihVUC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5vZmYoVVAuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSx0Lm9mZihVUC5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9FbmNvZGVyKSx0Lm9mZihVUC5ORUVEX1VQREFURV9WSURFT19TRU5EX1BBUkFNRVRFUlMsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzKSx0Lm9mZihVUC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spLHQub2ZmKFVQLk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0Lm9mZihVUC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spO2JyZWFrO2Nhc2UgUnguTG9jYWxBdWRpb1RyYWNrOnRoaXMudW5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKHQpO2Nhc2UgUnguTG9jYWxWaWRlb0xvd1RyYWNrOn19KSl9dW5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKGUpe2UgaW5zdGFuY2VvZiBXaz9lLnRyYWNrTGlzdC5mb3JFYWNoKChlPT57ZS5vZmYoVVAuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKFVQLk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5vZmYoVVAuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxlLm9mZihVUC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoVVAuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKX0pKTooZS5vZmYoVVAuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxlLm9mZihVUC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoVVAuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLm9mZihVUC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spLGUub2ZmKFVQLk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZihVUC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spKX1iaW5kUmVtb3RlVHJhY2tFdmVudHMoZSx0KXt0IGluc3RhbmNlb2YgWk0mJnQuYWRkTGlzdGVuZXIoVVAuR0VUX1NUQVRTLCh0PT57dCh0aGlzLmhhbmRsZUdldFJlbW90ZVZpZGVvU3RhdHMoZSkpfSkpLHQgaW5zdGFuY2VvZiAkTSYmdC5hZGRMaXN0ZW5lcihVUC5HRVRfU1RBVFMsKHQ9Pnt0KHRoaXMuaGFuZGxlR2V0UmVtb3RlQXVkaW9TdGF0cyhlKSl9KSl9dW5iaW5kUmVtb3RlVHJhY2tFdmVudHMoZSl7ZSYmZS5yZW1vdmVBbGxMaXN0ZW5lcnMoVVAuR0VUX1NUQVRTKX11bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpe0FycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7aS5oYXMoZnguQVVESU8pJiZ0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX2F1ZGlvVHJhY2spLGkuaGFzKGZ4LlZJREVPKSYmdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0Ll92aWRlb1RyYWNrKX0pKX1jcmVhdGVHYXRld2F5UHVibGlzaE1lc3NhZ2UoZSx0KXtyZXR1cm4gZS5tYXAoKChlLGkpPT57dmFyIG47bGV0IHIse3RyYWNrOm8sdHlwZTpzfT1lO3N3aXRjaChzKXtjYXNlIFJ4LkxvY2FsQXVkaW9UcmFjazpyPW94LkF1ZGlvO2JyZWFrO2Nhc2UgUnguTG9jYWxWaWRlb1RyYWNrOnI9TG4obj1vLl9oaW50cykuY2FsbChuLFZQLlNDUkVFTl9UUkFDSyk/b3guU2NyZWVuOm94LkhpZ2g7YnJlYWs7Y2FzZSBSeC5Mb2NhbFZpZGVvTG93VHJhY2s6cj1veC5Mb3d9cmV0dXJue2tpbmQ6cz09PVJ4LkxvY2FsQXVkaW9UcmFjaz9meC5BVURJTzpmeC5WSURFTyxzdHJlYW1fdHlwZTpyLG1pZDp0W2ldLmlkLHNzcmNzOnRbaV0ubG9jYWxTU1JDLGlzTXV0ZWQ6by5tdXRlZHx8IW8uZW5hYmxlZH19KSl9Y3JlYXRlR2F0ZXdheVVucHVibGlzaE1lc3NhZ2UoZSl7cmV0dXJuIGUubWFwKChlPT57dmFyIHQ7bGV0IGksW24se3RyYWNrOnIsc3NyY3M6byxpZDpzfV09ZTtzd2l0Y2gobil7Y2FzZSBSeC5Mb2NhbFZpZGVvVHJhY2s6aT1Mbih0PXIuX2hpbnRzKS5jYWxsKHQsVlAuU0NSRUVOX1RSQUNLKT9veC5TY3JlZW46b3guSGlnaDticmVhaztjYXNlIFJ4LkxvY2FsQXVkaW9UcmFjazppPW94LkF1ZGlvO2JyZWFrO2Nhc2UgUnguTG9jYWxWaWRlb0xvd1RyYWNrOmk9b3guTG93fXJldHVybntzdHJlYW1fdHlwZTppLHNzcmNzOm8sbWlkOnN9fSkpfWFzc2lnbkxvY2FsVHJhY2tzKGUsdCl7ZS5mb3JFYWNoKCgoZSxpKT0+e2xldHt0cmFjazpuLHR5cGU6cn09ZTt0aGlzLmxvY2FsVHJhY2tNYXAuc2V0KHIse3RyYWNrOm4saWQ6dFtpXS5pZCxzc3Jjczp0W2ldLmxvY2FsU1NSQ30pfSkpfXdpdGhkcmF3TG9jYWxUcmFja3MoZSl7ZS5mb3JFYWNoKChlPT57bGV0W3RdPWU7dGhpcy5sb2NhbFRyYWNrTWFwLmRlbGV0ZSh0KX0pKX1iaW5kQ29ubmVjdGlvbkV2ZW50cyhlKXtlLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPWFzeW5jIHQ9Pnt2YXIgaTtpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFwiKS5jb25jYXQoZS5uYW1lLFwiLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKFwiKS5jb25jYXQodCxcIilcIikpLHRoaXMuZW1pdCh2eC5QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlLHQpLFwiY29ubmVjdGVkXCIhPT10fHx0aGlzLnN0b3JlLmtleU1ldHJpY3MucGVlckNvbm5lY3Rpb25FbmR8fHRoaXMuc3RvcmUucGVlckNvbm5lY3Rpb25FbmQoKSxcImNvbm5lY3RlZFwiPT09dCYmKGUuaXNJblJlc3RhcnRJY2U9ITEpLExuKGk9dGhpcy5fcmVzdGFydFN0YXRlcykuY2FsbChpLHQpJiYhZS5pc0luUmVzdGFydEljZSYmKFwiZGlzY29ubmVjdGVkXCI9PT10JiZhd2FpdCBmTig4MDApLFwiZGlzY29ubmVjdGVkXCIhPT1lLmljZUNvbm5lY3Rpb25TdGF0ZSYmXCJmYWlsZWRcIiE9PWUuaWNlQ29ubmVjdGlvblN0YXRlfHx0aGlzLmhhbmRsZURpc2Nvbm5lY3QoZS5kaXJlY3Rpb24pKX0sZS5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZT1lPT57XCJjb25uZWN0ZWRcIiE9PWV8fHRoaXMuc3RvcmUua2V5TWV0cmljcy5pY2VDb25uZWN0aW9uRW5kfHx0aGlzLnN0b3JlLmljZUNvbm5lY3Rpb25FbmQoKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSksbFAucmVwb3J0QXBpSW52b2tlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtuYW1lOlwiSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsb3B0aW9uczplLHRhZzprTy5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSx0aGlzLmVtaXQodnguSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlLGUpfSxlLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9ZT0+e2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpfSxlLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9PntpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSl9LGUub25EVExTVHJhbnNwb3J0RXJyb3I9ZT0+e2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkRUTFNUcmFuc3BvcnRFcnJvcihcIikuY29uY2F0KGUsXCIpXCIpKX0sZS5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oV0QodD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX2F1ZGlvU1NSQz09PWUpKTt2YXIgbjtpJiYodGhpcy5zdG9yZS5zdWJzY3JpYmUoaS51aWQsXCJhdWRpb1wiLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpLG51bGw9PT0obj1pLmF1ZGlvVHJhY2spfHx2b2lkIDA9PT1ufHxuLmVtaXQoV1AuRklSU1RfRlJBTUVfREVDT0RFRCksbFAuZmlyc3RSZW1vdGVGcmFtZSh0aGlzLnN0b3JlLnNlc3Npb25JZCxzUC5GSVJTVF9BVURJT19ERUNPREUsYVAuRklSU1RfQVVESU9fREVDT0RFLHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6dGoubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KSl9LGUub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O2NvbnN0IGk9QXJyYXkuZnJvbShXRCh0PXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbCh0KSkuZmluZCgodD0+dC5fYXVkaW9TU1JDPT09ZSkpO2kmJmxQLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsc1AuRklSU1RfQVVESU9fUkVDRUlWRUQsYVAuRklSU1RfQVVESU9fUkVDRUlWRUQse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTp0ai5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pfSxlLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsdCxpKT0+e3RoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHQsaSl9LGUub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciB0O2NvbnN0IGk9QXJyYXkuZnJvbShXRCh0PXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbCh0KSkuZmluZCgodD0+dC5fdmlkZW9TU1JDPT09ZSkpO2kmJmxQLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsc1AuRklSU1RfVklERU9fUkVDRUlWRUQsYVAuRklSU1RfVklERU9fUkVDRUlWRUQse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTp0ai5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pfSxlLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pntjb25zdCBpPVwicmVsYXlcIj09PWUuY2FuZGlkYXRlVHlwZSxuPVwicmVsYXlcIj09PXQuY2FuZGlkYXRlVHlwZTtcInVua25vd25cIiE9PXQuY2FuZGlkYXRlVHlwZSYmaT09PW58fHRoaXMuZW1pdCh2eC5Db25uZWN0aW9uVHlwZUNoYW5nZSxpKSxpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQoXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShFRih0KSksXCIgLT4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShFRihlKSksXCIpXCIpKX0sZS5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e2lQLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQoXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShFRih0KSksXCIgLT4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShFRihlKSksXCIpXCIpKX0sZS5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dGhpcy5yZXBvcnRWaWRlb0ZpcnN0RnJhbWVEZWNvZGVkKGUsdm9pZCAwLHZvaWQgMCwhMCl9LGUub25Mb2NhbENhbmRpZGF0ZT10PT57dGhpcy5lbWl0KHZ4LkxvY2FsQ2FuZGlkYXRlLHtjYW5kaWRhdGU6dCxkaXJlY3Rpb246ZS5kaXJlY3Rpb259KX19dW5iaW5kQ29ubmVjdGlvbkV2ZW50cyhlKXtlLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCxlLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCxlLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLGUub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLGUub25EVExTVHJhbnNwb3J0RXJyb3I9dm9pZCAwLGUub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsZS5vbkZpcnN0QXVkaW9SZWNlaXZlZD12b2lkIDAsZS5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCxlLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCxlLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLGUub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLGUub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9dm9pZCAwLGUub25Mb2NhbENhbmRpZGF0ZT12b2lkIDB9YXN5bmMgaGFuZGxlRGlzY29ubmVjdChlKXtjb25zdCB0PWU9PT1HVi5TRU5EX09OTFk/dGhpcy5zZW5kQ29ubmVjdGlvbjp0aGlzLnJlY3ZDb25uZWN0aW9uO3QmJiF0LmlzSW5SZXN0YXJ0SWNlJiYodC5pc0luUmVzdGFydEljZT0hMCxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENoYW5uZWwtXCIpLmNvbmNhdCh0Lm5hbWUsXCJdIHN0YXJ0IHVzZSByZXN0YXJ0SUNFXCIpKSxlPT09R1YuU0VORF9PTkxZP3RoaXMucmVzdGFydElDRShlKTp6Tyh0aGlzLHZ4LlJlcXVlc3RQMlBSZXN0YXJ0SUNFLHtkaXJlY3Rpb246R1YuU0VORF9PTkxZfSkpfWZpbHRlclRvYmVNdXRlZFRyYWNrcyhlKXtjb25zdCB0PVtdO2lmKC0xPT09dGhpcy5nZXRBbGxUcmFja3MoKS5pbmRleE9mKGUpKXJldHVybiB0O2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChSeC5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUgaW5zdGFuY2VvZiBCayYmKG51bGw9PWk/dm9pZCAwOmkudHJhY2spaW5zdGFuY2VvZiBXaylyZXR1cm4gaS50cmFjay5pc0FjdGl2ZXx8dC5wdXNoKFtSeC5Mb2NhbEF1ZGlvVHJhY2ssaV0pLHQ7Y29uc3Qgbj1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQoKHQ9PntsZXRbLHt0cmFjazppfV09dDtyZXR1cm4gZT09PWl9KSk7aWYobiYmKHQucHVzaChuKSxuWzBdPT09UnguTG9jYWxWaWRlb1RyYWNrKSl7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsVmlkZW9Mb3dUcmFjayk7ZSYmdC5wdXNoKFtSeC5Mb2NhbFZpZGVvTG93VHJhY2ssZV0pfXJldHVybiB0fWZpbHRlclRvYmVVbm11dGVkVHJhY2tzKGUpe2NvbnN0IHQ9W10saT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsQXVkaW9UcmFjayk7aWYoZSBpbnN0YW5jZW9mIEJrJiYobnVsbD09aT92b2lkIDA6aS50cmFjaylpbnN0YW5jZW9mIFdrKXJldHVybiBpLnRyYWNrLmlzQWN0aXZlJiZ0LnB1c2goW1J4LkxvY2FsQXVkaW9UcmFjayxpXSksdDtjb25zdCBuPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZCgodD0+e2xldFsse3RyYWNrOml9XT10O3JldHVybiBlPT09aX0pKTtpZihuKWlmKG5bMF09PT1SeC5Mb2NhbFZpZGVvVHJhY2spe3QucHVzaChuKTtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoUnguTG9jYWxWaWRlb0xvd1RyYWNrKTtlJiZ0LnB1c2goW1J4LkxvY2FsVmlkZW9Mb3dUcmFjayxlXSl9ZWxzZSB0LnB1c2gobik7cmV0dXJuIHR9Y3JlYXRlTXV0ZU1lc3NhZ2UoZSl7cmV0dXJuIGUubWFwKChlPT57dmFyIHQ7bGV0IGksW24se3RyYWNrOnIsc3NyY3M6byxpZDpzfV09ZTtzd2l0Y2gobil7Y2FzZSBSeC5Mb2NhbEF1ZGlvVHJhY2s6aT1veC5BdWRpbzticmVhaztjYXNlIFJ4LkxvY2FsVmlkZW9UcmFjazppPUxuKHQ9ci5faGludHMpLmNhbGwodCxWUC5TQ1JFRU5fVFJBQ0spP294LlNjcmVlbjpveC5IaWdoO2JyZWFrO2Nhc2UgUnguTG9jYWxWaWRlb0xvd1RyYWNrOmk9b3guTG93fXJldHVybntzdHJlYW1fdHlwZTppLHNzcmNzOm8sbWlkOnN9fSkpfWNyZWF0ZVVubXV0ZU1lc3NhZ2UoZSl7cmV0dXJuIGUubWFwKChlPT57dmFyIHQ7bGV0IGksW24se3RyYWNrOnIsc3NyY3M6byxpZDpzfV09ZTtzd2l0Y2gobil7Y2FzZSBSeC5Mb2NhbEF1ZGlvVHJhY2s6aT1veC5BdWRpbzticmVhaztjYXNlIFJ4LkxvY2FsVmlkZW9UcmFjazppPUxuKHQ9ci5faGludHMpLmNhbGwodCxWUC5TQ1JFRU5fVFJBQ0spP294LlNjcmVlbjpveC5IaWdoO2JyZWFrO2Nhc2UgUnguTG9jYWxWaWRlb0xvd1RyYWNrOmk9b3guTG93fXJldHVybntzdHJlYW1fdHlwZTppLHNzcmNzOm8sbWlkOnN9fSkpfWZpbHRlclRvYmVVblN1YnNjcmliZWRUcmFja3MoZSx0KXtjb25zdCBpPVtdLG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighbilyZXR1cm4gaTtpZih0KXtjb25zdCByPW4uZ2V0KHQpO2lmKCFyKXJldHVybiBpO2kucHVzaChbZSx7a2luZDp0LGlkOnJ9XSl9ZWxzZSBBcnJheS5mcm9tKG4uZW50cmllcygpKS5mb3JFYWNoKCh0PT57bGV0W24scl09dDtpLnB1c2goW2Use2tpbmQ6bixpZDpyfV0pfSkpO3JldHVybiBpfWNyZWF0ZVVuc3Vic2NyaWJlTWVzc2FnZShlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PntsZXRbaSx7a2luZDpuLGlkOnJ9XT1lO3N3aXRjaChuKXtjYXNlIGZ4LlZJREVPOnJldHVybiB2b2lkKGkuX3ZpZGVvU1NSQyYmdC5wdXNoKHtzdHJlYW1fdHlwZTpmeC5WSURFTyxzc3JjSWQ6aS5fdmlkZW9TU1JDfSkpO2Nhc2UgZnguQVVESU86cmV0dXJuIHZvaWQoaS5fYXVkaW9TU1JDJiZ0LnB1c2goe3N0cmVhbV90eXBlOmZ4LkFVRElPLHNzcmNJZDppLl9hdWRpb1NTUkN9KSl9fSkpLHR9d2l0aGRyYXdSZW1vdGVUcmFja3MoZSl7ZS5mb3JFYWNoKChlPT57bGV0W3Qse2tpbmQ6aX1dPWU7Y29uc3Qgbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO24mJihuLmRlbGV0ZShpKSwwPT09QXJyYXkuZnJvbShuLmVudHJpZXMoKSkubGVuZ3RoJiZ0aGlzLnJlbW90ZVVzZXJNYXAuZGVsZXRlKHQpKX0pKX1hc3luYyB1cGRhdGVCaXRyYXRlTGltaXQoZSl7Y29uc3QgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsVmlkZW9UcmFjayksaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFJ4LkxvY2FsVmlkZW9Mb3dUcmFjayk7dCYmKGF3YWl0IHQudHJhY2suc2V0Qml0cmF0ZUxpbWl0KGUudXBsaW5rKSxhd2FpdCBuZXcgcnAoKChlLGkpPT57dGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIodC50cmFjayxlLGksITApfSkpKSxpJiZlLmxvd19zdHJlYW1fdXBsaW5rJiYoYXdhaXQgaS50cmFjay5zZXRCaXRyYXRlTGltaXQoe21heF9iaXRyYXRlOmUubG93X3N0cmVhbV91cGxpbmsuYml0cmF0ZSxtaW5fYml0cmF0ZTplLmxvd19zdHJlYW1fdXBsaW5rLmJpdHJhdGV8fDB9KSxhd2FpdCBuZXcgcnAoKChlLHQpPT57dGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIoaS50cmFjayxlLHQsITApfSkpKX1pc1AyUERpc2Nvbm5lY3RlZCgpe2lmKHRoaXMuc2VuZENvbm5lY3Rpb24mJnRoaXMucmVjdkNvbm5lY3Rpb24pe2NvbnN0IGU9dGhpcy5zZW5kQ29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlLHQ9dGhpcy5yZWN2Q29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlO3JldHVyblwiY29ubmVjdGVkXCIhPT1lJiZcImNvbm5lY3RlZFwiIT09dH1yZXR1cm4hMH1hc3luYyB0cnlUb1VubXV0ZUF1ZGlvKGUpe2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKGVbdF1pbnN0YW5jZW9mIEJrKXtjb25zdCBpPXRoaXMuZmlsdGVyVG9iZVVubXV0ZWRUcmFja3MoZVt0XSk7aWYoMD09PWkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IG49dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKGkpO3JldHVybiB2b2lkIGF3YWl0IHFPKHRoaXMsdnguUmVxdWVzdFVubXV0ZUxvY2FsLG4pfX1iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpe3RoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0U3RhdHM9ZT0+dGhpcy5nZXRTdGF0cyhlKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdExvY2FsTWVkaWE9KCk9PkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKChlPT57bGV0Wyx7c3NyY3M6dH1dPWU7cmV0dXJuISF0fSkpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0UmVtb3RlTWVkaWE9KCk9PkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RWaWRlb0lzUmVhZHk9ZT0+e3ZhciB0O3JldHVybiEobnVsbD09PSh0PXRoaXMucmVjdkNvbm5lY3Rpb24pfHx2b2lkIDA9PT10fHwhdC5nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSkpfSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFVwbG9hZD0oZSx0KT0+dGhpcy5lbWl0KHZ4LlJlcXVlc3RVcGxvYWQsZSx0KSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFVwbG9hZFN0YXRzPWU9PnRoaXMuZW1pdCh2eC5SZXF1ZXN0VXBsb2FkU3RhdHMsZSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RBbGxUcmFja3M9KCk9PnRoaXMuZ2V0QWxsVHJhY2tzKCl9dW5iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpe3RoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0U3RhdHM9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0TG9jYWxNZWRpYT12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RSZW1vdGVNZWRpYT12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RWaWRlb0lzUmVhZHk9dm9pZCAwfWFzeW5jIHJlcXVlc3RSZWNvbm5lY3QoKXt0aGlzLmR0bHNGYWlsZWRDb3VudCs9MSxhd2FpdCBmTihNTih0aGlzLmR0bHNGYWlsZWRDb3VudCxrTikpLHRoaXMuZW1pdCh2eC5SZXF1ZXN0UmVjb25uZWN0KX1hc3luYyByZWNvbm5lY3RQMlAoKXt9Y2FuUHVibGlzaExvd1N0cmVhbSgpe3JldHVybiB0aGlzLmxvY2FsVHJhY2tNYXAuaGFzKFJ4LkxvY2FsVmlkZW9UcmFjayl8fHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiBrTSkpfXRocm93SWZUcmFja1R5cGVOb3RNYXRjaChlKXtpZihlLmZpbHRlcigoZT0+ZSBpbnN0YW5jZW9mIGtNKSkubGVuZ3RoPjEpdGhyb3cgbmV3IHBPKGhPLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1MpO2lmKGUuZmlsdGVyKChlPT5lIGluc3RhbmNlb2YgQmspKS5sZW5ndGg+MSYmKGUuc29tZSgoZT0+ZSBpbnN0YW5jZW9mIEJrJiZlLl9ieXBhc3NXZWJBdWRpbykpfHwhcFAoKS53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdCkpdGhyb3cgbmV3IHBPKGhPLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgTWVkaWFTdHJlYW1EZXN0Tm9kZVwiKTtmb3IoY29uc3QgdCBvZiBlKXtpZih0IGluc3RhbmNlb2Yga00mJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiBrTSkpKXRocm93IG5ldyBwTyhoTy5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKTtpZih0IGluc3RhbmNlb2YgQmsmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiBCaykpJiYoIXBQKCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3R8fHQuX2J5cGFzc1dlYkF1ZGlvfHx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2YgQmsmJmUuX2J5cGFzc1dlYkF1ZGlvKSkpKXRocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IE1lZGlhU3RyZWFtRGVzdE5vZGVcIil9fWdldExvd1ZpZGVvVHJhY2soZSx0KXtjb25zdCBpPSFDRChcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZwUCgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcsbj1GWChGWCh7fSx7d2lkdGg6MTYwLGhlaWdodDoxMjAsZnJhbWVyYXRlOjE1LGJpdHJhdGU6NTB9KSx0KTtsZXQgcjtyPWk/ZS5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpOmpqKGUsbik7Y29uc3Qgbz1TTig4LFwidHJhY2stbG93LVwiKSxzPW5ldyBrTShyLEZYKEZYKHt9LGkmJntzY2FsZVJlc29sdXRpb25Eb3duQnk6X0YobixlKX0pLHt9LHtmcmFtZVJhdGU6bi5mcmFtZXJhdGUsYml0cmF0ZU1heDpuLmJpdHJhdGUsYml0cmF0ZU1pbjpuLmJpdHJhdGV9KSx2b2lkIDAsdm9pZCAwLG8pO3JldHVybiBzLm9uKGpQLlRSQU5TQ0VJVkVSX1VQREFURUQsKHQ9PntlLl91cGRhdGVSdHBUcmFuc2NlaXZlcih0LHhQLkxPV19TVFJFQU0pfSkpLHMuX2hpbnRzLnB1c2goVlAuTE9XX1NUUkVBTSksZS5hZGRMaXN0ZW5lcihVUC5ORUVEX0NMT1NFLCgoKT0+e3MuY2xvc2UoKX0pKSxzfWFzeW5jIGdsb2JhbExvY2soKXtyZXR1cm4gdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbDIuZ2xvYmFsTG9ja1wiKX1yZXBvcnRWaWRlb0ZpcnN0RnJhbWVEZWNvZGVkKGUsdCxpLG4pe3ZhciByO2NvbnN0IG89QXJyYXkuZnJvbShXRChyPXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbChyKSkuZmluZCgodD0+dC5fdmlkZW9TU1JDPT09ZSkpO2lmKG8pe258fHRoaXMuc3RvcmUuc3Vic2NyaWJlKG8udWlkLFwidmlkZW9cIix2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSk7Y29uc3Qgcj10aGlzLnN0b3JlLmtleU1ldHJpY3Mscz1yLnN1YnNjcmliZS5maW5kKChlPT5lLnVzZXJJZD09PW8udWlkJiZcInZpZGVvXCI9PT1lLnR5cGUpKTtsUC5maXJzdFJlbW90ZVZpZGVvRGVjb2RlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHNQLkZJUlNUX1ZJREVPX0RFQ09ERSxhUC5GSVJTVF9WSURFT19ERUNPREUse3BlZXI6by5fdWludGlkLHZpZGVvd2lkdGg6dCx2aWRlb2hlaWdodDppLHN1YnNjcmliZUVsYXBzZTp0ai5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxhcEVuZDpyLnJlcXVlc3RBUEVuZHx8MCxhcFN0YXJ0OnIucmVxdWVzdEFQU3RhcnR8fDAsam9pbkd3RW5kOnIuam9pbkdhdGV3YXlFbmR8fDAsam9pbkd3U3RhcnQ6ci5qb2luR2F0ZXdheVN0YXJ0fHwwLHBjRW5kOnIucGVlckNvbm5lY3Rpb25FbmR8fDAscGNTdGFydDpyLnBlZXJDb25uZWN0aW9uU3RhcnR8fDAsc3Vic2NyaWJlckVuZDoobnVsbD09cz92b2lkIDA6cy5zdWJzY3JpYmVFbmQpfHwwLHN1YnNjcmliZXJTdGFydDoobnVsbD09cz92b2lkIDA6cy5zdWJzY3JpYmVTdGFydCl8fDAsdmlkZW9BZGROb3RpZnk6KG51bGw9PXM/dm9pZCAwOnMuc3RyZWFtQWRkZWQpfHwwLHN0YXRlOm4/MTowfSl9fWFzeW5jIHJlbW90ZU1lZGlhU3NyY0NoYW5nZWQoZSx0LGkpe2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXJldHVybiExO2NvbnN0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighbilyZXR1cm4hMTtjb25zdCByPW4uZ2V0KHQpO2lmKCFyKXJldHVybiExO2NvbnN0IG89YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5nZXRSZW1vdGVTU1JDKHIpO3JldHVybiB2b2lkIDAhPT1vJiZvIT09aX1pc1ByZVN1YlNjcmliZShlKXtyZXR1cm4hMX1hc3luYyBwdWJsaXNoRGF0YUNoYW5uZWwoZSl7dGhyb3cgbmV3IHBPKGhPLk5PVF9TVVBQT1JURUQpfWFzeW5jIHVucHVibGlzaERhdGFDaGFubmVsKGUpe3Rocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVEKX1hc3luYyBzdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQpe3Rocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVEKX1hc3luYyB1bnN1YnNjcmliZURhdGFDaGFubmVsKGUsdCl7dGhyb3cgbmV3IHBPKGhPLk5PVF9TVVBQT1JURUQpfWhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChlLHQpe3Rocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVEKX1zZXRQZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWwoZSx0KXt0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCl9YXN5bmMgcHJlQ29ubmVjdChlKXt0aHJvdyBuZXcgcE8oaE8uTk9UX1NVUFBPUlRFRCl9Z2V0RXN0YWJsaXNoUGFyYW1zKCl7dGhyb3cgbmV3IHBPKGhPLk5PVF9TVVBQT1JURUQpfWFzeW5jIHJlU3Vic2NyaWJlKGUpe3Rocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVEKX1yZXBvcnRWaWRlb0ZpcnN0RnJhbWVSZW5kZXIoZSl7fWFzeW5jIHVwZGF0ZVZpZGVvU3RyZWFtUGFyYW1ldGVyKGUsdCl7dGhyb3cgbmV3IHBPKGhPLk5PVF9TVVBQT1JURUQpfXVuYmluZFJ0cFRyYW5zY2VpdmVyKCl7MCE9PXRoaXMubG9jYWxUcmFja01hcC5zaXplJiZBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7dD09PVJ4LkxvY2FsVmlkZW9Mb3dUcmFjaz9pLl91cGRhdGVSdHBUcmFuc2NlaXZlcih2b2lkIDAseFAuTE9XX1NUUkVBTSk6aS5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodm9pZCAwKX0pKX19LERWKFZYLnByb3RvdHlwZSxcInAycENvbm5lY3RcIixbQVhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVlgucHJvdG90eXBlLFwicDJwQ29ubmVjdFwiKSxWWC5wcm90b3R5cGUpLERWKFZYLnByb3RvdHlwZSxcInVucHVibGlzaFwiLFtiWF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihWWC5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIiksVlgucHJvdG90eXBlKSxEVihWWC5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hMb3dTdHJlYW1cIixbd1hdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVlgucHJvdG90eXBlLFwidW5wdWJsaXNoTG93U3RyZWFtXCIpLFZYLnByb3RvdHlwZSksRFYoVlgucHJvdG90eXBlLFwic3Vic2NyaWJlXCIsW09YXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFZYLnByb3RvdHlwZSxcInN1YnNjcmliZVwiKSxWWC5wcm90b3R5cGUpLERWKFZYLnByb3RvdHlwZSxcIm1vY2tTdWJzY3JpYmVcIixbTlhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVlgucHJvdG90eXBlLFwibW9ja1N1YnNjcmliZVwiKSxWWC5wcm90b3R5cGUpLERWKFZYLnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIsW0RYXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFZYLnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIpLFZYLnByb3RvdHlwZSksRFYoVlgucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiLFtQWF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihWWC5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIpLFZYLnByb3RvdHlwZSksRFYoVlgucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIsW0xYXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFZYLnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiKSxWWC5wcm90b3R5cGUpLERWKFZYLnByb3RvdHlwZSxcImhhc1JlbW90ZU1lZGlhV2l0aExvY2tcIixba1hdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVlgucHJvdG90eXBlLFwiaGFzUmVtb3RlTWVkaWFXaXRoTG9ja1wiKSxWWC5wcm90b3R5cGUpLERWKFZYLnByb3RvdHlwZSxcImRpc2Nvbm5lY3RGb3JSZWNvbm5lY3RcIixbTVhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVlgucHJvdG90eXBlLFwiZGlzY29ubmVjdEZvclJlY29ubmVjdFwiKSxWWC5wcm90b3R5cGUpLERWKFZYLnByb3RvdHlwZSxcInJlbW90ZU1lZGlhU3NyY0NoYW5nZWRcIixbVVhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVlgucHJvdG90eXBlLFwicmVtb3RlTWVkaWFTc3JjQ2hhbmdlZFwiKSxWWC5wcm90b3R5cGUpLFZYKTtmdW5jdGlvbiBqWChlKXtyZXR1cm4gZnVuY3Rpb24odCxpLG4pe2NvbnN0IHI9dFtpXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gbi52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpLG89MDtvPHQ7bysrKW5bb109YXJndW1lbnRzW29dO3N3aXRjaChlKXtjYXNlIElYLlNFTkRfT05MWTp7Y29uc3QgZT1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5cIi5jb25jYXQoaSkpO3RyeXtyZXR1cm4gYXdhaXQgci5hcHBseSh0aGlzLG4pfWZpbmFsbHl7ZSgpfX1jYXNlIElYLlJFQ0VJVkVfT05MWTp7Y29uc3QgZT1hd2FpdCB0aGlzLnJlY3ZNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5cIi5jb25jYXQoaSkpO3RyeXtyZXR1cm4gYXdhaXQgci5hcHBseSh0aGlzLG4pfWZpbmFsbHl7ZSgpfX1kZWZhdWx0Ontjb25zdCBlPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLlwiLmNvbmNhdChpKSksdD1hd2FpdCB0aGlzLnJlY3ZNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5cIi5jb25jYXQoaSkpO3RyeXtyZXR1cm4gYXdhaXQgci5hcHBseSh0aGlzLG4pfWZpbmFsbHl7ZSgpLHQoKX19fX0sbn19Y2xhc3MgR1ggZXh0ZW5kcyBOT3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksaUEodGhpcyxcInNpZ25hbFwiLHZvaWQgMCksaUEodGhpcyxcInRva2VuXCIsdm9pZCAwKSxpQSh0aGlzLFwidG9rZW5UaW1lb3V0XCIsdm9pZCAwKSxpQSh0aGlzLFwidG9rZW5JbnRlcnZhbFwiLHZvaWQgMCksaUEodGhpcyxcIl9zZXF1ZW5jZVwiLDApLGlBKHRoaXMsXCJ1c2VyTWFwXCIsbmV3IE1hcCksaUEodGhpcyxcImVuY29kZXJcIixuZXcgVGV4dEVuY29kZXIpLHRoaXMuc2lnbmFsPWUsdGhpcy50b2tlbj10O2NvbnN0IGk9KCk9Pnt0aGlzLnNpZ25hbC5jb25uZWN0aW9uU3RhdGU9PT1WVi5DT05ORUNURUQmJnRoaXMuY2hlY2soKSwwPT09dGhpcy51c2VyTWFwLnNpemU/dGhpcy50b2tlbkludGVydmFsPXdpbmRvdy5zZXRUaW1lb3V0KGksMWUzKTp0aGlzLnRva2VuSW50ZXJ2YWw9d2luZG93LnNldFRpbWVvdXQoaSwzKkNEKFwiUDJQX1RPS0VOX0lOVEVSVkFMXCIpKX07aSgpfWFzeW5jIHNlbmQoZSx0LGksbixyKXt2YXIgbztpZigwPT09dGhpcy51c2VyTWFwLnNpemUpcmV0dXJuO2NvbnN0IHM9QXJyYXkuZnJvbShwcChvPXRoaXMudXNlck1hcCkuY2FsbChvKSlbMF0udG9rZW47XCJzdHJpbmdcIiE9dHlwZW9mIHQmJih0PUpTT04uc3RyaW5naWZ5KHQpKSxuPW51bGwhPW4/bjpTTig2LFwiXCIpLHI9bnVsbCE9cj9yOnRoaXMuX3NlcXVlbmNlKys7Y29uc3QgYT17X2lkOm4sX3R5cGU6ZSxfc2VxOnIsX21lc3NhZ2U6dCx0b2tlbjpcIlwiLmNvbmNhdCh0aGlzLnRva2VuLFwiX1wiKS5jb25jYXQocyl9O0NEKFwiU0hPV19QMlBfTE9HXCIpJiZpUC5kZWJ1ZyhcInNlbmQgbWVzc2FnZVwiLGEsXCJub05lZWRSZXNwb25zZSA6IFwiLmNvbmNhdChpKSk7dGhpcy5zcGxpdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoYSkpLmZvckVhY2goKGU9Pnt0aGlzLnNpZ25hbC5yZXF1ZXN0KEZWLkRBVEFfU1RSRUFNLHtwYXlsb2FkOnVOKHRoaXMuZW5jb2Rlci5lbmNvZGUoZSkpfSl9KSk7Y29uc3QgYz1uZXcgcnAoKCh0LHIpPT57Y29uc3Qgbz13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KG4sXCJfYWNrXCIpLHMpLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQobiksZCksdGhpcy5vZmYoa3guQUJPUlQsYyksaVAuZGVidWcoXCJbZXh0ZXJuYWwtc2lnbmFsXSByZXF1ZXN0IHRpbWVvdXQsIHR5cGU6IFwiLmNvbmNhdChlLFwiLCByZXF1ZXN0SWQ6IFwiKS5jb25jYXQobikpLDA9PT10aGlzLnVzZXJNYXAuc2l6ZT9yKG5ldyBwTyhoTy5JTlZBTElEX1JFTU9URV9VU0VSKSk6cihuZXcgcE8oaE8uVElNRU9VVCkpfSksQ0QoXCJFWFRFUk5BTF9TSUdOQUxfUkVRVUVTVF9USU1FT1VUXCIpKSxzPSgpPT57byYmd2luZG93LmNsZWFyVGltZW91dChvKSx0aGlzLm9mZihreC5BQk9SVCxjKSxpJiZ0KCl9LGM9KCk9PntvJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KG8pLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQobixcIl9hY2tcIikscyksdGhpcy5vZmYoXCJyZXMtQFwiLmNvbmNhdChuKSxkKSxyKG5ldyBwTyhoTy5FWFRFUk5BTF9TSUdOQUxfQUJPUlQsXCJ0eXBlOiBcIi5jb25jYXQoZSxcIiwgcmVxdWVzdElkOiBcIikuY29uY2F0KG4pKSl9O3RoaXMub25jZShreC5BQk9SVCxjKSx0aGlzLm9uY2UoXCJyZXMtQFwiLmNvbmNhdChuLFwiX2Fja1wiKSxzKTtjb25zdCBkPShpLGEpPT57bD0hMCxvJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KG8pLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQobixcIl9hY2tcIikscyksdGhpcy5vZmYoa3guQUJPUlQsYyksXCJzdWNjZXNzXCI9PT1pP3QoYSk6cihuZXcgcE8oaE8uUDJQX01FU1NBR0VfRkFJTEVELFwicmVxdWVzdCBcIi5jb25jYXQoZSxcIiBmYWlsZWQsIHJlcXVlc3RJZDogXCIpLmNvbmNhdChuKSkpfTtsZXQgbD0hMTtpfHwodGhpcy5vbmNlKFwicmVzLUBcIi5jb25jYXQobiksZCksZk4oQ0QoXCJTSUdOQUxfUkVRVUVTVF9USU1FT1VUXCIpKS50aGVuKCgoKT0+e2x8fGlQLndhcm5pbmcoXCJleHRlcm5hbF9zaWduYWwgcmVxdWVzdCB0aW1lb3V0LCB0eXBlOiBcIi5jb25jYXQoZSxcIiwgcmVxdWVzdElkOiBcIikuY29uY2F0KG4sXCIsIFwiKS5jb25jYXQoYSkpfSkpKX0pKTt0cnl7cmV0dXJuIGF3YWl0IGN9Y2F0Y2gobyl7aWYoby5jb2RlPT09aE8uVElNRU9VVClyZXR1cm4gYXdhaXQgdGhpcy5zZW5kKGUsdCxpLG4scik7dGhyb3cgb319b25NZXNzYWdlKGUpe3ZhciB0O2NvbnN0e191aWQ6aX09ZTtsZXQgbixyPXRoaXMudXNlck1hcC5nZXQoaSk7aWYociluPXIuc3BsaXRNZXNzYWdlTWFwO2Vsc2V7aWYodGhpcy51c2VyTWFwLnNpemU+MHx8IShcIl90eXBlXCJpbiBlKXx8ZS5fdHlwZSE9PUx4LkNIRUNLKXJldHVybjtjb25zdHt0b2tlbjp0fT1lO249bmV3IE1hcCxyPXt1aWQ6aSxpc1N0YXJ0OiEwLHRva2VuOnQsc3BsaXRNZXNzYWdlTWFwOm4sbmV4dEV4cGVjdGVkU2VxdWVuY2VOdW1iZXI6MCxyZWNlaXZlZE1lc3NhZ2VzTWFwOm5ldyBNYXB9LHRoaXMudXNlck1hcC5zZXQoaSxyKSx0aGlzLnNpZ25hbC5lbWl0KGpWLk9OX1VTRVJfT05MSU5FLHt1aWQ6aX0pLHRoaXMuaGFuZGxlVXNlck9ubGluZSgpfWlmKFwiaWRcImluIGUmJlwidG90YWxcImluIGUpe3ZhciBvO2NvbnN0e2lkOnQsdG90YWw6cn09ZSxzPW51bGwhPT0obz1uLmdldCh0KSkmJnZvaWQgMCE9PW8/bzpbXTtpZihzLnB1c2goZSksbi5oYXModCl8fG4uc2V0KHQscykscy5sZW5ndGghPT1yKXJldHVybjt7Y29uc3Qgcj1RcChzKS5jYWxsKHMsKChlLHQpPT5lLmluZGV4LXQuaW5kZXgpKS5tYXAoKGU9PmUucGF5bG9hZCkpLmpvaW4oXCJcIik7bi5kZWxldGUodCksKGU9SlNPTi5wYXJzZShyKSkuX3VpZD1pfX1jb25zdHtfdHlwZTpzLHRva2VuOmF9PWU7aWYoTG4odD1bTHguQUNLLEx4LkNIRUNLXSkuY2FsbCh0LHMpKXJldHVybiBzPT09THguQ0hFQ0smJnRoaXMuaGFuZGxlQ2hlY2tUb2tlbihyLGEpLHZvaWQgdGhpcy5yZWNlaXZlTWVzc2FnZShlKTthPT09XCJcIi5jb25jYXQoci50b2tlbixcIl9cIikuY29uY2F0KHRoaXMudG9rZW4pP3RoaXMuaGFuZGxlUmVjZWl2ZWRNZXNzYWdlKGUpOmlQLmRlYnVnKCdSZWNlaXZlIHVuZXhwZWN0ZWQgbWVzc2FnZVwiLCAnLmNvbmNhdChhLFwiLCBjdXJfdG9rZW46IFwiKS5jb25jYXQoci50b2tlbixcIl9cIikuY29uY2F0KHRoaXMudG9rZW4pLGUpfWNoZWNrKCl7Y29uc3QgZT17X2lkOlNOKDYsXCJcIiksdG9rZW46dGhpcy50b2tlbixfdHlwZTpMeC5DSEVDS307Q0QoXCJTSE9XX1AyUF9MT0dcIikmJmlQLmRlYnVnKFwic2VuZCBtZXNzYWdlXCIsZSksdGhpcy5zaWduYWwucmVxdWVzdChGVi5EQVRBX1NUUkVBTSx7cGF5bG9hZDp1Tih0aGlzLmVuY29kZXIuZW5jb2RlKEpTT04uc3RyaW5naWZ5KGUpKSl9KX1hY2soZSl7Y29uc3QgdD17X2lkOmUsX3R5cGU6THguQUNLLHRva2VuOnRoaXMudG9rZW59O0NEKFwiU0hPV19QMlBfTE9HXCIpJiZpUC5kZWJ1ZyhcInNlbmQgbWVzc2FnZVwiLHQpLHRoaXMuc2lnbmFsLnJlcXVlc3QoRlYuREFUQV9TVFJFQU0se3BheWxvYWQ6dU4odGhpcy5lbmNvZGVyLmVuY29kZShKU09OLnN0cmluZ2lmeSh0KSkpfSl9cmVzcG9uc2UoZSx0LGkpe3RoaXMuc2VuZChMeC5SRVNQT05TRSxKU09OLnN0cmluZ2lmeSh7c3VjY2VzczohaSxtZXNzYWdlOnR9KSwhMCxlKX1oYW5kbGVSZWNlaXZlZE1lc3NhZ2UoZSl7Y29uc3QgdD0oKT0+e3RoaXMudXNlck1hcC5mb3JFYWNoKChlPT57Y29uc3R7cmVjZWl2ZWRNZXNzYWdlc01hcDp0LG5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyOml9PWU7Zm9yKDt0LmhhcyhpKTspe2NvbnN0IG49dC5nZXQoaSk7dC5kZWxldGUoaSksdGhpcy5yZWNlaXZlTWVzc2FnZShuKSxlLm5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyKyt9fSkpfTtpZighZSlyZXR1cm4gdm9pZCB0KCk7Y29uc3R7X3VpZDppLF9zZXE6bn09ZSxyPXRoaXMudXNlck1hcC5nZXQoaSkse3JlY2VpdmVkTWVzc2FnZXNNYXA6byxpc1N0YXJ0OnMsbmV4dEV4cGVjdGVkU2VxdWVuY2VOdW1iZXI6YX09cjtpZihuPGEpcmV0dXJuIHRoaXMuYWNrKGUuX2lkKSx2b2lkIGlQLmRlYnVnKFwiW2V4dGVybmFsLXNpZ25hbF0gcmVjZWl2ZSBvbGQgbWVzc2FnZSwgc2VxOiBcIi5jb25jYXQobixcIiwgXCIpLmNvbmNhdChlLl9tZXNzYWdlKSk7by5zZXQobixlKSxzJiZuPT09YSYmKHRoaXMucmVjZWl2ZU1lc3NhZ2UoZSksby5kZWxldGUoYSksci5uZXh0RXhwZWN0ZWRTZXF1ZW5jZU51bWJlcisrLHQoKSl9cmVjZWl2ZU1lc3NhZ2UoZSl7Y29uc3R7X2lkOnQsX3R5cGU6aSxfbWVzc2FnZTpuLF91aWQ6cn09ZTtpZihDRChcIlNIT1dfUDJQX0xPR1wiKSYmaVAuZGVidWcoXCJyZWNlaXZlIG1lc3NhZ2VcIixlKSx0KXtsZXQgbztzd2l0Y2goZS5fdHlwZSE9PUx4LkFDSyYmKG4mJihvPUpTT04ucGFyc2UobikpLHRoaXMuYWNrKGUuX2lkKSksZS5fdHlwZSl7Y2FzZSBMeC5DQU5ESURBVEU6Y2FzZSBMeC5DT05UUk9MOnRoaXMuc2lnbmFsLmVtaXQoaSxvLHIpO2JyZWFrO2Nhc2UgTHguUFVCTElTSDpjYXNlIEx4LlVOUFVCTElTSDpjYXNlIEx4LlJFU1RBUlRfSUNFOmNhc2UgTHguQ0FMTDpvLnVpZD1yLHpPKHRoaXMuc2lnbmFsLGksbykudGhlbigodD0+e3RoaXMucmVzcG9uc2UoZS5faWQsdCl9KSkuY2F0Y2goKCgpPT57dGhpcy5yZXNwb25zZShlLl9pZCx2b2lkIDAsITApfSkpO2JyZWFrO2Nhc2UgTHguQUNLOnRoaXMuZ2V0TGlzdGVuZXJzKFwicmVzLUBcIi5jb25jYXQodCxcIl9hY2tcIikpLmxlbmd0aD4wJiZ0aGlzLmVtaXQoXCJyZXMtQFwiLmNvbmNhdCh0LFwiX2Fja1wiKSk7YnJlYWs7Y2FzZSBMeC5SRVNQT05TRTp7Y29uc3R7c3VjY2VzczplLG1lc3NhZ2U6aX09bzt0aGlzLmVtaXQoXCJyZXMtQFwiLmNvbmNhdCh0KSxlP1wic3VjY2Vzc1wiOlwiZmFpbGVkXCIsaSk7YnJlYWt9fX19c3BsaXRNZXNzYWdlKGUpe2lmKGUubGVuZ3RoPEdYLk1BWF9NRVNTQUdFX1NJWkUpcmV0dXJuW2VdO2NvbnN0IHQ9W10se3JlbW90ZVRva2VuOml9PUpTT04ucGFyc2UoZSksbj1TTig2LFwiXCIpO2xldCByPTAsbz04MDA7Y29uc3Qgcz1NYXRoLmNlaWwoZS5sZW5ndGgvbyk7Zm9yKDtlLmxlbmd0aD4wOyl7cisrO2NvbnN0IGE9e2lkOm4saW5kZXg6cix0b3RhbDpzLHBheWxvYWQ6ZS5zbGljZSgwLG8pLHRva2VuOlwiXCIuY29uY2F0KHRoaXMudG9rZW4sXCJfXCIpLmNvbmNhdChpKX07SlNPTi5zdHJpbmdpZnkoYSkubGVuZ3RoPkdYLk1BWF9NRVNTQUdFX1NJWkU/by09NTA6KHQucHVzaChhKSxlPWUuc2xpY2UobykpfXJldHVybiB0Lm1hcCgoZT0+SlNPTi5zdHJpbmdpZnkoZSkpKX1oYW5kbGVDaGVja1Rva2VuKGUsdCl7cmV0dXJuIGUudG9rZW4hPT10PyhpUC5kZWJ1ZyhcInRva2VuIGNoYW5nZWQsIGZyb20gXCIuY29uY2F0KGUudG9rZW4sXCIgdG8gXCIpLmNvbmNhdCh0KSksdGhpcy5yZXNldChlLnVpZCx0KSwhMSk6KHRoaXMudG9rZW5UaW1lb3V0JiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRva2VuVGltZW91dCksdGhpcy50b2tlblRpbWVvdXQ9dm9pZCAwKSx0aGlzLnRva2VuVGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoKCk9PntpUC5kZWJ1ZyhcInRva2VuIHRpbWVvdXQsIFwiLmNvbmNhdCh0KSksdGhpcy5yZXNldChlLnVpZCl9KSxDRChcIk1BWF9QMlBfVElNRU9VVFwiKSksITApfWFzeW5jIGhhbmRsZVVzZXJPbmxpbmUoKXtjb25zdCBlPWF3YWl0IHpPKHRoaXMuc2lnbmFsLEx4LkNBTEwsdm9pZCAwKSx0PWF3YWl0IHRoaXMuc2VuZChMeC5DQUxMLGUpO3RoaXMuc2lnbmFsLmVtaXQoeFYuUDJQX0NPTk5FQ1RJT04sdCwhMCl9YXN5bmMgcmVzZXQoZSx0KXtjb25zdCBpPXRoaXMudXNlck1hcC5nZXQoZSk7aSYmKHRoaXMuZW1pdChreC5BQk9SVCksdGhpcy5zaWduYWwuZW1pdChqVi5PTl9VU0VSX09GRkxJTkUse3VpZDppLnVpZCxyZWFzb246VXguUDJQX1RPS0VOX0NIQU5HRUR9KSx0aGlzLl9zZXF1ZW5jZT0wLHRoaXMudXNlck1hcC5jbGVhcigpLHR8fChpUC5kZWJ1ZyhcImNoYW5nZSBsb2NhbCB0b2tlbiBmcm9tIFwiLmNvbmNhdCh0LFwiIHRvIFwiKS5jb25jYXQodCkpLHRoaXMudG9rZW49U04oNixcIlwiKSkpfWNsZWFyKCl7dGhpcy5fc2VxdWVuY2U9MCx0aGlzLnVzZXJNYXAuY2xlYXIoKSx0aGlzLnRva2VuSW50ZXJ2YWwmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50b2tlbkludGVydmFsKSx0aGlzLnRva2VuSW50ZXJ2YWw9dm9pZCAwLHRoaXMudG9rZW5UaW1lb3V0JiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudG9rZW5UaW1lb3V0KSx0aGlzLnRva2VuVGltZW91dD12b2lkIDAsdGhpcy5lbWl0KGt4LkFCT1JUKX19aUEoR1gsXCJNQVhfU0laRVwiLDEpLGlBKEdYLFwiTUFYX01FU1NBR0VfU0laRVwiLDEwMjQpO2NsYXNzIFdYIGV4dGVuZHMgTk97Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGV9c2V0IGNvbm5lY3Rpb25TdGF0ZShlKXtlIT09dGhpcy5fY29ubmVjdGlvblN0YXRlJiYodGhpcy5fY29ubmVjdGlvblN0YXRlPWUsZT09PVZWLkNPTk5FQ1RFRD90aGlzLmVtaXQoeFYuV1NfQ09OTkVDVEVEKTplPT09VlYuUkVDT05ORUNUSU5HP3RoaXMuZW1pdCh4Vi5XU19SRUNPTk5FQ1RJTkcsdGhpcy5fd2Vic29ja2V0UmVjb25uZWN0UmVhc29uKTplPT09VlYuQ0xPU0VEJiZ0aGlzLmVtaXQoeFYuV1NfQ0xPU0VELHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbikpfWdldCBjdXJyZW50VVJMSW5kZXgoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQuY3VycmVudFVSTEluZGV4fWdldCB1cmwoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQmJnRoaXMud2Vic29ja2V0LnVybHx8bnVsbH1nZXQgcnR0KCl7cmV0dXJuIHRoaXMucnR0Um9sbGluZy5tZWFuKCl9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLGlBKHRoaXMsXCJfX25hbWVfX1wiLFwiUDJQU2lnbmFsXCIpLGlBKHRoaXMsXCJfZGlzY29ubmVjdGVkUmVhc29uXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvblwiLHZvaWQgMCksaUEodGhpcyxcIl9jb25uZWN0aW9uU3RhdGVcIixWVi5DTE9TRUQpLGlBKHRoaXMsXCJyZWNvbm5lY3RUb2tlblwiLHZvaWQgMCksaUEodGhpcyxcInAycFRva2VuXCIsdm9pZCAwKSxpQSh0aGlzLFwid2Vic29ja2V0XCIsdm9pZCAwKSxpQSh0aGlzLFwib3BlbkNvbm5lY3Rpb25UaW1lXCIsdm9pZCAwKSxpQSh0aGlzLFwiY2xpZW50SWRcIix2b2lkIDApLGlBKHRoaXMsXCJsYXN0TXNnVGltZVwiLERhdGUubm93KCkpLGlBKHRoaXMsXCJ1cGxvYWRDYWNoZVwiLFtdKSxpQSh0aGlzLFwidXBsb2FkQ2FjaGVJbnRlcnZhbFwiLHZvaWQgMCksaUEodGhpcyxcInJ0dFJvbGxpbmdcIixuZXcgeE4oNSkpLGlBKHRoaXMsXCJwaW5ncG9uZ1RpbWVyXCIsdm9pZCAwKSxpQSh0aGlzLFwicGluZ3BvbmdUaW1lb3V0Q291bnRcIiwwKSxpQSh0aGlzLFwiam9pblJlc3BvbnNlXCIsdm9pZCAwKSxpQSh0aGlzLFwibXVsdGlJcE9wdGlvblwiLHZvaWQgMCksaUEodGhpcyxcImluaXRFcnJvclwiLHZvaWQgMCksaUEodGhpcyxcInNwZWNcIix2b2lkIDApLGlBKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksaUEodGhpcyxcIl9leHRlcm5hbF9zaWduYWxcIix2b2lkIDApLGlBKHRoaXMsXCJvbldlYnNvY2tldE1lc3NhZ2VcIiwoZT0+e2lmKGUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiB2b2lkIHRoaXMuZW1pdCh4Vi5PTl9CSU5BUllfREFUQSxlLmRhdGEpO2NvbnN0IHQ9SlNPTi5wYXJzZShlLmRhdGEpO2lmKHRoaXMubGFzdE1zZ1RpbWU9RGF0ZS5ub3coKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxcIl9pZFwiKSl7Y29uc3QgZT1cInJlcy1AXCIuY29uY2F0KHQuX2lkKTt0aGlzLmVtaXQoZSx0Ll9yZXN1bHQsdC5fbWVzc2FnZSl9ZWxzZSBpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxcIl90eXBlXCIpKXtzd2l0Y2godC5fdHlwZSl7Y2FzZSBqVi5PTl9EQVRBX1NUUkVBTTpyZXR1cm4gdm9pZCB0aGlzLmhhbmRsZURhdGFTdHJlYW0odC5fbWVzc2FnZSk7Y2FzZSBqVi5NVVRFX0FVRElPOmNhc2UgalYuTVVURV9WSURFTzpjYXNlIGpWLk9OX1AyUF9MT1NUOmNhc2UgalYuT05fVVNFUl9PTkxJTkU6cmV0dXJuO2Nhc2UgalYuT05fVVNFUl9PRkZMSU5FOmNvbnN0e3VpZDplfT10Ll9tZXNzYWdlO3JldHVybiBpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gdXNlci1vZmZsaW5lIHVpZDogXCIpLmNvbmNhdChlKSksdm9pZCB0aGlzLl9leHRlcm5hbF9zaWduYWwucmVzZXQoZSl9aWYodGhpcy5lbWl0KHQuX3R5cGUsdC5fbWVzc2FnZSksdC5fdHlwZT09PWpWLk9OX05PVElGSUNBVElPTiYmdGhpcy5oYW5kbGVOb3RpZmljYXRpb24odC5fbWVzc2FnZSksdC5fdHlwZT09PWpWLk9OX1VTRVJfQkFOTkVEKXN3aXRjaCh0Ll9tZXNzYWdlLmVycm9yX2NvZGUpe2Nhc2UgMTQ6dGhpcy5jbG9zZShWTy5VSURfQkFOTkVEKTticmVhaztjYXNlIDE1OnRoaXMuY2xvc2UoVk8uSVBfQkFOTkVEKTticmVhaztjYXNlIDE2OnRoaXMuY2xvc2UoVk8uQ0hBTk5FTF9CQU5ORUQpfWlmKHQuX3R5cGU9PT1qVi5PTl9VU0VSX0xJQ0VOU0VfQkFOTkVEKXN3aXRjaCh0Ll9tZXNzYWdlLmVycm9yX2NvZGUpe2Nhc2UgVVYuRVJSX0xJQ0VOU0VfTUlTU0lORzp0aGlzLmNsb3NlKFZPLkxJQ0VOU0VfTUlTU0lORyk7YnJlYWs7Y2FzZSBVVi5FUlJfTElDRU5TRV9FWFBJUkVEOnRoaXMuY2xvc2UoVk8uTElDRU5TRV9FWFBJUkVEKTticmVhaztjYXNlIFVWLkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERUQ6dGhpcy5jbG9zZShWTy5MSUNFTlNFX01JTlVURVNfRVhDRUVERUQpO2JyZWFrO2Nhc2UgVVYuRVJSX0xJQ0VOU0VfUEVSSU9EX0lOVkFMSUQ6dGhpcy5jbG9zZShWTy5MSUNFTlNFX1BFUklPRF9JTlZBTElEKTticmVhaztjYXNlIFVWLkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFOnRoaXMuY2xvc2UoVk8uTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRSk7YnJlYWs7Y2FzZSBVVi5FUlJfTElDRU5TRV9JTExFR0FMOnRoaXMuY2xvc2UoVk8uTElDRU5TRV9JTExFR0FMKTticmVhaztkZWZhdWx0OnRoaXMuY2xvc2UoKX19fSkpLHRoaXMuY2xpZW50SWQ9ZS5jbGllbnRJZCx0aGlzLnNwZWM9ZSx0aGlzLnN0b3JlPXQsdGhpcy53ZWJzb2NrZXQ9bmV3IFp4KFwiZ2F0ZXdheS1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksdGhpcy5zcGVjLnJldHJ5Q29uZmlnLCEwLENEKFwiSk9JTl9HQVRFV0FZX1VTRV9EVUFMX0RPTUFJTlwiKSxDRChcIkpPSU5fR0FURVdBWV9VU0VfNDQzUE9SVF9PTkxZXCIpLHQpLHRoaXMuaGFuZGxlV2Vic29ja2V0RXZlbnRzKCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1WVi5DT05ORUNURUQmJnRoaXMucmVjb25uZWN0KFwicmV0cnlcIixITy5PRkZMSU5FKX0pKSx0aGlzLnAycFRva2VuPVNOKDYsXCJcIiksdGhpcy5fZXh0ZXJuYWxfc2lnbmFsPW5ldyBHWCh0aGlzLHRoaXMucDJwVG9rZW4pfWFzeW5jIHJlcXVlc3QoZSx0LGksbil7Y29uc3Qgcj1TTig2LFwiXCIpLG89e19pZDpyLF90eXBlOmUsX21lc3NhZ2U6dH0scz10aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQsYT0oKT0+bmV3IHJwKCgoZSx0KT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09VlYuQ09OTkVDVEVEKXJldHVybiBlKCk7Y29uc3QgaT0oKT0+e3RoaXMub2ZmKHhWLldTX0NMT1NFRCxuKSxlKCl9LG49KCk9Pnt0aGlzLm9mZih4Vi5XU19DT05ORUNURUQsaSksdChuZXcgcE8oaE8uV1NfQUJPUlQpKX07dGhpcy5vbmNlKHhWLldTX0NPTk5FQ1RFRCxpKSx0aGlzLm9uY2UoeFYuV1NfQ0xPU0VELG4pfSkpO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09VlYuQ09OTkVDVElORyYmdGhpcy5jb25uZWN0aW9uU3RhdGUhPT1WVi5SRUNPTk5FQ1RJTkd8fGU9PT1GVi5KT0lOfHxlPT09RlYuUkVKT0lOfHxhd2FpdCBhKCksdGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UobywhMCksbilyZXR1cm47Y29uc3QgYz1uZXcgcnAoKChpLG4pPT57bGV0IG89ITE7Y29uc3QgYT0obixyKT0+e289ITAsaSh7aXNTdWNjZXNzOlwic3VjY2Vzc1wiPT09bixtZXNzYWdlOnJ8fHt9fSksdGhpcy5vZmYoeFYuV1NfQ0xPU0VELGMpLHRoaXMub2ZmKHhWLldTX1JFQ09OTkVDVElORyxjKSx0aGlzLmVtaXQoeFYuUkVRVUVTVF9TVUNDRVNTLGUsdCl9O3RoaXMub25jZShcInJlcy1AXCIuY29uY2F0KHIpLGEpO2NvbnN0IGM9KCk9PntuKG5ldyBwTyhoTy5XU19BQk9SVCxcInR5cGU6IFwiLmNvbmNhdChlKSkpLHRoaXMub2ZmKHhWLldTX0NMT1NFRCxjKSx0aGlzLm9mZih4Vi5XU19SRUNPTk5FQ1RJTkcsYyksdGhpcy5vZmYoXCJyZXMtQFwiLmNvbmNhdChyKSxhKX07dGhpcy5vbmNlKHhWLldTX0NMT1NFRCxjKSx0aGlzLm9uY2UoeFYuV1NfUkVDT05ORUNUSU5HLGMpLGZOKENEKFwiU0lHTkFMX1JFUVVFU1RfVElNRU9VVFwiKSkudGhlbigoKCk9Pnt0aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQhPT1zfHxvfHwoaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gd3MgcmVxdWVzdCB0aW1lb3V0LCB0eXBlOiBcIikuY29uY2F0KGUpKSx0aGlzLmVtaXQoeFYuUkVRVUVTVF9USU1FT1VULGUsdCkpfSkpfSkpO2xldCBkPW51bGw7dHJ5e2Q9YXdhaXQgY31jYXRjaChuKXtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PVZWLkNMT1NFRHx8ZT09PUZWLkxFQVZFKXRocm93IG5ldyBwTyhoTy5XU19BQk9SVCk7cmV0dXJuIXRoaXMuc3BlYy5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2V8fGk/bi50aHJvdygpOmU9PT1GVi5KT0lOfHxlPT09RlYuUkVKT0lOP251bGw6KGF3YWl0IGEoKSxhd2FpdCB0aGlzLnJlcXVlc3QoZSx0KSl9aWYoZC5pc1N1Y2Nlc3MpcmV0dXJuIGQubWVzc2FnZTtjb25zdCBsPU51bWJlcihkLm1lc3NhZ2UuZXJyb3JfY29kZXx8ZC5tZXNzYWdlLmNvZGUpLHU9QngobCksaD1uZXcgcE8oaE8uVU5FWFBFQ1RFRF9SRVNQT05TRSxcIlwiLmNvbmNhdCh1LmRlc2MsXCI6IFwiKS5jb25jYXQoZC5tZXNzYWdlLmVycm9yX3N0cikse2NvZGU6bCxkYXRhOmQubWVzc2FnZSxkZXNjOnUuZGVzY30pO3JldHVyblwic3VjY2Vzc1wiPT09dS5hY3Rpb24/ZC5tZXNzYWdlOihpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQsXCJdIHVuZXhwZWN0ZWQgcmVzcG9uc2UgZnJvbSB0eXBlIFwiKS5jb25jYXQoZSxcIiwgZXJyb3JfY29kZTogXCIpLmNvbmNhdChsLFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KHUuZGVzYyxcIiwgYWN0aW9uOiBcIikuY29uY2F0KHUuYWN0aW9uKSksbD09PVVWLkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlM/ZT09PUZWLkpPSU58fGU9PT1GVi5SRUpPSU4/KHRoaXMuaW5pdEVycm9yPWgsdGhpcy5jbG9zZSgpLGgudGhyb3coKSk6aC50aHJvdygpOlwiZmFpbGVkXCI9PT11LmFjdGlvbj9oLnRocm93KCk6XCJxdWl0XCI9PT11LmFjdGlvbj8odGhpcy5pbml0RXJyb3I9aCx0aGlzLmNsb3NlKCksaC50aHJvdygpKToobD09PVVWLkVSUl9KT0lOX0JZX01VTFRJX0lQPyh0aGlzLm11bHRpSXBPcHRpb249ZC5tZXNzYWdlLm9wdGlvbixpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBkZXRlY3QgbXVsdGkgaXAsIHJlY292ZXJcIikpLHRoaXMucmVjb25uZWN0KFwicmVjb3ZlclwiLEhPLk1VTFRJX0lQKSk6dGhpcy5yZWNvbm5lY3QodS5hY3Rpb24sSE8uU0VSVkVSX0VSUk9SKSxlPT09RlYuSk9JTnx8ZT09PUZWLlJFSk9JTj9udWxsOmF3YWl0IHRoaXMucmVxdWVzdChlLHQpKSl9d2FpdE1lc3NhZ2UoZSx0KXtyZXR1cm4gbmV3IHJwKChpPT57Y29uc3Qgbj1yPT57KCF0fHx0KHIpKSYmKHRoaXMub2ZmKGUsbiksaShyKSl9O3RoaXMub24oZSxuKX0pKX11cGxvYWRXUlRDU3RhdHMoZSl7aWYoIXRoaXMuc3RvcmUuc2Vzc2lvbklkKXJldHVybiB2b2lkIGlQLndhcm4oXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIG5vIHNlc3Npb24gaWQgd2hlbiB1cGxvYWQgd3J0YyBzdGF0c1wiKSk7Y29uc3QgdD17bHRzOkRhdGUubm93KCksc2lkOnRoaXMuc3RvcmUuc2Vzc2lvbklkLHVpZDp0aGlzLnN0b3JlLmludFVpZCxzdGF0czplfTt0aGlzLnVwbG9hZChCVi5XUlRDX1NUQVRTLHQpfXVwbG9hZChlLHQpe2NvbnN0IGk9e190eXBlOmUsX21lc3NhZ2U6dH07dHJ5e3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpfWNhdGNoKGUpe2NvbnN0IHQ9Q0QoXCJNQVhfVVBMT0FEX0NBQ0hFXCIpfHw1MDt0aGlzLnVwbG9hZENhY2hlLnB1c2goaSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+dCYmdGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKSx0aGlzLnVwbG9hZENhY2hlLmxlbmd0aD4wJiYhdGhpcy51cGxvYWRDYWNoZUludGVydmFsJiYodGhpcy51cGxvYWRDYWNoZUludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVZWLkNPTk5FQ1RFRClyZXR1cm47Y29uc3QgZT10aGlzLnVwbG9hZENhY2hlLnNwbGljZSgwLDEpWzBdOzA9PT10aGlzLnVwbG9hZENhY2hlLmxlbmd0aCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCksdGhpcy51cGxvYWRDYWNoZUludGVydmFsPXZvaWQgMCksdGhpcy51cGxvYWQoZS5fdHlwZSxlLl9tZXNzYWdlKX0pLENEKFwiVVBMT0FEX0NBQ0hFX0lOVEVSVkFMXCIpfHwyZTMpKX19c2VuZChlLHQpe2NvbnN0IGk9e190eXBlOmUsX21lc3NhZ2U6dH07dGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UoaSl9YXN5bmMgc2VuZEV4dGVuc2lvbk1lc3NhZ2UoZSx0LGkpe3JldHVybiBhd2FpdCB0aGlzLl9leHRlcm5hbF9zaWduYWwuc2VuZChlLHQsaSl9aW5pdChlKXtyZXR1cm4gdGhpcy5pbml0RXJyb3I9dm9pZCAwLHRoaXMubXVsdGlJcE9wdGlvbj12b2lkIDAsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMub3BlbkNvbm5lY3Rpb25UaW1lPXZvaWQgMCxuZXcgcnAoKCh0LGkpPT57dGhpcy5vbmNlKHhWLldTX0NPTk5FQ1RFRCwoKCk9PnQodGhpcy5qb2luUmVzcG9uc2UpKSksdGhpcy5vbmNlKHhWLldTX0NMT1NFRCwoKCk9PmkodGhpcy5pbml0RXJyb3J8fG5ldyBwTyhoTy5XU19BQk9SVCkpKSksdGhpcy5jb25uZWN0aW9uU3RhdGU9VlYuQ09OTkVDVElORyx0aGlzLndlYnNvY2tldC5pbml0KGUpLmNhdGNoKGkpfSkpfWNsb3NlKGUpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLl9leHRlcm5hbF9zaWduYWwuY2xlYXIoKSx0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb249ZXx8Vk8uTEVBVkUsdGhpcy5jb25uZWN0aW9uU3RhdGU9VlYuQ0xPU0VELGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBcIikrXCJ3aWxsIGNsb3NlIHdlYnNvY2tldCBpbiBzaWduYWxcIiksdGhpcy53ZWJzb2NrZXQuY2xvc2UoKSx0aGlzLnAycFRva2VuPVNOKDYsXCJcIiksdGhpcy5fZXh0ZXJuYWxfc2lnbmFsLmNsZWFyKCksdGhpcy5fZXh0ZXJuYWxfc2lnbmFsPW5ldyBHWCh0aGlzLHRoaXMucDJwVG9rZW4pfWFzeW5jIGpvaW4oKXtpZighdGhpcy5qb2luUmVzcG9uc2Upe3RoaXMuZW1pdCh4Vi5BQk9SVF9QMlBfRVhFQ1VUSU9OKTtjb25zdCBlPWF3YWl0IHpPKHRoaXMseFYuUkVRVUVTVF9KT0lOX0lORk8pLHQ9YXdhaXQgdGhpcy5yZXF1ZXN0KEZWLkpPSU4sZSk7aWYoIXQpcmV0dXJuIHRoaXMuZW1pdCh4Vi5SRVBPUlRfSk9JTl9HQVRFV0FZLGhPLlRJTUVPVVQsdGhpcy51cmx8fFwiXCIpLCExO3RoaXMuam9pblJlc3BvbnNlPXQsdGhpcy5lbWl0KHhWLkpPSU5fUkVTUE9OU0UsdGhpcy5qb2luUmVzcG9uc2UpLHRoaXMucmVjb25uZWN0VG9rZW49dGhpcy5qb2luUmVzcG9uc2UucmVqb2luX3Rva2VufXJldHVybiB0aGlzLmNvbm5lY3Rpb25TdGF0ZT1WVi5DT05ORUNURUQsdGhpcy5waW5ncG9uZ1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5oYW5kbGVQaW5nUG9uZy5iaW5kKHRoaXMpLDNlMyksITB9cmVjb25uZWN0KGUsdCl7dGhpcy5waW5ncG9uZ1RpbWVyJiYodGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXZvaWQgMCksdGhpcy53ZWJzb2NrZXQucmVjb25uZWN0KGUsdCl9YXN5bmMgZG93bmdyYWRlQ29kZWMoZSl7cmV0dXJuITF9aGFuZGxlRGF0YVN0cmVhbShlKXt0cnl7dmFyIHQ7Y29uc3QgaT1sTihlLnBheWxvYWQpLG49KG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKGkpLHI9SlNPTi5wYXJzZShuKTtcInRvdGFsXCJpbiByJiZcImlkXCJpbiByfHxMbih0PU9iamVjdC52YWx1ZXMoTHgpKS5jYWxsKHQsci5fdHlwZSk/KHIuX3VpZD1lLnVpZCx0aGlzLl9leHRlcm5hbF9zaWduYWwub25NZXNzYWdlKHIpKTp0aGlzLmVtaXQoalYuT05fREFUQV9TVFJFQU0sZSl9Y2F0Y2godCl7dGhpcy5lbWl0KGpWLk9OX0RBVEFfU1RSRUFNLGUpfX1oYW5kbGVOb3RpZmljYXRpb24oZSl7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY2VpdmUgbm90aWZpY2F0aW9uOiBcIiksZSk7Y29uc3QgdD1CeChlLmNvZGUpO2lmKFwic3VjY2Vzc1wiIT09dC5hY3Rpb24pe2lmKFwiZmFpbGVkXCIhPT10LmFjdGlvbilyZXR1cm5cInF1aXRcIj09PXQuYWN0aW9uP2UuY29kZT09PVVWLkVSUl9SRVBFQVRfSk9JTl9DSEFOTkVMJiZDRChcIklHTk9SRV9VSURfQ0hFQ0tcIik/dm9pZCB0aGlzLmNsb3NlKFZPLlVJRF9DT05GTElDVCk6KFwiRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxcIj09PXQuZGVzYyYmdGhpcy5jbG9zZShWTy5VSURfQkFOTkVEKSx2b2lkIHRoaXMuY2xvc2UoKSk6dm9pZCB0aGlzLnJlY29ubmVjdCh0LmFjdGlvbixITy5TRVJWRVJfRVJST1IpO2lQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBpZ25vcmUgZXJyb3I6IFwiKSx0LmRlc2MpfX1oYW5kbGVQaW5nUG9uZygpe2lmKCF0aGlzLndlYnNvY2tldHx8XCJjb25uZWN0ZWRcIiE9PXRoaXMud2Vic29ja2V0LnN0YXRlKXJldHVybjt0aGlzLnBpbmdwb25nVGltZW91dENvdW50PjAmJnRoaXMucnR0Um9sbGluZy5hZGQoM2UzKSx0aGlzLnBpbmdwb25nVGltZW91dENvdW50Kz0xO2NvbnN0IGU9Q0QoXCJQSU5HX1BPTkdfVElNRV9PVVRcIiksdD1EYXRlLm5vdygpO3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ+PWUmJihpUC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBQSU5HUE9ORyBUaW1lb3V0LiBMYXN0IFNvY2tldCBNZXNzYWdlOiBcIikuY29uY2F0KHQtdGhpcy5sYXN0TXNnVGltZSxcIm1zXCIpKSx0LXRoaXMubGFzdE1zZ1RpbWU+Q0QoXCJXRUJTT0NLRVRfVElNRU9VVF9NSU5cIikpP3RoaXMucmVjb25uZWN0KFwicmV0cnlcIixITy5USU1FT1VUKTp0aGlzLnJlcXVlc3QoRlYuUElORyx2b2lkIDAsITApLnRoZW4oKCgpPT57dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wO2NvbnN0IGU9RGF0ZS5ub3coKS10O3RoaXMucnR0Um9sbGluZy5hZGQoZSksQ0QoXCJSRVBPUlRfU1RBVFNcIikmJnRoaXMuc2VuZChGVi5QSU5HX0JBQ0sse3Bpbmdwb25nRWxhcHNlOmV9KX0pKS5jYXRjaCgoZT0+e30pKX1oYW5kbGVXZWJzb2NrZXRFdmVudHMoKXt0aGlzLndlYnNvY2tldC5vbihXVi5SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sKGU9Pnt0aGlzLmVtaXQoeFYuV1NfUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLGUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKFdWLk9OX01FU1NBR0UsdGhpcy5vbldlYnNvY2tldE1lc3NhZ2UpLHRoaXMud2Vic29ja2V0Lm9uKFdWLkNMT1NFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1WVi5DTE9TRUR9KSksdGhpcy53ZWJzb2NrZXQub24oV1YuRkFJTEVELCgoKT0+e3RoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1WTy5ORVRXT1JLX0VSUk9SLHRoaXMuY29ubmVjdGlvblN0YXRlPVZWLkNMT1NFRH0pKSx0aGlzLndlYnNvY2tldC5vbihXVi5SRUNPTk5FQ1RJTkcsKGU9Pnt0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb249ZSx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5jb25uZWN0aW9uU3RhdGU9PT1WVi5DT05ORUNURUQ/dGhpcy5jb25uZWN0aW9uU3RhdGU9VlYuUkVDT05ORUNUSU5HOnRoaXMuY29ubmVjdGlvblN0YXRlPVZWLkNPTk5FQ1RJTkd9KSksdGhpcy53ZWJzb2NrZXQub24oV1YuV0lMTF9SRUNPTk5FQ1QsKChlLHQsaSk9PntcInJldHJ5XCIhPT1lPyhpUC5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHdlYnNvY2tldCB3aWxsX2Nvbm5lY3QgZXZlbnQsIHJlbmV3U2Vzc2lvbiByZWNvbm5lY3RNb2RlIGlzIFwiKS5jb25jYXQoZSkpLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwKTppUC5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHJlY29ubmVjdCBtb2RlIGlzIHJldHJ5LCBubyBuZWVkIHRvIHJlbmV3IHNlc3Npb25cIikpLGkoZSl9KSksdGhpcy53ZWJzb2NrZXQub24oV1YuQ09OTkVDVEVELCgoKT0+e3RoaXMub3BlbkNvbm5lY3Rpb25UaW1lPURhdGUubm93KCksdGhpcy5qb2luKCkuY2F0Y2goKGU9PntpZih0aGlzLmVtaXQoeFYuUkVQT1JUX0pPSU5fR0FURVdBWSxlLHRoaXMudXJsfHxcIlwiKSxlIGluc3RhbmNlb2YgcE8mJmUuY29kZT09PWhPLlVORVhQRUNURURfUkVTUE9OU0UmJmUuZGF0YS5jb2RlPT09VVYuRVJSX05PX0FVVEhPUklaRUQpcmV0dXJuIGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY29ubmVjdCBubyBhdXRob3JpemVkLCByZWNvdmVyXCIpKSx2b2lkIHRoaXMucmVjb25uZWN0KFwicmVjb3ZlclwiLEhPLlNFUlZFUl9FUlJPUik7aVAuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGpvaW4gZ2F0ZXdheSByZXF1ZXN0IGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLHRoaXMuc3BlYy5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2U/dGhpcy5yZWNvbm5lY3QoXCJ0cnlOZXh0XCIsSE8uU0VSVkVSX0VSUk9SKToodGhpcy5pbml0RXJyb3I9ZSx0aGlzLmNsb3NlKCkpfSkpfSkpLHRoaXMud2Vic29ja2V0Lm9uKFdWLlJFUVVFU1RfTkVXX1VSTFMsKChlLHQpPT57ek8odGhpcyx4Vi5SRVFVRVNUX1JFQ09WRVIsdGhpcy5tdWx0aUlwT3B0aW9uKS50aGVuKGUpLmNhdGNoKHQpfSkpLHRoaXMud2Vic29ja2V0Lm9uKFdWLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFLCgoKT0+e3RoaXMuZW1pdChqVi5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSl9KSl9fWNvbnN0IEhYPXtuYW1lOlwiUDJQQ2hhbm5lbFwiLGNyZWF0ZTpmdW5jdGlvbihlKXtsZXR7c3RvcmU6dCxzdGF0c0NvbGxlY3RvcjppfT1lO3JldHVybiBuZXcgQlgodCxpKX0sY3JlYXRlU3VibW9kdWxlOmZ1bmN0aW9uKGUpe2xldHtzdG9yZTp0LHNwZWM6aX09ZTtyZXR1cm4gbmV3IFdYKGksdCl9fTtmdW5jdGlvbiBLWChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gWVgoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/S1goT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6S1goT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3Mgelh7Y29uc3RydWN0b3IoZSl7aUEodGhpcyxcInNlc3Npb25EZXNjXCIsdm9pZCAwKSxpQSh0aGlzLFwibG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLGlBKHRoaXMsXCJydHBDYXBhYmlsaXRpZXNcIix2b2lkIDApLGlBKHRoaXMsXCJjYW5kaWRhdGVzXCIsdm9pZCAwKSxpQSh0aGlzLFwiX29yaWdpbkNhbmRpZGF0ZXNcIix2b2lkIDApLGlBKHRoaXMsXCJpY2VQYXJhbWV0ZXJzXCIsdm9pZCAwKSxpQSh0aGlzLFwiZHRsc1BhcmFtZXRlcnNcIix2b2lkIDApLGlBKHRoaXMsXCJzZXR1cFwiLHZvaWQgMCksaUEodGhpcyxcImN1cnJlbnRNaWRJbmRleFwiLHZvaWQgMCksaUEodGhpcyxcImNuYW1lXCIsdm9pZCAwKSxlPXNOKGUpO2NvbnN0e2ljZVBhcmFtZXRlcnM6dCxkdGxzUGFyYW1ldGVyczppLGNhbmRpZGF0ZXM6bixydHBDYXBhYmlsaXRpZXM6cixzZXR1cDpvLGxvY2FsQ2FwYWJpbGl0aWVzOnMsc2RrQ29kZWM6YSxjbmFtZTpjfT1lLGQ9TEQoXCJ2PTBcXG5vPS0gMCAwIElOIElQNCAxMjcuMC4wLjFcXG5zPUFnb3JhR2F0ZXdheVxcbnQ9MCAwXFxuYT1ncm91cDpCVU5ETEUgYXVkaW8gdmlkZW9cXG5hPW1zaWQtc2VtYW50aWM6IFdNU1xcbmE9aWNlLWxpdGVcXG5tPWF1ZGlvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxcbmM9SU4gSVA0IDEyNy4wLjAuMVxcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxuYT1zZW5kcmVjdlxcbmE9cnRjcC1tdXhcXG5hPXJ0Y3AtcnNpemVcXG5hPW1pZDphdWRpb1xcbm09dmlkZW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXFxuYz1JTiBJUDQgMTI3LjAuMC4xXFxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXG5hPXNlbmRyZWN2XFxuYT1ydGNwLW11eFxcbmE9cnRjcC1yc2l6ZVxcbmE9bWlkOnZpZGVvXFxuXCIpO3RoaXMucnRwQ2FwYWJpbGl0aWVzPXIsdGhpcy5jYW5kaWRhdGVzPW4sdGhpcy5fb3JpZ2luQ2FuZGlkYXRlcz1zTihuKSx0aGlzLmljZVBhcmFtZXRlcnM9dCx0aGlzLmR0bHNQYXJhbWV0ZXJzPWksdGhpcy5zZXR1cD1vLHRoaXMubG9jYWxDYXBhYmlsaXRpZXM9cyx0aGlzLmNuYW1lPWM7Zm9yKGxldCBlPTA7ZTxkLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aDtlKyspe2NvbnN0IHM9ZC5tZWRpYURlc2NyaXB0aW9uc1tlXTtpZihzLmF0dHJpYnV0ZXMuaWNlVWZyYWc9dC5pY2VVZnJhZyxzLmF0dHJpYnV0ZXMuaWNlUHdkPXQuaWNlUHdkLHMuYXR0cmlidXRlcy5maW5nZXJwcmludHM9aS5maW5nZXJwcmludHMscy5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9bixzLmF0dHJpYnV0ZXMuc2V0dXA9byxcInZpZGVvXCI9PT1zLm1lZGlhLm1lZGlhVHlwZSl7cy5tZWRpYS5mbXRzPXIudmlkZW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpO2NvbnN0IGU9ci52aWRlb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdCxpO3JldHVybiBudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDpMbihpPXQuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpLmNhbGwoaSxhKX0pKSx0PXIudmlkZW9Db2RlY3MuZmlsdGVyKCh0PT4hTG4oZSkuY2FsbChlLHQpKSk7cy5hdHRyaWJ1dGVzLnBheWxvYWRzPVsuLi5lLC4uLnRdLHMuYXR0cmlidXRlcy5leHRtYXBzPXIudmlkZW9FeHRlbnNpb25zfVwiYXVkaW9cIj09PXMubWVkaWEubWVkaWFUeXBlJiYocy5tZWRpYS5mbXRzPXIuYXVkaW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLHMuYXR0cmlidXRlcy5wYXlsb2Fkcz1yLmF1ZGlvQ29kZWNzLHMuYXR0cmlidXRlcy5leHRtYXBzPXIuYXVkaW9FeHRlbnNpb25zKSxkLm1lZGlhRGVzY3JpcHRpb25zW2VdPXRoaXMubXVuZ01lZGlhRGVzYyhzKX10aGlzLnNlc3Npb25EZXNjPWQsdGhpcy5jdXJyZW50TWlkSW5kZXg9ZC5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMX10b1N0cmluZygpe3JldHVybiBrRCh0aGlzLnNlc3Npb25EZXNjKX1zZW5kKGUsdCxpKXtjb25zdHtzc3JjczpuLHNzcmNHcm91cHM6cn09TEYodCx0aGlzLmNuYW1lKSxvPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+ZT09PWZ4LlZJREVPP1widmlkZW9cIj09PXQubWVkaWEubWVkaWFUeXBlOlwiYXVkaW9cIj09PXQubWVkaWEubWVkaWFUeXBlKSkscz1uWzBdLmF0dHJpYnV0ZXMubGFiZWwsYT1uWzBdLmF0dHJpYnV0ZXMubXNsYWJlbDtyZXR1cm4gby5hdHRyaWJ1dGVzLnNzcmNzPW8uYXR0cmlidXRlcy5zc3Jjcy5jb25jYXQobiksby5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9by5hdHRyaWJ1dGVzLnNzcmNHcm91cHMuY29uY2F0KHIpLHtpZDpzLG1zbGFiZWw6YX19YmF0Y2hTZW5kKGUpe3JldHVybiBlLm1hcCgoZT0+e2xldHtraW5kOnQsc3NyY01zZzppfT1lO3JldHVybiB0aGlzLnNlbmQodCxpLHZvaWQgMCl9KSl9c3RvcFNlbmRpbmcoZSl7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKCh0PT57Y29uc3QgaT1bXSxuPVtdLHI9W107dC5hdHRyaWJ1dGVzLnNzcmNzLmZvckVhY2goKHQ9PntMbihlKS5jYWxsKGUsdC5hdHRyaWJ1dGVzLmxhYmVsfHxcIlwiKT9yLnB1c2godCk6aS5wdXNoKHQpfSkpLHQuYXR0cmlidXRlcy5zc3JjR3JvdXBzLmZvckVhY2goKGU9Pnt2YXIgdDtMbih0PXIubWFwKChlPT5lLnNzcmNJZCkpKS5jYWxsKHQsZS5zc3JjSWRzWzBdKXx8bi5wdXNoKGUpfSkpLHQuYXR0cmlidXRlcy5zc3Jjcz1pLHQuYXR0cmlidXRlcy5zc3JjR3JvdXBzPW59KSl9bXV0ZShlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9uIG5vdCBmb3VuZCB3aXRoIFwiLmNvbmNhdChlLFwiIGluIHJlbW90ZSBTRFAgd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlLlwiKSk7dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9dW5tdXRlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb24gbm90IGZvdW5kIHdpdGggXCIuY29uY2F0KGUsXCIgaW4gcmVtb3RlIFNEUCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnVubXV0ZS5cIikpO3QuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJzZW5kb25seVwifXJlY2VpdmUoZSx0LGkpe2UuZm9yRWFjaCgoKGUsdCk9Pntjb25zdCBpPWUuX21lZGlhU3RyZWFtVHJhY2ssbj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZD09PWkua2luZCkpLHI9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW25dLGUpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbbl09cn0pKX1zdG9wUmVjZWl2aW5nKGUpe311cGRhdGVDYW5kaWRhdGVzKGUpe2NvbnN0IHQ9dGhpcy5fb3JpZ2luQ2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidWRwXCI9PT1lLnRyYW5zcG9ydCkpLGk9W107aWYodC5mb3JFYWNoKChlPT57aS5wdXNoKFlYKFlYKHt9LGUpLHt9LHtmb3VuZGF0aW9uOlwidGNwY2FuZGlkYXRlXCIscHJpb3JpdHk6TnVtYmVyKGUucHJpb3JpdHkpLTErXCJcIix0cmFuc3BvcnQ6XCJ0Y3BcIixwb3J0Ok51bWJlcihlLnBvcnQpKzkwK1wiXCJ9KSl9KSksMCE9PXQubGVuZ3RoKXtzd2l0Y2goZSl7Y2FzZSBTeC5UQ1BfUkVMQVk6dGhpcy5jYW5kaWRhdGVzPWk7YnJlYWs7Y2FzZSBTeC5VRFBfVENQX1JFTEFZOmNhc2UgU3guUkVMQVk6dGhpcy5jYW5kaWRhdGVzPVsuLi50LC4uLmldO2JyZWFrO2RlZmF1bHQ6dGhpcy5jYW5kaWRhdGVzPXR9Zm9yKGNvbnN0IGUgb2YgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucyllLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz10aGlzLmNhbmRpZGF0ZXN9fXJlc3RhcnRJQ0UoZSl7ZT1zTihlKSx0aGlzLmljZVBhcmFtZXRlcnM9ZSx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2goKHQ9Pnt0LmF0dHJpYnV0ZXMuaWNlVWZyYWc9ZS5pY2VVZnJhZyx0LmF0dHJpYnV0ZXMuaWNlUHdkPWUuaWNlUHdkfSkpfXByZWRpY3RSZWNlaXZpbmdNaWRzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlO2krKyl0LnB1c2goKHRoaXMuY3VycmVudE1pZEluZGV4K2krMSkudG9TdHJpbmcoMTApKTtyZXR1cm4gdH1tdW5nUmVjdk1lZGlhRHNlYyhlLHQpe2NvbnN0IGk9c04oZSk7cmV0dXJuIGtGKGksdCksVUYoaSx0KSxpfXVwZGF0ZVJlY3ZNZWRpYShlLHQpe2NvbnN0IGk9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoLTEhPT1pKXtjb25zdCBlPXRoaXMubXVuZ1JlY3ZNZWRpYURzZWModGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tpXSx0KTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2ldPWV9fWJ1bXBNaWQoZSl7dGhpcy5jdXJyZW50TWlkSW5kZXgrPWV9dXBkYXRlVHJhY2tMYWJlbChlLHQsaSl7Y29uc3Qgbj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PmU9PT1meC5WSURFTz9cInZpZGVvXCI9PT10LmF0dHJpYnV0ZXMubWlkOlwiYXVkaW9cIj09PXQuYXR0cmlidXRlcy5taWQpKTtpZihuKXtjb25zdCBlPW4uYXR0cmlidXRlcy5zc3Jjcy5maW5kKChlPT5lLmF0dHJpYnV0ZXMubGFiZWw9PT10KSk7dmFyIHI7aWYoZSllLmF0dHJpYnV0ZXMubGFiZWw9aSxudWxsPT09KHI9ZS5hdHRyaWJ1dGVzLm1zaWQpfHx2b2lkIDA9PT1yfHxyLnJlcGxhY2UodCxpKX19bXVuZ01lZGlhRGVzYyhlKXtjb25zdCB0PXNOKGUpO3JldHVybiBNRih0KSxmdW5jdGlvbihlKXtjb25zdCB0PWUuYXR0cmlidXRlcy5leHRtYXBzLmZpbmQoKGU9PklGKGUuZXh0ZW5zaW9uTmFtZSkpKTt0JiZlLmF0dHJpYnV0ZXMuZXh0bWFwcy5zcGxpY2UoZS5hdHRyaWJ1dGVzLmV4dG1hcHMuaW5kZXhPZih0KSwxKSxlLmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9ZS5ydGNwRmVlZGJhY2tzLmZpbmRJbmRleCgoZT0+XCJ0cmFuc3BvcnQtY2NcIj09PWUudHlwZSkpOy0xIT09dCYmZS5ydGNwRmVlZGJhY2tzLnNwbGljZSh0LDEpfSkpfSh0KSx0fWdldFNTUkMoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucylmb3IoY29uc3QgaSBvZiB0LmF0dHJpYnV0ZXMuc3NyY3MpaWYoaS5hdHRyaWJ1dGVzLmxhYmVsPT09ZSlyZXR1cm5baV19fXZhciBxWDtmdW5jdGlvbiBYWChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gSlgoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/WFgoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6WFgoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9bGV0IFFYPShxWD1jbGFzcyBlIGV4dGVuZHMgbXh7Z2V0IHBlZXJDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGV9Z2V0IGljZUNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZX1nZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWdldCBsb2NhbENvZGVjcygpe3JldHVyblsuLi5uZXcgU2V0KHRoaXMubG9jYWxDYXBhYmlsaXRpZXMmJnRoaXMubG9jYWxDYXBhYmlsaXRpZXMudmlkZW9Db2RlY3MubWFwKChlPT5lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpKS5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gTG4odD1PYmplY3Qua2V5cyhBRCkpLmNhbGwodCxlKX0pKSldfWNvbnN0cnVjdG9yKHQsaSl7c3VwZXIodCxpKSxpQSh0aGlzLFwic3RvcmVcIix2b2lkIDApLGlBKHRoaXMsXCJwZWVyQ29ubmVjdGlvblwiLHZvaWQgMCksaUEodGhpcyxcInJlbW90ZVNEUFwiLHZvaWQgMCksaUEodGhpcyxcImluaXRpYWxPZmZlclwiLHZvaWQgMCksaUEodGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxpQSh0aGlzLFwidXNlUlRYXCIsITEpLGlBKHRoaXMsXCJsb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksaUEodGhpcyxcImxvY2FsQ2FuZGlkYXRlQ291bnRcIiwwKSxpQSh0aGlzLFwiYWxsQ2FuZGlkYXRlc1JlY2VpdmVkXCIsITEpLGlBKHRoaXMsXCJlc3RhYmxpc2hQcm9taXNlXCIsdm9pZCAwKSxpQSh0aGlzLFwibXV0ZXhcIix2b2lkIDApLHRoaXMuc3RvcmU9aSx0aGlzLm11dGV4PW5ldyBQTihcIlAyUENvbm5lY3Rpb24tbXV0ZXhcIixpLmNsaWVudElkKSx0aGlzLnBlZXJDb25uZWN0aW9uPW5ldyBSVENQZWVyQ29ubmVjdGlvbihlLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCkse29wdGlvbmFsOlt7Z29vZ0RzY3A6ITB9XX0pLHRoaXMuc3RhdHNGaWx0ZXI9ZEQodGhpcy5wZWVyQ29ubmVjdGlvbixDRChcIlNUQVRTX1VQREFURV9JTlRFUlZBTFwiKSx2b2lkIDAsQncoKT8xMjAwOnZvaWQgMCksdGhpcy5iaW5kUENFdmVudHMoKSx0aGlzLmJpbmRTdGF0c0V2ZW50cygpLHRoaXMuc3RvcmUucDJwSWQ9dGhpcy5zdG9yZS5wMnBJZCsxLHRoaXMuZXN0YWJsaXNoUHJvbWlzZT10aGlzLmVzdGFibGlzaCgpfWFzeW5jIGVzdGFibGlzaCgpe3RyeXtjb25zdCBlPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoe29mZmVyVG9SZWNlaXZlQXVkaW86ITAsb2ZmZXJUb1JlY2VpdmVWaWRlbzohMH0pO2lmKCFlLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGluaXRpYWxPZmZlci5zZHAgd2hlbiB0cnlpbmcgdG8gZXN0YWJsaXNoIFBlZXJDb25uZWN0aW9uLlwiKTtjb25zdCB0PU9GKGUuc2RwKSxpPXdGKGUuc2RwLHtmaWx0ZXJSVFg6IXRoaXMudXNlUlRYLGZpbHRlclZpZGVvRmVjOkNEKFwiRklMVEVSX1ZJREVPX0ZFQ1wiKSxmaWx0ZXJBdWRpb0ZlYzpDRChcIkZJTFRFUl9BVURJT19GRUNcIiksZmlsdGVyQXVkaW9Db2RlYzpbXCJvcHVzXCJdfSk7cmV0dXJuIHRoaXMubG9jYWxDYXBhYmlsaXRpZXM9aSx0aGlzLmluaXRpYWxPZmZlcj1lLEpYKEpYKHt9LHQpLHt9LHtydHBDYXBhYmlsaXRpZXM6e3NlbmQ6e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHJlY3Y6e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHNlbmRyZWN2Oml9LG9mZmVyU0RQOmUuc2RwfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRUQsZS50b1N0cmluZygpKX19YXN5bmMgdXBkYXRlUmVtb3RlQ29ubmVjdCgpe31hc3luYyBjb25uZWN0KGUpe3RyeXtpZighdGhpcy5pbml0aWFsT2ZmZXIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGVzdGFibGlzaCBQMlBDb25uZWN0aW9uIHdpdGhvdXQgaW5pdGlhbCBvZmZlci5cIik7dGhpcy5yZW1vdGVTRFA9bmV3IHpYKEpYKEpYKHt9LGUpLHt9LHtydHBDYXBhYmlsaXRpZXM6ZS5ydHBDYXBhYmlsaXRpZXMuc2VuZCxsb2NhbENhcGFiaWxpdGllczp0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLHNka0NvZGVjOnRoaXMuc3RvcmUuY29kZWN9KSk7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih0aGlzLmluaXRpYWxPZmZlciksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDp0fSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmNvbm5lY3QgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlLHQpe3Rocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiUGxhbmIgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IGNyZWF0ZURhdGFDaGFubmVscy5cIil9Z2V0UHJlTWVkaWEoZSl7fXNlbmQoZSx0KXt2YXIgaT10aGlzO3JldHVybiBNYigoZnVuY3Rpb24qKCl7Y29uc3Qgbj15aWVsZCBWYihpLm11dGV4LmxvY2soKSk7dHJ5e2lmKCFpLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnNlbmQgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtjb25zdCByPWUubWFwKChlPT5pLnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKGUuX21lZGlhU3RyZWFtVHJhY2spKSksbz15aWVsZCBWYihpLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkpLHM9TEQoby5zZHApLGE9ZS5tYXAoKGU9Pntjb25zdCB0PWUuX21lZGlhU3RyZWFtVHJhY2ssbj1zLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT10LmtpbmQpKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXh0cmFjdCBzc3JjIGZyb20gbWVkaWFEZXNjcmlwdGlvbi5cIik7cmV0dXJuIGZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPWUuYXR0cmlidXRlcy5zc3Jjcy5maWx0ZXIoKGU9PmUuYXR0cmlidXRlcy5sYWJlbD09PXQpKSxyPWUuYXR0cmlidXRlcy5zc3JjR3JvdXBzO2lmKDA9PT1uLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXh0cmFjdCBzc3JjIGZyb20gcGxhbi1iIFNEUC5cIik7aWYociYmbi5sZW5ndGg+MSl7Y29uc3QgZT1yLmZpbmQoKGU9Pi0xIT09ZS5zc3JjSWRzLmluZGV4T2YoblswXS5zc3JjSWQpKSk7cmV0dXJuIGU/W3tzc3JjSWQ6ZS5zc3JjSWRzWzBdLHJ0eDppP2Uuc3NyY0lkc1sxXTp2b2lkIDB9XTpbe3NzcmNJZDpuWzBdLnNzcmNJZH1dfXJldHVyblt7c3NyY0lkOm5bMF0uc3NyY0lkfV19KG4sdC5pZCxpLnVzZVJUWCl9KSk7bGV0IGM7dHJ5e2M9eWllbGQgYX1jYXRjaChlKXt0aHJvdyByLmZvckVhY2goKGU9PntWdygpJiZlLnJlcGxhY2VUcmFjayhudWxsKSxpLnBlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrKGUpfSkpLGV9Y29uc3QgZD1pLm11bmdTZW5kT2ZmZXJTRFAoby5zZHAsZSk7aS5yZW1vdGVTRFAucmVjZWl2ZShlLHQsYyk7Y29uc3QgbD1pLnJlbW90ZVNEUC50b1N0cmluZygpO3JldHVybiB5aWVsZCBWYihpLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpkfSkpLHlpZWxkIFZiKGkuYXBwbHlTZW5kRW5jb2RpbmdzKHIsZSkpLHlpZWxkIFZiKGkucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6bH0pKSxlLm1hcCgoKGUsdCk9Pntjb25zdCBpPWUuX21lZGlhU3RyZWFtVHJhY2suaWQ7cmV0dXJue2xvY2FsU1NSQzphW3RdLGlkOml9fSkpfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zZW5kIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfWZpbmFsbHl7bigpfX0pKSgpfWFzeW5jIHN0b3BTZW5kaW5nKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmlsdGVyKCh0PT57dmFyIGk7cmV0dXJuLTEhPT1lLmluZGV4T2YoKG51bGw9PT0oaT10LnRyYWNrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pZCl8fFwiXCIpfSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiB0cnlpbmcgdG8gY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nLlwiKTt0Lm1hcCgoZT0+e1Z3KCkmJmUucmVwbGFjZVRyYWNrKG51bGwpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2soZSl9KSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLnN0b3BSZWNlaXZpbmcoZSk7Y29uc3Qgbj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6bn0pfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgcmVjZWl2ZShlLHQsaSxuKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ucmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpKTtjb25zdHtpZDppLG1zbGFiZWw6cn09dGhpcy5yZW1vdGVTRFAuc2VuZChlLHQsbiksbz1uZXcgcnAoKCh0LG4pPT57Y29uc3Qgbz1zZXRUaW1lb3V0KCgoKT0+e24obmV3IEVycm9yKFwiQ2Fubm90IHJlY2VpdmUgdHJhY2ssIGlkOiBcIi5jb25jYXQoaSkpKX0pLDFlNCkscz1uPT57Y29uc3QgYT1EdygpO2lmKChcIlNhZmFyaVwiPT09YS5uYW1lJiYxMT09PU51bWJlcihhLnZlcnNpb24pfHxqdygpKSYmbi50cmFjay5pZCE9PWkmJm4uc3RyZWFtc1swXS5pZD09PXIpe3ZhciBjO2NvbnN0IHI9bi5zdHJlYW1zWzBdLmdldFRyYWNrcygpWzBdO3JldHVybiBudWxsPT09KGM9dGhpcy5yZW1vdGVTRFApfHx2b2lkIDA9PT1jfHxjLnVwZGF0ZVRyYWNrTGFiZWwoZSxpLG4udHJhY2suaWQpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIscyksY2xlYXJUaW1lb3V0KG8pLHZvaWQgdChyKX1pZihuLnRyYWNrLmlkPT09aSlyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIixzKSxjbGVhclRpbWVvdXQobyksdm9pZCB0KG4udHJhY2spfTt0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHMpfSkpLHM9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6c30pO2NvbnN0IGE9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oYSk7cmV0dXJue3RyYWNrOmF3YWl0IG8saWQ6aX19Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BSZWNlaXZpbmcoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7dGhpcy5yZW1vdGVTRFAuc3RvcFNlbmRpbmcoZSk7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgbXV0ZVJlbW90ZShlKXt9YXN5bmMgdW5tdXRlUmVtb3RlKGUpe31hc3luYyBtdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLm11dGVMb2NhbCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbHRlcigodD0+e3ZhciBpO3JldHVybi0xIT09ZS5pbmRleE9mKChudWxsPT09KGk9dC50cmFjayl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQpfHxcIlwiKX0pKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInNlbmRlcicgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoZT0+e2lmKFZ3KCkmJmUudHJhY2spZS50cmFjay5lbmFibGVkPSExO2Vsc2V7Y29uc3QgdD1lLmdldFBhcmFtZXRlcnMoKTt0LmVuY29kaW5ncy5mb3JFYWNoKChlPT5lLmFjdGl2ZT0hMSkpLGUuc2V0UGFyYW1ldGVycyh0KX19KSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdW5tdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmlsdGVyKCh0PT57dmFyIGk7cmV0dXJuLTEhPT1lLmluZGV4T2YoKG51bGw9PT0oaT10LnRyYWNrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pZCl8fFwiXCIpfSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiU2VuZGVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoYXN5bmMgZT0+e2lmKFZ3KCkmJmUudHJhY2spZS50cmFjay5lbmFibGVkPSEwO2Vsc2V7Y29uc3QgdD1lLmdldFBhcmFtZXRlcnMoKTt0LmVuY29kaW5ncy5mb3JFYWNoKChlPT5lLmFjdGl2ZT0hMCkpLGF3YWl0IGUuc2V0UGFyYW1ldGVycyh0KX19KSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpO2NvbnN0IG49dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm59KX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24udW5tdXRlTG9jYWwgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fXJlc3RhcnRJQ0UoZSl7dmFyIHQ9dGhpcztyZXR1cm4gTWIoKGZ1bmN0aW9uKigpe2NvbnN0IGk9eWllbGQgVmIodC5tdXRleC5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLnJlc3RhcnRJQ0VcIikpO3RyeXtpZighdC5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKTtjb25zdCBuPXBQKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbjtpZihlPT09U3guUkVMQVkmJiFuKXJldHVybjtpZihuKXtjb25zdCBpPXQucGVlckNvbm5lY3Rpb24uZ2V0Q29uZmlndXJhdGlvbigpLG49ZT09PVN4LlJFTEFZP1wicmVsYXlcIjpcImFsbFwiO2kuaWNlVHJhbnNwb3J0UG9saWN5IT09biYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0b3JlLmNsaWVudElkLFwiXSByZXN0YXJ0SUNFIGNoYW5nZSBpY2VUcmFuc3BvcnRQb2xpY3kgZnJvbSBbXCIpLmNvbmNhdChpLmljZVRyYW5zcG9ydFBvbGljeSxcIl0gdG8gW1wiKS5jb25jYXQobixcIl1cIikpLGkuaWNlVHJhbnNwb3J0UG9saWN5PW4sdC5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGkpKX1lIT09U3guUkVMQVkmJnQucmVtb3RlU0RQLnVwZGF0ZUNhbmRpZGF0ZXMoZSk7Y29uc3Qgcj15aWVsZCBWYih0LnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHtpY2VSZXN0YXJ0OiEwfSkpO2lmKCFyLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzdGFydElDRSBiZWNhdXNlIHJlc3RhcnQgb2ZmZXIgU0RQIGRvZXMgbm90IGV4aXN0LlwiKTtjb25zdCBvPU9GKHIuc2RwKSx7cmVtb3RlSWNlUGFyYW1ldGVyczpzfT15aWVsZCBvLmljZVBhcmFtZXRlcnM7dC5yZW1vdGVTRFAucmVzdGFydElDRShzKTtjb25zdCBhPXQucmVtb3RlU0RQLnRvU3RyaW5nKCk7eWllbGQgVmIodC5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHIpKSx5aWVsZCBWYih0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOmF9KSl9Y2F0Y2goZSl7aVAud2FybmluZyhcIltcIi5jb25jYXQodC5zdG9yZS5jbGllbnRJZCxcIl0gcmVzdGFydCBJQ0UgZmFpbGVkLCBhYm9ydCBvcGVyYXRpb25cIiksZSl9ZmluYWxseXtpKCl9fSkpKCl9Y2xvc2UoKXt2YXIgZTt0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCksbnVsbD09PShlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyxcImNsb3NlZFwiKSx0aGlzLnVuYmluZFBDRXZlbnRzKCksdGhpcy51bmJpbmRTdGF0c0V2ZW50cygpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5zdGF0c0ZpbHRlci5kZXN0cm95KCl9Z2V0U3RhdHMoKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRTdGF0cygpfWdldFJlbW90ZVZpZGVvSXNSZWFkeShlKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRWaWRlb0lzUmVhZHkoZSl9YXN5bmMgdXBkYXRlRW5jb2RlckNvbmZpZyhlLHQpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IGU9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLGk9dGhpcy5tdW5nU2VuZE9mZmVyU0RQKGUuc2RwLFt0XSk7dGhpcy5yZW1vdGVTRFAudXBkYXRlUmVjdk1lZGlhKHQuX21lZGlhU3RyZWFtVHJhY2sua2luZCx0KTtjb25zdCBuPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6aX0pLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6bn0pfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELGUudG9TdHJpbmcoKSl9fWFzeW5jIHVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGUsdCl7Y29uc3QgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maWx0ZXIoKHQ9Pnt2YXIgaTtyZXR1cm4obnVsbD09PShpPXQudHJhY2spfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmlkKT09PWV9KSk7MT09PWkubGVuZ3RoJiZhd2FpdCB0aGlzLmFwcGx5U2VuZEVuY29kaW5ncyhpLFt0XSl9c2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoZSx0KXt0aGlzLnN0YXRzRmlsdGVyLnNldFZpZGVvSXNSZWFkeTIoZSx0KX1hc3luYyByZXBsYWNlVHJhY2soZSx0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbmQoKGU9Pnt2YXIgaTtyZXR1cm4obnVsbD09PShpPWUudHJhY2spfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmlkKT09PXR9KSk7aSYmYXdhaXQgaS5yZXBsYWNlVHJhY2soZS5fbWVkaWFTdHJlYW1UcmFjayl9Y3JlYXRlRGF0YUNoYW5uZWxzKGUsdCl7dGhyb3cgbmV3IHBPKGhPLk5PVF9TVVBQT1JURUQsXCJQbGFuYiBtb2RlIGRvZXMgbm90IHN1cHBvcnQgY3JlYXRlRGF0YUNoYW5uZWxzLlwiKX1zdG9wRGF0YUNoYW5uZWxzKGUpe3Rocm93IG5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwiUGxhbmIgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHN0b3BEYXRhQ2hhbm5lbHMuXCIpfWJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZTtudWxsPT09KGU9dGhpcy5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWU9PntlLmNhbmRpZGF0ZT90aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQrPTE6KHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpfSxzZXRUaW1lb3V0KCgoKT0+e3RoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkfHwodGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWQ9ITAsaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIG9uaWNlY2FuZGlkYXRlIHRpbWVvdXQsIGxvY2FsIGNhbmRpZGF0ZSBjb3VudFwiKSx0aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQpKX0pLENEKFwiQ0FORElEQVRFX1RJTUVPVVRcIikpfXVuYmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlZXJyb3I9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnRyYWNrPW51bGx9c3RhdGljIHJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCl7Y29uc3QgaT17aWNlU2VydmVyczpbXSxzZHBTZW1hbnRpY3M6XCJwbGFuLWJcIn07cmV0dXJuIHQuaWNlU2VydmVycz9pLmljZVNlcnZlcnM9dC5pY2VTZXJ2ZXJzOnQudHVyblNlcnZlciYmXCJvZmZcIiE9PXQudHVyblNlcnZlci5tb2RlJiYoeE8odC50dXJuU2VydmVyLnNlcnZlcnMpP2kuaWNlU2VydmVycz10LnR1cm5TZXJ2ZXIuc2VydmVyczooaS5pY2VTZXJ2ZXJzJiZpLmljZVNlcnZlcnMucHVzaCguLi5lLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnModC50dXJuU2VydmVyLnNlcnZlcnMpKSxDRChcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpJiZpLmljZVNlcnZlcnMmJnQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJmkuaWNlU2VydmVycy5wdXNoKC4uLmUudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyh0LnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5KSksdC50dXJuU2VydmVyLnNlcnZlcnMuY29uY2F0KHQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXl8fFtdKS5mb3JFYWNoKChlPT57ZS5mb3JjZXR1cm4mJihpLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpfSkpKSksaX1zdGF0aWMgdHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PntlLnNlY3VyaXR5P2UudGNwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChlLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pOihlLnVkcHBvcnQmJnQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChlLnVkcHBvcnQsXCI/dHJhbnNwb3J0PXVkcFwiKX0pLGUudGNwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSkpfSkpLHR9YXN5bmMgdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKGUsdCl7dmFyIGk7aWYoIXQpe3Q9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmluZCgodD0+e3ZhciBpO3JldHVybihudWxsPT09KGk9dC50cmFjayl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQpPT09ZS5fbWVkaWFTdHJlYW1UcmFjay5pZH0pKX1pZighdClyZXR1cm4gaVAud2FybihcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIG5vIHJ0cFNlbmRlciBmb3VuZH1cIikpO2lmKCFwUCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybiBpUC53YXJuKFwiQnJvd3NlciBub3Qgc3VwcG9ydCBzZXQgcnRwLXNlbmRlciBwYXJhbWV0ZXJzXCIpO2NvbnN0IG49e30scj17fTtpZihlIGluc3RhbmNlb2Yga00pc3dpdGNoKGUuX29wdGltaXphdGlvbk1vZGUpe2Nhc2VcIm1vdGlvblwiOm4uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwibWFpbnRhaW4tZnJhbWVyYXRlXCI7YnJlYWs7Y2FzZVwiZGV0YWlsXCI6bi5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1yZXNvbHV0aW9uXCI7YnJlYWs7ZGVmYXVsdDpuLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cImJhbGFuY2VkXCJ9aWYoQ0QoXCJEU0NQX1RZUEVcIikmJnNPKCkpe3ZhciBvO2NvbnN0IGU9Q0QoXCJEU0NQX1RZUEVcIik7TG4obz1bXCJ2ZXJ5LWxvd1wiLFwibG93XCIsXCJtZWRpdW1cIixcImhpZ2hcIl0pLmNhbGwobyxlKSYmKHIubmV0d29ya1ByaW9yaXR5PWUpfWNvbnN0IHM9dC5nZXRQYXJhbWV0ZXJzKCksYT1udWxsPT09KGk9cy5lbmNvZGluZ3MpfHx2b2lkIDA9PT1pP3ZvaWQgMDppWzBdO2EmJk9iamVjdC5hc3NpZ24oYSxyKSxPYmplY3QuYXNzaWduKHMsbiksaVAuZGVidWcoXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3M6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkocy5lbmNvZGluZ3MpKSksYXdhaXQgdC5zZXRQYXJhbWV0ZXJzKHMpfWFzeW5jIGFwcGx5U2VuZEVuY29kaW5ncyhlLHQpe3RyeXtpZighcFAoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm47aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm47Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49ZVtpXSxyPXRbaV07biYmciYmYXdhaXQgdGhpcy51cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MocixuKX19Y2F0Y2goZSl7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIEFwcGx5IFJUUFNlbmRFbmNvZGluZ3MgZmFpbGVkLlwiKSl9fW11bmdTZW5kT2ZmZXJTRFAoZSx0KXtjb25zdCBpPUxEKGUpO3JldHVybiB0LmZvckVhY2goKChlLHQpPT57Y29uc3Qgbj1lLl9tZWRpYVN0cmVhbVRyYWNrLHI9aS5tZWRpYURlc2NyaXB0aW9ucy5maW5kKChlPT5lLmF0dHJpYnV0ZXMubWlkPT09bi5raW5kKSk7ciYma0YocixlKX0pKSxrRChpKX1iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0VmlkZW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt2YXIgbjtudWxsPT09KG49dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKXx8dm9pZCAwPT09bnx8bi5jYWxsKHRoaXMsZSx0LGkpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pnt2YXIgaTtudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX19dW5iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMH1hc3luYyBiYXRjaFJlY2VpdmUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLmJhdGNoUmVjZWl2ZSBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAuYmF0Y2hTZW5kKGUpLm1hcCgoKHQsaSk9PntsZXR7aWQ6bixtc2xhYmVsOnJ9PXQ7Y29uc3R7a2luZDpvfT1lW2ldO3JldHVybiBuZXcgcnAoKChlLHQpPT57Y29uc3QgaT1zZXRUaW1lb3V0KCgoKT0+e3QobmV3IEVycm9yKFwiQ2Fubm90IHJlY2VpdmUgdHJhY2ssIGlkOiBcIi5jb25jYXQobikpKX0pLDFlNCkscz10PT57Y29uc3QgYT1EdygpO2lmKFwiU2FmYXJpXCI9PT1hLm5hbWUmJjExPT09TnVtYmVyKGEudmVyc2lvbikmJnQudHJhY2suaWQhPT1uJiZ0LnN0cmVhbXNbMF0uaWQ9PT1yKXt2YXIgYztjb25zdCByPXQuc3RyZWFtc1swXS5nZXRUcmFja3MoKVswXTtyZXR1cm4gbnVsbD09PShjPXRoaXMucmVtb3RlU0RQKXx8dm9pZCAwPT09Y3x8Yy51cGRhdGVUcmFja0xhYmVsKG8sbix0LnRyYWNrLmlkKSx0aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHMpLGNsZWFyVGltZW91dChpKSx2b2lkIGUoe3RyYWNrOnIsaWQ6bn0pfWlmKHQudHJhY2suaWQ9PT1uKXJldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHMpLGNsZWFyVGltZW91dChpKSx2b2lkIGUoe3RyYWNrOnQudHJhY2ssaWQ6bn0pfTt0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHMpfSkpfSkpLGk9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6aX0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtyZXR1cm4gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pLGF3YWl0IHJwLmFsbCh0KX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ucmVjZWl2ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgZ2V0UmVtb3RlU1NSQyhlKXtpZighdGhpcy5yZW1vdGVTRFApcmV0dXJuO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAuZ2V0U1NSQyhlKTtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFswXS5zc3JjSWR9c2V0Q29uZmlndXJhdGlvbih0KXtpZihwUCgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24pe2NvbnN0IGk9ZS5yZXNvbHZlUENDb25maWd1cmF0aW9uKHQpO3RoaXMucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihpKX19fSxEVihxWC5wcm90b3R5cGUsXCJjb25uZWN0XCIsW1pYXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHFYLnByb3RvdHlwZSxcImNvbm5lY3RcIikscVgucHJvdG90eXBlKSxEVihxWC5wcm90b3R5cGUsXCJzdG9wU2VuZGluZ1wiLFtaWF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihxWC5wcm90b3R5cGUsXCJzdG9wU2VuZGluZ1wiKSxxWC5wcm90b3R5cGUpLERWKHFYLnByb3RvdHlwZSxcInJlY2VpdmVcIixbWlhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocVgucHJvdG90eXBlLFwicmVjZWl2ZVwiKSxxWC5wcm90b3R5cGUpLERWKHFYLnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIixbWlhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocVgucHJvdG90eXBlLFwic3RvcFJlY2VpdmluZ1wiKSxxWC5wcm90b3R5cGUpLERWKHFYLnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIixbWlhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocVgucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiKSxxWC5wcm90b3R5cGUpLERWKHFYLnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiLFtaWF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihxWC5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIikscVgucHJvdG90eXBlKSxEVihxWC5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIixbWlhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocVgucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIpLHFYLnByb3RvdHlwZSksRFYocVgucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIixbWlhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocVgucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIikscVgucHJvdG90eXBlKSxEVihxWC5wcm90b3R5cGUsXCJjbG9zZVwiLFtaWF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihxWC5wcm90b3R5cGUsXCJjbG9zZVwiKSxxWC5wcm90b3R5cGUpLERWKHFYLnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIixbWlhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocVgucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKSxxWC5wcm90b3R5cGUpLERWKHFYLnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIsW1pYXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHFYLnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIpLHFYLnByb3RvdHlwZSksRFYocVgucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIsW1pYXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHFYLnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiKSxxWC5wcm90b3R5cGUpLERWKHFYLnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIixbWlhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocVgucHJvdG90eXBlLFwiZ2V0UmVtb3RlU1NSQ1wiKSxxWC5wcm90b3R5cGUpLHFYKTtmdW5jdGlvbiBaWChlLHQsaSl7Y29uc3Qgbj1lW3RdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiBpLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLm11dGV4LGk9YXdhaXQgZS5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENvbm5lY3Rpb24uXCIuY29uY2F0KHQpKTt0cnl7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkocikscz0wO3M8cjtzKyspb1tzXT1hcmd1bWVudHNbc107cmV0dXJuIGF3YWl0IG4uYXBwbHkodGhpcyxvKX1maW5hbGx5e2koKX19LGl9Y29uc3QgJFg9e25hbWU6XCJQbGFuQkNvbm5lY3Rpb25cIixjcmVhdGU6ZnVuY3Rpb24oZSl7bGV0e3N0b3JlOnQsc3BlYzppfT1lO3JldHVybiBuZXcgUVgoaSx0KX19LGVKPXtpbnRlcmNlcHRMb2NhbEF1ZGlvRnJhbWU6YXN5bmMgZnVuY3Rpb24oZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKCFwUCgpLnN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtKXJldHVybiB2b2lkIGlQLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IGF1ZGlvIGVuY29kZWQgdHJhbnNmb3JtXCIpO2lmKGhVLmhhcyhlKSlyZXR1cm47aWYoIWUudHJhY2spcmV0dXJuO2NvbnN0IGk9e3RyYWNrOmUudHJhY2t9O2lmKFV3KCkpe2lmKCFlLmNyZWF0ZUVuY29kZWRTdHJlYW1zKXJldHVybiB2b2lkIGlQLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IGNyZWF0ZUVuY29kZWRTdHJlYW1zKCkgQVBJXCIpO2xldCByPW51bGw7dHJ5e3I9ZS5jcmVhdGVFbmNvZGVkU3RyZWFtcygpfWNhdGNoKGUpe3JldHVybiB2b2lkIGlQLmVycm9yKFwiY3JlYXRlIGF1ZGlvLWVuY29kZWQtc3RyZWFtcyBlcnJvclwiLGUmJmUubWVzc2FnZSl9Y29uc3Qgbz1uZXcgVHJhbnNmb3JtU3RyZWFtKHt0cmFuc2Zvcm0ocixvKXtpLmNvbnRyb2xsZXJ8fChpLmNvbnRyb2xsZXI9byksZS50cmFjayYmZS50cmFjay5pZCE9PWkudHJhY2suaWQmJihpUC5kZWJ1ZyhcImF1ZGlvIHRyYWNrIGNoYW5nZWQ6IFwiLmNvbmNhdChpLnRyYWNrLmlkLFwiID0+IFwiKS5jb25jYXQoZS50cmFjay5pZCkpLGkudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsbiksaS50cmFjaz1lLnRyYWNrLGkudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsbikpO2NvbnN0IHM9dC5tZXRhZGF0YSYmdC5tZXRhZGF0YSgpO3M/ZnVuY3Rpb24oZSx0KXtjb25zdHtjaHVuazppLGNvbnRyb2xsZXI6bn09dCxyPWxVLk1FVEFEQVRBO2kuZGF0YT1mdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1pLmJ5dGVMZW5ndGgscj1uK2NVK2RVLG89c1UrYVUrcixzPW5ldyBBcnJheUJ1ZmZlcihlLmJ5dGVMZW5ndGgrbyksYT1uZXcgRGF0YVZpZXcocyk7YS5zZXRVaW50OCgwLG9VKSxhLnNldFVpbnQxNigxLHIpLGEuc2V0VWludDgoMyx0KSxhLnNldFVpbnQxNig0LG4pO2ZvcihsZXQgZT0wO2U8bjtlKyspYS5zZXRVaW50OCg2K2UsaVtlXSk7Y29uc3QgYz1uZXcgVWludDhBcnJheShhLmJ1ZmZlcik7cmV0dXJuIGMuc2V0KG5ldyBVaW50OEFycmF5KGUpLG8pLGMuYnVmZmVyfShpLmRhdGEscixlKSxuLmVucXVldWUoaSl9KHMse3NlbmRlcjplLGNodW5rOnIsY29udHJvbGxlcjpvfSk6by5lbnF1ZXVlKHIpfX0pO3IucmVhZGFibGUucGlwZVRocm91Z2gobykucGlwZVRvKHIud3JpdGFibGUpfWVsc2UgaWYoVncoKSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJUQ1J0cFNjcmlwdFRyYW5zZm9ybSlyZXR1cm4gdm9pZCBpUC53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBSVENSdHBTY3JpcHRUcmFuc2Zvcm1cIik7Y29uc3Qgcj1yVSgpLG89bmV3IE1lc3NhZ2VDaGFubmVsO2F3YWl0IG5ldyBycCgoZT0+ci5vbm1lc3NhZ2U9dD0+e1wicmVnaXN0ZXJlZFwiPT09dC5kYXRhJiZlKHZvaWQgMCl9KSk7Y29uc3Qgcz1uZXcgUlRDUnRwU2NyaXB0VHJhbnNmb3JtKHIse25hbWU6XCJhdWRpby1tZXRhZGF0YS10eFwiLHBvcnQ6by5wb3J0Mn0sW28ucG9ydDJdKTtlLnRyYW5zZm9ybT1zLGF3YWl0IG5ldyBycCgoZT0+ci5vbm1lc3NhZ2U9dD0+e1wic3RhcnRlZFwiPT09dC5kYXRhJiZlKHZvaWQgMCl9KSksby5wb3J0MS5vbm1lc3NhZ2U9cj0+e3ZhciBzO2lmKHIuZGF0YS50cmFuc2Zvcm1lZCYmZS50cmFjayYmKG51bGw9PT0ocz1lLnRyYWNrKXx8dm9pZCAwPT09cz92b2lkIDA6cy5pZCkhPT1pLnRyYWNrLmlkKWlQLmRlYnVnKFwiYXVkaW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KGkudHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdChlLnRyYWNrLmlkKSksaS50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSxpLnRyYWNrPWUudHJhY2ssaS50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKTtlbHNlIGlmKHIuZGF0YS5nZXRNZXRhZGF0YSl7Y29uc3QgZT10Lm1ldGFkYXRhJiZ0Lm1ldGFkYXRhKCk7ZSYmby5wb3J0MS5wb3N0TWVzc2FnZSh7bWV0YWRhdGE6ZX0pfX0saS53b3JrZXI9cn1mdW5jdGlvbiBuKCl7aWYoZS50cmFjayl7aWYodGhpcy5pZCE9PWUudHJhY2suaWQpcmV0dXJuO2UudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsbil9Y29uc3QgdD1oVS5nZXQoZSk7aWYodCl7aFUuZGVsZXRlKGUpO3RyeXt2YXIgaSxyO251bGw9PT0oaT10LmNvbnRyb2xsZXIpfHx2b2lkIDA9PT1pfHxpLnRlcm1pbmF0ZSgpLG51bGw9PT0ocj10Lndvcmtlcil8fHZvaWQgMD09PXJ8fHIudGVybWluYXRlKCl9Y2F0Y2goZSl7aVAud2FybmluZyhlJiZlLm1lc3NhZ2UpfX19aFUuc2V0KGUsaSksZS50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKX0saW50ZXJjZXB0UmVtb3RlQXVkaW9GcmFtZTphc3luYyBmdW5jdGlvbihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoIXBQKCkuc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm0pcmV0dXJuIHZvaWQgaVAud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgYXVkaW8gZW5jb2RlZCB0cmFuc2Zvcm1cIik7aWYoa1UuaGFzKGUpKXJldHVybjtjb25zdCBpPXt0cmFjazplLnRyYWNrLG9uTWV0YWRhdGE6dC5vbk1ldGFkYXRhLG9uUHRzOnQub25QdHN9O2lmKFV3KCkmJiFqdygpKXtpZighZS5jcmVhdGVFbmNvZGVkU3RyZWFtcylyZXR1cm4gdm9pZCBpUC53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBjcmVhdGVFbmNvZGVkU3RyZWFtcygpIEFQSVwiKTtIdyhidy5DSFJPTUUsODcsMTE2KXx8KHQuZW5hYmxlVG9wbj0hMSk7bGV0IHI9bnVsbDt0cnl7cj1lLmNyZWF0ZUVuY29kZWRTdHJlYW1zKCl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgaVAuZXJyb3IoXCJjcmVhdGUgYXVkaW8tZW5jb2RlZC1zdHJlYW1zIGVycm9yXCIsZSYmZS5tZXNzYWdlKX1jb25zdCBvPW5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybShyLG8pe2kuY29udHJvbGxlcnx8KGkuY29udHJvbGxlcj1vKSxlLnRyYWNrJiZlLnRyYWNrLmlkIT09aS50cmFjay5pZCYmKGlQLmRlYnVnKFwiYXVkaW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KGkudHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdChlLnRyYWNrLmlkKSksaS50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSxpLnRyYWNrPWUudHJhY2ssaS50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSksdC5lbmFibGVUb3BuP2Z1bmN0aW9uKGUsdCxpKXt2YXIgbjtjb25zdCByPXVVKG5ldyBEYXRhVmlldyh0LmRhdGEpKTtpZighcilyZXR1cm4gaS5lbnF1ZXVlKHQpO2NvbnN0IG89ZS50cmFjay5pZDtNVS5zZXQobyxlLnRyYWNrKTtjb25zdCBzPW51bGw9PT0obj1yLnRsdi5maW5kKChlPT5lLnRhZz09PWxVLkFVRElPX0xFVkVMKSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnZhbHVlO2xldCBhPTA7XCJudW1iZXJcIj09dHlwZW9mIHMmJihhPTEyNy1zKTtjb25zdCBjPU1hdGgucm91bmQoTWF0aC5wb3coMTAsYS82MCktMSkse3NlbGVjdGVkOmQsc3BlYWtlcjpsfT1mdW5jdGlvbihlLHQpe2xldCBpPXlVLmdldChlKTtpZihpfHwoaT1mdW5jdGlvbihlKXtjb25zdCB0PW5ldyBUVTtyZXR1cm4geVUuc2V0KGUsdCksSVV8fChJVT1uZXcgdlUoQ0QoXCJUT1BOX1NJTEVOQ0VfVEhSRVNIT0xEXCIpfHw1MDApLElVLm9uKFwiQWN0aXZlU3BlYWtlckNoYW5nZWRcIiwoZT0+e251bGwhPWUmJihBVT1lKX0pKSksSVUuYWRkU3BlYWtlcnMoW3RdKSx0fShlKSkseVUuc2l6ZTw9YlUpcmV0dXJue3NlbGVjdGVkOiEwLHNwZWFrZXI6aX07aWYoIUlVKXRocm93IG5ldyBFcnJvcihcIm5vIGFjdGl2ZSBzcGVha2VyIGRldGVjdG9yXCIpO3JldHVybiBJVS5sZXZlbENoYW5nZWQoaS5pZCx0KSx3VT1JVS5sb3VkZXN0Lm1hcCgoZT0+ZS5pZCkpLEFVJiYhTG4od1UpLmNhbGwod1UsQVUpJiZ3VS5sZW5ndGg+PWJVJiZ3VS5wb3AoKSx7c2VsZWN0ZWQ6TG4od1UpLmNhbGwod1UsaS5pZCl8fGkuaWQ9PT1BVSxzcGVha2VyOml9fShlLGMpLHU9ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49T1UuZ2V0KGUpfHxuZXcgRFUoZSx0KTtyZXR1cm4gbi5zY29yZT1pLE9VLnNldChlLG4pLGZ1bmN0aW9uKGUpe2lmKE5VLnNldChlLCEwKSwhUFUpcmV0dXJuIHZvaWQoUFU9RGF0ZS5ub3coKSk7Y29uc3QgdD1EYXRlLm5vdygpO3QtUFU+MWUzJiYoTlUuZ2V0KGUpP05VLnNldChlLCExKTooTFUoZSksTlUuZGVsZXRlKGUpKSxQVT10KX0oZSksbn0obyxlLnRyYWNrLGwuZW5lcmd5U2NvcmUpO3UuYWRkU2FtcGxlKGQpLHUuYWN0aXZlJiYodC5kYXRhPXIuZnJhbWUuYnVmZmVyLGkuZW5xdWV1ZSh0KSl9KGUscixvKTp0LmVuYWJsZU1ldGFkYXRhfHx0LmVuYWJsZVB0cz9mdW5jdGlvbihlLHQsaSxuKXtjb25zdCByPW5ldyBEYXRhVmlldyhlLmRhdGEpLG89ci5nZXRVaW50OCgwKTtsZXQgcztpZigwIT0oMTI4Jm8pJiY3MSE9PW8pe2NvbnN0IHQ9ZnVuY3Rpb24oZSl7aWYoZS5ieXRlTGVuZ3RoPD0wKXJldHVybltdO2NvbnN0IHQ9W107bGV0IGk9MDtmb3IoO2k8ZS5ieXRlTGVuZ3RoOyl7Y29uc3Qgbj0oMTI4JmUuZ2V0VWludDgoaSkpPj43LHI9MTI3JmUuZ2V0VWludDgoaSk7aWYoIShuJiZpKzQ8PWUuYnl0ZUxlbmd0aCkpe2krKzticmVha317Y29uc3Qgbj1lLmdldFVpbnQzMihpLCExKSxvPSgxNjc3NjE5MiZuKT4+MTAscz0xMDIzJm47dC5wdXNoKHtwdDpyLHRzX29mZnNldDpvLGxlbmd0aDpzLGRhdGE6bmV3IFVpbnQ4QXJyYXl9KSxpKz00fX1sZXQgbj1lLmJ5dGVMZW5ndGgtaTtmb3IoY29uc3QgciBvZiB0KXtpZihyLmxlbmd0aD5uKXJldHVybiBjb25zb2xlLndhcm4oXCJCcm9rZW4gcmVkIHBheWxvYWRcIiksW107ci5sZW5ndGg+MCYmKHIuZGF0YT1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQraSxyLmxlbmd0aCksaSs9ci5sZW5ndGgsbi09ci5sZW5ndGgpfWlmKG4+MCl7Y29uc3Qgcj17cHQ6dC5sZW5ndGg+MD90W3QubGVuZ3RoLTFdLnB0OjAsdHNfb2Zmc2V0OjAsbGVuZ3RoOm4sZGF0YTpuZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQraSxuKX07dC5wdXNoKHIpfXJldHVybiB0fShyKTtpZih0Lmxlbmd0aD4wKXtjb25zdCBpPWZ1bmN0aW9uKGUpe2xldCB0PTA7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspdCs9aTxlLmxlbmd0aC0xPzQ6MSx0Kz1lW2ldLmxlbmd0aDtjb25zdCBpPW5ldyBVaW50OEFycmF5KHQpO2xldCBuPTA7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspaWYodDxlLmxlbmd0aC0xKXtjb25zdCByPSgyMTQ3NDgzNjQ4fCgxMjcmZVt0XS5wdCk8PDI0fCgyNjIxNDMmZVt0XS50c19vZmZzZXQpPDwxMHwxMDIzJmVbdF0ubGVuZ3RoKT4+PjA7aVtuKytdPXI+PjI0JjI1NSxpW24rK109cj4+MTYmMjU1LGlbbisrXT1yPj44JjI1NSxpW24rK109MjU1JnJ9ZWxzZSBpW24rK109MTI3JmVbdF0ucHQ7Zm9yKGNvbnN0IHQgb2YgZSlpLnNldCh0LmRhdGEsbiksbis9dC5sZW5ndGg7cmV0dXJuIGl9KHQubWFwKChlPT57Y29uc3QgdD1uZXcgVWludDhBcnJheShlLmxlbmd0aCk7dC5zZXQoZS5kYXRhKTtjb25zdCBpPXVVKG5ldyBEYXRhVmlldyh0LmJ1ZmZlcikpO3JldHVybiBudWxsIT1pJiZpLmZyYW1lJiYoZS5kYXRhPW51bGw9PWk/dm9pZCAwOmkuZnJhbWUpLHM9aSxlfSkpKTtlLmRhdGE9aS5idWZmZXJ9fWVsc2Ugcz11VShyKSxzJiYoZS5kYXRhPXMuZnJhbWUuYnVmZmVyKTtpZih0LmVucXVldWUoZSksIXMpcmV0dXJuO2NvbnN0IGE9cy50bHYuZmluZCgoZT0+ZS50YWc9PT1sVS5NRVRBREFUQSkpO2EmJmkmJmEudmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5JiZpKGEudmFsdWUpO2NvbnN0IGM9cy50bHYuZmluZCgoZT0+ZS50YWc9PT1sVS5BVURJT182NF9CSVRfUFRTKSk7YyYmbiYmYy52YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJjg9PWMudmFsdWUubGVuZ3RoJiZuKG5ldyBEYXRhVmlldyhjLnZhbHVlLmJ1ZmZlcikuZ2V0QmlnVWludDY0KDAsITApKX0ocixvLHQub25NZXRhZGF0YSx0Lm9uUHRzKTpvLmVucXVldWUocil9fSk7ci5yZWFkYWJsZS5waXBlVGhyb3VnaChvKS5waXBlVG8oci53cml0YWJsZSl9ZWxzZXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUlRDUnRwU2NyaXB0VHJhbnNmb3JtKXJldHVybiB2b2lkIGlQLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybVwiKTtjb25zdCB0PXJVKCkscj1uZXcgTWVzc2FnZUNoYW5uZWw7YXdhaXQgbmV3IHJwKChlPT50Lm9ubWVzc2FnZT10PT57XCJyZWdpc3RlcmVkXCI9PT10LmRhdGEmJmUodm9pZCAwKX0pKTtjb25zdCBvPW5ldyBSVENSdHBTY3JpcHRUcmFuc2Zvcm0odCx7bmFtZTpcImF1ZGlvLW1ldGFkYXRhLXJ4XCIscG9ydDpyLnBvcnQyfSxbci5wb3J0Ml0pO2UudHJhbnNmb3JtPW8sYXdhaXQgbmV3IHJwKChlPT50Lm9ubWVzc2FnZT10PT57XCJzdGFydGVkXCI9PT10LmRhdGEmJmUodm9pZCAwKX0pKSxyLnBvcnQxLm9ubWVzc2FnZT10PT57dmFyIHI7dC5kYXRhLnRyYW5zZm9ybWVkJiZlLnRyYWNrJiYobnVsbD09PShyPWUudHJhY2spfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmlkKSE9PWkudHJhY2suaWQ/KGlQLmRlYnVnKFwiYXVkaW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KGkudHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdChlLnRyYWNrLmlkKSksaS50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSxpLnRyYWNrPWUudHJhY2ssaS50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSk6dC5kYXRhLm1ldGFkYXRhJiZpLm9uTWV0YWRhdGE/aS5vbk1ldGFkYXRhKHQuZGF0YS5tZXRhZGF0YSk6dC5kYXRhLnB0cyYmaS5vblB0cyYmaS5vblB0cyh0LmRhdGEucHRzKX0saS53b3JrZXI9dH1mdW5jdGlvbiBuKCl7ZS50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSxmdW5jdGlvbihlKXtjb25zdCB0PWtVLmdldChlKTtpZih0KXshZnVuY3Rpb24oZSl7Y29uc3QgdD15VS5nZXQoZSk7dCYmKHlVLmRlbGV0ZShlKSxJVSYmKElVLnJlbW92ZVNwZWFrZXJzKFt0XSksMD09PXlVLnNpemUmJihJVS5kZXN0cm95KCksSVU9bnVsbCkpKX0oZSksTFUoZS50cmFjay5pZCksa1UuZGVsZXRlKGUpO3RyeXt2YXIgaSxuO251bGw9PT0oaT10LmNvbnRyb2xsZXIpfHx2b2lkIDA9PT1pfHxpLnRlcm1pbmF0ZSgpLG51bGw9PT0obj10Lndvcmtlcil8fHZvaWQgMD09PW58fG4udGVybWluYXRlKCl9Y2F0Y2goZSl7aVAud2FybmluZyhlJiZlLm1lc3NhZ2UpfX19KGUpfWtVLnNldChlLGkpLGUudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsbil9LGludGVyY2VwdExvY2FsVmlkZW9GcmFtZTphc3luYyBmdW5jdGlvbihlLHQpe2lmKCFwUCgpLnN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtKXJldHVybiB2b2lkIGlQLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IHZpZGVvIGVuY29kZWQgdHJhbnNmb3JtXCIpO2lmKGpVLmhhcyhlKSlyZXR1cm47aWYoIWUudHJhY2spcmV0dXJuO2NvbnN0IGk9e3RyYWNrOmUudHJhY2t9O2lmKFV3KCkpe2lmKCFlLmNyZWF0ZUVuY29kZWRTdHJlYW1zKXJldHVybiB2b2lkIGlQLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IGNyZWF0ZUVuY29kZWRTdHJlYW1zKCkgQVBJXCIpO2xldCByPW51bGw7dHJ5e3I9ZS5jcmVhdGVFbmNvZGVkU3RyZWFtcygpfWNhdGNoKGUpe3JldHVybiB2b2lkIGlQLmVycm9yKFwiY3JlYXRlIHZpZGVvLWVuY29kZWQtc3RyZWFtcyBlcnJvclwiLGUmJmUubWVzc2FnZSl9Y29uc3Qgbz1bXTt0Lm9uKFwic2VpLXRvLXNlbmRcIiwoZT0+e28ucHVzaChlKX0pKTtjb25zdCBzPW5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybSh0LHIpe2kuY29udHJvbGxlcnx8KGkuY29udHJvbGxlcj1yKSxlLnRyYWNrJiZlLnRyYWNrLmlkIT09aS50cmFjay5pZCYmKGlQLmRlYnVnKFwidmlkZW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KGkudHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdChlLnRyYWNrLmlkKSksaS50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSxpLnRyYWNrPWUudHJhY2ssaS50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSk7Y29uc3Qgcz1CVShuZXcgVWludDhBcnJheSh0LmRhdGEpKSxhPW8uc2hpZnQoKTtpZihhKXtjb25zdCBlPWZ1bmN0aW9uKGUsdCxpKXtzd2l0Y2goaSl7Y2FzZSBVVTpyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBpPUZVKHQpLG49aS5sZW5ndGgscj1NYXRoLmZsb29yKG4vMjU1KSxvPW4lMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNityKzErbitlLmJ5dGVMZW5ndGgpO3NbMF09MCxzWzFdPTAsc1syXT0wLHNbM109MSxzWzRdPTYsc1s1XT0xMDE7bGV0IGE9MDtmb3IoO2E8cjspc1s2K2FdPTI1NSxhKys7cmV0dXJuIHNbNithXT1vLGErKyxzLnNldChpLDYrYSkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZSksNithK24pLHMuYnVmZmVyfShlLHQpO2Nhc2UgVlU6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1GVSh0KSxuPWkubGVuZ3RoLHI9TWF0aC5mbG9vcihuLzI1NSksbz1uJTI1NSxzPW5ldyBVaW50OEFycmF5KDcrcisxK24rMStlLmJ5dGVMZW5ndGgpO3NbMF09MCxzWzFdPTAsc1syXT0wLHNbM109MSxzWzRdPTc4LHNbNV09MSxzWzZdPTEwMTtsZXQgYT0wO2Zvcig7YTxyOylzWzcrYV09MjU1LGErKztyZXR1cm4gc1s3K2FdPW8sYSsrLHMuc2V0KGksNythKSxhKz1uLHNbNythXT0xMjgsYSsrLHMuc2V0KG5ldyBVaW50OEFycmF5KGUpLDcrYSkscy5idWZmZXJ9KGUsdCk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KHQuZGF0YSxhLHMpO2UmJih0LmRhdGE9ZSl9ci5lbnF1ZXVlKHQpfX0pO3IucmVhZGFibGUucGlwZVRocm91Z2gocykucGlwZVRvKHIud3JpdGFibGUpfWVsc2V7aWYoIVZ3KCkpcmV0dXJuO3tpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUlRDUnRwU2NyaXB0VHJhbnNmb3JtKXJldHVybiB2b2lkIGlQLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybVwiKTtjb25zdCByPXJVKCksbz1uZXcgTWVzc2FnZUNoYW5uZWw7YXdhaXQgbmV3IHJwKChlPT5yLm9ubWVzc2FnZT10PT57XCJyZWdpc3RlcmVkXCI9PT10LmRhdGEmJmUodm9pZCAwKX0pKTtjb25zdCBzPW5ldyBSVENSdHBTY3JpcHRUcmFuc2Zvcm0ocix7bmFtZTpcInNlaS10eFwiLHBvcnQ6by5wb3J0Mn0sW28ucG9ydDJdKTtlLnRyYW5zZm9ybT1zLGF3YWl0IG5ldyBycCgoZT0+ci5vbm1lc3NhZ2U9dD0+e1wic3RhcnRlZFwiPT09dC5kYXRhJiZlKHZvaWQgMCl9KSksdC5vbihcInNlaS10by1zZW5kXCIsKGU9PntvLnBvcnQxLnBvc3RNZXNzYWdlKHtzZWk6ZX0pfSkpLG8ucG9ydDEub25tZXNzYWdlPXQ9Pnt2YXIgcjt0LmRhdGEudHJhbnNmb3JtZWQmJmUudHJhY2smJihudWxsPT09KHI9ZS50cmFjayl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaWQpIT09aS50cmFjay5pZCYmKGlQLmRlYnVnKFwidmlkZW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KGkudHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdChlLnRyYWNrLmlkKSksaS50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSxpLnRyYWNrPWUudHJhY2ssaS50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSl9LGkud29ya2VyPXJ9fWZ1bmN0aW9uIG4oKXtpZihlLnRyYWNrKXtpZih0aGlzLmlkIT09ZS50cmFjay5pZClyZXR1cm47ZS50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKX1jb25zdCB0PWpVLmdldChlKTtpZih0KXtqVS5kZWxldGUoZSk7dHJ5e3ZhciBpLHI7bnVsbD09PShpPXQuY29udHJvbGxlcil8fHZvaWQgMD09PWl8fGkudGVybWluYXRlKCksbnVsbD09PShyPXQud29ya2VyKXx8dm9pZCAwPT09cnx8ci50ZXJtaW5hdGUoKX1jYXRjaChlKXtpUC53YXJuaW5nKGUmJmUubWVzc2FnZSl9fX1qVS5zZXQoZSxpKSxlLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pfSxpbnRlcmNlcHRSZW1vdGVWaWRlb0ZyYW1lOmFzeW5jIGZ1bmN0aW9uKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZighcFAoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSlyZXR1cm4gdm9pZCBpUC53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCB2aWRlbyBlbmNvZGVkIHRyYW5zZm9ybVwiKTtpZighZS50cmFjaylyZXR1cm47aWYoR1UuaGFzKGUpKXtjb25zdCBpPUdVLmdldChlKTtyZXR1cm4gdm9pZChpJiYoaS5vblNlaT10Lm9uU2VpKSl9Y29uc3QgaT17dHJhY2s6ZS50cmFjayxvblNlaTp0Lm9uU2VpfTtpZihVdygpKXtpZighZS5jcmVhdGVFbmNvZGVkU3RyZWFtcylyZXR1cm4gdm9pZCBpUC53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBjcmVhdGVFbmNvZGVkU3RyZWFtcygpIEFQSVwiKTtsZXQgcj1udWxsO3RyeXtyPWUuY3JlYXRlRW5jb2RlZFN0cmVhbXMoKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBpUC5lcnJvcihcImNyZWF0ZSB2aWRlby1lbmNvZGVkLXN0cmVhbXMgZXJyb3JcIixlJiZlLm1lc3NhZ2UpfWNvbnN0IG89bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtKHIsbyl7aWYoaS5jb250cm9sbGVyfHwoaS5jb250cm9sbGVyPW8pLCFpLmZpcnN0RnJhbWVJbmZvKXt2YXIgcztjb25zdCBlPXIuZ2V0TWV0YWRhdGEoKXx8e307aS5maXJzdEZyYW1lSW5mbz1jTCh7dHlwZTpyLnR5cGUscnRwVGltZXN0YW1wOnIudGltZXN0YW1wLHBheWxvYWRUeXBlOmUucGF5bG9hZFR5cGV8fDAsc3NyYzplLnN5bmNocm9uaXphdGlvblNvdXJjZXx8MCxsZW5ndGg6ci5kYXRhLmJ5dGVMZW5ndGh9LFwibWltZVR5cGVcImluIGU/e21pbWVUeXBlOmUubWltZVR5cGV9Ont9KSxudWxsPT09KHM9dC5vbkZpcnN0RnJhbWUpfHx2b2lkIDA9PT1zfHxzLmNhbGwodCxpLmZpcnN0RnJhbWVJbmZvKX1lLnRyYWNrJiZlLnRyYWNrLmlkIT09aS50cmFjay5pZCYmKGlQLmRlYnVnKFwidmlkZW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KGkudHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdChlLnRyYWNrLmlkKSksaS50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSxpLnRyYWNrPWUudHJhY2ssaS50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKSk7Y29uc3QgYT1mdW5jdGlvbihlLHQpe3N3aXRjaCh0KXtjYXNlIFVVOnJldHVybiBmdW5jdGlvbihlKXtjb25zdCB0PW5ldyBEYXRhVmlldyhlLmRhdGEpO2xldCBpPTA7Zm9yKDtpKzQ8ZS5kYXRhLmJ5dGVMZW5ndGg7KXtpZigwPT09dC5nZXRVaW50OChpKzApJiYwPT09dC5nZXRVaW50OChpKzEpJiYwPT09dC5nZXRVaW50OChpKzIpJiYxPT09dC5nZXRVaW50OChpKzMpJiY2PT09dC5nZXRVaW50OChpKzQpKXtsZXQgbj1pKzYscj0wLG89MDtmb3IoOzI1NT09PShvPXQuZ2V0VWludDgobisrKSk7KXIrPTI1NTtyKz1vO2NvbnN0IHM9eFUoZS5kYXRhLG4scik7cmV0dXJuIG5ldyBVaW50OEFycmF5KHMpfWkrK31yZXR1cm4gbnVsbH0oZSk7Y2FzZSBWVTpyZXR1cm4gZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgRGF0YVZpZXcoZS5kYXRhKTtsZXQgaT0wO2Zvcig7aSs1PGUuZGF0YS5ieXRlTGVuZ3RoOyl7aWYoMD09PXQuZ2V0VWludDgoaSswKSYmMD09PXQuZ2V0VWludDgoaSsxKSYmMD09PXQuZ2V0VWludDgoaSsyKSYmMT09PXQuZ2V0VWludDgoaSszKSYmNzg9PT10LmdldFVpbnQ4KGkrNCkmJjE9PT10LmdldFVpbnQ4KGkrNSkmJjEwMT09PXQuZ2V0VWludDgoaSs2KSl7bGV0IG49aSs3LHI9MCxvPTA7Zm9yKDsyNTU9PT0obz10LmdldFVpbnQ4KG4rKykpOylyKz0yNTU7cis9bztjb25zdCBzPXhVKGUuZGF0YSxuLHIpO3JldHVybiBuZXcgVWludDhBcnJheShzKX1pKyt9cmV0dXJuIG51bGx9KGUpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fShyLEJVKG5ldyBVaW50OEFycmF5KHIuZGF0YSkpKTthJiZpLm9uU2VpJiZpLm9uU2VpKGEpLG8uZW5xdWV1ZShyKX19KTtyLnJlYWRhYmxlLnBpcGVUaHJvdWdoKG8pLnBpcGVUbyhyLndyaXRhYmxlKX1lbHNlIGlmKFZ3KCkpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSVENSdHBTY3JpcHRUcmFuc2Zvcm0pcmV0dXJuIHZvaWQgaVAud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgUlRDUnRwU2NyaXB0VHJhbnNmb3JtXCIpO2NvbnN0IHI9clUoKSxvPW5ldyBNZXNzYWdlQ2hhbm5lbDthd2FpdCBuZXcgcnAoKGU9PnIub25tZXNzYWdlPXQ9PntcInJlZ2lzdGVyZWRcIj09PXQuZGF0YSYmZSh2b2lkIDApfSkpO2NvbnN0IHM9bmV3IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybShyLHtuYW1lOlwic2VpLXJ4XCIscG9ydDpvLnBvcnQyfSxbby5wb3J0Ml0pO2UudHJhbnNmb3JtPXMsYXdhaXQgbmV3IHJwKChlPT5yLm9ubWVzc2FnZT10PT57XCJzdGFydGVkXCI9PT10LmRhdGEmJmUodm9pZCAwKX0pKSxvLnBvcnQxLm9ubWVzc2FnZT1yPT57dmFyIG87aWYoci5kYXRhLnRyYW5zZm9ybWVkJiZlLnRyYWNrJiYobnVsbD09PShvPWUudHJhY2spfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmlkKSE9PWkudHJhY2suaWQpaVAuZGVidWcoXCJ2aWRlbyB0cmFjayBjaGFuZ2VkOiBcIi5jb25jYXQoaS50cmFjay5pZCxcIiA9PiBcIikuY29uY2F0KGUudHJhY2suaWQpKSxpLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pLGkudHJhY2s9ZS50cmFjayxpLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pO2Vsc2UgaWYoci5kYXRhLnNlaSYmaS5vblNlaSlpLm9uU2VpKHIuZGF0YS5zZWkpO2Vsc2UgaWYoci5kYXRhLmZpcnN0RnJhbWVJbmZvJiZ0Lm9uRmlyc3RGcmFtZSl7dmFyIHM7bnVsbD09PShzPXQub25GaXJzdEZyYW1lKXx8dm9pZCAwPT09c3x8cy5jYWxsKHQsci5kYXRhLmZpcnN0RnJhbWVJbmZvKX19LGkud29ya2VyPXJ9ZnVuY3Rpb24gbigpe2lmKGUudHJhY2spe2lmKHRoaXMuaWQhPT1lLnRyYWNrLmlkKXJldHVybjtlLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pfSFmdW5jdGlvbihlKXtjb25zdCB0PUdVLmdldChlKTtpZih0KXtHVS5kZWxldGUoZSk7dHJ5e3ZhciBpLG47bnVsbD09PShpPXQuY29udHJvbGxlcil8fHZvaWQgMD09PWl8fGkudGVybWluYXRlKCksbnVsbD09PShuPXQud29ya2VyKXx8dm9pZCAwPT09bnx8bi50ZXJtaW5hdGUoKX1jYXRjaChlKXtpUC53YXJuaW5nKGUmJmUubWVzc2FnZSl9fX0oZSl9R1Uuc2V0KGUsaSksZS50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKX19LHRKPXtuYW1lOlwiSW50ZXJjZXB0RnJhbWVcIixjcmVhdGU6KCk9PmVKfTt2YXIgaUo7ZnVuY3Rpb24gbkooZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIHJKKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP25KKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aUEoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOm5KKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWxldCBvSj0oaUo9Y2xhc3MgZSBleHRlbmRzIG14e2dldCBjdXJyZW50TG9jYWxEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRMb2NhbERlc2NyaXB0aW9ufWdldCBjdXJyZW50UmVtb3RlRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb259Z2V0IHBlZXJDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGV9Z2V0IGljZUNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZX1nZXQgZHRsc1RyYW5zcG9ydFN0YXRlKCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9PShlPW51bGw9PT0odD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpWzBdKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQudHJhbnNwb3J0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5zdGF0ZSkmJnZvaWQgMCE9PWU/ZTpudWxsfWdldCBsb2NhbENvZGVjcygpe3JldHVyblsuLi5uZXcgU2V0KHRoaXMubG9jYWxDYXBhYmlsaXRpZXMmJnRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZC52aWRlb0NvZGVjcy5tYXAoKGU9PmUucnRwTWFwJiZlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikpLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBMbih0PU9iamVjdC5rZXlzKEFEKSkuY2FsbCh0LGUpfSkpKV19Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsdCksaUEodGhpcyxcImlkXCIsU04oNSxcImNvbm5lY3Rpb24tXCIpKSxpQSh0aGlzLFwic3RvcmVcIix2b2lkIDApLGlBKHRoaXMsXCJwZWVyQ29ubmVjdGlvblwiLHZvaWQgMCksaUEodGhpcyxcImZvcmNlVHVyblwiLCExKSxpQSh0aGlzLFwicmVtb3RlU0RQXCIsdm9pZCAwKSxpQSh0aGlzLFwiaW5pdGlhbE9mZmVyXCIsdm9pZCAwKSxpQSh0aGlzLFwidHJhbnNwb3J0RXZlbnRSZWNlaXZlclwiLHZvaWQgMCksaUEodGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxpQSh0aGlzLFwiZXh0ZW5zaW9uXCIse3VzZVhSOkNEKFwiVVNFX1hSXCIpfSksaUEodGhpcyxcImxvY2FsQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxpQSh0aGlzLFwicmVtb3RlQ29kZWNzXCIsdm9pZCAwKSxpQSh0aGlzLFwibG9jYWxDYW5kaWRhdGVDb3VudFwiLDApLGlBKHRoaXMsXCJhbGxDYW5kaWRhdGVzUmVjZWl2ZWRcIiwhMSksaUEodGhpcyxcImlzUHJlYWxsb2NhdGlvblwiLCExKSxpQSh0aGlzLFwicHJlTWVkaWFNYXBcIixuZXcgTWFwKSxpQSh0aGlzLFwiZGF0YVN0cmVhbUNoYW5uZWxNYXBcIixuZXcgTWFwKSxpQSh0aGlzLFwiZXN0YWJsaXNoUHJvbWlzZVwiLHZvaWQgMCksaUEodGhpcyxcInJlY292ZXJlZERhdGFDaGFubmVsSWRzXCIsW10pLGlBKHRoaXMsXCJjdXJyZW50RGF0YUNoYW5uZWxJZFwiLDEpLGlBKHRoaXMsXCJzdXBwb3J0QVYxUnRwU3BlY1wiLCExKSxpQSh0aGlzLFwibXV0ZXhcIix2b2lkIDApLGlBKHRoaXMsXCJxdWFsaXR5TGltaXRhdGlvblJlYXNvblwiLHRELk5PTkUpLGlBKHRoaXMsXCJpc0ZpcnN0Q29ubmVjdGVkXCIsITEpLHRoaXMuc3RvcmU9dCx0aGlzLmZvcmNlVHVybj1NaihlKSx0aGlzLm11dGV4PW5ldyBQTihcIk5WQ29ubmVjdGlvbkV4dGVuc2lvbi1tdXRleFwiLHQuY2xpZW50SWQpLHRoaXMucGVlckNvbm5lY3Rpb249aSx0aGlzLmlzRmlyc3RDb25uZWN0ZWQ9ITEsdGhpcy5zdGF0c0ZpbHRlcj1kRCh0aGlzLnBlZXJDb25uZWN0aW9uLENEKFwiU1RBVFNfVVBEQVRFX0lOVEVSVkFMXCIpLHZvaWQgMCxCdygpPzEyMDA6dm9pZCAwKSx0aGlzLmJpbmRQQ0V2ZW50cygpLHRoaXMuYmluZFN0YXRzRXZlbnRzKCksdGhpcy5zdG9yZS5wMnBJZD10aGlzLnN0b3JlLnAycElkKzEsZS5pc1ByZWFsbG9jYXRpb24mJih0aGlzLmlzUHJlYWxsb2NhdGlvbj0hMCksdGhpcy5lc3RhYmxpc2hQcm9taXNlPXRoaXMuZXN0YWJsaXNoKCl9Z2V0UHJlTWVkaWEoZSl7cmV0dXJuIHRoaXMucHJlTWVkaWFNYXAuZ2V0KGUpfWlzUHJlU3ViKCl7cmV0dXJuIHRoaXMucHJlTWVkaWFNYXAuc2l6ZT4wfWFzeW5jIHVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlLHQpe2lmKHRoaXMucmVtb3RlQ29kZWNzPXQsIXRoaXMucmVtb3RlU0RQKXJldHVybiB2b2lkIGlQLmRlYnVnKFwiW05WQ29ubmVjdGlvbkV4dGVuc2lvbl0gY2Fubm90IHVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLCBsb2NhbCBjb2RlY3M6IFwiLmNvbmNhdCh0aGlzLmxvY2FsQ29kZWNzLFwiLCBjb2RlY3M6IFwiKS5jb25jYXQodCkpO2lmKHRoaXMucmVtb3RlU0RQLnVwZGF0ZVJlbW90ZUNvZGVjKGUsdCx0aGlzLnN0b3JlLmNvZGVjKSl7Y29uc3QgZT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksdD10aGlzLmxvZ1NEUEV4Y2hhbmdlKGUuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJtdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGUpO2NvbnN0IGk9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtudWxsPT10fHx0KGkpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6aX0pfWVsc2UgaVAuZGVidWcoXCJbTlZDb25uZWN0aW9uRXh0ZW5zaW9uXSB1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpfWFzeW5jIGVzdGFibGlzaCgpe3RyeXt0aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pLHRoaXMucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSk7Y29uc3QgdD1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7aWYoIXQuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgaW5pdGlhbE9mZmVyLnNkcCB3aGVuIHRyeWluZyB0byBlc3RhYmxpc2ggUGVlckNvbm5lY3Rpb24uXCIpO2NvbnN0IGk9T0YodC5zZHApLG49YXdhaXQgakYoe2ZpbHRlclJUWDohQ0QoXCJVU0VfUFVCX1JUWFwiKSYmIUNEKFwiVVNFX1NVQl9SVFhcIiksZmlsdGVyVmlkZW9GZWM6Q0QoXCJGSUxURVJfVklERU9fRkVDXCIpLGZpbHRlckF1ZGlvRmVjOkNEKFwiRklMVEVSX0FVRElPX0ZFQ1wiKSxmaWx0ZXJWaWRlb0NvZGVjOkNEKFwiRklMVEVSX1ZJREVPX0NPREVDXCIpLHVuc3VwcG9ydGVkVmlkZW9VcGxpbmtDb2RlYzpDRChcIlVOU1VQUE9SVEVEX1ZJREVPX1VQTElOS19DT0RFQ1wiKSx1bnN1cHBvcnRlZFZpZGVvRG93bmxpbmtDb2RlYzpDRChcIlVOU1VQUE9SVEVEX1ZJREVPX0RPV05MSU5LX0NPREVDXCIpfSx0aGlzLmV4dGVuc2lvbik7aWYodGhpcy5sb2NhbENhcGFiaWxpdGllcz1IRihuKSx0aGlzLmluaXRpYWxPZmZlcj10LENEKFwiRU5BQkxFX1NWQ1wiKSYmXCJhdjFcIj09dGhpcy5zdG9yZS5jb2RlYyl7Y29uc3QgdD1hd2FpdCBCRigpO3ZhciBlO2lmKHQpdGhpcy5zdXBwb3J0QVYxUnRwU3BlYz0hMCxudWxsPT09KGU9bi5zZW5kKXx8dm9pZCAwPT09ZXx8ZS52aWRlb0V4dGVuc2lvbnMucHVzaCh0KX1sZXQgcjtyZXR1cm4gdC5zZHAmJlpGKHQuc2RwKSYmKHI9c04obiksVEYocikpLHJKKHJKKHt9LGkpLHt9LHtydHBDYXBhYmlsaXRpZXM6cnx8bixvZmZlclNEUDp0LnNkcH0pfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5HRVRfTE9DQUxfQ09OTkVDVElPTl9QQVJBTVNfRkFJTEVELGUudG9TdHJpbmcoKSl9fWFzeW5jIGNvbm5lY3QoZSl7dHJ5e2lmKCF0aGlzLmluaXRpYWxPZmZlcil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXN0YWJsaXNoIE5WQ29ubmVjdGlvbkV4dGVuc2lvbiB3aXRob3V0IGluaXRpYWwgb2ZmZXIuXCIpO3RoaXMuaW5pdGlhbE9mZmVyLnNkcCYmWkYodGhpcy5pbml0aWFsT2ZmZXIuc2RwKSYmUkYoZS5ydHBDYXBhYmlsaXRpZXMsdGhpcy5sb2NhbENhcGFiaWxpdGllcyksdGhpcy5yZW1vdGVTRFA9bmV3IF9qKHJKKHJKKHt9LGUpLHt9LHtsb2NhbENhcGFiaWxpdGllczp0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzfSksdGhpcy5zdXBwb3J0QVYxUnRwU3BlYywhKCFDRChcIkVOQUJMRV9QUkVfU1VCX1dJVEhfUFJFX1BDXCIpfHwhQ0QoXCJQUkVfVVNFX0xPQ0FMX0NPREVDU1wiKSkmJm1QKHRoaXMuc3RvcmUpLCEwKSxlLnByZWFsbG9jYXRpb24mJih0aGlzLmlzUHJlYWxsb2NhdGlvbj0hMCksQXJyYXkuaXNBcnJheSh0aGlzLnJlbW90ZUNvZGVjcykmJnRoaXMucmVtb3RlQ29kZWNzLmxlbmd0aD4wJiZ0aGlzLnJlbW90ZVNEUC51cGRhdGVSZW1vdGVDb2RlYyhbXSx0aGlzLnJlbW90ZUNvZGVjcyx0aGlzLnN0b3JlLmNvZGVjKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT1YRih0aGlzLmluaXRpYWxPZmZlci5zZHAsdGhpcy5leHRlbnNpb24pLG49dGhpcy5sb2dTRFBFeGNoYW5nZShpfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJjb25uZWN0XCIpO3RoaXMuc3RvcmUuZGVzY3JpcHRpb25TdGFydCgpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOml9KSxudWxsPT1ufHxuKHQpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6dH0pO2NvbnN0IHI9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKVswXTtpZihudWxsIT1yJiZyLnJlY2VpdmVyJiZ0aGlzLnRyeUJpbmRUcmFuc3BvcnRFdmVudHMoci5yZWNlaXZlciksbVAodGhpcy5zdG9yZSkpaWYoZS5wcmVhbGxvY2F0aW9uJiZDRChcIkVOQUJMRV9QUkVfU1VCX1dJVEhfUFJFX1BDXCIpKXtjb25zdCBlPUNEKFwiUFJFX1NVQl9OVU1cIikse21pZHM6dCxwcmVTU1JDczppfT10aGlzLnJlbW90ZVNEUC5wcmVsb2FkUmVtb3RlTWVkaWEoZSk7YXdhaXQgcUYodGhpcy5wZWVyQ29ubmVjdGlvbix0aGlzLnJlbW90ZVNEUCx0aGlzLmV4dGVuc2lvbiksaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtOVkNvbm5lY3Rpb25FeHRlbnNpb25dIHByZWxvYWQgbWVkaWEsIGluIHByZSBwYyxhZGQgcHJlbG9hZCBzc3JjcyBcIikuY29uY2F0KGkpKSx0aGlzLnByZXNldE1lZGlhKHQsaSl9ZWxzZXtjb25zdHtwcmVTU1JDczp0PVtdfT1lLGk9dC5tYXAoKGU9PmUuc3NyY01zZ1swXS5zc3JjSWQpKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuO2NvbnN0e21pZHM6bn09dGhpcy5yZW1vdGVTRFAuYmF0Y2hTZW5kKHQubWFwKChlPT5PYmplY3QuYXNzaWduKHt9LGUpKSkpO2F3YWl0IHFGKHRoaXMucGVlckNvbm5lY3Rpb24sdGhpcy5yZW1vdGVTRFAsdGhpcy5leHRlbnNpb24pLGlQLmRlYnVnKFwiW05WQ29ubmVjdGlvbkV4dGVuc2lvbi5jb25uZWN0XSBwcmVsb2FkIG1lZGlhLCBhZnRlciBqb2luLCBhZGQgcHJlbG9hZCBzc3JjcyBcIi5jb25jYXQoaSkpLHRoaXMucHJlc2V0TWVkaWEobixpKX19Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJOVkNvbm5lY3Rpb25FeHRlbnNpb24uY29ubmVjdCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19cHJlc2V0TWVkaWEoZSx0KXtlLmZvckVhY2goKChlLGkpPT57dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5mb3JFYWNoKChuPT57aWYobnVsbCE9bi5taWQmJmU9PT1uLm1pZCYmbi5yZWNlaXZlci50cmFjayl7Y29uc3Qgcj1uLnJlY2VpdmVyLnRyYWNrO2xldCBvO1widmlkZW9cIj09PXIua2luZCYmQ0QoXCJFTkFCTEVfUFJFX1JFTkRFUlwiKSYmKG89bmV3IFhrKHt0cmFja0lkOlwidHJhY2stXCIuY29uY2F0KHIua2luZCxcIi11bmtub3duLVwiKS5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl9cIikuY29uY2F0KFNOKDUsXCJcIikpfSwhMCksby51cGRhdGVWaWRlb1RyYWNrKHIpLG8ub25GaXJzdFZpZGVvRnJhbWVSZW5kZXI9KCk9Pnt2YXIgZTtjb25zdCBuPXRoaXMucHJlTWVkaWFNYXAuZ2V0KHRbaV0pO24mJihuLmZpcnN0VmlkZW9SZW5kZXI9RGF0ZS5ub3coKSksbnVsbD09PShlPXRoaXMub25GaXJzdFZpZGVvUmVuZGVyKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdFtpXSl9LG8ub25WaWRlb0J1ZmZlclJlYWR5PSgpPT57dmFyIGU7bnVsbD09PShlPXRoaXMub25GaXJzdFZpZGVvQnVmZmVyUmVhZHkpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyx0W2ldKX0sby5wbGF5KHRoaXMuc3RvcmUuc2Vzc2lvbklkfHx2b2lkIDApKSx0aGlzLnByZU1lZGlhTWFwLnNldCh0W2ldLHttaWQ6ZSx0cmFjazpyLHBsYXllcjpvLHRyYW5zY2VpdmVyOm59KX19KSksdGhpcy5zdG9yZS5wZWVyUmVjZWl2ZXIoKX0pKX1jaGVja0R0bHNQYXJhbWV0ZXJzKGUpe3JldHVybiEhdGhpcy5yZW1vdGVTRFAmJihlLmxlbmd0aD4wJiZ0aGlzLnJlbW90ZVNEUC51cGRhdGVSZW1vdGVEdGxzUGFyYW1ldGVycyhlKSl9YXN5bmMgdXBkYXRlUmVtb3RlQ29ubmVjdChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIE5WQ29ubmVjdGlvbkV4dGVuc2lvbi51cGRhdGVSZW1vdGVDb25uZWN0IGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWRcIik7bGV0IHQ9ITE7Y29uc3R7cnRwQ2FwYWJpbGl0aWVzOml9PWU7aWYoWyx0XT10aGlzLnJlbW90ZVNEUC51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMoaSksQXJyYXkuaXNBcnJheSh0aGlzLnJlbW90ZUNvZGVjcykmJnRoaXMucmVtb3RlQ29kZWNzLmxlbmd0aD4wKXtjb25zdCBlPXRoaXMucmVtb3RlU0RQLnVwZGF0ZVJlbW90ZUNvZGVjKFtdLHRoaXMucmVtb3RlQ29kZWNzLHRoaXMuc3RvcmUuY29kZWMpO3Q9dHx8ZX1jb25zdHtwcmVTU1JDczpuPVtdfT1lLHI9bi5tYXAoKGU9PmUuc3NyY01zZ1swXS5zc3JjSWQpKTtpZighdGhpcy5yZW1vdGVTRFAuY2hlY2tQcmVsb2FkU3NyY3Mocikpe2NvbnN0IGU9W10sdD1bXTtpZihBcnJheS5mcm9tKHRoaXMucHJlTWVkaWFNYXAuZW50cmllcygpKS5ldmVyeSgoaT0+e2xldFtuLHttaWQ6cixwbGF5ZXI6byx0cmFjazpzfV09aTtyZXR1cm4gZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnByZU1lZGlhTWFwLmRlbGV0ZShuKSxvJiZvLmRlc3Ryb3koKSwhMH0pKSxlLmxlbmd0aD4wJiYodGhpcy5yZW1vdGVTRFAuc3RvcFNlbmRpbmcoZSksYXdhaXQgcUYodGhpcy5wZWVyQ29ubmVjdGlvbix0aGlzLnJlbW90ZVNEUCx0aGlzLmV4dGVuc2lvbiksaVAud2FybihcIltOVkNvbm5lY3Rpb25FeHRlbnNpb24udXBkYXRlUmVtb3RlQ29ubmVjdF0gcHJlbG9hZCBtZWRpYSwgZmFpbGVkLCBkZWwgcHJlbG9hZCBzc3JjcyBcIi5jb25jYXQodCkpLGxQLnJlcG9ydEFwaUludm9rZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7bmFtZTpMTy5QUkVMT0FEX01FRElBX0ZBSUxFRCxvcHRpb25zOltuLHRdLHRhZzprTy5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSksbi5sZW5ndGg+MCl7Y29uc3R7bWlkczplfT10aGlzLnJlbW90ZVNEUC5iYXRjaFNlbmQobi5tYXAoKGU9Pk9iamVjdC5hc3NpZ24oe30sZSkpKSk7YXdhaXQgcUYodGhpcy5wZWVyQ29ubmVjdGlvbix0aGlzLnJlbW90ZVNEUCx0aGlzLmV4dGVuc2lvbiksaVAuZGVidWcoXCJbTlZDb25uZWN0aW9uRXh0ZW5zaW9uLnVwZGF0ZVJlbW90ZUNvbm5lY3RdIHByZWxvYWQgbWVkaWEsIGFmdGVyIGpvaW4sIGFkZCBwcmVsb2FkIHNzcmNzIFwiLmNvbmNhdChyKSksdGhpcy5wcmVzZXRNZWRpYShlLHIpfX10Pyhhd2FpdCBxRih0aGlzLnBlZXJDb25uZWN0aW9uLHRoaXMucmVtb3RlU0RQLHRoaXMuZXh0ZW5zaW9uKSxpUC5kZWJ1ZyhcIltOVkNvbm5lY3Rpb25FeHRlbnNpb25dIHVwZGF0ZVJlbW90ZUNvbm5lY3QgYnkgZXhjaGFuZ2luZyBTRFAuXCIpKTppUC5kZWJ1ZyhcIltOVkNvbm5lY3Rpb25FeHRlbnNpb25dIHVwZGF0ZVJlbW90ZUNvbm5lY3Qgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAsIGJlY2F1c2Ugbm8gbmVlZCB0byB1cGRhdGUgcmVtb3RlIGNvZGVjcyAodXNlIGxvY2FsIGNvZGVjcylcIil9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJOVkNvbm5lY3Rpb25FeHRlbnNpb24udXBkYXRlUmVtb3RlQ29ubmVjdCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19c2VuZChlLHQsaSl7dmFyIG49dGhpcztyZXR1cm4gTWIoKGZ1bmN0aW9uKigpe2NvbnN0IHI9eWllbGQgVmIobi5tdXRleC5sb2NrKFwiRnJvbSBOVkNvbm5lY3Rpb25FeHRlbnNpb24uc2VuZFwiKSk7dHJ5e2lmKCFuLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkNvbm5lY3Rpb25FeHRlbnNpb24uc2VuZCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0IG89W10scz1TRigpO2UuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9bi5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihlLl9tZWRpYVN0cmVhbVRyYWNrLHJKKHtkaXJlY3Rpb246XCJzZW5kb25seVwifSxcInZpZGVvXCI9PT1lLnRyYWNrTWVkaWFUeXBlJiZuLnN1cHBvcnRBVjFSdHBTcGVjJiZzP3tzZW5kRW5jb2RpbmdzOlt7c2NhbGFiaWxpdHlNb2RlOnN9XX06e30pKTtvLnB1c2godCksZS5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodCl9KSksQncoKSYmITA9PT1DRChcIlNJTVVMQ0FTVFwiKSYmKHlpZWxkIFZiKG4uYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KG8sZSkpKTtjb25zdCBhPXlpZWxkIFZiKG4ucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSksYz1uLnJlbW90ZVNEUC5wcmVkaWN0UmVjZWl2aW5nTWlkcyhlLmxlbmd0aCksZD1uLm11bmdTZW5kT2ZmZXJTRFAoYS5zZHAsZSxjKSxsPUxEKGQpLHU9Yy5tYXAoKGU9Pntjb25zdCB0PWwubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXh0cmFjdCBzc3JjIGZyb20gbWVkaWFEZXNjcmlwdGlvbi5cIik7cmV0dXJuIE5GKHQsQ0QoXCJVU0VfUFVCX1JUWFwiKSl9KSk7bGV0IGg7dHJ5e2g9eWllbGQgdX1jYXRjaChyKXtoPVtdLG4ucmVtb3RlU0RQLnJlY2VpdmUoZSx0LGksaCk7Y29uc3Qgbz1uLnJlbW90ZVNEUC50b1N0cmluZygpO3Rocm93IHlpZWxkIFZiKG4ucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmR9KSkseWllbGQgVmIobi5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSkpLHlpZWxkIFZiKG4uc3RvcFNlbmRpbmcoYywhMCkpLHJ9bi5yZW1vdGVTRFAucmVjZWl2ZShlLHQsaSxoKTtjb25zdCBwPW4ucmVtb3RlU0RQLnRvU3RyaW5nKCksXz1uLmxvZ1NEUEV4Y2hhbmdlKGQsXCJvZmZlclwiLFwibG9jYWxcIixcInNlbmRcIik7cmV0dXJuIHlpZWxkIFZiKG4ucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmR9KSkseWllbGQgVmIobi5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyhvLGUpKSx5aWVsZCBWYihuLmFwcGx5U2VuZEVuY29kaW5ncyhvLGUpKSxudWxsPT1ffHxfKHApLHlpZWxkIFZiKG4ucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6cH0pKSxvLm1hcCgoKGUsdCk9Pntjb25zdCBpPWNbdF07cmV0dXJue2xvY2FsU1NSQzp1W3RdLGlkOmksdHJhbnNjZWl2ZXI6ZX19KSl9Y2F0Y2goZSl7dGhyb3cgZSBpbnN0YW5jZW9mIHBPP2U6bmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJOVkNvbm5lY3Rpb25FeHRlbnNpb24uc2VuZCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX1maW5hbGx5e3IoKX19KSkoKX1hc3luYyBjcmVhdGVEYXRhQ2hhbm5lbHMoZSx0KXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIE5WQ29ubmVjdGlvbkV4dGVuc2lvbi5jcmVhdGVEYXRhQ2hhbm5lbHMgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtsZXQgaT10aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmdldChlKTtpZihpJiZcIm9wZW5cIj09PWkucmVhZHlTdGF0ZSlpUC5kZWJ1ZyhcIltOVkNvbm5lY3Rpb25FeHRlbnNpb25dIENoYW5uZWxzIGFyZSBhbHJlYWR5IGF2YWlsYWJsZSBhbmQgY2FuIGJlIHJldXNlZCBkaXJlY3RseS5cIik7ZWxzZXtjb25zdCB0PXRoaXMuY3VycmVudERhdGFDaGFubmVsSWQ8MTAyMz90aGlzLmN1cnJlbnREYXRhQ2hhbm5lbElkKys6dGhpcy5yZWNvdmVyZWREYXRhQ2hhbm5lbElkcy5zaGlmdCgpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcImNyZWF0ZSBEYXRhQ2hhbm5lbCBlcnJvciwgYmVjYXVzZSBjYW5ub3QgZ2V0IGRjIGlkXCIpO2k9dGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbChcImRhdGFzdHJlYW0tY2hhbm5lbFwiLHtpZDp0LG5lZ290aWF0ZWQ6ITAsb3JkZXJlZDohMSxtYXhSZXRyYW5zbWl0czpDRChcIkRBVEFTVFJFQU1fTUFYX1JFVFJBTlNNSVRTXCIpfSksaS5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLnNldChlLGkpfXQuZm9yRWFjaCgoZT0+e2UuX3VwZGF0ZU9yaWdpbkRhdGFDaGFubmVsKGkpfSkpO2NvbnN0e25lZWRFeGNoYW5nZVNEUDpufT10aGlzLnJlbW90ZVNEUC5zZW5kRGF0YUNoYW5uZWwoKTtpZihuKXtjb25zdCBlPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmV9KTtjb25zdCB0PWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHQpLGlQLmRlYnVnKFwiW05WQ29ubmVjdGlvbkV4dGVuc2lvbl0gY3JlYXRlRGF0YUNoYW5uZWxzIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKX1lbHNlIGlQLmRlYnVnKFwiW05WQ29ubmVjdGlvbkV4dGVuc2lvbl0gY3JlYXRlRGF0YUNoYW5uZWxzIG5vIG5lZWQgdG8gZXhjaGFuZ2UgU0RQLlwiKTtyZXR1cm59Y2F0Y2goZSl7dGhyb3cgZSBpbnN0YW5jZW9mIHBPP2U6bmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJOVkNvbm5lY3Rpb25FeHRlbnNpb24uY3JlYXRlRGF0YUNoYW5uZWxzIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wRGF0YUNoYW5uZWxzKGUpe3RyeXtjb25zdCB0PXRoaXMuZGF0YVN0cmVhbUNoYW5uZWxNYXAuZ2V0KGUpO3JldHVybiB0JiYodC5pZCYmdGhpcy5yZWNvdmVyZWREYXRhQ2hhbm5lbElkcy5wdXNoKHQuaWQpLHQuY2xvc2UoKSksdm9pZCB0aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmRlbGV0ZShlKX1jYXRjaChlKXt0aHJvdyBlIGluc3RhbmNlb2YgcE8/ZTpuZXcgcE8oaE8uREFUQUNIQU5ORUxfRkFJTEVELFwiTlZDb25uZWN0aW9uRXh0ZW5zaW9uLnN0b3BEYXRhQ2hhbm5lbHMgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BTZW5kaW5nKGUsdCl7Y29uc3QgaT10P3ZvaWQgMDphd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIE5WQ29ubmVjdGlvbkV4dGVuc2lvbi5zdG9wU2VuZGluZ1wiKTt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIE5WQ29ubmVjdGlvbkV4dGVuc2lvbi5zdG9wU2VuZGluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9Pi0xIT09ZS5pbmRleE9mKHQubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiB0cnlpbmcgdG8gY2FsbCBOVkNvbm5lY3Rpb25FeHRlbnNpb24uc3RvcFNlbmRpbmcuXCIpO3QubWFwKChlPT57dmFyIHQ7d2oodGhpcy5pZCtlLm1pZCx0aGlzKSxlLmRpcmVjdGlvbj1cImluYWN0aXZlXCIsbnVsbD09PSh0PWUuc3RvcCl8fHZvaWQgMD09PXR8fHQuY2FsbChlKX0pKTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxyPXRoaXMubG9nU0RQRXhjaGFuZ2Uobi5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInN0b3BTZW5kaW5nXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKSx0aGlzLnJlbW90ZVNEUC5zdG9wUmVjZWl2aW5nKGUpO2NvbnN0IG89dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtudWxsPT1yfHxyKG8pLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZDb25uZWN0aW9uRXh0ZW5zaW9uLnN0b3BTZW5kaW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfWZpbmFsbHl7aSYmaSgpfX1hc3luYyByZWNlaXZlKGUsdCxpLG4pe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZDb25uZWN0aW9uRXh0ZW5zaW9uLnJlY2VpdmUgXCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKSk7Y29uc3R7bWlkOnIsbmVlZEV4Y2hhbmdlU0RQOm99PXRoaXMucmVtb3RlU0RQLnNlbmQoZSx0LGksbik7byYmKGF3YWl0IHFGKHRoaXMucGVlckNvbm5lY3Rpb24sdGhpcy5yZW1vdGVTRFAsdGhpcy5leHRlbnNpb24pLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbTlZDb25uZWN0aW9uRXh0ZW5zaW9uXSByZWNlaXZlIFwiKS5jb25jYXQoZSxcIiBieSBleGNoYW5naW5nIFNEUC5cIikpKTtjb25zdCBzPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZT0+ZS5taWQ9PT1yKSk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0cmFuc2NlaXZlciBhZnRlciBzZXRMb2NhbERlc2NyaXB0aW9uLlwiKTtyZXR1cm57dHJhY2s6cy5yZWNlaXZlci50cmFjayxpZDpyLHRyYW5zY2VpdmVyOnN9fWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZDb25uZWN0aW9uRXh0ZW5zaW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIGJhdGNoUmVjZWl2ZShlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIE5WQ29ubmVjdGlvbkV4dGVuc2lvbi5iYXRjaFJlY2VpdmUgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKTtjb25zdHttaWRzOnQsbmVlZEV4Y2hhbmdlU0RQOml9PXRoaXMucmVtb3RlU0RQLmJhdGNoU2VuZChlKTtyZXR1cm4gaSYmKGF3YWl0IHFGKHRoaXMucGVlckNvbm5lY3Rpb24sdGhpcy5yZW1vdGVTRFAsdGhpcy5leHRlbnNpb24pLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbTlZDb25uZWN0aW9uRXh0ZW5zaW9uXSBiYXRjaFJlY2VpdmUgYnkgZXhjaGFuZ2luZyBTRFAuXCIpKSksdC5tYXAoKGU9Pntjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgodD0+dC5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0cmFuc2NlaXZlciBhZnRlciBzZXRMb2NhbERlc2NyaXB0aW9uLlwiKTtyZXR1cm57dHJhY2s6dC5yZWNlaXZlci50cmFjayxpZDplLHRyYW5zY2VpdmVyOnR9fSkpfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZDb25uZWN0aW9uRXh0ZW5zaW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BSZWNlaXZpbmcoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkNvbm5lY3Rpb25FeHRlbnNpb24uc3RvcFJlY2VpdmluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtlLmZvckVhY2goKGU9PntBcnJheS5mcm9tKHRoaXMucHJlTWVkaWFNYXAuZW50cmllcygpKS5zb21lKCh0PT57bGV0W2kse21pZDpuLHBsYXllcjpyfV09dDtpZihuPT09ZSlyZXR1cm4gdGhpcy5wcmVNZWRpYU1hcC5kZWxldGUoaSksciYmci5kZXN0cm95KCksITB9KSl9KSksdGhpcy5yZW1vdGVTRFAuc3RvcFNlbmRpbmcoZSk7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZSh0LFwib2ZmZXJcIixcInJlbW90ZVwiLFwic3RvcFJlY2VpdmluZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtudWxsPT1pfHxpKG4uc2RwfHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obil9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJOVkNvbm5lY3Rpb25FeHRlbnNpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgbXV0ZVJlbW90ZShlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIE5WQ29ubmVjdGlvbkV4dGVuc2lvbi5tdXRlUmVtb3RlIG1pZD1cIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKSk7dGhpcy5yZW1vdGVTRFAubXV0ZShlKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKHQsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJtdXRlUmVtb3RlXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO251bGw9PWl8fGkobi5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIk5WQ29ubmVjdGlvbkV4dGVuc2lvbi5tdXRlUmVtb3RlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyB1bm11dGVSZW1vdGUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkNvbm5lY3Rpb25FeHRlbnNpb24udW5tdXRlUmVtb3RlIG1pZD1cIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKSk7dGhpcy5yZW1vdGVTRFAudW5tdXRlKGUpO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPXRoaXMubG9nU0RQRXhjaGFuZ2UodCxcIm9mZmVyXCIsXCJyZW1vdGVcIixcInVubXV0ZVJlbW90ZVwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtudWxsPT1pfHxpKG4uc2RwfHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obil9Y2F0Y2goZSl7dGhyb3cgbmV3IHBPKGhPLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJOVkNvbm5lY3Rpb25FeHRlbnNpb24udW5tdXRlUmVtb3RlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBtdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkNvbm5lY3Rpb25FeHRlbnNpb24ubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkJiYtMSE9PWUuaW5kZXhPZih0Lm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoZT0+e2UuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn0pKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxuPXRoaXMubG9nU0RQRXhjaGFuZ2UoaS5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcIm11dGVMb2NhbFwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSksdGhpcy5yZW1vdGVTRFAubXV0ZVJlbW90ZShlKTtjb25zdCByPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7bnVsbD09bnx8bihyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnJ9KX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIk5WQ29ubmVjdGlvbkV4dGVuc2lvbi5tdXRlTG9jYWwgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHVubXV0ZUxvY2FsKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZDb25uZWN0aW9uRXh0ZW5zaW9uLnVubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkJiYtMSE9PWUuaW5kZXhPZih0Lm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoYXN5bmMoZSx0KT0+e2UuZGlyZWN0aW9uPVwic2VuZG9ubHlcIn0pKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxuPXRoaXMubG9nU0RQRXhjaGFuZ2UoaS5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInVubXV0ZUxvY2FsXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSx0aGlzLnJlbW90ZVNEUC51bm11dGVSZW1vdGUoZSksQXJyYXkuaXNBcnJheSh0aGlzLnJlbW90ZUNvZGVjcykmJnRoaXMucmVtb3RlQ29kZWNzLmxlbmd0aD4wJiZ0aGlzLnJlbW90ZVNEUC51cGRhdGVSZW1vdGVDb2RlYyhlLHRoaXMucmVtb3RlQ29kZWNzLHRoaXMuc3RvcmUuY29kZWMpO2NvbnN0IHI9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtudWxsPT1ufHxuKHIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6cn0pfWNhdGNoKGUpe3Rocm93IG5ldyBwTyhoTy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZDb25uZWN0aW9uRXh0ZW5zaW9uLnVubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1yZXN0YXJ0SUNFKGUpe3ZhciB0PXRoaXM7cmV0dXJuIE1iKChmdW5jdGlvbiooKXtjb25zdCBpPXlpZWxkIFZiKHQubXV0ZXgubG9jayhcIkZyb20gTlZDb25uZWN0aW9uRXh0ZW5zaW9uLnJlc3RhcnRJQ0VcIikpO3RyeXtpZighdC5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKTtjb25zdCBuPXBQKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbixyPUNEKFwiRk9SQ0VfVFVSTl9UQ1BcIil8fHQuZm9yY2VUdXJuO2lmKGU9PT1TeC5SRUxBWSYmIW4pcmV0dXJuO2lmKG4mJiFyKXtjb25zdCBpPWU9PT1TeC5SRUxBWT9cInJlbGF5XCI6XCJhbGxcIixuPXQucGVlckNvbm5lY3Rpb24uZ2V0Q29uZmlndXJhdGlvbigpO24uaWNlVHJhbnNwb3J0UG9saWN5IT09aSYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0b3JlLmNsaWVudElkLFwiXSByZXN0YXJ0SUNFIGNoYW5nZSBpY2VUcmFuc3BvcnRQb2xpY3kgZnJvbSBbXCIpLmNvbmNhdChuLmljZVRyYW5zcG9ydFBvbGljeSxcIl0gdG8gW1wiKS5jb25jYXQoaSxcIl1cIikpLG4uaWNlVHJhbnNwb3J0UG9saWN5PWksdC5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKG4pKX10LnJlbW90ZVNEUC51cGRhdGVDYW5kaWRhdGVzKGUpO2NvbnN0IG89eWllbGQgVmIodC5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pKTtpZighby5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVjYXVzZSByZXN0YXJ0IG9mZmVyIFNEUCBkb2VzIG5vdCBleGlzdC5cIik7Y29uc3Qgcz1PRihvLnNkcCkse3JlbW90ZUljZVBhcmFtZXRlcnM6YX09eWllbGQgcy5pY2VQYXJhbWV0ZXJzO3QucmVtb3RlU0RQLnJlc3RhcnRJQ0UoYSk7Y29uc3QgYz10LnJlbW90ZVNEUC50b1N0cmluZygpLGQ9dC5sb2dTRFBFeGNoYW5nZShvLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwicmVzdGFydElDRVwiKTt0LnN0b3JlLmRlc2NyaXB0aW9uU3RhcnQoKSx5aWVsZCBWYih0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obykpLG51bGw9PWR8fGQoYykseWllbGQgVmIodC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpjfSkpfWNhdGNoKGUpe2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RvcmUuY2xpZW50SWQsXCJdIHJlc3RhcnQgSUNFIGZhaWxlZCwgYWJvcnQgb3BlcmF0aW9uXCIpLGUpfWZpbmFsbHl7aSgpfX0pKSgpfWFzeW5jIGV4dGVuZENhbmRpZGF0ZSgpe2lmKCF0aGlzLnJlbW90ZVNEUHx8dGhpcy5pc0ZpcnN0Q29ubmVjdGVkKXJldHVybjtjb25zdCBlPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkZyb20gTlZDb25uZWN0aW9uRXh0ZW5zaW9uLmV4dGVuZENhbmRpZGF0ZVwiKTt0cnl7dGhpcy5yZW1vdGVTRFAudXBkYXRlQ2FuZGlkYXRlcyhTeC5UQ1BfUkVMQVkpLGF3YWl0IHFGKHRoaXMucGVlckNvbm5lY3Rpb24sdGhpcy5yZW1vdGVTRFAsdGhpcy5leHRlbnNpb24pfWNhdGNoKGUpe2lQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGV4dGVuZCBjYW5kaWRhdGUgZmFpbGVkLCBhYm9ydCBvcGVyYXRpb25cIiksZSl9ZmluYWxseXtlKCl9fWNsb3NlKCl7dmFyIGU7dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5mb3JFYWNoKChlPT57d2oodGhpcy5pZCtlLm1pZCx0aGlzKX0pKSx0aGlzLnByZU1lZGlhTWFwLmZvckVhY2goKGU9PntsZXR7cGxheWVyOnR9PWU7dCYmdC5kZXN0cm95KCl9KSksdGhpcy5wcmVNZWRpYU1hcC5jbGVhcigpLHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKSxudWxsPT09KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLFwiY2xvc2VkXCIpLHRoaXMudHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCksdGhpcy51bmJpbmRQQ0V2ZW50cygpLHRoaXMudW5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlcj12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5kZXN0cm95KCksdGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5jbGVhcigpLHRoaXMucmVjb3ZlcmVkRGF0YUNoYW5uZWxJZHM9W10sdGhpcy5jdXJyZW50RGF0YUNoYW5uZWxJZD0xfWdldFN0YXRzKCl7cmV0dXJuIHJKKHJKKHt9LHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U3RhdHMoKSkse30se3F1YWxpdHlMaW1pdGF0aW9uUmVhc29uOnRoaXMucXVhbGl0eUxpbWl0YXRpb25SZWFzb259KX1nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0VmlkZW9Jc1JlYWR5KGUpfWFzeW5jIHVwZGF0ZUVuY29kZXJDb25maWcoZSx0KXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIE5WQ29ubmVjdGlvbkV4dGVuc2lvbi51cGRhdGVFbmNvZGVyQ29uZmlnIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLG49dGhpcy5tdW5nU2VuZE9mZmVyU0RQKGkuc2RwLFt0XSxbZV0pO3RoaXMucmVtb3RlU0RQLnVwZGF0ZVJlY3ZNZWRpYShlLHQpO2NvbnN0IHI9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxvPXRoaXMubG9nU0RQRXhjaGFuZ2UobixcIm9mZmVyXCIsXCJsb2NhbFwiLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpufSksbnVsbD09b3x8byhyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnJ9KX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRVhDSEFOR0VfU0RQX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyB1cGRhdGVTZW5kUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkPT09ZSkpOzE9PT1pLmxlbmd0aCYmKHRoaXMuaXNWUDhTaW11bGNhc3QodCk/QncoKXx8YXdhaXQgdGhpcy5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyhpLFt0XSk6YXdhaXQgdGhpcy5hcHBseVNlbmRFbmNvZGluZ3MoaSxbdF0pKX1zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShlLHQpe3RoaXMuc3RhdHNGaWx0ZXIuc2V0VmlkZW9Jc1JlYWR5MihlLHQpfWFzeW5jIHJlcGxhY2VUcmFjayhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5lLm1pZD09PXQpKTtpJiZhd2FpdCBpLnNlbmRlci5yZXBsYWNlVHJhY2soZS5fbWVkaWFTdHJlYW1UcmFjayl9YXN5bmMgZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCl7Y29uc3QgZT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpO2lmKGUubGVuZ3RoPjAmJmVbMF0udHJhbnNwb3J0JiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQmJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXImJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKSl7Y29uc3QgdD1lWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQse2xvY2FsOmkscmVtb3RlOm59PXQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCk7cmV0dXJue2xvY2FsOnJKKHJKKHt9LHpOKSx7fSx7Y2FuZGlkYXRlVHlwZTppLnR5cGUscHJvdG9jb2w6aS5wcm90b2NvbCxhZGRyZXNzOmkuYWRkcmVzcyxwb3J0OmkucG9ydH0pLHJlbW90ZTpySihySih7fSx6Tikse30se2NhbmRpZGF0ZVR5cGU6bi50eXBlLHByb3RvY29sOm4ucHJvdG9jb2wsYWRkcmVzczpuLmFkZHJlc3MscG9ydDpuLnBvcnR9KX19cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCl9YmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7XCJjb25uZWN0ZWRcIj09PXRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlJiYodGhpcy5pc0ZpcnN0Q29ubmVjdGVkPSEwKSxudWxsPT09KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZWVycm9yPWU9PntpZihlJiYoZS5lcnJvckNvZGV8fGUuZXJyb3JUZXh0KSl7dmFyIHQ7Y29uc3QgaT1cImNvZGU6IFwiLmNvbmNhdChlLmVycm9yQ29kZSxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdChlLmVycm9yVGV4dCksbj1lLnBvcnQ/XCJsb2NhbDogXCIuY29uY2F0KGUucG9ydCk6XCJcIixyPW1GKGUudXJsfHxcIlwiKTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBOVkNvbm5lY3Rpb25FeHRlbnNpb24ub25JQ0VDYW5kaWRhdGVFcnJvcihcIikuY29uY2F0KGksXCIpLCB1cmw6IFwiKS5jb25jYXQocnx8XCJcIixcIiwgaG9zdF9jYW5kaWRhdGU6XCIpLmNvbmNhdChuKSksbnVsbD09PSh0PXRoaXMub25JQ0VDYW5kaWRhdGVFcnJvcil8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGkpfX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlPWU9PntlJiZlLnRhcmdldCYmXCJpY2VHYXRoZXJpbmdTdGF0ZVwiaW4gZS50YXJnZXQmJmlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBSVENQZWVyQ29ubmVjdGlvbi5vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlKFwiKS5jb25jYXQoZS50YXJnZXQuaWNlR2F0aGVyaW5nU3RhdGUsXCIpXCIpKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1lPT57ZS5jYW5kaWRhdGU/dGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50Kz0xOih0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWQ9ITAsaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGxvY2FsIGNhbmRpZGF0ZSBjb3VudFwiKSx0aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQpKX0sc2V0VGltZW91dCgoKCk9Pnt0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZHx8KHRoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkPSEwLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBvbmljZWNhbmRpZGF0ZSB0aW1lb3V0LCBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSl9KSxDRChcIkNBTkRJREFURV9USU1FT1VUXCIpKX11bmJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZWVycm9yPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub250cmFjaz1udWxsfXN0YXRpYyByZXNvbHZlUENDb25maWd1cmF0aW9uKHQpe2NvbnN0IGk9e2ljZVNlcnZlcnM6W119LG49dC5jbG91ZFByb3h5U2VydmVyfHxcImRpc2FibGVkXCI7cmV0dXJuIHQuaWNlU2VydmVycz9pLmljZVNlcnZlcnM9dC5pY2VTZXJ2ZXJzOnQudHVyblNlcnZlciYmKHhPKHQudHVyblNlcnZlci5zZXJ2ZXJzKT9pLmljZVNlcnZlcnM9dC50dXJuU2VydmVyLnNlcnZlcnM6Q0QoXCJORVdfVFVSTl9NT0RFXCIpJiZpLmljZVNlcnZlcnMmJlwiZGlzYWJsZWRcIj09PW4/KENEKFwiVVNFX1RVUk5fU0VSVkVSX09GX0dBVEVXQVlcIik/dC50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSYmaS5pY2VTZXJ2ZXJzLnB1c2goLi4uZS5uZXdUdXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKHQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkpKTppLmljZVNlcnZlcnMucHVzaCguLi5lLm5ld1R1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnModC50dXJuU2VydmVyLnNlcnZlcnMpKSxDRChcIk5FV19GT1JDRV9UVVJOXCIpJiYoaS5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiKSk6XCJvZmZcIiE9PXQudHVyblNlcnZlci5tb2RlJiYoaS5pY2VTZXJ2ZXJzJiZpLmljZVNlcnZlcnMucHVzaCguLi5lLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnModC50dXJuU2VydmVyLnNlcnZlcnMpKSxDRChcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpJiZpLmljZVNlcnZlcnMmJnQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJmkuaWNlU2VydmVycy5wdXNoKC4uLmUudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyh0LnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5KSksQ0QoXCJGT1JDRV9UVVJOX1RDUFwiKT9pLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCI6dC50dXJuU2VydmVyLnNlcnZlcnMuY29uY2F0KHQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXl8fFtdKS5mb3JFYWNoKChlPT57ZS5mb3JjZXR1cm4mJihpLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpfSkpKSksQ0QoXCJFTkFCTEVfRU5DT0RFRF9UUkFOU0ZPUk1cIikmJnBQKCkuc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm0mJihpLmVuY29kZWRJbnNlcnRhYmxlU3RyZWFtcz0hMCksaX1zdGF0aWMgdHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PntlLnNlY3VyaXR5P2UudGNwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChzRihlLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KTooZS51ZHBwb3J0JiYhQ0QoXCJGT1JDRV9UVVJOX1RDUFwiKSYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudWRwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksZS50Y3Bwb3J0JiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSl9KSksdH1zdGF0aWMgbmV3VHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9Pntjb25zdCBpPUNEKFwiTkVXX1RVUk5fTU9ERVwiKTsxPT09aT90LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOjM0Nzg/dHJhbnNwb3J0PXVkcFwiKX0pOjI9PT1pP3QucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6MzQ3OD90cmFuc3BvcnQ9dGNwXCIpfSk6Mz09PWk/dC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChzRihlLnR1cm5TZXJ2ZXJVUkwpLFwiOjQ0Mz90cmFuc3BvcnQ9dGNwXCIpfSk6ND09PWkmJih0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOjM0Nzg/dHJhbnNwb3J0PXVkcFwiKX0pLHQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6MzQ3OD90cmFuc3BvcnQ9dGNwXCIpfSksdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChzRihlLnR1cm5TZXJ2ZXJVUkwpLFwiOjQ0Mz90cmFuc3BvcnQ9dGNwXCIpfSkpfSkpLHR9dHJ5QmluZFRyYW5zcG9ydEV2ZW50cyhlKXtjb25zdCB0PWUudHJhbnNwb3J0O2lmKHQpe3RoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlcj1lLHQub25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGwhPXQmJnQuc3RhdGUmJihudWxsPT09KGU9dGhpcy5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHQuc3RhdGUpKX0sdC5vbmVycm9yPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkRUTFNUcmFuc3BvcnRFcnJvcil8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLFwiZXJyb3JcImluIGU/ZS5lcnJvcjplKX07Y29uc3QgaT10LmljZVRyYW5zcG9ydDtpJiYoaS5vbnN0YXRlY2hhbmdlPSgpPT57Y29uc3QgZT1udWxsPT10P3ZvaWQgMDp0LmljZVRyYW5zcG9ydC5zdGF0ZTt2YXIgaTtlJiYobnVsbD09PShpPXRoaXMub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWl8fGkuY2FsbCh0aGlzLGUpKX0saS5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXImJihpLm9uc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlPSgpPT57aWYoaS5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKSl7Y29uc3R7bG9jYWw6ZSxyZW1vdGU6dH09aS5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKXx8e307aWYoZSYmdCl7Y29uc3QgaT1lLmFkZHJlc3MrXCI6XCIrZS5wb3J0LG49dC5hZGRyZXNzK1wiOlwiK3QucG9ydDtpUC5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBzZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2U6IGxvY2FsIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobUYoaSkpLFwiLCByZW1vdGUgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShtRihuKSkpKX19fSkpfX10cnlVbmJpbmRUcmFuc3BvcnRFdmVudHMoKXt0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXImJnRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlci50cmFuc3BvcnQmJih0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0Lm9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0Lm9uZXJyb3I9bnVsbCx0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0LmljZVRyYW5zcG9ydCYmKHRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlci50cmFuc3BvcnQuaWNlVHJhbnNwb3J0Lm9uc3RhdGVjaGFuZ2U9bnVsbCkpfWFzeW5jIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhlLHQpe3ZhciBpLG47aWYoIXQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCk7dD1pLmZpbmQoKHQ9PnQudHJhY2s9PT1lLl9tZWRpYVN0cmVhbVRyYWNrKSl9aWYoIXQpcmV0dXJuIGlQLndhcm4oXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSBubyBydHBTZW5kZXIgZm91bmR9XCIpKTtpZih0aGlzLmlzVlA4U2ltdWxjYXN0KGUpKXJldHVybiBpUC53YXJuKFwiW3VwZGF0ZVJ0cFNlbmRlckVuY29kaW5nc10gVHJhY2sgaXMgVlA4IHNpbXVsY2FzdCwgcGxlYXNlIGFwcGx5IHNpbXVsY2FzdCBlbmNvZGluZ3NcIik7aWYoIXBQKCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnMpcmV0dXJuIGlQLndhcm4oXCJbdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzXSBCcm93c2VyIG5vdCBzdXBwb3J0IHNldCBydHAtc2VuZGVyIHBhcmFtZXRlcnNcIik7Y29uc3Qgcj17fSxvPXt9O3N3aXRjaChlLl9vcHRpbWl6YXRpb25Nb2RlKXtjYXNlXCJtb3Rpb25cIjpyLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLWZyYW1lcmF0ZVwiO2JyZWFrO2Nhc2VcImRldGFpbFwiOnIuZGVncmFkYXRpb25QcmVmZXJlbmNlPVwibWFpbnRhaW4tcmVzb2x1dGlvblwiO2JyZWFrO2Nhc2VcImJhbGFuY2VkXCI6ci5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJiYWxhbmNlZFwifWNvbnN0IHM9ZkYodGhpcy5wZWVyQ29ubmVjdGlvbixlLl9tZWRpYVN0cmVhbVRyYWNrKSxhPUpMKGUpO2lmKElqKGUpJiZzJiZ0JiZhJiZ0aGlzLmdldExvY2FsVmlkZW9TdGF0cyYmTG4oaT1bXCJ2cDhcIixcInZwOVwiXSkuY2FsbChpLHRoaXMuc3RvcmUuY29kZWMpKXt2YXIgYztjb25zdCBpPXIuZGVncmFkYXRpb25QcmVmZXJlbmNlfHwoTG4oYz1lLl9oaW50cykuY2FsbChjLFZQLkNVU1RPTV9UUkFDSyk/Q0QoXCJDVVNUT01fQURBUFRBVElPTl9ERUZBVUxUX01PREVcIik6XCJtYWludGFpbi1mcmFtZXJhdGVcIik7YmoodGhpcy5pZCtzLm1pZCxhLHRoaXMsaSwoZT0+e3QmJnRoaXMudXBkYXRlQWRhcHRhdGlvbih0LGUpfSksdGhpcy5nZXRMb2NhbFZpZGVvU3RhdHMuYmluZCh0aGlzKSl9aWYoZS5fZW5jb2RlckNvbmZpZyl7dmFyIGQ7Y29uc3R7Yml0cmF0ZU1heDp0LGZyYW1lUmF0ZTppLHNjYWxlUmVzb2x1dGlvbkRvd25CeTpufT1lLl9lbmNvZGVyQ29uZmlnO3QmJihvLm1heEJpdHJhdGU9MWUzKnQpLChMbihkPWUuX2hpbnRzKS5jYWxsKGQsVlAuTE9XX1NUUkVBTSl8fGUuaXNVc2VTY2FsZVJlc29sdXRpb25Eb3duQnkpJiYoaSYmKG8ubWF4RnJhbWVyYXRlPWRGKGkpKSxuJiZuPj0xJiYoby5zY2FsZVJlc29sdXRpb25Eb3duQnk9bikpfWNvbnN0e21heEZyYW1lcmF0ZTpsfT1DRChcIkVOQ09ERVJfQ09ORklHX0xJTUlUXCIpO2lmKGwmJlwibnVtYmVyXCI9PXR5cGVvZiBsJiYoby5tYXhGcmFtZXJhdGU9by5tYXhGcmFtZXJhdGU/TWF0aC5taW4oby5tYXhGcmFtZXJhdGUsbCk6bCksQ0QoXCJEU0NQX1RZUEVcIikmJnNPKCkpe3ZhciB1O2NvbnN0IGU9Q0QoXCJEU0NQX1RZUEVcIik7TG4odT1bXCJ2ZXJ5LWxvd1wiLFwibG93XCIsXCJtZWRpdW1cIixcImhpZ2hcIl0pLmNhbGwodSxlKSYmKG8ubmV0d29ya1ByaW9yaXR5PWUpfWNvbnN0IGg9dC5nZXRQYXJhbWV0ZXJzKCkscD1udWxsPT09KG49aC5lbmNvZGluZ3MpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuWzBdO0J3KCkmJiFwJiYoci5lbmNvZGluZ3M9W29dKSxwJiZPYmplY3QuYXNzaWduKHAsbyksT2JqZWN0LmFzc2lnbihoLHIpLGlQLmRlYnVnKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGguZW5jb2RpbmdzKSkpLGF3YWl0IHQuc2V0UGFyYW1ldGVycyhoKSxhd2FpdCBRRih0aGlzLnN0b3JlLmNvZGVjLHQsQ0QoXCJTVkNfTU9ERVwiKSl9YXN5bmMgdXBkYXRlQWRhcHRhdGlvbihlLHQpe3ZhciBpLG47aWYoIWUpcmV0dXJuIGlQLmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIG5vIHJ0cFNlbmRlciBmb3VuZFwiKTtpZighcFAoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm4gaVAuZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gQnJvd3NlciBub3Qgc3VwcG9ydCBzZXQgcnRwLXNlbmRlciBwYXJhbWV0ZXJzXCIpO2NvbnN0IHI9e30se2JpdHJhdGVNYXg6byxmcmFtZVJhdGU6cyxzY2FsZVJlc29sdXRpb25Eb3duQnk6YX09dDtvJiYoci5tYXhCaXRyYXRlPTFlMypvKSxzJiYoci5tYXhGcmFtZXJhdGU9ZEYocykpLGEmJmE+PTEmJkxuKGk9W1widnA4XCIsXCJ2cDlcIl0pLmNhbGwoaSx0aGlzLnN0b3JlLmNvZGVjKSYmKHIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5PWEpO2NvbnN0IGM9ZS5nZXRQYXJhbWV0ZXJzKCksZD1udWxsPT09KG49Yy5lbmNvZGluZ3MpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuWzBdO2QmJk9iamVjdC5hc3NpZ24oZCxyKSxPYmplY3QuYXNzaWduKGMse30pO3RyeXthd2FpdCBlLnNldFBhcmFtZXRlcnMoYyksaVAuZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoYy5lbmNvZGluZ3MpKSl9Y2F0Y2godCl7IShcInRyYW5zcG9ydFwiaW4gZSl8fGUudHJhbnNwb3J0JiZcImNvbm5lY3RlZFwiPT09ZS50cmFuc3BvcnQuc3RhdGU/XCJjb25uZWN0ZWRcIiE9PXRoaXMucGVlckNvbm5lY3Rpb25TdGF0ZT9pUC5kZWJ1ZyhcIlt1cGRhdGVBZGFwdGF0aW9uXSBwZWVyQ29ubmVjdGlvbiBub3QgY29ubmVjdGVkfVwiKTppUC5kZWJ1ZyhcIlt1cGRhdGVBZGFwdGF0aW9uXSB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MgZmFpbGVkXCIsdCk6aVAuZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gcnRwU2VuZGVyIHRyYW5zcG9ydCBub3QgY29ubmVjdGVkfVwiKX19YXN5bmMgYXBwbHlTZW5kRW5jb2RpbmdzKGUsdCl7dHJ5e2lmKCFwUCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybjtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybjtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj1lW2ldLHI9dFtpXTtyIGluc3RhbmNlb2Yga00mJiF0aGlzLmlzVlA4U2ltdWxjYXN0KHIpJiZhd2FpdCB0aGlzLnVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhyLG4uc2VuZGVyKX19Y2F0Y2goZSl7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIEFwcGx5IFJUUFNlbmRFbmNvZGluZ3MgZmFpbGVkLlwiKSl9fW11bmdTZW5kT2ZmZXJTRFAoZSx0LGkpe2NvbnN0IG49TEQoZSk7cmV0dXJuIHQuZm9yRWFjaCgoKGUsdCk9Pntjb25zdCByPWlbdF0sbz1uLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT1yKSk7byYmKGtGKG8sZSksRkYobyxlLHRoaXMuc3RvcmUuY29kZWMpKX0pKSxrRChuKX1iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0VmlkZW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt2YXIgbjtudWxsPT09KG49dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKXx8dm9pZCAwPT09bnx8bi5jYWxsKHRoaXMsZSx0LGkpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pnt2YXIgaTtudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX19dW5iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PXZvaWQgMH1hc3luYyBhcHBseVNpbXVsY2FzdEZvckZpcmVmb3goZSx0KXtpZihlLmxlbmd0aD09PXQubGVuZ3RoKWZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgaSxuLHIsbyxzO2NvbnN0IGM9ZVthXSxkPXRbYV07aWYoZCBpbnN0YW5jZW9mIGtNJiYhTG4oaT1kLl9oaW50cykuY2FsbChpLFZQLkxPV19TVFJFQU0pJiZudWxsIT09KG49ZC5fZW5jb2RlckNvbmZpZykmJnZvaWQgMCE9PW4mJm4uYml0cmF0ZU1heCYmKG51bGw9PT0ocj1kLl9lbmNvZGVyQ29uZmlnKXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaXRyYXRlTWF4KT4yMDAmJm51bGwhPT0obz1kLl9zY2FsYWJpbGl0eU1vZGUpJiZ2b2lkIDAhPT1vJiZvLm51bVNwYXRpYWxMYXllcnMmJihudWxsPT09KHM9ZC5fc2NhbGFiaWxpdHlNb2RlKXx8dm9pZCAwPT09cz92b2lkIDA6cy5udW1TcGF0aWFsTGF5ZXJzKT4xJiZcInZwOFwiPT09dGhpcy5zdG9yZS5jb2RlYyl7Y29uc3QgZT17fSx0PXtoaWdoOjFlMyooZC5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LTUwKSxtZWRpdW06NWU0fTtlLmVuY29kaW5ncz1be3JpZDpcIm1cIixhY3RpdmU6ITAsbWF4Qml0cmF0ZTp0Lm1lZGl1bSxzY2FsZVJlc29sdXRpb25Eb3duQnk6NH0se3JpZDpcImhcIixhY3RpdmU6ITAsbWF4Qml0cmF0ZTp0LmhpZ2h9XTtjb25zdCBpPWMuc2VuZGVyLmdldFBhcmFtZXRlcnMoKTthd2FpdCBjLnNlbmRlci5zZXRQYXJhbWV0ZXJzKE9iamVjdC5hc3NpZ24oaSxlKSl9fX1hc3luYyBhcHBseVNpbXVsY2FzdEVuY29kaW5ncyhlLHQpe2lmKCFCdygpJiZlLmxlbmd0aD09PXQubGVuZ3RoKWZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBuPXRbaV07aWYobiBpbnN0YW5jZW9mIGtNJiZ0aGlzLmlzVlA4U2ltdWxjYXN0KG4pKXtjb25zdCB0PWVbaV0scj17fSxvPXtoaWdoOjFlMyoobi5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LTUwKSxtZWRpdW06NWU0fTtyLmVuY29kaW5ncz1be2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImhpZ2hcIixwcmlvcml0eTpcImhpZ2hcIixtYXhCaXRyYXRlOm8uaGlnaH0se2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImxvd1wiLHByaW9yaXR5OlwibG93XCIsbWF4Qml0cmF0ZTpvLm1lZGl1bSxzY2FsZVJlc29sdXRpb25Eb3duQnk6NH1dO2NvbnN0IHM9dC5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2F3YWl0IHQuc2VuZGVyLnNldFBhcmFtZXRlcnMoT2JqZWN0LmFzc2lnbihzLHIpKX19fWlzVlA4U2ltdWxjYXN0KGUpe3ZhciB0LGksbixyLG87cmV0dXJuISEoZSBpbnN0YW5jZW9mIGtNJiZDRChcIlNJTVVMQ0FTVFwiKSYmXCJ2cDhcIj09PXRoaXMuc3RvcmUuY29kZWMmJiFMbih0PWUuX2hpbnRzKS5jYWxsKHQsVlAuTE9XX1NUUkVBTSkmJm51bGwhPT0oaT1lLl9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09aSYmaS5iaXRyYXRlTWF4JiYobnVsbD09PShuPWUuX2VuY29kZXJDb25maWcpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmJpdHJhdGVNYXgpPjIwMCYmbnVsbCE9PShyPWUuX3NjYWxhYmlsaXR5TW9kZSkmJnZvaWQgMCE9PXImJnIubnVtU3BhdGlhbExheWVycyYmKG51bGw9PT0obz1lLl9zY2FsYWJpbGl0eU1vZGUpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm51bVNwYXRpYWxMYXllcnMpPjEpfWxvZ1NEUEV4Y2hhbmdlKGUsdCxpLG4pe2lmKENEKFwiU0RQX0xPR0dJTkdcIikpcmV0dXJuIGlQLnVwbG9hZChcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZXhjaGFuZ2luZyBcIikuY29uY2F0KGksXCIgXCIpLmNvbmNhdCh0LFwiIFNEUCBkdXJpbmcgTlZDb25uZWN0aW9uRXh0ZW5zaW9uLlwiKS5jb25jYXQobixcIlxcblwiKSxlKSxcIm9mZmVyXCI9PT10P2U9Pnt0aGlzLmxvZ1NEUEV4Y2hhbmdlKGUsXCJhbnN3ZXJcIixcImxvY2FsXCI9PT1pP1wicmVtb3RlXCI6XCJsb2NhbFwiLG4pfTp2b2lkIDB9YXN5bmMgZ2V0UmVtb3RlU1NSQyhlKXtpZighdGhpcy5yZW1vdGVTRFApcmV0dXJuO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAuZ2V0U1NSQyhlKTtyZXR1cm4gdCYmMCE9PXQubGVuZ3RoP3RbMF0uc3NyY0lkOnZvaWQgMH1zZXRDb25maWd1cmF0aW9uKHQpe2lmKHBQKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbil7Y29uc3QgaT1lLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCk7dGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGkpfXQuaXNQcmVhbGxvY2F0aW9uJiYodGhpcy5pc1ByZWFsbG9jYXRpb249ITApfX0sRFYoaUoucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIsW3NKXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlKLnByb3RvdHlwZSxcInVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllc1wiKSxpSi5wcm90b3R5cGUpLERWKGlKLnByb3RvdHlwZSxcImNvbm5lY3RcIixbc0pdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaUoucHJvdG90eXBlLFwiY29ubmVjdFwiKSxpSi5wcm90b3R5cGUpLERWKGlKLnByb3RvdHlwZSxcInVwZGF0ZVJlbW90ZUNvbm5lY3RcIixbc0pdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaUoucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlQ29ubmVjdFwiKSxpSi5wcm90b3R5cGUpLERWKGlKLnByb3RvdHlwZSxcImNyZWF0ZURhdGFDaGFubmVsc1wiLFtzSl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpSi5wcm90b3R5cGUsXCJjcmVhdGVEYXRhQ2hhbm5lbHNcIiksaUoucHJvdG90eXBlKSxEVihpSi5wcm90b3R5cGUsXCJyZWNlaXZlXCIsW3NKXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlKLnByb3RvdHlwZSxcInJlY2VpdmVcIiksaUoucHJvdG90eXBlKSxEVihpSi5wcm90b3R5cGUsXCJiYXRjaFJlY2VpdmVcIixbc0pdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaUoucHJvdG90eXBlLFwiYmF0Y2hSZWNlaXZlXCIpLGlKLnByb3RvdHlwZSksRFYoaUoucHJvdG90eXBlLFwic3RvcFJlY2VpdmluZ1wiLFtzSl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpSi5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIpLGlKLnByb3RvdHlwZSksRFYoaUoucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiLFtzSl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpSi5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIpLGlKLnByb3RvdHlwZSksRFYoaUoucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIsW3NKXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlKLnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiKSxpSi5wcm90b3R5cGUpLERWKGlKLnByb3RvdHlwZSxcIm11dGVMb2NhbFwiLFtzSl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpSi5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIiksaUoucHJvdG90eXBlKSxEVihpSi5wcm90b3R5cGUsXCJ1bm11dGVMb2NhbFwiLFtzSl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpSi5wcm90b3R5cGUsXCJ1bm11dGVMb2NhbFwiKSxpSi5wcm90b3R5cGUpLERWKGlKLnByb3RvdHlwZSxcImNsb3NlXCIsW3NKXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlKLnByb3RvdHlwZSxcImNsb3NlXCIpLGlKLnByb3RvdHlwZSksRFYoaUoucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiLFtzSl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpSi5wcm90b3R5cGUsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIpLGlKLnByb3RvdHlwZSksRFYoaUoucHJvdG90eXBlLFwidXBkYXRlU2VuZFBhcmFtZXRlcnNcIixbc0pdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaUoucHJvdG90eXBlLFwidXBkYXRlU2VuZFBhcmFtZXRlcnNcIiksaUoucHJvdG90eXBlKSxEVihpSi5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIixbc0pdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaUoucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIpLGlKLnByb3RvdHlwZSksRFYoaUoucHJvdG90eXBlLFwidXBkYXRlQWRhcHRhdGlvblwiLFtzSl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpSi5wcm90b3R5cGUsXCJ1cGRhdGVBZGFwdGF0aW9uXCIpLGlKLnByb3RvdHlwZSksRFYoaUoucHJvdG90eXBlLFwiZ2V0UmVtb3RlU1NSQ1wiLFtzSl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpSi5wcm90b3R5cGUsXCJnZXRSZW1vdGVTU1JDXCIpLGlKLnByb3RvdHlwZSksaUopO2Z1bmN0aW9uIHNKKGUsdCxpKXtjb25zdCBuPWVbdF07aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIGkudmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMubXV0ZXgsaT1hd2FpdCBlLmxvY2soXCJGcm9tIE5WQ29ubmVjdGlvbkV4dGVuc2lvbi5cIi5jb25jYXQodCkpO3RyeXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShyKSxzPTA7czxyO3MrKylvW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gYXdhaXQgbi5hcHBseSh0aGlzLG8pfWZpbmFsbHl7aSgpfX0saX12YXIgYUo7ZnVuY3Rpb24gY0ooZSl7dmFyIHQsaSxuLHI9Mjtmb3IoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmKGk9RmIsbj1TeW1ib2wuaXRlcmF0b3IpO3ItLTspe2lmKGkmJm51bGwhPSh0PWVbaV0pKXJldHVybiB0LmNhbGwoZSk7aWYobiYmbnVsbCE9KHQ9ZVtuXSkpcmV0dXJuIG5ldyBkSih0LmNhbGwoZSkpO2k9XCJAQGFzeW5jSXRlcmF0b3JcIixuPVwiQEBpdGVyYXRvclwifXRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgaXMgbm90IGFzeW5jIGl0ZXJhYmxlXCIpfWZ1bmN0aW9uIGRKKGUpe2Z1bmN0aW9uIHQoZSl7aWYoT2JqZWN0KGUpIT09ZSlyZXR1cm4gcnAucmVqZWN0KG5ldyBUeXBlRXJyb3IoZStcIiBpcyBub3QgYW4gb2JqZWN0LlwiKSk7dmFyIHQ9ZS5kb25lO3JldHVybiBycC5yZXNvbHZlKGUudmFsdWUpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybnt2YWx1ZTplLGRvbmU6dH19KSl9cmV0dXJuIGRKPWZ1bmN0aW9uKGUpe3RoaXMucz1lLHRoaXMubj1lLm5leHR9LGRKLnByb3RvdHlwZT17czpudWxsLG46bnVsbCxuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcy5uLmFwcGx5KHRoaXMucyxhcmd1bWVudHMpKX0scmV0dXJuOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucy5yZXR1cm47cmV0dXJuIHZvaWQgMD09PWk/cnAucmVzb2x2ZSh7dmFsdWU6ZSxkb25lOiEwfSk6dChpLmFwcGx5KHRoaXMucyxhcmd1bWVudHMpKX0sdGhyb3c6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5zLnJldHVybjtyZXR1cm4gdm9pZCAwPT09aT9ycC5yZWplY3QoZSk6dChpLmFwcGx5KHRoaXMucyxhcmd1bWVudHMpKX19LG5ldyBkSihlKX1sZXQgbEo9KGFKPWNsYXNzIGUgZXh0ZW5kcyBteHtnZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWdldCBwZWVyQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlfWdldCBpY2VDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGV9Z2V0IGxvY2FsQ29kZWNzKCl7cmV0dXJuIHRoaXMuX3AycENvbm5lY3Rpb24ubG9jYWxDb2RlY3N9Y29uc3RydWN0b3IodCxpKXtzdXBlcih0LGkpLGlBKHRoaXMsXCJuYW1lXCIsXCJEYXRhQ2hhbm5lbENvbm5lY3Rpb25cIiksaUEodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxpQSh0aGlzLFwicGVlckNvbm5lY3Rpb25cIix2b2lkIDApLGlBKHRoaXMsXCJjbmFtZVwiLHZvaWQgMCksaUEodGhpcyxcIm11dGV4XCIsbmV3IFBOKFwiRGF0YUNoYW5uZWxDb25uZWN0aW9uLW11dGV4XCIpKSxpQSh0aGlzLFwiZGF0YUNoYW5uZWxcIix2b2lkIDApLGlBKHRoaXMsXCJfcDJwQ29ubmVjdGlvblwiLHZvaWQgMCksaUEodGhpcyxcImVzdGFibGlzaFByb21pc2VcIix2b2lkIDApLGlBKHRoaXMsXCJfbnZNZWRpYVwiLHZvaWQgMCksdGhpcy5zdG9yZT1pLHRoaXMuc3RvcmUuZGNJZD10aGlzLnN0b3JlLmRjSWQrMSx0aGlzLnBlZXJDb25uZWN0aW9uPW5ldyBSVENQZWVyQ29ubmVjdGlvbihlLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCkse29wdGlvbmFsOlt7Z29vZ0RzY3A6ITB9XX0pLHRoaXMuZGF0YUNoYW5uZWw9dGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbChcImFnb3JhLXNpZ25hbFwiLHtvcmRlcmVkOiExLG1heFBhY2tldExpZmVUaW1lOjUwfSksdGhpcy5kYXRhQ2hhbm5lbC5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0aGlzLl9wMnBDb25uZWN0aW9uPW5ldyBvSih0LGksdGhpcy5wZWVyQ29ubmVjdGlvbiksdGhpcy5iaW5kUENFdmVudHMoKSx0aGlzLmVzdGFibGlzaFByb21pc2U9dGhpcy5fcDJwQ29ubmVjdGlvbi5lc3RhYmxpc2hQcm9taXNlfWdldFByZU1lZGlhKGUpe3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5fcDJwQ29ubmVjdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UHJlTWVkaWEoZSl9aXNQcmVTdWIoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuX3AycENvbm5lY3Rpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlzUHJlU3ViKCkpJiZ2b2lkIDAhPT1lJiZlfWFzeW5jIGVzdGFibGlzaCgpe3JldHVybiBhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLmVzdGFibGlzaCgpfWdldFAyUENvbm5lY3Rpb25QYXJhbXMoKXtyZXR1cm4gdGhpcy5fcDJwQ29ubmVjdGlvbi5lc3RhYmxpc2hQcm9taXNlfXVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhlKXtyZXR1cm4gdGhpcy5fcDJwQ29ubmVjdGlvbi51cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MoZSl9YXN5bmMgY29ubmVjdChlKXtyZXR1cm4gdGhpcy5jbmFtZT1lLmNuYW1lLGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24uY29ubmVjdChlKSxhd2FpdCBuZXcgcnAoKCh0LGkpPT57Y29uc3Qgbj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuY2xvc2VTaWduYWwoKSxpKG5ldyB1UChoTy5EQVRBQ0hBTk5FTF9DT05ORUNUSU9OX1RJTUVPVVQsXCJEYXRhY2hhbm5lbCBjb25uZWN0aW9uIHRpbWVkIG91dCwgY2FuZGlkYXRlczogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUuY2FuZGlkYXRlcykpKSl9KSxDRChcIkRDX0NPTk5FQ1RJT05fVElNRU9VVFwiKSk7dGhpcy5kYXRhQ2hhbm5lbC5vbm9wZW49KCk9PntpZihcIm9wZW5cIj09PXRoaXMuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSlyZXR1cm4gY2xlYXJUaW1lb3V0KG4pLHZvaWQgdCgpfSx0aGlzLmRhdGFDaGFubmVsLm9uZXJyb3I9ZT0+e3RoaXMuY2xvc2VTaWduYWwoKSxpKGUpfSx0aGlzLmRhdGFDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCgoKT0+e2kobmV3IHVQKGhPLkRBVEFDSEFOTkVMX0NPTk5FQ1RJT05fVElNRU9VVCkpfSkpfSkpLHt0cmFuc21pdHRlcjp0aGlzLmRhdGFDaGFubmVsLGNsb3NlOnRoaXMuY2xvc2VTaWduYWwuYmluZCh0aGlzKX19YXN5bmMgdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUsdCl7cmV0dXJuIHRoaXMuX3AycENvbm5lY3Rpb24udXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUsdCl9c2VuZChlLHQsaSl7dmFyIG49dGhpcztyZXR1cm4gTWIoKGZ1bmN0aW9uKigpe2NvbnN0IHI9eWllbGQgVmIobi5tdXRleC5sb2NrKFwiRnJvbSBEYXRhQ2hhbm5lbENvbm5lY3Rpb24uc2VuZFwiKSk7dHJ5e3JldHVybiB5aWVsZCp4YihjSihuLl9wMnBDb25uZWN0aW9uLnNlbmQoZSx0LGkpKSl9ZmluYWxseXtyKCl9fSkpKCl9YXN5bmMgc3RvcFNlbmRpbmcoZSx0KXtyZXR1cm4gdGhpcy5fcDJwQ29ubmVjdGlvbi5zdG9wU2VuZGluZyhlLHQpfWFzeW5jIGNyZWF0ZURhdGFDaGFubmVscyhlLHQpe3JldHVybiB0aGlzLl9wMnBDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVscyhlLHQpfWFzeW5jIHN0b3BEYXRhQ2hhbm5lbHMoZSl7cmV0dXJuIHRoaXMuX3AycENvbm5lY3Rpb24uc3RvcERhdGFDaGFubmVscyhlKX1hc3luYyByZWNlaXZlKGUsdCxpLG4pe3JldHVybiB0aGlzLl9udk1lZGlhPyhpUC5kZWJ1ZyhcIltEYXRhQ2hhbm5lbENvbm5lY3Rpb25dIHJlY2VpdmUgXCIuY29uY2F0KGUsXCIgYnkgRGF0YUNoYW5uZWwuXCIpKSxhd2FpdCB0aGlzLl9udk1lZGlhLnJldmVpdmVCeVJUQ01lZGlhKGUsdCx0aGlzLmNuYW1lKSk6KGlQLmRlYnVnKFwiW0RhdGFDaGFubmVsQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBieSBXZWJSVEMuXCIpKSxhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLnJlY2VpdmUoZSx0LGksbikpfWFzeW5jIGJhdGNoUmVjZWl2ZShlKXtyZXR1cm5bLi4uYXdhaXQgdGhpcy5fcDJwQ29ubmVjdGlvbi5iYXRjaFJlY2VpdmUoZSldfWFzeW5jIHN0b3BSZWNlaXZpbmcoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyhlKX1hc3luYyBtdXRlUmVtb3RlKGUpe3JldHVybiBhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLm11dGVSZW1vdGUoZSl9YXN5bmMgdW5tdXRlUmVtb3RlKGUpe3JldHVybiBhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLnVubXV0ZVJlbW90ZShlKX1hc3luYyBtdXRlTG9jYWwoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24ubXV0ZUxvY2FsKGUpfWFzeW5jIHVubXV0ZUxvY2FsKGUpe3JldHVybiBhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLnVubXV0ZUxvY2FsKGUpfXJlc3RhcnRJQ0UoZSl7dmFyIHQ9dGhpcztyZXR1cm4gTWIoKGZ1bmN0aW9uKigpe3JldHVybiB5aWVsZCp4YihjSih0Ll9wMnBDb25uZWN0aW9uLnJlc3RhcnRJQ0UoZSkpKX0pKSgpfWNsb3NlKCl7dmFyIGU7bnVsbD09PShlPXRoaXMuX252TWVkaWEpfHx2b2lkIDA9PT1lfHxlLmNsb3NlKCksdGhpcy5fcDJwQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLl9wMnBDb25uZWN0aW9uKX1nZXRTdGF0cygpe3JldHVybiB0aGlzLl9wMnBDb25uZWN0aW9uLmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3JldHVybiB0aGlzLl9wMnBDb25uZWN0aW9uLmdldFJlbW90ZVZpZGVvSXNSZWFkeShlKX11cGRhdGVSZW1vdGVDb25uZWN0KGUpe3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5fbnZNZWRpYSl8fHZvaWQgMD09PXR8fHQuc2V0UmVtb3RlUnRwQ2FwYWJpbGl0aWVzKGUpLHRoaXMuX3AycENvbm5lY3Rpb24udXBkYXRlUmVtb3RlQ29ubmVjdChlKX1hc3luYyB1cGRhdGVFbmNvZGVyQ29uZmlnKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24udXBkYXRlRW5jb2RlckNvbmZpZyhlLHQpfWFzeW5jIHVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24udXBkYXRlU2VuZFBhcmFtZXRlcnMoZSx0KX1zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShlLHQpe3RoaXMuX3AycENvbm5lY3Rpb24uc2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoZSx0KX1hc3luYyByZXBsYWNlVHJhY2soZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5fcDJwQ29ubmVjdGlvbi5yZXBsYWNlVHJhY2soZSx0KX1hc3luYyBnZXRSZW1vdGVTU1JDKGUpe3JldHVybiB0aGlzLl9wMnBDb25uZWN0aW9uLmdldFJlbW90ZVNTUkMoZSl9bG9nU0RQRXhjaGFuZ2UoZSx0LGksbil7aWYoQ0QoXCJTRFBfTE9HR0lOR1wiKSlyZXR1cm4gaVAudXBsb2FkKFwiZXhjaGFuZ2luZyBcIi5jb25jYXQoaSxcIiBcIikuY29uY2F0KHQsXCIgU0RQIGR1cmluZyBEYXRhQ2hhbm5lbENvbm5lY3Rpb24uXCIpLmNvbmNhdChuLFwiXFxuXCIpLGUpLFwib2ZmZXJcIj09PXQ/ZT0+e3RoaXMubG9nU0RQRXhjaGFuZ2UoZSxcImFuc3dlclwiLFwibG9jYWxcIj09PWk/XCJyZW1vdGVcIjpcImxvY2FsXCIsbil9OnZvaWQgMH1zdGF0aWMgcmVzb2x2ZVBDQ29uZmlndXJhdGlvbih0KXtjb25zdCBpPXtpY2VTZXJ2ZXJzOltdfTtyZXR1cm4gdC5pY2VTZXJ2ZXJzP2kuaWNlU2VydmVycz10LmljZVNlcnZlcnM6dC50dXJuU2VydmVyJiZcIm9mZlwiIT09dC50dXJuU2VydmVyLm1vZGUmJih4Tyh0LnR1cm5TZXJ2ZXIuc2VydmVycyk/aS5pY2VTZXJ2ZXJzPXQudHVyblNlcnZlci5zZXJ2ZXJzOihpLmljZVNlcnZlcnMmJmkuaWNlU2VydmVycy5wdXNoKC4uLmUudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyh0LnR1cm5TZXJ2ZXIuc2VydmVycykpLENEKFwiVVNFX1RVUk5fU0VSVkVSX09GX0dBVEVXQVlcIikmJmkuaWNlU2VydmVycyYmdC50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSYmaS5pY2VTZXJ2ZXJzLnB1c2goLi4uZS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKHQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkpKSxDRChcIkZPUkNFX1RVUk5fVENQXCIpP2kuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIjp0LnR1cm5TZXJ2ZXIuc2VydmVycy5jb25jYXQodC50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheXx8W10pLmZvckVhY2goKGU9PntlLmZvcmNldHVybiYmKGkuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIil9KSkpKSxDRChcIkVOQUJMRV9FTkNPREVEX1RSQU5TRk9STVwiKSYmcFAoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSYmKGkuZW5jb2RlZEluc2VydGFibGVTdHJlYW1zPSEwKSxpfXN0YXRpYyB0dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUpe2NvbnN0IHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2Uuc2VjdXJpdHk/ZS50Y3Bwb3J0JiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KHNGKGUudHVyblNlcnZlclVSTCksXCI6XCIpLmNvbmNhdChlLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pOihlLnVkcHBvcnQmJiFDRChcIkZPUkNFX1RVUk5fVENQXCIpJiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoZS51ZHBwb3J0LFwiP3RyYW5zcG9ydD11ZHBcIil9KSxlLnRjcHBvcnQmJnQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChlLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pKX0pKSx0fWJpbmRQQ0V2ZW50cygpe3RoaXMuX3AycENvbm5lY3Rpb24ub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9ZT0+e3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzLGUpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcyxlKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT1lPT57dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKHRoaXMsZSl9LHRoaXMuX3AycENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0RXJyb3I9ZT0+e3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5vbkRUTFNUcmFuc3BvcnRFcnJvcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzLGUpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9ZT0+e3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKHRoaXMsZSl9LHRoaXMuX3AycENvbm5lY3Rpb24ub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzLGUpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcyxlKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzLGUpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uRmlyc3RWaWRlb1JlbmRlcj1lPT57dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb1JlbmRlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzLGUpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uRmlyc3RWaWRlb0J1ZmZlclJlYWR5PWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25GaXJzdFZpZGVvQnVmZmVyUmVhZHkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcyxlKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt2YXIgbjtyZXR1cm4gbnVsbD09PShuPXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uY2FsbCh0aGlzLGUsdCxpKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKHRoaXMsZSl9LHRoaXMuX3AycENvbm5lY3Rpb24ub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO3JldHVybiBudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO3JldHVybiBudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0aGlzLGUsdCl9fWNsb3NlU2lnbmFsKCl7dGhpcy5kYXRhQ2hhbm5lbC5jbG9zZSgpLHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKX11bmJpbmRDb25uZWN0aW9uRXZlbnRzKGUpe2Uub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRFcnJvcj12b2lkIDAsZS5vbkZpcnN0QXVkaW9EZWNvZGVkPXZvaWQgMCxlLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCxlLm9uRmlyc3RWaWRlb0RlY29kZWQ9dm9pZCAwLGUub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLGUub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD12b2lkIDB9c2V0Q29uZmlndXJhdGlvbihlKXt0aGlzLl9wMnBDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24oZSl9fSxEVihhSi5wcm90b3R5cGUsXCJjb25uZWN0XCIsW3VKXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFKLnByb3RvdHlwZSxcImNvbm5lY3RcIiksYUoucHJvdG90eXBlKSxEVihhSi5wcm90b3R5cGUsXCJ1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXNcIixbdUpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUoucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIpLGFKLnByb3RvdHlwZSksRFYoYUoucHJvdG90eXBlLFwiY3JlYXRlRGF0YUNoYW5uZWxzXCIsW3VKXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFKLnByb3RvdHlwZSxcImNyZWF0ZURhdGFDaGFubmVsc1wiKSxhSi5wcm90b3R5cGUpLERWKGFKLnByb3RvdHlwZSxcInJlY2VpdmVcIixbdUpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUoucHJvdG90eXBlLFwicmVjZWl2ZVwiKSxhSi5wcm90b3R5cGUpLERWKGFKLnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIixbdUpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUoucHJvdG90eXBlLFwic3RvcFJlY2VpdmluZ1wiKSxhSi5wcm90b3R5cGUpLERWKGFKLnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIixbdUpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUoucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiKSxhSi5wcm90b3R5cGUpLERWKGFKLnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiLFt1Sl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhSi5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIiksYUoucHJvdG90eXBlKSxEVihhSi5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIixbdUpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUoucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIpLGFKLnByb3RvdHlwZSksRFYoYUoucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIixbdUpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUoucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIiksYUoucHJvdG90eXBlKSxEVihhSi5wcm90b3R5cGUsXCJjbG9zZVwiLFt1Sl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhSi5wcm90b3R5cGUsXCJjbG9zZVwiKSxhSi5wcm90b3R5cGUpLERWKGFKLnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIixbdUpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUoucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKSxhSi5wcm90b3R5cGUpLERWKGFKLnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIsW3VKXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFKLnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIpLGFKLnByb3RvdHlwZSksRFYoYUoucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIsW3VKXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFKLnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiKSxhSi5wcm90b3R5cGUpLERWKGFKLnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIixbdUpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUoucHJvdG90eXBlLFwiZ2V0UmVtb3RlU1NSQ1wiKSxhSi5wcm90b3R5cGUpLGFKKTtmdW5jdGlvbiB1SihlLHQsaSl7Y29uc3Qgbj1lW3RdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiBpLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLm11dGV4LGk9YXdhaXQgZS5sb2NrKFwiRnJvbSBEYXRhQ2hhbm5lbENvbm5lY3Rpb24uXCIuY29uY2F0KHQpKTt0cnl7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkocikscz0wO3M8cjtzKyspb1tzXT1hcmd1bWVudHNbc107cmV0dXJuIGF3YWl0IG4uYXBwbHkodGhpcyxvKX1maW5hbGx5e2koKX19LGl9ZnVuY3Rpb24gaEooZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWNsYXNzIHBKIGV4dGVuZHMgTk97Z2V0IHVybCgpe3JldHVybiB0aGlzLl91cmw/dGhpcy5fdXJsOm51bGx9Z2V0IHJlY29ubmVjdE1vZGUoKXtyZXR1cm4gdGhpcy5fcmVjb25uZWN0TW9kZX1zZXQgcmVjb25uZWN0TW9kZShlKXt2YXIgdDtMbih0PVtcInRyeU5leHRcIixcInJlY292ZXJcIl0pLmNhbGwodCxlKSYmdGhpcy5yZXNldFJlY29ubmVjdENvdW50KGUpLHRoaXMuX3JlY29ubmVjdE1vZGU9ZX1nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9c2V0IHN0YXRlKGUpe2UhPT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPWUsXCJyZWNvbm5lY3RpbmdcIj09PXRoaXMuX3N0YXRlP3RoaXMuZW1pdCh3eC5SRUNPTk5FQ1RJTkcsdGhpcy5yZWNvbm5lY3RSZWFzb24pOlwiY29ubmVjdGVkXCI9PT10aGlzLl9zdGF0ZT90aGlzLmVtaXQod3guQ09OTkVDVEVEKTpcImNsb3NlZFwiPT09dGhpcy5fc3RhdGU/dGhpcy5lbWl0KHd4LkNMT1NFRCk6XCJmYWlsZWRcIj09PXRoaXMuX3N0YXRlJiZ0aGlzLmVtaXQod3guRkFJTEVEKSl9Y29uc3RydWN0b3IoZSx0LGksbil7c3VwZXIoKSxpQSh0aGlzLFwiY29ubmVjdGlvbklEXCIsMCksaUEodGhpcyxcImN1cnJlbnRVUkxJbmRleFwiLDApLGlBKHRoaXMsXCJyZWNvbm5lY3RSZWFzb25cIix2b2lkIDApLGlBKHRoaXMsXCJfcmVjb25uZWN0TW9kZVwiLFwidHJ5TmV4dFwiKSxpQSh0aGlzLFwiX2luaXRNdXRleFwiLHZvaWQgMCksaUEodGhpcyxcIl9uYW1lXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3N0YXRlXCIsXCJjbG9zZWRcIiksaUEodGhpcyxcIl9yZWNvbm5lY3RJbnRlcnJ1cHRlclwiLHZvaWQgMCksaUEodGhpcyxcIl91cmxcIix2b2lkIDApLGlBKHRoaXMsXCJfcmV0cnlDb25maWdcIix2b2lkIDApLGlBKHRoaXMsXCJfcmVjb25uZWN0Q291bnRcIiwwKSxpQSh0aGlzLFwiX2ZvcmNlQ2xvc2VUaW1lb3V0XCIsNWUzKSxpQSh0aGlzLFwiX29ubGluZVJlY29ubmVjdExpc3RlbmVyXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2Nsb3NlRXN0YWJsaXNoaW5nVHJhbnNtaXR0ZXJcIiwoKCk9Pnt9KSksaUEodGhpcyxcIl9zdG9yZVwiLHZvaWQgMCksaUEodGhpcyxcIl9qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRJbmRleFwiLHZvaWQgMCksaUEodGhpcyxcIl90cmFuc21pdHRlclwiLHZvaWQgMCksaUEodGhpcyxcIl91c2VDb21wcmVzc1wiLHZvaWQgMCksaUEodGhpcyxcIl9pbmZsYXRlTGVuZ3RoXCIsMCksaUEodGhpcyxcIl9kZWZsYXRlTGVuZ3RoXCIsMCksdGhpcy5fc3RvcmU9bix0aGlzLl9uYW1lPWUsdGhpcy5fcmV0cnlDb25maWc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/aEooT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpQShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6aEooT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9KHt9LHQpLHRoaXMuX3VzZUNvbXByZXNzPWl9cmVzZXRSZWNvbm5lY3RDb3VudChlKXtpUC5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLl9uYW1lLFwiIHJlc2V0IHJlY29ubmVjdCBjb3VudCwgcmVhc29uOiBcIikuY29uY2F0KGUpKSx0aGlzLl9yZWNvbm5lY3RDb3VudD0wfWNsb3NlKGUsdCl7aWYodGhpcy5jdXJyZW50VVJMSW5kZXg9MCx0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJjbG9zZVwiKSx0aGlzLl9yZWNvbm5lY3RJbnRlcnJ1cHRlciYmdGhpcy5fcmVjb25uZWN0SW50ZXJydXB0ZXIoKSx0aGlzLl90cmFuc21pdHRlcil7dGhpcy5fdHJhbnNtaXR0ZXIub25jbG9zZT1udWxsLHRoaXMuX3RyYW5zbWl0dGVyLm9ub3Blbj1udWxsLHRoaXMuX3RyYW5zbWl0dGVyLm9ubWVzc2FnZT1udWxsO2NvbnN0IGU9dGhpcy5fdHJhbnNtaXR0ZXI7dD9zZXRUaW1lb3V0KCgoKT0+ZS5jbG9zZSgpKSw1MDApOmUuY2xvc2UoKSx0aGlzLl90cmFuc21pdHRlcj12b2lkIDB9dGhpcy5zdGF0ZT1lP1wiZmFpbGVkXCI6XCJjbG9zZWRcIix0aGlzLl9jbG9zZUVzdGFibGlzaGluZ1RyYW5zbWl0dGVyJiZ0aGlzLl9jbG9zZUVzdGFibGlzaGluZ1RyYW5zbWl0dGVyKCl9cmVjb25uZWN0KGUsdCl7aWYoIXRoaXMuX3RyYW5zbWl0dGVyKXJldHVybiB2b2lkIGlQLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdIGNhbiBub3QgcmVjb25uZWN0LCBubyB3ZWJzb2NrZXRcIikpO3ZhciBpOyh2b2lkIDAhPT1lJiYodGhpcy5yZWNvbm5lY3RNb2RlPWUpLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9uYW1lLFwiXSByZWNvbm5lY3QgaXMgdHJpZ2dlcmVkIGluaXRpYXRpdmVcIikpLFwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRJbmRleCkmJihudWxsPT09KGk9dGhpcy5fc3RvcmUpfHx2b2lkIDA9PT1pfHxpLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6W25ldyBFcnJvcih0KV19LHRoaXMuX2pvaW5DaGFubmVsU2VydmljZVJlY29yZEluZGV4KSk7Y29uc3Qgbj10aGlzLl90cmFuc21pdHRlci5vbmNsb3NlO3RoaXMuX3RyYW5zbWl0dGVyLm9uY2xvc2U9bnVsbCx0aGlzLl90cmFuc21pdHRlci5jbG9zZSgpLG4mJm4uYmluZCh0aGlzLl90cmFuc21pdHRlcikoe2NvZGU6OTk5OSxyZWFzb246dH0pfWdldEluZmxhdGVEYXRhKCl7Y29uc3QgZT10aGlzLl9pbmZsYXRlTGVuZ3RoLHQ9dGhpcy5fZGVmbGF0ZUxlbmd0aDtyZXR1cm4gdGhpcy5jbGVhckluZmxhdGVEYXRhKCkse2luZmxhdGVMZW5ndGg6ZSxkZWZsYXRlTGVuZ3RoOnR9fXNldEluZmxhdGVEYXRhKGUpe3RoaXMuX2RlZmxhdGVMZW5ndGg9dGhpcy5fZGVmbGF0ZUxlbmd0aCtlLm9yaWdpbkxlbmd0aCx0aGlzLl9pbmZsYXRlTGVuZ3RoPXRoaXMuX2luZmxhdGVMZW5ndGgrZS5jb21wcmVzc2VkTGVuZ3RofWNsZWFySW5mbGF0ZURhdGEoKXt0aGlzLl9pbmZsYXRlTGVuZ3RoPTAsdGhpcy5fZGVmbGF0ZUxlbmd0aD0wfX1sZXQgX0o9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5EZWZhdWx0PTBdPVwiRGVmYXVsdFwiLGVbZS5BY2s9MV09XCJBY2tcIixlfSh7fSk7Y2xhc3MgRUp7Y29uc3RydWN0b3IoZSx0LGkpe2lBKHRoaXMsXCJ2ZXJzaW9uXCIsMSksaUEodGhpcyxcImluaXRpYWxSVE9cIix2b2lkIDApLGlBKHRoaXMsXCJtYXhCYXRjaEFja0NvdW50XCIsdm9pZCAwKSxpQSh0aGlzLFwibWF4UlRPXCIsdm9pZCAwKSxpQSh0aGlzLFwiaW5pdGlhbFJUVFwiLHZvaWQgMCksaUEodGhpcyxcIklEXCIsdm9pZCAwKSxpQSh0aGlzLFwicnR0XCIsdm9pZCAwKSxpQSh0aGlzLFwicGFja2V0TnVtYmVyXCIsMSksaUEodGhpcyxcInJ0b1JhdGlvTWFwXCIsbmV3IE1hcCksaUEodGhpcyxcInRpbWVvdXRNYXBcIixuZXcgTWFwKSxpQSh0aGlzLFwidW5vcmRlcmVkUGFja2V0UXVldWVcIixbXSksaUEodGhpcyxcImJhdGNoQWNrUGFja2V0UXVldWVcIixbXSksaUEodGhpcyxcImxhc3RPcmRlcmVkUGFja2V0TnVtYmVyXCIsMCksaUEodGhpcyxcImJhdGNoQWNrVGltZXJcIix2b2lkIDApLGlBKHRoaXMsXCJzZW5kSW1wbFwiLHZvaWQgMCksaUEodGhpcyxcInJlY2VpdmVJbXBsXCIsdm9pZCAwKSx0aGlzLnNlbmRJbXBsPWUsdGhpcy5yZWNlaXZlSW1wbD10LHRoaXMuSUQ9U04oNyxcInRyYW5zbWl0dGVyLVwiKSx0aGlzLmluaXRpYWxSVE89dm9pZCAwIT09KG51bGw9PWk/dm9pZCAwOmkuaW5pdGlhbFJUTyk/aS5pbml0aWFsUlRPOkNEKFwiVFJBTlNNSVRURVJfSU5JVElBTF9SVE9cIiksdGhpcy5pbml0aWFsUlRUPXZvaWQgMCE9PShudWxsPT1pP3ZvaWQgMDppLmluaXRpYWxSVFQpP2kuaW5pdGlhbFJUVDpDRChcIlRSQU5TTUlUVEVSX0lOSVRJQUxfUlRUXCIpLHRoaXMucnR0PXZvaWQgMCE9PShudWxsPT1pP3ZvaWQgMDppLmluaXRpYWxSVFQpP2kuaW5pdGlhbFJUVDpDRChcIlRSQU5TTUlUVEVSX0lOSVRJQUxfUlRUXCIpLHRoaXMubWF4QmF0Y2hBY2tDb3VudD12b2lkIDAhPT0obnVsbD09aT92b2lkIDA6aS5tYXhCYXRjaEFja0NvdW50KT9pLm1heEJhdGNoQWNrQ291bnQ6Q0QoXCJUUkFOU01JVFRFUl9NQVhfQkFUQ0hfQUNLX0NPVU5UXCIpLHRoaXMubWF4UlRPPXZvaWQgMCE9PShudWxsPT1pP3ZvaWQgMDppLm1heFJUTyk/aS5tYXhSVE86Q0QoXCJUUkFOU01JVFRFUl9NQVhfUlRPXCIpfXBhY2tldGl6ZShlLHQpe3JldHVybnt0eXBlOl9KLkRlZmF1bHQsdmVyc2lvbjp0aGlzLnZlcnNpb24scGFja2V0TnVtYmVyOnQscGF5bG9hZDplfX1zZXJpYWxpemUoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBfSi5EZWZhdWx0OntsZXQgdDtpZihcInN0cmluZ1wiPT10eXBlb2YgZS5wYXlsb2FkKXt0PShuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlLnBheWxvYWQpfWVsc2UgdD1lLnBheWxvYWQ7Y29uc3QgaT1uZXcgQXJyYXlCdWZmZXIodC5sZW5ndGgrMTUpLG49bmV3IERhdGFWaWV3KGkpO24uc2V0VWludDE2KDAsZS52ZXJzaW9uKSxuLnNldFVpbnQ4KDIsZS50eXBlKSxuLnNldFVpbnQzMigzLGUucGFja2V0TnVtYmVyKSx2TyhuLDcsQmlnSW50KGUuc2VuZFRzKSk7cmV0dXJuIG5ldyBVaW50OEFycmF5KG4uYnVmZmVyKS5zZXQodCwxNSksaX1jYXNlIF9KLkFjazp7Y29uc3QgdD1uZXcgQXJyYXlCdWZmZXIoMTYpLGk9bmV3IERhdGFWaWV3KHQpO3JldHVybiBpLnNldFVpbnQxNigwLGUudmVyc2lvbiksaS5zZXRVaW50OCgyLGUudHlwZSksaS5zZXRVaW50MzIoMyxlLm1heEFja1BhY2tldE51bWJlciksaS5zZXRVaW50OCg3LGUuc2hpZnQpLHZPKGksOCxCaWdJbnQoZS5hY2tTZW5kVHMpKSx0fX19ZGVzZXJpYWxpemUoZSl7Y29uc3QgdD1uZXcgRGF0YVZpZXcoZSksaT10LmdldFVpbnQxNigwKSxuPXQuZ2V0VWludDgoMik7c3dpdGNoKG4pe2Nhc2UgX0ouRGVmYXVsdDp7Y29uc3Qgcj10LmdldFVpbnQzMigzKSxvPUNPKHQsNykscz1lLnNsaWNlKDE1KSxhPW5ldyBVaW50OEFycmF5KHMpO3JldHVybnt2ZXJzaW9uOmksdHlwZTpuLHBhY2tldE51bWJlcjpyLHNlbmRUczpOdW1iZXIobykscGF5bG9hZDphfX1jYXNlIF9KLkFjazp7Y29uc3QgZT10LmdldFVpbnQzMigzKSxyPXQuZ2V0VWludDgoNyksbz1DTyh0LDgpO3JldHVybnt2ZXJzaW9uOmksdHlwZTpuLG1heEFja1BhY2tldE51bWJlcjplLHNoaWZ0OnIsYWNrU2VuZFRzOk51bWJlcihvKX19ZGVmYXVsdDp0aHJvdyBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5JRCxcIl0gVW5yZWNvZ25pemVkIHBhY2tldCB0eXBlIFwiKS5jb25jYXQobikpLG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBwYWNrZXQgdHlwZSBcIi5jb25jYXQobikpfX1zZW5kTWVzc2FnZShlKXtDRChcIkRDX0RFQlVHX0xPR1wiKSYmXCJzdHJpbmdcIj09dHlwZW9mIGUmJmlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLklELFwiXSBzZW5kaW5nIG1lc3NhZ2UgcGFja2V0XCIpLEpTT04ucGFyc2UoZSkpO2NvbnN0IHQ9dGhpcy5wYWNrZXRpemUoZSx0aGlzLnBhY2tldE51bWJlcik7dGhpcy5wYWNrZXROdW1iZXI9NDI5NDk2NzI5NT09PXRoaXMucGFja2V0TnVtYmVyPzE6dGhpcy5wYWNrZXROdW1iZXIrMTtjb25zdCBpPXRoaXMuY2FsY3VsYXRlUlRPKHQpLG49d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5yZXNlbmRNZXNzYWdlKHQpfSksaSk7dGhpcy50aW1lb3V0TWFwLnNldCh0LnBhY2tldE51bWJlcixuKSx0aGlzLnNlbmRQYWNrZXQodCl9b25EYXRhKGUpe2NvbnN0IHQ9dGhpcy5kZXNlcmlhbGl6ZShlKTt0LnR5cGU9PT1fSi5EZWZhdWx0P3RoaXMuYWNrKHQpOnQudHlwZT09PV9KLkFjayYmKHRoaXMudXBkYXRlUlRUKHQsTWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKSkpLHRoaXMuY2xlYXJSVE8odCkpfWNsb3NlKCl7dGhpcy5ydHQ9dGhpcy5pbml0aWFsUlRULHRoaXMucGFja2V0TnVtYmVyPTEsQXJyYXkuZnJvbSh0aGlzLnRpbWVvdXRNYXAuZW50cmllcygpKS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZTt3aW5kb3cuY2xlYXJUaW1lb3V0KGkpfSkpLHRoaXMudGltZW91dE1hcD1uZXcgTWFwLHRoaXMucnRvUmF0aW9NYXA9bmV3IE1hcCx0aGlzLnVub3JkZXJlZFBhY2tldFF1ZXVlPVtdLHRoaXMuYmF0Y2hBY2tQYWNrZXRRdWV1ZT1bXSx0aGlzLmxhc3RPcmRlcmVkUGFja2V0TnVtYmVyPTAsdm9pZCAwIT09dGhpcy5iYXRjaEFja1RpbWVyJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuYmF0Y2hBY2tUaW1lcil9cmVzZW5kTWVzc2FnZShlKXtjb25zdCB0PXRoaXMuY2FsY3VsYXRlUlRPKGUpLGk9d2luZG93LnNldFRpbWVvdXQoKCgpPT57Q0QoXCJEQ19ERUJVR19MT0dcIikmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnBheWxvYWQmJmlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLklELFwiXSByZXNlbmRpbmcgbWVzc2FnZSBwYWNrZXRcIiksSlNPTi5wYXJzZShlLnBheWxvYWQpLFwidGltZW91dDogXCIuY29uY2F0KHQpKSx0aGlzLnJlc2VuZE1lc3NhZ2UoZSl9KSx0KTt0aGlzLnRpbWVvdXRNYXAuc2V0KGUucGFja2V0TnVtYmVyLGkpLHRoaXMuc2VuZFBhY2tldChlKX1jYWxjdWxhdGVSVE8oZSl7Y29uc3QgdD10aGlzLnJ0b1JhdGlvTWFwLmdldChlLnBhY2tldE51bWJlcik7aWYodm9pZCAwPT09dClyZXR1cm4gdGhpcy5ydG9SYXRpb01hcC5zZXQoZS5wYWNrZXROdW1iZXIsMSksdGhpcy5pbml0aWFsUlRPO3tjb25zdCBpPTkqdGhpcy5ydHQvOCp0O3JldHVybiB0aGlzLnJ0b1JhdGlvTWFwLnNldChlLnBhY2tldE51bWJlcix0KzEpLGk+dGhpcy5tYXhSVE8/dGhpcy5tYXhSVE86aX19dXBkYXRlUlRUKGUsdCl7Y29uc3QgaT1lLmFja1NlbmRUczt0aGlzLnJ0dD10aGlzLnJ0dCooNy84KSsodC1pLXRoaXMucnR0KS84fWFjayhlKXtpZihlLnBhY2tldE51bWJlcj09PXRoaXMubGFzdE9yZGVyZWRQYWNrZXROdW1iZXIrMSlmb3IodGhpcy5iYXRjaEFja1BhY2tldFF1ZXVlLmxlbmd0aD49dGhpcy5tYXhCYXRjaEFja0NvdW50JiZ0aGlzLmJhdGNoQWNrKCksdGhpcy5iYXRjaEFja1RpbWVyP3RoaXMuYmF0Y2hBY2tQYWNrZXRRdWV1ZS5wdXNoKGUpOih0aGlzLmJhdGNoQWNrUGFja2V0UXVldWUucHVzaChlKSx0aGlzLmJhdGNoQWNrVGltZXI9d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5iYXRjaEFjaygpfSksdGhpcy5ydHQvOCkpLHRoaXMubGFzdE9yZGVyZWRQYWNrZXROdW1iZXIrPTEsdGhpcy5yZWNlaXZlSW1wbChlLnBheWxvYWQpOzspe2NvbnN0IGU9dGhpcy51bm9yZGVyZWRQYWNrZXRRdWV1ZVswXTtpZighZSl7dGhpcy51bm9yZGVyZWRQYWNrZXRRdWV1ZS5zaGlmdCgpO2JyZWFrfXRoaXMuYmF0Y2hBY2tUaW1lciYmdGhpcy5iYXRjaEFjaygpLHRoaXMucmVjZWl2ZUltcGwoZS5wYXlsb2FkKSx0aGlzLnVub3JkZXJlZFBhY2tldFF1ZXVlLnNoaWZ0KCksdGhpcy5sYXN0T3JkZXJlZFBhY2tldE51bWJlcis9MX1lbHNlIGlmKGUucGFja2V0TnVtYmVyPD10aGlzLmxhc3RPcmRlcmVkUGFja2V0TnVtYmVyKXtjb25zdCB0PXthY2tTZW5kVHM6ZS5zZW5kVHMsbWF4QWNrUGFja2V0TnVtYmVyOmUucGFja2V0TnVtYmVyLHNoaWZ0OjAsdHlwZTpfSi5BY2ssdmVyc2lvbjp0aGlzLnZlcnNpb259O0NEKFwiRENfREVCVUdfTE9HXCIpJiZpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5JRCxcIl0gc2VuZGluZyBhY2sgcGFja2V0XCIpLHQsXCJwYWNrZXROdW1iZXI6IFwiLmNvbmNhdChlLnBhY2tldE51bWJlcikpLHRoaXMuc2VuZFBhY2tldCh0KX1lbHNlIGlmKGUucGFja2V0TnVtYmVyPnRoaXMubGFzdE9yZGVyZWRQYWNrZXROdW1iZXIpe3RoaXMudW5vcmRlcmVkUGFja2V0UXVldWVbZS5wYWNrZXROdW1iZXItdGhpcy5sYXN0T3JkZXJlZFBhY2tldE51bWJlci0yXT1lO2NvbnN0IHQ9e2Fja1NlbmRUczplLnNlbmRUcyxtYXhBY2tQYWNrZXROdW1iZXI6ZS5wYWNrZXROdW1iZXIsc2hpZnQ6MCx0eXBlOl9KLkFjayx2ZXJzaW9uOnRoaXMudmVyc2lvbn07Q0QoXCJEQ19ERUJVR19MT0dcIikmJmlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLklELFwiXSBzZW5kaW5nIGFjayBwYWNrZXRcIiksdCxcInBhY2tldE51bWJlcjogXCIuY29uY2F0KGUucGFja2V0TnVtYmVyKSksdGhpcy5zZW5kUGFja2V0KHQpfX1iYXRjaEFjaygpe3dpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5iYXRjaEFja1RpbWVyKSx0aGlzLmJhdGNoQWNrVGltZXI9dm9pZCAwO2NvbnN0IGU9e2Fja1NlbmRUczp0aGlzLmJhdGNoQWNrUGFja2V0UXVldWVbdGhpcy5iYXRjaEFja1BhY2tldFF1ZXVlLmxlbmd0aC0xXS5zZW5kVHMsbWF4QWNrUGFja2V0TnVtYmVyOnRoaXMuYmF0Y2hBY2tQYWNrZXRRdWV1ZVt0aGlzLmJhdGNoQWNrUGFja2V0UXVldWUubGVuZ3RoLTFdLnBhY2tldE51bWJlcixzaGlmdDp0aGlzLmJhdGNoQWNrUGFja2V0UXVldWUubGVuZ3RoLTEsdHlwZTpfSi5BY2ssdmVyc2lvbjp0aGlzLnZlcnNpb259O0NEKFwiRENfREVCVUdfTE9HXCIpJiZpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5JRCxcIl0gc2VuZGluZyBiYXRjaCBhY2sgcGFja2V0XCIpLGUsXCJzaGlmdDogXCIuY29uY2F0KHRoaXMuYmF0Y2hBY2tQYWNrZXRRdWV1ZS5sZW5ndGgtMSkpLHRoaXMuc2VuZFBhY2tldChlKSx0aGlzLmJhdGNoQWNrUGFja2V0UXVldWU9W119c2VuZFBhY2tldChlKXtlLnR5cGU9PT1fSi5EZWZhdWx0JiYoZS5zZW5kVHM9TWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKSkpO2NvbnN0IHQ9dGhpcy5zZXJpYWxpemUoZSk7dGhpcy5zZW5kSW1wbCh0KX1jbGVhclJUTyhlKXtmb3IobGV0IHQ9ZS5tYXhBY2tQYWNrZXROdW1iZXItZS5zaGlmdDt0PD1lLm1heEFja1BhY2tldE51bWJlcjt0Kyspe2NvbnN0IGU9dGhpcy50aW1lb3V0TWFwLmdldCh0KTt2b2lkIDAhPT1lJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KGUpLHRoaXMudGltZW91dE1hcC5kZWxldGUodCksdGhpcy5ydG9SYXRpb01hcC5kZWxldGUodCl9fX1jbGFzcyBtSiBleHRlbmRzIHBKe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0LGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sYXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDApLGlBKHRoaXMsXCJfaW5pdE11dGV4XCIsdm9pZCAwKSxpQSh0aGlzLFwiX3JlY29ubmVjdEludGVycnVwdGVyXCIsdm9pZCAwKSxpQSh0aGlzLFwiX3VybFwiLHZvaWQgMCksaUEodGhpcyxcIl90cmFuc21pdHRlclwiLHZvaWQgMCksaUEodGhpcyxcIl9hZGRyZXNzZXNcIix2b2lkIDApLGlBKHRoaXMsXCJfcmVsaWFibGVUcmFuc21pc3Npb25cIix2b2lkIDApLGlBKHRoaXMsXCJfdGV4dEVuY29kZXJcIix2b2lkIDApLGlBKHRoaXMsXCJfdGV4dERlY29kZXJcIix2b2lkIDApLHRoaXMuX3RleHRFbmNvZGVyPW5ldyBUZXh0RW5jb2Rlcix0aGlzLl90ZXh0RGVjb2Rlcj1uZXcgVGV4dERlY29kZXIsdGhpcy5faW5pdE11dGV4PW5ldyBQTihcImRhdGFjaGFubmVsXCIpO2NvbnN0e3RpbWVvdXQ6aSx0aW1lb3V0RmFjdG9yOm59PXQscj1NYXRoLm1heCgzMDAsTWF0aC5mbG9vcigzKmkvNSkpLG89TWF0aC5tYXgoMS4yLE1hdGguZmxvb3IoOCpuKS8xMCk7S08uT05MSU5FJiYodGhpcy5fcmV0cnlDb25maWcudGltZW91dD1yLHRoaXMuX3JldHJ5Q29uZmlnLnRpbWVvdXRGYWN0b3I9byksUU8ub24oWU8uTkVUV09SS19TVEFURV9DSEFOR0UsKChlLHQpPT57ZSE9PXQmJih0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJuZXR3b3JrIHN0YXRlIGNoYW5nZTogXCIuY29uY2F0KHQsXCIgLT4gXCIpLmNvbmNhdChlKSksZT09PUtPLk9OTElORT8odGhpcy5fcmV0cnlDb25maWcudGltZW91dD1yLHRoaXMuX3JldHJ5Q29uZmlnLnRpbWVvdXRGYWN0b3I9byk6KHRoaXMuX3JldHJ5Q29uZmlnLnRpbWVvdXQ9aSx0aGlzLl9yZXRyeUNvbmZpZy50aW1lb3V0RmFjdG9yPW4pKX0pKX1nZXRDb25uZWN0aW9uKCl7aWYodGhpcy5fcmVsaWFibGVUcmFuc21pc3Npb24pcmV0dXJuIHRoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9ufWFzeW5jIGluaXQoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjVlMzt0aGlzLl9mb3JjZUNsb3NlVGltZW91dD10O2NvbnN0IGk9KHQsaSk9Pnt0aGlzLl9hZGRyZXNzZXM9ZSx0aGlzLmN1cnJlbnRVUkxJbmRleD10aGlzLl9hZGRyZXNzZXMuZmluZEluZGV4KChlPT5lLmZpbmdlcnByaW50fHxDRChcIkZJTkdFUlBSSU5UXCIpKSk7Y29uc3Qgbj10aGlzLl9hZGRyZXNzZXNbdGhpcy5jdXJyZW50VVJMSW5kZXhdO3RoaXMuc3RhdGU9XCJjb25uZWN0aW5nXCIsdGhpcy5jcmVhdGVUcmFuc21pdHRlckNvbm5lY3Rpb24obikudGhlbih0KS5jYXRjaChpKSx0aGlzLm9uY2Uod3guQ0xPU0VELCgoKT0+aShuZXcgdVAoaE8uV1NfRElTQ09OTkVDVCkpKSksdGhpcy5vbmNlKHd4LkNPTk5FQ1RFRCwoKCk9PnQoKSkpfTtyZXR1cm4gdGhpcy5faW5pdE11dGV4LmxvY2soKS50aGVuKChlPT5uZXcgcnAoKChlLHQpPT57aShlLHQpfSkpLnRoZW4oKCgpPT57ZSgpfSkpLmNhdGNoKCgoKT0+e2UoKX0pKSkpfWFzeW5jIHNlbmRNZXNzYWdlKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aWYoIXRoaXMuX3RyYW5zbWl0dGVyfHwhdGhpcy5fcmVsaWFibGVUcmFuc21pc3Npb24pdGhyb3cgbmV3IHVQKGhPLldTX0FCT1JULFwiZGF0YWNoYW5uZWwgaXMgbm90IHJlYWR5XCIpO3RyeXt0fHwoZT1KU09OLnN0cmluZ2lmeShlKSk7Y29uc3QgaT10aGlzLl90ZXh0RW5jb2Rlci5lbmNvZGUoZSksbj1ocShpLHtyYXc6ITB9KTt0aGlzLl9yZWxpYWJsZVRyYW5zbWlzc2lvbi5zZW5kTWVzc2FnZShuKX1jYXRjaChlKXt0aHJvdyBuZXcgdVAoaE8uV1NfRVJSLFwic2VuZCBkYXRhY2hhbm5lbCBzaWduYWwgbWVzc2FnZSBlcnJvclwiK2UudG9TdHJpbmcoKSl9fXVuYmluZERjQ2xvc2VFdmVudExpc3RlbmVyKCl7dGhpcy5fdHJhbnNtaXR0ZXImJih0aGlzLl90cmFuc21pdHRlci5vbmNsb3NlPW51bGwpfXNlbmRNZXNzYWdlV2l0aEpTT04oZSl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlKTtyZXR1cm57Y29tcHJlc3NlZDp0LGNvbXByZXNzZWRMZW5ndGg6dC5sZW5ndGgsb3JpZ2luOmV9fXNlbmRNZXNzYWdlV2l0aFVpbnQ4QXJyYXkoZSl7cmV0dXJue2NvbXByZXNzZWQ6ZSxjb21wcmVzc2VkTGVuZ3RoOmUuYnl0ZUxlbmd0aCxvcmlnaW46ZX19Y3JlYXRlVHJhbnNtaXR0ZXJDb25uZWN0aW9uKGUpe3JldHVybiB0aGlzLmNvbm5lY3Rpb25JRCs9MSx0aGlzLl9qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRJbmRleD12b2lkIDAsdGhpcy5fdXJsPVwiZGM6Ly9cIi5jb25jYXQoZS5pcCxcIjpcIikuY29uY2F0KGUucG9ydCksbmV3IHJwKCgodCxpKT0+e3ZhciBuO2NvbnN0IHI9KCk9PntpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbmFtZSxcIl0gZGF0YWNoYW5uZWwgb3BlbmVkOlwiKSx0aGlzLl91cmwpLHRoaXMucmVjb25uZWN0TW9kZT1cInJlY292ZXJcIix0aGlzLnN0YXRlPVwiY29ubmVjdGVkXCIsdGhpcy5yZXNldFJlY29ubmVjdENvdW50KFwib3BlbmVkXCIpLHQoKX0sbz1hc3luYyBlPT57dmFyIG47aWYobnVsbD09PShuPXRoaXMuX2Nsb3NlRXN0YWJsaXNoaW5nVHJhbnNtaXR0ZXIpfHx2b2lkIDA9PT1ufHxuLmNhbGwodGhpcyksaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdIGRhdGFjaGFubmVsIGNsb3NlIFwiKS5jb25jYXQodGhpcy5fdXJsLFwiLCBjb2RlOiBcIikuY29uY2F0KGUuY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KGUucmVhc29uLFwiLCBjdXJyZW50IG1vZGU6IFwiKS5jb25jYXQodGhpcy5yZWNvbm5lY3RNb2RlKSksdGhpcy5fcmVjb25uZWN0Q291bnQ8dGhpcy5fcmV0cnlDb25maWcubWF4UmV0cnlDb3VudCl7XCJjb25uZWN0ZWRcIj09PXRoaXMuc3RhdGUmJih0aGlzLnJlY29ubmVjdFJlYXNvbj1lLnJlYXNvbix0aGlzLnN0YXRlPVwicmVjb25uZWN0aW5nXCIpO2NvbnN0IG49WE8odGhpcyx3eC5XSUxMX1JFQ09OTkVDVCx0aGlzLnJlY29ubmVjdE1vZGUpfHx0aGlzLnJlY29ubmVjdE1vZGUscj1hd2FpdCB0aGlzLnJlY29ubmVjdFdpdGhBY3Rpb24obik7aWYoXCJjbG9zZWRcIj09PXRoaXMuc3RhdGUpcmV0dXJuIHZvaWQgaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvbklELFwiXSBkYyBpcyBjbG9zZWQsIG5vIG5lZWQgdG8gcmVjb25uZWN0XCIpKTtpZighcilyZXR1cm4gaShuZXcgdVAoaE8uV1NfRElTQ09OTkVDVCxcImRhdGFjaGFubmVsIHJlY29ubmVjdCBmYWlsZWQ6IFwiLmNvbmNhdChlLmNvZGUpKSksdm9pZCB0aGlzLmNsb3NlKCEwKTt0KCl9ZWxzZSBpKG5ldyB1UChoTy5XU19ESVNDT05ORUNULFwiZGF0YWNoYW5uZWwgY2xvc2U6IFwiLmNvbmNhdChlLmNvZGUpKSksdGhpcy5jbG9zZSgpfSxzPWFzeW5jIGU9Pnt0cnl7dmFyIHQ7bnVsbD09PSh0PXRoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uKXx8dm9pZCAwPT09dHx8dC5vbkRhdGEoZS5kYXRhKX1jYXRjaChlKXtjb25zb2xlLmxvZyhlKX19O3RoaXMuX3RyYW5zbWl0dGVyJiYodGhpcy5fdHJhbnNtaXR0ZXIub25jbG9zZT1udWxsLHRoaXMuX3RyYW5zbWl0dGVyLmNsb3NlKCkpLHRoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uJiYodGhpcy5fcmVsaWFibGVUcmFuc21pc3Npb24uY2xvc2UoKSx0aGlzLl9yZWxpYWJsZVRyYW5zbWlzc2lvbj12b2lkIDApLGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9uYW1lLFwiXSBzdGFydCBjb25uZWN0LCBhZGRyZXNzOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSk7Y29uc3QgYT1udWxsPT09KG49dGhpcy5fc3RvcmUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiZ2F0ZXdheVwifSksYz1EYXRlLm5vdygpO3pPKHRoaXMsd3guVE9fQ09OTkVDVF9EQVRBQ0hBTk5FTCkudGhlbigoZT0+e3ZhciB0LGk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwidHJhbnNtaXNzb25JbmZvIG5vdCBleGlzdCB5ZXRcIik7Y29uc3R7dHJhbnNtaXR0ZXI6bixjbG9zZTpkfT1lO3RoaXMuX3RyYW5zbWl0dGVyPW4sbnVsbD09PSh0PXRoaXMuX3N0b3JlKXx8dm9pZCAwPT09dHx8dC5zaWduYWxDaGFubmVsT3BlbigpO2NvbnN0IGw9RGF0ZS5ub3coKS1jO2lQLmRlYnVnKFwiW2Nob29zZSBkY10gZGMgb3BlbiBjb3N0IFwiLmNvbmNhdChsLFwibXNcIikpO3RoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uPW5ldyBFSigoZT0+e3ZhciB0O3RoaXMuX3RyYW5zbWl0dGVyJiZcIm9wZW5cIj09PXRoaXMuX3RyYW5zbWl0dGVyLnJlYWR5U3RhdGUmJihudWxsPT09KHQ9dGhpcy5fdHJhbnNtaXR0ZXIpfHx2b2lkIDA9PT10fHx0LnNlbmQoZSkpfSksKGU9PntpZihcInN0cmluZ1wiPT10eXBlb2YgZSl0aGlzLmVtaXQod3guT05fTUVTU0FHRSxlKTtlbHNle2NvbnN0IHQ9X3EoZSx7cmF3OiEwfSkuYnVmZmVyLGk9dGhpcy5fdGV4dERlY29kZXIuZGVjb2RlKHQpO3RoaXMuZW1pdCh3eC5PTl9NRVNTQUdFLGkpfX0pKSx0aGlzLl9jbG9zZUVzdGFibGlzaGluZ1RyYW5zbWl0dGVyPSgpPT57dmFyIGU7bnVsbD09PShlPXRoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uKXx8dm9pZCAwPT09ZXx8ZS5jbG9zZSgpLHRoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uPXZvaWQgMCxkKCl9LHImJnIoKSxuLm9uY2xvc2U9byxuLm9ubWVzc2FnZT1zLG51bGw9PT0oaT10aGlzLl9zdG9yZSl8fHZvaWQgMD09PWl8fGkucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcInN1Y2Nlc3NcIn0sYSksdGhpcy5fam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3JkSW5kZXg9YX0pKS5jYXRjaCgoZT0+e3ZhciB0O2lmKG51bGw9PT0odD10aGlzLl9zdG9yZSl8fHZvaWQgMD09PXR8fHQucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czplIGluc3RhbmNlb2YgdVAmJmUuY29kZT09PWhPLldTX0FCT1JUP1wiYWJvcnRlZFwiOlwiZXJyb3JcIixlcnJvcnM6W2VdfSxhKSxcImNsb3NlZFwiIT09dGhpcy5zdGF0ZSl7aWYoZSBpbnN0YW5jZW9mIHVQJiZlLmNvZGU9PT1oTy5XU19FUlIpe2NvbnN0IHQ9bmV3IHVQKGhPLldTX0VSUixcImluaXQgZGF0YWNoYW5uZWwgZmFpbGVkISBFcnJvcjogXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpO3JldHVybiBpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fbmFtZSxcIl1cIikuY29uY2F0KHQpKSx2b2lkIGkodCl9byYmbyhlKX1lbHNlIGkobmV3IHVQKGhPLldTX0RJU0NPTk5FQ1QsXCJkYXRhY2hhbm5lbCBpcyBjbG9zZWQ6IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKSl9KSl9KSl9YXN5bmMgcmVjb25uZWN0V2l0aEFjdGlvbihlKXtsZXQgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO2lmKHRoaXMuX3JlY29ubmVjdENvdW50Pj10aGlzLl9yZXRyeUNvbmZpZy5tYXhSZXRyeUNvdW50KXJldHVybiExO2lmKCF0aGlzLl9hZGRyZXNzZXMpcmV0dXJuITE7aWYoXCJjbG9zZWRcIj09PXRoaXMuc3RhdGUpcmV0dXJuITE7dGhpcy5fb25saW5lUmVjb25uZWN0TGlzdGVuZXJ8fFFPLm5ldHdvcmtTdGF0ZSE9PUtPLk9GRkxJTkV8fCh0aGlzLl9vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcj1RTy5vbmxpbmVXYWl0ZXImJlFPLm9ubGluZVdhaXRlci50aGVuKCgoKT0+e3RoaXMuX29ubGluZVJlY29ubmVjdExpc3RlbmVyPXZvaWQgMH0pKSk7bGV0IGk9ITA7aWYodGhpcy5fcmVjb25uZWN0SW50ZXJydXB0ZXI9KCk9PntpPSExfSx0KXtjb25zdCB0PU1OKHRoaXMuX3JlY29ubmVjdENvdW50LHRoaXMuX3JldHJ5Q29uZmlnKTtpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbmFtZSxcIl0gd2FpdCBcIikuY29uY2F0KHQsXCJtcyB0byByZWNvbm5lY3QgZGF0YWNoYW5uZWwsIG1vZGU6IFwiKS5jb25jYXQoZSkpLGF3YWl0IHJwLnJhY2UoW2ZOKHQpLHRoaXMuX29ubGluZVJlY29ubmVjdExpc3RlbmVyfHxuZXcgcnAoKCgpPT57fSkpXSl9aWYoXCJjbG9zZWRcIj09PXRoaXMuc3RhdGV8fCFpKXJldHVybiExO3RoaXMuX3JlY29ubmVjdENvdW50Kz0xO2NvbnN0IG49YXN5bmMoZSx0KT0+e3RoaXMuZW1pdCh3eC5SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sdCksYXdhaXQgdGhpcy5jcmVhdGVUcmFuc21pdHRlckNvbm5lY3Rpb24oZSl9O3RyeXtpZihcInJldHJ5XCI9PT1lKXtjb25zdCB0PXRoaXMuX2FkZHJlc3Nlc1t0aGlzLmN1cnJlbnRVUkxJbmRleF07YXdhaXQgbih0LGUpfWVsc2UgaWYoXCJ0cnlOZXh0XCI9PT1lKXt0aGlzLmN1cnJlbnRVUkxJbmRleCs9MTtmb3IobGV0IGU9dGhpcy5jdXJyZW50VVJMSW5kZXg7ZTx0aGlzLl9hZGRyZXNzZXMubGVuZ3RoO2UrKyl7aWYodGhpcy5fYWRkcmVzc2VzW2VdLmZpbmdlcnByaW50fHxDRChcIkZJTkdFUlBSSU5UXCIpKXt0aGlzLmN1cnJlbnRVUkxJbmRleD1lO2JyZWFrfXRoaXMuY3VycmVudFVSTEluZGV4Kz0xfWlmKHRoaXMuY3VycmVudFVSTEluZGV4Pj10aGlzLl9hZGRyZXNzZXMubGVuZ3RoKXJldHVybiBpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbmFtZSxcIl0gdGhlIGF2YWlsYWJsZSBhZGRyZXNzZXMgYXJlIGV4aGF1c3RlZCwgY2hhbmdlIHRvIHJlY292ZXJcIikpLGF3YWl0IHRoaXMucmVjb25uZWN0V2l0aEFjdGlvbihcInJlY292ZXJcIiwhMSk7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdIGRhdGFjaGFubmVsIHVybCBsZW5ndGg6IFwiKS5jb25jYXQodGhpcy5fYWRkcmVzc2VzLmxlbmd0aCxcIiBjdXJyZW50IGluZGV4OiBcIikuY29uY2F0KHRoaXMuY3VycmVudFVSTEluZGV4KSk7Y29uc3QgdD10aGlzLl9hZGRyZXNzZXNbdGhpcy5jdXJyZW50VVJMSW5kZXhdO2F3YWl0IG4odCxlKX1lbHNlXCJyZWNvdmVyXCI9PT1lJiYoaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdIHN0YXJ0IHRvIGZhaWxiYWNrIHRvIHdlYnNvY2tldFwiKSksdGhpcy5yZXNldFJlY29ubmVjdENvdW50KFwicmVjb3ZlciBtb2RlXCIpLHRoaXMuZW1pdCh3eC5GQUlMQkFDSykpO3JldHVybiEwfWNhdGNoKGkpe3ZhciByLG87cmV0dXJuIGlQLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9uYW1lLFwiXSByZWNvbm5lY3QgZmFpbGVkXCIpLGkudG9TdHJpbmcoKSksbnVsbCE9aSYmbnVsbCE9PShyPWkuZGF0YSkmJnZvaWQgMCE9PXImJnIuZGVzYyYmQXJyYXkuaXNBcnJheShpLmRhdGEuZGVzYykmJmkuZGF0YS5kZXNjLmxlbmd0aCYmTG4obz1pLmRhdGEuZGVzYykuY2FsbChvLFwiZHluYW1pYyBrZXkgZXhwaXJlZFwiKT8odGhpcy5lbWl0KHd4Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKSwhMSk6YXdhaXQgdGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKGUsdCl9fX1jbGFzcyBmSiBleHRlbmRzIE5Pe2dldCBjb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlfXNldCBjb25uZWN0aW9uU3RhdGUoZSl7ZSE9PXRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZT1lLGU9PT1WVi5DT05ORUNURUQ/dGhpcy5lbWl0KHhWLldTX0NPTk5FQ1RFRCk6ZT09PVZWLlJFQ09OTkVDVElORz90aGlzLmVtaXQoeFYuV1NfUkVDT05ORUNUSU5HLHRoaXMuX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvbik6ZT09PVZWLkNMT1NFRCYmdGhpcy5lbWl0KHhWLldTX0NMT1NFRCx0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb24pKX1nZXQgY3VycmVudFVSTEluZGV4KCl7cmV0dXJuIHRoaXMud2Vic29ja2V0LmN1cnJlbnRVUkxJbmRleH1nZXQgdXJsKCl7cmV0dXJuIHRoaXMud2Vic29ja2V0P3RoaXMud2Vic29ja2V0LnVybDpudWxsfWdldCBydHQoKXtyZXR1cm4gdGhpcy5ydHRSb2xsaW5nLm1lYW4oKX1wcm9jZXNzUGVuZGluZ05vdGlmaWNhdGlvbnMoKXswIT09dGhpcy5wZW5kaW5nTm90aWZpY2F0aW9ucy5sZW5ndGgmJihpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcHJvY2Vzc2luZyBcIikuY29uY2F0KHRoaXMucGVuZGluZ05vdGlmaWNhdGlvbnMubGVuZ3RoLFwiIHBlbmRpbmcgbm90aWZpY2F0aW9uc1wiKSksdGhpcy5wZW5kaW5nTm90aWZpY2F0aW9ucy5mb3JFYWNoKChlPT57bGV0e3R5cGU6dCxtZXNzYWdlOml9PWU7dGhpcy5lbWl0KHQsaSksdD09PWpWLk9OX05PVElGSUNBVElPTiYmdGhpcy5oYW5kbGVOb3RpZmljYXRpb24oaSksdD09PWpWLk9OX1VTRVJfQkFOTkVEJiZ0aGlzLmhhbmRsZVVzZXJCYW5uZWQoaSl9KSksdGhpcy5wZW5kaW5nTm90aWZpY2F0aW9ucz1bXSl9aGFuZGxlVXNlckJhbm5lZChlKXtzd2l0Y2goZS5lcnJvcl9jb2RlKXtjYXNlIDE0OnRoaXMuY2xvc2UoVk8uVUlEX0JBTk5FRCk7YnJlYWs7Y2FzZSAxNTp0aGlzLmNsb3NlKFZPLklQX0JBTk5FRCk7YnJlYWs7Y2FzZSAxNjp0aGlzLmNsb3NlKFZPLkNIQU5ORUxfQkFOTkVEKX19Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLGlBKHRoaXMsXCJfX25hbWVfX1wiLFwiRGF0YUNoYW5uZWxTaWduYWxcIiksaUEodGhpcyxcIl9kaXNjb25uZWN0ZWRSZWFzb25cIix2b2lkIDApLGlBKHRoaXMsXCJfd2Vic29ja2V0UmVjb25uZWN0UmVhc29uXCIsdm9pZCAwKSxpQSh0aGlzLFwiX2Nvbm5lY3Rpb25TdGF0ZVwiLFZWLkNMT1NFRCksaUEodGhpcyxcInJlY29ubmVjdFRva2VuXCIsdm9pZCAwKSxpQSh0aGlzLFwid2Vic29ja2V0XCIsdm9pZCAwKSxpQSh0aGlzLFwib3BlbkNvbm5lY3Rpb25UaW1lXCIsdm9pZCAwKSxpQSh0aGlzLFwiY2xpZW50SWRcIix2b2lkIDApLGlBKHRoaXMsXCJsYXN0TXNnVGltZVwiLERhdGUubm93KCkpLGlBKHRoaXMsXCJ1cGxvYWRDYWNoZVwiLFtdKSxpQSh0aGlzLFwidXBsb2FkQ2FjaGVJbnRlcnZhbFwiLHZvaWQgMCksaUEodGhpcyxcInJ0dFJvbGxpbmdcIixuZXcgeE4oNSkpLGlBKHRoaXMsXCJwaW5ncG9uZ1RpbWVyXCIsdm9pZCAwKSxpQSh0aGlzLFwiaW5mbGF0ZURhdGFUaW1lclwiLHZvaWQgMCksaUEodGhpcyxcInBpbmdwb25nVGltZW91dENvdW50XCIsMCksaUEodGhpcyxcIm9ydGNcIix2b2lkIDApLGlBKHRoaXMsXCJqb2luUmVzcG9uc2VcIix2b2lkIDApLGlBKHRoaXMsXCJtdWx0aUlwT3B0aW9uXCIsdm9pZCAwKSxpQSh0aGlzLFwiaW5pdEVycm9yXCIsdm9pZCAwKSxpQSh0aGlzLFwic3BlY1wiLHZvaWQgMCksaUEodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxpQSh0aGlzLFwiaXNKb2luaW5nXCIsITEpLGlBKHRoaXMsXCJwZW5kaW5nTm90aWZpY2F0aW9uc1wiLFtdKSxpQSh0aGlzLFwib25XZWJzb2NrZXRNZXNzYWdlXCIsKGU9PntpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIHZvaWQgdGhpcy5lbWl0KHhWLk9OX0JJTkFSWV9EQVRBLGUpO2NvbnN0IHQ9SlNPTi5wYXJzZShlKTtpZihDRChcIkRDX0RFQlVHX0xPR1wiKSYmaVAuZGVidWcoXCJbZGF0YWNoYW5uZWwtc2lnbmFsXSByZWNlaXZlZCBwYWNrZXRcIix0KSx0aGlzLmxhc3RNc2dUaW1lPURhdGUubm93KCksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJfaWRcIikpe2NvbnN0IGU9XCJyZXMtQFwiLmNvbmNhdCh0Ll9pZCk7dGhpcy5lbWl0KGUsdC5fcmVzdWx0LHQuX21lc3NhZ2UpfWVsc2UgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJfdHlwZVwiKSYmKHRoaXMuaXNKb2luaW5nP3QuX3R5cGU9PT1qVi5PTl9OT1RJRklDQVRJT058fHQuX3R5cGU9PT1qVi5PTl9VU0VSX0JBTk5FRD8odGhpcy5lbWl0KHQuX3R5cGUsdC5fbWVzc2FnZSksdC5fdHlwZT09PWpWLk9OX05PVElGSUNBVElPTiYmdGhpcy5oYW5kbGVOb3RpZmljYXRpb24odC5fbWVzc2FnZSksdC5fdHlwZT09PWpWLk9OX1VTRVJfQkFOTkVEJiZ0aGlzLmhhbmRsZVVzZXJCYW5uZWQodC5fbWVzc2FnZSkpOih0aGlzLnBlbmRpbmdOb3RpZmljYXRpb25zLnB1c2goe3R5cGU6dC5fdHlwZSxtZXNzYWdlOnQuX21lc3NhZ2V9KSxpUC5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gY2FjaGVkIG5vdGlmaWNhdGlvbiBkdXJpbmcgam9pbjogXCIpLmNvbmNhdCh0Ll90eXBlKSkpOih0aGlzLmVtaXQodC5fdHlwZSx0Ll9tZXNzYWdlKSx0Ll90eXBlPT09alYuT05fTk9USUZJQ0FUSU9OJiZ0aGlzLmhhbmRsZU5vdGlmaWNhdGlvbih0Ll9tZXNzYWdlKSx0Ll90eXBlPT09alYuT05fVVNFUl9CQU5ORUQmJnRoaXMuaGFuZGxlVXNlckJhbm5lZCh0Ll9tZXNzYWdlKSkpfSkpLHRoaXMuY2xpZW50SWQ9ZS5jbGllbnRJZCx0aGlzLnNwZWM9ZSx0aGlzLnN0b3JlPXQsdGhpcy53ZWJzb2NrZXQ9bmV3IG1KKFwiZ2F0ZXdheS1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksdGhpcy5zcGVjLnJldHJ5Q29uZmlnLCEwLHQpLHRoaXMuaGFuZGxlV2Vic29ja2V0RXZlbnRzKCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1WVi5DT05ORUNURUQmJnRoaXMucmVjb25uZWN0KFwicmV0cnlcIixieC5PRkZMSU5FKX0pKX1hc3luYyByZXF1ZXN0KGUsdCxpLG4pe2NvbnN0IHI9U04oNixcIlwiKSxvPXtfaWQ6cixfdHlwZTplLF9tZXNzYWdlOnR9LHM9dGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklELGE9KCk9Pm5ldyBycCgoKHQsaSk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PVZWLkNPTk5FQ1RFRClyZXR1cm4gdCgpO2NvbnN0IG49KCk9Pnt0aGlzLm9mZih4Vi5XU19DTE9TRUQsciksdCgpfSxyPSgpPT57dGhpcy5vZmYoeFYuV1NfQ09OTkVDVEVELG4pLGkobmV3IHVQKGhPLldTX0FCT1JUKSl9O3RoaXMub25jZSh4Vi5XU19DT05ORUNURUQsbiksdGhpcy5vbmNlKHhWLldTX0NMT1NFRCxyKSxlIT09RlYuUFVCTElTSCYmZSE9PUZWLlNVQlNDUklCRSYmZSE9PUZWLlVOU1VCU0NSSUJFJiZlIT09RlYuVU5QVUJMSVNIJiZlIT09RlYuQ09OVFJPTCYmZSE9PUZWLlJFU1RBUlRfSUNFfHx0aGlzLm9uY2UoeFYuRElTQ09OTkVDVF9QMlAsKCgpPT57aShuZXcgdVAoaE8uRElTQ09OTkVDVF9QMlApKX0pKSxlIT09RlYuUFVCTElTSCYmZSE9PUZWLlJFU1RBUlRfSUNFfHx0aGlzLm9uY2UoeFYuQUJPUlRfUDJQX0VYRUNVVElPTiwoKCk9PntpKG5ldyB1UChoTy5ESVNDT05ORUNUX1AyUCkpfSkpfSkpO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09VlYuQ09OTkVDVElORyYmdGhpcy5jb25uZWN0aW9uU3RhdGUhPT1WVi5SRUNPTk5FQ1RJTkd8fGU9PT1GVi5KT0lOfHxlPT09RlYuUkVKT0lOfHxhd2FpdCBhKCksZT09PUZWLkxFQVZFJiYodGhpcy53ZWJzb2NrZXQudW5iaW5kRGNDbG9zZUV2ZW50TGlzdGVuZXIoKSxuPSEwKSxDRChcIkRDX0RFQlVHX0xPR1wiKSYmaVAuZGVidWcoXCJbZGF0YWNoYW5uZWwtc2lnbmFsXSBzZW5kTWVzc2FnZVwiLG8pLGF3YWl0IHRoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKG8sITAsITEpLG4pcmV0dXJuO2NvbnN0IGM9bmV3IHJwKCgoaSxuKT0+e2xldCBvPSExO2NvbnN0IGE9KG4scik9PntvPSEwLGkoe2lzU3VjY2VzczpcInN1Y2Nlc3NcIj09PW4sbWVzc2FnZTpyfHx7fX0pLHRoaXMub2ZmKHhWLldTX0NMT1NFRCxjKSx0aGlzLm9mZih4Vi5XU19SRUNPTk5FQ1RJTkcsYyksdGhpcy5lbWl0KHhWLlJFUVVFU1RfU1VDQ0VTUyxlLHQpfTt0aGlzLm9uY2UoXCJyZXMtQFwiLmNvbmNhdChyKSxhKTtjb25zdCBjPSgpPT57bihuZXcgdVAoaE8uV1NfQUJPUlQsXCJ0eXBlOiBcIi5jb25jYXQoZSkpKSx0aGlzLm9mZih4Vi5XU19DTE9TRUQsYyksdGhpcy5vZmYoeFYuV1NfUkVDT05ORUNUSU5HLGMpLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQociksYSl9O3RoaXMub25jZSh4Vi5XU19DTE9TRUQsYyksdGhpcy5vbmNlKHhWLldTX1JFQ09OTkVDVElORyxjKSxmTihDRChcIlNJR05BTF9SRVFVRVNUX1RJTUVPVVRcIikpLnRoZW4oKCgpPT57dGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklEIT09c3x8b3x8KGlQLndhcm5pbmcoXCJkYyByZXF1ZXN0IHRpbWVvdXQsIHR5cGU6IFwiLmNvbmNhdChlKSksdGhpcy5lbWl0KHhWLlJFUVVFU1RfVElNRU9VVCxlLHQpKX0pKX0pKTtsZXQgZD1udWxsO3RyeXtkPWF3YWl0IGN9Y2F0Y2gobil7aWYodGhpcy5jb25uZWN0aW9uU3RhdGU9PT1WVi5DTE9TRUR8fGU9PT1GVi5MRUFWRSl0aHJvdyBuZXcgdVAoaE8uV1NfQUJPUlQpO3JldHVybiF0aGlzLnNwZWMuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlfHxpP24udGhyb3coKTplPT09RlYuSk9JTnx8ZT09PUZWLlJFSk9JTj9udWxsOihhd2FpdCBhKCksYXdhaXQgdGhpcy5yZXF1ZXN0KGUsdCkpfWlmKGQuaXNTdWNjZXNzKXJldHVybiBkLm1lc3NhZ2U7Y29uc3QgbD1OdW1iZXIoZC5tZXNzYWdlLmVycm9yX2NvZGV8fGQubWVzc2FnZS5jb2RlKSx1PUJ4KGwpLGg9bmV3IHVQKGhPLlVORVhQRUNURURfUkVTUE9OU0UsXCJcIi5jb25jYXQodS5kZXNjLFwiOiBcIikuY29uY2F0KGQubWVzc2FnZS5lcnJvcl9zdHIpLHtjb2RlOmwsZGF0YTpkLm1lc3NhZ2V9KTtyZXR1cm5cInN1Y2Nlc3NcIj09PXUuYWN0aW9uP2QubWVzc2FnZTooaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklELFwiXSB1bmV4cGVjdGVkIHJlc3BvbnNlIGZyb20gdHlwZSBcIikuY29uY2F0KGUsXCIsIGVycm9yX2NvZGU6IFwiKS5jb25jYXQobCxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdCh1LmRlc2MsXCIsIGFjdGlvbjogXCIpLmNvbmNhdCh1LmFjdGlvbikpLGw9PT1VVi5FUlJfVE9PX01BTllfQlJPQURDQVNURVJTP2U9PT1GVi5KT0lOfHxlPT09RlYuUkVKT0lOPyh0aGlzLmluaXRFcnJvcj1oLHRoaXMuY2xvc2UoKSxoLnRocm93KCkpOmgudGhyb3coKTpcImZhaWxlZFwiPT09dS5hY3Rpb24/aC50aHJvdygpOlwicXVpdFwiPT09dS5hY3Rpb24/KHRoaXMuaW5pdEVycm9yPWgsdGhpcy5jbG9zZSgpLGgudGhyb3coKSk6KGw9PT1VVi5FUlJfSk9JTl9CWV9NVUxUSV9JUD8odGhpcy5tdWx0aUlwT3B0aW9uPWQubWVzc2FnZS5vcHRpb24saVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gZGV0ZWN0IG11bHRpIGlwLCByZWNvdmVyXCIpKSx0aGlzLnJlY29ubmVjdChcInJlY292ZXJcIixieC5NVUxUSV9JUCkpOnRoaXMucmVjb25uZWN0KHUuYWN0aW9uLGJ4LlNFUlZFUl9FUlJPUiksZT09PUZWLkpPSU58fGU9PT1GVi5SRUpPSU4/bnVsbDphd2FpdCB0aGlzLnJlcXVlc3QoZSx0KSkpfXdhaXRNZXNzYWdlKGUsdCl7cmV0dXJuIG5ldyBycCgoaT0+e2NvbnN0IG49cj0+eyghdHx8dChyKSkmJih0aGlzLm9mZihlLG4pLGkocikpfTt0aGlzLm9uKGUsbil9KSl9dXBsb2FkV1JUQ1N0YXRzKGUpe2lmKCF0aGlzLnN0b3JlLnNlc3Npb25JZClyZXR1cm4gdm9pZCBpUC53YXJuKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBubyBzZXNzaW9uIGlkIHdoZW4gdXBsb2FkIHdydGMgc3RhdHNcIikpO2NvbnN0IHQ9e2x0czpEYXRlLm5vdygpLHNpZDp0aGlzLnN0b3JlLnNlc3Npb25JZCx1aWQ6dGhpcy5zdG9yZS5pbnRVaWQsc3RhdHM6ZX07dGhpcy51cGxvYWQoQlYuV1JUQ19TVEFUUyx0KX11cGxvYWQoZSx0KXtjb25zdCBpPXtfdHlwZTplLF9tZXNzYWdlOnR9O3RyeXt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShpKX1jYXRjaChlKXtjb25zdCB0PUNEKFwiTUFYX1VQTE9BRF9DQUNIRVwiKXx8NTA7dGhpcy51cGxvYWRDYWNoZS5wdXNoKGkpLHRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoPnQmJnRoaXMudXBsb2FkQ2FjaGUuc3BsaWNlKDAsMSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+MCYmIXRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCYmKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1WVi5DT05ORUNURUQpcmV0dXJuO2NvbnN0IGU9dGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKVswXTswPT09dGhpcy51cGxvYWRDYWNoZS5sZW5ndGgmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWwpLHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD12b2lkIDApLHRoaXMudXBsb2FkKGUuX3R5cGUsZS5fbWVzc2FnZSl9KSxDRChcIlVQTE9BRF9DQUNIRV9JTlRFUlZBTFwiKXx8MmUzKSl9fWFzeW5jIHNlbmQoZSx0KXtjb25zdCBpPXtfdHlwZTplLF9tZXNzYWdlOnR9O2F3YWl0IHRoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpfWluaXQoZSl7cmV0dXJuIHRoaXMuaW5pdEVycm9yPXZvaWQgMCx0aGlzLm11bHRpSXBPcHRpb249dm9pZCAwLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLm9wZW5Db25uZWN0aW9uVGltZT12b2lkIDAsbmV3IHJwKCgodCxpKT0+e3RoaXMub25jZSh4Vi5XU19DT05ORUNURUQsKCgpPT50KHRoaXMuam9pblJlc3BvbnNlKSkpLHRoaXMub25jZSh4Vi5XU19DTE9TRUQsKCgpPT5pKHRoaXMuaW5pdEVycm9yfHxuZXcgdVAoaE8uV1NfQUJPUlQpKSkpLHRoaXMuY29ubmVjdGlvblN0YXRlPVZWLkNPTk5FQ1RJTkcsdGhpcy53ZWJzb2NrZXQuaW5pdChlKS5jYXRjaChpKSx0aGlzLndlYnNvY2tldC5vbmNlKHd4LkZBSUxCQUNLLCgoKT0+e2kobmV3IHVQKGhPLklOSVRfREFUQUNIQU5ORUxfVElNRU9VVCkpfSkpLHRoaXMuaW5mbGF0ZURhdGFUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pbmZsYXRlRGF0YVRpbWVyKSx0aGlzLmluZmxhdGVEYXRhVGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e3RoaXMuaGFuZGxlSW5mbGF0ZURhdGEoKX0pLDJlNCksc2V0VGltZW91dCgoKCk9Pnt2b2lkIDA9PT10aGlzLm9wZW5Db25uZWN0aW9uVGltZSYmKGlQLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBpbml0IGRhdGFjaGFubmVsIHRpbWVvdXQgd2hpbGUgam9pbiB3aXRoIGZhaWxiYWNrIHRvIHdlYnNvY2tldFwiKSksaShuZXcgdVAoaE8uSU5JVF9EQVRBQ0hBTk5FTF9USU1FT1VUKSkpfSksQ0QoXCJEQ19KT0lOX1dJVEhfRkFJTEJBQ0tcIikpfSkpfWNsb3NlKGUpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMuaW5mbGF0ZURhdGFUaW1lciYmKHRoaXMuaGFuZGxlSW5mbGF0ZURhdGEoKSx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmluZmxhdGVEYXRhVGltZXIpLHRoaXMuaW5mbGF0ZURhdGFUaW1lcj12b2lkIDApLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLmlzSm9pbmluZz0hMSx0aGlzLnBlbmRpbmdOb3RpZmljYXRpb25zPVtdLHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1lfHxWTy5MRUFWRSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1WVi5DTE9TRUQsaVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFwiKStcIndpbGwgY2xvc2UgZGF0YWNoYW5uZWwgaW4gc2lnbmFsXCIpLHRoaXMud2Vic29ja2V0LmNsb3NlKCksZT09PVZPLkZBTExCQUNLJiYodGhpcy53ZWJzb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy53ZWJzb2NrZXQ9bmV3IG1KKFwiZ2F0ZXdheS1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksdGhpcy5zcGVjLnJldHJ5Q29uZmlnLCEwLHRoaXMuc3RvcmUpLHRoaXMuaGFuZGxlV2Vic29ja2V0RXZlbnRzKCkpfWFzeW5jIGpvaW4oKXtpZih0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVBpbmdQb25nLmJpbmQodGhpcyksQ0QoXCJEQ19QSU5HUE9OR19JTlRFUlZBTFwiKSksIXRoaXMuam9pblJlc3BvbnNlKXt0aGlzLmVtaXQoeFYuQUJPUlRfUDJQX0VYRUNVVElPTiksdGhpcy5zdG9yZS5zaWduYWxDb25uZWN0ZWQoKTtjb25zdCBlPWF3YWl0IHpPKHRoaXMseFYuUkVRVUVTVF9KT0lOX0lORk8pO3RoaXMuc3RvcmUuam9pblJlcSgpLHRoaXMuaXNKb2luaW5nPSEwLHRoaXMucGVuZGluZ05vdGlmaWNhdGlvbnM9W107Y29uc3QgdD1hd2FpdCB0aGlzLnJlcXVlc3QoRlYuSk9JTixlKTtpZih0aGlzLnN0b3JlLmpvaW5SZXAoKSx0aGlzLm9ydGM9bnVsbD09ZT92b2lkIDA6ZS5vcnRjLCF0KXJldHVybiB0aGlzLmVtaXQoeFYuUkVQT1JUX0pPSU5fR0FURVdBWSxoTy5USU1FT1VULHRoaXMudXJsfHxcIlwiKSwhMTt0aGlzLmpvaW5SZXNwb25zZT10LHRoaXMuZW1pdCh4Vi5KT0lOX1JFU1BPTlNFLHRoaXMuam9pblJlc3BvbnNlKSx0aGlzLnJlY29ubmVjdFRva2VuPXRoaXMuam9pblJlc3BvbnNlLnJlam9pbl90b2tlbn1yZXR1cm4gdGhpcy5jb25uZWN0aW9uU3RhdGU9VlYuQ09OTkVDVEVELHRoaXMuaXNKb2luaW5nPSExLHRoaXMucHJvY2Vzc1BlbmRpbmdOb3RpZmljYXRpb25zKCksITB9YXN5bmMgcmVqb2luKCl7aWYoIXRoaXMucmVjb25uZWN0VG9rZW4pdGhyb3cgbmV3IHVQKGhPLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IHJlam9pbiwgbm8gcmVqb2luIHRva2VuXCIpO2NvbnN0IGU9Sk8odGhpcyx4Vi5SRVFVRVNUX1JFSk9JTl9JTkZPKTtlLnRva2VuPXRoaXMucmVjb25uZWN0VG9rZW47Y29uc3QgdD1hd2FpdCB0aGlzLnJlcXVlc3QoRlYuUkVKT0lOLGUpO3JldHVybiEhdCYmKHRoaXMuY29ubmVjdGlvblN0YXRlPVZWLkNPTk5FQ1RFRCx0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVBpbmdQb25nLmJpbmQodGhpcyksQ0QoXCJEQ19QSU5HUE9OR19JTlRFUlZBTFwiKSksdC5wZWVycyYmdC5wZWVycy5mb3JFYWNoKChlPT57dGhpcy5lbWl0KGpWLk9OX1VTRVJfT05MSU5FLHt1aWQ6ZS51aWR9KSxlLmF1ZGlvJiZ0aGlzLmVtaXQoalYuT05fQUREX0FVRElPX1NUUkVBTSx7dWlkOmUudWlkLHVpbnRfaWQ6ZS51aW50X2lkLGF1ZGlvOiEwLHNzcmNJZDplLmF1ZGlvX3NzcmN9KSxlLnZpZGVvJiZ0aGlzLmVtaXQoalYuT05fQUREX1ZJREVPX1NUUkVBTSx7dWlkOmUudWlkLHVpbnRfaWQ6ZS51aW50X2lkLHZpZGVvOiEwLHNzcmNJZDplLnZpZGVvX3NzcmN9KSxlLmF1ZGlvX211dGU/dGhpcy5lbWl0KGpWLk1VVEVfQVVESU8se3VpZDplLnVpZH0pOnRoaXMuZW1pdChqVi5VTk1VVEVfQVVESU8se3VpZDplLnVpZH0pLGUudmlkZW9fbXV0ZT90aGlzLmVtaXQoalYuTVVURV9WSURFTyx7dWlkOmUudWlkfSk6dGhpcy5lbWl0KGpWLlVOTVVURV9WSURFTyx7dWlkOmUudWlkfSksZS5hdWRpb19lbmFibGVfbG9jYWw/dGhpcy5lbWl0KGpWLkVOQUJMRV9MT0NBTF9BVURJTyx7dWlkOmUudWlkfSk6dGhpcy5lbWl0KGpWLkRJU0FCTEVfTE9DQUxfQVVESU8se3VpZDplLnVpZH0pLGUudmlkZW9fZW5hYmxlX2xvY2FsP3RoaXMuZW1pdChqVi5FTkFCTEVfTE9DQUxfVklERU8se3VpZDplLnVpZH0pOnRoaXMuZW1pdChqVi5ESVNBQkxFX0xPQ0FMX1ZJREVPLHt1aWQ6ZS51aWR9KSxlLmF1ZGlvfHxlLnZpZGVvfHx0aGlzLmVtaXQoalYuT05fUkVNT1ZFX1NUUkVBTSx7dWlkOmUudWlkLHVpbnRfaWQ6ZS51aW50X2lkfSl9KSksITApfXJlY29ubmVjdChlLHQpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMud2Vic29ja2V0LnJlY29ubmVjdChlLHQpfWFzeW5jIGRvd25ncmFkZUNvZGVjKGUpe2lmKCF0aGlzLm9ydGMpcmV0dXJuITE7Y29uc3QgdD17ZG93bmdyYWRlX2NvZGVjOmUsb3J0Yzp0aGlzLm9ydGN9O3JldHVybiEhYXdhaXQgdGhpcy5yZXF1ZXN0KEZWLkRPV05HUkFERV9DT0RFQyx0KX1oYW5kbGVOb3RpZmljYXRpb24oZSl7aVAuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY2VpdmUgbm90aWZpY2F0aW9uOiBcIiksZSk7Y29uc3QgdD1CeChlLmNvZGUpO2lmKFwic3VjY2Vzc1wiIT09dC5hY3Rpb24pe2lmKFwiZmFpbGVkXCIhPT10LmFjdGlvbilyZXR1cm5cInF1aXRcIj09PXQuYWN0aW9uPyhcIkVSUl9SRVBFQVRfSk9JTl9DSEFOTkVMXCI9PT10LmRlc2MmJnRoaXMuY2xvc2UoVk8uVUlEX0JBTk5FRCksdm9pZCB0aGlzLmNsb3NlKCkpOnZvaWQgdGhpcy5yZWNvbm5lY3QodC5hY3Rpb24sYnguU0VSVkVSX0VSUk9SKTtpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gaWdub3JlIGVycm9yOiBcIiksdC5kZXNjKX19aGFuZGxlUGluZ1BvbmcoKXtpZighdGhpcy53ZWJzb2NrZXR8fFwiY29ubmVjdGVkXCIhPT10aGlzLndlYnNvY2tldC5zdGF0ZSlyZXR1cm47dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD4wJiZ0aGlzLnJ0dFJvbGxpbmcuYWRkKDNlMyksdGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudCs9MSxDRChcIkRDX0RFQlVHX0xPR1wiKSYmY29uc29sZS5kZWJ1ZyhcIltkYXRhY2hhbm5lbC1zaWduYWxdIHBpbmdwb25nVGltZW91dENvdW50OiBcIi5jb25jYXQodGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudCkpO2NvbnN0IGU9Q0QoXCJQSU5HX1BPTkdfVElNRV9PVVRcIiksdD1EYXRlLm5vdygpO3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ+PWUmJihpUC53YXJuaW5nKFwiW2RhdGFjaGFubmVsLXNpZ25hbF0gUElOR1BPTkcgVGltZW91dC4gTGFzdCBTb2NrZXQgTWVzc2FnZTogXCIuY29uY2F0KHQtdGhpcy5sYXN0TXNnVGltZSxcIm1zXCIpKSx0LXRoaXMubGFzdE1zZ1RpbWU+Q0QoXCJXRUJTT0NLRVRfVElNRU9VVF9NSU5cIikpP3RoaXMucmVjb25uZWN0KFwicmVjb3ZlclwiLGJ4LkZBTExCQUNLKTp0aGlzLnJlcXVlc3QoRlYuUElORyx2b2lkIDAsITApLnRoZW4oKCgpPT57dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wO2NvbnN0IGU9RGF0ZS5ub3coKS10O3RoaXMucnR0Um9sbGluZy5hZGQoZSksQ0QoXCJSRVBPUlRfU1RBVFNcIikmJnRoaXMuc2VuZChGVi5QSU5HX0JBQ0sse3Bpbmdwb25nRWxhcHNlOmV9KX0pKS5jYXRjaCgoZT0+e30pKX1oYW5kbGVJbmZsYXRlRGF0YSgpe2NvbnN0e2luZmxhdGVMZW5ndGg6ZSxkZWZsYXRlTGVuZ3RoOnR9PXRoaXMud2Vic29ja2V0LmdldEluZmxhdGVEYXRhKCk7MCE9PWUmJjAhPT10JiZ0aGlzLnVwbG9hZChCVi5XU19JTkZMQVRFX0RBVEFfTEVOR1RILHt3c19kZWZsYXRlX2xlbmd0aDp0LHdzX2luZmxhdGVfbGVuZ3RoOmV9KX1oYW5kbGVXZWJzb2NrZXRFdmVudHMoKXt0aGlzLndlYnNvY2tldC5vbih3eC5SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sKGU9Pnt0aGlzLmVtaXQoeFYuV1NfUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLGUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKHd4Lk9OX01FU1NBR0UsdGhpcy5vbldlYnNvY2tldE1lc3NhZ2UpLHRoaXMud2Vic29ja2V0Lm9uKHd4LkNMT1NFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1WVi5DTE9TRUR9KSksdGhpcy53ZWJzb2NrZXQub24od3guRkFJTEVELCgoKT0+e3RoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1WTy5ORVRXT1JLX0VSUk9SLHRoaXMuY29ubmVjdGlvblN0YXRlPVZWLkNMT1NFRH0pKSx0aGlzLndlYnNvY2tldC5vbih3eC5SRUNPTk5FQ1RJTkcsKGU9Pnt0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb249ZSx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5jb25uZWN0aW9uU3RhdGU9PT1WVi5DT05ORUNURUQ/dGhpcy5jb25uZWN0aW9uU3RhdGU9VlYuUkVDT05ORUNUSU5HOnRoaXMuY29ubmVjdGlvblN0YXRlPVZWLkNPTk5FQ1RJTkd9KSksdGhpcy53ZWJzb2NrZXQub24od3guV0lMTF9SRUNPTk5FQ1QsKChlLHQpPT57aWYoSk8odGhpcyx4Vi5JU19QMlBfRElTQ09OTkVDVEVEKSYmXCJyZXRyeVwiPT09ZSlyZXR1cm4gaVAuZGVidWcoXCJcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIiByZWNvbm5lY3QgbW9kZSBpcyByZXRyeSwgYnV0IHAycCBsb3N0LCBjaGFuZ2UgdG8gdHJ5TmV4dFwiKSksdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5lbWl0KHhWLk5FRURfUkVORVdfU0VTU0lPTiksdGhpcy5lbWl0KHhWLkRJU0NPTk5FQ1RfUDJQKSx0KFwidHJ5TmV4dFwiKTtcInJldHJ5XCIhPT1lJiYoaVAuZGVidWcoXCJcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIiB3ZWJzb2NrdCB3aWxsX2Nvbm5lY3QgZXZlbnQsIHJlbmV3U2Vzc2lvbiByZWNvbm5lY3RNb2RlIGlzIFwiKS5jb25jYXQoZSkpLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMuZW1pdCh4Vi5ORUVEX1JFTkVXX1NFU1NJT04pLHRoaXMuZW1pdCh4Vi5ESVNDT05ORUNUX1AyUCkpLHQoZSl9KSksdGhpcy53ZWJzb2NrZXQub24od3guQ09OTkVDVEVELCgoKT0+e3RoaXMub3BlbkNvbm5lY3Rpb25UaW1lPURhdGUubm93KCksdGhpcy5yZWNvbm5lY3RUb2tlbj90aGlzLnJlam9pbigpLmNhdGNoKChlPT57aVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVqb2luIGZhaWxlZCBcIikuY29uY2F0KGUpKSx0aGlzLnJlY29ubmVjdChcInRyeU5leHRcIixieC5TRVJWRVJfRVJST1IpfSkpOnRoaXMuam9pbigpLmNhdGNoKChlPT57aWYodGhpcy5lbWl0KHhWLlJFUE9SVF9KT0lOX0dBVEVXQVksZS5tZXNzYWdlfHxlLmNvZGUsdGhpcy51cmx8fFwiXCIpLGUgaW5zdGFuY2VvZiB1UCYmZS5jb2RlPT09aE8uVU5FWFBFQ1RFRF9SRVNQT05TRSYmZS5kYXRhLmNvZGU9PT1VVi5FUlJfTk9fQVVUSE9SSVpFRClyZXR1cm4gaVAud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVjb25uZWN0IG5vIGF1dGhvcml6ZWQsIHJlY292ZXJcIikpLHZvaWQgdGhpcy5yZWNvbm5lY3QoXCJyZWNvdmVyXCIsYnguU0VSVkVSX0VSUk9SKTtpUC5lcnJvcihcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gam9pbiBnYXRld2F5IHJlcXVlc3QgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksdGhpcy5zcGVjLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZT90aGlzLnJlY29ubmVjdChcInRyeU5leHRcIixieC5TRVJWRVJfRVJST1IpOih0aGlzLmluaXRFcnJvcj1lLHRoaXMuY2xvc2UoKSl9KSl9KSksdGhpcy53ZWJzb2NrZXQub24od3guUkVRVUVTVF9ORVdfVVJMUywoKGUsdCk9Pnt6Tyh0aGlzLHhWLlJFUVVFU1RfUkVDT1ZFUix0aGlzLm11bHRpSXBPcHRpb24pLnRoZW4oZSkuY2F0Y2godCl9KSksdGhpcy53ZWJzb2NrZXQub24od3guT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUsKCgpPT57dGhpcy5lbWl0KGpWLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKX0pKSx0aGlzLndlYnNvY2tldC5vbih3eC5UT19DT05ORUNUX0RBVEFDSEFOTkVMLCgoZSx0KT0+e3pPKHRoaXMseFYuUFJFX0NPTk5FQ1RfUEMpLnRoZW4oZSkuY2F0Y2godCl9KSksdGhpcy53ZWJzb2NrZXQub24od3guRkFJTEJBQ0ssKCgpPT57dm9pZCAwIT09dGhpcy5vcGVuQ29ubmVjdGlvblRpbWUmJnRoaXMuZW1pdCh4Vi5EQVRBQ0hBTk5FTF9GQUlMQkFDSyl9KSl9fWNvbnN0IFNKPXtuYW1lOlwiRGF0YUNoYW5uZWxDb25uZWN0aW9uXCIsY3JlYXRlOmZ1bmN0aW9uKGUpe2xldHtzdG9yZTp0LHNwZWM6aX09ZTtyZXR1cm4gbmV3IGxKKGksdCl9fTtjb25zdCBnSj17bmFtZTpcIkRhdGFDaGFubmVsU2lnbmFsXCIsY3JlYXRlOmZ1bmN0aW9uKGUpe2xldHtzdG9yZTp0LHNwZWM6aX09ZTtyZXR1cm4gbmV3IGZKKGksdCl9fTt1RCgpLFJEKFwiUFJPQ0VTU19JRFwiLFwicHJvY2Vzcy1cIi5jb25jYXQoU04oOCxcIlwiKSxcIi1cIikuY29uY2F0KFNOKDQsXCJcIiksXCItXCIpLmNvbmNhdChTTig0LFwiXCIpLFwiLVwiKS5jb25jYXQoU04oNCxcIlwiKSxcIi1cIikuY29uY2F0KFNOKDEyLFwiXCIpKSksZnVuY3Rpb24oKXtsZXQgZTt0cnl7ZT13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ3ZWJzZGtfbmdfZ2xvYmFsX3BhcmFtZXRlclwiKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBpUC5lcnJvcihcIkVycm9yIGxvYWRpbmcgc2RrIGNvbmZpZ1wiLGUubWVzc2FnZSl9aWYoZSl0cnl7Y29uc3QgdD1KU09OLnBhcnNlKHdpbmRvdy5hdG9iKGUpKSxpPURhdGUubm93KCk7aVAuZGVidWcoXCJMb2FkaW5nIGdsb2JhbCBwYXJhbWV0ZXJzIGZyb20gY2FjaGVcIix0KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChlPT57aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFRELGUpKXtjb25zdHt2YWx1ZTpuLGV4cGlyZXM6cn09dFtlXTtpZihyJiZyPD1pKXJldHVybjt5RFtlXT1uLFREW2VdPW59fSkpfWNhdGNoKHQpe2lQLmVycm9yKFwiRXJyb3IgbG9hZGluZyBtdXRhYmxlUGFyYW1zQ2FjaGU6IFwiLmNvbmNhdChlKSx0Lm1lc3NhZ2UpfX0oKSxBcnJheS5pc0FycmF5KHlELkFSRUFTKSYmeUQuQVJFQVMubGVuZ3RoPjAmJnZCKHlELkFSRUFTLCEwKTtjb25zdCBUSj0oZSx0LGkpPT57aVAuZGVidWcoXCJzZXRQYXJhbWV0ZXIga2V5OlwiLmNvbmNhdChlLFwiLCB2YWx1ZTpcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSksUkQoZSx0LGkpfTtyQihUcSwhMSksckIoYnEsITEpLHJCKFBXLCExKSxyQihyWCwhMSksckIoZnEsITEpLHJCKEhYLCExKSxyQigkWCwhMSksckIodEosITEpLHJCKFNKLCExKSxyQihnSiwhMSk7Y29uc3QgUko9ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgTk8saT1lLG49e2dldExpc3RlbmVyczp0LmdldExpc3RlbmVycy5iaW5kKHQpLG9uOihlLGkpPT4oZnVuY3Rpb24oZSx0KXtlPT09T3guU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTiYmTUgodCwhMCl9KGUsaSksdC5vbi5iaW5kKHQpKGUsaSkpLGFkZExpc3RlbmVyOnQuYWRkTGlzdGVuZXIuYmluZCh0KSxvbmNlOnQub25jZS5iaW5kKHQpLG9mZjp0Lm9mZi5iaW5kKHQpLHJlbW92ZUFsbExpc3RlbmVyczp0LnJlbW92ZUFsbExpc3RlbmVycy5iaW5kKHQpLGVtaXQ6dC5lbWl0LmJpbmQodCksc2FmZUVtaXQ6dC5zYWZlRW1pdC5iaW5kKHQpfTtyZXR1cm4gTEgoTEgoe30saSksbil9KHtfX1RSQUNLX0xJU1RfXzprUCxWRVJTSU9OOmhELEJVSUxEOlNELEVTTV9CVU5ETEVSOiExLEVTTTohMSxVTUQ6ITAsREVWOiExLHNldFBhcmFtZXRlcjpUSixnZXRQYXJhbWV0ZXI6Q0QsZ2V0U3VwcG9ydGVkQ29kZWM6YXN5bmMgZnVuY3Rpb24oKXtsZXQgZT17YXVkaW86W10sdmlkZW86W119O3RyeXtsZXQgdD1uZXcgUlRDUGVlckNvbm5lY3Rpb247Y29uc3QgaT1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtsZXQgdDtyZXR1cm4gcFAoKS5zdXBwb3J0VW5pZmllZFBsYW4/KGUuYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSksZS5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KSx0PShhd2FpdCBlLmNyZWF0ZU9mZmVyKCkpLnNkcCk6dD0oYXdhaXQgZS5jcmVhdGVPZmZlcih7b2ZmZXJUb1JlY2VpdmVBdWRpbzohMCxvZmZlclRvUmVjZWl2ZVZpZGVvOiEwfSkpLnNkcCx0fSh0KTtpZighaSlyZXR1cm4gZTt0LmNsb3NlKCksdD1udWxsLGU9ZnVuY3Rpb24oZSl7Y29uc3QgdD17dmlkZW86W10sYXVkaW86W119O3JldHVybiBlLm1hdGNoKC8gVlA4L2kpJiZ0LnZpZGVvLnB1c2goXCJWUDhcIiksZS5tYXRjaCgvIFZQOS9pKSYmdC52aWRlby5wdXNoKFwiVlA5XCIpLGUubWF0Y2goLyBBVjEvaSkmJnQudmlkZW8ucHVzaChcIkFWMVwiKSxlLm1hdGNoKC8gSDI2NC9pKSYmdC52aWRlby5wdXNoKFwiSDI2NFwiKSxlLm1hdGNoKC8gSDI2NS9pKSYmdC52aWRlby5wdXNoKFwiSDI2NVwiKSxlLm1hdGNoKC8gb3B1cy9pKSYmdC5hdWRpby5wdXNoKFwiT1BVU1wiKSxlLm1hdGNoKC8gUENNVS9pKSYmdC5hdWRpby5wdXNoKFwiUENNVVwiKSxlLm1hdGNoKC8gUENNQS9pKSYmdC5hdWRpby5wdXNoKFwiUENNQVwiKSxlLm1hdGNoKC8gRzcyMi9pKSYmdC5hdWRpby5wdXNoKFwiRzcyMlwiKSx0fShpKX1jYXRjaChlKXt0aHJvdyBuZXcgdVAoaE8uQ1JFQVRFX09GRkVSX0ZBSUxFRCxlLnRvU3RyaW5nJiZlLnRvU3RyaW5nKCkpLnByaW50KCl9cmV0dXJuIGV9LGNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzOmZ1bmN0aW9uKCl7bGV0IGU9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtjb25zdCB0PWxQLnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOkxPLkNIRUNLX1NZU1RFTV9SRVFVSVJFTUVOVFMsb3B0aW9uczpbXSx0YWc6a08uVFJBQ0VSfSksaT1mdW5jdGlvbigpe2xldCBlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0sdD0hMTt0cnl7Y29uc3QgaT13aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24sbj1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSxyPXdpbmRvdy5XZWJTb2NrZXQ7dD0hKCFpfHwhciksZSYmIW4mJih0PSExKSx0JiZhTygpJiZXdyg3NSkmJihuZXcgaSkuY2xvc2UoKX1jYXRjaChlKXtpUC5lcnJvcihcImNoZWNrIHN5c3RlbSByZXF1aXJlbWVudCBmYWlsZWQ6IFwiLGUpLHQ9ITF9cmV0dXJuIHR9KGUpLG49QUgoKTtpUC5kZWJ1ZyhcImNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzLCBhcGk6XCIsaSxcImJyb3dzZXJcIixuKTtjb25zdCByPWkmJm47cmV0dXJuIHQub25TdWNjZXNzKHIpLENEKFwiSUdOT1JFX1JUQ19ERVZJQ0VfQ0hFQ0tcIik/aTpyfSxnZXREZXZpY2VzOmZ1bmN0aW9uKGUpe3JldHVybiBQTC5lbnVtZXJhdGVEZXZpY2VzKCEwLCEwLGUpfSxnZXRNaWNyb3Bob25lczpmdW5jdGlvbihlKXtyZXR1cm4gUEwuZ2V0UmVjb3JkaW5nRGV2aWNlcyhlKX0sZ2V0Q2FtZXJhczpmdW5jdGlvbihlKXtyZXR1cm4gUEwuZ2V0Q2FtZXJhc0RldmljZXMoZSl9LGdldEVsZWN0cm9uU2NyZWVuU291cmNlczp5TCxnZXRQbGF5YmFja0RldmljZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIFBMLmdldFNwZWFrZXJzKGUpfSxjcmVhdGVDbGllbnQ6SUgsY3JlYXRlQ2FtZXJhVmlkZW9UcmFjazphc3luYyBmdW5jdGlvbigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtjb25zdCB0PUNEKFwiQ0FNRVJBX0NBUFRVUkVfQ09ORklHXCIpLGk9U04oOCxcInRyYWNrLWNhbS1cIiksbj1sUC5yZXBvcnRBcGlJbnZva2UobnVsbCx7aWQ6aSx0YWc6a08uVFJBQ0VSLG5hbWU6TE8uQ1JFQVRFX0NBTV9WSURFT19UUkFDSyxvcHRpb25zOltjTCh7fSxlKSx0XX0pO3QmJihlLmVuY29kZXJDb25maWc9dCk7Y29uc3Qgcj16TChlKTtsZXQgbz1udWxsO2lQLmluZm8oXCJzdGFydCBjcmVhdGUgY2FtZXJhIHZpZGVvIHRyYWNrIHdpdGggY29uZmlnXCIsSlNPTi5zdHJpbmdpZnkoZSksXCJ0cmFja0lkXCIsaSk7dHJ5e289KGF3YWl0IHdMKHt2aWRlbzpyfSxpKSkuZ2V0VmlkZW9UcmFja3MoKVswXXx8bnVsbH1jYXRjaChlKXt0aHJvdyBuLm9uRXJyb3IoZSksZX1pZighbyl7Y29uc3QgZT1uZXcgcE8oaE8uVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCB0cmFjayBpbiBtZWRpYSBzdHJlYW1cIik7cmV0dXJuIG4ub25FcnJvcihlKSxlLnRocm93KGlQKX1pZihlLm9wdGltaXphdGlvbk1vZGUmJlZNKGksbyxlLE9QKGUuZW5jb2RlckNvbmZpZykpLENEKFwiVVNFX1NUQU5EQVJEX0JJVFJBVEVfREVGQVVMVFwiKSl7Y29uc3QgdD1PUChlLmVuY29kZXJDb25maWcpO2UuZW5jb2RlckNvbmZpZz10LGRlbGV0ZSB0LmJpdHJhdGVNYXgsZGVsZXRlIHQuYml0cmF0ZU1pbn1jb25zdCBzPW5ldyBNTShvLGUscixlLnNjYWxhYmlsdHlNb2RlP0RQKGUuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sZS5vcHRpbWl6YXRpb25Nb2RlLGkpO3JldHVybiBuLm9uU3VjY2VzcyhzLmdldFRyYWNrSWQoKSksaVAuaW5mbyhcImNyZWF0ZSBjYW1lcmEgdmlkZW8gc3VjY2VzcywgdHJhY2tJZDpcIixpKSxzfSxjcmVhdGVDdXN0b21WaWRlb1RyYWNrOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9U04oOCxcInRyYWNrLWN1cy1cIiksaT1sUC5yZXBvcnRBcGlJbnZva2UobnVsbCx7aWQ6dCx0YWc6a08uVFJBQ0VSLG5hbWU6TE8uQ1JFQVRFX0NVU1RPTV9WSURFT19UUkFDSyxvcHRpb25zOltlXX0pO0NEKFwiVVNFX1NUQU5EQVJEX0JJVFJBVEVfREVGQVVMVFwiKSYmKGRlbGV0ZSBlLmJpdHJhdGVNYXgsZGVsZXRlIGUuYml0cmF0ZU1pbik7Y29uc3Qgbj1uZXcga00oZS5tZWRpYVN0cmVhbVRyYWNrLHt3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxmcmFtZVJhdGU6ZS5mcmFtZVJhdGUsYml0cmF0ZU1heDplLmJpdHJhdGVNYXgsYml0cmF0ZU1pbjplLmJpdHJhdGVNaW59LGUuc2NhbGFiaWx0eU1vZGU/RFAoZS5zY2FsYWJpbHR5TW9kZSk6e251bVNwYXRpYWxMYXllcnM6MSxudW1UZW1wb3JhbExheWVyczoxfSxlLm9wdGltaXphdGlvbk1vZGUsdCxbVlAuQ1VTVE9NX1RSQUNLXSk7cmV0dXJuIGkub25TdWNjZXNzKG4uZ2V0VHJhY2tJZCgpKSxpUC5pbmZvKFwiY3JlYXRlIGN1c3RvbSB2aWRlbyB0cmFjayBzdWNjZXNzIHdpdGggY29uZmlnXCIsZSxcInRyYWNrSWRcIixuLmdldFRyYWNrSWQoKSksbn0sY3JlYXRlU2NyZWVuVmlkZW9UcmFjazphc3luYyBmdW5jdGlvbigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcImRpc2FibGVcIjtjb25zdCBpPVwib2JqZWN0XCI9PXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2NvbnN0IHQ9cUwoZSk7cmV0dXJuIGdQKCkmJmUuc3VwcHJlc3NMb2NhbEF1ZGlvUGxheWJhY2smJih0LnN1cHByZXNzTG9jYWxBdWRpb1BsYXliYWNrPWUuc3VwcHJlc3NMb2NhbEF1ZGlvUGxheWJhY2spLFRQKCkmJmUucmVzdHJpY3RPd25BdWRpbyYmKHQucmVzdHJpY3RPd25BdWRpbz0hMCksdH0odCk6dm9pZCAwO2kmJih0PVwiYXV0b1wiKTtjb25zdCBuPVNOKDgsXCJ0cmFjay1zY3Itdi1cIikscj1sUC5yZXBvcnRBcGlJbnZva2UobnVsbCx7aWQ6bix0YWc6a08uVFJBQ0VSLG5hbWU6TE8uQ1JFQVRFX1NDUkVFTl9WSURFT19UUkFDSyxvcHRpb25zOltjTCh7fSxlKSx0XX0pO2UuZW5jb2RlckNvbmZpZz9cInN0cmluZ1wiPT10eXBlb2YgZS5lbmNvZGVyQ29uZmlnfHxlLmVuY29kZXJDb25maWcud2lkdGgmJmUuZW5jb2RlckNvbmZpZy5oZWlnaHR8fChlLmVuY29kZXJDb25maWcud2lkdGg9e21heDoxOTIwfSxlLmVuY29kZXJDb25maWcuaGVpZ2h0PXttYXg6MTA4MH0pOmUuZW5jb2RlckNvbmZpZz1cIjEwODBwXzJcIjtjb25zdCBvPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e307ZS5zY3JlZW5Tb3VyY2VUeXBlJiYodC5tZWRpYVNvdXJjZT1lLnNjcmVlblNvdXJjZVR5cGUpLGUuZXh0ZW5zaW9uSWQmJlV3KCkmJih0LmV4dGVuc2lvbklkPWUuZXh0ZW5zaW9uSWQpO2NvbnN0e2Rpc3BsYXlTdXJmYWNlOmksc2VsZkJyb3dzZXJTdXJmYWNlOm4sc3VyZmFjZVN3aXRjaGluZzpyLHN5c3RlbUF1ZGlvOm8scHJlZmVyQ3VycmVudFRhYjpzLHdpbmRvd0F1ZGlvOmEsbW9uaXRvclR5cGVTdXJmYWNlczpjfT1lOyhHdygxMDcpfHxLdygxMDcpfHxRdyg5MykpJiYoaSYmKEVPKGksXCJkaXNwbGF5U3VyZmFjZVwiLFtcImJyb3dzZXJcIixcIndpbmRvd1wiLFwibW9uaXRvclwiXSksdC5kaXNwbGF5U3VyZmFjZT1pKSxuPyhFTyhuLFwic2VsZkJyb3dzZXJTdXJmYWNlXCIsW1wiZXhjbHVkZVwiLFwiaW5jbHVkZVwiXSksdC5zZWxmQnJvd3NlclN1cmZhY2U9bik6dC5zZWxmQnJvd3NlclN1cmZhY2U9XCJpbmNsdWRlXCIsciYmKEVPKHIsXCJzdXJmYWNlU3dpdGNoaW5nXCIsW1wiZXhjbHVkZVwiLFwiaW5jbHVkZVwiXSksdC5zdXJmYWNlU3dpdGNoaW5nPXIpKSwoR3coMTA1KXx8S3coMTA1KXx8UXcoOTEpKSYmbyYmKEVPKG8sXCJzeXN0ZW1BdWRpb1wiLFtcImV4Y2x1ZGVcIixcImluY2x1ZGVcIl0pLHQuc3lzdGVtQXVkaW89byksKEd3KDk0KXx8S3coOTQpfHxRdyg4MCkpJiZzJiYodC5wcmVmZXJDdXJyZW50VGFiPSEwKSwoR3coMTQxKXx8S3coMTQxKXx8UXcoMTI1KSkmJmEmJihFTyhhLFwid2luZG93QXVkaW9cIixbXCJleGNsdWRlXCIsXCJzeXN0ZW1cIl0pLHQud2luZG93QXVkaW89YSksKEd3KDExOSl8fEt3KDExOSl8fFF3KDEwNSkpJiZjJiYoRU8oYyxcIm1vbml0b3JUeXBlU3VyZmFjZXNcIixbXCJleGNsdWRlXCIsXCJpbmNsdWRlXCJdKSx0Lm1vbml0b3JUeXBlU3VyZmFjZXM9YyksZS5lbGVjdHJvblNjcmVlblNvdXJjZUlkJiYodC5zb3VyY2VJZD1lLmVsZWN0cm9uU2NyZWVuU291cmNlSWQpO2NvbnN0IGQ9ZS5lbmNvZGVyQ29uZmlnP05QKGUuZW5jb2RlckNvbmZpZyk6bnVsbDtyZXR1cm4gdC5tYW5kYXRvcnk9e2Nocm9tZU1lZGlhU291cmNlOlwiZGVza3RvcFwiLG1heFdpZHRoOmQ/ZC53aWR0aDp2b2lkIDAsbWF4SGVpZ2h0OmQ/ZC5oZWlnaHQ6dm9pZCAwfSxkJiYoZC5mcmFtZVJhdGUmJihcIm51bWJlclwiPT10eXBlb2YgZC5mcmFtZVJhdGU/KHQubWFuZGF0b3J5Lm1heEZyYW1lUmF0ZT1kLmZyYW1lUmF0ZSx0Lm1hbmRhdG9yeS5taW5GcmFtZVJhdGU9ZC5mcmFtZVJhdGUpOih0Lm1hbmRhdG9yeS5tYXhGcmFtZVJhdGU9ZC5mcmFtZVJhdGUubWF4fHxkLmZyYW1lUmF0ZS5pZGVhbHx8ZC5mcmFtZVJhdGUuZXhhY3R8fHZvaWQgMCx0Lm1hbmRhdG9yeS5taW5GcmFtZVJhdGU9ZC5mcmFtZVJhdGUubWlufHxkLmZyYW1lUmF0ZS5pZGVhbHx8ZC5mcmFtZVJhdGUuZXhhY3R8fHZvaWQgMCksdC5mcmFtZVJhdGU9ZC5mcmFtZVJhdGUpLGQud2lkdGgmJih0LndpZHRoPWQud2lkdGgpLGQuaGVpZ2h0JiYodC5oZWlnaHQ9ZC5oZWlnaHQpKSx0fShlKTtsZXQgcz1udWxsLGE9bnVsbDtjb25zdCBjPXBQKCk7aWYoIWMuc3VwcG9ydFNoYXJlQXVkaW8mJlwiZW5hYmxlXCI9PT10KXtjb25zdCBlPW5ldyBwTyhoTy5OT1RfU1VQUE9SVEVELFwieW91ciBicm93c2VyIG9yIHBsYXRmb3JtIGlzIG5vdCBzdXBwb3J0IHNoYXJlLXNjcmVlbiB3aXRoIGF1ZGlvXCIpO3JldHVybiByLm9uRXJyb3IoZSksZS50aHJvdyhpUCl9aVAuaW5mbyhcInN0YXJ0IGNyZWF0ZSBzY3JlZW4gdmlkZW8gdHJhY2sgd2l0aCBjb25maWdcIixlLFwid2l0aEF1ZGlvXCIsdCxcInRyYWNrSWRcIixuKTtjb25zdCBkPWMuc3VwcG9ydFNoYXJlQXVkaW8mJlwiZGlzYWJsZVwiIT09dDt0cnl7Y29uc3QgZT1hd2FpdCB3TCh7c2NyZWVuOm8sc2NyZWVuQXVkaW86ZD9pfHwhMDp2b2lkIDB9LG4pO3M9ZS5nZXRWaWRlb1RyYWNrcygpWzBdfHxudWxsLGE9ZS5nZXRBdWRpb1RyYWNrcygpWzBdfHxudWxsfWNhdGNoKGUpe3Rocm93IHIub25FcnJvcihlKSxlfWlmKCFzKXtjb25zdCBlPW5ldyBwTyhoTy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHRyYWNrIGluIG1lZGlhIHN0cmVhbVwiKTtyZXR1cm4gci5vbkVycm9yKGUpLGUudGhyb3coaVApfWlmKCFhJiZcImVuYWJsZVwiPT09dCl7cyYmcy5zdG9wKCk7Y29uc3QgZT1uZXcgcE8oaE8uU0hBUkVfQVVESU9fTk9UX0FMTE9XRUQpO3JldHVybiByLm9uRXJyb3IoZSksZS50aHJvdyhpUCl9ZS5vcHRpbWl6YXRpb25Nb2RlfHwoZS5vcHRpbWl6YXRpb25Nb2RlPVwiZGV0YWlsXCIpLGUub3B0aW1pemF0aW9uTW9kZSYmKFZNKG4scyxlLGUuZW5jb2RlckNvbmZpZyYmTlAoZS5lbmNvZGVyQ29uZmlnKXx8dm9pZCAwKSxlLmVuY29kZXJDb25maWcmJlwic3RyaW5nXCIhPXR5cGVvZiBlLmVuY29kZXJDb25maWcmJihlLmVuY29kZXJDb25maWcuYml0cmF0ZU1pbj1lLmVuY29kZXJDb25maWcuYml0cmF0ZU1heCkpO2NvbnN0IGw9bmV3IGtNKHMsZS5lbmNvZGVyQ29uZmlnP05QKGUuZW5jb2RlckNvbmZpZyk6e30sZS5zY2FsYWJpbHR5TW9kZT9EUChlLnNjYWxhYmlsdHlNb2RlKTp7bnVtU3BhdGlhbExheWVyczoxLG51bVRlbXBvcmFsTGF5ZXJzOjF9LGUub3B0aW1pemF0aW9uTW9kZSxuLFtWUC5TQ1JFRU5fVFJBQ0tdKTtpZighYSlyZXR1cm4gci5vblN1Y2Nlc3MobC5nZXRUcmFja0lkKCkpLGlQLmluZm8oXCJjcmVhdGUgc2NyZWVuIHZpZGVvIHRyYWNrIHN1Y2Nlc3NcIixcInZpZGVvOlwiLGwuZ2V0VHJhY2tJZCgpKSxsO2NvbnN0IHU9bmV3IEJrKGEsdm9pZCAwLFNOKDgsXCJ0cmFjay1zY3ItYS1cIiksITEpO3JldHVybiByLm9uU3VjY2VzcyhbbC5nZXRUcmFja0lkKCksdS5nZXRUcmFja0lkKCldKSxpUC5pbmZvKFwiY3JlYXRlIHNjcmVlbiB2aWRlbyB0cmFjayBzdWNjZXNzXCIsXCJ2aWRlbzpcIixsLmdldFRyYWNrSWQoKSxcImF1ZGlvOlwiLHUuZ2V0VHJhY2tJZCgpKSxbbCx1XX0sY3JlYXRlTWljcm9waG9uZUFuZENhbWVyYVRyYWNrczphc3luYyBmdW5jdGlvbigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtjb25zdCBpPUNEKFwiQ0FNRVJBX0NBUFRVUkVfQ09ORklHXCIpLG49U04oOCxcInRyYWNrLW1pYy1cIikscj1TTig4LFwidHJhY2stY2FtLVwiKSxvPWxQLnJlcG9ydEFwaUludm9rZShudWxsLHtpZDpcIlwiLmNvbmNhdChuLFwiLVwiKS5jb25jYXQociksdGFnOmtPLlRSQUNFUixuYW1lOkxPLkNSRUFURV9NSUNfQU5EX0NBTV9UUkFDS1Msb3B0aW9uczpbZSx0LGldfSk7aSYmKHQuZW5jb2RlckNvbmZpZz1pKTtjb25zdCBzPXpMKHQpLGE9WEwoZSk7bGV0IGM9bnVsbCxkPW51bGw7aVAuaW5mbyhcInN0YXJ0IGNyZWF0ZSBjYW1lcmEgdmlkZW8gdHJhY2soXCIuY29uY2F0KHIsXCIpIGFuZCBtaWNyb3Bob25lIGF1ZGlvIHRyYWNrKFwiKS5jb25jYXQobixcIikgd2l0aCBjb25maWcsIGF1ZGlvOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpLFwiLCB2aWRlbzogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0KSkpO3RyeXtjb25zdCBlPWF3YWl0IHdMKHthdWRpbzphLHZpZGVvOnN9LFwiXCIuY29uY2F0KG4sXCItXCIpLmNvbmNhdChyKSk7Yz1lLmdldEF1ZGlvVHJhY2tzKClbMF0sZD1lLmdldFZpZGVvVHJhY2tzKClbMF19Y2F0Y2goZSl7dGhyb3cgby5vbkVycm9yKGUpLGV9aWYoIWN8fCFkKXtjb25zdCBlPW5ldyBwTyhoTy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHRyYWNrcyBpbiBtZWRpYSBzdHJlYW1cIik7cmV0dXJuIG8ub25FcnJvcihlKSxlLnRocm93KGlQKX1pZih0Lm9wdGltaXphdGlvbk1vZGUmJlZNKHIsZCx0LE9QKHQuZW5jb2RlckNvbmZpZykpLENEKFwiVVNFX1NUQU5EQVJEX0JJVFJBVEVfREVGQVVMVFwiKSl7Y29uc3QgZT1PUCh0LmVuY29kZXJDb25maWcpO3QuZW5jb2RlckNvbmZpZz1lLGRlbGV0ZSBlLmJpdHJhdGVNYXgsZGVsZXRlIGUuYml0cmF0ZU1pbn1jb25zdCBsPW5ldyBqayhjLGUsYSxuKSx1PW5ldyBNTShkLHQscyx0LnNjYWxhYmlsdHlNb2RlP0RQKHQuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sdC5vcHRpbWl6YXRpb25Nb2RlLHIpO3JldHVybiBvLm9uU3VjY2VzcyhbbC5nZXRUcmFja0lkKCksdS5nZXRUcmFja0lkKCldKSxpUC5pbmZvKFwiY3JlYXRlIGNhbWVyYSB2aWRlbyB0cmFjayhcIi5jb25jYXQocixcIikgYW5kIG1pY3JvcGhvbmUgYXVkaW8gdHJhY2soXCIpLmNvbmNhdChuLFwiKSBzdWNjZXNzXCIpKSxbbCx1XX0sY3JlYXRlTWljcm9waG9uZUF1ZGlvVHJhY2s6YXN5bmMgZnVuY3Rpb24oKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307Y29uc3QgdD1TTig4LFwidHJhY2stbWljLVwiKSxpPWxQLnJlcG9ydEFwaUludm9rZShudWxsLHtpZDp0LHRhZzprTy5UUkFDRVIsbmFtZTpMTy5DUkVBVEVfTUlDX0FVRElPX1RSQUNLLG9wdGlvbnM6W2VdfSksbj1YTChlKTtsZXQgcj1udWxsO2lQLmluZm8oXCJzdGFydCBjcmVhdGUgbWljcm9waG9uZSBhdWRpbyB0cmFjayB3aXRoIGNvbmZpZ1wiLEpTT04uc3RyaW5naWZ5KGUpLFwidHJhY2tJZFwiLHQpO3RyeXtyPShhd2FpdCB3TCh7YXVkaW86bn0sdCkpLmdldEF1ZGlvVHJhY2tzKClbMF18fG51bGx9Y2F0Y2goZSl7dGhyb3cgaS5vbkVycm9yKGUpLGV9aWYoIXIpe2NvbnN0IGU9bmV3IHBPKGhPLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgdHJhY2sgaW4gbWVkaWEgc3RyZWFtXCIpO3JldHVybiBpLm9uRXJyb3IoZSksZS50aHJvdyhpUCl9Y29uc3Qgbz1uZXcgamsocixlLG4sdCk7cmV0dXJuIGkub25TdWNjZXNzKG8uZ2V0VHJhY2tJZCgpKSxpUC5pbmZvKFwiY3JlYXRlIG1pY3JvcGhvbmUgYXVkaW8gdHJhY2sgc3VjY2VzcywgdHJhY2tJZDpcIix0KSxvfSxjcmVhdGVDdXN0b21BdWRpb1RyYWNrOlVNLGNyZWF0ZUJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2s6YXN5bmMgZnVuY3Rpb24oZSl7dmFyIHQ7Y29uc3R7Y2FjaGVPbmxpbmVGaWxlOmksZW5jb2RlckNvbmZpZzpufT1lO2xldHtzb3VyY2U6cn09ZTtjb25zdCBvPXtzb3VyY2U6ciBpbnN0YW5jZW9mIEF1ZGlvQnVmZmVyP1wiQXVkaW9CdWZmZXJcIjpyIGluc3RhbmNlb2YgRmlsZT9udWxsIT09KHQ9RmlsZS5uYW1lKSYmdm9pZCAwIT09dD90OlwiRmlsZVwiOnIsY2FjaGVPbmxpbmVGaWxlOmksZW5jb2RlckNvbmZpZzpufSxzPVNOKDgsXCJ0cmFjay1idWYtXCIpLGE9bFAucmVwb3J0QXBpSW52b2tlKG51bGwse2lkOnMsdGFnOmtPLlRSQUNFUixuYW1lOkxPLkNSRUFURV9CVUZGRVJfQVVESU9fVFJBQ0ssb3B0aW9uczpbb119KTtpZihDRChcIkRJU0FCTEVfV0VCQVVESU9cIikpdGhyb3cgbmV3IHBPKGhPLk5PVF9TVVBQT1JURUQsXCJjYW4gbm90IGNyZWF0ZSBCdWZmZXJTb3VyY2VBdWRpb1RyYWNrIHdoZW4gV2ViQXVkaW8gZGlzYWJsZWRcIik7aVAuaW5mbyhcInN0YXJ0IGNyZWF0ZSBidWZmZXIgc291cmNlIGF1ZGlvIHRyYWNrIHdpdGggY29uZmlnXCIsSlNPTi5zdHJpbmdpZnkobyksXCJ0cmFja0lkXCIscyk7Y29uc3QgYz1yO2lmKCEociBpbnN0YW5jZW9mIEF1ZGlvQnVmZmVyKSl0cnl7cj1hd2FpdCBhc3luYyBmdW5jdGlvbihlLHQpe2xldCBpPW51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHQ9S2suZ2V0KGUpO2lmKHQpcmV0dXJuIGlQLmRlYnVnKFwidXNlIGNhY2hlZCBhdWRpbyByZXNvdXJjZTogXCIsZSksdDt0cnl7aT0oYXdhaXQgVU4oKCgpPT5Udy5nZXQoZSx7cmVzcG9uc2VUeXBlOlwiYXJyYXlidWZmZXJcIn0pKSx2b2lkIDAsdm9pZCAwLHttYXhSZXRyeUNvdW50OjN9KSkuZGF0YX1jYXRjaChlKXt0aHJvdyBuZXcgcE8oaE8uRkVUQ0hfQVVESU9fRklMRV9GQUlMRUQsZS50b1N0cmluZygpKX19ZWxzZXtjb25zdCB0PW5ldyBycCgoKHQsaSk9Pntjb25zdCBuPW5ldyBGaWxlUmVhZGVyO24ub25sb2FkPWU9PntlLnRhcmdldD90KGUudGFyZ2V0LnJlc3VsdCk6aShuZXcgcE8oaE8uUkVBRF9MT0NBTF9BVURJT19GSUxFX0VSUk9SKSl9LG4ub25lcnJvcj0oKT0+e2kobmV3IHBPKGhPLlJFQURfTE9DQUxfQVVESU9fRklMRV9FUlJPUikpfSxuLnJlYWRBc0FycmF5QnVmZmVyKGUpfSkpO2k9YXdhaXQgdH1jb25zdCBuPWF3YWl0IGZ1bmN0aW9uKGUpe2NvbnN0IHQ9RUwoKTtyZXR1cm4gbmV3IHJwKCgoaSxuKT0+e3QuZGVjb2RlQXVkaW9EYXRhKGUsKGU9PntpKGUpfSksKGU9PntuKG5ldyBwTyhoTy5ERUNPREVfQVVESU9fRklMRV9GQUlMRUQsZS50b1N0cmluZygpKSl9KSl9KSl9KGkpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiZ0JiZLay5zZXQoZSxuKSxufShyLGkpfWNhdGNoKGUpe3JldHVybiBhLm9uRXJyb3IoZSksZS50aHJvdyhpUCl9Y29uc3QgZD1uZXcgSGsociksbD1uZXcgR2soYyxkLG4/TFAobik6e30scyk7cmV0dXJuIGlQLmluZm8oXCJjcmVhdGUgYnVmZmVyIHNvdXJjZSBhdWRpbyB0cmFjayBzdWNjZXNzLCB0cmFja0lkOlwiLHMpLGEub25TdWNjZXNzKGwuZ2V0VHJhY2tJZCgpKSxsfSxzZXRBcHBUeXBlOmZ1bmN0aW9uKGUpe2lmKGlQLmRlYnVnKFwic2V0QXBwVHlwZTogXCIuY29uY2F0KGUpKSwhKE51bWJlci5pc0ludGVnZXIoZSkmJmU+PTApKXRocm93IGlQLmRlYnVnKFwiSW52YWxpZCBhcHBUeXBlXCIpLG5ldyB1UChoTy5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgYXBwIHR5cGVcIixlKTtSRChcIkFQUF9UWVBFXCIsTWF0aC5mbG9vcihlKSl9LHNldExvZ0xldmVsOmZ1bmN0aW9uKGUpe2lQLnNldExvZ0xldmVsKGUpfSxlbmFibGVMb2dVcGxvYWQ6ZnVuY3Rpb24oKXtDRChcIlVTRV9ORVdfTE9HXCIpP1JEKFwiVVBMT0FEX0xPR1wiLCEwKTppUC5lbmFibGVMb2dVcGxvYWQoKX0sZGlzYWJsZUxvZ1VwbG9hZDpmdW5jdGlvbigpe0NEKFwiVVNFX05FV19MT0dcIik/UkQoXCJVUExPQURfTE9HXCIsITEpOmlQLmRpc2FibGVMb2dVcGxvYWQoKX0sY3JlYXRlQ2hhbm5lbE1lZGlhUmVsYXlDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvan0sY2hlY2tBdWRpb1RyYWNrSXNBY3RpdmU6YXN5bmMgZnVuY3Rpb24oZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjVlMztjb25zdCBpPWxQLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6a08uVFJBQ0VSLG5hbWU6TE8uQ0hFQ0tfQVVESU9fVFJBQ0tfSVNfQUNUSVZFLG9wdGlvbnM6W3RdfSk7aWYoIShlIGluc3RhbmNlb2YgQmt8fGUgaW5zdGFuY2VvZiAkTSkpe2NvbnN0IGU9bmV3IHVQKGhPLklOVkFMSURfVFJBQ0ssXCJ0aGUgcGFyYW1ldGVyIGlzIG5vdCBhIGF1ZGlvIHRyYWNrXCIpO3JldHVybiBpLm9uRXJyb3IoZSksZS50aHJvdygpfXQmJnQ8MWUzJiYodD0xZTMpO2NvbnN0IG49ZSBpbnN0YW5jZW9mIEJrP2UuZ2V0VHJhY2tMYWJlbCgpOlwicmVtb3RlX3RyYWNrXCIscj1lLmdldFZvbHVtZUxldmVsKCk7bGV0IG89cixzPXI7Y29uc3QgYT1EYXRlLm5vdygpO3JldHVybiBuZXcgcnAoKHI9Pntjb25zdCBjPXNldEludGVydmFsKCgoKT0+e2NvbnN0IGQ9ZS5nZXRWb2x1bWVMZXZlbCgpO289ZD5vP2Q6byxzPWQ8cz9kOnM7Y29uc3QgbD1vLXM+MWUtNCx1PURhdGUubm93KCktYTtpZihsfHx1PnQpe2NsZWFySW50ZXJ2YWwoYyk7Y29uc3QgdD1sLHM9e2R1cmF0aW9uOnUsZGV2aWNlTGFiZWw6bixtYXhWb2x1bWVMZXZlbDpvLHJlc3VsdDp0fTtpUC5pbmZvKFwiW3RyYWNrLVwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gY2hlY2sgYXVkaW8gdHJhY2sgYWN0aXZlIGNvbXBsZXRlZC4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShzKSkpLGkub25TdWNjZXNzKHMpLHIodCl9fSksMjAwKX0pKX0sY2hlY2tWaWRlb1RyYWNrSXNBY3RpdmU6YXN5bmMgZnVuY3Rpb24oZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjVlMztjb25zdCBpPWxQLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6a08uVFJBQ0VSLG5hbWU6TE8uQ0hFQ0tfVklERU9fVFJBQ0tfSVNfQUNUSVZFLG9wdGlvbnM6W3RdfSk7aWYoIShlIGluc3RhbmNlb2Yga018fGUgaW5zdGFuY2VvZiBaTSkpe2NvbnN0IGU9bmV3IHVQKGhPLklOVkFMSURfVFJBQ0ssXCJ0aGUgcGFyYW1ldGVyIGlzIG5vdCBhIHZpZGVvIHRyYWNrXCIpO3JldHVybiBpLm9uRXJyb3IoZSksZS50aHJvdygpfXQmJnQ8MWUzJiYodD0xZTMpO2NvbnN0IG49ZSBpbnN0YW5jZW9mIGtNP2UuZ2V0VHJhY2tMYWJlbCgpOlwicmVtb3RlX3RyYWNrXCIscj1lLmdldE1lZGlhU3RyZWFtVHJhY2soITApLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO28uc3R5bGUud2lkdGg9XCIxcHhcIixvLnN0eWxlLmhlaWdodD1cIjFweFwiLG8uc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSxvLm11dGVkPSEwLG8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxvLmNvbnRyb2xzPSExLChWdygpfHxNdygpKSYmKG8uc3R5bGUub3BhY2l0eT1cIjAuMDFcIixvLnN0eWxlLnBvc2l0aW9uPVwiZml4ZWRcIixvLnN0eWxlLmxlZnQ9XCIwXCIsby5zdHlsZS50b3A9XCIwXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvKSksby5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtyXSksby5wbGF5KCk7Y29uc3Qgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Mud2lkdGg9MTYwLHMuaGVpZ2h0PTEyMDtsZXQgYT0wLGM9MDt0cnl7Y29uc3QgZT1EYXRlLm5vdygpO2E9YXdhaXQgZnVuY3Rpb24oZSx0LGksbil7bGV0IHIsbz0wLHM9bnVsbDtyZXR1cm4gbmV3IHJwKCgoYSxjKT0+e2Z1bmN0aW9uIGQoKXtvPm4mJnImJihyKCksYShvKSk7Y29uc3QgdD1pLmdldENvbnRleHQoXCIyZFwiKTtpZighdCl7Y29uc3QgZT1uZXcgdVAoaE8uVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2V0IGNhbnZhcyAyZCBjb250ZXh0LlwiKTtyZXR1cm4gaVAuZXJyb3IoZS50b1N0cmluZygpKSx2b2lkIGMoZSl9dC5kcmF3SW1hZ2UoZSwwLDAsMTYwLDEyMCk7Y29uc3QgZD10LmdldEltYWdlRGF0YSgwLDAsaS53aWR0aCxpLmhlaWdodCksbD1NYXRoLmZsb29yKGQuZGF0YS5sZW5ndGgvMyk7aWYocyl7Zm9yKGxldCBlPTA7ZTxsO2UrPTMpaWYoZC5kYXRhW2VdIT09c1tlXSlyZXR1cm4gbys9MSx2b2lkKHM9ZC5kYXRhKTtzPWQuZGF0YX1lbHNlIHM9ZC5kYXRhfXNldFRpbWVvdXQoKCgpPT57ciYmKHIoKSxhKG8pKX0pLHQpLHI9U0woKCgpPT57ZCgpfSksMzApfSkpfShvLHQscyw0KSxjPURhdGUubm93KCktZX1jYXRjaChlKXt0aHJvdyBpLm9uRXJyb3IoZSksZX1BRz09PWJ3LlNBRkFSSSYmKG8ucGF1c2UoKSxvLnJlbW92ZSgpKSxvLnNyY09iamVjdD1udWxsO2NvbnN0IGQ9YT40LGw9e2R1cmF0aW9uOmMsY2hhbmdlZFBpY051bTphLGRldmljZUxhYmVsOm4scmVzdWx0OmR9O3JldHVybiBpUC5pbmZvKFwiW3RyYWNrLVwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gY2hlY2sgdmlkZW8gdHJhY2sgYWN0aXZlIGNvbXBsZXRlZC4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShsKSkpLGkub25TdWNjZXNzKGwpLGR9LHNldEFyZWE6dkIsYXVkaW9FbGVtZW50UGxheUNlbnRlcjp4TCxyZXN1bWVBdWRpb0NvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4geEwuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uKCEwKX0scHJvY2Vzc0V4dGVybmFsTWVkaWFBRUM6ZnVuY3Rpb24oZSl7REgucHJvY2Vzc0V4dGVybmFsTWVkaWFBRUMoZSl9LHJlZ2lzdGVyRXh0ZW5zaW9uczpmdW5jdGlvbihlKXtjb25zdCB0PUNEKFwiUExVR0lOX0lORk9cIil8fFtdO2UuZm9yRWFjaCgoZT0+e1wibmFtZVwiaW4gZSYmIUxuKHQpLmNhbGwodCxlLm5hbWUpJiZ0LnB1c2goZS5uYW1lKTtjb25zdCBpPWU7aS5fX3JlZ2lzdGVyZWRfXz0hMCxpLmxvZ2dlci5ob29rTG9nPWlQLmV4dExvZyxpLnJlcG9ydGVyLmhvb2tBcGlJbnZva2U9bFAuZXh0QXBpSW52b2tlLGkucGFyYW1ldGVycyYmT2JqZWN0LmtleXMoaS5wYXJhbWV0ZXJzKS5mb3JFYWNoKChlPT57aS5wYXJhbWV0ZXJzW2VdPUNEKGUpfSkpfSkpLFRKKFwiUExVR0lOX0lORk9cIix0KX0sQ2hhbm5lbE1lZGlhUmVsYXlFcnJvcjpyeCxDaGFubmVsTWVkaWFSZWxheUV2ZW50Oml4LENoYW5uZWxNZWRpYVJlbGF5U3RhdGU6bngsUmVtb3RlU3RyZWFtRmFsbGJhY2tUeXBlOkJQLFJlbW90ZVN0cmVhbVR5cGU6RlAsQ29ubmVjdGlvbkRpc2Nvbm5lY3RlZFJlYXNvbjpWTyxBdWRpZW5jZUxhdGVuY3lMZXZlbFR5cGU6VU8sQVJFQVM6ZHgscHJlbG9hZDphc3luYyBmdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4gR0coZSx0LGksbil9LHN0YXJ0TGFzdG1pbGVQcm9iZVRlc3Q6YXN5bmMgZnVuY3Rpb24oZSx0LGksbil7bGV0IHI9e3N0YXRlOlwidW5hdmFpbGFibGVcIn07YXdhaXQgR0coZSx0LGksbik7Y29uc3Qgbz1hd2FpdCBXRyh7YXBwSWQ6ZSxjbmFtZTp0LHRva2VuOml8fGUsdWlkOm4sY2xvdWRQcm94eVNlcnZlcjpcImRpc2FibGVkXCJ9KTtpZighbylyZXR1cm4gcjthd2FpdCBLRyhvKTtsZXQgcyxhPUlIKHttb2RlOlwicnRjXCIsY29kZWM6XCJ2cDhcIn0pO3RyeXtzPWF3YWl0IGEuam9pbihlLHQsaSxuLHtuZXR3b3JrUXVhbGl0eVByb2JlOiEwfSl9Y2F0Y2goZSl7cmV0dXJuIHJ9Y29uc3QgYz1uZXcgakcsZD1jLmNyZWF0ZU11dGVBdWRpb1RyYWNrKCk7bGV0IGw9YXdhaXQgVU0oe21lZGlhU3RyZWFtVHJhY2s6ZH0pO2F3YWl0IGEucHVibGlzaChbbF0pO2xldFt1LGgscF09YXdhaXQgbmV3IHJwKCgoZSx0KT0+e2NvbnN0IGk9c2V0VGltZW91dCgoKCk9PntjbGVhclRpbWVvdXQoaSksZShbITAsbnVsbCxcImF1ZGlvXCJdKX0pLDVlMyk7YS5vbihcInVzZXItcHVibGlzaGVkXCIsKGFzeW5jKHQsbik9Pnt0LnVpZD09PXMmJihjbGVhclRpbWVvdXQoaSksZShbITEsdCxuXSkpfSkpfSkpO2lmKHV8fCFoKXJldHVybiBhd2FpdCBhLnVucHVibGlzaChbbF0pLGF3YWl0IGEubGVhdmUoKSxsLmNsb3NlKCksYy5jbG9zZSgpLHI7YXdhaXQgYS5zdWJzY3JpYmUoaCxwKSxhd2FpdCBuZXcgcnAoKChlLHQpPT57Y29uc3QgaT1zZXRUaW1lb3V0KCgoKT0+e2NsZWFyVGltZW91dChpKSxlKG51bGwpfSksNWUzKX0pKTtsZXQgXz1hLmdldFJUQ1N0YXRzKCksRT1hLmdldExvY2FsQXVkaW9TdGF0cygpO2NvbnN0IG09Xy5SVFQsZj1FLnNlbmRKaXR0ZXJNcyxTPUUuY3VycmVudFBhY2tldExvc3NSYXRlO3JldHVybiByPXtzdGF0ZTpcImNvbXBsZXRlXCIscnR0Om0scGFja2V0TG9zc1JhdGU6UyxqaXR0ZXI6ZixuZXR3b3JrUXVhbGl0eTooKGUsdCxpKT0+e2xldCBuPTE7aWYoaT4wKXtsZXQgZT1NYXRoLmxvZygxMDAqaSkvTWF0aC5sb2coMikrMTtlPU1hdGgubWluKDUsTWF0aC5tYXgoMCxlKSksbj0xLWUvNX1sZXQgcj0xO2lmKGU+MCl7bGV0IHQ9TWF0aC5sb2coZS80MCkvTWF0aC5sb2coMikrMTt0PU1hdGgubWluKDUsTWF0aC5tYXgoMCx0KSkscj0xLXQvNX1sZXQgbz0xO2lmKHQ+MCl7bGV0IGU9TWF0aC5sb2codC8xMCkvTWF0aC5sb2coMi41KSsxO2U9TWF0aC5taW4oNSxNYXRoLm1heCgwLGUpKSxvPTEtZS81fWNvbnN0IHM9LjUqbisuMypyKy4yKm87bGV0IGE9MDtyZXR1cm4gYT1zPj0uOD8xOnM+PS42PzI6cz49LjQ/MzpzPj0uMj80OjUsYX0pKG0sZixTKX0sYXdhaXQgYS51bnN1YnNjcmliZShoKSxhd2FpdCBhLnVucHVibGlzaChbbF0pLGF3YWl0IGEubGVhdmUoKSxsLmNsb3NlKCksYy5jbG9zZSgpLGF3YWl0IEtHKG8pLHJ9fSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJKLHtvbkF1ZGlvQXV0b3BsYXlGYWlsZWQ6e2dldDooKT0+a0wub25BdWRpb0F1dG9wbGF5RmFpbGVkLHNldDplPT57a0wub25BdWRpb0F1dG9wbGF5RmFpbGVkPWV9fSxvbkF1dG9wbGF5RmFpbGVkOntnZXQ6KCk9PmtMLm9uQXV0b3BsYXlGYWlsZWQsc2V0OmU9PntrTC5vbkF1dG9wbGF5RmFpbGVkPWV9fSxfb25TZWN1cml0eVBvbGljeVZpb2xhdGlvbjp7dmFsdWU6dm9pZCAwLHdyaXRhYmxlOiEwfSxfY3NwRXZlbnRIYW5kbGVyUG9pbnRlcjp7dmFsdWU6dm9pZCAwLHdyaXRhYmxlOiEwfSxvblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uOntnZXQ6KCk9PlJKLl9vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uLHNldChlKXtSSi5fb25TZWN1cml0eVBvbGljeVZpb2xhdGlvbj1lLE1IKGUpfX0sX19DTElFTlRfTElTVF9fOntnZXQ6KCk9PkNEKFwiU0hPV19HTE9CQUxfQ0xJRU5UX0xJU1RcIik/S1U6W119fSksUEwub24oZUwuQ0FNRVJBX0RFVklDRV9DSEFOR0VELChlPT57aVAuaW5mbyhcImNhbWVyYSBkZXZpY2UgY2hhbmdlZFwiLEpTT04uc3RyaW5naWZ5KGUpKSxSSi5vbkNhbWVyYUNoYW5nZWQmJlJKLm9uQ2FtZXJhQ2hhbmdlZChlKSxSSi5zYWZlRW1pdChPeC5DQU1FUkFfQ0hBTkdFRCxlKX0pKSxQTC5vbihlTC5SRUNPUkRJTkdfREVWSUNFX0NIQU5HRUQsKGU9PntpUC5pbmZvKFwibWljcm9waG9uZSBkZXZpY2UgY2hhbmdlZFwiLEpTT04uc3RyaW5naWZ5KGUpKSxSSi5vbk1pY3JvcGhvbmVDaGFuZ2VkJiZSSi5vbk1pY3JvcGhvbmVDaGFuZ2VkKGUpLFJKLnNhZmVFbWl0KE94Lk1JQ1JPUEhPTkVfQ0hBTkdFRCxlKX0pKSxQTC5vbihlTC5QTEFZT1VUX0RFVklDRV9DSEFOR0VELChlPT57aVAuZGVidWcoXCJwbGF5b3V0IGRldmljZSBjaGFuZ2VkXCIsSlNPTi5zdHJpbmdpZnkoZSkpLFJKLm9uUGxheWJhY2tEZXZpY2VDaGFuZ2VkJiZSSi5vblBsYXliYWNrRGV2aWNlQ2hhbmdlZChlKSxSSi5zYWZlRW1pdChPeC5QTEFZQkFDS19ERVZJQ0VfQ0hBTkdFRCxlKX0pKSx4TC5vbkF1dG9wbGF5RmFpbGVkPSgpPT57aVAuaW5mbyhcImRldGVjdCBhdWRpbyBlbGVtZW50IGF1dG9wbGF5IGZhaWxlZFwiKSxrTC5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQmJmtMLm9uQXVkaW9BdXRvcGxheUZhaWxlZCgpfSxfTC5vbihcImF1dG9wbGF5LWZhaWxlZFwiLCgoKT0+e2lQLmluZm8oXCJkZXRlY3Qgd2ViYXVkaW8gYXV0b3BsYXkgZmFpbGVkXCIpLGtMLm9uQXVkaW9BdXRvcGxheUZhaWxlZCYma0wub25BdWRpb0F1dG9wbGF5RmFpbGVkKCksUkouc2FmZUVtaXQoT3guQVVUT1BMQVlfRkFJTEVEKX0pKSxfTC5vbihSUC5TVEFURV9DSEFOR0UsKChlLHQpPT57aVAuaW5mbyhcImF1ZGlvIGNvbnRleHQgc3RhdGUgY2hhbmdlZDogXCIuY29uY2F0KHQsXCIgPT4gXCIpLmNvbmNhdChlKSksUkoub25BdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQmJlJKLm9uQXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkKGUsdCksUkouc2FmZUVtaXQoT3guQVVESU9fQ09OVEVYVF9TVEFURV9DSEFOR0VELGUsdCl9KSksUU8ub24oWU8uTkVUV09SS19TVEFURV9DSEFOR0UsKChlLHQpPT57aVAuaW5mbyhcIltuZXR3b3JrLWluZGljYXRvcl0gbmV0d29yayBzdGF0ZSBjaGFuZ2VkLCBcIi5jb25jYXQodCxcIiA9PiBcIikuY29uY2F0KGUpKX0pKSx3aW5kb3cmJih3aW5kb3cuX19BUlRDX189UkopLFJKfSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js\n");

/***/ })

};
;